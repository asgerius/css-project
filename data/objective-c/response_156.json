[{"tags": ["ios", "objective-c", "uitextview", "ios11"], "comments": [{"owner": {"reputation": 931, "user_id": 4064503, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bnHuv.jpg?s=128&g=1", "display_name": "Zuzana Paulis", "link": "https://stackoverflow.com/users/4064503/zuzana-paulis"}, "edited": false, "score": 0, "creation_date": 1515085305, "post_id": 48086394, "comment_id": 83175262, "body": "How are you adding your custom toolbar into View are you using AutoLayout or are you adding it programmatically?"}, {"owner": {"reputation": 11, "user_id": 4239992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a160c0cfcdbe563067caef635cee7bb?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Peterson", "link": "https://stackoverflow.com/users/4239992/matthew-peterson"}, "reply_to_user": {"reputation": 931, "user_id": 4064503, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bnHuv.jpg?s=128&g=1", "display_name": "Zuzana Paulis", "link": "https://stackoverflow.com/users/4064503/zuzana-paulis"}, "edited": false, "score": 0, "creation_date": 1515099931, "post_id": 48086394, "comment_id": 83182543, "body": "Programatically.  And I figured out how to fix.  This is a pre-exisitng issue.  See <a href=\"https://stackoverflow.com/questions/46282987/iphone-x-how-to-handle-view-controller-inputaccessoryview\" title=\"iphone x how to handle view controller inputaccessoryview\">stackoverflow.com/questions/46282987/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 4239992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a160c0cfcdbe563067caef635cee7bb?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Peterson", "link": "https://stackoverflow.com/users/4239992/matthew-peterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515020571, "creation_date": 1515020571, "question_id": 48086394, "link": "https://stackoverflow.com/questions/48086394/ios-11-toolbar-set-as-uitextviews-inputview-appears-outside-of-safe-area", "title": "IOS 11 toolbar set as UITextView&#39;s inputView appears outside of safe area", "body": "<p>I had made a UIToolbar to use as a custom input controller for a UITextView.  The code was as simple as:</p>\n\n<pre><code>_textView.inputView = myCustomToolbar;\n[_textView reloadInputViews];\n</code></pre>\n\n<p>However in iOS 11 this custom toolbar appears below the safe area at the bottom of the screen.  Obviously Apple has a way around this, but I'm not sure what I'm doing incorrectly in this case.</p>\n"}, {"tags": ["ios", "objective-c", "email", "gmail-api"], "comments": [{"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1515057189, "post_id": 48083243, "comment_id": 83158246, "body": "According to Managing POP and IMAP docs, you can configure the disposition of messages retrieved via POP with the <a href=\"https://developers.google.com/gmail/api/guides/pop_imap_settings#message_disposition\" rel=\"nofollow noreferrer\">disposition property</a>. Check the <a href=\"https://developers.google.com/gmail/api/v1/reference/users/settings/updatePop\" rel=\"nofollow noreferrer\">Users.settings: updatePop</a> method which allows you to use the disposition property. disposition property can accept &#39;archive&#39; value which archives the message."}, {"owner": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "edited": false, "score": 0, "creation_date": 1515097914, "post_id": 48083243, "comment_id": 83181619, "body": "I believe OP is using the Gmail API, not POP or IMAP."}], "answers": [{"tags": [], "owner": {"reputation": 12703, "user_id": 584597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d519ba6b69a89cc8ec99001eea2059b?s=128&d=identicon&r=PG", "display_name": "payne", "link": "https://stackoverflow.com/users/584597/payne"}, "is_accepted": false, "score": 1, "last_activity_date": 1515098222, "creation_date": 1515098222, "answer_id": 48103187, "question_id": 48083243, "link": "https://stackoverflow.com/questions/48083243/how-to-move-a-gmail-thread-email-to-the-archive-folder-obj-c/48103187#48103187", "title": "How to move a gmail thread (email) to the archive folder? (Obj-C)", "body": "<p>Gmail does not have an \"archive\" folder, per se, but as you note:  removing the INBOX label will remove the message from the standard inbox views.</p>\n\n<p>This is done using the <code>Users.messages.modify</code> operation, with the <code>removeLabelIds</code> argument as INBOX.  </p>\n\n<p>See this page, which includes examples:  <a href=\"https://developers.google.com/gmail/api/v1/reference/users/messages/modify\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/v1/reference/users/messages/modify</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4829955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8f6c3139302ead80583d0ff53fe4017?s=128&d=identicon&r=PG&f=1", "display_name": "Emma Nagel", "link": "https://stackoverflow.com/users/4829955/emma-nagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515098222, "creation_date": 1515004558, "question_id": 48083243, "link": "https://stackoverflow.com/questions/48083243/how-to-move-a-gmail-thread-email-to-the-archive-folder-obj-c", "title": "How to move a gmail thread (email) to the archive folder? (Obj-C)", "body": "<p>From searching around I belive that the answer is to remove the INBOX label from the thread and that should do it but Im not sure if thats correct and Im not sure how to do that either, after spending hourse trying to figure out how. This is what I have so far to query threads</p>\n\n<pre><code>- (void)fetchThreads{\n\n    self.output1.text = @\"\\n Getting threads...\";\n    GTLRGmailQuery_UsersThreadsList *query = [GTLRGmailQuery_UsersThreadsList queryWithUserId:@\"me\"];\n\n    query.q = @\"in:inbox\";\n    query.userId = @\"me\";\n    self.service.shouldFetchNextPages = true;\n    [self.service executeQuery:query delegate:self didFinishSelector:@selector(displayResultWithTicket2:finishedWithObject:error:)];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "search", "realm"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1515005686, "post_id": 48083162, "comment_id": 83141568, "body": "Answer updated with Objective-C solution"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 2444737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7a556b2f617f8ad332f56812df660a?s=128&d=identicon&r=PG&f=1", "display_name": "Naor Levi", "link": "https://stackoverflow.com/users/2444737/naor-levi"}, "edited": false, "score": 0, "creation_date": 1515063566, "post_id": 48083244, "comment_id": 83162022, "body": "I am aware of that method, however, it will not help me in my case. I am not looking to sort by keyPath, but rather by relevance to a certain search term."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 119, "user_id": 2444737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7a556b2f617f8ad332f56812df660a?s=128&d=identicon&r=PG&f=1", "display_name": "Naor Levi", "link": "https://stackoverflow.com/users/2444737/naor-levi"}, "edited": false, "score": 0, "creation_date": 1515064712, "post_id": 48083244, "comment_id": 83162662, "body": "Check my answer again @NaorLevi and let me know"}, {"owner": {"reputation": 119, "user_id": 2444737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7a556b2f617f8ad332f56812df660a?s=128&d=identicon&r=PG&f=1", "display_name": "Naor Levi", "link": "https://stackoverflow.com/users/2444737/naor-levi"}, "edited": false, "score": 0, "creation_date": 1515319120, "post_id": 48083244, "comment_id": 83249387, "body": "I am aware that in the example you gave the sorting will be correct, however, if we use the example I gave in the question, your answer will not work - if my Person will contain &quot;Sandro&quot; and &quot;Alessandro&quot; instead of &quot;Reinier&quot; and &quot;Test&quot;, and <code>searchTerm</code> will be &quot;Sandro&quot; I would like to see &quot;Sandro&quot; before &quot;Alessandro&quot;. With your answer I will see &quot;Alessandro&quot; first."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 119, "user_id": 2444737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7a556b2f617f8ad332f56812df660a?s=128&d=identicon&r=PG&f=1", "display_name": "Naor Levi", "link": "https://stackoverflow.com/users/2444737/naor-levi"}, "edited": false, "score": 0, "creation_date": 1515319225, "post_id": 48083244, "comment_id": 83249415, "body": "You want your result ordered by similitude with your search is that what you want? @NaorLevi"}], "tags": [], "owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "is_accepted": false, "score": 0, "last_activity_date": 1515064697, "last_edit_date": 1515064697, "creation_date": 1515004559, "answer_id": 48083244, "question_id": 48083162, "link": "https://stackoverflow.com/questions/48083162/advanced-search-in-realm-ios/48083244#48083244", "title": "Advanced search in realm iOS", "body": "<p>In <code>Objective-C</code> you need to declare a <code>RLMResult</code> object to get the array of Person objects and using the <code>sortedResultUsingKeyPath</code> method you can sort your result</p>\n\n<p><strong>Try with this</strong></p>\n\n<p><strong>In Objective-C</strong></p>\n\n<pre><code>RLMRealm * realm = [RLMRealm defaultRealm];\n[realm transactionWithBlock:^{\n    [realm addObject:[Person personWithFirstName:@\"Reinier\"]];\n    [realm addObject:[Person personWithFirstName:@\"Test\"]];\n}];\n\nNSString * searchValue = @\"Re\";\n\n//Here we search for objects that containts in the firstName the value of searchValue string\nRLMResults * result2 = [[Person objectsWithPredicate:[NSPredicate predicateWithFormat:@\"firstName CONTAINS %@\",searchValue]] sortedResultsUsingKeyPath:@\"firstName\"  ascending:true];\nNSMutableArray * arrayOfPerson = [NSMutableArray array];\nfor (int i = 0; i&lt; [result2 count];i++)\n{\n    [arrayOfPerson addObject:[result2 objectAtIndex:i]];\n}\n\nNSLog(@\"%@\",arrayOfPerson);\n</code></pre>\n\n<p><strong>this is in Swift</strong></p>\n\n<pre><code>yourArrayOfPersons = realm?.objects(Person.self).sorted(byKeyPath: \"firstName\")\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 2444737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7a556b2f617f8ad332f56812df660a?s=128&d=identicon&r=PG&f=1", "display_name": "Naor Levi", "link": "https://stackoverflow.com/users/2444737/naor-levi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515064697, "creation_date": 1515004171, "question_id": 48083162, "link": "https://stackoverflow.com/questions/48083162/advanced-search-in-realm-ios", "title": "Advanced search in realm iOS", "body": "<p>I want to perform a search on an entity I have (using <code>realm-cocoa</code>)\nFor example:</p>\n\n<pre><code>@interface Person : RLMObject\n@property NSString *firstName;\n@property NSString *lastName;\n@property NSString *nickName;\n@end\n</code></pre>\n\n<p>I have a <code>UIViewController</code> that holds a <code>UITableView</code> that is displaying a list of all the <code>Person</code> entities, I also have a <code>UISearchBar</code> above the table.</p>\n\n<p>Now,\nWhat I want is when a user enters certain text in the search bar, to search if this text is contained <strong>in any of my properties</strong>, also, I want to sort the results based on relevance. </p>\n\n<p>For example, if have have a person named Sandro and another named Alessandro, when i'm searching for the text 'Sandro' I want to see the person named Sandro first, if i search 'San' I want to sort alphabetically (meaning Alessandro will be first). </p>\n\n<p>I have not found a method in <code>realm</code> that can help me achieve this.</p>\n"}, {"tags": ["objective-c", "audio", "signal-processing", "fft", "ezaudio"], "comments": [{"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1515004936, "post_id": 48082946, "comment_id": 83141164, "body": "What do you mean by &quot;full realtime frequency&quot;?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9103183"}, "reply_to_user": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1515011701, "post_id": 48082946, "comment_id": 83144259, "body": "I&#39;ve generated a few pure sine tones with Audacity at different frequencies to test with. The issue I&#39;m seeing is that the code is returning the same frequency for two different sine tones that are relatively close in value.  For example: A sine tone generated at 19255Hz will show up from FFT as 19293.750000Hz. So will a sine tone generated at 19330Hz. Something must be off in the calculations.  Any assistance in how I can modify the above code to get a more precise FFT frequency reading for pure sine tones is greatly appreciated. Thank you!"}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1515011910, "post_id": 48082946, "comment_id": 83144338, "body": "How large is the buffer that you&#39;re performing the FFT on? It may be too small to distinguish those frequencies."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9103183"}, "reply_to_user": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1515012208, "post_id": 48082946, "comment_id": 83144458, "body": "buffer size is 4096... I have another example with AudioKit and it works but with EZAudio not... the same problem with low and high frequencies ... for example 93hz will show up from FFT as 96.899414"}], "answers": [{"tags": [], "owner": {"reputation": 67919, "user_id": 341750, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/JgAmt.png?s=128&g=1", "display_name": "hotpaw2", "link": "https://stackoverflow.com/users/341750/hotpaw2"}, "is_accepted": false, "score": 1, "last_activity_date": 1515082151, "last_edit_date": 1515082151, "creation_date": 1515013150, "answer_id": 48085043, "question_id": 48082946, "link": "https://stackoverflow.com/questions/48082946/more-precise-frequency-from-fft-with-ezaudio/48085043#48085043", "title": "More precise frequency from FFT with EZAudio?", "body": "<p>You are looking at just the frequency of one magnitude FFT result bin, which quantizes frequencies to dF = sample_rate/N.  You can use a larger N (longer FFT) to get a smaller quantization.  In low noise and interference, zero padding your sample data to allow a longer FFT might work to increase plot resolution.</p>\n\n<p>To get an even better estimate of frequency, you have to estimate between the FFT result bins using something like windowed-Sinc interpolation, plus perhaps successive approximation, to find the spectral frequency peak nearest the maximum magnitude FFT result bin.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9103183"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515082151, "creation_date": 1515003279, "last_edit_date": 1515013029, "question_id": 48082946, "link": "https://stackoverflow.com/questions/48082946/more-precise-frequency-from-fft-with-ezaudio", "title": "More precise frequency from FFT with EZAudio?", "body": "<p>I've generated a few pure sine tones with Audacity at different frequencies to test with. The issue I'm seeing is that the code is returning the same frequency for two different sine tones that are relatively close in value.</p>\n\n<p>For example: A sine tone generated at 19255Hz will show up from FFT as 19293.750000Hz. So will a sine tone generated at 19330Hz.</p>\n\n<p>The same problem with low and high frequencies ... for example 93hz will show up from FFT as 96.899414hz</p>\n\n<p>Something must be off in the calculations. Buffer size is 4096.</p>\n\n<p>Any assistance in how I can modify the above code to get a more precise FFT frequency reading for pure sine tones is greatly appreciated. Thank you!</p>\n\n<pre><code>//\n// Initialize FFT\n//\nfloat maximumBufferSizeBytes = self.maximumBufferSize * sizeof(float);\nself.info = (EZAudioFFTInfo *)calloc(1, sizeof(EZAudioFFTInfo));\nvDSP_Length log2n = log2f(self.maximumBufferSize);\nself.info-&gt;fftSetup = vDSP_create_fftsetup(log2n, FFT_RADIX2);\nlong nOver2 = maximumBufferSizeBytes / 2;\nsize_t maximumSizePerComponentBytes = nOver2 * sizeof(float);\nself.info-&gt;complexA.realp = (float *)malloc(maximumSizePerComponentBytes);\nself.info-&gt;complexA.imagp = (float *)malloc(maximumSizePerComponentBytes);\nself.info-&gt;outFFTData = (float *)malloc(maximumSizePerComponentBytes);\nmemset(self.info-&gt;outFFTData, 0, maximumSizePerComponentBytes);\nself.info-&gt;inversedFFTData = (float *)malloc(maximumSizePerComponentBytes);\n\n//\n// Calculate real + imaginary components and normalize\n//\nvDSP_Length log2n = log2f(bufferSize);\nlong nOver2 = bufferSize / 2;\nfloat mFFTNormFactor = 10.0 / (2 * bufferSize);\nvDSP_ctoz((COMPLEX*)buffer, 2, &amp;(self.info-&gt;complexA), 1, nOver2);\nvDSP_fft_zrip(self.info-&gt;fftSetup, &amp;(self.info-&gt;complexA), 1, log2n, FFT_FORWARD);\nvDSP_vsmul(self.info-&gt;complexA.realp, 1, &amp;mFFTNormFactor, self.info-&gt;complexA.realp, 1, nOver2);\nvDSP_vsmul(self.info-&gt;complexA.imagp, 1, &amp;mFFTNormFactor, self.info-&gt;complexA.imagp, 1, nOver2);\nvDSP_zvmags(&amp;(self.info-&gt;complexA), 1, self.info-&gt;outFFTData, 1, nOver2);\nvDSP_fft_zrip(self.info-&gt;fftSetup, &amp;(self.info-&gt;complexA), 1, log2n, FFT_INVERSE);\nvDSP_ztoc(&amp;(self.info-&gt;complexA), 1, (COMPLEX *) self.info-&gt;inversedFFTData , 2, nOver2);\nself.info-&gt;outFFTDataLength = nOver2;\n\n//\n// Calculate max freq\n//\nif (self.sampleRate &gt; 0.0f)\n{\n    vDSP_maxvi(self.info-&gt;outFFTData, 1, &amp;self.info-&gt;maxFrequencyMangitude, &amp;self.info-&gt;maxFrequencyIndex, nOver2);\n   self.info-&gt;maxFrequency = [self frequencyAtIndex:self.info-&gt;maxFrequencyIndex];\n\n    float nyquistMaxFreq = self.sampleRate / 2.0;\n    NSLog(@\"FREQ: %f\", (((float)self.info-&gt;maxFrequencyIndex / (float)self.info-&gt;outFFTDataLength) * nyquistMaxFreq));\n\n}\n</code></pre>\n\n<p>EZAudio code here: <a href=\"https://github.com/syedhali/EZAudio/blob/master/EZAudio/EZAudioFFT.m\" rel=\"nofollow noreferrer\">https://github.com/syedhali/EZAudio/blob/master/EZAudio/EZAudioFFT.m</a></p>\n"}, {"tags": ["objective-c", "c", "automatic-ref-counting"], "answers": [{"comments": [{"owner": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "edited": false, "score": 1, "creation_date": 1515001239, "post_id": 48082172, "comment_id": 83139311, "body": "Indeed, the doc is pretty self explanatory. So it means that I should only use UTF8String to copy that C string somewhere else, even if the lifetime of NSString have not ended up yet? I would have not expect this, thanks"}, {"owner": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "edited": false, "score": 0, "creation_date": 1515002210, "post_id": 48082172, "comment_id": 83139773, "body": "yeah I am just surprised of that part of the doc <code>which may have a lifetime shorter than the string object</code>, which basically means that even if I keep the NSString alive somewhere (let&#39;s say using static or as a global var), the pointer might be invalid at a certain point in time"}, {"owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "reply_to_user": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "edited": false, "score": 1, "creation_date": 1515002336, "post_id": 48082172, "comment_id": 83139838, "body": "@itMaxence Sorry, deleted my original comment instead of editing it like I&#39;d meant to. This can happen in vary rare circumstances (you have a <i>lot</i> of tagged pointer strings, get all of their <code>UTF8String</code> values in a tight loop, and drain the current autoreleasepool before using the <code>UTF8String</code> values), but this is exceedingly rare."}, {"owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "reply_to_user": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "edited": false, "score": 0, "creation_date": 1515002386, "post_id": 48082172, "comment_id": 83139856, "body": "@itMaxence If you want to be really safe, yes, copy the UTF-8 string before using it, and certainly do so before passing the value along to different functions (which can do whatever they want)."}, {"owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "reply_to_user": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "edited": false, "score": 1, "creation_date": 1515003388, "post_id": 48082172, "comment_id": 83140375, "body": "Basically, it&#39;s not always safe to call <code>-UTF8String</code> inside of an autorelease pool, then using the result outside of the autorelease pool. If you call <code>-UTF8String</code> and use it in the same scope (without something doing fiddly things with your autorelease pool, which is really difficult if not impossible in ARC), you should be safe."}, {"owner": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "edited": false, "score": 0, "creation_date": 1515003567, "post_id": 48082172, "comment_id": 83140471, "body": "yeah your example easily show how this could end up. thanks!"}], "tags": [], "owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "is_accepted": true, "score": 5, "last_activity_date": 1515000155, "creation_date": 1515000155, "answer_id": 48082172, "question_id": 48082094, "link": "https://stackoverflow.com/questions/48082094/does-arc-keep-track-of-the-const-char-produced-by-nsstring-utf8string/48082172#48082172", "title": "Does ARC keep track of the const char* produced by [NSString UTF8String]?", "body": "<p>No, ARC does not (and cannot) manage lifetimes of non-object types. If you take a look at the <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1411189-utf8string?language=objc\" rel=\"noreferrer\">documentation for <code>-[NSString UTF8String]</code></a>, you can also see the following:</p>\n\n<blockquote>\n  <p>This C string is a pointer to a structure inside the string object, which may have a lifetime shorter than the string object and will certainly not have a longer lifetime. Therefore, you should copy the C string if it needs to be stored outside of the memory context in which you use this property.</p>\n</blockquote>\n\n<p>The UTF-8 string you get back has a maximum lifetime of the lifetime of the source <code>NSString</code> (which ARC will clean up at the end of the function), so if you need to hold on to the string, you'll need to make a copy using <code>strdup</code> or similar (and manage the lifetime yourself).</p>\n"}, {"comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1515058730, "post_id": 48082205, "comment_id": 83159114, "body": "How do you add 1 to the retain count of the pointer and make <code>NSString</code> not dispose it?"}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1515000263, "creation_date": 1515000263, "answer_id": 48082205, "question_id": 48082094, "link": "https://stackoverflow.com/questions/48082094/does-arc-keep-track-of-the-const-char-produced-by-nsstring-utf8string/48082205#48082205", "title": "Does ARC keep track of the const char* produced by [NSString UTF8String]?", "body": "<blockquote>\n  <p>Is the pointer non-valid after the end of the function?</p>\n</blockquote>\n\n<p>You are correct. ARC keeps track only of memory allocated to reference-counted objects. Sinc <code>char*</code> returned by <code>UTF8String</code> does not refer to a reference-counted object, ARC does not know of its existence.</p>\n\n<blockquote>\n  <p>If non-valid, is there a way to explicitly ask ARC to keep track of it?</p>\n</blockquote>\n\n<p>No, because <code>char*</code> lacks \"infrastructure\" for keeping reference count. You could either return a reference-counted object which encloses your <code>char*</code>, or use <code>malloc</code>, make a copy, and let the caller <code>free</code> the string.</p>\n"}], "owner": {"reputation": 716, "user_id": 3328736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UaZjw.jpg?s=128&g=1", "display_name": "itMaxence", "link": "https://stackoverflow.com/users/3328736/itmaxence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 48082172, "answer_count": 2, "score": 2, "last_activity_date": 1515000263, "creation_date": 1514999818, "question_id": 48082094, "link": "https://stackoverflow.com/questions/48082094/does-arc-keep-track-of-the-const-char-produced-by-nsstring-utf8string", "title": "Does ARC keep track of the const char* produced by [NSString UTF8String]?", "body": "<p>Is the <code>const char*</code> valid?\nDoes ARC keep track of the pointer returned by this function?</p>\n\n<pre><code>const char* getUrl()\n{\n    // retrieve an url with obj-c\n    NSString *maybeTmp = [[NSString alloc] initWithString:@\"some url\"];\n    return [maybeTmp UTF8String];\n}\n</code></pre>\n\n<p><em>This code is used as a bridge. A C library is going to call this function.</em></p>\n\n<p>I would guess that ARC doesn't keep track of that pointer and will release this NSString once the function getUrl() returns, leaving the pointer as non valid.</p>\n\n<ul>\n<li>Is the pointer non-valid after the end of the function?</li>\n<li>If non-valid, is there a way to explicitly ask ARC to keep track of it?</li>\n</ul>\n"}, {"tags": ["objective-c", "arrays", "nsmutablearray", "nsarray"], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 4, "last_activity_date": 1514999706, "creation_date": 1514999706, "answer_id": 48082069, "question_id": 48081897, "link": "https://stackoverflow.com/questions/48081897/compare-two-arrays-and-remove-equal-objects/48082069#48082069", "title": "Compare two arrays and remove equal objects", "body": "<p>If your goal is to remove from <code>array2</code> anything that is present in <code>array1</code>, you can:</p>\n\n<pre><code>[array2 removeObjectsInArray:array1];\n</code></pre>\n"}], "owner": {"reputation": 1309, "user_id": 8487461, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/a3dFr.jpg?s=128&g=1", "display_name": "Niall Kiddle", "link": "https://stackoverflow.com/users/8487461/niall-kiddle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 1, "accepted_answer_id": 48082069, "answer_count": 1, "score": 0, "last_activity_date": 1515003199, "creation_date": 1514999014, "last_edit_date": 1515003199, "question_id": 48081897, "link": "https://stackoverflow.com/questions/48081897/compare-two-arrays-and-remove-equal-objects", "title": "Compare two arrays and remove equal objects", "body": "<p>I have a list of words and a list of words specific for an exercise. Users can move words between each list. But there should not be any word duplicates. It works fine until I need to re-fetch the data after saving to an SQL database.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uiviewcontroller"], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 4010022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4570ae28c4c21fb425cbe857bbaf7199?s=128&d=identicon&r=PG", "display_name": "itsapple", "link": "https://stackoverflow.com/users/4010022/itsapple"}, "is_accepted": false, "score": 0, "last_activity_date": 1539078226, "creation_date": 1539078226, "answer_id": 52717940, "question_id": 48081742, "link": "https://stackoverflow.com/questions/48081742/how-to-remove-uiparallaxdimmingview-in-pop-uiviewcontroller/52717940#52717940", "title": "How to remove UIParallaxDimmingView in pop UIViewController?", "body": "<p>If it is pushing a VC(still animating) when you try to pop VC with interactive pop gesture(pan from edge), the app may be frozen. This can help you :</p>\n\n<pre><code>/ set gesture no when pushViewController /\n- (void)pushViewController:(UIViewController *)viewController animated:(BOOL)animated\n{\n    if ([self respondsToSelector:@selector(interactivePopGestureRecognizer)]) {\n        self.interactivePopGestureRecognizer.enabled = NO;\n    }\n\n    [super pushViewController:viewController animated:animated];\n}\n\n/ set gesture yes when showViewController /\n- (void)navigationController:(UINavigationController )navigationController didShowViewController:(UIViewController )viewController animated:(BOOL)animated\n{\n    if ([navigationController respondsToSelector:@selector(interactivePopGestureRecognizer)]) {\n        navigationController.interactivePopGestureRecognizer.enabled = YES;\n    }\n\n    / if rootViewController, set delegate nil /\n    if (navigationController.viewControllers.count == 1) {\n        navigationController.interactivePopGestureRecognizer.enabled = NO;\n        navigationController.interactivePopGestureRecognizer.delegate = nil;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 2846933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qoStN.jpg?s=128&g=1", "display_name": "MarkoSerbia", "link": "https://stackoverflow.com/users/2846933/markoserbia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 661, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1539078226, "creation_date": 1514998443, "question_id": 48081742, "link": "https://stackoverflow.com/questions/48081742/how-to-remove-uiparallaxdimmingview-in-pop-uiviewcontroller", "title": "How to remove UIParallaxDimmingView in pop UIViewController?", "body": "<p>I have a <code>UIViewController</code> <strong>vc1</strong> which is pushed after <code>UIViewController</code> <strong>vc2</strong>. \nBoth <strong>vc1</strong> and <strong>vc2</strong> are with transparent background.</p>\n\n<p>Problem:\nWhen I try to pop <strong>vc2</strong> with interactive pop gesture (pan from edge), in my view stack appears mysterious <code>UIParallaxDimmingView</code> which darkens my stack (under transparent view controllers there is a background image). \nAs soon as I release finger, cancel or finish transition it becomes clear/transparent again.</p>\n\n<p>How can i disable/remove <code>UIParallaxDimmingView</code> or set it transparent?</p>\n"}, {"tags": ["objective-c", "swift", "frameworks"], "comments": [{"owner": {"reputation": 6930, "user_id": 1627511, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2048aa3b4143c6331400e82fe28a302?s=128&d=identicon&r=PG", "display_name": "Guy Kogus", "link": "https://stackoverflow.com/users/1627511/guy-kogus"}, "edited": false, "score": 0, "creation_date": 1514998024, "post_id": 48080928, "comment_id": 83137547, "body": "^ Useless, I know. Anyway, we mostly use cocoapods to help manage this stuff. I&#39;m guessing that you&#39;re missing some kind of umbrella header or module map or one of these fancy things that cocoapods does for you."}, {"owner": {"reputation": 5282, "user_id": 1068489, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/gQhPR.png?s=128&g=1", "display_name": "Aaron Bratcher", "link": "https://stackoverflow.com/users/1068489/aaron-bratcher"}, "reply_to_user": {"reputation": 6930, "user_id": 1627511, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2048aa3b4143c6331400e82fe28a302?s=128&d=identicon&r=PG", "display_name": "Guy Kogus", "link": "https://stackoverflow.com/users/1627511/guy-kogus"}, "edited": false, "score": 0, "creation_date": 1515003180, "post_id": 48080928, "comment_id": 83140264, "body": "I tried using CocoaPods too and it didn&#39;t work \ud83d\ude41. Wish I could avoid the Objective-C, but the framework has to work with developers still using it."}], "answers": [{"tags": [], "owner": {"reputation": 5501, "user_id": 1086566, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/80Nma.jpg?s=128&g=1", "display_name": "Daniel Zhang", "link": "https://stackoverflow.com/users/1086566/daniel-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1527132362, "last_edit_date": 1527132362, "creation_date": 1527131924, "answer_id": 50500404, "question_id": 48080928, "link": "https://stackoverflow.com/questions/48080928/unknown-class-in-compiled-swift-framework-embedded-in-objective-c-project/50500404#50500404", "title": "Unknown class in Compiled Swift Framework embedded in Objective-C Project", "body": "<p>I can confirm that I experienced the same problem as you. I was also able to resolve it. I'm not sure if the original problem was caused by an anomaly somewhere in my configuration. I did, however, test the following procedure and found it to work reliably with Xcode 9.3.</p>\n\n<hr>\n\n<p>I first made a test Swift framework named <code>Dynamic-Framework-Tester</code>, in an Xcode project, and set it to be copied to an absolute path on every build.</p>\n\n<p>I then performed the following steps to setup my Objective-C project:</p>\n\n<ol>\n<li>Made a new project with Objective-C as the language. </li>\n<li>Dragged the framework from its absolute path into the project <strong>without</strong> choosing \"Copy items if needed\".</li>\n<li>Deleted the framework from <strong>Linked Frameworks and Libraries</strong> because it will get added automatically in step (4).</li>\n<li>Added the framework to <strong>Embedded Binaries</strong>.</li>\n<li>In build settings, set <strong>Always Embed Swift Standard Libraries</strong> to Yes.</li>\n<li>Added my custom framework path to the <strong>Framework Search Paths</strong> setting in the build settings.</li>\n</ol>\n\n<hr>\n\n<p>In the Objective-C project, I imported the framework using</p>\n\n<pre><code>@import Dynamic_Framework_Tester;\n</code></pre>\n\n<p>and called a method exposed in the framework from Objective-C.</p>\n\n<p>Using a simulator, I was able to update the framework and have the changes applied on subsequent runs of the app.</p>\n"}], "owner": {"reputation": 5282, "user_id": 1068489, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/gQhPR.png?s=128&g=1", "display_name": "Aaron Bratcher", "link": "https://stackoverflow.com/users/1068489/aaron-bratcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1527132362, "creation_date": 1514995424, "last_edit_date": 1515003126, "question_id": 48080928, "link": "https://stackoverflow.com/questions/48080928/unknown-class-in-compiled-swift-framework-embedded-in-objective-c-project", "title": "Unknown class in Compiled Swift Framework embedded in Objective-C Project", "body": "<p>I have a framework binary built with Swift that I'm trying to incorporate into an Objective-C project. However the class in the framework isn't available.</p>\n\n<p>In the swift framework, the class is defined like this:</p>\n\n<pre><code>@objcMembers\n@objc public final class Messaging: NSObject, UINavigationControllerDelegate, LogsManagerDelegate {\n...\n}\n</code></pre>\n\n<p>I drag the archived and exported framework directly into the project to use and make sure the Defines Module is set to Yes in the Build Settings.</p>\n\n<p>In the Objective-C I try to use the framework:</p>\n\n<pre><code>@import ContactAtOnceMessaging;\n\n@implementation MessagingExperience\nMessaging *messaging;    // Unknown type name 'Messaging'\n\n...\n\n@end\n</code></pre>\n\n<p>If I drag the code for the framework directly into the project, Messaging is a known class so I know the Swift is okay. </p>\n\n<p>I also tried changing the import to the following, but that didn't work.</p>\n\n<pre><code>#import \"ContactAtOnceMessaging/ContactAtOnceMessaging-Swift.h\"\n</code></pre>\n\n<p>I also tried using CocoaPods to import the framework and that hasn't helped.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 9052185, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-Mwp28Ar8Xc8/AAAAAAAAAAI/AAAAAAAAON4/Yz2QGVH_5NU/photo.jpg?sz=128", "display_name": "Aashishkebab", "link": "https://stackoverflow.com/users/9052185/aashishkebab"}, "is_accepted": false, "score": 0, "last_activity_date": 1514994598, "creation_date": 1514994598, "answer_id": 48080700, "question_id": 48080613, "link": "https://stackoverflow.com/questions/48080613/application-stops-when-the-user-lock-the-phone-ios/48080700#48080700", "title": "Application stops when the user lock the phone - IOS", "body": "<p>So with the way iOS works, Apple pauses background applications when the device is locked. You'll have to use specific API calls to allow your app to continue working in background, such as beginBackgroundTaskWithExpirationHandler</p>\n"}, {"tags": [], "owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "is_accepted": true, "score": 0, "last_activity_date": 1514995054, "creation_date": 1514995054, "answer_id": 48080814, "question_id": 48080613, "link": "https://stackoverflow.com/questions/48080613/application-stops-when-the-user-lock-the-phone-ios/48080814#48080814", "title": "Application stops when the user lock the phone - IOS", "body": "<p>This is by design. Apple does not want iOS apps to run in the background as they might drain the battery.</p>\n\n<p>But Apple has added many APIs so iOS can take over the background task on behalf of the app. And uploading and downloading is one of these tasks.</p>\n\n<p>Have a look at <a href=\"https://developer.apple.com/documentation/foundation/nsurlsession\" rel=\"nofollow noreferrer\">NSURLSession</a> and in particular at <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessionconfiguration/1407496-backgroundsessionconfigurationwi?language=objc\" rel=\"nofollow noreferrer\">NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:</a>. This is how it's done.</p>\n"}], "owner": {"reputation": 61, "user_id": 8818274, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-6TyB803Bcl4/AAAAAAAAAAI/AAAAAAAAABk/I8T-m5bE2RA/photo.jpg?sz=128", "display_name": "Bozhidar Marinov", "link": "https://stackoverflow.com/users/8818274/bozhidar-marinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1514995821, "accepted_answer_id": 48080814, "answer_count": 2, "score": 0, "last_activity_date": 1514995165, "creation_date": 1514994208, "question_id": 48080613, "link": "https://stackoverflow.com/questions/48080613/application-stops-when-the-user-lock-the-phone-ios", "closed_reason": "Duplicate", "title": "Application stops when the user lock the phone - IOS", "body": "<p>in my application user can upload a file, but if he lock his phone, it stops uploading. Is there any way to upload or download when the phone is locked ?</p>\n"}, {"tags": ["ios", "objective-c", "compiler-warnings", "deprecation-warning", "xcode9.2"], "answers": [{"tags": [], "owner": {"reputation": 7251, "user_id": 285190, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/EqHSe.jpg?s=128&g=1", "display_name": "Flexicoder", "link": "https://stackoverflow.com/users/285190/flexicoder"}, "is_accepted": false, "score": 1, "last_activity_date": 1514994966, "creation_date": 1514994966, "answer_id": 48080794, "question_id": 48080073, "link": "https://stackoverflow.com/questions/48080073/implicit-boolean-conversion-of-objective-c-object-literal-always-evaluates-to-tr/48080794#48080794", "title": "Implicit boolean conversion of Objective-C object literal always evaluates to true ios", "body": "<p>Your <code>assert</code> condition is a string which will always pass the test.</p>\n\n<p>You should be checking a condition in the <code>assert</code> </p>\n"}, {"tags": [], "owner": {"reputation": 40268, "user_id": 1298400, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ee2c2af01b6b83f8010ccde5032947b0?s=128&d=identicon&r=PG", "display_name": "Jeffery Thomas", "link": "https://stackoverflow.com/users/1298400/jeffery-thomas"}, "is_accepted": true, "score": 2, "last_activity_date": 1514995704, "creation_date": 1514995704, "answer_id": 48081005, "question_id": 48080073, "link": "https://stackoverflow.com/questions/48080073/implicit-boolean-conversion-of-objective-c-object-literal-always-evaluates-to-tr/48081005#48081005", "title": "Implicit boolean conversion of Objective-C object literal always evaluates to true ios", "body": "<p>If you are using Objective-C, you want to call <code>NSAssert()</code>, not <code>assert()</code> (which is a C function).</p>\n\n<pre><code>NSAssert(NO, @\"Must be implemented by subclass\");\n</code></pre>\n\n<p>If you want to continue using <code>assert()</code>, you should treat it like a C function.</p>\n\n<pre><code>assert(0); // &lt;-- Note: no message is provided\n</code></pre>\n\n<p>You might get away with</p>\n\n<pre><code>assert(/* Must be implemented by subclass */ 0);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>assert(\"Must be implemented by subclass\" == NULL); // &lt;-- Note: No `@`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47158, "user_id": 420303, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d128cffeaf768e0ad7c47488aaa95f13?s=128&d=identicon&r=PG", "display_name": "Daij-Djan", "link": "https://stackoverflow.com/users/420303/daij-djan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514996121, "creation_date": 1514996121, "answer_id": 48081127, "question_id": 48080073, "link": "https://stackoverflow.com/questions/48080073/implicit-boolean-conversion-of-objective-c-object-literal-always-evaluates-to-tr/48081127#48081127", "title": "Implicit boolean conversion of Objective-C object literal always evaluates to true ios", "body": "<p>a) assert needs a condition to check. you treat the string as a condition and it is non-null... do</p>\n\n<p>b) you use a NSString and not a char* so you pass objC object to C which wont work in this case either ... do</p>\n\n<pre><code>assert(codition &amp; \"Message\");\n</code></pre>\n\n<p>c) you should use NSAssert for ObjC Code .. do</p>\n\n<pre><code>NSAssert(codition, @\"Message\");\n</code></pre>\n"}], "owner": {"reputation": 2757, "user_id": 2258784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z1QCd.jpg?s=128&g=1", "display_name": "Francis F", "link": "https://stackoverflow.com/users/2258784/francis-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 1, "accepted_answer_id": 48081005, "answer_count": 3, "score": 0, "last_activity_date": 1514996121, "creation_date": 1514992156, "question_id": 48080073, "link": "https://stackoverflow.com/questions/48080073/implicit-boolean-conversion-of-objective-c-object-literal-always-evaluates-to-tr", "title": "Implicit boolean conversion of Objective-C object literal always evaluates to true ios", "body": "<p>I recently downloaded Xcode 9.2 and updated my project settings to recommended. Now I'm getting this warning in my code for all the places where I've used <em>assert</em> for eg: </p>\n\n<p><code>assert(@\"Must be implemented by subclass\");</code></p>\n\n<p>What is the proper alternative for this?</p>\n"}, {"tags": ["objective-c", "push-notification"], "comments": [{"owner": {"reputation": 2479, "user_id": 4294969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b7953c60a89d9429bbafd2d44d7d8fec?s=128&d=identicon&r=PG&f=1", "display_name": "naglerrr", "link": "https://stackoverflow.com/users/4294969/naglerrr"}, "edited": false, "score": 0, "creation_date": 1514986663, "post_id": 48078510, "comment_id": 83130841, "body": "Please add more detail to your question. Right now, this can not be answered. Is <code>application:didRegisterForRemoteNotificationsWithDeviceToken&zwnj;&#8203;:</code> ever called? Did the user accept Push Notifications? Has the app been signed with a Provisioning Profile that includes the Push Capability? Are you using the correct Push Environment (Sandbox, Production)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7477041"}, "reply_to_user": {"reputation": 2479, "user_id": 4294969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b7953c60a89d9429bbafd2d44d7d8fec?s=128&d=identicon&r=PG&f=1", "display_name": "naglerrr", "link": "https://stackoverflow.com/users/4294969/naglerrr"}, "edited": false, "score": 0, "creation_date": 1514987226, "post_id": 48078510, "comment_id": 83131153, "body": "edited, done , please check it"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7477041"}, "reply_to_user": {"reputation": 2479, "user_id": 4294969, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b7953c60a89d9429bbafd2d44d7d8fec?s=128&d=identicon&r=PG&f=1", "display_name": "naglerrr", "link": "https://stackoverflow.com/users/4294969/naglerrr"}, "edited": false, "score": 0, "creation_date": 1514987426, "post_id": 48078510, "comment_id": 83131275, "body": "I&#39;m using sandbox,"}], "owner": {"user_type": "does_not_exist", "display_name": "user7477041"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514989551, "creation_date": 1514986478, "last_edit_date": 1514989551, "question_id": 48078510, "link": "https://stackoverflow.com/questions/48078510/not-receiving-push-notification-enterprise-app", "title": "not receiving push notification enterprise app", "body": "<p>I have made an app which is on enterprise account, its for several employees, the .pem certificate has been uploaded to the server, but still I'm not receiving any push notification, knowing that the added all the functions and the delegate, but nothing received. the app is asking the user if he wants to receive push notification, and we are pressing on \"allow\", the token is been sent to the server, the didRegisterForRemoteNotifications is been called , sandbox is set to 1 (development), but nothing received</p>\n\n<pre><code>@interface AppDelegate ()&lt;CLLocationManagerDelegate,UNUserNotificationCenterDelegate&gt;\n.\n.\n.\n+ (void)registerPushNotifications {\n    [[UIApplication sharedApplication] registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge) categories:nil]];\n    [[UIApplication sharedApplication] registerForRemoteNotifications];\n}\n\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n.\n.\n.\n}\n\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {\n.\n.\n.\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "uiviewcontroller"], "answers": [{"comments": [{"owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "edited": false, "score": 0, "creation_date": 1514983814, "post_id": 48077508, "comment_id": 83129219, "body": "it return me rootview controller"}, {"owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "edited": false, "score": 0, "creation_date": 1514983956, "post_id": 48077508, "comment_id": 83129314, "body": "it always return me slideNavigationController which is rootviewcontroller. not my currentviewcontroller"}, {"owner": {"reputation": 1389, "user_id": 7007326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9657d9c076ab0db7fe0f3f1486e66fd?s=128&d=identicon&r=PG&f=1", "display_name": "User511", "link": "https://stackoverflow.com/users/7007326/user511"}, "reply_to_user": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "edited": false, "score": 0, "creation_date": 1514985428, "post_id": 48077508, "comment_id": 83130143, "body": "Strange!! Can you please show me your storyboard. how you are connecting it then how you are presenting the top view?"}], "tags": [], "owner": {"reputation": 1389, "user_id": 7007326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9657d9c076ab0db7fe0f3f1486e66fd?s=128&d=identicon&r=PG&f=1", "display_name": "User511", "link": "https://stackoverflow.com/users/7007326/user511"}, "is_accepted": false, "score": 0, "last_activity_date": 1514982819, "creation_date": 1514982819, "answer_id": 48077508, "question_id": 48077376, "link": "https://stackoverflow.com/questions/48077376/get-top-visible-view-controller-in-objective-c-ios/48077508#48077508", "title": "get top visible view controller in objective c iOS", "body": "<p>I think the issue is with your function.May be your root view controller is not correct. Try to implement the following function and see if it is working for you:</p>\n\n<pre><code>+ (UIViewController*) topMostController\n{\n    UIViewController *topController = [UIApplication sharedApplication].keyWindow.rootViewController;\n\n    while (topController.presentedViewController) {\n        topController = topController.presentedViewController;\n    }\n\n    return topController;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "edited": false, "score": 0, "creation_date": 1514983809, "post_id": 48077603, "comment_id": 83129215, "body": "it return me rootview controller"}, {"owner": {"reputation": 2116, "user_id": 2915020, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03c397f3a76288cca06c950b7fcbae18?s=128&d=identicon&r=PG", "display_name": "Kathiresan Murugan", "link": "https://stackoverflow.com/users/2915020/kathiresan-murugan"}, "reply_to_user": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "edited": false, "score": 0, "creation_date": 1514984288, "post_id": 48077603, "comment_id": 83129506, "body": "Go to next ViewController and check it"}], "tags": [], "owner": {"reputation": 2116, "user_id": 2915020, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03c397f3a76288cca06c950b7fcbae18?s=128&d=identicon&r=PG", "display_name": "Kathiresan Murugan", "link": "https://stackoverflow.com/users/2915020/kathiresan-murugan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514983151, "creation_date": 1514983151, "answer_id": 48077603, "question_id": 48077376, "link": "https://stackoverflow.com/questions/48077376/get-top-visible-view-controller-in-objective-c-ios/48077603#48077603", "title": "get top visible view controller in objective c iOS", "body": "<p>Objecive C</p>\n\n<pre><code>+ (UIViewController*) topMostController { // top most ViewController\n    UIViewController *topController = [UIApplication sharedApplication].keyWindow.rootViewController;\n\n    while (topController.presentedViewController) {\n        topController = topController.presentedViewController;\n    }\n\n    return topController;\n}\n</code></pre>\n\n<p>Swift3.0</p>\n\n<pre><code>extension UIApplication {\n  func topMostViewController() -&gt; UIViewController? { // top most ViewController\n    return self.keyWindow?.rootViewController?.topMostViewController()\n   }\n}\n\n// Find top most ViewController in Appdelegate\nlet topController = UIApplication.shared.topMostViewController()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 2606707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1OOlX.png?s=128&g=1", "display_name": "Mike Atkins-Spelling", "link": "https://stackoverflow.com/users/2606707/mike-atkins-spelling"}, "is_accepted": false, "score": 0, "last_activity_date": 1514989289, "creation_date": 1514989289, "answer_id": 48079214, "question_id": 48077376, "link": "https://stackoverflow.com/questions/48077376/get-top-visible-view-controller-in-objective-c-ios/48079214#48079214", "title": "get top visible view controller in objective c iOS", "body": "<p>I think your logic isn't quite right. Try:</p>\n\n<pre><code>+(UIViewController*)topMostController\n{\n    return [[self class] visibleControllerForController:[UIApplication sharedApplication].keyWindow.rootViewController];\n}\n\n+(UIViewController*)visibleControllerForController:(UIViewController*)controller\n{\n    // Determine last controller in navigation stack\n    UIViewController *topViewController = controller;\n    if ([controller isKindOfClass:[UITabBarController class]]) {\n        topViewController = ((UITabBarController*)controller).selectedViewController;\n    }\n    if ([controller isKindOfClass:[UINavigationController class]]) {\n        topViewController = ((UINavigationController*)controller).topViewController;\n    } else if (controller.navigationController) {\n        topViewController = controller.navigationController.topViewController;\n    }\n\n    // If last controller is presenting a modal recurse - find the last controller in that navigation stack\n    UIViewController *presentedViewController = topViewController.presentedViewController;\n    if (presentedViewController &amp;&amp; ! presentedViewController.isBeingDismissed) {\n        return [[self class] visibleControllerForController:presentedViewController];\n    }\n\n    return topViewController;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "is_accepted": true, "score": 0, "last_activity_date": 1515044154, "creation_date": 1515044154, "answer_id": 48089263, "question_id": 48077376, "link": "https://stackoverflow.com/questions/48077376/get-top-visible-view-controller-in-objective-c-ios/48089263#48089263", "title": "get top visible view controller in objective c iOS", "body": "<p>Finally i resolve this issue by adding more code. like this...</p>\n\n<pre><code>UINavigationController *vc = SharedAppDelegate.navigationController;\n    NSLog(@\"%@\",vc.viewControllers);\n    UIViewController* controller = vc.viewControllers.firstObject;\n    NSLog(@\"%@\",controller.childViewControllers);\n    UIViewController* carbonContr = controller.childViewControllers.firstObject;\n</code></pre>\n"}], "owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1560, "favorite_count": 0, "accepted_answer_id": 48089263, "answer_count": 4, "score": 0, "last_activity_date": 1515044154, "creation_date": 1514982321, "last_edit_date": 1514985103, "question_id": 48077376, "link": "https://stackoverflow.com/questions/48077376/get-top-visible-view-controller-in-objective-c-ios", "title": "get top visible view controller in objective c iOS", "body": "<p>I am implementing this method but it always returns me rootviewcontroller, not current visible controller how can I find out a visible controller. I also follow this link. <a href=\"https://stackoverflow.com/questions/6131205/iphone-how-to-find-topmost-view-controller\">iPhone -- How to find topmost view controller</a>. but the same problem yet. </p>\n\n<pre><code>    + (UIViewController *)visibleViewController:(UIViewController *)rootViewController\n{\n    if (rootViewController.presentedViewController == nil)\n    {\n        return rootViewController;\n    }\n    if ([rootViewController.presentedViewController isKindOfClass:[UINavigationController class]])\n    {\n        UINavigationController *navigationController = (UINavigationController *)rootViewController.presentedViewController;\n        UIViewController *lastViewController = [[navigationController viewControllers] lastObject];\n\n        return [self visibleViewController:lastViewController];\n    }\n    if ([rootViewController.presentedViewController isKindOfClass:[UITabBarController class]])\n    {\n        UITabBarController *tabBarController = (UITabBarController *)rootViewController.presentedViewController;\n        UIViewController *selectedViewController = tabBarController.selectedViewController;\n\n        return [self visibleViewController:selectedViewController];\n    }\n\n    UIViewController *presentedViewController = (UIViewController *)rootViewController.presentedViewController;\n\n    return [self visibleViewController:presentedViewController];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "uicollectionviewcell", "infinite-scroll"], "comments": [{"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514978903, "post_id": 48076430, "comment_id": 83126552, "body": "You can achieve it with UIPageViewController but I don&#39;t think you can achieve it with UICollectionViewController"}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "reply_to_user": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514979132, "post_id": 48076430, "comment_id": 83126674, "body": "@SandeepBhandari Please give instruction or reference how can i do this? If you have more idea regarding infinite Scrolling then let me know."}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "reply_to_user": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514979832, "post_id": 48076430, "comment_id": 83127068, "body": "But Now I required to implement with UICollectionView."}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "reply_to_user": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514980248, "post_id": 48076430, "comment_id": 83127264, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/162417/discussion-between-chandresh-kachariya-and-sandeep-bhandari\">continue this discussion in chat</a>."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1514986867, "post_id": 48076430, "comment_id": 83130964, "body": "Simple google search for <code>uicollectionview infinite scrolling</code> shows many, many results with how-tos, tutorials, examples, etc...."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514987666, "post_id": 48076430, "comment_id": 83131420, "body": "There are different ways but the simplest is to duplicate the data at each end so create an array like this <code>[NSArray arrayWithObjects: @&quot;4&quot; @&quot;0&quot;, @&quot;1&quot;, @&quot;2&quot;, @&quot;3&quot;, @&quot;4&quot;, @&quot;0&quot;, nil]</code> and then using the scroll view methods of your delegate detect when you get to each end and move to the other end.  So when you get to the &#39;0&#39; at the right you move to the &#39;0&#39; at the second position."}], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "edited": false, "score": 0, "creation_date": 1515043788, "post_id": 48088827, "comment_id": 83152853, "body": "Thanks for your answer. But it is use for only right to left  Infinite Scrolling, Not left to right scroll."}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "edited": false, "score": 0, "creation_date": 1515043859, "post_id": 48088827, "comment_id": 83152866, "body": "I Like this type of infinite scrolling in objective c. <a href=\"https://www.cocoacontrols.com/controls/hfswipeview\" rel=\"nofollow noreferrer\">cocoacontrols.com/controls/hfswipeview</a>"}], "tags": [], "owner": {"reputation": 29, "user_id": 4390570, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002826052883/picture?type=large", "display_name": "Tarun Gosai", "link": "https://stackoverflow.com/users/4390570/tarun-gosai"}, "is_accepted": false, "score": 1, "last_activity_date": 1515041653, "last_edit_date": 1515041653, "creation_date": 1515041350, "answer_id": 48088827, "question_id": 48076430, "link": "https://stackoverflow.com/questions/48076430/how-can-i-create-infinite-scrolling-in-uicollectionview-for-ios-objective-c/48088827#48088827", "title": "How can I create Infinite Scrolling in UICollectionView for iOS Objective-c", "body": "<p>First thing replace your current NSArray with NSMutableArray and make this changes as above in your cellForItemAtIndexPath</p>\n\n<pre><code>-(NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section {\n    return nameArr.count;\n}\n\n- (__kindof UICollectionViewCell *) collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {\n\n     UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@\"Cell\" forIndexPath:indexPath];\n\n     UILabel *label = [cell viewWithTag:25];\n     [label setText:[NSString stringWithFormat:@\"%ld\",(long)indexPath.row]];\n\n     if(indexPath.row == nameArr.count-1) {\n        [nameArr addObjectsFromArray:nameArr.mutableCopy];\n        [collectionView reloadData];\n     }\n     return cell;\n}\n</code></pre>\n\n<p>Here we are adding the same array objects again and again so it will be scroll infinite time.\nAttached screenshot: <a href=\"https://i.stack.imgur.com/Wn879.png\" rel=\"nofollow noreferrer\">Refer This</a></p>\n\n<p>Hope this will help you</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 9321812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44424eb52ee8f145b772be8a09859d40?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Fligel", "link": "https://stackoverflow.com/users/9321812/ruslan-fligel"}, "is_accepted": false, "score": 0, "last_activity_date": 1517920240, "creation_date": 1517920240, "answer_id": 48643139, "question_id": 48076430, "link": "https://stackoverflow.com/questions/48076430/how-can-i-create-infinite-scrolling-in-uicollectionview-for-ios-objective-c/48643139#48643139", "title": "How can I create Infinite Scrolling in UICollectionView for iOS Objective-c", "body": "<p>Had the same problem and i solved it by returning the number of items \n in numberOfItemsInSection: by 2</p>\n\n<pre><code>-(NSInteger)collectionView:(UICollectionView *)collectionView \nnumberOfItemsInSection:(NSInteger)section{\n    return _array.count * 2;\n}\n</code></pre>\n\n<p>in cellForItemAtIndexPath i return the cell the usual way and if the index is higher than the _array.count the just subtract the _array.count from the index.</p>\n\n<pre><code>-(UICollectionViewCell *)collectionView:(UICollectionView \n*)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath{\n\n    NSInteger index = indexPath.item;\n    if(index &gt; _array.count - 1){\n        index -= _array.count;\n    }\n    CellView *cell = [collectionView \n        dequeueReusableCellWithReuseIdentifier:@\"cellIdentifier\" \n        forIndexPath:indexPath];\n    //To get the string from the array use\n    NSString string = [_array objectAtIndex:(index % _array.count)];\n    return cell;\n}\n</code></pre>\n\n<p>Now the thing about this method is that i use only 2N items in the collectionView instead of a huge random number.</p>\n\n<p>The trick is \"put the 2 arrays side by side\" and to keep the user in the middle using the offset.</p>\n\n<pre><code>-(void)scrollViewDidScroll:(UIScrollView *)scrollView{\n    int scrollViewWidth = scrollView.contentSize.width;\n\n    CGPoint offset = scrollView.contentOffset;\n    if(offset.x &lt; scrollViewWidth /4){\n        offset.x += scrollViewWidth / 2;\n        [scrollView setContentOffset:offset];\n    } else if(offset.x &gt; scrollViewWidth /4 *3){\n        offset.x -= scrollViewWidth / 2;\n        [scrollView setContentOffset:offset];\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4942, "favorite_count": 3, "answer_count": 2, "score": 2, "last_activity_date": 1517920240, "creation_date": 1514978756, "last_edit_date": 1514983885, "question_id": 48076430, "link": "https://stackoverflow.com/questions/48076430/how-can-i-create-infinite-scrolling-in-uicollectionview-for-ios-objective-c", "title": "How can I create Infinite Scrolling in UICollectionView for iOS Objective-c", "body": "<p>How To Create Infinite Scrolling in my <code>UICollectionView</code>?</p>\n\n<p>attached screenshot : </p>\n\n<p><a href=\"https://i.stack.imgur.com/tdwSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tdwSF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now my <code>NSArray</code> is </p>\n\n<pre><code>NSArray* nameArr = [NSArray arrayWithObjects: @\"0\", @\"1\", @\"2\", @\"3\", @\"4\", nil];\n</code></pre>\n\n<p><strong>I want to create an Infinite Scrolling in collectionView After Complete array repeat all cells again and again.</strong></p>\n\n<p><strong>Left and Right both side required to scroll Infinite.</strong></p>\n\n<p>If yes, then how can I implement please give a reference in objective-c.</p>\n\n<p>Thanks!!! In advance</p>\n"}, {"tags": ["ios", "objective-c", "custom-view", "childviewcontroller"], "comments": [{"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1514978467, "post_id": 48076151, "comment_id": 83126332, "body": "What you have done till now??"}, {"owner": {"reputation": 20846, "user_id": 5716829, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/356d9e8343b5696dca2a1a9788130c9a?s=128&d=identicon&r=PG&f=1", "display_name": "PGDev", "link": "https://stackoverflow.com/users/5716829/pgdev"}, "edited": false, "score": 0, "creation_date": 1514978557, "post_id": 48076151, "comment_id": 83126380, "body": "If the child view controller is embedded in main view controller, how can you dismiss it? Please explain your requirement a bit more clearly and add some code too if you can."}, {"owner": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "reply_to_user": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1514979098, "post_id": 48076151, "comment_id": 83126652, "body": "@dahiya_boy code updated"}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1514979304, "post_id": 48076151, "comment_id": 83126773, "body": "@iPhoneProgrammatically No need of <code>hideContentController </code> bcz it also dismiss the childview but it is already done by button in childVC. Code seems to be perfect, what issue you&#39;r facing here?"}, {"owner": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "edited": false, "score": 0, "creation_date": 1514979609, "post_id": 48076151, "comment_id": 83126951, "body": "Nothing, just resolved it, posted the answer itself in the question. But the one issue I am facing is how to pass values to child view controller as string from parent view."}], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "edited": false, "score": 0, "creation_date": 1514978281, "post_id": 48076252, "comment_id": 83126222, "body": "did the same, my question is about the actions in child view"}, {"owner": {"reputation": 1728, "user_id": 4420797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uPAoqbuB0jM/AAAAAAAAAAI/AAAAAAAABSo/dpT-k2C_ddM/photo.jpg?sz=128", "display_name": "Khawar Islam", "link": "https://stackoverflow.com/users/4420797/khawar-islam"}, "reply_to_user": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "edited": false, "score": 0, "creation_date": 1514978525, "post_id": 48076252, "comment_id": 83126362, "body": "Man. Make a class with XIB. Create an action in Xib and the write dismiss viewcontroller code"}], "tags": [], "owner": {"reputation": 1728, "user_id": 4420797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uPAoqbuB0jM/AAAAAAAAAAI/AAAAAAAABSo/dpT-k2C_ddM/photo.jpg?sz=128", "display_name": "Khawar Islam", "link": "https://stackoverflow.com/users/4420797/khawar-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1514978079, "creation_date": 1514978079, "answer_id": 48076252, "question_id": 48076151, "link": "https://stackoverflow.com/questions/48076151/add-childviewcontroller-and-perform-button-action-in-childviewcontroller/48076252#48076252", "title": "Add ChildViewController and perform button action in ChildViewController", "body": "<p>Make Custom XIB in which you implement your popup view.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 4390570, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002826052883/picture?type=large", "display_name": "Tarun Gosai", "link": "https://stackoverflow.com/users/4390570/tarun-gosai"}, "is_accepted": false, "score": 0, "last_activity_date": 1514979802, "creation_date": 1514979802, "answer_id": 48076717, "question_id": 48076151, "link": "https://stackoverflow.com/questions/48076151/add-childviewcontroller-and-perform-button-action-in-childviewcontroller/48076717#48076717", "title": "Add ChildViewController and perform button action in ChildViewController", "body": "<p>Better than Child ViewController you can use another separate view controller for it.</p>\n\n<p>1) First Thing Create One view controller like \"ShowPopVC\"</p>\n\n<p>2) Defile typealias as per need in your view controller</p>\n\n<pre><code>typealias iSNeed = (Bool) -&gt; Void\nprivate var setResponsehandler: iSNeed?\n</code></pre>\n\n<p>3) add this method in that class and replace with your class name</p>\n\n<pre><code>class func show(in selectedViewController: UIViewController,handler: @escaping iSNeed) {\n    let controller = UIStoryboard(name: \"Main\", bundle: nil).instantiateViewController(withIdentifier: \"ShowPopVC\") as! ShowPopVC\n    controller.modalPresentationStyle = .overCurrentContext\n    selectedViewController.present(controller, animated: false, completion: {\n        controller.setResponsehandler = handler\n    })\n}\n</code></pre>\n\n<p>4) Add your button actions and set return value</p>\n\n<pre><code>@IBAction func buttonYesNoClicked(_ sender: UIButton) {\n    self.setResponsehandler!((sender.tag == 1) ? true:false)\n    self.dismiss(animated: false, completion: nil)\n}\n</code></pre>\n\n<p>-> and last you can open this view from anywhere from your application by using this simple method</p>\n\n<pre><code>@IBAction func buttonPopClicked(_ sender: UIButton) {\n    ShowPopVC.show(in: self) { (iSNeed) in\n        print(iSNeed)\n    }\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4622751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf58636b8c375981203c0bd94255e8b?s=128&d=identicon&r=PG&f=1", "display_name": "Dinu", "link": "https://stackoverflow.com/users/4622751/dinu"}, "is_accepted": false, "score": 0, "last_activity_date": 1514994723, "creation_date": 1514994723, "answer_id": 48080730, "question_id": 48076151, "link": "https://stackoverflow.com/questions/48076151/add-childviewcontroller-and-perform-button-action-in-childviewcontroller/48080730#48080730", "title": "Add ChildViewController and perform button action in ChildViewController", "body": "<p>Create a block called selfDismissBlock in the .h file of your child controller class</p>\n\n<pre><code>typedef void (^dismissBlock)(void);\n\n@property (copy, nonatomic) dismissBlock selfDismissBlock;\n</code></pre>\n\n<p>Upon clicking the close button on your child controller class call the block.</p>\n\n<pre><code>self.selfDismissBlock();\n</code></pre>\n\n<p>First of all add your child view controller to your parent view as mentioned here.</p>\n\n<pre><code>for (UIViewController *childController in self.childViewControllers)\n{\n   if ([childController isKindOfClass:[YourChildController class]])\n   {\n     return;\n   }\n}\n\n[self addChildViewController:self.yourChildControllerObj];\n[self.yourChildControllerObj didMoveToParentViewController:self];\n\nUIViewController * __weak weakViewController = self.yourChildControllerObj;\nself.yourChildControllerObj.selfDismissBlock = ^{\n       [weakViewController willMoveToParentViewController:nil];\n       [weakViewController removeFromParentViewController];\n       [weakViewController.view removeFromSuperview];\n    };\n</code></pre>\n"}], "owner": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1514994723, "creation_date": 1514977652, "last_edit_date": 1514979720, "question_id": 48076151, "link": "https://stackoverflow.com/questions/48076151/add-childviewcontroller-and-perform-button-action-in-childviewcontroller", "title": "Add ChildViewController and perform button action in ChildViewController", "body": "<p>I am adding child view controller to main view, child view controller contains two buttons that have their action methods defined in child view controller class. On the action of those buttons need to dismiss the child view controller. Is there any way to do so or better way to do. </p>\n\n<p>Please guide.\nThanks in advance.</p>\n\n<p>Note: ChildViewController contains custom popup view, not using UIAlertController.</p>\n\n<p>Update: Code in MainViewController</p>\n\n<pre><code>-(void)showAlertView\n{   \n    customAlertView = [[CustomAlertController alloc] init];\n    [self displayContentController:customAlertView :msg :cancel :delete];\n}\n\n- (void) displayContentController: (UIViewController*) content: (NSString *) alertMsg: (NSString *) btnOneTitle: (NSString *) btnTwoTitle\n{\n[self addChildViewController:content];      // 1\ncontent.view.bounds = self.view.bounds;     //2\ncontent.strAlertMsg = alertMsg;\n[content.view setFrame:CGRectMake(0, 0, [UIScreen mainScreen].bounds.size.width, self.view.frame.size.height)];\n[self.view addSubview:content.view];\n[content didMoveToParentViewController:self];          // 3\n}\n\n// ChildViewController\n\n- (void)viewDidLoad {\n[super viewDidLoad];\n// Do any additional setup after loading the view from its nib.\n\nself.lblMsg.text = strAlertMsg;\n[self.btnCancel setTitle:strBtnTitle1 forState:UIControlStateNormal];\n[self.btnDelete setTitle:strBtnTitle2 forState:UIControlStateNormal];\n</code></pre>\n\n<p>}</p>\n\n<p>Question: How to pass data from parent to child view controller</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1515165607, "post_id": 48075914, "comment_id": 83209005, "body": "Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add \u201curgent\u201d or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 7364216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed7b84b6afacba2ed7051c3334432a53?s=128&d=identicon&r=PG&f=1", "display_name": "Prajapati Ramesh", "link": "https://stackoverflow.com/users/7364216/prajapati-ramesh"}, "is_accepted": true, "score": 3, "last_activity_date": 1514978230, "creation_date": 1514978230, "answer_id": 48076291, "question_id": 48075914, "link": "https://stackoverflow.com/questions/48075914/voidfinishedwithauthgtmoauth2authentication-auth-errornserror-error/48076291#48076291", "title": "-(void)finishedWithAuth:(GTMOAuth2Authentication *)auth error:(NSError *)error -- Method is not call", "body": "<p><strong>In .h file</strong> </p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet GIDSignInButton *gmailSignInButton;\n-(IBAction)gmailBtn:(GIDSignIn *)sender;\n</code></pre>\n\n<p><strong>In .m file</strong></p>\n\n<pre><code>- (IBAction)gmailBtn:(GIDSignIn *)sender {\n [[AFNetworkReachabilityManager sharedManager]startMonitoring];\n\n//Checking the Internet connection...\n[[AFNetworkReachabilityManager sharedManager]setReachabilityStatusChangeBlock:^(AFNetworkReachabilityStatus status){\n    if (status == AFNetworkReachabilityStatusReachableViaWWAN || status == AFNetworkReachabilityStatusReachableViaWiFi) {\n\n        [GIDSignIn sharedInstance].uiDelegate = self;\n        [[GIDSignIn sharedInstance] signIn];\n\n    }else{\n        NSLog(@\"No Network\");\n    }\n }];\n}\n\n- (void)signIn:(GIDSignIn *)signIn didSignInForUser:(GIDGoogleUser *)user withError:(NSError *)error {\n // Perform any operations on signed in user here.\n NSLog(@\"user ID: %@\",user.userID);\n NSLog(@\"user Token: %@\",user.authentication.idToken);\n NSLog(@\"user name: %@\",user.profile.name);\n NSLog(@\"user givenName: %@\",user.profile.givenName);\n NSLog(@\"user family Name: %@\",user.profile.familyName);\n NSLog(@\"user email: %@\",user.profile.email);\n\n NSURL *profileURL;\n if (user.profile.hasImage)\n {\n    profileURL = [user.profile imageURLWithDimension:100];\n }\n\n NSMutableDictionary *userData = [NSMutableDictionary dictionary];\n [userData setValue:user.userID forKey:@\"id\"];\n [userData setValue:user.profile.givenName forKey:@\"first_name\"];\n [userData setValue:user.profile.familyName forKey:@\"last_name\"];\n [userData setValue:@\"\" forKey:@\"gender\"];\n [userData setValue:user.profile.email forKey:@\"email\"];\n [userData setValue:profileURL forKey:@\"profileImg\"];    \n}\n\n- (void)signInWillDispatch:(GIDSignIn *)signIn error:(NSError *)error{\n//    [self presentViewController:viewController animated:YES completion:nil];\n}\n\n- (void)signIn:(GIDSignIn *)signIn presentViewController:(UIViewController *)viewController {\n   [self presentViewController:viewController animated:YES completion:nil];\n}\n\n// Dismiss the \"Sign in with Google\" view\n - (void)signIn:(GIDSignIn *)signIn dismissViewController:(UIViewController *)viewController {\n   [self dismissViewControllerAnimated:YES completion:nil];\n}\n</code></pre>\n\n<blockquote>\n  <p>*don't forget to declare gmail delegate GIDSignInUIDelegate,GIDSignInDelegate</p>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 9167672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856d71dff712fdba22f0dff8b30fe4f1?s=128&d=identicon&r=PG&f=1", "display_name": "saumya ranjan Gangwar", "link": "https://stackoverflow.com/users/9167672/saumya-ranjan-gangwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "accepted_answer_id": 48076291, "answer_count": 1, "score": 1, "last_activity_date": 1515165598, "creation_date": 1514976747, "last_edit_date": 1515165598, "question_id": 48075914, "link": "https://stackoverflow.com/questions/48075914/voidfinishedwithauthgtmoauth2authentication-auth-errornserror-error", "title": "-(void)finishedWithAuth:(GTMOAuth2Authentication *)auth error:(NSError *)error -- Method is not call", "body": "<p>I want to get fetch user's all information who logged in with Google+ in my app.</p>\n\n<pre><code>-(void)googleSignInButtonMethod{\n    [[UIApplication sharedApplication] delegate];\n    signIn = [GPPSignIn sharedInstance];\n    signIn.clientID = kClientId;\n    [signIn authenticate];\n    signIn.shouldFetchGoogleUserID=YES;\n    signIn.shouldFetchGoogleUserEmail = YES;\n    signIn.scopes = @[ kGTLAuthScopePlusLogin ];\n    signIn.delegate = self;\n    [signIn authenticate];\n}\n</code></pre>\n\n<p>after that,</p>\n\n<pre><code>- (void)finishedWithAuth:(GTMOAuth2Authentication *)auth\n                   error:(NSError *)error {\n\n    NSLog(@\"Received Error %@  and auth object==%@\",error,auth);\n    if(!error) {\n        NSLog(@\"%@\", signIn.authentication.userEmail);\n    }\n}\n</code></pre>\n\n<p>I followed all the instruction provided by google+ developers site. I set all the delegates and import all important files.</p>\n"}, {"tags": ["objective-c", "uiview", "autolayout"], "comments": [{"owner": {"reputation": 931, "user_id": 4064503, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bnHuv.jpg?s=128&g=1", "display_name": "Zuzana Paulis", "link": "https://stackoverflow.com/users/4064503/zuzana-paulis"}, "edited": false, "score": 0, "creation_date": 1515092996, "post_id": 48075886, "comment_id": 83179146, "body": "Why are you using duration 0? Try using  [self.view layoutIfNeeded];"}, {"owner": {"reputation": 31, "user_id": 4658596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9710c991be199d794dbf6501cd57845?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/4658596/krishna"}, "reply_to_user": {"reputation": 931, "user_id": 4064503, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bnHuv.jpg?s=128&g=1", "display_name": "Zuzana Paulis", "link": "https://stackoverflow.com/users/4064503/zuzana-paulis"}, "edited": false, "score": 0, "creation_date": 1518767547, "post_id": 48075886, "comment_id": 84647779, "body": "[UIView animateWithDuration:.3 delay:0 options:UIViewAnimationOptionCurveEaseOut animations:^{             imgRotation.transform = CGAffineTransformRotate(imgRotation.transform, direction);             [self.view layoutIfNeeded];         } completion:nil];  Yes, used [self.view layoutIfNeeded] this one also but same result, not working.   See this case happen when I am continuously updating transform by using rotate gesture. But I am surprised that its working for all other devices and not for Iphone  X"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4658596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9710c991be199d794dbf6501cd57845?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/4658596/krishna"}, "edited": false, "score": 0, "creation_date": 1521285092, "post_id": 49277296, "comment_id": 85672097, "body": "Hi, Thanks for reply.  Yes, As you said I checked constraint, All are perfect. for more satisfaction I removed constraint and checked again but same think happen, not working smoothly."}], "tags": [], "owner": {"reputation": 31, "user_id": 2549609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86U63.jpg?s=128&g=1", "display_name": "theancientchild", "link": "https://stackoverflow.com/users/2549609/theancientchild"}, "is_accepted": false, "score": 0, "last_activity_date": 1521033181, "last_edit_date": 1521033181, "creation_date": 1521028872, "answer_id": 49277296, "question_id": 48075886, "link": "https://stackoverflow.com/questions/48075886/uiview-animatewithduration-not-working-for-iphone-x-simulator-and-device/49277296#49277296", "title": "UIView animateWithDuration not working for iPhone X simulator and device", "body": "<p>Review the constraints in your UIView that could be affected by the animation.</p>\n\n<p>Your animations may be breaking constraints that are only relevant in the iPhone X layout and because of this the completion block never gets called.</p>\n"}], "owner": {"reputation": 31, "user_id": 4658596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9710c991be199d794dbf6501cd57845?s=128&d=identicon&r=PG&f=1", "display_name": "krishna", "link": "https://stackoverflow.com/users/4658596/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1521033181, "creation_date": 1514976626, "question_id": 48075886, "link": "https://stackoverflow.com/questions/48075886/uiview-animatewithduration-not-working-for-iphone-x-simulator-and-device", "title": "UIView animateWithDuration not working for iPhone X simulator and device", "body": "<p>UIView animateWithDuration not working in iPhone X and simulator.\nIts working fine for simulator when simulator zoom out but its get stuck when simulator Zoom In.</p>\n\n<p>Note:- For all other devices its working great without any issue.</p>\n\n<p>Here is my code:-</p>\n\n<pre><code>[UIView animateWithDuration:0 animations:^{\n    viewBoundry.transform = CGAffineTransformMakeRotation(radians(Boundedangele));\n     [objClip updateAngle:Boundedangele];\n} completion:^(BOOL finished) {\n}];\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "swift3", "uitabbarcontroller"], "answers": [{"tags": [], "owner": {"reputation": 480, "user_id": 1699835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZHnU.jpg?s=128&g=1", "display_name": "Siju", "link": "https://stackoverflow.com/users/1699835/siju"}, "is_accepted": true, "score": 5, "last_activity_date": 1515046890, "creation_date": 1515046890, "answer_id": 48089737, "question_id": 48075722, "link": "https://stackoverflow.com/questions/48075722/how-to-get-index-of-selected-tab-in-uitabbar/48089737#48089737", "title": "How to get index of selected tab in UITABBAR", "body": "<p><a href=\"https://developer.apple.com/documentation/uikit/uitabbar\" rel=\"noreferrer\">https://developer.apple.com/documentation/uikit/uitabbar</a></p>\n\n<p>UITabBar has 2 properties \"items\" and \"selectedItem\", both of type UITabBarItem.</p>\n\n<p>So u can get the index of selected item by getting the index of \"selectedItem\" in \"items\".</p>\n\n<pre><code>items.index(of: selectedItem)\n</code></pre>\n"}], "owner": {"reputation": 4058, "user_id": 6028575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EVIPb.png?s=128&g=1", "display_name": "Jaydeep Vyas", "link": "https://stackoverflow.com/users/6028575/jaydeep-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1691, "favorite_count": 0, "accepted_answer_id": 48089737, "answer_count": 1, "score": 1, "last_activity_date": 1515046890, "creation_date": 1514975979, "last_edit_date": 1515046108, "question_id": 48075722, "link": "https://stackoverflow.com/questions/48075722/how-to-get-index-of-selected-tab-in-uitabbar", "title": "How to get index of selected tab in UITABBAR", "body": "<p>How to get selected Index of UITabBar item in swift \nI am not talking about <strong>UITabBarController</strong>.</p>\n\n<p>I know i can get using UITabBarItem.tag.</p>\n\n<p>But for me I cannot use tag for selected index because it already used for other purpose. \nIs there any other way i can get index of selected tab in swift.</p>\n"}, {"tags": ["ios", "objective-c", "push-notification", "certificate"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8706965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYaWJ.jpg?s=128&g=1", "display_name": "Ayoob K", "link": "https://stackoverflow.com/users/8706965/ayoob-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1516787755, "last_edit_date": 1516787755, "creation_date": 1515126935, "answer_id": 48107231, "question_id": 48075491, "link": "https://stackoverflow.com/questions/48075491/push-notifications-in-enterprise-accounts/48107231#48107231", "title": "push notifications in enterprise accounts", "body": "<p>Based on our experience and development scenarios a regular enterprise push notification can be easily sent with an enterprise (or in-house) development account.</p>\n\n<p>Below is a quick guide to configuring the enterprise developer portal for development (beta) and distribution push notification. Just the enterprise guidelines to keep in mind. </p>\n\n<p>First of all, some proof that we are actually talking about an In-House dev account:\nFor this issue please create a new AppID in the dev portal at Apple. At the bottom, you can see the checkbox for \u201cPush Notifications\u201d. Check it and Submit\nWhen submitted it gives a green sign, indicating that Push is enabled for this AppID.</p>\n\n<p>After that, you can see that for this AppID (still in-house) push can be configured. Just like with regular APNS. Then you can download the push certificate and use.</p>\n\n<p>For more details you can go on to the link shared below :</p>\n\n<p><a href=\"https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/DistributingEnterpriseProgramApps/DistributingEnterpriseProgramApps.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/DistributingEnterpriseProgramApps/DistributingEnterpriseProgramApps.html</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7477041"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 738, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516787755, "creation_date": 1514975124, "question_id": 48075491, "link": "https://stackoverflow.com/questions/48075491/push-notifications-in-enterprise-accounts", "title": "push notifications in enterprise accounts", "body": "<p>I am working in a company,which has an app which they want to publish as an in-house app, using an enterprise account, after uploading the .pem file in order to start receiving push notification to the device, the server error was as following:</p>\n\n<pre><code>... GeneralException, \"message\":\"Unable to connect: tls:\\/\\/gateway.sandbox.push.apple.com:2195:2 (stream_socket_client()\": SSL operation failed with code1 ...\n</code></pre>\n\n<p>any idea what the error is? is it from the certificate or from the server?\nthanks</p>\n"}, {"tags": ["ios", "objective-c", "api"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1514973726, "post_id": 48075057, "comment_id": 83123736, "body": "It&#39;s percent escaping. Also there is a space before <code>&amp;id</code>, it should be escaped also. How is created the URL?"}, {"owner": {"reputation": 465, "user_id": 8918849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-2GE5yI9avY4/AAAAAAAAAAI/AAAAAAAAABA/eamDrpYLGxg/photo.jpg?sz=128", "display_name": "Nikita Patil", "link": "https://stackoverflow.com/users/8918849/nikita-patil"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1514973863, "post_id": 48075057, "comment_id": 83123812, "body": "I added that space for understanding purpose."}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 8918849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-2GE5yI9avY4/AAAAAAAAAAI/AAAAAAAAABA/eamDrpYLGxg/photo.jpg?sz=128", "display_name": "Nikita Patil", "link": "https://stackoverflow.com/users/8918849/nikita-patil"}, "edited": false, "score": 0, "creation_date": 1514975290, "post_id": 48075274, "comment_id": 83124610, "body": "let me check this solution. Just now I understand concept of reserved characters."}, {"owner": {"reputation": 465, "user_id": 8918849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-2GE5yI9avY4/AAAAAAAAAAI/AAAAAAAAABA/eamDrpYLGxg/photo.jpg?sz=128", "display_name": "Nikita Patil", "link": "https://stackoverflow.com/users/8918849/nikita-patil"}, "edited": false, "score": 0, "creation_date": 1514979406, "post_id": 48075274, "comment_id": 83126833, "body": "how I can use this solution ? I am not getting ...plz help me"}, {"owner": {"reputation": 8395, "user_id": 4415445, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/77NUM.jpg?s=128&g=1", "display_name": "Nazmul Hasan", "link": "https://stackoverflow.com/users/4415445/nazmul-hasan"}, "reply_to_user": {"reputation": 465, "user_id": 8918849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-2GE5yI9avY4/AAAAAAAAAAI/AAAAAAAAABA/eamDrpYLGxg/photo.jpg?sz=128", "display_name": "Nikita Patil", "link": "https://stackoverflow.com/users/8918849/nikita-patil"}, "edited": false, "score": 0, "creation_date": 1514984632, "post_id": 48075274, "comment_id": 83129705, "body": "Would you post your that you are trying so far"}], "tags": [], "owner": {"reputation": 8395, "user_id": 4415445, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/77NUM.jpg?s=128&g=1", "display_name": "Nazmul Hasan", "link": "https://stackoverflow.com/users/4415445/nazmul-hasan"}, "is_accepted": false, "score": 1, "last_activity_date": 1514974544, "last_edit_date": 1514974544, "creation_date": 1514974243, "answer_id": 48075274, "question_id": 48075057, "link": "https://stackoverflow.com/questions/48075057/ios-temp-data-is-adding-while-calling-an-api/48075274#48075274", "title": "iOS : temp data is adding while calling an API", "body": "<p>From apple </p>\n\n<blockquote>\n  <p>Creates a copy of a string, replacing certain characters with the equivalent <code>percent escape sequence</code> based on the specified <code>encoding</code>.</p>\n</blockquote>\n\n<p>Here is example code :</p>\n\n<pre><code>NSString *encodedString = (NSString *)CFURLCreateStringByAddingPercentEscapes(\n                        NULL,\n                        (CFStringRef)unencodedString,\n                        NULL,\n                        (CFStringRef)@\"!*'();:@&amp;=+$,/?%#[]\",\n                        kCFStringEncodingUTF8 );\n</code></pre>\n\n<p>More check this link <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">Percent-encoding reserved characters</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MNaPM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MNaPM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Space before <code>&amp;id</code></p>\n"}, {"tags": [], "owner": {"reputation": 40815, "user_id": 1917782, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/QQGPj.jpg?s=128&g=1", "display_name": "iPatel", "link": "https://stackoverflow.com/users/1917782/ipatel"}, "is_accepted": true, "score": 1, "last_activity_date": 1514974244, "creation_date": 1514974244, "answer_id": 48075275, "question_id": 48075057, "link": "https://stackoverflow.com/questions/48075057/ios-temp-data-is-adding-while-calling-an-api/48075275#48075275", "title": "iOS : temp data is adding while calling an API", "body": "<p><strong>id%5B%5D=45,125</strong> represent <code>[</code> and <code>]</code>. The encoding is called <a href=\"http://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">\"URL encoding\"</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/M4Ehi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4Ehi.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 465, "user_id": 8918849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-2GE5yI9avY4/AAAAAAAAAAI/AAAAAAAAABA/eamDrpYLGxg/photo.jpg?sz=128", "display_name": "Nikita Patil", "link": "https://stackoverflow.com/users/8918849/nikita-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 48075275, "answer_count": 2, "score": 1, "last_activity_date": 1514974544, "creation_date": 1514973585, "last_edit_date": 1514974382, "question_id": 48075057, "link": "https://stackoverflow.com/questions/48075057/ios-temp-data-is-adding-while-calling-an-api", "title": "iOS : temp data is adding while calling an API", "body": "<p>Here is my api while calling</p>\n\n<pre><code>http://jamboreebliss.com/sayar/public/api/v2/ticket/delete?\napi_key=9p41T2XFZ34YRZJUNQAdm&amp;token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9yzdWIiORFdoaVIiCV8_oYP8&amp;id[]=45,125\n</code></pre>\n\n<p>After calling at last parameter i.e <strong>id[]</strong> in this field, temp data is coming</p>\n\n<pre><code>http://jamboreebliss.com/sayar/public/api/v2/ticket/delete?\n    api_key=9p41T2XFZ34YRZJUNQAdm&amp;token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9yzdWIiORFdoaVIiCV8_oYP8&amp;id%5B%5D=45,125\n</code></pre>\n\n<p><strong>id%5B%5D=45,125</strong>  this coming ( i. e <strong>%5B%5D</strong>)</p>\n\n<p>why it is coming ? any idea ?</p>\n"}, {"tags": ["ios", "objective-c", "nsstream", "external-accessory"], "comments": [{"owner": {"reputation": 303, "user_id": 4980614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h9TqP.jpg?s=128&g=1", "display_name": "sumit kumar", "link": "https://stackoverflow.com/users/4980614/sumit-kumar"}, "edited": false, "score": 0, "creation_date": 1515159199, "post_id": 48074827, "comment_id": 83205179, "body": "any update on above issue ,i am facing same issue while writing data to external device. I have tested with iOS 10.3.3 and iOS 11.2 and above code is not working."}, {"owner": {"reputation": 11, "user_id": 9167413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66418656e38ccac8d0f35116bf8bc803?s=128&d=identicon&r=PG&f=1", "display_name": "doubll liu", "link": "https://stackoverflow.com/users/9167413/doubll-liu"}, "reply_to_user": {"reputation": 303, "user_id": 4980614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h9TqP.jpg?s=128&g=1", "display_name": "sumit kumar", "link": "https://stackoverflow.com/users/4980614/sumit-kumar"}, "edited": false, "score": 1, "creation_date": 1515747300, "post_id": 48074827, "comment_id": 83426571, "body": "@sumitkumar I checked 11.2.2 the latest version till now, no progress out there. How about you?"}, {"owner": {"reputation": 303, "user_id": 4980614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h9TqP.jpg?s=128&g=1", "display_name": "sumit kumar", "link": "https://stackoverflow.com/users/4980614/sumit-kumar"}, "edited": false, "score": 0, "creation_date": 1515748838, "post_id": 48074827, "comment_id": 83427433, "body": "nah not yet, but can u help me with iOS 10.3.3 because mine is not working"}, {"owner": {"reputation": 11, "user_id": 9167413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66418656e38ccac8d0f35116bf8bc803?s=128&d=identicon&r=PG&f=1", "display_name": "doubll liu", "link": "https://stackoverflow.com/users/9167413/doubll-liu"}, "reply_to_user": {"reputation": 303, "user_id": 4980614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h9TqP.jpg?s=128&g=1", "display_name": "sumit kumar", "link": "https://stackoverflow.com/users/4980614/sumit-kumar"}, "edited": false, "score": 0, "creation_date": 1516177118, "post_id": 48074827, "comment_id": 83577369, "body": "@sumitkumar about your 10.3.3 I dont know the exactly reason cause I have nothing special code for system version related, though one thing it might be helpful is that please check with your hardware engineer about the command he sent to setup communication with iOS system, cause my side faced this kind of problem before and our hardware engineer changed command according the apple mfi documents and fixed that."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9167413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66418656e38ccac8d0f35116bf8bc803?s=128&d=identicon&r=PG&f=1", "display_name": "doubll liu", "link": "https://stackoverflow.com/users/9167413/doubll-liu"}, "is_accepted": true, "score": 0, "last_activity_date": 1516262232, "creation_date": 1516262232, "answer_id": 48316324, "question_id": 48074827, "link": "https://stackoverflow.com/questions/48074827/eaframework-outputstream-doesnt-work-on-11-2-1/48316324#48316324", "title": "eaframework outputstream doesn&#39;t work on 11.2.1", "body": "<p>Finally solved:</p>\n\n<p>1.<strong>Hardware side</strong> send <code>StatusExternalAccessoryProtocolSession</code> command as instructed in <code>Accessory Interface Specification R27.pdf</code></p>\n\n<p>Weird things is that in the version lower than 11.2, the session is able to setup success without this command.</p>\n"}], "owner": {"reputation": 11, "user_id": 9167413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66418656e38ccac8d0f35116bf8bc803?s=128&d=identicon&r=PG&f=1", "display_name": "doubll liu", "link": "https://stackoverflow.com/users/9167413/doubll-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "accepted_answer_id": 48316324, "answer_count": 1, "score": 1, "last_activity_date": 1516262232, "creation_date": 1514972722, "last_edit_date": 1514980466, "question_id": 48074827, "link": "https://stackoverflow.com/questions/48074827/eaframework-outputstream-doesnt-work-on-11-2-1", "title": "eaframework outputstream doesn&#39;t work on 11.2.1", "body": "<pre><code>- (void)_writeData {\n    while (([[_session outputStream] hasSpaceAvailable]) &amp;&amp; ([_writeData length] &gt; 0))\n    {\n        NSInteger bytesWritten = [[_session outputStream] write:[_writeData bytes] maxLength:[_writeData length]];\n        if (bytesWritten == -1) {\n            NSLog(@\"write error\");\n            break;\n        } else if (bytesWritten &gt; 0) {\n            [_writeData replaceBytesInRange:NSMakeRange(0, bytesWritten) withBytes:NULL length:0];\n            NSLog(@\"bytesWritten %ld\", (long)bytesWritten);\n        }\n    }\n}\n</code></pre>\n\n<p>I code exactly same as Apple's official demo as above, the communication with external accessory via lightning port works fine except on \"iOS 11.2.1\".</p>\n\n<p>I debugged and found that it really did the action of sending out data by <code>Outputstream</code>, but failed anyhow, detect no data out.</p>\n\n<p>anybody know how to find out what's going on inside the stream? \nis this a bug of Apple?</p>\n"}, {"tags": ["ios", "objective-c", "core-data", "migration"], "comments": [{"owner": {"reputation": 1702, "user_id": 1827743, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1a53ccce8c32f6d656288e1937970d7f?s=128&d=identicon&r=PG", "display_name": "Shinigami", "link": "https://stackoverflow.com/users/1827743/shinigami"}, "edited": false, "score": 0, "creation_date": 1515158595, "post_id": 48074547, "comment_id": 83204812, "body": "Sounds to me like your <code>-createNewTileIfNeededWithContext:</code> method is not getting called at the right time. How is that being invoked on existing cities?"}, {"owner": {"reputation": 1362, "user_id": 1266240, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f0847106f4ca04c93ff3239dae4afec1?s=128&d=identicon&r=PG", "display_name": "Arun Balakrishnan", "link": "https://stackoverflow.com/users/1266240/arun-balakrishnan"}, "edited": false, "score": 0, "creation_date": 1516029455, "post_id": 48074547, "comment_id": 83514546, "body": "Can you share how you are doing lightweight migration? The exact code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7219266"}, "reply_to_user": {"reputation": 1362, "user_id": 1266240, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f0847106f4ca04c93ff3239dae4afec1?s=128&d=identicon&r=PG", "display_name": "Arun Balakrishnan", "link": "https://stackoverflow.com/users/1266240/arun-balakrishnan"}, "edited": false, "score": 0, "creation_date": 1516029717, "post_id": 48074547, "comment_id": 83514720, "body": "@ArunB I have update my question. Refer to the EDIT part"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7219266"}, "edited": false, "score": 0, "creation_date": 1516034704, "post_id": 48266009, "comment_id": 83517662, "body": "I agree with this point, but I don&#39;t see in my situation where exactly should I call the persistentStoreCoordinator method ? In order to do what ?"}, {"owner": {"reputation": 1362, "user_id": 1266240, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f0847106f4ca04c93ff3239dae4afec1?s=128&d=identicon&r=PG", "display_name": "Arun Balakrishnan", "link": "https://stackoverflow.com/users/1266240/arun-balakrishnan"}, "edited": false, "score": 0, "creation_date": 1516043795, "post_id": 48266009, "comment_id": 83522020, "body": "In your Appdelegate&#39;s applicationDidFinishLaunching:withOptions, setup managedObjectModel and then call persistentStoreCoordinator method. That should set your CoreData stack with the migration."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7219266"}, "edited": false, "score": 0, "creation_date": 1516106557, "post_id": 48266009, "comment_id": 83546531, "body": "Ok so basically I already did this. I will call my createNewTileIfNeededWithContext but it will be applied only at the first release ? When everyone will be updated with the new xcdatamlodelVersion this method will be useless right ?"}, {"owner": {"reputation": 1362, "user_id": 1266240, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f0847106f4ca04c93ff3239dae4afec1?s=128&d=identicon&r=PG", "display_name": "Arun Balakrishnan", "link": "https://stackoverflow.com/users/1266240/arun-balakrishnan"}, "edited": false, "score": 1, "creation_date": 1516133947, "post_id": 48266009, "comment_id": 83563289, "body": "Yes it will be useless when everyone has new xcdatamlodelVersion"}], "tags": [], "owner": {"reputation": 1362, "user_id": 1266240, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f0847106f4ca04c93ff3239dae4afec1?s=128&d=identicon&r=PG", "display_name": "Arun Balakrishnan", "link": "https://stackoverflow.com/users/1266240/arun-balakrishnan"}, "is_accepted": true, "score": 0, "last_activity_date": 1516030221, "creation_date": 1516030221, "answer_id": 48266009, "question_id": 48074547, "link": "https://stackoverflow.com/questions/48074547/ios-core-data-how-to-properly-add-object-in-context-while-performing-a-light/48266009#48266009", "title": "iOS - Core Data : How to properly add object in context while performing a Lightweight Migration?", "body": "<p>As per the Apple documentation <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CoreDataVersioning/Articles/vmLightweightMigration.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>If you just make simple changes to your model (such as adding a new attribute to an entity), Core Data can perform automatic data migration, referred to as lightweight migration. Lightweight migration is fundamentally the same as ordinary migration, except that instead of you providing a mapping model (as described in Mapping Overview), Core Data infers one from differences between the source and destination managed object models.</p>\n</blockquote>\n\n<p>So once you associate the <code>NSPersistentStoreCoordinator</code> with the new <code>NSManagedObjectModel</code>, the updated models will be migrated based on the migration option. In this case, automatically. Hence, anywhere after you have called the <code>persistentStoreCoordinator</code> method, you can call the <code>createNewTileIfNeededWithContext</code> method.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7219266"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 48266009, "answer_count": 1, "score": 0, "last_activity_date": 1516030221, "creation_date": 1514971590, "last_edit_date": 1516029694, "question_id": 48074547, "link": "https://stackoverflow.com/questions/48074547/ios-core-data-how-to-properly-add-object-in-context-while-performing-a-light", "title": "iOS - Core Data : How to properly add object in context while performing a Lightweight Migration?", "body": "<p><strong>Some context:</strong></p>\n\n<p>I will try to explain my situation as clear as I can so that you will have a better understanding of my project and what I am willing to achieve.</p>\n\n<p>First of all, the homepage of my App is split into \"blocs\".</p>\n\n<p>Which mean it is an <code>UICollectionView</code>, and each cell is a \"bloc\" displaying specific information.</p>\n\n<p>For example, I am working on a weather App, so the homepage will display different blocs : </p>\n\n<ul>\n<li>Classic forecast</li>\n<li>Satellite view</li>\n<li>Radar animation</li>\n<li>Sunrise/Sunset, Moonrise/Moonset</li>\n<li>Maps\netc...</li>\n</ul>\n\n<p>The user can order the blocs in the way he wants, remove or add some and the \"<em>configuration</em>\" will be saved according to the <code>city</code> he is currently looking at.</p>\n\n<p>For example, you can have London in a favorite city, with specific homepage configuration.</p>\n\n<p><strong>The issue:</strong></p>\n\n<p>The default configuration of the homepage is a <code>plist</code> in the App, which indicates the type of the tile if the tile can be delectable, moveable etc...</p>\n\n<p>I have an Enum for the tile type.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UV2Qs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UV2Qs.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Core Data:</strong></p>\n\n<p>I have 2 important entities in Core Data : </p>\n\n<ul>\n<li>CDCity</li>\n<li>CDTile (the blocs)</li>\n</ul>\n\n<p>It is important to notice the relationship between those entities.</p>\n\n<p>This is <strong>CDTile</strong>\n<a href=\"https://i.stack.imgur.com/qaYF4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qaYF4.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is <strong>CDCity</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/CtAFg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CtAFg.png\" alt=\"enter image description here\"></a></p>\n\n<p>To put it in a nutshell, all our specific bloc type inherit from CDTile, which is linked with CDCity.</p>\n\n<p>I have created an extension to the default CDCity file, which is called CDCity+Additions. </p>\n\n<p>Here I am calling this :</p>\n\n<pre><code>-(void)awakeFromInsert\n{\n    [super awakeFromInsert];\n\n    // create the default homepage configuration for the current city.\n    [self createDefaultTilesWithContext:self.managedObjectContext];\n}\n</code></pre>\n\n<p>It is the core method of the feature :</p>\n\n<pre><code>-(void)createDefaultTilesWithContext:(NSManagedObjectContext*)ctxt\n{\n    NSString * tilesConfigPath = [[NSString alloc] init];\n    tilesConfigPath = [[NSBundle mainBundle] pathForResource:@\"tilesDefaultConfig\" ofType:@\"plist\"];\n\n    NSArray * tilesConfig = [NSArray arrayWithContentsOfFile:tilesConfigPath];\n\n    for (NSDictionary *config in tilesConfig) {\n        NSNumber *tileType = [config objectForKey:TILE_CONFIG_KEY_TYPE];\n        NSString *tileEntity = nil;\n\n        switch (tileType.intValue) {\n\n            case TileRegionalForecast:\n                tileEntity = @\"CDRegionalForecastTile\";\n                break;\n\n            case TileNextDays:\n                tileEntity = @\"CDNextDaysTile\";\n                break;\n\n            case TileRadar:\n                tileEntity = @\"CDRadarTile\";\n                break;\n\n            case TileSatellite:\n                tileEntity = @\"CDSatelliteTile\";\n                break;\n\n            case TileRainInTheHour:\n                tileEntity = @\"CDRainInTheHourTile\";\n                break;\n\n            case TileMountainForecast:\n                tileEntity = @\"CDMountainTile\";\n                break;\n\n            default:\n                NSLog(@\"Unknown tile : %@\", tileType);\n                break;\n        }\n\n        if (nil != tileEntity) {\n            CDTile *c = (CDTile*)[NSEntityDescription insertNewObjectForEntityForName:tileEntity inManagedObjectContext:ctxt];\n            [c initWithConfigDict:config];\n            c.city = self;\n        }\n    }\n}\n</code></pre>\n\n<p>Here I init the tile from the pList parameters :</p>\n\n<pre><code>-(void)initWithConfigDict:(NSDictionary *)configDict\n{\n    self.type = [configDict objectForKey:TILE_CONFIG_KEY_TYPE];\n    self.moveable = [configDict objectForKey:TILE_CONFIG_KEY_MOVEABLE];\n    self.deletable = [configDict objectForKey:TILE_CONFIG_KEY_DELETABLE];\n    self.index = [configDict objectForKey:TILE_CONFIG_KEY_DEFAULT_INDEX];\n    self.widthRatio = [configDict objectForKey:TILE_CONFIG_KEY_WIDTH_RATIO];\n}\n</code></pre>\n\n<p><strong>The REAL question :</strong></p>\n\n<p>What if I want to add an other tile in the default configuration, for a new feature for example.</p>\n\n<p><strong>What I am doing :</strong></p>\n\n<p>I create the new entity <strong>CDMyNewTile</strong>, with <strong>CDTile</strong> as parent entity in Core Data, in a new xcdatamodel version. Which will be handled as a lightweight migration because I am only adding an entity, nothing complex.</p>\n\n<p>I then add the item to my plist for de default configuration and in my Enum of tile type.</p>\n\n<p>Finally this is the method I have created : </p>\n\n<pre><code>-(void)createNewTileIfNeededWithContext:(NSManagedObjectContext *)context\n{\n    NSString * tilesConfigPath = [[NSString alloc] init];\n\n    tilesConfigPath = [[NSBundle mainBundle] pathForResource:@\"tilesDefaultConfig\" ofType:@\"plist\"];\n\n    NSArray * tilesConfig = [NSArray arrayWithContentsOfFile:tilesConfigPath];\n\n    NSSet *newTile = [self.tiles filteredSetUsingPredicate:[NSPredicate predicateWithFormat:@\"type == %@\", @(NewTileType)]];\n\n    if (0 == [newTile count]) {\n        // The new tile isn't in the context, we add it\n\n        CDNewTile *newTile = (CDNewTile *)[NSEntityDescription insertNewObjectForEntityForName:@\"CDNewTile\" inManagedObjectContext:context];\n        [self addTilesObject: newTile];\n        [newTile initWithConfigDict:[tilesConfig objectAtIndex:12]]; //index in plist\n        newTile.city = self;\n        newTile.eligible = [NSNumber numberWithBool:YES];\n    }\n}\n</code></pre>\n\n<p>But I don't really know when to call this method, should I create a method like this for every entity I want to add in my context ?</p>\n\n<p>Because here is the issue:</p>\n\n<ul>\n<li>An user have saved some cities as favorites, with specific configurations.</li>\n<li>When he will update the app, for every not saved cities as favorite, the default homePage configuration will be applied, and then my new bloc will be added.</li>\n<li>But how to update the configuration of the favorite cities ? I mean, add my new bloc to the favorite cities ?</li>\n</ul>\n\n<p>I feel like CoreData is a powerful tool, but sometimes it is very complicated for just simple action.</p>\n\n<p>How to simply add an entity to the context, so that the lightweight migration process handles everything, and even old context get updated?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This is in my AppDelegate, to enable the lightweight migration :</p>\n\n<pre><code>- (NSPersistentStoreCoordinator *)persistentStoreCoordinator\n{\n    if (_persistentStoreCoordinator != nil)\n    {\n        return _persistentStoreCoordinator;\n    }\n\n    NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@\"****.sqlite\"];\n\n    NSError *error = nil;\n\n    // Create a dictionary for automatic lightweight core data migration\n    NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:\n                             [NSNumber numberWithBool:YES], NSMigratePersistentStoresAutomaticallyOption,\n                             [NSNumber numberWithBool:YES], NSInferMappingModelAutomaticallyOption,\n                             nil];\n\n    _persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];\n\n    // Set up the persistent store and migrate if needed\n    if (![_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:options error:&amp;error])\n    {\n        NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n        abort();\n    }\n\n    return _persistentStoreCoordinator;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "sirikit"], "owner": {"reputation": 11, "user_id": 9167313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52aa46636accf228ebcca89f8c2ce171?s=128&d=identicon&r=PG&f=1", "display_name": "Arunava Sanyal", "link": "https://stackoverflow.com/users/9167313/arunava-sanyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514970720, "creation_date": 1514970720, "last_edit_date": 1592644375, "question_id": 48074310, "link": "https://stackoverflow.com/questions/48074310/insendmessageintenthandling-sirkit-skipping-handlesendmessage-intent", "title": "INSendMessageIntentHandling sirkit skipping handleSendMessage intent", "body": "<p>I added NSLog(..) statements on each method but it was not going to the handle send message delegate. I need to get some message from Siri to do some tasks. Also, is there any way to get the date/time from speech with INSentMessageDomiain</p>\n<h1>import &quot;IntentHandler.h&quot;</h1>\n<pre><code>// As an example, this class is set up to handle Message intents.\n// You will want to replace this or add other intents as appropriate.\n// The intents you wish to handle must be declared in the extension's Info.plist.\n\n// You can test your example integration by saying things to Siri like:\n// &quot;Send a message using &lt;myApp&gt;&quot;\n// &quot;&lt;myApp&gt; John saying hello&quot;\n// &quot;Search for messages in &lt;myApp&gt;&quot;\n\n@interface IntentHandler () &lt;INSendMessageIntentHandling, INSearchForMessagesIntentHandling, INSetMessageAttributeIntentHandling&gt;\n{\n    NSString *resName;\n}\n@end\n\n@implementation IntentHandler\n\n- (id)handlerForIntent:(INIntent *)intent {\n    // This is the default implementation.  If you want different objects to handle different intents,\n    // you can override this and return the handler you want for that particular intent.\n   \n    if ([intent isKindOfClass:[INSendMessageIntent class]]) {\n        \n    }\n    return self;\n}\n#pragma mark - INSendMessageIntentHandling\n// Implement resolution methods to provide additional information about your intent (optional).\n\n- (void)resolveRecipientsForSendMessage:(INSendMessageIntent *)intent withCompletion:(void (^)(NSArray&lt;INPersonResolutionResult *&gt; *resolutionResults))completion {\n    // If no recipients were provided we'll need to prompt for a value.\n    NSMutableArray&lt;INPersonResolutionResult *&gt; *resolutionResults = [NSMutableArray array];\n    \n    //NSArray&lt;INPerson *&gt; *recipients = intent.recipients;\n    [resolutionResults addObject:[INPersonResolutionResult notRequired]];\n    completion(resolutionResults);\n}\n- (void)resolveContentForSendMessage:(INSendMessageIntent *)intent withCompletion:(void (^)(INStringResolutionResult *resolutionResult))completion {\n    NSString *text = intent.content;\n    \n    if (text.length == 0) {\n        completion([INStringResolutionResult needsValue]);\n    }\n    else {\n        completion([INStringResolutionResult successWithResolvedString:text]);\n    }\n}\n\n// Handle the completed intent (required).\n- (void)handleSendMessage:(INSendMessageIntent *)intent completion:(void (^)(INSendMessageIntentResponse *response))completion {\n    \n     //Implement your application logic to send a message here.\n    NSUserActivity *userActivity = [[NSUserActivity alloc] initWithActivityType:NSStringFromClass([INSendMessageIntent class])];\n    INSendMessageIntentResponse *response = [[INSendMessageIntentResponse alloc]initWithCode:INSendMessageIntentResponseCodeSuccess userActivity:userActivity];\n    completion(response);\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "radio-button"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1514968722, "post_id": 48073729, "comment_id": 83121203, "body": "Cocoa or Cocoa Touch? Did you try anything?"}, {"owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1514969213, "post_id": 48073729, "comment_id": 83121436, "body": "please see my update code above"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "edited": false, "score": 0, "creation_date": 1514976954, "post_id": 48074438, "comment_id": 83125511, "body": "While i am iterating the self.view.subView only i am getting the label and scrollview.i am not getting the unbutton in that"}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "reply_to_user": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "edited": false, "score": 0, "creation_date": 1515057103, "post_id": 48074438, "comment_id": 83158196, "body": "Replace self.view with RadioView."}], "tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": true, "score": 0, "last_activity_date": 1514972193, "last_edit_date": 1514972193, "creation_date": 1514971186, "answer_id": 48074438, "question_id": 48073729, "link": "https://stackoverflow.com/questions/48073729/creating-radio-button-dynamically/48074438#48074438", "title": "Creating Radio Button dynamically", "body": "<pre><code>-(void)radioSelected:(UIButton*)sender {\n\n     int tag =sender.tag;\n     NSLog(@\"buttonSelectedtag:%d\",tag);\n\n     sender.selected = !sender.selected;\n     self.yourButton = sender;\n\n     for (UIButton *i in self.view.subviews){\n          if([i isKindOfClass:[UIButton class]]){\n              UIButton *btn = (UIButton *)i;\n              if(btn.tag == previouslySelectedTag){ //hold previouslySelectedTag, selectedTag globally \n                // Write your code. Change Button Image\n              }\n          }\n      }\n      previouslySelectedTag = sender.tag;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 48074438, "answer_count": 1, "score": 0, "last_activity_date": 1514972193, "creation_date": 1514968151, "last_edit_date": 1514969566, "question_id": 48073729, "link": "https://stackoverflow.com/questions/48073729/creating-radio-button-dynamically", "title": "Creating Radio Button dynamically", "body": "<p>I am want to create a dynamic radio button from the array count.If i select any one radio button other radio button should in Deselect State.\nPlease help me to do this .</p>\n\n<pre><code>   for (int f = 0; f&lt;self.arr.count; f++) {\n\n        UILabel *lbl = [[UILabel alloc]init];\n             lbl.frame = CGRectMake(20,radio_y+10 , 30, 20);\n\n             lbl.text = self.arr[f];\n             lbl.textColor = [UIColor blackColor];\n\n\n             [RadioView addSubview:lbl];\n\n          self.yourButton = [[UIButton alloc] initWithFrame:CGRectMake(5,radio_y+5 , 10, 10)];\n             [self.yourButton setImage: [UIImage imageNamed:@\"RadioButton-Selected.png\"]forState:UIControlStateNormal];\n             [self.yourButton setImage: [UIImage imageNamed:@\"RadioButton-Unselected.png\"]forState: UIControlStateNormal];\n             self.yourButton.selected = NO;\n\n               [self.yourButton addTarget:self action:@selector(radioSelected:) forControlEvents:UIControlEventTouchUpInside];\n             [self.yourButton setTag:baseradioTag+f];\n\n             NSLog(@\"%ld\",(long)self.yourButton.tag);\n\n             [RadioView addSubview:self.yourButton];\n\n             radio_y = radio_y +(verticalPadding+5);\n                          }\n  -(void)radioSelected:(UIButton*)sender {\n\nint tag =sender.tag;\nNSLog(@\"buttonSelectedtag:%d\",tag);\n\nsender.selected = !sender.selected;\nself.yourButton = sender;\n}\n</code></pre>\n\n<p>And I did like this , but if i touch on the button ,button is not changing to selected image.</p>\n"}, {"tags": ["objective-c", "ionic2", "cordova-plugins", "ios-bluetooth", "escpos"], "comments": [{"owner": {"reputation": 2209, "user_id": 588742, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/QI0Ha.png?s=128&g=1", "display_name": "Prasad De Zoysa", "link": "https://stackoverflow.com/users/588742/prasad-de-zoysa"}, "edited": false, "score": 0, "creation_date": 1601226366, "post_id": 48073647, "comment_id": 113334056, "body": "Hi @krata, I&#39;m having the same issue. Have you made any progress with this matter?"}], "owner": {"reputation": 101, "user_id": 3365839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0bc867d0297ab544a162d27f30f51c55?s=128&d=identicon&r=PG&f=1", "display_name": "krata", "link": "https://stackoverflow.com/users/3365839/krata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514970166, "creation_date": 1514967784, "last_edit_date": 1514970166, "question_id": 48073647, "link": "https://stackoverflow.com/questions/48073647/bluetooth-serialios-rongta-rpp200-b-slowly-and-chopped-print", "title": "Bluetooth-serial(iOS) + Rongta RPP200-B - slowly and chopped print", "body": "<p>I use bluetooth printer Rongta RPP200-B and cordova plugin Bluetooth-serial for printing on mobile devices.</p>\n\n<p>On android devices are everthing ok, but on iOS devices is printing very slowly and chopped, especially images are printing very very slowly. I tried to changed native objective-c implementation of plugin write function, but it didn't bring the expected result.</p>\n\n<p>This is my last implementation of write function in BLE.m. The data are sending to plugin as one bulk and there are splitting to packets and sending on BT source.</p>\n\n<pre><code>static const int MAX_BUF_LENGTH = 128;\n\n-(void) write:(NSData *)d\n{\n\n    NSInteger data_len = d.length;\n    NSData *buffer;\n    int i = 0;\n\n    // split data into packets\n    for(; i &lt; data_len; i+=MAX_BUF_LENGTH)\n    {\n        NSInteger remainLength = data_len-i;\n        NSInteger bufLen = ((remainLength)&gt;MAX_BUF_LENGTH) ? MAX_BUF_LENGTH:remainLength;\n        buffer = [d subdataWithRange:NSMakeRange(i, bufLen)];\n        // write packet on BT  \n        [self writeValue:serialServiceUUID characteristicUUID:writeCharacteristicUUID p:activePeripheral data:buffer];\n    }\n}\n</code></pre>\n\n<p>I also tried sending to plugin splitted packets and use default implementation of function, but it was even worse. Here is default implementation.</p>\n\n<pre><code>-(void) write:(NSData *)d {\n  [self writeValue:serialServiceUUID characteristicUUID:writeCharacteristicUUID p:activePeripheral data:d];\n}\n</code></pre>\n\n<p>Do you have any idea what can be help? Thanks.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 842, "user_id": 9120910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebb4fe999d4f68a5dd5af3c9700930aa?s=128&d=identicon&r=PG", "display_name": "Madhur", "link": "https://stackoverflow.com/users/9120910/madhur"}, "edited": false, "score": 0, "creation_date": 1514966299, "post_id": 48073339, "comment_id": 83120242, "body": "you can refer to this post: <a href=\"https://stackoverflow.com/questions/36313253/how-to-check-if-wkwebview-finish-loading-in-objective-c\" title=\"how to check if wkwebview finish loading in objective c\">stackoverflow.com/questions/36313253/&hellip;</a>"}, {"owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "reply_to_user": {"reputation": 842, "user_id": 9120910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebb4fe999d4f68a5dd5af3c9700930aa?s=128&d=identicon&r=PG", "display_name": "Madhur", "link": "https://stackoverflow.com/users/9120910/madhur"}, "edited": false, "score": 0, "creation_date": 1514966362, "post_id": 48073339, "comment_id": 83120270, "body": "yes I&#39;m already using webView:didFinishNavigation: to detect. However, does it trigger after the base64 image is loaded or before?"}], "answers": [{"comments": [{"owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516093353, "post_id": 48275649, "comment_id": 83538217, "body": "Hi @trungduc, it&#39;s a nice trick if the image frame is not loaded. In my case, the image frame is there (hence, the height of the webview is the same when the image is loaded and when it&#39;s not) just that the image is not loaded :("}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516093856, "post_id": 48275649, "comment_id": 83538543, "body": "Ok I got it. Can you show me the way you changed image? I think we just need to change javascript to be suitable with your problem."}, {"owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516094229, "post_id": 48275649, "comment_id": 83538745, "body": "I&#39;m just using a simple image tag, the data source is in base64 format as shown in the question. &lt; img class=&quot;icon&quot; src=&quot;data:image/png;base64,/9j/4AAQSkZJRgABAQEAlgCWAAD/7gAOQ&zwnj;&#8203;WRvYmUAZAAAAAAA/...&gt;"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516094622, "post_id": 48275649, "comment_id": 83538981, "body": "So in case image isn&#39;t loaded, src will be empty. Is it right?"}, {"owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516095490, "post_id": 48275649, "comment_id": 83539540, "body": "It&#39;s hard to replicate the issue. Are you able to test it using a very large data source? Theoretically the source will be empty when the image is not loaded."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516095887, "post_id": 48275649, "comment_id": 83539803, "body": "If src is empty in case image isn&#39;t loaded, my solution will work. You should download repo to check first. Try to remove src in my html string and you will know it work or not."}, {"owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516184910, "post_id": 48275649, "comment_id": 83582092, "body": "Image is still missing after trying for a few times. Is it cause by WKWebview rendering issue?"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516185326, "post_id": 48275649, "comment_id": 83582377, "body": "I don&#39;t think it&#39;s <code>WKWebView</code> rendering issue. I think you should check the way you change image."}, {"owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516186605, "post_id": 48275649, "comment_id": 83583250, "body": "removing the base64 image and replace with a file. &lt;img width=&quot;300px;&quot; height=&quot;230px;&quot; src=&quot;Logo.jpeg&quot;&gt;. Not sure if this is what you meant..."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "edited": false, "score": 0, "creation_date": 1516187247, "post_id": 48275649, "comment_id": 83583662, "body": "<code>Image is still missing after trying for a few times</code>. Do you mean image doesn&#39;t appear or <code>didReceiveScriptMessage</code> didn&#39;t be called?"}], "tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": false, "score": 2, "last_activity_date": 1531479923, "last_edit_date": 1531479923, "creation_date": 1516086226, "answer_id": 48275649, "question_id": 48073339, "link": "https://stackoverflow.com/questions/48073339/how-to-detect-if-an-image-in-a-html-is-fully-loaded-in-wkwebview/48275649#48275649", "title": "How to detect if an image in a html is fully loaded in WKWebView?", "body": "<p>My solution is using javascript code to check content's height of <code>webView</code>. If the height is bigger than or equal a number (it means that having something inside webView, it's the image), post a message to <code>webView</code> and use <code>WKScriptMessageHandler</code> to handle message in native code.</p>\n\n<p><strong>Example</strong></p>\n\n<p>Create javascript code. Check if content's height is bigger than 50, post message to check image is loaded.</p>\n\n<pre><code>NSString* source =\n    [NSString stringWithFormat:\n                  @\"var sizeInterval = setInterval(\"\n                   \"function() {\"\n                   \"var h = 0;\"\n                   \"var children = document.body.children;\"\n                   \"for (var c = 0; c &lt; children.length; c++) {\"\n                   \"h += children[c].offsetHeight;\"\n                   \"}\"\n                   \"if (h &gt; 50) {\"\n                   \"clearInterval(sizeInterval);\"\n                   \"window.webkit.messageHandlers.%@.postMessage('loaded');\"\n                   \"}\"\n                   \"},\"\n                   \"100);\",\n                  kContentLoadedMessage];\n\nWKUserScript* script = [[WKUserScript alloc]\n      initWithSource:source\n       injectionTime:WKUserScriptInjectionTimeAtDocumentStart\n    forMainFrameOnly:YES];\n\nWKUserContentController* contentController =\n    [[WKUserContentController alloc] init];\n[contentController addUserScript:script];\n[contentController addScriptMessageHandler:self name:kContentLoadedMessage];\n\nWKWebViewConfiguration* configuration = [[WKWebViewConfiguration alloc] init];\nconfiguration.userContentController = contentController;\n\nYOUR_WK_WEB_VIEW =\n    [[WKWebView alloc] initWithFrame:CGRectZero configuration:configuration];\n// Add webView to a view and load html\n</code></pre>\n\n<p>Using <code>WKScriptMessageHandler</code> to handle message.</p>\n\n<pre><code>- (void)userContentController:(WKUserContentController*)userContentController\n      didReceiveScriptMessage:(WKScriptMessage*)message {\n  if ([message.name isEqualToString:kContentLoadedMessage]) {\n    NSLog(@\"Image was loaded\");\n  }\n}\n</code></pre>\n\n<p>You can check <a href=\"https://github.com/trungducc/stackoverflow/tree/wkwebview-detect-image-loaded\" rel=\"nofollow noreferrer\">my demo repo</a> for more understanding.</p>\n"}], "owner": {"reputation": 6648, "user_id": 1872384, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/zkbM1.png?s=128&g=1", "display_name": "user1872384", "link": "https://stackoverflow.com/users/1872384/user1872384"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531479923, "creation_date": 1514966181, "last_edit_date": 1514967658, "question_id": 48073339, "link": "https://stackoverflow.com/questions/48073339/how-to-detect-if-an-image-in-a-html-is-fully-loaded-in-wkwebview", "title": "How to detect if an image in a html is fully loaded in WKWebView?", "body": "<p>I'm loading a local html with a &lt; img> tag e.g. : </p>\n\n<pre><code>&lt; img class=\"icon\" src=\"data:image/png;base64,/9j/4AAQSkZJRgABAQEAlgCWAAD/7gAOQWRvYmUAZAAAAAAA/...\n</code></pre>\n\n<p>However, how can I detect if the image is fully loaded? I'm using this to detect. However, it doesn't seem to work. Sometimes the image is loaded, sometimes it's not.</p>\n\n<pre><code>-(void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation{\n    if (webView.isLoading) return;\n    ..\n    //proceed to load the second html\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>I've added a delay in the didFinishNavigation delegate and the image is loaded perfectly: </p>\n\n<pre><code>-(void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation{\nif (webView.isLoading) return;\n\n\ndouble delayInSeconds = 3.0;\ndispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delayInSeconds * NSEC_PER_SEC));\ndispatch_after(popTime, dispatch_get_main_queue(), ^(void){\n    NSLog(@\"Do some work\");\n\n});\n\n}\n</code></pre>\n\n<p>However, this is an interim solution. Is there a better solution?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "swift"], "comments": [{"owner": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 1, "creation_date": 1514966598, "post_id": 48073329, "comment_id": 83120367, "body": "Your object &#39;entityType&#39; has type CWPWEntity instead of CWPWModule. And when you try to send it, it crashes because of incompatible type."}, {"owner": {"reputation": 1399, "user_id": 4955401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-TVfMl1TtiO4/AAAAAAAAAAI/AAAAAAAAAC0/lveDcoazCts/photo.jpg?sz=128", "display_name": "Parv Bhasker", "link": "https://stackoverflow.com/users/4955401/parv-bhasker"}, "reply_to_user": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1514967999, "post_id": 48073329, "comment_id": 83120905, "body": "Ohh my bad... Thanks a lot @Eridana now i get it."}], "owner": {"reputation": 1399, "user_id": 4955401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-TVfMl1TtiO4/AAAAAAAAAAI/AAAAAAAAAC0/lveDcoazCts/photo.jpg?sz=128", "display_name": "Parv Bhasker", "link": "https://stackoverflow.com/users/4955401/parv-bhasker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520169469, "creation_date": 1514966138, "last_edit_date": 1520169469, "question_id": 48073329, "link": "https://stackoverflow.com/questions/48073329/inciompatible-pointer-types-sending-cwpwentity-to-parameter-of-type-cwpwmod", "title": "IncIompatible pointer types sending &#39;CWPWEntity *&#39; to parameter of type &#39;CWPWModule * _Nonnull&#39;", "body": "<p>I made some changes to swift class so that it would be used in objective-c by using @objc syntax.</p>\n\n<p>By doing so the function in the Project-swift.h file us showing like this </p>\n\n<pre><code>- (void)addFromServiceWithSource:(CWPWModule * _Nonnull)source;\n</code></pre>\n\n<p>In the function, _Nonnull is added by system itself</p>\n\n<p>and while calling the function in <code>objective-c</code> class it gives a warning </p>\n\n<blockquote>\n  <p>Incompatible pointer types sending 'CWPWEntity *' to parameter of type 'CWPWModule * _Nonnull'</p>\n</blockquote>\n\n<p>and when I pass the value app crashes.</p>\n\n<p>How should I do this</p>\n\n<pre><code>[self.entityGroupData addFromServiceWithSource:entityType];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "memory-management", "memory-leaks"], "comments": [{"owner": {"reputation": 382, "user_id": 6684824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be60ef65f35a846db65522b36ddc5d7b?s=128&d=identicon&r=PG&f=1", "display_name": "NF Lee", "link": "https://stackoverflow.com/users/6684824/nf-lee"}, "edited": false, "score": 0, "creation_date": 1514964649, "post_id": 48072935, "comment_id": 83119558, "body": "Try put a weak self into the array."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2854366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35e3f6d3aeeb6dfbf055a7668bfc8812?s=128&d=identicon&r=PG&f=1", "display_name": "Pursuing perfection", "link": "https://stackoverflow.com/users/2854366/pursuing-perfection"}, "edited": false, "score": 0, "creation_date": 1514965421, "post_id": 48073054, "comment_id": 83119858, "body": "Thanks for replying can you please tell in bit detail why setting vc to nil will not clear self in dict, dict object is in vc and when the whole class is set to nil why it wont work on dict holding self, is the self in dict is another copy?"}, {"owner": {"reputation": 17010, "user_id": 2912282, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5HEmE.jpg?s=128&g=1", "display_name": "Milan Nos&#225;\u013e", "link": "https://stackoverflow.com/users/2912282/milan-nos%c3%a1%c4%be"}, "reply_to_user": {"reputation": 83, "user_id": 2854366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35e3f6d3aeeb6dfbf055a7668bfc8812?s=128&d=identicon&r=PG&f=1", "display_name": "Pursuing perfection", "link": "https://stackoverflow.com/users/2854366/pursuing-perfection"}, "edited": false, "score": 0, "creation_date": 1514966867, "post_id": 48073054, "comment_id": 83120472, "body": "@Pursuingperfection I tried to elaborate on the explanation.. <code>self</code> in <code>dict</code> is basically another reference to the <code>vc2</code>, so if it is <code>strong</code>, it will keep the <code>vc2</code> around.."}, {"owner": {"reputation": 17010, "user_id": 2912282, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5HEmE.jpg?s=128&g=1", "display_name": "Milan Nos&#225;\u013e", "link": "https://stackoverflow.com/users/2912282/milan-nos%c3%a1%c4%be"}, "reply_to_user": {"reputation": 83, "user_id": 2854366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35e3f6d3aeeb6dfbf055a7668bfc8812?s=128&d=identicon&r=PG&f=1", "display_name": "Pursuing perfection", "link": "https://stackoverflow.com/users/2854366/pursuing-perfection"}, "edited": false, "score": 0, "creation_date": 1514968759, "post_id": 48073054, "comment_id": 83121222, "body": "@Pursuingperfection glad to help"}], "tags": [], "owner": {"reputation": 17010, "user_id": 2912282, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5HEmE.jpg?s=128&g=1", "display_name": "Milan Nos&#225;\u013e", "link": "https://stackoverflow.com/users/2912282/milan-nos%c3%a1%c4%be"}, "is_accepted": true, "score": 3, "last_activity_date": 1514966791, "last_edit_date": 1514966791, "creation_date": 1514964915, "answer_id": 48073054, "question_id": 48072935, "link": "https://stackoverflow.com/questions/48072935/need-assistance-regarding-memory-management/48073054#48073054", "title": "Need assistance regarding memory management", "body": "<p>Well, if the reference to dictionary is <code>strong</code>, <code>vc2</code> creates a retain cycle - it references itself through the dictionary. So dropping the reference to it from root won't help, there will still be at least one reference existing - the one from dictionary.</p>\n\n<p>It's simple - if there is a reference to an object, it has to be retained, you cannot release it. Since <code>vc2</code> holds a reference to the dictionary, the dictionary cannot be released while <code>vc2</code> exists. However, the dictionary itself holds a reference to <code>vc2</code>, therefore <code>vc2</code> cannot be released until the dictionary exists. This is the retain cycle - <strong><code>vc2</code> keeps the dictionary alive, and the dictionary keeps the <code>vc2</code> alive</strong>.</p>\n\n<p>You can break this cycle by using <code>weak</code> reference type - weak means that this reference will not be used to determine if the object has to be retained. From the viewpoint of retaining/releasing the <code>weak</code> references don't count. So when you make the dictionary property <code>weak</code>, you are saying that the <code>vc2</code> should not keep the dictionary alive. In other words, you are saying that if no other object has a reference to this dictionary, <code>vc2</code> should not be a reason for retaining it and in such a case the dictionary can be released. BUT, since when you create the dictionary in <code>vc2</code> the ONLY reference to it is the one in <code>vc2</code>, the <code>weak</code> one, there is no <code>strong</code> reference to it that would prevent releasing it. This results in following:</p>\n\n<pre><code>// here you create a dictionary and assign it to your weak dict property\nself.dict = @{@\"self\":self};\n// but right here, after executing it, the only reference to the created dictionary\n// is the weak one - that means that the dictionary can be released!\n// thus, if you try to print dict right on the next line, it will be nil\n// because it was released right after creation\n</code></pre>\n\n<p>That's the problem with using <code>weak</code> reference to the dictionary. Every object is retained (exists) only when there is at least one <code>strong</code> reference to it. But in this case the poor dictionary will not get a single <code>strong</code> reference to it.</p>\n\n<p>What you want here is a <code>strong</code> reference to a dictionary. That will make sure that the dictionary will exist while the <code>vc2</code> exists. But you need to break the retain cycle somewhere. To identify what is supposed to be <code>weak</code> is pretty easy: just ask which object is supposed to be dependent on which:</p>\n\n<ul>\n<li><em>Can the dictionary be released, while the <code>vc2</code> exists?</em></li>\n<li>No, it cannot, dictionary should be retained while the <code>vc2</code> exists.</li>\n<li><em>Can the <code>vc2</code> be released, while the dictionary exists?</em></li>\n<li>Yes it can! In fact, when <code>vc2</code> is released, that's the point when dictionary can be released too.</li>\n</ul>\n\n<p>This means that the dictionary is dependent on the <code>vc2</code>, not vice versa. So you want a strong reference from <code>vc2</code> to dictionary - that will make sure that while <code>vc2</code> exists, the dictionary exists. But you don't want the existence of the dictionary to keep the <code>vc2</code> retained - when other objects release <code>vc2</code>, the dictionary must not hold the <code>vc2</code> alive. Therefore you need a <code>weak</code> reference from the dictionary to the <code>vc2</code>, not a <code>strong</code> one. That should point you in the right direction - the <code>self</code> reference that you are adding to the dictionary is the one that should be <code>weak</code>.</p>\n\n<p>Check for example this <a href=\"https://stackoverflow.com/questions/8748736/weak-object-in-an-nsdictionary\">SO question</a> for some advices on how to approach weak entries in a dictionary.</p>\n"}], "owner": {"reputation": 83, "user_id": 2854366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35e3f6d3aeeb6dfbf055a7668bfc8812?s=128&d=identicon&r=PG&f=1", "display_name": "Pursuing perfection", "link": "https://stackoverflow.com/users/2854366/pursuing-perfection"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 48073054, "answer_count": 1, "score": 0, "last_activity_date": 1515051896, "creation_date": 1514964277, "last_edit_date": 1515051896, "question_id": 48072935, "link": "https://stackoverflow.com/questions/48072935/need-assistance-regarding-memory-management", "title": "Need assistance regarding memory management", "body": "<p><strong>vc2.h</strong></p>\n\n<pre><code>@interface vc2 : UIViewController\n\n@property (nonatomic, strong) NSDictionary *dict;\n\n@end\n</code></pre>\n\n<p><strong>vc2.m</strong></p>\n\n<pre><code>- (instancetype)init\n{\n    self = [super init];\n    if (self) {\n        self.dict = @{@\"self\":self};\n    }\n    return self;\n}\n</code></pre>\n\n<p><strong>Root VC</strong></p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    vc = [[vc2 alloc]init];\n}\n\n-(void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:YES];\n    vc = nil;\n}\n</code></pre>\n\n<p><code>vc2</code> strong <code>NSDictionary</code> property holds <code>self</code> and I am setting <code>vc2</code> to <code>nil</code> in root VC but when I check this in instruments <code>vc2</code> instance still exists.</p>\n\n<p>When I set <code>weak</code> <code>NSDictionary</code> property <code>vc2</code> instance gets released after setting it to <code>nil</code>, but Xcode gives me this warning <em>Assigning dictionary literal to a weak property; object will be released after assignment</em></p>\n\n<p>What is going on regarding this memory management?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "generics"], "answers": [{"tags": [], "owner": {"reputation": 1399, "user_id": 4955401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-TVfMl1TtiO4/AAAAAAAAAAI/AAAAAAAAAC0/lveDcoazCts/photo.jpg?sz=128", "display_name": "Parv Bhasker", "link": "https://stackoverflow.com/users/4955401/parv-bhasker"}, "is_accepted": false, "score": 0, "last_activity_date": 1514980593, "creation_date": 1514980593, "answer_id": 48076920, "question_id": 48072500, "link": "https://stackoverflow.com/questions/48072500/use-generic-extended-swift-class-in-objective-c/48076920#48076920", "title": "Use generic extended swift class in Objective-c", "body": "<p>I got my solution by creating another class which contain a protocol and i indirectly call the generic extended class.</p>\n\n<pre><code>class EntityDataTable :BaseData&lt;EntitySw&gt; {\n}\n</code></pre>\n\n<p>this is the generic extended class</p>\n\n<p>and the another class i made to indirectly access this class in objective-c is</p>\n\n<pre><code>@objc class EntityService : NSObject {\n var entityProtocol:EntityDataProtocol?\n\n override init() {\n    super.init()\n    entityProtocol = returnDataObject()\n }\n\n  func returnDataObject() -&gt; EntityDataTable {\n    return EntityDataTable()\n  }\n }\n\n@objc protocol EntityDataProtocol{\n  func addFromService(source: CWEntity)\n  func getAll() -&gt; [EntitySw]\n}\n</code></pre>\n\n<p>Then i imported the Project-swift.h file in objective c class and made the object of swift class</p>\n"}], "owner": {"reputation": 1399, "user_id": 4955401, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-TVfMl1TtiO4/AAAAAAAAAAI/AAAAAAAAAC0/lveDcoazCts/photo.jpg?sz=128", "display_name": "Parv Bhasker", "link": "https://stackoverflow.com/users/4955401/parv-bhasker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1514980593, "creation_date": 1514961981, "question_id": 48072500, "link": "https://stackoverflow.com/questions/48072500/use-generic-extended-swift-class-in-objective-c", "title": "Use generic extended swift class in Objective-c", "body": "<p>In my project i have many swift classes that extend generic classes. And Now i'm in a need to send data from objective-c class to these swift classes. Is there any possible way to do this ?</p>\n\n<p>I have tried using @objc before class as shown below\n<a href=\"https://i.stack.imgur.com/JKigT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKigT.png\" alt=\"image 1\"></a>\nbut it didn't allow me to do this.</p>\n\n<p>I followed this answer <a href=\"https://stackoverflow.com/a/45057089/4955401\">stack link</a>. But i checked when i run my app with this code it dint create the variable in the Project-swift class as shown in below image <a href=\"https://i.stack.imgur.com/O07B9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O07B9.png\" alt=\"image 2\"></a>\nas the variable is not created here so it gives error while calling the variable in objective-c class.</p>\n\n<p>Kindly help out with better solution.</p>\n"}, {"tags": ["ios", "objective-c", "json", "google-books"], "comments": [{"owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "edited": false, "score": 0, "creation_date": 1514962226, "post_id": 48072115, "comment_id": 83118610, "body": "what you have done so far. please share your code"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1514962389, "post_id": 48072115, "comment_id": 83118671, "body": "NSJSONSerialization works correctly. It&#39;s just NSDictionaries, NSArray, NSString and NSNumber. Nothing too complicate to iterate."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514962892, "post_id": 48072115, "comment_id": 83118852, "body": "There is no pressure to have a special lib in Objective-C, because it is objective-C-ish to deal with generic types. However, I think that you are asking for an event-driven lib: <a href=\"https://github.com/stig/json-framework\" rel=\"nofollow noreferrer\">github.com/stig/json-framework</a>"}, {"owner": {"reputation": 139, "user_id": 9140847, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-RcHIEBfwgLI/AAAAAAAAAAI/AAAAAAAABDk/x-7dXf_7zBc/photo.jpg?sz=128", "display_name": "ashin asok", "link": "https://stackoverflow.com/users/9140847/ashin-asok"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1515068069, "post_id": 48072115, "comment_id": 83164732, "body": "@AminNegm-Awad what do u mean??"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1515081907, "post_id": 48072115, "comment_id": 83173171, "body": "I. e. if you want to access the content, you can use kvc or subscription without having a concrete type reading the JSON document. If you have a JSON object, you simply do not have to care whether it is an instance of an object type (class) of your app or a dictionary."}], "answers": [{"comments": [{"owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "edited": false, "score": 0, "creation_date": 1514967559, "post_id": 48072721, "comment_id": 83120733, "body": "One of the reasons that I could think of is that it might be easier than swift. But then y did apple implement the same for swift?"}, {"owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "reply_to_user": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "edited": false, "score": 0, "creation_date": 1514969731, "post_id": 48072721, "comment_id": 83121695, "body": "you will get your answer here <a href=\"https://mlsdev.com/blog/51-7-advantages-of-using-swift-over-objective-c\" rel=\"nofollow noreferrer\">mlsdev.com/blog/51-7-advantages-of-using-swift-over-objectiv&zwnj;&#8203;e-c</a>"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 2, "creation_date": 1514970195, "post_id": 48072721, "comment_id": 83121902, "body": "Don&#39;t use <code>valueForKey</code> unless you can explain why you need KVC. Can you? Use <code>objectForKey</code> or modern key subscription like <code>imageLinksDict[@&quot;thumbnail&quot;]</code>. And variable names are supposed to start with a lowercase letter."}, {"owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "edited": false, "score": 0, "creation_date": 1514971695, "post_id": 48072721, "comment_id": 83122626, "body": "it is just only a reference answer so that @ashin get some help to solve his issues"}, {"owner": {"reputation": 139, "user_id": 9140847, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-RcHIEBfwgLI/AAAAAAAAAAI/AAAAAAAABDk/x-7dXf_7zBc/photo.jpg?sz=128", "display_name": "ashin asok", "link": "https://stackoverflow.com/users/9140847/ashin-asok"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514976282, "post_id": 48072721, "comment_id": 83125122, "body": "@vadian can you give me an example??what is KVC?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514976716, "post_id": 48072721, "comment_id": 83125370, "body": "KVC is <a href=\"https://developer.apple.com/library/content/documentation/General/Conceptual/DevPedia-CocoaCore/KeyValueCoding.html\" rel=\"nofollow noreferrer\">Key-Value Coding</a>. It&#39;s used to access properties by key or key paths. But it&#39;s the wrong way to get a single value from a dictionary"}, {"owner": {"reputation": 139, "user_id": 9140847, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-RcHIEBfwgLI/AAAAAAAAAAI/AAAAAAAABDk/x-7dXf_7zBc/photo.jpg?sz=128", "display_name": "ashin asok", "link": "https://stackoverflow.com/users/9140847/ashin-asok"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1515067946, "post_id": 48072721, "comment_id": 83164650, "body": "@vadian can u give me an example of right way?? thanks!"}], "tags": [], "owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "is_accepted": false, "score": 0, "last_activity_date": 1514963156, "creation_date": 1514963156, "answer_id": 48072721, "question_id": 48072115, "link": "https://stackoverflow.com/questions/48072115/parsing-json-in-objective-c-and-is-there-anything-like-the-swifty-json-alternati/48072721#48072721", "title": "Parsing JSON in objective C and is there anything like the swifty Json alternative in Objective C. If not Why?", "body": "<pre><code>NSDictionary *MainDict =.....;  //it contain your JSON responce\n     NSLog(@\"str : %@\",MainDict);\n\n     NSDictionary * ItemDict = [MainDict valueForKey:@\"items\"]; //It create Item dictionary\n\n    //To get title\n    NSDictionary * TitleDict = [ItemDict valueForKey:@\"volumeInfo\"];\n    NSString * TitleStr = [TitleDict valueForKey:@\"title\"];             //You get title from here\n\n    //Author are in Array format so you can create an NSArray for author name\n    NSArray * AuthornameArray = [TitleDict valueForKey:@\"authors\"];     //you get Authors\n\n    //Description\n    NSString * DescriptionString = [ItemDict valueForKey:@\"description\"];\n\n    //Thumbnail\n    NSDictionary * imageLinksDict = [ItemDict valueForKey:@\"imageLinks\"];\n    NSString * ThumbnailStr = [imageLinksDict valueForKey:@\"thumbnail\"];        //Your thumbnail is here\n</code></pre>\n\n<p>You can Use <code>NSLog</code> to check correct response</p>\n"}], "owner": {"reputation": 139, "user_id": 9140847, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-RcHIEBfwgLI/AAAAAAAAAAI/AAAAAAAABDk/x-7dXf_7zBc/photo.jpg?sz=128", "display_name": "ashin asok", "link": "https://stackoverflow.com/users/9140847/ashin-asok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1514969683, "creation_date": 1514960067, "last_edit_date": 1514969683, "question_id": 48072115, "link": "https://stackoverflow.com/questions/48072115/parsing-json-in-objective-c-and-is-there-anything-like-the-swifty-json-alternati", "title": "Parsing JSON in objective C and is there anything like the swifty Json alternative in Objective C. If not Why?", "body": "<p>I am new to Objective C. I was trying to parse Google books API data.this is a sample API.</p>\n\n<pre><code>{  \n\"kind\":\"books#volumes\",\n\"totalItems\":1,\n\"items\":[  \n   {  \n      \"kind\":\"books#volume\",\n      \"id\":\"pDsFCAAAQBAJ\",\n      \"etag\":\"OVqN1FTxGJg\",\n     \"selfLink\":\"https://www.googleapis.com/books/v1/volumes/pDsFCAAAQBAJ\",\n     \"volumeInfo\":{  \n        \"title\":\"Code Complete\",\n        \"authors\":[  \n           \"Steve McConnell\"\n        ],\n        \"publisher\":\"Pearson Education\",\n        \"publishedDate\":\"2004\",\n        \"description\":\"Features the best practices in the art and science of constructing software--topics include design, applying good techniques to construction, eliminating errors, planning, managing construction activities, and relating personal character to superior software. Original. (Intermediate)\",\n        \"industryIdentifiers\":[  \n           {  \n              \"type\":\"ISBN_13\",\n              \"identifier\":\"9780735619678\"\n           },\n           {  \n              \"type\":\"ISBN_10\",\n              \"identifier\":\"0735619670\"\n           }\n        ],\n        \"readingModes\":{  \n           \"text\":false,\n           \"image\":true\n        },\n        \"pageCount\":914,\n        \"printType\":\"BOOK\",\n        \"categories\":[  \n           \"Computers\"\n        ],\n        \"averageRating\":4.5,\n        \"ratingsCount\":11,\n        \"maturityRating\":\"NOT_MATURE\",\n        \"allowAnonLogging\":false,\n        \"contentVersion\":\"preview-1.0.0\",\n        \"imageLinks\":{  \n           \"smallThumbnail\":\"http://books.google.com/books/content?id=pDsFCAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;edge=curl&amp;source=gbs_api\",\n           \"thumbnail\":\"http://books.google.com/books/content?id=pDsFCAAAQBAJ&amp;printsec=frontcover&amp;img=1&amp;zoom=1&amp;edge=curl&amp;source=gbs_api\"\n        },\n        \"language\":\"en\",\n        \"previewLink\":\"http://books.google.com/books?id=pDsFCAAAQBAJ&amp;printsec=frontcover&amp;dq=isbn:0735619670&amp;hl=&amp;cd=1&amp;source=gbs_api\",\n        \"infoLink\":\"http://books.google.com/books?id=pDsFCAAAQBAJ&amp;dq=isbn:0735619670&amp;hl=&amp;source=gbs_api\",\n        \"canonicalVolumeLink\":\"https://books.google.com/books/about/Code_Complete.html?hl=&amp;id=pDsFCAAAQBAJ\"\n     },\n     \"saleInfo\":{  \n        \"country\":\"US\",\n        \"saleability\":\"NOT_FOR_SALE\",\n        \"isEbook\":false\n     },\n     \"accessInfo\":{  \n        \"country\":\"US\",\n        \"viewability\":\"PARTIAL\",\n        \"embeddable\":true,\n        \"publicDomain\":false,\n        \"textToSpeechPermission\":\"ALLOWED_FOR_ACCESSIBILITY\",\n        \"epub\":{  \n           \"isAvailable\":false\n        },\n        \"pdf\":{  \n           \"isAvailable\":false\n        },\n        \"webReaderLink\":\"http://play.google.com/books/reader?id=pDsFCAAAQBAJ&amp;hl=&amp;printsec=frontcover&amp;source=gbs_api\",\n        \"accessViewStatus\":\"SAMPLE\",\n        \"quoteSharingAllowed\":false\n     },\n     \"searchInfo\":{  \n        \"textSnippet\":\"Features the best practices in the art and science of constructing software--topics include design, applying good techniques to construction, eliminating errors, planning, managing construction activities, and relating personal character to ...\"\n     }\n  }\n]\n}\n</code></pre>\n\n<p>I want to parse title, author, thumbnail and description.How can I do it?? is there a library I can use in objective c to do this.?</p>\n\n<p>If no library is present or if it's not preferred .... why is that?</p>\n\n<p>One of the reasons that I could think of is that it might be easier than swift. But then why did Apple implement the same for swift?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "xcode7"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1514957738, "post_id": 48071681, "comment_id": 83117064, "body": "can you show some code of tableview methods that what you have done in your side ?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1514957813, "post_id": 48071681, "comment_id": 83117083, "body": "Unless you have a very specific reason to use such old tools, you really should be using Xcode 9."}, {"owner": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514958246, "post_id": 48071681, "comment_id": 83117193, "body": "for the tableview methods, i simply followed the ones in the linked tutorial. also, i&#39;m using xcode 7 because it&#39;s what&#39;s installed in the available workpc and we&#39;re not allowed to download/upgrade unless advised by admin :/"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514958441, "post_id": 48071735, "comment_id": 83117239, "body": "i tried doing this but xcode pops up an error. it says &quot;Use of undeclared identifier (for the destination view controller)&quot; and &quot;property &quot;perform segue with identifier&quot; not found on object of type &quot;RecipeBookViewController&quot;"}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "reply_to_user": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514958577, "post_id": 48071735, "comment_id": 83117286, "body": "@xjm make sure your <code>segue_key</code> must match with the storyboard. And you have imported <code>RecipeBookViewController</code> in your FirstVC."}, {"owner": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514961832, "post_id": 48071735, "comment_id": 83118449, "body": "there are no error messages appearing now but clicking on an item just redirects me back to the current page"}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "reply_to_user": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514962177, "post_id": 48071735, "comment_id": 83118589, "body": "@xjm Make sure your next VC is <code>DetailViewController</code>."}], "tags": [], "owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "is_accepted": true, "score": 1, "last_activity_date": 1514962155, "last_edit_date": 1514962155, "creation_date": 1514957815, "answer_id": 48071735, "question_id": 48071681, "link": "https://stackoverflow.com/questions/48071681/redirection-for-detailsvc-is-not-working-on-click-of-uitableviews-cell-in-xcode/48071735#48071735", "title": "Redirection for detailsVC is not working on click of UITableView&#39;s Cell in Xcode 7", "body": "<p>In appCoda, they used segue to push so you might be not added this code in your project,</p>\n\n<pre><code>  - (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender\n  {\n     if ([segue.identifier isEqualToString:@\"segue_Key\"]) {\n      DetailViewController *nextVC = [segue destinationViewController];\n\n    }\n}\n  - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n {\n    [self performSegueWithIdentifier:@\"segue_Key\" sender:self];\n  }\n</code></pre>\n\n<p>If you facing issue in segue then remove the segue connection from storyboard and use below code ,</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n    {\n         DetailViewController *obj = (DetailViewController *) [self.storyboard instantiateViewControllerWithIdentifier:@\"DetailViewController\"]; // Identifier must match with the storyboard VC ID, else project git crashed.\n\n        [self.navigationController pushViewController:obj animated:YES];\n\n    }\n</code></pre>\n\n<p>If you already done this, then let me know.</p>\n"}, {"tags": [], "owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "is_accepted": false, "score": 1, "last_activity_date": 1516255671, "last_edit_date": 1516255671, "creation_date": 1514958125, "answer_id": 48071790, "question_id": 48071681, "link": "https://stackoverflow.com/questions/48071681/redirection-for-detailsvc-is-not-working-on-click-of-uitableviews-cell-in-xcode/48071790#48071790", "title": "Redirection for detailsVC is not working on click of UITableView&#39;s Cell in Xcode 7", "body": "<p>If you don't want to use a segue you should create your destination controller by code:</p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{\n    destinationcontroller *loading = (destinationcontroller *)[self.storyboard instantiateViewControllerWithIdentifier:@\"destinationcontroller\"];\n    [self.navigationController pushViewController:loading animated:YES];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514960368, "post_id": 48072065, "comment_id": 83117888, "body": "there&#39;s an error message that pops up saying &quot;no known class method for selector &quot;indexPathForSelectedRow&quot;"}, {"owner": {"reputation": 797, "user_id": 5715863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZo09.png?s=128&g=1", "display_name": "kalpesh satasiya", "link": "https://stackoverflow.com/users/5715863/kalpesh-satasiya"}, "reply_to_user": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514960682, "post_id": 48072065, "comment_id": 83117993, "body": "@xjm NSIndexPath *indexPath = [(Your tablevview name) indexPathForSelectedRow];"}, {"owner": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514961614, "post_id": 48072065, "comment_id": 83118356, "body": "tried doing this but the error message still persists"}], "tags": [], "owner": {"reputation": 797, "user_id": 5715863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZo09.png?s=128&g=1", "display_name": "kalpesh satasiya", "link": "https://stackoverflow.com/users/5715863/kalpesh-satasiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1514960112, "last_edit_date": 1514960112, "creation_date": 1514959771, "answer_id": 48072065, "question_id": 48071681, "link": "https://stackoverflow.com/questions/48071681/redirection-for-detailsvc-is-not-working-on-click-of-uitableviews-cell-in-xcode/48072065#48072065", "title": "Redirection for detailsVC is not working on click of UITableView&#39;s Cell in Xcode 7", "body": "<p><strong>Follow this code:</strong></p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{\n       [self performSegueWithIdentifier:@\"Your Segue Name\" sender:self];\n\n}\n</code></pre>\n\n<h1>pragma mark - Navigation</h1>\n\n<pre><code>// In a storyboard-based application, you will often want to do a little preparation before navigation\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender \n{\n// Get the new view controller using [segue destinationViewController].\n// Pass the selected object to the new view controller.\n\nif ([segue.identifier isEqualToString:@\"Your Segue Name\"]) {\n    DetailViewController *vc= (DetailViewController *)segue.destinationViewController;\n    NSIndexPath *indexPath = [tableview indexPathForSelectedRow];\n    vc.(DetailViewController Object)= [(Your tableView Array name) objectAtIndex:indexPath.row];\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2581, "user_id": 3228895, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MhzgD.jpg?s=128&g=1", "display_name": "M Zubair Shamshad", "link": "https://stackoverflow.com/users/3228895/m-zubair-shamshad"}, "reply_to_user": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "edited": false, "score": 0, "creation_date": 1514961802, "post_id": 48072127, "comment_id": 83118440, "body": "Or you can use a proxy site to open this link :P"}], "tags": [], "owner": {"reputation": 2581, "user_id": 3228895, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MhzgD.jpg?s=128&g=1", "display_name": "M Zubair Shamshad", "link": "https://stackoverflow.com/users/3228895/m-zubair-shamshad"}, "is_accepted": false, "score": 3, "last_activity_date": 1514960122, "creation_date": 1514960122, "answer_id": 48072127, "question_id": 48071681, "link": "https://stackoverflow.com/questions/48071681/redirection-for-detailsvc-is-not-working-on-click-of-uitableviews-cell-in-xcode/48072127#48072127", "title": "Redirection for detailsVC is not working on click of UITableView&#39;s Cell in Xcode 7", "body": "<p>In your case the storyboard ID is <code>RecipeBookViewController</code></p>\n\n<p>You have to set Storyboard ID for that View controller as explained below.</p>\n\n<p>GO In Xcode utilities pan click on Identity Inspector and set</p>\n\n<p>Storyboard ID = <code>RecipeBookViewController</code></p>\n\n<p>For more clarification see the Image, and add <code>RecipeBookViewController</code> against Storyboard ID</p>\n\n<p><a href=\"https://i.stack.imgur.com/2mGjm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mGjm.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 143, "user_id": 7774774, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/P0d1P.jpg?s=128&g=1", "display_name": "xjm", "link": "https://stackoverflow.com/users/7774774/xjm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 48071735, "answer_count": 4, "score": 1, "last_activity_date": 1516255671, "creation_date": 1514957404, "last_edit_date": 1514963078, "question_id": 48071681, "link": "https://stackoverflow.com/questions/48071681/redirection-for-detailsvc-is-not-working-on-click-of-uitableviews-cell-in-xcode", "title": "Redirection for detailsVC is not working on click of UITableView&#39;s Cell in Xcode 7", "body": "<p>I'm trying to make a simple iOS app by following this (<a href=\"https://www.appcoda.com/use-storyboards-to-build-navigation-controller-and-table-view/\" rel=\"nofollow noreferrer\">https://www.appcoda.com/use-storyboards-to-build-navigation-controller-and-table-view/</a>) tutorial but when I try to click on the listed items, I don't get redirected to the detail view and just stay on the same page. I'm fairly new to using both Xcode (I'm using Xcode 7) and objective-C so I have no idea what I'm doing. Any kind of help will be very appreciable. </p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uitableview"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1514957881, "post_id": 48071555, "comment_id": 83117102, "body": "empty the searchResult array before you insert"}], "answers": [{"tags": [], "owner": {"reputation": 792, "user_id": 2625070, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RORGC.jpg?s=128&g=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/2625070/arun-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1514957276, "creation_date": 1514957276, "answer_id": 48071656, "question_id": 48071555, "link": "https://stackoverflow.com/questions/48071555/how-to-fix-repeating-search-result-in-uitableview/48071656#48071656", "title": "How to fix repeating search result in UITableView", "body": "<p>You need to return proper section count.</p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView: (UITableView *) tableView{\n\n    return isFiltered ? 1 : tableData.count;\n}\n</code></pre>\n\n<p>I hope this will help you. :)</p>\n"}, {"tags": [], "owner": {"reputation": 690, "user_id": 5887008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/281d51cb4f39cfcdd832be9c3b97878e?s=128&d=identicon&r=PG&f=1", "display_name": "Pooja Gupta", "link": "https://stackoverflow.com/users/5887008/pooja-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1514959665, "creation_date": 1514959665, "answer_id": 48072038, "question_id": 48071555, "link": "https://stackoverflow.com/questions/48071555/how-to-fix-repeating-search-result-in-uitableview/48072038#48072038", "title": "How to fix repeating search result in UITableView", "body": "<p>You are always returning tableData.count in numberOfSectionsInTableView so every row is repeated tableData.count times.  </p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView: (UITableView *) tableView{\n   return isFiltered ? 1 : tableData.count;\n}\n\n\n- (NSInteger)tableView: (UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n  NSArray sectionArray = (NSArray *)tableData[section];\n  return isFiltered ? 1 : sectionArray.count;\n}\n</code></pre>\n\n<p>You are always returning tableData.count in numberOfSectionsInTableView so </p>\n"}, {"tags": [], "owner": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1514960652, "last_edit_date": 1514960652, "creation_date": 1514960286, "answer_id": 48072155, "question_id": 48071555, "link": "https://stackoverflow.com/questions/48071555/how-to-fix-repeating-search-result-in-uitableview/48072155#48072155", "title": "How to fix repeating search result in UITableView", "body": "<p>update this code </p>\n\n<pre><code> - (void)searchBar:(UISearchBar *)searchBar textDidChange:(nonnull NSString *)searchText\n{ \n   //Add below line of code\n    [searchText removeAllObjects];\n    if(searchText.length == 0)\n    {\n        isFiltered = NO;\n    }\n    else\n    {\n        isFiltered = YES;\n        NSPredicate *resultPredicate = [NSPredicate\n                                    predicateWithFormat:@\"SELF CONTAINS %@\",\n                                    searchText];    \n        searchResult = [stateNamesArray filteredArrayUsingPredicate:resultPredicate];      \n    }\n    [self.tableView reloadData];\n}\n</code></pre>\n\n<p>This method calls on every character, so it search and result store in array. You are not removing object from array so it keep adding object in it. That's why you are getting this result.</p>\n\n<pre><code>[searchText removeAllObjects];\n</code></pre>\n\n<p>This line of code remove all objects from array.</p>\n"}], "owner": {"reputation": 111, "user_id": 3427242, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tjLXG.jpg?s=128&g=1", "display_name": "Test 87", "link": "https://stackoverflow.com/users/3427242/test-87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 48071656, "answer_count": 3, "score": 1, "last_activity_date": 1514960950, "creation_date": 1514956470, "last_edit_date": 1514960950, "question_id": 48071555, "link": "https://stackoverflow.com/questions/48071555/how-to-fix-repeating-search-result-in-uitableview", "title": "How to fix repeating search result in UITableView", "body": "<p>I have a UITableView with search bar function. However, when i search for any keyword (Please refer to screenshot as attached), search result will be repeated and return more than 1 result. </p>\n\n<p>My expected result should be search result will reflect accordingly based on keyword entered. </p>\n\n<p>Your help is much appreciated. Please help, thank you. \n<img src=\"https://i.stack.imgur.com/wDnXi.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/lyfYY.png\" alt=\"enter image description here\">\n    <pre><code> @interface Friend_ViewController () </p>\n\n@end\n\n@implementation Friend_ViewController{\n    NSMutableArray *tableData;\n    UITableView *tableView;\n    BOOL isFiltered;\n    NSMutableArray *stateNamesArray;\n    NSArray *searchResult;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    isFiltered =false;\n\n    UIImage* image3 = [UIImage imageNamed:@\"Add_Friend\"];\n\n    CGRect frameimg = CGRectMake(0,0, image3.size.width -10, image3.size.height);\n\n    UIButton *btn_add_friends = [[UIButton alloc] initWithFrame:frameimg];\n    [btn_add_friends setBackgroundImage:image3 forState:UIControlStateNormal];\n    [btn_add_friends addTarget:self action:@selector(addFriendButtonDidPressed:)\n              forControlEvents:UIControlEventTouchUpInside];\n    [btn_add_friends setShowsTouchWhenHighlighted:YES];\n\n    UIBarButtonItem *btn_add_friends_item =[[UIBarButtonItem alloc] initWithCustomView:btn_add_friends];\n    self.navigationItem.rightBarButtonItem =btn_add_friends_item;\n\n    stateNamesArray = @[@\"Alabama\", @\"Alaska\", @\"Arizona\", @\"Arkansas\", @\"California\", @\"Colorado\", @\"Connecticut\", @\"Delaware\", @\"Florida\", @\"Georgia\", @\"Hawaii\", @\"Idaho\", @\"Illinois\", @\"Indiana\", @\"Iowa\", @\"Kansas\", @\"Kentucky\", @\"Louisiana\", @\"Maine\", @\"Maryland\", @\"Massachusetts\", @\"Michigan\",\n                                        @\"Minnesota\", @\"Mississippi\", @\"Missouri\", @\"Montana\", @\"Nebraska\", @\"Nevada\", @\"New Hampshire\",\n                                        @\"New Jersey\", @\"New Mexico\", @\"New York\", @\"North Carolina\", @\"North Dakota\", @\"Ohio\",\n                                        @\"Oklahoma\", @\"Oregon\", @\"Pennsylvania\", @\"Rhode Island\", @\"South Carolina\", @\"South Dakota\",\n                                        @\"Tennessee\", @\"Texas\", @\"Utah\", @\"Vermont\", @\"Virginia\", @\"Washington\", @\"West Virginia\",\n                                        @\"Wisconsin\", @\"Wyoming\"];\n\n\n    NSInteger indexLabelLettersCount = [[UILocalizedIndexedCollation currentCollation] sectionTitles].count;\n\n    NSMutableArray *allSections = [[NSMutableArray alloc] initWithCapacity:indexLabelLettersCount];\n\n    for (int i = 0; i &lt; indexLabelLettersCount; i++) {\n        [allSections addObject:[NSMutableArray array]];\n    }\n\n    for(NSString *theState in stateNamesArray){\n\n\n        NSInteger sectionNumber = [[UILocalizedIndexedCollation currentCollation] sectionForObject:theState collationStringSelector:@selector(lowercaseString)];\n\n        [allSections[sectionNumber] addObject:theState];\n    }\n    NSMutableArray *sortedArray = [[NSMutableArray alloc] init];\n    self.activeSectionIndices = [NSMutableDictionary dictionary];\n    self.activeSectionTitles = [NSMutableArray array];\n\n    for (int i = 0; i &lt; indexLabelLettersCount; i++) {\n\n        NSArray *statesForSection = allSections[i];\n\n        NSString *indexTitleForSection = [[UILocalizedIndexedCollation currentCollation] sectionTitles][i];\n\n        if (statesForSection.count &gt; 0) {\n\n            [self.activeSectionTitles addObject:indexTitleForSection];\n\n            NSArray *tmpSectionStates = allSections[i];\n\n            tmpSectionStates = [tmpSectionStates sortedArrayUsingSelector:@selector(compare:)];\n\n            [sortedArray addObject:tmpSectionStates];\n        }\n\n        NSNumber *index = [NSNumber numberWithInt:MAX(self.activeSectionTitles.count - 1, 0)];\n\n        self.activeSectionIndices[indexTitleForSection] = index;\n\n    }\n\n    tableData = sortedArray;\n\n    self.tableView.sectionHeaderHeight = 25;\n    self.navigationController.navigationBar.translucent = NO;\n\n    tableView = [[UITableView alloc] initWithFrame:self.view.bounds style:UITableViewStylePlain];\n    self.navigationController.navigationBar.translucent = NO;\n\n    self.tableView.tableFooterView = [[UIView alloc] initWithFrame:CGRectZero];\n    self.searchController = [[UISearchController alloc] initWithSearchResultsController:nil];\n\n    self.tableView.tableHeaderView = self.searchController.searchBar;\n\n    self.searchController.searchResultsUpdater = self;\n    self.searchController.dimsBackgroundDuringPresentation = NO;\n    self.searchController.hidesNavigationBarDuringPresentation = NO;\n    self.searchController.searchBar.delegate = self;\n\n\n    self.definesPresentationContext = YES;\n    [self.searchController.searchBar sizeToFit];\n\n    [self.view addSubview:self.searchBar];\n    searchResult = [NSMutableArray arrayWithCapacity:[stateNamesArray count]];\n}\n\n- (void)searchBar:(UISearchBar *)searchBar textDidChange:(nonnull NSString *)searchText\n{\n    if(searchText.length == 0)\n    {\n        isFiltered = NO;\n    }\n    else\n    {\n        isFiltered = YES;\n        NSPredicate *resultPredicate = [NSPredicate\n                                        predicateWithFormat:@\"SELF CONTAINS %@\",\n                                        searchText];    \n        searchResult = [stateNamesArray filteredArrayUsingPredicate:resultPredicate];      \n    }\n    [self.tableView reloadData];\n}\n\n- (NSInteger)numberOfSectionsInTableView: (UITableView *) tableView{\n    return tableData.count;\n}\n\n- (NSInteger)tableView: (UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    if(isFiltered){\n        return searchResult.count;\n    }\n    else\n    {\n        NSArray *arr = tableData[section];\n        return arr.count;\n    }\n}\n\n- (UITableViewCell *) tableView:(UITableView *) tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"cell\"];\n    if(cell == nil){\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@\"cell\"];\n    }\n\n    if(isFiltered){\n        cell.textLabel.text = [searchResult objectAtIndex:indexPath.row];\n        cell.imageView.image = [UIImage imageNamed:@\"Home\"];\n    }\n    else{\n\n        NSArray *arr = tableData[indexPath.section];//get the current section array\n        cell.textLabel.text = arr[indexPath.row];//get the row for the current section\n        cell.imageView.image = [UIImage imageNamed:@\"Home\"];\n    }\n    return cell;\n}\n\n-(NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section{\n    if(isFiltered)\n    {\n        return nil;\n    }\n    return self.activeSectionTitles[section];\n}\n\n@end\n &lt;/pre&gt;&lt;/code&gt;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "opengl-es-2.0", "glkit"], "owner": {"reputation": 110, "user_id": 8911352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938732677dfb54248b7df62738e51b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Easy Soft", "link": "https://stackoverflow.com/users/8911352/easy-soft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1514956220, "creation_date": 1514956220, "question_id": 48071507, "link": "https://stackoverflow.com/questions/48071507/how-set-the-opacity-alpha-of-an-image-using-opengl-es-2-0-and-glkit", "title": "How set the opacity/alpha of an image using OpenGL ES 2.0 and GLKit?", "body": "<p>I have create function with OpenGL ES 2.0 and GLKit.</p>\n\n<p>I have used GLKBaseEffect for draw GLKTextureInfo and GLKTextureLoader for load PNG file on GLKTextureInfo. (heart.png)</p>\n\n<p>Now, I want to set the opacity of the PNG image. This may sound simple, but I have no idea how I can change the opacity...</p>\n\n<p><a href=\"https://i.stack.imgur.com/olaV2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/olaV2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "swift4", "jbchartview"], "answers": [{"tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": false, "score": 0, "last_activity_date": 1514950222, "creation_date": 1514950222, "answer_id": 48070770, "question_id": 48070690, "link": "https://stackoverflow.com/questions/48070690/cant-find-objective-c-file/48070770#48070770", "title": "Can&#39;t find Objective C file", "body": "<p>You don't really give us much to go on here, but if you're able to import the framework successfully using Swift, then the framework is probably defining a module. In this case, you can just take the <code>import</code> statement you're using in Swift, add a <code>@</code> to the beginning of it and <code>;</code> to the end of it and you've got a module import for Objective-C. So, if the import in Swift looks like:</p>\n\n<pre><code>import JBChartView\n</code></pre>\n\n<p>then you can do this in Objective-C:</p>\n\n<pre><code>@import JBChartView;\n</code></pre>\n\n<p>The mechanism is the same in both cases, so if one works, the other should too.</p>\n"}], "owner": {"reputation": 487, "user_id": 6520282, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1223209807689683/picture?type=large", "display_name": "Brandon Mahoney", "link": "https://stackoverflow.com/users/6520282/brandon-mahoney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514950222, "creation_date": 1514949379, "last_edit_date": 1514949784, "question_id": 48070690, "link": "https://stackoverflow.com/questions/48070690/cant-find-objective-c-file", "title": "Can&#39;t find Objective C file", "body": "<p>So I'm not to up on Objective-C so I apologize if this is a basic question but I can't seem to find someone with my exact problem.\nI added the JBChartView(written in Objective-C) Cocoapod to a Swift project. The chart is good to go and fully up and running. However I then added some other separate Objective-C files and when trying to import a file from JBChartView it can't be found. What gives, I can access this Objective-C library from Swift files but not Objective-C files. Any ideas?</p>\n\n<p>Below is everything I have tried.</p>\n\n<pre><code>#import \"JBChartView.h\"\n#import &lt;JBChartView/JBChartView.h&gt;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "audio", "webrtc", "callkit"], "comments": [{"owner": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1563803973, "post_id": 48070163, "comment_id": 100810552, "body": "Did you solve the problem?"}, {"owner": {"reputation": 137, "user_id": 4894145, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Npq7iBS04C8/AAAAAAAAAAI/AAAAAAAAAcw/vJgEr3jxoao/photo.jpg?sz=128", "display_name": "Tanay Mondal", "link": "https://stackoverflow.com/users/4894145/tanay-mondal"}, "edited": false, "score": 0, "creation_date": 1589469733, "post_id": 48070163, "comment_id": 109313251, "body": "I have one weird issue. For the first time when the device is killed and locked, there is no audio issue, Everything works perfectly. But If I end the call from CallKit screen and again receive an incoming call, there is no audio in the call. Both parties can&#39;t hear anything, though didActivateAudioSession was called. I am stuck here. Any help will be very helpful."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1613572566, "post_id": 48092916, "comment_id": 117116090, "body": "because sometimes the audio start before it were not activated, so delay 1 second help. but it&#39;s not good solution buddy"}], "tags": [], "owner": {"reputation": 159, "user_id": 9166124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1677d808721b2241e8fc6ece0ed72b?s=128&d=identicon&r=PG&f=1", "display_name": "Rakuyo", "link": "https://stackoverflow.com/users/9166124/rakuyo"}, "is_accepted": false, "score": 3, "last_activity_date": 1515112220, "last_edit_date": 1515112220, "creation_date": 1515060387, "answer_id": 48092916, "question_id": 48070163, "link": "https://stackoverflow.com/questions/48070163/callkitno-sound-when-i-use-webrtc/48092916#48092916", "title": "CallKit:No sound when I use WebRTC", "body": "<p>In the end, I solved the problem, but I still do not understand why it can be solved.Below is my solution:</p>\n\n<p>First of all, I delay the call of \"fulfill\" by 1 second (<strong>note that this time can not be less than 1 second</strong>)</p>\n\n<pre><code>- (void)provider:(CXProvider *)provider performAnswerCallAction:(CXAnswerCallAction *)action {\n\nif (self.delegate &amp;&amp; [self.delegate respondsToSelector:@selector(callKitManager:refreshCurrentCallStatus:)]) {\n    [self.delegate callKitManager:self refreshCurrentCallStatus:EUCCallKitStatusAnswerAccept];\n}\n\ndispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n    [action fulfill];\n});}\n</code></pre>\n\n<p>Second, I also delayed my network request call by one second (<strong>here longer than the previous one</strong>)</p>\n\n<pre><code> dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n  [self.peerConnection offerForConstraints:[self offerConstraintsRestartIce:NO] completionHandler:^(RTCSessionDescription * _Nullable sdp, NSError * _Nullable error) {\n\n  [self peerConnection:self.peerConnection didCreateSessionDescription:sdp error:error];\n        }];\n</code></pre>\n\n<p>});</p>\n\n<p>In this way, my problem is solved.</p>\n\n<p>If you know why this can solve this problem, please comment on me, thank you!</p>\n"}, {"comments": [{"owner": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1563455974, "post_id": 55781328, "comment_id": 100712225, "body": "Sorry, but didDeactivate called only when user hangup. How can I give control on audio to webrtc?"}, {"owner": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1563543972, "post_id": 55781328, "comment_id": 100746383, "body": "How can I use RTCAudioSession when making webrtc connection? Can you give code sample?"}, {"owner": {"reputation": 7675, "user_id": 2804585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9d29e9beab93abc3f093c9a61941b047?s=128&d=identicon&r=PG", "display_name": "Departamento B", "link": "https://stackoverflow.com/users/2804585/departamento-b"}, "edited": false, "score": 0, "creation_date": 1580236851, "post_id": 55781328, "comment_id": 106029266, "body": "If you don&#39;t know how to set a CallKit call over WebRTC to speaker immediately, this is the solution. Also when you notice the AVAudioSession for CallKit and RTCAudioSession do not have the same memory address, despite the fact that they seem to use the shared shared instance initially. This reply might also help people find this post when they&#39;re using the same search keywords as I did before I finally found this ;)"}, {"owner": {"reputation": 707, "user_id": 1155939, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/1YdXb.png?s=128&g=1", "display_name": "YSR fan", "link": "https://stackoverflow.com/users/1155939/ysr-fan"}, "edited": false, "score": 0, "creation_date": 1582807384, "post_id": 55781328, "comment_id": 106909263, "body": "CallKit call is getting disconnected when user presses the Lock button. Any idea?"}, {"owner": {"reputation": 137, "user_id": 4894145, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Npq7iBS04C8/AAAAAAAAAAI/AAAAAAAAAcw/vJgEr3jxoao/photo.jpg?sz=128", "display_name": "Tanay Mondal", "link": "https://stackoverflow.com/users/4894145/tanay-mondal"}, "edited": false, "score": 0, "creation_date": 1589469702, "post_id": 55781328, "comment_id": 109313234, "body": "I have one weird issue. For the first time when the device is killed and locked, there is no audio issue, Everything works perfectly. But If I end the call from CallKit screen and again receive an incoming call, there is no audio in the call. Both parties can&#39;t hear anything, though didActivateAudioSession was called. I am stuck here. Any help will be very helpful."}], "tags": [], "owner": {"reputation": 146, "user_id": 3924889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/864e4426c82638bf37a7eee83cb2d8af?s=128&d=identicon&r=PG&f=1", "display_name": "Gregios", "link": "https://stackoverflow.com/users/3924889/gregios"}, "is_accepted": false, "score": 7, "last_activity_date": 1555837154, "creation_date": 1555837154, "answer_id": 55781328, "question_id": 48070163, "link": "https://stackoverflow.com/questions/48070163/callkitno-sound-when-i-use-webrtc/55781328#55781328", "title": "CallKit:No sound when I use WebRTC", "body": "<p>Few steps need to be done to connect webrtc and callkit in proper way:\nFirst of all, you have to use the RTCAudioTrack and add the RTCAudioSession for handling the audio. Old legacy RTCAudioSession added directly into RTCPeerConnection works but it's not prefered a way to do that.\nSecond thing is to use manualAudio. When app is booted you should change useManualAudio flag on RTCAudioSession:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>RTCAudioSession.sharedSession().useManaulAudio = true\n</code></pre>\n\n<p>which gives you possibility to postpone the audio until CallKit informs that audio session was activated, so inside the ProviderDelegate you should implement following method:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>(void)provider:(CXProvider *)provider didActivateAudioSession:(AVAudioSession *)audioSession\nRTCAudioSession.sharedSession().didActivecated(audioSession)\nRTCAudioSession.sharedSession().isAudioEnabled = true\n</code></pre>\n\n<p>and for second audio delegate method don't forget to add:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>(void)provider:(CXProvider *)provider didDeactivateAudioSession:(AVAudioSession *)audioSession\nRTCAudioSession.sharedSession().didDeactivecated(audioSession)\nRTCAudioSession.sharedSession().isAudioEnabled = false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3736, "user_id": 208308, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jau0L.jpg?s=128&g=1", "display_name": "Pradeep Reddy Kypa", "link": "https://stackoverflow.com/users/208308/pradeep-reddy-kypa"}, "is_accepted": false, "score": 2, "last_activity_date": 1599661818, "creation_date": 1599661818, "answer_id": 63813828, "question_id": 48070163, "link": "https://stackoverflow.com/questions/48070163/callkitno-sound-when-i-use-webrtc/63813828#63813828", "title": "CallKit:No sound when I use WebRTC", "body": "<p>Apple suggests us to wait till the Connection gets established and then fulfill the performAnswerAction. Below is the source</p>\n<p><a href=\"https://developer.apple.com/documentation/pushkit/responding_to_voip_notifications_from_pushkit?language=objc\" rel=\"nofollow noreferrer\">Apple Suggestion for Call Kit Documentation </a></p>\n<blockquote>\n<p>If the recipient of a call answers before the app establishes a connection to your server, don't fulfill the CXAnswerCallAction object sent to the provider:performAnswerCallAction: method of your delegate immediately. Instead, wait until you establish a connection and then fulfill the object. While it waits for your app to fulfill the request, the incoming call interface lets the user know that the call is connecting, but not yet ready.</p>\n</blockquote>\n<p>So we need to wait for a second or two before we fulfill the action in <strong>performAnswerCallAction</strong></p>\n"}], "owner": {"reputation": 159, "user_id": 9166124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1677d808721b2241e8fc6ece0ed72b?s=128&d=identicon&r=PG&f=1", "display_name": "Rakuyo", "link": "https://stackoverflow.com/users/9166124/rakuyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2413, "favorite_count": 5, "answer_count": 3, "score": 8, "last_activity_date": 1599661818, "creation_date": 1514944240, "last_edit_date": 1514972213, "question_id": 48070163, "link": "https://stackoverflow.com/questions/48070163/callkitno-sound-when-i-use-webrtc", "title": "CallKit:No sound when I use WebRTC", "body": "<p>Our project uses WebRTC for VOIP calls and it works fine before accessing the CallKit framework. But when I tried to access the CallKit framework, there was a situation where neither side could hear each other's speech. When I removed CallKit, everything returned to normal.</p>\n\n<p>CallKit's answer button is the same function as the original answer button in the project.</p>\n\n<p>And what amazed me was that it was not necessary to hear no sound. Sometimes everything is normal, but sometimes there will be problems. Well, the probability of a problem is greater.</p>\n\n<p>I found the following flowchart, I suspect the problem lies in the order of function calls. But I do not know how WebRTC corresponds to the functions in the diagram.<br>\n<a href=\"https://i.stack.imgur.com/fU1Jc.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fU1Jc.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In addition, I am curious whether socket instability will cause the CallKit framework to work abnormally</p>\n\n<p>Please forgive me English is not good, but this problem has been haunted me for several days, I do not know where exactly a problem, is not where the conflict with the CallKit framework?</p>\n\n<p>Hope you can help me, thank you very much!</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "compiler-errors", "xcode9.2"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514936242, "post_id": 48069231, "comment_id": 83112350, "body": "&quot;Should I bring this to someones attention, fix these myself, or leave as is?&quot;  Huh!?  Why don&#39;t you discuss it with your team, first?"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514936508, "post_id": 48069231, "comment_id": 83112398, "body": "Well the deprecations will work for now but the warnings are to tell you that they really need to be changed to newer methods or you may suffer issues in forthcoming iOS versions.  As for this &#39;Should I bring this to someones attention, fix these myself, or leave as is?&#39; it&#39;s not something anyone other than you and your team can decide."}], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": true, "score": 1, "last_activity_date": 1514955690, "creation_date": 1514955690, "answer_id": 48071437, "question_id": 48069231, "link": "https://stackoverflow.com/questions/48069231/3rd-party-framework-compile-warnings-in-xcode/48071437#48071437", "title": "3rd party framework compile warnings in Xcode", "body": "<p>Warnings do not prevent you from building and releasing an app. You <em>can</em> ignore the warnings.</p>\n\n<p>What you <em>should</em> do is talk to your team and ask about any warnings that are part of their code. Why not talk to a teammate?</p>\n\n<p>Do not unlock the files. If you are using a dependency manager, your edits may be lost and need to be repeated in the next release.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6354073"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 48071437, "answer_count": 1, "score": 1, "last_activity_date": 1514955690, "creation_date": 1514935589, "last_edit_date": 1514936811, "question_id": 48069231, "link": "https://stackoverflow.com/questions/48069231/3rd-party-framework-compile-warnings-in-xcode", "title": "3rd party framework compile warnings in Xcode", "body": "<p>Working with this team and I need to release next build to app store. After cloning project I have 37 compile warnings. Should I bring this to someones attention, fix these myself, or leave as is? How would I handle the warnings from 3rd party frameworks Unlock the file and fix myself? id rather not make changes to the 'socketEngine.swift` file that I don't know how works.  </p>\n\n<p>Below I've listed the types of warnings I'm getting. \n- \"characters is deprecated, please use storing or substring directly\", and various other deprecations. \n- \"when calling this function in swift 4 or later, you must pass a <code>()</code> tuple.\n- \"This block declaration is not a prototype\" - About 30 of these </p>\n\n<p>When I run the app everything runs smoothly. \nThis project is objective-c and Im much better with swift so I don't want correct all of these changes at the moment if I don't need to. </p>\n"}, {"tags": ["ios", "objective-c", "swift", "objective-c-swift-bridge"], "comments": [{"owner": {"reputation": 467, "user_id": 2498116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Yc1Aj.jpg?s=128&g=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/2498116/dog"}, "edited": false, "score": 0, "creation_date": 1514933406, "post_id": 48068845, "comment_id": 83111505, "body": "It&#39;s a class function, you&#39;re calling it on an object."}], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 4408170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0BFP.jpg?s=128&g=1", "display_name": "bfx", "link": "https://stackoverflow.com/users/4408170/bfx"}, "edited": false, "score": 8, "creation_date": 1516276067, "post_id": 48071638, "comment_id": 83626351, "body": "Using <b>Swift 4</b> I had to add <code>@objc</code> to the function declaration to make the compiler recognize the Swift class function in my Objective-C code: <code>@objc class func someFunction(idValue: Int, completionHandler: @escaping (_ jsonData: String) -&gt; ())</code>"}], "tags": [], "owner": {"reputation": 2656, "user_id": 6822622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLqO1.jpg?s=128&g=1", "display_name": "AshvinGudaliya", "link": "https://stackoverflow.com/users/6822622/ashvingudaliya"}, "is_accepted": true, "score": 2, "last_activity_date": 1514957072, "creation_date": 1514957072, "answer_id": 48071638, "question_id": 48068845, "link": "https://stackoverflow.com/questions/48068845/calling-swift-class-method-from-objective-c/48071638#48071638", "title": "Calling Swift class method from Objective-C", "body": "<p>Essentially the <a href=\"https://stackoverflow.com/a/10440859/6822622\">NSObject</a> is the base object type in Apple development.</p>\n\n<blockquote>\n  <p>The root class of most Objective-C class hierarchies, from which subclasses inherit a basic interface to the runtime system and the ability to behave as Objective-C objects.</p>\n</blockquote>\n\n<p>Your class defines like that, using <code>NSObject</code> supper class (related to your requirements).</p>\n\n<pre><code>class ClassName: NSObject {\n\n    class func someFunction(idValue: Int, completionHandler: @escaping (_ jsonData: String) -&gt; ()) {\n\n\n    }\n}\n</code></pre>\n\n<p>call this function </p>\n\n<pre><code>[ClassName someFunctionWithIdValue:12 completionHandler:^(NSString * test) {\n\n}];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4603125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/81hh4.jpg?s=128&g=1", "display_name": "SmokeyTBear", "link": "https://stackoverflow.com/users/4603125/smokeytbear"}, "is_accepted": false, "score": 0, "last_activity_date": 1559590169, "last_edit_date": 1559590169, "creation_date": 1559589124, "answer_id": 56433272, "question_id": 48068845, "link": "https://stackoverflow.com/questions/48068845/calling-swift-class-method-from-objective-c/56433272#56433272", "title": "Calling Swift class method from Objective-C", "body": "<p>In addition to inheriting from NSObject and declaring the class with @objc , Seems that @objc must be added to the func declaration for it to be seen in objective-c classes/files.</p>\n\n<p>like so:</p>\n\n<pre><code>@objc class SomeClass:NSObject {\n\n\n @objc func someFunction(_:Any) -&gt; Bool {  \n        return true\n       }\n\n}\n</code></pre>\n\n<p>It then shows up in the autocomplete when calling as normal :</p>\n\n<pre><code>#import \"PROJECT_Name-Swift.h\"\n@implementation SomeObjCClass\n...\n\n\n-(void)someObjCMethod{\n\n    SomeClass* instance = [[SomeClass alloc]init];\n\n    [instance someFunction:(id _Nonnull)]\n}\n...\n@end\n</code></pre>\n\n<p>the presence of public keyword didn't seem to affect it either way</p>\n"}], "owner": {"reputation": 77, "user_id": 4103095, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/768922375/picture?type=large", "display_name": "martinc", "link": "https://stackoverflow.com/users/4103095/martinc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5426, "favorite_count": 0, "accepted_answer_id": 48071638, "answer_count": 2, "score": 2, "last_activity_date": 1559590169, "creation_date": 1514932969, "last_edit_date": 1514933304, "question_id": 48068845, "link": "https://stackoverflow.com/questions/48068845/calling-swift-class-method-from-objective-c", "title": "Calling Swift class method from Objective-C", "body": "<p>I have this function in Swift</p>\n\n<pre><code>class func someFunction(idValue: Int, completionHandler: @escaping (_ jsonData: JSON) -&gt; ()) {\n        (...)\n        if (some validation) {\n            completionHandler(jsonData)\n        } else {\n            completionHandler(JSON.null)\n        }\n\n    }\n</code></pre>\n\n<p>Now I want to call that function from Objective-C. What I am doing is this:</p>\n\n<pre><code>[[ClassName  new] someFunction:self.sesionId completionHandler:^{\n    }];\n</code></pre>\n\n<p>But is throwing \"No visible @interface for 'ClassName' declares the selector 'someFunction:completionHandler:'</p>\n\n<p>How can I call this function?</p>\n"}, {"tags": ["objective-c", "arrays"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 2, "creation_date": 1514927993, "post_id": 48067901, "comment_id": 83109511, "body": "The error message is pretty clear: The <b>array</b> is <b>empty</b>. And 0 - 1 is <code>Int64.max</code> (18446744073709551615)"}], "answers": [{"tags": [], "owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "is_accepted": true, "score": 0, "last_activity_date": 1514927912, "creation_date": 1514927912, "answer_id": 48067965, "question_id": 48067901, "link": "https://stackoverflow.com/questions/48067901/index-xxxxxxxxxx-beyond-bounds-for-empty-array/48067965#48067965", "title": "index xxxxxxxxxx beyond bounds for empty array", "body": "<p>This happens when <code>[mArrChatDetails count]</code> is 0 - i.e. when your table or collection is empty (I'm assuming that the context for this is something like a UITableView or UICollectionView).</p>\n\n<p>Obviously you can only access the second-to-last element when there are at least 2, so this should be wrapped in an <code>if (mArrChatDetails.count &gt; 1) { ... }</code> block.</p>\n"}], "owner": {"reputation": 109, "user_id": 8041623, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-nKu-0f6xGik/AAAAAAAAAAI/AAAAAAAAAAs/u-8MdnnrO9k/photo.jpg?sz=128", "display_name": "Marcus Smith", "link": "https://stackoverflow.com/users/8041623/marcus-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 48067965, "answer_count": 1, "score": 0, "last_activity_date": 1514931624, "creation_date": 1514927530, "last_edit_date": 1514931624, "question_id": 48067901, "link": "https://stackoverflow.com/questions/48067901/index-xxxxxxxxxx-beyond-bounds-for-empty-array", "title": "index xxxxxxxxxx beyond bounds for empty array", "body": "<p>I have a piece of code that is crashing with:</p>\n\n<blockquote>\n  <p>index 18446744073709551615 beyond bounds for empty array</p>\n</blockquote>\n\n<p>I know am supposed to check for the array to be empty first but I am not sure how.</p>\n\n<pre><code>NSIndexPath *indexPathSecondLast = [NSIndexPath indexPathForRow:[mArrChatDetails count]-1 inSection:0];\n    ChatDetail *objChatOnCellSecondLast = [mArrChatDetails objectAtIndex:indexPathSecondLast.row]; \n</code></pre>\n\n<p>Can someone point me in the right direction?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 18193, "user_id": 401092, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cdc56942ca5219ccec6147129cbff41d?s=128&d=identicon&r=PG", "display_name": "Rog", "link": "https://stackoverflow.com/users/401092/rog"}, "edited": false, "score": 0, "creation_date": 1514927711, "post_id": 48067893, "comment_id": 83109406, "body": "use the tableview&#39;s <code>heightForRow</code> delegate method to set the height to 0, otherwise it will use the <code>rowHeight</code> property of the tableView as the default."}, {"owner": {"reputation": 552, "user_id": 1921002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fa12185c60510a2c086e28a13f780312?s=128&d=identicon&r=PG", "display_name": "TealShift", "link": "https://stackoverflow.com/users/1921002/tealshift"}, "reply_to_user": {"reputation": 18193, "user_id": 401092, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cdc56942ca5219ccec6147129cbff41d?s=128&d=identicon&r=PG", "display_name": "Rog", "link": "https://stackoverflow.com/users/401092/rog"}, "edited": false, "score": 0, "creation_date": 1514928425, "post_id": 48067893, "comment_id": 83109684, "body": "@Rog That&#39;s actually the way I achieved this originally. However I&#39;m looking for a solution that works through cell configuration. That will allow me a general solution that doesn&#39;t require ad-hoc code in each of my tables."}, {"owner": {"reputation": 18193, "user_id": 401092, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cdc56942ca5219ccec6147129cbff41d?s=128&d=identicon&r=PG", "display_name": "Rog", "link": "https://stackoverflow.com/users/401092/rog"}, "edited": false, "score": 0, "creation_date": 1514928545, "post_id": 48067893, "comment_id": 83109729, "body": "Yeah I don&#39;t think you will be able to do that unfortunately. I think the crux of it is that it&#39;s the tableview&#39;s job to work out the size of each cell, not the cell itself."}, {"owner": {"reputation": 552, "user_id": 1921002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fa12185c60510a2c086e28a13f780312?s=128&d=identicon&r=PG", "display_name": "TealShift", "link": "https://stackoverflow.com/users/1921002/tealshift"}, "reply_to_user": {"reputation": 18193, "user_id": 401092, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cdc56942ca5219ccec6147129cbff41d?s=128&d=identicon&r=PG", "display_name": "Rog", "link": "https://stackoverflow.com/users/401092/rog"}, "edited": false, "score": 0, "creation_date": 1514929002, "post_id": 48067893, "comment_id": 83109930, "body": "@Rog. Not so. See this: <a href=\"https://www.raywenderlich.com/129059/self-sizing-table-view-cells\" rel=\"nofollow noreferrer\">raywenderlich.com/129059/self-sizing-table-view-cells</a>"}, {"owner": {"reputation": 18193, "user_id": 401092, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cdc56942ca5219ccec6147129cbff41d?s=128&d=identicon&r=PG", "display_name": "Rog", "link": "https://stackoverflow.com/users/401092/rog"}, "edited": false, "score": 0, "creation_date": 1514929217, "post_id": 48067893, "comment_id": 83110014, "body": "Yeah I understand cells can do dynamic resizing. Have you tried setting the tableView&#39;s <code>estimatedRowHeight</code> to 0 and letting the cell dynamically resize?"}, {"owner": {"reputation": 552, "user_id": 1921002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fa12185c60510a2c086e28a13f780312?s=128&d=identicon&r=PG", "display_name": "TealShift", "link": "https://stackoverflow.com/users/1921002/tealshift"}, "reply_to_user": {"reputation": 18193, "user_id": 401092, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cdc56942ca5219ccec6147129cbff41d?s=128&d=identicon&r=PG", "display_name": "Rog", "link": "https://stackoverflow.com/users/401092/rog"}, "edited": false, "score": 0, "creation_date": 1514929703, "post_id": 48067893, "comment_id": 83110174, "body": "Unfortunately that change breaks the autolayout somehow. The dynamic sizing does work for most cases, however when the cell content dictates zero-height, it freaks out and gives me 45 points."}], "owner": {"reputation": 552, "user_id": 1921002, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fa12185c60510a2c086e28a13f780312?s=128&d=identicon&r=PG", "display_name": "TealShift", "link": "https://stackoverflow.com/users/1921002/tealshift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514931843, "creation_date": 1514927477, "last_edit_date": 1514931843, "question_id": 48067893, "link": "https://stackoverflow.com/questions/48067893/can-i-use-autolayout-to-dynamically-resize-a-uitableviewcell-into-zero-height", "title": "Can I use Autolayout to dynamically resize a UITableViewCell into zero-height?", "body": "<p>I've created a fairly simple tableview cell xib that is dequeued into my table and configured with a button, label, and UIActivityIndicatorView. In an attempt to achieve zero height for this cell, I added a method for the cell's class that activates an NSLayoutConstraint for making the button's height anchor zero.\n<a href=\"https://i.stack.imgur.com/wm1Ml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wm1Ml.png\" alt=\"enter image description here\"></a></p>\n\n<p>For some reason the cell gets this \"45\". Disabling translatesAutoresizingMaskIntoConstraints seems non-standard.</p>\n\n<p>Important Edit: </p>\n\n<p>The exact same code that results in this arbitrary 45 points of height <strong>works as expected if I give my \"zero-height\" constraint a value of 0.5</strong>, instead resulting in a very short table cell! </p>\n\n<p>This tells me that there is a special exception in the internal calculation when the content has zero points in size. </p>\n\n<p>I'm still looking for a solution to overcome this erroneous result.</p>\n"}, {"tags": ["javascript", "objective-c", "cryptography", "equivalent"], "comments": [{"owner": {"reputation": 163, "user_id": 6090269, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c4b6a52097d8518b1b9f02f0ea8a928a?s=128&d=identicon&r=PG&f=1", "display_name": "Binary111", "link": "https://stackoverflow.com/users/6090269/binary111"}, "edited": false, "score": 0, "creation_date": 1514925860, "post_id": 48067516, "comment_id": 83109765, "body": "This is a duplicate, but I think you would find this post helpful: <a href=\"https://stackoverflow.com/questions/11193611/get-a-char-from-nsstring-and-convert-to-int\" title=\"get a char from nsstring and convert to int\">stackoverflow.com/questions/11193611/&hellip;</a> Have a good one!"}], "answers": [{"comments": [{"owner": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514926712, "post_id": 48067668, "comment_id": 83108997, "body": "Doesn&#39;t work for me"}, {"owner": {"reputation": 6194, "user_id": 537247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9e638540251a5a2a70ae516ad544281?s=128&d=identicon&r=PG", "display_name": "Jumhyn", "link": "https://stackoverflow.com/users/537247/jumhyn"}, "reply_to_user": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514926870, "post_id": 48067668, "comment_id": 83109057, "body": "Sorry, corrected a bug. Was just converting the ASCII before."}, {"owner": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514927010, "post_id": 48067668, "comment_id": 83109111, "body": "Still doesn&#39;t work you shouldn&#39;t get the char by the separated string int value , you should add that value to (&#39;a&#39; - 1)"}, {"owner": {"reputation": 6194, "user_id": 537247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9e638540251a5a2a70ae516ad544281?s=128&d=identicon&r=PG", "display_name": "Jumhyn", "link": "https://stackoverflow.com/users/537247/jumhyn"}, "reply_to_user": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514927167, "post_id": 48067668, "comment_id": 83109182, "body": "Can you explain how it&#39;s not working? Running it on my system works fine. If you look at the following line, <code>(&#39;a&#39; - 1)</code> is added there."}, {"owner": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514927248, "post_id": 48067668, "comment_id": 83109221, "body": "char charValue = (char) ([component intValue] + (&#39;a&#39; - 1)); is the fix cuz I take the int value (from 1 to 26) and then add it to the value of a - 1  to get the char at that position, e.g 1 will become (1+ (&#39;a&#39; - 1 ))which is a"}, {"owner": {"reputation": 6194, "user_id": 537247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9e638540251a5a2a70ae516ad544281?s=128&d=identicon&r=PG", "display_name": "Jumhyn", "link": "https://stackoverflow.com/users/537247/jumhyn"}, "reply_to_user": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514927303, "post_id": 48067668, "comment_id": 83109247, "body": "The addition is already being performed on the following line: <code>[output appendFormat:@&quot;%c&quot;, charValue + (&#39;a&#39; - 1)];</code>."}, {"owner": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514927474, "post_id": 48067668, "comment_id": 83109331, "body": "Oh that didn&#39;t work for some reason in the beginning , also is it possible to declare more separators like space etc."}, {"owner": {"reputation": 6194, "user_id": 537247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9e638540251a5a2a70ae516ad544281?s=128&d=identicon&r=PG", "display_name": "Jumhyn", "link": "https://stackoverflow.com/users/537247/jumhyn"}, "reply_to_user": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "edited": false, "score": 0, "creation_date": 1514927847, "post_id": 48067668, "comment_id": 83109444, "body": "Edited the answer, see above."}], "tags": [], "owner": {"reputation": 6194, "user_id": 537247, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9e638540251a5a2a70ae516ad544281?s=128&d=identicon&r=PG", "display_name": "Jumhyn", "link": "https://stackoverflow.com/users/537247/jumhyn"}, "is_accepted": true, "score": -1, "last_activity_date": 1514927773, "last_edit_date": 1514927773, "creation_date": 1514926213, "answer_id": 48067668, "question_id": 48067516, "link": "https://stackoverflow.com/questions/48067516/how-can-i-decode-an-nsstring-using-the-a1z26-cipher/48067668#48067668", "title": "How can I decode an NSString using the A1Z26 cipher?", "body": "<p>In Objective C this can be done as follows:</p>\n\n<pre><code>-(NSString *)decode:(NSString *)input {\n    NSArray&lt;NSString *&gt; *components = [input componentsSeparatedByString:@\"-\"];\n    NSMutableString *output = [[NSMutableString alloc] init];\n    for (NSString *component in components) {\n        if (component.length == 0) {\n            continue;\n        }\n        char charValue = (char) [component intValue];\n        [output appendFormat:@\"%c\", charValue + ('a' - 1)];\n    }\n    return [NSString stringWithString:output];\n}\n</code></pre>\n\n<p>Note that this assumes the input already has the correct format. It will accept strings of the form <code>\"--42-df-w---wf\"</code> happily.</p>\n\n<p>EDIT: If there are multiple possible separators (e.g. hyphen and space), you can use <code>NSCharacterSet</code>:</p>\n\n<pre><code>-(NSString *)decode:(NSString *)input {\n    NSCharacterSet *separatorSet = [NSCharacterSet characterSetWithCharactersInString: @\"- \"];\n    NSArray&lt;NSString *&gt; *components = [input componentsSeparatedByCharactersInSet:separatorSet];\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 8408288, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/023557de75359197d187d3700bead4c2?s=128&d=identicon&r=PG", "display_name": "user8408288", "link": "https://stackoverflow.com/users/8408288/user8408288"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 1, "closed_date": 1514926316, "accepted_answer_id": 48067668, "answer_count": 1, "score": -5, "last_activity_date": 1514927773, "creation_date": 1514925443, "last_edit_date": 1514927391, "question_id": 48067516, "link": "https://stackoverflow.com/questions/48067516/how-can-i-decode-an-nsstring-using-the-a1z26-cipher", "closed_reason": "Needs more focus", "title": "How can I decode an NSString using the A1Z26 cipher?", "body": "<p>I'm trying to decode an using the A1Z26 cipher (which is just a=1, b=2, ..., z=26). The input text is separated by hyphens, like this:</p>\n\n<pre><code>-8-16-2-7-8-5-\n</code></pre>\n\n<p>I have JavaScript which solves this problem, but I cannot seem to get a version working in Objective C</p>\n\n<pre><code>function a1z26Cipher(inputString) {\n    var outputString = \"\";\n    var splitString = inputString.split(/(\\W| )/);\n    for (var i = 0; i &lt; splitString.length; i++) {\n        var n = splitString[i];\n        if (n &gt;= 1 &amp;&amp; n &lt;= 26) outputString += String.fromCharCode(parseInt(n, 10) + 64);\n        else outputString += n.replace(\"-\", \"\");\n    }\n    return outputString;\n}\n</code></pre>\n\n<p>What would equivalent code in Objective C look like?</p>\n"}, {"tags": ["ios", "objective-c", "uiimagepickercontroller"], "answers": [{"comments": [{"owner": {"reputation": 805, "user_id": 9575751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugl5u.png?s=128&g=1", "display_name": "Pasosta", "link": "https://stackoverflow.com/users/9575751/pasosta"}, "edited": false, "score": 0, "creation_date": 1552926778, "post_id": 50070792, "comment_id": 97186661, "body": "Setting OS_ACTIVITY_MODE to disable, disables the log statements, it does not actually fix anything. By doing this you also are hiding other potentially important logs in the console."}], "tags": [], "owner": {"reputation": 107, "user_id": 9137672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde6b2d94c98ca7a5225998dae26b864?s=128&d=identicon&r=PG", "display_name": "danner.tech", "link": "https://stackoverflow.com/users/9137672/danner-tech"}, "is_accepted": false, "score": 2, "last_activity_date": 1524866218, "creation_date": 1524866218, "answer_id": 50070792, "question_id": 48066180, "link": "https://stackoverflow.com/questions/48066180/errors-encountered-while-discovering-extensions-in-objective-c/50070792#50070792", "title": "&quot;errors encountered while discovering extensions&quot; in Objective-C", "body": "<p>The solution that worked for me was simply going into Product (at the top of the screen) -> Scheme -> EditScheme -> Arguments</p>\n\n<p>In Environment Variables, add OS_ACTIVITY_MODE with a value of \"disable\"</p>\n\n<p>Hopefully this works for someone else!</p>\n\n<p>I'll attach a screenshot just in case my description seemed confusing<a href=\"https://i.stack.imgur.com/UeoBq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeoBq.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 485, "user_id": 5721344, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/922af1c2d292edbe7651168ce66c36c3?s=128&d=identicon&r=PG&f=1", "display_name": "fi12", "link": "https://stackoverflow.com/users/5721344/fi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524866218, "creation_date": 1514918815, "question_id": 48066180, "link": "https://stackoverflow.com/questions/48066180/errors-encountered-while-discovering-extensions-in-objective-c", "title": "&quot;errors encountered while discovering extensions&quot; in Objective-C", "body": "<p>I'm using a UIImagePickerController to send a user-selected image to an API, but am getting this error:</p>\n\n<p><code>warning: could not execute support code to read Objective-C class data in the process. This may reduce the quality of type information available.\n [discovery] errors encountered while discovering extensions: Error Domain=PlugInKit Code=13 \"query cancelled\" UserInfo={NSLocalizedDescription=query cancelled}</code></p>\n\n<p>This is the code in which the error occurs:</p>\n\n<pre><code>NSError *error;\nNSMutableString *body = [NSMutableString string];\nfor (NSDictionary *param in parameters) {\n    [body appendFormat:@\"--%@\\r\\n\", boundary];\n    if (param[@\"fileName\"]) {\n        [body appendFormat:@\"Content-Disposition:form-data; name=\\\"%@\\\"; filename=\\\"%@\\\"\\r\\n\", param[@\"name\"], param[@\"fileName\"]];\n        [body appendFormat:@\"Content-Type: %@\\r\\n\\r\\n\", param[@\"contentType\"]];\n        [body appendFormat:@\"%@\", [NSString stringWithContentsOfFile:param[@\"fileName\"] encoding:NSMacOSRomanStringEncoding/*NSUTF8StringEncoding*/ error:&amp;error]];\n        if (error) {\n            NSLog(@\"%@\", error);\n        }\n    } else {\n        [body appendFormat:@\"Content-Disposition:form-data; name=\\\"%@\\\"\\r\\n\\r\\n\", param[@\"name\"]];\n        [body appendFormat:@\"%@\", param[@\"value\"]];\n    }\n}\n[body appendFormat:@\"\\r\\n--%@--\\r\\n\", boundary];\nNSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>That code is inside this method: <code>(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary&lt;NSString *,id&gt; *)info</code>.</p>\n\n<p>What is the issue here?</p>\n"}, {"tags": ["ios", "objective-c", "google-calendar-api"], "comments": [{"owner": {"reputation": 800, "user_id": 256801, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pKSEH.jpg?s=128&g=1", "display_name": "jannej", "link": "https://stackoverflow.com/users/256801/jannej"}, "edited": false, "score": 0, "creation_date": 1514922452, "post_id": 48066028, "comment_id": 83107117, "body": "Have you looked here: <a href=\"https://stackoverflow.com/questions/11863022/edit-google-calendar-events-from-google-service-account-403/11897793#11897793\" title=\"edit google calendar events from google service account 403\">stackoverflow.com/questions/11863022/&hellip;</a> or here <a href=\"https://stackoverflow.com/questions/14003203/403-forbidden-message-when-calling-the-v3-google-calendar-api-using-a-service-ac\" title=\"403 forbidden message when calling the v3 google calendar api using a service ac\">stackoverflow.com/questions/14003203/&hellip;</a>"}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1514975111, "post_id": 48066028, "comment_id": 83124529, "body": "Have you tried the official <a href=\"https://developers.google.com/google-apps/calendar/quickstart/ios?ver=swift\" rel=\"nofollow noreferrer\">Swift Calendar Quickstart</a>?"}], "owner": {"reputation": 1, "user_id": 9165081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12df445b75e76a5c5c1f3c68f68d372?s=128&d=identicon&r=PG&f=1", "display_name": "Saravanakumar", "link": "https://stackoverflow.com/users/9165081/saravanakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514917988, "creation_date": 1514917988, "question_id": 48066028, "link": "https://stackoverflow.com/questions/48066028/google-calendar-event-api-gives-403-response-for-objective-c", "title": "Google Calendar Event API gives 403 response for objective c", "body": "<p>I am using google calendar api end point to list all calendar events. When I call the google calendar api i got the 403 forbidden error response. I added the api key, enabled the google calendar api in my cloud console. So could help me any one knows about  this issue.</p>\n\n<p><strong>Here is my code</strong></p>\n\n<pre><code>NSString *calendarId = @\"ksmo6aesu64e0pkfr3823ne9d0@group.calendar.google.com\";\n NSString *apiKey = @\"&lt;My key&gt;\";\nNSString *urlFormat = @\"https://www.googleapis.com/calendar/v3/calendars/%@/events?key=%@\";\nNSString *calendarUrl = [NSString stringWithFormat:urlFormat, calendarId, apiKey];\nAFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];\nmanager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@\"application/json\", nil];\n\nmanager.responseSerializer = [AFJSONResponseSerializer serializer];\n[manager GET:calendarUrl parameters:nil success:^(AFHTTPRequestOperation *operation, id responseObject) {\n    // HTTP request succeeded!\n    NSLog(@\"Calendar Response Object: %@\", responseObject);\n\n    for (NSDictionary *eventData in responseObject[@\"items\"]) {\n        NSLog(@\"%@\", eventData[@\"summary\"]);\n    }\n\n} failure:^(AFHTTPRequestOperation *operation, NSError *error) {\n\n     NSLog(@\"%@\", error);\n    // HTTP request failed!\n}];\n</code></pre>\n\n<p><strong>My Response is</strong></p>\n\n<pre><code>    Error Domain=   com.alamofire.error.serialization.response Code=-1011 \"Request failed: forbidden (403)\" UserInfo={NSLocalizedDescription=Request failed: forbidden (403), NSErrorFailingURLKey=https://www.googleapis.com/calendar/v3/calendars/ksmo6aesu64e0pkfr3823ne9d0@group.calendar.google.com/events?key=AIzaSyDijZIbmwkncoOwNZjg7uzNJD2vx0jrsL8, com.alamofire.serialization.response.error.data=&lt;7b0a2022 6572726f 72223a20 7b0a2020 22657272 6f727322 3a205b0a 2020207b 0a202020 2022646f 6d61696e 223a2022 75736167 654c696d 69747322 2c0a2020 20202272 6561736f 6e223a20 22697052 65666572 6572426c 6f636b65 64222c0a 20202020 226d6573 73616765 223a2022 54686520 63616c6c 696e6720 49502061 64647265 73732031 31312e39 332e3139 362e3135 3420646f 6573206e 6f74206d 61746368 20746865 20495020 72657374 72696374 696f6e73 20636f6e 66696775 72656420 6f6e2074 68652041 5049206b 65792e20 506c6561 73652075 73652074 68652041 50492043 6f6e736f 6c652074 6f207570 64617465 20796f75 72206b65 79207265 73747269 6374696f 6e732e22 2c0a2020 20202265 7874656e 64656448 656c7022 3a202268 74747073 3a2f2f63 6f6e736f 6c652e64 6576656c 6f706572 732e676f 6f676c65 2e636f6d 2f617069 732f6372 6564656e 7469616c 733f7072 6f6a6563 743d3233 39333834 35353734 3633220a 2020207d 0a20205d 2c0a2020 22636f64 65223a20 3430332c 0a202022 6d657373 61676522 3a202254 68652063 616c6c69 6e672049 50206164 64726573 73203131 312e3933 2e313936 2e313534 20646f65 73206e6f 74206d61 74636820 74686520 49502072 65737472 69637469 6f6e7320 636f6e66 69677572 6564206f 6e207468 65204150 49206b65 792e2050 6c656173 65207573 65207468 65204150 4920436f 6e736f6c 6520746f 20757064 61746520 796f7572 206b6579 20726573 74726963 74696f6e 732e220a 207d0a7d 0a&gt;, com.alamofire.serialization.response.error.response=&lt;NSHTTPURLResponse: 0x604000421180&gt; { URL: https://www.googleapis.com/calendar/v3/calendars/ksmo6aesu64e0pkfr3823ne9d0@group.calendar.google.com/events?key=AIzaSyDijZIbmwkncoOwNZjg7uzNJD2vx0jrsL8 } { Status Code: 403, Headers {\n\"Alt-Svc\" =     (\n    \"hq=\\\":443\\\"; ma=2592000; quic=51303431; quic=51303339; quic=51303338; quic=51303337; quic=51303335,quic=\\\":443\\\"; ma=2592000; v=\\\"41,39,38,37,35\\\"\"\n);\n\"Cache-Control\" =     (\n    \"private, max-age=0\"\n);\n\"Content-Encoding\" =     (\n    gzip\n);\n\"Content-Type\" =     (\n    \"application/json; charset=UTF-8\"\n);\nDate =     (\n    \"Tue, 02 Jan 2018 18:19:52 GMT\"\n);\nExpires =     (\n    \"Tue, 02 Jan 2018 18:19:52 GMT\"\n);\nServer =     (\n    GSE\n);\n\"Transfer-Encoding\" =     (\n    Identity\n);\nVary =     (\n    Origin,\n    \"X-Origin\"\n);\n\"X-Content-Type-Options\" =     (\n    nosniff\n);\n\"X-Frame-Options\" =     (\n    SAMEORIGIN\n);\n\"X-XSS-Protection\" =     (\n    \"1; mode=block\"\n);\n</code></pre>\n\n<p>} }}</p>\n\n<p><strong>Thanks</strong></p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "readonly"], "comments": [{"owner": {"reputation": 844, "user_id": 1116956, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ee9807bdc0fc81cf422d4227d3d6da8?s=128&d=identicon&r=PG", "display_name": "solenoid", "link": "https://stackoverflow.com/users/1116956/solenoid"}, "edited": false, "score": 1, "creation_date": 1514907264, "post_id": 48063163, "comment_id": 83100223, "body": "Add r/w flag to your data source (or make another array with the same # of elements and populate that) and whenever it might change refresh the view?"}], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514917419, "post_id": 48064292, "comment_id": 83105010, "body": "Or add <code>{ MyProductVC * _targetMyProductsVC }</code> behind <code>@implementation \u2026</code>."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1514918272, "post_id": 48064292, "comment_id": 83105378, "body": "@AminNegm-Awad - Apple&#39;s use of &quot;need&quot; in their last sentence is, as your comment illustrates, incorrectly emphatic. However there is some merit in Apple&#39;s approach in that it clearly ties the variable to the property, so it seemed appropriate to keep the answer simple by omitting the alternative. That said, I&#39;ll admit to using the alternative myself on occasions ;-)"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514920618, "post_id": 48064292, "comment_id": 83106397, "body": "I didn&#39;t want to criticizes your answer, just add a comment. This is, why I did not add an answer. However, synthesizing the way you explained has the advantage, that the type is automatically taken. On the other side explicit ivars have the advantage, that the type can differ \u2013 esp. it is possible to use a mutable subclass, what is useful for properties with a collection type."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1514927224, "post_id": 48064292, "comment_id": 83109211, "body": "@AminNegm-Awad - No criticism understood!"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1514909757, "last_edit_date": 1592644375, "creation_date": 1514909757, "answer_id": 48064292, "question_id": 48063163, "link": "https://stackoverflow.com/questions/48063163/how-to-set-a-property-of-uicollectionviewcell-readonly-eligantly/48064292#48064292", "title": "How to set a property of UICollectionViewCell readonly eligantly", "body": "<p>Because you are implementing your own property getter for a <code>readonly</code> property, which means there is only one accessor (i.e. there is no setter), the compiler will not automatically declare the backing variable. From <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html\" rel=\"nofollow noreferrer\">Encapsulating Data</a>:</p>\n<blockquote>\n<p><strong>Note</strong>: The compiler will automatically synthesize an instance variable in all situations where it\u2019s also synthesizing at least one accessor method. If you implement both a getter and a setter for a <code>readwrite</code> property, or a getter for a <code>readonly</code> property, the compiler will assume that you are taking control over the property implementation and won\u2019t synthesize an instance variable automatically.</p>\n<p>If you still need an instance variable, you\u2019ll need to request that one be synthesized:</p>\n<pre><code>@synthesize property = _property;  \n</code></pre>\n</blockquote>\n<p>You insert the above before your getter implementation to resolve the <em>undeclared variable</em> error.</p>\n<p>HTH</p>\n"}], "owner": {"reputation": 3125, "user_id": 7088290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BWxwi.png?s=128&g=1", "display_name": "dengApro", "link": "https://stackoverflow.com/users/7088290/dengapro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48064292, "answer_count": 1, "score": 0, "last_activity_date": 1514909757, "creation_date": 1514905090, "question_id": 48063163, "link": "https://stackoverflow.com/questions/48063163/how-to-set-a-property-of-uicollectionviewcell-readonly-eligantly", "title": "How to set a property of UICollectionViewCell readonly eligantly", "body": "<p>I have a UITableViewCell <code>ProductsCell</code>, I registered it in a nib , and dequeue to use it.</p>\n\n<p>I want to set a property of it readonly. How to do it better?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>@property (nonatomic, strong, readonly) MyProductsVC * targetMyProductsVC;\n\n- (MyProductsVC *)targetMyProductsVC{\n\n    if(!_targetMyProductsVC){\n        UIResponder *target = self.nextResponder;\n        do {\n            target = target.nextResponder;\n        } while (![target isKindOfClass: ZBMyProductsVC.self] &amp;&amp; target != nil);\n        _targetMyProductsVC = (ZBMyProductsVC *)target;\n\n    }\n    return _targetMyProductsVC;\n}\n</code></pre>\n\n<p>I can't put the implementation. in <code>-init</code>,<code>-awakeFromNib</code> , because I use <code>UIResponder</code> to find the parent ViewController.</p>\n\n<p>Because in above methods, the cell seems like have not been added on the super view.</p>\n\n<p>If I do like this , </p>\n\n<pre><code>@property (nonatomic, strong, readonly) MyProductsVC * targetMyProductsVC;\n</code></pre>\n\n<p>Xcode reports:</p>\n\n<blockquote>\n  <p>Use of undeclared identifier '_targetMyProductsVC'</p>\n</blockquote>\n\n<p>It is OK to set two property. one is inside like above , just set the other readonly property outside <code>getter</code> method (<code>return</code> the former property.)\nIt a little dirty ,</p>\n\n<p><strong>any better way ?</strong></p>\n\n<p>The code can work:</p>\n\n<pre><code>@property (nonatomic, strong, readonly) MyProductsVC * targetMyProductsVCReadOnly; \n@property (nonatomic, strong) MyProductsVC * targetMyProductsVC;\n\n\n- (MyProductsVC *)targetMyProductsVC{\n\n    if(!_targetMyProductsVC){\n        UIResponder *target = self.nextResponder;\n        do {\n            target = target.nextResponder;\n        } while (![target isKindOfClass: ZBMyProductsVC.self] &amp;&amp; target != nil);\n        _targetMyProductsVC = (ZBMyProductsVC *)target;\n\n    }\n    return _targetMyProductsVC; }\n\n\n- (MyProductsVC *)targetMyProductsVCReadOnly{\n    return self.targetMyProductsVC; }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uiimagepickercontroller"], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 5721344, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/922af1c2d292edbe7651168ce66c36c3?s=128&d=identicon&r=PG&f=1", "display_name": "fi12", "link": "https://stackoverflow.com/users/5721344/fi12"}, "edited": false, "score": 0, "creation_date": 1514904589, "post_id": 48063033, "comment_id": 83098797, "body": "Let me try that and get back to you in a few minutes."}], "tags": [], "owner": {"reputation": 7251, "user_id": 285190, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/EqHSe.jpg?s=128&g=1", "display_name": "Flexicoder", "link": "https://stackoverflow.com/users/285190/flexicoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1514904545, "creation_date": 1514904545, "answer_id": 48063033, "question_id": 48062900, "link": "https://stackoverflow.com/questions/48062900/the-file-img-xxxx-jpg-couldn-t-be-opened-because-there-is-no-such-file/48063033#48063033", "title": "&quot;The file \u201cIMG_xxxx.JPG\u201d couldn\u2019t be opened because there is no such file.&quot;", "body": "<p>Shouldn't the second parameter in the array be the location you've written the file too?</p>\n\n<p>So this...</p>\n\n<pre><code>NSArray *parameters = @[ @{ @\"name\": @\"task\", @\"value\": @\"4b363547-58da-48a8-b76d-8877dd816d13\" },\n                         @{ @\"name\": @\"image_file\", @\"fileName\": @\"/private/var/mobile/Containers/Data/Application/C7C8D8A8-B9E7-4E4E-B35C-DBFB061804D6/tmp/IMG_0082.JPG\" } ];\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>NSArray *parameters = @[ @{ @\"name\": @\"task\", @\"value\": @\"4b363547-58da-48a8-b76d-8877dd816d13\" },\n                         @{ @\"name\": @\"image_file\", @\"fileName\": path} ];\n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 5721344, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/922af1c2d292edbe7651168ce66c36c3?s=128&d=identicon&r=PG&f=1", "display_name": "fi12", "link": "https://stackoverflow.com/users/5721344/fi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 48063033, "answer_count": 1, "score": 0, "last_activity_date": 1514904545, "creation_date": 1514904002, "question_id": 48062900, "link": "https://stackoverflow.com/questions/48062900/the-file-img-xxxx-jpg-couldn-t-be-opened-because-there-is-no-such-file", "title": "&quot;The file \u201cIMG_xxxx.JPG\u201d couldn\u2019t be opened because there is no such file.&quot;", "body": "<p>I'm trying to pass an image selected in an image picker to an API. To do so, I have to pass the full path of the image. What I'm currently doing is finding the image name, and the file path of the image, the appending the name onto the file path. Even after I pass this full path to the API, I still get the error described below:</p>\n\n<p><code>Error Domain=NSCocoaErrorDomain Code=260 \"The file \u201cIMG_0082.JPG\u201d couldn\u2019t be opened because there is no such file.\" UserInfo={NSFilePath=/private/var/mobile/Containers/Data/Application/C7C8D8A8-B9E7-4E4E-B35C-DBFB061804D6/tmp/IMG_0082.JPG, NSUnderlyingError=0x14fb200f0 {Error Domain=NSPOSIXErrorDomain Code=2 \"No such file or directory\"}}\n</code>    </p>\n\n<p>What is the problem? I've attached my full <code>imagePickerController</code> method below.</p>\n\n<pre><code>- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary&lt;NSString *,id&gt; *)info\n{\n    // Dismiss image picker\n    [picker dismissViewControllerAnimated:YES completion:nil];\n\n    // Classify image\n    UIImage *image = [info objectForKey:@\"UIImagePickerControllerEditedImage\"];\n\n    // Get image name\n    NSURL *refURL = [info valueForKey:UIImagePickerControllerReferenceURL];\n    PHFetchResult *result = [PHAsset fetchAssetsWithALAssetURLs:@[refURL] options:nil];\n    NSString *filename = [[result firstObject] filename];\n\n    // Get image file path and append file name onto it\n    NSData *imageData = UIImagePNGRepresentation(image);\n    NSString *path = [NSTemporaryDirectory() stringByAppendingPathComponent:filename];\n    [imageData writeToFile:path atomically:YES];\n\n    NSDictionary *headers = @{ @\"content-type\": @\"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\",\n                               @\"Content-Type\": @\"multipart/form-data\",\n                               @\"Accept\": @\"application/json\",\n                               @\"Authorization\": @\"Token 60f6be2a21bdf731d86a8817b440a1afba692fed\",\n                               @\"Cache-Control\": @\"no-cache\",\n                               @\"Postman-Token\": @\"79ca63d8-1bdc-f3e3-13cd-9bc18b68caa0\" };\n    NSArray *parameters = @[ @{ @\"name\": @\"task\", @\"value\": @\"4b363547-58da-48a8-b76d-8877dd816d13\" },\n                             @{ @\"name\": @\"image_file\", @\"fileName\": @\"/private/var/mobile/Containers/Data/Application/C7C8D8A8-B9E7-4E4E-B35C-DBFB061804D6/tmp/IMG_0082.JPG\" } ];\n    NSString *boundary = @\"----WebKitFormBoundary7MA4YWxkTrZu0gW\";\n\n    NSError *error;\n    NSMutableString *body = [NSMutableString string];\n    for (NSDictionary *param in parameters) {\n        [body appendFormat:@\"--%@\\r\\n\", boundary];\n        if (param[@\"fileName\"]) {\n            [body appendFormat:@\"Content-Disposition:form-data; name=\\\"%@\\\"; filename=\\\"%@\\\"\\r\\n\", param[@\"name\"], param[@\"fileName\"]];\n            [body appendFormat:@\"Content-Type: %@\\r\\n\\r\\n\", param[@\"contentType\"]];\n            [body appendFormat:@\"%@\", [NSString stringWithContentsOfFile:param[@\"fileName\"] encoding:NSUTF8StringEncoding error:&amp;error]];\n            if (error) {\n                NSLog(@\"%@\", error);\n            }\n        } else {\n            [body appendFormat:@\"Content-Disposition:form-data; name=\\\"%@\\\"\\r\\n\\r\\n\", param[@\"name\"]];\n            [body appendFormat:@\"%@\", param[@\"value\"]];\n        }\n    }\n    [body appendFormat:@\"\\r\\n--%@--\\r\\n\", boundary];\n    NSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];\n\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@\"https://api.vize.ai/v1/classify/\"]\n                                                           cachePolicy:NSURLRequestUseProtocolCachePolicy\n                                                       timeoutInterval:10.0];\n    [request setHTTPMethod:@\"POST\"];\n    [request setAllHTTPHeaderFields:headers];\n    [request setHTTPBody:postData];\n\n    NSURLSession *session = [NSURLSession sharedSession];\n    NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request\n                                                completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n                                                    if (error) {\n                                                        NSLog(@\"%@\", error);\n                                                    } else {\n                                                        NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;\n                                                        NSLog(@\"%@\", httpResponse);\n                                                    }\n                                                }];\n    [dataTask resume];\n</code></pre>\n"}, {"tags": ["objective-c", "objective-c-blocks", "nsoperationqueue", "nsoperation"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1514909948, "post_id": 48062344, "comment_id": 83101693, "body": "By the way, even if you were programming in C and wanted to use <code>char *</code> pointers, you should be using <code>const char *</code> pointers unless you&#39;re really mutating the buffer it points to. And if you were doing that, you should copy the contents of the <code>const char *</code> pointer to a <code>char *</code> buffer of your own. But you should never cast a <code>const char *</code> pointer to a <code>char *</code> pointer. This is likely entirely moot, as you are writing Objective-C code, not C, and probably shouldn&#39;t be passing around <code>char *</code> pointers at all (esp in asynchronous code)."}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 889210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Pf4px.jpg?s=128&g=1", "display_name": "Gyanendra", "link": "https://stackoverflow.com/users/889210/gyanendra"}, "edited": false, "score": 0, "creation_date": 1515574993, "post_id": 48063462, "comment_id": 83347015, "body": "Thanks for the response. It was really helpful"}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 1, "last_activity_date": 1514910323, "last_edit_date": 1514910323, "creation_date": 1514906386, "answer_id": 48063462, "question_id": 48062344, "link": "https://stackoverflow.com/questions/48062344/nsoperationqueue-methods-parameter-are-becoming-empty/48063462#48063462", "title": "NSOperationQueue methods parameter are becoming empty", "body": "<p>The problem is not with <code>NSOperationQueue</code>. The issue is the use of <code>char *</code>. As the <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1408489-cstringusingencoding?language=objc\" rel=\"nofollow noreferrer\">documentation for <code>cStringUsingEncoding</code> says</a>:</p>\n\n<blockquote>\n  <p>The returned C string is guaranteed to be valid only until either the receiver is freed, or until the current memory is emptied, whichever occurs first. You should copy the C string or use <code>getCString:maxLength:encoding:</code> if it needs to store the C string beyond this time.</p>\n</blockquote>\n\n<p>Bottom line, simple C pointers like <code>char *</code> do not participate in (automatic) reference counting. Your code is using dangling pointers to unmanaged buffer pointers. This is exceedingly dangerous and when not done properly (as in this case), will lead to undefined behavior. The resulting behavior is dictated whether the memory in question happened to be reused for other purposes in the intervening time, which can lead to unpredictable behavior that changes based upon completely unrelated factors (e.g. the loop count or whatever).</p>\n\n<p>You should try running your app with the \"address sanitizer\" turned on (found in the scheme settings under the \"run\" settings, on the diagnostics tab) and it will likely report some of these issues. E.g. when I ran your code with address sanitizer, it reported:</p>\n\n<blockquote>\n  <p>==15249==ERROR: AddressSanitizer: heap-use-after-free on address 0x60300003a458 at pc 0x00010ba3bde6 bp 0x70000e837880 sp 0x70000e837028</p>\n</blockquote>\n\n<p>For more information, see <a href=\"https://developer.apple.com/documentation/code_diagnostics/address_sanitizer\" rel=\"nofollow noreferrer\">Address Sanitizer documentation</a> or its <a href=\"https://developer.apple.com/videos/play/wwdc2015/413/\" rel=\"nofollow noreferrer\">introductory video</a>.</p>\n\n<p>The easiest solution is going to be to eliminate the <code>char *</code> and instead use the <code>int</code> index value or use an object, such as <code>NSString *</code>.</p>\n"}], "owner": {"reputation": 361, "user_id": 889210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Pf4px.jpg?s=128&g=1", "display_name": "Gyanendra", "link": "https://stackoverflow.com/users/889210/gyanendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 48063462, "answer_count": 1, "score": 1, "last_activity_date": 1514910323, "creation_date": 1514901628, "last_edit_date": 1514910129, "question_id": 48062344, "link": "https://stackoverflow.com/questions/48062344/nsoperationqueue-methods-parameter-are-becoming-empty", "title": "NSOperationQueue methods parameter are becoming empty", "body": "<p>I am having problem with <code>NSOperationQueue</code>, if I am adding the same operation for 200 times method is behaving as expected. \nBut if I increase the for loop to 500 times, parameter are becoming empty when queue will start executing the task. Below is the code snippet.</p>\n\n<pre><code>- (void)someMethod:(char *)param1 {\n    NSBlockOperation *theOp = [NSBlockOperation blockOperationWithBlock: ^{\n        // use this paramter and do something\n    }];\n    [[MyQueueService sharedMyQueueService] operationQueue] addOperation:theOp];\n}\n</code></pre>\n\n<p>This is how I am invoking the above method</p>\n\n<pre><code>for (int index = 1; index &lt; 500; index++) {\n    MyClass *classInstance = [[MyClass alloc] init];\n    NSString *parm1 = [NSString stringWithFormat:@\"%d\", index];\n    [classInstance someMethod:(char *)[string cStringUsingEncoding:NSUTF8StringEncoding]];\n}\n</code></pre>\n\n<p>Here is becoming empty i.e \"\", if i run the same method for 500 time, due to this I am unable to perform other operation. Please help me regarding this.</p>\n"}, {"tags": ["ios", "objective-c", "json", "nsdictionary"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1514901556, "post_id": 48062297, "comment_id": 83097141, "body": "I think that what you need is <code>NSData * jsonData = [NSJSONSerialization dataWithJSONObject:clientinfo options:0 error:&amp;err];</code> instead of <code>NSData * jsonData = [NSJSONSerialization dataWithJSONObject:remittance options:0 error:&amp;err];</code>is client info dictionary what you want to conver to json data don&#39;t you?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1514901578, "post_id": 48062297, "comment_id": 83097153, "body": "<code>[NSJSONSerialization dataWithJSONObject:remittance options:0 error:&amp;err];</code>. <code>remittance </code>? Are you sure? I think that <code>remittance</code> is your custom <code>NSObject</code>, not the dictionary that you want to use which is may be <code>remittancedata</code>"}], "answers": [{"tags": [], "owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "is_accepted": false, "score": 0, "last_activity_date": 1514902571, "last_edit_date": 1514902571, "creation_date": 1514901713, "answer_id": 48062360, "question_id": 48062297, "link": "https://stackoverflow.com/questions/48062297/try-to-convert-nsdictionary-to-json-the-json-have-two-object-inside/48062360#48062360", "title": "try to convert nsdictionary to json, the json have two object inside", "body": "<p>An issue like this occurs if one or more of your value or key types can't be serialized.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/foundation/nsjsonserialization\" rel=\"nofollow noreferrer\">Here</a> are the supported types.</p>\n\n<p>In case you have incompatible types, you need to convert them yourself first (often to a string representation).</p>\n"}, {"comments": [{"owner": {"reputation": 3887, "user_id": 7914637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_BhuHcC8Ww/AAAAAAAAAAI/AAAAAAAAABg/hiPWIjRXbhI/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7914637/alexander"}, "edited": false, "score": 0, "creation_date": 1514907177, "post_id": 48062363, "comment_id": 83100179, "body": "While this code snippet may be the solution, including an explanation really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}], "tags": [], "owner": {"reputation": 3299, "user_id": 2626237, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bGZsE.jpg?s=128&g=1", "display_name": "Syed Qamar Abbas", "link": "https://stackoverflow.com/users/2626237/syed-qamar-abbas"}, "is_accepted": false, "score": 0, "last_activity_date": 1514965573, "last_edit_date": 1514965573, "creation_date": 1514901728, "answer_id": 48062363, "question_id": 48062297, "link": "https://stackoverflow.com/questions/48062297/try-to-convert-nsdictionary-to-json-the-json-have-two-object-inside/48062363#48062363", "title": "try to convert nsdictionary to json, the json have two object inside", "body": "<p>You were serialising an object which was your custom object which doesn't support in JSON. You need to serialise either a <code>NSDictionary</code> or <code>NSArray</code> into JSON.</p>\n\n<pre><code>NSData * jsonData = [NSJSONSerialization dataWithJSONObject: remittancedata options:0 error:&amp;err];\nNSString * jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5376323, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh6.googleusercontent.com/-MTgGuYKbSgk/AAAAAAAAAAI/AAAAAAAAbEw/-rbEBSKq2P4/photo.jpg?sz=128", "display_name": "julian david", "link": "https://stackoverflow.com/users/5376323/julian-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1514965573, "creation_date": 1514901400, "last_edit_date": 1514901576, "question_id": 48062297, "link": "https://stackoverflow.com/questions/48062297/try-to-convert-nsdictionary-to-json-the-json-have-two-object-inside", "title": "try to convert nsdictionary to json, the json have two object inside", "body": "<p>I try to convert this dictionary but I get a error.</p>\n\n<blockquote>\n  <p>NSException * name: @\"NSInvalidArgumentException\" - reason: @\"***\n  +[NSJSONSerialization dataWithJSONObject:options:error:]: Invalid top-level type in JSON write\"   0x000060000044dda0</p>\n</blockquote>\n\n<pre><code>NSMutableDictionary *clientinfo = [[ NSMutableDictionary alloc] init];\n            [clientinfo setObject:remittance.cliente.cliente_id forKey:ST_clientID];\n\n            NSMutableDictionary *country = [[ NSMutableDictionary alloc] init];\n            [country setObject:remittance.pais.paisID forKey:ST_countryID];\n\n            NSMutableDictionary *remittancedata = [[ NSMutableDictionary alloc] init];\n            [remittancedata setObject:remittance.nroIdentificacion forKey:ST_noidentification];\n            [remittancedata setObject:clientinfo forKey:ST_client];\n            [remittancedata setObject:country forKey:ST_country];\n\n            NSError *err = nil;\n\n            NSData * jsonData = [NSJSONSerialization dataWithJSONObject:remittance options:0 error:&amp;err];\n            NSString * jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "uialertcontroller"], "comments": [{"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 2, "creation_date": 1514899095, "post_id": 48061373, "comment_id": 83095915, "body": "please refer this link it will be help <a href=\"https://stackoverflow.com/a/29122883/9137841\">stackoverflow.com/a/29122883/9137841</a>"}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1514899134, "post_id": 48061373, "comment_id": 83095943, "body": "Try to change button tint colour."}, {"owner": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "reply_to_user": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1514899558, "post_id": 48061373, "comment_id": 83096187, "body": "@JRB That change the alert view BG only."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514906612, "post_id": 48061373, "comment_id": 83099832, "body": "While you can do this by searching down the sub views of the alert controller and looking for the buttons you shouldn&#39;t do it.  This is because 1) Apple say to use it as is and not to modify it&#39;s view hierarchy (which includes changing properties) 2) It may break in a future iOS update and give you no way to replicate it.  If you really need an alert controller style popup that is custom then you should design and implement one yourself."}], "owner": {"reputation": 1193, "user_id": 1638027, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4fdb04375acf2eb15c39f91e880787b5?s=128&d=identicon&r=PG", "display_name": "iPhone Programmatically", "link": "https://stackoverflow.com/users/1638027/iphone-programmatically"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1254, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514904729, "creation_date": 1514897504, "last_edit_date": 1514904729, "question_id": 48061373, "link": "https://stackoverflow.com/questions/48061373/change-the-uialertcontroller-buttons-background-color", "title": "Change the UIAlertController buttons background color", "body": "<p>Is it possible to change the background color of UIAlertController? I have managed to change the background color of UIAlertView. I have gone through third parties also to do the same, but I want o do it without use of any third party. </p>\n\n<p><strong>Below is my code:</strong></p>\n\n<pre><code>UIAlertController * alert=[UIAlertController alertControllerWithTitle:@\"Title\"\n                                                                  message:@\"Message\"\n                                                           preferredStyle:UIAlertControllerStyleAlert];\n    UIView *firstSubview = alert.view.subviews.firstObject;\n    UIView *alertContentView = firstSubview.subviews.firstObject;\n    for (UIView *subSubView in alertContentView.subviews) {\n        subSubView.backgroundColor = [UIColor colorWithRed:255/255.0f green:255/255.0f blue:255/255.0f alpha:1.0f];\n    }\n    UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@\"Cancel\" style:UIAlertActionStyleDefault handler:^(UIAlertAction * action){\n        //Close Action\n    }];\n\n    UIAlertAction *deleteAction = [UIAlertAction actionWithTitle:@\"Delete\" style:UIAlertActionStyleDefault handler:^(UIAlertAction * action){\n        //Close Action\n    }];\n\n    [cancelAction setValue:[UIColor greenColor] forKey:@\"titleTextColor\"];\n    [deleteAction setValue:[UIColor redColor] forKey:@\"titleTextColor\"];\n\n    [alert addAction:cancelAction];\n    [alert addAction:deleteAction];\n    [self presentViewController:alert animated:YES completion:nil];\n</code></pre>\n\n<p>Thanks in advance!!</p>\n"}, {"tags": ["objective-c", "arrays", "json"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514896041, "post_id": 48060985, "comment_id": 83094411, "body": "Forget <code>NSJSONWritingPrettyPrinted</code>.  It adds unnessary whitespace and newline characters. And what are the string manipulations and regular expression for? <code>NSJSONSerialization</code> creates the proper JSON"}, {"owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514896195, "post_id": 48060985, "comment_id": 83094481, "body": "Thanks @vadian , then what i want to use there?"}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1514896209, "post_id": 48060985, "comment_id": 83094487, "body": "Manipulating JSON with <code>stringByReplacingOccurrencesOfString</code> and related methods is almost certainly going to screw the contents up. What are <b><i>actually trying</i></b> to achieve?"}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1514896270, "post_id": 48060985, "comment_id": 83094509, "body": "Please stop randomly printing the contents of the arrFieldValues, that output is meaningless. What do you plan on doing with it?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1514896527, "post_id": 48060985, "comment_id": 83094657, "body": "<code>f_value</code> is JSONified inside JSON. Use another NSJSONSerialization for it. Also, do not manipulate the JSON as String with <code>stringByReplacingMatchesInString</code>."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514897202, "post_id": 48060985, "comment_id": 83095028, "body": "Please don&#39;t edit the question by fixing the issue. It becomes pointless for other readers"}], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514897163, "post_id": 48061139, "comment_id": 83095012, "body": "I guess tutorials uses the pretty print option for teaching reasons: It is easier to check and explain the result."}, {"owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "edited": false, "score": 0, "creation_date": 1514897215, "post_id": 48061139, "comment_id": 83095035, "body": "Vadian ,please check my updated code..now also i am getting some extra characters"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514897310, "post_id": 48061139, "comment_id": 83095076, "body": "The <i>extra characters</i> are pretty fine. The backslashes are added virtually to escape the double quotes in the literal string description."}, {"owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "edited": false, "score": 0, "creation_date": 1514897477, "post_id": 48061139, "comment_id": 83095133, "body": "i don&#39;t want any extra characters .i want like this <b>arrFieldValues:(     {     &quot;field_id&quot; = 128;     &quot;field_value&quot; = 5; },     {     &quot;f_value&quot; = [&quot;2&quot;];     &quot;field_id&quot; = 129; } )</b>"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1514897562, "post_id": 48061139, "comment_id": 83095178, "body": "* sigh * . Once again, <b>there are no extra characters</b>. They are added <b>virtually</b> when calling the <code>description</code> method to be able to display double quotes in a literal string."}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 1, "last_activity_date": 1514896876, "last_edit_date": 1514896876, "creation_date": 1514896560, "answer_id": 48061139, "question_id": 48060985, "link": "https://stackoverflow.com/questions/48060985/i-want-to-convert-my-array-into-json-array-in-objective-c/48061139#48061139", "title": "I want to convert my array into Json Array in Objective c", "body": "<p>Remove <code>NSJSONWritingPrettyPrinted</code> and all string manipulation code.</p>\n\n<p>Replace </p>\n\n<pre><code>NSData *jsonData2 = [NSJSONSerialization dataWithJSONObject:fieldSelectedOptions options:NSJSONWritingPrettyPrinted error:&amp;error];\nNSString *jsonString = [[NSString alloc] initWithData:jsonData2 encoding:NSUTF8StringEncoding];\njsonString =[jsonString stringByReplacingOccurrencesOfString:@\"\\n\" withString:@\"\"];\njsonString = [jsonString stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];\n\nNSRegularExpression *expression = [NSRegularExpression regularExpressionWithPattern:@\"[,\\\\.\\']\" options:0 error:NULL];\n\njsonString = [expression stringByReplacingMatchesInString:jsonString options:0 range:NSMakeRange(0, jsonString.length)\n                                                                         withTemplate:@\"\"];\njsonString =[jsonString stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n[dictFieldValue setObject:jsonString forKey:@\"f_value\"];\n</code></pre>\n\n<p>with </p>\n\n<pre><code>NSData *jsonData2 = [NSJSONSerialization dataWithJSONObject:fieldSelectedOptions options:0 error:&amp;error];\nNSString *jsonString = [[NSString alloc] initWithData:jsonData2 encoding:NSUTF8StringEncoding];\ndictFieldValue[@\"f_value\"] = jsonString;\n</code></pre>\n\n<p>I'm wondering why almost all tutorials suggest the pretty printed option. </p>\n\n<p>Servers don't care about aesthetics at all.</p>\n"}], "owner": {"reputation": 5, "user_id": 7333685, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9305e78b9c10bcba2541dee6a7292dcb?s=128&d=identicon&r=PG&f=1", "display_name": "Saraswathi", "link": "https://stackoverflow.com/users/7333685/saraswathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 48061139, "answer_count": 1, "score": 0, "last_activity_date": 1514897353, "creation_date": 1514895945, "last_edit_date": 1514897353, "question_id": 48060985, "link": "https://stackoverflow.com/questions/48060985/i-want-to-convert-my-array-into-json-array-in-objective-c", "title": "I want to convert my array into Json Array in Objective c", "body": "<p>I want to convert the nsmutable array into json array in objective c but I am getting some extra characters also</p>\n\n<p>My code</p>\n\n<pre><code>if (isSucceeded) {\n\nNSMutableDictionary *dictFieldValue = [NSMutableDictionary dictionary];\nNSMutableArray *fieldSelectedOptions = [[NSMutableArray alloc]init];\n                   [fieldSelectedOptions addObject:str];\n\n\n[dictFieldValue setObject:@(fieldData.fieldId) forKey:@\"field_id\"];\n                   NSError *error;\n\n                   NSData *jsonData2 = [NSJSONSerialization dataWithJSONObject:fieldSelectedOptions options:0 error:&amp;error];\n                 NSString *jsonString = [[NSString alloc] initWithData:jsonData2 encoding:NSUTF8StringEncoding];\n  [dictFieldValue setObject:jsonString forKey:@\"f_value\"];\n\n                [arrFieldValues addObject:dictFieldValue];\n                   NSLog(@\"arrFieldValues:%@\",arrFieldValues);\n\n               } \n</code></pre>\n\n<p>Output</p>\n\n<pre><code>    arrFieldValues:(\n    {\n    \"field_id\" = 128;\n    \"field_value\" = 5;\n},\n   {\n    \"f_value\" = \"[\\\"1\\\"]\";\n    \"field_id\" = 129;\n}\n)\n</code></pre>\n\n<p>but i want the output like </p>\n\n<pre><code>arrFieldValues:(\n    {\n    \"field_id\" = 128;\n    \"field_value\" = 5;\n},\n    {\n    \"f_value\" = [\"2\"];\n    \"field_id\" = 129;\n}\n)\n</code></pre>\n\n<p>I have convert the msmutable array into json array and then NSstring and Add that string into an another array in objective. Please let me know my mistake here. </p>\n"}, {"tags": ["objective-c", "nsdata", "nsurl"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 3, "creation_date": 1514894759, "post_id": 48060548, "comment_id": 83093758, "body": "According to the output the scheme of the URL (<code>http:&#47;&#47;</code>, <code>https:&#47;&#47;</code>) seems to be missing. And <b>never</b> load data from a remote URL with <code>dataWithContentsOfURL</code>. It blocks the current thread."}, {"owner": {"reputation": 227, "user_id": 7667412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/011b800ae1f369cae5a6a593903d2310?s=128&d=identicon&r=PG&f=1", "display_name": "Prez", "link": "https://stackoverflow.com/users/7667412/prez"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1514897622, "post_id": 48060548, "comment_id": 83095204, "body": "Thanks ,this helped."}], "owner": {"reputation": 227, "user_id": 7667412, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/011b800ae1f369cae5a6a593903d2310?s=128&d=identicon&r=PG&f=1", "display_name": "Prez", "link": "https://stackoverflow.com/users/7667412/prez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514905487, "creation_date": 1514894181, "last_edit_date": 1514905487, "question_id": 48060548, "link": "https://stackoverflow.com/questions/48060548/nsdata-is-returning-null-even-when-nsurl-and-nsstring-are-returning-proper-value", "title": "NSData is returning null even when nsurl and nsstring are returning proper values", "body": "<p>I have done the following code to get car_image from response obtained on hitting api.I have a url as value for key car_image.Till,now everything works fine.</p>\n\n<p>Code:</p>\n\n<pre><code>-(void)callService{\n    AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];\n    manager.responseSerializer = [AFJSONResponseSerializer serializer];\n    manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@\"text/html\",@\"application/json\", nil];\n    NSMutableDictionary *dict = [NSMutableDictionary new];\n    [dict setValue:@561 forKey:@\"did\"];\n    [manager POST:@\"http://demo.esenseit.in/Alec1-Admin-Panel-and-API/alec_api/index.php?flag=get_car_list\" parameters:dict progress:^(NSProgress * _Nonnull uploadProgress) {\n    } success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {\n        NSLog(@\"response %@\",responseObject);\n       responseArr = [responseObject valueForKey:@\"data\"];\n        NSString *urlstr=[[responseArr valueForKey:@\"car_image\"]objectAtIndex:1];\n         NSLog(@\"value of urlstr %@\",urlstr);\n       // NSData *data=[NSData dataWithContentsOfURL:[NSURL URLWithString:urlstr]];\n        NSError* error = nil;\n        NSData* data = [NSData dataWithContentsOfURL:[NSURL URLWithString:urlstr] options:NSDataReadingUncached error:&amp;error];\n        if (error) {\n            NSLog(@\"Error is %@\", [error localizedDescription]);\n        } else {\n            NSLog(@\"Data has loaded successfully.\");\n        }\n        NSLog(@\"value of url %@\",[NSURL URLWithString:urlstr]);\n        NSLog(@\"value of data %@\",data);\n\n        dispatch_async(dispatch_get_main_queue(), ^{\n\n        });\n    }\n          failure:^(NSURLSessionDataTask  *_Nullable task, NSError  *_Nonnull error) {\n\n              NSLog(@\"request failed %@\",error);\n          }];\n}\n</code></pre>\n\n<p>Problem:</p>\n\n<p>The value of data returns as null. I am not able to understand when string, url are all returning their values nicely, then why only data is creating null result.</p>\n\n<p>Log Values:</p>\n\n<pre><code>1)value of urlstr demo.esenseit.in/Alec1-Admin-Panel-and-API/alec_api/upload/car_8_1514810479.jpg\n2)Error is The file \u201ccar_8_1514810479.jpg\u201d couldn\u2019t be opened.\n3)value of url demo.esenseit.in/Alec1-Admin-Panel-and-API/alec_api/upload/car_8_1514810479.jpg\n4)value of data (null)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "picker"], "comments": [{"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514906782, "post_id": 48059768, "comment_id": 83099933, "body": "What result does your code give you so that we can compare it to what you want to achieve?"}, {"owner": {"reputation": 792, "user_id": 2625070, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RORGC.jpg?s=128&g=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/2625070/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1514955319, "post_id": 48059768, "comment_id": 83116336, "body": "Can you please upload the picture of that , what did you achieve right now by your code?"}], "owner": {"reputation": 99, "user_id": 4803429, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/bd01c6de36611f3aa0a360682fda20f2?s=128&d=identicon&r=PG&f=1", "display_name": "thaotruong58", "link": "https://stackoverflow.com/users/4803429/thaotruong58"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514893990, "creation_date": 1514890928, "last_edit_date": 1514893990, "question_id": 48059768, "link": "https://stackoverflow.com/questions/48059768/custom-layout-collection-view-like-horizontal-picker", "title": "Custom layout collection view like horizontal picker", "body": "<p>I want to make a picker like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OFR57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFR57.png\" alt=\"enter image description here\"></a></p>\n\n<p>I made a view below, then add text \"Data\" and a <code>collection view</code> to center like this photo.</p>\n\n<p>I customized the <code>UICollectionViewLayoutAttributes</code>:</p>\n\n<pre><code>- (void)prepareLayout {\n    CGRect visibleRect = (CGRect){self.collectionView.contentOffset, self.collectionView.bounds.size};\n    self.midX = CGRectGetMidX(visibleRect);\n    self.width = CGRectGetWidth(visibleRect) / 2;\n    self.maxAngle = M_PI_2; \n }\n\n        CGFloat distance = CGRectGetMidX(attributes.frame) - self.midX;\n        CGFloat currentAngle = self.maxAngle * distance / self.width / M_PI_2;\n        CATransform3D transform = CATransform3DIdentity;\n        transform = CATransform3DTranslate(transform, -distance, 0, -self.width);\n        transform = CATransform3DRotate(transform, currentAngle, 0, 1, 0);\n        transform = CATransform3DTranslate(transform, 0, 0, self.width);\n        attributes.transform3D = transform;\n        attributes.alpha = (ABS(currentAngle) &lt; self.maxAngle);\n        return attributes\n</code></pre>\n\n<p>The problem is the layout need to have size smaller and blur in the <code>left</code> and <code>right</code> sides.</p>\n\n<p>Thank for help.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-dynamic-links"], "comments": [{"owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514887319, "post_id": 48058750, "comment_id": 83089986, "body": "would you like to open an url using openURL?"}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514887546, "post_id": 48058750, "comment_id": 83090098, "body": "@SandipGill Yes, when the app is started for the first time I need to do an check. But the openURL method is only called when I download the app and also when I do an update(by installing on top of the previous installation). But when I download the app with the firebase dynamic link it works but not when I do an update on top of it."}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514887653, "post_id": 48058750, "comment_id": 83090155, "body": "So the firebase dynamic link does something strange. It does not open the openURL method after doing an update above of the download that was doen with the firebase dynamic link."}, {"owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514887887, "post_id": 48058750, "comment_id": 83090245, "body": "ok can you please share the code ?"}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514888216, "post_id": 48058750, "comment_id": 83090407, "body": "@SandipGill I have added the openURL method into this &quot;question&quot;."}, {"owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514888522, "post_id": 48058750, "comment_id": 83090569, "body": "ok i have answered please try that code if it works. (Y)"}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514888617, "post_id": 48058750, "comment_id": 83090615, "body": "@SandipGill Do I need to place that code in my method? Because the method isnt called.."}, {"owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514888674, "post_id": 48058750, "comment_id": 83090645, "body": "yes you can place the code where you want to open your url"}, {"owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514888715, "post_id": 48058750, "comment_id": 83090665, "body": "you are using objective c But answer is in swift"}, {"owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514894211, "post_id": 48058750, "comment_id": 83093474, "body": "is your problem resolved?"}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "edited": false, "score": 0, "creation_date": 1514896729, "post_id": 48058750, "comment_id": 83094779, "body": "@SandipGill Thank you for your help. But my problem isnt solved yet. The problem is that my method doesnt activate after clicking on a dynamic link and downloading the app and after that rebuilding the app."}, {"owner": {"reputation": 2171, "user_id": 2546685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dsn7k.png?s=128&g=1", "display_name": "Oleksiy Ivanov", "link": "https://stackoverflow.com/users/2546685/oleksiy-ivanov"}, "edited": false, "score": 0, "creation_date": 1514924652, "post_id": 48058750, "comment_id": 83108122, "body": "Can you clarify in your question what operations you are performing, what happening and what you expect to happens? Firebase Dynamic Links will call method openURL: only when you tap on dynamic link while App is not installed, download (or otherwise install the App), and launch the App for the first time. If App is already installed when you tap on dynamic link, will be called method application:continueUserActivity:restorationHandler: . Ensure you followed guide here <a href=\"https://firebase.google.com/docs/dynamic-links/ios/receive\" rel=\"nofollow noreferrer\">firebase.google.com/docs/dynamic-links/ios/receive</a>"}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 2171, "user_id": 2546685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dsn7k.png?s=128&g=1", "display_name": "Oleksiy Ivanov", "link": "https://stackoverflow.com/users/2546685/oleksiy-ivanov"}, "edited": false, "score": 0, "creation_date": 1514968854, "post_id": 48058750, "comment_id": 83121272, "body": "@OleksiyIvanov What if I download the app for the first time with a dynamic link and afther that doing an update? Will the openURL method be called(after doing an update) ?"}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 2171, "user_id": 2546685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dsn7k.png?s=128&g=1", "display_name": "Oleksiy Ivanov", "link": "https://stackoverflow.com/users/2546685/oleksiy-ivanov"}, "edited": false, "score": 0, "creation_date": 1514968930, "post_id": 48058750, "comment_id": 83121309, "body": "@OleksiyIvanov So I download the app for the first time with the dynamic link without having the app already on my phone. After that I do an update. But then it fails to call it. But when I dont download the app with the dynamic link and do an update, the openURL method is called. Hope to hear from you."}, {"owner": {"reputation": 2171, "user_id": 2546685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dsn7k.png?s=128&g=1", "display_name": "Oleksiy Ivanov", "link": "https://stackoverflow.com/users/2546685/oleksiy-ivanov"}, "edited": false, "score": 0, "creation_date": 1515088456, "post_id": 48058750, "comment_id": 83176939, "body": "@IOSporgrammerIOS Do I understand this correctly: 1. While App is not installed tap on dynamic link in Safari on iPhone, tap on OPEN button in opened page; 2. Install App; 3. Launch App for the first time; 4. openURL: method not called but the method expected to be called? If correct, please open Firebase Support bug and we will figure out what went wrong. Please run method [FIRDynamicLinks performDiagnosticsWithCompletion:nil]; and provide output of this method in your ticket."}, {"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "reply_to_user": {"reputation": 2171, "user_id": 2546685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dsn7k.png?s=128&g=1", "display_name": "Oleksiy Ivanov", "link": "https://stackoverflow.com/users/2546685/oleksiy-ivanov"}, "edited": false, "score": 0, "creation_date": 1515102513, "post_id": 48058750, "comment_id": 83183701, "body": "@OleksiyIvanov  1 : click on dynamic link and go to the appstore with it 2 : build project (so it looks like i downloaded it from the appstore) 3 : the openURL method is called 4 : Build project over the current one (to simulate an app update) 5 : openURL method is not called  If i do those steps but not opening (and after that building) appstore with a dynamic link, the openURL method will be called at step 5."}, {"owner": {"reputation": 2171, "user_id": 2546685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dsn7k.png?s=128&g=1", "display_name": "Oleksiy Ivanov", "link": "https://stackoverflow.com/users/2546685/oleksiy-ivanov"}, "edited": false, "score": 0, "creation_date": 1515109179, "post_id": 48058750, "comment_id": 83185962, "body": "@IOSporgrammerIOS Got it. openURL: will not be called in step 5 because openURL was already called in step 3. Update is not counted as new install. openURL: will be called only once per install."}], "answers": [{"tags": [], "owner": {"reputation": 1226, "user_id": 8511841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-o01AzsdvbLU/AAAAAAAAAAI/AAAAAAAAAJQ/66LYto224us/photo.jpg?sz=128", "display_name": "Sandip Gill", "link": "https://stackoverflow.com/users/8511841/sandip-gill"}, "is_accepted": false, "score": -1, "last_activity_date": 1514888988, "last_edit_date": 1514888988, "creation_date": 1514888485, "answer_id": 48059181, "question_id": 48058750, "link": "https://stackoverflow.com/questions/48058750/openurl-method-not-getting-called-when-updating-app-after-first-download-with-dy/48059181#48059181", "title": "openURL method not getting called when updating app after first download with dynamic link", "body": "<p>Hello @IOSporgrammerIOS Please try this.</p>\n\n<pre> \nvar yourUrl = NSURL(string:\"url_String\")!\n\n if UIApplication.shared.canOpenURL(yourUrl as URL){\n\n     UIApplication.shared.openURL(yourUrl as URL)\n\n  }\n</pre>\n\n<p>Objective C</p>\n\n<pre>\n\n    UIApplication *application = [UIApplication sharedApplication];\n    NSURL *URL = [NSURL URLWithString:@\"http://www.google.com\"];\n\n     [application openURL:URL options:@{} completionHandler:^(BOOL success) \n   {\n        if (success) {\n\n            NSLog(@\"Opened url\");\n       }\n }];\n\n</pre>\n"}, {"comments": [{"owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "edited": false, "score": 0, "creation_date": 1514968790, "post_id": 48065147, "comment_id": 83121241, "body": "Thanks for your help. But the openURL is called everytime the first time the app is installed. So my questions still stands.. I need this method to active or not active. Not doing both.."}], "tags": [], "owner": {"reputation": 2110, "user_id": 8105254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V4kbH.jpg?s=128&g=1", "display_name": "clayjones94", "link": "https://stackoverflow.com/users/8105254/clayjones94"}, "is_accepted": false, "score": 0, "last_activity_date": 1514913363, "creation_date": 1514913363, "answer_id": 48065147, "question_id": 48058750, "link": "https://stackoverflow.com/questions/48058750/openurl-method-not-getting-called-when-updating-app-after-first-download-with-dy/48065147#48065147", "title": "openURL method not getting called when updating app after first download with dynamic link", "body": "<p><code>openURL</code> is only called when an app is opened by a URI scheme i.e. <code>fb://</code>. Firebase uses <strong>Universal Links</strong> in most cases and apps opened by universal links trigger the <code>continue userActivity</code> protocol function. You can refer to their docs for that code:</p>\n\n<pre><code>func application(_ application: UIApplication, continue userActivity: NSUserActivity,\n                 restorationHandler: @escaping ([Any]?) -&gt; Void) -&gt; Bool {\n  guard let dynamicLinks = DynamicLinks.dynamicLinks() else {\n    return false\n  }\n  let handled = dynamicLinks.handleUniversalLink(userActivity.webpageURL!) { (dynamiclink, error) in\n    // ...\n  }\n\n  return handled\n}\n</code></pre>\n\n<p>This is one reason why I recommend using <a href=\"https://github.com/BranchMetrics/ios-branch-deep-linking\" rel=\"nofollow noreferrer\">Branch</a> since they do their handling in one callback regardless of whether it's a URI scheme or Universal link.</p>\n"}], "owner": {"reputation": 183, "user_id": 9123226, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/96004b63da9dafa460597620e51a9828?s=128&d=identicon&r=PG&f=1", "display_name": "IOSporgrammerIOS", "link": "https://stackoverflow.com/users/9123226/iosporgrammerios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1514920678, "creation_date": 1514886787, "last_edit_date": 1514920678, "question_id": 48058750, "link": "https://stackoverflow.com/questions/48058750/openurl-method-not-getting-called-when-updating-app-after-first-download-with-dy", "title": "openURL method not getting called when updating app after first download with dynamic link", "body": "<p>When I update my app with a new version by building over it the openURL method is called. But when I click on a dynamic link and do an update after that the openURL method isnt called anymore.</p>\n\n<p>Can someone explain why this is happening?</p>\n\n<p>This is the code where I want to do things with the openURL method/</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application\n\n        openURL:(NSURL *)url\n\n        options:(NSDictionary&lt;NSString *, id&gt; *)options {\n\n\n\n// Sends the URL to the current authorization flow (if any) which will\n\n// process it if it relates to an authorization response.\n\nif ([_currentAuthorizationFlow resumeAuthorizationFlowWithURL:url]) {\n\n    _currentAuthorizationFlow = nil;\n\n    return YES;\n\n}\n\n\n\nFIRDynamicLink *dynamicLink = [[FIRDynamicLinks dynamicLinks] dynamicLinkFromCustomSchemeURL:url];\n\nNSString *userID = [[NSUserDefaults standardUserDefaults] stringForKey:@\"xx\"];\n\nNSString *firstTimeAppOpened = [[NSUserDefaults standardUserDefaults] stringForKey:@\"xxx\"];\n\n\nif (dynamicLink != nil) {\n\n    if ([dynamicLink.url.absoluteString length] != 0) {\n\n        NSLog(@\"App opened with link: %@\", dynamicLink);\n\n\n\n        NSString *snippet = [NSString stringWithFormat:@\"URLScheme: Received dynamic firebase link: %@\", dynamicLink.url.absoluteString];\n\n        NSString *category = @\"DYNAMIC_LINK\";\n\n        NSString *pathFromURL = [dynamicLink.url.absoluteString lastPathComponent];\n\n\n        [SiteConnector sendAuditWithSnippet:snippet inCategory:category];\n\n\n\n        NSString *firstTimeAppOpened = [[NSUserDefaults standardUserDefaults] stringForKey:@\"FirstTimeAppOpened\"];\n\n\n\n        if ([dynamicLink.url.absoluteString rangeOfString:@\"murat\"].location == NSNotFound) {\n\n            [self dynamicLinkBehaviour:pathFromURL second:dynamicLink.url absolutePath:nil];\n\n        } else {\n\n            if (firstTimeAppOpened == nil) {\n\n                [self onboardingDynamicLink:dynamicLink.url.absoluteString];\n\n            }\n\n        }\n\n    }\n\n    else {\n\n        if (userID == nil &amp;&amp; firstTimeAppOpened == nil) {\n\n            [self openWelcomeScreen];\n\n        }\n\n    }\n\n}\n\n\n\nNSString *valueToSave = @\"yes\";\n\n[[NSUserDefaults standardUserDefaults] setObject:valueToSave forKey:@\"FirstTimeLoggedIn\"];\n\n[[NSUserDefaults standardUserDefaults] synchronize];\n\n\n\nreturn [[FBSDKApplicationDelegate sharedInstance] application:application\n\n                                                      openURL:url\n\n                                            sourceApplication:options[UIApplicationOpenURLOptionsSourceApplicationKey]\n\n                                                   annotation:options[UIApplicationOpenURLOptionsAnnotationKey]];\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["objective-c", "arrays", "linked-list", "nsdictionary", "multi-level"], "answers": [{"tags": [], "owner": {"reputation": 842, "user_id": 9120910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebb4fe999d4f68a5dd5af3c9700930aa?s=128&d=identicon&r=PG", "display_name": "Madhur", "link": "https://stackoverflow.com/users/9120910/madhur"}, "is_accepted": false, "score": 0, "last_activity_date": 1515586018, "creation_date": 1515586018, "answer_id": 48187145, "question_id": 48057603, "link": "https://stackoverflow.com/questions/48057603/how-to-form-an-array-of-dictionaries-for-multilevelany-number-tableview-from-t/48187145#48187145", "title": "How to form an array of dictionaries for multilevel(any number) tableview from the core data object", "body": "<p>Here's the simple code which help you in understanding the how to create a array of dictionary : </p>\n\n<pre><code>var arrayOfDict = [[String : String]]()\nlet dict1  = [\"FirstName\" : \"Abc\" , \"LastName\" : \"XYZ\"]\nlet dict2 = [\"HouseNo\" : \"WW49\", \"Locality\" : \"GymKhana\"]\nlet dict3 = [\"City\" : \"mnb\", \"State\" : \"lkop\" , \"Country\" : \"mkl\"]\n\narrayOfDict.append(dict1)\narrayOfDict.append(dict2)\narrayOfDict.append(dict3)\n\nprint(arrayOfDict)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4384816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89881d8d77b5e1ca6000161e4fad28c1?s=128&d=identicon&r=PG&f=1", "display_name": "Roshni Sundaresan", "link": "https://stackoverflow.com/users/4384816/roshni-sundaresan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515586018, "creation_date": 1514880717, "last_edit_date": 1514886769, "question_id": 48057603, "link": "https://stackoverflow.com/questions/48057603/how-to-form-an-array-of-dictionaries-for-multilevelany-number-tableview-from-t", "title": "How to form an array of dictionaries for multilevel(any number) tableview from the core data object", "body": "<p>I need to create array of dictionaries, of data coming from a database object. This array of dictionaries can be of multiple level,and has a parent child relationship depending upon the level.</p>\n\n<p>From the array form I need to create a multilevel table view (level can be any depending upon the data loaded)</p>\n\n<p>Depending upon the catal_id of the coredata object, next set of Catal objects are loaded from the database. Code supporting is shown as below.</p>\n\n<p><strong>I want to create the array as shown in the image</strong>\n<a href=\"https://i.stack.imgur.com/0vMZe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0vMZe.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>From the above load of loadMainCatalData I am able to load the table but on didSelectRowAtIndexPath I am not able to form the proper array for the expand collapse table. Catal object gets added twice, on viewDidLoad.</strong></p>\n\n<p>There is some issue with function.</p>\n\n<p>**Please help to form the proper array to load the table. Stuck here **.</p>\n\n<p>The coredata object is of the below format: </p>\n\n<pre><code>&lt;__NSArrayM 0x109c3b7a0&gt;(\n&lt;Catal: 0x104cccfb0&gt;\n (entity: Catal; id: 0xd000000008880006 &lt;x-coredata://F849E220-C905-4359-8CD5-18D5E35FC13A/Catal/p546&gt; ; data: {\n    breadcrumb = \"\";\n    \"catal_id\" = \"SNV2\";\n    \"id_ni\" = 1;\n    \"id_parent\" = 0;\n    imgId = 1;\n    title = \"Adventure\";\n    \"nb_element\" = 1010;\n    order = 38;\n}),\n&lt;Catal: 0x104ccd3f0&gt; (entity: Catal; id: 0xd000000006e40006 &lt;x-coredata://F849E220-C905-4359-8CD5-18D5E35FC13A/Catal/p441&gt; ; data: {\n    breadcrumb = \"\";\n    \"catal_id\" = \"SNV1\";\n    \"id_ni\" = 1;\n    \"id_parent\" = 0;\n    imgId = 38;\n    title = Gros;\n    \"nb_element\" = 1366;\n    order = 82;\n}),\n&lt;Catal: 0x104ccd6e0&gt; (entity: Catal; id: 0xd00000000a500006 &lt;x-coredata://F849E220-C905-4359-8CD5-18D5E35FC13A/Catal/p660&gt; ; data: &lt;fault&gt;),\n&lt;Catal: 0x104ccd790&gt; (entity: Catal; id: 0xd000000005d40006 &lt;x-coredata://F849E220-C905-4359-8CD5-18D5E35FC13A/Catal/p373&gt; ; data: &lt;fault&gt;),\n&lt;Catal: 0x104ccd940&gt; (entity: Catal; id: 0xd00000000acc0006 &lt;x-coredata://F849E220-C905-4359-8CD5-18D5E35FC13A/Catal/p691&gt; ; data: &lt;fault&gt;)\n)\n</code></pre>\n\n<p>My code goes as below</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    if (!self.catalList || self.catalList.count == 0) {\n        [self loadDataCatal];\n        isAlreadyInserted = NO;\n    }\n}\n\n- (void)loadDataCatal{\n  [self loadMainCatalData];\n  self.arForTable = [NSMutableArray array];\n     [self.arForTable addObjectsFromArray:self.arrayOriginal];\n}\n\n-(void)loadMainCatalData {\n    NSMutableArray *arrCatalList = [[NSMutableArray alloc] init];\n    if (catLevel == NULL){\n        [arrCatalList addObjectsFromArray:[Catal fillDataCatal:@\"0\" :@\"0\"]];\n    }\n    self.arrayOriginal = [NSMutableArray array];\n\n    for (Catal *objCatal in arrCatalList){\n        ProductCategoryFilter *objProductCatFilter = [[ProductCategoryFilter alloc] init];\n        [objProductCatFilter setCatalCategory:objCatal];\n        NSMutableArray *arr = [self loadSubCatalData:objCatal];\n        [objProductCatFilter setArrCatalSubCategory:arr];\n        [self.arrayOriginal addObject:objProductCatFilter];\n    }\n\n}\n\n-(NSMutableArray *)loadSubCatalData:(Catal *)objCatal{\n    NSMutableArray *arrSubCatal = [NSMutableArray array];\n    ProductCategoryFilter *objProductCatFilter = [[ProductCategoryFilter alloc] init];\n    [objProductCatFilter setCatalCategory:objCatal];\n    NSArray *arrCatal = [Catal fillDataCatal:objCatal.catal_id :@\"\"];\n\n        NSMutableArray *arrSubCat = [NSMutableArray array];\n        for (Catal *subCatal in arrCatal){\n            ProductCategoryFilter *objSubCatFilter = [[ProductCategoryFilter alloc] init];\n            [objSubCatFilter setCatalCategory:subCatal];\n            NSMutableArray *arr = [self loadSubCatalData:subCatal];\n            [objSubCatFilter setArrCatalSubCategory:arr];\n            [arrSubCat addObject:objSubCatFilter];\n        }\n        [objProductCatFilter setArrCatalSubCategory:arrSubCat];\n\n    [arrSubCatal addObject:objProductCatFilter];\n\n    return arrSubCatal;\n}\n\n// the ProductCategoryFilter class\n#import &lt;Foundation/Foundation.h&gt;\n#import \"Catal+CoreDataClass.h\"\n\n@interface ProductCategoryFilter : NSObject\n@property (nonatomic,strong) Catal* catalCategory;\n@property (nonatomic,strong) NSMutableArray * arrCatalSubCategory;\n@end\n\n\n\n  // Catal CoreDataObject\n #import &lt;Foundation/Foundation.h&gt;\n #import \"Catal+CoreDataClass.h\"\n\n+(BOOL)fillSubDataCatal:(NSString *)catal_id\n{\n    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];\n    NSManagedObjectContext *context = [[CoreDataHelper getInstance] managedObjectContext];\n    NSError *error;\n    NSEntityDescription *entity = [NSEntityDescription\n                                   entityForName:@\"Catal\" inManagedObjectContext:context];\n    [fetchRequest setEntity:entity];\n    NSPredicate *predicate;\n    predicate = [NSPredicate predicateWithFormat:@\"id_parent == %@\", catal_id];\n    [fetchRequest setPredicate:predicate];\n\n    NSArray *fetchedObjects = [context executeFetchRequest:fetchRequest error:&amp;error];\n    DebugLog(@\"[fetchedObjects count] : %lu\",(unsigned long)fetchedObjects.count);\n    if([fetchedObjects count] &gt; 0)\n    {\n        return true;\n    }\n\n    return false;\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    NSString *CellIdentifier =@\"AMG_PP_SubCategoryTableCell\";\n\n    AMG_PP_SubCategoryTableCell *cell  = (AMG_PP_SubCategoryTableCell *) [self.tblProductCategory dequeueReusableCellWithIdentifier:CellIdentifier];\n    if (cell == nil){\n        NSArray *nib = [[NSBundle mainBundle] loadNibNamed:CellIdentifier owner:self options:nil];\n        cell =(AMG_PP_SubCategoryTableCell *)[nib objectAtIndex:0];\n        cell.selectionStyle = UITableViewCellSelectionStyleNone;\n\n    }\n    ProductCategoryFilter *objCat = [self.arForTable objectAtIndex:indexPath.row];\n      [cell.imgRadio setImage:[UIImage imageNamed:@\"PlusIcon\"]];\n\n    cell.textLabel.text = objCat.catalCategory.libelle; //] [ valueForKey:@\"name\"];\n//    [cell setIndentationLevel:[[[self.arForTable objectAtIndex:indexPath.row] valueForKey:@\"level\"] intValue]];\n\n    return cell;\n}\n\n- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n{\n        AMG_PP_SubCategoryTableCell *cell = (AMG_PP_SubCategoryTableCell *)[self.tblProductCategory cellForRowAtIndexPath:indexPath];\n    [self.tblProductCategory deselectRowAtIndexPath:indexPath animated:YES];\n\n    ProductCategoryFilter *objCatal = [self.arForTable objectAtIndex:indexPath.row];\n\n    if([[objCatal arrCatalSubCategory] count] &gt; 0) {\n        NSMutableArray *ar=[objCatal arrCatalSubCategory];\n        if(ar != nil){\n            isAlreadyInserted=NO;\n\n            for(ProductCategoryFilter *dInner in ar ){\n                NSInteger index=[self.arForTable indexOfObjectIdenticalTo:dInner];\n                isAlreadyInserted=(index&gt;0 &amp;&amp; index!=NSIntegerMax);\n                if(isAlreadyInserted) break;\n            }\n\n            if(isAlreadyInserted) {\n                [self miniMizeThisRows:ar];\n            } else {\n                NSUInteger count=indexPath.row+1;\n                NSMutableArray *arCells=[NSMutableArray array];\n                for(ProductCategoryFilter *dInner in ar ){\n                    [arCells addObject:[NSIndexPath indexPathForRow:count inSection:0]];\n                    [self.arForTable insertObject:dInner atIndex:count++];\n                }\n                 [cell.imgRadio setImage:[UIImage imageNamed:@\"MinusIcon\"]];\n                [tableView insertRowsAtIndexPaths:arCells withRowAnimation:UITableViewRowAnimationLeft];\n            }\n        }\n\n\n    }\n}\n\n-(void)miniMizeThisRows:(NSArray*)ar{\n\n    for(ProductCategoryFilter *dInner in ar ){\n        NSUInteger indexToRemove=[self.arForTable indexOfObjectIdenticalTo:dInner];\n        NSMutableArray *arInner=[dInner arrCatalSubCategory];\n        if(arInner &amp;&amp; [arInner count]&gt;0){\n            if (arInner != nil) {\n                [self miniMizeThisRows:arInner];\n            }\n\n        }\n\n        if([self.arForTable indexOfObjectIdenticalTo:dInner]!=NSNotFound) {\n            [self.arForTable removeObjectIdenticalTo:dInner];\n            [self.tblProductCategory deleteRowsAtIndexPaths:[NSArray arrayWithObject:\n                                                         [NSIndexPath indexPathForRow:indexToRemove inSection:0]\n                                                         ]\n                                       withRowAnimation:UITableViewRowAnimationRight];\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514885505, "post_id": 48057411, "comment_id": 83089193, "body": "To be clear are you saying there is a limit of the size of image that can be transferred of 2888 bytes and after compression your image is greater than 5000 bytes."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7042494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/931fbef0b9eadfabe1d0eec12b0dfdd1?s=128&d=identicon&r=PG&f=1", "display_name": "bing.liu", "link": "https://stackoverflow.com/users/7042494/bing-liu"}, "edited": false, "score": 0, "creation_date": 1514884571, "post_id": 48057787, "comment_id": 83088736, "body": "I wrote it like this, but I can&#39;t continue to compress it"}, {"owner": {"reputation": 10006, "user_id": 2128941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WLyFN.png?s=128&g=1", "display_name": "Renish Dadhaniya", "link": "https://stackoverflow.com/users/2128941/renish-dadhaniya"}, "reply_to_user": {"reputation": 1, "user_id": 7042494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/931fbef0b9eadfabe1d0eec12b0dfdd1?s=128&d=identicon&r=PG&f=1", "display_name": "bing.liu", "link": "https://stackoverflow.com/users/7042494/bing-liu"}, "edited": false, "score": 0, "creation_date": 1514887991, "post_id": 48057787, "comment_id": 83090304, "body": "Can you elaborate more regarding same? What issue faced during Image compression? 1. An image compressed or Not 2. Do you want to exit function when It&#39;s done? 3. Do you want compressed image or not?"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1514908708, "post_id": 48057787, "comment_id": 83101002, "body": "A slightly improved approach could be to set maxCompression to a reasonable lowest quality (like 0.4), and then start reducing the image pixel size more and more if maximum compression is not enough."}], "tags": [], "owner": {"reputation": 10006, "user_id": 2128941, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WLyFN.png?s=128&g=1", "display_name": "Renish Dadhaniya", "link": "https://stackoverflow.com/users/2128941/renish-dadhaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1514882411, "last_edit_date": 1514882411, "creation_date": 1514881856, "answer_id": 48057787, "question_id": 48057411, "link": "https://stackoverflow.com/questions/48057411/i-need-after-sending-pictures-via-bluetooth-display-on-hardware-but-picture-data/48057787#48057787", "title": "I need after sending pictures via bluetooth display on hardware,but picture data No greater than 2888 bytes", "body": "<p>I think you need to compress the Image multiple time As per Image Size Limit. You can follow the below approach for the Image ccompression,</p>\n\n<pre><code>    CGFloat compression = 0.9f;\n    CGFloat maxCompression = 0.1f;\n    int maxFileSize = 2888;\n\n    NSData *imageData = UIImageJPEGRepresentation(yourImage, compression);\n\n    while ([imageData length] &gt; maxFileSize &amp;&amp; compression &gt; maxCompression)\n    {\n        compression -= 0.1;\n        imageData = UIImageJPEGRepresentation(yourImage, compression);\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7042494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/931fbef0b9eadfabe1d0eec12b0dfdd1?s=128&d=identicon&r=PG&f=1", "display_name": "bing.liu", "link": "https://stackoverflow.com/users/7042494/bing-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514882411, "creation_date": 1514879479, "question_id": 48057411, "link": "https://stackoverflow.com/questions/48057411/i-need-after-sending-pictures-via-bluetooth-display-on-hardware-but-picture-data", "title": "I need after sending pictures via bluetooth display on hardware,but picture data No greater than 2888 bytes", "body": "<p>I need after sending pictures via bluetooth display on hardware, hardware engineers have a demand, I need to transfer the image data is not greater than 2888 bytes, but when I was in compressed image compression to more than 5000 bytes of time cannot be compressed, what should I do?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 1, "creation_date": 1514879387, "post_id": 48057298, "comment_id": 83086841, "body": "I think it should not, dead lock will happen only if you pass a string reference to block (in this case self) and then hold a strong reference to block itself. Hoping that method <code>touchActionWithCompeletion</code> will not save the block passed to it with a strong reference this should not result in a retain cycle :)"}, {"owner": {"reputation": 9015, "user_id": 5230311, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GkZpd.jpg?s=128&g=1", "display_name": "Tj3n", "link": "https://stackoverflow.com/users/5230311/tj3n"}, "edited": false, "score": 0, "creation_date": 1514879541, "post_id": 48057298, "comment_id": 83086901, "body": "If you are storing the block as strong in your view class, It likely will create retain cycle, so should be careful and check if dealloc get called after pop the viewcontroller"}, {"owner": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "reply_to_user": {"reputation": 9015, "user_id": 5230311, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GkZpd.jpg?s=128&g=1", "display_name": "Tj3n", "link": "https://stackoverflow.com/users/5230311/tj3n"}, "edited": false, "score": 0, "creation_date": 1514879701, "post_id": 48057298, "comment_id": 83086960, "body": "@Tj3n The block is not a property, just a parameter of function"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "edited": false, "score": 0, "creation_date": 1514880030, "post_id": 48057462, "comment_id": 83087080, "body": "You didn&#39;t access <code>self</code> in block."}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "reply_to_user": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "edited": false, "score": 0, "creation_date": 1514880078, "post_id": 48057462, "comment_id": 83087097, "body": "@xm-zhang : I did not add it here lemme update my answer gimme a second"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "reply_to_user": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "edited": false, "score": 0, "creation_date": 1514880246, "post_id": 48057462, "comment_id": 83087155, "body": "@xm-zhang : here you go, I updated my answer by accessing self, result still stays the same deinit gets called :)"}, {"owner": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "edited": false, "score": 0, "creation_date": 1514880889, "post_id": 48057462, "comment_id": 83087372, "body": "Thx, in theory, the block is just a parameter of function, so it will be release when it outside funcion loop. In other words, block strong reference <code>self</code>,  <code>self</code> strong reference <code>view</code>, but <code>view</code> not strong reference block, so there is not a cycle.  I am right?"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "reply_to_user": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "edited": false, "score": 0, "creation_date": 1514881005, "post_id": 48057462, "comment_id": 83087417, "body": "@xm-zhang : Bingo :) Correct,  Retain cycle will happen if view holds a strong reference to block, that case self -&gt; view -&gt; block -&gt; self So dead lock :) read -&gt; as holds strong reference to"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "reply_to_user": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "edited": false, "score": 0, "creation_date": 1514881235, "post_id": 48057462, "comment_id": 83087480, "body": "@xm-zhang : Thanks buddy :)"}], "tags": [], "owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "is_accepted": true, "score": 5, "last_activity_date": 1514881812, "last_edit_date": 1514881812, "creation_date": 1514879758, "answer_id": 48057462, "question_id": 48057298, "link": "https://stackoverflow.com/questions/48057298/will-this-situation-create-a-retain-cycle/48057462#48057462", "title": "Will this situation create a retain cycle", "body": "<p>Adding my comment above as answer, after testing the code myself to confirm the logic I mentioned,</p>\n\n<p>I think it should not, dead lock ( I mean memory leak, two strongly held objects holding the reference to each other and never being de-allocated hence I mentioned deadlock) will happen only if you pass a strong reference of an object to the block (in this case self) and then the passed object holds a strong reference to block itself (directly or indirectly).</p>\n\n<p>Hoping that method <code>touchActionWithCompeletion</code> will not save the block passed to it with a strong reference this should not result in a retain cycle</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Tested your code and deinit gets called as expected.\nHere is what I tried,</p>\n\n<pre><code>class MyView : UIView {\n    func touchActionWithCompeletion(block :(NSString)-&gt;()) {\n        block(\"abcd\");\n    }\n}\n\nclass ThirdViewController: UIViewController {\n    var myViewInstance = MyView()\n    @IBOutlet var c: UITextField!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        self.myViewInstance.touchActionWithCompeletion { (abcd) in\n            self.c.text = abcd as String\n        }\n    }\n\n    deinit {\n        print(\"deinit called\")\n    }\n}\n</code></pre>\n\n<p>As expected deinit called. </p>\n\n<p>Only thing to notice here, method <code>touchActionWithCompeletion</code> will not store the block passed to it with strong reference. It simply executes it. So my answer above holds true in this case.</p>\n\n<p><strong>EDIT 2:(Clarifying my statement in answer)</strong></p>\n\n<p>I happened mention <strong>the passed object holds a strong reference to block itself (directly or indirectly)</strong> I guess I need to explain why I mentioned <strong>indirectly</strong>. </p>\n\n<p>Consider this case, Deadlock will happen if View holds a strong reference to the block passed to its method. Though the strong object passed here to the block is <code>self</code> and <code>self</code> does not hold the reference to block directly, it still result in deadlock if <code>View</code> holds a strong reference to block.</p>\n\n<p>Reason <strong>Self</strong> <em>- holds a strong reference -></em> <strong>View</strong> <em>- holds a strong reference -></em> <strong>Block</strong> <em>- holds a strong reference -></em> <strong>Self</strong> </p>\n\n<p>Hence deadlock. Though <code>self</code> does not hold the block directly, because it holds the block indirectly, hence <code>deinit</code> on self will not be called. Hence I happened to mention <strong>the passed object holds a strong reference to block itself (directly or indirectly)</strong></p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 93, "user_id": 8380051, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LR1lX.jpg?s=128&g=1", "display_name": "XM Zhang", "link": "https://stackoverflow.com/users/8380051/xm-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 48057462, "answer_count": 1, "score": 1, "last_activity_date": 1514881812, "creation_date": 1514878889, "question_id": 48057298, "link": "https://stackoverflow.com/questions/48057298/will-this-situation-create-a-retain-cycle", "title": "Will this situation create a retain cycle", "body": "<p>My sample code like this (just a sample):</p>\n\n<pre><code>[self.view touchActionWithCompeletion:^(NSSting *text){\n    self.label.text = text;\n}];\n</code></pre>\n\n<p>The block is a parameter of a method, the method is a instance method of <code>self.view</code>, then I access <code>self</code> in block. If <code>self.view</code> is a strong property, will this situation create retain cycle? And will <code>self.view</code> strong reference the block? </p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uilabel", "uibackgroundcolor"], "comments": [{"owner": {"reputation": 1005, "user_id": 2677551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dAZul.png?s=128&g=1", "display_name": "Van", "link": "https://stackoverflow.com/users/2677551/van"}, "edited": false, "score": 0, "creation_date": 1514877040, "post_id": 48056901, "comment_id": 83085954, "body": "what is your expected behavior?"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1514877126, "post_id": 48056901, "comment_id": 83085986, "body": "set <code>tl.backgroundColor = [UIColor clearColor];</code>"}, {"owner": {"reputation": 3, "user_id": 9162549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dEoO.jpg?s=128&g=1", "display_name": "fengshaobo", "link": "https://stackoverflow.com/users/9162549/fengshaobo"}, "edited": false, "score": 0, "creation_date": 1514877889, "post_id": 48056901, "comment_id": 83086262, "body": "i want to keep his background color consistent with his superview,but the superview sometimes appears the backgroud color of the nil,     eg: tl.backgroundColor = [[tl superview] backgroundColor];"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1514878552, "post_id": 48056901, "comment_id": 83086552, "body": "give superview background color white"}], "answers": [{"tags": [], "owner": {"reputation": 28757, "user_id": 1066828, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8785d8636d0dc68405fee1e9aa41728a?s=128&d=identicon&r=PG", "display_name": "Fahim Parkar", "link": "https://stackoverflow.com/users/1066828/fahim-parkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1514877048, "creation_date": 1514877048, "answer_id": 48056936, "question_id": 48056901, "link": "https://stackoverflow.com/questions/48056901/setting-nil-background-for-uilabel-for-iphone-application/48056936#48056936", "title": "setting nil background for UILabel for iphone application", "body": "<p>Your answer is <code>[UIColor clearColor]</code>. Don't use <code>nil</code></p>\n\n<pre><code>tl.backgroundColor = [UIColor clearColor];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "reply_to_user": {"reputation": 3, "user_id": 9162549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dEoO.jpg?s=128&g=1", "display_name": "fengshaobo", "link": "https://stackoverflow.com/users/9162549/fengshaobo"}, "edited": false, "score": 0, "creation_date": 1514878302, "post_id": 48056965, "comment_id": 83086452, "body": "not possible. i have copy your code and run in my mac and told you solution.. replace this code with your nil code.. <code>tl.backgroundColor = [UIColor clearColor];</code>"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "reply_to_user": {"reputation": 3, "user_id": 9162549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dEoO.jpg?s=128&g=1", "display_name": "fengshaobo", "link": "https://stackoverflow.com/users/9162549/fengshaobo"}, "edited": false, "score": 0, "creation_date": 1514878329, "post_id": 48056965, "comment_id": 83086455, "body": "what is your view&#39;s background color ?"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1514878625, "post_id": 48056965, "comment_id": 83086576, "body": "give white color to your superview background color."}, {"owner": {"reputation": 3, "user_id": 9162549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dEoO.jpg?s=128&g=1", "display_name": "fengshaobo", "link": "https://stackoverflow.com/users/9162549/fengshaobo"}, "edited": false, "score": 1, "creation_date": 1514878689, "post_id": 48056965, "comment_id": 83086606, "body": "sorry,there is some errors in the code ,it works, thanks"}], "tags": [], "owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "is_accepted": true, "score": 0, "last_activity_date": 1514877211, "creation_date": 1514877211, "answer_id": 48056965, "question_id": 48056901, "link": "https://stackoverflow.com/questions/48056901/setting-nil-background-for-uilabel-for-iphone-application/48056965#48056965", "title": "setting nil background for UILabel for iphone application", "body": "<p>@fengshaobo use <code>[UIColor clearColor];</code> in background color</p>\n"}], "owner": {"reputation": 3, "user_id": 9162549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dEoO.jpg?s=128&g=1", "display_name": "fengshaobo", "link": "https://stackoverflow.com/users/9162549/fengshaobo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 48056965, "answer_count": 2, "score": 0, "last_activity_date": 1514877211, "creation_date": 1514876919, "question_id": 48056901, "link": "https://stackoverflow.com/questions/48056901/setting-nil-background-for-uilabel-for-iphone-application", "title": "setting nil background for UILabel for iphone application", "body": "<p>I have a UILabel , here is the code i have written:</p>\n\n<pre><code>UILabel *tl = [[UILabel alloc] initWithFrame:CGRectMake(100, 200, 50, 30)];\ntl.font = [UIFont systemFontOfSize:12];\ntl.backgroundColor = nil;\n// tl.text = @\"123\"; // 1\ntl.text = @\"\u4f60\u597d\"; // 2\ntl.textColor = [UIColor blackColor];\n[self.view addSubview:tl];\n</code></pre>\n\n<p>like annotation 1, if you set it in <a href=\"https://i.stack.imgur.com/sOoJp.jpg\" rel=\"nofollow noreferrer\">English or number</a>, the whole UILabel becomes balck, \nbut if it is set in <a href=\"https://i.stack.imgur.com/SlY2v.jpg\" rel=\"nofollow noreferrer\">Chinese</a>, it is normal color.</p>\n"}, {"tags": ["ios", "objective-c", "undeclared-identifier"], "comments": [{"owner": {"reputation": 13, "user_id": 8368179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1192cca5257a84f37515d0eaa697fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sivaji", "link": "https://stackoverflow.com/users/8368179/sivaji"}, "edited": false, "score": 1, "creation_date": 1514889142, "post_id": 48056770, "comment_id": 83090872, "body": "I don&#39;t know why it happens. But finally got the answer. In Xcode 9.2 UTCoreTypes.h shows empty. So I opened it in Xcode 9.1, copied UICoreType.h content and pasted it in Xcode 9.2."}], "owner": {"reputation": 13, "user_id": 8368179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1192cca5257a84f37515d0eaa697fd?s=128&d=identicon&r=PG&f=1", "display_name": "Sivaji", "link": "https://stackoverflow.com/users/8368179/sivaji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "closed_date": 1514877353, "answer_count": 0, "score": 1, "last_activity_date": 1514881419, "creation_date": 1514876256, "last_edit_date": 1514881419, "question_id": 48056770, "link": "https://stackoverflow.com/questions/48056770/use-of-undeclared-identifier-kuttypeurl", "closed_reason": "Duplicate", "title": "Use of undeclared identifier &#39;kUTTypeURL&#39;", "body": "<p>In Actions extension I got this error \"Use of undeclared identifier 'kUTTypeURL' \". I imported mobile core services(in class and linked libraries also). But again it shows error. In simulator I am not getting this error.But in devices I got this. Previously few weeks back its worked fine. Right now I got this.I already seen \" Use of undeclared identifier 'kUTTypeMovie' \". But its not worked me. In Xcode 9.1 its working good. In Xcode 9.2 I got this error. I am not sure this issue is related to Xcode. I got this error in Xcode 9.2 and iOS 11.2.1. </p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "comments": [{"owner": {"reputation": 3990, "user_id": 1850651, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/a04ap.png?s=128&g=1", "display_name": "Janmenjaya", "link": "https://stackoverflow.com/users/1850651/janmenjaya"}, "edited": false, "score": 0, "creation_date": 1514875688, "post_id": 48056605, "comment_id": 83085469, "body": "You can take reference from storyboard to controller and can set different font sizes to the label/textField/textView programatically comparing device."}, {"owner": {"reputation": 1164, "user_id": 5251507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjW2B.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/5251507/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1514876260, "post_id": 48056605, "comment_id": 83085681, "body": "you need to use size classes and check &quot;Trait variations&quot; and &quot;Auto Layput&quot; in your storyboard."}, {"owner": {"reputation": 1164, "user_id": 5251507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjW2B.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/5251507/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1514876946, "post_id": 48056605, "comment_id": 83085916, "body": "Check this link <a href=\"https://www.raywenderlich.com/162311/adaptive-layout-tutorial-ios-11-getting-started\" rel=\"nofollow noreferrer\">raywenderlich.com/162311/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 9162593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c09ec9b8a098b917eab92f1b895fe6f?s=128&d=identicon&r=PG&f=1", "display_name": "Rajeswari M", "link": "https://stackoverflow.com/users/9162593/rajeswari-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 2, "closed_date": 1514876214, "answer_count": 0, "score": 0, "last_activity_date": 1514875743, "creation_date": 1514875267, "last_edit_date": 1514875743, "question_id": 48056605, "link": "https://stackoverflow.com/questions/48056605/different-font-textsizes-for-different-devices-in-xcode-6", "closed_reason": "Duplicate", "title": "Different font Textsizes for different devices in Xcode 6", "body": "<p>I want to use the same text on different iPhone devices. I am using the universal storyboard but I can't find any constraints for the font size.</p>\n\n<p>Can any one help me how to change text sizes as per device? Like in iPhone 5s device the label text size was 15 then I need text size on iPhone 6sPlus Should be at least 17.</p>\n"}, {"tags": ["ios", "objective-c", "cgpoint"], "comments": [{"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1514849525, "post_id": 48054093, "comment_id": 83080527, "body": "You now its height and width, calculate the desired center based on that."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1514849690, "creation_date": 1514849690, "answer_id": 48054133, "question_id": 48054093, "link": "https://stackoverflow.com/questions/48054093/how-to-change-center-of-object/48054133#48054133", "title": "How to change center of object?", "body": "<p>You need to subtract half the height of the button:</p>\n\n<pre><code>CGFloat centro = self.view.center.x;\nCGFloat bottom = CGRectGetMaxY(self.view.frame) - _sendButton.frame.size.height / 2.0;\n\n_sendButton.center = CGPointMake(centro, bottom);\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4234225, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-wdDnGDrejNQ/AAAAAAAAAAI/AAAAAAAAAJM/EJoIXe_MKu4/photo.jpg?sz=128", "display_name": "The Broken Ace", "link": "https://stackoverflow.com/users/4234225/the-broken-ace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 48054133, "answer_count": 1, "score": 0, "last_activity_date": 1514849690, "creation_date": 1514849278, "last_edit_date": 1514849599, "question_id": 48054093, "link": "https://stackoverflow.com/questions/48054093/how-to-change-center-of-object", "title": "How to change center of object?", "body": "<p>This is the code I'm using to center my button to the bottom of the screen:</p>\n\n<pre><code>CGFloat centro = self.view.center.x;\nCGFloat bottom = CGRectGetMaxY(self.view.frame);\n\n_sendButton.center = CGPointMake(centro, bottom);\n</code></pre>\n\n<p>However, the actual center of the button is set to be at the bottom of the screen, which covers half the button. How can I set it so that the very lowest point on the button is set to:</p>\n\n<pre><code>CGPointMake(centro,bottom)\n</code></pre>\n\n<p>instead? </p>\n"}, {"tags": ["ios", "objective-c", "uisplitviewcontroller"], "comments": [{"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514835869, "post_id": 48051261, "comment_id": 83077567, "body": "You appear to have a split view and tab bar controller.  Can you show a little of how you have set it all up as that will influence the solution"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514836409, "post_id": 48051261, "comment_id": 83077721, "body": "If you want an image to be used across the entire UISplitViewController you can try this: <code>splitViewController.view.layer.contents = (__bridge id _Nullable)([UIImage imageNamed:@&quot;TestImage&quot;].CGImage);</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514905554, "post_id": 48051261, "comment_id": 83099262, "body": "Your solution does not work. I put the code in ViewDidLoad but the background does not appear."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514905671, "post_id": 48051261, "comment_id": 83099311, "body": "In what way didn&#39;t it work?  In which view controllers viewDidLoad did you put it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514906909, "post_id": 48051261, "comment_id": 83100025, "body": "I put it in ViewDidLoad of the UISplitViewController class file"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514907178, "post_id": 48051261, "comment_id": 83100178, "body": "Ok I have this <code>self.view.layer.contents = (__bridge id _Nullable)([UIImage imageNamed:@&quot;TestImage&quot;].CGImage);</code> in my viewDidLoad and it is working fine.  Have you also made sure that the backgrounds of both the master and details view controllers are set to be transparent and not some other colour and of course that the image is valid."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514907536, "post_id": 48051261, "comment_id": 83100353, "body": "when I put this code, the Split View disappears, and only displays the DetailsView."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514907587, "post_id": 48051261, "comment_id": 83100380, "body": "That&#39;s very strange behaviour.  Can you post the project for me to look at?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514907876, "post_id": 48051261, "comment_id": 83100502, "body": "Excuse me I just have a try and finally it works. sorry. Can you help me for another problem I have with my SplitViewController ?? look at this link:<a href=\"https://stackoverflow.com/questions/48050611/how-to-use-split-view-controller-with-static-cells-many-detailsviewcontroller\" title=\"how to use split view controller with static cells many detailsviewcontroller\">stackoverflow.com/questions/48050611/&hellip;</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514907962, "post_id": 48051261, "comment_id": 83100549, "body": "Ok I will take a look.  I&#39;m going to put this as the answer for this question as it is working.  You don&#39;t need to accept it but it will show up for anyone else with the problem."}], "answers": [{"tags": [], "owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "is_accepted": false, "score": 0, "last_activity_date": 1514908034, "creation_date": 1514908034, "answer_id": 48063856, "question_id": 48051261, "link": "https://stackoverflow.com/questions/48051261/how-to-put-the-same-background-on-a-splitviewcontroller/48063856#48063856", "title": "How to put the same background on a SplitViewController?", "body": "<p>You can put something like this in the viewDidLoad method of the UISplitViewController:</p>\n\n<pre><code>self.view.layer.contents = (__bridge id _Nullable)([UIImage imageNamed:@\"TestImage\"].CGImage);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514908034, "creation_date": 1514823554, "last_edit_date": 1514842265, "question_id": 48051261, "link": "https://stackoverflow.com/questions/48051261/how-to-put-the-same-background-on-a-splitviewcontroller", "title": "How to put the same background on a SplitViewController?", "body": "<p>I would like to know how I can do to put the same background on my SplitViewController (TableView and DetailVeiwController) ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jx4e2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jx4e2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "swift", "metal"], "comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1514823210, "post_id": 48051060, "comment_id": 83074139, "body": "You&#39;ll need to profile the two versions in Instruments to see where they are spending CPU and where they are blocked waiting for the GPU. Also, besides the difference in CPU usage, are there other performance differences? For example, does one version achieve a higher frame rate than the other?"}, {"owner": {"reputation": 6377, "user_id": 7501629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gKN1.jpg?s=128&g=1", "display_name": "Matthijs Hollemans", "link": "https://stackoverflow.com/users/7501629/matthijs-hollemans"}, "edited": false, "score": 0, "creation_date": 1514824463, "post_id": 48051060, "comment_id": 83074489, "body": "And when you&#39;re profiling, make sure to enable optimizations. Swift with optimizations disabled can be slow-ish."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1514831248, "post_id": 48051060, "comment_id": 83076324, "body": "I.e. did you do a release build or a debug build for your Swift example. By default, debug builds have all optimizations turned off."}, {"owner": {"reputation": 85, "user_id": 9073579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10aa4e81cafa8aa82efb3daac758c3af?s=128&d=identicon&r=PG&f=1", "display_name": "Chocoford", "link": "https://stackoverflow.com/users/9073579/chocoford"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1514872083, "post_id": 48051060, "comment_id": 83084417, "body": "@Rob  Thanks. When doing a release build this demo just cost about 10% cpu usage! And what is interesting is that doing a release build in objective-c cause nearly no optimization(still cost about 40% cpu usage)."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1514873314, "post_id": 48051060, "comment_id": 83084759, "body": "Swift offers the best of both worlds, offering more safety checks in non-optimized builds, but good performance in optimized builds."}], "owner": {"reputation": 85, "user_id": 9073579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10aa4e81cafa8aa82efb3daac758c3af?s=128&d=identicon&r=PG&f=1", "display_name": "Chocoford", "link": "https://stackoverflow.com/users/9073579/chocoford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 3, "answer_count": 0, "score": 2, "last_activity_date": 1514821909, "creation_date": 1514821909, "question_id": 48051060, "link": "https://stackoverflow.com/questions/48051060/the-processing-speed-between-swift-and-objective-c-in-metal", "title": "The processing speed between swift and objective-c in Metal", "body": "<p>\nI have written a demo base on apple official document in swift. And I found the usage of CPU is lower in Objective-c than in swift. </p>\n\n<p>Does it mean Objective-c is much effective than swift while handling metal app?</p>\n\n<p>I'm confused because many people says that swift is faster than Objective-c in general. Or it is just an exception\uff1f</p>\n\n<p>The demo involved pointer management. I know it is trouble handle pointer with swift. Maybe it is the reason why the app is cost much resource in swift? I am still finding.</p>\n\n<p><strong><em>The demo below is a triple buffer model which renders hundreds of small quads, updates their positions at the start of each frame and writes them into a vertex buffer. And uses semaphores to wait for full frame completions in case the CPU is running too far ahead of the GPU.</em></strong></p>\n\n\n\n<p>This is the part of code from apple official document</p>\n\n<pre><code>- (void)updateState\n{\n\n    AAPLVertex *currentSpriteVertices = _vertexBuffers[_currentBuffer].contents;\n    NSUInteger  currentVertex = _totalSpriteVertexCount-1;\n    NSUInteger  spriteIdx = (_rowsOfSprites * _spritesPerRow)-1;\n\n    for(NSInteger row = _rowsOfSprites - 1; row &gt;= 0; row--)\n    {\n        float startY = _sprites[spriteIdx].position.y;\n        for(NSInteger spriteInRow = _spritesPerRow-1; spriteInRow &gt;= 0; spriteInRow--)\n        {\n            vector_float2 updatedPosition = _sprites[spriteIdx].position;\n\n            if(spriteInRow == 0)\n            {\n                updatedPosition.y = startY;\n            }\n            else\n            {\n                updatedPosition.y = _sprites[spriteIdx-1].position.y;\n            }\n\n            _sprites[spriteIdx].position = updatedPosition;\n\n            for(NSInteger vertexOfSprite = AAPLSprite.vertexCount-1; vertexOfSprite &gt;= 0 ; vertexOfSprite--)\n            {\n                currentSpriteVertices[currentVertex].position = AAPLSprite.vertices[vertexOfSprite].position + _sprites[spriteIdx].position;\n                currentSpriteVertices[currentVertex].color = _sprites[spriteIdx].color;\n                currentVertex--;\n            }\n            spriteIdx--;\n        }\n    }\n}\n\n\n- (void)drawInMTKView:(nonnull MTKView *)view\n{\n    dispatch_semaphore_wait(_inFlightSemaphore, DISPATCH_TIME_FOREVER);\n\n    _currentBuffer = (_currentBuffer + 1) % MaxBuffersInFlight;\n\n    [self updateState];\n\n    id&lt;MTLCommandBuffer&gt; commandBuffer = [_commandQueue commandBuffer];\n    commandBuffer.label = @\"MyCommand\";\n\n    __block dispatch_semaphore_t block_sema = _inFlightSemaphore;\n    [commandBuffer addCompletedHandler:^(id&lt;MTLCommandBuffer&gt; buffer)\n    {\n        dispatch_semaphore_signal(block_sema);\n    }];\n\n    MTLRenderPassDescriptor *renderPassDescriptor = view.currentRenderPassDescriptor;\n\n    if(renderPassDescriptor != nil)\n    {\n        id&lt;MTLRenderCommandEncoder&gt; renderEncoder =\n        [commandBuffer renderCommandEncoderWithDescriptor:renderPassDescriptor];\n        renderEncoder.label = @\"MyRenderEncoder\";\n\n        [renderEncoder setCullMode:MTLCullModeBack];\n        [renderEncoder setRenderPipelineState:_pipelineState];\n\n        [renderEncoder setVertexBuffer:_vertexBuffers[_currentBuffer]\n                               offset:0\n                              atIndex:AAPLVertexInputIndexVertices];\n\n        [renderEncoder setVertexBytes:&amp;_viewportSize\n                               length:sizeof(_viewportSize)\n                              atIndex:AAPLVertexInputIndexViewportSize];\n\n        [renderEncoder drawPrimitives:MTLPrimitiveTypeTriangle\n                          vertexStart:0\n                          vertexCount:_totalSpriteVertexCount];\n\n        [renderEncoder endEncoding];\n\n        [commandBuffer presentDrawable:view.currentDrawable];\n    }\n\n    [commandBuffer commit];\n}\n</code></pre>\n\n<p>and this is in swift</p>\n\n<pre><code>func updateSprite() {\n    let currentSpriteVertices = vertexBuffer[currentBuffer].contents().bindMemory(to: DFVertex.self, capacity: totalSpriteVertexCount * MemoryLayout&lt;DFVertex&gt;.size)\n    var currentVertex = totalSpriteVertexCount - 1\n    var spriteIdx = (rowsOfSprites * spritePerRow) - 1\n    for _ in stride(from: rowsOfSprites - 1, through: 0, by: -1) {\n        let startY = sprites[spriteIdx].position.y\n        for spriteInRow in stride(from: spritePerRow - 1, through: 0, by: -1) {\n            var updatePosition = sprites[spriteIdx].position\n            if spriteInRow == 0 {\n                updatePosition.y = startY\n            } else {\n                updatePosition.y = sprites[spriteIdx - 1].position.y\n            }\n            sprites[spriteIdx].position = updatePosition\n\n            for vertexOfSprite in stride(from: DFSprite.vertexCount - 1, through: 0, by: -1) {\n                currentSpriteVertices[currentVertex].position = DFSprite.vertices[vertexOfSprite].position + sprites[spriteIdx].position\n                currentSpriteVertices[currentVertex].color = sprites[spriteIdx].color\n\n                currentVertex -= 1\n            }\n\n            spriteIdx -= 1\n        }\n    }\n\n}\n\nfunc draw(in view: MTKView) {\n\n    inFlightSemaphore.wait()\n\n    currentBuffer = (currentBuffer + 1) % maxBufferInFlight\n\n    updateSprite()\n\n    let commandBuffer = commandQueue.makeCommandBuffer()\n    if commandBuffer == nil {\n        print(\"create command buffer failed.\")\n    }\n    commandBuffer!.label = \"command buffer\"\n\n    commandBuffer!.addCompletedHandler { (buffer) in\n        self.inFlightSemaphore.signal()\n    }\n\n    if let renderPassDescriptor = view.currentRenderPassDescriptor,\n        let renderEncoder = commandBuffer!.makeRenderCommandEncoder(descriptor: renderPassDescriptor) {\n        renderEncoder.setCullMode(.back)\n        renderEncoder.setRenderPipelineState(pipelineState!)\n\n        renderEncoder.setVertexBuffer(vertexBuffer[currentBuffer],\n                                      offset: 0,\n                                      index: DFVertexInputIndex.vertex.rawValue)\n\n        renderEncoder.setVertexBytes(&amp;viewportSize,\n                                     length: MemoryLayout.size(ofValue: viewportSize),\n                                     index: DFVertexInputIndex.viewportSize.rawValue)\n\n        renderEncoder.drawPrimitives(type: .triangle,\n                                     vertexStart: 0,\n                                     vertexCount: totalSpriteVertexCount)\n        renderEncoder.endEncoding()\n        commandBuffer!.present(view.currentDrawable!)\n    }\n    commandBuffer!.commit()\n}\n</code></pre>\n\n\n\n<p>the result is that the app written in objective-c cost about 40% cpu usage while about 100% in swift. I thought swift would be faster.</p>\n\n\n"}, {"tags": ["ios", "objective-c", "json"], "comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514845037, "post_id": 48050918, "comment_id": 83079617, "body": "You should explain the real goal you want to archive. The solution you have in mind makes no sense for many reasons."}, {"owner": {"reputation": 141, "user_id": 4940378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OCXd7.png?s=128&g=1", "display_name": "MSH", "link": "https://stackoverflow.com/users/4940378/msh"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514875211, "post_id": 48050918, "comment_id": 83085302, "body": "I have a giving situation of very large JSON files as inputs to the system, I wish to parse it. However, I do not think that holding all that massive amount of data in memory is the right way to go. Changing to another format is less of a possibility, as the JSONs are well integrated in the system."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514878198, "post_id": 48050918, "comment_id": 83086401, "body": "You need only parts of the JSON? If not, building up the graph in memory might cause the bigger footprint."}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 5, "creation_date": 1514829889, "post_id": 48051066, "comment_id": 83075945, "body": "<code>NSJSONSerialization</code> does support parsing a stream. See the documentation for <code>JSONObjectWithStream:options:error:</code>. Of course the result is still one giant object model."}, {"owner": {"reputation": 1882, "user_id": 609285, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/KrjR0.jpg?s=128&g=1", "display_name": "Motti Shneor", "link": "https://stackoverflow.com/users/609285/motti-shneor"}, "edited": false, "score": 0, "creation_date": 1555311158, "post_id": 48051066, "comment_id": 98051548, "body": "While it does support parsing a stream - it won&#39;t provide any results or answers, until the stream is closed, and the full JSON data is available. You can&#39;t parse just partial JSON element a time using that."}], "tags": [], "owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "is_accepted": false, "score": 3, "last_activity_date": 1514844860, "last_edit_date": 1514844860, "creation_date": 1514821971, "answer_id": 48051066, "question_id": 48050918, "link": "https://stackoverflow.com/questions/48050918/how-to-parse-a-json-file-line-by-line-in-objective-c/48051066#48051066", "title": "How to parse a JSON file line by line in objective c", "body": "<p>JSON is not a line oriented format, so the idea of parsing \"line by line\" doesn't really make sense. </p>\n\n<p>That said, there is at least one event-driven JSON parser for iOS that I know of, <a href=\"https://github.com/stig/json-framework\" rel=\"nofollow noreferrer\">https://github.com/stig/json-framework</a>. The built-in parser <code>NSJSONSerialization</code> only works on entire files.</p>\n"}], "owner": {"reputation": 141, "user_id": 4940378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OCXd7.png?s=128&g=1", "display_name": "MSH", "link": "https://stackoverflow.com/users/4940378/msh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514877345, "creation_date": 1514820831, "last_edit_date": 1514877345, "question_id": 48050918, "link": "https://stackoverflow.com/questions/48050918/how-to-parse-a-json-file-line-by-line-in-objective-c", "title": "How to parse a JSON file line by line in objective c", "body": "<p>I am working with very large JSON files, so I do not want to read the entire file and then iterate and parse each data entry.\nInstead, I would like to iterate on the JSON file itself (for example: line-by-line/one object at a time).\nI thought about holding the next line location as part of the current line data, so the JSON is a semi linked list, but I did not manage to extract a specific line from the JSON file.\nAm I missing an easier way to achieve that? Is it even possible to extract and parse a specific line from a JSON file?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["ios", "objective-c", "objective-c-runtime"], "answers": [{"comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1514827703, "post_id": 48050976, "comment_id": 83075355, "body": "Correct up until the enhanced bit.    Varargs don&#39;t work like that.  You can&#39;t pass <code>args</code> as a parameter and have it work with a non-vararg method or function."}, {"owner": {"reputation": 1225, "user_id": 2437015, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Y3Drx.jpg?s=128&g=1", "display_name": "Rohan Bhale", "link": "https://stackoverflow.com/users/2437015/rohan-bhale"}, "edited": false, "score": 0, "creation_date": 1514829107, "post_id": 48050976, "comment_id": 83075725, "body": "@Brandon That was helpful. Wouldn&#39;t have solved it without your help. The type cast of IMP to a functionpointer returning void* is crucial."}, {"owner": {"reputation": 1225, "user_id": 2437015, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Y3Drx.jpg?s=128&g=1", "display_name": "Rohan Bhale", "link": "https://stackoverflow.com/users/2437015/rohan-bhale"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1514829224, "post_id": 48050976, "comment_id": 83075755, "body": "@bbum Thanks for your thoughts. I will take into consideration your point on varargs."}], "tags": [], "owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "is_accepted": true, "score": 2, "last_activity_date": 1514832497, "last_edit_date": 1514832497, "creation_date": 1514821313, "answer_id": 48050976, "question_id": 48050693, "link": "https://stackoverflow.com/questions/48050693/objective-c-runtime-crash/48050976#48050976", "title": "Objective-C runtime crash", "body": "<p>You are trying to call <code>CFBridgingRetain</code> on all return types..</p>\n\n<p>The documentation explicitly states that if the <code>IMP</code> returns anything that is NOT <code>void</code>, then you must explicitly cast it to the right function pointer type.</p>\n\n<p>Your function is:</p>\n\n<pre><code>static const void *myMsgSend(id receiver, const char *name) {\n    SEL selector = sel_registerName(name);\n    Class receiverClass = object_getClass(receiver);\n    IMP methodIMP = class_getMethodImplementation(receiverClass, selector);\n    id (*imp)(id, SEL) = (id (*)(id, SEL))methodIMP;\n    return CFBridgingRetain(imp(receiver, selector));\n}\n</code></pre>\n\n<p>When you called <code>UTF8String</code>, it returns a <code>const char*</code> which you are trying to retain. Not only that, but you are saying that the <code>IMP</code> returns an <code>id</code> and you retain that.. You can only retain Objective-C class objects. You never casted to the correct function pointer type so it crashes trying to implicitly convert <code>const char*</code> to <code>id</code>..</p>\n\n<p>Therefore your method needs to be:</p>\n\n<pre><code>static const void *myMsgSend(id receiver, const char *name) {\n    SEL selector = sel_registerName(name);\n    Class receiverClass = object_getClass(receiver);\n    IMP methodIMP = class_getMethodImplementation(receiverClass, selector);\n\n    void* (*imp)(id, SEL) = (void* (*)(id, SEL))methodIMP;\n    return imp(receiver, selector, args);\n}\n</code></pre>\n\n<p>where it returns a simple <code>void*</code> which can be NULL or BOOL or int or w/e type (primitive).. If it needed to return an object, the object is implicitly bridged so no need to retain (just cast the result to the right type).</p>\n\n<p>However, it is probably a much better idea to use <code>NSInvocation</code> as the implementation of this function because then you don't have to worry about type and arguments and so on..</p>\n"}], "owner": {"reputation": 1225, "user_id": 2437015, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/Y3Drx.jpg?s=128&g=1", "display_name": "Rohan Bhale", "link": "https://stackoverflow.com/users/2437015/rohan-bhale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 48050976, "answer_count": 1, "score": 0, "last_activity_date": 1514832497, "creation_date": 1514819046, "question_id": 48050693, "link": "https://stackoverflow.com/questions/48050693/objective-c-runtime-crash", "title": "Objective-C runtime crash", "body": "<p>I am trying out Objective-C runtime methods for the first time. I have been reading a chapter(24) on this from iOS 7 programming pushing the limits. As per the example in the book I have implemented a message dispatcher function which is as below:</p>\n\n<pre><code>static const void *myMsgSend(id receiver, const char *name) {\n    SEL selector = sel_registerName(name);\n    Class receiverClass = object_getClass(receiver);\n    IMP methodIMP = class_getMethodImplementation(receiverClass, selector);\n    return CFBridgingRetain(methodIMP(receiver, selector));\n}\n</code></pre>\n\n<p>I test this dispatcher in the function below:</p>\n\n<pre><code>void runMyMsgSend() {\n    // NSObject *object = [[NSObject alloc] init];\n    Class class = (Class)objc_getClass(\"NSObject\");\n    id object = class_createInstance(class, 0);\n    myMsgSend(object, \"init\");\n\n    // id description = [object description];\n    id description = (__bridge id)myMsgSend(object, \"description\");\n\n    // const char *cstr = [description UTF8String];\n    const char *cstr = myMsgSend(description, \"UTF8String\");\n\n    printf(\"---------------------\");\n    printf(\"%s\\n\", cstr);\n}\n</code></pre>\n\n<p>The function works well for <strong>init</strong> and <strong>description</strong> for object instance of type <strong>NSObject</strong>.\nWhen the dispatcher function is called on object pointed by <em>description</em> with <em>UTF8String</em> as the method to run it crashes on </p>\n\n<blockquote>\n  <p>return CFBridgingRetain(methodIMP(receiver, selector));</p>\n</blockquote>\n\n<p>Now I know that NSString is a cluster and actually an object of __NSCFString is used. I think this may be the problem while calling <strong>CFBridgingRetain</strong>. I need a better understanding of what is actually causing the crash. Thanks in advance.</p>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514908117, "post_id": 48050611, "comment_id": 83100647, "body": "From the looks of it you have a navigation controller as the root of the details.  Do you mean to change the controller on that navigation controller stack or to switch controllers entirely."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514908672, "post_id": 48050611, "comment_id": 83100979, "body": "I only want to change the DetailViewController and always leave the TableView on the left (like the settings of an ipad)."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514908767, "post_id": 48050611, "comment_id": 83101035, "body": "There are lots of things that can effect how to do this.  I can provide a basic answer or if you can upload your project make it more specific to your usage.  Which would you prefer?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514909131, "post_id": 48050611, "comment_id": 83101222, "body": "if you want you can create a project with only a SplitViewController with a static array and two or three DetailsViewController in Obj C."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514909700, "post_id": 48050611, "comment_id": 83101539, "body": "Can you show how you are creating this &#39;static&#39; array because there are several different ways I could do it.  It doesn&#39;t have to be complete just how you would set one up."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514909869, "post_id": 48050611, "comment_id": 83101641, "body": "I will create a project with code and storyboard. I will send you the dropbox link. Then you&#39;ll just have to modify the DetailsViewController by pressing a specific cell."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514909921, "post_id": 48050611, "comment_id": 83101680, "body": "Dropbox or a git repository should be fine."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514910884, "post_id": 48050611, "comment_id": 83102190, "body": "try this link. It&#39;s ma project with 3 Viewcontrollers. <a href=\"https://www.dropbox.com/sh/bdq9smsha71nl1i/AAAZG1O1XHalwV6EyY9X5_yEa?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/bdq9smsha71nl1i/AAAZG1O1XHalwV6EyY9X5_yEa?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 1, "creation_date": 1514911749, "post_id": 48050611, "comment_id": 83102680, "body": "Well in that project the easiest way to do it is to go to the storyboard and right drag from the table view cell to the view controller you want and select a &#39;show detail&#39; segue.  Do that for each of the cells and it should work fine."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514912459, "post_id": 48050611, "comment_id": 83103035, "body": "oh yes it works very well. thank you very much."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515871813, "post_id": 48050611, "comment_id": 83469498, "body": "Hello, you helped me a few days ago on a problem on xcode. I will need help on another problem. Would it be possible that we exchange by mail?"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515873933, "post_id": 48050611, "comment_id": 83470114, "body": "I don&#39;t usually give out my email address publicly.  What is the problem?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515917599, "post_id": 48050611, "comment_id": 83478070, "body": "In fact, I would like to create an XML file and parse it. However, I do not know how to parse an XML file on xcode. If you wish I can create a project explaining what I want to better understand and send you the dropbox link ?"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515918314, "post_id": 48050611, "comment_id": 83478190, "body": "I think the best thing would be to create a new question about it, add some details (the dropbox link if you want) and then put a link to that new question here.  It&#39;s something I have done a few times so am sure I can help out."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515920336, "post_id": 48050611, "comment_id": 83478615, "body": "OK. perfect. I prepare you this day and tonight I send you the links. thank you very much."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515920397, "post_id": 48050611, "comment_id": 83478628, "body": "Ok no problem.  I&#39;m working in the office tomorrow so might not be able to respond as quickly but I will take a look as soon as I can."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1515949475, "post_id": 48050611, "comment_id": 83486438, "body": "<a href=\"https://stackoverflow.com/questions/48252007/parse-xml-fil-in-xcode-obj-c\" title=\"parse xml fil in xcode obj c\">stackoverflow.com/questions/48252007/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516125001, "post_id": 48050611, "comment_id": 83558962, "body": "Hello, I just updated the project. I have a mini question! I created a method to retrieve the values of the file but the values do not match. the method is in ViewController.m <a href=\"https://www.dropbox.com/sh/iiu23af1a1zbkwg/AACKChyoA6UTQXKrEyyxWJbxa?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/iiu23af1a1zbkwg/AACKChyoA6UTQXKrEyyxWJbxa?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516125681, "post_id": 48050611, "comment_id": 83559343, "body": "Is this related to the other question not this one?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516125727, "post_id": 48050611, "comment_id": 83559368, "body": "it&#39;s a new question"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516125796, "post_id": 48050611, "comment_id": 83559403, "body": "I just downloaded that project and it&#39;s v2 of your XML project with some errors.  Is that the correct one?  It doesn&#39;t build for a few reasons."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516125902, "post_id": 48050611, "comment_id": 83559457, "body": "sorry. check this link: <a href=\"https://www.dropbox.com/sh/qsuhrobfzwpipl0/AABRj8JkNtpEjznD032XMKMRa?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/qsuhrobfzwpipl0/AABRj8JkNtpEjznD032XMKMRa?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516126425, "post_id": 48050611, "comment_id": 83559738, "body": "My bad there was a bug in Airplane.m.  I have fixed it here: <a href=\"https://www.dropbox.com/s/f6k036rtfwzrpk2/XML_project_tutorial_updated_v4.zip?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/f6k036rtfwzrpk2/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516134438, "post_id": 48050611, "comment_id": 83563499, "body": "How to convert a NSDecimalNumber to float ?"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516134667, "post_id": 48050611, "comment_id": 83563600, "body": "NSDecimalNumber has a floatValue method so it&#39;s <code>[self.airplane.facteurBase floatValue]</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516193663, "post_id": 48050611, "comment_id": 83587764, "body": "hello, I improved the storyboard by adding elements. The problem is that the labels and the image do not change when I modify the plane. can you help me ? thank you <a href=\"https://www.dropbox.com/sh/pxk4oxme406yril/AAAnPahd25wgdzpuFpQvClRQa?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/pxk4oxme406yril/AAAnPahd25wgdzpuFpQvClRQa?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516261860, "post_id": 48050611, "comment_id": 83617759, "body": "In the first specs view the planeName is not linked and the ok button is not linked.  In the other spec views nothing is displayed because you only set the information for the initial specs view.  In order to pass the information you need to update them in the prepareForSegue method of the first specs view.  You would also be better off having separate view controllers rather than reusing specs view so much."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516262210, "post_id": 48050611, "comment_id": 83617944, "body": "I have updated the example in your other question (check out the README for details)"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516303218, "post_id": 48050611, "comment_id": 83643182, "body": "Have you seen the latest version?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516304616, "post_id": 48050611, "comment_id": 83643936, "body": "Yes. excuse me for the wait. I just modified for the OK buttons. However, I still can not display the image, the name of the plane and the description. I use Continer View."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516305111, "post_id": 48050611, "comment_id": 83644158, "body": "Did you check out the README file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516308055, "post_id": 48050611, "comment_id": 83645599, "body": "yes. the problem is not in the XML file but it&#39;s just the display of my labels and my image in the view."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516308221, "post_id": 48050611, "comment_id": 83645676, "body": "HINT: Check out the INFO at the end of the README file.  I will remove it fairly soon."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516310930, "post_id": 48050611, "comment_id": 83646959, "body": "I just updated the project. but I can not display the name of the plane with the right image and description. Can you help me ? <a href=\"https://www.dropbox.com/sh/pxk4oxme406yril/AAAnPahd25wgdzpuFpQvClRQa?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/pxk4oxme406yril/AAAnPahd25wgdzpuFpQvClRQa?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516310977, "post_id": 48050611, "comment_id": 83646993, "body": "Yes but you also need to read the last few lines of that README file."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516315595, "post_id": 48050611, "comment_id": 83648872, "body": "You are using v4 of the project.  I updated to v5 which is on your other question here <a href=\"https://stackoverflow.com/questions/48252007/how-to-parse-xml-file-in-objective-c\" title=\"how to parse xml file in objective c\">stackoverflow.com/questions/48252007/&hellip;</a>.  You need to use that version as your v4 version has errors that have already been fixed in v5.  Plus v5 contains important info in the README file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516357692, "post_id": 48050611, "comment_id": 83663014, "body": "Hello, I&#39;m working on version 5. I&#39;ll let you know."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516386807, "post_id": 48050611, "comment_id": 83680898, "body": "Good evening, I just updated version 5. I updated the link. I have a problem with the OK button. Similarly, I wanted to know also how I do if I want to hide some planes in the picker view. I created a method with a button switch. <a href=\"https://www.dropbox.com/sh/v1f1icdto3d34ps/AAC9LWyzgnUwNIiq-FPHTjY_a?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/v1f1icdto3d34ps/AAC9LWyzgnUwNIiq-FPHTjY_a?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516397783, "post_id": 48050611, "comment_id": 83686189, "body": "Ok I got the email so we can communicate via that instead of expanding the comments on this question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1516399239, "post_id": 48050611, "comment_id": 83686864, "body": "Yes good idea ! thank you very much."}], "owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514893458, "creation_date": 1514818127, "last_edit_date": 1514893458, "question_id": 48050611, "link": "https://stackoverflow.com/questions/48050611/how-to-use-split-view-controller-with-static-cells-many-detailsviewcontroller", "title": "How to use Split View Controller with static Cells (many DetailsViewController)?", "body": "<p>I'm using a splitviewcontroller with a static cell. I wanted to know how to put several detailsViews and to display a specific detailview by pressing a cell of the table ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/EIILl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIILl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "swift", "encode"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 3, "creation_date": 1514816855, "post_id": 48050431, "comment_id": 83072639, "body": "That are two different strings (key-value pairs in different order). Why should the Base64 encoded strings be equal?"}], "answers": [{"tags": [], "owner": {"reputation": 26715, "user_id": 137080, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/86bdc5ff5eee5288200118aeebf680d0?s=128&d=identicon&r=PG", "display_name": "Williham Totland", "link": "https://stackoverflow.com/users/137080/williham-totland"}, "is_accepted": true, "score": 2, "last_activity_date": 1514816897, "creation_date": 1514816897, "answer_id": 48050467, "question_id": 48050431, "link": "https://stackoverflow.com/questions/48050431/encode-between-objective-c-and-swift-does-not-match/48050467#48050467", "title": "Encode between Objective-C and swift, does not match", "body": "<p>Those aren't ever going to match, seeing as the two strings have JSON keys in differing orders; one is <code>userType</code>, <code>password</code>, <code>account</code>; the other is <code>userType</code>, <code>account</code>, <code>password</code>.</p>\n"}], "owner": {"reputation": 3125, "user_id": 7088290, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BWxwi.png?s=128&g=1", "display_name": "dengApro", "link": "https://stackoverflow.com/users/7088290/dengapro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "accepted_answer_id": 48050467, "answer_count": 1, "score": 1, "last_activity_date": 1514817726, "creation_date": 1514816615, "last_edit_date": 1514817726, "question_id": 48050431, "link": "https://stackoverflow.com/questions/48050431/encode-between-objective-c-and-swift-does-not-match", "title": "Encode between Objective-C and swift, does not match", "body": "<p>My application's network request is encoded.</p>\n\n<p>In Objective-C</p>\n\n<pre><code>NSData *encodeData = [str dataUsingEncoding:NSUTF8StringEncoding];\ndataStr = [encodeData base64EncodedStringWithOptions:0];\n</code></pre>\n\n<p>I want to transform it to swift.\nHere is the swift code:</p>\n\n<pre><code>let dataEncodeTemp = dataTempStr.data(using: String.Encoding.utf8)\nlet dataStr = dataEncodeTemp?.base64EncodedString(options: Data.Base64EncodingOptions(rawValue: 0))\n</code></pre>\n\n<p>I think , the result should be the same. But it does not.</p>\n\n<p>The Objective-C data:</p>\n\n<pre><code>(lldb) po str// initial\n{\"userType\":2,\"password\":\"qazwsx2\",\"account\":\"15921810000\"}\n\n(lldb) po dataStr // encoded\neyJ1c2VyVHlwZSI6MiwicGFzc3dvcmQiOiJxYXp3c3gyIiwiYWNjb3VudCI6IjE1OTIxODE3MDUzIn0=\n</code></pre>\n\n<p>The swift data:</p>\n\n<pre><code>po dataTempStr // initial\n\"{\\\"userType\\\":2,\\\"account\\\":\\\"15921810000\\\",\\\"password\\\":\\\"qazwsx2\\\"}\"\n\n(lldb) po dataStr\n\n\u25bf Optional&lt;String&gt; // encoded\n  - some : \"eyJ1c2VyVHlwZSI6MiwiYWNjb3VudCI6IjE1OTIxODE3MDUzIiwicGFzc3dvcmQiOiJxYXp3c3gyIn0=\"\n</code></pre>\n\n<p>I want to know why , and solve it.</p>\n\n<p>I shall try the bridge.</p>\n\n<p>Any good solution?</p>\n"}, {"tags": ["ios", "objective-c", "sorting"], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1514809683, "last_edit_date": 1514809683, "creation_date": 1514808238, "answer_id": 48049499, "question_id": 48049363, "link": "https://stackoverflow.com/questions/48049363/custom-class-sort-property-with-nsdate-not-working-in-objective-c/48049499#48049499", "title": "Custom Class sort property with NSDate not working in Objective-C", "body": "<p>You miss typed <strong>a</strong> again instead of <strong>b</strong> in second variable</p>\n\n<pre><code>  NSArray *sortedArray;\n  sortedArray = [fileData   sortedArrayUsingComparator:^NSComparisonResult(FileModel *a, FileModel *b)      {\n    NSDate *first = [(FileModel*)a editDate];\n    NSDate *second =  [(FileModel*)b editDate];\n    return [second compare: first];\n   }];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4911, "user_id": 5461400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/004O9.jpg?s=128&g=1", "display_name": "Harshal Valanda", "link": "https://stackoverflow.com/users/5461400/harshal-valanda"}, "is_accepted": false, "score": 0, "last_activity_date": 1514809246, "creation_date": 1514809246, "answer_id": 48049600, "question_id": 48049363, "link": "https://stackoverflow.com/questions/48049363/custom-class-sort-property-with-nsdate-not-working-in-objective-c/48049600#48049600", "title": "Custom Class sort property with NSDate not working in Objective-C", "body": "<p><strong>Try this</strong></p>\n\n<pre><code>NSArray *sortArray = [fileData sortedArrayUsingComparator:^NSComparisonResult(id  _Nonnull obj1, id  _Nonnull obj2) {\n    NSDate *first = [(FileModal*)obj1 editDate];\n    NSDate *second =  [(FileModal*)obj2 editDate];\n    return !([first compare:second] == NSOrderedDescending);\n}];\n</code></pre>\n"}], "owner": {"reputation": 2763, "user_id": 2457875, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IUFKV.jpg?s=128&g=1", "display_name": "dickfala", "link": "https://stackoverflow.com/users/2457875/dickfala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 48049499, "answer_count": 2, "score": 0, "last_activity_date": 1514809683, "creation_date": 1514807016, "last_edit_date": 1514808085, "question_id": 48049363, "link": "https://stackoverflow.com/questions/48049363/custom-class-sort-property-with-nsdate-not-working-in-objective-c", "title": "Custom Class sort property with NSDate not working in Objective-C", "body": "<p>I create the custom class name with FileModel.</p>\n\n<pre><code> FileModel.h\n\n #import &lt;Foundation/Foundation.h&gt;\n\n @interface FileModel : NSObject\n\n @property (nonatomic, copy)   NSString *fileName;\n @property (nonatomic, copy)   NSString *fileType;\n @property (nonatomic, strong) NSDate   *editDate;\n @property (nonatomic, assign) NSInteger fileSize;\n\n @end\n</code></pre>\n\n<p>I want to sort the FileModel with the editDate, but it is not work.</p>\n\n<p>I create the sample  like below .m</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n         NSArray *fileSampleName = [[NSArray alloc] initWithObjects:@\"apple.png\",@\"banana.png\",@\"cherry.png\",@\"durian.png\",@\"grape.png\",@\"avocado.png\", nil];\n\n         NSMutableArray *fileData = [NSMutableArray new];\n         FileModel *fileModel = nil;\n         for( NSInteger i = 0 ; i &lt; fileSampleName.count  ; i++){\n             fileModel = [FileModel new];\n             fileModel.fileName = [fileSampleName objectAtIndex:i];\n             fileModel.fileType = @\"photo\";\n             fileModel.fileSize = 0;\n             fileModel.editDate = [NSDate new];\n             [fileData addObject:fileModel];\n             // test for nsdate interveral\n             [NSThread sleepForTimeInterval:1];\n\n         }\n\n         NSArray *sortedArray;\n         sortedArray = [fileData      sortedArrayUsingComparator:^NSComparisonResult(FileModel *a, FileModel *b)      {\n             NSDate *first = [(FileModel*)a editDate];\n             NSDate *second =  [(FileModel*)a editDate];\n             return [second compare:first];\n         }];\n         NSLog(@\"sortedArray:%@\",sortedArray);\n\n         // log\n         for (FileModel *fm in sortedArray) {\n             NSLog(@\"sortedArray:%@\", fm.fileName);\n         }\n     }\n</code></pre>\n\n<p>Why I NSLog sorted order is not </p>\n\n<blockquote>\n  <p>avocado.png -> grape.png -> durian.png -> cherry.png -> banana.png ->\n  apple.png</p>\n</blockquote>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["ios", "objective-c", "arrays", "xcode", "google-maps"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "edited": false, "score": 0, "creation_date": 1514821325, "post_id": 48050618, "comment_id": 83073626, "body": "Thanks for your reply! Yes, I know that the distance between the points of the route is very small and I now understand what you mean in order to decrease the iterations. That is, if a filling station is found within a radius of 5 miles, then the next check of the coordinates should be done with the value of the deviation radius, that is, minus five miles?"}, {"owner": {"reputation": 467, "user_id": 2498116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Yc1Aj.jpg?s=128&g=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/2498116/dog"}, "reply_to_user": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "edited": false, "score": 0, "creation_date": 1514823054, "post_id": 48050618, "comment_id": 83074103, "body": "No, what I mean is, you take the first location and get the station for it. Then consider that all found stations also apply to the next locations that are within 0.25 miles from the first location. The 0.25 miles location is the distance in the algorithm."}, {"owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "edited": false, "score": 0, "creation_date": 1514823498, "post_id": 48050618, "comment_id": 83074229, "body": "Thanks for pushing the idea. I understood how to decide on"}, {"owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "edited": false, "score": 0, "creation_date": 1514839559, "post_id": 48050618, "comment_id": 83078405, "body": "I appreciated the answer, but I have a low rating and my assessment is not visible"}], "tags": [], "owner": {"reputation": 467, "user_id": 2498116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Yc1Aj.jpg?s=128&g=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/2498116/dog"}, "is_accepted": false, "score": 0, "last_activity_date": 1514819697, "last_edit_date": 1514819697, "creation_date": 1514818217, "answer_id": 48050618, "question_id": 48049126, "link": "https://stackoverflow.com/questions/48049126/optimize-coordinate-calculations-in-two-nested-arrays/48050618#48050618", "title": "Optimize coordinate calculations in two nested arrays", "body": "<p>You have an array of points that determine the route. My assumption is that there are very many points that are located at insignificant distances one from another, given the 5 miles deviation.</p>\n\n<p>Here's an example:\nThe first point in your route is at a given location. The second point in your route is 3 feet away from the previous location. Considering that you have found a filling station that falls within 5 miles of the first location, it is safe to presume that it will also fall within 5 miles of the second location. Therefore, all stations that have already been verified for the first location no longer need to be checked for the second location.</p>\n\n<p>I think you see where I am trying to go with this. Try to reduce the points in your route with a distance that works for you.</p>\n\n<p>You can start with 1/20 of your deviation. That means that every location on route that is within 0.25 miles from another location that has already had the stations verified will no longer verify for stations, since it will assume there will be the same stations as for the verified one.</p>\n\n<p>Here's how reducing would be:</p>\n\n<pre><code>- (NSArray *)reducePointsInArray:(NSArray*)locations withinDistance:(CGFloat)distance {\n     NSMutableArray *mutableLocations = [locations mutableCopy];\n\n     //This array will hold the indexes of insignificant locations\n     NSMutableArray *reduceIndexes = [NSMutableArray array];\n\n     //Start with a reference location\n     CLLocation referenceLocation = [locations firstObject];\n     [locations enumerateObjectsUsingBlock:^(CLLocation *location, NSUInteger idx, BOOL *stop) {\n         //Don't compare first location to first location\n         if (idx == 0) {\n             return;\n         }\n         //Compare location with reference location\n         if([locations distanceFromLocation:referenceLocation] &lt; distance) {\n             [reduceIndexes addObject:[NSIndexSet indexSetWithIndex:idx]];\n         } else {\n             referenceLocation = location;\n         }\n    }];\n    [mutableLocations removeObjectsAtIndexes:reduceIndexes];\n    return mutableLocations;\n}\n</code></pre>\n\n<p>If you consider that 0.25 miles is too much for reducing the route locations, you can go with less, I think it will still reduce some of the locations. Try with different values and log the number of locations before and after reducing. Depending on the distances between your route points, I guess you could even reduce up to 80% of them without significantly affecting your results.</p>\n"}], "owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514819697, "creation_date": 1514804722, "last_edit_date": 1514814934, "question_id": 48049126, "link": "https://stackoverflow.com/questions/48049126/optimize-coordinate-calculations-in-two-nested-arrays", "title": "Optimize coordinate calculations in two nested arrays", "body": "<p>I'm working on an application in which there is an array of coordinates on the <code>Google</code> map by which the route is drawn. There is a second array of filling stations coordinates. In two arrays of 10,000 points.  I need to show the points from the second array that fall on the route with a deviation of 5 miles. I made this requirement in nested arrays, but this calculation is very lengthy, it takes about five minutes. How can it be optimized and speed up the calculation? I will be very grateful for any advice:</p>\n\n<p><strong>Here is my code</strong></p>\n\n<pre><code>- (void)addRandomPointsOnMap {\nCGFloat upperBoundLatitude = 46.80;\nCGFloat lowerBoundLatitude = 29.76;\nCGFloat upperBoundLongitude = -118.64;\nCGFloat lowerBoundLongitude = -75.6;\n\nfor (int i = 0; i &lt; 10000; i++) {\n    TSPoint *randomPoint = [[TSPoint alloc] init];\n    randomPoint.latitude = [self randomFloatBetween:upperBoundLatitude\n                                          and:lowerBoundLatitude];\n    randomPoint.longitude = [self randomFloatBetween:upperBoundLongitude\n                                           and:lowerBoundLongitude];\n    CLLocation *randomPointLocation = [[CLLocation alloc] initWithLatitude:randomPoint.latitude longitude:randomPoint.longitude];\n\n    for (int i = 0; i &lt; _routePoints.count; i++) {\n        TSPoint *routePoint = _routePoints[i];\n        CLLocation *routePointLocation = [[CLLocation alloc] initWithLatitude:routePoint.latitude longitude:routePoint.longitude];\n        NSInteger distanceInMeters = [routePointLocation distanceFromLocation:randomPointLocation];\n\n        NSInteger distanceInMiles = distanceInMeters / 1609.344;\n        if (distanceInMiles &lt; 5) {\n\n            GMSMarker *markerT1 = [[GMSMarker alloc] init];\n            markerT1.position = CLLocationCoordinate2DMake(randomPoint.latitude, randomPoint.longitude);\n            markerT1.icon = [UIImage imageNamed:@\"blue_pin\"];\n            markerT1.groundAnchor = CGPointMake(0.5, 0.5);\n            markerT1.map = _mapView;\n        }\n    }\n} }\n</code></pre>\n\n<p>and the method of calculating random coordinates in bounded ranges:</p>\n\n<pre><code>- (float)randomFloatBetween:(float)lowerBound and:(float)upperBound {\nfloat diff = upperBound - lowerBound;\nreturn (((float) (arc4random() % ((unsigned)RAND_MAX + 1)) / RAND_MAX) * diff) + lowerBound; }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "core-data"], "comments": [{"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514809014, "post_id": 48049115, "comment_id": 83070738, "body": "EXC_BAD_ACCESS Code 1 means you are trying to access something which is null/nil. So enable Zombies to figure out the issue. BTW You should be performing changes to managed objects in managedObject context using <code>performBlock</code> or <code>performBlockAndWait</code> these API&#39;s will ensure that you end up accessing managed object context in a thread safe manner."}], "answers": [{"tags": [], "owner": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "is_accepted": false, "score": 1, "last_activity_date": 1520405899, "last_edit_date": 1520405899, "creation_date": 1514809388, "answer_id": 48049624, "question_id": 48049115, "link": "https://stackoverflow.com/questions/48049115/ios-app-crash-when-inserting-thousands-of-data-with-coredata/48049624#48049624", "title": "iOS App crash when inserting thousands of data with CoreData", "body": "<p><code>ManagedObjectContext</code> are not thread safe.  It is vital to know for each context which thread it want to be run on. A context that was created with <code>NSPrivateQueueConcurrencyType</code> comes bundled with a private thread that you can ONLY access with <code>performBlock</code> or <code>performBlockAndWait</code> (in other words the queue is PRIVATE).  It is not safe to access the context on any other thread - even a background thread.  The context is not attached to the thread that it was created on (as you seem to be assuming it will be), that was the behavior of <code>NSConfinementConcurrencyType</code> which is now deprecated.</p>\n"}], "owner": {"reputation": 1, "user_id": 9160250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0fdb650ddf412efdb17b24f8bd2097?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjay L", "link": "https://stackoverflow.com/users/9160250/sanjay-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520405899, "creation_date": 1514804650, "last_edit_date": 1514809514, "question_id": 48049115, "link": "https://stackoverflow.com/questions/48049115/ios-app-crash-when-inserting-thousands-of-data-with-coredata", "title": "iOS App crash when inserting thousands of data with CoreData", "body": "<p>Actually, I have implemented background sync call which stores data in a local database using CoreData. I am getting thousands of records for that, but the app crashes after some time and giving the error</p>\n\n<blockquote>\n  <p>EXC_BAD_ACCESS Code 1. </p>\n</blockquote>\n\n<p>Maybe it happened due to <code>NSManagedObjectContext</code>, not sure. Here is my code:</p>\n\n<pre><code>-(void)RestClient:(RestClient *)client didCompleteWithSuccess:(id)responseObject withLastModifiedDate:(NSString *)lastModifiedDate{\n\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void) {\n\n    @try {\n\n        if(responseObject!=nil){\n\n            NSError *error = nil;\n            NSDictionary *jsonResponse = [NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:&amp;error];\n            if (!error) {\n\n                int totalrecords = [[jsonResponse objectForKey:@\"records\"] intValue];\n\n                if(totalrecords&gt;0){\n                    NSManagedObjectContext * manageObjContext = [Common getBkgManagedObjectContext];\n                    NSArray* rows = [jsonResponse objectForKey:@\"rows\"];\n\n                    for(NSString* email in rows){\n                        [NotifyEmails insertIntoNotifyEmails:email withManagedObjectContext:manageObjContext];\n                    }\n\n                    NSError *error = nil;\n                    if (![manageObjContext save:&amp;error]) {\n                        NSLog(@\"Data couldn't save: %@\", [error localizedDescription]);\n                    }\n\n\n                }\n            }\n        }\n\n    }@catch (NSException *exception) {\n        NSLog(@\"exception in rest response\");\n        NSLog(@\"Error :: %@\",exception);\n    }@finally {\n        [self finishOperation];\n    }\n\n});\n}\n</code></pre>\n\n<p><strong>The NsmanagedObjectContext function :</strong> </p>\n\n<pre><code>- (NSManagedObjectContext *)getBkgManagedObjectContext {\n\n    NSManagedObjectContext *manageObjCtx;\n    NSPersistentStoreCoordinator *coordinator = [(EMAINTAINAppDelegate *)[[UIApplication sharedApplication] delegate] persistentStoreCoordinator];\n\n    if (coordinator != nil) {\n        manageObjCtx = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];\n        [manageObjCtx setPersistentStoreCoordinator:coordinator];\n    }\n\n    return manageObjCtx;\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uicollectionview", "didselectrowatindexpath"], "comments": [{"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 1, "creation_date": 1514802202, "post_id": 48048810, "comment_id": 83069228, "body": "write a delegate between tableViewCell and ViewController pass viewController as delegate to tableViewCell in cellForRowAtIndexPath, trigger the delegate in TableViewCell&#39;s didSelectItemAtIndexPath implementation, pass the self (cell in this case) as parameter in delegate method so your viewController gets the tabView cell when collectionView inside it is tapped now get the indexPath for the cell using indexPathForCell thats all. I have answered a similar question in past lemme see if I can find it and post the link here for further help"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514802323, "post_id": 48048810, "comment_id": 83069253, "body": "Something similar (though not exact same) to this <a href=\"https://stackoverflow.com/questions/46152360/pass-data-from-collectioncell-inside-tablecell-to-secondvc-use-protocol/46152465#46152465\" title=\"pass data from collectioncell inside tablecell to secondvc use protocol\">stackoverflow.com/questions/46152360/&hellip;</a>"}, {"owner": {"reputation": 35, "user_id": 8860896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48b3aec2b3f213633986e377da0a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Zeenath Yousuff", "link": "https://stackoverflow.com/users/8860896/zeenath-yousuff"}, "reply_to_user": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 1, "creation_date": 1514802935, "post_id": 48048810, "comment_id": 83069376, "body": "Okay .. i will try this"}, {"owner": {"reputation": 35, "user_id": 8860896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48b3aec2b3f213633986e377da0a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Zeenath Yousuff", "link": "https://stackoverflow.com/users/8860896/zeenath-yousuff"}, "reply_to_user": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514803396, "post_id": 48048810, "comment_id": 83069477, "body": "@SandeepBhandari...Thank you so much it worked"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514803504, "post_id": 48048810, "comment_id": 83069505, "body": "You are always welcome buddy :) Now you can either add it as answer and accept it yourself or if you think its duplicate you can delete the question :) Happy coding :) cheers"}], "owner": {"reputation": 35, "user_id": 8860896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48b3aec2b3f213633986e377da0a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Zeenath Yousuff", "link": "https://stackoverflow.com/users/8860896/zeenath-yousuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514801771, "creation_date": 1514801771, "question_id": 48048810, "link": "https://stackoverflow.com/questions/48048810/get-table-row-index-on-click-of-its-table-cells-collection-item", "title": "Get table row index on click of its table cell&#39;s collection item?", "body": "<p>I have a tableview which has multiple rows , in each row I have collection view with multiple items that scrolls horizontally . Now I want to get the exact tableview row index whose collection cell's item i have clicked.My tableview delegate methods are in <code>ViewController.m</code> file and collection cell delegate methods are in <code>TableCell.m</code> file. And on click collection view item only collection view <code>didSelectItemAtIndexPath:(NSIndexPath *)indexPath</code> is called in which i am not able to get the tablview row index. Please help me with some suggestions how to get the table row index.</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 457, "user_id": 4115233, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bdf4756a72af5b7d8e5f0498cc814c1c?s=128&d=identicon&r=PG&f=1", "display_name": "mmr118", "link": "https://stackoverflow.com/users/4115233/mmr118"}, "edited": false, "score": 0, "creation_date": 1514788720, "post_id": 48047650, "comment_id": 83066867, "body": "Are the files in separate modules?"}, {"owner": {"reputation": 334, "user_id": 5596218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8vqiC.jpg?s=128&g=1", "display_name": "Manan Devani", "link": "https://stackoverflow.com/users/5596218/manan-devani"}, "reply_to_user": {"reputation": 457, "user_id": 4115233, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bdf4756a72af5b7d8e5f0498cc814c1c?s=128&d=identicon&r=PG&f=1", "display_name": "mmr118", "link": "https://stackoverflow.com/users/4115233/mmr118"}, "edited": false, "score": 0, "creation_date": 1514789011, "post_id": 48047650, "comment_id": 83066907, "body": "@moni15 No. ProjectName -&gt; AppDelegate.h|.m, ViewControlle.h|.m, file1.swift, file2.swift"}, {"owner": {"reputation": 457, "user_id": 4115233, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bdf4756a72af5b7d8e5f0498cc814c1c?s=128&d=identicon&r=PG&f=1", "display_name": "mmr118", "link": "https://stackoverflow.com/users/4115233/mmr118"}, "edited": false, "score": 0, "creation_date": 1514791407, "post_id": 48047650, "comment_id": 83067254, "body": "Are both give access control of <code>open</code> ?"}], "owner": {"reputation": 334, "user_id": 5596218, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8vqiC.jpg?s=128&g=1", "display_name": "Manan Devani", "link": "https://stackoverflow.com/users/5596218/manan-devani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1514788545, "creation_date": 1514788545, "question_id": 48047650, "link": "https://stackoverflow.com/questions/48047650/swift-objc-mix-match-other-swift-files-not-recognized", "title": "Swift-ObjC mix match, Other swift files not recognized", "body": "<p>I have a project with ObjC base. \nFollowing is what I did.</p>\n\n<ul>\n<li>Drag and drop <code>file1.swift</code> file in the project.</li>\n<li>Asked by Xcode to create bridging header file <code>productname-bridging-header.h</code> file. Created</li>\n<li>There is another file <code>file2.swift</code>. <code>file1.swift</code> imports the other file.</li>\n<li>But <code>file2.swift</code> is not recognised by <code>file1.swift</code>.</li>\n<li>Define Module is set to yes.</li>\n<li>Path for bridging header is correct.</li>\n<li>Objective C generated interface header name (automatically) set to <code>productname-swift.h</code>. But cannot locate the file.</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "webrtc", "peer-connection"], "comments": [{"owner": {"reputation": 3392, "user_id": 1028632, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/603b0a9047855ca1c5de4e5a5a7b2969?s=128&d=identicon&r=PG", "display_name": "Developia", "link": "https://stackoverflow.com/users/1028632/developia"}, "edited": false, "score": 1, "creation_date": 1514789909, "post_id": 48047611, "comment_id": 83067032, "body": "Welcome to Stack overflow, please describe your question verbosely to get better answers."}, {"owner": {"reputation": 5105, "user_id": 1712145, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Nd3lD.jpg?s=128&g=1", "display_name": "jamix", "link": "https://stackoverflow.com/users/1712145/jamix"}, "edited": false, "score": 0, "creation_date": 1514974363, "post_id": 48047611, "comment_id": 83124093, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48057400/webrtc-video-and-audio-in-ios-not-working-with-3g-4g-but-works-with-wifi\">WebRTC video and Audio in IOS not working with 3G /4G but works with WIFI</a>"}], "owner": {"reputation": 31, "user_id": 9143930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5b543e3015a1ef0f2b61f819bff313a?s=128&d=identicon&r=PG&f=1", "display_name": "Bilal Hassan", "link": "https://stackoverflow.com/users/9143930/bilal-hassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1514789251, "creation_date": 1514788071, "last_edit_date": 1514789251, "question_id": 48047611, "link": "https://stackoverflow.com/questions/48047611/in-ios-webrtc-peer-connection-does-not-allow-audio-and-video-on-mobile-data-conn", "title": "in iOS webRTC peer connection does not allow audio and video on mobile data-connection but works fine on wifi connection", "body": "<p>Error shown on debug console :</p>\n\n<blockquote>\n  <p>block invoke: No valid RTCReporting and the session was started.</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "swift", "camera"], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514787593, "creation_date": 1514787593, "answer_id": 48047575, "question_id": 48046233, "link": "https://stackoverflow.com/questions/48046233/how-to-use-alcameraviewcontroller-library-in-an-objective-c-project/48047575#48047575", "title": "How to use ALCameraViewController library in an Objective C project", "body": "<p>It's just clever looking code because he's got Swift default values in the initializer for CameraViewController. Objective-C does not support default values, so you need to provide them. The source is <a href=\"https://github.com/AlexLittlejohn/ALCameraViewController/blob/master/ALCameraViewController/ViewController/CameraViewController.swift#L162-L166\" rel=\"nofollow noreferrer\">right here</a>.</p>\n\n<p>Something like this:</p>\n\n<p>croppingParameters: CroppingParameters = CroppingParameters(),\n                allowsLibraryAccess: Bool = true,\n                allowsSwapCameraOrientation: Bool = true,\n                allowVolumeButtonCapture: Bool = true,\n                completion: @escaping CameraViewCompletion</p>\n\n<pre><code>__weak typeof(self) weakSelf = self;\nCameraViewController *cameraViewController = [[CameraViewController alloc] \n    initWithCroppingParameters:[CroppingParameters new]\n    allowsLibraryAccess: YES\n    allowsSwapCameraOrientation: YES\n    allowVolumeButtonCapture: YES\n    completion: ^(UIImage *image, PHAsset *asset) {\n        [weakSelf dismissViewControllerAnimated:YES completion:nil];\n    }];\n\n[self presentViewController:cameraViewController animated:YES completion:nil];\n</code></pre>\n\n<p>But since the ALCamera project doesn't seem to care that much about Objective-C, there might not be full support for it.</p>\n"}], "owner": {"reputation": 503, "user_id": 465955, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4586df6bfddb6308d393aefbfeb043b4?s=128&d=identicon&r=PG", "display_name": "Saviz", "link": "https://stackoverflow.com/users/465955/saviz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514787593, "creation_date": 1514762342, "question_id": 48046233, "link": "https://stackoverflow.com/questions/48046233/how-to-use-alcameraviewcontroller-library-in-an-objective-c-project", "title": "How to use ALCameraViewController library in an Objective C project", "body": "<p>The documents say to use this in swift:</p>\n\n<pre><code>        let cameraViewController = CameraViewController { [weak self] image, asset in\n        // Do something with your image here.\n        self?.dismiss(animated: true, completion: nil)\n    } \npresent(cameraViewController, animated: true, completion: nil)\n</code></pre>\n\n<p>But I don't know how to convert this to Objective C.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 1, "creation_date": 1514741245, "post_id": 48044465, "comment_id": 83059980, "body": "&quot; it does not work&quot; can you elaborate whats not working ??"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3105172, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1276990911/picture?type=large", "display_name": "meltonCG", "link": "https://stackoverflow.com/users/3105172/meltoncg"}, "edited": false, "score": 1, "creation_date": 1514742762, "post_id": 48044491, "comment_id": 83060292, "body": "This worked a treat! thanks for that. Obviously in hindsight that wouldnt work as the cell hasnt rendered yet so the label does not have a height."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514742190, "last_edit_date": 1514742190, "creation_date": 1514741119, "answer_id": 48044491, "question_id": 48044465, "link": "https://stackoverflow.com/questions/48044465/update-label-properties-of-table-view-cell-dependant-upon-data/48044491#48044491", "title": "Update label properties of table view cell dependant upon data", "body": "<p>Try to use fixed number as <strong>cell.type.bounds.size.height</strong> won't render to a correct value in cellForRowAt</p>\n\n<pre><code> cell.type.layer.cornerRadius = 10 ;\n\n cell.type.clipsToBounds = YES;\n</code></pre>\n\n<p>OR add this to cell class</p>\n\n<pre><code> -(void)layoutSubviews\n {\n     self.type.layer.cornerRadius = self.type.bounds.size.height / 8;\n }\n</code></pre>\n\n<p>Regarding color it will work perfectly in <strong>cellForRowAt</strong> like that</p>\n\n<pre><code> if(yourLogic)\n {\n    cell.type.backgroundColor = [UIColor redColor];\n\n }\n else\n {\n    cell.type.backgroundColor = [UIColor greenColor];\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 467, "user_id": 2498116, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Yc1Aj.jpg?s=128&g=1", "display_name": "Dog", "link": "https://stackoverflow.com/users/2498116/dog"}, "is_accepted": true, "score": 3, "last_activity_date": 1514758907, "last_edit_date": 1514758907, "creation_date": 1514742724, "answer_id": 48044650, "question_id": 48044465, "link": "https://stackoverflow.com/questions/48044465/update-label-properties-of-table-view-cell-dependant-upon-data/48044650#48044650", "title": "Update label properties of table view cell dependant upon data", "body": "<p>The cell has no frame in <code>cellForRowAtIndexPath</code>, therefore the corner radius is not set. \nIn this case, you should set the corner radius in <code>willDisplayCell</code>.</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {\n    if (yourCellShouldHaveRoundedCorners) {\n        cell.layer.cornerRadius = cell.bounds.size.height / 8;\n    }\n}\n</code></pre>\n\n<p>The background color of the label should work in <code>cellForRowAtIndexPath</code>.</p>\n\n<p>Also, I see that you set a lot of properties on the cell in <code>cellForRowAtIndexPath</code> (i.e. type, attack, defense and so on). Since you already have a custom cell, it would be better to create an <code>NSManagedObject</code> property on the cell, and set all these properties on the setter of this object. </p>\n\n<p>This way, you will only have to call <code>cell.managedObject = card</code> and the setter will furher set the other properties.</p>\n\n<p>This approach is more model-oriented and it can save you some code duplication.</p>\n"}], "owner": {"reputation": 119, "user_id": 3105172, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1276990911/picture?type=large", "display_name": "meltonCG", "link": "https://stackoverflow.com/users/3105172/meltoncg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48044650, "answer_count": 2, "score": 0, "last_activity_date": 1514758907, "creation_date": 1514740825, "question_id": 48044465, "link": "https://stackoverflow.com/questions/48044465/update-label-properties-of-table-view-cell-dependant-upon-data", "title": "Update label properties of table view cell dependant upon data", "body": "<p>So I have a custom table view cell which I have designed in its own xib, containing a few labels and images.</p>\n\n<p>I'm trying to update the background colour of one of these labels depending upon the text given to the label &amp; give it rounded edges.</p>\n\n<p>I'm trying this for the edges with the following code, however it does not work and i'm not sure where this code needs to be for it to update each cell as it scrolls.</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *CellIdentifier = @\"CardCell\";\n    CardTableViewCell *cell = (CardTableViewCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n\n    if (cell == nil)\n    {\n        //cell = [[CardTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@\"CardCell\"];\n        cell = [[[NSBundle mainBundle]loadNibNamed:@\"CardCell\" owner:self options:nil]objectAtIndex:0];\n\n    }\n\n    // Configure the cell...\n    NSManagedObject *card = [self.cards objectAtIndex:indexPath.row];\n    [cell.cardName setText:[card valueForKey:@\"name\"]];\n    [cell.type setText:[card valueForKey:@\"attribute\"]];\n    [cell.attack setText:[card valueForKey:@\"attack\"]];\n    [cell.defense setText:[card valueForKey:@\"defense\"]];\n    [cell.species setText:[card valueForKey:@\"species\"]];\n    [cell.starLevel setText:[card valueForKey:@\"stars\"]];\n    cell.type.layer.cornerRadius = cell.type.bounds.size.height / 8;\n\n\n    UIImage *cardImage = [UIImage imageWithData:[card valueForKey:@\"thumb\"]];\n    [cell.cardImage setImage:cardImage];\n\n    return (UITableViewCell *)cell;\n}\n</code></pre>\n\n<p>The text and card image display correctly.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "bridging-header"], "comments": [{"owner": {"reputation": 867, "user_id": 413877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1f067bc12fc3cba6c5d10f66e21233e4?s=128&d=identicon&r=PG", "display_name": "Mahbub Morshed", "link": "https://stackoverflow.com/users/413877/mahbub-morshed"}, "edited": false, "score": 0, "creation_date": 1514727545, "post_id": 48042893, "comment_id": 83056528, "body": "Do you have this line inside your podfile? <code>use_frameworks</code>"}, {"owner": {"reputation": 11, "user_id": 8920760, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4547cdbc467bed5dd0be7e06e0df8c71?s=128&d=identicon&r=PG&f=1", "display_name": "emololftw", "link": "https://stackoverflow.com/users/8920760/emololftw"}, "reply_to_user": {"reputation": 867, "user_id": 413877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1f067bc12fc3cba6c5d10f66e21233e4?s=128&d=identicon&r=PG", "display_name": "Mahbub Morshed", "link": "https://stackoverflow.com/users/413877/mahbub-morshed"}, "edited": false, "score": 0, "creation_date": 1514727757, "post_id": 48042893, "comment_id": 83056593, "body": "Yes i have.   use_frameworks!"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514727803, "post_id": 48042893, "comment_id": 83056606, "body": "@emololftw : In order to access swift files in objective-C file you need to import project-swift.h file in your objective -C .m file using #import &quot;your_project-Swift.h&quot; and not the bridging header"}, {"owner": {"reputation": 11, "user_id": 8920760, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4547cdbc467bed5dd0be7e06e0df8c71?s=128&d=identicon&r=PG&f=1", "display_name": "emololftw", "link": "https://stackoverflow.com/users/8920760/emololftw"}, "edited": false, "score": 0, "creation_date": 1514728004, "post_id": 48042893, "comment_id": 83056661, "body": "What must be inside bridging header please? And i have myprojectname-Swift.h as bridging. So its not correct way?"}, {"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1514729012, "post_id": 48042893, "comment_id": 83056886, "body": "@emololftw : there are loads of issue with your code buddy. Bridging header will have only import statements to objective-C file&#39;s .h and nothing else. Where as project-Swift.h is auto generated and you need not add anything to it your only job is to make sure that the files gets created and also making sure that it has reference of swift file that you would like to access in your objective-C file. Finally you need not declare interface Constant : NSObject in objective-C file again simply delete it"}, {"owner": {"reputation": 11, "user_id": 8920760, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4547cdbc467bed5dd0be7e06e0df8c71?s=128&d=identicon&r=PG&f=1", "display_name": "emololftw", "link": "https://stackoverflow.com/users/8920760/emololftw"}, "edited": false, "score": 0, "creation_date": 1514730436, "post_id": 48042893, "comment_id": 83057281, "body": "Problem not solved :( I really dont know what i can do now"}], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": false, "score": 1, "last_activity_date": 1514778861, "creation_date": 1514778861, "answer_id": 48047035, "question_id": 48042893, "link": "https://stackoverflow.com/questions/48042893/cannot-call-swift-method-in-objective-c-m-file/48047035#48047035", "title": "Cannot call Swift method in Objective-C .m file", "body": "<h3>Duplicate classes</h3>\n\n<p>The main issue appears to be that you have created two classes named <code>Constant</code>: one in Swift and another in Objective-C. You can only have one class with a given name.</p>\n\n<p>This <code>@objc class Constant: NSObject</code> and <code>@interface Constant : NSObject</code> both create the same class. Rename one of these.</p>\n\n<h3>Possibly incorrect bridging</h3>\n\n<p>The Swift bridging header is special. You can't just create a header file and expect that to work in Swift.</p>\n\n<p>Ensure that the bridging header is properly set in Xcode.</p>\n\n<ol>\n<li>Click the project at the top to open the config screen</li>\n<li>Search for <code>SWIFT_OBJC_BRIDGING_HEADER</code></li>\n<li>Make sure the value points to your bridging header. For example: <code>myprojectname/myprojectname-Bridging-Header.h</code></li>\n<li>In the bridging header file, put the Objective-C import for the class that you want Swift to be able to use: <code>#import \"EColumnChartViewController.h\"</code></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ruYCg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ruYCg.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Other Issues</h3>\n\n<p>In <code>HEADER.h</code>:</p>\n\n<ol>\n<li>remove <code>@class Constant;</code>. This is doing nothing for you.</li>\n<li>Move the <code>#import</code> for EColumnChart.h and myprojectname-Swift.h into the .m file <em>only</em>.</li>\n<li>The <code>FILE.m</code> should have an <code>#import HEADER.h</code>. Every .m must import it's .h!</li>\n</ol>\n\n<p>On the line <code>@objc class Constant: NSObject</code>, remove the <code>@objc</code>... it's obviously Objective-C because it extends <code>NSObject</code>.</p>\n\n<p>As some commenters have stated, you have provided code with an astonishing number of problems. You should really take the time to learn Objective-C and/or Swift first. Start by watching some of the free WWDC videos or Googling for intro to iOS.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 8772683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fdd544eae1e65665723aaec4de12d6?s=128&d=identicon&r=PG&f=1", "display_name": "quynv186", "link": "https://stackoverflow.com/users/8772683/quynv186"}, "is_accepted": false, "score": -2, "last_activity_date": 1553226774, "last_edit_date": 1553226774, "creation_date": 1552985516, "answer_id": 55236836, "question_id": 48042893, "link": "https://stackoverflow.com/questions/48042893/cannot-call-swift-method-in-objective-c-m-file/55236836#55236836", "title": "Cannot call Swift method in Objective-C .m file", "body": "<p>Make step by step above</p>\n\n<ul>\n<li>You use <code>@objcMembers</code> above declare class in swift file.</li>\n<li><p>Import <code>&lt;\"Your_Project\"&gt;-Swift.h</code> in <code>.m</code> file.</p>\n\n<pre><code>objcMembers \nclass ObjectA: NSObject {\n   .....\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 8920760, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4547cdbc467bed5dd0be7e06e0df8c71?s=128&d=identicon&r=PG&f=1", "display_name": "emololftw", "link": "https://stackoverflow.com/users/8920760/emololftw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1165, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553226774, "creation_date": 1514727211, "last_edit_date": 1514729388, "question_id": 48042893, "link": "https://stackoverflow.com/questions/48042893/cannot-call-swift-method-in-objective-c-m-file", "title": "Cannot call Swift method in Objective-C .m file", "body": "<p>I have big problem with one part of my code.\nI have simple function in my ViewController.swift file (on end):</p>\n\n<p><strong>ViewController.swift</strong></p>\n\n<pre><code>@objc class Constant: NSObject {\n override init() {}\n\n @objc class func parseApplicationId() -&gt; String { return \"lol\" }\n @objc func printSome() { print(\"teeeeest\") }\n}\n</code></pre>\n\n<p>Now I have one pod (charts graphic) what was written in Objective-C. So I created Bridging file called: </p>\n\n<p><strong>myprojectname-Swift.h</strong></p>\n\n<pre><code>#import \"EColumnChartViewController.h\"\n</code></pre>\n\n<p>In header file of Objective-C file:</p>\n\n<p><strong>HEADER.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"EColumnChart.h\"\n#import \"myprojectname-Swift.h\"\n\n@class Constant;\n\n@interface Constant : NSObject\n\n-(void)printSome;\n\n@end\n</code></pre>\n\n<p>and in my FILE.m I have this:</p>\n\n<pre><code>#import \"myprojectname-Swift.h\"\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n\n    Constant * sis = [[Constant alloc] init];\n    [sis printSome];\n}\n</code></pre>\n\n<p>My problem is:</p>\n\n<p>When I build a project, Xcode call me error:</p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"_OBJC_CLASS_$_Constant\", referenced from:\n      objc-class-ref in EColumnChartViewController.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>What I trying to make solution:</p>\n\n<ul>\n<li>New Bridging file </li>\n<li>Switching off some parts of Build Settings</li>\n<li>@implementation Constant -> Thread 1 error</li>\n</ul>\n\n<p><strong>I just want to call Swift function into Objective-C file (easy call print console). Thanks for every idea.</strong></p>\n\n<p>Last words: I've checked so many posts on Stackoverflow.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uiimage", "plist"], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1514738924, "post_id": 48043026, "comment_id": 83059393, "body": "Adding <code>NSPhotoLibraryAddUsageDescription</code> isn&#39;t &quot;the most sensible approach&quot;, it&#39;s the only approach. You must add that key if you wish to use <code>UIImageWriteToSavedPhotosAlbum</code>."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1514739582, "post_id": 48043026, "comment_id": 83059560, "body": "I should have made it clearer when I said the most sensible approach I meant that&#39;s the one that you should go for.  I know for some access (like accessing the image library) you can ask for it in the code instead of updating the info.plist but I&#39;m not sure this is true for adding to the image library."}, {"owner": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1514779582, "post_id": 48043026, "comment_id": 83065699, "body": "@rmaddy, and UpholderOfTruth, a clarification. I hope to use the rendered images (or view snapshots) as assets in the app. That\u2019s why I questioned why there is a privacy issue."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "edited": false, "score": 0, "creation_date": 1514780213, "post_id": 48043026, "comment_id": 83065755, "body": "@Greg iOS has always required apps to get permission to read from a user&#39;s photo library. Now, as of iOS 11, you also need (different) permission to add to the user&#39;s photo library."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "reply_to_user": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "edited": false, "score": 0, "creation_date": 1514800248, "post_id": 48043026, "comment_id": 83068797, "body": "@Greg if it&#39;s just a case of saving the image somewhere other than the photo library I will update my answer to show how to save the image in the documents folder for the app."}, {"owner": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "edited": false, "score": 0, "creation_date": 1514803035, "post_id": 48043026, "comment_id": 83069397, "body": "Thanks, this gets to the point I tried to make. I had come to realise that the user&#39;s photo library is not where such images belong. This is the accepted answer."}], "tags": [], "owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "is_accepted": true, "score": 2, "last_activity_date": 1514800344, "last_edit_date": 1514800344, "creation_date": 1514728430, "answer_id": 48043026, "question_id": 48042371, "link": "https://stackoverflow.com/questions/48042371/ios10-uiimagewritetosavedphotosalbum-tcc-crashing-due-to-privacy-violation/48043026#48043026", "title": "iOS10 UIImageWriteToSavedPhotosAlbum TCC__CRASHING_DUE_TO_PRIVACY_VIOLATION", "body": "<p>You can save any UIImage to the photo album but first you must ask the user for permission to do as this as it is indeed a privacy issue.  If they don't give you access then you can't save the image at all.</p>\n\n<p>The most sensible approach is to add the required privacy key to the info.plist.</p>\n\n<p>This is the info.plist xml definition although it's easier to add the keys in the property list:</p>\n\n<pre><code>&lt;key&gt;NSPhotoLibraryAddUsageDescription&lt;/key&gt;\n&lt;string&gt;Message requesting the ability to add to the photo library&lt;/string&gt;\n&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;\n&lt;string&gt;Message requestion the ability to access the photo library&lt;/string&gt;\n</code></pre>\n\n<p>If you add these then when you first try to access or add to the photo library a popup will display with your message allowing the user to decide if they want your app to have access.</p>\n\n<p>One good reason to put it in the info.plist file is that all the requests for access are then in a single easily visible place instead of somewhere random in your project.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is how to save the image in documents which does not raise and privacy issues:</p>\n\n<pre><code>NSData *imageData = UIImagePNGRepresentation(image);\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsPath = [paths objectAtIndex:0]; //Get the docs directory\nNSString *filePath = [documentsPath stringByAppendingPathComponent:@\"image.png\"]; //Add the file name\n[imageData writeToFile:filePath atomically:YES]; //Write the file\n</code></pre>\n\n<p>If you want a jpg instead of a png use this instead:</p>\n\n<pre><code>NSData *imageData = UIImageJPEGRepresentation(image, 0.9); // Use whatever compression ratio you want instead of 0.9\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "edited": false, "score": 0, "creation_date": 1514783974, "post_id": 48047197, "comment_id": 83066222, "body": "kalpesh, thanks. Can the image assets be added to a folder other than a shared photo library ? (see my clarification in response to comments above)"}, {"owner": {"reputation": 797, "user_id": 5715863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZo09.png?s=128&g=1", "display_name": "kalpesh satasiya", "link": "https://stackoverflow.com/users/5715863/kalpesh-satasiya"}, "reply_to_user": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "edited": false, "score": 0, "creation_date": 1514785229, "post_id": 48047197, "comment_id": 83066423, "body": "Yes, you shared photo library."}], "tags": [], "owner": {"reputation": 797, "user_id": 5715863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pZo09.png?s=128&g=1", "display_name": "kalpesh satasiya", "link": "https://stackoverflow.com/users/5715863/kalpesh-satasiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1514786622, "last_edit_date": 1514786622, "creation_date": 1514781845, "answer_id": 48047197, "question_id": 48042371, "link": "https://stackoverflow.com/questions/48042371/ios10-uiimagewritetosavedphotosalbum-tcc-crashing-due-to-privacy-violation/48047197#48047197", "title": "iOS10 UIImageWriteToSavedPhotosAlbum TCC__CRASHING_DUE_TO_PRIVACY_VIOLATION", "body": "<p><strong>Follow this code:</strong></p>\n\n<pre><code>#import &lt;Photos/Photos.h&gt;\n</code></pre>\n\n<h1>pragma mark - Save Image in photo album</h1>\n\n<pre><code>- (void)addImageToCameraRoll:(UIImage *)image {\nNSString *albumName = @\"Your app name\";\n\nvoid (^saveBlock)(PHAssetCollection *assetCollection) = ^void(PHAssetCollection *assetCollection) {\n    [[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{\n        PHAssetChangeRequest *assetChangeRequest = [PHAssetChangeRequest creationRequestForAssetFromImage:image];\n        PHAssetCollectionChangeRequest *assetCollectionChangeRequest = [PHAssetCollectionChangeRequest changeRequestForAssetCollection:assetCollection];\n        [assetCollectionChangeRequest addAssets:@[[assetChangeRequest placeholderForCreatedAsset]]];\n\n    } completionHandler:^(BOOL success, NSError *error) {\n        if (!success) {\n            NSLog(@\"Error creating asset: %@\", error);\n        }\n    }];\n};\n\nPHFetchOptions *fetchOptions = [[PHFetchOptions alloc] init];\nfetchOptions.predicate = [NSPredicate predicateWithFormat:@\"localizedTitle = %@\", albumName];\nPHFetchResult *fetchResult = [PHAssetCollection fetchAssetCollectionsWithType:PHAssetCollectionTypeAlbum subtype:PHAssetCollectionSubtypeAny options:fetchOptions];\nif (fetchResult.count &gt; 0) {\n    saveBlock(fetchResult.firstObject);\n} else {\n    __block PHObjectPlaceholder *albumPlaceholder;\n    [[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{\n        PHAssetCollectionChangeRequest *changeRequest = [PHAssetCollectionChangeRequest creationRequestForAssetCollectionWithTitle:albumName];\n        albumPlaceholder = changeRequest.placeholderForCreatedAssetCollection;\n\n    } completionHandler:^(BOOL success, NSError *error) {\n        if (success) {\n            PHFetchResult *fetchResult = [PHAssetCollection fetchAssetCollectionsWithLocalIdentifiers:@[albumPlaceholder.localIdentifier] options:nil];\n            if (fetchResult.count &gt; 0) {\n                saveBlock(fetchResult.firstObject);\n            }\n        } else {\n            NSLog(@\"Error creating album: %@\", error);\n        }\n    }];\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 1508, "user_id": 2348597, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6UyMA.png?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/2348597/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "accepted_answer_id": 48043026, "answer_count": 2, "score": 0, "last_activity_date": 1514809516, "creation_date": 1514722813, "last_edit_date": 1514809516, "question_id": 48042371, "link": "https://stackoverflow.com/questions/48042371/ios10-uiimagewritetosavedphotosalbum-tcc-crashing-due-to-privacy-violation", "title": "iOS10 UIImageWriteToSavedPhotosAlbum TCC__CRASHING_DUE_TO_PRIVACY_VIOLATION", "body": "<p>I want to create and save a <code>UIImage</code> in iOS 10. I can create it either by taking a <code>UIView</code> snapshot or using <code>UIGraphicsImageRenderer</code> (<em>shown below</em>). </p>\n\n<pre><code>- (UIView *)createIcon\n{\n    UIGraphicsImageRenderer *renderer = [[UIGraphicsImageRenderer alloc] initWithSize:CGSizeMake(200, 200)];\n\n    UIImage *image = [renderer imageWithActions:^(UIGraphicsImageRendererContext * _Nonnull context) {\n        [[UIColor darkGrayColor] setStroke];\n        [context strokeRect:renderer.format.bounds];\n        [[UIColor colorWithRed:158/255.0 green:215/255.0 blue:245/255.0 alpha:0.5] setFill];\n        [context fillRect:CGRectMake(30, 30, 140, 140)];\n        [[UIColor colorWithRed:243/255.0 green:122/255.0 blue:216/255.0 alpha:0.3] setFill];\n        CGContextFillEllipseInRect(context.CGContext, CGRectMake(30, 30, 120, 120));\n    }];\n\n    UIImageView *showImage = [[UIImageView alloc] initWithImage:image];\n\n    UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil);\n\n    return showImage;\n}\n</code></pre>\n\n<p>However, when I try to save using <code>UIImageWriteToSavedPhotosAlbum</code> by including the second last statement, Xcode goes into Debug with the following error report </p>\n\n<pre><code>(lldb) bt\n* thread #5, queue = 'com.apple.root.default-qos', stop reason = signal SIGABRT\n  * frame #0: 0x00000001101611a6 libsystem_kernel.dylib`__abort_with_payload + 10\n    frame #1: 0x000000011015b86e libsystem_kernel.dylib`abort_with_payload_wrapper_internal + 89\n    frame #2: 0x000000011015b89b libsystem_kernel.dylib`abort_with_payload + 9\n    frame #3: 0x0000000108ab3af7 TCC`__CRASHING_DUE_TO_PRIVACY_VIOLATION__ + 182\n    frame #4: 0x0000000108ab3a41 TCC`__TCCAccessRequest_block_invoke.77 + 665\n    frame #5: 0x0000000108ab7273 TCC`__tccd_send_block_invoke + 274\n</code></pre>\n\n<p>So even though I didn\u2019t use a camera to create the image, saving it to the photo album is a violation of privacy (<em>hiss, boo</em>)! I know it is possible to set up <a href=\"https://stackoverflow.com/a/38498347/2348597\">privacy keys in the plist</a> but is there a more sensible alternative?</p>\n\n<p><strong>CLARIFICATION</strong></p>\n\n<p>I hope to use rendered images (or view snapshots) as assets in the app. So instead of <em>is there a more sensible alternative ?</em> </p>\n\n<p>perhaps I should have asked </p>\n\n<p>is there an alternative place to save images (i.e. as PNG or JPG files) so privacy is not an issue?</p>\n"}, {"tags": ["objective-c", "nsmutablearray", "nsarray"], "comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1514727347, "post_id": 48041888, "comment_id": 83056471, "body": "Did you use the debugger to isolate the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 8622854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31584b0ceaacdf3e705f914963f03b7d?s=128&d=identicon&r=PG&f=1", "display_name": "squ1dd13", "link": "https://stackoverflow.com/users/8622854/squ1dd13"}, "edited": false, "score": 0, "creation_date": 1514720361, "post_id": 48042015, "comment_id": 83054871, "body": "This still isn&#39;t working, and I dont understand why i need to add a, b,c and d to the NSArray if i didnt make it"}, {"owner": {"reputation": 1057, "user_id": 1654730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dadee724f5d650c8c74b99f2fd1f3b1f?s=128&d=identicon&r=PG", "display_name": "florieger", "link": "https://stackoverflow.com/users/1654730/florieger"}, "reply_to_user": {"reputation": 84, "user_id": 8622854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31584b0ceaacdf3e705f914963f03b7d?s=128&d=identicon&r=PG&f=1", "display_name": "squ1dd13", "link": "https://stackoverflow.com/users/8622854/squ1dd13"}, "edited": false, "score": 0, "creation_date": 1514721869, "post_id": 48042015, "comment_id": 83055201, "body": "@Squ1dd13Dev this is just an example, since I don&#39;t know what <code>%orig</code> is. It illustrates how to remove the object at index 2 from the array. I thought your initial question was how to remove an object form an NSArray."}, {"owner": {"reputation": 84, "user_id": 8622854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31584b0ceaacdf3e705f914963f03b7d?s=128&d=identicon&r=PG&f=1", "display_name": "squ1dd13", "link": "https://stackoverflow.com/users/8622854/squ1dd13"}, "edited": false, "score": 0, "creation_date": 1514722908, "post_id": 48042015, "comment_id": 83055413, "body": "Your answer still isn&#39;t working for some reason though."}, {"owner": {"reputation": 1057, "user_id": 1654730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dadee724f5d650c8c74b99f2fd1f3b1f?s=128&d=identicon&r=PG", "display_name": "florieger", "link": "https://stackoverflow.com/users/1654730/florieger"}, "reply_to_user": {"reputation": 84, "user_id": 8622854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31584b0ceaacdf3e705f914963f03b7d?s=128&d=identicon&r=PG&f=1", "display_name": "squ1dd13", "link": "https://stackoverflow.com/users/8622854/squ1dd13"}, "edited": false, "score": 0, "creation_date": 1514723313, "post_id": 48042015, "comment_id": 83055505, "body": "@Squ1dd13Dev If you copy my code above, how many values are in <code>mutableItems</code>? 3 or 4?"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "reply_to_user": {"reputation": 84, "user_id": 8622854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31584b0ceaacdf3e705f914963f03b7d?s=128&d=identicon&r=PG&f=1", "display_name": "squ1dd13", "link": "https://stackoverflow.com/users/8622854/squ1dd13"}, "edited": false, "score": 1, "creation_date": 1514756434, "post_id": 48042015, "comment_id": 83062857, "body": "@Squ1dd13Dev Edit the question to post the complete code you have now.  I.e. how you create the %orig, etc."}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "edited": false, "score": 1, "creation_date": 1514779294, "post_id": 48042015, "comment_id": 83065664, "body": "Dude if <code>%orig</code> has &quot;0-19 items in it&quot;, then you cannot just remove item at index 2. When %orig only has 0, 1 or 2 items, that will cause a crash. Also, the code shown here is correct... if you&#39;re having a problem, you should share more of your code."}], "tags": [], "owner": {"reputation": 1057, "user_id": 1654730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dadee724f5d650c8c74b99f2fd1f3b1f?s=128&d=identicon&r=PG", "display_name": "florieger", "link": "https://stackoverflow.com/users/1654730/florieger"}, "is_accepted": false, "score": 2, "last_activity_date": 1514719297, "creation_date": 1514719297, "answer_id": 48042015, "question_id": 48041888, "link": "https://stackoverflow.com/questions/48041888/removing-items-from-nsmutablearray-when-hooking-swift-not-working/48042015#48042015", "title": "Removing items from NSMutableArray when hooking Swift not working", "body": "<p>Replace <code>[mutableItems objectAtIndex:2]</code> with <code>[mutableItems removeObjectAtIndex:2]</code>.</p>\n\n<p>Full example:</p>\n\n<pre><code>-(NSArray*)buttons {\n    NSArray* buttons = @[@\"a\", @\"b\", @\"c\", @\"d\"];\n    NSMutableArray *mutableItems = [NSMutableArray arrayWithArray:buttons];\n    [mutableItems removeObjectAtIndex:2];\n    return mutableItems;\n}\n</code></pre>\n\n<p>The <code>mutableItems</code> array will contain a,b,d.</p>\n"}], "owner": {"reputation": 84, "user_id": 8622854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31584b0ceaacdf3e705f914963f03b7d?s=128&d=identicon&r=PG&f=1", "display_name": "squ1dd13", "link": "https://stackoverflow.com/users/8622854/squ1dd13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1514758126, "creation_date": 1514717868, "last_edit_date": 1514758126, "question_id": 48041888, "link": "https://stackoverflow.com/questions/48041888/removing-items-from-nsmutablearray-when-hooking-swift-not-working", "title": "Removing items from NSMutableArray when hooking Swift not working", "body": "<p>Here is my code:</p>\n\n<pre><code>-(NSArray*)buttons {\n    NSArray *buttons = %orig;\n    NSMutableArray *mutableItems = [NSMutableArray arrayWithArray:buttons];\n    [mutableItems objectAtIndex:2];\n    return mutableItems;\n}\n</code></pre>\n\n<p>I am trying to remove an object from an NSArray, but that NSArray is in a Swift class. I am having no trouble getting anything else in that Swift class to change, but I can't remove any objects from the NSArray. I don't get any errors, but the changes I make simply don't have any effect. This is for a jailbreak tweak.</p>\n"}, {"tags": ["objective-c", "cocoa", "nsapplication"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1514760724, "post_id": 48041279, "comment_id": 83063536, "body": "There isn&#39;t enough context to answer the question.   Off the cuff, if you&#39;re writing a command line tool, it should be structured as a command line tool and not use NSApplication at all."}, {"owner": {"reputation": 656, "user_id": 675011, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f43de6e91f46f77e195ef050273ebefa?s=128&d=identicon&r=PG", "display_name": "Remko", "link": "https://stackoverflow.com/users/675011/remko"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1514909029, "post_id": 48041279, "comment_id": 83101173, "body": "@bbum I didn&#39;t add any context because it didn&#39;t seem relevant to the problem, and would only complicate the question. Anyway, added the context of the request."}], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 2, "last_activity_date": 1514911591, "creation_date": 1514911591, "answer_id": 48064752, "question_id": 48041279, "link": "https://stackoverflow.com/questions/48041279/stopping-the-nsapplication-main-event-loop/48064752#48064752", "title": "Stopping the NSApplication main event loop", "body": "<p>The <a href=\"https://developer.apple.com/documentation/appkit/nsapplication/1428473-stop?language=objc\" rel=\"nofollow noreferrer\">documentation for <code>-stop:</code></a> says:</p>\n\n<blockquote>\n  <p>[C]alling this method from a timer or run-loop observer routine would not stop the run loop because they do not result in the posting of an NSEvent object.</p>\n</blockquote>\n\n<p>A block dispatched to the main queue is similar in that it doesn't post an event. You can try posting an <code>NSEventTypeApplicationDefined</code> event after calling <code>-stop:</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 656, "user_id": 675011, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f43de6e91f46f77e195ef050273ebefa?s=128&d=identicon&r=PG", "display_name": "Remko", "link": "https://stackoverflow.com/users/675011/remko"}, "is_accepted": false, "score": 0, "last_activity_date": 1514911623, "creation_date": 1514911623, "answer_id": 48064763, "question_id": 48041279, "link": "https://stackoverflow.com/questions/48041279/stopping-the-nsapplication-main-event-loop/48064763#48064763", "title": "Stopping the NSApplication main event loop", "body": "<p>After investigating this further, it seems that the UI loop <code>stop</code> request is only processed after a <em>UI</em> event (so not just after a main loop event). So, it works in response to a UI event, but not in a thread like I did in my example.</p>\n\n<p>Triggering a UI event after a <code>stop</code> request (e.g. a programmatic resize works for me) causes the loop to end.</p>\n"}], "owner": {"reputation": 656, "user_id": 675011, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f43de6e91f46f77e195ef050273ebefa?s=128&d=identicon&r=PG", "display_name": "Remko", "link": "https://stackoverflow.com/users/675011/remko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 1, "accepted_answer_id": 48064752, "answer_count": 2, "score": 2, "last_activity_date": 1514911623, "creation_date": 1514711286, "last_edit_date": 1514908921, "question_id": 48041279, "link": "https://stackoverflow.com/questions/48041279/stopping-the-nsapplication-main-event-loop", "title": "Stopping the NSApplication main event loop", "body": "<p>I have an application consisting of the following single <code>.m</code> file:</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\nint main(int argc, char* argv[]) {\n  [[[NSThread alloc] initWithBlock: ^{\n    sleep(2);\n    dispatch_async(dispatch_get_main_queue(), ^{ \n      NSLog(@\"Stop\");\n      [[NSApplication sharedApplication] stop:nil];\n    });\n  }] start];\n  [[NSApplication sharedApplication] run];\n  NSLog(@\"Run finished\");\n  return 0;\n}\n</code></pre>\n\n<p>According to <a href=\"https://developer.apple.com/documentation/appkit/nsapplication/1428473-stop\" rel=\"nofollow noreferrer\">the developer documentation</a>, <code>stop</code> should stop the main loop (<code>run</code>), but it doesn't (at least not on OS X 10.12 and 10.13). There's also <a href=\"https://developer.apple.com/documentation/appkit/nsapplication/1428417-terminate\" rel=\"nofollow noreferrer\"><code>terminate</code></a>, but this exits the program too soon. I also tried setting an <code>NSApplicationDelegate</code> that implements <code>applicationShouldTerminate</code>, but this is never called.</p>\n\n<p>How can I make sure the main run loop is (cleanly) exited?</p>\n\n<p><em>Note:</em> The shared application main loop is necessary because there is UI work being done elsewhere. More concretely, this is giving problems in the <a href=\"https://github.com/skelterjohn/go.wde\" rel=\"nofollow noreferrer\">Go WDE</a> UI library, which uses Cocoa to provide a window to a Go application.</p>\n"}, {"tags": ["objective-c", "cocoa", "nsdocument"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514728282, "post_id": 48039817, "comment_id": 83056730, "body": "I think that&#39;s because you are using a window sheet."}, {"owner": {"reputation": 537, "user_id": 2069643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pJQ1d.jpg?s=128&g=1", "display_name": "Kenneth P. Hough", "link": "https://stackoverflow.com/users/2069643/kenneth-p-hough"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514745843, "post_id": 48039817, "comment_id": 83060927, "body": "@ElTomato I think you&#39;re right.  I found <code>[NSApp runModalSessionForWindow:(NSWindow *)window]</code> which looks promising. But I need to figure out how to get the save to happen while the modal occurs.  Will do more research in a bit.  <a href=\"https://developer.apple.com/documentation/appkit/nsapplication/1428590-runmodalsession?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/appkit/nsapplication/&hellip;</a>"}, {"owner": {"reputation": 537, "user_id": 2069643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pJQ1d.jpg?s=128&g=1", "display_name": "Kenneth P. Hough", "link": "https://stackoverflow.com/users/2069643/kenneth-p-hough"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514746919, "post_id": 48039817, "comment_id": 83061135, "body": "Update: So I tried <code>runModalSessionForWindow</code> and followed Apple&#39;s documentations but now have two problems: (1) the same issue where the progress bar is greyed out, and (2) I can&#39;t seem to get the modal to disappear after saving...it lingers despite calling <code>[NSApp stopModal]</code> and breaking from loop <code>if ([NSApp runModalSession:session] != NSModalResponseContinue])</code>.  I feel like I&#39;m missing something straight forward."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1514901389, "post_id": 48039817, "comment_id": 83097049, "body": "Try <code>beginSheet</code>, <code>beginModalSessionForWindow</code>, <code>runModalSession</code>, save, <code>endModalSession</code>, <code>endSheet</code>."}, {"owner": {"reputation": 537, "user_id": 2069643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pJQ1d.jpg?s=128&g=1", "display_name": "Kenneth P. Hough", "link": "https://stackoverflow.com/users/2069643/kenneth-p-hough"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1515048585, "post_id": 48039817, "comment_id": 83154466, "body": "@Willeke, thanks for the suggestion but I still get a greyed out progress bar.  I&#39;m starting to wonder if I&#39;m invoking the code to start a sheet in the wrong place...  I&#39;ve noticed if I run a sheet from the VC then I get a properly animated progress window. It&#39;s only when I call it from my Document class."}], "answers": [{"comments": [{"owner": {"reputation": 4439, "user_id": 567249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7456176461221f08ebc3a4b820547f56?s=128&d=identicon&r=PG", "display_name": "Fls&#39;Zen", "link": "https://stackoverflow.com/users/567249/flszen"}, "edited": false, "score": 0, "creation_date": 1580056857, "post_id": 48090229, "comment_id": 105964263, "body": "Thanks! I had turned off the title bar in IB so my sheet would appear like a sheet, but then I couldn&#39;t figure out why I wasn&#39;t able to interact with it. I could still click on the parent window behind the sheet (an NSDocument) but nothing on the sheet was working."}], "tags": [], "owner": {"reputation": 537, "user_id": 2069643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pJQ1d.jpg?s=128&g=1", "display_name": "Kenneth P. Hough", "link": "https://stackoverflow.com/users/2069643/kenneth-p-hough"}, "is_accepted": true, "score": 2, "last_activity_date": 1515049292, "creation_date": 1515049292, "answer_id": 48090229, "question_id": 48039817, "link": "https://stackoverflow.com/questions/48039817/displaying-a-progress-indicator-sheet-on-nsdocument-shows-up-greyed-out-though/48090229#48090229", "title": "Displaying a progress indicator sheet on NSDocument shows up greyed out (though still serves purpose)", "body": "<p>Solved!  Willeke is correct about invoking all the methods in the comment.  But that alone was not enough...I was still getting the greyed out progress bar.  I stumbled on the following post on SO <a href=\"https://stackoverflow.com/questions/7122696/document-sheet-not-responding-to-keyboard-events\">\"Document sheet not responding to keyboard events\"</a>.  Turns out, <em>you must have \"<strong>title bar\" enabled</strong> in IB!</em></p>\n\n<p>With the title bar enabled in IB, here is the updated code that works (hopefully no one else will need to run into this weirdness!):</p>\n\n<p><strong>Code to display sheet</strong></p>\n\n<pre><code>- (void) showProgressIndicatorSheet\n{\n    NSArray *windowControllers = self.windowControllers;\n    if ([windowControllers count] &gt; 0) {\n        NSWindowController *controller = windowControllers[0];\n        ((BWProgressIndicatorSheetViewController *)modalProgressWindowController.window.contentViewController).progressLabel.stringValue = @\"Saving workspace...\";\n        [controller.window beginSheet:modalProgressWindowController.window completionHandler:nil];\n        session = [NSApp beginModalSessionForWindow:modalProgressWindowController.window];\n    }\n}\n</code></pre>\n\n<p><strong>Code to dismiss sheet</strong></p>\n\n<pre><code>- (void) hideProgressIndicatorSheet\n{\n    [NSApp endModalSession:session];\n    if (modalProgressWindowController) {\n        NSArray *windowControllers = self.windowControllers;\n        if ([windowControllers count] &gt; 0) {\n            NSWindowController *controller = windowControllers[0];\n            [controller.window endSheet:modalProgressWindowController.window];\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Code that display the indicator then dismisses it while saving</strong></p>\n\n<pre><code>- (BOOL)writeToURL:(NSURL *)url ofType:(NSString *)typeName error:(NSError * _Nullable __autoreleasing *)outError {\n\n    [self showProgressIndicatorSheet];\n\n    BOOL response = NO;\n    BOOL beganSave = NO;\n\n    while ([NSApp runModalSession:session] == NSModalResponseContinue) {\n        if (!beganSave) {\n            beganSave = YES;\n            response = [self saveToDBForURL:url];\n        }\n    }\n\n    [self hideProgressIndicatorSheet];\n\n    return response;\n}\n</code></pre>\n\n<p><strong>And lastly...stopModal inside of saveToDBForURL:</strong></p>\n\n<pre><code>- (BOOL) saveToDBForURL: (NSURL *) url\n{\n    // do saving here\n\n    [NSApp stopModal];\n\n    return response;\n}\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 2069643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pJQ1d.jpg?s=128&g=1", "display_name": "Kenneth P. Hough", "link": "https://stackoverflow.com/users/2069643/kenneth-p-hough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 1, "accepted_answer_id": 48090229, "answer_count": 1, "score": 1, "last_activity_date": 1515049292, "creation_date": 1514692131, "last_edit_date": 1514748173, "question_id": 48039817, "link": "https://stackoverflow.com/questions/48039817/displaying-a-progress-indicator-sheet-on-nsdocument-shows-up-greyed-out-though", "title": "Displaying a progress indicator sheet on NSDocument shows up greyed out (though still serves purpose)", "body": "<h2><strong>First Try - beginSheet: completionHandler: Method</strong></h2>\n\n<p>I have a document-based application that does moderately intense saving (approximately 10-15 seconds, but definitely noticeable).  In order for the end-user to not think that the app is hung up, I've added a progress indicator that is displayed as a sheet over the document.  I'm able to display my progress indicator as a sheet while the document is being saved, and the sheet properly disappears when the save is over.  However, the indicator is greyed out.  I know this is more of an aesthetic problem but would appreciate pointers on how to remedy this.</p>\n\n<p>Below is a screenshot of the progress indicator.  Instead of the blue and animated bar, it is greyed out and still.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oIrua.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIrua.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've listed the relevant code below.</p>\n\n<p><strong>Code to display progress indicator:</strong></p>\n\n<pre><code>- (void) showProgressIndicatorSheet\n{\n    NSStoryboard *storyboard = [NSStoryboard storyboardWithName:@\"Main\" bundle:nil];\n    modalProgressWindowController = [storyboard instantiateControllerWithIdentifier:@\"modalProgressWindowController\"];\n\n    NSArray *windowControllers = self.windowControllers;\n    if ([windowControllers count] &gt; 0) {\n        NSWindowController *controller = windowControllers[0];\n        [controller.window beginSheet:modalProgressWindowController.window completionHandler:nil];\n    }\n}\n</code></pre>\n\n<p><strong>Code to hide sheet:</strong></p>\n\n<pre><code>- (void) hideProgressIndicatorSheet\n{\n    if (modalProgressWindowController) {\n        NSArray *windowControllers = self.windowControllers;\n        if ([windowControllers count] &gt; 0) {\n            NSWindowController *controller = windowControllers[0];\n            [controller.window endSheet:modalProgressWindowController.window];\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Code that display the indicator then hides it while saving:</strong></p>\n\n<pre><code>- (BOOL)writeToURL:(NSURL *)url ofType:(NSString *)typeName error:(NSError * _Nullable __autoreleasing *)outError {\n    [self showProgressIndicatorSheet];\n\n    /* code to save data to file */\n\n    [self hideProgressIndicatorSheet];\n}\n</code></pre>\n\n<hr>\n\n<h2><strong>Second Try - beginModalSessionForWindow: Method</strong></h2>\n\n<p>As was alluded to by a comment that maybe using a window sheet is the issue here. I did some searching around and found <code>beginModalSessionForWindow</code> and it's <a href=\"https://developer.apple.com/documentation/appkit/nsapplication/1428590-runmodalsession?language=objc\" rel=\"nofollow noreferrer\">documentation</a>.  Looked promising so I tried using it but have the same problem where the progress bar is greyed out.  I also have a new problem where I cannot stop the modal despite calling <code>[NSApp stopModal]</code>.</p>\n\n<p><strong>Code to display progress indicator:</strong></p>\n\n<pre><code>- (void) showProgressIndicatorSheet\n{\n    NSStoryboard *storyboard = [NSStoryboard storyboardWithName:@\"Main\" bundle:nil];\n    modalProgressWindowController = [storyboard instantiateControllerWithIdentifier:@\"modalProgressWindowController\"];\n\n    session = [NSApp beginModalSessionForWindow:modalProgressWindowController.window];\n}\n</code></pre>\n\n<p><strong>Code to dismiss modal:</strong></p>\n\n<pre><code>- (void) hideProgressIndicatorSheet\n{\n    [NSApp endModalSession:session];\n}\n</code></pre>\n\n<p><strong>Code that display the indicator then dismisses it while saving:</strong></p>\n\n<pre><code>- (BOOL)writeToURL:(NSURL *)url ofType:(NSString *)typeName error:(NSError * _Nullable __autoreleasing *)outError {\n    [self showProgressIndicatorSheet];\n\n    BOOL response = NO;\n    BOOL beganSave = NO;\n\n    while ([NSApp runModalSession:session] == NSModalResponseContinue) {\n        if (!beganSave) {\n            beganSave = YES;\n            response = [self saveToDBForURL:url];\n        }\n    }\n\n    [self hideProgressIndicatorSheet];\n\n    return response;\n}\n</code></pre>\n\n<p><strong>stopModal inside of saveToDBForURL:</strong></p>\n\n<pre><code>- (BOOL)saveTODBForURL: (NSURL *) url {\n\n    /* save method */\n\n    // stop modal after saving is done\n    [NSApp stopModal];\n\n    // return whether save was success or not...\n    return response;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "dictionary"], "comments": [{"owner": {"reputation": 1747, "user_id": 3726902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kV59z.png?s=128&g=1", "display_name": "Miket25", "link": "https://stackoverflow.com/users/3726902/miket25"}, "edited": false, "score": 0, "creation_date": 1514687912, "post_id": 48039444, "comment_id": 83049439, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift\">How to call Objective-C code from Swift</a>"}, {"owner": {"reputation": 2677, "user_id": 2895075, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8ded1d1c602b74590a765002eef9b911?s=128&d=identicon&r=PG", "display_name": "Michael Hulet", "link": "https://stackoverflow.com/users/2895075/michael-hulet"}, "edited": false, "score": 1, "creation_date": 1514693456, "post_id": 48039444, "comment_id": 83050253, "body": "I don&#39;t think this is a duplicate. OP&#39;s example is <i>Objective-C++</i>, not Objective-C"}], "answers": [{"tags": [], "owner": {"reputation": 1057, "user_id": 1654730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dadee724f5d650c8c74b99f2fd1f3b1f?s=128&d=identicon&r=PG", "display_name": "florieger", "link": "https://stackoverflow.com/users/1654730/florieger"}, "is_accepted": true, "score": 0, "last_activity_date": 1514724384, "creation_date": 1514724384, "answer_id": 48042552, "question_id": 48039444, "link": "https://stackoverflow.com/questions/48039444/how-to-pass-a-dictionary-to-objective-c-method-in-swift/48042552#48042552", "title": "How to pass a Dictionary to Objective-C method in Swift", "body": "<p>First of all, a Dictionary in Swift is struct, an NSDictionary is class.<br>\nObjective-C is not type-safe so it doesn't show an error.<br>\nIf you try to do the same in Swift, it will tell you<br>\n<code>Cannot assign value of type '[String : [Double]]' to type 'NSDictionary'</code></p>\n\n<pre><code>let swiftDictionary = [String: [Double]]()\nvar nsDictionary = NSDictionary()\nnsDictionary = swiftDictionary //shows error\n</code></pre>\n\n<p>So you have to convert the Swift dictionary to an NSDictionary.</p>\n\n<pre><code>let modelData: Dictionary&lt;String, [Double]&gt; = getModelData()\nlet nsModelData = NSDictionary(dictionary: modelData)\nresult = myChilitags.estimate3D(configAt: configFilePath, forModel: nsModelData);\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7772038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d80bdc252bc822becb3263e53b36b63?s=128&d=identicon&r=PG&f=1", "display_name": "Jerry Chang", "link": "https://stackoverflow.com/users/7772038/jerry-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2142, "favorite_count": 0, "accepted_answer_id": 48042552, "answer_count": 1, "score": 1, "last_activity_date": 1514724384, "creation_date": 1514686774, "last_edit_date": 1514688509, "question_id": 48039444, "link": "https://stackoverflow.com/questions/48039444/how-to-pass-a-dictionary-to-objective-c-method-in-swift", "title": "How to pass a Dictionary to Objective-C method in Swift", "body": "<p>I need to pass a Dictionary to a Objective-C method in Swift. In Swift the code is like this:</p>\n\n<pre><code>let modelData: Dictionary&lt;String, [Double]&gt; = getModelData()\nresult = myChilitags.estimate3D(configAt: configFilePath, forModel: modelData);\n</code></pre>\n\n<p>(The configure file has nothing to do with this problem, just ignore it.)</p>\n\n<p>I used a <code>.h</code> file:</p>\n\n<pre><code>@interface myChilitags : NSObject\n+ (nonnull UIImage *)estimate3D:configAt:(NSString *)configFilePath forModel:(nonnull NSDictionary*) modelData;\n@end\n</code></pre>\n\n<p>The question is that I need to do something with the <code>modelData</code> in the Objective-C method <code>estimate3D</code> but I don't know what to do after I passed the Dictionary value <code>modelData</code> to the method.</p>\n\n<p>I tried to just print the modelData value but all that came out was:</p>\n\n<pre><code>1\n</code></pre>\n\n<p>I also tried to print the value in the Dictionary like:</p>\n\n<pre><code>std::cout &lt;&lt; modelData[\"face001\"] &lt;&lt; std::endl;\n</code></pre>\n\n<p>I am pretty sure that there is a key <code>\"face001\"</code> in the dictionary but the result was still:</p>\n\n<pre><code>1\n</code></pre>\n\n<p>I know it must have something to do with NSDictionary and Dictionary but I just don't know what to do.</p>\n"}, {"tags": ["objective-c", "macos", "ituneslibrary"], "answers": [{"comments": [{"owner": {"reputation": 3285, "user_id": 571778, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/yF5LJ.jpg?s=128&g=1", "display_name": "yano", "link": "https://stackoverflow.com/users/571778/yano"}, "edited": false, "score": 0, "creation_date": 1562871895, "post_id": 48287711, "comment_id": 100525722, "body": "did you also enable the App Sandbox entitlement? Or can it be used alone?"}], "tags": [], "owner": {"reputation": 31, "user_id": 7871791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d98bcd797cf30e3abf4df8ba84abbf?s=128&d=identicon&r=PG&f=1", "display_name": "Irv Heller", "link": "https://stackoverflow.com/users/7871791/irv-heller"}, "is_accepted": false, "score": 1, "last_activity_date": 1516127527, "creation_date": 1516127527, "answer_id": 48287711, "question_id": 48039127, "link": "https://stackoverflow.com/questions/48039127/itlibrary-gives-me-nothing-but-null/48287711#48287711", "title": "ITLibrary gives me nothing but (null)", "body": "<p>The secret to getting ItunesLibrary to work seems to be in the entitlements file. You need to add the key \"com.apple.security.assets.music.read-only\", and set it to YES. I got this by digging through a project on github.com. </p>\n"}], "owner": {"reputation": 31, "user_id": 7871791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d98bcd797cf30e3abf4df8ba84abbf?s=128&d=identicon&r=PG&f=1", "display_name": "Irv Heller", "link": "https://stackoverflow.com/users/7871791/irv-heller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1516127527, "creation_date": 1514681966, "last_edit_date": 1514712182, "question_id": 48039127, "link": "https://stackoverflow.com/questions/48039127/itlibrary-gives-me-nothing-but-null", "title": "ITLibrary gives me nothing but (null)", "body": "<p>My program automates a radio station. There is lots of communication back and forth between it and iTunes. I programmed it with scripting bridge. Scripting bridge suffers from memory leaks. Each call to scripting bridge leaks a small amount of memory. Add a lot of calls to a program that runs 24/7 and I've got software that will run for something less than 24 hours, and then quit. </p>\n\n<p>My first attempt at a solution was to minimize my calls to scripting bridge. In researching that end, I came across ItunesLibrary. It isn't working for me.</p>\n\n<pre><code>NSError *error = nil;\nITLibrary *library = [ITLibrary libraryWithAPIVersion:@\"1.0\" error:&amp;error];\nif (library)\n{\n    NSArray *playlists = [[NSArray alloc]init];\n    playlists = library.allPlaylists;\n    NSArray *tracks = [[NSArray alloc]init];\n\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"mediaKind == %d\", ITLibMediaItemMediaKindSong];\n    tracks = [library.allMediaItems filteredArrayUsingPredicate:predicate];\n\n    NSLog(@\"Playlists - %@\",playlists);\n    NSLog(@\"Tracks - %@\",tracks);\n}\n</code></pre>\n\n<p>This code is pretty much right out of Apple's docs. It should work - I think.</p>\n\n<p>Before I added the predicate, I got some info on each of the podcasts in my iTunes library. In the nslog output, each of my playlists produces an entry similar to \"\". Each of my songs shows nothing more than (null). </p>\n\n<p>All of the info is in iTunes. I can read it with scripting bridge. I can read it with AVAsset</p>\n\n<pre><code>AVAsset *asset = [AVURLAsset URLAssetWithURL:myUrl options:nil];\n\nNSArray *metadata = [asset commonMetadata];\nfor ( AVMetadataItem* item in metadata )\n{\n    NSString *key = [item commonKey];\n    NSString *value = [item stringValue];\n    NSLog(@\"key = %@, value = %@\", key, value);\n}\n</code></pre>\n\n<p>With AVAsset I only get the song name, album name, and artist name. I need to access the rest of iTune's ID3 tags.</p>\n\n<p>What have I don to break ItunesLibrary?</p>\n"}, {"tags": ["ios", "objective-c", "core-graphics"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9156347"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1514650305, "post_id": 48035494, "comment_id": 83041145, "body": "Could you please update the code from above with your solution? Sorry I&#39;m new in objective etc... :/ @Rob"}, {"owner": {"reputation": 2576, "user_id": 501011, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5876A.png?s=128&g=1", "display_name": "MechMK1", "link": "https://stackoverflow.com/users/501011/mechmk1"}, "edited": false, "score": 2, "creation_date": 1514650495, "post_id": 48035494, "comment_id": 83041213, "body": "When you say you found the answer in another StackOverflow question, please actually link to the question (or the answer directly)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9156347"}, "reply_to_user": {"reputation": 2576, "user_id": 501011, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5876A.png?s=128&g=1", "display_name": "MechMK1", "link": "https://stackoverflow.com/users/501011/mechmk1"}, "edited": false, "score": 2, "creation_date": 1514650580, "post_id": 48035494, "comment_id": 83041237, "body": "Updated @DavidStockinger"}], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1514652666, "last_edit_date": 1514652666, "creation_date": 1514651550, "answer_id": 48035791, "question_id": 48035494, "link": "https://stackoverflow.com/questions/48035494/horizontal-center-text-using-objective-c-core-graphics/48035791#48035791", "title": "Horizontal center text using objective-c / core graphics", "body": "<p>This looks basically right: A few minor observations:</p>\n\n<ol>\n<li><p>Rather than referring to the <code>UIScreen</code>, I'd just refer to the view in which the text was rendered. E.g. if actually in some <code>UIView</code> subclass implementation, you'd just refer to <code>self.bounds.size</code>.</p></li>\n<li><p>I would use the <code>attributes</code> rendition for not only getting the size of the bounding rect, but for <code>drawAtPoint</code>, too. E.g. Use <code>drawAtPoint:withAttributes:</code> instead of <code>drawAtPoint:withFont:</code>.</p></li>\n<li><p>The font color should be part of the <code>attributes</code> dictionary, too.</p></li>\n</ol>\n\n<p>For example:</p>\n\n<pre><code>CGSize viewSize = self.bounds.size;\nNSString *text = @\"text\";\nCGFloat minHeight = 40;\nNSDictionary *attributes = @{NSFontAttributeName: [UIFont systemFontOfSize:22.0], NSForegroundColorAttributeName: [UIColor redColor]};\nCGSize textSize = [text boundingRectWithSize:CGSizeMake(CGFLOAT_MAX, minHeight)\n                                     options:NSStringDrawingUsesLineFragmentOrigin\n                                  attributes:attributes\n                                     context:nil].size;\n[text drawAtPoint:CGPointMake((viewSize.width - textSize.width)/2, (viewSize.height - textSize.height)/2) withAttributes:attributes];\n</code></pre>\n\n<p>If it's still not centered after you do this, you'd want to confirm the <code>frame</code> of the <code>UIView</code> in which you are  rendering this, and make sure the it is where you think it should be. You can run the app in the debugger and then use the view debugger <a href=\"https://i.stack.imgur.com/3VtiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3VtiB.png\" alt=\"view debugger\"></a> to confirm where the view is located.</p>\n"}, {"comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1514675765, "post_id": 48036594, "comment_id": 83047705, "body": "In this day and age of split screen multitasking, I don&#39;t think you ever want to use screen dimensions to figure out where anything goes..."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1514717337, "post_id": 48036594, "comment_id": 83054187, "body": "@Rob - Fair point, the OP would be better using the main view of the storyboard. But either way it looks like the OP is either not drawing in the view they think they are or are drawing in the wrong coordinate system for the view - which is why their text is off centre. Just using the view bounds won&#39;t neccesarily fix that (e.g. if the view is not centred)."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1514745208, "post_id": 48036594, "comment_id": 83060794, "body": "I&#39;d quibble on the details (what about split view controllers or other view controller containment scenarios), but I absolutely agree with your diagnosis that it&#39;s likely a coordinate system translation error."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1514657351, "creation_date": 1514657351, "answer_id": 48036594, "question_id": 48035494, "link": "https://stackoverflow.com/questions/48035494/horizontal-center-text-using-objective-c-core-graphics/48036594#48036594", "title": "Horizontal center text using objective-c / core graphics", "body": "<p>Others have stated that your code is basically correct, so why is it not displaying the text where you expect?</p>\n\n<p>My <em>guess</em> is that you are not drawing in the view you think you are and/or are confused over coordinate systems.</p>\n\n<p>Using the current view's bounds instead of the screen will centre your text <em>in that view</em>, which is fine if the view itself is centered on the screen but would also display off centre if not.</p>\n\n<p>You should figure out what view you are actually drawing in and/or read up on coordinate systems.</p>\n\n<p>To draw the text in the centre of the screen regardless of the view you can calculate the origin as you have in <em>screen</em> coordinates and then convert it to the view's coordinates and draw there. E.g. if your code is inside a view's <code>drawRect</code> then something like:</p>\n\n<pre><code>// Save the point in screen coordinates \nCGPoint onScreenOrigin = CGPointMake((screenWidth - widthIs)/2, (screenHeight - minHeight)/2);\n// Convert from screen to current view's coordinates\nCGPoint inViewOrigin = [self convertPoint:onScreenOrigin fromView:nil];\n// Draw the text\n[text drawAtPoint:inViewOrigin ...];\n</code></pre>\n\n<p>This will draw the text in the centre of the screen regardless of the size and position of the view - provided of course that the view covers the area of the screen where the text needs to be, if it doesn't the text will be cropped to the view and may incomplete or completely invisible!</p>\n\n<p>HTH</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9156347"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1514660068, "creation_date": 1514649572, "last_edit_date": 1514660068, "question_id": 48035494, "link": "https://stackoverflow.com/questions/48035494/horizontal-center-text-using-objective-c-core-graphics", "title": "Horizontal center text using objective-c / core graphics", "body": "<p>I'm trying to center a text on an iPhone screen using Core Graphics and I found <a href=\"https://stackoverflow.com/questions/48034940/draw-centered-text-using-core-graphics-mobile-device/\">this code</a>.</p>\n\n<pre><code>CGRect screenRect = [[UIScreen mainScreen] bounds];\nCGFloat screenWidth = screenRect.size.width;\nCGFloat screenHeight = screenRect.size.height;\nNSString * text = @\"text\";\nCGFloat minHeight = 40;\nfloat widthIs = [text boundingRectWithSize:CGSizeMake(CGFLOAT_MAX, minHeight) options:NSStringDrawingUsesLineFragmentOrigin\nattributes:@{ NSFontAttributeName:[UIFont systemFontOfSize:22.0] }\ncontext:nil].size.width;\nCGContextSetFillColorWithColor(context, [UIColor colorWithRed:1 green:1 blue:1 alpha:1].CGColor);\n[text drawAtPoint:CGPointMake((screenWidth - widthIs)/2, (screenHeight - minHeight)/2) withFont: [UIFont systemFontOfSize:22.0]];\n</code></pre>\n\n<p>But trying this code for my own I can not really get it working. The text is not really centered on my screen and I have no idea how to edit the code to solve my problem.</p>\n\n<p>This is the result I get:</p>\n\n<p><img src=\"https://i.stack.imgur.com/F3A5B.jpg\" alt=\"image\"></p>\n"}, {"tags": ["ios", "objective-c", "core-graphics"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1514655345, "post_id": 48034940, "comment_id": 83042596, "body": "By the way, as I point out in my answer to <a href=\"https://stackoverflow.com/a/48035791/1271826\">a related question</a>, (a) you should not use <code>drawAtPoint:withFont:</code>, but rather <code>drawAtPoint:withAttributes:</code>; and (b) you should specify the font color in the <code>attributes</code> dictionary, not in CoreGraphics API."}], "answers": [{"tags": [], "owner": {"reputation": 2191, "user_id": 4116428, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/lDiWY.jpg?s=128&g=1", "display_name": "Sumit singh", "link": "https://stackoverflow.com/users/4116428/sumit-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1514660146, "last_edit_date": 1514660146, "creation_date": 1514645900, "answer_id": 48035063, "question_id": 48034940, "link": "https://stackoverflow.com/questions/48034940/draw-centered-text-using-core-graphics-mobile-device/48035063#48035063", "title": "Draw centered text using core graphics (mobile device)", "body": "<p>Your text is not centered because you have to subtract the text width from the screen size and then you have to divide by 2. Below I have tried to correct your code.</p>\n\n<pre><code>CGRect screenRect = [[UIScreen mainScreen] bounds];\nCGFloat screenWidth = screenRect.size.width;\nCGFloat screenHeight = screenRect.size.height;\nNSString * text = @\"text\";\n\nCGFloat minHeight = 40;\nfloat widthIs = [text boundingRectWithSize:CGSizeMake(CGFLOAT_MAX, minHeight) options:NSStringDrawingUsesLineFragmentOrigin\n attributes:@{ NSFontAttributeName:[UIFont systemFontOfSize:22.0] }\n context:nil].size.width;\nCGContextSetFillColorWithColor(context, [UIColor colorWithRed:1 green:1 blue:1 alpha:1].CGColor);\n[text drawAtPoint:CGPointMake((screenWidth - widthIs)/2, (screenHeight - minHeight)/2) withFont: [UIFont systemFontOfSize:22.0]];\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9156207"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 1, "accepted_answer_id": 48035063, "answer_count": 1, "score": 0, "last_activity_date": 1514660146, "creation_date": 1514644856, "last_edit_date": 1514659943, "question_id": 48034940, "link": "https://stackoverflow.com/questions/48034940/draw-centered-text-using-core-graphics-mobile-device", "title": "Draw centered text using core graphics (mobile device)", "body": "<p>I'm using this code:</p>\n\n<pre><code>CGRect screenRect = [[UIScreen mainScreen] bounds];\nCGFloat screenWidth = screenRect.size.width;\nCGFloat screenHeight = screenRect.size.height;\nNSString * text = @\"text\";\nCGContextSetFillColorWithColor(context, [UIColor colorWithRed:1 green:1 blue:1 alpha:RETICLE_ALPHA].CGColor);\n[text drawAtPoint:CGPointMake(screenWidth/2, screenHeight/2) withFont: [UIFont systemFontOfSize:22.0]];\n</code></pre>\n\n<p>to create a centered \"text\" for iOS.</p>\n\n<p>But I'm not sure how to edit the code above to really get the center alignment working, because till now the text is not really centered at all.</p>\n\n<p>Sorry, for the kind of stupid question but I didn't found an working example for the problem &amp; I'm new in using Core Graphics.</p>\n"}, {"tags": ["ios", "objective-c", "uiview", "drawing", "calayer"], "comments": [{"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "edited": false, "score": 0, "creation_date": 1514675455, "post_id": 48034061, "comment_id": 83047640, "body": "We can&#39;t help you fix your code if you don&#39;t provide it."}], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514675431, "creation_date": 1514675431, "answer_id": 48038645, "question_id": 48034061, "link": "https://stackoverflow.com/questions/48034061/how-to-fil-rectangular-ares-in-the-screen-with-good-performance-in-ios/48038645#48038645", "title": "How to fil rectangular ares in the screen with good performance in ios", "body": "<h2>Explanation</h2>\n\n<p>Yup! Adding 2,500 tiny UIViews to a scroll view can destroy performance. I wouldn't use that approach, but if you do, at least make sure that <code>subview_N.opaque = YES;</code> on all subviews to disable compositing.</p>\n\n<p>The <code>CALayer</code> approach that you described is basically the same as the <code>UIView</code> approach because views are backed by CoreAnimation layers (see <code>-[UIView layer]</code>).</p>\n\n<p>The best options for drawing thousands of rectangles to the screen on iOS without decimating frame rate, is to use one of the following approaches:</p>\n\n<ol>\n<li>Draw directly using CoreGraphics</li>\n<li>Draw directly using OpenGL (extremely involved)</li>\n<li>Use a layout engine such as <code>UICollectionViewLayout</code></li>\n</ol>\n\n<p>Now, you said you had tried overriding <code>-[UIView drawRect:]</code>, but you didn't provide any example code for us to checkout. <strong>Please update your question with actual code for method #3 if you want more specific feedback.</strong> It's very likely that something is wrong with the drawRect code you created. CoreGraphics can definitely draw thousands of squares on screen without dragging frame rate down that badly.</p>\n\n<h2>One Solution</h2>\n\n<p>I recently released a project, <a href=\"https://github.com/yahoo/YMTreeMap\" rel=\"nofollow noreferrer\">YMTreeMap</a>, that draws thousands of rectangles into a <code>UIView</code> to create financial TreeMaps. It's in Swift, not Objective-C, but the underlying concepts are the same. For this, I created a custom <code>UICollectionViewLayout</code> that lets Apple's well tested <code>UICollectionView</code> class handle the nitty gritty of selective drawing, zooming and animation.</p>\n\n<p>The <a href=\"https://github.com/yahoo/YMTreeMap/blob/master/Example/YMTreeMap/ViewController.swift#L7-L37\" rel=\"nofollow noreferrer\">example UIViewController</a> code in the YMTreeMap project shows how to draw thousands of colored rectangles to the screen if all you know is their location and size. This sounds like what you are doing. Since you're also scrolling and zooming, this solution might be perfect for you because <code>UICollectionView</code> has native support for both of those.</p>\n"}], "owner": {"reputation": 383, "user_id": 3512230, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5daa49550087e4e760479c30cb4b6bcc?s=128&d=identicon&r=PG&f=1", "display_name": "passingnil", "link": "https://stackoverflow.com/users/3512230/passingnil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514675431, "creation_date": 1514637917, "last_edit_date": 1514641161, "question_id": 48034061, "link": "https://stackoverflow.com/questions/48034061/how-to-fil-rectangular-ares-in-the-screen-with-good-performance-in-ios", "title": "How to fil rectangular ares in the screen with good performance in ios", "body": "<p>I'm making simple number coloring game (like sandbox, pixel art, unicorn, etc) and came across a problem. I tried various methods of filling rects in the screen.</p>\n\n<ol>\n<li><p>At first i created a backgroundView(a simple UIView) which had 2500 subviews(also UIViews), each one had <code>size = (CGSize){50,50}</code>. Added a tap gesture recognizer, detected which view should be filled, and simply changed the background color of that view. But when i placed the backgroundView in the scrollView, the scroll and zooming were awful.</p></li>\n<li><p>Tried same thing but this time each rectangle was a <code>CALayer</code>. So a backgroundView, which had 2500 sublayers(each was a <code>CALayer</code> with 50,50 size) - zoom and scroll was also awful.</p></li>\n<li><p>Tired to use custom drawing with overriding drawRect method in UIView subclass or <code>drawInContext</code> in <code>CALayer</code> subclass(i was filling rects with <code>CGContext</code>), this time problem was also caused by the zooming and scrolling. Because i needed to update every rect when user zooms, it was triggering a lot of drawRect calls, and performance was also bad.</p></li>\n</ol>\n\n<p>Any thoughts how can i fill rects in the screen ? </p>\n"}, {"tags": ["objective-c", "inheritance", "initialization", "subclassing"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1514647668, "post_id": 48034046, "comment_id": 83040473, "body": "Your code is completely correct. <i>&quot;In forums I&#39;ve seen that some people don&#39;t call it at all&quot;</i> Either those people are doing it wrong, or there&#39;s some non-obvious important difference in their code."}, {"owner": {"reputation": 1151, "user_id": 8803178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae971fc24827e0daf1c3d54e9c6e17e3?s=128&d=identicon&r=PG&f=1", "display_name": "Tigran Iskandaryan", "link": "https://stackoverflow.com/users/8803178/tigran-iskandaryan"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1514653317, "post_id": 48034046, "comment_id": 83042016, "body": "@JoshCaswell, so I should always call the immediate superclass&#39; designated initializer, right?"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1514690011, "post_id": 48034046, "comment_id": 83049742, "body": "From the designated initializer of the subclass, yes, correct. Apple used to have a great diagram of this, but I can&#39;t find it now. There&#39;s a funnel shape: all non-designated initializers in a class should end up inside its own D.I. The D.I. itself should call the superclass&#39;s D.I."}, {"owner": {"reputation": 1151, "user_id": 8803178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae971fc24827e0daf1c3d54e9c6e17e3?s=128&d=identicon&r=PG&f=1", "display_name": "Tigran Iskandaryan", "link": "https://stackoverflow.com/users/8803178/tigran-iskandaryan"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1514928850, "post_id": 48034046, "comment_id": 83109876, "body": "@JoshCaswell, I got it. Thank you!"}], "owner": {"reputation": 1151, "user_id": 8803178, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae971fc24827e0daf1c3d54e9c6e17e3?s=128&d=identicon&r=PG&f=1", "display_name": "Tigran Iskandaryan", "link": "https://stackoverflow.com/users/8803178/tigran-iskandaryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514661067, "creation_date": 1514637776, "last_edit_date": 1514661067, "question_id": 48034046, "link": "https://stackoverflow.com/questions/48034046/how-should-i-call-the-superclasss-custom-initialiser-when-i-use-a-custom-one-f", "title": "How should I call the superclass&#39;s custom initialiser, when I use a custom one for my subclass?", "body": "<p>I'm learning Objective-C and I don't clearly understand what is the best way to call superclass' custom initializer, while defining one in its subclass. </p>\n\n<p>Here is my class' (superclass) custom initializer:</p>\n\n<pre><code>-(id) initWithWidth:(int)w andHeight:(int)h {\n    self = [super init];\n\n    if (self) {\n        [self setWidth:w andHeight:h];\n    }\n    return self;\n}\n\n-(instancetype) init {\n    return [self initWithWidth:0 andHeight:0];\n}\n</code></pre>\n\n<p>Here I call its superclass' (<code>NSObject</code>) initializer and assign it to <code>self</code>. After checking that <code>self</code> is not <code>nil</code>, I call a method defined in the class. After that, assuming that my custom initializer is a designated one, I override the standard <code>init</code>. </p>\n\n<p>Now, I create a subclass of that class. The subclass also has a custom initializer. Here it is:</p>\n\n<pre><code>-(id) initWithSide:(int)side {\n    self = [super initWithWidth:side andHeight:side];\n\n    if (self) {\n        [self setSide: side];\n    }\n    return self;\n}\n\n-(instancetype) init {\n    return [self initWithSide:0];\n}\n</code></pre>\n\n<p>The logic is the same (again, it calls a custom method defined inside the class). </p>\n\n<p>The problem is, I'm not quite sure what is the right way of calling its superclass' initializer (I still should call it, right?). In forums I've seen that some people don't call it at all, and that confuses me.</p>\n\n<p>Should I call the designated initializer of the superclass or don't call it at all. If you could explain me how this works and the right choice in this case (or best practices, maybe), I would appreciate your help.</p>\n"}, {"tags": ["objective-c", "pointers"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 1, "creation_date": 1514629214, "post_id": 48032955, "comment_id": 83036055, "body": "No, it shouldn&#39;t. Objective-C takes care of dereferencing the pointer for you when you use square bracket call syntax."}, {"owner": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "edited": false, "score": 0, "creation_date": 1514629356, "post_id": 48032955, "comment_id": 83036093, "body": "In general, pointers referencing Objective C objects are never dereferenced explicitly."}, {"owner": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1514630003, "post_id": 48032955, "comment_id": 83036232, "body": "@dasblinkenlight thank you !"}, {"owner": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "reply_to_user": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "edited": false, "score": 0, "creation_date": 1514630018, "post_id": 48032955, "comment_id": 83036237, "body": "@clemens thank you !"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1514760854, "post_id": 48032955, "comment_id": 83063555, "body": "@RanJi That example comes from Kochan&#39;s ObjC book, doesn&#39;t it?  If so, toss the book in the trash and grab something more recent.  It was an OK book when it was written, but it is now way, way, out of date and you&#39;ll be very confused if you try to apply what you learn from it to modern iOS/Cocoa programming"}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1514780905, "post_id": 48032955, "comment_id": 83065835, "body": "@bbum I&#39;ve got a copy of <i>Learning Cocoa</i> by O&#39;Reilly Media lying around here somewhere, if you want it. ;-)"}, {"owner": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1515074957, "post_id": 48032955, "comment_id": 83168944, "body": "@bbum Yes, but maybe it is enough for a newbie...and do you have some recommendations"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1515085897, "post_id": 48032955, "comment_id": 83175587, "body": "@RanJi What you learn from Kochan will no longer be applicable.  It&#39;d be like learning how to program against iOS 2.0 and then being dropped into the current system.  You aren&#39;t going to know which way is up.   I&#39;d recommend the Stanford courses and whatever tutorials are available via developer.apple.com.  Swift playgrounds are good, too."}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "edited": false, "score": 0, "creation_date": 1515075981, "post_id": 48047094, "comment_id": 83169576, "body": "First ,thank you for helping me. But forgive me my poor English... I can only understand a part of them. From your answer,  OC is different from C. I just send message to my instance, not call a function like C. So  I don&#39;t need think about pointer problem. Is that right?"}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "edited": false, "score": 1, "creation_date": 1515090413, "post_id": 48047094, "comment_id": 83177936, "body": "That I mostly correct. Objective-C is built <i>on top of</i> C. <code>myFraction</code> is a C pointer! However when you use the format <code>[myFraction ...]</code> the compiler changes it to C-compatible code."}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "edited": false, "score": 0, "creation_date": 1515178384, "post_id": 48047094, "comment_id": 83215630, "body": "Hey @RanJi, if this answer is helpful to you, would you mind marking it as &quot;Accepted&quot;?"}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "edited": false, "score": 0, "creation_date": 1515362352, "post_id": 48047094, "comment_id": 83261817, "body": "@RanJi - Thank you!"}], "tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": true, "score": 3, "last_activity_date": 1514780063, "creation_date": 1514780063, "answer_id": 48047094, "question_id": 48032955, "link": "https://stackoverflow.com/questions/48032955/how-to-understand-pointer-in-objective-c/48047094#48047094", "title": "How to understand pointer in Objective-C", "body": "<p>You're thinking of C. Instead, Objective-C is actually dynamically dispatched, meaning that you don't actually call functions on Objective-C objects. Rather, you \"send a message\" to an instance. The Objective-C runtime handles the actual translation of that message into a C function call.</p>\n\n<p>In your example, <code>[myFraction method]</code> actually compiles into something similar to <code>objc_msgSend(myFraction, @selector(method))</code>.</p>\n\n<p>The <code>objc_msgSend()</code> function is the heart of Objective-C. It is hand <a href=\"https://github.com/opensource-apple/objc4/blob/master/runtime/Messengers.subproj/objc-msg-arm64.s#L252-L282\" rel=\"nofollow noreferrer\">written in assembly</a> for each supported platform. Within this assembly call, the runtime will determine the type of the instance \u2013\u00a0<code>Fraction</code> in this case \u2013\u00a0and search the known instance methods on the Fraction Class. If no method is found, it will then search the superclass of Fraction all the way up to the root (<code>NSObject</code>).</p>\n\n<p>Once the appropriate C-function for <code>-[Fraction method]</code> is identified, <code>objc_msgSend</code> will invoke it for you.</p>\n\n<p>Interestingly, the resulting C function call is actually provided with two additional arguments (the <code>myFraction</code> pointer, and the original method selector). These are pulled off and stored in <code>self</code> and <code>_cmd</code> prior to executing the code you wrote in <code>-[Fraction method]</code>. This is how instance state is conveyed to instance functions! Pretty cool :)</p>\n\n<p>Some reading:</p>\n\n<p><a href=\"https://www.mikeash.com/pyblog/friday-qa-2012-11-16-lets-build-objc_msgsend.html\" rel=\"nofollow noreferrer\">https://www.mikeash.com/pyblog/friday-qa-2012-11-16-lets-build-objc_msgsend.html</a></p>\n"}], "owner": {"reputation": 191, "user_id": 6055939, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/bee7d339aa21ad5236a829f83ee721bf?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Ji", "link": "https://stackoverflow.com/users/6055939/ran-ji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 48047094, "answer_count": 1, "score": 1, "last_activity_date": 1514780063, "creation_date": 1514628993, "last_edit_date": 1514676528, "question_id": 48032955, "link": "https://stackoverflow.com/questions/48032955/how-to-understand-pointer-in-objective-c", "title": "How to understand pointer in Objective-C", "body": "<pre><code>Fraction* myFraction=[Fraction new];\n[myFraction method];\n</code></pre>\n\n<p><code>myFraction</code> is a pointer, it assigned with the memory address. When use the method of <code>myFraction</code>, shouldn't it be used <code>* myFraction</code>\uff1f</p>\n"}, {"tags": ["ios", "objective-c", "email", "smtpclient", "smtplib"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1514630049, "creation_date": 1514630049, "answer_id": 48033090, "question_id": 48032193, "link": "https://stackoverflow.com/questions/48032193/passing-address-of-non-local-object-to-autoreleasing-parameter-for-write-back-i/48033090#48033090", "title": "Passing address of non-local object to _autoreleasing parameter for write-back in SKPSMTPMessage.m using Objective C?", "body": "<p>Under ARC a parameter declared as:</p>\n\n<pre><code>SomeObjectType ** parameterName\n</code></pre>\n\n<p>has the implicit <em>ownership qualifier</em> of <code>__autoreleasing</code>:</p>\n\n<pre><code>SomeObjectType * __autoreleasing * parameterName\n</code></pre>\n\n<p>Such parameters are <em>out</em> parameters, that is they receive a value from the called method rather than pass a value to the called method, and the actual parameter must be the address of a <em>local</em> variable. This mechanism is referred to as <em>pass-by-writeback</em>.</p>\n\n<p>The error message is telling you that one or both of addresses you have passed are not those of local variables, i.e. either or both of <code>inputStream</code> or <code>outputStream</code> are not local variables.</p>\n\n<p>The simple fix is to introduce local variables to use for the parameters and after the call copy the returned values into your non-local variables:</p>\n\n<pre><code>NSInputStream *tempInputStream;\nNSOutputStream *tempOutputStream;\n[NSStream getStreamsToHostNamed:relayHost port:relayPort inputStream:&amp;tempInputStream outputStream:&amp;tempOutputStream];\n// copy return values to non-local variables\ninputStream = tempInputStream;\noutputStream = tempOutputStream;\n</code></pre>\n\n<p>If you wish to understand the reasons why out parameters only accept local variables read <a href=\"http://clang.llvm.org/docs/AutomaticReferenceCounting.html#passing-to-an-out-parameter-by-writeback\" rel=\"nofollow noreferrer\">Passing to an out parameter by writeback</a> in Apple's Clang documentation.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1514630049, "creation_date": 1514621831, "question_id": 48032193, "link": "https://stackoverflow.com/questions/48032193/passing-address-of-non-local-object-to-autoreleasing-parameter-for-write-back-i", "title": "Passing address of non-local object to _autoreleasing parameter for write-back in SKPSMTPMessage.m using Objective C?", "body": "<p>I am new to iOS,I have Implemented Background mail using SMTP Server,While Integrating with Main Project I am getting (passing address of non-local object to _autoreleasing parameter for write-back) this error I don't know how to solve that ,I referred this  <a href=\"http://iosameer.blogspot.in/2013/01/sending-e-mail-in-background-from-ios_25.html\" rel=\"nofollow noreferrer\">link</a> to implement Background Mail. I have used this  SMTP library <a href=\"https://github.com/jetseven/skpsmtpmessage\" rel=\"nofollow noreferrer\">link</a>\nBelow line getting error,</p>\n\n<pre><code>[NSStream getStreamsToHostNamed:relayHost port:relayPort inputStream:&amp;inputStream outputStream:&amp;outputStream];\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "types", "objective-c-swift-bridge"], "comments": [{"owner": {"reputation": 2191, "user_id": 4116428, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/lDiWY.jpg?s=128&g=1", "display_name": "Sumit singh", "link": "https://stackoverflow.com/users/4116428/sumit-singh"}, "edited": false, "score": 0, "creation_date": 1514613930, "post_id": 48031353, "comment_id": 83033068, "body": "Please follow these link it will work definitely  <a href=\"https://stackoverflow.com/questions/24102104/how-to-import-swift-code-to-objective-c/31242085#31242085\" title=\"how to import swift code to objective c\">stackoverflow.com/questions/24102104/&hellip;</a>"}, {"owner": {"reputation": 2060, "user_id": 558333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/chu5G.jpg?s=128&g=1", "display_name": "silvansky", "link": "https://stackoverflow.com/users/558333/silvansky"}, "edited": false, "score": 4, "creation_date": 1561201412, "post_id": 48031353, "comment_id": 99991974, "body": "That answer does not cover the forward declaration problem."}], "owner": {"reputation": 93, "user_id": 8623791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c042b1aab029d6ac36eae4ff2dbe7e4a?s=128&d=identicon&r=PG&f=1", "display_name": "Shlomi Nissan", "link": "https://stackoverflow.com/users/8623791/shlomi-nissan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2312, "favorite_count": 0, "closed_date": 1514733436, "answer_count": 0, "score": 5, "last_activity_date": 1514733459, "creation_date": 1514612680, "last_edit_date": 1514733459, "question_id": 48031353, "link": "https://stackoverflow.com/questions/48031353/forward-declare-a-swift-class-to-use-it-in-an-objective-c-header", "closed_reason": "Duplicate", "title": "Forward declare a Swift class to use it in an Objective-C header", "body": "<p>I'm trying to import a Swift class into an Objective-C header file. I know that <code>Project-Swift.h</code> bridge can only be imported into implementation files (.m) but I've got an Objective-C header that needs to declare a property that's defined in Swift.</p>\n\n<p>I read somewhere that this can be done by forward declaring the class in the header file and importing <code>Project-Swift.h</code> into the implementation file. When I do this, the errors are resolved, but I can't access any class properties.</p>\n\n<p>Example:</p>\n\n<pre><code>// Square.swift\n\n@objc class Square: NSObject {\n  var width: Int?\n  var height: Int?\n}\n\n// Shapes.h\n\n@class Square;\n\n@interface Shapes: NSObject {\n  @property(nonatomic, strong) Square *square;\n}\n\n// Shapes.m\n\n#import \"Shapes.h\"\n#import \"Product-Swift.h\"\n\n@implementation Shape\n\n@end\n\n// Somewhere else in the code\n\nShapes *shapes = [Shapes new];\nNSLog(@\"%@\", @(shapes.square.width)); &lt;-- Property 'width' not found on object of type 'Square *'\n</code></pre>\n\n<p>Anyone can offer an advice on how to access the Swift class and its properties ?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "class", "storyboard"], "comments": [{"owner": {"reputation": 2162, "user_id": 7460927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2cb217286e43576c51e550e6cc794e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Sharma", "link": "https://stackoverflow.com/users/7460927/tushar-sharma"}, "edited": false, "score": 0, "creation_date": 1514611171, "post_id": 48031127, "comment_id": 83032597, "body": "@Chandreah Kachariya what is your point? You want storyboard and class to be shown in parallel? If yes that can even be shown without assigning one."}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "reply_to_user": {"reputation": 2162, "user_id": 7460927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2cb217286e43576c51e550e6cc794e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Sharma", "link": "https://stackoverflow.com/users/7460927/tushar-sharma"}, "edited": false, "score": 0, "creation_date": 1514611365, "post_id": 48031127, "comment_id": 83032639, "body": "@TusharSharma I want preview in storyboard. I already do it but currently I don&#39;t remember"}, {"owner": {"reputation": 2162, "user_id": 7460927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2cb217286e43576c51e550e6cc794e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Sharma", "link": "https://stackoverflow.com/users/7460927/tushar-sharma"}, "edited": false, "score": 0, "creation_date": 1514611995, "post_id": 48031127, "comment_id": 83032751, "body": "Make a simple Google search , and it will tell you the steps."}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "reply_to_user": {"reputation": 2162, "user_id": 7460927, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e2cb217286e43576c51e550e6cc794e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Sharma", "link": "https://stackoverflow.com/users/7460927/tushar-sharma"}, "edited": false, "score": 0, "creation_date": 1514613991, "post_id": 48031127, "comment_id": 83033076, "body": "@TusharSharma check below Pratik Jamariya Ans"}, {"owner": {"reputation": 750, "user_id": 3308174, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414b349c4bf9580d8482d099c9348dfb?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Jamariya", "link": "https://stackoverflow.com/users/3308174/pratik-jamariya"}, "edited": false, "score": 0, "creation_date": 1514623535, "post_id": 48031127, "comment_id": 83034820, "body": "@ChandreshKachariya what do you exactly want?"}, {"owner": {"reputation": 4290, "user_id": 569507, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5suGC.jpg?s=128&g=1", "display_name": "pajevic", "link": "https://stackoverflow.com/users/569507/pajevic"}, "edited": false, "score": 2, "creation_date": 1514625279, "post_id": 48031127, "comment_id": 83035228, "body": "OP, are you the one downvoting all the answers? Either you don&#39;t seem to know what you want or you&#39;re not expressing your self clearly. From your question it seems that <code>IBDesignable</code> and <code>IBInspectable</code> are indeed what you need. Just because you don&#39;t like an answer doesn&#39;t make it wrong."}, {"owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "edited": false, "score": 0, "creation_date": 1514625571, "post_id": 48031127, "comment_id": 83035294, "body": "I have both are needed (IBDesignable and IBInspectable) to see preview"}], "answers": [{"tags": [], "owner": {"reputation": 750, "user_id": 3308174, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414b349c4bf9580d8482d099c9348dfb?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Jamariya", "link": "https://stackoverflow.com/users/3308174/pratik-jamariya"}, "is_accepted": true, "score": 1, "last_activity_date": 1514612134, "creation_date": 1514612134, "answer_id": 48031301, "question_id": 48031127, "link": "https://stackoverflow.com/questions/48031127/preview-design-in-storyboard-with-class-objective-c/48031301#48031301", "title": "Preview design in storyboard with class? [objective c]", "body": "<p>You should search these two keywords in google, <code>IBInspectable</code> and<code>IBDesignable</code>.</p>\n\n<p>There are some pretty good tutorials on the internet about these. few links are below:</p>\n\n<ol>\n<li><p><a href=\"http://nshipster.com/ibinspectable-ibdesignable/\" rel=\"nofollow noreferrer\">IBInspectable / IBDesignable Written by Nate Cook</a></p></li>\n<li><p><a href=\"https://medium.com/anantha-krishnan-k-g/ibdesignable-and-ibinspectable-in-swift-3-702d7dd00ca\" rel=\"nofollow noreferrer\">@IBDesignable and @IBInspectable in Swift 3. by Anantha Krishnan K G</a></p></li>\n<li><a href=\"https://medium.com/@GeraldoBastos/whats-ibdesignable-ibinspectable-292829384e1\" rel=\"nofollow noreferrer\">What\u2019s IBDesignable / IBInspectable? by Geraldo Bastos</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 7157159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/189af1d9b178f250365d282b0f9b1921?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmos Man", "link": "https://stackoverflow.com/users/7157159/cosmos-man"}, "is_accepted": false, "score": 0, "last_activity_date": 1515002261, "last_edit_date": 1515002261, "creation_date": 1514622171, "answer_id": 48032217, "question_id": 48031127, "link": "https://stackoverflow.com/questions/48031127/preview-design-in-storyboard-with-class-objective-c/48032217#48032217", "title": "Preview design in storyboard with class? [objective c]", "body": "<p>I suppose you might want to live edit your custom views like original UIView, UILabel, UITextField, etc ...\nYou might want to check  <code>@IBDesignables</code> and <code>@IBInspectables</code>. \nFor Objective-C, these are just <code>IB_Designable</code> and <code>IBInspectable</code>\nIf you want to jump right to it, here is the link </p>\n\n<p><a href=\"https://www.appcoda.com/ibdesignable-ibinspectable-tutorial/\" rel=\"nofollow noreferrer\">https://www.appcoda.com/ibdesignable-ibinspectable-tutorial/</a></p>\n"}], "owner": {"reputation": 610, "user_id": 5645776, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/709799795788303/picture?type=large", "display_name": "Chandresh", "link": "https://stackoverflow.com/users/5645776/chandresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "closed_date": 1514625677, "accepted_answer_id": 48031301, "answer_count": 2, "score": 0, "last_activity_date": 1515002261, "creation_date": 1514610165, "question_id": 48031127, "link": "https://stackoverflow.com/questions/48031127/preview-design-in-storyboard-with-class-objective-c", "closed_reason": "Opinion-based", "title": "Preview design in storyboard with class? [objective c]", "body": "<p>I can do it? Create class file and asign from storyboard then see preview?</p>\n\n<p><a href=\"https://i.stack.imgur.com/i7nz5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7nz5.png\" alt=\"enter image description here\"></a></p>\n\n<p>\ud83d\udc46\ud83c\udffc If you have <strong>\"YES\"</strong> then let me know how can i do this?</p>\n"}, {"tags": ["objective-c", "arrays", "for-loop", "text", "uibutton"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 1, "creation_date": 1514608154, "post_id": 48030881, "comment_id": 83032140, "body": "[button setTitle: [ages objectAtIndex:x]];"}, {"owner": {"reputation": 45, "user_id": 8503080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17d0a7dd8d02c8a35fc71bbc319b90f?s=128&d=identicon&r=PG&f=1", "display_name": "Arnav Kaushik", "link": "https://stackoverflow.com/users/8503080/arnav-kaushik"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514648971, "post_id": 48030881, "comment_id": 83040786, "body": "Don&#39;t you need to add a <code>forControlEvents:</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8503080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17d0a7dd8d02c8a35fc71bbc319b90f?s=128&d=identicon&r=PG&f=1", "display_name": "Arnav Kaushik", "link": "https://stackoverflow.com/users/8503080/arnav-kaushik"}, "edited": false, "score": 0, "creation_date": 1514649717, "post_id": 48033496, "comment_id": 83040981, "body": "I tried running this but the titles aren&#39;t being set. I even added a font color but the text isn&#39;t appearing. The code for the title color was <code>[button setTitleColor:buttonOutline forState:UIControlStateSelected];</code>. Do you know why this is happening?"}, {"owner": {"reputation": 45, "user_id": 8503080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17d0a7dd8d02c8a35fc71bbc319b90f?s=128&d=identicon&r=PG&f=1", "display_name": "Arnav Kaushik", "link": "https://stackoverflow.com/users/8503080/arnav-kaushik"}, "edited": false, "score": 0, "creation_date": 1514650127, "post_id": 48033496, "comment_id": 83041104, "body": "Sorry, <code>[button setTitleColor:buttonOutline forState:UIControlStateNormal];</code>"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "reply_to_user": {"reputation": 45, "user_id": 8503080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17d0a7dd8d02c8a35fc71bbc319b90f?s=128&d=identicon&r=PG&f=1", "display_name": "Arnav Kaushik", "link": "https://stackoverflow.com/users/8503080/arnav-kaushik"}, "edited": false, "score": 1, "creation_date": 1514650202, "post_id": 48033496, "comment_id": 83041118, "body": "Sorry, I got everything else working and forgot the original issue.  I will edit the answer."}], "tags": [], "owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "is_accepted": true, "score": 1, "last_activity_date": 1514650297, "last_edit_date": 1514650297, "creation_date": 1514633353, "answer_id": 48033496, "question_id": 48030881, "link": "https://stackoverflow.com/questions/48030881/uibutton-is-not-setting-text/48033496#48033496", "title": "UIButton is not setting text", "body": "<p>I found four problems (there may be others) that stop this working correctly:</p>\n\n<p>1) The for loop bound when setting up the ages array is incorrect.\n2) The for loop bound when creating the buttons is incorrect.\n3) You are setting the buttonOutline colour incorrectly.\n4) xValue is being updated incorrectly.</p>\n\n<p>Here is the viewDidLoad method after the changes have been made:</p>\n\n<pre><code>- (void)viewDidLoad {\n  [super viewDidLoad];\n\n    NSMutableArray *ages = [[NSMutableArray alloc] init];\n\n    for (int i = 0; i &lt; 10; i++) { // UPDATED\n        [ages addObject:[NSString stringWithFormat:@\"%i\", i]];\n    }\n\n\n    UIScrollView  *scrollView= [[UIScrollView alloc]initWithFrame:self.view.frame];\n    scrollView.delegate= self;\n    self.automaticallyAdjustsScrollViewInsets= NO;\n    scrollView.backgroundColor= [UIColor clearColor];\n    scrollView.scrollEnabled= YES;\n    scrollView.userInteractionEnabled= YES;\n    [scrollView setShowsHorizontalScrollIndicator:NO];\n    [scrollView setShowsVerticalScrollIndicator:NO];\n\n\n    CGFloat xValue = 0;\n    for(int x=0; x &lt; ages.count; x++){ // UPDATED\n        UIButton  *button= [[UIButton alloc] initWithFrame:CGRectMake(xValue ,0 , 172 ,65)];\n        UIColor *buttonOutline = [UIColor redColor]; // UPDATED\n        button.layer.borderColor = [buttonOutline CGColor];\n        button.layer.backgroundColor = [[UIColor clearColor] CGColor];\n        button.layer.borderWidth = 1.0;\n        button.layer.cornerRadius = 6.0;\n        [button.titleLabel setFont:[UIFont fontWithName:@\"Helvetica\" size:13.0]];\n        button.titleLabel.text = [ages objectAtIndex:x];\n        [button addTarget:self action:@selector(test:) forControlEvents:UIControlEventTouchUpInside];\n        [scrollView addSubview:button];\n        NSLog(@\"Button Added\");\n        xValue += button.frame.size.width + 40; // UPDATED\n\n    }\n\n    scrollView.contentSize = CGSizeMake(xValue, 65);\n    [self.view addSubview:scrollView];\n}\n</code></pre>\n\n<p>I have marked the four lines I changed with a UPDATED comment so you can compare them to the original.</p>\n\n<p><strong>EDIT</strong>\nTo change the text and text colour use the following:</p>\n\n<pre><code>[button setTitleColor:[UIColor redColor] forState:UIControlStateNormal];\n[button setTitle:[ages objectAtIndex:x] forState:UIControlStateNormal];\n</code></pre>\n\n<p>and remove this:</p>\n\n<pre><code>button.titleLabel.text = [ages objectAtIndex:x];\n</code></pre>\n\n<p>You need to do this because you can set different text for the different states of the button and this is all handled automatically for you.</p>\n"}], "owner": {"reputation": 45, "user_id": 8503080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17d0a7dd8d02c8a35fc71bbc319b90f?s=128&d=identicon&r=PG&f=1", "display_name": "Arnav Kaushik", "link": "https://stackoverflow.com/users/8503080/arnav-kaushik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 48033496, "answer_count": 1, "score": 0, "last_activity_date": 1563242247, "creation_date": 1514607334, "last_edit_date": 1563242247, "question_id": 48030881, "link": "https://stackoverflow.com/questions/48030881/uibutton-is-not-setting-text", "title": "UIButton is not setting text", "body": "<p>I seem to have a problem in my Objective C iOS app where I am creating multiple buttons depending on the amount of objects in an array. I know Swift, so I replicated the logic into Swift, and it worked. Yet in Objective C, I am unable to see the text of the button (after I remove the for loop) or create multiple buttons. For example, I have an array full of three names. I would like to create a button for each name with the title set to the corresponding name. So far, I have this:</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n  [super viewDidLoad];\n\n\nNSMutableArray *ages = [[NSMutableArray alloc] init];\n\nfor (int i = 0; i &gt; 10; i++) {\n    [ages addObject:[NSString stringWithFormat:@\"%i\", i]];\n}\n\n\nUIScrollView  *scrollView= [[UIScrollView alloc]initWithFrame:self.view.frame];\nscrollView.delegate= self;\nself.automaticallyAdjustsScrollViewInsets= NO;\nscrollView.backgroundColor= [UIColor clearColor];\nscrollView.scrollEnabled= YES;\nscrollView.userInteractionEnabled= YES;\n[scrollView setShowsHorizontalScrollIndicator:NO];\n[scrollView setShowsVerticalScrollIndicator:NO];\n\n\nCGFloat xValue = 0;\nfor(int x=0; x &gt; ages.count; x++){\n    UIButton  *button= [[UIButton alloc] initWithFrame:CGRectMake(xValue ,0 , 172 ,65)];\n    UIColor *buttonOutline = [[UIColor redColor] CGColor];\n    button.layer.borderColor = [buttonOutline CGColor];\n    button.layer.backgroundColor = [[UIColor clearColor] CGColor];\n    button.layer.borderWidth = 1.0;\n    button.layer.cornerRadius = 6.0;\n    [button.titleLabel setFont:[UIFont fontWithName:@\"Helvetica\" size:13.0]];\n    button.titleLabel.text = [ages objectAtIndex:x];\n    [button addTarget:self action:@selector(test:) forControlEvents:UIControlEventTouchUpInside];\n    [scrollView addSubview:button];\n    NSLog(@\"Button Added\");\n    xValue = button.frame.size.width + 40;\n\n}\n\nscrollView.contentSize = CGSizeMake(xValue, 65);\n[self.view addSubview:scrollView];\n\n}\n\n- (void)test:(UIButton*)sender{\n    NSLog(@\"Clicked %@\", sender.titleLabel.text);\n}\n\n\n\n@end\n</code></pre>\n\n<p>If anyone sees anything wrong with this code, please point it out! </p>\n\n<p>Thanks,</p>\n\n<p>Arnav K.</p>\n"}, {"tags": ["ios", "objective-c", "opentok", "tokbox"], "comments": [{"owner": {"reputation": 443, "user_id": 354876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7u56.png?s=128&g=1", "display_name": "spnkr", "link": "https://stackoverflow.com/users/354876/spnkr"}, "edited": false, "score": 0, "creation_date": 1514604809, "post_id": 48030678, "comment_id": 83031578, "body": "Anyone had any luck with [OTAudioDeviceManager setAudioDevice:] or the OTAudioBus class?"}], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 354876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7u56.png?s=128&g=1", "display_name": "spnkr", "link": "https://stackoverflow.com/users/354876/spnkr"}, "edited": false, "score": 0, "creation_date": 1515190141, "post_id": 48030814, "comment_id": 83220643, "body": "Is there an audio driver that sends audio through the phone&#39;s small phone speaker? Like the speaker that you use on normal calls?"}, {"owner": {"reputation": 577, "user_id": 4749315, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/XTJPP.jpg?s=128&g=1", "display_name": "Gangani Roshan", "link": "https://stackoverflow.com/users/4749315/gangani-roshan"}, "reply_to_user": {"reputation": 443, "user_id": 354876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7u56.png?s=128&g=1", "display_name": "spnkr", "link": "https://stackoverflow.com/users/354876/spnkr"}, "edited": false, "score": 0, "creation_date": 1515213954, "post_id": 48030814, "comment_id": 83225611, "body": "@spnkr it&#39;s use for to set a custom audio device to be used by the app. The audio device manages access to the audio capturing and rendering hardware. for more detail <a href=\"https://tokbox.com/developer/sdks/ios/reference/Classes/OTAudioDeviceManager.html\" rel=\"nofollow noreferrer\">tokbox.com/developer/sdks/ios/reference/Classes/&hellip;</a>"}, {"owner": {"reputation": 577, "user_id": 4749315, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/XTJPP.jpg?s=128&g=1", "display_name": "Gangani Roshan", "link": "https://stackoverflow.com/users/4749315/gangani-roshan"}, "reply_to_user": {"reputation": 443, "user_id": 354876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7u56.png?s=128&g=1", "display_name": "spnkr", "link": "https://stackoverflow.com/users/354876/spnkr"}, "edited": false, "score": 0, "creation_date": 1515214001, "post_id": 48030814, "comment_id": 83225621, "body": "@spnkr i would answer based on your question."}], "tags": [], "owner": {"reputation": 577, "user_id": 4749315, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/XTJPP.jpg?s=128&g=1", "display_name": "Gangani Roshan", "link": "https://stackoverflow.com/users/4749315/gangani-roshan"}, "is_accepted": false, "score": 2, "last_activity_date": 1514606606, "creation_date": 1514606606, "answer_id": 48030814, "question_id": 48030678, "link": "https://stackoverflow.com/questions/48030678/how-do-i-get-the-audio-from-a-stream-to-play-through-the-iphones-normal-not-sp/48030814#48030814", "title": "How do I get the audio from a stream to play through the iPhone&#39;s normal (NOT speakerphone) speaker?", "body": "<p>Setting up the audio device and the audio bus</p>\n\n<p>[OTAudioDeviceManager setAudioDevice:[[OTKBasicAudioDevice alloc] init]];</p>\n\n<p>Use the OTAudioFormat class, defined in the OpenTok iOS SDK, to define the audio format used by the custom audio driver. The [OTKBasicAudioDevice init] method creates an instance of the OTAudioFormat class, and sets the sample rate and number of channels for the audio format:</p>\n\n<pre><code>- (id)init\n{\n    self = [super init];\n    if (self) {\n        self = [super init];\n        if (self) {\n            _otAudioFormat = [[OTAudioFormat alloc] init];\n            _otAudioFormat.sampleRate = kSampleRate;\n            _otAudioFormat.numChannels = 1;\n        }\n\n        // ...\n    }\n    return self;\n}\n</code></pre>\n\n<p>The init method also sets up some local properties that report whether the device is capturing, whether capturing has been initialized, whether it is rendering and whether rendering has been initialized:</p>\n\n<pre><code>_isDeviceCapturing = NO;\n_isCaptureInitialized = NO;\n_isDeviceRendering = NO;\n_isRenderingInitialized = NO;\n</code></pre>\n\n<p>The init method also sets up a file to save the incoming audio to a file. This is done simply to illustrate a use of the custom audio driver's audio renderer:</p>\n\n<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,\n                                                     NSUserDomainMask,\n                                                     YES);\nNSString *path = [paths[0] stringByAppendingPathComponent:kOutputFileSampleName];\n\n[[NSFileManager defaultManager] createFileAtPath:path\n                                        contents:nil\n                                      attributes:nil];\n_outFile = [NSFileHandle fileHandleForReadingAtPath:path];\n</code></pre>\n\n<p>The [OTKBasicAudioDevice setAudioBus:] method (defined by the OTAudioDevice protocol) sets the audio bus to be used by the audio device (defined by the OTAudioBus protocol). The audio device uses this object to send and receive audio samples to and from a session. This instance of the object is retained for the lifetime of the implementing object. The publisher will access the OTAudioBus object to obtain the audio samples. And subscribers will send audio samples (from subscribed streams) to the OTAudioBus object. Here is the OTKBasicAudioDevice implementation of the [OTAudioDevice setAudioBus:] method:</p>\n\n<pre><code>- (BOOL)setAudioBus:(id&lt;OTAudioBus&gt;)audioBus\n{\n    self.otAudioBus = audioBus;\n    return YES;\n}\n</code></pre>\n\n<p>The [OTKBasicAudioDevice setAudioBus:] method (defined by the OTAudioDevice protocol) method sets the audio rendering format, the OTAudioFormat instance that was created in the the init method:</p>\n\n<pre><code>- (OTAudioFormat*)renderFormat\n{\n    return self.otAudioFormat;\n}\n</code></pre>\n\n<p>For More Referece use <a href=\"https://github.com/opentok/opentok-ios-sdk-samples-swift\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}], "owner": {"reputation": 443, "user_id": 354876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T7u56.png?s=128&g=1", "display_name": "spnkr", "link": "https://stackoverflow.com/users/354876/spnkr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1514606606, "creation_date": 1514604521, "question_id": 48030678, "link": "https://stackoverflow.com/questions/48030678/how-do-i-get-the-audio-from-a-stream-to-play-through-the-iphones-normal-not-sp", "title": "How do I get the audio from a stream to play through the iPhone&#39;s normal (NOT speakerphone) speaker?", "body": "<p>I'm making a voice and video chat app for iOS using OpenTok. The audio for video streams AND audio-only streams works find when I have a headset plugged in. If I don't, it plays through the speakerphone. How do I change this?</p>\n"}, {"tags": ["ios", "objective-c", "bluetooth-lowenergy", "core-bluetooth"], "answers": [{"comments": [{"owner": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 0, "creation_date": 1514788115, "post_id": 48047242, "comment_id": 83066790, "body": "I attempt reconnect when central\u2019s state is powered on. The callback to state restroration method is not called when I turn the Bluetooth on. I have put a log in it which writes on a file, nothing gets logged there."}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 0, "creation_date": 1514788609, "post_id": 48047242, "comment_id": 83066853, "body": "Hmm... I don&#39;t know what that would be since you are properly receiving other background messages."}, {"owner": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 0, "creation_date": 1514823948, "post_id": 48047242, "comment_id": 83074363, "body": "When I relaunch the app manually the peripheral state received in willRestoreState is connecting, but it never connects."}, {"owner": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 0, "creation_date": 1515218104, "post_id": 48047242, "comment_id": 83226287, "body": "I have edited my question to add central state method. Can you take a look?"}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 1, "creation_date": 1515272785, "post_id": 48047242, "comment_id": 83240934, "body": "I&#39;m stumped. However, this SO question appears to discuss some this issue a bit <a href=\"https://stackoverflow.com/questions/34290967/ble-background-reconnect\" title=\"ble background reconnect\">stackoverflow.com/questions/34290967/ble-background-reconnec&zwnj;&#8203;t</a> . Check #5 on the accepted answer \u2013 it&#39;s what you are describing. However note that the OP editing his question after with some changes to address &quot;point 5&quot;. Hope this helps."}, {"owner": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 0, "creation_date": 1515308631, "post_id": 48047242, "comment_id": 83247313, "body": "According to point 5 in the answer, state restoration is essentially useless if user turns his radio off. This is disappointing."}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "edited": false, "score": 0, "creation_date": 1515362170, "post_id": 48047242, "comment_id": 83261768, "body": "Yes, but the original poster of that question edited his question after and appeared to say he found a usable solution to &quot;point 5&quot;. I assume he was talking about #5 in the accepted answer. Look after where he says &quot;regarding point 5 - my fall (sic, he meant fault?) - should use this key with connectPeripheral&quot;. It&#39;s worth a try to add those two key... but you may be out of luck. Empirically, my Fitbit seems to sync and I do turn bluetooth off periodically."}], "tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": false, "score": 2, "last_activity_date": 1514782586, "creation_date": 1514782586, "answer_id": 48047242, "question_id": 48030480, "link": "https://stackoverflow.com/questions/48030480/turning-bluetooth-radio-back-on-after-the-app-is-suspended-doesnt-call-centralm/48047242#48047242", "title": "Turning bluetooth radio back on after the app is suspended doesn&#39;t call centralManagerDidUpdateState", "body": "<p>Are you monitoring for state changes in the <code>CBCentralManager</code>? You should get a delegate callback when Bluetooth is turned off and on, documented <a href=\"https://developer.apple.com/documentation/corebluetooth/cbcentralmanagerdelegate/1518888-centralmanagerdidupdatestate?language=objc\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>- (void)centralManagerDidUpdateState:(CBCentralManager *)central {\n    if (central.state == CBManagerStatePoweredOn) {\n        // reconnect/scan/etc\n    }\n}\n</code></pre>\n\n<p>It sounds like you are using Core Bluetooth <a href=\"https://developer.apple.com/library/content/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/CoreBluetoothBackgroundProcessingForIOSApps/PerformingTasksWhileYourAppIsInTheBackground.html#//apple_ref/doc/uid/TP40013257-CH7-SW5\" rel=\"nofollow noreferrer\"><em>State Preservation and Restoration</em></a>, which is supposed to notify you on these state changes.</p>\n\n<p>Also, I can't try it out right now, but you might be able to also attempt-reconnect when bluetooth is off since connect requests do not time out.</p>\n"}], "owner": {"reputation": 370, "user_id": 627730, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a3987849727480eec0836ff7c1b76190?s=128&d=identicon&r=PG", "display_name": "Saleh", "link": "https://stackoverflow.com/users/627730/saleh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1599853428, "creation_date": 1514601821, "last_edit_date": 1599853428, "question_id": 48030480, "link": "https://stackoverflow.com/questions/48030480/turning-bluetooth-radio-back-on-after-the-app-is-suspended-doesnt-call-centralm", "title": "Turning bluetooth radio back on after the app is suspended doesn&#39;t call centralManagerDidUpdateState", "body": "<p>My app connects with a low energy peripheral. When the peripheral goes out of range, I get <code>didDisconnect</code> method callback, I simply call connect on the peripheral and whenever it comes back into range it connects.</p>\n<p>Even in the background, even if the app is suspended by iOS, but since I have a pending connection, it wakes the app up and connects.</p>\n<p>However, if the user turns the Bluetooth off, all the peripherals go into disconnected state, hence no pending connection remains. If the app is suspended by iOS, and the user turns it back on after suspension, none of my delegate methods are called, I have added my initialization and state restoration methods below.</p>\n<p>I initialize my central manager on background queue but whenever I receive a callback, I get the main queue to execute tasks:</p>\n<pre><code>- (void)initialize {\nif (!self.centralManager) {\n    _centralManager = [[CBCentralManager alloc] initWithDelegate:self queue:dispatch_get_global_queue(QOS_CLASS_BACKGROUND, 0) options:@{ CBCentralManagerOptionRestoreIdentifierKey:@&quot;CBCentralManagerIdentifierKey&quot; }];\n}\n}\n</code></pre>\n<p><strong>My central state callback method</strong></p>\n<pre><code>- (void)centralManagerDidUpdateState:(CBCentralManager *)central {\n\ndispatch_async(dispatch_get_main_queue(), ^{\n    [SFUtil writeLog:@&quot;centralManagerDidUpdateState&quot;];\n    if (central.state == CBManagerStatePoweredOff) {\n        [SFUtil writeLog:@&quot;CBManagerStatePoweredOff&quot;];\n        [[NSNotificationCenter defaultCenter] postNotificationName:CB_MANAGER_BLUETOOTH_POWERED_OFF object:nil];\n    }\n    else if (central.state == CBManagerStatePoweredOn) {\n        [SFUtil writeLog:@&quot;CBManagerStatePoweredOn&quot;];\n        [self restoreConnections]; // here I reconnect to already known devices, retrieved from calling central method of retrievePeripheralsWithIdentifiers\n        [[NSNotificationCenter defaultCenter] postNotificationName:CB_MANAGER_BLUETOOTH_POWERED_ON object:nil];\n    }\n});\n</code></pre>\n<p>}</p>\n<p><strong>My central restoration method:</strong></p>\n<pre><code>- (void)centralManager:(CBCentralManager *)central willRestoreState:(NSDictionary&lt;NSString *, id&gt; *)dict {\n\ndispatch_async(dispatch_get_main_queue(), ^{\n    [DataManagerInstance startBackgroundTaskIfInBackground]; // Here, I start a background task.\n    [self initialize];\n   });\n}\n</code></pre>\n<p>I need to reconnect to the peripheral in the background when user reopens the app, but since centralManagerDidUpdateState method is never called when user turns the bluetooth back on from control centre or from settings, I cannot send the connect call.</p>\n<p>When I manually launch the app, peripheral is in connecting state but doesn't reconnect.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "core-data"], "comments": [{"owner": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1514626430, "post_id": 48030471, "comment_id": 83035488, "body": "A couple of questions: a) do you need the insert/update/delete functionality that a fetchedResultsController provides? (If not, then three separate fetches, with complementary predicates, might serve you better.  Bear in mind also that an FRC for Set 2 will not respond to changes to objects in Set 1, so there will always be an issue in keeping the TV up to date.) b) do you want the section to appear, even if there are no matching items?  (If so, it rules out using a single FRC to provide the sectioning - but you might be able to use  three FRCs, one for each section.)"}, {"owner": {"reputation": 11300, "user_id": 394484, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/2dd516c00b9ba550527629c803eb83f8?s=128&d=identicon&r=PG&f=1", "display_name": "mbm29414", "link": "https://stackoverflow.com/users/394484/mbm29414"}, "reply_to_user": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1514650008, "post_id": 48030471, "comment_id": 83041072, "body": "@pbasdf Thank you for the reply. a) I do not need insert/update/delete functionality. The data for a given <code>UITableView</code> is static. The data might change <i>between</i> 2 different instances of displaying the data, but it doesn\u2019t need to be \u201clive\u201d, if that makes sense. b) This is a good question. I don\u2019t think it will ever be the case that a section will be empty, but I would say, no, if a section is empty, it should not appear. So, does that help me get the data down to a single FRC?"}, {"owner": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1514651345, "post_id": 48030471, "comment_id": 83041449, "body": "On reflection, I don&#39;t think a single FRC will achieve what you want.  Whilst it will be possible (if tricky) to define a custom method to use in the sectionNameKeyPath, defining a corresponding sort descriptor for the underlying fetch will not be possible: CoreData fetches can only be sorted by one or more attribute/keyPath values.  So I think three separate fetches might be your best bet."}], "owner": {"reputation": 11300, "user_id": 394484, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/2dd516c00b9ba550527629c803eb83f8?s=128&d=identicon&r=PG&f=1", "display_name": "mbm29414", "link": "https://stackoverflow.com/users/394484/mbm29414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514601702, "creation_date": 1514601702, "question_id": 48030471, "link": "https://stackoverflow.com/questions/48030471/core-data-split-into-sections-based-on-custom-logic", "title": "Core Data: split into sections based on custom logic", "body": "<p>I have a large data set of objects, made up of 2 large-ish subsets.</p>\n\n<ul>\n<li>Set 1 has about 10,000 objects in it.</li>\n<li>Set 2 has about 70,000 objects in it.</li>\n<li>The object sets have many-to-many relationships between them.</li>\n<li>There are also \"favorites\" subsets for both sets.</li>\n</ul>\n\n<p>Before I display set 1 or set 2, I will have a subset from the other set to drive my query/fetch.</p>\n\n<p>Let's say:</p>\n\n<ul>\n<li>I have selected 10 objects from set 1. </li>\n<li>I would like to display set 2. </li>\n<li><p>I'd like set 2 to be grouped into 3 sections:</p>\n\n<ol>\n<li>Section 1 would be objects in set 2 that have relationships with the 10 selected objects from set 1.</li>\n<li>Section 2 would be objects in the \"favorites\" subset that are <strong>NOT</strong> in #1.</li>\n<li>Section 3 would be the rest.</li>\n</ol></li>\n</ul>\n\n<p>So, conceptually, I have the following steps (again, given 10 selected objects from set 1 and a \"favorites\" subset from set 2):</p>\n\n<ol>\n<li>Figure out which objects in set 2 correspond to the selected objects from set 1.</li>\n<li>Set #1 aside and remove them from the overall set (but only for this display).</li>\n<li>Figure out which objects are left in set 2 that are also in the \"favorites\" subset.</li>\n<li>Set #2 aside and remove them from the overall set (again, only for this display).</li>\n<li>Figure out which objects are left.</li>\n</ol>\n\n<p>At the end of this, I'd like to display the 3 sections in a <code>UITableView</code>.</p>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/4961668/nsfetchedresultscontroller-separated-into-sections-based-on-calculated-attribute\">this question</a>, but I wasn't sure whether the supplied answers were:</p>\n\n<ol>\n<li>Still valid (it's been almost 7 years since the question was asked)</li>\n<li>Valid for my use case. (Would the calculated method return a section number? If so, would I have to pass in both subsets on which I am doing my filtering? How is that going to perform with such large data sets?)</li>\n</ol>\n"}, {"tags": ["objective-c", "swift", "macos", "screenshot"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 2457861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef874428e5c635631cb19f476586dc6?s=128&d=identicon&r=PG", "display_name": "Kevin Yue", "link": "https://stackoverflow.com/users/2457861/kevin-yue"}, "edited": false, "score": 0, "creation_date": 1537546602, "post_id": 48030215, "comment_id": 91838102, "body": "It&#39;s a very useful answer, thanks a lot. But how to get window ID from the <code>viewDidAppear</code> method in ViewController? I tried <code>view.window?.windowNumber</code>, but it&#39;s not the global window number assigned by the window server."}, {"owner": {"reputation": 1051, "user_id": 5390105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f505c411e17010fb1725da161095293c?s=128&d=identicon&r=PG&f=1", "display_name": "ThatsJustCheesy", "link": "https://stackoverflow.com/users/5390105/thatsjustcheesy"}, "reply_to_user": {"reputation": 133, "user_id": 2457861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef874428e5c635631cb19f476586dc6?s=128&d=identicon&r=PG", "display_name": "Kevin Yue", "link": "https://stackoverflow.com/users/2457861/kevin-yue"}, "edited": false, "score": 0, "creation_date": 1537819809, "post_id": 48030215, "comment_id": 91914616, "body": "@Kevin A good chunk of the answer is dedicated to finding the window ID using <code>CGWindowListCopyWindowInfo</code>; did you try those instructions?"}, {"owner": {"reputation": 133, "user_id": 2457861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef874428e5c635631cb19f476586dc6?s=128&d=identicon&r=PG", "display_name": "Kevin Yue", "link": "https://stackoverflow.com/users/2457861/kevin-yue"}, "edited": false, "score": 1, "creation_date": 1537849912, "post_id": 48030215, "comment_id": 91921926, "body": "I solved my problem by using <code>CGWindowListCopyWindowInfo</code> to find the window   info list and filter the list by the current process ID got from <code>ProcessInfo().processIdentifier</code>."}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "edited": false, "score": 1, "creation_date": 1539662223, "post_id": 48030215, "comment_id": 92572098, "body": "In my Objective-C program, I seemed to be getting a valid (non-0) window ID values, but trying to capture the window image kept coming back with nothing. I was able to fix this by substituting <code>kCGWindowListOptionOnScreenOnly</code> for <code>kCGWindowListOptionAll</code>."}, {"owner": {"reputation": 2622, "user_id": 1256878, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3fcee70c8495e58083da0dd877f7e207?s=128&d=identicon&r=PG", "display_name": "Kibernetik", "link": "https://stackoverflow.com/users/1256878/kibernetik"}, "edited": false, "score": 1, "creation_date": 1568965446, "post_id": 48030215, "comment_id": 102450473, "body": "A good answer, but if the window is partially out of the screen then only visible part of it will be captured. Whereas the screen capture utility can make a screenshot of a window which is partially out of the screen."}], "tags": [], "owner": {"reputation": 1051, "user_id": 5390105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f505c411e17010fb1725da161095293c?s=128&d=identicon&r=PG&f=1", "display_name": "ThatsJustCheesy", "link": "https://stackoverflow.com/users/5390105/thatsjustcheesy"}, "is_accepted": false, "score": 30, "last_activity_date": 1514598478, "creation_date": 1514598478, "answer_id": 48030215, "question_id": 48030214, "link": "https://stackoverflow.com/questions/48030214/capture-screenshot-of-macos-window/48030215#48030215", "title": "Capture screenshot of macOS window", "body": "<p>Screen capture on macOS is possible through <a href=\"https://developer.apple.com/documentation/coregraphics/quartz_window_services\" rel=\"noreferrer\">Quartz Window Services</a>, a facility of the Core Graphics framework. Our key function here is <code>CGWindowListCreateImage</code>, which \u201creturns a composite image based on a dynamically generated list of windows,\u201d or, in other words, finds windows based on specified criteria and creates an image with the contents of each. Perfect! Its declaration is as follows:</p>\n\n<pre><code>CGImageRef CGWindowListCreateImage(CGRect screenBounds, \n                                   CGWindowListOption listOption, \n                                   CGWindowID windowID, \n                                   CGWindowImageOption imageOption);\n</code></pre>\n\n<p>So, in order to capture one specific window on the screen, we\u2019ll need its window ID (<code>CGWindowID</code>). To go about retrieving that, we\u2019ll first need a list of all of the windows available on the system. We get that through <a href=\"https://developer.apple.com/documentation/coregraphics/1455137-cgwindowlistcopywindowinfo?language=objc\" rel=\"noreferrer\"><code>CGWindowListCopyWindowInfo</code></a>, which takes <code>CGWindowListOption</code>s and a corresponding <code>CGWindowID</code> that, together, select which windows to include in the resulting list. To get <strong>ALL the windows</strong>, we specify <code>kCGWindowListOptionAll</code>, and <code>kCGNullWindowID</code>, respectively. Also, if you haven\u2019t figured it out already, this is a C API, so we\u2019ll use a bridging cast to work with the friendlier Objective-C containers rather than the Core Foundation ones.</p>\n\n<p><strong>Objective-C:</strong></p>\n\n<pre><code>NSArray&lt;NSDictionary*&gt; *windowInfoList = (__bridge_transfer id)\n    CGWindowListCopyWindowInfo(kCGWindowListOptionAll, kCGNullWindowID);\n</code></pre>\n\n<p><strong>Swift:</strong></p>\n\n<pre><code>let windowInfoList = CGWindowListCopyWindowInfo(.optionAll, kCGNullWindowID)!\n    as NSArray\n</code></pre>\n\n<p>From here, we need to filter our <code>windowInfoList</code> down to the specific window that we want. Chances are we want to filter first by application. To do that, we\u2019ll need the process ID of our application of choice. We can use <code>NSRunningApplication</code> to accomplish this:</p>\n\n<p><strong>Objective-C:</strong></p>\n\n<pre><code>NSArray&lt;NSRunningApplication*&gt; *apps = \n    [NSRunningApplication runningApplicationsWithBundleIdentifier:\n        /* Bundle ID of the application, e.g.: */ @\"com.apple.Safari\"];\nif (apps.count == 0) {\n    // Application is not currently running\n    puts(\"The application is not running\");\n    return; // Or whatever\n}\npid_t appPID = apps[0].processIdentifier;\n</code></pre>\n\n<p><strong>Swift:</strong></p>\n\n<pre><code>let apps = NSRunningApplication.runningApplications(withBundleIdentifier:\n    /* Bundle ID of the application, e.g.: */ \"com.apple.Safari\")\nif apps.isEmpty {\n    // Application is not currently running\n    print(\"The application is not running\")\n    return // Or whatever\n}\nlet appPID = apps[0].processIdentifier\n</code></pre>\n\n<p>With <code>appPID</code> in hand, we can now go ahead and filter down our window info list to only windows with a matching owner PID:</p>\n\n<p><strong>Objective-C:</strong></p>\n\n<pre><code>NSMutableArray&lt;NSDictionary*&gt; *appWindowsInfoList = [NSMutableArray new];\nfor (NSDictionary *info in windowInfoList) {\n    if ([info[(__bridge NSString *)kCGWindowOwnerPID] integerValue] == appPID) {\n        [appWindowsInfoList addObject:info];\n    }\n}\n</code></pre>\n\n<p><strong>Swift:</strong></p>\n\n<pre><code>var appWindowsInfoList = [NSDictionary]()\nfor info_ in windowInfoList {\n    let info = info_ as! NSDictionary\n    if (info[kCGWindowOwnerPID as NSString] as! NSNumber).intValue == appPID {\n        appWindowsInfoList.append(info)\n    }\n}\n</code></pre>\n\n<p>We could have done additional filtering above by testing other keys of the info dictionary\u2014for example, by name (<code>kCGWindowName</code>), or by whether the window is on-screen (<code>kCGWindowIsOnscreen</code>)\u2014but for now, we\u2019ll just take the first window in the list:</p>\n\n<p><strong>Objective-C:</strong></p>\n\n<pre><code>NSDictionary *appWindowInfo = appWindowsInfoList[0];\nCGWindowID windowID = [appWindowInfo[(__bridge NSString *)kCGWindowNumber] unsignedIntValue];\n</code></pre>\n\n<p><strong>Swift</strong>:</p>\n\n<pre><code>let appWindowInfo: NSDictionary = appWindowsInfoList[0];\nlet windowID: CGWindowID = (appWindowInfo[kCGWindowNumber as NSString] as! NSNumber).uint32Value\n</code></pre>\n\n<p>And we have our window ID! Now, what else did we need for that call again?</p>\n\n<blockquote>\n<pre><code>CGImageRef CGWindowListCreateImage(CGRect screenBounds, \n                                   CGWindowListOption listOption, \n                                   CGWindowID windowID, \n                                   CGWindowImageOption imageOption);\n</code></pre>\n</blockquote>\n\n<p>First, we need a <code>screenBounds</code> to capture. According to <a href=\"https://developer.apple.com/documentation/coregraphics/1454852-cgwindowlistcreateimage?language=objc\" rel=\"noreferrer\">the documentation</a>, we can specify <code>CGRectNull</code> for this parameter to enclose all specified windows as tightly as possible. Works for me.</p>\n\n<p>Second, we have to specify how we want to select our windows with <code>listOption</code>. We actually used one of these earlier, in our call to <code>CGWindowListCopyWindowInfo</code>, but there we wanted all the windows on the system; here, we only want one, so we\u2019ll specify <code>kCGWindowListOptionIncludingWindow</code>, which, contrary to <a href=\"https://developer.apple.com/documentation/coregraphics/cgwindowlistoption/kcgwindowlistoptionincludingwindow?language=objc\" rel=\"noreferrer\">its documentation page</a>, <em>is</em> meaningful on its own for <code>CGWindowListCreateImage</code> in that it specifies the window we pass, and <em>only</em> the window we pass.</p>\n\n<p>Third, we pass our <code>windowID</code> as the window we want captured.</p>\n\n<p>Fourth and finally, we can specify <code>CGWindowImageOption</code>s with the <code>imageOption</code> parameter. These affect the appearance of the resulting image; you can combine them through bitwise OR. The full list is <a href=\"https://developer.apple.com/documentation/coregraphics/quartz_window_services/window_image_types?language=objc\" rel=\"noreferrer\">here</a>, but common ones include either <code>kCGWindowImageDefault</code>, which captures the window's contents along with its frame and shadow, or <code>kCGWindowImageBoundsIgnoreFraming</code>, which captures only the content, and <code>kCGWindowImageBestResolution</code>, which captures the window's content at the best resolution available, regardless of actual size (and, depending on the window, may be considerably large), or <code>kCGWindowImageNominalResolution</code>, which captures the window at its current size on the screen. Here, I\u2019ve gone with <code>kCGWindowImageBoundsIgnoreFraming</code> and <code>kCGWindowImageNominalResolution</code> to capture only the content at the same size as on the screen.</p>\n\n<p>Aaand, drumroll please:</p>\n\n<p><strong>Objective-C:</strong></p>\n\n<pre><code>CGImageRef windowImage =\n    CGWindowListCreateImage(CGRectNull, kCGWindowListOptionIncludingWindow,\n                            windowID, kCGWindowImageBoundsIgnoreFraming|\n                            kCGWindowImageNominalResolution);\n// NOTE: windowImage may be NULL if the capture failed\n</code></pre>\n\n<p><strong>Swift:</strong></p>\n\n<pre><code>let windowImage: CGImage? =\n    CGWindowListCreateImage(.null, .optionIncludingWindow, windowID,\n                            [.boundsIgnoreFraming, .nominalResolution])\n</code></pre>\n"}], "owner": {"reputation": 1051, "user_id": 5390105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f505c411e17010fb1725da161095293c?s=128&d=identicon&r=PG&f=1", "display_name": "ThatsJustCheesy", "link": "https://stackoverflow.com/users/5390105/thatsjustcheesy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4233, "favorite_count": 14, "answer_count": 1, "score": 9, "last_activity_date": 1514598478, "creation_date": 1514598478, "question_id": 48030214, "link": "https://stackoverflow.com/questions/48030214/capture-screenshot-of-macos-window", "title": "Capture screenshot of macOS window", "body": "<p><em>Note: this question is intentionally very general (e.g. both Objective-C and Swift code examples are requested), as it is intended to document how to capture a window screenshot on macOS as accessibly as possible.</em></p>\n\n<p>I want to capture a screenshot of a macOS window in Objective-C/Swift code. I know this is possible because of the multitude of ways to take a screenshot on macOS (\u21e7\u23184, the Grab utility, <code>screencapture</code> on the command line, \u2026), but I\u2019m not sure how to do it in my own code. Ideally, I\u2019d be able to specify a window of a particular application, and then capture it in an <code>NSImage</code> or <code>CGImage</code> that I could then process and display to the user or store in a file.</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uitoolbar"], "answers": [{"comments": [{"owner": {"reputation": 660, "user_id": 419042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f75f1d9661da2605eadb418aa60fc2a8?s=128&d=identicon&r=PG", "display_name": "galactikuh", "link": "https://stackoverflow.com/users/419042/galactikuh"}, "edited": false, "score": 0, "creation_date": 1514915448, "post_id": 48029528, "comment_id": 83104262, "body": "Thanks. I did this and it wasn&#39;t even as painful as it sounded."}, {"owner": {"reputation": 660, "user_id": 419042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f75f1d9661da2605eadb418aa60fc2a8?s=128&d=identicon&r=PG", "display_name": "galactikuh", "link": "https://stackoverflow.com/users/419042/galactikuh"}, "edited": false, "score": 0, "creation_date": 1515182574, "post_id": 48029528, "comment_id": 83217531, "body": "Just FYI, I did find one issue with this approach. It seems that UIViewController.viewDidLayoutSubviews is called <i>before</i> the embedded UICollectionView.layoutSubview method is called. Presumably the controller is only paying attention to its immediate view (although the function then seems to be poorly named) Since the collectionView has no UICollectionViewController its not clear where to capture this event."}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "reply_to_user": {"reputation": 660, "user_id": 419042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f75f1d9661da2605eadb418aa60fc2a8?s=128&d=identicon&r=PG", "display_name": "galactikuh", "link": "https://stackoverflow.com/users/419042/galactikuh"}, "edited": false, "score": 0, "creation_date": 1515183113, "post_id": 48029528, "comment_id": 83217769, "body": "Good point however what you can do is call UICollectionView.setNeedsLayout and UICollectionView.layoutIfNeeded in the UIViewController.viewDidLayoutSubviews to get the UICollectioView.layoutSubview to happen at that point instead."}, {"owner": {"reputation": 660, "user_id": 419042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f75f1d9661da2605eadb418aa60fc2a8?s=128&d=identicon&r=PG", "display_name": "galactikuh", "link": "https://stackoverflow.com/users/419042/galactikuh"}, "edited": false, "score": 0, "creation_date": 1515200359, "post_id": 48029528, "comment_id": 83223499, "body": "OK I&#39;ll try it. I found the issue because I was centering the scroll view using UIScrollView.setContentOffset, and it wasn&#39;t working the way it did before. The bounds of the scroll view weren&#39;t set up at same time so I started fiddling around with different places to set the offset."}], "tags": [], "owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "is_accepted": true, "score": 1, "last_activity_date": 1514590175, "creation_date": 1514590175, "answer_id": 48029528, "question_id": 48029263, "link": "https://stackoverflow.com/questions/48029263/is-it-possible-to-place-a-uitoolbar-below-a-uicollectionview-without-a-uinavigat/48029528#48029528", "title": "Is it possible to place a UIToolbar below a UICollectionView without a UINavigationController?", "body": "<p>If you have created a UICollectionViewController then the UICollectionView is the main view and as such you can't put things above of below it and that is why you can't drag the UIToolbar onto the view.</p>\n\n<p>What you will need to do is create a UIViewController which conforms to the UICollectionViewDataSource and UICollectionViewDelegate protocols instead.  That will have a UIView as its main view and to that you can add a UICollectionView and a UIToolbar and position them as you want.  Don't forget to also link the data source and delegate of the UICollectionView to your UIViewController.</p>\n"}], "owner": {"reputation": 660, "user_id": 419042, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/f75f1d9661da2605eadb418aa60fc2a8?s=128&d=identicon&r=PG", "display_name": "galactikuh", "link": "https://stackoverflow.com/users/419042/galactikuh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 48029528, "answer_count": 1, "score": 0, "last_activity_date": 1514590175, "creation_date": 1514587704, "last_edit_date": 1514588087, "question_id": 48029263, "link": "https://stackoverflow.com/questions/48029263/is-it-possible-to-place-a-uitoolbar-below-a-uicollectionview-without-a-uinavigat", "title": "Is it possible to place a UIToolbar below a UICollectionView without a UINavigationController?", "body": "<p>I have a UICollectionViewController that contains a UICollectionView, and a UIToolbar. I would like to place the UIToolbar below the UICollectionView (at the bottom of the screen).</p>\n\n<p>What I have now is the UICollectionView that goes all the way to the bottom of the screen and the UIToolbar placed on top of it in the zorder. In the picture below the collection view extends below the toolbar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/egWCs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egWCs.png\" alt=\"Toolbar on top of a CollectionViewController\"></a></p>\n\n<p>I understand that I can do this <a href=\"https://stackoverflow.com/questions/6746384/how-can-i-add-a-uitoolbar-to-a-uiviewcontroller\">with a NavigationController</a>, but I have also read that navigation controllers are for drill down behavior. I don't want that- the items in this toolbar do not necessarily change the view. Also it seems like the NavigationController would make my code more complicated than necessary.</p>\n\n<p>Note, my UIToolbar is added programmatically. I have also tried adding it in the storyboard but I can't figure out how to place the toolbar in my view. This is my storyboard:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2qkjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qkjo.png\" alt=\"enter image description here\"></a></p>\n\n<p>I cannot drag the toolbar into the view and when I run this the storyboard toolbar does not appear. </p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/5760467/how-can-i-pin-a-uitoolbar-to-the-bottom-of-the-screen-in-a-uiscrollview\">question/answer</a> makes it seem like the toolbar can be \"snapped\" to the correct position or the scrollview can be \"re-sized\", but I'm not seeing this behavior. </p>\n"}, {"tags": ["ios", "objective-c", "nsstring"], "comments": [{"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514582359, "post_id": 48028508, "comment_id": 83027100, "body": "This line <code>information = [[ViewController alloc] initWithNibName:@&quot;ViewController&quot; bundle:nil];</code> instantiates a whole new ViewController from the nib file which is not in use anywhere other than as your variable.  It is not a reference to any other instance of ViewController you may have in use.  So you get the default values."}, {"owner": {"reputation": 2536, "user_id": 845431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zISRC.jpg?s=128&g=1", "display_name": "ghostatron", "link": "https://stackoverflow.com/users/845431/ghostatron"}, "edited": false, "score": 0, "creation_date": 1514584867, "post_id": 48028508, "comment_id": 83027875, "body": "The lazy approach would be a singleton/global storage for the data. The correct approach would be to have a property on #2 and then in #1 implement prepareForSegue method to assign data to that property on #2 before its view lifecycle starts."}, {"owner": {"reputation": 51, "user_id": 9134632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55060863635264d5524d83c4ebc11d?s=128&d=identicon&r=PG&f=1", "display_name": "kreed", "link": "https://stackoverflow.com/users/9134632/kreed"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514594617, "post_id": 48028508, "comment_id": 83029949, "body": "@UpholderOfTruth, I can use the same code to pass an int or normal string so I thought that the ViewController object was working correctly. Do you know why the ViewController object would be acting differently in the current scenario?"}, {"owner": {"reputation": 51, "user_id": 9134632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55060863635264d5524d83c4ebc11d?s=128&d=identicon&r=PG&f=1", "display_name": "kreed", "link": "https://stackoverflow.com/users/9134632/kreed"}, "reply_to_user": {"reputation": 2536, "user_id": 845431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zISRC.jpg?s=128&g=1", "display_name": "ghostatron", "link": "https://stackoverflow.com/users/845431/ghostatron"}, "edited": false, "score": 0, "creation_date": 1514594713, "post_id": 48028508, "comment_id": 83029961, "body": "@ghostatron, could you elaborate a little on how to use prepareForSeque in this situation? The apple developer docs aren&#39;t helping much"}, {"owner": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514623589, "post_id": 48028508, "comment_id": 83034836, "body": "Show the code that you use for the Int and &#39;normal&#39; String making sure that it is really doing what you think it is doning."}, {"owner": {"reputation": 51, "user_id": 9134632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55060863635264d5524d83c4ebc11d?s=128&d=identicon&r=PG&f=1", "display_name": "kreed", "link": "https://stackoverflow.com/users/9134632/kreed"}, "reply_to_user": {"reputation": 4340, "user_id": 8111753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1350fa6b2f9cbd73137899f72c55baf2?s=128&d=identicon&r=PG&f=1", "display_name": "Upholder Of Truth", "link": "https://stackoverflow.com/users/8111753/upholder-of-truth"}, "edited": false, "score": 0, "creation_date": 1514654288, "post_id": 48028508, "comment_id": 83042304, "body": "@UpholderOfTruth, I added an edit at the bottom with an example"}, {"owner": {"reputation": 51, "user_id": 9134632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55060863635264d5524d83c4ebc11d?s=128&d=identicon&r=PG&f=1", "display_name": "kreed", "link": "https://stackoverflow.com/users/9134632/kreed"}, "reply_to_user": {"reputation": 2536, "user_id": 845431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zISRC.jpg?s=128&g=1", "display_name": "ghostatron", "link": "https://stackoverflow.com/users/845431/ghostatron"}, "edited": false, "score": 0, "creation_date": 1514658432, "post_id": 48028508, "comment_id": 83043488, "body": "@ghostatron, I got it to work with the prepareForSegue method. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "is_accepted": false, "score": 1, "last_activity_date": 1514633122, "last_edit_date": 1514633122, "creation_date": 1514582656, "answer_id": 48028609, "question_id": 48028508, "link": "https://stackoverflow.com/questions/48028508/passing-data-within-an-nsstring-between-view-controllers-objective-c/48028609#48028609", "title": "Passing data within an NSString between view controllers - Objective C", "body": "<p>Your second view controller creates a new and inactive/dead <code>ViewController</code> object called <code>information</code>. And, you don't call any methods on <code>information</code> that would initialize its date variables.</p>\n\n<p>So <code>information</code>'s <code>timeString</code> and <code>dateString</code> are not initialized. Uninitialized variables are <code>NULL</code> in Objective-C. That's why you see <code>(null)</code> in the output.</p>\n\n<p>Assuming that you need only one <code>ViewController</code> object, which you want to use in the second view controller. If that's the case you must pass a reference of your <code>ViewController</code> to your second view controller.</p>\n"}], "owner": {"reputation": 51, "user_id": 9134632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55060863635264d5524d83c4ebc11d?s=128&d=identicon&r=PG&f=1", "display_name": "kreed", "link": "https://stackoverflow.com/users/9134632/kreed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "closed_date": 1514593602, "answer_count": 1, "score": -2, "last_activity_date": 1514658505, "creation_date": 1514581924, "last_edit_date": 1514658505, "question_id": 48028508, "link": "https://stackoverflow.com/questions/48028508/passing-data-within-an-nsstring-between-view-controllers-objective-c", "closed_reason": "Duplicate", "title": "Passing data within an NSString between view controllers - Objective C", "body": "<p>I'm new to iOS development and trying to get a grasp on objective c. I'm having trouble passing info between view controllers. I've played with this code using an integer and a NSString and it worked, so that tells me the VCs are talking to each other and the problem has something to do with the variables. dataString consists of timeString and dateString which work fine in the first view controller. Then when the string is passed to SecondViewController they each have null values. At the bottom of the page I have the NSLog output. Can anyone see what I'm missing or what I'm doing wrong? </p>\n\n<p>The first view controller .h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface ViewController : UIViewController {\n    NSTimer *time;\n    NSString *dateString;\n    NSString *timeString;\n    int milliseconds;\n    int seconds;\n    int minutes;\n }\n - (IBAction)startButton:(UIButton *)sender;\n - (IBAction)finishButton:(UIButton *)sender;\n\n @property (retain) NSString *dataString; //string that will be passed \n\n @property (strong, nonatomic) IBOutlet UILabel *timer;\n @property (strong, nonatomic) IBOutlet UIButton *button;\n @property (strong, nonatomic) IBOutlet UIButton *finish;\n\n-(NSString *)getData; //I'm not sure why I need this here\n@end \n</code></pre>\n\n<p>First view controller .m</p>\n\n<pre><code> #import \"ViewController.h\"\n #import \"SecondViewController.h\"\n @interface ViewController ();\n\n @end\n\n @implementation ViewController\n\n - (IBAction)startButton:(UIButton *)sender {\n     //timer interval increments by milliseconds in updateTimer\n     time = [NSTimer scheduledTimerWithTimeInterval:.01 target:self \n         selector:@selector(updateTimer) userInfo:nil repeats:YES];\n     NSDate *date = [NSDate date];\n     dateString = [self getDate: date]; //saves date and time the button was pressed \n }\n\n-(void)updateTimer {\n    milliseconds += 1;\n    if (milliseconds == 99){\n        seconds += 1;\n        milliseconds = 0;\n    }\n    if (seconds == 59){\n        minutes += 1;\n        seconds = 0;\n    }\n    timeString = [NSString stringWithFormat: @\"%02i:%02i.%02i\", minutes, seconds, milliseconds]; //formats display time in string\n    self.timer.text = timeString;\n}\n\n-(NSString *)getDate : (NSDate *)date{\n    date = [NSDate date]; //updates object with current date\n    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n    [dateFormatter setDateFormat:@\"MMM dd, yyyy hh:mm a\"]; //formats date\n    dateString = [dateFormatter stringFromDate:date]; //converts date object to string\n    return dateString;\n}\n\n- (IBAction)finishButton:(UIButton *)sender {\n    //button navigates to next view controller\n    if (seconds &gt; 0){\n        [self getData]; //print current values before trying to pass\n    }\n    milliseconds = 0; //resets timer\n    seconds = 0;\n    minutes = 0;\n    self.timer.text = @\"00:00.00\";\n}\n\n //getter method do send string to next view controller \n-(NSString *)getData{\n    dataString = [NSString stringWithFormat:@\"%@ on %@\", timeString, dateString]; //format data\n    NSLog(@\"%@ %@\", dateString, timeString); //to double check values\n    return dataString;\n}\n\n@end\n</code></pre>\n\n<p>Second view controller .h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"ViewController.h\"\n\n@interface dataScreenViewController : UIViewController {\n    NSString *string; //string that I'm trying to pass\n    ViewController *information //object for view controller class \n}\n- (IBAction)press:(UIButton *)sender; //button to display string \n@end  \n</code></pre>\n\n<p>second view controller .m </p>\n\n<pre><code>#import \"SecomdViewController.h\"\n#import \"ViewController.h\"\n\n@interface SecondViewController ()\n\n@end\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    information = [[ViewController alloc] initWithNibName:@\"ViewController\" bundle:nil];\n}\n\n- (IBAction)press:(UIButton *)sender {\n    string = [information getData];\n    NSLog(@\"%@\", string); //prints the string\n} \n</code></pre>\n\n<p>The NSLog output: </p>\n\n<p>2017-12-29 12:47:49.792138-0800 MyFirstProject[6659:333408] Dec 29, 2017 12:47 PM 00:01.50</p>\n\n<p>2017-12-29 12:47:52.499692-0800 MyFirstProject[6659:333408] (null) (null)</p>\n\n<p>2017-12-29 12:47:52.499910-0800 MyFirstProject[6659:333408] (null) on (null)</p>\n\n<p>Since the first print out has the correct information I assume everything is working correctly in the first VC, but then information in the variables in the string gets lost when I pass it. </p>\n\n<p>EDIT: \nHere is the example of the ViewControllers talking one another to pass an int and a string. I just made the change in the getData method: </p>\n\n<pre><code>-(NSString *)getData{\n    NSString *string = @\"This is a string\";\n    string = [NSString stringWithFormat:@\"%i on %@\", 3, string];\n    return string;\n}\n</code></pre>\n\n<p>And then I still access it the same way in the second view controller:</p>\n\n<pre><code>- (IBAction)press:(UIButton *)sender {\n    NSString *string = [information getData];\n    NSLog(@\"%@\", string); \n}\n</code></pre>\n\n<p>And then the output is: </p>\n\n<p>2017-12-30 09:07:40.764295-0800 MyFirstProject[8435:460529] 3 on This is a string</p>\n"}, {"tags": ["objective-c", "cocoa"], "comments": [{"owner": {"reputation": 3180, "user_id": 242882, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/06edc9bfd03c4e42da4e6b2704492487?s=128&d=identicon&r=PG", "display_name": "Volodymyr B.", "link": "https://stackoverflow.com/users/242882/volodymyr-b"}, "edited": false, "score": 0, "creation_date": 1514584073, "post_id": 48028467, "comment_id": 83027647, "body": "can you add full text of error?"}, {"owner": {"reputation": 2364, "user_id": 2226753, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f4aaabdbd6fc131a2d3503c07d94f6b?s=128&d=identicon&r=PG", "display_name": "Seneca", "link": "https://stackoverflow.com/users/2226753/seneca"}, "reply_to_user": {"reputation": 3180, "user_id": 242882, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/06edc9bfd03c4e42da4e6b2704492487?s=128&d=identicon&r=PG", "display_name": "Volodymyr B.", "link": "https://stackoverflow.com/users/242882/volodymyr-b"}, "edited": false, "score": 0, "creation_date": 1514584500, "post_id": 48028467, "comment_id": 83027777, "body": "Xcode pauses at: 0x7fff9f24c235 &lt;+1&gt;: movl   %eax, %edi Thread 1: EXC_BAD_ACCESS (code=1, address=0x400250006). Is there something fundamentally wrong with my approach?"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514590382, "post_id": 48028467, "comment_id": 83029167, "body": "[self.TimeInput setDelegate:del];  ???"}], "owner": {"reputation": 2364, "user_id": 2226753, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9f4aaabdbd6fc131a2d3503c07d94f6b?s=128&d=identicon&r=PG", "display_name": "Seneca", "link": "https://stackoverflow.com/users/2226753/seneca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "closed_date": 1514594342, "answer_count": 0, "score": 0, "last_activity_date": 1514581694, "creation_date": 1514581694, "question_id": 48028467, "link": "https://stackoverflow.com/questions/48028467/cocoa-nstextfielddelegate-exc-bad-access", "closed_reason": "Duplicate", "title": "cocoa nstextfielddelegate EXC_BAD_ACCESS", "body": "<p>I'm trying to hook a <code>NSTextField</code> to a <code>NSTextFieldDelegate</code> to implement the <code>controlTextDidChange</code>. </p>\n\n<pre><code>// TFDelegate.h\n#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface TFDelegate : NSObject &lt;NSTextFieldDelegate&gt;\n\n@end\n\n// TFDelegate.m\n#import \"TFDelegate.h\"\n\n@implementation TFDelegate\n\n- (void)controlTextDidChange:(NSNotification *)notification {\n    NSLog(@\"controlTextDidChange\");\n}\n\n@end\n\n// ViewController.m\n- (void)viewDidLoad {\n  [super viewDidLoad];\n\n  TFDelegate *del = [[TFDelegate alloc] init];\n  [self.TimeInput setDelegate:del];\n}\n</code></pre>\n\n<p>As soon as I start typing something in the <code>TimeInput</code>-NSTextField, my app crashed with a <code>EXC_BAD_ACCESS</code>. I don't see why my app would try to access memory that doesn't exist? Did I do something wrong with the instantation/allocation of my <code>TFDelegate</code>?</p>\n"}, {"tags": ["objective-c", "c-preprocessor"], "answers": [{"comments": [{"owner": {"reputation": 10998, "user_id": 1458617, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0790c4e75c14c45344fef4937aac2e8a?s=128&d=identicon&r=PG", "display_name": "Rudolfs Bundulis", "link": "https://stackoverflow.com/users/1458617/rudolfs-bundulis"}, "edited": false, "score": 0, "creation_date": 1514578580, "post_id": 48027984, "comment_id": 83025814, "body": "yep, that is why already marked this as a duplicate, but wanted to leave it here in case anyone stumbles upon this."}], "tags": [], "owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "is_accepted": false, "score": 2, "last_activity_date": 1514578528, "creation_date": 1514578528, "answer_id": 48027984, "question_id": 48027790, "link": "https://stackoverflow.com/questions/48027790/preprocessor-macro-taking-nsstring-stringwithformat-fails-due-to-comma/48027984#48027984", "title": "Preprocessor macro taking NSString stringWithFormat fails due to comma", "body": "<p>As the linked question's answer says, the solution lies in using an extra pair of paranthese at the call site:</p>\n\n<pre><code>A(([NSString stringWithFormat:@\"Random string with number %d\", 5]));\n</code></pre>\n\n<p>works.</p>\n"}], "owner": {"reputation": 10998, "user_id": 1458617, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0790c4e75c14c45344fef4937aac2e8a?s=128&d=identicon&r=PG", "display_name": "Rudolfs Bundulis", "link": "https://stackoverflow.com/users/1458617/rudolfs-bundulis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "closed_date": 1514578760, "answer_count": 1, "score": 1, "last_activity_date": 1514578528, "creation_date": 1514577364, "question_id": 48027790, "link": "https://stackoverflow.com/questions/48027790/preprocessor-macro-taking-nsstring-stringwithformat-fails-due-to-comma", "closed_reason": "Duplicate", "title": "Preprocessor macro taking NSString stringWithFormat fails due to comma", "body": "<p>Assuming I have a macro like this</p>\n\n<pre><code>#define A(x) NSLog(@\"%@\", x)\n</code></pre>\n\n<p>how can I call it and format the string in the macro argument like this</p>\n\n<pre><code>A([NSString stringWithFormat:@\"Random string with number %d\", 5]);\n</code></pre>\n\n<p>I am getting error <code>too many arguments provided to function-like macro invocation</code> and the error marker points to the comma, which makes sense, since I  assume that is there the preprocessor splits the arguments, since it does not know the context that it is a selector call. Is it even possible to do this?</p>\n"}, {"tags": ["objective-c", "xcode", "cocoa"], "comments": [{"owner": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 1, "creation_date": 1514568908, "post_id": 48025931, "comment_id": 83022128, "body": "You need to use NSSavePanel and allow the user to select the destination or turn off APP SandBoxing in your App Target Capabilities"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1514583307, "post_id": 48025931, "comment_id": 83027424, "body": "Show some code."}, {"owner": {"reputation": 205, "user_id": 3711521, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/07aadda760571928823ae2aaa7b30324?s=128&d=identicon&r=PG&f=1", "display_name": "user3711521", "link": "https://stackoverflow.com/users/3711521/user3711521"}, "edited": false, "score": 0, "creation_date": 1514584512, "post_id": 48025931, "comment_id": 83027782, "body": "I updated my code, it&#39;s just a basic example. I finally test file in /Users/nubes/Library/Containers/nubes.fr.Proxy-Nubes-Cocoa/D&zwnj;&#8203;ata , how can I create it wherever  the executable is ?"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1514597728, "post_id": 48025931, "comment_id": 83030493, "body": "It&#39;s just a basic example of not understanding why one even wants to sandbox an application."}], "answers": [{"tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1514605060, "creation_date": 1514605060, "answer_id": 48030707, "question_id": 48025931, "link": "https://stackoverflow.com/questions/48025931/cannot-create-file-using-cocoa-with-objective-c/48030707#48030707", "title": "Cannot create file using Cocoa with Objective-C", "body": "<p>Since you didn't use an absolute path, the path is relative to the process's current directory.</p>\n\n<p>If your app is sandboxed, then the current directory is the app sandbox's <code>Data</code> directory. But I guess, from your symptoms, that your app is not sandboxed.</p>\n\n<p>If your app is <strong>not</strong> sandboxed, and you run it from Xcode, its current directory is the directory containing the app (for example, <code>/Users/mayoff/Library/Developer/Xcode/DerivedData/test-aegotyskrtnbeabaungzpkkbjvdz/Build/Products/Debug</code>). Your user id has permission to create files in this directory, so your code works when you run the app from Xcode.</p>\n\n<p>If your app is <strong>not</strong> sandboxed, and you run it by double-clicking it in the Finder, its current directory is the root directory (<code>/</code>). Your user id does not (normally) have permission to create files in this directory, so your code fails when you run the app from the Finder.</p>\n\n<p>You should either let the user choose where to write the file, using an <code>NSSavePanel</code>, or you should write the file to a directory you know you'll have write access to, like the user's Documents folder. Here's some code to write to the Documents folder:</p>\n\n<pre><code>NSURL *documentDirectoryUrl = [NSFileManager.defaultManager URLForDirectory:NSDocumentDirectory inDomain:NSUserDomainMask appropriateForURL:nil create:YES error:nil];\nNSURL *fileUrl = [documentDirectoryUrl URLByAppendingPathComponent:@\"test.txt\"];\nNSString *someText = @\"Hello world\";\nNSError *error;\nif (![someText writeToURL:fileUrl atomically:YES encoding:NSUTF8StringEncoding error:&amp;error]) {\n    // Error occurred. Details are in the error object.\n}\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 3711521, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/07aadda760571928823ae2aaa7b30324?s=128&d=identicon&r=PG&f=1", "display_name": "user3711521", "link": "https://stackoverflow.com/users/3711521/user3711521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "accepted_answer_id": 48030707, "answer_count": 1, "score": -2, "last_activity_date": 1514605060, "creation_date": 1514567191, "last_edit_date": 1514589811, "question_id": 48025931, "link": "https://stackoverflow.com/questions/48025931/cannot-create-file-using-cocoa-with-objective-c", "title": "Cannot create file using Cocoa with Objective-C", "body": "<p>I'm using Xcode to create a macOS application with Cocoa (Objective-C).</p>\n\n<p>I happen to create a text file when running my app with the button Run inside Xcode, but the problem is that the file is not created when I run my application from the directory Products/Release/</p>\n\n<p>Has it something to do with permissions? </p>\n\n<pre><code>NSString *sometext=@\"Hello world\";\nNSString *path=@\"test.txt\";\n[sometext writeToFile:path atomically:YES encoding:NSUTF8StringEncoding error:NULL];\n</code></pre>\n"}, {"tags": ["objective-c", "namespaces", "cocoapods", "collision"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9153550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74cd46769a2d1c9d78de7b29f390206?s=128&d=identicon&r=PG&f=1", "display_name": "vinal", "link": "https://stackoverflow.com/users/9153550/vinal"}, "edited": false, "score": 0, "creation_date": 1514891896, "post_id": 48047266, "comment_id": 83092273, "body": "Thanks Adam. I have one follow up question though,  during the linking process while concatenating same symbols into main binary, whose symbols are given preference : app one or the third party framework one."}, {"owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "reply_to_user": {"reputation": 1, "user_id": 9153550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74cd46769a2d1c9d78de7b29f390206?s=128&d=identicon&r=PG&f=1", "display_name": "vinal", "link": "https://stackoverflow.com/users/9153550/vinal"}, "edited": false, "score": 0, "creation_date": 1514907444, "post_id": 48047266, "comment_id": 83100310, "body": "@vin I think the app would be the last code added to the binary, but it\u2019s completely random for all practical purposes."}], "tags": [], "owner": {"reputation": 1844, "user_id": 240428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b0900f3de9f4e0ce952ae2fd206dac?s=128&d=identicon&r=PG", "display_name": "Adam Kaplan", "link": "https://stackoverflow.com/users/240428/adam-kaplan"}, "is_accepted": false, "score": 0, "last_activity_date": 1514782897, "creation_date": 1514782897, "answer_id": 48047266, "question_id": 48024890, "link": "https://stackoverflow.com/questions/48024890/objective-c-having-name-collision-while-adding-a-framework-in-my-app-via-cocoa/48047266#48047266", "title": "Objective C : having name collision while adding a framework in my app via cocoapod", "body": "<p>There is no easy way around this. When CocoaPods are used to build a static library, all of the classes and symbols are concatenated into the main binary during the linking process.</p>\n\n<p>This is why Apple recommends that all SDKs and projects use a class prefix of at least 3 characters (like <code>ABCMyClass</code>) and Apple reserves all two letter prefixes for themselves. Many people do not follow these rules, and it can cause this exact issue.</p>\n\n<p>The only way for you to move forward is:</p>\n\n<ul>\n<li>Rename you class, add a prefix (or different prefix)</li>\n<li>Change the Cocoapods dependency via pull request.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 9153550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d74cd46769a2d1c9d78de7b29f390206?s=128&d=identicon&r=PG&f=1", "display_name": "vinal", "link": "https://stackoverflow.com/users/9153550/vinal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1514782897, "creation_date": 1514561823, "last_edit_date": 1514591040, "question_id": 48024890, "link": "https://stackoverflow.com/questions/48024890/objective-c-having-name-collision-while-adding-a-framework-in-my-app-via-cocoa", "title": "Objective C : having name collision while adding a framework in my app via cocoapod", "body": "<p>Objective C: I have added a framework in my iOS app via Cocoapod. This framework has few interfaces, file names(.h .m) and xib files with same name as I have used in my app(i.e. name collision). I am able to build my app successfully(i.e. no name collision error) but I am facing runtime issues like framework's xib file (nib) is linking to my app's .h and .m file.<br>\nI think app's class name is having priority over frameworks class. \nHow should I deal with this problem?</p>\n"}, {"tags": ["ios", "objective-c", "apple-music"], "comments": [{"owner": {"reputation": 2099, "user_id": 179608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11nud.jpg?s=128&g=1", "display_name": "lifjoy", "link": "https://stackoverflow.com/users/179608/lifjoy"}, "edited": false, "score": 0, "creation_date": 1516321869, "post_id": 48024505, "comment_id": 83650591, "body": "I have no answer, but confirm that I am experiencing the same delays when my app runs on iOS 11.  My app has no delays when run on iOS 10.  I have another app which uses applicationMusicPlayer instead of systemMusicPlayer, and it has no delays on iOS 11."}], "owner": {"reputation": 2208, "user_id": 5860747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jvitw.jpg?s=128&g=1", "display_name": "Jagdeep Singh", "link": "https://stackoverflow.com/users/5860747/jagdeep-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1514866471, "creation_date": 1514559775, "last_edit_date": 1514866471, "question_id": 48024505, "link": "https://stackoverflow.com/questions/48024505/apple-music-play-and-pause-delay", "title": "Apple Music play and pause delay", "body": "<p>I have integrated Apple Music in project. When i play or pause it takes delay of 2-3 seconds to come in effect. For example if i pause song it pauses after 1-2 second. I am using following methods to play and pause.\nTo Play : </p>\n\n<pre><code>[[MPMusicPlayerController systemMusicPlayer] prepareToPlay]; \n[[MPMusicPlayerController systemMusicPlayer] play];\n</code></pre>\n\n<p>To Pause:</p>\n\n<pre><code>[[MPMusicPlayerController systemMusicPlayer] pause];\n</code></pre>\n\n<p>How can i remove this delay?</p>\n"}, {"tags": ["objective-c", "singleton", "sharedpreferences"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1514583453, "post_id": 48024375, "comment_id": 83027469, "body": "Shared instances should not be re-allocated during the lifespan of an app.  Once created, the sharedInstance should stick around forever.   So, really, this is just a matter of implementing a <code>reset</code> method on the shared instance that resets the contents."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8579512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9f46e34a58b567e3c4d34e9e289f818?s=128&d=identicon&r=PG&f=1", "display_name": "sathya26d", "link": "https://stackoverflow.com/users/8579512/sathya26d"}, "is_accepted": false, "score": -2, "last_activity_date": 1514560742, "creation_date": 1514560742, "answer_id": 48024691, "question_id": 48024375, "link": "https://stackoverflow.com/questions/48024375/objective-c-how-to-clear-shared-instance-all-data-at-once/48024691#48024691", "title": "Objective -C, How to clear shared Instance all data at once?", "body": "<p>static variables cant assigned with the nil. a static variable can be initialized only once in a cycle.Subsequent initialization will skip right over it and continue to the next line. </p>\n"}, {"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1514562694, "creation_date": 1514562694, "answer_id": 48025041, "question_id": 48024375, "link": "https://stackoverflow.com/questions/48024375/objective-c-how-to-clear-shared-instance-all-data-at-once/48025041#48025041", "title": "Objective -C, How to clear shared Instance all data at once?", "body": "<p>I always use this strategy , it's about to clear properties of the object not the object itself and reset them again as you like</p>\n\n<p>.h</p>\n\n<pre><code> #import &lt;Foundation/Foundation.h&gt;\n #import &lt;AVFoundation/AVFoundation.h&gt;\n @interface DataClass : NSObject\n\n\n  @property(nonatomic,retain)NSArray*moreNames;\n\n\n\n  +(DataClass*)getInstance;\n\n  @end\n</code></pre>\n\n<p>.m</p>\n\n<pre><code>#import \"DataClass.h\"\n\n@implementation DataClass\n\nstatic DataClass *instance = nil;\n\n+(DataClass *)getInstance\n{\n   @synchronized(self)\n{\n    if(instance==nil)\n    {\n        instance= [DataClass new];\n\n        instance.moreNames=[[NSArray alloc]initWithObjects:NSLocalizedString(@\"moreName1\", nil),NSLocalizedString(@\"moreName2\", nil),NSLocalizedString(@\"moreName3\", nil),NSLocalizedString(@\"moreName4\", nil),NSLocalizedString(@\"moreName5\", nil),NSLocalizedString(@\"moreName6\", nil),NSLocalizedString(@\"moreName7\", nil),NSLocalizedString(@\"moreName8\", nil),nil];\n\n\n    }\n}\nreturn instance;\n}\n\n -(void)clearContents\n {\n\n    self.moreNames = nil\n\n }\n\n @end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1781, "user_id": 1363730, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ca5cc3a95a8d4071a09eba8dd446370c?s=128&d=identicon&r=PG", "display_name": "itenyh", "link": "https://stackoverflow.com/users/1363730/itenyh"}, "is_accepted": false, "score": 0, "last_activity_date": 1514597955, "creation_date": 1514597955, "answer_id": 48030172, "question_id": 48024375, "link": "https://stackoverflow.com/questions/48024375/objective-c-how-to-clear-shared-instance-all-data-at-once/48030172#48030172", "title": "Objective -C, How to clear shared Instance all data at once?", "body": "<p>You can assign nil to static varible. The problem here is that the init block which is assigned to dispatch_once will not be called the second time, so that you can not init the shareinstance again.</p>\n\n<p>I agree with @Sh_Khan`s strategy. According to what you want I guess, I think you could put all your data in a model (user_id, age, name...), then reset the model when loging out:</p>\n\n<pre><code>+ (DataManager *)shareInstance {\n\n    //static id sharedManager;\n    static dispatch_once_t once;\n    dispatch_once(&amp;once, ^{\n        sharedManager = [[DataManager alloc] init];\n        sharedManager.model = [Model new];\n    });\n\n    return sharedManager;\n\n}\n\n+ (void)resetSharedInstance {\n\n    @synchronized(self) {\n        sharedManager.model = [Model new]; \n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 722, "user_id": 4860988, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/1vOCq.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/4860988/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1514597955, "creation_date": 1514559124, "last_edit_date": 1514566099, "question_id": 48024375, "link": "https://stackoverflow.com/questions/48024375/objective-c-how-to-clear-shared-instance-all-data-at-once", "title": "Objective -C, How to clear shared Instance all data at once?", "body": "<p>I am using shared instance class for saving basic user's information like user_id, age, name and many more. Now I need to remove all data at once during logout. I do not want to delete data one by one. Is there any way by which we can do this? Any suggestion will be Great!! Thanks in advance.</p>\n\n<p>What I have done till now, But it is not working. I have also tried some other ways whichever I found on on Internet, but did not work :</p>\n\n<pre><code>static GlobalValues *sharedManager = nil;\n\n+(GlobalValues*)sharedManager{\n//static id sharedManager;\nstatic dispatch_once_t once;\ndispatch_once(&amp;once, ^{\n    sharedManager = [[GlobalValues alloc] init];\n});\nreturn sharedManager;\n}\n\n+(void)resetSharedInstance {\n@synchronized(self) {\n    sharedManager = nil;\n}\n}\n</code></pre>\n"}, {"tags": ["objective-c", "core-data", "memory-leaks", "nsarray"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1514567702, "post_id": 48023837, "comment_id": 83021614, "body": "Is the leaked memory freed after the loop? Which objects are leaked?"}, {"owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1514646465, "post_id": 48023837, "comment_id": 83040179, "body": "It is freed after the method returns - not after the for-loop ends. But ARC does not release the NSArray with each iteration of the loop, as I would have expected. So with 15 000 iteration, over 1.2 GB of memory accumulated."}, {"owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1514646991, "post_id": 48023837, "comment_id": 83040304, "body": "Actually in the end I switched to pre-sorting the data and then using C malloc techniques. No ARC mysteries and a speed increase of the order of 2 - from 60 secs to 0.6 secs."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 4, "creation_date": 1514648940, "post_id": 48023837, "comment_id": 83040778, "body": "<code>predicateWithFormat</code> and <code>filteredArrayUsingPredicate</code> return autoreleased objects, they are released when the autorelease pool is drained. Put an <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html#//apple_ref/doc/uid/20000047\" rel=\"nofollow noreferrer\">@autoreleasepool block</a> inside the loop."}], "answers": [{"tags": [], "owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "is_accepted": true, "score": 5, "last_activity_date": 1514806112, "creation_date": 1514806112, "answer_id": 48049267, "question_id": 48023837, "link": "https://stackoverflow.com/questions/48023837/nsarray-filteredarrayusingpredicate-memory-leak/48049267#48049267", "title": "NSArray filteredArrayUsingPredicate memory leak", "body": "<p>Willeke's response is the answer : Put an <code>@autoreleasepool</code> block inside the loop. Thanks!</p>\n"}], "owner": {"reputation": 921, "user_id": 42100, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/bQpsR.png?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/42100/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 2, "accepted_answer_id": 48049267, "answer_count": 1, "score": 1, "last_activity_date": 1515946374, "creation_date": 1514556491, "last_edit_date": 1515946374, "question_id": 48023837, "link": "https://stackoverflow.com/questions/48023837/nsarray-filteredarrayusingpredicate-memory-leak", "title": "NSArray filteredArrayUsingPredicate memory leak", "body": "<p>I am get a huge memory leak when trying to use <code>NSPredicate</code> in a for-loop to search for records in a <code>NSArray</code> that has a <code>NSDate</code> field value within a date range - like this:</p>\n\n<pre><code>for(int i=0;i&lt;nLen;i++)\n{\n  NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"date &gt;=  %@ AND date &lt;=  %@\", dateStart,dateEnd];\n  NSArray *result = [myDataArray filteredArrayUsingPredicate:predicate];\n} \n</code></pre>\n\n<p>Simple testing suggests that it is the <code>filteredArrayUsingPredicate</code> function that is leaking.</p>\n\n<p>Using XCode Version 9.2 (9C40b) and iOS 11.2.1 on a iPhone 7s.</p>\n\n<p>Has anyone else seen this?</p>\n"}]