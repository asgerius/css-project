[{"tags": ["ios", "objective-c", "fork", "jailbreak"], "comments": [{"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1545239126, "post_id": 53855789, "comment_id": 94559830, "body": "I&#39;m guessing those code comments are yours? The first one makes no sense."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1545267257, "post_id": 53855789, "comment_id": 94570247, "body": "@BradAllred what comments?"}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1545267607, "post_id": 53855789, "comment_id": 94570306, "body": "The ones you edited out :)"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1545242031, "post_id": 53855959, "comment_id": 94561266, "body": "I just tested on jailbroken device and pid returns -1. Do you know if this mean forks aren&#39;t allowed even on jailbroken device, or that sandbox isnt compromised although jailbroken?"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1545243604, "post_id": 53855959, "comment_id": 94561923, "body": "I would say that the generation of jailbreak OS you have doesn&#39;t fall for this detection technique. I was a bit surprised that such a basic test would work; it&#39;s a lot harder than that to detect jailbreaks. But the above is what that code is trying to do."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1545244055, "post_id": 53855959, "comment_id": 94562102, "body": "this test is is commonly used, and also exemplified in an Oreily book <code>Hacking and Securing iOS Applications</code>. Ive added my jailbreak code. Are there any resources or examples of better jailbreak detection without risking app review rejection? Thanks for the help"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1545247209, "post_id": 53855959, "comment_id": 94563505, "body": "If a simple app-level test could reliably detect jailbreaks for an extended period of time, Apple would just apply that test to prevent jailbreaking in the first place. Jailbreaking and jailbreak detection is an arms race where you need to keep your techniques secret or they won&#39;t work any more. It&#39;s not security; it&#39;s just obfuscation, and that means anything you pick up on StackOverflow or in a popular book is going to have bypasses."}, {"owner": {"reputation": 8880, "user_id": 2363866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToSkw.png?s=128&g=1", "display_name": "creker", "link": "https://stackoverflow.com/users/2363866/creker"}, "edited": false, "score": 0, "creation_date": 1545252213, "post_id": 53855959, "comment_id": 94565529, "body": "No one is hiding anything from anyone, jailbreaking software is not trying to fool third party apps and never did. Detecting jailbreak at the level of access that Apple has is trivial. Same can be said for regular apps. The problem is that all these techniques were developed for older jailbreaks that were stable and pretty much identical in the things they did to the system to get full access to it. Recent jailbreaks are all different, half working, half broken, some things are patched, some are not. It&#39;s a complete chaos right now."}, {"owner": {"reputation": 8880, "user_id": 2363866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToSkw.png?s=128&g=1", "display_name": "creker", "link": "https://stackoverflow.com/users/2363866/creker"}, "edited": false, "score": 1, "creation_date": 1545252540, "post_id": 53855959, "comment_id": 94565679, "body": "The reason that fork is not working on your device is specific to the jailbreak software you used. Jailbreak usually does several kernel patches to disable security features that prevent unsigned code execution and enable certain features to allow developers easier access to iOS internals. Forking is one of them. You get -1 because this exact jailbreak does not enable it. Pretty much all older jailbreak did, it was a standard feature. Same with CydiaSubstrate support, you need specific patches to enable it. Some recent jailbreaks also lack these patches."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 5, "last_activity_date": 1545238858, "creation_date": 1545238858, "answer_id": 53855959, "question_id": 53855789, "link": "https://stackoverflow.com/questions/53855789/using-fork-objc/53855959#53855959", "title": "Using fork objc", "body": "<p>A PID of 0 doesn't mean the fork failed. It means the fork succeeded and that the current process is the child. PID > 0 means the fork succeeded and the current process is the parent (the returned value is the child's PID). PID -1 means that it failed.</p>\n\n<p>Since app processes are usually forbidden from forking, a -1 is the expected result. If <code>fork</code> is allowed, then there are two processes. The parent returns YES, and the child is terminated since it isn't actually needed for anything but testing whether the fork was allowed.</p>\n"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 53855959, "answer_count": 1, "score": 1, "last_activity_date": 1545267054, "creation_date": 1545238304, "last_edit_date": 1545267054, "question_id": 53855789, "link": "https://stackoverflow.com/questions/53855789/using-fork-objc", "title": "Using fork objc", "body": "<p>When detecting jailbroken device, why do most examples terminate app if fork process fails? Doesn't that mean device is not jailbroken, so everything is ok, without any child process? </p>\n\n<pre><code>int pid = fork();\nif (!pid){\n    exit(0);\n}\nif (pid &gt;= 0) {\n    return YES;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "memory"], "comments": [{"owner": {"reputation": 8483, "user_id": 5318223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/be47da4995eb4e8dff0ab4637e5773d6?s=128&d=identicon&r=PG&f=1", "display_name": "Kiril S.", "link": "https://stackoverflow.com/users/5318223/kiril-s"}, "edited": false, "score": 1, "creation_date": 1545242457, "post_id": 53854873, "comment_id": 94561458, "body": "what if you try <code>vmInfo.phys_footprint</code>? It includes physical + swapped, so if that doesn&#39;t grow, would be really weird. If it does, then you know that <code>vmInfo.internal</code> doesn&#39;t grow, but something else does. next you can try to see which of them, e.g. <code>vmInfo.compressed</code>, etc"}, {"owner": {"reputation": 733, "user_id": 994306, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/228125d73451ecc91b517b9002d68c2e?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/994306/marco"}, "reply_to_user": {"reputation": 8483, "user_id": 5318223, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/be47da4995eb4e8dff0ab4637e5773d6?s=128&d=identicon&r=PG&f=1", "display_name": "Kiril S.", "link": "https://stackoverflow.com/users/5318223/kiril-s"}, "edited": false, "score": 0, "creation_date": 1545295317, "post_id": 53854873, "comment_id": 94577482, "body": "Thanks @KirilS. the <code>vmInfo.phys_footprint</code> is exactly what I was looking for!"}], "owner": {"reputation": 733, "user_id": 994306, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/228125d73451ecc91b517b9002d68c2e?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/994306/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1545243769, "creation_date": 1545234927, "last_edit_date": 1545243769, "question_id": 53854873, "link": "https://stackoverflow.com/questions/53854873/tracking-ios-memory-usage", "title": "Tracking iOS memory usage", "body": "<p>I am looking for a way to track iOS memory usage from within my app as accurately as possible. After many trials I end up with the following code:</p>\n\n<pre><code>uint64_t memory_usage (void) {\n   task_vm_info_data_t vmInfo;\n   mach_msg_type_number_t count = TASK_VM_INFO_COUNT;\n   if (task_info(mach_task_self(), TASK_VM_INFO, (task_info_t) &amp;vmInfo, &amp;count) != KERN_SUCCESS) return -1;\n\n   return vmInfo.internal;\n}\n</code></pre>\n\n<p>When executed from a real device the value returned is in sync with the value reported by the Xcode debugger.</p>\n\n<p><a href=\"https://i.stack.imgur.com/A0ukG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A0ukG.png\" alt=\"enter image description here\"></a></p>\n\n<p>The behaviour that I cannot explain is when allocated memory reaches about 500MB the value returned by this function do not increase (it continue to report a value in the 450/450MB range) while the Xcode debugger continue to grow up until 1.3GB and then a memory warning is notified to my app.</p>\n\n<p>The code I used to test this function is fired every 0.5 seconds from within an NSTimer with the following action:</p>\n\n<pre><code>- (void) checkMemory {\n   uint64_t mem_usage = memory_usage();\n\n   // allocate a 5MB buffer to test memory usage\n   uint32_t buffer_size = 5 * 1024 * 1024;\n   char *buffer = (char *)malloc(buffer_size);\n   memset(buffer, 0, buffer_size);\n\n   p[i++] = buffer;\n}\n</code></pre>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "apple-music", "apple-musickit"], "comments": [{"owner": {"reputation": 692, "user_id": 6672019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050411af80b7a5bbfd392920aee9c2ad?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyPro007", "link": "https://stackoverflow.com/users/6672019/crazypro007"}, "edited": false, "score": 0, "creation_date": 1548335201, "post_id": 53853478, "comment_id": 95510057, "body": "Are you testing on device/SIM?"}, {"owner": {"reputation": 312, "user_id": 1984167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GqFh1.jpg?s=128&g=1", "display_name": "KiloOne", "link": "https://stackoverflow.com/users/1984167/kiloone"}, "reply_to_user": {"reputation": 692, "user_id": 6672019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050411af80b7a5bbfd392920aee9c2ad?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyPro007", "link": "https://stackoverflow.com/users/6672019/crazypro007"}, "edited": false, "score": 0, "creation_date": 1548352405, "post_id": 53853478, "comment_id": 95520617, "body": "On my iPhone6, not SIM."}, {"owner": {"reputation": 692, "user_id": 6672019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/050411af80b7a5bbfd392920aee9c2ad?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyPro007", "link": "https://stackoverflow.com/users/6672019/crazypro007"}, "edited": false, "score": 0, "creation_date": 1548576615, "post_id": 53853478, "comment_id": 95584724, "body": "Are you login with apple id in device?"}, {"owner": {"reputation": 106, "user_id": 4224097, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000158816067/picture?type=large", "display_name": "Addy", "link": "https://stackoverflow.com/users/4224097/addy"}, "edited": false, "score": 1, "creation_date": 1552049616, "post_id": 53853478, "comment_id": 96875169, "body": "Have you gained authorisation before fetching the capabilities? It appears in your error logs that Media Library access is not granted. You can use requestAuthorisation on SKCloudServiceController for that."}, {"owner": {"reputation": 312, "user_id": 1984167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GqFh1.jpg?s=128&g=1", "display_name": "KiloOne", "link": "https://stackoverflow.com/users/1984167/kiloone"}, "edited": false, "score": 0, "creation_date": 1552061039, "post_id": 53853478, "comment_id": 96881287, "body": "Thank-you I will give that a try."}], "owner": {"reputation": 312, "user_id": 1984167, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GqFh1.jpg?s=128&g=1", "display_name": "KiloOne", "link": "https://stackoverflow.com/users/1984167/kiloone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 921, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545232974, "creation_date": 1545230241, "last_edit_date": 1545232974, "question_id": 53853478, "link": "https://stackoverflow.com/questions/53853478/error-using-skcloudservicecontroller-api-to-check-apple-music-capabilities", "title": "Error using SKCloudServiceController API to check Apple Music capabilities", "body": "<p>I am using this code to try to check a devices Apple Music capabilities:</p>\n\n<pre><code>  SKCloudServiceController *controller = [SKCloudServiceController new];\n  [controller requestCapabilitiesWithCompletionHandler:^(SKCloudServiceCapability capabilities, NSError * _Nullable error) {\n    if (error != nil) {\n      NSLog(@\"Error getting SKCloudServiceController capabilities: %@\", error);\n    } else if (capabilities &amp; SKCloudServiceCapabilityMusicCatalogPlayback) {\n      NSLog(@\"YES SUBSCRIBED!!!!\");\n    } else {\n      NSLog(@\"NOT SUBSCRIBED!!!!\");\n    }\n  }];\n</code></pre>\n\n<p>Unfortunately, I can not track down how to fix the errors I am receiving.  </p>\n\n<p>I assume that SKCloudServiceController is finding out the device capabilities locally and should not need to connect to Apple to determine this.</p>\n\n<p>So why do the errors lead me to believe that SKCloudServiceController is having some sort of communications problem connecting to Apple?</p>\n\n<p>Here is the time stripped output log showing the errors:</p>\n\n<pre><code>[core] \"Error returned from daemon: Error Domain=com.apple.accounts Code=9 \"(null)\"\"\nSSAccountStore: Failed to fetch the backing accounts. error = Error Domain=com.apple.accounts Code=9 \"(null)\"\n[core] \"Error returned from daemon: Error Domain=com.apple.accounts Code=9 \"(null)\"\"\nSSAccountStore: Failed to fetch the backing accounts. error = Error Domain=com.apple.accounts Code=9 \"(null)\"\nSSAccountStore: Unable to get the local account. error = Error Domain=SSErrorDomain Code=100 \"Cannot connect to iTunes Store\" UserInfo={NSLocalizedDescription=Cannot connect to iTunes Store}\nError getting SKCloudServiceController capabilities: Error Domain=SKErrorDomain Code=6 \"The requesting app does not have the necessary permissions\" UserInfo={NSLocalizedDescription=The requesting app does not have the necessary permissions}\nwarning: could not execute support code to read Objective-C class data in the process. This may reduce the quality of type information available.\n(lldb) \n</code></pre>\n\n<p>Thanks for any help on this :)</p>\n\n<p>P.S. I did remember to add StoreKit capabilities to my project and imported its header file in the .m file where I run my code from.</p>\n"}, {"tags": ["objective-c", "xcode", "ios7"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 9381256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alex", "link": "https://stackoverflow.com/users/9381256/alex"}, "edited": false, "score": 0, "creation_date": 1545233089, "post_id": 53853918, "comment_id": 94556070, "body": "ow, I didn&#39;t know about static table. its perfect ! thanks"}], "tags": [], "owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "is_accepted": true, "score": 0, "last_activity_date": 1545231775, "creation_date": 1545231775, "answer_id": 53853918, "question_id": 53853392, "link": "https://stackoverflow.com/questions/53853392/proper-way-to-duplicate-views-in-order-like-cells-in-a-tableview/53853918#53853918", "title": "proper way to duplicate views in order ( like cells in a tableView )", "body": "<p>Looks like a UITableView would solve all your problems. If the list is a static one (i.e. it cannot change at runtime) you can create a static tableview. If it's not, then define a UITableViewCell and add it programmatically.</p>\n"}], "owner": {"reputation": 97, "user_id": 9381256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alex", "link": "https://stackoverflow.com/users/9381256/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 53853918, "answer_count": 1, "score": -1, "last_activity_date": 1545231775, "creation_date": 1545229996, "question_id": 53853392, "link": "https://stackoverflow.com/questions/53853392/proper-way-to-duplicate-views-in-order-like-cells-in-a-tableview", "title": "proper way to duplicate views in order ( like cells in a tableView )", "body": "<p>I have a screen that shows textField for the user to fill and one textField with some number in it that is not editable ( located below all the other views ).</p>\n\n<p>now the circumstances are changed and instead of getting 1 number to fill this textField I get an array with numbers ( can still get only 1 ) so in that case I need to make more textField underneath. no idea how to do it, </p>\n\n<p>objective c, deployment target is 7.0\nso no stackViews ( i thought to make one and just add more textFields inside ) and the only way I can think of doing it is programatically,</p>\n\n<p>can anyone give me reference or guidance on how to do something like that ?\nno idea where to start. \nor maybe there is a better way doing it that Im missing</p>\n"}, {"tags": ["objective-c", "image", "path", "save", "nsuserdefaults"], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1545245431, "post_id": 53853258, "comment_id": 94562688, "body": "Why not use <code>NSUserDefaults boolForKey:</code> to check the stored value?"}, {"owner": {"reputation": 68025, "user_id": 309925, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df84a7d3ebe7e047ae92163e04c773c9?s=128&d=identicon&r=PG", "display_name": "rckoenes", "link": "https://stackoverflow.com/users/309925/rckoenes"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1545253482, "post_id": 53853258, "comment_id": 94566059, "body": "@rmaddy completely true, should have used <code>boolForKey:</code>"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1545257043, "post_id": 53853258, "comment_id": 94567479, "body": "Also note that you have two variables named <code>imagePath</code> and one of them isn&#39;t a path at all. And its <code>BOOL</code> on Objective-C, not <code>Bool</code>."}], "tags": [], "owner": {"reputation": 68025, "user_id": 309925, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df84a7d3ebe7e047ae92163e04c773c9?s=128&d=identicon&r=PG", "display_name": "rckoenes", "link": "https://stackoverflow.com/users/309925/rckoenes"}, "is_accepted": false, "score": 0, "last_activity_date": 1545295217, "last_edit_date": 1545295217, "creation_date": 1545229534, "answer_id": 53853258, "question_id": 53852821, "link": "https://stackoverflow.com/questions/53852821/how-to-correctly-save-and-read-the-image/53853258#53853258", "title": "How to correctly save and read the image?", "body": "<p>Do not save the full path the image in the user defaults, because it contains a container GUID. \nThis container GUID changes after an update.</p>\n\n<pre><code>- (void)setImage:(UIImage *)image {\n    NSData *imageData = UIImageJPEGRepresentation(image, 1);\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsPath = [paths objectAtIndex:0];\n    NSString *imagePath = [documentsPath stringByAppendingPathComponent:@\"image.jpg\"];\n\n    BOOL writtenToFile = [imageData writeToFile:imagePath atomically:YES];\n\n    [[NSUserDefaults standardUserDefaults] setBool:YES forKey:key];\n    [[NSUserDefaults standardUserDefaults] synchronize];\n}\n\n+ (UIImage *)getImage {\n    BOOL imageExists  = [[NSUserDefaults standardUserDefaults] boolForKey:key];\n    if (imageExists) {\n        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n        NSString *documentsPath = [paths objectAtIndex:0];\n        NSString *imagePath = [documentsPath stringByAppendingPathComponent:@\"image.jpg\"];\n\n        return [UIImage imageWithData:[NSData dataWithContentsOfFile:imagePath]];\n    }\n\n    return nil;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10595407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e81e8ac4415e84c1b13b8c357f452cb?s=128&d=identicon&r=PG&f=1", "display_name": "user10595407", "link": "https://stackoverflow.com/users/10595407/user10595407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545295217, "creation_date": 1545227999, "question_id": 53852821, "link": "https://stackoverflow.com/questions/53852821/how-to-correctly-save-and-read-the-image", "title": "How to correctly save and read the image?", "body": "<p>How to correctly save and read the image? After every update of the application version, the program wants to save new picture again.</p>\n\n<p>saving image:</p>\n\n<pre><code>+(void)setImage:(UIImage*)image {\n\nNSData *imageData = UIImageJPEGRepresentation(image, 1);\n\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsPath = [paths objectAtIndex:0];\nNSString *imagePath = [documentsPath stringByAppendingPathComponent:@\"image.jpg\"];\n\nBOOL writtenToFile = [imageData writeToFile:imagePath atomically:YES];\n\n[[NSUserDefaults standardUserDefaults] setObject:imagePath forKey:key];\n[[NSUserDefaults standardUserDefaults] synchronize];\n}\n</code></pre>\n\n<p>reading image:</p>\n\n<pre><code>+(UIImage*)getImage {\nNSString *imagePath = [[NSUserDefaults standardUserDefaults] objectForKey:key];\nif (imagePath) {\n    return [UIImage imageWithData:[NSData dataWithContentsOfFile:imagePath]];\n}\n\nreturn nil;\n}\n</code></pre>\n\n<p>Set Object in UserDefaults is always empty.</p>\n"}, {"tags": ["objective-c", "clang", "objective-c-blocks"], "answers": [{"tags": [], "owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "is_accepted": false, "score": 2, "last_activity_date": 1545251366, "creation_date": 1545251366, "answer_id": 53858714, "question_id": 53852635, "link": "https://stackoverflow.com/questions/53852635/why-does-block-use-struct-block-byref-object-0-instead-of-a-single-pointer-to/53858714#53858714", "title": "Why does Block use struct __Block_byref_object_0 instead of a single pointer to capture a variable decorated with &quot;__block&quot;", "body": "<p>The compiler is creating a number of structures to help the block refer to its \"enclosed\" values. (Remember that a block makes a copy of, or \"encloses\", all of the values that are outside the block, which is why blocks are also called \"closures\".)</p>\n\n<p>So the first structure (<code>__Block_byref_blockInteger_0</code>) is creating an object to encapsulate the <code>blockInteger</code> automatic. This is because automatic variables disappear at the end of the function, but blocks must be able to refer to them long afterwards.</p>\n\n<p>The second structure encapsulates all of the values (including <code>__Block_byref_blockInteger_0</code>) that are being \"captured\" by the block. This give the block a single reference to all of its enclosed values, copied when the block was created.</p>\n\n<p>Now the <code>NSInteger *staticInteger</code> instance value is a bit of an odd duck, since the address of the global <code>staticInteger</code> can't change. But that's a pretty minor difference as it's still just a copy of an address; whether that address can change is immaterial.</p>\n\n<p>I suspect it's because of name scope; a static declared inside a function has a symbol scope limited to that function. And if you look at the compiler output, you'll see that every block you declare creates an invisible static function to contain its code. Since that second static function wouldn't normally be able to reference a static declared within another function, making a copy of the static's address is the only way for the block function to access it.</p>\n"}], "owner": {"reputation": 105, "user_id": 5945108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MghY.png?s=128&g=1", "display_name": "GrumpyMelon", "link": "https://stackoverflow.com/users/5945108/grumpymelon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545251366, "creation_date": 1545227350, "last_edit_date": 1545233687, "question_id": 53852635, "link": "https://stackoverflow.com/questions/53852635/why-does-block-use-struct-block-byref-object-0-instead-of-a-single-pointer-to", "title": "Why does Block use struct __Block_byref_object_0 instead of a single pointer to capture a variable decorated with &quot;__block&quot;", "body": "<p>Here is my source code in file main.m</p>\n\n<pre><code> __block NSInteger blockInteger = 123;\n static NSInteger staticInteger = 123;\n void (^testBlock)(void) = ^() {\n     blockInteger++;\n     staticInteger++;\n     NSLog(@\"%ld\", blockInteger);\n     NSLog(@\"%ld\", staticInteger);\n };\n testBlock();\n</code></pre>\n\n<p>When I used clang command \"clang -rewrite-objc main.m\", I got this</p>\n\n<pre><code>struct __Block_byref_blockInteger_0 {\n   void *__isa;\n   __Block_byref_blockInteger_0 *__forwarding;\n   int __flags;\n   int __size;\n   NSInteger blockInteger;\n};\nstruct __main_block_impl_0 {\n   struct __block_impl impl;\n   struct __main_block_desc_0* Desc;\n   NSInteger *staticInteger;\n   __Block_byref_blockInteger_0 *blockInteger; // by ref\n   ...\n};\n</code></pre>\n\n<p>I am wondering why block use __Block_byref_blockInteger_0 to capture blockInteger since it use a NSInteger pointer to capture a static variable . What does __Block_byref_blockInteger_0 exactly do? What are the advantages of this struct by comparing with a pointer?</p>\n"}, {"tags": ["objective-c", "ios-simulator", "travis-ci"], "comments": [{"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545227007, "post_id": 53851249, "comment_id": 94552354, "body": "I suspect you are off-topic, this is not an objective-c related question: apparently it is a iOS simulator thing. By the way, did you try looking up for that error? There seem to be plenty of informations about it"}, {"owner": {"reputation": 61, "user_id": 5606640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-x8_ykeHdjJ0/AAAAAAAAAAI/AAAAAAAAAIU/YMu4xYmf25o/photo.jpg?sz=128", "display_name": "\u6797\u6656\u6770", "link": "https://stackoverflow.com/users/5606640/%e6%9e%97%e6%99%96%e6%9d%b0"}, "reply_to_user": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545227229, "post_id": 53851249, "comment_id": 94552502, "body": "@il3v um..the problem has block me a day, and search many solution , but still doesn&#39;t work"}, {"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545227823, "post_id": 53851249, "comment_id": 94552888, "body": "Are you sure the devices are correct? The fact that you are specifying their UDIDs doesn&#39;t smell right to me. Also, did you try and remove all of them and add them one by one and see if it isn&#39;t related to just one of the testing devices?"}, {"owner": {"reputation": 61, "user_id": 5606640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-x8_ykeHdjJ0/AAAAAAAAAAI/AAAAAAAAAIU/YMu4xYmf25o/photo.jpg?sz=128", "display_name": "\u6797\u6656\u6770", "link": "https://stackoverflow.com/users/5606640/%e6%9e%97%e6%99%96%e6%9d%b0"}, "reply_to_user": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545273539, "post_id": 53851249, "comment_id": 94571496, "body": "@il3v checked the UDID is all correct. I&#39;m use Xcode10.1 to build, only the 12.1 device build and test success. others only build success and test failed."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 5606640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-x8_ykeHdjJ0/AAAAAAAAAAI/AAAAAAAAAIU/YMu4xYmf25o/photo.jpg?sz=128", "display_name": "\u6797\u6656\u6770", "link": "https://stackoverflow.com/users/5606640/%e6%9e%97%e6%99%96%e6%9d%b0"}, "is_accepted": false, "score": 0, "last_activity_date": 1545298196, "creation_date": 1545298196, "answer_id": 53865789, "question_id": 53851249, "link": "https://stackoverflow.com/questions/53851249/objective-c-travis-failed-for-test-runner-exited-before-starting-test-execution/53865789#53865789", "title": "Objective-C Travis failed for &#39;Test runner exited before starting test execution&#39;", "body": "<p>The issue can fix by below step:</p>\n\n<p>change the version of <code>osx_image</code> in <code>.travis.yml</code> file and retry</p>\n\n<pre><code>// if xcode10.1 build failed, you can change to other version, like xcode9.4\nosx_image: xcode10.1\n</code></pre>\n\n<p>Travis support xcode version list:\n<a href=\"https://docs.travis-ci.com/user/languages/objective-c/\" rel=\"nofollow noreferrer\">https://docs.travis-ci.com/user/languages/objective-c/</a></p>\n"}], "owner": {"reputation": 61, "user_id": 5606640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-x8_ykeHdjJ0/AAAAAAAAAAI/AAAAAAAAAIU/YMu4xYmf25o/photo.jpg?sz=128", "display_name": "\u6797\u6656\u6770", "link": "https://stackoverflow.com/users/5606640/%e6%9e%97%e6%99%96%e6%9d%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545298196, "creation_date": 1545222382, "last_edit_date": 1545297925, "question_id": 53851249, "link": "https://stackoverflow.com/questions/53851249/objective-c-travis-failed-for-test-runner-exited-before-starting-test-execution", "title": "Objective-C Travis failed for &#39;Test runner exited before starting test execution&#39;", "body": "<p>Here is my code in <code>.travis.yml</code> file\uff0cafter run build is passing, but I found the TEST are failed. I have no idea about this and block me a few days, appreciate your help. THX</p>\n\n<p>--- Error as below ---</p>\n\n<pre><code>2018-12-20 05:57:42.698 xcodebuild[2394:8186] [MT] \nIDETestOperationsObserverDebug: (CB8F382A-5B77-4BDA-BC4F-6EDF7B7DB822) \nBeginning test session aaaaTests-CB8F382A-5B77-4BDA-BC4F-6EDF7B7DB822 at 2018- \n12-20 05:57:42.698 with Xcode 10A255 on target &lt;DVTiPhoneSimulator: \n0x7f86387e49d0&gt; {\n    SimDevice: iPhone 6 (B25EC6DB-0B2F-4920-B6C2-8560331BA779, iOS 9.1, Booted)\n} (9.1 (13B143))\n2018-12-20 05:57:53.744 xcodebuild[2394:8186] [MT] \nIDETestOperationsObserverDebug: 11.068 elapsed -- Testing started completed.\n2018-12-20 05:57:53.744 xcodebuild[2394:8186] [MT] \nIDETestOperationsObserverDebug: 0.000 sec, +0.000 sec -- start\n2018-12-20 05:57:53.744 xcodebuild[2394:8186] [MT] \nIDETestOperationsObserverDebug: 11.068 sec, +11.068 sec -- end\n2018-12-20 05:57:53.746 xcodebuild[2394:8186] Error \nDomain=IDETestOperationsObserverErrorDomain Code=6 \"Early unexpected exit, \noperation never finished bootstrapping - no restart will be attempted\" \nUserInfo={NSLocalizedDescription=Early unexpected exit, operation never \nfinished bootstrapping - no restart will be attempted, \nNSUnderlyingError=0x7f86389df930 {Error \nDomain=IDETestOperationsObserverErrorDomain Code=5 \"Test runner exited before \nstarting test execution.\" UserInfo={NSLocalizedDescription=Test runner exited \nbefore starting test execution., NSLocalizedRecoverySuggestion=If you believe \nthis error represents a bug, please attach the result bundle at \n/Users/travis/Library/Developer/Xcode/DerivedData/aaaa- \nbdscsxnorhzvygafnsqdiqoriugx/Logs/Test/Run-aaaa-2018.12.20_05-57-22- \n+0000.xcresult}}}\nTesting failed:\n    aaaa.app (2488) encountered an error (Early unexpected exit, operation never finished bootstrapping - no restart will be attempted. Underlying error: Test runner exited before starting test execution.)\n** TEST FAILED **\nThe command \"set -o pipefail &amp;&amp; xcodebuild -workspace aaaa.xcworkspace -scheme aaaa -destination platform\\=iOS\\ Simulator,OS\\=9.1,name\\=iPhone\\ 6 build test | xcpretty\" exited with 65.\nDone. Your build exited with 1.\n</code></pre>\n\n<p>---My code as below---</p>\n\n<pre><code>language: objective-c\nosx_image: xcode10\nxcode_workspace: aaaa.xcworkspace\nxcode_scheme: aaaa\nxcode_destination: platform=iOS Simulator,OS=9.1,name=iPhone 6\n\nbefore_install:\n  - pod repo update\n  - npm install ios-sim -g\n  - ios-sim start --devicetypeid \"com.apple.CoreSimulator.SimDeviceType.iPhone-6, 9.1\"\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1545222603, "post_id": 53850956, "comment_id": 94549865, "body": "The path is meaningless, due to the sandboxing of iOS. The user has to pick the image in order for its data to be provided to you."}, {"owner": {"reputation": 563, "user_id": 9673374, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fa3zwov_x6Y/AAAAAAAAAAI/AAAAAAAAAOg/Hd9m1DVmhHY/photo.jpg?sz=128", "display_name": "ketaki Damale", "link": "https://stackoverflow.com/users/9673374/ketaki-damale"}, "edited": false, "score": 0, "creation_date": 1545223642, "post_id": 53850956, "comment_id": 94550408, "body": "<a href=\"https://stackoverflow.com/a/23781343/9673374\">stackoverflow.com/a/23781343/9673374</a> This might be helpful"}, {"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "reply_to_user": {"reputation": 563, "user_id": 9673374, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fa3zwov_x6Y/AAAAAAAAAAI/AAAAAAAAAOg/Hd9m1DVmhHY/photo.jpg?sz=128", "display_name": "ketaki Damale", "link": "https://stackoverflow.com/users/9673374/ketaki-damale"}, "edited": false, "score": 0, "creation_date": 1545225889, "post_id": 53850956, "comment_id": 94551680, "body": "@ketakiDamale I seriously doubt it actually might. DocumentsDirectory is relative to the path of the app, while Sankalp is trying to access the photo album"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1545459490, "post_id": 53850956, "comment_id": 94633314, "body": "&quot;I have a use-case where I just need the path to an image (whose name is known) stored in the photos library of iPhone&quot; No, you don&#39;t. There are no images in the photos library, there are assets; the assets don&#39;t have names; and there are no paths (except for asset URLs). That is exactly what the linked question/answer tells you."}], "owner": {"reputation": 2709, "user_id": 2318505, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/768a6aa45f0465c9ecd022351bb76c87?s=128&d=identicon&r=PG", "display_name": "Sankalp", "link": "https://stackoverflow.com/users/2318505/sankalp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "closed_date": 1545459361, "answer_count": 0, "score": 0, "last_activity_date": 1545458958, "creation_date": 1545221334, "last_edit_date": 1545279030, "question_id": 53850956, "link": "https://stackoverflow.com/questions/53850956/how-to-get-path-of-an-image-from-ios-photo-library-in-xcode", "closed_reason": "Duplicate", "title": "How to get path of an image from iOS photo library in Xcode?", "body": "<p>I have a use-case where I just need the path to an image (whose name is known) stored in the photos library of iPhone. Internet search suggested <code>UIImagePickerController</code>, but I do not need to pick and display the image. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/8945368/what-is-the-path-of-photos-album-on-iphone-device]\">What is the path of photos album on iPhone device?</a></p>\n\n<p>Above question also does not contain any clue.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "is_accepted": false, "score": 0, "last_activity_date": 1545220097, "creation_date": 1545220097, "answer_id": 53850584, "question_id": 53850014, "link": "https://stackoverflow.com/questions/53850014/mapcontroller-alloc-init-viewcontroller-alloc-init-resulting-in-loop/53850584#53850584", "title": "MapController Alloc Init &amp; ViewController alloc init Resulting in loop", "body": "<p>You say that you are splitting the view controller by taking out code from it, but as far as I understand this has resulted in creating a second viewcontroller (either this, or \"MapController\" isn't the right naming).</p>\n\n<p>Anyways, as you already mentioned the crash is definitely caused by that alloc/init loop: you should reengineer your code to have just one of the two objects instantiating the other.</p>\n\n<p>(please bear in mind that if you are doing that to access one object from the other, you're doing it wrong: alloc/init creates a <em>new</em> instance of that class every time it is called, it does not give you a pointer to an existing one)</p>\n"}], "owner": {"reputation": 508, "user_id": 3544744, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/5Fe7J.jpg?s=128&g=1", "display_name": "Manesh", "link": "https://stackoverflow.com/users/3544744/manesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545220097, "creation_date": 1545217831, "question_id": 53850014, "link": "https://stackoverflow.com/questions/53850014/mapcontroller-alloc-init-viewcontroller-alloc-init-resulting-in-loop", "title": "MapController Alloc Init &amp; ViewController alloc init Resulting in loop", "body": "<p>I Have a very long view controller.m which I'm trying to split into separate files to keep it organised. \nI know I can create separate .m .h files and separate them but in doing so I am ending up in loops (which I Understand since the MapController.m is initialising the viewcontroller again causing viewDidLoad to be triggered and repeat.</p>\n\n<p>I have a Map I want to create in my <code>MapController.m</code></p>\n\n<pre><code>-(void)setMapSettings{\n    NSLog(@\"test\");\n    viewController = [[ViewController alloc] init];\n    SKMapView *mapView = [[SKMapView alloc] initWithFrame:CGRectMake( 0.0f, 0.0f,  CGRectGetWidth(viewController.view.frame), CGRectGetHeight(viewController.view.frame) )];\n\n}\n</code></pre>\n\n<p>I want to add the above <code>SKMapView</code> to a <code>UIView</code> called <code>mapViewContainer</code> in my <code>viewController.h</code></p>\n\n<p><strong>ViewController.m:</strong></p>\n\n<pre><code>- (void)viewDidLoad {\n    mapsViewController = [[MapController alloc] init];\n    [mapsViewController setMapSettings];\n}\n</code></pre>\n\n<p>Doing this creates a loop resulting in a crash. I know the answer is probably dead simple and I'm just being stupid, but I've spent hours finding a solution and I can't figure it out. Any idea's how I'm suppose to be able to do the above without looping, and without initialising the map views I require all in the ViewController.m? </p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1545217803, "post_id": 53849891, "comment_id": 94547394, "body": "What is <code>MemoryStream</code>? You mean with <code>NSStream</code> and <code>NSStreamDataWrittenToMemoryStreamKey</code>? <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Streams/Articles/WritingOutputStreams.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a> ?"}, {"owner": {"reputation": 9, "user_id": 9222242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1822774457787257/picture?type=large", "display_name": "Louis", "link": "https://stackoverflow.com/users/9222242/louis"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1545217920, "post_id": 53849891, "comment_id": 94547450, "body": "android sample:   fileName = &quot;LoadData_DocOCR/Dictionary/MRZNationality.txt&quot;;     asset = AAssetManager_open(mgr, fileName.c_str(), AASSET_MODE_STREAMING);     size = AAsset_getLength(asset);      if(asset == NULL) LOGE(&quot;asset is NULL&quot;);      MemoryStream streamNationality(size);     while ((nb_read = AAsset_read(asset, buf, BUFSIZ)) &gt; 0) {         streamNationality.Write(buf, 0, nb_read);     }     streamNationality.Seek(0);     AAsset_close(asset);  I need objective-c version. thanks."}], "owner": {"reputation": 9, "user_id": 9222242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1822774457787257/picture?type=large", "display_name": "Louis", "link": "https://stackoverflow.com/users/9222242/louis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545217733, "creation_date": 1545217387, "last_edit_date": 1545217733, "question_id": 53849891, "link": "https://stackoverflow.com/questions/53849891/objective-c-nsdata-convert-to-memorystream", "title": "Objective-C NSData convert to MemoryStream", "body": "<p>I want to convert <code>NSData</code> to <code>MemoryStream</code>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"MRZ\" ofType:@\"cls\"];\nNSURL *fileUrl = [NSURL fileURLWithPath:filePath];\nNSData *fileData = [NSData dataWithContentsOfURL:fileUrl];\n</code></pre>\n\n<p>How do I convert fileData  to <code>MemoryStream</code>?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "uialertview"], "comments": [{"owner": {"reputation": 1087, "user_id": 10165733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eteVk.jpg?s=128&g=1", "display_name": "Lutz", "link": "https://stackoverflow.com/users/10165733/lutz"}, "edited": false, "score": 1, "creation_date": 1545205834, "post_id": 53845678, "comment_id": 94540983, "body": "In our AppDelegate you create a new instance of the view controller (i.e. now you have two instances, one that is actually being displayed and the new one). Then  you call showAlert, which creates an alert view and displays it. Then the method ends and your newly created instance <code>test</code> goes out of scope and gets deallocated.  You need to call showAlert on the instance that is actually being displayed and you need to find a way to have a reference to that instance  available in your AppDelegate."}, {"owner": {"reputation": 10235, "user_id": 892499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/945f41aebeea6bb85a6404af17a00ea4?s=128&d=identicon&r=PG", "display_name": "trapper", "link": "https://stackoverflow.com/users/892499/trapper"}, "edited": false, "score": 1, "creation_date": 1545275843, "post_id": 53845678, "comment_id": 94571920, "body": "UIAlertView is deprecated btw"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "is_accepted": true, "score": 0, "last_activity_date": 1545217382, "creation_date": 1545217382, "answer_id": 53849886, "question_id": 53845678, "link": "https://stackoverflow.com/questions/53845678/objective-c-call-method-in-a-view-controller-which-is-already-in-top-of-naviga/53849886#53849886", "title": "Objective C - Call method in a view controller which is already in top of navigation from app delegate", "body": "<p>You have to access the existing top view controller instance, not instantiate a new one as you're doing.\nThe way to do that depends on how your app interface is defined: for example if you are using a navigation controller you'll have to access the top item of its viewControllers array.</p>\n"}], "owner": {"reputation": 3, "user_id": 10328835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27bca23516beac5257e2c2f77b18f7da?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/10328835/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 53849886, "answer_count": 1, "score": 0, "last_activity_date": 1545217382, "creation_date": 1545200914, "last_edit_date": 1545204113, "question_id": 53845678, "link": "https://stackoverflow.com/questions/53845678/objective-c-call-method-in-a-view-controller-which-is-already-in-top-of-naviga", "title": "Objective C - Call method in a view controller which is already in top of navigation from app delegate", "body": "<p>Say that I have to call a method in a View Controller (which is the one shown to the user at the top) from App Delegate, after receiving a silent push notification. The so-called method in return has to show an alert, and after customer clicks on alert view button, the view controller has to be popped out. </p>\n\n<p>My problem is that the <code>clickedButtonAtIndex</code> method in not getting fired after the button is clicked. What is the reason for that?</p>\n\n<p><strong>AppDelegate.m</strong></p>\n\n<pre><code>-(void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler\n{\n    TestViewController *test = [[TestViewController alloc] init];\n    [test showAlert];\n}\n</code></pre>\n\n<p><strong>TestViewController.h</strong></p>\n\n<pre><code>@interface TestViewController : BaseViewController&lt;UIAlertViewDelegate&gt;\n</code></pre>\n\n<p><strong>TestViewController.m</strong></p>\n\n<pre><code>-(void)showAlert {\n\n    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Message\" message:@\"Show Message\" delegate:self cancelButtonTitle:nil otherButtonTitles:@\"OK\", nil];\n    alert.tag = 100;\n    [alert show];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "push-notification", "localnotification"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3827650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ffef8d58c6f7b9c3ed92a11b088b35?s=128&d=identicon&r=PG&f=1", "display_name": "Kyl Chiang", "link": "https://stackoverflow.com/users/3827650/kyl-chiang"}, "edited": false, "score": 0, "creation_date": 1545270695, "post_id": 53845309, "comment_id": 94570938, "body": "Thank you for your reply, and you are right, it should be worked. That is really strange thing on my other project, do you think something settings about compiler that cause unexpected issues (terminated and no local notification pops)?"}], "tags": [], "owner": {"reputation": 135, "user_id": 2231354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iP7hA.jpg?s=128&g=1", "display_name": "Urvish Patel", "link": "https://stackoverflow.com/users/2231354/urvish-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1545198700, "creation_date": 1545198700, "answer_id": 53845309, "question_id": 53843749, "link": "https://stackoverflow.com/questions/53843749/ios-local-notification-and-calendar-event-does-not-appear-while-app-is-not-runni/53845309#53845309", "title": "iOS local notification and calendar event does not appear while app is not running", "body": "<p>I tried with your given demo and I just added some new methods and code.\nIt's working for me when an app is disconnected from Xcode.</p>\n\n<p>Please try to add the following methods to your project and test it.</p>\n\n<p><strong>First of all, please check following services are enabled in your project</strong></p>\n\n<ol>\n<li>Background Modes > Remote Notification</li>\n<li>Push Notifiation </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/CIy2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CIy2o.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/HA6wV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HA6wV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Second, i added this methods in <strong>didFinishLaunchingWithOptions</strong> </p>\n\n<pre><code>application.registerForRemoteNotifications()\n</code></pre>\n\n<p>Also, Added following methods in the appdelegate class </p>\n\n<pre><code>func application(_ application: UIApplication,\n                 didReceiveRemoteNotification userInfo: [AnyHashable : Any],\n                 fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -&gt; Void)\n{\n     self.addLocalNotification()\n    completionHandler(.newData)\n}\nfunc addLocalNotification(){\n    let content = UNMutableNotificationContent()\n    content.title = \"title\uff1aTest\"\n    content.subtitle = \"subtitle\uff1aNo---\"\n    content.body = \"body\uff1aSilent Notification\"\n    content.badge = 1\n    content.sound = UNNotificationSound.default()\n\n    // \u8a2d\u7f6e\u901a\u77e5\u7684\u5716\u7247\n    let imageURL = Bundle.main.url(forResource: \"apple\", withExtension: \"png\")\n    let attachment = try! UNNotificationAttachment(identifier: \"\", url: imageURL!, options: nil)\n    content.attachments = [attachment]\n\n    // \u8a2d\u7f6e\u9ede\u64ca\u901a\u77e5\u5f8c\u53d6\u5f97\u7684\u8cc7\u8a0a\n    content.userInfo = [\"link\" : \"https://www.facebook.com/franksIosApp/\"]\n\n    let trigger = UNTimeIntervalNotificationTrigger(timeInterval: 1, repeats: false)\n\n    let request = UNNotificationRequest(identifier: \"notification\", content: content, trigger: trigger)\n\n    UNUserNotificationCenter.current().add(request, withCompletionHandler: {error in\n        print(\"\u6210\u529f\u5efa\u7acb\u901a\u77e5...\")\n    })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 3827650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ffef8d58c6f7b9c3ed92a11b088b35?s=128&d=identicon&r=PG&f=1", "display_name": "Kyl Chiang", "link": "https://stackoverflow.com/users/3827650/kyl-chiang"}, "is_accepted": true, "score": 0, "last_activity_date": 1545617357, "creation_date": 1545617357, "answer_id": 53908554, "question_id": 53843749, "link": "https://stackoverflow.com/questions/53843749/ios-local-notification-and-calendar-event-does-not-appear-while-app-is-not-runni/53908554#53908554", "title": "iOS local notification and calendar event does not appear while app is not running", "body": "<p>I would like to share with someone who's stuck this like me,\nhere's Apple's troubleshooting, and it's really helpful:\n<a href=\"https://developer.apple.com/library/archive/technotes/tn2265/_index.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/technotes/tn2265/_index.html</a></p>\n\n<p>my finally solution is the trigger time beyond 60s.</p>\n"}], "owner": {"reputation": 43, "user_id": 3827650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ffef8d58c6f7b9c3ed92a11b088b35?s=128&d=identicon&r=PG&f=1", "display_name": "Kyl Chiang", "link": "https://stackoverflow.com/users/3827650/kyl-chiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 53908554, "answer_count": 2, "score": 0, "last_activity_date": 1545617357, "creation_date": 1545186576, "last_edit_date": 1545187256, "question_id": 53843749, "link": "https://stackoverflow.com/questions/53843749/ios-local-notification-and-calendar-event-does-not-appear-while-app-is-not-runni", "title": "iOS local notification and calendar event does not appear while app is not running", "body": "<p>We'd like to implement silent push in our project, but facing an odd problem!</p>\n\n<p>First, there's a demo project and works fine in my program environment,\nbut after I apply the same code to my other project, the local notification does not appear after received silent push notification in AppDelegate (something magic) while the app is disconnect with xcode/in background, and there's plan B about calendar, but same as above, therefore, I have no idea to solve, any suggestion?</p>\n\n<h2>1. silent push notification &amp; local notification demo project</h2>\n\n<pre><code> * xcode 10.1, deployment target iOS 10.0\n\n * objective-c \n * reference tutorial: https://medium.com/@mikru168/ios-%E6%9C%AC%E5%9C%B0%E9%80%9A%E7%9F%A5-local-notification-b25229f279ec\n</code></pre>\n\n<p>-------> works charme. Local notification appears after receive silent push notification.</p>\n\n<h2>2. my project + \"1.\"(above code)</h2>\n\n<pre><code>* xcode 10.1, iOS 9.0\n* objective-c mix swift 4.0\n</code></pre>\n\n<p>-------> works fine while debug(connect with xcode), both of while app in foreground and background.</p>\n\n<p>-------> (disconnect with xcode) local notification does not appear while app in background or terminated, but works fine in foreground.</p>\n\n<h2>3. my project + calendar event</h2>\n\n<p>-------> works fine while debug(connect with xcode), both of while app in foreground and background.</p>\n\n<p>-------> (disconnect with xcode) calendar notification does not appear while app in background or terminated, but works fine in foreground.</p>\n"}, {"tags": ["objective-c", "nsdictionary", "nsmutabledictionary", "key-value-observing", "keypaths"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1545210660, "post_id": 53842212, "comment_id": 94543258, "body": "What&#39;s the full error of your <code>NSUnknownKeyException</code>? Could you print the exception rather than just the path if needed? Could it be that underneath a NSMutableDictionary, there is a NSDictionary at some sublevel, or in other world a non-mutable?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1545212229, "post_id": 53842212, "comment_id": 94544154, "body": "<code>curStr</code> is the string in <code>prevDictionary</code>, <code>newStr</code> is the string in <code>self</code>, if <code>curStr</code> != <code>newStr</code> then you set the string in <code>self</code> to <code>newStr</code> again. Why?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1545212312, "post_id": 53842212, "comment_id": 94544203, "body": "Is <code>prevDict</code> supposed to be a deep copy?"}], "owner": {"reputation": 903, "user_id": 2651655, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4b45a172036472c08adeae31e2f4c2b4?s=128&d=identicon&r=PG", "display_name": "zzyzy", "link": "https://stackoverflow.com/users/2651655/zzyzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545173108, "creation_date": 1545173108, "question_id": 53842212, "link": "https://stackoverflow.com/questions/53842212/valueforkeypath-failing-with-nested-nsmutabledictionary-objects", "title": "valueForKeyPath failing with nested NSMutableDictionary objects", "body": "<p>On my class I have two data objects: 'dataDict' (property) and 'prevDict' (instance variable) which are both <code>NSMutableDictionary</code> objects.  In these multi-level dictionaries all the 'nodes' are themselves <code>NSMutableDictionary</code> objects and all the 'leaves' are NSString values.</p>\n\n<p>Most of the time, these dictionaries will compare to be the same.  But, when the new incoming data is different, I want to capture those changes via KVO and then save the new incoming dictionary.  The recursive calls are the thing that fires off all the KVO changes.</p>\n\n<p>Below is the code for recursively determining if the new incoming data (in property 'dataDict') is different than what's in the 'prevDictionary'.  The initial call is:</p>\n\n<pre><code>[self postChangesFromPrevDict:prevDict usingKeyPath:@\"dataDict\"];\nprevDict = [[NSMutableDictionary alloc] initWithDictionary:self.dataDict copyItems:YES];\n</code></pre>\n\n<p>If there's a change on a given leaf, it should update that in the dictionary and produce a KVO notification.</p>\n\n<p>A sample 'newPath' string value could be \"dataDict.group.name.points\" -- in which the 'key' value is \"points\".  </p>\n\n<p>In the debugger breakpoint noted, I can see the values of 'curStr' and 'newStr' as, say, \"120\" and \"121\" with the these two values being correctly obtained from <code>prevDict</code> and <code>dataDict</code>, respectively.</p>\n\n<p><strong>If I obtain a value from a given keyPath then set it again using that SAME key path, why am I getting an <code>NSUnknownKeyException</code>?</strong></p>\n\n<p>I do know that all my dictionaries involved are mutable.</p>\n\n<pre><code>-(void) postChangesFromPrevDict:(NSMutableDictionary *)prevDictionary\n               usingKeyPath:(NSString *)keyPath\n{\n    NSArray *keys = [prevDictionary allKeys];\n    for (NSString *key in keys) {\n        id obj = [prevDictionary objectForKey:key];\n        NSString *newPath = [keyPath stringByAppendingString:[NSString stringWithFormat:@\".%@\",key]];\n        if ([obj isKindOfClass:[NSDictionary class]])\n            [self postChangesFromPrevDict:obj usingKeyPath:newPath];\n        else {\n            NSString *curStr = obj;\n            NSString *newStr = [self valueForKeyPath:newPath];\n            //debug breakpoint\n            if (![newStr isEqualToString:curStr]) {\n                @try {\n                    [self setValue:newStr forKeyPath:newPath];\n                }\n                @catch (NSException *__unused exception) {\n                    NSLog(@\"Can't set key on %@\",newPath);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>PS: To recurse, I test for an <code>NSDictionary</code> class which is fine as <code>NSMutableDictionary</code> is a subclass thereof.</p>\n"}, {"tags": ["ios", "objective-c", "sqlite"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1545146657, "post_id": 53833738, "comment_id": 94520356, "body": "May be in file from dropbox you have somethinig like: 403/404 error instead of db file?"}, {"owner": {"reputation": 2385, "user_id": 1009270, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33fcdc9c0604cf69abb15e17840d2a3c?s=128&d=identicon&r=PG", "display_name": "john elemans", "link": "https://stackoverflow.com/users/1009270/john-elemans"}, "edited": false, "score": 1, "creation_date": 1545160465, "post_id": 53833738, "comment_id": 94527520, "body": "I would try to open the file with regular file operations to confirm that it is okay."}, {"owner": {"reputation": 1, "user_id": 10801259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04b20251cb6f876a52540ad4f793803?s=128&d=identicon&r=PG&f=1", "display_name": "datan3rd", "link": "https://stackoverflow.com/users/10801259/datan3rd"}, "edited": false, "score": 0, "creation_date": 1545243241, "post_id": 53833738, "comment_id": 94561770, "body": "I was able to use the terminal to access the file as a database without issue."}], "owner": {"reputation": 1, "user_id": 10801259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04b20251cb6f876a52540ad4f793803?s=128&d=identicon&r=PG&f=1", "display_name": "datan3rd", "link": "https://stackoverflow.com/users/10801259/datan3rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1545147436, "creation_date": 1545138490, "last_edit_date": 1545147436, "question_id": 53833738, "link": "https://stackoverflow.com/questions/53833738/objective-c-sqlite-not-recognized-as-a-database", "title": "Objective C SQLite Not Recognized as a Database", "body": "<p>I am attempting to create a process to backup my app data stored in a SQLite file. To this point I have been able to successfully hook into the Dropbox SDK, upload a backup file then download the backup file. I am stuck attempting to replace the current .sqlite with the downloaded backup .sqlite. Replacing the file itself did not yield desired results so I attempted to drop the tables of the current DB and re-load them from the backup. However when attempting to query the backup I am getting an error that the file is encrypted (it is not) or not a database. Error message = DB Open Error: file is encrypted or is not a database.\nCode to simply count records from a table in backup below. If anyone has any ideas or even better a simpler way for me to swap out the existing .sqlite for the backup.sqlite that would be much appreciated.</p>\n\n<pre><code>self.dbManagerBackup = [[DBManager alloc] initWithDatabaseFilename:@\"Backup.sqlite\"];\nNSString *query = [NSString stringWithFormat:@\"select * from Table1\"];\n\nif (self.Backup != nil) {\n    self.Backup = nil;\n}\n\nself.Backup = [[NSArray alloc] initWithArray:[self.dbManagerBackup loadDataFromDB:query]];\n\nNSLog(@\"*** Backup Backup Count = %lu\",(unsigned long)self.Backup.count);\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "weex"], "comments": [{"owner": {"reputation": 2445, "user_id": 288405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acea97b0bc1f223b24db816ab3dd8e46?s=128&d=identicon&r=PG", "display_name": "Mattie", "link": "https://stackoverflow.com/users/288405/mattie"}, "edited": false, "score": 0, "creation_date": 1545137608, "post_id": 53832336, "comment_id": 94515005, "body": "Check out <a href=\"https://weex.incubator.apache.org/guide/extend-module-using-swift.html\" rel=\"nofollow noreferrer\">weex.incubator.apache.org/guide/extend-module-using-swift.ht&zwnj;&#8203;ml</a>"}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 2791509, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/AiNTc.jpg?s=128&g=1", "display_name": "Brammanand Soni", "link": "https://stackoverflow.com/users/2791509/brammanand-soni"}, "edited": false, "score": 0, "creation_date": 1545197202, "post_id": 53833199, "comment_id": 94537727, "body": "This is exposing via Objective C file. I want to use them directly in swift file."}], "tags": [], "owner": {"reputation": 346, "user_id": 7055487, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/cRO5N.jpg?s=128&g=1", "display_name": "Hichem Romdhane", "link": "https://stackoverflow.com/users/7055487/hichem-romdhane"}, "is_accepted": false, "score": 0, "last_activity_date": 1545136700, "creation_date": 1545136700, "answer_id": 53833199, "question_id": 53832336, "link": "https://stackoverflow.com/questions/53832336/how-to-use-weex-ios-sdk-pragma-define-wx-export-methodmethod-in-swift/53833199#53833199", "title": "How to use Weex ios sdk pragma #define WX_EXPORT_METHOD(method) in swift?", "body": "<p>I think the solution of your work is to create Objective-c Bridging header look this :</p>\n\n<p><a href=\"https://github.com/apache/incubator-weex-site/blob/master/source/cn/guide/extend-module-using-swift.md\" rel=\"nofollow noreferrer\">https://github.com/apache/incubator-weex-site/blob/master/source/cn/guide/extend-module-using-swift.md</a></p>\n"}], "owner": {"reputation": 167, "user_id": 2791509, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/AiNTc.jpg?s=128&g=1", "display_name": "Brammanand Soni", "link": "https://stackoverflow.com/users/2791509/brammanand-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1545136700, "creation_date": 1545133585, "question_id": 53832336, "link": "https://stackoverflow.com/questions/53832336/how-to-use-weex-ios-sdk-pragma-define-wx-export-methodmethod-in-swift", "title": "How to use Weex ios sdk pragma #define WX_EXPORT_METHOD(method) in swift?", "body": "<p>I am using Weex ios sdk.\nFor exposing js method there is a pragma </p>\n\n<pre><code>#define WX_EXPORT_METHOD(method)\n</code></pre>\n\n<p>But this pragma is accessible in objective C file only.\nI need to use this in swift file.</p>\n\n<p>Is there any way to do so ?</p>\n"}, {"tags": ["ios", "objective-c", "keychain", "nsexception", "keychainitemwrapper"], "comments": [{"owner": {"reputation": 156, "user_id": 8211251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d6149e8e722e901ba69a3cde846479?s=128&d=identicon&r=PG&f=1", "display_name": "Danish Merani", "link": "https://stackoverflow.com/users/8211251/danish-merani"}, "edited": false, "score": 0, "creation_date": 1545136088, "post_id": 53831990, "comment_id": 94514160, "body": "Check if your &quot;Share keychain entitlement&quot; is ON in Xcode capabilities?"}, {"owner": {"reputation": 6678, "user_id": 5185570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/1qKHK.jpg?s=128&g=1", "display_name": "Peter G.", "link": "https://stackoverflow.com/users/5185570/peter-g"}, "reply_to_user": {"reputation": 156, "user_id": 8211251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d6149e8e722e901ba69a3cde846479?s=128&d=identicon&r=PG&f=1", "display_name": "Danish Merani", "link": "https://stackoverflow.com/users/8211251/danish-merani"}, "edited": false, "score": 0, "creation_date": 1545137366, "post_id": 53831990, "comment_id": 94514864, "body": "@DanishMerani yes it&#39;s on."}], "answers": [{"tags": [], "owner": {"reputation": 6678, "user_id": 5185570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/1qKHK.jpg?s=128&g=1", "display_name": "Peter G.", "link": "https://stackoverflow.com/users/5185570/peter-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1545232020, "creation_date": 1545232020, "answer_id": 53853986, "question_id": 53831990, "link": "https://stackoverflow.com/questions/53831990/nsinternalinconsistencyexception-couldnt-update-the-keychain-item/53853986#53853986", "title": "NSInternalInconsistencyException: Couldn&#39;t update the Keychain Item", "body": "<p>The solution was to setup logging of the keychain result, so I created a new method that <code>- (void) createLogEntry:(OSStatus) result;</code> that transcribes the result code of the <code>SecItemAdd</code> function into a readable message. </p>\n\n<p>The full list of the Security Framework Result Codes it returns is here: \n<a href=\"https://developer.apple.com/documentation/security/1542001-security_framework_result_codes?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/security/1542001-security_framework_result_codes?language=objc</a></p>\n\n<pre><code>- (void) writeToKeychain {\n    NSDictionary *attributes = NULL;\n    NSMutableDictionary *updateItem = NULL;\n    OSStatus result;\n\n    if (SecItemCopyMatching((__bridge CFDictionaryRef)genericPasswordQuery, (void *)&amp;attributes) == noErr) {\n        // First we need the attributes from the Keychain.\n        updateItem = [NSMutableDictionary dictionaryWithDictionary:attributes];\n        // Second we need to add the appropriate search key/values.\n        [updateItem setObject:[genericPasswordQuery objectForKey:(__bridge id)kSecClass] forKey:(__bridge id)kSecClass];\n\n        // Lastly, we need to set up the updated attribute list being careful to remove the class.\n        NSMutableDictionary *tempCheck = [self dictionaryToSecItemFormat:keychainItemData];\n        [tempCheck removeObjectForKey:(__bridge id)kSecClass];\n\n#if TARGET_IPHONE_SIMULATOR\n        // Remove the access group if running on the iPhone simulator.\n        //\n        // Apps that are built for the simulator aren't signed, so there's no keychain access group\n        // for the simulator to check. This means that all apps can see all keychain items when run\n        // on the simulator.\n        //\n        // If a SecItem contains an access group attribute, SecItemAdd and SecItemUpdate on the\n        // simulator will return -25243 (errSecNoAccessForItem).\n        //\n        // The access group attribute will be included in items returned by SecItemCopyMatching,\n        // which is why we need to remove it before updating the item.\n        [tempCheck removeObjectForKey:(__bridge id)kSecAttrAccessGroup];\n#endif\n\n        // An implicit assumption is that you can only update a single item at a time.\n\n        result = SecItemUpdate((__bridge CFDictionaryRef)updateItem, (__bridge CFDictionaryRef)tempCheck);\n\n        [self createLogEntry:result];\n\n        NSAssert(result == noErr, @\"Couldn't update the Keychain Item.\");\n    } else   {\n        // No previous item found; add the new one.\n        result = SecItemAdd((__bridge CFDictionaryRef)[self dictionaryToSecItemFormat: keychainItemData], NULL);\n\n        [self createLogEntry:result];\n\n        NSAssert(result == noErr, @\"Couldn't add the Keychain Item.\");\n    }\n}\n\n- (void) createLogEntry:(OSStatus) result {\n    if (@available(iOS 11.3, *)) {\n        NSString *message = CFBridgingRelease(SecCopyErrorMessageString(result, nil));\n        DDLogDebug(@\"writeToKeychain result={%d} message={%@}\",(int)result, message);\n    } else {\n        // Fallback on earlier versions\n    }\n}\n</code></pre>\n\n<p>With the logging set up I found out that the problem was that I was reinstantiating the <code>KeychainItemWrapper</code> each time I needed the password to be stored/retrieved by calling:</p>\n\n<pre><code>[[KeychainItemWrapper alloc] initWithIdentifier:@\"password\" accessGroup:@\"A123456789my.access.group\"];\n</code></pre>\n\n<p>This caused inconsistencies between the wrapper and the keychain because it was trying to save an item that already existed. Specifically the error code <code>errSecDuplicateItem = -25299</code> \"The item already exists\" was returned.</p>\n"}, {"tags": [], "owner": {"reputation": 788, "user_id": 56545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b379f4f65f7df9a70ccc39d4bd2b3974?s=128&d=identicon&r=PG", "display_name": "Greg Haygood", "link": "https://stackoverflow.com/users/56545/greg-haygood"}, "is_accepted": false, "score": 0, "last_activity_date": 1599491844, "creation_date": 1599491844, "answer_id": 63780331, "question_id": 53831990, "link": "https://stackoverflow.com/questions/53831990/nsinternalinconsistencyexception-couldnt-update-the-keychain-item/63780331#63780331", "title": "NSInternalInconsistencyException: Couldn&#39;t update the Keychain Item", "body": "<p>I ran into this error while trying to do anything with the keychain on a device. After a couple hours of head-banging (not the fun kind), I found this thread from an Apple engineer:</p>\n<p><a href=\"https://developer.apple.com/forums/thread/114456\" rel=\"nofollow noreferrer\">https://developer.apple.com/forums/thread/114456</a></p>\n<p>Following along, I realized that per most of the guides I'd seen, I was setting the access group to something like the reverse domain, e.g. com.apple.shared-keychain. The above post showed that the proper format for the access group needs to include the team id prefix, e.g. F93JS3ELA.com.apple.shared-keychain. Once I updated that, \ud83c\udf89!</p>\n<p>HTH</p>\n"}], "owner": {"reputation": 6678, "user_id": 5185570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/1qKHK.jpg?s=128&g=1", "display_name": "Peter G.", "link": "https://stackoverflow.com/users/5185570/peter-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 53853986, "answer_count": 2, "score": 0, "last_activity_date": 1599491844, "creation_date": 1545132300, "last_edit_date": 1545232140, "question_id": 53831990, "link": "https://stackoverflow.com/questions/53831990/nsinternalinconsistencyexception-couldnt-update-the-keychain-item", "title": "NSInternalInconsistencyException: Couldn&#39;t update the Keychain Item", "body": "<p>After adding the line to set <code>kSecAttrAccessible</code> to <code>kSecAttrAccessibleAlways</code> to make the keychain accessible even when the screen is locked I started seeing this error. Normally it comes when keychain sharing is not configured, but my keychain sharing is already set up with group ID that contains app\u2019s reference ID:</p>\n\n<pre><code>*** Assertion failure in -[KeychainItemWrapper writeToKeychain], /path/to/project/KeychainItemWrapper.m:278\n*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Couldn't add the Keychain Item.'\n*** First throw call stack:\n(0x189eebef8 0x1890b9a40 0x189e0006c 0x18a8ec3e0 0x1026429d4 0x102641d04 0x102688080 0x102687ecc 0x1026bf2f4 0x1026bf4ac 0x1b6d1e2dc 0x1b67af844 0x1b67afb64 0x1b67aeb64 0x1b6d57c14 0x1b6d58e78 0x1b6d383c0 0x1b6e0323c 0x1b6e05ca8 0x1b6dfe83c 0x189e7a5b8 0x189e7a538 0x189e79e1c 0x189e74ce8 0x189e745b8 0x18c0e8584 0x1b6d1cbc8 0x1026627a8 0x189934b94)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n(lldb) \n</code></pre>\n\n<p>Stack trace:</p>\n\n<p><a href=\"https://i.stack.imgur.com/J0jw4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J0jw4.png\" alt=\"stack\"></a></p>\n\n<p>Method to store password in my code:</p>\n\n<pre><code>+ (void)storePassword:(NSString *) password {\n    KeychainItemWrapper *keychain = [[KeychainItemWrapper alloc] \n                                        initWithIdentifier:@\"password\" \n                                               accessGroup:@\"A123456789.my.access.group\"];\n    [keychain setObject:password forKey:(__bridge id) kSecValueData];\n\n    if (password.length &gt; 0) {\n        [self setUserIsLoggedIn:YES];\n    } else {\n        [self setUserIsLoggedIn:NO];\n    }\n}\n</code></pre>\n\n<p>The added line to <code>KeychainItemWrapper.m</code>:</p>\n\n<pre><code>// CUSTOM QUERY CONSTANTS\n[genericPasswordQuery setObject:(__bridge id)kSecAttrAccessibleAlways forKey:(__bridge id)kSecAttrAccessible];\n</code></pre>\n\n<p>I am using a KeychainItemWrapper 1.2 (by Apple with 1 added line):</p>\n\n<pre><code>/*\n File: KeychainItemWrapper.m\n Abstract:\n Objective-C wrapper for accessing a single keychain item.\n\n Version: 1.2 - Customized\n\n Disclaimer: IMPORTANT:  This Apple software is supplied to you by Apple\n Inc. (\"Apple\") in consideration of your agreement to the following\n terms, and your use, installation, modification or redistribution of\n this Apple software constitutes acceptance of these terms.  If you do\n not agree with these terms, please do not use, install, modify or\n redistribute this Apple software.\n\n In consideration of your agreement to abide by the following terms, and\n subject to these terms, Apple grants you a personal, non-exclusive\n license, under Apple's copyrights in this original Apple software (the\n \"Apple Software\"), to use, reproduce, modify and redistribute the Apple\n Software, with or without modifications, in source and/or binary forms;\n provided that if you redistribute the Apple Software in its entirety and\n without modifications, you must retain this notice and the following\n text and disclaimers in all such redistributions of the Apple Software.\n Neither the name, trademarks, service marks or logos of Apple Inc. may\n be used to endorse or promote products derived from the Apple Software\n without specific prior written permission from Apple.  Except as\n expressly stated in this notice, no other rights or licenses, express or\n implied, are granted by Apple herein, including but not limited to any\n patent rights that may be infringed by your derivative works or by other\n works in which the Apple Software may be incorporated.\n\n The Apple Software is provided by Apple on an \"AS IS\" basis.  APPLE\n MAKES NO WARRANTIES, EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION\n THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND FITNESS\n FOR A PARTICULAR PURPOSE, REGARDING THE APPLE SOFTWARE OR ITS USE AND\n OPERATION ALONE OR IN COMBINATION WITH YOUR PRODUCTS.\n\n IN NO EVENT SHALL APPLE BE LIABLE FOR ANY SPECIAL, INDIRECT, INCIDENTAL\n OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n INTERRUPTION) ARISING IN ANY WAY OUT OF THE USE, REPRODUCTION,\n MODIFICATION AND/OR DISTRIBUTION OF THE APPLE SOFTWARE, HOWEVER CAUSED\n AND WHETHER UNDER THEORY OF CONTRACT, TORT (INCLUDING NEGLIGENCE),\n STRICT LIABILITY OR OTHERWISE, EVEN IF APPLE HAS BEEN ADVISED OF THE\n POSSIBILITY OF SUCH DAMAGE.\n\n Copyright (C) 2010 Apple Inc. All Rights Reserved.\n\n */\n\n#import \"KeychainItemWrapper.h\"\n\n/*\n\n These are the default constants and their respective types,\n available for the kSecClassGenericPassword Keychain Item class:\n\n kSecAttrAccessGroup            -       CFStringRef\n kSecAttrCreationDate       -       CFDateRef\n kSecAttrModificationDate    -      CFDateRef\n kSecAttrDescription            -       CFStringRef\n kSecAttrComment                -       CFStringRef\n kSecAttrCreator                -       CFNumberRef\n kSecAttrType                -      CFNumberRef\n kSecAttrLabel              -       CFStringRef\n kSecAttrIsInvisible            -       CFBooleanRef\n kSecAttrIsNegative         -       CFBooleanRef\n kSecAttrAccount                -       CFStringRef\n kSecAttrService                -       CFStringRef\n kSecAttrGeneric                -       CFDataRef\n\n See the header file Security/SecItem.h for more details.\n\n */\n\n@interface KeychainItemWrapper (PrivateMethods)\n/*\n The decision behind the following two methods (secItemFormatToDictionary and dictionaryToSecItemFormat) was\n to encapsulate the transition between what the detail view controller was expecting (NSString *) and what the\n Keychain API expects as a validly constructed container class.\n */\n- (NSMutableDictionary *) secItemFormatToDictionary:(NSDictionary *) dictionaryToConvert;\n- (NSMutableDictionary *) dictionaryToSecItemFormat:(NSDictionary *) dictionaryToConvert;\n\n// Updates the item in the keychain, or adds it if it doesn't exist.\n- (void) writeToKeychain;\n\n@end\n\n@implementation KeychainItemWrapper\n\n@synthesize keychainItemData, genericPasswordQuery;\n\n- (id) initWithIdentifier: (NSString *) identifier accessGroup:(NSString *) accessGroup;\n{\n    if (self = [super init]) {\n        // Begin Keychain search setup. The genericPasswordQuery leverages the special user\n        // defined attribute kSecAttrGeneric to distinguish itself between other generic Keychain\n        // items which may be included by the same application.\n        genericPasswordQuery = [[NSMutableDictionary alloc] init];\n\n        [genericPasswordQuery setObject:(__bridge id)kSecClassGenericPassword forKey:(__bridge id)kSecClass];\n        [genericPasswordQuery setObject:identifier forKey:(__bridge id)kSecAttrGeneric];\n\n        // The keychain access group attribute determines if this item can be shared\n        // amongst multiple apps whose code signing entitlements contain the same keychain access group.\n        if (accessGroup != nil) {\n#if TARGET_IPHONE_SIMULATOR\n            // Ignore the access group if running on the iPhone simulator.\n            //\n            // Apps that are built for the simulator aren't signed, so there's no keychain access group\n            // for the simulator to check. This means that all apps can see all keychain items when run\n            // on the simulator.\n            //\n            // If a SecItem contains an access group attribute, SecItemAdd and SecItemUpdate on the\n            // simulator will return -25243 (errSecNoAccessForItem).\n#else\n            [genericPasswordQuery setObject:accessGroup forKey:(__bridge id)kSecAttrAccessGroup];\n#endif\n        }\n\n        // Use the proper search constants, return only the attributes of the first match.\n        [genericPasswordQuery setObject:(__bridge id)kSecMatchLimitOne forKey:(__bridge id)kSecMatchLimit];\n        [genericPasswordQuery setObject:(__bridge id)kCFBooleanTrue forKey:(__bridge id)kSecReturnAttributes];\n\n        // THIS LINE WAS ADDED TO THE QUERY TO MAKE THE KEYCHAIN ACCESSIBLE WHEN THE SCREEN IS LOCKED\n        [genericPasswordQuery setObject:(__bridge id)kSecAttrAccessibleAlways forKey:(__bridge id)kSecAttrAccessible];\n\n        NSDictionary *tempQuery = [NSDictionary dictionaryWithDictionary:genericPasswordQuery];\n\n        NSMutableDictionary *outDictionary = nil;\n\n        if (!SecItemCopyMatching((__bridge CFDictionaryRef)tempQuery, (void *)&amp;outDictionary) == noErr) {\n            // Stick these default values into keychain item if nothing found.\n            [self resetKeychainItem];\n\n            // Add the generic attribute and the keychain access group.\n            [keychainItemData setObject:identifier forKey:(__bridge id)kSecAttrGeneric];\n            if (accessGroup != nil) {\n#if TARGET_IPHONE_SIMULATOR\n                // Ignore the access group if running on the iPhone simulator.\n                //\n                // Apps that are built for the simulator aren't signed, so there's no keychain access group\n                // for the simulator to check. This means that all apps can see all keychain items when run\n                // on the simulator.\n                //\n                // If a SecItem contains an access group attribute, SecItemAdd and SecItemUpdate on the\n                // simulator will return -25243 (errSecNoAccessForItem).\n#else\n                [keychainItemData setObject:accessGroup forKey:(__bridge id)kSecAttrAccessGroup];\n#endif\n            }\n        } else           {\n            // load the saved data from Keychain.\n            self.keychainItemData = [self secItemFormatToDictionary:outDictionary];\n        }\n\n    }\n\n    return self;\n}\n\n- (void) setObject:(id) inObject forKey:(id) key {\n    if (inObject == nil) return;\n    id currentObject = [keychainItemData objectForKey:key];\n    if (![currentObject isEqual:inObject]) {\n        [keychainItemData setObject:inObject forKey:key];\n        [self writeToKeychain];\n    }\n}\n\n- (id) objectForKey:(id) key {\n    return [keychainItemData objectForKey:key];\n}\n\n- (void) resetKeychainItem {\n    OSStatus junk = noErr;\n    if (!keychainItemData) {\n        self.keychainItemData = [[NSMutableDictionary alloc] init];\n    } else if (keychainItemData)   {\n        NSMutableDictionary *tempDictionary = [self dictionaryToSecItemFormat:keychainItemData];\n        junk = SecItemDelete((__bridge CFDictionaryRef)tempDictionary);\n        NSAssert(junk == noErr || junk == errSecItemNotFound, @\"Problem deleting current dictionary.\");\n    }\n\n    // Default attributes for keychain item.\n    [keychainItemData setObject:@\"\" forKey:(__bridge id)kSecAttrAccount];\n    [keychainItemData setObject:@\"\" forKey:(__bridge id)kSecAttrLabel];\n    [keychainItemData setObject:@\"\" forKey:(__bridge id)kSecAttrDescription];\n\n    // Default data for keychain item.\n    [keychainItemData setObject:@\"\" forKey:(__bridge id)kSecValueData];\n}\n\n- (NSMutableDictionary *) dictionaryToSecItemFormat:(NSDictionary *) dictionaryToConvert {\n    // The assumption is that this method will be called with a properly populated dictionary\n    // containing all the right key/value pairs for a SecItem.\n\n    // Create a dictionary to return populated with the attributes and data.\n    NSMutableDictionary *returnDictionary = [NSMutableDictionary dictionaryWithDictionary:dictionaryToConvert];\n\n    // Add the Generic Password keychain item class attribute.\n    [returnDictionary setObject:(__bridge id)kSecClassGenericPassword forKey:(__bridge id)kSecClass];\n\n    // Convert the NSString to NSData to meet the requirements for the value type kSecValueData.\n    // This is where to store sensitive data that should be encrypted.\n    NSString *passwordString = [dictionaryToConvert objectForKey:(__bridge id)kSecValueData];\n    [returnDictionary setObject:[passwordString dataUsingEncoding:NSUTF8StringEncoding] forKey:(__bridge id)kSecValueData];\n\n    return returnDictionary;\n}\n\n- (NSMutableDictionary *) secItemFormatToDictionary:(NSDictionary *) dictionaryToConvert {\n    // The assumption is that this method will be called with a properly populated dictionary\n    // containing all the right key/value pairs for the UI element.\n\n    // Create a dictionary to return populated with the attributes and data.\n    NSMutableDictionary *returnDictionary = [NSMutableDictionary dictionaryWithDictionary:dictionaryToConvert];\n\n    // Add the proper search key and class attribute.\n    [returnDictionary setObject:(__bridge id)kCFBooleanTrue forKey:(__bridge id)kSecReturnData];\n    [returnDictionary setObject:(__bridge id)kSecClassGenericPassword forKey:(__bridge id)kSecClass];\n\n    // Acquire the password data from the attributes.\n    NSData *passwordData = NULL;\n    if (SecItemCopyMatching((__bridge CFDictionaryRef)returnDictionary, (void *)&amp;passwordData) == noErr) {\n        // Remove the search, class, and identifier key/value, we don't need them anymore.\n        [returnDictionary removeObjectForKey:(__bridge id)kSecReturnData];\n\n        // Add the password to the dictionary, converting from NSData to NSString.\n        NSString *password = [[NSString alloc] initWithBytes:[passwordData bytes] length:[passwordData length]\n                                                     encoding:NSUTF8StringEncoding];\n        [returnDictionary setObject:password forKey:(__bridge id)kSecValueData];\n    } else   {\n        // Don't do anything if nothing is found.\n        NSAssert(NO, @\"Serious error, no matching item found in the keychain.\\n\");\n    }\n\n    return returnDictionary;\n}\n\n- (void) writeToKeychain {\n    NSDictionary *attributes = NULL;\n    NSMutableDictionary *updateItem = NULL;\n    OSStatus result;\n\n    if (SecItemCopyMatching((__bridge CFDictionaryRef)genericPasswordQuery, (void *)&amp;attributes) == noErr) {\n        // First we need the attributes from the Keychain.\n        updateItem = [NSMutableDictionary dictionaryWithDictionary:attributes];\n        // Second we need to add the appropriate search key/values.\n        [updateItem setObject:[genericPasswordQuery objectForKey:(__bridge id)kSecClass] forKey:(__bridge id)kSecClass];\n\n        // Lastly, we need to set up the updated attribute list being careful to remove the class.\n        NSMutableDictionary *tempCheck = [self dictionaryToSecItemFormat:keychainItemData];\n        [tempCheck removeObjectForKey:(__bridge id)kSecClass];\n\n#if TARGET_IPHONE_SIMULATOR\n        // Remove the access group if running on the iPhone simulator.\n        //\n        // Apps that are built for the simulator aren't signed, so there's no keychain access group\n        // for the simulator to check. This means that all apps can see all keychain items when run\n        // on the simulator.\n        //\n        // If a SecItem contains an access group attribute, SecItemAdd and SecItemUpdate on the\n        // simulator will return -25243 (errSecNoAccessForItem).\n        //\n        // The access group attribute will be included in items returned by SecItemCopyMatching,\n        // which is why we need to remove it before updating the item.\n        [tempCheck removeObjectForKey:(__bridge id)kSecAttrAccessGroup];\n#endif\n\n        // An implicit assumption is that you can only update a single item at a time.\n\n        result = SecItemUpdate((__bridge CFDictionaryRef)updateItem, (__bridge CFDictionaryRef)tempCheck);\n        NSAssert(result == noErr, @\"Couldn't update the Keychain Item.\");\n    } else   {\n        // No previous item found; add the new one.\n        result = SecItemAdd((__bridge CFDictionaryRef)[self dictionaryToSecItemFormat: keychainItemData], NULL);\n        NSAssert(result == noErr, @\"Couldn't add the Keychain Item.\");\n    }\n}\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 764, "user_id": 8946219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f171f8edd622d21fa75f9f4a344cf450?s=128&d=identicon&r=PG&f=1", "display_name": "MartinM", "link": "https://stackoverflow.com/users/8946219/martinm"}, "edited": false, "score": 0, "creation_date": 1545130227, "post_id": 53831141, "comment_id": 94511081, "body": "When are you trying to make that screenshot? Did you check the contentView bounds size?  Also, did you consider using UIView snapshot: <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622531-snapshotviewafterscreenupdates\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/uiview/&hellip;</a>"}, {"owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "reply_to_user": {"reputation": 764, "user_id": 8946219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f171f8edd622d21fa75f9f4a344cf450?s=128&d=identicon&r=PG&f=1", "display_name": "MartinM", "link": "https://stackoverflow.com/users/8946219/martinm"}, "edited": false, "score": 0, "creation_date": 1545131382, "post_id": 53831141, "comment_id": 94511696, "body": "Yes I did, everything is fine. UIImage should be within bounds. I have problems using the UIView Snapshot as I need an UIImage to save to the photoalbum in the end."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "edited": false, "score": 0, "creation_date": 1545131940, "post_id": 53831790, "comment_id": 94512007, "body": "Still shows white, but all other subviews are on the screenshot (a tableview, other labels and buttons), except for the image (UIImageView)."}, {"owner": {"reputation": 331, "user_id": 5376394, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1b5692d9c5fc5e0f06638fda1dd83bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/5376394/vishnu"}, "reply_to_user": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "edited": false, "score": 0, "creation_date": 1545132156, "post_id": 53831790, "comment_id": 94512134, "body": "In place  of contet view put image view,check edited code"}, {"owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "edited": false, "score": 0, "creation_date": 1545132566, "post_id": 53831790, "comment_id": 94512336, "body": "where? Before drawViewHierarchyInRect.. ?"}, {"owner": {"reputation": 331, "user_id": 5376394, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1b5692d9c5fc5e0f06638fda1dd83bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/5376394/vishnu"}, "reply_to_user": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "edited": false, "score": 0, "creation_date": 1545132690, "post_id": 53831790, "comment_id": 94512404, "body": "your image view or image you can draw view.If u want to check that image put this  line   UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil);  and check in your photo album."}, {"owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "edited": false, "score": 0, "creation_date": 1545133249, "post_id": 53831790, "comment_id": 94512696, "body": "The resulted image still is white. But I need to to have a screenshot of the whole screen with the image in it. Is there maybe a problem with my view hierarchy? view -&gt; scrollview -&gt; contentView -&gt; all subviews, including imageView, buttons and labels"}], "tags": [], "owner": {"reputation": 331, "user_id": 5376394, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1b5692d9c5fc5e0f06638fda1dd83bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/5376394/vishnu"}, "is_accepted": true, "score": 1, "last_activity_date": 1545132357, "last_edit_date": 1545132357, "creation_date": 1545131568, "answer_id": 53831790, "question_id": 53831141, "link": "https://stackoverflow.com/questions/53831141/uiimage-in-view-not-saved-when-taking-screenshot-programmatically-objective-c/53831790#53831790", "title": "UIImage in view not saved when taking screenshot programmatically - Objective-C", "body": "<p>Try this</p>\n\n<pre><code>if ([[UIScreen mainScreen] respondsToSelector:@selector(scale)]) {\n    UIGraphicsBeginImageContextWithOptions(self.image.bounds.size, NO, 2.0);\n} else {\n    UIGraphicsBeginImageContext(self.image.bounds.size);\n}\n\n[self.image drawViewHierarchyInRect:self.image.bounds afterScreenUpdates:YES];\nUIImage *image = UIGraphicsGetImageFromCurrentImageContext();\nUIGraphicsEndImageContext();\nNSData *imageData = UIImagePNGRepresentation(image);\nif (imageData) {\n    [imageData writeToFile:@\"screenshot.png\" atomically:YES];\n} else {\n    NSLog(@\"error while taking screenshot\");\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 53831790, "answer_count": 1, "score": 0, "last_activity_date": 1545132357, "creation_date": 1545129330, "last_edit_date": 1545132131, "question_id": 53831141, "link": "https://stackoverflow.com/questions/53831141/uiimage-in-view-not-saved-when-taking-screenshot-programmatically-objective-c", "title": "UIImage in view not saved when taking screenshot programmatically - Objective-C", "body": "<p>I am trying to take a screenshot with:</p>\n\n<pre><code>if ([[UIScreen mainScreen] respondsToSelector:@selector(scale)]) {\n    UIGraphicsBeginImageContextWithOptions(self.contentView.bounds.size, NO, [UIScreen mainScreen].scale);\n} else {\n    UIGraphicsBeginImageContext(self.contentView.bounds.size);\n}\n\n[self.contentView.layer renderInContext:UIGraphicsGetCurrentContext()];\nUIImage *image = UIGraphicsGetImageFromCurrentImageContext();\nUIGraphicsEndImageContext();\n</code></pre>\n\n<p>However, the image saved does not include an image within the screenshot (shows white instead). Why is this?</p>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2618, "user_id": 6043024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/747faf0b5e22ced76ebf8649910af0e4?s=128&d=identicon&r=PG&f=1", "display_name": "isuru", "link": "https://stackoverflow.com/users/6043024/isuru"}, "edited": false, "score": 0, "creation_date": 1545132719, "post_id": 53830465, "comment_id": 94512421, "body": "Solved. Problem is in my view controller."}, {"owner": {"reputation": 533, "user_id": 2773115, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/yDxrA.jpg?s=128&g=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/2773115/luis"}, "edited": false, "score": 0, "creation_date": 1554113226, "post_id": 53830465, "comment_id": 97618889, "body": "I encounter the same problem, what did you do in your view controller to fix it ?"}], "owner": {"reputation": 2618, "user_id": 6043024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/747faf0b5e22ced76ebf8649910af0e4?s=128&d=identicon&r=PG&f=1", "display_name": "isuru", "link": "https://stackoverflow.com/users/6043024/isuru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1545127023, "creation_date": 1545127023, "question_id": 53830465, "link": "https://stackoverflow.com/questions/53830465/apple-pencil-tap-gesture-recognizing-problem", "title": "Apple pencil tap gesture recognizing problem", "body": "<p>I have implemented the <code>UIPencilInteractionDelegate</code> to detect apple pencil double tap as follows.</p>\n\n<pre><code>UIPencilInteraction *pencilInteraction = [[UIPencilInteraction alloc] init];\npencilInteraction.delegate = self;\n[self.view addInteraction:pencilInteraction];\n</code></pre>\n\n<p>delegate method implementation</p>\n\n<pre><code>- (void)pencilInteractionDidTap:(UIPencilInteraction *)interaction{\n    NSLog(@\"Detected\");\n}\n</code></pre>\n\n<p>However cannot detect the double tap gesture with above implementation. What will be the mistake?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1545125777, "post_id": 53829002, "comment_id": 94508423, "body": "<code>[AClassObj startDoSthUntilCancel:self];</code>?"}, {"owner": {"reputation": 334, "user_id": 5402084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510329363444e221e34055597b1c4d34?s=128&d=identicon&r=PG&f=1", "display_name": "ZyusAn", "link": "https://stackoverflow.com/users/5402084/zyusan"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1545127559, "post_id": 53829002, "comment_id": 94509463, "body": "similar to my solution, I don&#39;t want AClassObj has to much business with MyObj at first\uff0cI used a protocol at last\uff0cpass self as a (__weak id&lt;CancelProtocol&gt;)  prameter. thanks :) @Cy-4AH"}, {"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545217773, "post_id": 53829002, "comment_id": 94547383, "body": "It&#39;s not clear to me the reason why you are trying to pass the reference of that boolean instead of its value (a value that will keep on living even after the dealloc of MyObj, unlike cancel&#39;s reference). Moreover, I don&#39;t get how passing &quot;self&quot; would solve your problem, because when you deallocate MyObject, that &quot;self&quot; becomes nil"}], "owner": {"reputation": 334, "user_id": 5402084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510329363444e221e34055597b1c4d34?s=128&d=identicon&r=PG&f=1", "display_name": "ZyusAn", "link": "https://stackoverflow.com/users/5402084/zyusan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545121752, "creation_date": 1545121752, "question_id": 53829002, "link": "https://stackoverflow.com/questions/53829002/safely-pass-bool-value-as-reference-in-objectivec", "title": "Safely pass bool value as reference in ObjectiveC", "body": "<pre><code>@interface MyObj ()\n@property (nonatomic, assign) BOOL cancel;\n@end\n\n\n@implementation\n\n- (void)doSth {\n    [AClassObj startDoSthUntilCancel:&amp;_cancel];\n}\n\n@end\n</code></pre>\n\n<p>How can I avoid crash (or get incorrect value) after MyObj instance dealloc? As  AClassObj may still visit *cancel in -startDoSthUntilCancel: method.</p>\n\n<p>Or is there any better way to do this cancel action?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545218020, "post_id": 53827927, "comment_id": 94547503, "body": "Are you creating the segue programmatically, or is it defined in the storyboard? Could you show the code you are using to present that modal viewcontroller and maybe some code that could lead to the solution, and the exact content of that error?"}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545269255, "post_id": 53827927, "comment_id": 94570655, "body": "ah, I solved this problem in the end, the issue was that I had a background thread updating UI components for the previous viewcontroller, this meant that it had issues switching, after I changed from a background thread to a NSNotification the problem solved itself, mostly."}, {"owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545293325, "post_id": 53827927, "comment_id": 94576683, "body": "Ouch. UI updates should <i>always</i> be executed on the main thread. Period."}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "edited": false, "score": 0, "creation_date": 1545295813, "post_id": 53827927, "comment_id": 94577688, "body": "Yes, I&#39;ve learnt my lesson. Been building an iOS 6 music app replica with coverflow and stuff, almost done it now but I was using the background thread to update the song title of now playing when I should have been using the notification system."}], "owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545117487, "creation_date": 1545116898, "last_edit_date": 1545117487, "question_id": 53827927, "link": "https://stackoverflow.com/questions/53827927/dismiss-a-tabbed-view-controller-from-a-seperate-modaled-to-view-controller", "title": "dismiss a tabbed view controller from a seperate modaled to view controller", "body": "<p>So, I have a tab bar view controller, however at some point I need to manually segue to a viewcontroller that is not attached to the tab-view controller. The segue works, but then it jumps back again to the previous view controller randomly after 1/2 a second to 3 seconds, not all the time, but often. Occasionally I see a message saying something along the lines of \"cannot dismiss viewcontroller while another dismiss or presentation is already taking place\" but I've double checked all my code and there are only three places that make the jump, none of which can be called simultaneously. What I need to know then, is how I go about dismissing the tab viewcontroller in the view did load method of the modaled to controller.   Swift explanations are no good to me thanks.  Also, not related to this question persay, but can anyone tell me what the sliding bar thing that looks like a UISlider and tracks the progress of a song is called?</p>\n"}, {"tags": ["ios", "objective-c", "xamarin", "xamarin.ios", "xamarin.ios-binding"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1545116420, "post_id": 53827723, "comment_id": 94504110, "body": "What are the &quot;3 lines of objective c code&quot;?"}, {"owner": {"reputation": 69, "user_id": 10631863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "rinku khatri", "link": "https://stackoverflow.com/users/10631863/rinku-khatri"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1545195685, "post_id": 53827723, "comment_id": 94537329, "body": "Hello @SushiHangover thanks for the reply , For testing purpose I&#39;ve wrote this code.   +(void)Print {     NSLog(@&quot;Objective C Native Library Binding&quot;); }"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1545205138, "post_id": 53827723, "comment_id": 94540705, "body": "I just bound a single static &quot;Print&quot; ObjC function and have an 11 line ObjcBindingApiDefinition file (<code>ApiDefinitions.cs</code>) (I removed the unused <code>using</code> statements)."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 10631863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "rinku khatri", "link": "https://stackoverflow.com/users/10631863/rinku-khatri"}, "edited": false, "score": 0, "creation_date": 1545195925, "post_id": 53830507, "comment_id": 94537396, "body": "Yes I have updated Xcode and Sharpie as well. I followed the all instruction given in this link <a href=\"https://docs.microsoft.com/en-us/xamarin/ios/platform/binding-objective-c/walkthrough?tabs=macos\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/xamarin/ios/platform/&hellip;</a>. But No success."}, {"owner": {"reputation": 47, "user_id": 8977653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766f6458a1fec8fe9b54b39c3a09dea7?s=128&d=identicon&r=PG&f=1", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/8977653/huy-nguyen"}, "reply_to_user": {"reputation": 69, "user_id": 10631863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "rinku khatri", "link": "https://stackoverflow.com/users/10631863/rinku-khatri"}, "edited": false, "score": 0, "creation_date": 1545200241, "post_id": 53830507, "comment_id": 94538650, "body": "You can try the link above. I used to follow instruction from this link and I was success"}], "tags": [], "owner": {"reputation": 47, "user_id": 8977653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766f6458a1fec8fe9b54b39c3a09dea7?s=128&d=identicon&r=PG&f=1", "display_name": "Huy Nguyen", "link": "https://stackoverflow.com/users/8977653/huy-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1545127135, "creation_date": 1545127135, "answer_id": 53830507, "question_id": 53827723, "link": "https://stackoverflow.com/questions/53827723/objective-c-native-library-binding-issue-in-xamarin-ios/53830507#53830507", "title": "Objective C Native Library Binding Issue in Xamarin iOS", "body": "<p>Have you updated Xcode and Objective Sharpie yet?\ntry to follow this tutorials: <a href=\"https://www.youtube.com/watch?v=_lqSXKOH5g8&amp;t=1618s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=_lqSXKOH5g8&amp;t=1618s</a></p>\n\n<p>Another guide for you: <a href=\"http://blog.ksharp.info/2018/10/xamarin-native-binding-ios-cocoapods/\" rel=\"nofollow noreferrer\">http://blog.ksharp.info/2018/10/xamarin-native-binding-ios-cocoapods/</a> </p>\n"}], "owner": {"reputation": 69, "user_id": 10631863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "rinku khatri", "link": "https://stackoverflow.com/users/10631863/rinku-khatri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545127135, "creation_date": 1545115783, "last_edit_date": 1545125214, "question_id": 53827723, "link": "https://stackoverflow.com/questions/53827723/objective-c-native-library-binding-issue-in-xamarin-ios", "title": "Objective C Native Library Binding Issue in Xamarin iOS", "body": "<p>We are trying to bind iOS native library with Xamarin, using the below link.\n<a href=\"https://docs.microsoft.com/en-us/xamarin/ios/platform/binding-objective-c/walkthrough?tabs=macos\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/xamarin/ios/platform/binding-objective-c/walkthrough?tabs=macos</a></p>\n\n<p>But whenever we are trying to do so, we got a file where it contains lines more than 25k and errors more than 30-40k errors, And All these we get for a 3 lines of objective c code.</p>\n"}, {"tags": ["objective-c", "protocol-buffers"], "comments": [{"owner": {"reputation": 600, "user_id": 3167040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y3EKF.png?s=128&g=1", "display_name": "ReinstateMonica3167040", "link": "https://stackoverflow.com/users/3167040/reinstatemonica3167040"}, "edited": false, "score": 0, "creation_date": 1607468508, "post_id": 53827403, "comment_id": 115281539, "body": "Does the project explain how to build it in its README?"}], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545114008, "creation_date": 1545114008, "question_id": 53827403, "link": "https://stackoverflow.com/questions/53827403/how-to-compile-a-project-that-uses-protobuf-in-xcode", "title": "How to compile a project that uses protobuf in Xcode?", "body": "<p>I want to compile a project that uses protobuf.</p>\n\n<blockquote>\n  <p>xcode version: 9.3.1 <br/> macOS version: 10.13.6</p>\n</blockquote>\n\n<p>Compile error:</p>\n\n<blockquote>\n  <p>'google/protobuf/stubs/common.h' file not found</p>\n</blockquote>\n\n<p>I read in some sites that I have to install <code>protobuf</code></p>\n\n<pre><code>$ brew install protobuf\n// installed version: protobuf 3.6.1.3\n</code></pre>\n\n<p>There is a directory in the project, called makefile containing these files:</p>\n\n<pre><code>Makefile_ios            compile_ios_protobuf_ssd.sh\nbuild_all_ios_ssd.sh        compile_ios_tensorflow_s.sh\nbuild_tflib_ssd.sh      compile_nsync_ssd.sh\n</code></pre>\n\n<p>when I run these scripts they have error. like</p>\n\n<pre><code>$ ./compile_ios_protobuf_ssd.sh\n// ./compile_ios_protobuf_ssd.sh: line 25: ./build_helper.subr: No such file or directory\n\n./build_all_ios_ssd.sh\nmake: tensorflow/contrib/makefile/Makefile_ios: No such file or directory\nmake: *** No rule to make target `tensorflow/contrib/makefile/Makefile_ios'.  Stop.\n</code></pre>\n\n<p>Do I have to install something, or this project has problem?</p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview"], "comments": [{"owner": {"reputation": 3650, "user_id": 4539192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jPbqw.jpg?s=128&g=1", "display_name": "Rikh", "link": "https://stackoverflow.com/users/4539192/rikh"}, "edited": false, "score": 0, "creation_date": 1545106293, "post_id": 53826029, "comment_id": 94501186, "body": "Use a <code>UICollectionView</code> or <code>UITableView</code> depending on what you want and play around with <code>willDisplayCell</code> or <code>cellForRow</code> methods to show colours"}], "answers": [{"tags": [], "owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "is_accepted": false, "score": 1, "last_activity_date": 1545105934, "last_edit_date": 1545105934, "creation_date": 1545105059, "answer_id": 53826145, "question_id": 53826029, "link": "https://stackoverflow.com/questions/53826029/how-to-change-multiple-uilabel-text-colour-while-scrolling-inside-scrollview-obj/53826145#53826145", "title": "How to change multiple UILabel text colour while scrolling inside scrollview Objective-c iOS", "body": "<p>There are three labels, but only one label property.  The last one assigned is the only one you'll have access to later.  One solution would be to keep an array of labels in the view controller.</p>\n\n<pre><code>@property(nonatomic, strong) NSMutableArray *labels;\n</code></pre>\n\n<p>In the posted method...</p>\n\n<pre><code>self.labels = [NSMutableArray array];\nfor (int i=0; i&lt;robotCounts; i++) {\n    UILabel *robotLabel = [[UILabel alloc] initWithFrame:CGRectMake(Robot_ScrollView_Width*i, 0 , Robot_ScrollView_Width, kRobotSrollViewH)];\n\n    [self.labels addObject:robotLabel];                 // &lt;--- new\n\n    robotLabel.textAlignment = NSTextAlignmentCenter;\n    robotLabel.backgroundColor = [UIColor clearColor];\n    robotLabel.textColor = [UIColor blackColor];\n    [self.robotScrollView addSubview:robotLabel];\n    if (kRemoteManager.robotsArray.count == 0) {\n        robotLabel.text = @\"\u5f53\u524d\u65e0\u9177\u63a7\u673a\u5668\u4eba\";\n        break;\n    }\n    DeviceBase *robot = kRemoteManager.robotsArray[i];\n    robotLabel.text = [NSString stringWithFormat:@\"%@\",robot.dName];\n}\n</code></pre>\n\n<p>To change all of the colors:</p>\n\n<pre><code>- (void)setLabelColors:(UIColor *)color {\n    for (UILabel *label in self.labels) {\n        label.textColor = color;\n    }\n}\n</code></pre>\n\n<p>Another idea would be to give each label a tag, and find them when you need them.</p>\n\n<pre><code>for (int i=0; i&lt;robotCounts; i++) {\n    self.robotLabel = [[UILabel alloc] initWithFrame:CGRectMake(Robot_ScrollView_Width*i, 0 , Robot_ScrollView_Width, kRobotSrollViewH)];\n    self.robotLabel.tag = i+1;\n    // the remainder of this loop as you have it\n</code></pre>\n\n<p>To change all the colors...</p>\n\n<pre><code>- (void)setLabelColors:(UIColor *)color {\n    for (int i=0; i&lt;robotCounts; i++) {\n        UILabel *label = (UILabel *)[self.robotScrollView viewWithTag:i+1];\n        label.textColor = color;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 2431527, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/729bb98a4b61fbb71c0804c5910ce29b?s=128&d=identicon&r=PG", "display_name": "Aslam", "link": "https://stackoverflow.com/users/2431527/aslam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574256244, "creation_date": 1545104205, "last_edit_date": 1574256244, "question_id": 53826029, "link": "https://stackoverflow.com/questions/53826029/how-to-change-multiple-uilabel-text-colour-while-scrolling-inside-scrollview-obj", "title": "How to change multiple UILabel text colour while scrolling inside scrollview Objective-c iOS", "body": "<p>Hi I am new to iOS development..Can any one help me..\nI have added multiple UILabel inside UIScrollview based on array count..For example if array count is 3 means ..then In scrollview adding 3 view along with UILabel in each view..</p>\n\n<p>So now 3 view having 3 different UILabels..</p>\n\n<p>But now I want to change colour of UILabel text in different views based on requirement..but I am not able to update colour\u2026</p>\n\n<p>Its change colour of UILabel text only for last index ..</p>\n\n<p>I have written code in  ScrollViewDidScroll:(UIScrollView *)scrollView </p>\n\n<p>Any suggestion ..</p>\n\n<pre><code>self.robotScrollView.contentSize = CGSizeMake(robotCounts*Robot_ScrollView_Width, kRobotSrollViewH);\nfor (int i=0; i&lt;robotCounts; i++) {\n    self.robotLabel = [[UILabel alloc] initWithFrame:CGRectMake(Robot_ScrollView_Width*i, 0 , Robot_ScrollView_Width, kRobotSrollViewH)];\n    self.robotLabel.textAlignment = NSTextAlignmentCenter;\n    self.robotLabel.backgroundColor = [UIColor clearColor];\n    self.robotLabel.textColor = [UIColor blackColor];\n    [self.robotScrollView addSubview:self.robotLabel];\n    if (kRemoteManager.robotsArray.count == 0) {\n        self.robotLabel.text = @\"\";\n        break;\n    }\n    DeviceBase *robot = kRemoteManager.robotsArray[i];\n    self.robotLabel.text = [NSString stringWithFormat:@\"%@\",robot.dName];\n\n}\nself.robotScrollView.contentOffset = CGPointMake(Robot_ScrollView_Width*currentRobotIndex, 0);\n</code></pre>\n\n<p>Changing UIlabeltext color in below scrollviewdidscroll method</p>\n\n<pre><code>- (void)scrollViewDidScroll:(UIScrollView *)scrollView\n{\n    if (scrollView == self.scrollView)\n    {\n        self.pageControl.currentPage = (scrollView.contentOffset.x+(scrollView.width/2)) / scrollView.width;\n        kRemoteManager.currentIndex = self.pageControl.currentPage;\n        [[NSNotificationCenter defaultCenter] postNotificationName:kNotify_Steward_ReloadData object:nil];\n        NSMutableArray *viewRemoteIDarray = [NSMutableArray array];\n        CardRemoteModel *model =  kRemoteManager.cardRemoteArray[self.pageControl.currentPage];\n            if (![viewRemoteIDarray containsObject:@(model.remoteID)])\n            {\n                if (model.remoteType == kooKong_remoteType_AirCleaner || model.remoteType == kooKong_remoteType_AC)\n                {\n                    self.robotLabel.textColor = [UIColor whiteColor];\n                }\n            else\n                {\n                self.robotLabel.textColor = [UIColor blackColor];\n                }\n            }\n    } else if (scrollView == self.robotScrollView) {\n        kRemoteManager.currentRobotIndex = (scrollView.contentOffset.x+(scrollView.width/2)) / scrollView.width;\n        self.leftBtn.hidden = NO;\n        self.rightBtn.hidden = NO;\n        if (kRemoteManager.currentRobotIndex == kRemoteManager.robotsArray.count-1) {\n            self.rightBtn.hidden = YES;\n        }\n        if (kRemoteManager.currentRobotIndex == 0){\n            self.leftBtn.hidden = YES;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 3, "creation_date": 1545093912, "post_id": 53824846, "comment_id": 94498917, "body": "Never sleep. Never sleep. Never sleep."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 3, "creation_date": 1545093932, "post_id": 53824846, "comment_id": 94498920, "body": "Never call performSelectorInBackground. Use GCD. Use serial queue. Done."}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1545096820, "post_id": 53824846, "comment_id": 94499505, "body": "ok, real helpful, could you link me to how to do that?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1545100090, "post_id": 53824846, "comment_id": 94500163, "body": "<a href=\"http://www.apeth.com/iOSBook/ch38.html#_grand_central_dispatch\" rel=\"nofollow noreferrer\">apeth.com/iOSBook/ch38.html#_grand_central_dispatch</a>"}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 1, "creation_date": 1545151534, "post_id": 53824846, "comment_id": 94523171, "body": "I see a number of problems. As mentioned, GCD is a much better threading solution. But the code you posted makes it look like you&#39;re trying to updating the UI based on <code>nowPlayingItem</code>. If that&#39;s the case, this is completely the wrong direction. First, you can never <b>ever</b> update the UI on a background thread; this is probably why it&#39;s crashing. And don&#39;t <i>poll</i>. Create a KVO observer for <code>nowPlayingItem</code> and execute the UI update code whenever, only when, it actually changes."}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "edited": false, "score": 0, "creation_date": 1545190224, "post_id": 53824846, "comment_id": 94536200, "body": "Yes. I ended up using notifications instead"}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "edited": false, "score": 0, "creation_date": 1545190429, "post_id": 53824846, "comment_id": 94536245, "body": "Actually, thanks for the details in that cause you just solved another issue I had about the background thread updating ui details. \u305f\u3057\u3053\u307e\u308a\u307e\u3057\u305f\u3002"}], "owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1545095093, "creation_date": 1545093273, "last_edit_date": 1545095093, "question_id": 53824846, "link": "https://stackoverflow.com/questions/53824846/how-to-run-a-thread-only-if-it-is-not-already-running-objective-c", "title": "How to run a thread only if it is not already running Objective C", "body": "<p>So I have this method that runs when the viewcontroller in question is loaded. However if the thread that its running on is initiated more than about 3 times the app crashes. I need to make sure that only one instance of the method is running in a thread at any one time, how do I do this, as far as I know this way of running the thread has no thread object name to check against.</p>\n\n<pre><code>- (void)observeNowPlaying{\n    [self performSelectorInBackground:@selector(changeSongValues) withObject:nil]; //run the song checker in the background\n}\n\n-(void)changeSongValues{\n\n    while(threadX != 1){\n        MPMediaItem *tempItem = musicController1.nowPlayingItem; //set up now playing\n        checkingSong = tempItem.title;\n        NSString *artist = tempItem.artist;\n\n        checkingSong = [[NSString alloc]initWithFormat:@\"%@ - %@\",(artist.length&gt;0 ? artist : @\"Unknown\"),(checkingSong.length&gt;0 ? checkingSong : @\"Unknown\")];\n        _SongPlaying.text = checkingSong; //this changes the currently playing song and stuff\n\n        usleep(5);\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "cocoapods", "podspec"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1545058447, "post_id": 53817633, "comment_id": 94483632, "body": "You can use <code>:path =&gt;</code> for a local pod. But is your Pod in any Git repository (even if private)?"}, {"owner": {"reputation": 1219, "user_id": 2165619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b2RpW.jpg?s=128&g=1", "display_name": "Granit", "link": "https://stackoverflow.com/users/2165619/granit"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1545058533, "post_id": 53817633, "comment_id": 94483673, "body": "My idea is to have the Pod only locally so that I can use it only for debugging purposes and therefore not host it on any Git repository (neither private nor public). @Larme"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1545058625, "post_id": 53817633, "comment_id": 94483737, "body": "In your podfile you can use as said <code>:path =&gt;</code> to your local pod. I don&#39;t know how to bypass the source issue doing a <code>pod spec lint</code> though."}, {"owner": {"reputation": 1219, "user_id": 2165619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b2RpW.jpg?s=128&g=1", "display_name": "Granit", "link": "https://stackoverflow.com/users/2165619/granit"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1545058916, "post_id": 53817633, "comment_id": 94483908, "body": "But how to create that local pod? All i have is the source for the pod so I would like to find a way to package that source code into a local pod?"}], "answers": [{"tags": [], "owner": {"reputation": 10736, "user_id": 45813, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9d4814af02064c80e0a15d48854b592?s=128&d=identicon&r=PG", "display_name": "Clay Bridges", "link": "https://stackoverflow.com/users/45813/clay-bridges"}, "is_accepted": false, "score": 7, "last_activity_date": 1545143298, "last_edit_date": 1545143298, "creation_date": 1545096175, "answer_id": 53825138, "question_id": 53817633, "link": "https://stackoverflow.com/questions/53817633/how-to-use-local-only-project-via-cocoapods/53825138#53825138", "title": "How to use local-only project via CocoaPods", "body": "<p>Short answer: you don't use the <code>.podspec</code> for this. Longer: the <code>.podfile</code> is mainly for specifying:</p>\n\n<ul>\n<li>external dependencies</li>\n<li>what to snarf out of the project, relative to the project folder</li>\n</ul>\n\n<p>IIRC, other than some informational metadata, the <code>.podspec</code> does not address how you get to that project folder, as this is handled separately.</p>\n\n<p>As mentioned in the comments, you <em>can</em> use the <code>Podfile</code> to use a local project, with the <code>:path =&gt;</code> directive pointing to a local project folder. For example, you have the project in <code>/Users/me/proj</code> -- and the <code>.podspec</code> lives at the top-level -- your Podfile would have an entry like:</p>\n\n<p><code>\npod 'MyPodName', :path =&gt; '/Users/me/proj'\n</code></p>\n\n<p>Warning: when you run <code>pod {update, install}</code>, this will pull whatever is checked out locally in that project at the time.</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 4868964, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yhDIc0yZwKk/AAAAAAAAAAI/AAAAAAAAAB0/YkJubHLXinw/photo.jpg?sz=128", "display_name": "Quang V\u0129nh H&#224;", "link": "https://stackoverflow.com/users/4868964/quang-v%c4%a9nh-h%c3%a0"}, "is_accepted": false, "score": 0, "last_activity_date": 1545099568, "creation_date": 1545099568, "answer_id": 53825543, "question_id": 53817633, "link": "https://stackoverflow.com/questions/53817633/how-to-use-local-only-project-via-cocoapods/53825543#53825543", "title": "How to use local-only project via CocoaPods", "body": "<p>You just need a private Git repository, add as a <code>source</code> to <code>Podfile</code>\nThen deciding if the framework is going to be closed source or open source, then <code>podspec</code> file will be different.\nall the <code>pod repo ...</code> will help you <a href=\"https://guides.cocoapods.org/terminal/commands.html#group_repos\" rel=\"nofollow noreferrer\">Doc</a></p>\n"}, {"tags": [], "owner": {"reputation": 12729, "user_id": 4770877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cccebea2d190bf8f2054c1949ffa8677?s=128&d=identicon&r=PG&f=1", "display_name": "yoAlex5", "link": "https://stackoverflow.com/users/4770877/yoalex5"}, "is_accepted": false, "score": 5, "last_activity_date": 1619022975, "last_edit_date": 1619022975, "creation_date": 1567717670, "answer_id": 57812997, "question_id": 53817633, "link": "https://stackoverflow.com/questions/53817633/how-to-use-local-only-project-via-cocoapods/57812997#57812997", "title": "How to use local-only project via CocoaPods", "body": "<p><strong>Local CocoaPods</strong></p>\n<p><a href=\"https://stackoverflow.com/a/59257708/4770877\">[Dependency manager]</a></p>\n<p>Example with Git:\n<a href=\"https://i.stack.imgur.com/eDmwU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eDmwU.png\" alt=\"enter image description here\" /></a></p>\n<p>Textual</p>\n<p>Podfile</p>\n<pre><code>//Podfile pod supports:\n//default(try to find .podcpec in centralised repo), path\n//-remote    \n    pod 'PodName'\n//-local     \n    //local_path can be absolute or relative\n    pod 'PodName', :path =&gt; '&lt;local_path&gt;.podspec'\n</code></pre>\n<p>Podspec</p>\n<pre><code>//Podspec source supports:\n//git, svn, hg, http\n//-remote    \n    s.source = { :git =&gt; &quot;https://url_to.git&quot;, :tag =&gt; &quot;git_tag&quot; }\n//-local     \n    s.source = { :git =&gt; 'file:///path_to_git_folder', :tag =&gt; &quot;git_tag&quot; }\n    //or, where path_to_git_folder can be relative\n    s.source = { :git =&gt; '/path_to_git_folder', :tag =&gt; &quot;git_tag&quot; }\n</code></pre>\n<p>Do not forget to commit your changes beforehand. <code>git_tag</code> can be the same as a branch name.</p>\n<p>Several useful commands:</p>\n<p>Update:</p>\n<p><code>Podfile</code>:</p>\n<pre><code>pod update\n</code></pre>\n<p>Check\n<code>.podspec</code>:</p>\n<pre><code>pod spec lint &quot;&lt;some_path&gt;.podspec&quot; --quick\npod spec lint &quot;&lt;some_path&gt;.podspec&quot; --verbose --allow-warnings\n</code></pre>\n<p>Register session:</p>\n<pre><code>pod trunk register &lt;email&gt; '&lt;name&gt;' --description='&lt;description&gt;' \n</code></pre>\n<p>Release:</p>\n<pre><code>pod trunk push &lt;file&gt;.podspec --verbose --allow-warnings\n</code></pre>\n<p>Pod search<a href=\"https://stackoverflow.com/a/59218883/4770877\"><sup>[About]</sup></a>:</p>\n<pre><code>pod search &lt;pod_name&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/61397924/4770877\">[Local Carthage]</a>\n<a href=\"https://stackoverflow.com/a/66715856/4770877\">[Local Swift Package Manager]</a></p>\n<p><a href=\"https://stackoverflow.com/a/65738150/4770877\">[Android Maven local]</a></p>\n"}], "owner": {"reputation": 1219, "user_id": 2165619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b2RpW.jpg?s=128&g=1", "display_name": "Granit", "link": "https://stackoverflow.com/users/2165619/granit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5276, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1619022975, "creation_date": 1545058283, "last_edit_date": 1545142949, "question_id": 53817633, "link": "https://stackoverflow.com/questions/53817633/how-to-use-local-only-project-via-cocoapods", "title": "How to use local-only project via CocoaPods", "body": "<p>I am struggling to find a way to package an Xcode framework we created as a Pod that would only be used internally (not public, not on github).</p>\n\n<p>How do I modify the <code>.podspec</code> to build the SDK from the local Xcode project on my development machine?</p>\n"}, {"tags": ["objective-c", "macos", "kernel-extension"], "answers": [{"comments": [{"owner": {"reputation": 12296, "user_id": 452752, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a68d17cbd12e477e4a67745bd5b2452b?s=128&d=identicon&r=PG", "display_name": "Nickolay Olshevsky", "link": "https://stackoverflow.com/users/452752/nickolay-olshevsky"}, "edited": false, "score": 0, "creation_date": 1545129854, "post_id": 53817772, "comment_id": 94510866, "body": "Thanks for the detailed answer!"}], "tags": [], "owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "is_accepted": true, "score": 3, "last_activity_date": 1545069649, "last_edit_date": 1545069649, "creation_date": 1545058721, "answer_id": 53817772, "question_id": 53816479, "link": "https://stackoverflow.com/questions/53816479/could-macos-kexts-inject-code-to-specific-processes-like-mach-inject-did/53817772#53817772", "title": "Could macOS kexts inject code to specific processes (like mach_inject did)?", "body": "<p>Using a kext, you can certainly obtain the task handle to any process; this is the part that no longer works from user space since SIP. The <code>task_t</code> pointer in the kext can be converted to a special port using <code>task_get_special_port(task, TASK_KERNEL_PORT, &amp;task_port)</code>, which you can then send to a user space task using <code>mach_msg_send_from_kernel()</code>. Once you have the port in user space you can do the usual things such as allocating, reading &amp; writing memory in the target task, etc. However, if the target task has very strict code signing flags set, any attempt to execute code in memory pages that aren't signed will fail by crashing the process. This means it won't work on most of Apple's own apps. Other methods than code injection may be easier and more secure, as you mentioned.</p>\n"}], "owner": {"reputation": 12296, "user_id": 452752, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a68d17cbd12e477e4a67745bd5b2452b?s=128&d=identicon&r=PG", "display_name": "Nickolay Olshevsky", "link": "https://stackoverflow.com/users/452752/nickolay-olshevsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "accepted_answer_id": 53817772, "answer_count": 1, "score": 3, "last_activity_date": 1545069649, "creation_date": 1545054187, "question_id": 53816479, "link": "https://stackoverflow.com/questions/53816479/could-macos-kexts-inject-code-to-specific-processes-like-mach-inject-did", "title": "Could macOS kexts inject code to specific processes (like mach_inject did)?", "body": "<p>While mach_inject was a handy (but risky) solution to inject some of your code to other Apps (mostly used to customize Finder), it doesn't work since 10.11.\nIs there a possibility to achieve the same functionality by using some sort of kext?</p>\n\n<p>The purpose of this is to add some visual effects on top of windows for specific apps. Maybe there is a simpler solution, like Accessibility API?\nThanks!</p>\n"}, {"tags": ["c#", "objective-c", "unity3d", "augmented-reality", "arkit"], "comments": [{"owner": {"reputation": 876, "user_id": 4079426, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KUlAQtA-Fh0/AAAAAAAAAAI/AAAAAAAABxw/gCaWSRISiXI/photo.jpg?sz=128", "display_name": "probitaille", "link": "https://stackoverflow.com/users/4079426/probitaille"}, "edited": false, "score": 0, "creation_date": 1545068350, "post_id": 53815673, "comment_id": 94489279, "body": "ARCore now support iOS for some features. Actually, I&#39;m working with Multi-AR Examples asset from Unity Assets store. My app use ARCore for the Anchor and floor managment in iPhone/iPad. Maybe this can help you."}], "answers": [{"tags": [], "owner": {"reputation": 15919, "user_id": 2709645, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/aGBo5.png?s=128&g=1", "display_name": "Knight0fDragon", "link": "https://stackoverflow.com/users/2709645/knight0fdragon"}, "is_accepted": false, "score": 0, "last_activity_date": 1557976454, "creation_date": 1557976454, "answer_id": 56160292, "question_id": 53815673, "link": "https://stackoverflow.com/questions/53815673/how-to-handle-aranchor-merge-replacement-in-the-unity-arkit-plugin/56160292#56160292", "title": "How to Handle ARAnchor merge/replacement in the Unity ARKit Plugin", "body": "<p>ARKit plug in has a removed anchor event.  Use that in conjunction with recently added anchors to find the closest anchor to the one removed:</p>\n\n<pre><code>void Start () {\n    UnityARSessionNativeInterface.ARAnchorAddedEvent += ARAnchorAdded;\n    UnityARSessionNativeInterface.ARAnchorRemovedEvent += ARAnchorRemoved;\n}\nvoid ARAnchorAdded(ARPlaneAnchor anchorData)\n{\n   //store anchorData in an array, you know the latest anchor is the newest.\n}\nvoid ARAnchorRemoved(ARPlaneAnchor anchorData)\n{\n   //find the closest anchor,  start at the bottom if you are looking for newest first\n   //remove anchorData from the array \n}\n</code></pre>\n\n<p>Unity no longer supports the ARKit plug in, it is recommended to use the AR Foundation: <a href=\"https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@1.0/manual/index.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@1.0/manual/index.html</a></p>\n"}], "owner": {"reputation": 5555, "user_id": 168735, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Q9cow.jpg?s=128&g=1", "display_name": "n00dle", "link": "https://stackoverflow.com/users/168735/n00dle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557976454, "creation_date": 1545051153, "question_id": 53815673, "link": "https://stackoverflow.com/questions/53815673/how-to-handle-aranchor-merge-replacement-in-the-unity-arkit-plugin", "title": "How to Handle ARAnchor merge/replacement in the Unity ARKit Plugin", "body": "<p>I'm trying to run an ARKit session in Unity (using the <a href=\"https://bitbucket.org/Unity-Technologies/unity-arkit-plugin\" rel=\"nofollow noreferrer\">Unity ARKit Plugin</a>), where the user selects a plane at the start of the session, and we build a world around that plane. </p>\n\n<p>Obviously, ARKit's estimate of the plane updates as time goes on, and the application handles that through registering against the <code>UnityARSessionNativeInterface.ARAnchorUpdatedEvent</code> and manipulates the game world accordingly; however when a plane is merged into another, I'm struggling to find a way to capture it so we can update with the new plane.</p>\n\n<p>In ARCore, we are provided the \"<a href=\"https://developers.google.com/ar/reference/java/arcore/reference/com/google/ar/core/Plane#merging\" rel=\"nofollow noreferrer\">subsumedBy</a>\" field, when one plane is merged into another. We can then use this to trigger a change of planes by registering against an event:</p>\n\n<pre><code>public static Action&lt;BoundedPlane,BoundedPlane&gt; planeReplaced;\n\n// ...\n\npublic override void Update()\n{\n    Session.GetTrackables&lt;DetectedPlane&gt;(m_DetectedPlaneBuffer, TrackableQueryFilter.All);\n    foreach (var detectedPlane in m_DetectedPlaneBuffer)\n    {\n        // ...\n        if (detectedPlane.SubsumedBy != null)\n        {\n            OnPlaneReplaced(boundedPlane, detectedPlane.SubsumedBy);\n        }\n        // ...\n    }\n}\n</code></pre>\n\n<p>I assume the Unity plugin doesn't support this behaviour out of the box, so starting looking at the Objective-C native session implementation for clues. The closest I can see is the <code>[session:didUpdateAnchors][3]</code> delegate (and associated add/remove ones), but that doesn't seem to provide information on merges.</p>\n\n<p>The worst case is that I can look for the most similar anchor in the event my chosen one is removed, but that seems hacky, so I wondered if there might be a better way.</p>\n"}, {"tags": ["objective-c", "dropbox"], "comments": [{"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1545060205, "post_id": 53815606, "comment_id": 94484670, "body": "There&#39;s <a href=\"https://github.com/dropbox/dropbox-sdk-obj-c#download-style-request\" rel=\"nofollow noreferrer\">an example for downloading here</a>. If something&#39;s not working as expected for you, please share the code you&#39;re using and the unexpected error/output."}, {"owner": {"reputation": 1, "user_id": 10801259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04b20251cb6f876a52540ad4f793803?s=128&d=identicon&r=PG&f=1", "display_name": "datan3rd", "link": "https://stackoverflow.com/users/10801259/datan3rd"}, "reply_to_user": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1545138003, "post_id": 53815606, "comment_id": 94515249, "body": "Thanks Greg. You helped solve this on another thread. I now have a new problem I will be posting about."}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1545139704, "post_id": 53815606, "comment_id": 94516198, "body": "[Cross-linking for reference: <a href=\"https://www.dropboxforum.com/t5/API-Support-Feedback/Download-not-able-to-find-file-when-exists/m-p/318066\" rel=\"nofollow noreferrer\">dropboxforum.com/t5/API-Support-Feedback/&hellip;</a> ]"}], "owner": {"reputation": 1, "user_id": 10801259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a04b20251cb6f876a52540ad4f793803?s=128&d=identicon&r=PG&f=1", "display_name": "datan3rd", "link": "https://stackoverflow.com/users/10801259/datan3rd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545050937, "creation_date": 1545050937, "question_id": 53815606, "link": "https://stackoverflow.com/questions/53815606/objective-c-dropbox-sdk-v2-downloading-file-not-found", "title": "Objective C Dropbox SDK v2 - Downloading File Not Found", "body": "<p>Building an iOS app using objective c. I have gotten the Dropbox SDK v2 to link an account and upload a file. However when I attempt to download that same file I am being told it is not found (statuscode 409). I am using the exact code from the dropbox official sdk github. Currently I am pointing to the file location to download as /Apps/App Name/file but have tried altering the location and still no luck. Does anyone have working sample code? Thanks.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "objective-c-swift-bridge"], "answers": [{"tags": [], "owner": {"reputation": 11017, "user_id": 127493, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/JClxG.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/127493/martin"}, "is_accepted": true, "score": 0, "last_activity_date": 1545216828, "creation_date": 1545216828, "answer_id": 53849721, "question_id": 53814485, "link": "https://stackoverflow.com/questions/53814485/in-a-mixed-objc-swift-module-xcode-always-tries-to-include-the-module-itself/53849721#53849721", "title": "In a mixed objc/swift module, Xcode always tries to include the module itself", "body": "<p>I don't know why Xcode automaticaly adds the <code>#import &lt;SuperComponent/SuperComponent.h&gt;</code> line (since it do work without it), but if i'm kind with him by adding an empty <code>SuperComponent.h</code> file at the root of my framework, it compiles gracefully.</p>\n"}], "owner": {"reputation": 11017, "user_id": 127493, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/JClxG.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/127493/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 53849721, "answer_count": 1, "score": 0, "last_activity_date": 1545216828, "creation_date": 1545046696, "question_id": 53814485, "link": "https://stackoverflow.com/questions/53814485/in-a-mixed-objc-swift-module-xcode-always-tries-to-include-the-module-itself", "title": "In a mixed objc/swift module, Xcode always tries to include the module itself", "body": "<p>This one is not easy to explain, but is also very annoying.</p>\n\n<p>I'm working on a Cocoapods framework (in development mode) with objc and swift sources. Let's call it the \"<em>SuperCompoment</em>\" framework</p>\n\n<p>Xcode auto generates the <code>SuperComponent-Swift.h</code> file, to make Objc classes visible from Swift ones.<br>\nSome Objc classes also includes Swift classes.</p>\n\n<p>At compile time, in the <code>SuperComponent-Swift.h</code>, Xcode adds the line</p>\n\n<pre><code>#import &lt;SuperComponent/SuperComponent.h&gt;\n</code></pre>\n\n<p>... and fails to compile with the message: <code>SuperComponent/SuperComponent.h file not found</code></p>\n\n<p>Xcode tries to include the framework inside the framework itself!</p>\n\n<p>If I manually edit the auto-generated file by commenting the #import, the project compiles perfectly. But Xcode auto-generates the file after each clean and before archiving the project!</p>\n\n<p>Any clue?</p>\n"}, {"tags": ["ios", "objective-c", "dart", "flutter"], "owner": {"reputation": 105, "user_id": 10423099, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jjxS0G_IBvs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWObdy2SiByTncHmOWGMbeL_6ynKw/mo/photo.jpg?sz=128", "display_name": "Manuel Bachmann", "link": "https://stackoverflow.com/users/10423099/manuel-bachmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1545051857, "creation_date": 1545043245, "last_edit_date": 1545051857, "question_id": 53813469, "link": "https://stackoverflow.com/questions/53813469/flutter-methode-channels-objective-c-send-and-use-uint8list", "title": "Flutter Methode Channels Objective C send and use UInt8List", "body": "<p>I tried writing my own flutter plugin, sending an UInt8List to native Android and IOS. Everything works fine on the Android part but the IOS part isn't working. Im trying to save a byte array as an image. I know there are libaries for something similar but that is not what i want :)</p>\n\n<p>Inside my Methode Channel File, i call the following function: </p>\n\n<pre><code>   static Future&lt;void&gt; saveImage({\n    @required String filename,\n    @required Uint8List bytes\n  }) async {\n    assert(bytes != null &amp;&amp; filename != null);\n\n    final bool success = await _channel.invokeMethod(\n      'saveImage',\n      &lt;String, dynamic&gt;{\n        'filename': filename,\n        'bytes': bytes,\n      },\n    );\n\n    return success;\n  }\n</code></pre>\n\n<p>In my IOS Code i try to read the byte array and turn it into an image. </p>\n\n<pre><code>- (void)handleMethodCall:(FlutterMethodCall*)call result:(FlutterResult)result {\n    if ([@\"saveImage\" isEqualToString:call.method]) {\n        NSDictionary *_arguments = call.arguments;\n        NSData *data = [_arguments objectForKey:@\"bytes\"];\n        NSData *imageData = [NSData dataWithBytesNoCopy: (__bridge void * _Nonnull)(data) length:sizeof(data) freeWhenDone:YES];\n        UIImage *image = [UIImage imageWithData:imageData];\n        UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil);\n        result(FlutterMethodNotImplemented); // For Test purposes\n\n    } else {\n        result(FlutterMethodNotImplemented);\n    }\n}\n</code></pre>\n\n<p>But this throws an Thread 1: EXC_BAD_ACCESS (code=1, address=0x20) during the closing else Bracket. I Get no other error. Some PO Commands showed the following informations:</p>\n\n<pre><code>(lldb) po _arguments\n{\n    bytes = \"&lt;FlutterStandardTypedData: 0x114dfb110&gt;\";\n    filename = \"1545043056295.jpeg\";\n}\n\n(lldb) po data\n&lt;FlutterStandardTypedData: 0x114dfb110&gt;\n\n(lldb) po imageData\n&lt;1972c703 a1410000&gt;\n\n(lldb) po image\n nil\n</code></pre>\n\n<p>To me it seems that im not able to create the NSData image object from Bytearray but im not sure why. Can somebody help me out here ?</p>\n"}, {"tags": ["objective-c", "ping"], "comments": [{"owner": {"reputation": 436, "user_id": 4868964, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yhDIc0yZwKk/AAAAAAAAAAI/AAAAAAAAAB0/YkJubHLXinw/photo.jpg?sz=128", "display_name": "Quang V\u0129nh H&#224;", "link": "https://stackoverflow.com/users/4868964/quang-v%c4%a9nh-h%c3%a0"}, "edited": false, "score": 2, "creation_date": 1545042082, "post_id": 53811960, "comment_id": 94474548, "body": "this is a question you should submit issue request on that Github repo"}, {"owner": {"reputation": 2812, "user_id": 4466607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PMBjQeP33j0/AAAAAAAAAAI/AAAAAAAAAIU/_DFKDbl6Jm0/photo.jpg?sz=128", "display_name": "Dhiru", "link": "https://stackoverflow.com/users/4466607/dhiru"}, "reply_to_user": {"reputation": 436, "user_id": 4868964, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yhDIc0yZwKk/AAAAAAAAAAI/AAAAAAAAAB0/YkJubHLXinw/photo.jpg?sz=128", "display_name": "Quang V\u0129nh H&#224;", "link": "https://stackoverflow.com/users/4868964/quang-v%c4%a9nh-h%c3%a0"}, "edited": false, "score": 0, "creation_date": 1545114535, "post_id": 53811960, "comment_id": 94503408, "body": "@QuangV\u0129nhH&#224; , thanks for your response, i already did ,but no reply , if someone have faced same issue , please help me.......on this. Not only solving this issue , i want to check if we can bypass these types of crash or not"}], "owner": {"reputation": 2812, "user_id": 4466607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PMBjQeP33j0/AAAAAAAAAAI/AAAAAAAAAIU/_DFKDbl6Jm0/photo.jpg?sz=128", "display_name": "Dhiru", "link": "https://stackoverflow.com/users/4466607/dhiru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545114574, "creation_date": 1545037772, "last_edit_date": 1545114574, "question_id": 53811960, "link": "https://stackoverflow.com/questions/53811960/simple-ping-exc-bad-access-crash-on-ios", "title": "Simple Ping EXC_BAD_ACCESS crash on iOS", "body": "<p>I am using <code>SimplePing.h</code> and <code>SimplePing.m</code> file from  Github:\n<a href=\"https://github.com/benbahrenburg/Pinger/blob/master/iOS/Classes/SimplePing.m\" rel=\"nofollow noreferrer\">https://github.com/benbahrenburg/Pinger/blob/master/iOS/Classes/SimplePing.m</a></p>\n\n<p>It is crashing while pinging local IP address.</p>\n\n<p><a href=\"https://i.stack.imgur.com/49BLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/49BLL.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I stop crashing application, I added try catch block also, but it like <code>self-&gt;_scoket</code> is already de-allocated, is there any way to stop \n or handle this crash??</p>\n"}, {"tags": ["objective-c", "swift", "protocols"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1545035071, "post_id": 53811229, "comment_id": 94470802, "body": "In Objective-C an error is indicated by returning nil. In Swift an error is indicated by throwing an error. So what is the problem? \u2013 Possibly helpful: <a href=\"https://stackoverflow.com/q/34786115/1187415\">stackoverflow.com/q/34786115/1187415</a>."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1545035106, "post_id": 53811229, "comment_id": 94470823, "body": "Why? The pattern to <code>throw</code> an error on failure and return a non-optional on success is very convenient."}, {"owner": {"reputation": 23, "user_id": 2726822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78484ac1a66c3420182836b6c79022de?s=128&d=identicon&r=PG&f=1", "display_name": "ambri", "link": "https://stackoverflow.com/users/2726822/ambri"}, "edited": false, "score": 0, "creation_date": 1545039006, "post_id": 53811229, "comment_id": 94472837, "body": "Thank you for your answer. I&#39;ve updated my post with further information."}], "owner": {"reputation": 23, "user_id": 2726822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78484ac1a66c3420182836b6c79022de?s=128&d=identicon&r=PG&f=1", "display_name": "ambri", "link": "https://stackoverflow.com/users/2726822/ambri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545038087, "creation_date": 1545034742, "last_edit_date": 1545038087, "question_id": 53811229, "link": "https://stackoverflow.com/questions/53811229/implement-objective-c-protocol-in-swfit-with-nserror-param", "title": "Implement objective-c protocol in swfit with NSError param", "body": "<p>I would like to use the Microsoft's offline data sync framework in a native iOS project. This framework is written in objective-c but I use swift. I implemented my own local data store therefore I had to implement a protocol from the framework. There is a method in the protocol what looks like the following way:</p>\n\n<pre><code>-(nullable NSDictionary *) readTable:(nonnull NSString *)table\n                      withItemId:(nonnull NSString *)itemId\n                         orError:(NSError * __nullable * __nullable)error;\n</code></pre>\n\n<p>When I implement the protocol I got this in swift:</p>\n\n<pre><code>func readTable(_ table: String, withItemId itemId: String) throws -&gt; [AnyHashable: Any] {\n    fatalError(\"readTable(table:itemId:) has not been implemented\")\n}\n</code></pre>\n\n<p>The problem with that is the return type cannot be nullable because of the orError parameter. In obc it is good because if there is an error in the method the orError param won't be null and the return type of the method can be nil. But in swift the return type cannot be nil because of the method definition. It should throw an error in this case but I must return a nil becuse the framework does not handle any errors.</p>\n\n<p>My question is how can I implement this protocol so this method returns a nil instead of throw an error?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I know it is not the best solution what I'm looking for that's why I asked. I'm going to add more details.</p>\n\n<p>So there is the protocol what I've mentioned above. In the objc MS framework there is a class what calls my swift class what implements this protocol. This method has to retrieve a line from the local database by its id. According to the original objc MS implementation this method return a nil if it does not find any row by id and set an error message in the orError parameter and thus the original code - what called this method - can run onward. But when the MS class calls my class I cannot return a nil because of my swift implementation. I have to throw an error if I didn't find the row by id but in this case the execustion of the caller method gets stuck - because of the error - but according to the original objc code it should run onward without error. Here is a code snippet from the caller class:</p>\n\n<pre><code>// Check to see if this item already exists\n                NSString *itemId = itemToSave[MSSystemColumnId];\n                NSDictionary *result = [self.dataSource readTable:table withItemId:itemId orError:&amp;error];\n                if (error == nil) {\n                    if (result == nil) {\n                        [self.dataSource upsertItems:@[itemToSave] table:table orError:&amp;error];\n                    } else {\n                        error = [self errorWithDescription:@\"This item already exists.\"\n                                              andErrorCode:MSSyncTableInvalidAction];\n                    }\n                }\n</code></pre>\n\n<p>I hope my problem got a little bit clear. Do you have any idea how can I solve that?</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "answers": [{"tags": [], "owner": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "is_accepted": false, "score": 0, "last_activity_date": 1545027210, "creation_date": 1545027210, "answer_id": 53809791, "question_id": 53809713, "link": "https://stackoverflow.com/questions/53809713/url-scheme-for-advertising-ios-12-0/53809791#53809791", "title": "Url Scheme for ADVERTISING iOS 12.0", "body": "<p><a href=\"https://gist.github.com/deanlyoung/368e274945a6929e0ea77c4eca345560\" rel=\"nofollow noreferrer\">Apple no longer allows <code>prefs:root=</code></a> via <a href=\"https://developer.apple.com/app-store/review/guidelines/#software-requirements\" rel=\"nofollow noreferrer\">section 2.5.1 in their guidelines</a> (they now consider what you're doing a non-public URL scheme).</p>\n\n<p>The best you can do is open up your app settings and the top level should be simple enough that the user can get to where they need from there.</p>\n\n<p>Perhaps something like:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uiapplicationopensettingsurlstring?language=objc\" rel=\"nofollow noreferrer\"><code>[[UIApplication sharedApplication] openURL:[NSURL URLWithString:UIApplicationOpenSettingsURLString]];</code></a></p>\n"}], "owner": {"reputation": 702, "user_id": 1904757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GEKpz.png?s=128&g=1", "display_name": "Bkillnest", "link": "https://stackoverflow.com/users/1904757/bkillnest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545027210, "creation_date": 1545026636, "last_edit_date": 1545026681, "question_id": 53809713, "link": "https://stackoverflow.com/questions/53809713/url-scheme-for-advertising-ios-12-0", "title": "Url Scheme for ADVERTISING iOS 12.0", "body": "<p>I used:</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:@\"App-Prefs:root=Privacy&amp;path=ADVERTISING\"];\n[[UIApplication sharedApplication] openURL:url];\n</code></pre>\n\n<p>it worked on iOS <code>11.x</code> and before.\nbut with iOS <code>12.x</code> it doesn't work.</p>\n"}, {"tags": ["android", "objective-c", "iphone", "react-native-android", "react-native-ios"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10777055, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SuhTnwind1o/AAAAAAAAAAI/AAAAAAAABMw/hoQEhKjANRc/photo.jpg?sz=128", "display_name": "Them", "link": "https://stackoverflow.com/users/10777055/them"}, "edited": false, "score": 0, "creation_date": 1545021433, "post_id": 53809008, "comment_id": 94466420, "body": "I&#39;m honestly not even sure how to add it into the current source code that i have in github. What would I need to do to accomplish this?"}, {"owner": {"reputation": 1016, "user_id": 7065695, "user_type": "registered", "profile_image": "https://graph.facebook.com/682806675203781/picture?type=large", "display_name": "Jarvis Luong", "link": "https://stackoverflow.com/users/7065695/jarvis-luong"}, "reply_to_user": {"reputation": 13, "user_id": 10777055, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SuhTnwind1o/AAAAAAAAAAI/AAAAAAAABMw/hoQEhKjANRc/photo.jpg?sz=128", "display_name": "Them", "link": "https://stackoverflow.com/users/10777055/them"}, "edited": false, "score": 0, "creation_date": 1545050139, "post_id": 53809008, "comment_id": 94478867, "body": "Their documentation is already details enough and honestly I couldn&#39;t find an easier way to help. In case you need the documentation link. It&#39;s here: <a href=\"https://wix.github.io/react-native-navigation/#/\" rel=\"nofollow noreferrer\">wix.github.io/react-native-navigation/#</a>"}], "tags": [], "owner": {"reputation": 1016, "user_id": 7065695, "user_type": "registered", "profile_image": "https://graph.facebook.com/682806675203781/picture?type=large", "display_name": "Jarvis Luong", "link": "https://stackoverflow.com/users/7065695/jarvis-luong"}, "is_accepted": false, "score": 0, "last_activity_date": 1545021172, "creation_date": 1545021172, "answer_id": 53809008, "question_id": 53808956, "link": "https://stackoverflow.com/questions/53808956/is-it-possible-to-build-a-react-native-menu-over-my-gonative-app-which-uses-obj/53809008#53809008", "title": "Is it possible to build a react native menu over my gonative app which uses obj c / java?", "body": "<p>If you want a ready made library to do the job, then <code>react-native-navigation</code> is what you need. You will only need to follow the installation instructions and don\u2019t have to work extensively with Objective C</p>\n"}], "owner": {"reputation": 13, "user_id": 10777055, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SuhTnwind1o/AAAAAAAAAAI/AAAAAAAABMw/hoQEhKjANRc/photo.jpg?sz=128", "display_name": "Them", "link": "https://stackoverflow.com/users/10777055/them"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545021172, "creation_date": 1545020765, "question_id": 53808956, "link": "https://stackoverflow.com/questions/53808956/is-it-possible-to-build-a-react-native-menu-over-my-gonative-app-which-uses-obj", "title": "Is it possible to build a react native menu over my gonative app which uses obj c / java?", "body": "<p>I created a Gonative.io app for my website inwiththem.com and couldn't figure out how to replace my top bar navigation with a native version in Objective C, I also could not figure out how to add a footer menu for android at the bottom but found working source code to use but do not know how to implement it. Both versions and source files have been uploaded to my Github:\n<a href=\"https://github.com/Getinwiththem/Them-For-iOS\" rel=\"nofollow noreferrer\">https://github.com/Getinwiththem/Them-For-iOS</a>\n<a href=\"https://github.com/Getinwiththem/Them-For-Android\" rel=\"nofollow noreferrer\">https://github.com/Getinwiththem/Them-For-Android</a></p>\n\n<p>Would anyone be interested in helping me finish this project? I\u2019m not familiar at all with Objective C.</p>\n"}, {"tags": ["objective-c", "macos", "audio", "avplayer", "macos-mojave"], "comments": [{"owner": {"reputation": 1386, "user_id": 287963, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/572a42b239ed2c3f5c4f1ba454981ee3?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/287963/jon"}, "edited": false, "score": 0, "creation_date": 1590863296, "post_id": 53806020, "comment_id": 109844772, "body": "Did you ever find a solution for this?"}, {"owner": {"reputation": 3788, "user_id": 942774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5956d4677f50a8584f8a127d3240103d?s=128&d=identicon&r=PG", "display_name": "Hendrik", "link": "https://stackoverflow.com/users/942774/hendrik"}, "reply_to_user": {"reputation": 1386, "user_id": 287963, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/572a42b239ed2c3f5c4f1ba454981ee3?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/287963/jon"}, "edited": false, "score": 0, "creation_date": 1590864186, "post_id": 53806020, "comment_id": 109845105, "body": "IIRC, I filed a bug and Apple responded that a programmatic control was undesired, i.e., rerouting to AirPlay without using the Apple provided visual control is intentionally impossible. My opinion about Apple\u2019s position is, let\u2019s say, not flattering."}, {"owner": {"reputation": 1386, "user_id": 287963, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/572a42b239ed2c3f5c4f1ba454981ee3?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/287963/jon"}, "edited": false, "score": 0, "creation_date": 1590864509, "post_id": 53806020, "comment_id": 109845240, "body": "That is frustrating. Apple themselves does provide a programmatic way of routing Music (ne&#233; iTunes) audio to one or more AirPlay devices using AppleScript (<code>tell application &quot;Music&quot; to set current AirPlay devices to {AirPlay device &quot;Living Room&quot;, AirPlay device &quot;Bedroom&quot;}</code>), And, actually, they offer even more information on AirPlay devices using AppleScript (e.g., you can get the MAC address and more)."}, {"owner": {"reputation": 1386, "user_id": 287963, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/572a42b239ed2c3f5c4f1ba454981ee3?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/287963/jon"}, "edited": false, "score": 0, "creation_date": 1590864629, "post_id": 53806020, "comment_id": 109845292, "body": "Also, on iOS, you can specify the audio output using Shortcuts which ostensibly is then programmatic and not strictly visual."}, {"owner": {"reputation": 1386, "user_id": 287963, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/572a42b239ed2c3f5c4f1ba454981ee3?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/287963/jon"}, "edited": false, "score": 0, "creation_date": 1590865072, "post_id": 53806020, "comment_id": 109845452, "body": "My use case is to allow the user to specify the output (using an <code>AVRoutePickerView</code>) and then store that preference so subsequent launches will use the same route(s)."}], "owner": {"reputation": 3788, "user_id": 942774, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5956d4677f50a8584f8a127d3240103d?s=128&d=identicon&r=PG", "display_name": "Hendrik", "link": "https://stackoverflow.com/users/942774/hendrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544990806, "creation_date": 1544990806, "question_id": 53806020, "link": "https://stackoverflow.com/questions/53806020/airplay-audio-playback-with-avplayer", "title": "AirPlay audio playback with AVPlayer", "body": "<p>What is the recommended way to <em>programmatically</em> turn on (and off) AirPlay audio playback on an AVPlayer object on macOS Mojave?</p>\n\n<p>I assume I need to set the right device id using <code>audioOutputDeviceUniqueID</code>, however querying CoreAudio does not give me any device ids for AirPlay devices.</p>\n\n<ul>\n<li>Are AirPlay devices not exposed that way anymore (this apparently <a href=\"https://joris.kluivers.nl/blog/2012/07/25/per-application-airplay-in-mountain-lion/\" rel=\"nofollow noreferrer\">used to work</a>, but <a href=\"http://openradar.appspot.com/radar?id=5039701907996672\" rel=\"nofollow noreferrer\">not anymore</a>)?</li>\n<li>What's the best way to find connected AirPlay devices?</li>\n<li>Is there another, better way to play an audio file via AirPlay (without UI)? Perhaps not with AVPlayer?</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "arrays", "swift", "loops"], "answers": [{"comments": [{"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1544991102, "post_id": 53805901, "comment_id": 94460668, "body": "This is a sidenote, but apparently the first element of an array in swift is [1] as opposed to [0]?"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1544991131, "post_id": 53805901, "comment_id": 94460682, "body": "swift array indexing is zer0-based also , for your case you can easily test it with <code>shape[2]</code> and it will crash the app with index-out of range exception"}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 1, "creation_date": 1544991618, "post_id": 53805901, "comment_id": 94460840, "body": "OK.  That makes more sense."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 2, "last_activity_date": 1544990838, "last_edit_date": 1544990838, "creation_date": 1544989825, "answer_id": 53805901, "question_id": 53805880, "link": "https://stackoverflow.com/questions/53805880/casting-syntax-to-loop-through-array-of-arrays-in-swift/53805901#53805901", "title": "Casting Syntax to Loop Through Array of Arrays in Swift", "body": "<p>You can try</p>\n\n<pre><code> let shapes = Utilities.sharedInstance().getShapes as! [[String]]\n</code></pre>\n\n<p>Your <code>Array</code> elements are of type <code>Any</code> so you can't use [] with them until you cast , it's always the case when you use bridged code from objective-c , so you have to be specific about the actual type you use , also i encourage</p>\n\n<pre><code>struct Item {\n   let term,pic:String\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>let res:[Item] = shapes.map { Item(term:$0[0],pic:$0[1]) }\n</code></pre>\n\n<p>an irrelevant note but important you can do</p>\n\n<pre><code>NSArray* shapes = @[@\"square\",@\"circle\",@\"square\"];\n</code></pre>\n\n<p>then the matter of appending .png is simple instead of having an <code>[[String]]</code> directly it's <code>[String]</code></p>\n"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 53805901, "answer_count": 1, "score": 2, "last_activity_date": 1544991715, "creation_date": 1544989672, "last_edit_date": 1544991715, "question_id": 53805880, "link": "https://stackoverflow.com/questions/53805880/casting-syntax-to-loop-through-array-of-arrays-in-swift", "title": "Casting Syntax to Loop Through Array of Arrays in Swift", "body": "<p>I have an <code>NSArray</code> consisting of <code>NSArrays</code> of strings created in Objective-C.</p>\n\n<p>I now want to loop through the items in the array in a swift class and am having trouble with the syntax.</p>\n\n<p>The original Objective-C Array of arrays looks like the following:</p>\n\n<pre><code>NSArray* shapes =@[@[@\"square\",@\"square.png\"],@[@\"circle\",@\"circle.png\"],@[@\"square\",@\"square.png\"]];\n</code></pre>\n\n<p>I am able to get and print the Array from the Objective-C class using:</p>\n\n<pre><code>let shapes:Array = Utilities.sharedInstance().getShapes\n</code></pre>\n\n<p>The following to loop through the array, however, is not compiling:</p>\n\n<pre><code>var term : String = \"\"\nvar pic : String = \"\"\nfor shape in shapes  {\nterm  = shape[1] //ERROR HERE\npic = shape[2] //SAME ERROR HERE\n            }\n</code></pre>\n\n<p>It gives the error:  <code>Type 'Any' has no subscript members</code>    </p>\n\n<p>What is the proper syntax to loop through the elements?</p>\n"}, {"tags": ["c++", "ios", "objective-c", "reflection"], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 7830114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a359a1bb741e3bc2bfa56ea059da84?s=128&d=identicon&r=PG&f=1", "display_name": "not an alien", "link": "https://stackoverflow.com/users/7830114/not-an-alien"}, "is_accepted": false, "score": 0, "last_activity_date": 1544986075, "creation_date": 1544986075, "answer_id": 53805385, "question_id": 53805250, "link": "https://stackoverflow.com/questions/53805250/how-to-get-value-of-a-private-c-typed-field-in-a-oc-class/53805385#53805385", "title": "How to get value of a private c++ typed field in a oc class?", "body": "<p>With accessor and mutator a.k.a. getter/setters:</p>\n\n<pre><code>class B {\n  public:\n    int getC() { return c };\n    void setC(int c_) { c = c_ };\n  private:\n    int c;\n}\n\nint main()\n{\n    B b;\n\n    B.setC(50); // c = 50\n\n    int x = B.getC() // x = 50;\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 865, "user_id": 6531048, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/84f0d4d7f17634a8c71d98a9953bd95a?s=128&d=identicon&r=PG&f=1", "display_name": "lext", "link": "https://stackoverflow.com/users/6531048/lext"}, "edited": false, "score": 0, "creation_date": 1545012691, "post_id": 53807136, "comment_id": 94464934, "body": "I don&#39;t have the source code, so I need to use reflection."}], "tags": [], "owner": {"reputation": 1053, "user_id": 3446285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/32678149ec688b5c765719d10aad8a75?s=128&d=identicon&r=PG&f=1", "display_name": "Koby Duck", "link": "https://stackoverflow.com/users/3446285/koby-duck"}, "is_accepted": false, "score": 0, "last_activity_date": 1545026186, "last_edit_date": 1545026186, "creation_date": 1545000423, "answer_id": 53807136, "question_id": 53805250, "link": "https://stackoverflow.com/questions/53805250/how-to-get-value-of-a-private-c-typed-field-in-a-oc-class/53807136#53807136", "title": "How to get value of a private c++ typed field in a oc class?", "body": "<p><strong>Edit:</strong> I misread your question.</p>\n\n<p>Disclaimer: I don't have access to an iOS toolchain at the time of this writing to verify the Objective-C info, but I'm confident in this answer based on my past experience working with Objective-C &amp; iOS.</p>\n\n<p>The Objective-C runtime provides type introspection.</p>\n\n<p>If the C++ member is a field:<br>\nUse the technique in <a href=\"https://stackoverflow.com/a/1213979/3446285\">this post</a> or similar, then isolate the ivar you're interested in.<br>\nIf using the loop technique from the aforementioned post:</p>\n\n<pre><code>if (strcmp(name, \"target_field\") == 0) {\n    ptrdiff_t offset = ivar_getOffset(var);\n    CppObject* cppObject = (CppObject*)(((ptrdiff_t*)&amp;targetObjcInst) + offset);\n    // Access the public members of CppObject...\n}\n</code></pre>\n\n<p>If the C++ member is a property:<br>\nWere you simply accessing an Obj-C property value, I'd say follow <a href=\"https://stackoverflow.com/a/29642341/3446285\">this answer</a> and call it a day, but because it's a C++ property value, the details are unclear. I'm not sure it's even possible.</p>\n\n<p>C++ has the concept of <a href=\"http://www.cplusplus.com/doc/tutorial/inheritance/\" rel=\"nofollow noreferrer\">friendship</a> providing access to the non-public members of one type from another.</p>\n\n<p>i.e.</p>\n\n<pre><code>class A;\n\nclass B {\n    friend class A;\n\n    int C;\n};\n\nclass A {\n    int D;\n\n    int sum(const B&amp; b) {\n        return b.C + D;\n    }\n};\n</code></pre>\n\n<p>This doesn't extend to Objective-C. Barring some specific compiler extension I'm unaware of, Obj-C interfaces can't be \"friends\" with C++ types, thus Obj-C can't access the private components of C++ types. Providing a public accessor/mutator or making the field public are your only portable options.</p>\n"}], "owner": {"reputation": 865, "user_id": 6531048, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/84f0d4d7f17634a8c71d98a9953bd95a?s=128&d=identicon&r=PG&f=1", "display_name": "lext", "link": "https://stackoverflow.com/users/6531048/lext"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1545026186, "creation_date": 1544985010, "question_id": 53805250, "link": "https://stackoverflow.com/questions/53805250/how-to-get-value-of-a-private-c-typed-field-in-a-oc-class", "title": "How to get value of a private c++ typed field in a oc class?", "body": "<p>I have objective-c class in iOS, there is a field whose type is c++ class.\nI don't have the definition of the c++ class.<br>\nHow to get the value of this field ?<br>\nAnd how to change the field value of this c++ typed field ?<br>\nFor example.</p>\n\n<pre><code>@interface A \n    B b // c++ type\n@end\n\nclass B {\n    int c;\n}\n</code></pre>\n\n<p>How to get the value of <code>b</code> ? How to change the value of <code>c</code>?</p>\n"}, {"tags": ["objective-c", "macos"], "comments": [{"owner": {"reputation": 1076, "user_id": 3127620, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/0df5f7098f6698fd89d27d24716c60cb?s=128&d=identicon&r=PG&f=1", "display_name": "AppleBee", "link": "https://stackoverflow.com/users/3127620/applebee"}, "reply_to_user": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "edited": false, "score": 0, "creation_date": 1545068254, "post_id": 53804508, "comment_id": 94489231, "body": "@TheNextman Not working."}, {"owner": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "edited": false, "score": 0, "creation_date": 1545069624, "post_id": 53804508, "comment_id": 94489868, "body": "[homeBrewTask setArguments:@[@&quot;-c&quot;, @&quot;brew help&quot;]];"}, {"owner": {"reputation": 1076, "user_id": 3127620, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/0df5f7098f6698fd89d27d24716c60cb?s=128&d=identicon&r=PG&f=1", "display_name": "AppleBee", "link": "https://stackoverflow.com/users/3127620/applebee"}, "reply_to_user": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "edited": false, "score": 0, "creation_date": 1545155060, "post_id": 53804508, "comment_id": 94525059, "body": "@TheNextman not working getting following error /bin/bash: brew: command not found"}], "owner": {"reputation": 1076, "user_id": 3127620, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/0df5f7098f6698fd89d27d24716c60cb?s=128&d=identicon&r=PG&f=1", "display_name": "AppleBee", "link": "https://stackoverflow.com/users/3127620/applebee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545024492, "creation_date": 1544979741, "last_edit_date": 1545024492, "question_id": 53804508, "link": "https://stackoverflow.com/questions/53804508/how-can-i-use-nstask-to-check-whether-particular-package-installed-or-not", "title": "How can I use NSTask to check whether particular package installed or not", "body": "<p>I have a requirement for my Mac app to check whether brew or ffmpeg are installed or not.</p>\n\n<p>I tried using the following code:</p>\n\n<pre><code>NSTask *homeBrewTask = [[NSTask alloc] init];\n[homeBrewTask setLaunchPath:@\"/bin/bash\"];\n[homeBrewTask setArguments:@[ @\"brew help\" ]];\n[homeBrewTask launch]; \n</code></pre>\n\n<p>Can anyone help me on how I can check and install ffmpeg or brew using NSTask?</p>\n"}, {"tags": ["objective-c", "swift", "xcode-ui-testing"], "owner": {"reputation": 113, "user_id": 2527470, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pOpnl.jpg?s=128&g=1", "display_name": "Seraph J. Lin", "link": "https://stackoverflow.com/users/2527470/seraph-j-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544978978, "creation_date": 1544977487, "question_id": 53804132, "link": "https://stackoverflow.com/questions/53804132/cannot-access-swift-objects-function-from-objc-even-adding-the-objcmembers-tag", "title": "Cannot access swift object&#39;s function from objc even adding the @objcMembers tag while running UI testing", "body": "<p>I'm working on UI testing code for iOS app recently,\nmy UI testing code is using swift, but the project itself has some objective-c code, and I create a singleton object for launch arguments settings, which also written by swift, so I adding the @objcMembers tag to the class.</p>\n\n<p>but while running the UI testing code, it seems not capable to reach the variables and functions, the singleton itself also not exists?\nsomething I missed?</p>\n\n<pre><code>import UIKit\n\n#if DEBUG\n\n@objcMembers\nclass EALaunchArugments: NSObject {\n\nstatic let sharedInstance = EALaunchArugments()\n\n// key for property\nstatic private let UITestingKey = \"-UITesting\"\n\nvar isUITesting: Bool {\n    let value = self.getLaunchArgumentValue(key: EALaunchArugments.UITestingKey)\n    return Bool(value ?? \"\") ?? false\n}\n\nprivate func getLaunchArgumentValue(key: String) -&gt; String? {\n    let arguments = ProcessInfo.processInfo.arguments\n    let indexOfKey = arguments.firstIndex(of: key)\n\n    guard let index = indexOfKey, index != NSNotFound else {\n        return nil\n    }\n\n    guard index + 1 &gt;= arguments.count else {\n        return nil\n    }\n\n    return arguments[index + 1]\n}\n\nfunc setAllLaunchArgumentsSettingsForUITesting() {\n// some work\n\n}\n}\n\n#endif\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "xcode", "frameworks"], "comments": [{"owner": {"reputation": 10041, "user_id": 10253094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/715dr.jpg?s=128&g=1", "display_name": "Robert Dresler", "link": "https://stackoverflow.com/users/10253094/robert-dresler"}, "edited": false, "score": 0, "creation_date": 1544966429, "post_id": 53802384, "comment_id": 94453755, "body": "Try to open your project with extension .xcworkspace"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "is_accepted": false, "score": 0, "last_activity_date": 1545066512, "creation_date": 1545066512, "answer_id": 53819965, "question_id": 53802384, "link": "https://stackoverflow.com/questions/53802384/could-not-build-objective-c-module-contactsui/53819965#53819965", "title": "Could not build Objective-C module &#39;ContactsUI&#39;", "body": "<p>I tried to replicate what I think your steps should have been by doing the following:</p>\n\n<ul>\n<li>created a single view Swift application </li>\n<li>selected my main project in the Project Navigator, then the \"General\" tab, then clicked on the \"+\" button under \"Linked Frameworks and Libraries\", selected \"Contacts\" and \"ContactsUI\" and added both of them</li>\n<li>checked that they appeared in the Linked Frameworks and Libraries list</li>\n<li>replicated your exact code in the ViewController.swift file</li>\n<li>built the app</li>\n</ul>\n\n<p>It worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1545109852, "creation_date": 1545109852, "answer_id": 53826742, "question_id": 53802384, "link": "https://stackoverflow.com/questions/53802384/could-not-build-objective-c-module-contactsui/53826742#53826742", "title": "Could not build Objective-C module &#39;ContactsUI&#39;", "body": "<p>I upgraded to XCode 10.1 and now it's working ok!</p>\n"}], "owner": {"reputation": 13035, "user_id": 305135, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/cf9b63f6e0e2d709993723d9b9be79cf?s=128&d=identicon&r=PG", "display_name": "AVEbrahimi", "link": "https://stackoverflow.com/users/305135/avebrahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1545109852, "creation_date": 1544965312, "question_id": 53802384, "link": "https://stackoverflow.com/questions/53802384/could-not-build-objective-c-module-contactsui", "title": "Could not build Objective-C module &#39;ContactsUI&#39;", "body": "<p>(XCode 10, mac os 10.13.6)</p>\n\n<p>I cloned a project and tried to run but XCode is giving this error : </p>\n\n<blockquote>\n  <p>/Users/cac/Desktop/temp/contact_test/contact_test/ViewController.swift:10:8:\n  Could not build Objective-C module 'ContactsUI'</p>\n</blockquote>\n\n<p>I created a simple application and tried to include ContactsUI, but it can't run again, this is my simple code :</p>\n\n<pre><code>import UIKit\nimport ContactsUI\nimport Contacts\n\nclass ViewController: UIViewController {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        // Do any additional setup after loading the view, typically from a nib.\n    }\n\n\n}\n</code></pre>\n\n<p>but this is result :</p>\n\n<p><a href=\"https://i.stack.imgur.com/6LdIl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6LdIl.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "opengl-es", "glkit", "cvpixelbuffer"], "owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1546014477, "creation_date": 1544954175, "last_edit_date": 1546014477, "question_id": 53801113, "link": "https://stackoverflow.com/questions/53801113/how-to-convert-yuv-data-to-cvpixelbufferref", "title": "How to convert YUV data to CVPixelBufferRef?", "body": "<p>I have the Yuv data below : </p>\n\n<pre><code>@property(nonatomic, readonly) int chromaWidth;\n@property(nonatomic, readonly) int chromaHeight;\n@property(nonatomic, readonly) const uint8_t *dataY;\n@property(nonatomic, readonly) const uint8_t *dataU;\n@property(nonatomic, readonly) const uint8_t *dataV;\n@property(nonatomic, readonly) int strideY;\n@property(nonatomic, readonly) int strideU;\n@property(nonatomic, readonly) int strideV;\n</code></pre>\n\n<p>Now how to convert it to <code>CVPixelBufferRef</code>?</p>\n"}, {"tags": ["ios", "objective-c", "debugging"], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 10797000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d1l8f.png?s=128&g=1", "display_name": "stephen liu", "link": "https://stackoverflow.com/users/10797000/stephen-liu"}, "edited": false, "score": 0, "creation_date": 1544955540, "post_id": 53801198, "comment_id": 94451221, "body": "if  source code of class of &#39;iview&#39; is not visible, you can hook the function &quot;description&quot; with method_exchangeImplementations and print your own informations"}, {"owner": {"reputation": 29, "user_id": 1752179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df65755e76dbdc99381156b96dacbbe8?s=128&d=identicon&r=PG", "display_name": "user1752179", "link": "https://stackoverflow.com/users/1752179/user1752179"}, "edited": false, "score": 0, "creation_date": 1545004490, "post_id": 53801198, "comment_id": 94463616, "body": "I can call the &quot;Description&quot; and &quot;DebugDescription&quot; common methods on other UI Objects, ScrollViews, UIImageViews, and UIViews, but in some cases that second class iView doesn&#39;t print. Only some objects carry the iView Class with it. My goal is to capture the obj id of the iView id. You are correct the code that is generating and managing the iview class is a compiled framework that dynamically renders UI objects from XML Templates.To me it appears as though the iView Object is apart of both the UIView and the CALayer of the parent object. Almost as though the iView class, its object is linked"}, {"owner": {"reputation": 29, "user_id": 1752179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df65755e76dbdc99381156b96dacbbe8?s=128&d=identicon&r=PG", "display_name": "user1752179", "link": "https://stackoverflow.com/users/1752179/user1752179"}, "edited": false, "score": 0, "creation_date": 1545004494, "post_id": 53801198, "comment_id": 94463617, "body": "I just can&#39;t figure out how to pull that iview array or its object id. I&#39;ve tried several ObjC runtime library calls, but no luck. Is method_exchangeImplementations more for swizzling the two objects (my visible UI_View, and the iView_)?"}], "tags": [], "owner": {"reputation": 26, "user_id": 10797000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d1l8f.png?s=128&g=1", "display_name": "stephen liu", "link": "https://stackoverflow.com/users/10797000/stephen-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1544955059, "creation_date": 1544955059, "answer_id": 53801198, "question_id": 53800666, "link": "https://stackoverflow.com/questions/53800666/ios-debug-description-of-uiview-object/53801198#53801198", "title": "iOS Debug Description of UIView Object", "body": "<p>Probably you want to check that weather the \"description\" function is overwrited by class of \"iview\" probably inherited from UIView, when you try to debug an objective-c class with po, the console just print out the result of \"description\" method returned~! if the subclass of UIView does not overwrite \"description\" function, the default implementation will be printed just as myView_inIOS.</p>\n"}, {"tags": [], "owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "is_accepted": false, "score": 1, "last_activity_date": 1544999867, "creation_date": 1544999867, "answer_id": 53807082, "question_id": 53800666, "link": "https://stackoverflow.com/questions/53800666/ios-debug-description-of-uiview-object/53807082#53807082", "title": "iOS Debug Description of UIView Object", "body": "<p>Do you really need to access <code>IView</code>? If all you want to do is get rid of that extra description string then you can subclass <code>myView_inIOS</code>, or what ever that class you are using, and override the description by returning what ever description and details you want in there. If you are not instantiation the class then as Stephen Liu mentioned, you may exchange the description implementation with your own.</p>\n\n<p>If you really need to access <code>Iview</code> we need details on what class you have instantiated there, and any links to its documentation. </p>\n\n<p>If the library is static then you might not be able to easily reference/access Iview. And it would probably be hidden for good reason too.</p>\n"}], "owner": {"reputation": 29, "user_id": 1752179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df65755e76dbdc99381156b96dacbbe8?s=128&d=identicon&r=PG", "display_name": "user1752179", "link": "https://stackoverflow.com/users/1752179/user1752179"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544999867, "creation_date": 1544949648, "question_id": 53800666, "link": "https://stackoverflow.com/questions/53800666/ios-debug-description-of-uiview-object", "title": "iOS Debug Description of UIView Object", "body": "<p>All,</p>\n\n<p>I'm having trouble understanding where the last half of this debugger description output for a UIView Object in iOS. </p>\n\n<p>Here is the Debug output:</p>\n\n<pre><code>&lt;myView_inIOS: 0x117f9bbc0; baseClass = UIImageView; frame = (562 39; 30 30); hidden = YES; opaque = NO; layer = &lt;CALayer: 0x282b47ca0&gt;&gt; iview:[myCustomView @ 0x11995b800 id: 427 hidden myView: {0x117f9bbc0 f: {{562, 39}, {30, 30}} layer: 0x282b47ca0} key: 859b rowOffset: 440 componentNeedsLayout hidden]\n</code></pre>\n\n<p>What are the properties of this UIView object being referenced by the iview: property? I've tried looking at the CALayer, and Subviews but I don't know what that iview:[] array means and how to access it?</p>\n"}, {"tags": ["objective-c", "c-preprocessor"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 4, "creation_date": 1544927791, "post_id": 53798495, "comment_id": 94447518, "body": "What about an enumeration instead of #define? The values of the enum will get values in order."}, {"owner": {"reputation": 2336, "user_id": 3936002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/utGjG.png?s=128&g=1", "display_name": "H Walters", "link": "https://stackoverflow.com/users/3936002/h-walters"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1544942562, "post_id": 53798495, "comment_id": 94449110, "body": "The essence of what you&#39;re trying to do here is to have macros expand according to the order you define the macros in.  That, fundamentally, is impossible; expansion of a macro invocation is entirely a function of <i>which</i> macros are defined at the time of invocation, and <i>what</i> they are defined as.  The order in which they were defined plays no role whatsoever.  Now you could chain the definitions, which defeats the point; auto-increments like counter&#39;s won&#39;t work because they&#39;re invocation features not definition ones.  The best thing is to just use enum&#39;s like @rmaddy suggests."}, {"owner": {"reputation": 2395, "user_id": 236415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bb82d6bc539ae498a27b71062e8da2a6?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/236415/jeff"}, "edited": false, "score": 1, "creation_date": 1545111134, "post_id": 53798495, "comment_id": 94502325, "body": "Thank you.  I have found a way to use an enum as you both suggest, a la <a href=\"https://stackoverflow.com/a/3035640/236415\">stackoverflow.com/a/3035640/236415</a> ."}], "answers": [{"tags": [], "owner": {"reputation": 2395, "user_id": 236415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bb82d6bc539ae498a27b71062e8da2a6?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/236415/jeff"}, "is_accepted": true, "score": 0, "last_activity_date": 1587190424, "creation_date": 1587190424, "answer_id": 61284938, "question_id": 53798495, "link": "https://stackoverflow.com/questions/53798495/compile-time-assignment-of-consecutive-numbers-to-defines/61284938#61284938", "title": "Compile-time assignment of consecutive numbers to #defines", "body": "<p>See this answer <a href=\"https://stackoverflow.com/a/3035640/236415\">https://stackoverflow.com/a/3035640/236415</a> for how to use an enum as suggested by the commenters.</p>\n"}], "owner": {"reputation": 2395, "user_id": 236415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bb82d6bc539ae498a27b71062e8da2a6?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/236415/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 61284938, "answer_count": 1, "score": 1, "last_activity_date": 1587190424, "creation_date": 1544920973, "last_edit_date": 1544927667, "question_id": 53798495, "link": "https://stackoverflow.com/questions/53798495/compile-time-assignment-of-consecutive-numbers-to-defines", "title": "Compile-time assignment of consecutive numbers to #defines", "body": "<p>I have a series of #defines that I want assigned consecutive numbers\nat compile time so I can refer to them later and know their order.\nCurrently, I'm assigning a number to each #define in order,\nbut, if I change the order, I have to renumber the #defines.</p>\n\n<pre><code>#define THING_A     1 // I'm doing this now...\n#define THING_F     2\n#define THING_C     3\n#define THING_B     4\n</code></pre>\n\n<p>Not shown: these #define are between array elements and refer to\nthe element order.  I often need to rearrange the element order.\nIf I reorder them, as below, I want their numbers to change accordingly\nwithout me having to go through and edit the numbers like this:</p>\n\n<pre><code>#define THING_C     1\n#define THING_A     2\n#define THING_B     3\n#define THING_F     4\n</code></pre>\n\n<p>What can I replace the numbers with (the same for\nevery #define) that will result in consecutive assignments?\nI can't use \"__COUNTER_\" like this...</p>\n\n<pre><code>#define THING_B     (__COUNTER__)\n</code></pre>\n\n<p>... because every time I use the defined value later, it gets larger.\nWhat is this \"(something)\"?</p>\n\n<pre><code>#define THING_A     (something)\n#define THING_B     (something)\n#define THING_C     (something)\n#define THING_D     (something)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "multithreading", "nsthread"], "comments": [{"owner": {"reputation": 221, "user_id": 10467477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mM6L1y8whzE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXlE8hAFpJrTvqo_1ZOyW5U5xaF6g/mo/photo.jpg?sz=128", "display_name": "Jian Zhong", "link": "https://stackoverflow.com/users/10467477/jian-zhong"}, "edited": false, "score": 0, "creation_date": 1544959927, "post_id": 53793973, "comment_id": 94452159, "body": "I think you can use delegate to achive that.  A delegate allows one object to send messages to another object when an event happens"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "reply_to_user": {"reputation": 221, "user_id": 10467477, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mM6L1y8whzE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXlE8hAFpJrTvqo_1ZOyW5U5xaF6g/mo/photo.jpg?sz=128", "display_name": "Jian Zhong", "link": "https://stackoverflow.com/users/10467477/jian-zhong"}, "edited": false, "score": 0, "creation_date": 1545003286, "post_id": 53793973, "comment_id": 94463428, "body": "@JianZhong using a delegate is possible but redundant because the method <code>CheckBeforePrint2 </code> is within the same class. Definitely sounds like an anti-pattern."}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1545109121, "post_id": 53793973, "comment_id": 94501869, "body": "In response to the updated code, there is still no need to create a new thread for <code>CheckBeforePrint</code> if the parent thread is going to have to wait anyway. Why do you think you need to run <code>CheckBeforePrint</code>  in its own thread?"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1545109493, "post_id": 53793973, "comment_id": 94501941, "body": "The last part of your question regrading sending the result to another app is another story. You can post that in a separate question (I&#39;m sure that  challenge has been answered already here on stack, unless you have a very specific problem on that)"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "edited": false, "score": 0, "creation_date": 1545113122, "post_id": 53793973, "comment_id": 94502916, "body": "I am unable to initiate a chat with you unfortunately. Because of low points probably. But have a look at the link in my answer on <code>openURL completion:</code>. That should remove the need for waiting and locking jibber jabber. Cheers"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 1992910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a654b4cacc9f6379eb4cb27aae42f4?s=128&d=identicon&r=PG", "display_name": "user1992910", "link": "https://stackoverflow.com/users/1992910/user1992910"}, "edited": false, "score": 0, "creation_date": 1545108100, "post_id": 53807119, "comment_id": 94501592, "body": "Hi Thanks for the answer This is my Code"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "reply_to_user": {"reputation": 35, "user_id": 1992910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a654b4cacc9f6379eb4cb27aae42f4?s=128&d=identicon&r=PG", "display_name": "user1992910", "link": "https://stackoverflow.com/users/1992910/user1992910"}, "edited": false, "score": 0, "creation_date": 1545108325, "post_id": 53807119, "comment_id": 94501661, "body": "@user1992910 what do you mean by <code>this is my code</code>?"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "reply_to_user": {"reputation": 35, "user_id": 1992910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a654b4cacc9f6379eb4cb27aae42f4?s=128&d=identicon&r=PG", "display_name": "user1992910", "link": "https://stackoverflow.com/users/1992910/user1992910"}, "edited": false, "score": 0, "creation_date": 1545108873, "post_id": 53807119, "comment_id": 94501795, "body": "@user1992910 oh okay.  Like I mentioned, why can&#39;t you just do <code>[self CheckBeforePrint: result]</code> without creating a new thread? The thread running <code>myMethod</code> has to wait for the result anyway. So why do you need a separate thread for CheckBeforePrint ?"}, {"owner": {"reputation": 35, "user_id": 1992910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a654b4cacc9f6379eb4cb27aae42f4?s=128&d=identicon&r=PG", "display_name": "user1992910", "link": "https://stackoverflow.com/users/1992910/user1992910"}, "edited": false, "score": 0, "creation_date": 1545110158, "post_id": 53807119, "comment_id": 94502064, "body": "iam creating a plugin thats will be used in adobe flex to print using cocoa when i did what u mentioned the plugin just hang up i dont know why so the only thing worked was to create a thread but i faced a problem is that i want to get the result and return it to the plugin so that what i asked by the way i tried u first solution but also the plugin hang up"}, {"owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "reply_to_user": {"reputation": 35, "user_id": 1992910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a654b4cacc9f6379eb4cb27aae42f4?s=128&d=identicon&r=PG", "display_name": "user1992910", "link": "https://stackoverflow.com/users/1992910/user1992910"}, "edited": false, "score": 0, "creation_date": 1545110569, "post_id": 53807119, "comment_id": 94502169, "body": "@user1992910 with the first solution, I fixed it earlier today. The order of events was wrong. If you try it now it should work definitely (its the same as sleeping the thread, but the thread is awaked by the other thread when its done)."}], "tags": [], "owner": {"reputation": 5359, "user_id": 870565, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/86wGY.jpg?s=128&g=1", "display_name": "pnizzle", "link": "https://stackoverflow.com/users/870565/pnizzle"}, "is_accepted": false, "score": 4, "last_activity_date": 1545112939, "last_edit_date": 1545112939, "creation_date": 1545000266, "answer_id": 53807119, "question_id": 53793973, "link": "https://stackoverflow.com/questions/53793973/wait-for-value-to-change-in-thread-objective-c/53807119#53807119", "title": "Wait for value to change in thread Objective C", "body": "<p>What you are doing here requires the use of a <code>semaphore</code> for example. If there is nothing more to it than you are providing here then a completion block to a background running method is the best way to do it. <strong>See option 2 below</strong></p>\n\n<p>Either way, why do you want the parent thread (the thread dispatching a new thread) to wait for another thread? If the parent thread is waiting, it is locked until the dispatched thread is done (according to your requirement). This situation is redundant because the whole point of dispatching another thread is so that the parent thread can continue with other things. Unless of course the parent thread needs to wait for multiple threads, then it makes sense to lock it.</p>\n\n<p>Having said that, its best to just let the dispatching thread / parent thread do the processing that you are dispatching on to another thread. Im only saying this given the details you have provided.</p>\n\n<ul>\n<li><strong>OPTION 1 use a semaphore</strong></li>\n</ul>\n\n<p>Use a semaphore to lock and unlock parent thread</p>\n\n<pre><code>-(void)getStatusPrinter()\n{   \n    dispatch_semaphore_t semaphore = dispatch_semaphore_create(0);\n    [NSThread detachNewThreadSelector:@selector(checkBeforePrint2) toTarget:self withObject: semaphore];\n    dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);\n    [self print]; // this will run after semaphore is unlocked\n}\n\n-(void)checkBeforePrint2:(dispatch_semaphore_t)sem\n{\n    //this is within child thread\n    //do some processing,\n    dispatch_semaphore_signal(sem);//unlock semaphore\n}\n</code></pre>\n\n<p>But, as I mentioned before, this situation seems redundant because the parent thread waits (therefore unusable) for child thread; why can't it just do the work itself...</p>\n\n<hr>\n\n<ul>\n<li><strong>OPTION 2 use completion block (PREFERABLE)</strong></li>\n</ul>\n\n<p>Use a completion block that you pass to the child thread. This allows the parent thread to continue. If it is the main thread it remains free for UI stuff.</p>\n\n<pre><code>-(void)getStatusPrinter()\n{   \n    [self checkBeforePrint2WithCompletion: ^{\n        [self print];\n    }];\n    //continue with more stuff\n}\n\n-(void)checkBeforePrint2WithCompletion:(void (^ __nullable)(void))completion\n{\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n        //do something before executing completion code\n\n        if(completion){\n            completion();\n        }\n    });\n}\n</code></pre>\n\n<p>Disclaimer: there may be typos in this code as it was not written in an editor/ IDE. Please comment if any.</p>\n\n<hr>\n\n<ul>\n<li><strong>UPDATE</strong> in response to added details.</li>\n</ul>\n\n<p>Okay, for the fact that you said you need to return the result to another application, that means the entry thread at <code>getStatusPrinter</code> can not be allowed to return after dispatching a new thread. If you really need to create a new thread for <code>CheckBeforePrint</code> then the entry thread has to wait. That to me is pointless. You can simply run everything on the entry thread.</p>\n\n<p>If you are using <code>openURL:options:completionHandler:</code> then the entry thread doesn't need to wait. The value of <code>result</code> can be passed back within the completion block.</p>\n\n<p>Please refer to <a href=\"https://developer.apple.com/documentation/uikit/uiapplication/1648685-openurl?language=objc\" rel=\"nofollow noreferrer\">Apple's documentation</a> on openURL with a completion handle</p>\n"}], "owner": {"reputation": 35, "user_id": 1992910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05a654b4cacc9f6379eb4cb27aae42f4?s=128&d=identicon&r=PG", "display_name": "user1992910", "link": "https://stackoverflow.com/users/1992910/user1992910"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545117680, "creation_date": 1544883062, "last_edit_date": 1545117680, "question_id": 53793973, "link": "https://stackoverflow.com/questions/53793973/wait-for-value-to-change-in-thread-objective-c", "title": "Wait for value to change in thread Objective C", "body": "<p>I have a thread call in objective C and i want once this thread ends i want to return a value ;the value will be changed inside the thread \nSo the method must not return the value unless the tread ends </p>\n\n<p><strong>Here is the code i use:</strong> </p>\n\n<pre><code>[NSThread detachNewThreadSelector:@selector(CheckBeforePrint2) toTarget:self withObject:nil];\n</code></pre>\n\n<p><strong>This is My Full Code</strong></p>\n\n<pre><code>- (NSString *) getStatusPrinter:(NSString *) printerSerialNumber\n{\n    self.printerSN = printerSerialNumber;\n    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];\n    NSString *Result = @\"-1\";\n    [NSThread sleepForTimeInterval:2.0f];       \n\n    [NSThread detachNewThreadSelector:@selector(CheckBeforePrint) toTarget:self withObject:Result];\n\n    [pool release];\n    return  Result;\n}\n</code></pre>\n\n<p>Now i want to wait for the value of Result and return it i am using</p>\n\n<blockquote>\n  <p>cocoa</p>\n</blockquote>\n\n<p>And i am returning the value to another app</p>\n\n<p>Can anyone help in that.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 10041, "user_id": 10253094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/715dr.jpg?s=128&g=1", "display_name": "Robert Dresler", "link": "https://stackoverflow.com/users/10253094/robert-dresler"}, "edited": false, "score": 0, "creation_date": 1544881572, "post_id": 53793757, "comment_id": 94437343, "body": "What is <code>BCKCode39Co</code>"}, {"owner": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "reply_to_user": {"reputation": 10041, "user_id": 10253094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/715dr.jpg?s=128&g=1", "display_name": "Robert Dresler", "link": "https://stackoverflow.com/users/10253094/robert-dresler"}, "edited": false, "score": 0, "creation_date": 1544881628, "post_id": 53793757, "comment_id": 94437356, "body": "@RobertDresler this is objective-c class."}, {"owner": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "reply_to_user": {"reputation": 10041, "user_id": 10253094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/715dr.jpg?s=128&g=1", "display_name": "Robert Dresler", "link": "https://stackoverflow.com/users/10253094/robert-dresler"}, "edited": false, "score": 0, "creation_date": 1544881743, "post_id": 53793757, "comment_id": 94437378, "body": "i&#39;m use this class in my project for barcode generate. <a href=\"https://github.com/Cocoanetics/BarCodeKit\" rel=\"nofollow noreferrer\">github.com/Cocoanetics/BarCodeKit</a>"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1544882443, "post_id": 53793757, "comment_id": 94437541, "body": "try <code>bckCode39Co = BCKCode39Co(content:your_text, error:&amp;error1)</code> ??"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "edited": false, "score": 0, "creation_date": 1545110607, "post_id": 53794437, "comment_id": 94502187, "body": "thanx bro, where to find this method tell me. Because here many class so how to use?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "edited": false, "score": 0, "creation_date": 1545111047, "post_id": 53794437, "comment_id": 94502309, "body": "I found this looking at the <a href=\"https://docs.cocoanetics.com/BarCodeKit/Classes/BCKCode39Code.html\" rel=\"nofollow noreferrer\">class hierarchy</a>."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "edited": false, "score": 0, "creation_date": 1545114139, "post_id": 53794437, "comment_id": 94503262, "body": "I chose this class method because the inclusion of this <a href=\"https://github.com/Cocoanetics/BarCodeKit/blob/develop/Core/Source/BCKCode.h#L158\" rel=\"nofollow noreferrer\">deprecated method declaration for <code>initWithContents:</code></a> is causing problems for the Swift bridging. That line really should bear some indication that it&#39;s not available in Swift (see <a href=\"https://github.com/Cocoanetics/BarCodeKit/pull/7\" rel=\"nofollow noreferrer\">github.com/Cocoanetics/BarCodeKit/pull/7</a>, which introduces <code>NS_SWIFT_UNAVAILABLE</code>) and when you do that, Xcode can correctly determine the correct method to call. With that done, you can do things like <code>let barcode = try BCKEAN8Code(content: string)</code>."}, {"owner": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "edited": false, "score": 0, "creation_date": 1545114834, "post_id": 53794437, "comment_id": 94503523, "body": "Thnx bro for pull to request in github."}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 0, "last_activity_date": 1544886926, "last_edit_date": 1544886926, "creation_date": 1544886380, "answer_id": 53794437, "question_id": 53793757, "link": "https://stackoverflow.com/questions/53793757/how-to-convert-barcodekit-objective-c-code-into-swift/53794437#53794437", "title": "How to convert BarCodeKit Objective-C code into Swift?", "body": "<p>Looking at the headers for <a href=\"https://github.com/Cocoanetics/BarCodeKit\" rel=\"nofollow noreferrer\">BarCodeKit</a>, I'd suggest you use the <a href=\"https://github.com/Cocoanetics/BarCodeKit/blob/develop/Core/Source/BCKCode39Code.h#L40\" rel=\"nofollow noreferrer\">class method</a>:</p>\n\n<pre><code>+ (instancetype)code39WithContent:(NSString *)content error:(NSError *__autoreleasing *)error;\n</code></pre>\n\n<p>E.g. in Swift 4.2:</p>\n\n<pre><code>do {\n    let barcode = try BCKCode39Code.code39(withContent: string) // or use rendition with `withModulo43` parameter\n    imageView.image = UIImage(barCode: barcode, options: nil)\n} catch {\n    print(error)\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10238057, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-M00dhEaaXo0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPswmPxXFaC_aUJ0xvU8A_l4ggikQ/mo/photo.jpg?sz=128", "display_name": "Digvijay Gida", "link": "https://stackoverflow.com/users/10238057/digvijay-gida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 53794437, "answer_count": 1, "score": -4, "last_activity_date": 1544913056, "creation_date": 1544881479, "last_edit_date": 1544913056, "question_id": 53793757, "link": "https://stackoverflow.com/questions/53793757/how-to-convert-barcodekit-objective-c-code-into-swift", "title": "How to convert BarCodeKit Objective-C code into Swift?", "body": "<p>This is Objective-C code in <a href=\"https://github.com/Cocoanetics/BarCodeKit\" rel=\"nofollow noreferrer\">BarCodeKit</a>:</p>\n\n<pre><code>NSError *error;\n_barcodeObject = [[_barcodeClass alloc] initWithContent:_contentsTextField.text error:&amp;error];\n</code></pre>\n\n<p>How do I convert this code to Swift?</p>\n\n<p>When I tried the following in Swift, it said that I can't pass <code>NSError</code> into the function. </p>\n\n<pre><code>var error1 = NSError()\n\nBCKCode39Co = BCKCode39Co.init(content: Content, error: NSError?)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "mkmapview"], "comments": [{"owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "edited": false, "score": 0, "creation_date": 1544883048, "post_id": 53792585, "comment_id": 94437694, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33262759/size-image-pin-annotation\">Size image pin annotation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "is_accepted": false, "score": 0, "last_activity_date": 1544907136, "creation_date": 1544907136, "answer_id": 53797155, "question_id": 53792585, "link": "https://stackoverflow.com/questions/53792585/set-size-of-annotation-icon-in-mkmapview-ios/53797155#53797155", "title": "Set size of annotation icon in MKMapView - iOS", "body": "<p>You need to write class annotations</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;MapKit/MapKit.h&gt;\n\n@interface Annotation : NSObject &lt;MKAnnotation&gt;\n\n@property (nonatomic) CLLocationCoordinate2D coordinate;\n@property (strong, nonatomic) NSString *myTitle;\n\n+ (Annotation *)initAnnotation:(CLLocationCoordinate2D)coordinate title:(NSString *)title;\n\n@end\n</code></pre>\n\n<p>Implementation</p>\n\n<pre><code>#import \"Annotation.h\"\n\n@implementation Annotation\n\n+ (Annotation *)initAnnotation:(CLLocationCoordinate2D)coordinate title:(NSString *)title\n\n{\n    return [[Annotation alloc] initWithAnnotation:coordinate title:title];\n}\n\n- (instancetype)initWithAnnotation:(CLLocationCoordinate2D)coordinate title:(NSString *)title\n{\n     self = [super init];\n     self.coordinate = coordinate;\n     self.myTitle = title;\n     return self;\n}\n\n@end\n</code></pre>\n\n<p>ViewController</p>\n\n<pre><code>#import \"ViewController.h\"\n#import &lt;MapKit/MapKit.h&gt;\n#import \"Annotation.h\"\n\n@interface ViewController ()\n\n@property (weak, nonatomic) IBOutlet MKMapView *mapView;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n   [super viewDidLoad];\n\n   //set coordinates\n\n   CLLocationCoordinate2D coordinate = CLLocationCoordinate2DMake(51.50851, -0.02172);\n\n   //add annotation\n\n   Annotation *annotation = [Annotation initAnnotation:coordinate title:@\"Annotation\"];\n\n   [self.mapView addAnnotation:annotation];\n   [self.mapView showAnnotations:@[annotation] animated:YES];\n\n   // add circle with radius\n\n   MKCircle *circle = [MKCircle circleWithCenterCoordinate:annotation.coordinate radius:10000];\n   [self.mapView addOverlay:circle];\n\n   //add region by coordinates\n\n   MKCoordinateRegion region;\n   region.center.latitude = 51.50851;\n   region.center.longitude = -0.02172;\n\n   // level zoom\n\n   region.span.latitudeDelta = 1;\n   region.span.longitudeDelta = 1;\n   region = [self.mapView regionThatFits:region];\n\n   [self.mapView setRegion:region animated:YES];\n}\n</code></pre>\n\n<p>Do not forget to set the controller as a map delegate, and implement the circle mapping method</p>\n\n<pre><code>- (MKOverlayRenderer *)mapView:(MKMapView *)mapView rendererForOverlay:(id&lt;MKOverlay&gt;) overlay{\n   MKCircleRenderer *circleView = [[MKCircleRenderer alloc] initWithOverlay:overlay];\n   circleView.fillColor = [[UIColor greenColor] colorWithAlphaComponent:0.4];\n   return circleView;\n}[![enter image description here][1]][1]\n</code></pre>\n\n<p>Pin appears, and you can adjust its size</p>\n\n<p><a href=\"https://prntscr.com/lvfjwi\" rel=\"nofollow noreferrer\">https://prntscr.com/lvfjwi</a></p>\n"}], "owner": {"reputation": 1, "user_id": 2128865, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bb309e58b77c9b2598e62af6869b0e8b?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2128865/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545043502, "creation_date": 1544879064, "last_edit_date": 1545043502, "question_id": 53792585, "link": "https://stackoverflow.com/questions/53792585/set-size-of-annotation-icon-in-mkmapview-ios", "title": "Set size of annotation icon in MKMapView - iOS", "body": "<p>I am trying to display some icons on a MKMapView. I have achieved that by using this code:</p>\n\n<pre><code>MapPoint *placeObject = [[MapPoint alloc] initWithName:place.name\n                                                           address:place.address\n                                                        coordinate:place.location.coordinate\n                                                             image:place.customMapPinImage\n                                                              icon:place.icon\n                                                          bookmark:place.bookmark\n                                                       contents_ID:place.contents_ID\n                                             contents_lang_MAIN_ID:place.contents_lang_MAIN_ID\n                                               contents_lang_ID_ML:place.contents_lang_ID_ML];\n\n\n            [mapView addAnnotation:placeObject];\n</code></pre>\n\n<p>The problem is that, without changing anything in the code, the size of the icons changed and I don't know why. How can I adjust the size of the icons?</p>\n"}, {"tags": ["ios", "objective-c", "animation", "uiviewpropertyanimator"], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1544843581, "creation_date": 1544843581, "answer_id": 53789214, "question_id": 53787896, "link": "https://stackoverflow.com/questions/53787896/animator-startanimation-what-does-this-warning-mean/53789214#53789214", "title": "animator.startAnimation -- What does this warning mean?", "body": "<p><code>startAnimation</code> is a method, not a property. You should write:</p>\n\n<pre><code>[animator startAnimation];\n</code></pre>\n\n<p>Though Objective-C does allow you to use property syntax when calling a method that takes no parameters, your use is written like you are attempting to read a property value. But since (obviously) you make no attempt to store the result (there isn't one), the compiler complains you are ignoring the accessed value.</p>\n\n<p>Simply avoid the wrong syntax and you avoid the issue.</p>\n\n<p>BTW, you claim that the line:</p>\n\n<pre><code>UIViewPropertyAnimator *animator;\n</code></pre>\n\n<p>is outside the <code>@implementation</code> / <code>@end</code> pair. That makes it a file global variable. Is that what you really want? If you want it to be an instance variable of the class (which is probably what you really want), it should be:</p>\n\n<pre><code>@implementation YourClass {\n    UIViewPropertyAnimator *animator; //instance variable\n}\n\n// your methods\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 11764, "user_id": 554591, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/59c1c3c7477853b5e04f4928f8d4b508?s=128&d=identicon&r=PG", "display_name": "RobertL", "link": "https://stackoverflow.com/users/554591/robertl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53789214, "answer_count": 1, "score": 1, "last_activity_date": 1544843581, "creation_date": 1544828022, "last_edit_date": 1544830519, "question_id": 53787896, "link": "https://stackoverflow.com/questions/53787896/animator-startanimation-what-does-this-warning-mean", "title": "animator.startAnimation -- What does this warning mean?", "body": "<p>I'm trying to learn how to use UIViewPropertyAnimator in objc. I made a simple test app with an object called 'blueBox'. I want to vary the properties of blueBox. </p>\n\n<p>I declare 'animator' outside of @implementation ... @end:</p>\n\n<pre><code>UIViewPropertyAnimator *animator;\n</code></pre>\n\n<p>then define it like so:</p>\n\n<pre><code>- (void)viewDidLoad {\n   [super viewDidLoad];\n   CGRect newFrame = CGRectMake(150.0, 350.0, 100.0, 150.0);\n   animator = [[UIViewPropertyAnimator alloc]\n               initWithDuration:2.0\n               curve:UIViewAnimationCurveLinear\n               animations:^(void){\n      self.blueBox.frame = newFrame;\n      self.blueBox.backgroundColor = [UIColor redColor];\n   }];\n}\n</code></pre>\n\n<p>When I want to use it I write:</p>\n\n<pre><code>animator.startAnimation;\n</code></pre>\n\n<p>It works as expected (changes the object's color and frame) but there is a warning on 'animator.startAnimation;' that says \"Property access result unused - getters should not be used for side effects\". What property access result is that referring to? How should I write that so I don't get a warning?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "webrtc", "wowza"], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1545108072, "post_id": 53788540, "comment_id": 94501584, "body": "Thanks for the response jib!  This is only a publish from iOS to the Wowza streaming engine (if that makes a difference)  Even though the rest of the states look good, I&#39;m still getting stuck at the same RTCIceConnectionStateChecking, then after a short while, RTCIceConnectionStateFailed.  Some strange logs [VideoSendStream::Stop]  A bunch of failed PING sends, and dropped sample buffers. With ultimately [Connection deleted with number of pings sent: 96]"}, {"owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "reply_to_user": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1545111329, "post_id": 53788540, "comment_id": 94502389, "body": "@JohnLanzivision Doesn&#39;t make a difference. You still must exchange the host candidates. Check the local SDP after a few seconds and they should appear there."}, {"owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1545162437, "post_id": 53788540, "comment_id": 94528381, "body": "I may be a little confused, I send Wowza the offer SDP, and it responds with the Answer SDP and the Ice candidate (only one), and that&#39;s it. Works in our Chrome POC but not with native iOS."}, {"owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "reply_to_user": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1545176625, "post_id": 53788540, "comment_id": 94533506, "body": "Sorry not available, not sure I&#39;d be much help anyway. If it works in Chrome then I dunno. Note the offer also needs to contain an ice candidate (or trickle an ice candidate, if you&#39;re trickling candidates\u2014it&#39;s not clear from your question whether you are)."}, {"owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1545246604, "post_id": 53788540, "comment_id": 94563253, "body": "No prob, thanks for considering! I&#39;ve update the question with much more detail. It is starting to seem like native webRTC on iOS isn&#39;t compatible with Wowza Streaming Engine..."}, {"owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1565719197, "post_id": 53788540, "comment_id": 101437452, "body": "For any who read this, it was a lack of compatibility with Wowza. We ended up using a Janus implementation and as designed worked like a charm."}, {"owner": {"reputation": 3196, "user_id": 1541397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/991c4e6d0872e18880e3e0ff51cdf5a2?s=128&d=identicon&r=PG", "display_name": "David Callanan", "link": "https://stackoverflow.com/users/1541397/david-callanan"}, "edited": false, "score": 0, "creation_date": 1592134772, "post_id": 53788540, "comment_id": 110309822, "body": "@jib Thank you !!"}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "reply_to_user": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "edited": false, "score": 0, "creation_date": 1594027598, "post_id": 53788540, "comment_id": 110971905, "body": "hi @JohnLanzivision, i am using janus but still got ice fail, can you provide way to debug it?"}, {"owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "reply_to_user": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1597164960, "post_id": 53788540, "comment_id": 112042697, "body": "@famfamfam on instantiation? Not entirely, you have to make sure the stream is listed on JANUS and the signaling are solid before you create your peer connection and exchange the sdps"}], "tags": [], "owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "is_accepted": false, "score": 3, "last_activity_date": 1544834029, "creation_date": 1544834029, "answer_id": 53788540, "question_id": 53786638, "link": "https://stackoverflow.com/questions/53786638/ios-webrtc-connection-stuck-at-ice-connection-state-gathering/53788540#53788540", "title": "iOS WebRTC connection stuck at Ice Connection State Gathering", "body": "<p>You need to exchange (trickle) ICE candidates, or wait a few seconds before exchanging the SDP offer/answer, to give the local ICE agent time to populate the offer/answer with candidates (available by getting the local description).</p>\n"}, {"comments": [{"owner": {"reputation": 7675, "user_id": 2804585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9d29e9beab93abc3f093c9a61941b047?s=128&d=identicon&r=PG", "display_name": "Departamento B", "link": "https://stackoverflow.com/users/2804585/departamento-b"}, "reply_to_user": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594066749, "post_id": 58450338, "comment_id": 110991281, "body": "See <code>func webRTCClient(_ client: WebRTCClient, didChangeConnectionState state: RTCIceConnectionState)</code>. If you get the state &quot;checking&quot; call <code>- (void)offerForConstraints:(RTCMediaConstraints *)constraints           completionHandler:(nullable void (^)(RTCSessionDescription *_Nullable sdp,                                                NSError *_Nullable error))completionHandler;</code> again"}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594091523, "post_id": 58450338, "comment_id": 110997383, "body": "hi, i check state in server and found my publisher stuck in gathering state, and subcriber stuck in connecting state, could i call offerForConstraint again?"}, {"owner": {"reputation": 7675, "user_id": 2804585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9d29e9beab93abc3f093c9a61941b047?s=128&d=identicon&r=PG", "display_name": "Departamento B", "link": "https://stackoverflow.com/users/2804585/departamento-b"}, "reply_to_user": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594125179, "post_id": 58450338, "comment_id": 111011331, "body": "Not sure. Are you setting the remote description using the answer / offer you got sent? If you wait for a few seconds (using a timer) before it actually fails and generate an answer / offer again, did you get candidates in it the second time?"}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594192014, "post_id": 58450338, "comment_id": 111036240, "body": "yeah, i got many candidate, but sometimes only subcriber work, only publisher fail, now im focus to checking turn server"}, {"owner": {"reputation": 7675, "user_id": 2804585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9d29e9beab93abc3f093c9a61941b047?s=128&d=identicon&r=PG", "display_name": "Departamento B", "link": "https://stackoverflow.com/users/2804585/departamento-b"}, "reply_to_user": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594194965, "post_id": 58450338, "comment_id": 111037688, "body": "It also depends who stays stuck at gathering. I think the side that sends the initial offer always needs to take the initiative. But you will notice soon enough if you&#39;re doing something wrong because WebRTC will crash if you try to set an offer or answer while you are not in the right state. But in my case I always went to <code>checking</code> if ICE trickle failed so it was rock solid."}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594196718, "post_id": 58450338, "comment_id": 111038558, "body": "im tried to re-send offer after fail + dispatchtime after 0.15, but seem not working, i have 2 server, 1 work and 1 fail for publisher, after check the publisher spd, i found the work server always have &quot;type relay&quot; candidate, the fail server only contain &quot;type host&quot; candidate, do you think that is problem?"}, {"owner": {"reputation": 7675, "user_id": 2804585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9d29e9beab93abc3f093c9a61941b047?s=128&d=identicon&r=PG", "display_name": "Departamento B", "link": "https://stackoverflow.com/users/2804585/departamento-b"}, "reply_to_user": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594204127, "post_id": 58450338, "comment_id": 111042313, "body": "It could be possible that the candidates cannot &quot;see&quot; each other and have to go through a TURN server. If TURN is not enabled on one server and the other has it then that could be an explanation for the result. But this is complex matter that cannot easily be resolved through simple chat."}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1594280422, "post_id": 58450338, "comment_id": 111072116, "body": "i create new topic for my reason, plz help <a href=\"https://stackoverflow.com/questions/62807753/swift-janus-can-not-publish-video-but-get-remote-video-successful-can-not-kno\" title=\"swift janus can not publish video but get remote video successful can not kno\">stackoverflow.com/questions/62807753/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7675, "user_id": 2804585, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9d29e9beab93abc3f093c9a61941b047?s=128&d=identicon&r=PG", "display_name": "Departamento B", "link": "https://stackoverflow.com/users/2804585/departamento-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1601272752, "last_edit_date": 1601272752, "creation_date": 1571399587, "answer_id": 58450338, "question_id": 53786638, "link": "https://stackoverflow.com/questions/53786638/ios-webrtc-connection-stuck-at-ice-connection-state-gathering/58450338#58450338", "title": "iOS WebRTC connection stuck at Ice Connection State Gathering", "body": "<p>Perhaps somebody might run into this problem too on iOS. I would like to know as well how to make trickle work as it doesn't seem to work even iOS to iOS in my situation. But what's possible is that as the caller at the moment your connection goes to <code>checking</code> to send the offer again. In this second offer you will find all of the candidates as well. So this enables to trickling peers to connect while you send all of the candidates and the ones that don't to connect on the second offer.</p>\n<p>Try to compare the offer that you generate straight away with the one you generate after you go to <code>checking</code> to see the difference.</p>\n<pre><code>func webRTCClient(_ client: WebRTCClient, didChangeConnectionState\nstate: RTCIceConnectionState)\n</code></pre>\n<p>If you get the state &quot;checking&quot; call:-</p>\n<pre><code>-(void)offerForConstraints:(RTCMediaConstraints *)constraints\ncompletionHandler:(nullable void (^)(RTCSessionDescription *_Nullable sdp,\nNSError *_Nullable error))completionHandler;\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 4062108, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YYWr0o2LxXE/AAAAAAAAAAI/AAAAAAAAADQ/OUqoL90vExU/photo.jpg?sz=128", "display_name": "John Lanzivision", "link": "https://stackoverflow.com/users/4062108/john-lanzivision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2138, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1601272752, "creation_date": 1544820159, "last_edit_date": 1545247351, "question_id": 53786638, "link": "https://stackoverflow.com/questions/53786638/ios-webrtc-connection-stuck-at-ice-connection-state-gathering", "title": "iOS WebRTC connection stuck at Ice Connection State Gathering", "body": "<p>I'm doing an iOS native WebRTC implementation and I'm trying to peer connect with a Wowza Streaming Engine.</p>\n\n<p>I've built my own implementation, exchange SDP offer/answer, no errors, but the exchange halts in the Ice State Checking.</p>\n\n<p>This also works as expected from Chrome via WebRTC to the Wowza Engine, so the issue does not appear to lie there.</p>\n\n<p>Log error I'm getting</p>\n\n<pre><code>[019:110] [51467] (stunport.cc:282): Port[801a400:0:1:0:local:Net[en2:169.254.0.x/16:Wifi:id=1]]: UDP send of 100 bytes failed with error 65\n[009:190] [52483] (port.cc:1731): Conn[7058e00:0:Net[en2:169.254.0.x/16:Wifi:id=3]:K1VeXnEm:1:0:local:udp:169.254.31.x:63068-&gt;u76s55ya:1:50:local:udp:52.7.176.x:6970|C--W|-|0|0|218992623103|-]: Sent STUN ping, id=66706566354b77567a55706a, use_candidate=0, nomination=0\n[009:241] [52483] (port.cc:1731): Conn[503dc00:0:Net[pdp_ip0:10.233.207.x/32:Cellular:id=8]:Usd6n9/m:1:0:local:udp:10.233.207.x:61703-&gt;u76s55ya:1:50:local:udp:52.7.176.x:6970|C--W|-|0|0|218992229887|-]: Sent STUN ping, id=6431755a4674675155333050, use_candidate=0, nomination=0\n[009:292] [52483] (port.cc:1731): Conn[7060e00:0:Net[en0:192.168.0.x/24:Wifi:id=1]:s9SLzrT3:1:0:local:udp:192.168.0.x:53334-&gt;u76s55ya:1:50:local:udp:52.7.176.x:6970|C--I|-|0|0|218992754175|-]: Sent STUN ping, id=496e57507237574d52324b50, use_candidate=0, nomination=0\n</code></pre>\n\n<p>Any help would be amazing!</p>\n\n<p>EDIT:\nA more detailed flow.</p>\n\n<p>I am attempting to create a peer connection between a Wowza Streaming Engine instance and WebRTC on iOS. The connection is only a publish, no streams are received.</p>\n\n<p>My steps are as follows</p>\n\n<ol>\n<li>Peer connection created from the factory.</li>\n<li>Media streams added to the peer connection.</li>\n<li>Offer created on Peer connection. </li>\n<li>Offer set as local description and sent to Wowza. Offer has the local Ice Candadites</li>\n<li>Wowza response with the Answer SDP and the ice candidate (Wowza only gives one)</li>\n<li>Answer is set to Remote Description</li>\n<li>The single Ice Candidate is added into the Peer Connection</li>\n</ol>\n\n<p>Final state is always RTCIceConnectionStateChecking then failed.</p>\n"}, {"tags": ["ios", "objective-c", "avfoundation", "avassetwriter"], "answers": [{"tags": [], "owner": {"reputation": 4060, "user_id": 763355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dxAhW.jpg?s=128&g=1", "display_name": "MoDJ", "link": "https://stackoverflow.com/users/763355/modj"}, "is_accepted": false, "score": 0, "last_activity_date": 1553633978, "creation_date": 1553633978, "answer_id": 55366102, "question_id": 53786082, "link": "https://stackoverflow.com/questions/53786082/generate-video-file-with-transparent-video-overlay-using-avfoundation/55366102#55366102", "title": "Generate video file with transparent video overlay using AVFoundation", "body": "<p>Short answer is that you cannot do that with with AVFoundation under iOS. Only 24BPP (opaque) H264 video is supported by default. See <a href=\"https://stackoverflow.com/questions/47627605/avfoundation-decode-prores4444-movie-with-alpha-channel\">AVFoundation decode prores4444 movie with alpha channel</a></p>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 1466453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1873ca77535135b6db9e0bb55f93269?s=128&d=identicon&r=PG&f=1", "display_name": "Shakir Zareen", "link": "https://stackoverflow.com/users/1466453/shakir-zareen"}, "is_accepted": false, "score": 0, "last_activity_date": 1576252883, "creation_date": 1576252883, "answer_id": 59326012, "question_id": 53786082, "link": "https://stackoverflow.com/questions/53786082/generate-video-file-with-transparent-video-overlay-using-avfoundation/59326012#59326012", "title": "Generate video file with transparent video overlay using AVFoundation", "body": "<ul>\n<li><p>Install MobileFFMpeg into your XCode project using pod\npod 'mobile-ffmpeg-full', '~> 4.3'\n<a href=\"https://github.com/tanersener/mobile-ffmpeg\" rel=\"nofollow noreferrer\">https://github.com/tanersener/mobile-ffmpeg</a></p></li>\n<li><p>Call any FFMpeg command in following way:</p>\n\n<p>[MobileFFmpeg execute: @\"-i file1.mp4 -c:v mpeg4 file2.mp4\"];</p></li>\n</ul>\n"}], "owner": {"reputation": 1726, "user_id": 386911, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/902864c99ef2beff38355b6c2ff89dc6?s=128&d=identicon&r=PG&f=1", "display_name": "evenodd", "link": "https://stackoverflow.com/users/386911/evenodd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576252883, "creation_date": 1544817024, "question_id": 53786082, "link": "https://stackoverflow.com/questions/53786082/generate-video-file-with-transparent-video-overlay-using-avfoundation", "title": "Generate video file with transparent video overlay using AVFoundation", "body": "<p>I am trying to overlay a video (with an alpha channel) onto an existing video.</p>\n\n<p>The way to do this with ffmpeg would be a command like so:</p>\n\n<pre><code>ffmpeg -i face_video.mov -i curtain_test.mov -filter_complex \"[0:0][1:0]overlay[out]\" -shortest -map [out] -map 0:1 -pix_fmt yuv420p -c:a copy -c:v libx264 -crf 18  output.mov\n</code></pre>\n\n<p>How would I complete this task using AVFoundation on iOS? </p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 1, "creation_date": 1544813508, "post_id": 53784587, "comment_id": 94422204, "body": "Pay attention to compiler warnings. <code>tableDeviceList.dataSource = self;</code> probably shows a warning that self doesn&#39;t conform to the datasource protocol.  Declare the VC as conforming (see &quot;Conforming&quot; section here: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithProtocols/WorkingwithProtocols.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>).  That will also generate a warning that the conforming class must implement the required methods.  See @Bappaditya below for what to do next. Pay attention to warnings...many of them predict run-time crashes."}], "answers": [{"comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1544813782, "post_id": 53784713, "comment_id": 94422315, "body": "It&#39;s also worthwhile pointing out that the numberOfRows and cellForRow should access the same datasource data, i.e. in cellForRow: <code>id dataForThisCell = self.theDatasourceArray[indexPath.row];</code> and numberOfRows says: <code>return self.theDatasourceArray.count</code>"}, {"owner": {"reputation": 203, "user_id": 7237735, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e96042f96cebde67aa4895773f71f166?s=128&d=identicon&r=PG&f=1", "display_name": "amlibtest", "link": "https://stackoverflow.com/users/7237735/amlibtest"}, "edited": false, "score": 0, "creation_date": 1544825313, "post_id": 53784713, "comment_id": 94426631, "body": "I&#39;m sorry, I&#39;m new to ios development, so I&#39;m confused. I&#39;ve read some of those methods are needed in order to use UITableView, but where is the use of datasource and delegate in that code?"}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "reply_to_user": {"reputation": 203, "user_id": 7237735, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e96042f96cebde67aa4895773f71f166?s=128&d=identicon&r=PG&f=1", "display_name": "amlibtest", "link": "https://stackoverflow.com/users/7237735/amlibtest"}, "edited": false, "score": 0, "creation_date": 1544849997, "post_id": 53784713, "comment_id": 94430718, "body": "@amlibtest, your view controller <i>becomes</i> the datasource by declaring that it is one, by setting the table view datasource to self, and by implementing these methods.  By doing all that, you&#39;re saying to the table view: &quot;you do all of table stuff like scrolling and reusing cells, but I will tell you how many cells there are and how to configure them.  Just ask me via the datasource protocol&quot;"}], "tags": [], "owner": {"reputation": 8606, "user_id": 2797838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xh0TB.jpg?s=128&g=1", "display_name": "Bappaditya", "link": "https://stackoverflow.com/users/2797838/bappaditya"}, "is_accepted": true, "score": 3, "last_activity_date": 1544810676, "last_edit_date": 1544810676, "creation_date": 1544810306, "answer_id": 53784713, "question_id": 53784587, "link": "https://stackoverflow.com/questions/53784587/how-to-create-uitableview-programmatically/53784713#53784713", "title": "How to create UITableView programmatically", "body": "<p>You need to implement the <code>dataSource</code> and <code>delegate</code> methods of <code>UITableView</code> in your class,</p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    return 1; // number of sections\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return 10; // should be your array count\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView\n         cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n\n    static NSString *cellId = @\"Cell\";\n\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellId];\n    if (cell == nil)\n    {\n        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];\n    }\n    cell.textlabel.text = @\"test\";\n    return cell;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9768253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/702b5e62caeb24aa89ba9d27a66a42ef?s=128&d=identicon&r=PG&f=1", "display_name": "user9768253", "link": "https://stackoverflow.com/users/9768253/user9768253"}, "is_accepted": false, "score": 0, "last_activity_date": 1545118375, "last_edit_date": 1545118375, "creation_date": 1545115625, "answer_id": 53827691, "question_id": 53784587, "link": "https://stackoverflow.com/questions/53784587/how-to-create-uitableview-programmatically/53827691#53827691", "title": "How to create UITableView programmatically", "body": "<p>Firstly, you should set the following:</p>\n\n<pre><code>    UITableView(your tableview name).delegate = self;\n    UITableView(your tableview name).dataSource = self;\n</code></pre>\n\n<p>Secondly, you need to implement the delegate methods and datasource methods \nsuch as:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eNxd6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eNxd6.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ObaY3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ObaY3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 203, "user_id": 7237735, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e96042f96cebde67aa4895773f71f166?s=128&d=identicon&r=PG&f=1", "display_name": "amlibtest", "link": "https://stackoverflow.com/users/7237735/amlibtest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 53784713, "answer_count": 2, "score": 0, "last_activity_date": 1545118375, "creation_date": 1544809646, "last_edit_date": 1544817335, "question_id": 53784587, "link": "https://stackoverflow.com/questions/53784587/how-to-create-uitableview-programmatically", "title": "How to create UITableView programmatically", "body": "<p>I have the following code to create a view with a table programmatically</p>\n\n<pre><code>- (void) createView:(UIViewController*)viewController{\n    _thisViewController = viewController;\n    CGFloat screenWidth = [UIScreen mainScreen].bounds.size.width;\n    CGFloat screenHeight = [UIScreen mainScreen].bounds.size.height;\n\n    UILabel *titleLabel = [[UILabel alloc] init];\n    titleLabel.text = @\"Title\";\n    titleLabel.frame = CGRectMake(75, 20, 200, 50);\n    titleLabel.textColor = [UIColor blackColor];\n    titleLabel.font = [titleLabel.font fontWithSize: 24];\n\n    UILabel *subtitleLabel = [[UILabel alloc] init];\n    subtitleLabel.text = @\"Subtitle\";\n    subtitleLabel.frame = CGRectMake(75, 50, 400, 50);\n    subtitleLabel.textColor = [UIColor blackColor];\n    subtitleLabel.font = [subtitleLabel.font fontWithSize: 20];\n\n    UILabel *labelStatus = [[UILabel alloc] init];\n    labelStatus.text = @\"\";\n    labelStatus.frame = CGRectMake(75, screenHeight - 290, 500, 50);\n    labelStatus.textColor = [UIColor blueColor];\n    labelStatus.font = [labelStatus.font fontWithSize: 20];\n\n    UITableView *tableDeviceList = [[UITableView alloc] init];\n    tableDeviceList.frame = CGRectMake(75, 100, screenWidth -250, screenHeight - 400);\n    tableDeviceList.dataSource = self;\n    tableDeviceList.delegate = self;\n\n    UIButton *cancelButton = [UIButton buttonWithType:UIButtonTypeSystem];\n    [cancelButton setTitle:@\"Cancelar\" forState:UIControlStateNormal];\n    [cancelButton sizeToFit];\n\n    cancelButton.frame = CGRectMake((screenWidth/2)-100, screenHeight - 250, 100, 50);\n    cancelButton.backgroundColor = UIColorFromRGB(0x066D8B);\n    cancelButton.layer.cornerRadius = 20;\n    [cancelButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];\n    [cancelButton addTarget:self action:@selector(cancelButtonPressed:) forControlEvents:UIControlEventTouchUpInside];\n\n    UIViewController *viewControllerModal = [[UIViewController alloc] init];\n\n    UIView *nooView = [[UIView alloc] initWithFrame:CGRectMake(50, 80, screenWidth - 100, screenHeight - 160)];\n    nooView.backgroundColor = UIColorFromRGB(0xE8E8E8);\n    nooView.layer.cornerRadius = 20;\n\n    [nooView addSubview:titleLabel];\n    [nooView addSubview:subtitleLabel];\n    [nooView addSubview:tableDeviceList];\n    [nooView addSubview:labelStatus];\n    [nooView addSubview:cancelButton];\n\n    [viewControllerModal.view addSubview:nooView];\n\n    [viewController presentViewController: viewControllerModal animated:YES completion:nil];\n}\n</code></pre>\n\n<p>Which is throwing me an error of <code>tableView:numberOfRowsInSection:</code>, so I wonder if is there a way to add a function to a <code>UITableView</code> created this way (I'm creating my <code>UITableView</code> programmatically).</p>\n\n<p>Also, my class is of type <code>NSObject</code>, so I wonder if there will be a problem with the assignment of the <code>dataSource</code> and <code>delegate</code> properties of the <code>tableDeviceList</code>.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 558, "user_id": 8543732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e8450902e3488b47b79b808b3df9c9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul Bhatheja", "link": "https://stackoverflow.com/users/8543732/anshul-bhatheja"}, "edited": false, "score": 0, "creation_date": 1545024077, "post_id": 53787202, "comment_id": 94467006, "body": "I have tried using use_frameworks! at the top of the pods and deleting the derived data and rebuilding the project, but the result is same it will change the libraries to frameworks which will gives errors in the pods. Any other work around ?"}], "tags": [], "owner": {"reputation": 315, "user_id": 4262835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMr43.jpg?s=128&g=1", "display_name": "Omar Masri", "link": "https://stackoverflow.com/users/4262835/omar-masri"}, "is_accepted": false, "score": 0, "last_activity_date": 1544823414, "creation_date": 1544823414, "answer_id": 53787202, "question_id": 53780101, "link": "https://stackoverflow.com/questions/53780101/how-to-use-objective-c-libraries-and-swift-frameworks-in-an-objective-c-project/53787202#53787202", "title": "How to use objective c libraries and swift frameworks in an objective c project?", "body": "<p>have you tried setting use_frameworks! at the beginning of your pods specs ?\nif that didn't work for you try deleting your derived data and rebuild  </p>\n"}], "owner": {"reputation": 558, "user_id": 8543732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5e8450902e3488b47b79b808b3df9c9?s=128&d=identicon&r=PG&f=1", "display_name": "Anshul Bhatheja", "link": "https://stackoverflow.com/users/8543732/anshul-bhatheja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544823414, "creation_date": 1544791567, "last_edit_date": 1544805595, "question_id": 53780101, "link": "https://stackoverflow.com/questions/53780101/how-to-use-objective-c-libraries-and-swift-frameworks-in-an-objective-c-project", "title": "How to use objective c libraries and swift frameworks in an objective c project?", "body": "<p>I have my project in objective c and all its pods are having libraries but now I want to install a new pod in it &amp; when I install that pod it starts giving crash <code>library not loaded (image not found)</code>. When I change my podfile and uncomment the line <code>use_frameworks!</code> it will update all the pod libraries to the frameworks then it starts giving errors in other pods like <code>abc.h file not found</code>. How can I solve this issue ?</p>\n\n<p>TIA</p>\n\n<pre><code>  source 'https://github.com/CocoaPods/Specs.git'\n  pod 'GoogleMaps'\n  pod 'AFNetworking', '~&gt; 3.0'\n  pod 'FreeStreamer'\n  pod 'iOS-Slide-Menu'\n  pod 'XMLDictionary'\n  pod 'HTMLReader'\n  pod 'MarqueeLabel'\n  pod 'pop'\n  pod 'FBSDKCoreKit'\n  pod 'FBSDKShareKit'\n  pod 'FBSDKLoginKit'\n  pod 'Google/SignIn'\n  pod 'iCarousel'\n  pod 'APParallaxHeader'\n  pod 'CCBottomRefreshControl'\n  pod 'GCPlaceholderTextView'\n  pod 'VBFPopFlatButton'\n  pod 'Firebase'\n  pod 'Firebase/Crash'\n  pod 'Firebase/Messaging'\n  pod 'MBProgressHUD'\n  pod 'VKVideoPlayer'\n  pod 'LGPlusButtonsView'\n  pod 'youtube-ios-player-helper'\n\n  use_frameworks!\n  pod 'SnapSDK'\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "firebase-cloud-messaging"], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1544781068, "post_id": 53776945, "comment_id": 94405611, "body": "may I ask how to fire local notification from that methode? (not me that gave U minus&quot;:) )"}, {"owner": {"reputation": 4085, "user_id": 3759429, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6mzcv.jpg?s=128&g=1", "display_name": "Tejas Ardeshna", "link": "https://stackoverflow.com/users/3759429/tejas-ardeshna"}, "reply_to_user": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1544781446, "post_id": 53776945, "comment_id": 94405844, "body": "@pb4now Updated the answer please check"}], "tags": [], "owner": {"reputation": 4085, "user_id": 3759429, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6mzcv.jpg?s=128&g=1", "display_name": "Tejas Ardeshna", "link": "https://stackoverflow.com/users/3759429/tejas-ardeshna"}, "is_accepted": true, "score": 0, "last_activity_date": 1544781431, "last_edit_date": 1544781431, "creation_date": 1544780102, "answer_id": 53776945, "question_id": 53776782, "link": "https://stackoverflow.com/questions/53776782/silent-notification-to-alert-in-ios/53776945#53776945", "title": "silent notification to alert in ios?", "body": "<p>Yes, there are 2 ways for that. </p>\n\n<p>If your condition returns true then:</p>\n\n<p>1) Your app is an <strong>active state</strong> then use any third party/alert to show that navigation content.</p>\n\n<p>2) Your app is in the <strong>background</strong> then fire local notification with exact content of the silent notification. </p>\n\n<p>like this:</p>\n\n<pre><code>UILocalNotification *notification = [[UILocalNotification alloc] init];\nnotification.fireDate = [[NSDate date] dateByAddingTimeInterval:1]; // will fire notification after 1 second\nnotification.alertBody = @\"\"; // pass your body text here\n[[UIApplication sharedApplication] scheduleLocalNotification:notification];\n</code></pre>\n"}], "owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 53776945, "answer_count": 1, "score": -2, "last_activity_date": 1544781431, "creation_date": 1544779567, "question_id": 53776782, "link": "https://stackoverflow.com/questions/53776782/silent-notification-to-alert-in-ios", "title": "silent notification to alert in ios?", "body": "<p>I'm sending a silent notification to a user that gets picked up trough \"didReceiveRemoteNotification fetchCompletionHsndler\"  where I want to check som conditions and if it returns \"true\" for thoese want to make notificaton visible to a user -any idea on how can I accomplish that?</p>\n"}, {"tags": ["objective-c", "core-data"], "answers": [{"tags": [], "owner": {"reputation": 2116, "user_id": 2915020, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03c397f3a76288cca06c950b7fcbae18?s=128&d=identicon&r=PG", "display_name": "Kathiresan Murugan", "link": "https://stackoverflow.com/users/2915020/kathiresan-murugan"}, "is_accepted": false, "score": 0, "last_activity_date": 1544780034, "creation_date": 1544780034, "answer_id": 53776911, "question_id": 53776651, "link": "https://stackoverflow.com/questions/53776651/how-to-used-select-and-where-condition-in-core-data-in-objective-c/53776911#53776911", "title": "How to used select and where condition in core data in objective c", "body": "<p>Use <code>NSFetchRequest</code> to select rows on <code>CoreData</code></p>\n\n<pre><code>var objectContext: NSManagedObjectContext? {\n\n        guard let appDelegate = UIApplication.shared.delegate as? AppDelegate else {\n            return nil\n        }\n\n        return appDelegate.persistentContainer.viewContext\n    }\n\n\n\nif let context = objectContext {\n  let fetchRequest = NSFetchRequest&lt;NSFetchRequestResult&gt;(entityName: \"EntityName\")\n  fetchRequest.predicate = NSPredicate(format: \"depiid = %d\", 112)\n\n            do {\n                let results = try context.fetch(fetchRequest)\n             print(result)\n            } catch let error as NSError {\n                print(\"Could not fetch. \\(error), \\(error.userInfo)\")\n            }\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "edited": false, "score": 0, "creation_date": 1544809444, "post_id": 53777384, "comment_id": 94420535, "body": "Why <code>NSDictionaryResultType</code>?"}], "tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": false, "score": 0, "last_activity_date": 1544781566, "creation_date": 1544781566, "answer_id": 53777384, "question_id": 53776651, "link": "https://stackoverflow.com/questions/53776651/how-to-used-select-and-where-condition-in-core-data-in-objective-c/53777384#53777384", "title": "How to used select and where condition in core data in objective c", "body": "<pre><code>AppDelegate *appDelegate = (AppDelegate*)[UIApplication sharedApplication].delegate ;\n\nNSEntityDescription *entityDescription = [NSEntityDescription entityForName:@\u201cTableName\u201d inManagedObjectContext:appDelegate.managedObjectContext];\n\nNSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\u201cdepId == %@\",[NSNumber numberWithNumber:num]];\n\n[request setResultType:NSDictionaryResultType];\n[request setPropertiesToFetch:\n[NSArray arrayWithObjects:@\u201cempId\u201d, @\u201cempName\u201d,  nil]];  \nfetchRequest.entity = entityDescription;\nfetchRequest.predicate = predicate;    \nNSError *error;\nNSArray *resultsArray = [appDelegate.managedObjectContext executeFetchRequest:fetchRequest error:&amp;error];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10235, "user_id": 892499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/945f41aebeea6bb85a6404af17a00ea4?s=128&d=identicon&r=PG", "display_name": "trapper", "link": "https://stackoverflow.com/users/892499/trapper"}, "is_accepted": false, "score": 0, "last_activity_date": 1545362371, "last_edit_date": 1545362371, "creation_date": 1545273275, "answer_id": 53861709, "question_id": 53776651, "link": "https://stackoverflow.com/questions/53776651/how-to-used-select-and-where-condition-in-core-data-in-objective-c/53861709#53861709", "title": "How to used select and where condition in core data in objective c", "body": "<p>You use a predicate to filter results, this is your <code>WHERE</code></p>\n\n<pre><code>NSFetchRequest *fetchRequest = Emp.fetchRequest;\n\n// WHERE\nfetchRequest.predicate = [NSPredicate predicateWithFormat:@\"depiid = %d\", id];\n\n// ORDER BY\nfetchRequest.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@\"depiid\" ascending:YES]];\n\n// LIMIT\nfetchRequest.fetchLimit = 1;\n\nNSError *error;\nNSArray *objects = [context executeFetchRequest:fetchRequest error:&amp;error];\nif (!objects) {\n    // Error\n}\n\nEmp *emp = objects.firstObject;\n\nNSLog(@\"empid: %@, emp.id);\nNSLog(@\"empname: %@\", emp.name);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11280682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eX3L8.jpg?s=128&g=1", "display_name": "ArunLa", "link": "https://stackoverflow.com/users/11280682/arunla"}, "edited": false, "score": 0, "creation_date": 1613826224, "post_id": 66291318, "comment_id": 117198875, "body": "In core data, NSPredicate is like were condition in SQLite"}], "tags": [], "owner": {"reputation": 1, "user_id": 11280682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eX3L8.jpg?s=128&g=1", "display_name": "ArunLa", "link": "https://stackoverflow.com/users/11280682/arunla"}, "is_accepted": false, "score": 0, "last_activity_date": 1613822885, "creation_date": 1613822885, "answer_id": 66291318, "question_id": 53776651, "link": "https://stackoverflow.com/questions/53776651/how-to-used-select-and-where-condition-in-core-data-in-objective-c/66291318#66291318", "title": "How to used select and where condition in core data in objective c", "body": "<pre><code>    let managedContext = appDelegate.persistentContainer.viewContext\n    let entity = NSEntityDescription.entity(forEntityName: \n          &quot;CompetitionPlayer&quot;, in: managedContext)\n    let request = NSFetchRequest&lt;NSFetchRequestResult&gt;()\n    request.entity = entity\n    let predicate = NSPredicate(format: &quot;competitionID = %d&quot;, 2)\n    request.predicate = predicate\n\n    \n    let res = try! managedContext.fetch(request) as! [NSManagedObject]\n    \n    return res\n    \n</code></pre>\n"}], "owner": {"reputation": 791, "user_id": 6633352, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2e03888b9ace444275cef48b3633b54d?s=128&d=identicon&r=PG&f=1", "display_name": "Muju", "link": "https://stackoverflow.com/users/6633352/muju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1613822885, "creation_date": 1544779065, "last_edit_date": 1544779747, "question_id": 53776651, "link": "https://stackoverflow.com/questions/53776651/how-to-used-select-and-where-condition-in-core-data-in-objective-c", "title": "How to used select and where condition in core data in objective c", "body": "<p>How can I used <code>Select</code> and <code>where</code> condition in core data in Objective-C?</p>\n\n<pre><code>Select empid,empname where depiid=112\n</code></pre>\n\n<p>How can I write this type of query in Core Data?</p>\n\n<p>Thanks in Advance!</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 9, "user_id": 10611906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BYFLpMiR3gE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCRPElYoOj36fJOWHUIAucV7k4egw/mo/photo.jpg?sz=128", "display_name": "\u738b\u97e9\u5cf0", "link": "https://stackoverflow.com/users/10611906/%e7%8e%8b%e9%9f%a9%e5%b3%b0"}, "edited": false, "score": 0, "creation_date": 1544778548, "post_id": 53776122, "comment_id": 94404134, "body": "I found write like this : __block void (^block)() = ^() { .  It works fine! I don&#39;t know the reason."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1544778593, "post_id": 53776122, "comment_id": 94404160, "body": "You should have this warning: &quot;Block pointer variable &#39;block&#39; is uninitialized when captured by block&quot; that might point out the issue."}], "owner": {"reputation": 9, "user_id": 10611906, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BYFLpMiR3gE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCRPElYoOj36fJOWHUIAucV7k4egw/mo/photo.jpg?sz=128", "display_name": "\u738b\u97e9\u5cf0", "link": "https://stackoverflow.com/users/10611906/%e7%8e%8b%e9%9f%a9%e5%b3%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544778331, "creation_date": 1544776862, "last_edit_date": 1544778331, "question_id": 53776122, "link": "https://stackoverflow.com/questions/53776122/block-invoke-crash-in-ios-12", "title": "Block invoke crash in iOS 12", "body": "<p>I am writing code that block invoke itself in iOS, unfortunately, i got an error:</p>\n\n<blockquote>\n  <p>EXC_BAD_ACCESS (code=1, address=0x10).</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code>__block NSInteger i = 0;\nvoid (^block)() = ^() {\n    if (i == 0) {\n        i ++;\n        block();\n    }\n};\nblock();\n</code></pre>\n\n<p>What did I do wrong?</p>\n"}, {"tags": ["objective-c", "msgsend"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1544870408, "creation_date": 1544870408, "answer_id": 53791566, "question_id": 53776018, "link": "https://stackoverflow.com/questions/53776018/send-the-message-objc-msgsendclass-selectordealloc-to-release-the-object-w/53791566#53791566", "title": "Send the message objc_msgSend(class,@selector(dealloc)) to release the object, why is it wrong to access the object pointer?", "body": "<p><em>Note: This answer is being directly typed in, your code has <strong>not</strong> been tested, indeed <strong>no</strong> code has been tested. Therefore that the issues below are causing your issues is being inferred.</em></p>\n\n<p>There area number of issues with your design:</p>\n\n<ul>\n<li>Swizzling <code>dealloc</code> is not recommended. The <code>dealloc</code> method is called automatically by the system when it is in the process of destroying an object, as such using the partly destroyed object inappropriately (whatever that might be) could lead to issues - as you have found!</li>\n<li>You are using ARC under which <a href=\"https://developer.apple.com/documentation/objectivec/nsobject/1571947-dealloc\" rel=\"nofollow noreferrer\">\"an implementation of dealloc, [should] not invoke the superclass\u2019s implementation\"</a>. However your block does this.</li>\n<li>The variable <code>objc</code> is unused. However by default a local variable has the attribute <code>strong</code> so you are creating a strong reference to an object in the process of destruction. Any strong reference made by the block in this way will be released by ARC when the block has finished, this is almost certainly not good as your error indicates.</li>\n</ul>\n\n<p>You appear to be trying to call your <code>removeAllTargetWithSuffixKey:</code> method when a particular object is destroyed (<em>appear</em> as you swizzle [and can only swizzle] the <em>class</em> but are using the <code>hash</code> of a particular object). A better way to do this avoiding swizzling is to use <em>associated objects</em>.</p>\n\n<p>The runtime function <a href=\"https://developer.apple.com/documentation/objectivec/1418509-objc_setassociatedobject?language=objc\" rel=\"nofollow noreferrer\"><code>objc_setassociatedobject()</code></a> allows you to attach an object to a particular instance of another object and have that object be destroyed automatically when its host is destroyed (use an <code>objc_AssociationPolicy</code> of <code>OBJC_ASSOCIATION_RETAIN</code>).</p>\n\n<p>Design a class which has an instance property of your required <code>hash</code> value and a <code>dealloc</code> method which calls your <code>removeAllTargetWithSuffixKey:</code> then rather than swizzle the class simply create and associate an instance of your class with the target object.</p>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1544999615, "creation_date": 1544999615, "answer_id": 53807056, "question_id": 53776018, "link": "https://stackoverflow.com/questions/53776018/send-the-message-objc-msgsendclass-selectordealloc-to-release-the-object-w/53807056#53807056", "title": "Send the message objc_msgSend(class,@selector(dealloc)) to release the object, why is it wrong to access the object pointer?", "body": "<p>Yes, it's accessing the pointer after the method ends.  If this is being compiled under ARC, then the objc is a \"strong\" reference.  However, you are fabricating the implementation of the <em>dealloc</em> method, and so are retaining the object when it's already going to be dealloced, so it's too late to have a strong reference to it.  Your implementation is going to call super, which should actually deallocate the object, and then afterwards ARC is going to release the objc value, but it's already gone since it's the receiver, i.e. \"self\" if you were writing a normal dealloc method.</p>\n\n<p>ARC will never retain self in a regular dealloc method, but that is what you are effectively doing.  The \"object\" value is the same pointer, but is explicitly __unsafe_unretained, so you should just use that directly.  You can type the block as NSObject* instead of id if that helps, but it shouldn't matter.  Or you can make your objc value also __unsafe_unretained so ARC leaves it alone.  You don't want ARC touching the \"self\" value inside the block in any way, since you are going around ARC's back in this case.</p>\n\n<p>Whatever the case, once you are in an object's dealloc method, don't ever retain/release/autorelease the self pointer -- it will end up with crashes.  Calling a method from dealloc and passing a reference to self is a no-no, for example.  You need to be very careful about that, and understand exactly what ARC is doing if you are playing these types of runtime games.</p>\n"}], "owner": {"reputation": 13, "user_id": 6526717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851ea6939c94e5f12b49449a134c2ae5?s=128&d=identicon&r=PG&f=1", "display_name": "hyp", "link": "https://stackoverflow.com/users/6526717/hyp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 53791566, "answer_count": 2, "score": 1, "last_activity_date": 1544999615, "creation_date": 1544776407, "last_edit_date": 1544816176, "question_id": 53776018, "link": "https://stackoverflow.com/questions/53776018/send-the-message-objc-msgsendclass-selectordealloc-to-release-the-object-w", "title": "Send the message objc_msgSend(class,@selector(dealloc)) to release the object, why is it wrong to access the object pointer?", "body": "<p>The code is under ARC. When I delete the code <code>NSObject* objc = (NSObject*)object;</code> the program runs fine, but I didn't have access to the pointer <code>objc</code>. When I keep the code <code>NSObject* objc = (NSObject*)object;</code> I am prompted <code>EXC_BAD_ACCESS (code=1, address=0x20)</code>. Is the system accessing the <code>objc</code> pointer after the block function body ends?</p>\n\n<pre><code>-(void)resetDeallocMethodWithInstance:(NSObject*)obj\n{\n    Class targetClass = obj.class;\n    @synchronized (swizzledClasses()) {\n        NSString *className = NSStringFromClass(obj.class);\n        if ([swizzledClasses() containsObject:className]) return;\n        SEL deallocSel = sel_registerName(\"dealloc\");\n        __block void (*deallocBlock)(__unsafe_unretained id, SEL) = NULL;\n        id block = ^(__unsafe_unretained id object){\n            NSObject* objc = (NSObject*)object;\n            NSUInteger hash = ((NSObject*)object).hash;\n            [self removeAllTargetWitSuffixKey:[NSString stringWithFormat:@\"%lu\",(unsigned long)hash]];\n            if (deallocBlock == NULL) {\n                struct objc_super superInfo = {\n                    .receiver = object,\n                    .super_class = class_getSuperclass(targetClass)\n                };\n                void (*msgSend)(struct objc_super *, SEL) = (__typeof__(msgSend))objc_msgSendSuper;\n                msgSend(&amp;superInfo, deallocSel);\n            } else {\n                deallocBlock(object, deallocSel);\n            }\n        };\n        IMP blockImp = imp_implementationWithBlock(block);\n        if (!class_addMethod(obj.class, deallocSel, blockImp, \"v@:\")) {\n            Method deallocMethod = class_getInstanceMethod(obj.class, deallocSel);\n            deallocBlock = (__typeof__(deallocBlock))method_getImplementation(deallocMethod);\n            deallocBlock = (__typeof__(deallocBlock))method_setImplementation(deallocMethod, blockImp);\n        }\n        [swizzledClasses() addObject:className];\n    }\n    return;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wEgIc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["objective-c", "crash", "ios12"], "comments": [{"owner": {"reputation": 2284, "user_id": 2663579, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e3dad36919bf2f2f510657f1defbf6b?s=128&d=identicon&r=PG", "display_name": "SachinSarawgi", "link": "https://stackoverflow.com/users/2663579/sachinsarawgi"}, "edited": false, "score": 0, "creation_date": 1544769803, "post_id": 53774590, "comment_id": 94400574, "body": "could you please edit the way you are showing log. It will be easy for us to understand what is happening."}, {"owner": {"reputation": 21, "user_id": 8324227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7e5e82ee6b7c1bc2e508c1ca96c9da?s=128&d=identicon&r=PG&f=1", "display_name": "JethroYe", "link": "https://stackoverflow.com/users/8324227/jethroye"}, "reply_to_user": {"reputation": 2284, "user_id": 2663579, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e3dad36919bf2f2f510657f1defbf6b?s=128&d=identicon&r=PG", "display_name": "SachinSarawgi", "link": "https://stackoverflow.com/users/2663579/sachinsarawgi"}, "edited": false, "score": 0, "creation_date": 1545877034, "post_id": 53774590, "comment_id": 94717808, "body": "log has been edited, Thx~"}, {"owner": {"reputation": 613, "user_id": 461293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCUTs.jpg?s=128&g=1", "display_name": "ngn999", "link": "https://stackoverflow.com/users/461293/ngn999"}, "edited": false, "score": 0, "creation_date": 1548212260, "post_id": 53774590, "comment_id": 95458367, "body": "as <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1531844-sizewithattributes?language=objc#discussion\" rel=\"nofollow noreferrer\">Apple&#39;s document</a> said, you must raise charWidth to the nearest higher integer using the ceil function, did you do that?"}, {"owner": {"reputation": 21, "user_id": 8324227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7e5e82ee6b7c1bc2e508c1ca96c9da?s=128&d=identicon&r=PG&f=1", "display_name": "JethroYe", "link": "https://stackoverflow.com/users/8324227/jethroye"}, "edited": false, "score": 0, "creation_date": 1583744620, "post_id": 53774590, "comment_id": 107206109, "body": "Guys, I have fix this issue. this method must called in main thread"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8324227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7e5e82ee6b7c1bc2e508c1ca96c9da?s=128&d=identicon&r=PG&f=1", "display_name": "JethroYe", "link": "https://stackoverflow.com/users/8324227/jethroye"}, "is_accepted": false, "score": 0, "last_activity_date": 1583744812, "creation_date": 1583744812, "answer_id": 60597405, "question_id": 53774590, "link": "https://stackoverflow.com/questions/53774590/nsstring-sizewithattributes-crash-on-ios-12/60597405#60597405", "title": "NSString sizeWithAttributes Crash on iOS 12", "body": "<p>I have fix this issue. this method must called in main thread \u2013 JethroYe</p>\n"}], "owner": {"reputation": 21, "user_id": 8324227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f7e5e82ee6b7c1bc2e508c1ca96c9da?s=128&d=identicon&r=PG&f=1", "display_name": "JethroYe", "link": "https://stackoverflow.com/users/8324227/jethroye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1583744812, "creation_date": 1544769327, "last_edit_date": 1545252348, "question_id": 53774590, "link": "https://stackoverflow.com/questions/53774590/nsstring-sizewithattributes-crash-on-ios-12", "title": "NSString sizeWithAttributes Crash on iOS 12", "body": "<p>I recently encountered a strange Crash when using a lyrics component. Language is Objective-C. This stupid crash has been bothering me for many days...</p>\n\n<p>Here's the code:</p>\n\n<pre><code>CGFloat charWidth = [character.character sizeWithAttributes:@{NSFontAttributeName:displayFont}].width;\n</code></pre>\n\n<p>and my crash log stack:</p>\n\n<pre><code>0 CoreText 0x0000000234f09938 __ZNK12TSplicedFont23GetOpticalSizeComponentEd + 148\n1 CoreText 0x0000000234e7ffcc __ZL28DerivedOpticalFontDescriptorPK18__CTFontDescriptorPK9TBaseFontd + 120\n2 CoreText 0x0000000234e88008 __ZN12TFontCascade26InitCascadeFallbackAtIndexElRj + 252\n3 CoreText 0x0000000234e87a70 __ZNK12TFontCascade14CreateFallbackEPK8__CTFontPK10__CFString13CTEmojiPolicy + 728\n4 CoreText 0x0000000234e54e40 __ZN13TGlyphEncoder21AppendUnmappedCharRunEjR6TCFRefIP5CTRunEPK8__CTFontR7CFRangeS8_R10TGlyphListI18TDeletedGlyphIndexESD_RK12TFontCascadeNS_15ClusterMatchingEb + 704\n5 CoreText 0x0000000234e54900 __ZN13TGlyphEncoder28RunUnicodeEncoderRecursivelyEjO6TCFRefIP5CTRunEPK8__CTFont7CFRangeR10TGlyphListI18TDeletedGlyphIndexESC_PK12TFontCascadeNS_15ClusterMatchingEb + 1900\n6 CoreText 0x0000000234e54114 __ZN13TGlyphEncoder17RunUnicodeEncoderEO6TCFRefIP5CTRunEPK8__CTFont7CFRangeR10TGlyphListI18TDeletedGlyphIndexEPK12TFontCascade + 128\n7 CoreText 0x0000000234e53c30 __ZN13TGlyphEncoder11EncodeCharsE7CFRangeRK11TAttributesNS_9FallbacksE + 1240\n8 CoreText 0x0000000234e6acb0 __ZN21TTypesetterAttrString10InitializeEPK20__CFAttributedString + 304\n9 CoreText 0x0000000234e6ab6c __ZN21TTypesetterAttrStringC2EPK20__CFAttributedStringPK14__CFDictionary + 200\n10 CoreText 0x0000000234e58070 CTLineCreateWithAttributedString + 60\n11 UIFoundation 0x000000023b72be2c -[NSCoreTypesetter _stringDrawingCoreTextEngineWithOriginalString:rect:padding:context:forceClipping:styledTextOptions:attributes:stringDrawingOptions:drawingContext:wantsTextLineFragments:validatedAttributedString:firstNonRenderedCharacterIndex:foundSoftHyphenAtEOL:enginePathUsed:] + 1344\n12 UIFoundation 0x000000023b7aae38 ___NSStringDrawingEngine + 3104\n13 UIFoundation 0x000000023b72eb04 -[NSString(NSExtendedStringDrawing) boundingRectWithSize:options:attributes:context:] + 160\n14 UIFoundation 0x000000023b7307dc -[NSString(NSStringDrawing) sizeWithAttributes:] + 120\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "background"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1544761874, "post_id": 53773450, "comment_id": 94398506, "body": "You could &quot;block&quot; navigation by preventing user interaction or disabling normal navigation elements or use some kind of full screen &quot;hud&quot;, which overlays the current context (think dialog box) which shows &quot;work in progress&quot; or some other similar idea ... if I understand correctly"}, {"owner": {"reputation": 884, "user_id": 9238288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbf252a32c63647e64ea7b1a534be4a?s=128&d=identicon&r=PG&f=1", "display_name": "jackw11111", "link": "https://stackoverflow.com/users/9238288/jackw11111"}, "edited": false, "score": 0, "creation_date": 1544761995, "post_id": 53773450, "comment_id": 94398523, "body": "Are there any methods to force cancel the async request when the pageviewcontroller gets dismissed? If not, there should be ways to disable interaction while a request is being processed."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1544762042, "post_id": 53773450, "comment_id": 94398535, "body": "Ok, thanks. I&#39;ll also take this as a confirmation that its not bad practice to hold user hostage on screen while request is ongoing. I cant think of how other apps handle this. Ill just disable user interaction."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "reply_to_user": {"reputation": 884, "user_id": 9238288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbf252a32c63647e64ea7b1a534be4a?s=128&d=identicon&r=PG&f=1", "display_name": "jackw11111", "link": "https://stackoverflow.com/users/9238288/jackw11111"}, "edited": false, "score": 0, "creation_date": 1544762185, "post_id": 53773450, "comment_id": 94398566, "body": "@jackw11111 Using <code>NSURLSession</code> so I&#39;m sure there is a way. Just don&#39;t know the API well enough to say off the top. Perhaps queues would come into play here?"}, {"owner": {"reputation": 884, "user_id": 9238288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbf252a32c63647e64ea7b1a534be4a?s=128&d=identicon&r=PG&f=1", "display_name": "jackw11111", "link": "https://stackoverflow.com/users/9238288/jackw11111"}, "edited": false, "score": 0, "creation_date": 1544762279, "post_id": 53773450, "comment_id": 94398591, "body": "Yes, I agree with MadProgrammer, dialogbox with dark transparent overlay and a loading wheel, &#39;please wait...&#39;, etc, cancelling request could be sluggish."}, {"owner": {"reputation": 884, "user_id": 9238288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbf252a32c63647e64ea7b1a534be4a?s=128&d=identicon&r=PG&f=1", "display_name": "jackw11111", "link": "https://stackoverflow.com/users/9238288/jackw11111"}, "edited": false, "score": 0, "creation_date": 1544762521, "post_id": 53773450, "comment_id": 94398645, "body": "I&#39;m sure there is in docs. Have you looked into notificationcenter and observers?"}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1544763135, "post_id": 53773450, "comment_id": 94398803, "body": "Not enough if thats where you cancel requests."}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1544761597, "creation_date": 1544761053, "last_edit_date": 1544761597, "question_id": 53773450, "link": "https://stackoverflow.com/questions/53773450/how-to-manage-background-tasks-ios", "title": "How to manage background tasks iOS", "body": "<p>Lets say a user starts async request in <code>PageViewController</code> flow then dismisses. If they quickly bring back <code>PageViewController</code> it won't navigate to the correct page because an async request (that determines the next logical page to show) is underway. Is it standard to prevent the user from dismissing controller or asking them not to? If not, how do I manage background tasks, so I know to keep loading screen up and wait to navigate pages until last request completes and changes state/server side data?  </p>\n"}, {"tags": ["ios", "objective-c", "react-native", "react-native-native-module"], "comments": [{"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1544746137, "post_id": 53771167, "comment_id": 94395508, "body": "Have a look all answers here: <a href=\"https://stackoverflow.com/questions/10548429/convert-an-ios-objective-c-object-to-a-json-string\" title=\"convert an ios objective c object to a json string\">stackoverflow.com/questions/10548429/&hellip;</a> Might help you. Basicaly use a library to do it."}, {"owner": {"reputation": 18553, "user_id": 5508175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXjHS.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5508175/andrew"}, "edited": false, "score": 0, "creation_date": 1544807410, "post_id": 53771167, "comment_id": 94419696, "body": "I think you need to convert your person and address objects to dictionaries, and resolve them back to the JS side."}, {"owner": {"reputation": 3643, "user_id": 571319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3ab2a2a26b7fb242a7d6c63e8ce5c0d6?s=128&d=identicon&r=PG&f=1", "display_name": "Yahoo", "link": "https://stackoverflow.com/users/571319/yahoo"}, "reply_to_user": {"reputation": 18553, "user_id": 5508175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXjHS.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5508175/andrew"}, "edited": false, "score": 0, "creation_date": 1544813189, "post_id": 53771167, "comment_id": 94422075, "body": "@Andrew - Thanks for the comments, Is there any quick way to do it? ( Besisdes using a library, I see RCTConvert does the opposite thing)"}], "answers": [{"tags": [], "owner": {"reputation": 1110, "user_id": 8649945, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155712401424520/picture?type=large", "display_name": "Helmer Barcos", "link": "https://stackoverflow.com/users/8649945/helmer-barcos"}, "is_accepted": false, "score": 1, "last_activity_date": 1544833388, "last_edit_date": 1544833388, "creation_date": 1544832656, "answer_id": 53788407, "question_id": 53771167, "link": "https://stackoverflow.com/questions/53771167/passing-ios-objects-to-react-native/53788407#53788407", "title": "Passing iOS objects to React Native", "body": "<p>You <strong>can not</strong> send through the bridge <code>objects</code> with nested functions as properties of the same <code>object</code>. But you are able to send native <strong>functions/methods</strong>  declared in a self built module in <code>Objective-C</code> or <code>Swift</code>. </p>\n\n<p>I would recommend you to export a function <code>calculateAge()</code> in the native module. This function receives as parameter the JSON object <code>employee</code> a returns the desired age of this employee using <strong>callbacks or emitting events</strong> \nalthough I would use a construction with <strong><a href=\"https://facebook.github.io/react-native/docs/native-modules-ios#promises\" rel=\"nofollow noreferrer\">Promises</a></strong> for that. Also this function could be called when you want on the JS side. However write this kind of function on a native module would make no sense because you can perform the same logic on the JS side. </p>\n\n<p>Export a function in a native module would be useful if the logic needs extra data that only runs on the native side.</p>\n\n<p>Finally make sure that you export an <code>object (NSDictionary)</code> with string <strong>keys</strong> and <strong>values</strong> of any type from <a href=\"https://facebook.github.io/react-native/docs/native-modules-ios#argument-types\" rel=\"nofollow noreferrer\">this list</a>. So you need to convert the object <code>employeeList</code> to a JSON Object and delete nested functions from it in order to avoid compatibility problems.</p>\n"}], "owner": {"reputation": 3643, "user_id": 571319, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3ab2a2a26b7fb242a7d6c63e8ce5c0d6?s=128&d=identicon&r=PG&f=1", "display_name": "Yahoo", "link": "https://stackoverflow.com/users/571319/yahoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2431, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1617403877, "creation_date": 1544741302, "question_id": 53771167, "link": "https://stackoverflow.com/questions/53771167/passing-ios-objects-to-react-native", "title": "Passing iOS objects to React Native", "body": "<p>I have a object <code>employeeList</code> which contains objects <code>employee</code> and then each employee object has a <code>person</code> object and <code>address</code> object in it and <code>person and address</code> both contain <code>NSString</code> properties and well as a some function e.g.  <code>calculateAge()</code>. </p>\n\n<p>I want to pass this <code>employeeList</code> object from the Native side to the react native side but it come up as null, it is because it RN bridge will only send privimite data types. </p>\n\n<p><a href=\"https://facebook.github.io/react-native/docs/native-modules-ios#argument-types\" rel=\"nofollow noreferrer\">https://facebook.github.io/react-native/docs/native-modules-ios#argument-types</a></p>\n\n<p>What is the best way to convert employeeList to a JSON object or a nested map so that it can be viewed in the RN side? </p>\n"}, {"tags": ["ios", "objective-c", "file"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1544741975, "post_id": 53770864, "comment_id": 94394376, "body": "Is there a reason why <code>Settings</code>, <code>Tmp</code>, and <code>trash</code> need to be in the <code>Documents</code> folder at all, as opposed other folders (such as the application support directory)? See <a href=\"https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html#//apple_ref/doc/uid/TP40010672-CH2-SW28\" rel=\"nofollow noreferrer\">Where You Should Put Your App\u2019s Files</a>. Also see <a href=\"https://developer.apple.com/videos/play/tech-talks/204/\" rel=\"nofollow noreferrer\">iOS Storage Best Practices</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11931, "user_id": 2160144, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/zcIKd.jpg?s=128&g=1", "display_name": "Mehul Thakkar", "link": "https://stackoverflow.com/users/2160144/mehul-thakkar"}, "is_accepted": true, "score": 2, "last_activity_date": 1544772625, "last_edit_date": 1544772625, "creation_date": 1544770921, "answer_id": 53774892, "question_id": 53770864, "link": "https://stackoverflow.com/questions/53770864/share-specific-directory-in-apps-documents-with-files-app/53774892#53774892", "title": "Share Specific directory in app&#39;s Documents with Files app", "body": "<p>Before using file system of iOS, Please check the usage of different directories of the iOS file system. </p>\n\n<p>You can refer this link: <a href=\"https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html</a></p>\n\n<p>As per above link, apple has clearly mentioned that:</p>\n\n<p>For <strong>Documents</strong> Directory : It clearly says that <code>this directory should only contain files that you may wish to expose to the user.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/3Bbax.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Bbax.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you want something that should not be exposed to User, then dont use <code>Documents</code> directory, instead use <code>Library</code> directory for this.</p>\n\n<p>For <code>Library</code> directory: <code>Use the Library subdirectories for any files you don\u2019t want exposed to the user. Your app should not use these directories for user data files.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/m18Th.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m18Th.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here, see the following screenshot from above link, which says about which directory to use when?</p>\n\n<p><a href=\"https://i.stack.imgur.com/66ZAg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66ZAg.png\" alt=\"enter image description here\"></a></p>\n\n<p>In short, keep your root directories content in Document directory and move all other directory with their content to Library directory OR Library/Application Support Directory. So, your intended purpose will get fulfilled.</p>\n"}], "owner": {"reputation": 489, "user_id": 1644529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vIrWG.png?s=128&g=1", "display_name": "Porizm", "link": "https://stackoverflow.com/users/1644529/porizm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 53774892, "answer_count": 1, "score": 1, "last_activity_date": 1544772625, "creation_date": 1544739480, "question_id": 53770864, "link": "https://stackoverflow.com/questions/53770864/share-specific-directory-in-apps-documents-with-files-app", "title": "Share Specific directory in app&#39;s Documents with Files app", "body": "<p>I created an iOS app with file manager that browses inside subfolder in Documents.\nThe folders in app's documents are:</p>\n\n<ul>\n<li>Settings</li>\n<li>Root</li>\n<li>Tmp</li>\n<li>trash</li>\n</ul>\n\n<p>The app's file manager browses only inside \"Root\" folder. Other folders must be hidden to users and inaccessible.</p>\n\n<p>I want to share the \"Root\" folder with Files App that comes with iOS, so I added the following keys in info.plist:</p>\n\n<pre><code>&lt;key&gt;UIFileSharingEnabled&lt;/key&gt;\n&lt;true/&gt;\n&lt;key&gt;LSSupportsOpeningDocumentsInPlace&lt;/key&gt;\n&lt;true/&gt;\n</code></pre>\n\n<p>It worked, but all of the folders are exposed, I only want to expose \"Root\" folder.</p>\n\n<p>Is it possible to share a specific folder in Files app ?</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["ios", "objective-c", "if-statement", "nsmutabledictionary"], "comments": [{"owner": {"reputation": 2172, "user_id": 1026177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfTJu.jpg?s=128&g=1", "display_name": "kirander", "link": "https://stackoverflow.com/users/1026177/kirander"}, "edited": false, "score": 0, "creation_date": 1544731158, "post_id": 53768909, "comment_id": 94390256, "body": "How your strings are looks like? Is it array?"}], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1544731811, "post_id": 53769174, "comment_id": 94390524, "body": "I&#39;ve thought about this too, but seems strange I have to keep sending the dictionary over and over. However, this might be the best way."}, {"owner": {"reputation": 2172, "user_id": 1026177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfTJu.jpg?s=128&g=1", "display_name": "kirander", "link": "https://stackoverflow.com/users/1026177/kirander"}, "reply_to_user": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1544731904, "post_id": 53769174, "comment_id": 94390560, "body": "You send reference not all the dictionary. So it is safe to do like this."}, {"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1544732138, "post_id": 53769174, "comment_id": 94390669, "body": "Okay sounds good. I rewarded you the answer. Also, shouldn&#39;t I check length instead? It seems to be working, however after checking stackoverflow it seems people recommended your way."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 2, "creation_date": 1544732736, "post_id": 53769174, "comment_id": 94390928, "body": "<code>if (str.length &gt; 0)</code> is a bit simpler to write and subjectively easier to read. Anyway, assigning <code>nil</code> to dictionary is ignored."}], "tags": [], "owner": {"reputation": 2172, "user_id": 1026177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfTJu.jpg?s=128&g=1", "display_name": "kirander", "link": "https://stackoverflow.com/users/1026177/kirander"}, "is_accepted": true, "score": 2, "last_activity_date": 1544730870, "creation_date": 1544730870, "answer_id": 53769174, "question_id": 53768909, "link": "https://stackoverflow.com/questions/53768909/objective-c-a-cleaner-way-to-check-if-a-string-isnt-empty-before-creating-and/53769174#53769174", "title": "Objective C: A cleaner way to check if a string isn&#39;t empty before creating and assigning a string to a dictionary key?", "body": "<p>Something like this</p>\n\n<pre><code>- (void)updateDic:(NSMutableDictionary *)dic withString:(NSString *)str {\n    if (!str || [str isEqualToString:@\"\"]) {\n        return;\n    }\n\n    dic[str] = str;\n}\n</code></pre>\n\n<p>And then just iterate over all strings and use that method.</p>\n"}, {"tags": [], "owner": {"reputation": 1819, "user_id": 2091315, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d917f52b71a9937ef9db6e0baa97a248?s=128&d=identicon&r=PG", "display_name": "Fantini", "link": "https://stackoverflow.com/users/2091315/fantini"}, "is_accepted": false, "score": 2, "last_activity_date": 1544732273, "creation_date": 1544732273, "answer_id": 53769459, "question_id": 53768909, "link": "https://stackoverflow.com/questions/53768909/objective-c-a-cleaner-way-to-check-if-a-string-isnt-empty-before-creating-and/53769459#53769459", "title": "Objective C: A cleaner way to check if a string isn&#39;t empty before creating and assigning a string to a dictionary key?", "body": "<p>What I'd do is create a <code>NSMutableDictionary</code> category, something like this:</p>\n\n<p><code>NSMutableDictionary+CustomMethods.m:</code></p>\n\n<pre><code>- (void)setStringIfNotNil:(NSString *)string forKey:(id &lt;NSCopying&gt;)key {\n    if (!string || !string.length) { return; }\n    self[key] = string;\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>NSMutableDictionary *dictionary = [[NSMutableDictionary alloc] init];\n[dictionary setStringIfNotNil:test forKey:@\"test\"]\n[dictionary setStringIfNotNil:test1 forKey:@\"test1\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 8071408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632ea75cf48852b371230e3a6d130698?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Kharpodiya", "link": "https://stackoverflow.com/users/8071408/deepak-kharpodiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1544768492, "creation_date": 1544768492, "answer_id": 53774435, "question_id": 53768909, "link": "https://stackoverflow.com/questions/53768909/objective-c-a-cleaner-way-to-check-if-a-string-isnt-empty-before-creating-and/53774435#53774435", "title": "Objective C: A cleaner way to check if a string isn&#39;t empty before creating and assigning a string to a dictionary key?", "body": "<p>There are three ways according to me..\nThe first one use the category in which you have to write if condition only single time and you can use it in any class of your project.</p>\n\n<p>Second one by making a separate method to do that task(to check string nil or not and adding into the dictionary).</p>\n\n<p>And the third one , just add all in an array and and perform the action in a loop.</p>\n"}, {"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1545000615, "creation_date": 1545000615, "answer_id": 53807157, "question_id": 53768909, "link": "https://stackoverflow.com/questions/53768909/objective-c-a-cleaner-way-to-check-if-a-string-isnt-empty-before-creating-and/53807157#53807157", "title": "Objective C: A cleaner way to check if a string isn&#39;t empty before creating and assigning a string to a dictionary key?", "body": "<p>The syntax:</p>\n\n<pre><code>dictionary[@\"test\"] = test\n</code></pre>\n\n<p>will remove the value from the dictionary if test is nil (it's a difference between the normal -setObject:forKey: method and the -setObject:forKeyedSubcript: which that syntax invokes).  However, that will not work for empty strings.</p>\n\n<p>As mentioned in another answer, you could make an NSDictionary category method to check, then call that method instead.</p>\n\n<p>You could also just use the regular dictionary[key] = value syntax, then when you are done, do:</p>\n\n<pre><code>[dictionary removeObjectsForKeys:[dictionary allKeysForObject:@\"\"]];\n</code></pre>\n\n<p>If it's possible to have the keys repeated, and you don't want an empty string overriding an earlier valid valid, you would have to check each time -- either by the category method, or using a local macro or inline function or local method.</p>\n\n<pre><code>static inline void SetValidVal(NSMutableDictionary *dictionary, NSString *key, NSString *val) {\n    if (val.length) { dictionary[key] = val; }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#define MY_SET_VALID_VAL(dictionary, key, val) if ((val).length) dictionary[key] = (val)\n</code></pre>\n\n<p>If the key names need to be the same as the name of the local variable, you can play other games with macros (this also assumes the local variable name \"dictionary\":</p>\n\n<pre><code>#define MY_UPDATE_VAL(val) if (val.length) dictionary[@#val] = (val)\n</code></pre>\n\n<p>Then MY_UPDATE_VAL(test1); would expand to:</p>\n\n<pre><code>if (test1.length) dictionary[@\"test1\"] = test1;\n</code></pre>\n\n<p>That's a bit magic though and probably not recommended.</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 53769174, "answer_count": 4, "score": 1, "last_activity_date": 1545000615, "creation_date": 1544729745, "last_edit_date": 1544730801, "question_id": 53768909, "link": "https://stackoverflow.com/questions/53768909/objective-c-a-cleaner-way-to-check-if-a-string-isnt-empty-before-creating-and", "title": "Objective C: A cleaner way to check if a string isn&#39;t empty before creating and assigning a string to a dictionary key?", "body": "<p>I am creating an <code>NSMutableDictionary</code> and assigning an NSString (test and test1) to a parameter key.</p>\n\n<pre><code>  NSMutableDictionary *dictionary = [[NSMutableDictionary alloc] init];\n\n  if (test.length) {\n      dictionary[@\"test\"] = test;\n  }\n\n  if (test1.length) {\n      dictionary[@\"test1\"] = test1;\n  }\n</code></pre>\n\n<p>This method does work. However, I am going to eventually have more strings and don't want a bunch of if statements. I don't want the dictionary keys to exist if the string is empty or nil. </p>\n\n<p>Not sure if there is a way around this.</p>\n\n<p>I thought about creating a separate function that accepts an array of key string and array of string values and use a for loop to see if string value is empty. Then, return a dictionary once the for loop ends. However, you can't insert nil into an NSArray</p>\n"}, {"tags": ["ios", "objective-c", "delphi", "firemonkey"], "comments": [{"owner": {"reputation": 2661, "user_id": 3164070, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5woQK.jpg?s=128&g=1", "display_name": "Dave Nottage", "link": "https://stackoverflow.com/users/3164070/dave-nottage"}, "edited": false, "score": 1, "creation_date": 1544732070, "post_id": 53768527, "comment_id": 94390635, "body": "A more complete example might help. You&#39;re not showing how you&#39;re calling offerForConstraints, nor what you are passing for completionHandler."}, {"owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 2, "creation_date": 1544734404, "post_id": 53768527, "comment_id": 94391605, "body": "AFAIK, a &quot;procedure <b>of object</b>&quot; is not compatible as a <i>direct</i> callback for an Objective-C API. You will need to use a suitable wrapper procedure of proper signature and have it then call your object <code>procedure</code> internally."}, {"owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "reply_to_user": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1544764106, "post_id": 53768527, "comment_id": 94399001, "body": "@RemyLebeau: Do you have an example of such wrapper?"}], "owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544766384, "creation_date": 1544727862, "last_edit_date": 1544766384, "question_id": 53768527, "link": "https://stackoverflow.com/questions/53768527/objective-c-completion-handler-to-delphi", "title": "Objective-c Completion handler to Delphi", "body": "<p>In Objective-c header I have this :</p>\n\n<pre><code>- (void)offerForConstraints:(RTCMediaConstraints *)constraints\n          completionHandler:(nullable void (^)(RTCSessionDescription *_Nullable sdp,\n                                               NSError *_Nullable error))completionHandler;\n</code></pre>\n\n<p>That I translate like this: </p>\n\n<pre><code>type\n\n  TWebRTCPeerConnectionOfferForConstraintsCompletionHandler = \n    procedure(sdp: RTCSessionDescription; error: NSError) of object;\n\nprocedure offerForConstraints(\n  constraints: RTCMediaConstraints; \n  completionHandler: TWebRTCPeerConnectionOfferForConstraintsCompletionHandler); cdecl;\n</code></pre>\n\n<p>But every time I call <code>offerForConstraints</code> I Have :</p>\n\n<blockquote>\n  <p><strong>Access violation</strong> at address 0000000183398910, accessing address\n  000000004D555468 At address: $0000000183398910 (<strong>objc_msgSend</strong> + 16)</p>\n</blockquote>\n\n<p>sometimes I also have this error:</p>\n\n<blockquote>\n  <p>-[__NSCFDictionary offerForConstraints:completionHandler:]: unrecognized selector sent to instance 0x1c0271b40</p>\n</blockquote>\n\n<p>or this one:</p>\n\n<blockquote>\n  <p>-[_CFXNotificationObserverRegistration offerForConstraints:completionHandler:]: unrecognized selector sent to\n  instance 0x1c4273a40</p>\n</blockquote>\n\n<p>Any idea what going wrong?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa-bindings"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1544711404, "post_id": 53763968, "comment_id": 94379802, "body": "What is the question, how to add a checkbox, how to connect the checkbox to an action method or how to select the children? Do you want to store the value of the checkbox? Do you want to select the rows of the children or do you want to select the checkboxes of the children?"}, {"owner": {"reputation": 13, "user_id": 3542418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297f72975d4d7341e6626cf13a35085?s=128&d=identicon&r=PG&f=1", "display_name": "user3542418", "link": "https://stackoverflow.com/users/3542418/user3542418"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1544713029, "post_id": 53763968, "comment_id": 94380875, "body": "How to select/unselect checkboxes of the children when parent checkbox is select/unselect"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1544716559, "post_id": 53763968, "comment_id": 94383169, "body": "Is the value of the checkbox stored in the data?"}, {"owner": {"reputation": 13, "user_id": 3542418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297f72975d4d7341e6626cf13a35085?s=128&d=identicon&r=PG&f=1", "display_name": "user3542418", "link": "https://stackoverflow.com/users/3542418/user3542418"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1544717608, "post_id": 53763968, "comment_id": 94383732, "body": "I&#39;ve added to basenode class a BOOL property called selected. I&#39;ve removed the outlinedatasourcedelegate. Now i&#39;m using data bindings. That&#39;s work good, but now i can&#39;t figure out how to works checkbox with parent/children"}, {"owner": {"reputation": 13, "user_id": 3542418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297f72975d4d7341e6626cf13a35085?s=128&d=identicon&r=PG&f=1", "display_name": "user3542418", "link": "https://stackoverflow.com/users/3542418/user3542418"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1544779193, "post_id": 53763968, "comment_id": 94404462, "body": "I&#39;m working in objective c."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3542418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297f72975d4d7341e6626cf13a35085?s=128&d=identicon&r=PG&f=1", "display_name": "user3542418", "link": "https://stackoverflow.com/users/3542418/user3542418"}, "edited": false, "score": 0, "creation_date": 1544792723, "post_id": 53777878, "comment_id": 94411791, "body": "Thanks, this code works good, but now if I&#39;ve another parent to the child, that will not be selected. Look the picture <a href=\"https://imgur.com/a/3dctuKa\" rel=\"nofollow noreferrer\">imgur.com/a/3dctuKa</a>"}, {"owner": {"reputation": 13, "user_id": 3542418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297f72975d4d7341e6626cf13a35085?s=128&d=identicon&r=PG&f=1", "display_name": "user3542418", "link": "https://stackoverflow.com/users/3542418/user3542418"}, "edited": false, "score": 0, "creation_date": 1544797199, "post_id": 53777878, "comment_id": 94414278, "body": "I solved replacing node.children to node.descendants. Now the next step is when all checkbox are checked and if i uncheck one, the parent checkbox should become in mixedstate mode"}], "tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 0, "last_activity_date": 1544783304, "creation_date": 1544783304, "answer_id": 53777878, "question_id": 53763968, "link": "https://stackoverflow.com/questions/53763968/nsoutlineview-with-checkbox/53777878#53777878", "title": "NSOutlineview with checkbox", "body": "<p>Connect the action of the checkbox to an action method of the delegate of the outline view. In the action method, set the property of the child nodes and reload the item and children.</p>\n\n<pre><code>- (IBAction)checkboxAction:(id)sender {\n    NSInteger row = [self.myOutlineView rowForView:sender];\n    if (row &gt;= 0) {\n        id item = [self.myOutlineView itemAtRow:row];\n        if ([item isKindOfClass:[NSTreeNode class]]) {\n            BaseNode *node = [item representedObject];\n            if ([node isKindOfClass:[BaseNode class]]) {\n                for (BaseNode *child in node.children)\n                    child.isSelected = node.isSelected;\n                [self.myOutlineView reloadItem:item reloadChildren:YES];\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3542418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297f72975d4d7341e6626cf13a35085?s=128&d=identicon&r=PG&f=1", "display_name": "user3542418", "link": "https://stackoverflow.com/users/3542418/user3542418"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 53777878, "answer_count": 1, "score": -1, "last_activity_date": 1544783304, "creation_date": 1544710922, "last_edit_date": 1544711428, "question_id": 53763968, "link": "https://stackoverflow.com/questions/53763968/nsoutlineview-with-checkbox", "title": "NSOutlineview with checkbox", "body": "<p>I am looking to add checkboxes to NSOutlineview with bindings using\u00a0as the basis this project <a href=\"https://developer.apple.com/library/archive/samplecode/SourceView/Introduction/Intro.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/samplecode/SourceView/Introduction/Intro.html</a></p>\n\n<p>How do I add the behavour to allow users whereby if I click a parent checkbox, then it will select the children, and if I unclick it - it will deselect the children of that item?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "scroll"], "comments": [{"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 1, "creation_date": 1544710903, "post_id": 53763782, "comment_id": 94379476, "body": "A couple of minor improvements would be: use <code>dequeueReusableCellWithIdentifier:forIndexPath:</code> so you don&#39;t have to test for a nil cell, and store the result of <code>[UIImage imageNamed:@&quot;image&quot;]</code> in an instance variable so you don&#39;t repeat cache lookups.  Other than that, I suggest using Instruments to investigate what&#39;s happening during the slowdown."}, {"owner": {"reputation": 2665, "user_id": 4610512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/o1X2W.jpg?s=128&g=1", "display_name": "Shoeb Siddique", "link": "https://stackoverflow.com/users/4610512/shoeb-siddique"}, "reply_to_user": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1544710932, "post_id": 53763782, "comment_id": 94379491, "body": "@PhillipMills - Ok let me check."}], "answers": [{"comments": [{"owner": {"reputation": 2665, "user_id": 4610512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/o1X2W.jpg?s=128&g=1", "display_name": "Shoeb Siddique", "link": "https://stackoverflow.com/users/4610512/shoeb-siddique"}, "edited": false, "score": 0, "creation_date": 1544711744, "post_id": 53764186, "comment_id": 94379997, "body": "Ok let me check."}], "tags": [], "owner": {"reputation": 2172, "user_id": 1026177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfTJu.jpg?s=128&g=1", "display_name": "kirander", "link": "https://stackoverflow.com/users/1026177/kirander"}, "is_accepted": false, "score": 1, "last_activity_date": 1544711619, "creation_date": 1544711619, "answer_id": 53764186, "question_id": 53763782, "link": "https://stackoverflow.com/questions/53763782/tableview-laggy-issue-ios-objective-c/53764186#53764186", "title": "TableView Laggy Issue | iOS-Objective C", "body": "<p>First of all, you need to set background color on <em>contentView</em> of a cell, not on cell itself. Another thing you can do is to setup a cell in <strong>tableView:willDisplayCell:forRowAtIndexPath:</strong> and leave in <strong>tableView:cellForRowAtIndexPath:</strong> just initialization.</p>\n"}], "owner": {"reputation": 2665, "user_id": 4610512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/o1X2W.jpg?s=128&g=1", "display_name": "Shoeb Siddique", "link": "https://stackoverflow.com/users/4610512/shoeb-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1544711619, "creation_date": 1544710313, "last_edit_date": 1544711287, "question_id": 53763782, "link": "https://stackoverflow.com/questions/53763782/tableview-laggy-issue-ios-objective-c", "title": "TableView Laggy Issue | iOS-Objective C", "body": "<p>I've created a plain <code>TableView</code> but when i scroll the tableview for certain amount of time like 5 mins on same screen, then after that it starts been looking very laggy scroll.</p>\n\n<p>Here is my code snippet - </p>\n\n<p><strong>TableView Delegates:-</strong></p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *CellIdentifier = @\"newFriendCell\";\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n\n    if (cell == nil) {\n        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];\n    }\n\n    cell.imageView.image = [UIImage imageNamed:@\"image\"];\n    cell.textLabel.text = @\"Text cell\";\n    cell.backgroundColor = [UIColor greenColor];\n    return cell;\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForHeaderInSection:(NSInteger)section\n{\n    return 50;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    return 1;\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    return 400;\n}\n\n-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView\n{\n    return 200;\n}\n</code></pre>\n\n<blockquote>\n  <p>NOTE - I need to integrate multi type cell in tableView</p>\n</blockquote>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10384633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thxd2.jpg?s=128&g=1", "display_name": "Georg Seifert", "link": "https://stackoverflow.com/users/10384633/georg-seifert"}, "reply_to_user": {"reputation": 107, "user_id": 4026356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hU0jo.jpg?s=128&g=1", "display_name": "Malarkey86", "link": "https://stackoverflow.com/users/4026356/malarkey86"}, "edited": false, "score": 0, "creation_date": 1544705942, "post_id": 53762088, "comment_id": 94376420, "body": "And don\u2019t forget the <code>@synthesize</code> in the implementation."}, {"owner": {"reputation": 1171, "user_id": 5198294, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fTUYp.jpg?s=128&g=1", "display_name": "Joyal Clifford", "link": "https://stackoverflow.com/users/5198294/joyal-clifford"}, "edited": false, "score": 1, "creation_date": 1544706092, "post_id": 53762088, "comment_id": 94376528, "body": "Eyes *eyes = [Eyes new];     eyes.color = @&quot;Blue&quot;;     eyes.size = @0.4f;     f.eyes = eyes; It will works"}, {"owner": {"reputation": 107, "user_id": 4026356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hU0jo.jpg?s=128&g=1", "display_name": "Malarkey86", "link": "https://stackoverflow.com/users/4026356/malarkey86"}, "reply_to_user": {"reputation": 1171, "user_id": 5198294, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fTUYp.jpg?s=128&g=1", "display_name": "Joyal Clifford", "link": "https://stackoverflow.com/users/5198294/joyal-clifford"}, "edited": false, "score": 0, "creation_date": 1544706520, "post_id": 53762088, "comment_id": 94376803, "body": "yeeah! @JoyalClifford  You do it nice! Thank you very much"}], "tags": [], "owner": {"reputation": 71, "user_id": 10384633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thxd2.jpg?s=128&g=1", "display_name": "Georg Seifert", "link": "https://stackoverflow.com/users/10384633/georg-seifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1544706043, "last_edit_date": 1544706043, "creation_date": 1544704888, "answer_id": 53762088, "question_id": 53761815, "link": "https://stackoverflow.com/questions/53761815/how-set-value-to-custom-object-property-which-is-as-property-from-another-custom/53762088#53762088", "title": "How set value to custom object property which is as property from another custom object", "body": "<p>You need to retain the content of the properties. </p>\n\n<pre><code>@interface Face : NSObject\n@property (nonatomic, strong) long idO;\n@property (nonatomic, strong) NSString *text;\n@property (nonatomic, strong) Eyes *eyes;\n@end\n\n@interface Eyes : NSObject\n@property(nonatomic, strong) NSString *color;\n@property(nonatomic, strong) NSNumber *size;\n@end\n\n\n@implementation Face\n@synthesize idO;\n@synthesize text;\n@synthesize eyes;\n@end\n\n@implementation Eyes \n@synthesize color;\n@synthesize size;\n@end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 7055487, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/cRO5N.jpg?s=128&g=1", "display_name": "Hichem Romdhane", "link": "https://stackoverflow.com/users/7055487/hichem-romdhane"}, "is_accepted": false, "score": 3, "last_activity_date": 1544706111, "last_edit_date": 1544706111, "creation_date": 1544705457, "answer_id": 53762281, "question_id": 53761815, "link": "https://stackoverflow.com/questions/53761815/how-set-value-to-custom-object-property-which-is-as-property-from-another-custom/53762281#53762281", "title": "How set value to custom object property which is as property from another custom object", "body": "<p>You need to retain the content or Archiving :</p>\n\n<p><a href=\"https://developer.apple.com/documentation/objectivec/nsobject?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/objectivec/nsobject?language=objc</a></p>\n\n<pre><code>  @inerface Face : NSObject\n  @property (nonatomic, retain) long idO;\n  @property (nonatomic, retain) NSString *text;\n  @property (nonatomic, retain) Eyes *eyes;\n  @end\n\n  @interface Eyes : NSObject\n  @property(nonatomic, retain) NSString *color;\n  @property(nonatomic, retain) NSNumber *size;\n  @end\n</code></pre>\n\n<p>and add init method in NSObject</p>\n\n<pre><code>  - (id)init\n\n  {\n\n  if (self = [super init]) {\n\n    self.eyes = [[Eyes alloc]init];\n\n    return self;\n\n\n   } else {\n\n    return nil;\n    }\n  } \n</code></pre>\n\n<p>Happy Coding ;)</p>\n"}, {"comments": [{"owner": {"reputation": 4613, "user_id": 488611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OIIzt.png?s=128&g=1", "display_name": "James P", "link": "https://stackoverflow.com/users/488611/james-p"}, "reply_to_user": {"reputation": 107, "user_id": 4026356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hU0jo.jpg?s=128&g=1", "display_name": "Malarkey86", "link": "https://stackoverflow.com/users/4026356/malarkey86"}, "edited": false, "score": 1, "creation_date": 1544718541, "post_id": 53762563, "comment_id": 94384297, "body": "@Malarkey86 You&#39;ll still want to change your object properties to be strong references, otherwise you&#39;ll crash when you try and access them again."}], "tags": [], "owner": {"reputation": 1171, "user_id": 5198294, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fTUYp.jpg?s=128&g=1", "display_name": "Joyal Clifford", "link": "https://stackoverflow.com/users/5198294/joyal-clifford"}, "is_accepted": true, "score": 2, "last_activity_date": 1544706370, "creation_date": 1544706370, "answer_id": 53762563, "question_id": 53761815, "link": "https://stackoverflow.com/questions/53761815/how-set-value-to-custom-object-property-which-is-as-property-from-another-custom/53762563#53762563", "title": "How set value to custom object property which is as property from another custom object", "body": "<pre><code>Face *f  = [[Face alloc] init]; // Face is Initialization \nf.text = @\"trying\";\nf.eyes.color = @\"Blue\"; // Eyes is not \nf.eyes.size = 0.4f; \n\nNSLog(@\"%@ - %@ - %@ \", f.text, f.eyes.color, f.eyes.size);\n</code></pre>\n\n<p>(null) - (null) for both instance variable is null due to Object is not init.</p>\n\n<hr>\n\n<p>try with </p>\n\n<pre><code>Face *f  = [Face new];\n    f.text = @\"trying\";\n    Eyes *eyes = [Eyes new];\n    eyes.color = @\"Blue\";\n    eyes.size = @0.4f;\n    f.eyes = eyes;\n//    f.eyes.color = @\"Blue\";\n//    f.eyes.size = @0.4f;\n    NSLog(@\"%@ - %@ \", f.text, f.eyes.color)\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4026356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hU0jo.jpg?s=128&g=1", "display_name": "Malarkey86", "link": "https://stackoverflow.com/users/4026356/malarkey86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 53762563, "answer_count": 3, "score": 0, "last_activity_date": 1544706370, "creation_date": 1544703908, "question_id": 53761815, "link": "https://stackoverflow.com/questions/53761815/how-set-value-to-custom-object-property-which-is-as-property-from-another-custom", "title": "How set value to custom object property which is as property from another custom object", "body": "<p>This is what I have,</p>\n\n<pre><code>@inerface Face : NSObject    \n   @property (nonatomic, assign) long idO;\n   @property (nonatomic, assign) NSString *text;\n   @property (nonatomic, assign) Eyes *eyes;\n@end\n\n@interface Eyes : NSObject\n   @property(nonatomic, assign) NSString *color;\n   @property(nonatomic, assign) NSNumber *size;\n@end\n</code></pre>\n\n<p>Then I want to do that:</p>\n\n<pre><code>Face *f  = [[Face alloc] init];\nf.text = @\"trying\";\nf.eyes.color = @\"Blue\";\nf.eyes.size = 0.4f;\nNSLog(@\"%@ - %@ - %@ \", f.text, f.eyes.color, f.eyes.size);\n</code></pre>\n\n<p>But I only get: \"trying - (null) - (null)\". How can I do it works?</p>\n"}, {"tags": ["ios", "objective-c", "nsdateformatter"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1544728260, "post_id": 53759560, "comment_id": 94388963, "body": "Set the formatter&#39;s locale to <code>en_US_POSIX</code> whenever you want a fixed format like this. Hopefully the result is not something you are showing the user but sending to a server or something similar."}, {"owner": {"reputation": 1, "user_id": 5487670, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XY7hbkNc91Q/AAAAAAAAAAI/AAAAAAAAACQ/FFbre7NVveo/photo.jpg?sz=128", "display_name": "giang l&#234; xu&#226;n", "link": "https://stackoverflow.com/users/5487670/giang-l%c3%aa-xu%c3%a2n"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1544761400, "post_id": 53759560, "comment_id": 94398437, "body": "yes, the result sending to a server"}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1544728418, "post_id": 53760344, "comment_id": 94389031, "body": "Why are you setting the date formatter&#39;s locale to <code>ja_JP</code> if that isn&#39;t the current locale? That&#39;s kind of the opposite of the needed solution."}], "tags": [], "owner": {"reputation": 2539, "user_id": 3515115, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/oI1Ct.jpg?s=128&g=1", "display_name": "Kamlesh Shingarakhiya", "link": "https://stackoverflow.com/users/3515115/kamlesh-shingarakhiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1544698802, "creation_date": 1544698802, "answer_id": 53760344, "question_id": 53759560, "link": "https://stackoverflow.com/questions/53759560/how-to-remove-kanji-characters-in-datetime-formatter-locale-jp/53760344#53760344", "title": "How to remove kanji characters in datetime formatter locale JP?", "body": "<p>Try this</p>\n\n<pre><code>NSDateFormatter *stringFormatter = [[NSDateFormatter alloc] init];\n    NSLocale *locale = [NSLocale currentLocale];\n\n    NSLocale *ja;\n\n    if ([[locale localeIdentifier] rangeOfString:@\"ja_JP\"].location == NSNotFound) {\n        ja = [[NSLocale alloc] initWithLocaleIdentifier:@\"ja_JP\"];\n        [stringFormatter setLocale:ja];\n    }else{\n        ja = [NSLocale currentLocale];\n    }\n\n    [stringFormatter setTimeZone:[NSTimeZone timeZoneWithName:@\"Asia/Tokyo\"]];\n    [stringFormatter setDateFormat:@\"yyyyMMddHHmmss\"];\n\n    NSString * strdate = [stringFormatter stringFromDate:[NSDate date]];\n\n    NSLog(@\"%@\", strdate);\n</code></pre>\n\n<p>It will get like this</p>\n\n<pre><code>20181213195829\n</code></pre>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 1, "user_id": 5487670, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XY7hbkNc91Q/AAAAAAAAAAI/AAAAAAAAACQ/FFbre7NVveo/photo.jpg?sz=128", "display_name": "giang l&#234; xu&#226;n", "link": "https://stackoverflow.com/users/5487670/giang-l%c3%aa-xu%c3%a2n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544821076, "creation_date": 1544696307, "last_edit_date": 1544821076, "question_id": 53759560, "link": "https://stackoverflow.com/questions/53759560/how-to-remove-kanji-characters-in-datetime-formatter-locale-jp", "title": "How to remove kanji characters in datetime formatter locale JP?", "body": "<pre><code>NSDateFormatter *stringFormatter = [[NSDateFormatter alloc] init];\nNSLocale *locale = [NSLocale currentLocale];\n\nNSLocale *ja;\n\nif ([[locale localeIdentifier] rangeOfString:@\"ja_JP\"].location == NSNotFound) {\n    ja = [[NSLocale alloc] initWithLocaleIdentifier:@\"ja_JP\"];\n    [stringFormatter setLocale:ja];\n}else{\n    ja = [NSLocale currentLocale];\n}\n\n[stringFormatter setTimeZone:[NSTimeZone timeZoneWithName:@\"Asia/Tokyo\"]];\n[stringFormatter setDateFormat:@\"yyyyMMddHHmmss\"];\n</code></pre>\n\n<p>Sometimes it return results like this: 20190211\u5348\u5f8c. I want to keep locale in Japan, but remove \u5348\u5f8c in result. The result should be: 20190211152022.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1544694027, "post_id": 53758757, "comment_id": 94369776, "body": "<code>-(void)applyCornerRadius:(CGFloat)value onView:(UIView *)view { view.layer.cornerRadius = 10; view.clipsToBound = YES; }</code> and <code>NSArray *views = @[appExclusiveButton, emailDealButton, etc.]; for (UIView *aView in views) { [self applyCornerRadius:10 onView:aView]; }</code>, or something like that? <code>applyCornerRadius:onView:</code> could be a <code>UIView</code> extension, etc."}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1544694059, "post_id": 53758757, "comment_id": 94369793, "body": "You must need to do it multiple times. If you think code is heavy. Then do this in story board. Set corner radius at run time attributes.  You can create custom extension button class. But right now as per your requirement no need it."}, {"owner": {"reputation": 4613, "user_id": 488611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OIIzt.png?s=128&g=1", "display_name": "James P", "link": "https://stackoverflow.com/users/488611/james-p"}, "edited": false, "score": 1, "creation_date": 1544694593, "post_id": 53758757, "comment_id": 94370096, "body": "You could also consider making a custom class for your button, or a category that returns a new configured button."}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 8071408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632ea75cf48852b371230e3a6d130698?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Kharpodiya", "link": "https://stackoverflow.com/users/8071408/deepak-kharpodiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1544694031, "creation_date": 1544694031, "answer_id": 53758887, "question_id": 53758757, "link": "https://stackoverflow.com/questions/53758757/how-can-i-clean-up-this-objective-c-cornerradius-code/53758887#53758887", "title": "How can I clean up this Objective C cornerRadius code?", "body": "<p>By using category class of uibutton. Just make a category class of uibutton add your method to add the radius and all want to add on button. And just import that class in your class and call the method.</p>\n"}, {"tags": [], "owner": {"reputation": 380, "user_id": 9988514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mhgeo.png?s=128&g=1", "display_name": "Rainer Schwarz", "link": "https://stackoverflow.com/users/9988514/rainer-schwarz"}, "is_accepted": false, "score": 3, "last_activity_date": 1544695221, "last_edit_date": 1544695221, "creation_date": 1544694089, "answer_id": 53758910, "question_id": 53758757, "link": "https://stackoverflow.com/questions/53758757/how-can-i-clean-up-this-objective-c-cornerradius-code/53758910#53758910", "title": "How can I clean up this Objective C cornerRadius code?", "body": "<p>Simple way to apply <code>cornerRadius</code> and <code>clipsToBounds</code> to all buttons is to make an array, in which you put all your buttons. Then loop through the buttons in your array and apply values for the desired properties.</p>\n\n<p>Example use:</p>\n\n<pre><code>for (UIButton *button in buttonArray) {\n    button.layer.cornerRadius = 10;\n    button.clipsToBounds = YES:\n}\n</code></pre>\n\n<p>You can combine this approach with the answer of <a href=\"https://stackoverflow.com/a/53758888/9988514\">Sanjukta</a> and write a method that sets <code>cornerRadius</code> and <code>clipsToBounds</code> (or any other property) for your buttons.</p>\n"}, {"comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1544725640, "post_id": 53759655, "comment_id": 94387891, "body": "If you&#39;re going to add a category to a system class (generally not a great pattern to start with), at least prefix your methods with something, as recommended."}, {"owner": {"reputation": 4613, "user_id": 488611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OIIzt.png?s=128&g=1", "display_name": "James P", "link": "https://stackoverflow.com/users/488611/james-p"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1544735541, "post_id": 53759655, "comment_id": 94392093, "body": "@bbum good point about the naming, I meant this as just an example of how it could be done, didn\u2019t think too hard about method names. But why shouldn\u2019t you add a category to a system class?"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1544740730, "post_id": 53759655, "comment_id": 94393968, "body": "It creates layering issues that are a maintenance nightmare over time.   Effectively, you&#39;re creating a layer on top of each framework that you add a category too."}, {"owner": {"reputation": 4613, "user_id": 488611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OIIzt.png?s=128&g=1", "display_name": "James P", "link": "https://stackoverflow.com/users/488611/james-p"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1544787700, "post_id": 53759655, "comment_id": 94409227, "body": "I think calling categories a maintenance nightmare is a bit over the top, I&#39;ve literally never had a problem like that on any size project. Even naming clashes are pretty unlikely, although I agree it&#39;s best practice to use prefixes."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1544855329, "post_id": 53759655, "comment_id": 94431426, "body": "The naming clashes are over the top until you have one.  Like, for example, -addObjectIfAbsent:.   That was a fiasco and a half that made dozens of WebObjects based sites corrupt data at the most surprising time.  And the layering issue is very real;  can&#39;t tell you how many hours of the 30+ years I&#39;ve spent programming ObjC that has had to detangle layering issues.  Make refactoring a giant pain in the ass.   There is a reason why we devoted a part of a session at WWDC a decade ago to discourage people from using categories."}], "tags": [], "owner": {"reputation": 4613, "user_id": 488611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OIIzt.png?s=128&g=1", "display_name": "James P", "link": "https://stackoverflow.com/users/488611/james-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1544696627, "creation_date": 1544696627, "answer_id": 53759655, "question_id": 53758757, "link": "https://stackoverflow.com/questions/53758757/how-can-i-clean-up-this-objective-c-cornerradius-code/53759655#53759655", "title": "How can I clean up this Objective C cornerRadius code?", "body": "<p>I would create a <code>UIButton</code> category that allows you to set the corner radius.\nYou could either create a factory method that returns a new button with rounded corners, or one that applies rounded corners to an existing button.</p>\n\n<p>Here's an example that does both:</p>\n\n<pre><code>//  UIButton+RoundedCorners.h\n@interface UIButton (RoundedCorners)\n\n+(instancetype)buttonWithRoundedCorners;\n-(void)addRoundedCorners;\n\n@end\n\n\n//  UIButton+RoundedCorners.m\n@implementation UIButton (RoundedCorners)\n\n+(instancetype)buttonWithRoundedCorners {\n    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];\n    button.layer.cornerRadius = 10;\n    button.clipsToBounds = YES;\n    return button;\n}\n\n\n-(void)addRoundedCorners {\n    self.layer.cornerRadius = 10;\n    self.clipsToBounds = YES;\n}\n\n@end\n</code></pre>\n\n<p>Then if you import the category you can use it like this:</p>\n\n<pre><code> UIButton *myButton = [UIButton buttonWithRoundedCorners];\n</code></pre>\n\n<p>or </p>\n\n<pre><code>UIButton *myButton = [UIButton buttonWithType:UIButtonTypeCustom];\n[myButton addRoundedCorners];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 1499796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6be5d507cb0b61350388941b463c9923?s=128&d=identicon&r=PG", "display_name": "Wasserfloh", "link": "https://stackoverflow.com/users/1499796/wasserfloh"}, "is_accepted": false, "score": 0, "last_activity_date": 1544696685, "creation_date": 1544696685, "answer_id": 53759676, "question_id": 53758757, "link": "https://stackoverflow.com/questions/53758757/how-can-i-clean-up-this-objective-c-cornerradius-code/53759676#53759676", "title": "How can I clean up this Objective C cornerRadius code?", "body": "<p>Just subclass UIButton, put your style code there\ni.e.</p>\n\n<pre><code>self.layer.cornerRadius = 10;\n</code></pre>\n\n<p>And then instantiate your own UIButton class.</p>\n"}, {"tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1544746889, "creation_date": 1544746889, "answer_id": 53771919, "question_id": 53758757, "link": "https://stackoverflow.com/questions/53758757/how-can-i-clean-up-this-objective-c-cornerradius-code/53771919#53771919", "title": "How can I clean up this Objective C cornerRadius code?", "body": "<p>I like the answer by Rainer (i do this too sometimes). But looping thru controls can be messy especially when the buttons are places in multiple views. I guess the refactor way is to create a method to do 2 things at once and supplying the button to the method, like so:</p>\n\n<pre><code>-(void)stylizeButton:(UIButton*)btn {\n  btn.layer.cornerRadius = 10.0f;\n  btn.clipsToBounds = YES;\n}\n</code></pre>\n\n<p>Then,</p>\n\n<pre><code>[self stylizeButton:appExclusivesButton];\n[self stylizeButton:emailDealButton];\n[self stylizeButton:dotwButton];\n[self stylizeButton:exclusiveButtonl];\n[self stylizeButton:clearanceButton];\n[self stylizeButton:harlowButton];\n[self stylizeButton:walthamstowButton];\n[self stylizeButton:leytonButton];\n[self stylizeButton:loughtonButton];\n</code></pre>\n\n<p>Still a bit repetitive but more organized.</p>\n\n<p>Alternatively you can consider making your own custom button where you can\nadd and stylize in Storyboard. Tutorial here: <a href=\"https://www.sitepoint.com/creating-custom-ui-components-live-rendering-xcode/\" rel=\"nofollow noreferrer\">https://www.sitepoint.com/creating-custom-ui-components-live-rendering-xcode/</a></p>\n"}], "owner": {"reputation": 21, "user_id": 2129876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/302f7a5a940a0d6cb782c1cc1301f2ba?s=128&d=identicon&r=PG", "display_name": "Cowlinn", "link": "https://stackoverflow.com/users/2129876/cowlinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1544876706, "creation_date": 1544693604, "last_edit_date": 1544876706, "question_id": 53758757, "link": "https://stackoverflow.com/questions/53758757/how-can-i-clean-up-this-objective-c-cornerradius-code", "title": "How can I clean up this Objective C cornerRadius code?", "body": "<p>I am doing the same thing multiple times to different buttons. This is my current code, how can I clean it up to apply this same styling in one go? </p>\n\n<p>Thank you!</p>\n\n<pre><code>appExclusivesButton.layer.cornerRadius = 10;\nappExclusivesButton.clipsToBounds = YES;\n\nemailDealButton.layer.cornerRadius = 10;\nemailDealButton.clipsToBounds = YES;\n\ndotwButton.layer.cornerRadius = 10;\ndotwButton.clipsToBounds = YES;\n\nexclusiveButtonl.layer.cornerRadius = 10;\nexclusiveButtonl.clipsToBounds = YES;\n\nclearanceButton.layer.cornerRadius = 10;\nclearanceButton.clipsToBounds = YES;\n\n\nharlowButton.layer.cornerRadius = 10;\nharlowButton.clipsToBounds = YES;\nwalthamstowButton.layer.cornerRadius = 10;\nwalthamstowButton.clipsToBounds = YES;\nleytonButton.layer.cornerRadius = 10;\nleytonButton.clipsToBounds = YES;\nloughtonButton.layer.cornerRadius = 10;\nloughtonButton.clipsToBounds = YES;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "mpmediaquery"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1544700377, "post_id": 53758279, "comment_id": 94373408, "body": "<code>MPMediaQuery *allAlbums = [[MPMediaQuery alloc] init];</code> But that is not a query for albums! <i>Where is your albums query?</i>"}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1544748025, "post_id": 53758279, "comment_id": 94395936, "body": "I can switch it for albums query, it gives me a shorter list of nulls, which I geuss mean its calling a list of albums, but they are still null none the less"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1544748269, "post_id": 53758279, "comment_id": 94395976, "body": "Well I don&#39;t know what your new code looks like. My online book contains some Objective-C code that shows how to perform an albums query. <a href=\"http://www.apeth.com/iOSBook/ch29.html#_exploring_the_music_library\" rel=\"nofollow noreferrer\">apeth.com/iOSBook/ch29.html#_exploring_the_music_library</a>"}, {"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1544749054, "post_id": 53758279, "comment_id": 94396130, "body": "thanks, I might have a look"}], "answers": [{"comments": [{"owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "edited": false, "score": 0, "creation_date": 1544750471, "post_id": 53760571, "comment_id": 94396395, "body": "Thanks, took me a we while but I got there in the end, I feel a bit stupid now not thinking that it was returning a list of lists rather than actual media items."}], "tags": [], "owner": {"reputation": 186, "user_id": 1499796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6be5d507cb0b61350388941b463c9923?s=128&d=identicon&r=PG", "display_name": "Wasserfloh", "link": "https://stackoverflow.com/users/1499796/wasserfloh"}, "is_accepted": true, "score": 1, "last_activity_date": 1544699553, "creation_date": 1544699553, "answer_id": 53760571, "question_id": 53758279, "link": "https://stackoverflow.com/questions/53758279/getting-only-null-returns-from-mpmediaquery-albums-query/53760571#53760571", "title": "Getting only null returns from MPMediaQuery albums query", "body": "<p>This works for me</p>\n\n<pre><code>MPMediaQuery *allAlbums = [MPMediaQuery albumsQuery];\nNSArray *itemsFromAlbumQuery = [allAlbums collections];\n\n        for(int i=0; i&lt; itemsFromAlbumQuery.count;i++){\n            MPMediaItemCollection* mc=itemsFromAlbumQuery[i];\n            MPMediaItem* item=mc.representativeItem;\n            NSString* title=[item valueForProperty:MPMediaItemPropertyAlbumTitle];\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 666, "user_id": 2562567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ls38O.jpg?s=128&g=1", "display_name": "Jobalisk", "link": "https://stackoverflow.com/users/2562567/jobalisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 53760571, "answer_count": 1, "score": -1, "last_activity_date": 1544699553, "creation_date": 1544691833, "question_id": 53758279, "link": "https://stackoverflow.com/questions/53758279/getting-only-null-returns-from-mpmediaquery-albums-query", "title": "Getting only null returns from MPMediaQuery albums query", "body": "<p>Ok. So, I've been running this on my iphone. It works for songs just fine, I'm able to display a list of songs complete with artist names and album covers in a UITableview, however the moment I try to search for albums I just get null. Here is my code for the album query.</p>\n\n<pre><code>    NSMutableArray *AlbumsList = [[NSMutableArray alloc] init];;\n    MPMediaQuery *allAlbums = [[MPMediaQuery alloc] init];\n    NSArray *itemsFromAlbumQuery = [allAlbums collections];\n    //NSLog(@\"Albums: %@\", itemsFromAlbumQuery);\n    NSString* mediaTitle; //the title holder\n    int whileX = 0;\n    MPMediaItem* mediaItem; //the media holding object\n    while(whileX != [itemsFromAlbumQuery count]){\n        mediaItem = itemsFromAlbumQuery[whileX];\n        mediaTitle = [mediaItem valueForProperty:MPMediaItemPropertyAlbumTitle];\n            [AlbumsList addObject: mediaTitle];\n\n        //create a list of song names\n\n        whileX += 1;\n\n\n\n    }\n</code></pre>\n\n<p>I've tried doing a specific albums query rather than general query and had the same result, I'm a little confused here, if I get this query below to return [allAlbums items] with mediaTitle set to Album name I get the album name for every song in my library, however if I try to get collections I just get null, all my songs are defined correctly with the album and artist fields filled in so I know this isn't the issue.</p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "edited": false, "score": 0, "creation_date": 1544765145, "post_id": 53761875, "comment_id": 94399217, "body": "George, its a native mac os app, i cant use webkit here, where i need to write this code , do i need to subclass NSSegmnetControl and write this code there. And also tell me in InitWithRect do i need to provide nscontrolsegment frames ."}, {"owner": {"reputation": 71, "user_id": 10384633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thxd2.jpg?s=128&g=1", "display_name": "Georg Seifert", "link": "https://stackoverflow.com/users/10384633/georg-seifert"}, "reply_to_user": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "edited": false, "score": 0, "creation_date": 1544780528, "post_id": 53761875, "comment_id": 94405254, "body": "UpdateMenu is a method that shows the popups below the current segment.  How you set up the segmented control has nothing to do with question. You can find plenty of answers on this site."}], "tags": [], "owner": {"reputation": 71, "user_id": 10384633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thxd2.jpg?s=128&g=1", "display_name": "Georg Seifert", "link": "https://stackoverflow.com/users/10384633/georg-seifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1544704154, "creation_date": 1544704154, "answer_id": 53761875, "question_id": 53755447, "link": "https://stackoverflow.com/questions/53755447/how-to-make-mouse-hover-on-nscontrolsegment-with-menu-items-in-cocoa-mac-os-deve/53761875#53761875", "title": "How To Make Mouse Hover on NSControlSegment With Menu Items in Cocoa Mac os development?", "body": "<p>You need to activate mouseMove events. One way is by adding tracking rects:</p>\n\n<pre><code>- (void)updateTrackingAreas {\n    [super updateTrackingAreas];\n    [self addTrackingArea:[[NSTrackingArea alloc] initWithRect:self.frame options:NSTrackingActiveAlways | NSTrackingInVisibleRect | NSTrackingMouseEnteredAndExited | NSTrackingMouseMoved owner:self userInfo:nil]];\n}\n\n- (void)mouseEntered:(NSEvent *)theEvent {\n    [self updateMenu];\n}\n\n- (void)mouseExited:(NSEvent *)theEvent {\n    [self updateMenu];\n}\n\n- (void)mouseMoved:(NSEvent *)theEvent {\n    [self updateMenu];\n}\n</code></pre>\n\n<p>But the UI doesn\u2019t look like a mac app. If it really needs to look like this, maybe you are better off building it in HTML and embed an WebKitView??</p>\n"}], "owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544704154, "creation_date": 1544678683, "last_edit_date": 1544678912, "question_id": 53755447, "link": "https://stackoverflow.com/questions/53755447/how-to-make-mouse-hover-on-nscontrolsegment-with-menu-items-in-cocoa-mac-os-deve", "title": "How To Make Mouse Hover on NSControlSegment With Menu Items in Cocoa Mac os development?", "body": "<p>I want to have mouse hover on NSSegmentControl with menu items, I know i need to do something in this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/OGi3j.png\" alt=\"Screen Shot\"></p>\n\n<pre><code>- (void)mouseDown:(NSEvent *)event\n{\n\n}\n</code></pre>\n\n<p>please guide me , as i am noobs to mac os development.</p>\n"}, {"tags": ["objective-c", "xcode", "post"], "comments": [{"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1544690877, "post_id": 53754408, "comment_id": 94368107, "body": "Perhaps _webview is nil. Did you connect it in xib file?"}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "reply_to_user": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1544711353, "post_id": 53754408, "comment_id": 94379766, "body": "No, it can load basic URL requests and I just doubled check. It&#39;s connected."}, {"owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1544713811, "post_id": 53754408, "comment_id": 94381375, "body": "I think its a bug in WKWebView since 2015: <a href=\"https://forums.developer.apple.com/thread/18952\" rel=\"nofollow noreferrer\">forums.developer.apple.com/thread/18952</a>. I think the only solution is to use a UIWebView or WebView. Although it is deprecated."}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "reply_to_user": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "edited": false, "score": 0, "creation_date": 1544714447, "post_id": 53754408, "comment_id": 94381779, "body": "That&#39;s weird - is there any way to do it without a WebView at all? Also, a week ago this code was working perfectly, and I&#39;ve changed nothing"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1544749914, "post_id": 53771988, "comment_id": 94396292, "body": "Hey thanks! Check my edit, I&#39;m newish to HTTP requests and don&#39;t know what to make of it."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1544750975, "post_id": 53771988, "comment_id": 94396502, "body": "NSError is null, and response code is 200 that means your request is successful. So you can now try to decode the data received. If the format is json, you can try adding <code>NSDictionary *json  = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil];                                                     NSLog(@&quot;%@&quot;,json);</code> in the nsurlsession block."}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1544752135, "post_id": 53771988, "comment_id": 94396742, "body": "I added it and got <code>(null)</code> as the response."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1544761595, "post_id": 53771988, "comment_id": 94398466, "body": "Wait a minute. Might be your web app does not return a json. In that case, you can try just print out NSLog(&quot;%@&quot;, data); or maybe convert data to NSString first then NSLogging that."}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1544794860, "post_id": 53771988, "comment_id": 94412923, "body": "I converted the <code>NSData</code> to an <code>NSString</code> and it gave me the source code of the website"}, {"owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1544993863, "post_id": 53771988, "comment_id": 94461471, "body": "So after some further research, I downloaded Firefox&#39;s Developer version and opened the developer tool that records POST and GETs. I logged in to the site, and saw that the POST sent was a 302 error which means page moved (I think). I downloaded <code>Postman</code> and set the params to what the browser said and resulted in an error. I tried a different website, and sure enough it worked. What do I do from here?"}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "reply_to_user": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "edited": false, "score": 0, "creation_date": 1545091877, "post_id": 53771988, "comment_id": 94498504, "body": "You need to check the web back end. If you own it, then you need to debug there. Otherwise you need to contact the web developer. Perhaps he modified some url calls or something."}], "tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1544747519, "creation_date": 1544747519, "answer_id": 53771988, "question_id": 53754408, "link": "https://stackoverflow.com/questions/53754408/objective-c-post-request-not-correctly-posting/53771988#53771988", "title": "Objective-C POST Request not correctly &quot;posting&quot;", "body": "<p>When working with POST or GET data to web backend, it is always great to install Postman app (ITS FREE AND EASY TO USE). Try to send a request from Postman with the same data (username and password) and see what the web backend replies. This way, you will know for sure whether it's your code or the backend that has a problem. I am not affiliated with Postman but I am currently developing web app also, and it is the best tool to help me debug the code.</p>\n\n<p>Alternatively, you can also try sending the POST request without using webview, by using NSURLSession and see what reply you got back or what error your app produces. Something like below:</p>\n\n<pre><code>//before this you need to construct session object with appropriate url and params. (google to see example).\n\nNSURLSessionDataTask *postDataTask = [session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n NSLog(\"Error: %@\", error);\n NSLog(\"Response: %@\", reponse);\n}];\n\n[postDataTask resume];\n</code></pre>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 23, "user_id": 10605410, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7OCLa8JztN0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCOGrEU9_tYwCoSoGp2xXH5yIITvg/mo/photo.jpg?sz=128", "display_name": "sanfrancisco1982", "link": "https://stackoverflow.com/users/10605410/sanfrancisco1982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544749882, "creation_date": 1544669736, "last_edit_date": 1544749882, "question_id": 53754408, "link": "https://stackoverflow.com/questions/53754408/objective-c-post-request-not-correctly-posting", "title": "Objective-C POST Request not correctly &quot;posting&quot;", "body": "<p>I'm trying to develop an app for school, and the first step is to <code>POST</code> into our grade book. My code is as follows:</p>\n\n<pre><code>NSString *usernameText = _username.text;\nNSString *passwordText = _password.text;\nNSString *post = [NSString stringWithFormat:@\"username=%@&amp;password=%@\",usernameText, passwordText];\nNSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];\nNSString *postLength = [NSString stringWithFormat:@\"%lu\",(unsigned long)[postData length]];\nNSURL *url = [NSURL URLWithString:@\"(school website, not putting real URL)\"];\nNSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n[request setURL:url];\n[request setHTTPMethod:@\"POST\"];\n[request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n[request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n[request setHTTPBody:postData];\n[_webView loadRequest:request];\n</code></pre>\n\n<p>The issue is that, it doesn't \"work\". The webview refreshed, but no data is inputted nor is the page changed. I'm wondering what I did wrong, and if I might have overlooked something. Thanks in advance</p>\n\n<p><strong>EDIT:</strong>\nI've tried the NSURLSession and got this in my response:\n(censored website name, gives location away)</p>\n\n<pre><code>2018-12-13 20:07:07.277108-0500 sisParsing[29432:2736415] Error: (null)\n2018-12-13 20:07:07.277459-0500 sisParsing[29432:2736415] Response: &lt;NSHTTPURLResponse: 0x6000028ce300&gt; { URL: website } { Status Code: 200, Headers {\n\"Access-Control-Allow-Origin\" =     (\n    \"*\"\n);\n\"Cache-Control\" =     (\n    \"no-cache, no-store\"\n);\n\"Content-Length\" =     (\n    13437\n);\n\"Content-Type\" =     (\n    \"text/html; charset=utf-8\"\n);\nDate =     (\n    \"Fri, 14 Dec 2018 01:07:29 GMT\"\n);\nExpires =     (\n    \"-1\"\n);\nPragma =     (\n    \"no-cache\"\n);\nServer =     (\n    \"Microsoft-IIS/8.5\"\n);\n\"Set-Cookie\" =     (\n    \"ASP.NET_SessionId=hchdpifc13c3hhrowxnjjzfj; path=/; secure; HttpOnly\"\n);\n\"X-AspNet-Version\" =     (\n    \"4.0.30319\"\n);\n\"X-Powered-By\" =     (\n    \"ASP.NET\"\n);\n} }\n</code></pre>\n"}, {"tags": ["objective-c", "api", "heroku", "parse-platform", "stripe-payments"], "owner": {"reputation": 31, "user_id": 9571606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d0b64eb2f4a304035e7e570cdbf27b?s=128&d=identicon&r=PG&f=1", "display_name": "Zealda", "link": "https://stackoverflow.com/users/9571606/zealda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1544664373, "creation_date": 1544664373, "question_id": 53753760, "link": "https://stackoverflow.com/questions/53753760/stripe-integration-with-parse", "title": "Stripe Integration with Parse", "body": "<p>I have an ios/Objective C app.  I'm using Parse.  It's hosted on Heroku. </p>\n\n<p>I'm attempting to integrate Stripe.  I have installed the latest Stripe pod and am trying to follow the basic Standard Integration. <a href=\"https://stripe.com/docs/mobile/ios/standard\" rel=\"nofollow noreferrer\">https://stripe.com/docs/mobile/ios/standard</a></p>\n\n<p>I'm getting tripped up by the steps involved with \"Prepare Your API\" and I'm unsure how to use the code provided \"To provide an ephemeral key to the SDK, you'll need to expose a new API endpoint on your backend. This endpoint should create an ephemeral key for the current Stripe customer, and return the key's unmodified response as JSON\" ...</p>\n\n<p>All the Q&amp;A I can find on how to use stripe with parse seem to predate the use of the ephemeral key and need to create this endpoint.  Could you please provide me with more specific information about where the example code you provide (see below) for this goes? Is this something I need to do within the parse dashboard? Heroku? is this part of parse cloud? I vaguely recall from previous times I've played with parse apps several years ago, that there may be a main.js file (or similar) that can be incorporated into the app, but I don't recall where it goes or how to do it.</p>\n\n<pre><code># Sinatra\npost path do\n  stripe_version = params['api_version']\n  customer_id = session['customer_id']\n  key = Stripe::EphemeralKey.create(\n    {customer: customer_id},\n    {stripe_version: stripe_version}\n  )\n  key.to_json\nend\n</code></pre>\n\n<p>If anyone has recently integrated stripe with a parse app I'd really appreciate guidance on how to do this.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["objective-c", "macos", "objective-c-blocks"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 10384633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Thxd2.jpg?s=128&g=1", "display_name": "Georg Seifert", "link": "https://stackoverflow.com/users/10384633/georg-seifert"}, "is_accepted": false, "score": 4, "last_activity_date": 1544704572, "creation_date": 1544704572, "answer_id": 53762008, "question_id": 53753376, "link": "https://stackoverflow.com/questions/53753376/polling-vs-kvo-nsnotification-delegate/53762008#53762008", "title": "Polling vs KVO/NSNotification/Delegate", "body": "<p>You can\u2019t just kill the data processing block. That would lead to memory leaks and unstable state. The <code>isCancelled</code> approach of NSNSOperation is the best way to go. The Stop command should set a variable that is local to the data processing block and from within the block you check that variable at convenient places and clean up and exit when its set.</p>\n"}], "owner": {"reputation": 8006, "user_id": 697461, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1afbbe4a51ae2a328cff192aa8128a96?s=128&d=identicon&r=PG", "display_name": "agent.smith", "link": "https://stackoverflow.com/users/697461/agent-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544727849, "creation_date": 1544660942, "last_edit_date": 1544727849, "question_id": 53753376, "link": "https://stackoverflow.com/questions/53753376/polling-vs-kvo-nsnotification-delegate", "title": "Polling vs KVO/NSNotification/Delegate", "body": "<p>I have a tool on the mac which has data processing interface, web interface and UI. These three interfaces run on three different serial (async) dispatch_queues.(UI runs on main queue)</p>\n\n<p>My data processing interface needs to Stop when the web interface receives the command, Stop. The data processing dispatch_block does not have any dependencies except it needs to listen to Stop command from the web interface.  </p>\n\n<p>I am confused about how should I design the data block, so that, I don't have to poll web interface to check if it received the Stop command. \nThe stack for my data block is quite deep(lot of function calls) and I don't want to check in the each function if Stop has been called. \nThe objective is to stop as soon as possible when I receive the <em>Stop</em> command. </p>\n\n<p>I can't rely on the <code>isCancelled</code> method of <code>NSOperationBlock</code> as my data block is always running until it receives Stop.</p>\n\n<p>My aim here is not how to design the interfaces in better manner but to quickly exit data block when I receive the <em>Stop</em> command. </p>\n\n<p>I do know this is an age old problem of how to avoid checking a variable all the time. Was just wondering if there is something which could be done.  </p>\n\n<p>All suggestions are welcome.</p>\n"}]