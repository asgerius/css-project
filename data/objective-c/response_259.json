[{"tags": ["objective-c", "nsdate", "nscalendar", "nsdatecomponents", "nsdatepicker"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1577293816, "post_id": 59480158, "comment_id": 105137596, "body": "<code>setDate:animated:</code> is a method of <code>UIDatePicker</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3981, "user_id": 3004003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e3c5f99203dce2ba12b9cc9ef2b4328?s=128&d=identicon&r=PG&f=1", "display_name": "schmidt9", "link": "https://stackoverflow.com/users/3004003/schmidt9"}, "is_accepted": false, "score": 1, "last_activity_date": 1577297228, "last_edit_date": 1577297228, "creation_date": 1577296470, "answer_id": 59480726, "question_id": 59480158, "link": "https://stackoverflow.com/questions/59480158/nsdatepicker-setdate-doesnt-work-as-expected/59480726#59480726", "title": "NSDatePicker setDate doesn&#39;t work as expected", "body": "<p>Try this code. Date picker uses while setting time current timezone and uses UTC offset based on passed date (001-01-01 17:08:00 +0000) and looks for offset in timezone database at this timepoint. Because at that time (<em>year zero</em>) there were no timezones, it could not be found in tz database so time zone offset was calculated based on <em>mean solar time</em>, so you got offset <code>2:20</code> (approx.) for your area. </p>\n\n<pre><code>- (void)setDatePicker {\n    int targetmillisondsFromMidnight = 61680000; //Value is: 61680000 milliseconds whis is equal to 17:08 UTC (or 19:08 in my local time);\n    NSCalendar *calendar = NSCalendar.currentCalendar;\n    NSTimeZone* timezone = [NSTimeZone timeZoneWithName:@\"Asia/Jerusalem\"]; //Value is: Local Time Zone (Asia/Jerusalem (GMT\u200e+2\u200e) offset 7200)\n    calendar.timeZone = timezone;\n    NSDate* todayMidnight = [calendar startOfDayForDate:[NSDate new]];\n\n    NSInteger seconds = [timezone secondsFromGMT]; //Value is: 7200\n    todayMidnight = [todayMidnight dateByAddingTimeInterval:seconds]; // Value is: 2019-12-25 00:00:00 UTC\n    NSDate* scheduleDate = [NSDate dateWithTimeInterval:targetmillisondsFromMidnight/1000 sinceDate:todayMidnight]; //Value is: 2019-12-25 17:08:00 UTC\n\n    NSDate *date = [scheduleDate dateByAddingTimeInterval:seconds];\n\n    self.datePicker.timeZone = [NSTimeZone timeZoneWithAbbreviation:@\"UTC\"];\n    [self.datePicker setDate:date animated:YES];\n}\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1577297228, "creation_date": 1577291488, "question_id": 59480158, "link": "https://stackoverflow.com/questions/59480158/nsdatepicker-setdate-doesnt-work-as-expected", "title": "NSDatePicker setDate doesn&#39;t work as expected", "body": "<p>I'm trying to set time on a <code>NSDatePicker</code> according to a certain offset that I have in milliseconds. When I set the time, the value that I see is off and I can't figure out why.\nHere is the code I use to set the picker:</p>\n\n<pre><code>- (void)setDatePicker{\n\n    int targetmillisondsFromMidnight = [self.schedule.targetHour intValue]; //Value is: 61680000 milliseconds whis is equal to 17:08 UTC (or 19:08 in my local time);\n    NSDate* todayMidnight = [NSCalendar.currentCalendar startOfDayForDate:[NSDate new]];\n    NSTimeZone* timezone = [NSTimeZone localTimeZone]; //Value is: Local Time Zone (Asia/Jerusalem (GMT\u200e+2\u200e) offset 7200)\n    NSInteger seconds = [timezone secondsFromGMT]; //Value is: 7200\n    todayMidnight = [todayMidnight dateByAddingTimeInterval:seconds]; // Value is: 2019-12-25 00:00:00 UTC\n    NSDate* scheduleDate = [NSDate dateWithTimeInterval:targetmillisondsFromMidnight/1000 sinceDate:todayMidnight]; //Value is: 2019-12-25 17:08:00 UTC\n\n    NSCalendar *calendar = [NSCalendar currentCalendar];\n    [calendar setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@\"UTC\"]];\n    NSDateComponents *components = [calendar components:(NSCalendarUnitHour | NSCalendarUnitMinute) fromDate:scheduleDate];\n\n    [self.datePicker setDate:[calendar dateFromComponents:components] animated:YES];\n} \n</code></pre>\n\n<p>I stop with a breakpoint at the last command in the function and I print some values, the outputs that I get are:\n<code>po [components hour] = 17</code>\n<code>po [components minute] = 8</code>\n<code>po [calendar dateFromComponents:components] = 001-01-01 17:08:00 +0000</code></p>\n\n<p>So from my understanding the date is set with 17:08.\nWhat I expect to see on the time picker is 19:08, however what I see is 19:28. I can't figure out where those 20 minutes are coming from.</p>\n"}, {"tags": ["c++", "objective-c", "windows", "macos", "synchronization"], "comments": [{"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577283572, "post_id": 59476178, "comment_id": 105135381, "body": "It\u2019s not clear what the requirements are.  What do you want to avoid when multiple processes attempt to rename the file?  It can\u2019t end up in multiple places no matter what you do, right?"}, {"owner": {"reputation": 803, "user_id": 8214369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaad6d5047a978a9498deb0e2171069d?s=128&d=identicon&r=PG&f=1", "display_name": "Irad K", "link": "https://stackoverflow.com/users/8214369/irad-k"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577295649, "post_id": 59476178, "comment_id": 105137936, "body": "consider a case wheere 2 processes attempt to run the code above. without exclusive access the renaming operation may occure twice, thus the original file being overrun by an empty file and all the data will be lost."}, {"owner": {"reputation": 803, "user_id": 8214369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaad6d5047a978a9498deb0e2171069d?s=128&d=identicon&r=PG&f=1", "display_name": "Irad K", "link": "https://stackoverflow.com/users/8214369/irad-k"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577295726, "post_id": 59476178, "comment_id": 105137949, "body": "so i basically look for inter-process locking for this code section"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577295993, "post_id": 59476178, "comment_id": 105138008, "body": "So the issue is that you check whether to perform the rename twice and then rename the recreated file over the (renamed) original?  (If so, edit the question to say so.)"}, {"owner": {"reputation": 803, "user_id": 8214369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaad6d5047a978a9498deb0e2171069d?s=128&d=identicon&r=PG&f=1", "display_name": "Irad K", "link": "https://stackoverflow.com/users/8214369/irad-k"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577308176, "post_id": 59476178, "comment_id": 105140169, "body": "I hope my latest update made the question clearer. Thanks you for your comments."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577314053, "post_id": 59476178, "comment_id": 105141107, "body": "It seems that this is a general locking question.  As such, does this answer your question? <a href=\"https://stackoverflow.com/questions/5339200/how-to-create-a-single-instance-application-in-c-or-c\">How to create a single instance application in C or C++</a>"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1577411897, "post_id": 59476178, "comment_id": 105164251, "body": "<code>f</code> does not point to the &quot;original file <i>name</i>&quot;. It refers to the kernel file object that&#39;s referenced by <code>handle</code>. There is only one kernel file object here. Renaming it with a &quot;.prev&quot; extension doesn&#39;t change that. However, another thread subsequently will succeed in creating a new file (due to the <code>OPEN_ALWAYS</code> disposition) with the initial <code>currFile</code> name."}, {"owner": {"reputation": 803, "user_id": 8214369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaad6d5047a978a9498deb0e2171069d?s=128&d=identicon&r=PG&f=1", "display_name": "Irad K", "link": "https://stackoverflow.com/users/8214369/irad-k"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577865903, "post_id": 59476178, "comment_id": 105270543, "body": "@DavisHerring, Sorry for the late response, but I think my question is not general locking question since it relate to the fact that renaming file isn&#39;t blocked by <code>flock</code> since it doesn&#39;t change the file descriptor. I&#39;ll re-write my question to emphasis this."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577866511, "post_id": 59476178, "comment_id": 105270633, "body": "@IradK: You can use whatever kind of locking to prevent two processes from doing <i>this</i> rename at the same time.  The lock doesn\u2019t have to have anything to do with the file in question since you\u2019re not trying to interfere with another <i>uncooperative</i> process trying to stat/rename the file."}], "owner": {"reputation": 803, "user_id": 8214369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaad6d5047a978a9498deb0e2171069d?s=128&d=identicon&r=PG&f=1", "display_name": "Irad K", "link": "https://stackoverflow.com/users/8214369/irad-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "closed_date": 1577314053, "answer_count": 0, "score": 2, "last_activity_date": 1577308128, "creation_date": 1577259019, "last_edit_date": 1577308128, "question_id": 59476178, "link": "https://stackoverflow.com/questions/59476178/lock-file-for-inter-process-renaming", "closed_reason": "Needs more focus", "title": "Lock file for inter-process renaming", "body": "<p>The code below is Windows native and meant to protect against multiple processes attempt to rename the same file simultaneously - what may cause data loss. In simple, what the code does, is exclusively open the file for current process/thread, then check if renaming is needed, and finally write to the file.</p>\n\n<p>consider a case where 2 processes attempt to run the code below simultaneously. Without exclusive access, the renaming operation may occurs twice, So that on the second renaming, the original file will be overrun by an empty file and all the data will be lost.</p>\n\n<p>I'd like to port this logic into macOS, so I'm looking for an equivalent locking mechanism on the file before deciding to rename it (programmatic locking). both objectiveC or C/C++/POSIX are good options.</p>\n\n<p>Specifically, I'm looking for a macOS equivalent native Windows function <code>CreateFile</code> as called in the following implementation : </p>\n\n<pre><code>while (!handle) {\n    handle = CreateFile(currFile, \n                        GENERIC_WRITE | DELETE, //dwDesiredAccess \n                        FILE_SHARE_READ,        //dwShareMode\n                        NULL,                   //lpSecurityAttributes\n                        OPEN_ALWAYS,            //dwCreationDisposition\n                        FILE_ATTRIBUTE_NORMAL,  // dwFlagsAndAttributes\n                        NULL);\n\n    if(!handle)\n       sleep(...) // retry after sleep\n}\n\n// NOTE : This stage is reached exclusively for all processes/threads \n\n\n// create c style file pointer for current file.\nint chandle = _open_osfhandle((intptr_t)handle, _O_APPEND);\nFILE* f = _wfdopen(chandle, L\"a+\");\n\nif (std::filesystem::file_size(currFile) &gt; MAX_SIZE)\n{\n    std::wstring prevName = currFile + L\".prev\";\n    DWORD buffSz = (DWORD)\n            (sizeof(FILE_RENAME_INFO) + \n            prevName.length() * sizeof(WCHAR) \n            + 16);\n\n    FILE_RENAME_INFO *renameInfo = (FILE_RENAME_INFO *)malloc(buffSz);\n    renameInfo-&gt;ReplaceIfExists = TRUE;\n    renameInfo-&gt;RootDirectory = NULL;       \n    renameInfo-&gt;FileNameLength = (DWORD)prevName.length()*2;\n    wcscpy_s(renameInfo-&gt;FileName, prevNAme.length() + 2, prevName.c_str());\n\n    //notice that the 'f' still point on the original file name\n    BOOL res = SetFileInformationByHandle(handle, FileRenameInfo, renameInfo, buffSz);\n}\n\n...\n\n// now print message to the original file name using 'f'\nfprintf(f, \"blablabla\");\n\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "opengl-es", "glsl", "shader"], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 1, "last_activity_date": 1577294387, "creation_date": 1577294387, "answer_id": 59480498, "question_id": 59474875, "link": "https://stackoverflow.com/questions/59474875/opengl-es2-syntax-error-when-using-layout-keyword-in-vertex-shaderios/59480498#59480498", "title": "OpenGL ES2: syntax error when using &quot;layout&quot; keyword in vertex shader(iOS)", "body": "<p>In OpenGL ES 2.0 and <a href=\"https://www.khronos.org/registry/OpenGL/specs/es/2.0/GLSL_ES_Specification_1.00.pdf\" rel=\"nofollow noreferrer\">OpenGL ES Shading Language 1.00</a> neither <a href=\"https://www.khronos.org/opengl/wiki/Layout_Qualifier_(GLSL)\" rel=\"nofollow noreferrer\"><code>Layout Qualifiers</code></a> not the keyword <code>in</code> is supported.<br>\nIf you want to use layout qualifiers, you've to switch to OpenGL ES 3.00 and <a href=\"https://www.khronos.org/registry/OpenGL/specs/es/3.0/GLSL_ES_Specification_3.00.pdf\" rel=\"nofollow noreferrer\">OpenGL ES Shading Language 3.00</a>. See <a href=\"https://www.khronos.org/registry/OpenGL/index_es.php\" rel=\"nofollow noreferrer\">Khronos OpenGL ES Registry</a>.</p>\n\n<p>Correct GLSL ES 1.00 vertex shader (corresponding to OpenGL ES 2.00):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#version 100\n\nattribute vec3 position;\n\nvoid main() {\n    gl_Position = vec4(position, 1.0);\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10163306, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-re_n0w9sIpc/AAAAAAAAAAI/AAAAAAAAABE/LTJ-Cx-SnY4/photo.jpg?sz=128", "display_name": "yuansi zhu", "link": "https://stackoverflow.com/users/10163306/yuansi-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 59480498, "answer_count": 1, "score": 1, "last_activity_date": 1577301118, "creation_date": 1577242823, "last_edit_date": 1577301118, "question_id": 59474875, "link": "https://stackoverflow.com/questions/59474875/opengl-es2-syntax-error-when-using-layout-keyword-in-vertex-shaderios", "title": "OpenGL ES2: syntax error when using &quot;layout&quot; keyword in vertex shader(iOS)", "body": "<p>I'm new to iPhone OpenGL ES development. When I try to specify the location of a vertex attribute using the 'layout' keyword, the compiler complains there is a syntax error. Am I using it wrong? or the compiler doesn't support the keyword? I know there are other ways to specify the location, but I wonder why this one doesn't work for me.<br>\nBTW, I'm using OpenGLES2.0 API.</p>\n\n<p>the vertex shader is:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>layout(location = 0) in vec3 position;\n\nvoid main() {\n    gl_Position = vec4(position, 1.0);\n}\n</code></pre>\n\n<p>vertex shader compile log:</p>\n\n<blockquote>\n  <pre class=\"lang-none prettyprint-override\"><code>2019-12-25 10:47:48.518110+0800 OpenGLESTest[14556:1063881] compile vertex shader error!\n2019-12-25 10:47:48.518284+0800 OpenGLESTest[14556:1063881] compile stage info log \nERROR: 0:1: 'layout' : syntax error: syntax error\n</code></pre>\n</blockquote>\n"}, {"tags": ["objective-c", "react-native", "snapchat"], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 1460110, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XK08Q.jpg?s=128&g=1", "display_name": "Sam Gehly", "link": "https://stackoverflow.com/users/1460110/sam-gehly"}, "is_accepted": false, "score": 0, "last_activity_date": 1577247701, "creation_date": 1577247701, "answer_id": 59475200, "question_id": 59474178, "link": "https://stackoverflow.com/questions/59474178/snapchats-snapkit-addloginstatusobserver-not-listening-to-events/59475200#59475200", "title": "Snapchat&#39;s SnapKit addLoginStatusObserver not listening to events", "body": "<p>The problem ended up being that the <code>RNSnapSDKListener *listener</code> needed to be declared as a global variable and initialized inside initialize() - not entirely sure why though - something with garbage collection maybe?</p>\n"}], "owner": {"reputation": 157, "user_id": 1460110, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XK08Q.jpg?s=128&g=1", "display_name": "Sam Gehly", "link": "https://stackoverflow.com/users/1460110/sam-gehly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577247701, "creation_date": 1577230948, "question_id": 59474178, "link": "https://stackoverflow.com/questions/59474178/snapchats-snapkit-addloginstatusobserver-not-listening-to-events", "title": "Snapchat&#39;s SnapKit addLoginStatusObserver not listening to events", "body": "<p>I'm currently developing a React Native plugin for Snapchat's SnapKit SDK.</p>\n\n<p>I can't seem to get the <code>addLoginStatusObserver</code> method to work (detailed here: <a href=\"https://snapkit.com/docs/api/ios/\" rel=\"nofollow noreferrer\">https://snapkit.com/docs/api/ios/</a>) and I suspect it's my lack of experience with Objective C's protocol/interface/implementation features.</p>\n\n<p>Here's a trimmed down version of the code:</p>\n\n<pre><code>...\n\n@interface RNSnapSDKListener : NSObject&lt;SCSDKLoginStatusObserver&gt; {\n...\n}\n- (void)scsdkLoginLinkDidSucceed;\n- (void)scsdkLoginLinkDidFail;\n- (void)scsdkLoginDidUnlink;\n...\n@end\n\n@implementation RNSnapSDKListener\n\n- (void)scsdkLoginLinkDidSucceed{\n    NSLog(@\"[RNSnapSDKListener] Snapchat Did Login!\");\n}\n- (void)scsdkLoginLinkDidFail{\n    NSLog(@\"[RNSnapSDKListener] Snapchat Did Fail!\");\n}\n- (void)scsdkLoginDidUnlink{\n    NSLog(@\"[RNSnapSDKListener] Snapchat Did Unlink!\");\n}\n\n- (void)setDelegate: (RCTEventEmitter*) eventEmitter{\n    NSLog(@\"[RNSnapSDKListener] Delegate Set!\");\n}\n@end\n\n@implementation RNSnapSDK\n\n...\n\nRCT_EXPORT_MODULE()\n\nRCT_EXPORT_METHOD(initialize){\n    RNSnapSDKListener *listener = [[RNSnapSDKListener alloc] init];\n    [listener setDelegate:self];\n    [SCSDKLoginClient addLoginStatusObserver:listener];\n}\n\nRCT_EXPORT_METHOD(login)\n{\n    [SCSDKLoginClient loginFromViewController:[UIApplication sharedApplication].delegate.window.rootViewController completion:^(BOOL success, NSError * _Nullable error) {\n    }];\n}\n\nRCT_EXPORT_METHOD(logout: (RCTPromiseResolveBlock)resolve rejecter:(RCTPromiseRejectBlock)reject)\n{\n    [SCSDKLoginClient unlinkAllSessionsWithCompletion:^(BOOL success) {\n        NSLog(@\"Logout %s\", success ? \"true\" : \"false\");\n        resolve(NULL);\n    }];\n}\n\n\nRCT_EXPORT_METHOD(getUserData: (RCTPromiseResolveBlock)resolve rejecter:(RCTPromiseRejectBlock)reject)\n{\n\n    NSString *graphQLQuery = @\"{me{externalId, displayName, bitmoji{avatar}}}\";\n\n    NSDictionary *variables = @{@\"page\": @\"bitmoji\"};\n\n    [SCSDKLoginClient fetchUserDataWithQuery:graphQLQuery\n        variables:variables\n        success:^(NSDictionary *resources) {\n            NSDictionary *data = resources[@\"data\"];\n            resolve(data);\n        } failure:^(NSError * error, BOOL isUserLoggedOut) {\n            NSLog(@\"%@\",[error localizedDescription]);\n            NSLog(@\" %s\", isUserLoggedOut ? \"true\" : \"false\");\n\n            if(isUserLoggedOut){\n                [SCSDKLoginClient loginFromViewController:[UIApplication sharedApplication].delegate.window.rootViewController completion:^(BOOL success, NSError * _Nullable error) {\n                }];\n            }else{\n                reject(@\"error\", [error localizedDescription], error);\n            }\n        }];\n}\n\nNSURL *saved;\n\nRCT_EXPORT_METHOD(authenticateDeepLink: (NSString *)url)\n{\n    NSURL *finalUrl = [NSURL URLWithString:url];\n    saved = finalUrl;\n\n    [SCSDKLoginClient application:[UIApplication sharedApplication] openURL:finalUrl options:[NSMutableDictionary dictionary]];\n\n}\n\n...\n\n@end\n</code></pre>\n\n<p>.initialize() is called inside the React Native module, and the setDelegate() method is called successfully (printing out \"Delegate set\" - this is for the react-native event bridge), but the other [RNSnapSDKListener]s dont print when they should (after logging in or logging out)</p>\n\n<p>Is this something I'm doing wrong with objective-c or some other misuse of Snapchat's SDK?</p>\n\n<p>Thanks! </p>\n"}, {"tags": ["objective-c", "swift", "macos"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1578233088, "post_id": 59470795, "comment_id": 105365410, "body": "Is the question how to programmatically scroll down/up one page?"}, {"owner": {"reputation": 1411, "user_id": 803061, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d482a6b2b844e97efa8b99ec3691bc4?s=128&d=identicon&r=PG", "display_name": "Calin-Andrei Burloiu", "link": "https://stackoverflow.com/users/803061/calin-andrei-burloiu"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1578233628, "post_id": 59470795, "comment_id": 105365535, "body": "Yes, it is. Is there a way to directly do it or do I need to use scrollPoint method and then manually try to recreate the animations?"}], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 2, "last_activity_date": 1578235752, "creation_date": 1578235752, "answer_id": 59601040, "question_id": 59470795, "link": "https://stackoverflow.com/questions/59470795/pagination-support-in-nsscrollview/59601040#59601040", "title": "Pagination support in NSScrollView", "body": "<p>Scroll page down:</p>\n\n<pre><code>[scrollView pageDown:self];\n</code></pre>\n\n<p>Scroll page up:</p>\n\n<pre><code>[scrollView pageUp:self];\n</code></pre>\n"}], "owner": {"reputation": 1411, "user_id": 803061, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d482a6b2b844e97efa8b99ec3691bc4?s=128&d=identicon&r=PG", "display_name": "Calin-Andrei Burloiu", "link": "https://stackoverflow.com/users/803061/calin-andrei-burloiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 59601040, "answer_count": 1, "score": 1, "last_activity_date": 1578235752, "creation_date": 1577201120, "last_edit_date": 1578061313, "question_id": 59470795, "link": "https://stackoverflow.com/questions/59470795/pagination-support-in-nsscrollview", "title": "Pagination support in NSScrollView", "body": "<p>I am trying to create a view on Mac OS where I would like to be able to scroll from page to page by using two finger swipe gestures on trackpad or mouse wheel scrolling. Is this functionality implemented in Cocoa?</p>\n\n<p>I noticed that there is some pagination support in <code>NSScrollView</code>, but I don't know how to trigger it via swiping/scrolling. There is <code>NSScrollView.pageScroll</code> property, where the documentation states:</p>\n\n<blockquote>\n  <p>The value of this property is the amount of the document view kept visible when scrolling page by page, expressed in the content view\u2019s coordinate system. This value is used when the user clicks the scroll arrows while holding down the Option key.</p>\n</blockquote>\n\n<p>Unfortunately, the documentation is outdated, because newer versions of Mac OS no longer have scroll arrows in their UI, so there's anything you can click while holding the Option key. However, I discovered that this mechanism is now triggered if you click the scroll bar outside of the scroll position indicator.</p>\n\n<p>If <code>NSScrollView</code> does not natively support pagination via swipes, I am thinking of a way to programmatically trigger the pagination mechanism described above. Do you know how this mechanism can be triggered? Using <code>NSView.scrollPoint</code> might not be the best idea because you lose the nice animation effects that come with the pagination mechanism.</p>\n"}, {"tags": ["objective-c", "variables", "cocoa", "member", "nswindow"], "answers": [{"tags": [], "owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "is_accepted": true, "score": 1, "last_activity_date": 1577237967, "creation_date": 1577237967, "answer_id": 59474580, "question_id": 59469771, "link": "https://stackoverflow.com/questions/59469771/how-can-one-nswindows-id-be-got/59474580#59474580", "title": "How can one NSWindow&#39;s ID be got", "body": "<p>In Objective-C:</p>\n\n<pre><code>NSWindow* myWindow = ...;\nNSInteger windowNumber = myWindow.windowNumber;\n</code></pre>\n\n<p>In Swift:</p>\n\n<pre><code>let myWindow = ...\nlet windowNumber = myWindow.windowNumber\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12591437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9298f8171b771acd1e1e8f4be8400e3?s=128&d=identicon&r=PG&f=1", "display_name": "arthur.gu", "link": "https://stackoverflow.com/users/12591437/arthur-gu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 59474580, "answer_count": 1, "score": -1, "last_activity_date": 1577237967, "creation_date": 1577195301, "question_id": 59469771, "link": "https://stackoverflow.com/questions/59469771/how-can-one-nswindows-id-be-got", "title": "How can one NSWindow&#39;s ID be got", "body": "<p>I am new to Obj-c/Cocoa and want to know how to get one NSWindow's ID/number?</p>\n\n<p>The following member variable of NSWindow is found on Apple's website.</p>\n\n<pre><code>var windowNumber: Int\nThe window number of the window\u2019s window device.\n</code></pre>\n\n<p>However how to get it? Shall I just use</p>\n\n<pre><code>NSWindow aWindow;\n[aWindow getWindowNumber];\n</code></pre>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["ios", "objective-c", "swift", "png"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12590632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95c63d4721b70ebe5a393b62ebd9f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Alienchang", "link": "https://stackoverflow.com/users/12590632/alienchang"}, "edited": false, "score": 0, "creation_date": 1577246678, "post_id": 59474352, "comment_id": 105128358, "body": "Thank you, This question has been bothering me for some time"}], "tags": [], "owner": {"reputation": 69, "user_id": 11865364, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/898d656571b80672b15649b33dd2c328?s=128&d=identicon&r=PG", "display_name": "user11865364", "link": "https://stackoverflow.com/users/11865364/user11865364"}, "is_accepted": false, "score": 0, "last_activity_date": 1577233944, "last_edit_date": 1577233944, "creation_date": 1577233638, "answer_id": 59474352, "question_id": 59467914, "link": "https://stackoverflow.com/questions/59467914/read-the-png-image-as-nsdata-and-some-extra-bytes-appear/59474352#59474352", "title": "Read the PNG image as NSData, and some extra bytes appear", "body": "<p>Your image is not a standard PNG according to <a href=\"http://www.w3.org/TR/PNG\" rel=\"nofollow noreferrer\">the official specifications</a>. The bytes you point out form a valid <a href=\"http://www.w3.org/TR/PNG/#5Chunk-layout\" rel=\"nofollow noreferrer\">PNG chunk</a>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>00000004 Data length\n43674249 Block ID \"CgBI\"\n50002006 4 bytes of proprietary information\n2CB87766 CRC checksum of the data block\n</code></pre>\n\n<p>but the location and the indicated type of the chunk are invalid for a conforming PNG image.<br>\nThis indicates the image is processed with Apple's modified version of <code>pngcrush</code>. See <a href=\"http://iphonedevwiki.net/index.php/CgBI_file_format#Differences_from_PNG\" rel=\"nofollow noreferrer\">http://iphonedevwiki.net/index.php/CgBI_file_format#Differences_from_PNG</a> for non-official information on the block contents and other deviations from the official specification.</p>\n"}], "owner": {"reputation": 1, "user_id": 12590632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c95c63d4721b70ebe5a393b62ebd9f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Alienchang", "link": "https://stackoverflow.com/users/12590632/alienchang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1577233944, "creation_date": 1577185819, "last_edit_date": 1577186148, "question_id": 59467914, "link": "https://stackoverflow.com/questions/59467914/read-the-png-image-as-nsdata-and-some-extra-bytes-appear", "title": "Read the PNG image as NSData, and some extra bytes appear", "body": "<p><img src=\"https://i.stack.imgur.com/rgNFx.jpg\" alt=\"enter image description here\"></p>\n\n<p>Above is the data to read the picture using iOS SDK,\n00000004 43674249 50002006 2cb87766\nare extra bytes.\nDoes anyone know what these bytes are?</p>\n"}, {"tags": ["objective-c", "xcode", "objective-c-swift-bridge"], "answers": [{"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 2, "last_activity_date": 1577185915, "last_edit_date": 1577185915, "creation_date": 1577185547, "answer_id": 59467847, "question_id": 59467691, "link": "https://stackoverflow.com/questions/59467691/read-file-in-document-failed-in-xcode-11-3/59467847#59467847", "title": "Read file in document failed in Xcode 11.3", "body": "<p>You are using the wrong API: </p>\n\n<p><code>URLWithString</code> is for URLs including the scheme (<code>file://</code> or <code>https://</code>), for file system paths you have to use <code>fileURLWithPath</code>.</p>\n\n<p>However it's highly recommended to use always the URL related API to build paths </p>\n\n<pre><code>+ (NSString * )loadDataFromDocumentDirectory:(NSString *)path andSubDirectory:(NSString *)subdirectory {\n    // path = [self stripSlashIfNeeded:path]; not needed\n    // subdirectory = [self stripSlashIfNeeded:subdirectory]; not needed\n    // Create generic beginning to file save path\n    NSURL *saveURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:subdirectory];\n\n    // Add requested save path\n    NSError *err = nil;\n    NSURL *fileURL = [saveURL URLByAppendingPathComponent:path];\n    NSString *loadStr = [NSString stringWithContentsOfURL:fileURL encoding:NSUTF8StringEncoding error:&amp;err]  ;\n    if (err) NSLog(@\"load error : %@\", err);\n\n    return loadStr;\n}\n</code></pre>\n"}], "owner": {"reputation": 1455, "user_id": 4663420, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/86775ab6b3b5b0124cabf2f49500d280?s=128&d=identicon&r=PG&f=1", "display_name": "jansma", "link": "https://stackoverflow.com/users/4663420/jansma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577187556, "creation_date": 1577184808, "last_edit_date": 1577187556, "question_id": 59467691, "link": "https://stackoverflow.com/questions/59467691/read-file-in-document-failed-in-xcode-11-3", "title": "Read file in document failed in Xcode 11.3", "body": "<p>When I read file in document using <code>stringWithContentsOfURL</code> it failed </p>\n\n<p>this is error in Xcode console: </p>\n\n<blockquote>\n  <p>Error Domain=NSCocoaErrorDomain Code=256 \"The file \u201c1.txt\u201d couldn\u2019t be opened.\" UserInfo={NSURL=/var/mobile/Containers/Data/Application/E026973D-11B6-4895-B8FE-7F9FBCC11C12/Documents/bbbb/1.txt}</p>\n</blockquote>\n\n<p>this is my code:</p>\n\n<pre><code> //use objective-c\n +(NSString * )loadDataFromDocumentDirectory:(NSString *)path andSubDirectory:(NSString *)subdirectory {\n    path = [self stripSlashIfNeeded:path];\n    subdirectory = [self stripSlashIfNeeded:subdirectory];\n\n    // Create generic beginning to file save path\n    NSMutableString *savePath = [[NSMutableString alloc] initWithFormat:@\"%@/\",[self applicationDocumentsDirectory].path];\n    [savePath appendString:subdirectory];\n    [savePath appendString:@\"/\"];\n\n    // Add requested save path\n    NSError *err = nil;\n    [savePath appendString:path];\n    NSURL *fileURL = [NSURL URLWithString:savePath];\n    NSString *loadStr = [NSString stringWithContentsOfURL:fileURL encoding:NSUTF8StringEncoding error:&amp;err]  ;\n    if (err) NSLog(@\"load error : %@\", err);\n\n    return loadStr;\n}\n\n//use swift\nlet loadData = FileSave.loadData(fromDocumentDirectory: \"1.txt\", andSubDirectory: \"bbbb\")\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "graph", "google-visualization"], "answers": [{"tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": true, "score": 1, "last_activity_date": 1577208128, "creation_date": 1577208128, "answer_id": 59471794, "question_id": 59465663, "link": "https://stackoverflow.com/questions/59465663/google-live-graph-values-of-x-axis-in-descending-order/59471794#59471794", "title": "Google Live graph values of X Axis in descending order", "body": "<p>charts with a continuous axis (date, number, etc.) appear to sort automatically before drawing.  </p>\n\n<p>so you must use <code>hAxis.direction</code> to reverse the order.  </p>\n\n<p>however, <em>material</em> charts do not support the <code>direction</code> config option.  </p>\n\n<pre><code>{hAxis,vAxis,hAxes.*,vAxes.*}.direction\n</code></pre>\n\n<p>including several others,<br>\nsee --> <a href=\"https://github.com/google/google-visualization-issues/issues/2143\" rel=\"nofollow noreferrer\">Tracking Issue for Material Chart Feature Parity</a></p>\n\n<p>instead, you can use a <em>classic</em> chart...  </p>\n\n<p><em>material</em> = <code>google.charts.Line</code> -- package: <code>'line'</code>  </p>\n\n<p><em>classic</em> = <code>google.visualization.LineChart</code> -- package: <code>'corechart'</code>  </p>\n\n<p>see following working snippet...  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load('current', {\r\n  packages: ['corechart']\r\n}).then(function () {\r\n  var data = new google.visualization.DataTable();\r\n  data.addColumn('datetime', '');\r\n  data.addColumn('number', 'Temperature');\r\n  data.addRows([\r\n    [new Date(2019,11,17,23,00,22),78.332001],\r\n    [new Date(2019,11,17,22,00,15),78.332001],\r\n    [new Date(2019,11,17,21,02,29),78.458000],\r\n    [new Date(2019,11,17,20,04,18),77.594002],\r\n    [new Date(2019,11,17,19,01,14),76.765999],\r\n    [new Date(2019,11,17,18,02,20),76.622002],\r\n    [new Date(2019,11,17,17,02,14),76.477997],\r\n    [new Date(2019,11,17,16,02,12),76.514000],\r\n    [new Date(2019,11,17,15,02,17),76.334000],\r\n    [new Date(2019,11,17,14,02,15),76.136002],\r\n    [new Date(2019,11,17,13,02,15),76.028000],\r\n    [new Date(2019,11,17,12,02,13),75.578003],\r\n    [new Date(2019,11,17,11,02,14),75.685997],\r\n    [new Date(2019,11,17,10,02,14),75.722000],\r\n    [new Date(2019,11,17,09,02,16),75.811996],\r\n    [new Date(2019,11,17,08,01,14),76.117996],\r\n    [new Date(2019,11,17,07,01,16),76.550003],\r\n    [new Date(2019,11,17,06,02,13),77.108002],\r\n    [new Date(2019,11,17,05,02,12),77.846001],\r\n    [new Date(2019,11,17,04,00,16),77.900002],\r\n    [new Date(2019,11,17,03,00,16),78.134003],\r\n    [new Date(2019,11,17,02,00,15),77.431999],\r\n    [new Date(2019,11,17,01,00,13),78.061996],\r\n    [new Date(2019,11,17,00,00,11),77.683998],\r\n    [new Date(2019,11,16,23,00,13),77.954002],\r\n    [new Date(2019,11,16,22,00,12),78.098000],\r\n    [new Date(2019,11,16,21,00,14),77.612000],\r\n    [new Date(2019,11,16,20,02,15),77.594002],\r\n    [new Date(2019,11,16,19,02,31),76.783997],\r\n    [new Date(2019,11,16,18,02,42),76.783997],\r\n    [new Date(2019,11,16,17,02,33),76.837997],\r\n    [new Date(2019,11,16,16,08,40),76.783997],\r\n    [new Date(2019,11,16,15,02,22),76.820000],\r\n    [new Date(2019,11,16,14,02,32),76.874001],\r\n    [new Date(2019,11,16,13,02,34),77.288002],\r\n    [new Date(2019,11,16,12,02,37),77.360001],\r\n    [new Date(2019,11,16,11,02,40),78.206001],\r\n    [new Date(2019,11,16,10,02,46),77.648003],\r\n    [new Date(2019,11,16,09,02,33),78.295998],\r\n    [new Date(2019,11,16,08,02,42),78.026001],\r\n    [new Date(2019,11,16,07,02,25),77.648003],\r\n    [new Date(2019,11,16,06,05,30),78.043999],\r\n    [new Date(2019,11,16,05,02,35),77.468002],\r\n    [new Date(2019,11,16,04,00,44),77.720001],\r\n    [new Date(2019,11,16,03,00,28),76.514000],\r\n    [new Date(2019,11,16,02,00,31),76.982002],\r\n    [new Date(2019,11,16,01,00,35),78.043999],\r\n    [new Date(2019,11,16,00,01,27),77.989998],\r\n    [new Date(2019,11,15,23,01,30),78.889999],\r\n    [new Date(2019,11,15,22,01,22),78.800003],\r\n    [new Date(2019,11,15,21,01,47),78.835999],\r\n    [new Date(2019,11,15,20,01,33),78.800003],\r\n    [new Date(2019,11,15,19,01,26),78.620003],\r\n    [new Date(2019,11,15,18,01,26),78.620003],\r\n    [new Date(2019,11,15,17,00,30),78.566002],\r\n    [new Date(2019,11,15,16,00,25),78.314003],\r\n    [new Date(2019,11,15,15,00,21),78.241997],\r\n    [new Date(2019,11,15,14,03,24),77.917999],\r\n    [new Date(2019,11,15,13,01,28),77.269997],\r\n    [new Date(2019,11,15,12,01,35),77.071999],\r\n    [new Date(2019,11,15,11,00,24),77.414001],\r\n    [new Date(2019,11,15,10,00,31),76.963997],\r\n    [new Date(2019,11,15,09,00,27),76.676003],\r\n    [new Date(2019,11,15,08,00,25),76.928001],\r\n    [new Date(2019,11,15,07,00,32),76.837997],\r\n    [new Date(2019,11,15,06,00,27),76.639999],\r\n    [new Date(2019,11,15,05,00,30),77.162003],\r\n    [new Date(2019,11,15,04,01,23),77.216003],\r\n    [new Date(2019,11,15,03,01,27),78.098000],\r\n    [new Date(2019,11,15,02,01,26),77.629997],\r\n    [new Date(2019,11,15,01,02,24),78.188004],\r\n    [new Date(2019,11,15,00,00,26),77.846001],\r\n    [new Date(2019,11,14,23,01,25),78.223999],\r\n    [new Date(2019,11,14,22,00,25),77.972000],\r\n    [new Date(2019,11,14,21,01,36),78.134003],\r\n    [new Date(2019,11,14,20,00,28),78.403999],\r\n    [new Date(2019,11,14,19,01,25),78.223999],\r\n    [new Date(2019,11,14,18,01,27),77.900002],\r\n    [new Date(2019,11,14,17,01,28),78.043999],\r\n    [new Date(2019,11,14,16,01,22),77.720001],\r\n    [new Date(2019,11,14,15,01,25),77.828003],\r\n    [new Date(2019,11,14,14,01,26),77.377998],\r\n    [new Date(2019,11,14,13,01,37),77.269997],\r\n    [new Date(2019,11,14,12,01,31),76.351997],\r\n    [new Date(2019,11,14,11,01,33),76.028000],\r\n    [new Date(2019,11,14,10,01,23),76.136002],\r\n    [new Date(2019,11,14,09,01,30),75.776001],\r\n    [new Date(2019,11,14,08,01,51),75.811996],\r\n    [new Date(2019,11,14,07,01,34),76.351997],\r\n    [new Date(2019,11,14,06,00,31),75.776001],\r\n    [new Date(2019,11,14,05,00,29),76.837997],\r\n    [new Date(2019,11,14,04,00,33),77.125999],\r\n    [new Date(2019,11,14,03,00,31),76.442001],\r\n    [new Date(2019,11,14,02,02,28),77.557999],\r\n    [new Date(2019,11,14,01,01,34),77.737999],\r\n    [new Date(2019,11,14,00,02,05),76.910004],\r\n    [new Date(2019,11,13,23,02,04),77.900002],\r\n    [new Date(2019,11,13,22,02,04),78.061996],\r\n    [new Date(2019,11,13,21,02,23),77.251999],\r\n    [new Date(2019,11,13,20,05,30),77.449997],\r\n    [new Date(2019,11,13,19,04,17),77.162003],\r\n    [new Date(2019,11,13,18,00,26),77.468002],\r\n    [new Date(2019,11,13,17,00,31),76.982002],\r\n    [new Date(2019,11,13,16,00,21),77.197998],\r\n    [new Date(2019,11,13,15,00,27),77.036003],\r\n    [new Date(2019,11,13,14,00,04),76.837997],\r\n    [new Date(2019,11,13,13,02,21),76.748001],\r\n    [new Date(2019,11,13,12,02,04),75.919998],\r\n    [new Date(2019,11,13,11,02,25),75.973999],\r\n    [new Date(2019,11,13,10,08,23),75.830002],\r\n    [new Date(2019,11,13,09,05,38),76.190002],\r\n    [new Date(2019,11,13,08,02,38),75.776001],\r\n    [new Date(2019,11,13,07,08,32),76.171997],\r\n    [new Date(2019,11,13,06,00,37),75.272003],\r\n    [new Date(2019,11,13,05,01,31),75.667999],\r\n    [new Date(2019,11,13,04,01,27),76.820000],\r\n    [new Date(2019,11,13,03,01,39),76.477997],\r\n    [new Date(2019,11,13,02,07,43),76.622002],\r\n    [new Date(2019,11,13,01,01,31),77.000000],\r\n    [new Date(2019,11,13,00,02,38),77.792000],\r\n    [new Date(2019,11,12,23,02,29),78.818001],\r\n    [new Date(2019,11,12,22,00,38),78.295998],\r\n    [new Date(2019,11,12,21,00,36),78.169998],\r\n    [new Date(2019,11,12,20,01,28),78.278000],\r\n    [new Date(2019,11,12,19,01,37),78.169998],\r\n    [new Date(2019,11,12,18,04,19),77.828003],\r\n    [new Date(2019,11,12,17,04,16),78.080002],\r\n    [new Date(2019,11,12,16,01,37),77.702003],\r\n    [new Date(2019,11,12,15,01,24),77.720001],\r\n    [new Date(2019,11,12,14,00,30),77.648003],\r\n    [new Date(2019,11,12,13,12,26),77.000000],\r\n    [new Date(2019,11,12,12,00,24),77.197998],\r\n    [new Date(2019,11,12,11,01,33),77.000000],\r\n    [new Date(2019,11,12,10,01,25),77.737999],\r\n    [new Date(2019,11,12,09,02,26),78.134003],\r\n    [new Date(2019,11,12,08,01,32),78.169998],\r\n    [new Date(2019,11,12,07,04,18),77.737999],\r\n    [new Date(2019,11,12,06,03,24),77.989998],\r\n    [new Date(2019,11,12,05,09,37),76.585999],\r\n    [new Date(2019,11,12,04,03,25),76.694000],\r\n    [new Date(2019,11,12,03,01,25),77.557999],\r\n    [new Date(2019,11,12,02,01,28),78.278000],\r\n    [new Date(2019,11,12,01,02,34),78.872002],\r\n    [new Date(2019,11,12,00,02,24),79.862000],\r\n    [new Date(2019,11,11,23,02,26),79.879997],\r\n    [new Date(2019,11,11,22,02,25),80.150002],\r\n    [new Date(2019,11,11,21,02,32),79.681999],\r\n    [new Date(2019,11,11,20,02,37),80.167999],\r\n    [new Date(2019,11,11,19,56,29),79.970001],\r\n    [new Date(2019,11,11,07,06,00),78.620003],\r\n    [new Date(2019,11,11,06,53,09),78.620003],\r\n    [new Date(2019,11,11,05,12,14),79.267998],\r\n    [new Date(2019,11,11,02,00,03),79.699997],\r\n    [new Date(2019,11,11,01,17,10),79.879997],\r\n    [new Date(2019,11,11,00,00,22),80.078003],\r\n    [new Date(2019,11,10,23,12,32),80.744003],\r\n    [new Date(2019,11,10,22,39,22),80.276001],\r\n    [new Date(2019,11,10,21,09,29),80.239998],\r\n    [new Date(2019,11,10,20,00,12),79.807999],\r\n    [new Date(2019,11,10,17,16,08),79.160004],\r\n    [new Date(2019,11,10,15,32,41),79.015999],\r\n    [new Date(2019,11,10,09,02,29),77.251999],\r\n    [new Date(2019,11,10,08,23,25),77.468002],\r\n    [new Date(2019,11,10,07,46,54),78.889999],\r\n    [new Date(2019,11,09,22,10,09),78.746002],\r\n    [new Date(2019,11,09,20,04,26),78.260002],\r\n    [new Date(2019,11,09,10,09,22),78.655998],\r\n    [new Date(2019,11,09,09,16,29),79.339996],\r\n    [new Date(2019,11,09,08,00,24),78.764000],\r\n    [new Date(2019,11,09,07,51,23),79.106003],\r\n    [new Date(2019,11,09,06,39,39),78.620003],\r\n    [new Date(2019,11,09,03,01,17),77.125999],\r\n    [new Date(2019,11,09,02,58,19),77.180000],\r\n    [new Date(2019,11,08,21,02,06),78.440002],\r\n    [new Date(2019,11,08,20,59,00),78.440002],\r\n    [new Date(2019,11,08,09,37,10),76.820000],\r\n    [new Date(2019,11,08,08,31,11),77.323997],\r\n    [new Date(2019,11,08,05,01,26),78.169998],\r\n    [new Date(2019,11,08,04,25,58),78.620003],\r\n    [new Date(2019,11,08,03,07,31),78.223999],\r\n    [new Date(2019,11,08,01,22,11),78.620003],\r\n    [new Date(2019,11,08,00,00,03),78.440002],\r\n    [new Date(2019,11,07,23,13,18),78.601997],\r\n    [new Date(2019,11,07,20,01,20),78.512001],\r\n    [new Date(2019,11,07,19,39,48),78.494003],\r\n    [new Date(2019,11,07,14,34,09),77.180000],\r\n    [new Date(2019,11,07,02,44,41),78.440002],\r\n    [new Date(2019,11,07,01,05,48),78.314003],\r\n    [new Date(2019,11,06,23,06,34),79.519997],\r\n    [new Date(2019,11,06,21,23,04),79.160004],\r\n    [new Date(2019,11,06,19,20,12),78.169998],\r\n    [new Date(2019,11,06,17,02,26),77.503998],\r\n    [new Date(2019,11,06,16,02,36),77.774002],\r\n    [new Date(2019,11,06,15,56,42),77.540001],\r\n    [new Date(2019,11,06,10,06,55),74.732002],\r\n    [new Date(2019,11,06,09,02,02),75.056000],\r\n    [new Date(2019,11,06,07,07,19),76.351997],\r\n    [new Date(2019,11,06,06,07,04),77.360001],\r\n    [new Date(2019,11,06,04,04,13),77.989998],\r\n    [new Date(2019,11,06,03,43,09),78.620003],\r\n    [new Date(2019,11,06,01,02,16),80.384003],\r\n    [new Date(2019,11,06,00,47,35),80.599998],\r\n    [new Date(2019,11,05,04,05,52),80.708000],\r\n    [new Date(2019,11,05,03,02,15),81.194000],\r\n    [new Date(2019,11,05,02,02,27),81.176003],\r\n    [new Date(2019,11,05,01,20,30),80.816002],\r\n    [new Date(2019,11,05,00,29,27),81.139999],\r\n    [new Date(2019,11,04,22,06,39),79.519997],\r\n    [new Date(2019,11,04,21,18,53),79.519997],\r\n    [new Date(2019,11,04,20,00,27),79.898003],\r\n    [new Date(2019,11,04,09,04,10),78.206001],\r\n    [new Date(2019,11,04,06,10,10),78.620003],\r\n    [new Date(2019,11,04,03,04,14),78.440002],\r\n    [new Date(2019,11,04,02,43,27),78.620003],\r\n    [new Date(2019,11,03,20,56,35),80.599998],\r\n    [new Date(2019,11,03,19,01,25),78.980003],\r\n    [new Date(2019,11,03,18,10,05),78.494003],\r\n    [new Date(2019,11,03,17,01,54),77.792000],\r\n    [new Date(2019,11,03,08,36,09),75.739998],\r\n    [new Date(2019,11,03,07,07,08),76.694000],\r\n    [new Date(2019,11,03,06,42,19),77.360001],\r\n    [new Date(2019,11,03,05,18,25),80.059998],\r\n    [new Date(2019,11,03,04,09,08),81.139999],\r\n    [new Date(2019,11,03,02,04,12),81.806000],\r\n    [new Date(2019,11,03,00,05,11),81.014000],\r\n    [new Date(2019,11,02,23,08,17),80.942001],\r\n    [new Date(2019,11,02,15,12,15),79.160004],\r\n    [new Date(2019,11,02,14,06,07),79.393997],\r\n    [new Date(2019,11,02,13,48,07),79.160004],\r\n    [new Date(2019,11,02,07,18,10),79.519997],\r\n    [new Date(2019,11,02,06,14,10),78.800003],\r\n    [new Date(2019,11,02,05,13,49),79.015999],\r\n    [new Date(2019,11,02,04,25,54),78.620003],\r\n    [new Date(2019,11,02,03,44,08),78.800003],\r\n    [new Date(2019,11,02,02,04,38),78.403999],\r\n    [new Date(2019,11,02,01,58,18),78.440002],\r\n    [new Date(2019,11,01,23,55,00),78.260002],\r\n    [new Date(2019,11,01,22,36,03),78.080002],\r\n    [new Date(2019,11,01,21,14,51),77.972000],\r\n    [new Date(2019,11,01,18,27,02),78.332001],\r\n    [new Date(2019,11,01,16,06,10),78.008003],\r\n    [new Date(2019,11,01,15,54,09),77.720001],\r\n    [new Date(2019,11,01,13,57,09),77.540001],\r\n    [new Date(2019,11,01,11,01,27),77.809998],\r\n    [new Date(2019,11,01,10,01,15),77.503998],\r\n    [new Date(2019,11,01,09,19,20),77.900002],\r\n    [new Date(2019,11,01,08,49,05),77.594002],\r\n    [new Date(2019,11,01,04,18,06),77.792000],\r\n    [new Date(2019,11,01,03,45,08),77.774002],\r\n    [new Date(2019,11,01,01,03,30),77.648003],\r\n    [new Date(2019,11,01,00,04,06),77.882004],\r\n    [new Date(2019,10,30,23,19,04),77.737999],\r\n    [new Date(2019,10,30,22,02,07),78.134003],\r\n    [new Date(2019,10,30,21,59,02),77.900002],\r\n    [new Date(2019,10,30,15,24,51),77.720001],\r\n    [new Date(2019,10,30,14,33,23),77.900002],\r\n    [new Date(2019,10,30,12,37,53),77.720001],\r\n    [new Date(2019,10,30,09,03,40),77.900002],\r\n    [new Date(2019,10,30,08,39,40),77.809998],\r\n    [new Date(2019,10,30,07,04,16),77.468002],\r\n    [new Date(2019,10,30,06,00,33),77.972000],\r\n    [new Date(2019,10,30,05,00,45),77.449997],\r\n    [new Date(2019,10,30,04,30,07),77.720001],\r\n    [new Date(2019,10,30,02,47,59),78.800003],\r\n    [new Date(2019,10,29,23,22,07),78.620003],\r\n    [new Date(2019,10,28,02,00,39),78.620003],\r\n    [new Date(2019,10,28,00,10,39),78.080002],\r\n    [new Date(2019,10,27,23,02,12),78.853996],\r\n    [new Date(2019,10,27,22,19,49),78.332001],\r\n    [new Date(2019,10,27,04,27,27),76.603996],\r\n    [new Date(2019,10,27,01,14,04),77.557999],\r\n    [new Date(2019,10,27,00,13,28),77.575996],\r\n    [new Date(2019,10,26,23,00,37),77.989998],\r\n    [new Date(2019,10,26,22,30,58),78.620003],\r\n    [new Date(2019,10,26,21,06,24),78.241997],\r\n    [new Date(2019,10,26,20,51,45),77.540001],\r\n    [new Date(2019,10,26,12,25,28),76.405998],\r\n    [new Date(2019,10,26,10,30,11),75.919998],\r\n    [new Date(2019,10,26,04,40,47),76.820000],\r\n    [new Date(2019,10,26,03,30,33),77.360001],\r\n    [new Date(2019,10,26,02,01,30),77.234001],\r\n    [new Date(2019,10,26,00,02,30),76.748001],\r\n    [new Date(2019,10,25,23,15,25),77.216003],\r\n    [new Date(2019,10,25,22,01,29),77.720001],\r\n    [new Date(2019,10,25,21,52,41),77.900002],\r\n    [new Date(2019,10,24,00,01,53),77.269997]\r\n  ]);\r\n\r\n  var options = {\r\n    legend: 'none',\r\n    width: 3300,\r\n    height: 500,\r\n    options: {\r\n      theme: 'maximized'\r\n    },\r\n    legend: {position: 'none'},\r\n    interpolateNulls: true,\r\n    hAxis: {\r\n      direction: -1,\r\n      format: 'd-MMM'\r\n    },\r\n    vAxis: {\r\n      format:'#.0\u00b0'\r\n    },\r\n    backgroundColor: 'transparent',\r\n  };\r\n\r\n  var chart = new google.visualization.LineChart(document.getElementById('line_top_x'));\r\n  chart.draw(data, options);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"line_top_x\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 994, "user_id": 1047658, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6c15b543327df28a9ef26b88740b9450?s=128&d=identicon&r=PG", "display_name": "Aakil Ladhani", "link": "https://stackoverflow.com/users/1047658/aakil-ladhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59471794, "answer_count": 1, "score": 1, "last_activity_date": 1577208128, "creation_date": 1577174395, "last_edit_date": 1577175482, "question_id": 59465663, "link": "https://stackoverflow.com/questions/59465663/google-live-graph-values-of-x-axis-in-descending-order", "title": "Google Live graph values of X Axis in descending order", "body": "<p>I am using google chart /graph in webview for my iOS / Objective c code. I am displaying values on Y axis (vAxis) &amp; dates on X axis (hAxis), The dates are displaying in ascending order (oldest date first), but I want to display in Descending order (newest date first) which I am unable to do the same. I have tried few things like  </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\" SortOrder=\"Descending\"&gt;&lt;/script&gt; \n</code></pre>\n\n<p>&amp;</p>\n\n<pre><code>data.sort({\n                                        column: 1,\n                                        desc: true\n                                        });\n</code></pre>\n\n<p>&amp;</p>\n\n<pre><code>   hAxis: {\n                                          format: 'd-MMM',\n                                          direction: -1\n                                      },\n</code></pre>\n\n<p>But none of them works.</p>\n\n<p>Below is the sample HTML</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n\n            google.charts.load('current', {'packages':['line']});\n            google.charts.setOnLoadCallback(drawChart);\n            function drawChart() {\n\n                var data = new google.visualization.DataTable();\n                data.addColumn('datetime', '');\n                data.addColumn('number', 'Temperature');\n                data.addRows([\n                              [new Date(2019,11,17,23,00,22),78.332001],\n                              [new Date(2019,11,17,22,00,15),78.332001],\n                              [new Date(2019,11,17,21,02,29),78.458000],\n                              [new Date(2019,11,17,20,04,18),77.594002],\n                              [new Date(2019,11,17,19,01,14),76.765999],\n                              [new Date(2019,11,17,18,02,20),76.622002],\n                              [new Date(2019,11,17,17,02,14),76.477997],\n                              [new Date(2019,11,17,16,02,12),76.514000],\n                              [new Date(2019,11,17,15,02,17),76.334000],\n                              [new Date(2019,11,17,14,02,15),76.136002],\n                              [new Date(2019,11,17,13,02,15),76.028000],\n                              [new Date(2019,11,17,12,02,13),75.578003],\n                              [new Date(2019,11,17,11,02,14),75.685997],\n                              [new Date(2019,11,17,10,02,14),75.722000],\n                              [new Date(2019,11,17,09,02,16),75.811996],\n                              [new Date(2019,11,17,08,01,14),76.117996],\n                              [new Date(2019,11,17,07,01,16),76.550003],\n                              [new Date(2019,11,17,06,02,13),77.108002],\n                              [new Date(2019,11,17,05,02,12),77.846001],\n                              [new Date(2019,11,17,04,00,16),77.900002],\n                              [new Date(2019,11,17,03,00,16),78.134003],\n                              [new Date(2019,11,17,02,00,15),77.431999],\n                              [new Date(2019,11,17,01,00,13),78.061996],\n                              [new Date(2019,11,17,00,00,11),77.683998],\n                              [new Date(2019,11,16,23,00,13),77.954002],\n                              [new Date(2019,11,16,22,00,12),78.098000],\n                              [new Date(2019,11,16,21,00,14),77.612000],\n                              [new Date(2019,11,16,20,02,15),77.594002],\n                              [new Date(2019,11,16,19,02,31),76.783997],\n                              [new Date(2019,11,16,18,02,42),76.783997],\n                              [new Date(2019,11,16,17,02,33),76.837997],\n                              [new Date(2019,11,16,16,08,40),76.783997],\n                              [new Date(2019,11,16,15,02,22),76.820000],\n                              [new Date(2019,11,16,14,02,32),76.874001],\n                              [new Date(2019,11,16,13,02,34),77.288002],\n                              [new Date(2019,11,16,12,02,37),77.360001],\n                              [new Date(2019,11,16,11,02,40),78.206001],\n                              [new Date(2019,11,16,10,02,46),77.648003],\n                              [new Date(2019,11,16,09,02,33),78.295998],\n                              [new Date(2019,11,16,08,02,42),78.026001],\n                              [new Date(2019,11,16,07,02,25),77.648003],\n                              [new Date(2019,11,16,06,05,30),78.043999],\n                              [new Date(2019,11,16,05,02,35),77.468002],\n                              [new Date(2019,11,16,04,00,44),77.720001],\n                              [new Date(2019,11,16,03,00,28),76.514000],\n                              [new Date(2019,11,16,02,00,31),76.982002],\n                              [new Date(2019,11,16,01,00,35),78.043999],\n                              [new Date(2019,11,16,00,01,27),77.989998],\n                              [new Date(2019,11,15,23,01,30),78.889999],\n                              [new Date(2019,11,15,22,01,22),78.800003],\n                              [new Date(2019,11,15,21,01,47),78.835999],\n                              [new Date(2019,11,15,20,01,33),78.800003],\n                              [new Date(2019,11,15,19,01,26),78.620003],\n                              [new Date(2019,11,15,18,01,26),78.620003],\n                              [new Date(2019,11,15,17,00,30),78.566002],\n                              [new Date(2019,11,15,16,00,25),78.314003],\n                              [new Date(2019,11,15,15,00,21),78.241997],\n                              [new Date(2019,11,15,14,03,24),77.917999],\n                              [new Date(2019,11,15,13,01,28),77.269997],\n                              [new Date(2019,11,15,12,01,35),77.071999],\n                              [new Date(2019,11,15,11,00,24),77.414001],\n                              [new Date(2019,11,15,10,00,31),76.963997],\n                              [new Date(2019,11,15,09,00,27),76.676003],\n                              [new Date(2019,11,15,08,00,25),76.928001],\n                              [new Date(2019,11,15,07,00,32),76.837997],\n                              [new Date(2019,11,15,06,00,27),76.639999],\n                              [new Date(2019,11,15,05,00,30),77.162003],\n                              [new Date(2019,11,15,04,01,23),77.216003],\n                              [new Date(2019,11,15,03,01,27),78.098000],\n                              [new Date(2019,11,15,02,01,26),77.629997],\n                              [new Date(2019,11,15,01,02,24),78.188004],\n                              [new Date(2019,11,15,00,00,26),77.846001],\n                              [new Date(2019,11,14,23,01,25),78.223999],\n                              [new Date(2019,11,14,22,00,25),77.972000],\n                              [new Date(2019,11,14,21,01,36),78.134003],\n                              [new Date(2019,11,14,20,00,28),78.403999],\n                              [new Date(2019,11,14,19,01,25),78.223999],\n                              [new Date(2019,11,14,18,01,27),77.900002],\n                              [new Date(2019,11,14,17,01,28),78.043999],\n                              [new Date(2019,11,14,16,01,22),77.720001],\n                              [new Date(2019,11,14,15,01,25),77.828003],\n                              [new Date(2019,11,14,14,01,26),77.377998],\n                              [new Date(2019,11,14,13,01,37),77.269997],\n                              [new Date(2019,11,14,12,01,31),76.351997],\n                              [new Date(2019,11,14,11,01,33),76.028000],\n                              [new Date(2019,11,14,10,01,23),76.136002],\n                              [new Date(2019,11,14,09,01,30),75.776001],\n                              [new Date(2019,11,14,08,01,51),75.811996],\n                              [new Date(2019,11,14,07,01,34),76.351997],\n                              [new Date(2019,11,14,06,00,31),75.776001],\n                              [new Date(2019,11,14,05,00,29),76.837997],\n                              [new Date(2019,11,14,04,00,33),77.125999],\n                              [new Date(2019,11,14,03,00,31),76.442001],\n                              [new Date(2019,11,14,02,02,28),77.557999],\n                              [new Date(2019,11,14,01,01,34),77.737999],\n                              [new Date(2019,11,14,00,02,05),76.910004],\n                              [new Date(2019,11,13,23,02,04),77.900002],\n                              [new Date(2019,11,13,22,02,04),78.061996],\n                              [new Date(2019,11,13,21,02,23),77.251999],\n                              [new Date(2019,11,13,20,05,30),77.449997],\n                              [new Date(2019,11,13,19,04,17),77.162003],\n                              [new Date(2019,11,13,18,00,26),77.468002],\n                              [new Date(2019,11,13,17,00,31),76.982002],\n                              [new Date(2019,11,13,16,00,21),77.197998],\n                              [new Date(2019,11,13,15,00,27),77.036003],\n                              [new Date(2019,11,13,14,00,04),76.837997],\n                              [new Date(2019,11,13,13,02,21),76.748001],\n                              [new Date(2019,11,13,12,02,04),75.919998],\n                              [new Date(2019,11,13,11,02,25),75.973999],\n                              [new Date(2019,11,13,10,08,23),75.830002],\n                              [new Date(2019,11,13,09,05,38),76.190002],\n                              [new Date(2019,11,13,08,02,38),75.776001],\n                              [new Date(2019,11,13,07,08,32),76.171997],\n                              [new Date(2019,11,13,06,00,37),75.272003],\n                              [new Date(2019,11,13,05,01,31),75.667999],\n                              [new Date(2019,11,13,04,01,27),76.820000],\n                              [new Date(2019,11,13,03,01,39),76.477997],\n                              [new Date(2019,11,13,02,07,43),76.622002],\n                              [new Date(2019,11,13,01,01,31),77.000000],\n                              [new Date(2019,11,13,00,02,38),77.792000],\n                              [new Date(2019,11,12,23,02,29),78.818001],\n                              [new Date(2019,11,12,22,00,38),78.295998],\n                              [new Date(2019,11,12,21,00,36),78.169998],\n                              [new Date(2019,11,12,20,01,28),78.278000],\n                              [new Date(2019,11,12,19,01,37),78.169998],\n                              [new Date(2019,11,12,18,04,19),77.828003],\n                              [new Date(2019,11,12,17,04,16),78.080002],\n                              [new Date(2019,11,12,16,01,37),77.702003],\n                              [new Date(2019,11,12,15,01,24),77.720001],\n                              [new Date(2019,11,12,14,00,30),77.648003],\n                              [new Date(2019,11,12,13,12,26),77.000000],\n                              [new Date(2019,11,12,12,00,24),77.197998],\n                              [new Date(2019,11,12,11,01,33),77.000000],\n                              [new Date(2019,11,12,10,01,25),77.737999],\n                              [new Date(2019,11,12,09,02,26),78.134003],\n                              [new Date(2019,11,12,08,01,32),78.169998],\n                              [new Date(2019,11,12,07,04,18),77.737999],\n                              [new Date(2019,11,12,06,03,24),77.989998],\n                              [new Date(2019,11,12,05,09,37),76.585999],\n                              [new Date(2019,11,12,04,03,25),76.694000],\n                              [new Date(2019,11,12,03,01,25),77.557999],\n                              [new Date(2019,11,12,02,01,28),78.278000],\n                              [new Date(2019,11,12,01,02,34),78.872002],\n                              [new Date(2019,11,12,00,02,24),79.862000],\n                              [new Date(2019,11,11,23,02,26),79.879997],\n                              [new Date(2019,11,11,22,02,25),80.150002],\n                              [new Date(2019,11,11,21,02,32),79.681999],\n                              [new Date(2019,11,11,20,02,37),80.167999],\n                              [new Date(2019,11,11,19,56,29),79.970001],\n                              [new Date(2019,11,11,07,06,00),78.620003],\n                              [new Date(2019,11,11,06,53,09),78.620003],\n                              [new Date(2019,11,11,05,12,14),79.267998],\n                              [new Date(2019,11,11,02,00,03),79.699997],\n                              [new Date(2019,11,11,01,17,10),79.879997],\n                              [new Date(2019,11,11,00,00,22),80.078003],\n                              [new Date(2019,11,10,23,12,32),80.744003],\n                              [new Date(2019,11,10,22,39,22),80.276001],\n                              [new Date(2019,11,10,21,09,29),80.239998],\n                              [new Date(2019,11,10,20,00,12),79.807999],\n                              [new Date(2019,11,10,17,16,08),79.160004],\n                              [new Date(2019,11,10,15,32,41),79.015999],\n                              [new Date(2019,11,10,09,02,29),77.251999],\n                              [new Date(2019,11,10,08,23,25),77.468002],\n                              [new Date(2019,11,10,07,46,54),78.889999],\n                              [new Date(2019,11,09,22,10,09),78.746002],\n                              [new Date(2019,11,09,20,04,26),78.260002],\n                              [new Date(2019,11,09,10,09,22),78.655998],\n                              [new Date(2019,11,09,09,16,29),79.339996],\n                              [new Date(2019,11,09,08,00,24),78.764000],\n                              [new Date(2019,11,09,07,51,23),79.106003],\n                              [new Date(2019,11,09,06,39,39),78.620003],\n                              [new Date(2019,11,09,03,01,17),77.125999],\n                              [new Date(2019,11,09,02,58,19),77.180000],\n                              [new Date(2019,11,08,21,02,06),78.440002],\n                              [new Date(2019,11,08,20,59,00),78.440002],\n                              [new Date(2019,11,08,09,37,10),76.820000],\n                              [new Date(2019,11,08,08,31,11),77.323997],\n                              [new Date(2019,11,08,05,01,26),78.169998],\n                              [new Date(2019,11,08,04,25,58),78.620003],\n                              [new Date(2019,11,08,03,07,31),78.223999],\n                              [new Date(2019,11,08,01,22,11),78.620003],\n                              [new Date(2019,11,08,00,00,03),78.440002],\n                              [new Date(2019,11,07,23,13,18),78.601997],\n                              [new Date(2019,11,07,20,01,20),78.512001],\n                              [new Date(2019,11,07,19,39,48),78.494003],\n                              [new Date(2019,11,07,14,34,09),77.180000],\n                              [new Date(2019,11,07,02,44,41),78.440002],\n                              [new Date(2019,11,07,01,05,48),78.314003],\n                              [new Date(2019,11,06,23,06,34),79.519997],\n                              [new Date(2019,11,06,21,23,04),79.160004],\n                              [new Date(2019,11,06,19,20,12),78.169998],\n                              [new Date(2019,11,06,17,02,26),77.503998],\n                              [new Date(2019,11,06,16,02,36),77.774002],\n                              [new Date(2019,11,06,15,56,42),77.540001],\n                              [new Date(2019,11,06,10,06,55),74.732002],\n                              [new Date(2019,11,06,09,02,02),75.056000],\n                              [new Date(2019,11,06,07,07,19),76.351997],\n                              [new Date(2019,11,06,06,07,04),77.360001],\n                              [new Date(2019,11,06,04,04,13),77.989998],\n                              [new Date(2019,11,06,03,43,09),78.620003],\n                              [new Date(2019,11,06,01,02,16),80.384003],\n                              [new Date(2019,11,06,00,47,35),80.599998],\n                              [new Date(2019,11,05,04,05,52),80.708000],\n                              [new Date(2019,11,05,03,02,15),81.194000],\n                              [new Date(2019,11,05,02,02,27),81.176003],\n                              [new Date(2019,11,05,01,20,30),80.816002],\n                              [new Date(2019,11,05,00,29,27),81.139999],\n                              [new Date(2019,11,04,22,06,39),79.519997],\n                              [new Date(2019,11,04,21,18,53),79.519997],\n                              [new Date(2019,11,04,20,00,27),79.898003],\n                              [new Date(2019,11,04,09,04,10),78.206001],\n                              [new Date(2019,11,04,06,10,10),78.620003],\n                              [new Date(2019,11,04,03,04,14),78.440002],\n                              [new Date(2019,11,04,02,43,27),78.620003],\n                              [new Date(2019,11,03,20,56,35),80.599998],\n                              [new Date(2019,11,03,19,01,25),78.980003],\n                              [new Date(2019,11,03,18,10,05),78.494003],\n                              [new Date(2019,11,03,17,01,54),77.792000],\n                              [new Date(2019,11,03,08,36,09),75.739998],\n                              [new Date(2019,11,03,07,07,08),76.694000],\n                              [new Date(2019,11,03,06,42,19),77.360001],\n                              [new Date(2019,11,03,05,18,25),80.059998],\n                              [new Date(2019,11,03,04,09,08),81.139999],\n                              [new Date(2019,11,03,02,04,12),81.806000],\n                              [new Date(2019,11,03,00,05,11),81.014000],\n                              [new Date(2019,11,02,23,08,17),80.942001],\n                              [new Date(2019,11,02,15,12,15),79.160004],\n                              [new Date(2019,11,02,14,06,07),79.393997],\n                              [new Date(2019,11,02,13,48,07),79.160004],\n                              [new Date(2019,11,02,07,18,10),79.519997],\n                              [new Date(2019,11,02,06,14,10),78.800003],\n                              [new Date(2019,11,02,05,13,49),79.015999],\n                              [new Date(2019,11,02,04,25,54),78.620003],\n                              [new Date(2019,11,02,03,44,08),78.800003],\n                              [new Date(2019,11,02,02,04,38),78.403999],\n                              [new Date(2019,11,02,01,58,18),78.440002],\n                              [new Date(2019,11,01,23,55,00),78.260002],\n                              [new Date(2019,11,01,22,36,03),78.080002],\n                              [new Date(2019,11,01,21,14,51),77.972000],\n                              [new Date(2019,11,01,18,27,02),78.332001],\n                              [new Date(2019,11,01,16,06,10),78.008003],\n                              [new Date(2019,11,01,15,54,09),77.720001],\n                              [new Date(2019,11,01,13,57,09),77.540001],\n                              [new Date(2019,11,01,11,01,27),77.809998],\n                              [new Date(2019,11,01,10,01,15),77.503998],\n                              [new Date(2019,11,01,09,19,20),77.900002],\n                              [new Date(2019,11,01,08,49,05),77.594002],\n                              [new Date(2019,11,01,04,18,06),77.792000],\n                              [new Date(2019,11,01,03,45,08),77.774002],\n                              [new Date(2019,11,01,01,03,30),77.648003],\n                              [new Date(2019,11,01,00,04,06),77.882004],\n                              [new Date(2019,10,30,23,19,04),77.737999],\n                              [new Date(2019,10,30,22,02,07),78.134003],\n                              [new Date(2019,10,30,21,59,02),77.900002],\n                              [new Date(2019,10,30,15,24,51),77.720001],\n                              [new Date(2019,10,30,14,33,23),77.900002],\n                              [new Date(2019,10,30,12,37,53),77.720001],\n                              [new Date(2019,10,30,09,03,40),77.900002],\n                              [new Date(2019,10,30,08,39,40),77.809998],\n                              [new Date(2019,10,30,07,04,16),77.468002],\n                              [new Date(2019,10,30,06,00,33),77.972000],\n                              [new Date(2019,10,30,05,00,45),77.449997],\n                              [new Date(2019,10,30,04,30,07),77.720001],\n                              [new Date(2019,10,30,02,47,59),78.800003],\n                              [new Date(2019,10,29,23,22,07),78.620003],\n                              [new Date(2019,10,28,02,00,39),78.620003],\n                              [new Date(2019,10,28,00,10,39),78.080002],\n                              [new Date(2019,10,27,23,02,12),78.853996],\n                              [new Date(2019,10,27,22,19,49),78.332001],\n                              [new Date(2019,10,27,04,27,27),76.603996],\n                              [new Date(2019,10,27,01,14,04),77.557999],\n                              [new Date(2019,10,27,00,13,28),77.575996],\n                              [new Date(2019,10,26,23,00,37),77.989998],\n                              [new Date(2019,10,26,22,30,58),78.620003],\n                              [new Date(2019,10,26,21,06,24),78.241997],\n                              [new Date(2019,10,26,20,51,45),77.540001],\n                              [new Date(2019,10,26,12,25,28),76.405998],\n                              [new Date(2019,10,26,10,30,11),75.919998],\n                              [new Date(2019,10,26,04,40,47),76.820000],\n                              [new Date(2019,10,26,03,30,33),77.360001],\n                              [new Date(2019,10,26,02,01,30),77.234001],\n                              [new Date(2019,10,26,00,02,30),76.748001],\n                              [new Date(2019,10,25,23,15,25),77.216003],\n                              [new Date(2019,10,25,22,01,29),77.720001],\n                              [new Date(2019,10,25,21,52,41),77.900002],\n                              [new Date(2019,10,24,00,01,53),77.269997]\n                              ]);\n                              data.sort({\n                                        column: 1,\n                                        desc: true\n                                        });\n                              var options = {\n                                  legend: 'none',\n                                  width: 3300,\n                                  height: 500,\n                                  options: {\n                                      theme: 'maximized'\n                                  },\n                                  legend: {position: 'none'},\n                                  interpolateNulls: true,\n                                  hAxis: {\n                                      format: 'd-MMM'\n                                  },\n                                  vAxis: {\n                                      format:'#.0\u00b0'\n                                  },\n                                  'backgroundColor': 'transparent',\n                                  &lt;!--                                  axes: {--&gt;\n                                      &lt;!--                                      x: {--&gt;\n                                          &lt;!--                                          0: {side: 'bottom'}--&gt;\n                                          &lt;!--                                      }--&gt;\n                                      &lt;!--                                  }--&gt;\n                              };\n\n                              var chart = new google.charts.Line(document.getElementById('line_top_x'));\n\n                              chart.draw(data, google.charts.Line.convertOptions(options));\n\n            }\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"line_top_x\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Is there anything I am missing or need to add anything ?</p>\n\n<p>-Thanks in advance.\n Aakil</p>\n"}, {"tags": ["ios", "objective-c", "icloud", "simulator", "uidocumentpickerviewcontroller"], "comments": [{"owner": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577174564, "post_id": 59465552, "comment_id": 105111169, "body": "I have same problem but i change Change kUTTypeArchive to kUTTypeItem, you can try it."}, {"owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "reply_to_user": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577174643, "post_id": 59465552, "comment_id": 105111195, "body": "ya sure but i need only zip file."}, {"owner": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577176027, "post_id": 59465552, "comment_id": 105111596, "body": "Ok fine, you can find all type on    <a href=\"https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/UTIRef/Articles/System-DeclaredUniformTypeIdentifiers.html#//apple_ref/doc/uid/TP40009259-SW1\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Miscellane&zwnj;&#8203;ous/&hellip;</a>  Search on this page .zip and you find out many solution, i hope it&#39;s help you"}, {"owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "reply_to_user": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577180658, "post_id": 59465552, "comment_id": 105113204, "body": "Actually the problem is whenever i picked the zip file from the iCloud. it will show the above alert on iPhone simulator that is my problem. My problem is not in the UTType"}, {"owner": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577252395, "post_id": 59465552, "comment_id": 105128996, "body": "I try same code but i didn&#39;t get any alert, did you tried in device?"}, {"owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "reply_to_user": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577337857, "post_id": 59465552, "comment_id": 105143983, "body": "Ok i will try in my device. but i need to know why this alert message show in iPhone simulator."}, {"owner": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577346981, "post_id": 59465552, "comment_id": 105146142, "body": "Can i ask what is your simulator and xCode version???"}, {"owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "reply_to_user": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "edited": false, "score": 0, "creation_date": 1577353200, "post_id": 59465552, "comment_id": 105148038, "body": "it is perfectly works on device. Xcode 11.2.1 and Mac os version 10.14.6 Mojave and iPhone xr simulator"}], "answers": [{"tags": [], "owner": {"reputation": 947, "user_id": 10584330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1I1jK.jpg?s=128&g=1", "display_name": "Anjali Shah", "link": "https://stackoverflow.com/users/10584330/anjali-shah"}, "is_accepted": true, "score": 7, "last_activity_date": 1577425334, "creation_date": 1577425334, "answer_id": 59496461, "question_id": 59465552, "link": "https://stackoverflow.com/questions/59465552/couldnt-communicate-with-a-helper-application-when-i-pick-the-zip-file-from-the/59496461#59496461", "title": "Couldn&#39;t communicate with a helper application when i pick the zip file from the iCloud using UIDocumentPickerViewController", "body": "<p>I think it's problem in only new <code>Xcode 11.2.1</code> Simulator OS 13.2.</p>\n\n<p>Because I also try in <code>Xcode 10.2</code> and XS Max, It's work properly.</p>\n\n<p>In all Device work properly so don't worry about this alert.</p>\n\n<p><strong>Hope it will be solve by Apple soon.</strong></p>\n"}], "owner": {"reputation": 45, "user_id": 6439556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9wXEwpXMKuk/AAAAAAAAAAI/AAAAAAAAAVU/yubxr1rBf64/photo.jpg?sz=128", "display_name": "Kannan Srinivas", "link": "https://stackoverflow.com/users/6439556/kannan-srinivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2443, "favorite_count": 0, "accepted_answer_id": 59496461, "answer_count": 1, "score": 2, "last_activity_date": 1577425334, "creation_date": 1577173738, "last_edit_date": 1577181504, "question_id": 59465552, "link": "https://stackoverflow.com/questions/59465552/couldnt-communicate-with-a-helper-application-when-i-pick-the-zip-file-from-the", "title": "Couldn&#39;t communicate with a helper application when i pick the zip file from the iCloud using UIDocumentPickerViewController", "body": "<p>Whenever i pick the file from the iCloud using UIDocumentPickerviewcontroller from my application but it will show this alert on <code>iPhone</code> simulator.</p>\n\n<p><a href=\"https://i.stack.imgur.com/siDgI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/siDgI.png\" alt=\"enter image description here\"></a> </p>\n\n<pre><code>NSArray *types = @[(NSString*)kUTTypeArchive];\nUIDocumentPickerViewController *docPicker = [[UIDocumentPickerViewController alloc] initWithDocumentTypes:types inMode:UIDocumentPickerModeImport];\ndocPicker.delegate = self;\ndocPicker.modalPresentationStyle = UIModalPresentationPopover;\n[self presentViewController:docPicker animated:YES completion:nil];\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "nscollectionview"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1577181382, "post_id": 59464801, "comment_id": 105113484, "body": "Try const <code>NSCollectionElementKindSectionHeader</code> instead of string <code>@&quot;UICollectionElementKindSectionHeader&quot;</code>."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1577182221, "post_id": 59464801, "comment_id": 105113796, "body": "Shouldn&#39;t <code>viewForSupplementaryElementOfKind</code> return <code>result</code> instead of <code>textView</code>? <code>drawRect:</code> should only draw itself, <code>[_textField drawRect:dirtyRect]</code> is automatically called."}, {"owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1577208899, "post_id": 59464801, "comment_id": 105122286, "body": "Gah! You are correct! Feel free to make that an answer and I&#39;ll accept it."}], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 3, "last_activity_date": 1577270975, "creation_date": 1577270975, "answer_id": 59477620, "question_id": 59464801, "link": "https://stackoverflow.com/questions/59464801/nscollectionview-header-display/59477620#59477620", "title": "NSCollectionView header display", "body": "<p>The return value of <code>collectionView:viewForSupplementaryElementOfKind:atIndexPath:</code> is the supplementary view <code>result</code>.</p>\n\n<pre><code>- (NSView *)collectionView:(NSCollectionView *)collectionView\nviewForSupplementaryElementOfKind:(NSCollectionViewSupplementaryElementKind)kind\n               atIndexPath:(NSIndexPath *)indexPath {\n    NSView* result = [collectionView makeSupplementaryViewOfKind:kind\n                                                  withIdentifier:kSupplementalView\n                                                    forIndexPath:indexPath];\n\n    if ([kind isEqual:NSCollectionElementKindSectionHeader]) {\n        NSTextField* textView = ((CollectionHeaderView*)result).textField;\n        switch (indexPath.section) {\n            case 0:\n                [textView setStringValue:@\"Bright Colors\"];\n                break;\n\n            case 1:\n                [textView setStringValue:@\"Pastel Colors\"];\n                break;\n\n            case 2:\n                [textView setStringValue:@\"Designer Colors\"];\n                break;\n        }\n\n        return result;\n    }\n\n    return nil;\n}\n</code></pre>\n"}], "owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 59477620, "answer_count": 1, "score": 1, "last_activity_date": 1577271239, "creation_date": 1577169497, "last_edit_date": 1577271239, "question_id": 59464801, "link": "https://stackoverflow.com/questions/59464801/nscollectionview-header-display", "title": "NSCollectionView header display", "body": "<p>I have an <code>NSCollectionView</code> that has 3 sections which contains colors from a color palette. I want each section to have a header view with the name of the section. At first glance, it appears to work. On launch, it looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vMGUI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vMGUI.png\" alt=\"A window showing various colors grouped by type, such as Bright Colors, and Pastel Colors\"></a></p>\n\n<p>However, as soon as I resize the window, the header text ends up drawing outside the headers (and also inside it, somehow!):</p>\n\n<p><a href=\"https://i.stack.imgur.com/PLXHx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PLXHx.png\" alt=\"The color palette again with the header text drawn incorrectly.\"></a></p>\n\n<p>In order to have headers in the collection view, I have a header view class named <code>CollectionHeaderView</code>. I register this class as a supplemental view:</p>\n\n<pre><code>    [_collection registerClass:[CollectionHeaderView class]\n    forSupplementaryViewOfKind:@\"UICollectionElementKindSectionHeader\"\n                withIdentifier:kSupplementalView];\n</code></pre>\n\n<p>In the collection view's delegate, I implement the method to return the view for the supplemental element:</p>\n\n<pre><code>- (NSView *)collectionView:(NSCollectionView *)collectionView\nviewForSupplementaryElementOfKind:(NSCollectionViewSupplementaryElementKind)kind\n               atIndexPath:(NSIndexPath *)indexPath {\n    NSView* result = [collectionView makeSupplementaryViewOfKind:kind\n                                                  withIdentifier:kSupplementalView\n                                                    forIndexPath:indexPath];\n\n    if ([kind isEqualToString:@\"UICollectionElementKindSectionHeader\"]) {\n        NSTextField* textView = ((CollectionHeaderView*)result).textField;\n        switch (indexPath.section) {\n            case 0:\n                [textView setStringValue:@\"Bright Colors\"];\n                break;\n\n            case 1:\n                [textView setStringValue:@\"Pastel Colors\"];\n                break;\n\n            case 2:\n                [textView setStringValue:@\"Designer Colors\"];\n                break;\n        }\n\n        return textView;\n    }\n\n    return nil;\n}\n</code></pre>\n\n<p>Furthermore, if I resize the window, the header views do not move. The collection elements seem to flow around the headers, leaving things listed under the wrong section. And, as you can see in the second picture above, widening the window ends up leaving a gap between the right edge of the header and the right edge of the collection view.</p>\n\n<p>The <code>CollectionHeaderView</code> class is very simple. It just creates a text field and draws the background and the text field:</p>\n\n<pre><code>@implementation CollectionHeaderView\n\n- (instancetype)initWithFrame:(NSRect)frameRect {\n    self = [super initWithFrame:frameRect];\n\n    if (self != nil) {\n        NSRect textFrame = frameRect;\n        _textField = [[NSTextField alloc] initWithFrame:textFrame];\n        _textField.editable = NO;\n        _textField.bordered = NO;\n        _textField.font = [NSFont fontWithName:@\"Helvetica-Bold\" size:14.0];\n        _textField.backgroundColor = [NSColor colorWithSRGBRed:0.0 green:0.0 blue:0.0 alpha:0.0];\n        [self addSubview:_textField];\n\n        self.identifier = kSupplementalView;\n    }\n\n    return self;\n}\n\n- (void)drawRect:(NSRect)dirtyRect {\n    [super drawRect:dirtyRect];\n\n    // Drawing code here.\n    NSBezierPath*   fillPath    = [NSBezierPath bezierPath];\n    [fillPath appendBezierPathWithRect:dirtyRect];\n    [[NSColor lightGrayColor] setFill];\n    [fillPath fill];\n\n    [_textField drawRect:dirtyRect];\n}\n\n@end\n</code></pre>\n\n<p>Have I implemented any of the above methods incorrectly? Is there any method I need to implement that I haven't?</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1577157795, "post_id": 59463353, "comment_id": 105107515, "body": "A KVO observable set is a pretty bad idea, but the discussion in the links will elucidate. It would better to explain to us what problem you are really trying to solve."}, {"owner": {"reputation": 121, "user_id": 9680211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ws8pc.png?s=128&g=1", "display_name": "Drawkcab Esrever", "link": "https://stackoverflow.com/users/9680211/drawkcab-esrever"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1577158363, "post_id": 59463353, "comment_id": 105107601, "body": "@matt Thanks for the feedback. Sorry for the bad post. If you have time I would like to hear your advice. I have a class called <code>ArticleController</code>. In this class I have a property called <code>savedArticles</code> (a set). A view controller called <code>SavedArticlesTableViewController</code> wants to know about any time a new article is saved so that it can refresh its table. I suppose I could accomplish this by sending a simple notificaiton. So, I observe any changes to <code>savedArticles</code>, and my observer (the table view) reloads itself."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1577158539, "post_id": 59463353, "comment_id": 105107630, "body": "Well so why not use a setter observer? What do you need KVO for? Or why not make the variable private and make the setter public?"}, {"owner": {"reputation": 121, "user_id": 9680211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ws8pc.png?s=128&g=1", "display_name": "Drawkcab Esrever", "link": "https://stackoverflow.com/users/9680211/drawkcab-esrever"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1577158664, "post_id": 59463353, "comment_id": 105107652, "body": "thank you. And I just realized who you are and just want to say I love your books. I preordered Diving Deep into Ios13 on amazon."}], "owner": {"reputation": 121, "user_id": 9680211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ws8pc.png?s=128&g=1", "display_name": "Drawkcab Esrever", "link": "https://stackoverflow.com/users/9680211/drawkcab-esrever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1577157487, "answer_count": 0, "score": 0, "last_activity_date": 1577157872, "creation_date": 1577156426, "question_id": 59463353, "link": "https://stackoverflow.com/questions/59463353/using-key-value-observation-kvo-with-a-set", "closed_reason": "Duplicate", "title": "Using key value observation (KVO) with a set", "body": "<p>I have a property called <code>savedArticles</code> that I would like to observe. As of now, it is declared as a Set as a property of a Controller type object as shown below:</p>\n\n<pre><code>@objc dynamic var savedArticles: Set&lt;Article&gt; = []\n</code></pre>\n\n<p>This does not work because \"property cannot be marked <code>@objc</code> because its type cannot be represented in Objective-C\".</p>\n\n<p><strong>How should I changed <code>savedArticles</code> so that it can still be used as a set but also be observable?</strong></p>\n\n<p>My first thought was to change the type of my property to NSSet but I couldn't manage to get this working and wasn't even sure if it was the right approach or not. Using this approach, I was forced to manually implelemnt the Hashable protocol for <code>Article</code>. I did that as follows</p>\n\n<pre><code>class Article: Hashable {\n    static func == (lhs: Article, rhs: Article) -&gt; Bool {\n        return lhs.title == rhs.title &amp;&amp; lhs.date == rhs.date &amp;&amp; lhs.author == rhs.author\n    }\n    func hash(into hasher: inout Hasher) {\n        title.hash(into: &amp;hasher)\n        date.hash(into: &amp;hasher)\n        author.hash(into: &amp;hasher)\n    }\n\n    var title: String?\n    var author: String?\n    var description: String?\n    var date: String?\n}\n</code></pre>\n"}, {"tags": ["objective-c", "core-graphics", "quartz-2d"], "answers": [{"comments": [{"owner": {"reputation": 756, "user_id": 1973791, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/26980772186955ff1b476b11e3097ca3?s=128&d=identicon&r=PG", "display_name": "Ecuador", "link": "https://stackoverflow.com/users/1973791/ecuador"}, "edited": false, "score": 0, "creation_date": 1577181165, "post_id": 59464291, "comment_id": 105113400, "body": "Wow thanks. I haven&#39;t needed to use quartz much in the past, so this was definitely not obvious to me. The code example I pasted is found as an answer to several questions in Obj-C or swift - I wonder why nobody mentions this issue, as the buffer is never cleared in this reposted code..."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 2, "last_activity_date": 1577165995, "creation_date": 1577165995, "answer_id": 59464291, "question_id": 59462795, "link": "https://stackoverflow.com/questions/59462795/swap-color-channels-on-uiimage-from-transparent-png-with-quartz-2d/59464291#59464291", "title": "Swap color channels on UIImage from transparent png with quartz 2D", "body": "<p>When you create the bitmap context, it doesn't clear the buffer. (It's perfectly sensible to create a bitmap context with a buffer that contains a preexisting image, for example.)</p>\n\n<p>There are two approaches:</p>\n\n<p>1) explicitly clear it before drawing the original image, using <code>CGContextClearRect()</code></p>\n\n<p>2) set the context's blend mode to \"copy\" before drawing the original image, so that it \"paints over\" whatever junk may have been in the buffer; you would use <code>CGContextSetBlendMode(context, kCGBlendModeCopy)</code> to do that</p>\n"}], "owner": {"reputation": 756, "user_id": 1973791, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/26980772186955ff1b476b11e3097ca3?s=128&d=identicon&r=PG", "display_name": "Ecuador", "link": "https://stackoverflow.com/users/1973791/ecuador"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 59464291, "answer_count": 1, "score": 0, "last_activity_date": 1577325233, "creation_date": 1577149676, "last_edit_date": 1577325233, "question_id": 59462795, "link": "https://stackoverflow.com/questions/59462795/swap-color-channels-on-uiimage-from-transparent-png-with-quartz-2d", "title": "Swap color channels on UIImage from transparent png with quartz 2D", "body": "<p>I have a weird issue. I want to swap red &amp; green color channels of a UIImage I have loaded from a png. I looked up examples and I use the following code, which works fine for png images that have no transparency:</p>\n\n<pre><code>- (UIImage *)redToGreen {\n\nCGImageRef imgRef = [self CGImage];\n\nsize_t width = CGImageGetWidth(imgRef);\nsize_t height = CGImageGetHeight(imgRef);\n\nCGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\nsize_t bitsPerComponent = 8;\nsize_t bytesPerPixel = 4;\nsize_t bytesPerRow = bytesPerPixel * width;\nsize_t totalBytes = bytesPerRow * height;\n\n\n//Allocate Image space\nuint8_t* rawData = malloc(totalBytes);\n\n//Create Bitmap of same size\nCGContextRef context = CGBitmapContextCreate(rawData, width, height, bitsPerComponent, bytesPerRow, colorSpace, kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);\n\n//Draw our image to the context\nCGContextDrawImage(context, CGRectMake(0, 0, width, height), imgRef);\n\nfor ( int i = 0; i &lt; totalBytes; i += 4 ) {\n\n    uint8_t* red = rawData + i;\n    uint8_t* green = rawData + (i + 1);\n    uint8_t red_old = *red;\n\n    *red = *green;\n    *green = red_old;\n}\n\n//Create Image\nCGImageRef newImg = CGBitmapContextCreateImage(context);\n\n//Release Created Data Structs\nCGColorSpaceRelease(colorSpace);\nCGContextRelease(context);\nfree(rawData);\n\n//Create UIImage struct around image\nUIImage* newImage = [UIImage imageWithCGImage:newImg];\n\n//Release our hold on the image\nCGImageRelease(newImg);\n\n//return new image!\nreturn newImage;\n}\n</code></pre>\n\n<p>However, when I try it on transparent pngs, I get weird artefacts in the background.</p>\n\n<p>So this transparent image for example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SrVUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SrVUV.png\" alt=\"Original image\"></a></p>\n\n<p>Loaded on black background shows up as:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Fvkl8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fvkl8.png\" alt=\"After redToGreen\"></a></p>\n\n<p>All I do in the code is:</p>\n\n<pre><code>[btn setImage:[[UIImage imageNamed:@\"trash.png\"] redToGreen] forState:UIControlStateNormal];\n</code></pre>\n\n<p>I tried changing the kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big since there are examples with differences, but nothing seems to work. Any ideas?</p>\n\n<p><strong>Update:</strong>\nI find it strange that this code has been copy-pasted without complaints. Apart from the problem with not clearing the buffer as indicated by the accepted answer, another flaw is that the scale is always set to 1, so if you open a @2x image, the result will have twice the point size. The correct call to make the UIImage would be:</p>\n\n<pre><code>UIImage* newImage = [UIImage imageWithCGImage:newImg scale:self.scale orientation:self.imageOrientation];\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "uiscrollview"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6791579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26df5c0867258ee2da9195a7ba7a6b6c?s=128&d=identicon&r=PG", "display_name": "DarkImage", "link": "https://stackoverflow.com/users/6791579/darkimage"}, "is_accepted": true, "score": 0, "last_activity_date": 1577131353, "creation_date": 1577131353, "answer_id": 59460743, "question_id": 59459125, "link": "https://stackoverflow.com/questions/59459125/uiscrollview-content-get-duplicated-in-background/59460743#59460743", "title": "UiScrollview content get duplicated in background", "body": "<p>It turned out that there was a typo on the constructor method\nthe init method was calling the internalInit which instatiante the nib file and add the nib hierarchy view as a subview of the class the problem is that the init method get called from code to instatiate the class and then initWithFrame get called from the framework for creating the and placing the view.</p>\n\n<pre><code>-(id) init{\n    self = [super init];\n    if (self) {\n        [self internalInit];\n    }\n}\n\n-(id) initWithCoder:(NSCoder *)aDecoder{\n    self = [super initWithCoder:aDecoder];\n    if (self) {\n        [self internalInit];\n    }\n    return self;\n}\n\n-(id) initWithFrame:(CGRect)frame{\n    self = [super initWithFrame:frame];\n    if (self) {\n        [self internalInit];\n    }\n    return self;\n}\n</code></pre>\n\n<p>so basically the change was to remove the call to internal init from the init method</p>\n\n<pre><code>-(id) init{\n    self = [super init];\n    return self;\n}\n</code></pre>\n\n<p>and for reference this is the internalInit method</p>\n\n<pre><code>-(void)internalInit{\n    [[NSBundle mainBundle] loadNibNamed:@\"WeatherForecastSlideView\" owner:self options:nil];\n    [self addSubview:self.contentView];\n    self.scrollView.delegate = self;\n    self.translatesAutoresizingMaskIntoConstraints = NO;\n    NSLayoutConstraint* height = [self.heightAnchor constraintEqualToConstant:self.contentView.bounds.size.height];\n    height.active = YES;\n    height.priority = UILayoutPriorityDefaultHigh;\n    NSLayoutConstraint* width = [self.widthAnchor constraintEqualToConstant:self.contentView.bounds.size.width];\n    width.active = YES;\n    width.priority = UILayoutPriorityDefaultHigh;\n}\n</code></pre>\n\n<p>the method if called more than once will add more subviews to the current view and that was causing the issue</p>\n"}], "owner": {"reputation": 71, "user_id": 6791579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26df5c0867258ee2da9195a7ba7a6b6c?s=128&d=identicon&r=PG", "display_name": "DarkImage", "link": "https://stackoverflow.com/users/6791579/darkimage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59460743, "answer_count": 1, "score": 0, "last_activity_date": 1577131353, "creation_date": 1577121832, "last_edit_date": 1577127961, "question_id": 59459125, "link": "https://stackoverflow.com/questions/59459125/uiscrollview-content-get-duplicated-in-background", "title": "UiScrollview content get duplicated in background", "body": "<p>I'm trying to create a simple weather app and I need a simple image to scroll in a <code>UIScrollView</code> but I noticed that when I set the background color to clear or transparent, the image is static in the background while a \"copy\" is scrolled in the <code>UIScrollView</code> and since a picture is worth a thousand words, here is a proof with the default no image.</p>\n\n<p>This is the hierarchy in Xcode. It's just a scrollview with an image inside it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZGJ33.png\" rel=\"nofollow noreferrer\">XCode hierarchy image</a></p>\n\n<p>And this is the emulator. I scrolled a bit to the left and as you can see there is a copy of it static in the background.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IGUee.png\" rel=\"nofollow noreferrer\">Emulator image</a></p>\n\n<p>If I set a background color for the scrollview it's working fine. The image can be scrolled and the copy is gone but I need it to be transparent.\nIf it's worth mentioning, I'm running it in a virtual machine.</p>\n\n<p>This is the code for adding the XIB file to the view.</p>\n\n<pre><code>[[NSBundle mainBundle] loadNibNamed:@\"WeatherForecastSlideView\" owner:self options:nil];\n[self addSubview:self.contentView];\n</code></pre>\n\n<p>I hope the question is clear and sorry for typos/errors.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 7863, "user_id": 9086770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JW6eS.jpg?s=128&g=1", "display_name": "bxod", "link": "https://stackoverflow.com/users/9086770/bxod"}, "edited": false, "score": 0, "creation_date": 1577130183, "post_id": 59458983, "comment_id": 105102255, "body": "I would break this question up into more specific parts. This talks about mod operators: <a href=\"https://stackoverflow.com/questions/10351293/mod-operator-in-ios\">stackoverflow.com/questions/10351293/mod-operator-in-ios</a> And this talks about date formatters: <a href=\"https://stackoverflow.com/questions/34765304/date-formatter-for-a-certain-format-of-date\" title=\"date formatter for a certain format of date\">stackoverflow.com/questions/34765304/&hellip;</a> Once you get those two working, I think the remaining question is a math one. The link you provided has all of the equations laid out. Never thought of MTC until now, either. Also didn&#39;t know a Mars day is called a sol, thought it was just called a Mars day."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1577132341, "post_id": 59458983, "comment_id": 105102870, "body": "Sorry but your question is rather diffuse. You seem to be asking two different things. Could you pick just one problem and make very clear what it is?"}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1577138370, "post_id": 59458983, "comment_id": 105104362, "body": "I have modified the question so it only asks one."}, {"owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 1, "creation_date": 1577141098, "post_id": 59458983, "comment_id": 105105017, "body": "Stylistic note: I would avoid using <code>CGFloat</code> outside of graphics-related code. Use plain old <code>float</code> or <code>double</code> instead."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1577171850, "post_id": 59458983, "comment_id": 105110384, "body": "Hi, I think I have used those at the beginning, but they gave me widely inaccurate results. CGFloat was the only one that worked. But I will try again with simple floats; maybe I just made a typo or something."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1577177962, "post_id": 59458983, "comment_id": 105112222, "body": "Double works, but float does not. Float gives incorrect results."}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1577145161, "post_id": 59461817, "comment_id": 105105716, "body": "I don&#39;t quite see what the downvote is for. Sure, I wouldn&#39;t use CGFloat either, but the goal seems to be to get the same result as <a href=\"https://jtauber.github.io/mars-clock/\" rel=\"nofollow noreferrer\">jtauber.github.io/mars-clock</a> at the instant the code runs, and that is exactly what we do get."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1577171880, "post_id": 59461817, "comment_id": 105110398, "body": "Thank you Matt! I will try this as soon as possible and report back!"}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1577178144, "post_id": 59461817, "comment_id": 105112288, "body": "This is the answer; it works perfectly. Thank you very much!"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1577148953, "last_edit_date": 1577148953, "creation_date": 1577139332, "answer_id": 59461817, "question_id": 59458983, "link": "https://stackoverflow.com/questions/59458983/calculating-coordinated-mars-time-v2-0/59461817#59461817", "title": "Calculating Coordinated Mars Time v2.0", "body": "<p>Carrying on from the code you gave, I tried:</p>\n\n<pre><code>CGFloat MTC = fmod(24 * MSD, 24);\n</code></pre>\n\n<p>and got</p>\n\n<pre><code>// 19.798515\n</code></pre>\n\n<p>which was right according to <a href=\"https://jtauber.github.io/mars-clock/\" rel=\"nofollow noreferrer\">the web page you cited</a> at the moment I tried it.</p>\n\n<p>The sort of thing his page actually shows, e.g. <code>\"19:49:38\"</code> or whatever (at the time I tried it), is merely a string <em>representation</em> of that number, treating it as a number of hours and just dividing it up into minutes and seconds in the usual way. Which, I suppose, brings us to the second part of your question, i.e. how to convert a number of hours into an hours-minutes-seconds representation? But that is a simple matter, dealt with many times here. See <a href=\"https://stackoverflow.com/questions/1528822/nsnumber-of-seconds-to-hours-minutes-seconds\">NSNumber of seconds to Hours, minutes, seconds</a> for example.</p>\n\n<p>So, carrying on once again, I tried this:</p>\n\n<pre><code>CGFloat secs = MTC*3600;\nNSDate* d = [NSDate dateWithTimeIntervalSince1970:secs];\nNSDateFormatter* df = [NSDateFormatter new];\ndf.dateFormat = @\"HH:mm:ss\";\ndf.timeZone = [NSTimeZone timeZoneWithAbbreviation:@\"GMT\"];\nNSString* result = [df stringFromDate:d];\nNSLog(@\"%@\", result); // 20:10:20\n</code></pre>\n\n<p>...which is exactly the same as his web page was showing at that moment.</p>\n\n<p>And here's a Swift version for those who would like to know what the \"mean time\" is on Mars right now:</p>\n\n<pre><code>let millis = Date().timeIntervalSince1970 * 1000\nlet JDUT = 2440587.5 + (millis / 86400000)\nlet JDTT = JDUT + (37 + 32.184) / 86400\nlet J2000Epoch = ( JDTT - 2451545 )\nlet MSD = (( J2000Epoch - 4.5 ) / 1.0274912517) + 44796.0 - 0.0009626\nlet MTC = (24 * MSD).truncatingRemainder(dividingBy: 24)\nlet d = Date(timeIntervalSince1970: MTC*3600)\nlet df = DateFormatter()\ndf.dateFormat = \"HH:mm:ss\"\ndf.timeZone = TimeZone(abbreviation: \"GMT\")!\ndf.string(from:d)\n</code></pre>\n"}], "owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 59461817, "answer_count": 1, "score": -1, "last_activity_date": 1577178204, "creation_date": 1577120959, "last_edit_date": 1577178204, "question_id": 59458983, "link": "https://stackoverflow.com/questions/59458983/calculating-coordinated-mars-time-v2-0", "title": "Calculating Coordinated Mars Time v2.0", "body": "<p>This is the follow up of a previous question of mine. </p>\n\n<p>In a nutshell, I am trying to follow this tutorial step-by-step: <a href=\"https://jtauber.github.io/mars-clock/\" rel=\"nofollow noreferrer\">https://jtauber.github.io/mars-clock/</a> to get to Coordinated Mars Time, but I got stuck right before the end. My code works fine up until the end (some values are more accurate than in the tutorial because I went back to the source from NASA: <a href=\"https://www.giss.nasa.gov/tools/mars24/help/algorithm.html\" rel=\"nofollow noreferrer\">https://www.giss.nasa.gov/tools/mars24/help/algorithm.html</a> ):</p>\n\n<pre><code>double millis = ( [[NSDate date] timeIntervalSince1970] * 1000 );\nNSLog(@\"millis: %f\", millis);\n\ndouble JDUT = ( 2440587.5 + (millis / 86400000) );\nNSLog(@\"JDUT: %f\", JDUT);\n\ndouble JDTT = ( JDUT + (37 +32.184) / 86400);\nNSLog(@\"JDTT: %f\", JDTT);\n\ndouble J2000Epoch = ( JDTT - 2451545.0 );\nNSLog(@\"J2000Epoch: %f\", J2000Epoch);\n\ndouble MSD = ( (( J2000Epoch - 4.5 ) / 1.0274912517) + 44796.0 - 0.0009626 );\nNSLog(@\"MSD: %f\", MSD);\n</code></pre>\n\n<p>The only step remaining is actually calculating Coordinated Mars Time, using this equation:</p>\n\n<pre><code>MTC = mod24 { 24 h \u00d7 MSD } \n</code></pre>\n\n<p>The problem is that I have no idea how. I tried to use modf( (double), (double *) ) but no idea how it actually works. I tried it the way below, but it gave me an incorrect answer (obviously as I have really no idea what I am doing). :(</p>\n\n<pre><code>double MSD24 = (24 * MSD);\ndouble MCT = modf(24, &amp;MSD24);\nNSLog(@\"MCT: %f\", MCT); // Result: 0.000000\n</code></pre>\n\n<p>Any help would be much appreciated. Thank you very much!</p>\n\n<p>p.s.: Notice that I use Objective-C; I do not understand swift unfortunately! :( </p>\n"}, {"tags": ["objective-c", "swift", "macos", "core-foundation"], "answers": [{"tags": [], "owner": {"reputation": 112, "user_id": 9717671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a47af542fc46684f19f71ab269a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/9717671/psycho"}, "is_accepted": false, "score": 0, "last_activity_date": 1577121951, "creation_date": 1577121951, "answer_id": 59459149, "question_id": 59458981, "link": "https://stackoverflow.com/questions/59458981/cfdictionarygetvalue-throws-exc-bad-access/59459149#59459149", "title": "CFDictionaryGetValue throws EXC_BAD_ACCESS", "body": "<p>Ok so after some more research I still don't know why the error is thrown. However I found a workaround by casting the dictionary to a <code>NSDictionary</code>.</p>\n\n<p>The following code works now:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>let serviceDictionary: NSDictionary = (unmanagedServiceDictionary?.takeRetainedValue())! as NSDictionary\nif let name = serviceDictionary.value(forKey: \"IOName\") as? String {\n    print(name)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 1, "last_activity_date": 1577126235, "last_edit_date": 1577126235, "creation_date": 1577125146, "answer_id": 59459681, "question_id": 59458981, "link": "https://stackoverflow.com/questions/59458981/cfdictionarygetvalue-throws-exc-bad-access/59459681#59459681", "title": "CFDictionaryGetValue throws EXC_BAD_ACCESS", "body": "<p>Handling the CoreFoundation API is a real pain.</p>\n\n<p>The error occurs because you cannot pass a literal <code>String</code> as second parameter of <code>CFDictionaryGetValue</code> which must be a <code>UnsafeRawPointer</code>.</p>\n\n<p>However the solution is pretty easy. Cast the dictionary to a Swift dictionary</p>\n\n<pre><code>if let serviceDictionary = unmanagedServiceDictionary?.takeRetainedValue() as? [String:Any] {\n    if let name = serviceDictionary[\"IOName\"] as? String {\n        print(name)\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 9717671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a47af542fc46684f19f71ab269a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/9717671/psycho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 59459681, "answer_count": 2, "score": 0, "last_activity_date": 1577126235, "creation_date": 1577120936, "question_id": 59458981, "link": "https://stackoverflow.com/questions/59458981/cfdictionarygetvalue-throws-exc-bad-access", "title": "CFDictionaryGetValue throws EXC_BAD_ACCESS", "body": "<p>I found a code snipped from <a href=\"https://stackoverflow.com/questions/18077639/getting-graphic-card-information-in-objective-c\">Getting graphic card information in objective C</a> in Objective-C and I am currently trying to convert it to Swift.\nI am trying to read a value from a <code>CFMutableDictionary</code> (code is below). However when I call the function <code>CFDictionaryGetValue</code> I get an error:\n\"Thread 1: EXC_BAD_ACCESS (code=1, address=0x656d614e4f60)\"</p>\n\n<p>Here is my current code:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>static func getGpuName() {\n        var iterator: io_iterator_t = 0\n        let errCode: kern_return_t  = IOServiceGetMatchingServices(kIOMasterPortDefault, IOServiceMatching(\"IOPCIDevice\"), &amp;iterator)\n        if errCode != kIOReturnSuccess {\n            fatalError(\"Could not retrieve the service dictionary of \\\"IOPCIDevice\\\"\")\n        }\n\n        // iterate over the pci devices\n        var device = IOIteratorNext(iterator)\n        while device != 0 {\n            var unmanagedServiceDictionary: Unmanaged&lt;CFMutableDictionary&gt;?\n            if IORegistryEntryCreateCFProperties(device, &amp;unmanagedServiceDictionary, kCFAllocatorDefault, 0) != kIOReturnSuccess {\n                IOObjectRelease(device)\n                continue\n            }\n\n            if let serviceDictionary: CFMutableDictionary = unmanagedServiceDictionary?.takeRetainedValue() {\n                let name = CFDictionaryGetValue(serviceDictionary, \"IOName\")\n            }\n\n            // release the device\n            IOObjectRelease(device)\n\n            // get the next device from the iterator\n            device = IOIteratorNext(iterator)\n        }\n}\n</code></pre>\n\n<p>Does anybody have an idea how I can read the value of the <code>CFMutableDictionary</code>?</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["ios", "objective-c", "swift", "storyboard", "uistoryboard"], "owner": {"reputation": 1654, "user_id": 1268459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0a0Gk.jpg?s=128&g=1", "display_name": "Rendel", "link": "https://stackoverflow.com/users/1268459/rendel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1577120740, "creation_date": 1577120740, "question_id": 59458945, "link": "https://stackoverflow.com/questions/59458945/different-fonts-for-each-language-using-storyboards-in-ios-application", "title": "Different fonts for each language using storyboards in iOS application", "body": "<p>I'm facing a problem, where I need to use different fonts for each language that my application supports.<br>\nFor example: I need to use \"Arial\" for Georgian language and \"Times new roman\" for English language.<br>\nWell, obviously there are lot's of ways solving this problem programmatically, but how this could be done using storyboards?</p>\n\n<p>I have a UILabel on the view controller which is loaded from Storyboard. If I choose \"Georgian\" language in my iPhone settings >> General >> Language &amp; Region >> PREFERRED LANGUAGE ORDER and open the application, the font of the label should be \"Arial\", but if I choose \"English\" language in iPhone settings, label's font should be \"Times new roman\".  </p>\n\n<p><strong>NOTE: There shouldn't be any storyboard outlets to the code for the label.</strong> </p>\n\n<p>The only thing doing this that comes to my head is to implement @IBInspectable property as UILabel extension and write some part of the code in it:</p>\n\n<pre><code>extension UILabel {\n    @IBInspectable var adjustFont: Bool {\n        get { return false } // we don't care about return value\n        set { // this is where the game starts\n            if newValue {\n                switch systemLanguage {\n                case .Georgian:\n                    self.font = UIFont(name: \"Arial\", size: 17)\n                case .English:\n                    self.font = UIFont(name: \"Times new roman\", size: 17)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Well, this is kinda solution but I'm looking more elegant/correct way doing this.</p>\n\n<p>Any help/suggestions would be helpful.<br>\nThank you</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "swift5"], "comments": [{"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 2, "creation_date": 1577119566, "post_id": 59458612, "comment_id": 105098615, "body": "Instead of adding the picker as a View, set it as the <code>inputView</code> from every textField (<code>myField.inputView = datePicker</code>)"}, {"owner": {"reputation": 8137, "user_id": 7014451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c88303e9efdb9b80cfe1bbb61f9a69ae?s=128&d=identicon&r=PG&f=1", "display_name": "dfd", "link": "https://stackoverflow.com/users/7014451/dfd"}, "edited": false, "score": 0, "creation_date": 1577123224, "post_id": 59458612, "comment_id": 105099980, "body": "It&#39;s very hard (for me) to understand the issue with your screenshot. No downvoting, but based on the one answer suggesting subclassing <code>UIControl</code> and using frames(!) it sounds (again, to me) that you really haven&#39;t analyzed the actual issue enough to (1) ask a specific question about (2) something we can really duplicate. Maybe you could clarify? If it&#39;s layout - which your question title suggests, could you give us the layout code? If it&#39;s part of the screen shot that contains &quot;Oh no! An error! What ever shall we do!&quot; could you give more details to reproduce?"}, {"owner": {"reputation": 59, "user_id": 11731043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17a9efe323eb212204a6a6ebf05d2ed?s=128&d=identicon&r=PG&f=1", "display_name": "Kch", "link": "https://stackoverflow.com/users/11731043/kch"}, "edited": false, "score": 0, "creation_date": 1577124509, "post_id": 59458612, "comment_id": 105100452, "body": "You are right, the image was misleading and unwanted too. Mine was all about Layouts. Basically the datePicker.frame which I used earlier doesn&#39;t really set the date picker at the bottom of the screen. How would I be able to pin the UIDatePicker view to the bottom of the screen. Calebs solution points me in the right direction."}], "answers": [{"tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": true, "score": 1, "last_activity_date": 1577122519, "creation_date": 1577122519, "answer_id": 59459247, "question_id": 59458612, "link": "https://stackoverflow.com/questions/59458612/programming-a-uidate-picker-to-be-fixed-at-the-bottom-of-the-screen-in-swift/59459247#59459247", "title": "Programming a UIDate Picker to be fixed at the bottom of the screen in Swift", "body": "<p><code>UIDatePicker</code> descends from <code>UIControl</code>, which means it's also a subclass of <code>UIView</code>, and it follows the same rules that any other view does. If you want a date picker positioned at the bottom of the screen, then you need to put it there.</p>\n\n<pre><code>datePicker.frame = CGRect(x: 0, y: UIScreen.main.bounds.height - 200, width: self.frame.size.width, height: 200)\n</code></pre>\n\n<p>Here you're setting the vertical position of the date picker to the screen height minus the height of the picker. But you're not adding the picker to the screen, you're adding it to <code>self</code>. If you want the picker to be positioned at the bottom of the view that you're adding it to, then you should calculate the height based on that view, not based on something else that might or might not have the same size. Since you're adding the picker to <code>self</code>, use <code>self.bounds.size.height</code> to calculate the position:</p>\n\n<pre><code>datePicker.frame = CGRect(x: 0, y: self.bounds.size.height - 200, width: self.bounds.size.width, height: 200)\n</code></pre>\n\n<p>If you want the picker to be at the bottom of the <em>screen</em>, then either take steps to ensure that the view that contains it is positioned at the bottom of the screen, or display the picker a different way. CZ54's suggestion in comments to use the picker as an input view is a good one; a more general way to do something similar is to present the date picker modally from the bottom of the screen.</p>\n"}], "owner": {"reputation": 59, "user_id": 11731043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17a9efe323eb212204a6a6ebf05d2ed?s=128&d=identicon&r=PG&f=1", "display_name": "Kch", "link": "https://stackoverflow.com/users/11731043/kch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 59459247, "answer_count": 1, "score": 0, "last_activity_date": 1577123478, "creation_date": 1577119093, "last_edit_date": 1577123478, "question_id": 59458612, "link": "https://stackoverflow.com/questions/59458612/programming-a-uidate-picker-to-be-fixed-at-the-bottom-of-the-screen-in-swift", "title": "Programming a UIDate Picker to be fixed at the bottom of the screen in Swift", "body": "<p>I am trying to add a UIDatePicker to a set of text fields which are already present. I am unable to set the UI Date picker to the bottom of the screen even after trying all the solutions I see on StackOverflow. I am using the MVVM model and I have created a separate file for creating the Picker view.</p>\n\n<pre><code>class UAFieldDatePickerView: UIStackView {....}\n\nextension UAFieldDatePickerView {\n    @objc private func didTapDateView() {\n        guard viewModel.state.value != .disabled else {\n            return\n        }\n        let datePicker = UIDatePicker()\n        datePicker.frame = CGRect(x: 0, y: UIScreen.main.bounds.height - 200, width: self.frame.size.width, height: 200)\n        datePicker.backgroundColor = UIColor.UANeutralGray05\n        datePicker.datePickerMode = .date\n        datePicker.date = Calendar.current.date(byAdding: .day, value: -1, to: Date())!\n        datePicker.addTarget(self, action: #selector(datePickerValueChanged(_:)), for: .valueChanged)\n        self.addSubview(datePicker)\n    }\n\n    @objc func datePickerValueChanged(_ datePicker: UIDatePicker) {\n        datePicker.maximumDate = Date()\n    }\n}\n</code></pre>\n\n<p>The problem I face is not being able to pin the DatePicker to the bottom of the screen. How Will I be able to ensure that the frame is always pinned to the bottom.</p>\n"}, {"tags": ["objective-c", "nsdate", "nscalendar", "nsdatecomponents", "nsdatepicker"], "answers": [{"tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577181726, "creation_date": 1577181726, "answer_id": 59467039, "question_id": 59458513, "link": "https://stackoverflow.com/questions/59458513/nsdate-conversion-is-messed-due-to-timezone/59467039#59467039", "title": "NSDate conversion is messed due to timezone", "body": "<p>It looks like you do superfluous conversion</p>\n\n<p>Let's consider the following code</p>\n\n<pre><code>NSDate *date = [NSDate new]; // &lt;&lt; in UTC always\n\nNSCalendar *calendar = [NSCalendar currentCalendar];\n[calendar setTimeZone:[NSTimeZone defaultTimeZone]]; // &lt;&lt; in local \n\nNSDateComponents *components = [calendar components:\n   (NSCalendarUnitHour | NSCalendarUnitMinute) fromDate:date]; // &lt;&lt; converted to local\n</code></pre>\n\n<p>debug output:</p>\n\n<pre><code>  (lldb) po date\n  2019-12-24 09:53:12 +0000\n\n  (lldb) po components\n  &lt;NSDateComponents: 0x600003c78710&gt; {\n    Hour: 10\n    Minute: 53\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577181726, "creation_date": 1577118564, "question_id": 59458513, "link": "https://stackoverflow.com/questions/59458513/nsdate-conversion-is-messed-due-to-timezone", "title": "NSDate conversion is messed due to timezone", "body": "<p>I'm trying to put a time value on a time picker, the problem is that the time gets messed up because of time zone issue. Here's the code snippet I use:</p>\n\n<pre><code> int targetmillisondsFromMidnight = [self.schedule.targetHour intValue]; // 59580000\n    NSDate* todayMidnight = [NSCalendar.currentCalendar startOfDayForDate:[NSDate new]]; //2019-12-23 00:00:00 UTC\n    NSTimeZone* timezone = [NSTimeZone defaultTimeZone];\n    NSInteger seconds = [timezone secondsFromGMT];\n    todayMidnight = [todayMidnight dateByAddingTimeInterval:seconds];\n    NSDate* scheduleDate = [NSDate dateWithTimeInterval:targetmillisondsFromMidnight/1000 sinceDate:todayMidnight]; //2019-12-23 16:33:00 UTC\n\n    NSCalendar *calendar = [NSCalendar currentCalendar];\n    [calendar setTimeZone:[NSTimeZone defaultTimeZone]];\n    NSDateComponents *components = [calendar components:(NSCalendarUnitHour | NSCalendarUnitMinute) fromDate:scheduleDate];\n\n    [self.datePicker setTimeZone:[NSTimeZone defaultTimeZone]];\n    [self.datePicker setDate:[calendar dateFromComponents:components] animated:YES];\n</code></pre>\n\n<p>When I do <code>po [components hour]</code> instead of getting 16 as in the <code>scheduleDate</code> I get 18.\nHow can I fix this?\nI tried to change the time zones to <code>localTimeZone</code> and <code>timeZoneWithAbbreviation:@\"GMT\"</code> but nothing seems to work.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "crash", "xcode10.1"], "comments": [{"owner": {"reputation": 11172, "user_id": 1987726, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9P77w.jpg?s=128&g=1", "display_name": "Reinhard M&#228;nner", "link": "https://stackoverflow.com/users/1987726/reinhard-m%c3%a4nner"}, "edited": false, "score": 0, "creation_date": 1577131933, "post_id": 59458479, "comment_id": 105102759, "body": "Unfortunately, your screen shot does not show the stack trace of the crashed main thread. Maybe one can find valuable information there."}, {"owner": {"reputation": 113, "user_id": 5134931, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jN7iToSVoQA/AAAAAAAAAAI/AAAAAAAACV0/fRXMiynz0o8/photo.jpg?sz=128", "display_name": "vinita jain", "link": "https://stackoverflow.com/users/5134931/vinita-jain"}, "reply_to_user": {"reputation": 11172, "user_id": 1987726, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9P77w.jpg?s=128&g=1", "display_name": "Reinhard M&#228;nner", "link": "https://stackoverflow.com/users/1987726/reinhard-m%c3%a4nner"}, "edited": false, "score": 0, "creation_date": 1578351425, "post_id": 59458479, "comment_id": 105403525, "body": "@ReinhardM&#228;nnerupdated the new screenshot."}, {"owner": {"reputation": 11172, "user_id": 1987726, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9P77w.jpg?s=128&g=1", "display_name": "Reinhard M&#228;nner", "link": "https://stackoverflow.com/users/1987726/reinhard-m%c3%a4nner"}, "edited": false, "score": 0, "creation_date": 1578394789, "post_id": 59458479, "comment_id": 105416224, "body": "The stack trace shows that an Xcode internal software package, IDE, hit an assertion that failed. This seems to be an Xcode bug, and a report has been sent to Apple automatically. If the usual things (clearing the project, deleting the derived data, restart of Xcode und rebooting the Mac) do not help, I also suggest to upgrade to Xcode 11."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5134931, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jN7iToSVoQA/AAAAAAAAAAI/AAAAAAAACV0/fRXMiynz0o8/photo.jpg?sz=128", "display_name": "vinita jain", "link": "https://stackoverflow.com/users/5134931/vinita-jain"}, "edited": false, "score": 0, "creation_date": 1577119655, "post_id": 59458578, "comment_id": 105098654, "body": "Hi Rahul, Thanks for a quick reply, I tried running command and did reinstalled Xcode also, nothing worked."}, {"owner": {"reputation": 141, "user_id": 3631801, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9fc5d4b64ad90058c948821e7bf979b3?s=128&d=identicon&r=PG&f=1", "display_name": "JohnWick", "link": "https://stackoverflow.com/users/3631801/johnwick"}, "reply_to_user": {"reputation": 113, "user_id": 5134931, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jN7iToSVoQA/AAAAAAAAAAI/AAAAAAAACV0/fRXMiynz0o8/photo.jpg?sz=128", "display_name": "vinita jain", "link": "https://stackoverflow.com/users/5134931/vinita-jain"}, "edited": false, "score": 1, "creation_date": 1577170225, "post_id": 59458578, "comment_id": 105109908, "body": "if you are using pods than go to Workspace right click &gt; show package content &gt; delete xcuserdata foler go back same thing again for xcodeproj and again do it for workspace. second option is to update your xcode to 10.2"}], "tags": [], "owner": {"reputation": 141, "user_id": 3631801, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9fc5d4b64ad90058c948821e7bf979b3?s=128&d=identicon&r=PG&f=1", "display_name": "JohnWick", "link": "https://stackoverflow.com/users/3631801/johnwick"}, "is_accepted": false, "score": 0, "last_activity_date": 1577118857, "creation_date": 1577118857, "answer_id": 59458578, "question_id": 59458479, "link": "https://stackoverflow.com/questions/59458479/i-am-using-xcode10-1-and-it-is-crashing-unexpectedly/59458578#59458578", "title": "I am using Xcode10.1, and it is crashing unexpectedly", "body": "<p>Delete ~/Library/Developer/Xcode/DerivedData by running this command in terminal:    </p>\n\n<pre><code>rm -r ~/Library/Developer/XCode/DerivedData\n</code></pre>\n\n<p>If that doesnt work, At this point and with given info, all I could recommend to delete and reinstall Xcode.</p>\n"}], "owner": {"reputation": 113, "user_id": 5134931, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jN7iToSVoQA/AAAAAAAAAAI/AAAAAAAACV0/fRXMiynz0o8/photo.jpg?sz=128", "display_name": "vinita jain", "link": "https://stackoverflow.com/users/5134931/vinita-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578351401, "creation_date": 1577118416, "last_edit_date": 1578351401, "question_id": 59458479, "link": "https://stackoverflow.com/questions/59458479/i-am-using-xcode10-1-and-it-is-crashing-unexpectedly", "title": "I am using Xcode10.1, and it is crashing unexpectedly", "body": "<p>Tried cleaning caches and other method mentioned on forum to resolve this but dint worked. If I open new project it works, but that also crashes after 3-4 days.How this can be resolved\n[![ ][1]][1]</p>\n\n<p><a href=\"https://i.stack.imgur.com/QuBdo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QuBdo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "in-app-purchase", "xcode11", "face-id"], "comments": [{"owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "edited": false, "score": 0, "creation_date": 1577174213, "post_id": 59456223, "comment_id": 105111055, "body": "Please someone answer me or tell me the reason for Downvote my question"}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1577213766, "creation_date": 1577213766, "answer_id": 59472552, "question_id": 59456223, "link": "https://stackoverflow.com/questions/59456223/in-app-purchase-with-fingerprint-or-face-id-in-objective-c/59472552#59472552", "title": "In App Purchase with fingerprint or Face ID in Objective-C", "body": "<p>The interface used for purchases (shown your screen shot) belongs to Apple, not you. You cannot affect it in any way.</p>\n\n<p>Note too that what you see while testing in the sandbox is not at all what a real user will see in the published app. So the screen shot really indicates nothing about whether the user will see the fingerprint / Face ID dialog. </p>\n"}], "owner": {"reputation": 61, "user_id": 5185586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553454ba0b9178c9b944a4b7b327aef5?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/5185586/akhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1577213766, "creation_date": 1577107861, "last_edit_date": 1577198268, "question_id": 59456223, "link": "https://stackoverflow.com/questions/59456223/in-app-purchase-with-fingerprint-or-face-id-in-objective-c", "title": "In App Purchase with fingerprint or Face ID in Objective-C", "body": "<p>I have an Objective-C Project which I am working using Xcode 11 and I am trying to implement In-App Purchase.\nI used some tutorials and implemented successfully but I am not able to use Fingerprint or Face ID.</p>\n\n<p>Please find the Image Url below in which it shows an old subscription interface asking for the password.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ux78D.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ux78D.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "iosdeployment"], "comments": [{"owner": {"reputation": 8385, "user_id": 988260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wfCdO.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/988260/tyler"}, "edited": false, "score": 0, "creation_date": 1577106739, "post_id": 59455806, "comment_id": 105093009, "body": "What constraints have you set on your image view?"}, {"owner": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "reply_to_user": {"reputation": 8385, "user_id": 988260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wfCdO.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/988260/tyler"}, "edited": false, "score": 0, "creation_date": 1577107110, "post_id": 59455806, "comment_id": 105093162, "body": "My image view is set to fit inside the UIICollectionViewCell I will update my answer showing an image of it. Is that what you mean by constraints?"}, {"owner": {"reputation": 8385, "user_id": 988260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wfCdO.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/988260/tyler"}, "edited": false, "score": 0, "creation_date": 1577107424, "post_id": 59455806, "comment_id": 105093315, "body": "It looks like you might not have added any constraints. Try adding top, leading, bottom, and trailing constraints between the image view and the cell so that the image view is sized correctly when the cell changes size - otherwise the image view will remain this size seen in the storyboard even if the cell is a different size. You will also for sure need to change your image view&#39;s <code>Content Mode</code> (seen in your storyboard image) from <code>Scale to Fill</code> to <code>Aspect Fit</code> in order for the image to scale without stretching. Try making those changes and let me know what that does."}, {"owner": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "reply_to_user": {"reputation": 8385, "user_id": 988260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wfCdO.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/988260/tyler"}, "edited": false, "score": 0, "creation_date": 1577108161, "post_id": 59455806, "comment_id": 105093620, "body": "Woah! Yes that worked. I set the constraints as you said and set the content mode to Aspect Fit and now it&#39;s displaying correctly. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 8385, "user_id": 988260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wfCdO.jpg?s=128&g=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/988260/tyler"}, "is_accepted": true, "score": 1, "last_activity_date": 1577108388, "creation_date": 1577108388, "answer_id": 59456343, "question_id": 59455806, "link": "https://stackoverflow.com/questions/59455806/uiimageview-inside-uicollectionviewcell-image-wont-fit-properly/59456343#59456343", "title": "UIImageView inside UICollectionViewCell image won&#39;t fit properly", "body": "<p>Make sure you add top, leading, bottom, and trailing constraints between the image view and the cell so that the image view is sized correctly when the cell changes size - otherwise the image view will remain this size seen in the storyboard even if the cell changes size.</p>\n\n<p>You will also for sure need to change your image view's <code>Content Mode</code> (seen in your storyboard image) from <code>Scale to Fill</code> to <code>Aspect Fit</code> in order for the image to scale without stretching.</p>\n"}], "owner": {"reputation": 2323, "user_id": 8350647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJNHD.png?s=128&g=1", "display_name": "Nina", "link": "https://stackoverflow.com/users/8350647/nina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 59456343, "answer_count": 1, "score": 2, "last_activity_date": 1577108388, "creation_date": 1577105980, "last_edit_date": 1577107073, "question_id": 59455806, "link": "https://stackoverflow.com/questions/59455806/uiimageview-inside-uicollectionviewcell-image-wont-fit-properly", "title": "UIImageView inside UICollectionViewCell image won&#39;t fit properly", "body": "<p>I have a UICollectionView and each UICollectionViewCell is a custom class with a UIImageView </p>\n\n<pre><code>@interface MyCollectionViewCell : UICollectionViewCell\n@property (weak, nonatomic) IBOutlet UIImageView *image;\n@end\n</code></pre>\n\n<p>Then I have an image I would like to fit inside the imageview. But I can't get the image to fit properly inside the image view. Here's the image. <a href=\"https://i.stack.imgur.com/0U3sK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0U3sK.png\" alt=\"enter image description here\"></a> those are the exact dimensions, I think that's a 36x36 but essentially I don't want the size to matter I just want it to scale down and fit regardless of the size. The dimensions of the UIImageView in the storyboard is 59x54 ( I know this can change depending on how the screen wants to display the cells so again size should not be relevant) These are the current display settings for the view in storyboard <a href=\"https://i.stack.imgur.com/GlQbD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GlQbD.png\" alt=\"enter image description here\"></a> And my UICollectionView delegate code</p>\n\n<pre><code>- (NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView{\n    return 3;\n}\n- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section{\n    return 3;\n}\n\n- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath{\n    MyCollectionViewCell* cell = [collectionView dequeueReusableCellWithReuseIdentifier:@\"Cell\" forIndexPath:indexPath];\n\n    [cell.image setImage:[UIImage imageNamed:@\"avocado\"]];\n\n    return cell;\n}\n</code></pre>\n\n<p>The result looks like this <a href=\"https://i.stack.imgur.com/VJWjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJWjf.png\" alt=\"enter image description here\"></a> So you see how the edge is slightly cut off. I did read a few other answers of trying <code>[cell.image setContentMode:UIViewContentModeScaleAspectFit];</code> but that didn't work either. Does anyone have a solution for this? The UIImageView is fit inside the UICollectionViewCell like so <a href=\"https://i.stack.imgur.com/AmpUm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AmpUm.png\" alt=\"enter image description here\"></a> </p>\n\n<p>The outer blue line is the UICollectionViewCell and the inner blue line is the UIImageView.</p>\n"}, {"tags": ["objective-c", "swift", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": true, "score": 2, "last_activity_date": 1577092889, "last_edit_date": 1577092889, "creation_date": 1577092498, "answer_id": 59452709, "question_id": 59452328, "link": "https://stackoverflow.com/questions/59452328/callback-escaping-function-objective-c-from-swift/59452709#59452709", "title": "Callback @escaping function objective-c from swift", "body": "<blockquote>\n  <p>@objc func <strong>evalute</strong>(completion: @escaping ((Bool) -> Void))</p>\n</blockquote>\n\n<p>I assume the declaration should be</p>\n\n<pre><code>@objc func evaluate(completion: @escaping (Bool) -&gt; Void)\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 8504861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca34aa2c47e91586888837de36b64843?s=128&d=identicon&r=PG", "display_name": "ja12", "link": "https://stackoverflow.com/users/8504861/ja12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "closed_date": 1577198392, "accepted_answer_id": 59452709, "answer_count": 1, "score": -1, "last_activity_date": 1577198380, "creation_date": 1577090653, "last_edit_date": 1577198380, "question_id": 59452328, "link": "https://stackoverflow.com/questions/59452328/callback-escaping-function-objective-c-from-swift", "closed_reason": "Not suitable for this site", "title": "Callback @escaping function objective-c from swift", "body": "<p>I am trying to implement the callback of a Swift function in Objective-C, but it does not show me the following error, \"No visible @interface for 'AccessControl' declares the selector 'evaluateWithCompletion:'\" which can be seen in the image in more detail. </p>\n\n<p><a href=\"https://i.stack.imgur.com/7SVik.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7SVik.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm using Swift 5 and Xcode 11.3</p>\n\n<p>The AccessControl code is:</p>\n\n<pre><code>import Foundation\nimport LocalAuthentication\n\n@objc open class AccessControl: NSObject {\n\n  // Singleton\n  @objc public static let shared = AccessControl()\n\n  // Private\n  private override init() {}\n\n  // Policy\n  private var policy: LAPolicy = .deviceOwnerAuthentication\n\n\n  // Reason\n  private var reason: String = \"reason\"\n\n\n  @objc static func isAuthenticationSupported() -&gt; Bool {\n    if #available(iOS 11.0, *) {\n        let localAuthenticationContext = LAContext()\n        if localAuthenticationContext.canEvaluatePolicy(.deviceOwnerAuthenticationWithBiometrics, error: nil) {\n            if #available(iOS 11.2, *) {\n                return localAuthenticationContext.biometryType != .none\n            } else {\n                return localAuthenticationContext.biometryType != .LABiometryNone\n            }\n        }\n    }\n    return false\n}\n\n@objc func evalute(completion: @escaping ((Bool) -&gt; Void)) {\n    var authError: NSError?\n    guard context.canEvaluatePolicy(policy, error:  &amp;authError) else {\n        completion(false)\n        return\n    }\n\n    context.evaluatePolicy(policy, localizedReason: reason) { success, evaluateError in\n        if success {\n            completion(true)\n        } else {\n            completion(false)\n        }\n    }\n }\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 1440, "user_id": 3122786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Byyve.png?s=128&g=1", "display_name": "J&#233;r&#244;me Teisseire", "link": "https://stackoverflow.com/users/3122786/j%c3%a9r%c3%b4me-teisseire"}, "is_accepted": true, "score": 2, "last_activity_date": 1577050347, "creation_date": 1577050347, "answer_id": 59448182, "question_id": 59448031, "link": "https://stackoverflow.com/questions/59448031/calculating-coordinated-mars-time/59448182#59448182", "title": "Calculating Coordinated Mars Time", "body": "<p>your variable <code>millis</code> must be of type <code>CGFloat</code> to keep the decimals</p>\n\n<pre><code>CGFloat millis = ( [[NSDate date] timeIntervalSince1970] * 1000 );\nNSLog(@\"millis: %ld\", (long)millis);\n\nCGFloat JDUT = ( 2440587.5000 + (millis / 86400000) );\nNSLog(@\"JDUT: %f\", JDUT);\n</code></pre>\n\n<p>result JDUT: <b>2,458,840.394811</b></p>\n"}], "owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 59448182, "answer_count": 1, "score": 1, "last_activity_date": 1577050347, "creation_date": 1577048783, "question_id": 59448031, "link": "https://stackoverflow.com/questions/59448031/calculating-coordinated-mars-time", "title": "Calculating Coordinated Mars Time", "body": "<p>I am trying to follow this tutorial step-by-step: <a href=\"https://jtauber.github.io/mars-clock/\" rel=\"nofollow noreferrer\">https://jtauber.github.io/mars-clock/</a>  but getting wildly inaccurate results. I had to modify step one to get the correct result but got stuck in step two as it always gives me an inaccurate, rounded result.</p>\n\n<pre><code>NSInteger millis = ( [[NSDate date] timeIntervalSince1970] * 1000 );\nNSLog(@\"millis: %ld\", (long)millis);\n\nCGFloat JDUT = ( 2440587.5000 + (millis / 86400000) );\nNSLog(@\"JDUT: %f\", JDUT);\n</code></pre>\n\n<p>As you can see, I had to multiply timeIntervalSince1970 by one thousand to get the correct number, but I cannot get a correct JDUT. It is supposed to be a something like this at the time I am writing this: <strong>2,458,840.37654</strong> but my result is <strong>2,458,839.500000</strong>. I assume it is number conversion problem, but I cannot figure out where I did go wrong.</p>\n\n<p>Your help is much appreciated!</p>\n\n<p>p.s.: Notice that I use Objective-C; I do not understand swift unfortunately!</p>\n\n<p>p.s.2.: If you could save me some time and give me pointers to at least some of the later steps that would be very kind. :)</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 12578862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c3dfa7ed985982a448032b799576fc?s=128&d=identicon&r=PG", "display_name": "Eelco Koelewijn", "link": "https://stackoverflow.com/users/12578862/eelco-koelewijn"}, "is_accepted": true, "score": 1, "last_activity_date": 1577033364, "creation_date": 1577033364, "answer_id": 59446195, "question_id": 59445870, "link": "https://stackoverflow.com/questions/59445870/dynamically-create-views-containing-buttons-what-about-constraints/59446195#59446195", "title": "Dynamically create views containing buttons - what about constraints?", "body": "<p>I would go with a table-view. Setup a cell with an image and a button, separators come for free in a table-view. Make sure the cell has a delegate for the button call-back or a closure to handle the button tap.\nAdd a controller/manager to control the number of views based on the user.</p>\n"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 59446195, "answer_count": 1, "score": 0, "last_activity_date": 1577033364, "creation_date": 1577030998, "question_id": 59445870, "link": "https://stackoverflow.com/questions/59445870/dynamically-create-views-containing-buttons-what-about-constraints", "title": "Dynamically create views containing buttons - what about constraints?", "body": "<p>I want a menu (hidden on the left side of my app) with a variable amount of buttons (depending on the user). I took the app over from another developer and he manually added every view and every button and it is a pain to maintain if you want to add another button in between or change something. So I want to redo it automatically. </p>\n\n<p>But how can I achieve that? Let's say i have on the left x views, each containing an image, a button and a separator (to the button below). So I basically only create one single prototype view, button combo and reuse it for all other buttons. But how do I arrange them so the constraints are correctly set?</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "uiimageview"], "comments": [{"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1577228843, "post_id": 59445830, "comment_id": 105126333, "body": "Have you tried <code>dispatch_async</code> instead of <code>dispatch_sync</code>? Also try adding the image change to an animation block."}], "answers": [{"comments": [{"owner": {"reputation": 808, "user_id": 7257122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326bcbb706e00017f01715775446c13b?s=128&d=identicon&r=PG&f=1", "display_name": "Gautam Shrivastav", "link": "https://stackoverflow.com/users/7257122/gautam-shrivastav"}, "edited": false, "score": 0, "creation_date": 1577093571, "post_id": 59451986, "comment_id": 105087637, "body": "Actually I am setting the default image at first then I set the image from URL, so the conversion from Default to URL makes it blink which I want to avoid. I&#39;ll check your answer and let you know the output. Thanks for the answer."}, {"owner": {"reputation": 1376, "user_id": 4225578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9N2NB.jpg?s=128&g=1", "display_name": "Ron Gahlot", "link": "https://stackoverflow.com/users/4225578/ron-gahlot"}, "reply_to_user": {"reputation": 808, "user_id": 7257122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326bcbb706e00017f01715775446c13b?s=128&d=identicon&r=PG&f=1", "display_name": "Gautam Shrivastav", "link": "https://stackoverflow.com/users/7257122/gautam-shrivastav"}, "edited": false, "score": 0, "creation_date": 1577353416, "post_id": 59451986, "comment_id": 105148122, "body": "add faded animation when you change image its seem clear"}], "tags": [], "owner": {"reputation": 1376, "user_id": 4225578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9N2NB.jpg?s=128&g=1", "display_name": "Ron Gahlot", "link": "https://stackoverflow.com/users/4225578/ron-gahlot"}, "is_accepted": false, "score": 0, "last_activity_date": 1577088644, "creation_date": 1577088644, "answer_id": 59451986, "question_id": 59445830, "link": "https://stackoverflow.com/questions/59445830/need-to-set-the-image-from-url-without-any-blink-read-the-description-to-know-t/59451986#59451986", "title": "Need to set the image from URL without any blink. Read the description to know the complete scenario", "body": "<p>first of all you need to set a default image on this image view after that you call image by url and set on this </p>\n\n<pre><code>NSOperationQueue *queueThumbnl = [[NSOperationQueue alloc] init];\n    [queueThumbnl setMaxConcurrentOperationCount:NSOperationQueueDefaultMaxConcurrentOperationCount];\n    [queueThumbnl addOperationWithBlock:^{\n            // Background work\n              NSURL *imageURL = [NSURL URLWithString:[NSString stringWithFormat:@\"%@\", [NSString stringWithFormat:@\"%@\", [dict valueForKey:@\"attachment\"]]]];\n        NSData *urlData = [NSData dataWithContentsOfURL:imageURL];\n UIImage *image = [UIImage imageWithData:urlData];\n            NSDictionary *dict = [NSDictionary dictionaryWithObjectsAndKeys:self.messageImageview, @\"messageImageview\", urlData, @\"imageData\", nil];\n            [self performSelectorOnMainThread:@selector(mainThreadUIUpdate:) withObject:dict waitUntilDone:YES];\n          //  [self updateThumbnailOnMainThread:anItem setImageTo:cell];\n        }];\n\n\n-(void)mainThreadUIUpdate:(NSDictionary *)dict\n{\n    UIImageView *messge = [dict objectForKey:@\"messageImageview\"];\n    UIImage *image = [dict objectForKey:@\"image\"];\n    [messge.imageView setImage:image];\n    [cell.imageView setNeedsDisplay:YES];\n}\n</code></pre>\n"}], "owner": {"reputation": 808, "user_id": 7257122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326bcbb706e00017f01715775446c13b?s=128&d=identicon&r=PG&f=1", "display_name": "Gautam Shrivastav", "link": "https://stackoverflow.com/users/7257122/gautam-shrivastav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577088644, "creation_date": 1577030692, "last_edit_date": 1577077028, "question_id": 59445830, "link": "https://stackoverflow.com/questions/59445830/need-to-set-the-image-from-url-without-any-blink-read-the-description-to-know-t", "title": "Need to set the image from URL without any blink. Read the description to know the complete scenario", "body": "<p>I am uploading the image from the ImagePicker and once the image is upload on the server I show it from URL. So from local image to URL image, there comes a blink, which I want to avoid but I am unable to fix it. Any suggestion will be really helpful. I am adding the code below:</p>\n\n<pre><code>- (void)setDataOnCell:(NSDictionary *)dict {\n    self.messageTimeLabel.text = [CommonUtils checkForNUllValue:[dict valueForKey:@\"msg_time\"]];\n    if (![[CommonUtils checkForNUllValue:[dict valueForKey:@\"msg_status\"]] isEqualToString:@\"Read\"]) {\n        self.messageTickImageView.image = [UIImage imageNamed:@\"check_delivered_icon\"];\n        self.messageStatusLabel.textColor = [UIColor colorWithRed:166.0f/255.0f green:166.0f/255.0f blue:166.0f/255.0f alpha:1.0];\n    }\n    else {\n        self.messageTickImageView.image = [UIImage imageNamed:@\"check_read_icon\"];\n        self.messageStatusLabel.textColor = [UIColor colorWithRed:254.0f/255.0f green:223.0f/255.0f blue:224.0f/255.0f alpha:1.0];\n    }\n    self.messageStatusLabel.text = [CommonUtils checkForNUllValue:[dict valueForKey:@\"msg_status\"]];\n\n    if ([[NSString stringWithFormat:@\"%@\", [dict valueForKey:@\"attachment_type\"]] isEqualToString:@\"local_img\"]){\n        self.messageImageview.image = [dict valueForKey:@\"attachment\"];\n    }\n    else {\n        dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0),\n                       ^{\n            NSURL *imageURL = [NSURL URLWithString:[NSString stringWithFormat:@\"%@\", [NSString stringWithFormat:@\"%@\", [dict valueForKey:@\"attachment\"]]]];\n            NSData *urlData = [NSData dataWithContentsOfURL:imageURL];\n            //This is your completion handler\n            dispatch_sync(dispatch_get_main_queue(), ^{\n                UIImage *image = [UIImage imageWithData:urlData];\n                self.messageImageview.image = image;\n            });\n        });\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "ios13", "photosframework"], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577022404, "creation_date": 1577022404, "question_id": 59444733, "link": "https://stackoverflow.com/questions/59444733/can-i-open-a-phasset-directly-in-photos-app", "title": "Can I open a PHAsset directly in Photos app?", "body": "<p>In my app I just want to show all photos taken within a specific date range in a collection view. If a user clicks a picture I would love if it directly opens the picture/movie in the photos app. Is that possible?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "uisearchbar", "uisearchcontroller"], "comments": [{"owner": {"reputation": 4485, "user_id": 1015258, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/oTTVU.png?s=128&g=1", "display_name": "koen", "link": "https://stackoverflow.com/users/1015258/koen"}, "edited": false, "score": 0, "creation_date": 1577027124, "post_id": 59444641, "comment_id": 105073372, "body": "Please share the relevant code."}, {"owner": {"reputation": 38, "user_id": 7786465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa34dac85dff2f68b44cc8a75a3bd694?s=128&d=identicon&r=PG&f=1", "display_name": "Hitesh patel", "link": "https://stackoverflow.com/users/7786465/hitesh-patel"}, "edited": false, "score": 0, "creation_date": 1578480109, "post_id": 59444641, "comment_id": 105449291, "body": "<a href=\"https://stackoverflow.com/questions/31446458/how-to-change-height-of-search-bar-swift\" title=\"how to change height of search bar swift\">stackoverflow.com/questions/31446458/&hellip;</a> check this"}, {"owner": {"reputation": 51, "user_id": 10032726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ff55e1b33d549956ee5f5c1bafdebfa?s=128&d=identicon&r=PG&f=1", "display_name": "LorenzoS", "link": "https://stackoverflow.com/users/10032726/lorenzos"}, "edited": false, "score": 0, "creation_date": 1583430015, "post_id": 59444641, "comment_id": 107123119, "body": "I have the same problem, did you solve?"}], "owner": {"reputation": 113, "user_id": 11971010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eebef1e86b72dd9745dab4b16073ceab?s=128&d=identicon&r=PG&f=1", "display_name": "anb", "link": "https://stackoverflow.com/users/11971010/anb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1577024677, "creation_date": 1577021675, "last_edit_date": 1577024677, "question_id": 59444641, "link": "https://stackoverflow.com/questions/59444641/how-to-change-height-of-the-searchbar-in-uisearchcontroller", "title": "How to change height of the searchBar in UISearchController?", "body": "<p>I'm trying out a design that uses a searchController and a tableView. The searchBar is set to the tableView's table header. My problem is I can't properly set the height of the searchBar.</p>\n\n<p>I tried to directly set the height of the searchBar, which turns to only change the the textField's height rather than the searchBar itself. Additionally, if you look at the gif below, the searchBar in searching status is mis-positioned under the safe area in this way.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/JBBzd.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBBzd.gif\" alt=\"enter image description here\"></a></p>\n\n<p>So, in summary, how to properly set the height of the searchBar?</p>\n"}, {"tags": ["objective-c", "nsdocumentcontroller", "recent-documents"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577012915, "post_id": 59442880, "comment_id": 105070324, "body": "Que!?  They both return true?  So what&#39;s the problem?"}, {"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577013179, "post_id": 59442880, "comment_id": 105070381, "body": "Question updated"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577014000, "post_id": 59442880, "comment_id": 105070565, "body": "I never stop accessing the bookmark URL."}, {"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577016237, "post_id": 59442880, "comment_id": 105071005, "body": "<a href=\"https://developer.apple.com/documentation/foundation/nsurl/1417051-startaccessingsecurityscopedreso?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsurl/&hellip;</a>"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577016919, "post_id": 59442880, "comment_id": 105071147, "body": "So what&#39;s the point you are making with that URL?  You&#39;ve already said that B doesn&#39;t work, with B referring to stopping the security bookmark access."}, {"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577038193, "post_id": 59442880, "comment_id": 105076375, "body": "I was wondering why apple recommends to close access and on the other side needs to keep access open for a simple list (recent documents). Itll be great to read productive answers or comments."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1577057601, "post_id": 59442880, "comment_id": 105080261, "body": "I first used the security scope bookmark in June, 2013.  I do remember having read about not stopping the bookmark.  I don&#39;t remember why I made the ultimate decision of not stopping it.  And I never do.  And I have never had a problem.  That&#39;s all I can tell you."}], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577013597, "creation_date": 1577005283, "last_edit_date": 1577013597, "question_id": 59442880, "link": "https://stackoverflow.com/questions/59442880/objective-c-nsdocumentcontroller-recentdocuments-sandbox-weird-issue", "title": "objective-c NSDocumentController recentDocuments Sandbox (weird) issue", "body": "<p>I'm on objective-c, Xcode 11, macOS not iOS, sandboxed application.</p>\n\n<p>I need to manually update recent documents menu. \nI store the URLs in bookmarks so i can access them according to sandbox.</p>\n\n<p>What is weird is that code A works but B does not.\nDoes anyone have an explanation for this?</p>\n\n<pre><code>// Code A\nNSURL* bookmarkURL = (some valid URL from bookmark);\n[bookmarkURL startAccessingSecurityScopedResource]; &lt;- returns TRUE\n[[NSDocumentController sharedDocumentController] noteNewRecentDocumentURL:bookmarkURL];\n//[bookmarkURL stopAccessingSecurityScopedResource]; &lt;-- Without closing access it works\n\n// Code B\nNSURL* bookmarkURL = (some valid URL from bookmark);\n[bookmarkURL startAccessingSecurityScopedResource]; &lt;- returns TRUE\n[[NSDocumentController sharedDocumentController] noteNewRecentDocumentURL:bookmarkURL];\n[bookmarkURL stopAccessingSecurityScopedResource];\n</code></pre>\n\n<p>B doesn't work (with closing security access)! It feels wrong to not close security access.\nFor case B the following error is thrown</p>\n\n<pre><code>Insert failed for list identifier com.apple.LSSharedFileList.ApplicationRecentDocuments Error: Error Domain=NSPOSIXErrorDomain Code=1 \"Operation not permitted\" (Restricted by sandbox) UserInfo={NSDebugDescription=Restricted by sandbox}\n</code></pre>\n\n<p>Without starting security access at all same error is thrown (obviously).</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "react-native", "react-native-firebase"], "answers": [{"tags": [], "owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "is_accepted": false, "score": 0, "last_activity_date": 1578168289, "creation_date": 1578168289, "answer_id": 59594380, "question_id": 59442084, "link": "https://stackoverflow.com/questions/59442084/absl-numeric-int128-have-intrinsic-inc-file-not-found-in-react-native-firebase/59594380#59594380", "title": "absl/numeric/int128_have_intrinsic.inc&#39; file not found in react native firebase ios", "body": "<p>Update to a newer version of CocoaPods. See <a href=\"https://github.com/firebase/firebase-ios-sdk/issues/4355\" rel=\"nofollow noreferrer\">https://github.com/firebase/firebase-ios-sdk/issues/4355</a></p>\n"}], "owner": {"reputation": 6882, "user_id": 2677179, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AiAN8.png?s=128&g=1", "display_name": "Sport", "link": "https://stackoverflow.com/users/2677179/sport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578168289, "creation_date": 1576995741, "question_id": 59442084, "link": "https://stackoverflow.com/questions/59442084/absl-numeric-int128-have-intrinsic-inc-file-not-found-in-react-native-firebase", "title": "absl/numeric/int128_have_intrinsic.inc&#39; file not found in react native firebase ios", "body": "<p>I am getting this error .unable to build .I have tried pod deintegrate  and again pod install but issue. still not fix.</p>\n\n<p>Pods/Headers/Public/abseil/absl/numeric/int128.h:726:10: fatal error: 'absl/numeric/int128_have_intrinsic.inc' file not found</p>\n\n<p>here is my pod version </p>\n\n<p># Required by RNFirebase</p>\n\n<pre><code>  pod 'Firebase/Core', '~&gt; 6.13.0'\n  pod 'Firebase/Auth', '~&gt; 6.13.0'\n  pod 'Firebase/Database', '~&gt; 6.13.0'\n  pod 'Firebase/Functions', '~&gt; 6.13.0'\n  pod 'Firebase/DynamicLinks', '~&gt; 6.13.0'\n  pod 'Firebase/Firestore', '~&gt; 6.13.0'\n  pod 'Firebase/Messaging', '~&gt; 6.13.0'\n  pod 'Firebase/RemoteConfig', '~&gt; 6.13.0'\n  pod 'Firebase/Storage', '~&gt; 6.13.0'\n  pod 'Firebase/Performance', '~&gt; 6.13.0'\n  pod 'Fabric', '~&gt; 1.10.2'\n  pod 'Crashlytics', '~&gt; 3.14.0'\n</code></pre>\n\n<p>and </p>\n\n<pre><code> \"react-native-firebase\": \"^5.6.0\",\n  \"react\": \"16.8.3\",\n    \"react-native\": \"0.59.8\",\n</code></pre>\n\n<p>let me whats the why its coming </p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "xctest", "xcuitest"], "answers": [{"comments": [{"owner": {"reputation": 184, "user_id": 3545256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OxEyP.jpg?s=128&g=1", "display_name": "marvhen", "link": "https://stackoverflow.com/users/3545256/marvhen"}, "edited": false, "score": 0, "creation_date": 1578781992, "post_id": 59680971, "comment_id": 105552697, "body": "So I&#39;m satisfied for the first half of my question, but I&#39;d like to better understand the hows and whys of &quot;When you make some element accessible, its descendants don&#39;t appear in UI tests elements tree&quot;"}, {"owner": {"reputation": 1698, "user_id": 10087586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a519d3ad9a660b39ed65bd4e8e20f9a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Zakharov", "link": "https://stackoverflow.com/users/10087586/roman-zakharov"}, "reply_to_user": {"reputation": 184, "user_id": 3545256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OxEyP.jpg?s=128&g=1", "display_name": "marvhen", "link": "https://stackoverflow.com/users/3545256/marvhen"}, "edited": false, "score": 1, "creation_date": 1578914310, "post_id": 59680971, "comment_id": 105581848, "body": "Let&#39;s take a single tabbar button for example.  It is a view with two subviews \u2013 an image and a text.   You definitely don&#39;t want to make these subviews accessible since making tabbar button accessible is just enough for VoiceOver users.   iOS automatically hides the subviews of accessible element \u2013 and that is the behaviour you need in 99% cases.   If you want your elements to be accessed differently when VoiceOver enabled and when UI tests are run, you should support it on your own. Probably with some environment variable."}], "tags": [], "owner": {"reputation": 1698, "user_id": 10087586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a519d3ad9a660b39ed65bd4e8e20f9a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Zakharov", "link": "https://stackoverflow.com/users/10087586/roman-zakharov"}, "is_accepted": true, "score": 1, "last_activity_date": 1578656376, "creation_date": 1578656376, "answer_id": 59680971, "question_id": 59441174, "link": "https://stackoverflow.com/questions/59441174/why-is-xctest-exposing-a-random-otherelement-in-a-uitableviewcell-and-exhibiti/59680971#59680971", "title": "Why is XCTest exposing a random otherElement in a UITableViewCell? (and exhibiting other inconsistencies)", "body": "<p>This other element is the separation line between cells. \nSince these lines don't affect other elements, they should not bother you. </p>\n\n<p>When you make some element accessible, its descendants don't appear in UI tests elements tree. </p>\n"}], "owner": {"reputation": 184, "user_id": 3545256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OxEyP.jpg?s=128&g=1", "display_name": "marvhen", "link": "https://stackoverflow.com/users/3545256/marvhen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59680971, "answer_count": 1, "score": 0, "last_activity_date": 1578656376, "creation_date": 1576980213, "question_id": 59441174, "link": "https://stackoverflow.com/questions/59441174/why-is-xctest-exposing-a-random-otherelement-in-a-uitableviewcell-and-exhibiti", "title": "Why is XCTest exposing a random otherElement in a UITableViewCell? (and exhibiting other inconsistencies)", "body": "<p>I created a new single view project and added this code to create a UITableView.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    tableView=[[UITableView alloc]init];\n    tableView.frame = CGRectMake(10,30,320,400);\n    tableView.dataSource=self;\n    tableView.delegate=self;\n    tableView.autoresizingMask = UIViewAutoresizingFlexibleHeight | UIViewAutoresizingFlexibleWidth;\n    [tableView registerClass:[UITableViewCell class] forCellReuseIdentifier:@\"Cell\"];\n    [tableView reloadData];\n    [self.view addSubview:tableView];\n}\n\n- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n    static NSString *CellIdentifier = @\"Cell\";\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier   forIndexPath:indexPath] ;\n    if (cell == nil)\n    {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];\n    }\n    cell.textLabel.text = @\"hello\";\n    cell.textLabel.accessibilityIdentifier = @\"world\";\n    return cell;\n}\n\n</code></pre>\n\n<p>My UI test simply prints the view hierarchy with <code>print(app.debugDescription)</code> and as you can see the graph for the main window has 2 leaf views: a <code>StaticText</code> corresponding to <code>cell.textLabel</code> and an unidentified/random <code>Other</code> view.  I've tried many ways to figure out what this <code>Other</code> view is but the answer eludes me.</p>\n\n<pre><code>\nElement subtree:\n \u2192Application, 0x600000d98820, pid: 17292, label: 'TestApp'\n    Window (Main), 0x600000d989c0, {{0.0, 0.0}, {768.0, 1024.0}}\n      Other, 0x600000d98a90, {{0.0, 0.0}, {768.0, 1024.0}}\n        Table, 0x600000d98b60, {{10.0, 30.0}, {320.0, 400.0}}\n          Cell, 0x600000d98c30, {{10.0, 30.0}, {320.0, 44.0}}\n            StaticText, 0x600000d98d00, {{25.0, 30.0}, {290.0, 43.5}}, identifier: 'world', label: 'hello'\n            Other, 0x600000d98dd0, {{25.0, 73.5}, {305.0, 0.5}}\n\n</code></pre>\n\n<p>Perhaps it is more of <a href=\"https://stackoverflow.com/questions/51981332/xcuielement-hierarchy-within-uitableviewcell\">this UITableViewCell odd/unexplained behavior</a>?</p>\n\n<p>The other strangeness that leads me to this is when a <code>UIScrollView</code> containing a <code>UILabel</code> is added to a <code>UITableViewCell</code>, the <code>UIScrollView</code> does not appear in the hierarchy.  So this:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>\n- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n    static NSString *CellIdentifier = @\"Cell\";\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier   forIndexPath:indexPath] ;\n    if (cell == nil)\n    {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];\n    }\n    UIScrollView *sv = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, 10, 10)];\n    UILabel *lb = [[UILabel alloc] initWithFrame:CGRectMake(0,0, 5,5)];\n    [lb setText:@\"hello world\"];\n    [sv addSubview:lb];\n    [[cell contentView] addSubview:sv];\n    return cell;\n}\n\n</code></pre>\n\n<p>yields this:</p>\n\n<pre><code>Element subtree:\n \u2192Application, 0x6000014e75a0, pid: 20372, label: 'TestApp'\n    Window (Main), 0x6000014e7190, {{0.0, 0.0}, {768.0, 1024.0}}\n      Other, 0x6000014e6ff0, {{0.0, 0.0}, {768.0, 1024.0}}\n        Table, 0x6000014e6f20, {{10.0, 30.0}, {320.0, 400.0}}\n          Cell, 0x6000014e6e50, {{10.0, 30.0}, {320.0, 44.0}}\n            StaticText, 0x6000014e6d80, {{10.0, 30.0}, {5.0, 5.0}}, label: 'hello world'\n            Other, 0x6000014e6cb0, {{25.0, 73.5}, {305.0, 0.5}}\n</code></pre>\n\n<p>Whereas this (no table or cell involved):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    UIScrollView *sv = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, 10, 10)];\n    UILabel *lb = [[UILabel alloc] initWithFrame:CGRectMake(0,0, 5,5)];\n    [lb setText:@\"hello world\"];\n    [sv addSubview:lb];\n    [self.view addSubview:sv];\n}\n</code></pre>\n\n<p>seems to work just fine:</p>\n\n<pre><code>\nElement subtree:\n \u2192Application, 0x600000278750, pid: 20442, label: 'TestApp'\n    Window (Main), 0x6000002788f0, {{0.0, 0.0}, {768.0, 1024.0}}\n      Other, 0x600000278820, {{0.0, 0.0}, {768.0, 1024.0}}\n        ScrollView, 0x6000002789c0, {{0.0, 0.0}, {10.0, 10.0}}\n          StaticText, 0x600000278a90, {{0.0, 0.0}, {5.0, 5.0}}, label: 'hello world'\n\n</code></pre>\n\n<p>My thoughts are that this is all somehow related to the way <code>isAccessibilityElement</code>, <code>accessibilityTraits</code> and whether or not a view is a container determine what gets exposed but the inconsistency is bewildering and I'm hoping someone else knows the secret formula.</p>\n"}, {"tags": ["ios", "objective-c", "memory-leaks"], "answers": [{"tags": [], "owner": {"reputation": 1312, "user_id": 3001150, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f547c2a970cd36d5300589c7ff2c4a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Raildex", "link": "https://stackoverflow.com/users/3001150/raildex"}, "is_accepted": true, "score": 0, "last_activity_date": 1577014213, "creation_date": 1577014213, "answer_id": 59443823, "question_id": 59440342, "link": "https://stackoverflow.com/questions/59440342/cametallayer-nextdrawable-memory-leak/59443823#59443823", "title": "CAMetalLayer nextDrawable memory leak?", "body": "<p>The issue was <code>CADisplayLink</code>.<br>\nYou need to use <code>-[[CADisplayLink]invalidate]</code> to properly release it.\nRemoving it from the RunLoop manually is not enough.</p>\n"}], "owner": {"reputation": 1312, "user_id": 3001150, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f547c2a970cd36d5300589c7ff2c4a5f?s=128&d=identicon&r=PG&f=1", "display_name": "Raildex", "link": "https://stackoverflow.com/users/3001150/raildex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 59443823, "answer_count": 1, "score": 0, "last_activity_date": 1577014213, "creation_date": 1576967769, "last_edit_date": 1576968088, "question_id": 59440342, "link": "https://stackoverflow.com/questions/59440342/cametallayer-nextdrawable-memory-leak", "title": "CAMetalLayer nextDrawable memory leak?", "body": "<p>I am currently investigating a memory leak in iOS.</p>\n\n<p>We have a ViewController and a view for that Controller.<br>\nThe ViewController is currently pushed and popped repeatedly (for debugging purposes).<br>\nThe view contains a <code>CAMetalLayer</code> (the class method <code>layerClass</code> returns <code>CAMetalLayer</code>) and a <code>CADisplayLink</code> which calls my render method.<br>\nWhen I call <code>[metalLayer nextDrawable]</code> for the first time, the app allocates approximately 20MB.\nhowever, only a fraction of it is released when the ViewController is popped!\ni am 100% certain that I dont have retain cycles or anything.</p>\n\n<p>Here is my initialization code for the rendering:</p>\n\n<pre><code>-(void)initializeRendering {\n@autoreleasepool {\n    id&lt;MTLDevice&gt; device = [[MetalRenderingSession sharedInstance] renderDevice];\n    [self setCommandQueue:[device newCommandQueue]];\n    CAMetalLayer* layer = static_cast&lt;CAMetalLayer*&gt;([self layer]);\n    layer.device = device;\n    layer.pixelFormat = MTLPixelFormatRGBA16Float;\n    layer.framebufferOnly = true;\n    layer.maximumDrawableCount = 2;\n    layer.contentsScale = [self contentScaleFactor];\n    [self setMetalLayer:layer];\n    CGSize screenSize = [[UIScreen mainScreen] bounds].size;\n    MTLTextureDescriptor* depthTextureDescriptor = [MTLTextureDescriptor texture2DDescriptorWithPixelFormat:MTLPixelFormatDepth32Float\n        width:static_cast&lt;NSUInteger&gt;(screenSize.width) height:static_cast&lt;NSUInteger&gt;(screenSize.height) mipmapped:NO];\n    [depthTextureDescriptor setUsage:MTLTextureUsageRenderTarget];\n    id&lt;MTLTexture&gt; depthTexture = [device newTextureWithDescriptor:depthTextureDescriptor];\n    [self setTextureDepth:depthTexture];\n    [self updateOrientation:[[UIApplication sharedApplication] statusBarOrientation] size:[self frame].size];\n    CADisplayLink* renderLink = [CADisplayLink displayLinkWithTarget:self selector:@selector(render)];\n    [renderLink setPreferredFramesPerSecond:30];\n    [self setDisplayLink:renderLink];\n    [renderLink addToRunLoop:[NSRunLoop mainRunLoop] forMode:NSDefaultRunLoopMode];\n}\n}\n</code></pre>\n\n<p>here is my actual render code:</p>\n\n<pre><code>-(void)render {\n@autoreleasepool {\n    dispatch_semaphore_wait([self renderCommandExecuting], DISPATCH_TIME_FOREVER);\n    id&lt;MTLCommandBuffer&gt; commandBuffer = [[self commandQueue] commandBuffer];\n    [[self commandQueue] insertDebugCaptureBoundary];\n\n    //commenting next line and lines that use drawable makes memory leak disappear?\n    id&lt;CAMetalDrawable&gt; drawable = [[self metalLayer] nextDrawable];\n    id&lt;MTLRenderCommandEncoder&gt; encoder = [self createCommandEncoderfromCommandBuffer:commandBuffer andDrawable:drawable];\n    //creating ViewPort here\n    [encoder setViewport:viewport];\n\n    //doing rendering here, but for debugging purpoeses i disabled rendering \n    [encoder endEncoding];\n    [commandBuffer presentDrawable:drawable];\n\n    [commandBuffer addCompletedHandler:^(id&lt;MTLCommandBuffer&gt; o) {\n        dispatch_semaphore_signal([self renderCommandExecuting]);\n    }];\n    [commandBuffer commit];\n    [commandBuffer waitUntilCompleted];\n}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/O4gZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O4gZc.png\" alt=\"enter image description here\"></a></p>\n\n<p>to me, it looks like for every <code>CAMetalLayer</code>, the app creates a <code>IOSurface</code>\n, but how can I release these?</p>\n\n<p>the diagram is stepped, because i wait 2 seconds before popping the view controller.\nThe \"steps\" appear when I push the view controller.<br>\nI noticed that only \"VM:IOSurface\" climbs up, the rest stays the same.</p>\n\n<p>here is my cleanup code (within view, called from <code>viewWillDisappear</code>):</p>\n\n<pre><code>-(void)stop {\n[[self displayLink] setPaused:YES];\n[[self displayLink] removeFromRunLoop:[NSRunLoop mainRunLoop] forMode:NSDefaultRunLoopMode];\n//those are 4*4 float arrays, they are allocated in the view's init\nfree([self projectionMatrix]);\nfree([self viewMatrix]);\nfree([self modelMatrix]);\n[self setCommandQueue:nil];\n[self setMetalLayer:nil];\n[self setTextureDepth:nil];\n[self setRenderCommandExecuting:nil];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "memory-leaks", "wkwebview", "dealloc"], "comments": [{"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1577228987, "post_id": 59438919, "comment_id": 105126348, "body": "Are you adding a <code>WKWebView</code> in code? Does it have a <code>strong</code> reference?"}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "reply_to_user": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1577290370, "post_id": 59438919, "comment_id": 105136867, "body": "I am adding it through a nib and I added the code for the reference in the question.  However I dont know if this is where the error is happening but its one of the places where the WKWebView is at, but its the same as the others.  I do have firebase that might do things behind the scenes."}, {"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1577654111, "post_id": 59438919, "comment_id": 105217717, "body": "Some debugging thoughts: Do you use delegates? If so, are they valid? Can you override <code>[UIViewController loadView]</code> in your custom controller and see how things look before calling <code>[super loadView]</code>?"}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1577656104, "post_id": 59438919, "comment_id": 105218171, "body": "That is the thing.  I dont know where exactly this is happening since you can see by that stack trace no custom code."}, {"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1577659024, "post_id": 59438919, "comment_id": 105218798, "body": "True, but the stack trace still describes an activity that you should be able to intercept.  A navigation controller is loading some view controller which, in turn, is loading a WKWebView from a nib.  Presumably, you would know which view controllers are capable of doing that and could therefore insert a <code>loadView</code> method."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1577662222, "post_id": 59438919, "comment_id": 105219383, "body": "I did super loadView and the thing doesnt even work anymore with loading the website."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1577672064, "post_id": 59438919, "comment_id": 105220918, "body": "Never never never call <code>super loadView</code>"}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1577672158, "post_id": 59438919, "comment_id": 105220927, "body": "I figured that after this guy told me"}, {"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1578081008, "post_id": 59438919, "comment_id": 105335316, "body": "FWIW, the point was just to put a <code>loadView</code> there long enough to insert a breakpoint and see what was going on."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1578081479, "post_id": 59438919, "comment_id": 105335561, "body": "The crash looks like it is happening on launch"}], "answers": [{"comments": [{"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1577907912, "post_id": 59529037, "comment_id": 105279646, "body": "Yes its iOS 13, so that isnt the issue"}], "tags": [], "owner": {"reputation": 604, "user_id": 2424041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IcXwq.jpg?s=128&g=1", "display_name": "Lei Zhang", "link": "https://stackoverflow.com/users/2424041/lei-zhang"}, "is_accepted": false, "score": 1, "last_activity_date": 1577700472, "creation_date": 1577700472, "answer_id": 59529037, "question_id": 59438919, "link": "https://stackoverflow.com/questions/59438919/exc-bad-access-kern-invalid-address-for-wkwebview-dealloc/59529037#59529037", "title": "EXC_BAD_ACCESS KERN_INVALID_ADDRESS for WKWebView dealloc", "body": "<p>Are you running the app on the iOS 11 or above?\nSince there was a bug in [WKWebView initWithCoder:] that was only fixed in iOS 11, which causes the crash.</p>\n\n<p>Before iOS11, we should create the instance of WkWebView like below:</p>\n\n<pre><code>    let webConfiguration = WKWebViewConfiguration()\n    webConfiguration.userContentController.add(self, name: \"callbackHandler\")\n    wkWebView = WKWebView(frame: contentView.bounds, configuration: webConfiguration)\n    wkWebView.allowsLinkPreview = false\n    wkWebView.translatesAutoresizingMaskIntoConstraints = false\n    wkWebView.navigationDelegate = self\n    contentView.addSubview(wkWebView)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1336, "user_id": 1673192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afef5444d5963f7f66b2ac7cd0b82433?s=128&d=identicon&r=PG&f=1", "display_name": "nitin.agam", "link": "https://stackoverflow.com/users/1673192/nitin-agam"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578485026, "post_id": 59564903, "comment_id": 105452044, "body": "Instead of a nib, you can use the above code. It will work fine."}], "tags": [], "owner": {"reputation": 1336, "user_id": 1673192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afef5444d5963f7f66b2ac7cd0b82433?s=128&d=identicon&r=PG&f=1", "display_name": "nitin.agam", "link": "https://stackoverflow.com/users/1673192/nitin-agam"}, "is_accepted": false, "score": 0, "last_activity_date": 1577974823, "creation_date": 1577974823, "answer_id": 59564903, "question_id": 59438919, "link": "https://stackoverflow.com/questions/59438919/exc-bad-access-kern-invalid-address-for-wkwebview-dealloc/59564903#59564903", "title": "EXC_BAD_ACCESS KERN_INVALID_ADDRESS for WKWebView dealloc", "body": "<p>Check this code:</p>\n\n<pre><code>lazy var contentWebView: WKWebView = {\n    let webView = WKWebView(frame: .zero)\n    webView.navigationDelegate = self\n    webView.allowsLinkPreview = true\n    webView.uiDelegate = self\n    webView.backgroundColor = .clear\n    webView.scrollView.isScrollEnabled = true\n    webView.scrollView.backgroundColor = .clear\n    webView.sizeToFit()\n    return webView\n}()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 182, "user_id": 4261814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVS1g.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4261814/george"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578083904, "post_id": 59584433, "comment_id": 105336487, "body": "@MikeFlynn, I read the post, but you talking about UINib, so they&#39;re still use weak reference. Your object 0x2aff496d WKWebView deallocated and WebKit reference to them. Try handle this by making IBOutlet weak."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578095931, "post_id": 59584433, "comment_id": 105339768, "body": "Ok but what is the difference between me using a nib/outlet and them using a storyboard/outlet? Isnt that the same thing? They are saying to use a strong property and if you use weak you can get crashes?"}, {"owner": {"reputation": 182, "user_id": 4261814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVS1g.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4261814/george"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578136373, "post_id": 59584433, "comment_id": 105345862, "body": "@MikeFlynn I&#39;m using Xcode 11. I have dragged UILabel from storyboard to the viewcontroller and UINib to the view and I had have weak reference though in the post used Xcode 9 and reference was strong, may be it&#39;s a bug in Xcode 9.  The UIViewController has to keep strong reference to the view, because UIViewController doesn&#39;t inherited from view and doesn&#39;t has UIView hierarchy. And vice versa, UIView has strong reference on it\u2019s subviews addSubview. So, when you assign view with strong attribute it\u2019s redundant. <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622616-addsubview\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/uiview/&hellip;</a>"}, {"owner": {"reputation": 182, "user_id": 4261814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVS1g.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4261814/george"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578136402, "post_id": 59584433, "comment_id": 105345869, "body": "@MikeFlynn. Back to the question. The crash with log EXC_BAD_ACCESS KERN_INVALID_ADDRESS says literally that INVALID ADDRESS! That means, some object try send message to the unexisten object."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578235755, "post_id": 59584433, "comment_id": 105366126, "body": "Sorry I am keeping it strong, <a href=\"https://stackoverflow.com/questions/7678469/should-iboutlets-be-strong-or-weak-under-arc/31395938#31395938\" title=\"should iboutlets be strong or weak under arc\">stackoverflow.com/questions/7678469/&hellip;</a>"}, {"owner": {"reputation": 182, "user_id": 4261814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVS1g.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4261814/george"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578315718, "post_id": 59584433, "comment_id": 105388258, "body": "@MikeFlynn it&#39;s always depends at the situation(By default I use weak and don&#39;t have any problem with that). From yours last link: &quot;The current recommended best practice from Apple is for IBOutlets to be strong unless weak is specifically needed to avoid a retain cycle...&quot; But here you have the crash, perhaps, cause you keep strong reference on dead object (memory location that already contains trash). Have you tried a weak reference to avoid crash?"}], "tags": [], "owner": {"reputation": 182, "user_id": 4261814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVS1g.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/4261814/george"}, "is_accepted": false, "score": 0, "last_activity_date": 1578080596, "creation_date": 1578080596, "answer_id": 59584433, "question_id": 59438919, "link": "https://stackoverflow.com/questions/59438919/exc-bad-access-kern-invalid-address-for-wkwebview-dealloc/59584433#59584433", "title": "EXC_BAD_ACCESS KERN_INVALID_ADDRESS for WKWebView dealloc", "body": "<p>WebKit still attempt to call the deallocated object 0x2aff496d WKWebView. </p>\n\n<p>Your IBOutlet has strong attribute, it's not necessary, because nib keep strong reference on it's subviews. </p>\n\n<p>Try to make the attribute weak:</p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet WKWebView *bracketWebView;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578235669, "post_id": 59597589, "comment_id": 105366099, "body": "To my knowledge, no.  I had the same issue several months ago."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1578235800, "post_id": 59597589, "comment_id": 105366139, "body": "Then why do you think this is a fix? WebKit is being called fine."}], "tags": [], "owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "is_accepted": false, "score": 0, "last_activity_date": 1578206282, "creation_date": 1578206282, "answer_id": 59597589, "question_id": 59438919, "link": "https://stackoverflow.com/questions/59438919/exc-bad-access-kern-invalid-address-for-wkwebview-dealloc/59597589#59597589", "title": "EXC_BAD_ACCESS KERN_INVALID_ADDRESS for WKWebView dealloc", "body": "<p>You need to add the WebKit framework to your Target.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Yi0Lt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yi0Lt.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1579286089, "creation_date": 1579286089, "answer_id": 59793088, "question_id": 59438919, "link": "https://stackoverflow.com/questions/59438919/exc-bad-access-kern-invalid-address-for-wkwebview-dealloc/59793088#59793088", "title": "EXC_BAD_ACCESS KERN_INVALID_ADDRESS for WKWebView dealloc", "body": "<p>This seemed to be a Firebase Admob issue.  Adding the below fixed it, no issues since.</p>\n\n<pre><code>&lt;key&gt;gad_preferred_webview&lt;/key&gt;\n&lt;string&gt;wkwebview&lt;/string&gt;\n</code></pre>\n\n<p><a href=\"https://groups.google.com/forum/#!category-topic/google-admob-ads-sdk/ios/I4EEWrPPbSc\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!category-topic/google-admob-ads-sdk/ios/I4EEWrPPbSc</a></p>\n"}], "owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 59793088, "answer_count": 5, "score": 1, "last_activity_date": 1579286089, "creation_date": 1576953813, "last_edit_date": 1577290350, "question_id": 59438919, "link": "https://stackoverflow.com/questions/59438919/exc-bad-access-kern-invalid-address-for-wkwebview-dealloc", "title": "EXC_BAD_ACCESS KERN_INVALID_ADDRESS for WKWebView dealloc", "body": "<p>Why would the below stack trace throw a EXC_BAD_ACCESS KERN_INVALID_ADDRESS because of the WKWebView?  I can't tell where this is happening either.</p>\n\n<p>I dont know where this is happening but here is my reference to the WKWebView in one of my nibs.</p>\n\n<pre><code>@property (strong, nonatomic) IBOutlet WKWebView *bracketWebView;\n</code></pre>\n\n<p><strong>StackTrace</strong></p>\n\n<pre><code>Crashed: com.apple.main-thread\n0  WebKit                         0x2af40854 WebKit::WebPageProxy::close() + 11\n1  WebKit                         0x2aff496d -[WKWebView dealloc] + 120\n2  WebKit                         0x2aff496d -[WKWebView dealloc] + 120\n3  WebKit                         0x2aff48f1 -[WKWebView initWithCoder:] + 20\n4  UIKit                          0x28bc310f UINibDecoderDecodeObjectForValue + 782\n5  UIKit                          0x28bc2df5 -[UINibDecoder decodeObjectForKey:] + 296\n6  UIKit                          0x28aab4a5 -[UIRuntimeConnection initWithCoder:] + 160\n7  UIKit                          0x28bc310f UINibDecoderDecodeObjectForValue + 782\n8  UIKit                          0x28bc30a1 UINibDecoderDecodeObjectForValue + 672\n9  UIKit                          0x28bc2df5 -[UINibDecoder decodeObjectForKey:] + 296\n10 UIKit                          0x28aaaa0b -[UINib instantiateWithOwner:options:] + 1110\n11 UIKit                          0x2895daa3 -[UIViewController _loadViewFromNibNamed:bundle:] + 322\n12 UIKit                          0x28730ffb -[UIViewController loadView] + 142\n13 UIKit                          0x285f6a1f -[UIViewController loadViewIfRequired] + 150\n14 UIKit                          0x2860ee71 -[UIViewController __viewWillAppear:] + 124\n15 UIKit                          0x287a51e5 -[UINavigationController _startCustomTransition:] + 1040\n16 UIKit                          0x286b34a7 -[UINavigationController _startDeferredTransitionIfNeeded:] + 650\n17 UIKit                          0x286b31b5 -[UINavigationController __viewWillLayoutSubviews] + 52\n18 UIKit                          0x286b312b -[UILayoutContainerView layoutSubviews] + 214\n19 UIKit                          0x285f2a73 -[UIView(CALayerDelegate) layoutSublayersOfLayer:] + 714\n20 QuartzCore                     0x2668abcd -[CALayer layoutSublayers] + 128\n21 QuartzCore                     0x26686375 CA::Layer::layout_if_needed(CA::Transaction*) + 348\n22 QuartzCore                     0x26686209 CA::Layer::layout_and_display_if_needed(CA::Transaction*) + 16\n23 QuartzCore                     0x266856d1 CA::Context::commit_transaction(CA::Transaction*) + 368\n24 QuartzCore                     0x266853a5 CA::Transaction::commit() + 520\n25 QuartzCore                     0x2667eb2b CA::Transaction::observer_callback(__CFRunLoopObserver*, unsigned long, void*) + 138\n26 CoreFoundation                 0x2403d6c9 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 20\n27 CoreFoundation                 0x2403b9cd __CFRunLoopDoObservers + 280\n28 CoreFoundation                 0x2403bdff __CFRunLoopRun + 958\n29 CoreFoundation                 0x23f8b229 CFRunLoopRunSpecific + 520\n30 CoreFoundation                 0x23f8b015 CFRunLoopRunInMode + 108\n31 GraphicsServices               0x2557bac9 GSEventRunModal + 160\n32 UIKit                          0x2865f189 UIApplicationMain + 144\n33 com.exposure.0                 0xbad0d main + 15 (main.m:15)\n34 ???                            0x23c33873 (Missing)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsattributedstring"], "comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1576949047, "post_id": 59438214, "comment_id": 105060611, "body": "This code seems copy-and-pasted directly from your project, but the return statement at the end has the wrong capitalization, which is very suspicious. Was this some kind of typo?"}, {"owner": {"reputation": 4485, "user_id": 1015258, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/oTTVU.png?s=128&g=1", "display_name": "koen", "link": "https://stackoverflow.com/users/1015258/koen"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1576949333, "post_id": 59438214, "comment_id": 105060694, "body": "Yeah, a typo, thanks for pointing it out."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1576950279, "post_id": 59438214, "comment_id": 105060892, "body": "I can confirm that this code work in 12.4 and fails in 13.3. Looking at the generated NSAttributedString, it looks fine, so I would suspect a bug in UIKit and would open a Feedback Report about that."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1576950507, "post_id": 59438214, "comment_id": 105060943, "body": "Found it: <a href=\"https://stackoverflow.com/questions/58300329/super-subscript-appear-to-be-broken-in-ios13-nsattributedstring\" title=\"super subscript appear to be broken in ios13 nsattributedstring\">stackoverflow.com/questions/58300329/&hellip;</a>"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 2, "creation_date": 1576950657, "post_id": 59438214, "comment_id": 105060971, "body": "Change <code>superscriptAttributeName</code> to <code>@&quot;NSSuperScript&quot;</code>. That seems horrible, and there has to be a better way to get this attribute name, but that definitely works."}, {"owner": {"reputation": 4485, "user_id": 1015258, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/oTTVU.png?s=128&g=1", "display_name": "koen", "link": "https://stackoverflow.com/users/1015258/koen"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1576950715, "post_id": 59438214, "comment_id": 105060986, "body": "Thanks for finding that! I vaguely remember switching to <code>kCTSuperscriptAttributeName</code> because <code>NSSuperscriptAttributeName</code> or whatever it was called then didn&#39;t work."}], "owner": {"reputation": 4485, "user_id": 1015258, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/oTTVU.png?s=128&g=1", "display_name": "koen", "link": "https://stackoverflow.com/users/1015258/koen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1576950515, "answer_count": 0, "score": 2, "last_activity_date": 1576950159, "creation_date": 1576948239, "last_edit_date": 1576950159, "question_id": 59438214, "link": "https://stackoverflow.com/questions/59438214/nsattributedstring-with-sub-superscript-on-ios-13", "closed_reason": "Duplicate", "title": "NSAttributedString with sub/superscript on iOS 13", "body": "<p>I maintain an app written in Objective-C and in some places it shows chemical formulas To implement the sub- and superscripts I have this code in an <code>NSString</code> extension.</p>\n\n<pre><code>- (NSMutableAttributedString *) chemicalFormulaWithFont: (UIFont *) font\n{\n    if (self.length == 0)\n        return nil;\n\n    NSDictionary *normalAttribute = @{NSFontAttributeName: font};\n    NSDictionary *baselineAttribute = @{NSBaselineOffsetAttributeName : @0};\n\n    UIFont *smallFont = [UIFont fontWithName: font.fontName\n                                        size: font.pointSize * 0.75];\n\n    NSString *superscriptAttributeName = (NSString *)kCTSuperscriptAttributeName;\n\n    NSDictionary *subscriptAttribute = @{superscriptAttributeName : @-1,\n                                         NSFontAttributeName: smallFont};\n\n    NSDictionary *superscriptAttribute = @{superscriptAttributeName : @1,\n                                           NSFontAttributeName: smallFont};\n\n    NSCharacterSet *decimalDigits = [NSCharacterSet decimalDigitCharacterSet];\n\n    NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString: self];\n\n    NSUInteger length = attributedString.length;\n    NSRange range = NSMakeRange(0, length);\n    [attributedString addAttributes: normalAttribute range: range];\n\n    while (range.location != NSNotFound)\n    {\n        range = [attributedString.string rangeOfCharacterFromSet: decimalDigits options: 0 range: range];\n\n        if (range.location != NSNotFound)\n        {\n            unichar ch = [attributedString.string characterAtIndex: range.location - 1];\n\n            if ((ch != '-') &amp;&amp; (ch != '+'))\n            {\n                [attributedString addAttributes: subscriptAttribute range: range];\n            }\n\n            range = NSMakeRange(range.location + range.length, length - (range.location + range.length));\n        }\n    }\n\n    range = NSMakeRange(0, length);\n\n    // if last two characters are +, - , 2+, 3+, 2-, etc then add superscript\n\n    unichar ch = [attributedString.string characterAtIndex: length - 1];\n\n    if ((ch == '-') || (ch == '+'))\n    {\n        range = NSMakeRange(length - 1, 1);\n\n        ch = [attributedString.string characterAtIndex: length - 2];\n\n        if (ch &gt;= '0' &amp;&amp; ch &lt;='9')\n            range = NSMakeRange(length - 2, 2);\n        [attributedString addAttributes: superscriptAttribute range: range];\n    }\n\n    [attributedString addAttributes: baselineAttribute range: range];\n\n    return attributedString;\n}\n</code></pre>\n\n<p>The font is \"Avenir-Medium\"</p>\n\n<p>This worked fine for iOS 12 but on iOS 13 I no longer see the sub and superscripts.</p>\n\n<p>Problem is, my Mac is too old to run Xcode 11 - I am stuck on version 10.2. So I cannot debug this for iOS > 12.1, not even with my iPhone connected (which does run iOS 13).</p>\n\n<p>One thing I could think of is that Avenir-Medium no longer supports this on iOS 13, but it seems unlikely.</p>\n\n<p>Anything else that could have changed in iOS 13 with respect to <code>NSAttributedString</code> ?</p>\n"}, {"tags": ["ios", "objective-c", "in-app-purchase"], "answers": [{"tags": [], "owner": {"reputation": 22799, "user_id": 1936622, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Q58oT.jpg?s=128&g=1", "display_name": "Erti-Chris Eelmaa", "link": "https://stackoverflow.com/users/1936622/erti-chris-eelmaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1577212951, "creation_date": 1577212951, "answer_id": 59472457, "question_id": 59434074, "link": "https://stackoverflow.com/questions/59434074/call-addtransactionobserver-repeately-once-click-purchase/59472457#59472457", "title": "call addTransactionObserver repeately once click purchase", "body": "<p>You should call addTransactionObserver only once <em>AND</em> at startup. </p>\n"}, {"tags": [], "owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "is_accepted": false, "score": 0, "last_activity_date": 1577229253, "creation_date": 1577229253, "answer_id": 59474069, "question_id": 59434074, "link": "https://stackoverflow.com/questions/59434074/call-addtransactionobserver-repeately-once-click-purchase/59474069#59474069", "title": "call addTransactionObserver repeately once click purchase", "body": "<p>Call <code>addTransactionObserver</code> in the class <code>init</code> method.\nPersonally I use a singleton class to manage my IAP stuff. On app launch you need to request available IAP\u2019s anyway, so during the init of the singleton I register as the transaction observer.</p>\n"}], "owner": {"reputation": 11, "user_id": 8090779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756e88b2c614c2d30e20e9eaa85307dd?s=128&d=identicon&r=PG&f=1", "display_name": "Penney Wang", "link": "https://stackoverflow.com/users/8090779/penney-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577229253, "creation_date": 1576910664, "question_id": 59434074, "link": "https://stackoverflow.com/questions/59434074/call-addtransactionobserver-repeately-once-click-purchase", "title": "call addTransactionObserver repeately once click purchase", "body": "<p>I want to implement IAP with iOS, and have noticed two different ways to call addTransactionObserver .</p>\n\n<p>1.Add this method once IAP was launched .this method will be called once.</p>\n\n<p>2.Add this method with purchase and restore btn. I am afraid this method will be called repeately by click btn.</p>\n\n<pre><code>- (void)purchase:(SKProduct *)product{\n    SKPayment *payment = [SKPayment paymentWithProduct:product];\n\n    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];\n    [[SKPaymentQueue defaultQueue] addPayment:payment];\n}\n\n- (IBAction) restore{\n    //this is called when the user restores purchases, you should hook this up to a button\n    [[SKPaymentQueue defaultQueue] addTransactionObserver:self];\n    [[SKPaymentQueue defaultQueue] restoreCompletedTransactions];\n}\n</code></pre>\n\n<p>Could you tell me what's the correctly way to add this method ?</p>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 619, "user_id": 9542076, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carol Ward", "link": "https://stackoverflow.com/users/9542076/carol-ward"}, "edited": false, "score": 0, "creation_date": 1576876895, "post_id": 59431304, "comment_id": 105048796, "body": "What does it mean to &quot;copy the C string&quot;? If that&#39;s done, then will the c string persist through while loop?"}, {"owner": {"reputation": 3667, "user_id": 212649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbf4f4e28476c5413037cd8872c87bc?s=128&d=identicon&r=PG", "display_name": "Rudedog", "link": "https://stackoverflow.com/users/212649/rudedog"}, "reply_to_user": {"reputation": 619, "user_id": 9542076, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carol Ward", "link": "https://stackoverflow.com/users/9542076/carol-ward"}, "edited": false, "score": 0, "creation_date": 1576966619, "post_id": 59431304, "comment_id": 105064076, "body": "It means to copy it, using <code>strcpy</code> or something similar. Then it will persist through the while loop. In fact, it will persist for the lifetime of the program unless you remember do deallocate the memory when you\u2019re done with it. This is another reason you should take heed of my point number 4."}], "tags": [], "owner": {"reputation": 3667, "user_id": 212649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbf4f4e28476c5413037cd8872c87bc?s=128&d=identicon&r=PG", "display_name": "Rudedog", "link": "https://stackoverflow.com/users/212649/rudedog"}, "is_accepted": true, "score": 1, "last_activity_date": 1576875669, "creation_date": 1576875669, "answer_id": 59431304, "question_id": 59430471, "link": "https://stackoverflow.com/questions/59430471/pointers-in-memory-changed-when-exiting-if-statement/59431304#59431304", "title": "Pointers in memory changed when exiting if statement", "body": "<p>A few notes:</p>\n\n<ol>\n<li><p><code>+arrayWithContentsOfFile</code> is deprecated. You shouldn't be using it. Do you have control over the <code>doglist.plist</code> file? If so, I would suggest storing it using some other encoding mechanism, such as JSON.</p></li>\n<li><p>Where is <code>blacklistPlistCount</code> declared? It's not in the code you posted, which prevents the code from compiling.</p></li>\n<li><p>You are using <code>-[NSString UTF8String]</code> which returns a pointer to a buffer. However, this buffer is not guaranteed to exist past the lifetime of the string. Per the documentation:</p></li>\n</ol>\n\n<blockquote>\n  <p>This C string is a pointer to a structure inside the string object, which may have a lifetime shorter than the string object and will certainly not have a longer lifetime. Therefore, you should copy the C string if it needs to be stored outside of the memory context in which you use this property.</p>\n</blockquote>\n\n<ol start=\"4\">\n<li>Why are you using low-level C pointers at all to convert back and forth between C data structures and Objective-C types such as <code>NSArray</code> and  <code>NSString</code>? I would be using <code>NSMutableArray</code> for <code>doglist2</code> instead of using a C array. Unless you're doing certain specialized tasks, raw C pointers in Objective-C code is probably a code smell.</li>\n</ol>\n\n<p>Anyway, point 3 is the most likely cause of your crash, because the buffer is long gone by the time you reach the <code>while</code> loop in your code.</p>\n"}], "owner": {"reputation": 619, "user_id": 9542076, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carol Ward", "link": "https://stackoverflow.com/users/9542076/carol-ward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 59431304, "answer_count": 1, "score": 0, "last_activity_date": 1576875669, "creation_date": 1576870311, "question_id": 59430471, "link": "https://stackoverflow.com/questions/59430471/pointers-in-memory-changed-when-exiting-if-statement", "title": "Pointers in memory changed when exiting if statement", "body": "<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\nint main(int argc, const char * argv[]) {\n\n    const char* dog = \"german shepard\";\n\n    NSFileManager* fileManager = [NSFileManager defaultManager];\n\n    NSString *doglistPath = @\"/Users/doglover/doglist.plist\";\n    const char* doglistPath_cString = [doglistPath UTF8String];\n\n    const char** doglist;\n\n    if ([fileManager fileExistsAtPath:doglistPath]) {\n\n        NSArray *doglistPlist = [NSArray arrayWithContentsOfFile:doglistPath];\n        NSUInteger doglistPlistCount = [doglistPlist count];\n\n        const char* doglist2[blacklistPlistCount];\n        memset(doglist2, 0, sizeof doglist2);\n\n        for (int index = 0; index &lt; doglistPlistCount; index++) {\n            const char *doglistName = [doglistPlist[index][@\"type\"] UTF8String];\n            doglist2[index] = doglistName;\n        }\n\n        doglist = doglist2;\n    }\n\n    while(true) {\n        NSLog(@\"%s\", *doglist);\n        doglist++;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>There are 20 items in the plist.</p>\n\n<p>Whenever I run this code, it prints only 4 items and gives Thread 1: EXC_BAD_ACCESS error.</p>\n\n<p>When I inspected the memory, when the runtime leaves the if-statement, the pointers in the doglist memory changes from :</p>\n\n<pre><code>B1 78 10 03 01 00 00 00\n51 7B 10 03 01 00 00 00\n01 7D 10 03 01 00 00 00\nA1 7E 10 03 01 00 00 00\n91 80 10 03 01 00 00 00\nF8 74 10 03 01 00 00 00\n11 83 10 03 01 00 00 00\nC1 84 10 03 01 00 00 00\n</code></pre>\n\n<p>to</p>\n\n<pre><code>B1 78 10 03 01 00 00 00\n51 7B 10 03 01 00 00 00\n01 7D 10 03 01 00 00 00\nA1 7E 10 03 01 00 00 00\n40 00 00 00 00 00 00 00\n90 ED BF EF FE 7F 00 00\n0E 00 B6 D1 69 DA B9 2C\n00 00 00 00 00 00 00 00\n</code></pre>\n\n<p>In the changed memory, first four pointers do contain the items, but an error occurs at 0x40.</p>\n\n<p>Why did the memory change after exiting the if statement?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1576866623, "post_id": 59429788, "comment_id": 105045562, "body": "You have to use the <code>@protocol</code> declaration."}, {"owner": {"reputation": 93, "user_id": 10895736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64993b7058c0e429b6ce0a71908a8e26?s=128&d=identicon&r=PG&f=1", "display_name": "Rjulcaa", "link": "https://stackoverflow.com/users/10895736/rjulcaa"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1576868538, "post_id": 59429788, "comment_id": 105046162, "body": "Would you mind to provide an example :D ?"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 10895736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64993b7058c0e429b6ce0a71908a8e26?s=128&d=identicon&r=PG&f=1", "display_name": "Rjulcaa", "link": "https://stackoverflow.com/users/10895736/rjulcaa"}, "edited": false, "score": 0, "creation_date": 1576872432, "post_id": 59429858, "comment_id": 105047508, "body": "Wow thank you for your explanation . Luckily I found a library in Swift the supports Objc and finally I could achieve the skeleton effect. I&#39;m gonna mark this answer as an accepted because it helped me understand a little better interoperability in iOS. Thank you :D . The library I&#180;m gonna use is <a href=\"https://github.com/malkouz/ListPlaceholder\" rel=\"nofollow noreferrer\">github.com/malkouz/ListPlaceholder</a> in case anyone wants this effect in their objc project ."}], "tags": [], "owner": {"reputation": 14221, "user_id": 5012441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w495.jpg?s=128&g=1", "display_name": "Josh Homann", "link": "https://stackoverflow.com/users/5012441/josh-homann"}, "is_accepted": true, "score": 0, "last_activity_date": 1576866586, "creation_date": 1576866586, "answer_id": 59429858, "question_id": 59429788, "link": "https://stackoverflow.com/questions/59429788/how-to-conform-a-protocol-made-in-a-swift-library-in-a-objective-c-project/59429858#59429858", "title": "How to conform a protocol made in a Swift library in a Objective-C project", "body": "<p>The short answer is you cannot.  Swift can generate objective C compatible thunks if you use the <code>@objc</code> attribute, but while Swift is aware of Objective C, Objective C is not otherwise aware of Swift.  You can solve this problem by writing a Swift ViewController that conforms to your protocol and then mark the entire class as <code>objc</code>.  This way your objective C class can override all of the methods that actually implement the Swift protocol without actually knowing about the Swift protocol.</p>\n"}], "owner": {"reputation": 93, "user_id": 10895736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64993b7058c0e429b6ce0a71908a8e26?s=128&d=identicon&r=PG&f=1", "display_name": "Rjulcaa", "link": "https://stackoverflow.com/users/10895736/rjulcaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 59429858, "answer_count": 1, "score": 0, "last_activity_date": 1577012927, "creation_date": 1576866223, "last_edit_date": 1577012927, "question_id": 59429788, "link": "https://stackoverflow.com/questions/59429788/how-to-conform-a-protocol-made-in-a-swift-library-in-a-objective-c-project", "title": "How to conform a protocol made in a Swift library in a Objective-C project", "body": "<p>I have to implement the skeleton effect on a Objective-C project. I found many libraries on Objc but they did not perform what I want to do. I found this Swift library -- <a href=\"https://github.com/Juanpe/SkeletonView\" rel=\"nofollow noreferrer\">https://github.com/Juanpe/SkeletonView</a>.\nI made it work with any UIView using bridging header with this extension. </p>\n\n<p>Swift File</p>\n\n<pre><code>\nextension UIView {\n    @objc public func showWaitingLoader() {\n        let gradient = SkeletonGradient(baseColor: UIColor(red:0.9, green:0.9, blue:0.9, alpha:1))\n        let animation = SkeletonAnimationBuilder().makeSlidingAnimation(withDirection: GradientDirection.leftRight)\n        self.showAnimatedGradientSkeleton(usingGradient: gradient, animation: animation)\n    }\n\n    @objc public func hideWaitingLoader(){\n        self.hideSkeleton(reloadDataAfter: true)\n    }\n}\n</code></pre>\n\n<p>Objective-C file</p>\n\n<pre><code>#import \"ViewController.h\"\n#import \"SkeletonView-Swift.h\"\n#import \"Skeleton-Swift.h\"\n\n@interface ViewController ()\n@property (weak, nonatomic) IBOutlet UILabel *firstLabel;\n@property (weak, nonatomic) IBOutlet UIView *container;\n@property (weak, nonatomic) IBOutlet UITableView *tableView;\n\n@end\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    _firstLabel.isSkeletonable = YES;\n    [_container showWaitingLoader];\n}\n</code></pre>\n\n<p>It worked really well. But now I need this effect in a collection (TableView). The library says to conform a view controller with the next protocol, which is the next.</p>\n\n<pre><code>public protocol SkeletonTableViewDataSource: UITableViewDataSource {\n    func numSections(in collectionSkeletonView: UITableView) -&gt; Int\n    func collectionSkeletonView(_ skeletonView: UITableView, numberOfRowsInSection section: Int) -&gt; Int\n    func collectionSkeletonView(_ skeletonView: UITableView, cellIdentifierForRowAt indexPath: IndexPath) -&gt; ReusableCellIdentifier\n}\n</code></pre>\n\n<p>But I don't know how to use this protocol on my Header file (Objective-C project). Like this</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"SkeletonView-Swift.h\"\n#import \"Skeleton-Swift.h\"\n@interface ViewController : UIViewController &lt;SkeletonTableViewDataSource&gt;\n\n@end\n</code></pre>\n\n<p>Apparently I can not use this protocol one my header file according to a previous question.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45618508/can-an-objective-c-class-conform-to-a-swift-protocol\">Can an objective-c class conform to a swift protocol?</a></p>\n\n<p>So I want to know how could I use this protocol so I can conform it in my ViewController.m and have the skeleton effect in my tableview.</p>\n"}, {"tags": ["objective-c", "cordova", "cordova-plugins", "ionic4"], "owner": {"reputation": 11, "user_id": 12571434, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4U2-hu-jSXI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc7X8TNHdmFaBdt-ejZh9m2sXuJyA/photo.jpg?sz=128", "display_name": "Max Yong", "link": "https://stackoverflow.com/users/12571434/max-yong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576853550, "creation_date": 1576853550, "question_id": 59427197, "link": "https://stackoverflow.com/questions/59427197/unable-to-receive-data-from-external-app-after-opening-it-though-inappbrowser-co", "title": "Unable to receive data from external app after opening it though inAppBrowser cordova plugin", "body": "<p>Good day to all,</p>\n\n<p>I am currently using Ionic 4. The specifications are at the bottom of the post.</p>\n\n<p>For the app that I was tasked to do, I have to open another app(Let\u2019s call it ABC) on my iPad, allow some functions to run on it, and then for ABC to return some results from the function into my app for it to process.</p>\n\n<p>I have tried to open the external app via inappbrowser cordova plugin and have some success. I was able to pass params into the app and the native app was able to receive the params. The issue occurs when ABC sends the info back to me. I was able to console log the information received in the AppDelegate.m file but I was unable to make the connection between that and my cordova plugin for me to properly receive the information.</p>\n\n<p>Here is the code in my AppDelegate.m that allowed me to log out my params received.</p>\n\n<pre><code>(BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary&lt;UIApplicationOpenURLOptionsKey,id&gt; *)options {\n\nNSLog(@\u201cOpen from other app !!\u201d);\nNSLog(@\u201cFull URL: %@\u201d, url);\n\nNSURLComponents *urlComponent = [[NSURLComponents alloc] initWithURL:url resolvingAgainstBaseURL:true];\nNSString *host = urlComponent.host;\n\nNSLog(@\u201cHost: %@\u201d, host);\n\nNSString *stringValue = urlComponent.queryItems.firstObject.value;\n\nNSLog(@\u201cstring value: %@\u201d, stringValue);\n\nreturn true;\n}\n</code></pre>\n\n<p>Is there a way I can retrieve this information for my cordova plugin? I am rather lost in this. Any help would be greatly appreciated.</p>\n\n<p>My ionic Info:</p>\n\n<pre><code>Ionic:\n\nionic (Ionic CLI) : 4.10.0 (/Users/XXX/node_modules/ionic)\nIonic Framework : @ionic/angular 4.11.7\n@angular-devkit/build-angular : 0.801.3\n@angular-devkit/schematics : 8.1.3\n@angular/cli : 8.1.3\n@ionic/angular-toolkit : 2.1.1\n\nCordova:\n\ncordova (Cordova CLI) : 9.0.0 (cordova-lib@9.0.1)\nCordova Platforms : browser 6.0.0, ios 5.1.1\nCordova Plugins : cordova-plugin-ionic-keyboard 2.2.0, cordova-plugin-ionic-webview 4.1.3, (and 14 other plugins)\n\nSystem:\n\nios-deploy : 1.10.0\nios-sim : 8.0.2\nNodeJS : v10.16.3 (/Users/XXX/.nvm/versions/node/v10.16.3/bin/node)\nnpm : 6.9.0\nOS : macOS Mojave\nXcode : Xcode 11.3 Build version 11C29\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 1962, "user_id": 5928311, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10207281969580701/picture?type=large", "display_name": "Vadim Nikolaev", "link": "https://stackoverflow.com/users/5928311/vadim-nikolaev"}, "edited": false, "score": 0, "creation_date": 1576853026, "post_id": 59427009, "comment_id": 105040199, "body": "I used <a href=\"https://gist.github.com/jeffreybergier/b0b0f7b5af3533f000b5e256f6be1077\" rel=\"nofollow noreferrer\">this</a> for transparent emoji, but you should test it, because right now I&#39;m not sure if it works"}, {"owner": {"reputation": 576, "user_id": 2064585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dMJSQ.jpg?s=128&g=1", "display_name": "Nicholas Allio", "link": "https://stackoverflow.com/users/2064585/nicholas-allio"}, "reply_to_user": {"reputation": 1962, "user_id": 5928311, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10207281969580701/picture?type=large", "display_name": "Vadim Nikolaev", "link": "https://stackoverflow.com/users/5928311/vadim-nikolaev"}, "edited": false, "score": 0, "creation_date": 1576853278, "post_id": 59427009, "comment_id": 105040318, "body": "Thanks @VadimNikolaev but I think this is not working for my case: the returned values of those methods are <code>UIImage</code>s and I cannot assign a <code>UIImage</code> to the <code>text</code> property of a <code>UILabel</code>, unless I build a <code>NSAttributedString</code> containing text and image attachments (does not really sound trivial). Moreover, it not really flexible as I would also have to parse the text in order to identify if emojis are contained in the string."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1576855096, "post_id": 59427009, "comment_id": 105041095, "body": "Why not modify the alpha of the <code>UILabel</code>?"}, {"owner": {"reputation": 576, "user_id": 2064585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dMJSQ.jpg?s=128&g=1", "display_name": "Nicholas Allio", "link": "https://stackoverflow.com/users/2064585/nicholas-allio"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1576855403, "post_id": 59427009, "comment_id": 105041225, "body": "@Cy-4AH I just noticed that my question is a bit misleading: the text to be displayed is not assigned to a <code>UILabel</code> but to the <code>title</code> property of the <code>navigationBar</code>. I will update my question to be more precise."}, {"owner": {"reputation": 15691, "user_id": 2108547, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TdNQW.png?s=128&g=1", "display_name": "Daniel Storm", "link": "https://stackoverflow.com/users/2108547/daniel-storm"}, "edited": false, "score": 0, "creation_date": 1576855747, "post_id": 59427009, "comment_id": 105041385, "body": "I\u2019d imagine the title in the navigation bar is a UILabel subclass. You could locate it and adjust it yourself. May not be future proof though."}], "answers": [{"comments": [{"owner": {"reputation": 576, "user_id": 2064585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dMJSQ.jpg?s=128&g=1", "display_name": "Nicholas Allio", "link": "https://stackoverflow.com/users/2064585/nicholas-allio"}, "edited": false, "score": 0, "creation_date": 1576959116, "post_id": 59429944, "comment_id": 105062751, "body": "Thanks @Asperi, I\u2019m aware of this solution already but I have many viewcontrollers which need this fading animation and the code which handles all the transition is abstracted in another part of the code. Using the solution you proposed will require more refactoring I would like to avoid if necessary"}], "tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": false, "score": 0, "last_activity_date": 1576867128, "creation_date": 1576867128, "answer_id": 59429944, "question_id": 59427009, "link": "https://stackoverflow.com/questions/59427009/change-alpha-of-emoji-in-uilabel/59429944#59429944", "title": "Change alpha of Emoji in UILabel", "body": "<p>Here is scratch of code that gives effect that you want:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RDvd4.png\" alt=\"Transparent emoji in UINavigationBar\"></p>\n\n<pre><code>@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    UILabel *label = [UILabel new];\n    label.text = @\"\ud83d\ude03 Test title \ud83d\ude90\";\n    label.alpha = 0.2;\n    self.navigationItem.titleView = label;\n    ...\n</code></pre>\n"}], "owner": {"reputation": 576, "user_id": 2064585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dMJSQ.jpg?s=128&g=1", "display_name": "Nicholas Allio", "link": "https://stackoverflow.com/users/2064585/nicholas-allio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1576867128, "creation_date": 1576852678, "last_edit_date": 1576855536, "question_id": 59427009, "link": "https://stackoverflow.com/questions/59427009/change-alpha-of-emoji-in-uilabel", "title": "Change alpha of Emoji in UILabel", "body": "<p>I am populating the <code>title</code> property of the <code>navigationBar</code> with some text which might contain emojis and I'm acting on the <code>textColor</code> to fade in/out the label changing the alpha.\nBasically the alpha value is driven by a <code>scrollView</code> so that the label fades along with the user scrolling.\nThis mechanism works perfectly for text including standard characters, but emojis are not effected by the alpha value. It seems that they are only responding to value <code>0.0</code> (and they disappear) while with any other value <code>&gt; 0.0</code> they behave as if <code>alpha = 1.0</code>.</p>\n\n<p>How can I make the whole text have the same alpha value? In particular, how can I apply an alpha value to the emoji characters contained in the string?</p>\n\n<p>Here some visual example:\n<a href=\"https://i.stack.imgur.com/n00yE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n00yE.jpg\" alt=\"semi transparent text\"></a>\n<a href=\"https://i.stack.imgur.com/m8fZA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8fZA.jpg\" alt=\"transparent text\"></a></p>\n\n<p>Note that I can not modifying the alpha of the view but the <code>text</code> alpha.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The text is assigned to the <code>title</code> property of the <code>navigationBar</code>. This case does not use the technique of placing a <code>UILabel</code> in the <code>titleView</code></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode", "callkit"], "comments": [{"owner": {"reputation": 1122, "user_id": 2393843, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f688c20ca5f507636a7213059f25120a?s=128&d=identicon&r=PG", "display_name": "Shubham", "link": "https://stackoverflow.com/users/2393843/shubham"}, "edited": false, "score": 0, "creation_date": 1577945563, "post_id": 59426229, "comment_id": 105286100, "body": "<a href=\"https://stackoverflow.com/a/57375678/2393843\">Here</a> is the complete solution. Hope this helps you."}], "owner": {"reputation": 1615, "user_id": 3855450, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/sMDd8.jpg?s=128&g=1", "display_name": "bhavik", "link": "https://stackoverflow.com/users/3855450/bhavik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1577012961, "creation_date": 1576849376, "last_edit_date": 1577012961, "question_id": 59426229, "link": "https://stackoverflow.com/questions/59426229/how-to-open-app-from-callkit-recent-call-log-ios-objective-c", "title": "How to open app from Callkit recent call log iOS objective-c?", "body": "<p>I want to open my app from the tap on a recent call log of iPhone with CallKit how it is possible please guide me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Fs2cE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fs2cE.png\" alt=\"enter image description here\"></a> \n<a href=\"https://i.stack.imgur.com/ZiN8I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZiN8I.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "avfoundation", "avassetwriter", "cmtime"], "owner": {"reputation": 89, "user_id": 9707791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYdmB.png?s=128&g=1", "display_name": "guojing", "link": "https://stackoverflow.com/users/9707791/guojing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1576898268, "creation_date": 1576842000, "last_edit_date": 1576898268, "question_id": 59424706, "link": "https://stackoverflow.com/questions/59424706/avassetwriter-write-image-to-mp4-file-but-file-content-is-only-half", "title": "AVAssetWriter write image to mp4 file, but file content is only half", "body": "<p>i want to record a window's snapshot to a mp4 file in a macOS app.</p>\n\n<ol>\n<li>start the creater with function <code>[aMp4CreaterEntity startRecordWithSize:CGSizeMake(2320, 1080) pixelType:kCVPixelFormatType_32ARGB]</code></li>\n<li>run a timer 15 times per second, snapshotting the window, use the function <code>CGWindowListCreateImage</code> to get <code>CGImageRef</code> which width = 2320 and height = 1080, </li>\n<li>call the creater function <code>[aMp4CreaterEntity recordImage:theCGImageRef timeStamp:[[NSDate date] timeIntervalSince1970]]</code> to send <code>CGImageRef</code> to my <code>aMp4CreaterEntity</code></li>\n<li>call <code>[aMp4CreaterEntity stopRecord]</code> function, and get the mp4 file at </li>\n</ol>\n\n<p>everything runs alright, except <strong>the mp4 file's content contains only half of what was sent earlier, and the laster content was lost</strong>. and every <code>CVPixelBufferRef</code> was append by <code>AVAssetWriterInputPixelBufferAdaptor</code> when i debug.</p>\n\n<p>At first I think the CMTime setting is wrong, but after modify it to half or double, the error is continue.</p>\n\n<p>I'm new to audio and video, can someone help me solve this problem or explain it in detail?</p>\n\n<p>BTW: i record the audio in an other file at the same time, but it has the same problem - earlier half content. and i can read the swift code direct.</p>\n\n<p>this is my recorder sample code with Objective-C.</p>\n\n<pre><code>#import \"Mp4Creater.h\"\n#import &lt;AVFoundation/AVFoundation.h&gt;\n\n@interface Mp4Creater()\n\n@property (nonatomic, strong) AVAssetWriter *videoWriter;\n@property (nonatomic, strong) AVAssetWriterInput *videoInput;\n@property (nonatomic, strong) AVAssetWriterInputPixelBufferAdaptor *videoAdaptor;\n@property (nonatomic, strong) NSString *videoOutputPath;\n@property (nonatomic, strong) NSDictionary *videoSettings;\n\n@property (nonatomic, assign) NSTimeInterval startTs;\n@property (nonatomic, assign) NSTimeInterval latestTs;\n\n@property (nonatomic, strong) NSOperationQueue *opQueue;\n\n@property (nonatomic, assign) BOOL isRecording;\n@property (nonatomic, assign) NSUInteger frameRate; // 15\n@property (nonatomic, assign) NSUInteger iFrameInterval; // 3s\n\n@end\n\n@implementation Mp4Creater\n\n- (instancetype)init\n{\n   self = [super init];\n   if (self) {\n       _videoWriter = nil;\n       _videoInput = nil;\n       _videoAdaptor = nil;\n       _videoOutputPath = nil;\n       _videoSettings = nil;\n\n\n       _startTs = -1;\n       _latestTs = -1;\n       _isRecording = NO;\n       _frameRate = 15;\n       _iFrameInterval = 3;\n   }\n   return self;\n}\n\n- (void)dealloc\n{\n   [_opQueue cancelAllOperations];\n}\n\n- (BOOL)addVideoInputWithSize:(CGSize)size pixelType:(UInt32)pixelType  {\n   NSString *codecKey = AVVideoCodecTypeH264;\n\n   _videoSettings = [NSDictionary dictionaryWithObjectsAndKeys:codecKey, AVVideoCodecKey,\n                     [NSNumber numberWithInt: size.width], AVVideoWidthKey,\n                     [NSNumber numberWithInt: size.height], AVVideoHeightKey,\n                     [NSDictionary dictionaryWithObjectsAndKeys:AVVideoYCbCrMatrix_ITU_R_709_2, AVVideoYCbCrMatrixKey, AVVideoTransferFunction_ITU_R_709_2, AVVideoTransferFunctionKey, AVVideoColorPrimaries_ITU_R_709_2, AVVideoColorPrimariesKey, nil], AVVideoColorPropertiesKey,\n                     [NSDictionary dictionaryWithObjectsAndKeys:\n                      [NSNumber numberWithInt: size.width * size.height * 2], AVVideoAverageBitRateKey,\n                      [NSNumber numberWithInt: (int)(_frameRate*_iFrameInterval)], AVVideoMaxKeyFrameIntervalKey,\n                      [NSNumber numberWithInt: (int)(_iFrameInterval)], AVVideoMaxKeyFrameIntervalDurationKey,\n                      AVVideoProfileLevelH264BaselineAutoLevel, AVVideoProfileLevelKey,\n                      nil], AVVideoCompressionPropertiesKey,\n                     nil];\n   AVAssetWriterInput *videoInput = [AVAssetWriterInput assetWriterInputWithMediaType:AVMediaTypeVideo outputSettings:_videoSettings];\n   videoInput.expectsMediaDataInRealTime = YES;\n\n   if ([_videoWriter canAddInput:videoInput]) {\n       [_videoWriter addInput:videoInput];\n       _videoInput = videoInput;\n   }\n   else {\n       return NO;\n   }\n   NSDictionary *sourcePixelBufferAttributes = @{(NSString *)kCVPixelBufferPixelFormatTypeKey : @(pixelType)};\n   _videoAdaptor = [[AVAssetWriterInputPixelBufferAdaptor alloc] initWithAssetWriterInput:_videoInput sourcePixelBufferAttributes:sourcePixelBufferAttributes];\n\n   return YES;\n}\n\n- (BOOL)startRecordWithSize:(CGSize)size pixelType:(UInt32)pixelType {\n   if (self.isRecording) {\n       return YES;\n   }\n   self.startTs = -1;\n   NSString *outputFile;\n   NSString *guid = [[NSUUID new] UUIDString];\n   NSString *fileName = [NSString stringWithFormat:@\"video_%@.mp4\", guid];\n   outputFile = [NSTemporaryDirectory() stringByAppendingPathComponent:fileName];\n\n   self.videoOutputPath = outputFile;\n\n   NSError *error = nil;\n\n   //----initialize compression engine\n   self.videoWriter = [[AVAssetWriter alloc]initWithURL:[NSURL fileURLWithPath:self.videoOutputPath]\n                                               fileType:AVFileTypeMPEG4\n                                                  error:&amp;error];\n   self.videoWriter.shouldOptimizeForNetworkUse = YES;\n\n   if(error) {\n       return NO;\n   }\n   if (self.videoWriter == nil) {\n       return NO;\n   }\n   if (![self addVideoInputWithSize:size pixelType:pixelType ]) {\n       [self stopRecord];\n       return NO;\n   }\n\n   self-&gt;_isRecording = YES;\n   [self.videoWriter startWriting];\n   [self.videoWriter startSessionAtSourceTime:kCMTimeZero];\n   _opQueue = [[NSOperationQueue alloc] init];\n   _opQueue.maxConcurrentOperationCount = 1;\n\n   return YES;\n}\n\n- (void)stopRecord {\n   if (!self.isRecording) {\n       return;\n   }\n   [_opQueue cancelAllOperations];\n   NSOperationQueue *oldQueue = _opQueue;\n   _opQueue = nil;\n   [oldQueue waitUntilAllOperationsAreFinished];\n\n   if (self.videoInput != nil) {\n       [self.videoInput markAsFinished];\n   }\n   self.videoInput = nil;\n   self.videoAdaptor = nil;\n\n   if (self.videoWriter != nil) {\n       __block BOOL success = NO;\n       if (self.videoWriter.status == AVAssetWriterStatusWriting) {\n           success = YES;\n       }\n       [self.videoWriter finishWritingWithCompletionHandler:^{\n           if (self.videoWriter.status == AVAssetWriterStatusCompleted) {\n               if (success) {\n                   return;\n               }\n           }\n       }];\n   }\n   self-&gt;_isRecording = NO;\n}\n\n\n- (void)recordImage:(CGImageRef)image timeStamp:(NSTimeInterval)ts {\n\n   CGImageRef retainImage = CGImageRetain(image);\n   __weak __typeof__(self) weak_self = self;\n   [_opQueue addOperationWithBlock:^{\n       __typeof__(self) self = weak_self;\n       if (!self.isRecording) {\n           return;\n       }\n       if (self.startTs &lt; 0) {\n           self.startTs = ts;\n       }\n       self.latestTs = ts;\n       CMTime cmTime = CMTimeMake((ts - self.startTs) * 1000, 1000);\n       if (self.videoWriter != nil) {\n           if (self.videoWriter.status == AVAssetWriterStatusWriting) {\n               if (self.videoInput != nil &amp;&amp; self.videoInput.isReadyForMoreMediaData) {\n                   CVPixelBufferRef buffer = [self CVPixelBufferRefFromCGImage:retainImage];\n                   if (buffer != NULL) {\n                       [self.videoAdaptor appendPixelBuffer:buffer withPresentationTime:cmTime];\n                       CVPixelBufferRelease(buffer);\n                   }\n               }\n           }\n       }\n       CGImageRelease(retainImage);\n   }];\n}\n\n- (CVPixelBufferRef)CVPixelBufferRefFromCGImage:(CGImageRef)image {\n   size_t pixelsWide = CGImageGetWidth(image);\n   size_t pixelsHigh = CGImageGetHeight(image);\n\n   NSInteger bitmapBytesPerRow = (pixelsWide * 4);\n   NSDictionary *options = [NSDictionary dictionaryWithObjectsAndKeys:\n                            [NSNumber numberWithBool:YES], kCVPixelBufferCGImageCompatibilityKey,\n                            [NSNumber numberWithBool:YES], kCVPixelBufferCGBitmapContextCompatibilityKey, nil];\n   CVPixelBufferRef pxbuffer = NULL;\n   CVReturn status = CVPixelBufferCreate(kCFAllocatorDefault, pixelsWide, pixelsHigh, kCVPixelFormatType_32ARGB, (__bridge CFDictionaryRef)options, &amp;pxbuffer);\n\n   NSParameterAssert(status == kCVReturnSuccess &amp;&amp; pxbuffer != NULL);\n   if (status == kCVReturnSuccess) {\n       CVPixelBufferLockBaseAddress(pxbuffer, 0);\n       void *pxdata = CVPixelBufferGetBaseAddress(pxbuffer);\n       NSParameterAssert(pxdata != NULL);\n\n       CGColorSpaceRef rgbColorSpace = CGColorSpaceCreateDeviceRGB();\n       CGContextRef context = CGBitmapContextCreate(pxdata, pixelsWide, pixelsHigh, 8, bitmapBytesPerRow, rgbColorSpace, (CGBitmapInfo)kCGImageAlphaPremultipliedFirst);\n       NSParameterAssert(context);\n       CGContextConcatCTM(context, CGAffineTransformIdentity);\n       CGContextDrawImage(context, CGRectMake(0, 0, pixelsWide, pixelsHigh), image);\n       CVPixelBufferUnlockBaseAddress(pxbuffer, 0);\n       CGColorSpaceRelease(rgbColorSpace);\n       CGContextRelease(context);\n       return pxbuffer;\n   }\n   else {\n       return nil;\n   }\n}\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "cocoa", "nstextfield", "nsformatter"], "answers": [{"comments": [{"owner": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "edited": false, "score": 0, "creation_date": 1576844010, "post_id": 59424258, "comment_id": 105036221, "body": "For more info: <a href=\"https://stackoverflow.com/questions/24110362/abstract-functions-in-swift-language\" title=\"abstract functions in swift language\">stackoverflow.com/questions/24110362/&hellip;</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1579007009, "post_id": 59424258, "comment_id": 105617348, "body": "What should the definition look like?"}], "tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": true, "score": 2, "last_activity_date": 1576840070, "creation_date": 1576840070, "answer_id": 59424258, "question_id": 59424073, "link": "https://stackoverflow.com/questions/59424073/macos-trying-to-use-a-custom-nsformatter-on-a-nstextfield-fails-miserably/59424258#59424258", "title": "macOS - Trying to use a custom NSFormatter on a NSTextField fails miserably", "body": "<p>You have to define that method</p>\n\n<p>From Apple documentation for <code>NSFormatter</code> (which is actually semi-abstract)</p>\n\n<blockquote>\n<pre><code>Summary\n\nThe default implementation of this method raises an exception.\nDeclaration\n\n- (NSString *)stringForObjectValue:(id)obj;\n</code></pre>\n</blockquote>\n\n<p>Actually the same is for</p>\n\n<pre><code>- (BOOL)getObjectValue:(out id _Nullable * _Nullable)obj forString:(NSString *)string errorDescription:(out NSString * _Nullable * _Nullable)error;\n</code></pre>\n"}], "owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 59424258, "answer_count": 1, "score": 2, "last_activity_date": 1576840070, "creation_date": 1576839352, "last_edit_date": 1576839733, "question_id": 59424073, "link": "https://stackoverflow.com/questions/59424073/macos-trying-to-use-a-custom-nsformatter-on-a-nstextfield-fails-miserably", "title": "macOS - Trying to use a custom NSFormatter on a NSTextField fails miserably", "body": "<p>I am trying to add a <code>NSFormatter</code> object to a <code>NSTextField</code>, so I can validate if the textfield carries on just alphanumeric strings.</p>\n\n<p>So I do this:</p>\n\n<ol>\n<li>I create a new <code>Swift</code> macOS app.</li>\n<li>I add a <code>NSTextField</code> to the view controller</li>\n<li>I add a custom <code>Formatter</code> to the view controller</li>\n<li>I connect the text field's formatter outlet to the Formatter object, using interface builder.</li>\n</ol>\n\n<p>I create this class and assign to the Formatter object.</p>\n\n<p><strong>FormatterTextNumbers.h</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n@import AppKit;\n\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface FormatterTextNumbers : NSFormatter\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p><strong>FormatterTextNumbers.m</strong></p>\n\n<pre><code>#import \"FormatterTextNumbers.h\"\n\n@implementation FormatterTextNumbers\n\n- (BOOL)isAlphaNumeric:(NSString *)partialString\n{\n  static NSCharacterSet *nonAlphanumeric = nil;\n  if (nonAlphanumeric == nil) {\n  nonAlphanumeric = [NSCharacterSet characterSetWithCharactersInString:@\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890'. -\"];\n  nonAlphanumeric = [nonAlphanumeric invertedSet];\n  }\n\n  NSRange range = [partialString rangeOfCharacterFromSet:nonAlphanumeric];\n    if (range.location != NSNotFound) {\n      return NO;\n    } else {\n      return YES;\n    }\n}\n\n- (BOOL)isPartialStringValid:(NSString *)partialString\n            newEditingString:(NSString * _Nullable __autoreleasing *)newString\n            errorDescription:(NSString * _Nullable __autoreleasing *)error {\n\n  if ([partialString length] == 0) {\n      return YES; // The empty string is okay (the user might just be deleting everything and starting over)\n  } else if ([self isAlphaNumeric:partialString]) {\n    *newString = partialString;\n    return YES;\n  }\n  NSBeep();\n  return NO;\n}\n</code></pre>\n\n<p>You ask, why do I have these classes in <code>Objective-C</code> if my project uses <code>Swift</code>? Simple: if I create a subclass of the <code>Formatter</code> class using <code>Swift</code>, <code>Xcode</code> will not let me assign that subclass to the <code>Formatter</code> object. I need to create an <code>Objective-C</code> subclass of <code>NSFormatter</code> instead.</p>\n\n<p>Said that, when I run the project, the text field disappears and I get this message, whatever this means:</p>\n\n<blockquote>\n  <p>Failure1[3071:136161] Failed to set (contentViewController) user defined inspected property on (NSWindow): *** -stringForObjectValue: only defined for abstract class.  Define -[FormatterTextNumbers stringForObjectValue:]!</p>\n</blockquote>\n\n<p>I remove the connection between the text field and the Formatter object and the app runs fine.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 7778, "user_id": 1185169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8d0eca83ae3b4401fb1e99b32d719386?s=128&d=identicon&r=PG", "display_name": "Simon McLoughlin", "link": "https://stackoverflow.com/users/1185169/simon-mcloughlin"}, "edited": false, "score": 0, "creation_date": 1576841045, "post_id": 59423256, "comment_id": 105034980, "body": "please post your code. It may also be an issue that during an archive (for some reason) one of your storyboards is not being copied over. You can look at the build phases and check the copy resources step to see is one of your storyboards not checked"}, {"owner": {"reputation": 1, "user_id": 9157177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-28NM_iAGJyk/AAAAAAAAAAI/AAAAAAAAAFM/7r32_uXz6GM/photo.jpg?sz=128", "display_name": "Tiago Conas Rodrigues", "link": "https://stackoverflow.com/users/9157177/tiago-conas-rodrigues"}, "reply_to_user": {"reputation": 7778, "user_id": 1185169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8d0eca83ae3b4401fb1e99b32d719386?s=128&d=identicon&r=PG", "display_name": "Simon McLoughlin", "link": "https://stackoverflow.com/users/1185169/simon-mcloughlin"}, "edited": false, "score": 0, "creation_date": 1577107503, "post_id": 59423256, "comment_id": 105093346, "body": "I created an ad hoc version and it worked, I don&#39;t understand what is failing"}, {"owner": {"reputation": 1, "user_id": 9157177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-28NM_iAGJyk/AAAAAAAAAAI/AAAAAAAAAFM/7r32_uXz6GM/photo.jpg?sz=128", "display_name": "Tiago Conas Rodrigues", "link": "https://stackoverflow.com/users/9157177/tiago-conas-rodrigues"}, "reply_to_user": {"reputation": 7778, "user_id": 1185169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8d0eca83ae3b4401fb1e99b32d719386?s=128&d=identicon&r=PG", "display_name": "Simon McLoughlin", "link": "https://stackoverflow.com/users/1185169/simon-mcloughlin"}, "edited": false, "score": 0, "creation_date": 1577709905, "post_id": 59423256, "comment_id": 105231620, "body": "The exception it throws is &quot;could not load the scene view controller for identifier&quot;"}], "owner": {"reputation": 1, "user_id": 9157177, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-28NM_iAGJyk/AAAAAAAAAAI/AAAAAAAAAFM/7r32_uXz6GM/photo.jpg?sz=128", "display_name": "Tiago Conas Rodrigues", "link": "https://stackoverflow.com/users/9157177/tiago-conas-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576835844, "creation_date": 1576835844, "question_id": 59423256, "link": "https://stackoverflow.com/questions/59423256/instantiateviewcontrollerwithidenfier-dont-find-storyboard-on-apple", "title": "Instantiateviewcontrollerwithidenfier don&#39;t find storyboard on Apple", "body": "<p>In my simulator works fine but when it goes to apple connect it can't find the storyboard. Anyone with the same problem?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "cocoapods"], "comments": [{"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1576832278, "post_id": 59422336, "comment_id": 105031187, "body": "Show your podfile, ruby version etc. not enough info. Does this help? <a href=\"https://stackoverflow.com/questions/5355998/ruby-newbie-undefined-method-with-indifferent-access\" title=\"ruby newbie undefined method with indifferent access\">stackoverflow.com/questions/5355998/&hellip;</a>"}, {"owner": {"reputation": 111, "user_id": 6546244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycA4L.jpg?s=128&g=1", "display_name": "Mars", "link": "https://stackoverflow.com/users/6546244/mars"}, "reply_to_user": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1576832377, "post_id": 59422336, "comment_id": 105031232, "body": "THX, I&#39;ll go search some info . And that&#39;s my ruby --version ruby 2.3.7p456 (2018-03-28 revision 63024) [universal.x86_64-darwin18]"}, {"owner": {"reputation": 111, "user_id": 6546244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycA4L.jpg?s=128&g=1", "display_name": "Mars", "link": "https://stackoverflow.com/users/6546244/mars"}, "reply_to_user": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1576832533, "post_id": 59422336, "comment_id": 105031305, "body": "Should I update it? And my mac has a default version for ruby which is 2.3.0."}, {"owner": {"reputation": 61, "user_id": 7677455, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q-iApIwDews/AAAAAAAAAAI/AAAAAAAAACE/fVCbsqmk3Pc/photo.jpg?sz=128", "display_name": "JohnG", "link": "https://stackoverflow.com/users/7677455/johng"}, "edited": false, "score": 0, "creation_date": 1576836095, "post_id": 59422336, "comment_id": 105032848, "body": "Check if you are in the correct path. Can you show the podfile?"}, {"owner": {"reputation": 7778, "user_id": 1185169, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8d0eca83ae3b4401fb1e99b32d719386?s=128&d=identicon&r=PG", "display_name": "Simon McLoughlin", "link": "https://stackoverflow.com/users/1185169/simon-mcloughlin"}, "edited": false, "score": 0, "creation_date": 1576841299, "post_id": 59422336, "comment_id": 105035084, "body": "step 1 to debugging this: does the podfile contain something weird. update your question and post your podfile, as others have asked"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 6546244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycA4L.jpg?s=128&g=1", "display_name": "Mars", "link": "https://stackoverflow.com/users/6546244/mars"}, "is_accepted": false, "score": 0, "last_activity_date": 1576996282, "creation_date": 1576996282, "answer_id": 59442134, "question_id": 59422336, "link": "https://stackoverflow.com/questions/59422336/its-about-the-cocoapods-an-error-occurred-when-i-install-my-podfile-its-like/59442134#59442134", "title": "It&#39;s about the cocoapods. An error occurred when I install my podfile. It&#39;s like the syntax error about ruby", "body": "<p>Thanks for helping me, finally I find the reason of this problem. That was because I have three different version of Xcode. But I only use the latest version. So when I switch the default version of Xcode, the problem solved.\nIt's like:\nsudo xcode-select --switch [your xcode path].</p>\n"}], "owner": {"reputation": 111, "user_id": 6546244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycA4L.jpg?s=128&g=1", "display_name": "Mars", "link": "https://stackoverflow.com/users/6546244/mars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576996282, "creation_date": 1576832083, "last_edit_date": 1576881646, "question_id": 59422336, "link": "https://stackoverflow.com/questions/59422336/its-about-the-cocoapods-an-error-occurred-when-i-install-my-podfile-its-like", "title": "It&#39;s about the cocoapods. An error occurred when I install my podfile. It&#39;s like the syntax error about ruby", "body": "<p>I try everything that I've searched, like reinstall my cocoapods, update my gem or cocoapads's version, but it doesn't work. The error log is like:</p>\n\n<pre><code>/Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/metadata.rb:15:in `initialize': undefined method `with_indifferent_access' for false:FalseClass (NoMethodError)\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/metadata.rb:28:in `new'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/metadata.rb:28:in `from_file'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source.rb:434:in `refresh_metadata'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/cdn_source.rb:55:in `refresh_metadata'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source.rb:31:in `initialize'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/cdn_source.rb:29:in `initialize'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:310:in `new'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:310:in `block in source_from_path'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:315:in `source_from_path'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:324:in `block in aggregate_with_repos'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:324:in `map'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:324:in `aggregate_with_repos'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:24:in `aggregate'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-core-1.8.4/lib/cocoapods-core/source/manager.rb:58:in `all'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-1.8.4/lib/cocoapods/user_interface/error_report.rb:173:in `repo_information'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-1.8.4/lib/cocoapods/user_interface/error_report.rb:77:in `stack'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-1.8.4/lib/cocoapods/user_interface/error_report.rb:24:in `report'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-1.8.4/lib/cocoapods/command.rb:66:in `report_error'\n    from /Library/Ruby/Gems/2.3.0/gems/claide-1.0.3/lib/claide/command.rb:396:in `handle_exception'\n    from /Library/Ruby/Gems/2.3.0/gems/claide-1.0.3/lib/claide/command.rb:337:in `rescue in run'\n    from /Library/Ruby/Gems/2.3.0/gems/claide-1.0.3/lib/claide/command.rb:324:in `run'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-1.8.4/lib/cocoapods/command.rb:52:in `run'\n    from /Library/Ruby/Gems/2.3.0/gems/cocoapods-1.8.4/bin/pod:55:in `&lt;top (required)&gt;'\n    from /usr/local/bin/pod:23:in `load'\n    from /usr/local/bin/pod:23:in `&lt;main&gt;'\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "wkwebview"], "comments": [{"owner": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "edited": false, "score": 0, "creation_date": 1576831246, "post_id": 59421267, "comment_id": 105030749, "body": "you need to set the wkwebview frame size, or use constraints to adjust the size"}, {"owner": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "reply_to_user": {"reputation": 3768, "user_id": 10593053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6rvJ.jpg?s=128&g=1", "display_name": "L33MUR", "link": "https://stackoverflow.com/users/10593053/l33mur"}, "edited": false, "score": 0, "creation_date": 1576840107, "post_id": 59421267, "comment_id": 105034612, "body": "it is main view of view controller, it is sized correctly covering whole screen. scroller inside also covers whole screen. WKContentView&#39;s width is smaller than the screen by the sum of safe area&#39;s left and right offsets. And the same thing happens with the constraints anyways."}, {"owner": {"reputation": 382, "user_id": 6439127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Rx80AkG5x70/AAAAAAAAAAI/AAAAAAAADgk/xAvBnffL8JQ/photo.jpg?sz=128", "display_name": "antonio yaphiar", "link": "https://stackoverflow.com/users/6439127/antonio-yaphiar"}, "edited": false, "score": 0, "creation_date": 1577085591, "post_id": 59421267, "comment_id": 105085066, "body": "have you tried calling the loadView in viewDidappear?"}, {"owner": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "edited": false, "score": 0, "creation_date": 1577085837, "post_id": 59421267, "comment_id": 105085147, "body": "loadView is being called a little earlier by the system, if I would call it from viewDidappear it would create second WKWebView and remove the first one. Anyway I tried it with no luck."}], "answers": [{"comments": [{"owner": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "edited": false, "score": 0, "creation_date": 1577096644, "post_id": 59452738, "comment_id": 105088911, "body": "this only centers webpage, but doesn&#39;t make it fullscreen"}, {"owner": {"reputation": 1415, "user_id": 4782361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fd621b299433e757d1791cbb19b353?s=128&d=identicon&r=PG&f=1", "display_name": "sDev", "link": "https://stackoverflow.com/users/4782361/sdev"}, "reply_to_user": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "edited": false, "score": 0, "creation_date": 1577451332, "post_id": 59452738, "comment_id": 105174544, "body": "you need to remove safe area insets."}, {"owner": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "edited": false, "score": 0, "creation_date": 1577685710, "post_id": 59452738, "comment_id": 105223312, "body": "Still not correct, check apple logo and shopping icon offsets in the header, some text is covered by notch as well - <a href=\"https://i.imgur.com/eRwzeL4.png\" rel=\"nofollow noreferrer\">i.imgur.com/eRwzeL4.png</a> And this is how it&#39;s supposed to look - <a href=\"https://i.imgur.com/cb9H0Q7.png\" rel=\"nofollow noreferrer\">i.imgur.com/cb9H0Q7.png</a> (and it looks the same in Safari)"}], "tags": [], "owner": {"reputation": 1415, "user_id": 4782361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fd621b299433e757d1791cbb19b353?s=128&d=identicon&r=PG&f=1", "display_name": "sDev", "link": "https://stackoverflow.com/users/4782361/sdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1577451530, "last_edit_date": 1577451530, "creation_date": 1577092634, "answer_id": 59452738, "question_id": 59421267, "link": "https://stackoverflow.com/questions/59421267/wkwebview-incorrect-content-width-in-landscape-with-safe-area/59452738#59452738", "title": "WKWebView incorrect content width in landscape with safe area", "body": "<p><strong>Hi, You need to change viewport.</strong></p>\n\n<p><em>Please change your \"loadView\" function with below code.</em></p>\n\n<pre><code>- (void)loadView\n{\n    NSString *jScript = @\"var meta = document.createElement('meta'); meta.setAttribute('name', 'viewport'); meta.setAttribute('content', 'width=device-width'); document.getElementsByTagName('head')[0].appendChild(meta);\";\n\n    WKUserScript *wkUScript = [[WKUserScript alloc] initWithSource:jScript injectionTime:WKUserScriptInjectionTimeAtDocumentEnd forMainFrameOnly:YES];\n    WKUserContentController *wkUController = [[WKUserContentController alloc] init];\n    [wkUController addUserScript:wkUScript];\n\n    WKWebViewConfiguration *wkWebConfig = [[WKWebViewConfiguration alloc] init];\n    wkWebConfig.userContentController = wkUController;\n\n    WKWebView* webView = [[WKWebView alloc] initWithFrame:CGRectZero configuration:wkWebConfig];\n    webView.insetsLayoutMarginsFromSafeArea = false;\n    webView.scrollView.insetsLayoutMarginsFromSafeArea = false;\n    webView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n\n    webView.translatesAutoresizingMaskIntoConstraints = NO;\n    self.view = webView;\n\n    UIWindow *window = UIApplication.sharedApplication.windows.firstObject;\n    CGFloat topPadding = window.safeAreaInsets.top;\n    CGFloat bottomPadding = window.safeAreaInsets.bottom;\n    CGFloat leftPadding = window.safeAreaInsets.left;\n    CGFloat rightPadding = window.safeAreaInsets.right;\n    self.additionalSafeAreaInsets =  UIEdgeInsetsMake(-topPadding, -leftPadding, -bottomPadding, -rightPadding);\n    [webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@\"https://apple.com\"]]];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "edited": false, "score": 0, "creation_date": 1577096895, "post_id": 59452941, "comment_id": 105089033, "body": "Thanks, I think this was the missing puzzle piece. I actually added all of the constraints at the start, then deactivated trailing one in didFinish navigation, and activated it again. And it looks the same as in Safari."}, {"owner": {"reputation": 166, "user_id": 12524610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3b68742fab8b0a0c264f970758d95f?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/12524610/stefan"}, "reply_to_user": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "edited": false, "score": 0, "creation_date": 1577097574, "post_id": 59452941, "comment_id": 105089290, "body": "The point is to force the webView to redraw after the page is loaded (some sort of scenario that happens when deviceOrientation changes)."}, {"owner": {"reputation": 149, "user_id": 4971751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9d6607ccfc855450437b4e00359a765?s=128&d=identicon&r=PG&f=1", "display_name": "Artemiy Shlesberg", "link": "https://stackoverflow.com/users/4971751/artemiy-shlesberg"}, "edited": false, "score": 0, "creation_date": 1603912450, "post_id": 59452941, "comment_id": 114189492, "body": "Unfortunately it didn&#39;t work for me. I have the same problem but with the vertical safe area in portrait orientation. Any Ideas?"}], "tags": [], "owner": {"reputation": 166, "user_id": 12524610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3b68742fab8b0a0c264f970758d95f?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/12524610/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1577093568, "creation_date": 1577093568, "answer_id": 59452941, "question_id": 59421267, "link": "https://stackoverflow.com/questions/59421267/wkwebview-incorrect-content-width-in-landscape-with-safe-area/59452941#59452941", "title": "WKWebView incorrect content width in landscape with safe area", "body": "<p>It is not the perfect solution but I managed to fix this by adding the webView as subView to self.view and add constraints to superview instead of safeArea to get the same effect.</p>\n\n<p>Solution: </p>\n\n<ul>\n<li>Connect trailing constraint to a variable</li>\n<li>Set constraint isEnabled to\nfalse in viewDidLoad (to optimize check for deviceOrientation)</li>\n<li>In function webView(WKWebView, didFinish: WKNavigation) set constraint isEnabled to true</li>\n<li><p>Don't forget to register to navigationDelegate of the webView</p>\n\n<pre><code>@IBOutlet var mainWebView: WKWebView!\n@IBOutlet var trailingConstraint: NSLayoutConstraint!\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    let orientation = UIDevice.current.orientation\n    if orientation == .landscapeLeft || orientation == .landscapeRight {\n        trailingConstraint.isActive = false\n    }\n\n    mainWebView.navigationDelegate = self\n    mainWebView.load(URLRequest(url: URL(string: \"https://apple.com\")!))\n}\n\nfunc webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) {\n    trailingConstraint.isActive = true\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 292, "user_id": 1870185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ce38ab77063f8e00ba680fd87343de?s=128&d=identicon&r=PG", "display_name": "KleMiX", "link": "https://stackoverflow.com/users/1870185/klemix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 59452941, "answer_count": 2, "score": 2, "last_activity_date": 1577451530, "creation_date": 1576826258, "question_id": 59421267, "link": "https://stackoverflow.com/questions/59421267/wkwebview-incorrect-content-width-in-landscape-with-safe-area", "title": "WKWebView incorrect content width in landscape with safe area", "body": "<p>This is how it looks:\n<a href=\"https://i.stack.imgur.com/7iryb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7iryb.png\" alt=\"wrong offsets and width\"></a>\nMaximally simple code to reproduce:</p>\n\n<pre><code>#import \"ViewController.h\"\n#import &lt;WebKit/WebKit.h&gt;\n\n@implementation ViewController\n\n- (void)loadView\n{\n    WKWebView* webView = [[WKWebView alloc] initWithFrame:CGRectZero configuration:[[WKWebViewConfiguration alloc] init]];\n    self.view = webView;\n\n    [webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@\"https://apple.com\"]]];\n}\n\n- (UIInterfaceOrientationMask)supportedInterfaceOrientations\n{\n    return UIInterfaceOrientationMaskLandscape;\n}\n\n@end\n</code></pre>\n\n<p>This happens only to the websites with <code>viewport-fit=cover</code> set. If you open same websites in Safari, you can see that first draw frame has the same problem, but it instantly resizes correctly after.</p>\n\n<p>This happens only when launched in landscape.\nRotation to portrait and back to landscape fixes this. Even minimizing app and opening it again fixes this.</p>\n\n<p>So is there anything I can do from code to force it fix itself? \nI've already tried calling <code>setNeedsLayout</code> and <code>layoutIfNeeded</code> to whole <code>WKWebView</code> tree. Setting scroller insets will make content look like it doesn't have <code>viewport-fit=cover</code> set.\nThis happens on iOS 12 and 13 (tested) and iOS 13 Simulator.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 14221, "user_id": 5012441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w495.jpg?s=128&g=1", "display_name": "Josh Homann", "link": "https://stackoverflow.com/users/5012441/josh-homann"}, "is_accepted": true, "score": 0, "last_activity_date": 1576808609, "creation_date": 1576808609, "answer_id": 59419169, "question_id": 59418648, "link": "https://stackoverflow.com/questions/59418648/sentence-boundary-detection-across-many-languages/59419169#59419169", "title": "Sentence boundary detection across many languages", "body": "<p>You can use the built in apple <a href=\"https://developer.apple.com/documentation/foundation/nslinguistictagger\" rel=\"nofollow noreferrer\">NSLinguisticTagger</a> provided that it covers the languages you need.  One of the tags it can recognize is a sentence.</p>\n"}], "owner": {"reputation": 3, "user_id": 12568073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OacRK.jpg?s=128&g=1", "display_name": "maiko-m", "link": "https://stackoverflow.com/users/12568073/maiko-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1576810804, "accepted_answer_id": 59419169, "answer_count": 1, "score": -5, "last_activity_date": 1576808609, "creation_date": 1576803043, "question_id": 59418648, "link": "https://stackoverflow.com/questions/59418648/sentence-boundary-detection-across-many-languages", "closed_reason": "Not suitable for this site", "title": "Sentence boundary detection across many languages", "body": "<p>I'm looking for a framework like below that can be used with swift.\nWhat do you recommend?</p>\n\n<p><a href=\"https://github.com/diasks2/pragmatic_segmenter\" rel=\"nofollow noreferrer\">https://github.com/diasks2/pragmatic_segmenter</a></p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ios", "objective-c", "animation", "uivisualeffectview"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5827933, "user_type": "registered", "profile_image": "https://graph.facebook.com/970776246307805/picture?type=large", "display_name": "Andreas Henriksson", "link": "https://stackoverflow.com/users/5827933/andreas-henriksson"}, "is_accepted": false, "score": 0, "last_activity_date": 1576776597, "last_edit_date": 1576776597, "creation_date": 1576773383, "answer_id": 59413694, "question_id": 59412432, "link": "https://stackoverflow.com/questions/59412432/animate-image-change-of-uiimageview-when-having-an-uivisualeffectview-above/59413694#59413694", "title": "Animate image change of UIImageView when having an UIVisualEffectView above", "body": "<p>Got it working by taking a snapshot, append it to the superview, hide the real view, change it without animation and then fade the real view in with animation.</p>\n\n<pre><code>__block UIView *snapshot = [_backgroundArtworkImageView snapshotViewAfterScreenUpdates:NO];\n[_artworkContainer insertSubview:snapshot belowSubview:_backgroundArtworkImageView];\n_backgroundArtworkImageView.alpha = 0.0f;\n_backgroundArtworkImageView.image = blurredImage;\n\n[UIView transitionWithView:_artworkContainer\n                  duration:ANIMATION_DURATION\n                   options:UIViewAnimationOptionTransitionCrossDissolve\n                animations:^{\n                    _backgroundArtworkImageView.alpha = 1.0f;\n                }\n                completion:^(BOOL _) {\n                    [snapshot removeFromSuperview];\n                    snapshot = nil;\n                }];\n</code></pre>\n\n<p>Edit: I realized that the blur view was taking a small time to update, but to solve that a new snapshot of the resulting view could be taken and then animated with.</p>\n"}], "owner": {"reputation": 1, "user_id": 5827933, "user_type": "registered", "profile_image": "https://graph.facebook.com/970776246307805/picture?type=large", "display_name": "Andreas Henriksson", "link": "https://stackoverflow.com/users/5827933/andreas-henriksson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576776597, "creation_date": 1576768300, "question_id": 59412432, "link": "https://stackoverflow.com/questions/59412432/animate-image-change-of-uiimageview-when-having-an-uivisualeffectview-above", "title": "Animate image change of UIImageView when having an UIVisualEffectView above", "body": "<p>My problem is as follows:</p>\n\n<p>An <code>UIImageView</code>'s view is going to be changed with an animation, like this:</p>\n\n<pre><code>[UIView transitionWithView:_backgroundArtworkImageView\n                  duration:ANIMATION_DURATION\n                   options:UIViewAnimationOptionTransitionCrossDissolve\n                animations:^{\n                    _backgroundArtworkImageView.image = blurredImage;\n                }\n                completion:nil];\n</code></pre>\n\n<p>It works perfectly fine as long as I don't have an <code>UIVisualEffectView</code> over the image view. If using the blur view on top, it results in no animation at all.</p>\n\n<p>I've looked around for a bit and seen that <a href=\"https://stackoverflow.com/a/31708699\">snapshots of views</a> could be something to look into, which also seems to be what Apple uses internally on iOS, for example when bringing up the app switcher; I'm not really sure how exactly to approach it though.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 1962, "user_id": 5928311, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10207281969580701/picture?type=large", "display_name": "Vadim Nikolaev", "link": "https://stackoverflow.com/users/5928311/vadim-nikolaev"}, "is_accepted": true, "score": 2, "last_activity_date": 1576767726, "creation_date": 1576767726, "answer_id": 59412282, "question_id": 59412096, "link": "https://stackoverflow.com/questions/59412096/how-to-show-file-size-and-type-in-uiactivityviewcontroller-modal/59412282#59412282", "title": "How to show file size and type in UIActivityViewController modal", "body": "<p>You can implement functionality according to <a href=\"https://stackoverflow.com/questions/57850483/ios13-share-sheet-how-to-set-preview-thumbnail-when-sharing-uiimage/59014863#59014863\">this topic</a> or try to implement <code>activityViewControllerLinkMetadata(_:)</code> for your sharing file</p>\n"}], "owner": {"reputation": 201, "user_id": 8640651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/543de5d5364e2ce4cda53a002f558311?s=128&d=identicon&r=PG&f=1", "display_name": "P. van der Laan", "link": "https://stackoverflow.com/users/8640651/p-van-der-laan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 59412282, "answer_count": 1, "score": 2, "last_activity_date": 1576767726, "creation_date": 1576767002, "question_id": 59412096, "link": "https://stackoverflow.com/questions/59412096/how-to-show-file-size-and-type-in-uiactivityviewcontroller-modal", "title": "How to show file size and type in UIActivityViewController modal", "body": "<p>To allow the user to download a file, I use the <a href=\"https://developer.apple.com/documentation/uikit/uiactivityviewcontroller\" rel=\"nofollow noreferrer\">UIActivityViewController</a> provided by Apple. The following code produces the first screenshot:</p>\n\n<pre><code>let url: URL = // some url\nlet activityViewController = UIActivityViewController(activityItems: [url, \"A filename\"], applicationActivities: nil)\npresent(activityViewController, animated: true, completion: nil)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0FzMcm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0FzMcm.png\" alt=\"What the code above generates\"></a></p>\n\n<p>However, it does not show the file type (pdf document) and size, as is shown in the screenshot below. All functions of the activity view work (downloading, mailing, etc).</p>\n\n<p>Does anyone know how this information can be displayed using a <code>UIActivityViewController</code>?</p>\n\n<p><a href=\"https://i.stack.imgur.com/2uqgom.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uqgom.png\" alt=\"What Safari shows if you download a PDF Document\"></a></p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 12269393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134898289c64277f9175985d84b0b926?s=128&d=identicon&r=PG&f=1", "display_name": "Dhaval Raval", "link": "https://stackoverflow.com/users/12269393/dhaval-raval"}, "is_accepted": false, "score": 0, "last_activity_date": 1576758587, "last_edit_date": 1576758587, "creation_date": 1576757976, "answer_id": 59409687, "question_id": 59409498, "link": "https://stackoverflow.com/questions/59409498/launching-youtube-or-netflix-application-from-ios-app-by-passing-some-credential/59409687#59409687", "title": "Launching youtube or Netflix application from iOS app by passing some credential details", "body": "<p><strong>YouTube</strong></p>\n\n<p>You can embed youtube videos in iOS app using below YouTube player pod :</p>\n\n<pre><code>pod \"YoutubePlayer-in-WKWebView\", \"~&gt; 0.2.0\" \n</code></pre>\n\n<p>For more information refer YouTube official <a href=\"https://developers.google.com/youtube/v3/guides/ios_youtube_helper\" rel=\"nofollow noreferrer\">website</a></p>\n\n<p><strong>Netflix</strong></p>\n\n<p>and i think Netflix is not provided any sdk or API's and open source to access videos for iOS Swift.</p>\n\n<p>You can check other languages open source for NetFlix on github <a href=\"https://github.com/Netflix?utf8=%E2%9C%93&amp;q=&amp;type=&amp;language=\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12564674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCeV6oRd3KjSkQfTsZnpyh0Hj9YzhqmMLvKGBZaVA=k-s128", "display_name": "Anoop K", "link": "https://stackoverflow.com/users/12564674/anoop-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1576758587, "creation_date": 1576757309, "question_id": 59409498, "link": "https://stackoverflow.com/questions/59409498/launching-youtube-or-netflix-application-from-ios-app-by-passing-some-credential", "title": "Launching youtube or Netflix application from iOS app by passing some credential details", "body": "<p>I want to develop an enterprise application which have an entertainment feature. Basically I want to redirect to youtube or Netflix app with some login credentials or token. Youtube or Netflix app should use these credentials or token for authentication and allow the user to access the contents. Please let me know this is possible ? If yes how?</p>\n"}, {"tags": ["ios", "objective-c", "textures", "metal", "compute-shader"], "answers": [{"tags": [], "owner": {"reputation": 2106, "user_id": 588959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a95696a0bc1b7e3c9e7c0fc6778dcaf?s=128&d=identicon&r=PG", "display_name": "Jack H", "link": "https://stackoverflow.com/users/588959/jack-h"}, "is_accepted": true, "score": 2, "last_activity_date": 1576756988, "creation_date": 1576756988, "answer_id": 59409415, "question_id": 59408898, "link": "https://stackoverflow.com/questions/59408898/writing-to-an-mtltexture-causes-a-fatal-error/59409415#59409415", "title": "Writing to an MTLTexture causes a fatal error", "body": "<p>The above texture allocation and compute kernel launch are correct. Upon further digging in the documentation, the part that was missing was the <code>usage</code> property of <code>MTLTextureDescriptor</code>. In the <a href=\"https://developer.apple.com/documentation/metal/mtltexturedescriptor/1515783-usage?language=objc\" rel=\"nofollow noreferrer\">documentation</a>, the following is stated.</p>\n\n<blockquote>\n  <p>The default value for this property is MTLTextureUsageShaderRead.</p>\n</blockquote>\n\n<p>As such, in the example given in the question, the following additional property assignment on <code>MTLTextureDescriptor</code> is required.</p>\n\n<pre><code>desc.usage = MTLTextureUsageShaderWrite;\n</code></pre>\n"}], "owner": {"reputation": 2106, "user_id": 588959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a95696a0bc1b7e3c9e7c0fc6778dcaf?s=128&d=identicon&r=PG", "display_name": "Jack H", "link": "https://stackoverflow.com/users/588959/jack-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59409415, "answer_count": 1, "score": 0, "last_activity_date": 1576756988, "creation_date": 1576755088, "question_id": 59408898, "link": "https://stackoverflow.com/questions/59408898/writing-to-an-mtltexture-causes-a-fatal-error", "title": "Writing to an MTLTexture causes a fatal error", "body": "<p>Given an <code>MTLTexture</code>, defined as follows.</p>\n\n<pre><code>// Create device.\nid&lt;MTLDevice&gt; dev = MTLCreateDefaultSystemDevice();\n\n// Size of texture.\nconst unsigned int W = 640;\nconst unsigned int H = 480;\n\n// Define texture.\nMTLTextureDescriptor *desc = [[MTLTextureDescriptor alloc] init];\ndesc.pixelFormat = MTLPixelFormatBGRA8Unorm;\ndesc.width = W;\ndesc.height = H;\n\n// Create texture.\nid&lt;MTLTexture&gt; tex = [device newTextureWithDescriptor:desc];\n</code></pre>\n\n<p>It is my understanding that at this point I <em>should</em> have a texture as defined in <code>desc</code> allocated on device <code>dev</code> and accessible through <code>tex</code>.</p>\n\n<p>Now, given another texture <code>tex2</code> (known to be allocated and accessible) and a Metal compute kernel defined as follows.</p>\n\n<pre><code>kernel void foo(texture2d&lt;float, access::read&gt; in [[texture(0)]],\n                texture2d&lt;float, access::write&gt; out [[texture(1)]],\n                uint2 pix [[thread_position_in_grid]]) {\n    // Out of bounds check.\n    if (pix.x &gt;= out.get_width() || pix.y &gt;= out.get_height()) {\n        return;\n    }\n\n    // Do some processing on the input texture.\n    // ... All fine up to here.\n\n    // Write out a pixel to the output buffer.\n    const float4 p = abc; // abc is computed above.\n    out.write(p, pix);\n}\n</code></pre>\n\n<p>It is my understanding that when the pixel <code>p</code> is written out to <code>out</code>, the values of <code>p</code> will be converted to conform to the pixel format of <code>tex</code>, in this case <code>MTLPixelFormatBGRA8Unorm</code>.</p>\n\n<p>However, when launching the kernel as follows, the line in which <code>p</code> is written to <code>out</code> (above defined as <code>tex</code>) triggers a critical error (<code>SIGABRT</code>).</p>\n\n<pre><code>// Create a Metal library.\nid&lt;MTLLibrary&gt; lib = [dev newDefaultLibrary];\n\n// Load the kernel.\nid&lt;MTLFunction&gt; kernel = [lib newFunctionWithName:@\"foo\"];\n\n// Create a pipeline state.\nid&lt;MTLComputePipelineState&gt; pipelineState = [dev newComputePipelineStateWithFunction:kernel error:NULL];\n\n// Create a command queue.\nid&lt;MTLCommandQueue&gt; cmdQueue = [dev newCommandQueue];\n\n// Create command buffer.\nid&lt;MTLCommandBuffer&gt; cmdBuff = [cmdQueue commandBuffer];\n\n// Create compute encoder.\nid&lt;MTLComputeCommandEncoder&gt; enc = [cmdBuff computeCommandEncoder];\n\n// Set the pipeline state.\n[enc setComputePipelineState:pipelineState];\n\n// Set the input textures (tex2 is read only in the kernel, as above).\n[enc setTexture:tex2 atIndex:0];\n[enc setTexture:tex atIndex:1];\n\n// 2D launch configuration.\nconst MTLSize groupDim = MTLSizeMake(16, 16, 1);\nconst MTLSize gridDim = MTLSizeMake((int)ceil((float)(W / (float)groupDim.width)),\n                                    (int)ceil((float)(H / (float)groupDim.height)),\n                                    1);\n\n// Launch kernel.\n[enc dispatchThreadgroups:gridDim threadsPerThreadgroup:groupDim];\n[enc endEncoding];\n[enc commit];\n[cmdBuff waitUntilCompleted];\n\n</code></pre>\n\n<p>My question is that under the scenario outlined above, is my understanding of how one allocates a  <code>MTLTexture</code> correct? Or, is the example above merely defining a <em>wrapper</em> around some texture that I need to separately allocate?</p>\n"}, {"tags": ["ios", "objective-c", "photo"], "comments": [{"owner": {"reputation": 5912, "user_id": 1278026, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6e3e18a4955b9a8ad1a4e459a1c742f2?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Apeland", "link": "https://stackoverflow.com/users/1278026/oscar-apeland"}, "edited": false, "score": 0, "creation_date": 1576751976, "post_id": 59407892, "comment_id": 105003437, "body": "There&#39;s a bunch of pods, but making your own solution shouldn&#39;t be too hard. Here&#39;s sample code for general fetch and display; <a href=\"https://developer.apple.com/documentation/photokit/browsing_and_modifying_photo_albums\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/photokit/&hellip;</a>. You need to add a custom predicate for your specs. The Photos viewer can be done with a UIPageViewController. The bottom thumbnails is a UICollectionView. The share options should be provided by the system."}, {"owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "reply_to_user": {"reputation": 5912, "user_id": 1278026, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6e3e18a4955b9a8ad1a4e459a1c742f2?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Apeland", "link": "https://stackoverflow.com/users/1278026/oscar-apeland"}, "edited": false, "score": 0, "creation_date": 1576752312, "post_id": 59407892, "comment_id": 105003622, "body": "Thanks I&#39;ve already ffound this but unfortunately they don&#39;t offer it as Objective -C :-/  But it sounds rather complicated since I want swiping left/right, zooming the pictures, maybe editing them. Just everything the Photos app offers..."}, {"owner": {"reputation": 5912, "user_id": 1278026, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6e3e18a4955b9a8ad1a4e459a1c742f2?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Apeland", "link": "https://stackoverflow.com/users/1278026/oscar-apeland"}, "edited": false, "score": 0, "creation_date": 1576765926, "post_id": 59407892, "comment_id": 105010613, "body": "I see. That&#39;s a good month of work you&#39;ve got yourself there if you want to replicate it all. Especially the editing suite is very complicated. Have you considered just piggybacking on Photos by saving your time range images to a custom album and letting the user edit or share from there?"}, {"owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "reply_to_user": {"reputation": 5912, "user_id": 1278026, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6e3e18a4955b9a8ad1a4e459a1c742f2?s=128&d=identicon&r=PG&f=1", "display_name": "Oscar Apeland", "link": "https://stackoverflow.com/users/1278026/oscar-apeland"}, "edited": false, "score": 0, "creation_date": 1576835029, "post_id": 59407892, "comment_id": 105032370, "body": "Good advice...hm then I just leave out the editing then it shouldn&#39;t be hopefully too complicated"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576751721, "creation_date": 1576751721, "question_id": 59407892, "link": "https://stackoverflow.com/questions/59407892/ios-sdk-for-viewing-photos-of-your-own-album", "title": "iOS: SDK for viewing photos of your own album", "body": "<p>I basically want the ability to check first within two specific dates if a user has taken any pictures on his phone. If so, if he clicks a button in my app the photo viewer (ideally exactly the same as used in the Photos app) should be opened and only these pictures/videos should be displayed. Then the user can look at them, share them, basically also the exact same functionality as the Photos app offers. But how can I do that? So far it seems I would have to code this completely from scratch, since I don't want the user to \"pick\" any picture but just look at them, share them etc. Or is there any SDK for this?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "kotlin-multiplatform", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12563125, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA21OrCw57z-AaXLUY6XvQ4RUwSatlPxUE6crZVFQ=k-s128", "display_name": "Lei Wu", "link": "https://stackoverflow.com/users/12563125/lei-wu"}, "edited": false, "score": 0, "creation_date": 1577076942, "post_id": 59434245, "comment_id": 105082977, "body": "Thank you for your reply. But there is another question after reading your link, how could I cast the Kotlin Function to the &quot;True ProtoType&quot;? I think it&#39;s impossible."}], "tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1576912378, "creation_date": 1576912378, "answer_id": 59434245, "question_id": 59407317, "link": "https://stackoverflow.com/questions/59407317/platform-objc-objc-msgsend-not-work-in-kotlin/59434245#59434245", "title": "platform.objc.objc_msgSend not work in kotlin", "body": "<p><code>objc_msgSend</code> must be cast to appropriate functional type, per Apple recommendations, see <a href=\"https://mikeash.com/pyblog/objc_msgsends-new-prototype.html\" rel=\"nofollow noreferrer\">https://mikeash.com/pyblog/objc_msgsends-new-prototype.html</a> for technical details behind this decision.</p>\n"}], "owner": {"reputation": 1, "user_id": 12563125, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA21OrCw57z-AaXLUY6XvQ4RUwSatlPxUE6crZVFQ=k-s128", "display_name": "Lei Wu", "link": "https://stackoverflow.com/users/12563125/lei-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576912378, "creation_date": 1576749783, "question_id": 59407317, "link": "https://stackoverflow.com/questions/59407317/platform-objc-objc-msgsend-not-work-in-kotlin", "title": "platform.objc.objc_msgSend not work in kotlin", "body": "<p>This method creates an instance of BaseId and exported to an objective-c framework to called by ios project, here is the code:</p>\n\n<pre><code>actual fun create(typeName: String, id: String): BaseId {\n    val objCClass = NSClassFromString(typeName)\n    var selector = NSSelectorFromString(\"alloc\")\n    val instance = objc_msgSend(objCClass, selector)\n    selector = NSSelectorFromString(\"initWithId:\")\n    // ???????? this msgSend not work !\n    objc_msgSend(instance, selector, id)\n    // -------------------------------- \n    return instance as BaseId\n}\n</code></pre>\n\n<p>but when I called this method in ios project like this:</p>\n\n<pre><code>// UserId extends BaseId\nlet typeName = NSStringFromClass(UserId.classForCoder())\nlet userId = framework.create(typeName: typeName, id: \"testId\")  as! UserId\n// ????????  the userId is created sucessful but userId.id is empty, not the expetcting value \"testId\"\nlet userId2 = UserId.init(id: \"testId2\")\n// userId2 is good, userId2.id == \"testId2\"\n</code></pre>\n\n<p>UserId.h</p>\n\n<pre><code>__attribute__((objc_subclassing_restricted))\n__attribute__((swift_name(\"UserId\")))\n@interface CommonUserId : CommonBaseId\n- (instancetype)initWithId:(NSString *)id __attribute__((swift_name(\"init(id:)\"))) __attribute__((objc_designated_initializer));\n- (NSString *)testFun __attribute__((swift_name(\"testFun()\")));\n@property NSString *testProperty __attribute__((swift_name(\"testProperty\")));\n@end;\n</code></pre>\n\n<p>Is there anyone who can help me to find out what the wrong it is?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 15096, "user_id": 1127619, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/4i7Su.jpg?s=128&g=1", "display_name": "Kumar KL", "link": "https://stackoverflow.com/users/1127619/kumar-kl"}, "edited": false, "score": 0, "creation_date": 1576748876, "post_id": 59406639, "comment_id": 105001934, "body": "if you are using auto layout, then play with constraints. if you want to clean up remove from the parent view then <code>removeFromSuperview</code>..."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 2, "creation_date": 1576750929, "post_id": 59406639, "comment_id": 105002966, "body": "If  you put it in stack view then space will be released"}], "answers": [{"tags": [], "owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1576748096, "creation_date": 1576748096, "answer_id": 59406827, "question_id": 59406639, "link": "https://stackoverflow.com/questions/59406639/add-or-remove-uiview-according-to-conditions-in-objc/59406827#59406827", "title": "Add or remove uiview according to conditions in Objc?", "body": "<p>You can do like this...</p>\n\n<pre><code>//needToRemoveView is a boolean flag and based on that you can remove view\nif (needToRemoveView) { \n\n    [self.viewToRemove removeFromSuperview];\n\n}\n</code></pre>\n\n<p><code>removeFromSuperview</code> method actually removes the view form its super view and releases the memory occupied by view and the spaces on the screen.</p>\n\n<p>Where as <code>setHidden:</code> method doesn't not actually removes the view instead it hides the view and the space occupied by the view will be there(on screen as well as in memory). </p>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 2329086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/340fbce0e7670e06182046df3c6cf9fd?s=128&d=identicon&r=PG", "display_name": "zepar", "link": "https://stackoverflow.com/users/2329086/zepar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576766889, "creation_date": 1576766889, "answer_id": 59412068, "question_id": 59406639, "link": "https://stackoverflow.com/questions/59406639/add-or-remove-uiview-according-to-conditions-in-objc/59412068#59412068", "title": "Add or remove uiview according to conditions in Objc?", "body": "<p>You can do it in a different way too. </p>\n\n<p>Along with <code>setHidden</code> you can disable view's constraints to release the space. But remember to have a strong reference to disabled constraints, because they'll be released otherwise.</p>\n\n<pre><code>+---------------------------+\n| V0: Some view             |\n+---------------------------+ :\n                              | constraint with priority 750\n+---------------------------+ |\n| V1: View you want to hide | |\n+---------------------------+ |  :\n                              |  | constraint with priority 1000\n+---------------------------+ :  : (disable it along with setting isHidden for V1)\n| V2: Other view            |  \n+---------------------------+\n</code></pre>\n\n<p>Or you can combine this method with removing the view. </p>\n"}, {"tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1576803398, "creation_date": 1576803398, "answer_id": 59418687, "question_id": 59406639, "link": "https://stackoverflow.com/questions/59406639/add-or-remove-uiview-according-to-conditions-in-objc/59418687#59418687", "title": "Add or remove uiview according to conditions in Objc?", "body": "<p>For completion:</p>\n\n<p>To remove a view from your viewcontroller:</p>\n\n<pre><code>[self.yourView removeFromSuperview];\n[self.yourView release];\n</code></pre>\n\n<p>This is how you should do in the OLD DAYS. But nowadays XCode has ARC (Auto Reference Count) that means the release code is no longer needed unless you explicitly require immediate release. So your code will be:</p>\n\n<pre><code>[self.yourView removeFromSuperview];\n</code></pre>\n\n<p>This means, the yourView will be removed from viewcontroller, but still held in memory, until that memory is needed, then iOS will auto remove it forever.</p>\n"}, {"tags": [], "owner": {"reputation": 10235, "user_id": 892499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/945f41aebeea6bb85a6404af17a00ea4?s=128&d=identicon&r=PG", "display_name": "trapper", "link": "https://stackoverflow.com/users/892499/trapper"}, "is_accepted": false, "score": 0, "last_activity_date": 1576813866, "creation_date": 1576813866, "answer_id": 59419611, "question_id": 59406639, "link": "https://stackoverflow.com/questions/59406639/add-or-remove-uiview-according-to-conditions-in-objc/59419611#59419611", "title": "Add or remove uiview according to conditions in Objc?", "body": "<p>Just design your layout using <code>StackView</code></p>\n\n<p>Now if you set one of the subviews to hidden it will no longer take up any space. You can even animate this transition and get a nice shrinking effect.</p>\n"}], "owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1576813866, "creation_date": 1576747451, "last_edit_date": 1576748138, "question_id": 59406639, "link": "https://stackoverflow.com/questions/59406639/add-or-remove-uiview-according-to-conditions-in-objc", "title": "Add or remove uiview according to conditions in Objc?", "body": "<p>Is there a way I can add or remove a view from my view controller based on some conditions, so it wouldn't take up space on the screen?</p>\n\n<p>I'm looking for something like <code>View.GONE</code> in Android. I know there's <code>[view setHidde:YES]</code> but it only makes it invisible without releasing the space.</p>\n"}, {"tags": ["objective-c", "filtering", "nsmutablearray", "nsdictionary", "nspredicate"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1576751658, "post_id": 59406563, "comment_id": 105003296, "body": "&quot;UserId contains integer value in string format&quot; Are you sure? If you do <code>@&quot;(UserId == %@)&quot;, @([userId intValue])]</code> instead?"}], "answers": [{"tags": [], "owner": {"reputation": 10235, "user_id": 892499, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/945f41aebeea6bb85a6404af17a00ea4?s=128&d=identicon&r=PG", "display_name": "trapper", "link": "https://stackoverflow.com/users/892499/trapper"}, "is_accepted": true, "score": 1, "last_activity_date": 1576814295, "creation_date": 1576814295, "answer_id": 59419642, "question_id": 59406563, "link": "https://stackoverflow.com/questions/59406563/filter-nsmutablearray-of-dictionary-with-an-exact-int-dictionary-value-in-object/59419642#59419642", "title": "Filter NSMutableArray of dictionary with an exact int dictionary value in Objective-C", "body": "<p>You can't compare a string to a number like that. So just take the intValue and compare it as an int.</p>\n\n<pre><code>NSString *userId = userInfo[@\"UserId\"];\nNSPredicate *predicate = [NSPredicate predicateWithFormat:@\"UserId = %d\", userId.intValue];\nNSArray *filtered = [allData filteredArrayUsingPredicate:predicate];\n</code></pre>\n"}], "owner": {"reputation": 722, "user_id": 2727843, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WUG9y.png?s=128&g=1", "display_name": "MahboobiOSDeveloper", "link": "https://stackoverflow.com/users/2727843/mahboobiosdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 59419642, "answer_count": 1, "score": 0, "last_activity_date": 1577013040, "creation_date": 1576747236, "last_edit_date": 1577013040, "question_id": 59406563, "link": "https://stackoverflow.com/questions/59406563/filter-nsmutablearray-of-dictionary-with-an-exact-int-dictionary-value-in-object", "title": "Filter NSMutableArray of dictionary with an exact int dictionary value in Objective-C", "body": "<p>I have a NSMutableArray containing nsdictionary objects. </p>\n\n<pre><code>`[\n    {\n        \"IId\": 0,\n        \"BookSLNo\": 0,\n        \"RollNoOrEmpId\": \"0\",\n        \"BatchId\": 38,\n        \"Batch\": \"NA\",\n        \"UserId\": 20,\n        \"Name\": \"Kaiser Ahmed Khan\",\n        \"NickName\": \"\",\n        \"GenderId\": 1,\n        \"Gender\": \"Male\",\n        \"DateOfBirth\": \"01/Jan/2000\",\n        \"DateOfBirthYMD\": \"20000001\",\n        \"DesignationId\": 8,\n        \"Designation\": \"Extra Assistant Commissioner of Taxes\",\n        \"ZoneId\": 12,\n        \"Zone\": \"Taxes Appeal Zone-1 Dhaka\",\n        \"RangeId\": 15,\n        \"Range\": \"NA\",\n        \"Circle\": \"0\",\n        \"WorkingDistrictId\": 13,\n        \"WorkingDistrict\": \"Dhaka\",\n        \"HighestDegree\": \"\",\n        \"SubjectName\": \"\",\n        \"University\": \"\",\n        \"BloodGroupId\": \"1\",\n        \"BloodGroup\": \"NA\",\n        \"FatherName\": \"\",\n        \"MotherName\": \"\",\n        \"MarriageDate\": \"/Date(946713600000)/\",\n        \"SpouseName\": \"\",\n        \"SpouseBloodGroupId\": \"0\",\n        \"SpouseBloodGroup\": \"\",\n        \"SpouseProfession\": \"\",\n        \"Child1Name\": \"\",\n        \"Child1GenderId\": 0,\n        \"Child1Gender\": \"\",\n        \"Child2Name\": \"\",\n        \"Child2GenderId\": 0,\n        \"Child2Gender\": \"\",\n        \"Child3Name\": \"\",\n        \"Child3GenderId\": 0,\n        \"Child3Gender\": \"\",\n        \"ParmHouseNo\": \"\",\n        \"ParmStreetNo\": \"\",\n        \"ParmPostOffice\": \"\",\n        \"ParmThana\": \"\",\n        \"ParmDistrictId\": 12,\n        \"ParmDistrict\": \"Cox's Bazar\",\n        \"PresHouseNo\": \"\",\n        \"PresStreetNo\": \"\",\n        \"PresPostOffice\": \"\",\n        \"PresThana\": \"\",\n        \"PresDistrictId\": 0,\n        \"PresDistrict\": \"\",\n        \"ResidentialPhone\": \"\",\n        \"Mobile\": \"01711372588\",\n        \"EMailId\": \"kaiserahmedkhan@gmail.com\",\n        \"FacebookId\": \"\",\n        \"SkypeId\": \"\",\n        \"JoiningDate\": \"01/Jan/2007\",\n        \"FirstJoinedAsId\": 0,\n        \"FirstJoinedAs\": \"\",\n        \"Picture\": null,\n        \"PictureFamily\": null,\n        \"UserGroupId\": 2,\n        \"UserGroup\": null,\n        \"SectionId\": 1,\n        \"Section\": null,\n        \"DepartmentId\": 1,\n        \"Department\": null,\n        \"CreateDate\": \"/Date(1573221227000)/\",\n        \"CreatedBy\": 0,\n        \"ModifyDate\": \"/Date(-62135568000000)/\",\n        \"ModifyBy\": 0,\n        \"ExecuteType\": null,\n        \"PresAddress\": \",,,,,,,\",\n        \"PictureUrl\": \"http://taxdirectorybd.com/upload/UserImages/Profile/20.jpg\",\n        \"PictureFamilyUrl\": \"http://taxdirectorybd.com/upload/UserImages/Wal/20.jpg\",\n        \"JoiningDateYMD\": \"01/Jan/2007\",\n        \"MarriageDateSTR\": \"01/01/2000\",\n        \"IsFreedomFighter\": null,\n        \"Others\": null\n    },\n    {\n        \"IId\": 0,\n        \"BookSLNo\": 0,\n        \"RollNoOrEmpId\": \"0\",\n        \"BatchId\": 38,\n        \"Batch\": \"NA\",\n        \"UserId\": 21,\n        \"Name\": \"Nasreen Ara\",\n        \"NickName\": \"\",\n        \"GenderId\": 2,\n        \"Gender\": \"Female\",\n        \"DateOfBirth\": \"01/Jan/2000\",\n        \"DateOfBirthYMD\": \"20000001\",\n        \"DesignationId\": 8,\n        \"Designation\": \"Extra Assistant Commissioner of Taxes\",\n        \"ZoneId\": 12,\n        \"Zone\": \"Taxes Appeal Zone-1 Dhaka\",\n        \"RangeId\": 15,\n        \"Range\": \"NA\",\n        \"Circle\": \"0\",\n        \"WorkingDistrictId\": 13,\n        \"WorkingDistrict\": \"Dhaka\",\n        \"HighestDegree\": \"\",\n        \"SubjectName\": \"\",\n        \"University\": \"\",\n        \"BloodGroupId\": \"1\",\n        \"BloodGroup\": \"NA\",\n        \"FatherName\": \"\",\n        \"MotherName\": \"\",\n        \"MarriageDate\": \"/Date(946713600000)/\",\n        \"SpouseName\": \"\",\n        \"SpouseBloodGroupId\": \"0\",\n        \"SpouseBloodGroup\": \"\",\n        \"SpouseProfession\": \"\",\n        \"Child1Name\": \"\",\n        \"Child1GenderId\": 0,\n        \"Child1Gender\": \"\",\n        \"Child2Name\": \"\",\n        \"Child2GenderId\": 0,\n        \"Child2Gender\": \"\",\n        \"Child3Name\": \"\",\n        \"Child3GenderId\": 0,\n        \"Child3Gender\": \"\",\n        \"ParmHouseNo\": \"\",\n        \"ParmStreetNo\": \"\",\n        \"ParmPostOffice\": \"\",\n        \"ParmThana\": \"\",\n        \"ParmDistrictId\": 0,\n        \"ParmDistrict\": \"\",\n        \"PresHouseNo\": \"\",\n        \"PresStreetNo\": \"\",\n        \"PresPostOffice\": \"\",\n        \"PresThana\": \"\",\n        \"PresDistrictId\": 0,\n        \"PresDistrict\": \"\",\n        \"ResidentialPhone\": \"\",\n        \"Mobile\": \"01552371912\",\n        \"EMailId\": \"nasreenara65@gmail.com\",\n        \"FacebookId\": \"\",\n        \"SkypeId\": \"\",\n        \"JoiningDate\": \"01/Jan/2000\",\n        \"FirstJoinedAsId\": 0,\n        \"FirstJoinedAs\": \"\",\n        \"Picture\": null,\n        \"PictureFamily\": null,\n        \"UserGroupId\": 2,\n        \"UserGroup\": null,\n        \"SectionId\": 1,\n        \"Section\": null,\n        \"DepartmentId\": 1,\n        \"Department\": null,\n        \"CreateDate\": \"/Date(1573221354000)/\",\n        \"CreatedBy\": 0,\n        \"ModifyDate\": \"/Date(-62135568000000)/\",\n        \"ModifyBy\": 0,\n        \"ExecuteType\": null,\n        \"PresAddress\": \",,,,,,,\",\n        \"PictureUrl\": \"http://taxdirectorybd.com/upload/UserImages/Profile/21.jpg\",\n        \"PictureFamilyUrl\": \"http://taxdirectorybd.com/upload/UserImages/Wal/21.jpg\",\n        \"JoiningDateYMD\": \"01/Jan/2000\",\n        \"MarriageDateSTR\": \"01/01/2000\",\n        \"IsFreedomFighter\": null,\n        \"Others\": null\n    }\n    ]\n</code></pre>\n\n<p>I am trying to filter the array using the key UserId. But unable to filter. I tried in this way.</p>\n\n<pre><code>NSString* userId=userInfo[@\"UserId\"];\nNSPredicate* predicate=[NSPredicate predicateWithFormat:@\"(UserId == %@)\",userId];  NSArray* filteredArrays = [allData filteredArrayUsingPredicate:predicate];\n</code></pre>\n\n<p>Here UserId contains integer value in string format. Whie trying to filter using the provided code snippets ,\nIt is always returning O objects.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "ios13"], "comments": [{"owner": {"reputation": 1519, "user_id": 11117382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V0kw2.jpg?s=128&g=1", "display_name": "Harry J", "link": "https://stackoverflow.com/users/11117382/harry-j"}, "edited": false, "score": 1, "creation_date": 1576747415, "post_id": 59406361, "comment_id": 105001263, "body": "try <code>.overCurrentContext</code> and set the background color alpha to <code>0.7</code>, with the white popup being a subview over the background view."}, {"owner": {"reputation": 1440, "user_id": 1013079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db03c920311843f46263abdfdee45448?s=128&d=identicon&r=PG", "display_name": "HAK", "link": "https://stackoverflow.com/users/1013079/hak"}, "edited": false, "score": 1, "creation_date": 1576747473, "post_id": 59406361, "comment_id": 105001284, "body": "Are you presenting it from a viewcontroller? Are you presenting the viewcontroller directly or do you have a navigationcontroller in which viewcontroller is present?"}, {"owner": {"reputation": 11, "user_id": 12088873, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iVlL8kLr2Jk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc2B6kJ9DlRRa072RKSQ_hnnPNLmw/photo.jpg?sz=128", "display_name": "\u8521Jacob", "link": "https://stackoverflow.com/users/12088873/%e8%94%a1jacob"}, "reply_to_user": {"reputation": 1519, "user_id": 11117382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V0kw2.jpg?s=128&g=1", "display_name": "Harry J", "link": "https://stackoverflow.com/users/11117382/harry-j"}, "edited": false, "score": 0, "creation_date": 1576758464, "post_id": 59406361, "comment_id": 105006598, "body": "@Harry J I tried, but still black"}], "owner": {"reputation": 11, "user_id": 12088873, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iVlL8kLr2Jk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc2B6kJ9DlRRa072RKSQ_hnnPNLmw/photo.jpg?sz=128", "display_name": "\u8521Jacob", "link": "https://stackoverflow.com/users/12088873/%e8%94%a1jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576754080, "creation_date": 1576746407, "last_edit_date": 1576754080, "question_id": 59406361, "link": "https://stackoverflow.com/questions/59406361/under-the-ios-13-system-i-try-to-present-a-uiviewcontroller-with-a-semi-transpa", "title": "Under the iOS 13 system, I try to present a UIViewController with a semi-transparent background. The background color changed to completely black", "body": "<p>I tried to present the viewController with <strong>semi-transparent</strong> background. However, under <strong>iOS 13</strong>, the background color become completely <strong>Black</strong>(Shown in the Image above)!</p>\n\n<p>I have set modalPresentationStyle and modalTransitionStyle:</p>\n\n<pre><code>    self.modalTransitionStyle = UIModalTransitionStyleCrossDissolve;\n    self.modalPresentationStyle = UIModalPresentationOverFullScreen;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/v14UC.png\" alt=\"Black background color\"></p>\n\n<p>Help, please!</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 125, "user_id": 6207502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51000139ec1e160bf28e8d0e6873f621?s=128&d=identicon&r=PG&f=1", "display_name": "Sudhir", "link": "https://stackoverflow.com/users/6207502/sudhir"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1576736307, "post_id": 59403948, "comment_id": 104996815, "body": "@Paulw11 i don&#39;t have screenshot but when user download any video in netflix it will display here, as that is possible"}, {"owner": {"reputation": 65, "user_id": 11878875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37be781ec9972b0b31b8cf7dd0089b47?s=128&d=identicon&r=PG", "display_name": "theParadox42", "link": "https://stackoverflow.com/users/11878875/theparadox42"}, "edited": false, "score": 0, "creation_date": 1576813183, "post_id": 59403948, "comment_id": 105026144, "body": "Under the iPhone storage section, the content is automatically generated based on a couple things: If the app is from the App Store, show offload app If the app is built in, don\u2019t show delete, if there are any Siri recommendations, show those. You may have control over the Siri recommendations, and if this is it, make your question more specific"}, {"owner": {"reputation": 125, "user_id": 6207502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51000139ec1e160bf28e8d0e6873f621?s=128&d=identicon&r=PG&f=1", "display_name": "Sudhir", "link": "https://stackoverflow.com/users/6207502/sudhir"}, "reply_to_user": {"reputation": 65, "user_id": 11878875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37be781ec9972b0b31b8cf7dd0089b47?s=128&d=identicon&r=PG", "display_name": "theParadox42", "link": "https://stackoverflow.com/users/11878875/theparadox42"}, "edited": false, "score": 0, "creation_date": 1582267583, "post_id": 59403948, "comment_id": 106725394, "body": "@Paulw11 Please look at the attached screenshot of Netflix."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11878875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37be781ec9972b0b31b8cf7dd0089b47?s=128&d=identicon&r=PG", "display_name": "theParadox42", "link": "https://stackoverflow.com/users/11878875/theparadox42"}, "edited": false, "score": 1, "creation_date": 1576813149, "post_id": 59409799, "comment_id": 105026140, "body": "He is managing settings under iPhone storage, which isn\u2019t possible, not just under general settings"}, {"owner": {"reputation": 125, "user_id": 6207502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51000139ec1e160bf28e8d0e6873f621?s=128&d=identicon&r=PG&f=1", "display_name": "Sudhir", "link": "https://stackoverflow.com/users/6207502/sudhir"}, "edited": false, "score": 0, "creation_date": 1582267610, "post_id": 59409799, "comment_id": 106725405, "body": "Please look at the attached screenshot of Netflix"}], "tags": [], "owner": {"reputation": 1962, "user_id": 5928311, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10207281969580701/picture?type=large", "display_name": "Vadim Nikolaev", "link": "https://stackoverflow.com/users/5928311/vadim-nikolaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1576758409, "creation_date": 1576758409, "answer_id": 59409799, "question_id": 59403948, "link": "https://stackoverflow.com/questions/59403948/how-to-add-items-in-setting-page-of-app-inside-iphone-storage-of-my-app/59409799#59409799", "title": "How to add items in setting page of app inside iPhone storage of my app", "body": "<p>I guess <a href=\"https://medium.com/@abhimuralidharan/adding-settings-to-your-ios-app-cecef8c5497\" rel=\"nofollow noreferrer\">this article</a> will be useful for you</p>\n"}], "owner": {"reputation": 125, "user_id": 6207502, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/51000139ec1e160bf28e8d0e6873f621?s=128&d=identicon&r=PG&f=1", "display_name": "Sudhir", "link": "https://stackoverflow.com/users/6207502/sudhir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1582267519, "creation_date": 1576734742, "last_edit_date": 1582267519, "question_id": 59403948, "link": "https://stackoverflow.com/questions/59403948/how-to-add-items-in-setting-page-of-app-inside-iphone-storage-of-my-app", "title": "How to add items in setting page of app inside iPhone storage of my app", "body": "<p>As we are able to add some setting inside setting page of our app, how can we do this for iphone storage setting.</p>\n\n<p>Example : Open iPhone setting > General > iPhone storage > select any app (ex Netflix) then it will show downloaded content.</p>\n\n<p>How we can do this for our app in xcode and swift</p>\n\n<p>Please share any code or reference to study this.</p>\n\n<p>Attached screenshot \n<a href=\"https://i.stack.imgur.com/oVdH9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oVdH9.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Voicemail setting</strong>\n<a href=\"https://i.stack.imgur.com/OKwH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OKwH2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Recommendation setting \n<a href=\"https://i.stack.imgur.com/rB5Vr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rB5Vr.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Voice memos</strong>\n<a href=\"https://i.stack.imgur.com/vHQ5b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHQ5b.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Recommendation setting</strong> \n<a href=\"https://i.stack.imgur.com/1mNEU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1mNEU.png\" alt=\"enter image description here\"></a></p>\n"}]