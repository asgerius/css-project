[{"tags": ["ios", "objective-c", "amazon-web-services", "amazon-cognito"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6229695, "user_type": "registered", "profile_image": "https://graph.facebook.com/1080764068648625/picture?type=large", "display_name": "Luckei Katoch", "link": "https://stackoverflow.com/users/6229695/luckei-katoch"}, "is_accepted": false, "score": 0, "last_activity_date": 1556796753, "last_edit_date": 1556796753, "creation_date": 1556795978, "answer_id": 55951315, "question_id": 55504809, "link": "https://stackoverflow.com/questions/55504809/why-doesn-t-ios-aws-cognito-login-yield-errors-yet-doesnt-execute-its-function/55951315#55951315", "title": "Why doesn\u2019t iOS AWS Cognito login yield errors, yet doesn&#39;t execute its functions?", "body": "<p>I have also tried this but delegate methods are not working. </p>\n\n<p>Secondly, I tried with this code:</p>\n\n<pre><code>[AWSServiceManager.defaultServiceManager.defaultServiceConfiguration.credentialsProvider invalidateCachedTemporaryCredentials];\n        AWSCognitoIdentityUserPool *pool = [AWSCognitoIdentityUserPool CognitoIdentityUserPoolForKey:@\"User\"];\n\n     AppDelegate *delegate = (AppDelegate*)[[UIApplication sharedApplication] delegate];\n    self.user = [delegate.pool currentUser];\n\n[[ self.user getSession:_userName.text password:_txtPassword.text validationData:nil ] continueWithSuccessBlock:^id _Nullable(AWSTask&lt;AWSCognitoIdentityUserSession *&gt; * _Nonnull task) {\n\n            //success, task.result has user session\n            dispatch_async(dispatch_get_main_queue(), ^{\n                if(task.error || task.isCancelled) {\n                    [[[UIAlertView alloc] initWithTitle:task.error.userInfo[@\"__type\"]\n                                                message:task.error.userInfo[@\"message\"]\n                                               delegate:self\n                                      cancelButtonTitle:@\"Ok\"\n                                      otherButtonTitles:nil] show];\n\n\n                }else {\n\n                    AWSCognitoIdentityUserSession *session = (AWSCognitoIdentityUserSession *) task.result;\n                    NSString *tokenStr = [session.idToken tokenString];\n                    [[NSUserDefaults standardUserDefaults]setObject:tokenStr forKey:@\"token\"];\n                    [[NSUserDefaults standardUserDefaults]synchronize];\n\n                    [self performSelectorOnMainThread:@selector(pushToDashbard) withObject:nil waitUntilDone:YES];\n\n\n\n                }});\n\n            return nil;\n        }]\n</code></pre>\n\n<p>If I am passing the right credentials then this is giving the token, with wrong credentials giving no error response.</p>\n"}], "owner": {"reputation": 426, "user_id": 7528024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9lpxO.jpg?s=128&g=1", "display_name": "SumakuTension", "link": "https://stackoverflow.com/users/7528024/sumakutension"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556796753, "creation_date": 1554328057, "last_edit_date": 1554328783, "question_id": 55504809, "link": "https://stackoverflow.com/questions/55504809/why-doesn-t-ios-aws-cognito-login-yield-errors-yet-doesnt-execute-its-function", "title": "Why doesn\u2019t iOS AWS Cognito login yield errors, yet doesn&#39;t execute its functions?", "body": "<p>I'm trying to get my Cognito login to work. \nThe problem is that it's not working and I'm not getting error messages from AWS, or XCode. I've implemented it according to <a href=\"https://docs.amazonaws.cn/en_us/cognito/latest/developerguide/using-amazon-cognito-user-identity-pools-ios-sdk.html\" rel=\"nofollow noreferrer\">the tutorial</a> and the <a href=\"https://github.com/awslabs/aws-sdk-ios-samples/tree/master/CognitoYourUserPools-Sample/Objective-C/CognitoYourUserPoolsSample\" rel=\"nofollow noreferrer\">AWS sample code</a> (maybe wrongly?). I've tried to understand how the code works by adding a couple of NSlog's within the AWS cognito functions so that I know whether they get excecuted, but they do not show up in my console either. Why are these function not being run without even sending an error? Is there something obvious that I'm forgetting?</p>\n\n<p>Here's the essential parts of my code</p>\n\n<pre><code>// loginviewcontroller.h\n@import AWSCognitoIdentityProvider;\n\n@interface LoginViewController : UIViewController &lt;AWSCognitoIdentityPasswordAuthentication&gt;\n@property (nonatomic, strong) NSString * usernameText;\n\n@end\n</code></pre>\n\n<p>loginviewcontroller.m file:</p>\n\n<pre><code>// loginviewcontroller.m\n\n@property (nonatomic, strong) AWSTaskCompletionSource&lt;AWSCognitoIdentityPasswordAuthenticationDetails*&gt; *passwordAuthenticationCompletion;\n\n- (IBAction)signInPressed:(UIButton *)sender {\nself.passwordAuthenticationCompletion.result = [[AWSCognitoIdentityPasswordAuthenticationDetails alloc] initWithUsername:self.userName.text password:self.password.text];\nNSLog(@\"button pressed\");};\n\n-(void) getPasswordAuthenticationDetails: (AWSCognitoIdentityPasswordAuthenticationInput *) authenticationInput  passwordAuthenticationCompletionSource: (AWSTaskCompletionSource&lt;AWSCognitoIdentityPasswordAuthenticationDetails *&gt; *) passwordAuthenticationCompletionSource {\n//keep a handle to the completion, you'll need it continue once you get the inputs from the end user\nself.passwordAuthenticationCompletion = passwordAuthenticationCompletionSource;}\n\n\n-(void) didCompletePasswordAuthenticationStepWithError:(NSError*) error {\nNSLog(@\"didCompletePasswordAuthenticationStepWithError\");\n\ndispatch_async(dispatch_get_main_queue(), ^{\n    //present error to end user\n    if(error){\n        NSLog(@\"Error\");\n        [[[UIAlertView alloc] initWithTitle:error.userInfo[@\"__type\"]\n                                    message:error.userInfo[@\"message\"]\n                                   delegate:nil\n                          cancelButtonTitle:nil\n                          otherButtonTitles:@\"Ok\", nil] show];\n    }else{\n        NSLog(@\"Success\");\n\n        //dismiss view controller\n        [self dismissViewControllerAnimated:YES completion:nil];\n    }\n});\n</code></pre>\n\n<p>appdelegate.h</p>\n\n<pre><code>//appdelegate.h\n@import AWSCognitoIdentityProvider;\n\n@interface AppDelegate : UIResponder &lt;UIApplicationDelegate, AWSCognitoIdentityInteractiveAuthenticationDelegate&gt;\n\n@property(nonatomic,strong) LoginViewController* LoginViewController;\n</code></pre>\n\n<p>appdelegate.m:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{    \n\n    //setup AWS service config\n    AWSServiceConfiguration *serviceConfiguration = [[AWSServiceConfiguration alloc] initWithRegion:AWSRegionUSEast1 credentialsProvider:nil];\n\n    //create a pool\n    AWSCognitoIdentityUserPoolConfiguration *configuration = [[AWSCognitoIdentityUserPoolConfiguration alloc] initWithClientId:@\"xxxxxx\" clientSecret:@\"xxxxxxx\" poolId:@\"us-east-1_xxxxxx\"];\n\n    [AWSCognitoIdentityUserPool registerCognitoIdentityUserPoolWithConfiguration:serviceConfiguration userPoolConfiguration:configuration forKey:@\"us-east-1_xxxxx\"];\n\n    AWSCognitoIdentityUserPool *pool = [AWSCognitoIdentityUserPool CognitoIdentityUserPoolForKey:@\"us-east-1_xxxxxx\"];\n\n\n    pool.delegate = self;\n\n\n    return YES;\n}\n\n-(id&lt;AWSCognitoIdentityPasswordAuthentication&gt;) startPasswordAuthentication{\n//implement code to instantiate and display login UI here\n//return something that implements the AWSCognitoIdentityPasswordAuthentication protocol\nNSLog(@\"startpasswordauth AWS!\");\n\nreturn self.LoginViewController;\n}\n</code></pre>\n\n<p>Also I did not understand this property line that's in the AWS github sample. The notation of *xxx I haven't see before. Here's the line:</p>\n\n<pre><code>@property (nonatomic, strong) AWSTaskCompletionSource&lt;AWSCognitoIdentityPasswordAuthenticationDetails*&gt; *passwordAuthenticationCompletion;\n</code></pre>\n\n<p>It's not mentioned in the tutorial, but without it </p>\n\n<pre><code>self.passwordAuthenticationCompletion.result = [[AWSCognitoIdentityPasswordAuthenticationDetails alloc] initWithUsername:self.userName.text password:self.password.text];\n</code></pre>\n\n<p>errors that the attribute is not found.</p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 0, "creation_date": 1554319163, "post_id": 55501622, "comment_id": 97711726, "body": "for the .swift file Xcode is not displaying a MyProject-Swift.h file - its just showing the FileName.swift (interface). This is with Xcode 10.2. Has it changed in 10.2?"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 0, "creation_date": 1554319581, "post_id": 55501622, "comment_id": 97711914, "body": "@Gruntcakes: Apparently there must be at least one Objective-C file in the project, otherwise there is no \u201cMyProject-Swift.h\u201d menu item."}, {"owner": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 0, "creation_date": 1554319624, "post_id": 55501622, "comment_id": 97711933, "body": "there are dozens of Obj-C files in the project."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 0, "creation_date": 1554319667, "post_id": 55501622, "comment_id": 97711953, "body": "@Gruntcakes: Strange, it works for me. I made those screenshots with Xcode 10.2"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 0, "creation_date": 1554320378, "post_id": 55501622, "comment_id": 97712336, "body": "@Gruntcakes: Can you <code>#import &quot;MyProject-Swift.h&quot;</code> in an ObjC .m-file? Selecting the text &quot;MyProject-Swift.h&quot; in the Xcode edit and then &quot;Navigate-&gt;Jump To Definition&quot;  is an alternative method to see the contents of that file."}], "tags": [], "owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1554315682, "last_edit_date": 1554315682, "creation_date": 1554314973, "answer_id": 55501622, "question_id": 55501296, "link": "https://stackoverflow.com/questions/55501296/how-to-view-method-signatures-when-objc-c-is-bridged-to-swift-and-vice-versa/55501622#55501622", "title": "How to view method signatures when Objc-C is bridged to Swift and vice versa?", "body": "<p>To see how an Objective-C interface is imported into Swift, select the header file and choose \"Generated Interface\" from the \"Related Items\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7FJXk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7FJXk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Example: OClass.h:</p>\n\n<pre><code>NS_ASSUME_NONNULL_BEGIN\n\n@interface OClass : NSObject\n\n- (void)bar:(NSString *)string;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>Generated interface:</p>\n\n<pre><code>open class OClass : NSObject {\n    open func bar(_ string: String)\n}\n</code></pre>\n\n<p>To see how a Swift class is mapped to Objective-C, select a Swift file and choose \"Generated Interface -> \"ProjectName.h\" from the \"Related Items\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zoNfX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zoNfX.png\" alt=\"enter image description here\"></a></p>\n\n<p>Example: \"SClass.swift\"</p>\n\n<pre><code>class SClass: NSObject {\n    @objc func foo() {\n\n    }\n}\n</code></pre>\n\n<p>\"MyProject-Swift.h\":</p>\n\n<pre><code>// ...\nSWIFT_CLASS(\"_TtC9MyProject6SClass\")\n@interface SClass : NSObject\n- (void)foo;\n- (nonnull instancetype)init OBJC_DESIGNATED_INITIALIZER;\n@end\n// ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 1, "creation_date": 1554319240, "post_id": 55502191, "comment_id": 97711762, "body": "Your answer is a tutorial on how to mix swift and Obj-c. That is not my question."}, {"owner": {"reputation": 194, "user_id": 6206909, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9590b373c397e25504403881cfbb555f?s=128&d=identicon&r=PG&f=1", "display_name": "Digs", "link": "https://stackoverflow.com/users/6206909/digs"}, "reply_to_user": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "edited": false, "score": 0, "creation_date": 1554319713, "post_id": 55502191, "comment_id": 97711971, "body": "Sorry I thought method signature means parameters,return value  of the func should be visible in the place where you are calling."}], "tags": [], "owner": {"reputation": 194, "user_id": 6206909, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9590b373c397e25504403881cfbb555f?s=128&d=identicon&r=PG&f=1", "display_name": "Digs", "link": "https://stackoverflow.com/users/6206909/digs"}, "is_accepted": false, "score": -1, "last_activity_date": 1554317551, "last_edit_date": 1554317551, "creation_date": 1554316969, "answer_id": 55502191, "question_id": 55501296, "link": "https://stackoverflow.com/questions/55501296/how-to-view-method-signatures-when-objc-c-is-bridged-to-swift-and-vice-versa/55502191#55502191", "title": "How to view method signatures when Objc-C is bridged to Swift and vice versa?", "body": "<p><strong>Objc to swift</strong> </p>\n\n<p>Go to your Target -> BuildSettings->(search for \"Objective-C Bridging\")YouProjectBridging.h\nAdd your other .h files by #import \"OtherVisible.h\" in the  \"YouProjectBridging.h\"</p>\n\n<p><strong>Swift to Objc</strong></p>\n\n<p>In each .h file where you like to use swift code.\nAfter imports add a line <code>@class MySwiftClass;\"</code></p>\n\n<p>In .m file after imports add a line</p>\n\n<pre><code>#import &lt;YourProjectName-Swift.h&gt;\n</code></pre>\n\n<p>But first in swift class that you to like call should have access modifiers set to </p>\n\n<pre><code>@objc open class MyswiftClass\n</code></pre>\n\n<p>Same applies to its properties and function</p>\n\n<pre><code> @objc public var button : UIButton!\n @objc public override func viewDidLoad() \n</code></pre>\n"}], "owner": {"reputation": 35996, "user_id": 1082219, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ed7ba0d2fe0e66f98fdadd8d664dc45a?s=128&d=identicon&r=PG", "display_name": "Gruntcakes", "link": "https://stackoverflow.com/users/1082219/gruntcakes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 55501622, "answer_count": 2, "score": 1, "last_activity_date": 1554317551, "creation_date": 1554313766, "last_edit_date": 1554313818, "question_id": 55501296, "link": "https://stackoverflow.com/questions/55501296/how-to-view-method-signatures-when-objc-c-is-bridged-to-swift-and-vice-versa", "title": "How to view method signatures when Objc-C is bridged to Swift and vice versa?", "body": "<p>If I've got some Obj-C code and I'm calling this from Swift code, or I've got some Swift code that I'm calling from Objective-C. Then how can I see what the method signature for these look like.</p>\n\n<p>I've done this before and remember there being an Xcode generated bridging header that contains the bridged method signatures.\nBut I just can't find this at all now. I seem to remember it getting generated into the derived data folder, but I just can't find it anywhere at all.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 9501, "user_id": 233602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/33fbdd95b82b63c8561dc8a7bbfe53ca?s=128&d=identicon&r=PG", "display_name": "Andrew Ebling", "link": "https://stackoverflow.com/users/233602/andrew-ebling"}, "is_accepted": false, "score": 1, "last_activity_date": 1554310525, "creation_date": 1554310525, "answer_id": 55500441, "question_id": 55500440, "link": "https://stackoverflow.com/questions/55500440/unable-to-call-some-methods-from-an-objective-c-class-in-a-swift-extension-of-th/55500441#55500441", "title": "Unable to call some methods from an Objective-C class in a Swift extension of that class", "body": "<p>Check that both your objective-C class <em>and</em> the return type of the function (in your case <code>MyObject.h</code>) are included in the Bridging header. Methods with return types not included in the bridging header are not available from Swift.</p>\n"}], "owner": {"reputation": 9501, "user_id": 233602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/33fbdd95b82b63c8561dc8a7bbfe53ca?s=128&d=identicon&r=PG", "display_name": "Andrew Ebling", "link": "https://stackoverflow.com/users/233602/andrew-ebling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554312982, "creation_date": 1554310525, "last_edit_date": 1554312982, "question_id": 55500440, "link": "https://stackoverflow.com/questions/55500440/unable-to-call-some-methods-from-an-objective-c-class-in-a-swift-extension-of-th", "title": "Unable to call some methods from an Objective-C class in a Swift extension of that class", "body": "<p>I have an objective-c class something like:</p>\n\n<pre><code>@interface MyClass: NSObject { }\n\n- (MyObject *)coolMethod;\n\n@end\n\n@implementation MyClass\n\n- (MyObject *)coolMethod {\n    return [self doCoolStuff];\n}\n\n@end\n</code></pre>\n\n<p>...and a Swift extension something like:</p>\n\n<pre><code>extension MyClass {\n    @objc func addedMethodInSwift() {\n         let coolObj = coolMethod()   // &lt;&lt;&lt;&lt; compiler error - method not found\n    }\n}\n</code></pre>\n\n<p>The code will not compile, because the compiler cannot find the implementation of <code>coolMethod()</code>, however certain other methods from the Objective-C class can be called from the Swift extension.</p>\n\n<p>I have checked and the Objective-C header file is included in the project's bridging header, so it should be visible to Swift. The method in question is definitely visible in the header file.</p>\n\n<p>Why can't <code>coolMethod()</code> be called from the Swift extension?</p>\n"}, {"tags": ["objective-c", "nsstringencoding"], "comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1554313088, "post_id": 55498502, "comment_id": 97708726, "body": "What encoding is the NSData in? &quot;A degree symbol&quot; doesn&#39;t mean anything in data. That implies some encoding. What encoding is it?"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 8416570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed2aab41e37f0d6752e978d4949d2148?s=128&d=identicon&r=PG", "display_name": "Seth Kurkowski", "link": "https://stackoverflow.com/users/8416570/seth-kurkowski"}, "edited": false, "score": 1, "creation_date": 1554476147, "post_id": 55513577, "comment_id": 97779704, "body": "Marking you as the correct answer because it probably fixes the issue that I asked. Under further research and clarification from my leads the issue was completely different so a lot of what I asked isn&#39;t valid but it will probably help someone."}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": true, "score": 0, "last_activity_date": 1554373447, "creation_date": 1554373447, "answer_id": 55513577, "question_id": 55498502, "link": "https://stackoverflow.com/questions/55498502/removing-non-ascii-characters-from-nsdata/55513577#55513577", "title": "Removing non-ascii characters from NSData?", "body": "<p>The problem is likely that you are using <code>NSString:stringWithCString:encoding:</code> to convert your data object. This function requires the data to be null terminated. NSData objects do not have to be NULL terminated because they have an explicit length. If the NULL character is missing it will continue to read whatever there happens to be after the string, giving you either garbage at the end or possibly crash because of memory violation.</p>\n\n<p>Instead try using this:</p>\n\n<pre><code>NSString *stringISOLatin1 = [[NSString alloc] initWithData:data encoding:NSISOLatin1StringEncoding];\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 8416570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed2aab41e37f0d6752e978d4949d2148?s=128&d=identicon&r=PG", "display_name": "Seth Kurkowski", "link": "https://stackoverflow.com/users/8416570/seth-kurkowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 55513577, "answer_count": 1, "score": 0, "last_activity_date": 1554373447, "creation_date": 1554304220, "question_id": 55498502, "link": "https://stackoverflow.com/questions/55498502/removing-non-ascii-characters-from-nsdata", "title": "Removing non-ascii characters from NSData?", "body": "<p>First off, I'm not exactly sure what is happening or if I fully understand it enough to describe the issue so I'll try my best.</p>\n\n<p>I'm encoding a NSData object that contains json and one of the objects contains a degree symbol. We believe this what is causing the issue and would like to remove it before encoding since the problem occurs during encoding.</p>\n\n<p>I have plenty of options out there for removing certain characters from strings but none from doing it from the NSData object itself. Wondering if this is even possible or if its an issue with how I'm already encoding it.</p>\n\n<p>This is how the NSData object is being encoded and turned back into a NSData object to serialize it to json. Right now I'm not trying to remove the degree symbol, using Latin 1 because another character I want to use but do not need it, this probably isn't the best way to do but it works for majority of other data objects that pass through it just not this one so this needs to change.</p>\n\n<pre><code>NSString* stringISOLatin1 = [NSString stringWithCString:data.bytes encoding:NSISOLatin1StringEncoding];\nNSData* dataUTF8 = [stringISOLatin1 dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:NO];\n</code></pre>\n\n<p>The results are a little weird, most of the time it works fine, even including the degree symbol in the text when displayed on screen. Other times after encoding the string comes back messed up at the end which makes it unable to be serialized. </p>\n\n<p>Any help would be appreciated even if it just leads to a better explanation of what is happen. Thanks</p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 6930, "user_id": 1627511, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2048aa3b4143c6331400e82fe28a302?s=128&d=identicon&r=PG", "display_name": "Guy Kogus", "link": "https://stackoverflow.com/users/1627511/guy-kogus"}, "is_accepted": false, "score": 1, "last_activity_date": 1554477102, "creation_date": 1554477102, "answer_id": 55538513, "question_id": 55496813, "link": "https://stackoverflow.com/questions/55496813/member-observe-cannot-be-used-on-value-of-protocol-type-use-generic-constrain/55538513#55538513", "title": "Member &#39;observe&#39; cannot be used on value of protocol type; use generic constraint instead", "body": "<p>There must be something special under the hood about the <code>observe</code> function, since all the functions and methods can be accessed your way. It's asking you to instead create something like this:</p>\n\n<pre><code>class Foo {\n    @objc public dynamic var vm: (NSObject &amp; DemoViewModel)?\n\n    private var observer: NSKeyValueObservation?\n\n    func setVM&lt;T&gt;(_ vm: T) where T: NSObject &amp;: DemoViewModel {\n        self.vm = vm\n        observer = vm?.observe(\\.bla, options: [.old, .new]) { _, _ in\n            // do something\n        }\n    }\n}\n</code></pre>\n\n<p>When you implement <code>DemoViewModel</code>, remember that you need to mark <code>bla</code> as <code>dynamic</code>, otherwise the observer won't be called.</p>\n\n<pre><code>class Bar: NSObject, DemoViewModel {\n    @objc dynamic var bla: String = \"\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1707, "user_id": 375047, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/36cf540151b15ee6fa45f25c4387cbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/375047/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554477102, "creation_date": 1554299481, "question_id": 55496813, "link": "https://stackoverflow.com/questions/55496813/member-observe-cannot-be-used-on-value-of-protocol-type-use-generic-constrain", "title": "Member &#39;observe&#39; cannot be used on value of protocol type; use generic constraint instead", "body": "<p>I'm trying to observe a property (which is declared within an Objective-C) in Swift.</p>\n\n<p>Objective-C protocol:</p>\n\n<pre><code>@protocol DemoViewModel &lt;NSObject&gt;\n@property (nonatomic, strong) NSString *bla;\n@end\n</code></pre>\n\n<p>Swift observe:</p>\n\n<pre><code>@objc public dynamic var vm: (NSObject &amp; DemoViewModel) {\n   didSet {\n        vm.observe(#keyPath(DemoViewModel.bla)) { _,_ in\n            //do something\n        }\n    }\n}\n</code></pre>\n\n<p>Interestingly I receive an error:<br>\n<code>Member \u2018observe\u2019 cannot be used on value of protocol type \u2018NSObject &amp; DemoViewModel\u2019; use a generic constraint instead</code></p>\n\n<p>Any idea what's going on? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "pdf", "uinavigationbar", "uinavigationitem"], "answers": [{"comments": [{"owner": {"reputation": 1434, "user_id": 9130432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca83ae5d31f4d465ec52e3a1106bc5a?s=128&d=identicon&r=PG&f=1", "display_name": "Bhaumik Surani", "link": "https://stackoverflow.com/users/9130432/bhaumik-surani"}, "edited": false, "score": 0, "creation_date": 1554299827, "post_id": 55494721, "comment_id": 97700904, "body": "Your answer is right for image but I want to use pdf vector icon."}], "tags": [], "owner": {"reputation": 26, "user_id": 11225088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81986ebfcc9541efd64709241968eed6?s=128&d=identicon&r=PG&f=1", "display_name": "JorgeVazquez", "link": "https://stackoverflow.com/users/11225088/jorgevazquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1554293050, "creation_date": 1554293050, "answer_id": 55494721, "question_id": 55494376, "link": "https://stackoverflow.com/questions/55494376/ios-uinavigationbar-button-image-is-too-small-for-pdf-vector-icon/55494721#55494721", "title": "iOS UINavigationBar button image is too small for pdf vector icon", "body": "<p>What I do is to save the icon three times, 25px, 50px, 75px, and add this three together in assets ( x1, x2, x3), with this you dont have to set the size of the icon in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8816491, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uiONPH7lenw/AAAAAAAAAAI/AAAAAAAAAEE/vCQO6fIprgo/photo.jpg?sz=128", "display_name": "stepan kloucek", "link": "https://stackoverflow.com/users/8816491/stepan-kloucek"}, "is_accepted": false, "score": 1, "last_activity_date": 1581332506, "creation_date": 1581332506, "answer_id": 60149005, "question_id": 55494376, "link": "https://stackoverflow.com/questions/55494376/ios-uinavigationbar-button-image-is-too-small-for-pdf-vector-icon/60149005#60149005", "title": "iOS UINavigationBar button image is too small for pdf vector icon", "body": "<p>Problem is that the vector image has size declared in pixels. This does matter for some reason for tabBarItems and for UIBarButtonItem. I solved the problem with this UIImage extension. </p>\n\n<pre><code>func resize(to size: CGFloat) -&gt; UIImage {\n    let newSize = CGSize(width: size, height: size)\n    return resize(newSize: newSize)\n}\n\n\nprivate func resize(newSize: CGSize) -&gt; UIImage {\n    UIGraphicsBeginImageContextWithOptions(newSize, false, 0.0)\n    self.draw(in: CGRect(origin: CGPoint.zero, size: newSize))\n    let newImage = UIGraphicsGetImageFromCurrentImageContext()\n    UIGraphicsEndImageContext()\n    return newImage ?? UIImage()\n}\n\n private lazy var sendAction = UIBarButtonItem(image: yourImage.resize(to: 32),\n                                              style: .done,\n                                              target: self,\n                                              action: #selector(someAction))\n</code></pre>\n"}], "owner": {"reputation": 1434, "user_id": 9130432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ca83ae5d31f4d465ec52e3a1106bc5a?s=128&d=identicon&r=PG&f=1", "display_name": "Bhaumik Surani", "link": "https://stackoverflow.com/users/9130432/bhaumik-surani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1581332506, "creation_date": 1554291892, "question_id": 55494376, "link": "https://stackoverflow.com/questions/55494376/ios-uinavigationbar-button-image-is-too-small-for-pdf-vector-icon", "title": "iOS UINavigationBar button image is too small for pdf vector icon", "body": "<p>I was set pdf vector image in UINavigationBar rightBarButtonItem but it still displaying too small.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xDobW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDobW.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>How to display full size vector image in UINavigationBar?</p>\n</blockquote>\n\n<p>I was try following code:-<br>\nFirst way:-</p>\n\n<pre><code>UIBarButtonItem *barbutton = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@\u201cimgRightArrow\u201d] style:UIBarButtonItemStylePlain target:nil action:nil];\nself.navigationItem.rightBarButtonItem = barbutton;\n</code></pre>\n\n<p>Second way:-</p>\n\n<pre><code>UIImage *image = [UIImage imageNamed:@\u201cimgRightArrow\u201d]\nUIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];\n[button setImage:image forState:UIControlStateNormal];\n[button.imageView setContentMode:UIViewContentModeScaleToFill];\nbutton.frame = CGRectMake(0, 0, 35, 35);\nself.navigationItem.rightBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:button];\n</code></pre>\n"}, {"tags": ["objective-c", "swift5", "swift4.2"], "answers": [{"comments": [{"owner": {"reputation": 3889, "user_id": 2545550, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LEpF1.jpg?s=128&g=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/2545550/krishna"}, "edited": false, "score": 0, "creation_date": 1559626295, "post_id": 55509857, "comment_id": 99469386, "body": "doesn&#39;t work for me. Still have the same issue after doing &quot;pod repo update&quot;"}, {"owner": {"reputation": 1345, "user_id": 5335109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ef6af8a82e8fbaf058afbe06caf7639?s=128&d=identicon&r=PG&f=1", "display_name": "ironRoei", "link": "https://stackoverflow.com/users/5335109/ironroei"}, "reply_to_user": {"reputation": 3889, "user_id": 2545550, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LEpF1.jpg?s=128&g=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/2545550/krishna"}, "edited": false, "score": 0, "creation_date": 1559718991, "post_id": 55509857, "comment_id": 99503760, "body": "@Krishna try doing rm -rf Pods and then pod install."}, {"owner": {"reputation": 3889, "user_id": 2545550, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LEpF1.jpg?s=128&g=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/2545550/krishna"}, "edited": false, "score": 0, "creation_date": 1559719620, "post_id": 55509857, "comment_id": 99504017, "body": "I did try. Still no luck in resolving the issue."}], "tags": [], "owner": {"reputation": 1345, "user_id": 5335109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ef6af8a82e8fbaf058afbe06caf7639?s=128&d=identicon&r=PG&f=1", "display_name": "ironRoei", "link": "https://stackoverflow.com/users/5335109/ironroei"}, "is_accepted": true, "score": 0, "last_activity_date": 1554361948, "creation_date": 1554361948, "answer_id": 55509857, "question_id": 55487882, "link": "https://stackoverflow.com/questions/55487882/swift-5-breaking-my-native-module-export-with-error-swift-class-extensions-and/55509857#55509857", "title": "Swift 5 breaking my native module export, with error Swift class extensions and categories on Swift classes are not allowed to have +load methods", "body": "<p>Had the same issue.\nIf you will notice , when you run the app on a real device it will work fine.\nThe problem is in the pods, do pod update.</p>\n"}], "owner": {"reputation": 87, "user_id": 9509431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfc99f08c7b39bb35e782517d4c22f5?s=128&d=identicon&r=PG&f=1", "display_name": "abankitbaid", "link": "https://stackoverflow.com/users/9509431/abankitbaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "accepted_answer_id": 55509857, "answer_count": 1, "score": 1, "last_activity_date": 1554361948, "creation_date": 1554270527, "question_id": 55487882, "link": "https://stackoverflow.com/questions/55487882/swift-5-breaking-my-native-module-export-with-error-swift-class-extensions-and", "title": "Swift 5 breaking my native module export, with error Swift class extensions and categories on Swift classes are not allowed to have +load methods", "body": "<p>I have a swift native module, which i have written in Swift 4.2, Now i have updated my xcode, and it is breaking my code with error </p>\n\n<blockquote>\n  <p>Swift class extensions and categories on Swift classes are not allowed\n  to have +load methods</p>\n</blockquote>\n\n<p>If i am not exporting my module its working fine, But if i am exporting my module with <code>@interface RCT_EXTERN_MODULE(MFobSDK, NSObject)</code>\nits breacking my Code. If anyone have any idea why its happening please let me know.</p>\n"}, {"tags": ["ios", "objective-c", "powerpoint", "uidocumentinteraction", "qlpreviewcontroller"], "comments": [{"owner": {"reputation": 338, "user_id": 2429013, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LI6eI.jpg?s=128&g=1", "display_name": "Jamil", "link": "https://stackoverflow.com/users/2429013/jamil"}, "edited": false, "score": 1, "creation_date": 1554267354, "post_id": 55487327, "comment_id": 97683088, "body": "Possible duplicate : <a href=\"https://stackoverflow.com/questions/35116820/uidocumentinteractioncontroller-remove-actions-menu\" title=\"uidocumentinteractioncontroller remove actions menu\">stackoverflow.com/questions/35116820/&hellip;</a>"}, {"owner": {"reputation": 722, "user_id": 4860988, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/1vOCq.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/4860988/ravi"}, "reply_to_user": {"reputation": 338, "user_id": 2429013, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LI6eI.jpg?s=128&g=1", "display_name": "Jamil", "link": "https://stackoverflow.com/users/2429013/jamil"}, "edited": false, "score": 0, "creation_date": 1554267624, "post_id": 55487327, "comment_id": 97683165, "body": "@ Jamil. This is not duplicate. I have already tried much advice including which you have shared. This is not worked for me including other advice. That&#39;s why I have asked this question. Please check my 2nd number URL."}, {"owner": {"reputation": 722, "user_id": 4860988, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/1vOCq.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/4860988/ravi"}, "reply_to_user": {"reputation": 338, "user_id": 2429013, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LI6eI.jpg?s=128&g=1", "display_name": "Jamil", "link": "https://stackoverflow.com/users/2429013/jamil"}, "edited": false, "score": 1, "creation_date": 1554274209, "post_id": 55487327, "comment_id": 97685426, "body": "Finally, I have fixed this issue via webView. My code:    NSURLRequest *request = [NSURLRequest requestWithURL:self.URLLoadOnWebView];     [self.webView loadRequest:request];         [MBProgressHUD showHUDAddedTo:self.view animated:YES];"}], "owner": {"reputation": 722, "user_id": 4860988, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/1vOCq.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/4860988/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556544543, "creation_date": 1554267206, "last_edit_date": 1556544543, "question_id": 55487327, "link": "https://stackoverflow.com/questions/55487327/ios-objective-c-how-to-hide-remove-uidocumentinteractioncontroller-bar-share-b", "title": "iOS, Objective -C How to Hide/remove UIDocumentInteractionController bar/share button from iPad?", "body": "<p>I am showing a powerpoint file via UIDocumentInteractionController (Objective - C). The client needs to remove bar/share button from the navigation bar. I have tried and follow much instruction which I found on Google. But all are not working in my case. \nWhat I tried:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/42770804/hide-status-bar-when-using-uidocumentinteractioncontroller\">Hide status bar when using UIDocumentInteractionController?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/35116820/uidocumentinteractioncontroller-remove-actions-menu\">UIDocumentInteractionController remove Actions Menu</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6117119/can-i-hide-the-action-button-on-the-uidocumentinteractioncontroller-view\">Can I hide the Action button on the UIDocumentInteractionController view?</a><a href=\"https://i.stack.imgur.com/EGpEA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGpEA.jpg\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>My Code:</p>\n\n<pre><code> if ([documentType isEqualToString:DOC_TYPE_PPTX]) {\n\n\n                self.documentInteractionController = [UIDocumentInteractionController interactionControllerWithURL:documentUrl];\n\n                // Configure Document Interaction Controller\n                [self.documentInteractionController setDelegate:self];\n\n                // Preview PDF\n                [self.documentInteractionController presentPreviewAnimated:YES];\n\n\n            }\n</code></pre>\n\n<p>If not possible to hide/remove this share button then please suggest me another custom library/framework for show powerpoint file without share button in objective - C. Thanks in advance. Any suggestion will be Great.</p>\n"}, {"tags": ["objective-c", "nsdate", "nspredicate", "unix-timestamp"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1554235055, "post_id": 55481275, "comment_id": 97674982, "body": "This is basically a repost of a portion of <a href=\"https://stackoverflow.com/questions/55477111/nsdate-timezones-and-unix-timestamp-confusion\">your previous question</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 1267222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44f5d723bf2ef2dac40327bfa9815989?s=128&d=identicon&r=PG", "display_name": "Jan-Gerd", "link": "https://stackoverflow.com/users/1267222/jan-gerd"}, "is_accepted": true, "score": 2, "last_activity_date": 1554234753, "creation_date": 1554234753, "answer_id": 55482544, "question_id": 55481275, "link": "https://stackoverflow.com/questions/55481275/nspredicate-nslog-of-predicate-using-nsdate-seems-wrong/55482544#55482544", "title": "NSPredicate: NSLog of predicate using NSDate seems wrong", "body": "<p>Your math is correct, but the internal reference date used by NSDate is 2001-01-01, not 1970-01-01 as seen in many other places for UNIX timestamps. That's also why NSDate has <a href=\"https://developer.apple.com/documentation/foundation/nsdate/1417376-timeintervalsincereferencedate?language=objc\" rel=\"nofollow noreferrer\">timeIntervalSinceReferenceDate</a> and <a href=\"https://developer.apple.com/documentation/foundation/nsdate/1407504-timeintervalsince1970?language=objc\" rel=\"nofollow noreferrer\">timeIntervalSince1970</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": false, "score": 2, "last_activity_date": 1554234774, "creation_date": 1554234774, "answer_id": 55482548, "question_id": 55481275, "link": "https://stackoverflow.com/questions/55481275/nspredicate-nslog-of-predicate-using-nsdate-seems-wrong/55482548#55482548", "title": "NSPredicate: NSLog of predicate using NSDate seems wrong", "body": "<p><code>NSDate</code>'s epoch is not the same as the Unix epoch. From <a href=\"https://developer.apple.com/documentation/foundation/nsdate\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>Date objects are immutable, representing an invariant time interval relative to an absolute reference date (00:00:00 UTC on 1 January 2001).</p>\n</blockquote>\n\n<p>So, 575921995.671820 seconds from 2001/01/01 is 2019-04-02 18:19:55 UTC.</p>\n"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55482544, "answer_count": 2, "score": 0, "last_activity_date": 1554234774, "creation_date": 1554229349, "question_id": 55481275, "link": "https://stackoverflow.com/questions/55481275/nspredicate-nslog-of-predicate-using-nsdate-seems-wrong", "title": "NSPredicate: NSLog of predicate using NSDate seems wrong", "body": "<p>Where is my error?</p>\n\n<p>Following lines of code:</p>\n\n<pre><code>NSPredicate* someTestPredicate = [NSPredicate predicateWithFormat:@\"departureTime &gt;= %@\", [NSDate date]];\n    NSLog(@\"Some Test Predicate: %@\", someTestPredicate);\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>2019-04-02 20:19:55.671894+0200 [9402:337625] Some Test Predicate: departureTime &gt;= CAST(575921995.671820, \"NSDate\")\n</code></pre>\n\n<p>And this timestamp refers to:\n04/01/1988 @ 6:19pm (UTC)</p>\n\n<p>So why is the year so wrong? What do I do wrong?</p>\n"}, {"tags": ["objective-c", "xcode", "macos", "nstoolbar", "nstoolbaritem"], "comments": [{"owner": {"reputation": 1515, "user_id": 516545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8ea5a0aad3e067e30030796611ff67?s=128&d=identicon&r=PG", "display_name": "SMGreenfield", "link": "https://stackoverflow.com/users/516545/smgreenfield"}, "edited": false, "score": 0, "creation_date": 1585789334, "post_id": 55480163, "comment_id": 107889587, "body": "Oleg, did you ever find out an answer to this?  I have the same exact question: how to add separate assets for the 24x24 1x/2x light/dark versions, plus the 32x32 1/x/2x light/dark versions.  Sure -- I can always add SEPARATE assets.  But how does NSToolbarItem know to look inside separate assets?"}, {"owner": {"reputation": 472, "user_id": 2148229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c572fd43571e3997bb3a56e13a915aa9?s=128&d=identicon&r=PG", "display_name": "Oleg Korzhukov", "link": "https://stackoverflow.com/users/2148229/oleg-korzhukov"}, "reply_to_user": {"reputation": 1515, "user_id": 516545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8ea5a0aad3e067e30030796611ff67?s=128&d=identicon&r=PG", "display_name": "SMGreenfield", "link": "https://stackoverflow.com/users/516545/smgreenfield"}, "edited": false, "score": 0, "creation_date": 1585822578, "post_id": 55480163, "comment_id": 107900295, "body": "SMGreenfield, I believe where are no easy answer for this. I decided to disable standard size (32x32 and 64x64) on my toolbars and restrict them only to small size."}, {"owner": {"reputation": 1515, "user_id": 516545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8ea5a0aad3e067e30030796611ff67?s=128&d=identicon&r=PG", "display_name": "SMGreenfield", "link": "https://stackoverflow.com/users/516545/smgreenfield"}, "edited": false, "score": 0, "creation_date": 1586039187, "post_id": 55480163, "comment_id": 107980199, "body": "After working with Apple Developers, I&#39;ve found that it works PERFECTLY to provide a singular 128 x 128 pixel image (one each for light mode and dark mode).  I was worried about the scaling, but I&#39;ve looked at it carefully and it seems to be very accurate to the .png files we are using.  Now if I could only get NSToolbarItem&#39;s allowsDuplicatesInToolbar feature to work &lt;g&gt;..."}], "answers": [{"comments": [{"owner": {"reputation": 472, "user_id": 2148229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c572fd43571e3997bb3a56e13a915aa9?s=128&d=identicon&r=PG", "display_name": "Oleg Korzhukov", "link": "https://stackoverflow.com/users/2148229/oleg-korzhukov"}, "edited": false, "score": 0, "creation_date": 1554799791, "post_id": 55565080, "comment_id": 97874356, "body": "1. A quote form Apple Documentation about the size of an image on a toolbar would be nice. Thanks.  2. Your &quot;quick and dirty solution&quot; is not does not meet my &quot;pixel perfect&quot; needs. Thanks."}], "tags": [], "owner": {"reputation": 574, "user_id": 11042467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3r7VV.jpg?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/11042467/ron"}, "is_accepted": false, "score": 0, "last_activity_date": 1554685858, "creation_date": 1554685858, "answer_id": 55565080, "question_id": 55480163, "link": "https://stackoverflow.com/questions/55480163/add-image-or-icon-set-to-asset-catalog-to-be-used-with-nstoolbaritem/55565080#55565080", "title": "Add image or icon set to asset catalog to be used with NSToolbarItem", "body": "<p>See the Apple Developer site Human Interface guidelines for formats and sizes. The requirements are different for the different devices, and quite detailed.</p>\n\n<p>For a quick &amp; dirty solution if you're not ready to ship and just want nice looking graphics for testing, I've found that one 512 x 512 pdf, labeled \"image@2x\" works pretty well. You need to set the </p>\n\n<pre><code>imageScaling = .scaleProportionallyDown\n</code></pre>\n\n<p>and Cocoa will take care of the rest. But it's definitely not ready for prime-time.</p>\n"}, {"comments": [{"owner": {"reputation": 472, "user_id": 2148229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c572fd43571e3997bb3a56e13a915aa9?s=128&d=identicon&r=PG", "display_name": "Oleg Korzhukov", "link": "https://stackoverflow.com/users/2148229/oleg-korzhukov"}, "edited": false, "score": 0, "creation_date": 1554808130, "post_id": 55589619, "comment_id": 97879381, "body": "This is great you gave the official references! Do you have any ideas on how to put all these pictures to the assets under the same name?"}], "tags": [], "owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1554802613, "creation_date": 1554802613, "answer_id": 55589619, "question_id": 55480163, "link": "https://stackoverflow.com/questions/55480163/add-image-or-icon-set-to-asset-catalog-to-be-used-with-nstoolbaritem/55589619#55589619", "title": "Add image or icon set to asset catalog to be used with NSToolbarItem", "body": "<p>The NSToolbar.sizeModes are enum: small and regular. Small is 24x24 and regular is 32x32; additionally the retina options allow for @2x (48x48 and 64x64) and potentially @3x future-forward.</p>\n\n<p>Apple documentation on these sizes can be found <a href=\"https://developer.apple.com/documentation/appkit/nstoolbar/sizemode/small\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.apple.com/documentation/appkit/nstoolbar/sizemode/regular\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Make sure to use enum <code>Regular</code> not \"<code>Standard</code>\", which is undocumented.</p>\n"}], "owner": {"reputation": 472, "user_id": 2148229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c572fd43571e3997bb3a56e13a915aa9?s=128&d=identicon&r=PG", "display_name": "Oleg Korzhukov", "link": "https://stackoverflow.com/users/2148229/oleg-korzhukov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1554802613, "creation_date": 1554224882, "last_edit_date": 1554225814, "question_id": 55480163, "link": "https://stackoverflow.com/questions/55480163/add-image-or-icon-set-to-asset-catalog-to-be-used-with-nstoolbaritem", "title": "Add image or icon set to asset catalog to be used with NSToolbarItem", "body": "<p>I have a set of pixel perfect icons which I want to use on toolbar (NSToolbar) of my app. Toolbar is configurable thus I need to provide icons in four sizes: small, standard, small@2x, standard@2x.\nI could not find any official information about the size of those icons, but unofficial information (confirmed by my tests) is the following:\n small is 24px, normal is 32px.</p>\n\n<p>Thus I need to add four different images: 24x24px, 32x32px, 48x48px, 64x64px to my image set.</p>\n\n<p>As for now I could not find a correct way for that.\nI have tried a dozen of different methods but could not find one which preserves pixel perfect quality of all four images.</p>\n\n<p>I believe, I can load right size of the image manually each time it has to be changed, but I am wondering if where is a correct way for that.</p>\n\n<p>Does anyone has a good solution for that?</p>\n\n<p>And yes, I clean build folder before each test.</p>\n"}, {"tags": ["ios", "objective-c", "nsmeasurementformatter"], "answers": [{"comments": [{"owner": {"reputation": 3981, "user_id": 3004003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e3c5f99203dce2ba12b9cc9ef2b4328?s=128&d=identicon&r=PG&f=1", "display_name": "schmidt9", "link": "https://stackoverflow.com/users/3004003/schmidt9"}, "reply_to_user": {"reputation": 64, "user_id": 1671427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a659f5cec7c38c6431c61d5c175091?s=128&d=identicon&r=PG", "display_name": "Nandhakumar", "link": "https://stackoverflow.com/users/1671427/nandhakumar"}, "edited": false, "score": 1, "creation_date": 1554280799, "post_id": 55479512, "comment_id": 97688920, "body": "@Nandhakumar then check as answer please"}], "tags": [], "owner": {"reputation": 3981, "user_id": 3004003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e3c5f99203dce2ba12b9cc9ef2b4328?s=128&d=identicon&r=PG&f=1", "display_name": "schmidt9", "link": "https://stackoverflow.com/users/3004003/schmidt9"}, "is_accepted": true, "score": 1, "last_activity_date": 1554222434, "creation_date": 1554222434, "answer_id": 55479512, "question_id": 55478837, "link": "https://stackoverflow.com/questions/55478837/how-can-i-handle-the-measurementformatter-using-the-kilometersperhour-unittype/55479512#55479512", "title": "How can I handle the MeasurementFormatter using the kilometersPerHour UnitType?", "body": "<p>Here is some example</p>\n\n<pre><code>    NSMeasurementFormatter *formatter = [[NSMeasurementFormatter alloc] init];\n    formatter.unitStyle = NSFormattingUnitStyleMedium;\n    formatter.locale = [NSLocale localeWithLocaleIdentifier:@\"en_US\"];\n\n    // format 100 km/h\n\n    formatter.unitOptions = NSMeasurementFormatterUnitOptionsProvidedUnit;\n    NSUnitSpeed *speed = [NSUnitSpeed kilometersPerHour];\n    NSString *speedString = [formatter stringFromMeasurement:[[NSMeasurement alloc] initWithDoubleValue:100.0 unit:speed]];\n\n    NSLog(@\"kilometers %@\", speedString);\n\n    // format 100 mph\n\n    formatter.unitOptions = NSMeasurementFormatterUnitOptionsProvidedUnit;\n    speed = [NSUnitSpeed milesPerHour];\n    speedString = [formatter stringFromMeasurement:[[NSMeasurement alloc] initWithDoubleValue:100.0 unit:speed]];\n\n    NSLog(@\"miles %@\", speedString);\n\n    // convert 100 km/h to 62.137 mph for en_US locale\n\n    formatter.unitOptions = NSMeasurementFormatterUnitOptionsNaturalScale;\n    speed = [NSUnitSpeed kilometersPerHour];\n    speedString = [formatter stringFromMeasurement:[[NSMeasurement alloc] initWithDoubleValue:100.0 unit:speed]];\n\n    NSLog(@\"miles to kilometers %@\", speedString);\n</code></pre>\n"}], "owner": {"reputation": 64, "user_id": 1671427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0a659f5cec7c38c6431c61d5c175091?s=128&d=identicon&r=PG", "display_name": "Nandhakumar", "link": "https://stackoverflow.com/users/1671427/nandhakumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 55479512, "answer_count": 1, "score": 0, "last_activity_date": 1554222434, "creation_date": 1554220168, "last_edit_date": 1554221992, "question_id": 55478837, "link": "https://stackoverflow.com/questions/55478837/how-can-i-handle-the-measurementformatter-using-the-kilometersperhour-unittype", "title": "How can I handle the MeasurementFormatter using the kilometersPerHour UnitType?", "body": "<p>I need to display the integer from km/h values using the MeasurementFormatter on Objective-C.</p>\n\n<p>Is there any sample available?</p>\n\n<pre><code>NSMeasurementFormatter *formatter = [[NSMeasurementFormatter alloc] init];\nformatter.unitStyle = MKDistanceFormatterUnitStyleAbbreviated;\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "icloud", "quicklook"], "answers": [{"tags": [], "owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "is_accepted": false, "score": 0, "last_activity_date": 1554369103, "creation_date": 1554369103, "answer_id": 55512049, "question_id": 55478662, "link": "https://stackoverflow.com/questions/55478662/reaching-icloud-thumbnail-dictionary/55512049#55512049", "title": "Reaching iCloud thumbnail dictionary", "body": "<p>Following link from Apple documentation provides clear solution for iOS (scroll down till <em>iCloud Document Thumbnails</em>): <a href=\"https://developer.apple.com/documentation/foundation/nsurl?language=objc\" rel=\"nofollow noreferrer\">Apple documentation link</a> also there is steps for macOS using Quick Look.</p>\n\n<p>Has anyone done something similar? the Quick Look documentation is so unclear with this simple step to update thumbnail in iCloud.</p>\n"}], "owner": {"reputation": 163, "user_id": 10566542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9c24ada7323600edeaec332ea4b797?s=128&d=identicon&r=PG&f=1", "display_name": "Vidux", "link": "https://stackoverflow.com/users/10566542/vidux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554369158, "creation_date": 1554219647, "last_edit_date": 1554369158, "question_id": 55478662, "link": "https://stackoverflow.com/questions/55478662/reaching-icloud-thumbnail-dictionary", "title": "Reaching iCloud thumbnail dictionary", "body": "<p>I am trying to update thumbnail image for file in iCloud drive.</p>\n\n<p>I have already read old answers about this, people are suggesting to use NSFileCoordinator and etc. but essentially you have to access thumbnail dictionary with NSURLThumbnailDictionaryKey with this method:</p>\n\n<pre><code>- (BOOL)getResourceValue:(out id _Nullable * _Nonnull)value forKey:(NSURLResourceKey)key error:(out NSError ** _Nullable)error\n</code></pre>\n\n<p>and then change value for NSThumbnail1024x1024SizeKey.\nBut apple documentation says:</p>\n\n<p><strong>This method applies only to URLs that represent file system resources.</strong></p>\n\n<p>Is there a way to access iCloud drive files via URL and update the thumbnail?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "extension-methods"], "comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 2, "creation_date": 1554230668, "post_id": 55478446, "comment_id": 97672996, "body": "What you&#39;re trying to do is not possible. <code>double</code> is a C-primitive type. It cannot have methods attached to it (that would violate C)."}], "answers": [{"tags": [], "owner": {"reputation": 19817, "user_id": 1784011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5QrkA.png?s=128&g=1", "display_name": "Woodstock", "link": "https://stackoverflow.com/users/1784011/woodstock"}, "is_accepted": true, "score": 2, "last_activity_date": 1554219876, "last_edit_date": 1554219876, "creation_date": 1554219087, "answer_id": 55478487, "question_id": 55478446, "link": "https://stackoverflow.com/questions/55478446/syntax-to-call-swift-extension-function-from-objective-c/55478487#55478487", "title": "Syntax to Call Swift Extension Function from Objective-C", "body": "<p>You need to add <code>@objc</code> to the extension definition in order to call it from Objective-C.</p>\n\n<p>Also, it's important to note that only extensions for <strong>classes</strong> (<em>not</em> for structs or enums) are accessible from Objective-C.</p>\n"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 55478487, "answer_count": 1, "score": 2, "last_activity_date": 1554219876, "creation_date": 1554218946, "question_id": 55478446, "link": "https://stackoverflow.com/questions/55478446/syntax-to-call-swift-extension-function-from-objective-c", "title": "Syntax to Call Swift Extension Function from Objective-C", "body": "<p>I have a project with both objective-c and swift. Everything is hooked up properly so I can generally call extensions on classes without issue. In this case, however, I have to pass an argument to the extension and am getting hung up on the syntax.</p>\n\n<p>Here is the Swift 3 Extension</p>\n\n<pre><code>extension Double {\n    /// Rounds the double to decimal places value\n    func rounded(toPlaces places:Int) -&gt; Double {\n        let divisor = pow(10.0, Double(places))\n        return (self * divisor).rounded() / divisor\n    }\n}\n</code></pre>\n\n<p>From Swift you can call it with </p>\n\n<pre><code>let x = Double(0.123456789).rounded(toPlaces: 4)\n</code></pre>\n\n<p>The following is not working in Objective-C: I have played around with it but can't get the correct syntax:</p>\n\n<pre><code>double test = 0.123456789;\ndouble roundedtot = test.roundedToPlaces:2;\n</code></pre>\n\n<p>The specific error is </p>\n\n<blockquote>\n  <p>'Member reference base type 'double' is not a structure or union'</p>\n</blockquote>\n\n<p>which I gather is a c error but since you can call the function in swift it seems there ought to be a way to call it in Objc-C</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": true, "score": 2, "last_activity_date": 1554220030, "creation_date": 1554220030, "answer_id": 55478799, "question_id": 55477719, "link": "https://stackoverflow.com/questions/55477719/why-does-printf-fail-to-print-out-nsobject-within-a-run-loop/55478799#55478799", "title": "Why does printf fail to print out NSObject within a run loop?", "body": "<p>This has nothing to do with tagged pointers.</p>\n\n<p>You can\u2019t use <code>%s</code> to print an object type ever.   That <em>it survived</em> is merely coincidental;   The address of the object happened to not have data that caused it to crash.</p>\n\n<p>Look at the output of the <code>printf()</code> of the string.  It is garbage.</p>\n\n<p>If you want to use <code>printf()</code>, you need to supply a <code>char*</code> buffer.</p>\n"}], "owner": {"reputation": 125, "user_id": 1492368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c8e781a89d64b0f47b748c2e53a4353?s=128&d=identicon&r=PG", "display_name": "Romy Ilano", "link": "https://stackoverflow.com/users/1492368/romy-ilano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 55478799, "answer_count": 1, "score": 1, "last_activity_date": 1554220030, "creation_date": 1554216762, "question_id": 55477719, "link": "https://stackoverflow.com/questions/55477719/why-does-printf-fail-to-print-out-nsobject-within-a-run-loop", "title": "Why does printf fail to print out NSObject within a run loop?", "body": "<p>I'm doing a simple exercise to look at the heap and stack using Objective-C. </p>\n\n<p>I create an NSNumber object in main - I'm assuming that this points to the heap, right? When I try to run <code>printf</code> on the object, I get a EXC_BAD_ACCESS error.</p>\n\n<ul>\n<li>NSLog works fine - from my understanding, NSLog is printf but extended. </li>\n<li>I can run a printf on an NSString</li>\n</ul>\n\n<p>In the past I've run printf on objects and it wasn't a problem. Did something change or am I missing something obvious?</p>\n\n<p>When I run the debugger and print out the object, I get the result: isa </p>\n\n<pre><code>        Printing description of lifeAnswerObject:\n        (NSNumber) NSNumber = {\n            NSValue = {\n                NSObject = {\n                    isa = &lt;read memory from 0x966d0398ef3e399b failed (0 of 8 bytes read)&gt;\n\n                }\n            }\n        }\n</code></pre>\n\n<p>What does this mean? Even though the NSNumber is wrapped in the autoreleasepool it shouldn't be released at this point.</p>\n\n<pre><code>int main(int argc, const char * argv[]) {\n    @autoreleasepool {\n        // insert code here...\n        NSLog(@\"Hello, World!\");\n\n        NSNumber *lifeAnswerObject = [[NSNumber alloc] initWithInt: 42];\n        NSString *helloWorld = @\"Hello out there world\";\n        NSLog(@\"%@ in the heap\", lifeAnswerObject);\n        // EXC_BAD_ACCESS (code=EXC_I386_GPFLT)\n        printf(\"%s\", helloWorld); // survives\n        printf(\"%s\", lifeAnswerObject);\n        int lifeAnswer = 42;\n\n        printf(\"%d : in the stack\", lifeAnswer);\n    }\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QY9Xf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QY9Xf.png\" alt=\"debugger\"></a></p>\n"}, {"tags": ["ios", "objective-c", "nsdate", "unix-timestamp"], "comments": [{"owner": {"reputation": 2405, "user_id": 1255147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054e204b645cbe8e053b6654b4fb26dd?s=128&d=identicon&r=PG", "display_name": "clarus", "link": "https://stackoverflow.com/users/1255147/clarus"}, "edited": false, "score": 0, "creation_date": 1554216727, "post_id": 55477111, "comment_id": 97665679, "body": "I&#39;m not sure on the second one, but for the 1st, that&#39;s a poorly formed predicate. It&#39;s just ignoring the 3 trailing parameters. You might as well have 20 parameters there, it&#39;s only going to take the first 3 by that format string."}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1554222324, "creation_date": 1554214810, "last_edit_date": 1554222324, "question_id": 55477111, "link": "https://stackoverflow.com/questions/55477111/nsdate-timezones-and-unix-timestamp-confusion", "title": "NSDate, timezones and Unix timestamp confusion", "body": "<p>I took over the project of some programmers who unfortunately left a lot of stuff unclear in the code. Basically we have stored some flight events in our database with a departure and arrival time. It the database (as far as we can tell) everything is stored in UTC (as it should) and in the iOS app they use some Realm objects as database model.</p>\n\n<p>I basically want to look for all flights in a 24 hour period, corresponding to the 24 hour day of the user's device. </p>\n\n<pre><code>- (NSDate *)beginningOfDayInDeviceTimeZone {\n    NSDateComponents *components = [[NSDateComponents alloc] init];\n    components.day = [[NSCalendar currentCalendar] ordinalityOfUnit:(NSCalendarUnitDay) inUnit:(NSCalendarUnitEra) forDate:self];\n    return [[NSCalendar currentCalendar] dateFromComponents:components];\n}\n\n- (NSDate *)endOfDayInDeviceTimeZone {\n    NSDateComponents *components = [[NSDateComponents alloc] init];\n    components.day = [[NSCalendar currentCalendar] ordinalityOfUnit:(NSCalendarUnitDay) inUnit:(NSCalendarUnitEra) forDate:self];\n    components.day += 1;\n    return [[NSCalendar currentCalendar] dateFromComponents:components];\n}\n</code></pre>\n\n<p>So as I understand all times are usually Unix timestamps. So time conversion is only necessary if I want to display times. I assume however, that our programmers messed this up, but this is another story.</p>\n\n<p>I want to query all events in this timeframe. I wanted to use the method our programmers created:</p>\n\n<pre><code>+ (NSMutableArray *)getDataForUser:(NSString *)userEmail betweenStartDate:(NSDate *)startDate andEndDate:(NSDate *)endDate {\n    NSMutableArray *planDataArray = [NSMutableArray array];\n\n    NSLog(@\"startDate %@ endDate: %@\", startDate, endDate);\n    NSPredicate* predicate = [NSPredicate predicateWithFormat:@\"userEmail == %@ AND (destinationTime &gt;= %@ AND departureTime &lt;= %@)\",userEmail, startDate, endDate, startDate, endDate, startDate];\n    NSLog(@\"Predicate: %@\", predicate); sortedResultsUsingProperty:@\"departureTime\" ascending:YES];\n\n    if (results.count &gt; 0) {\n        for (FMPlanData *planData in results) {\n            if (![planData isInvalidated]) {\n                [planDataArray addObject:planData];\n            }\n        }\n    }\n    return planDataArray;\n}\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li><p>Why are there more parameters (startDate and endDate), which are given to the predicate method, than there are %@ in the string for the predicate? What does this do? </p></li>\n<li><p>The NSLogs are from me. The output of one specific call now is:</p></li>\n</ol>\n\n<blockquote>\n  <p>2019-04-02 16:17:07.849451+0200 FollowMe[4891:158214] StartDate Tue Apr  2 00:00:00 2019<br>\n  2019-04-02 16:17:07.849666+0200 FollowMe[4891:158214] EndDate: Wed Apr  3 00:00:00 2019<br>\n  2019-04-02 16:17:07.849870+0200 FollowMe[4891:158214] Predicate: userEmail == \"xxx\" AND destinationTime >= CAST(575848800.000000, \"NSDate\") AND departureTime &lt;= CAST(575935200.000000, \"NSDate\")</p>\n</blockquote>\n\n<p>Ok and here I am confused. First of all, I get shown too many events which is wrong. But what I am mostly confused are these CAST(...) Timestamps. If I convert 575935200.000000 into a normal date I get the 1st of April in 1988. Where is my error of thought?</p>\n"}, {"tags": ["objective-c", "swift", "dynamic"], "comments": [{"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1554221274, "post_id": 55476558, "comment_id": 97668421, "body": "Don&#39;t do it often. Thus swift will become <code>slow swift</code>"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1554221870, "post_id": 55476558, "comment_id": 97668748, "body": "It is possible to do what you&#39;re trying to do here, but it will lead to very bad Swift. I don&#39;t agree that it will be slow Swift, but it will be very bad Swift and you will spend a lot of time fighting the compiler. What are you planning to do with this? As an exploration into the ObjC runtime, it&#39;s perhaps educational (though I&#39;d probably just explore the ObjC runtime in ObjC), but there are much better Swift approaches to most things you&#39;d want to do with this."}, {"owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "edited": false, "score": 0, "creation_date": 1554222535, "post_id": 55476558, "comment_id": 97669135, "body": "I am trying to do FFI calls for language interop. I have a language written in Swift from which I want to access libraries written with Swift."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1554231392, "post_id": 55476558, "comment_id": 97673377, "body": "I don&#39;t know what FFI means. But what you&#39;re describing won&#39;t work for arbitrary Swift. It only works for carefully constructed Swift that bridges to ObjC (and only then because it uses the ObjC runtime). Look at <code>@dynamicCallable</code> and <code>@dynamicMemberLookup</code>. These are the tools intended to help the kind of interop you&#39;re describing."}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554222313, "creation_date": 1554213200, "last_edit_date": 1554219614, "question_id": 55476558, "link": "https://stackoverflow.com/questions/55476558/how-to-create-instantiate-a-swift-class-and-call-its-method-dynamically-from-str", "title": "How to create instantiate a swift class and call its method dynamically from string?", "body": "<p>I wanted to instantiate a class and call a method of it dynamically.</p>\n\n<pre><code>class Test: NSObject {\n    @objc func greet() {\n        print(\"123\")\n    }\n}\n</code></pre>\n\n<p>I am able to call the method given in string form using <code>perform</code></p>\n\n<pre><code>let t = Test()\nt.perform(Selector(\"greet\"))\n</code></pre>\n\n<p>But I also want to init the test in a similar way.</p>\n\n<pre><code>let t = GetClass(\"Test\").init()  // some method when called gives it's object\nt.perform(Selector(\"greet\"))\n</code></pre>\n\n<p>Here the Swift class will inherit from NSObject and have <code>@obj</code> added to its methods.</p>\n\n<hr>\n\n<p>How to do the same using Objective-C methods but from Swift source code? For example,</p>\n\n<pre><code>let t = NSClassFromString(\"Test\")\nt.init() // ??\nt.perform(Selector(\"greet\"))\n</code></pre>\n\n<p>Edit: For the Objective-C, I got it working by following <a href=\"https://stackoverflow.com/questions/24245262/call-a-method-from-a-string-in-swift\">Call a method from a String in Swift</a>. Need to include module name to get this working.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "xcode10.2"], "comments": [{"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1554210395, "post_id": 55475521, "comment_id": 97661530, "body": "Actually that function signature says it returns a dictionary, not an array of dictionaries. You should post the body of your <code>carMapping()</code>  method, along with the whole interface to your <code>Car</code> class."}, {"owner": {"reputation": 3270, "user_id": 500625, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0bfba0ecbddd589e61c0a023f7605dd5?s=128&d=identicon&r=PG", "display_name": "iOS", "link": "https://stackoverflow.com/users/500625/ios"}, "reply_to_user": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1554210589, "post_id": 55475521, "comment_id": 97661647, "body": "@DuncanC, Sorry! my bad while writing the question. Corrected"}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1554212798, "post_id": 55475521, "comment_id": 97663090, "body": "How did you call carMapping in Objective-c? Did you clean the project and rebuild it?"}, {"owner": {"reputation": 3270, "user_id": 500625, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0bfba0ecbddd589e61c0a023f7605dd5?s=128&d=identicon&r=PG", "display_name": "iOS", "link": "https://stackoverflow.com/users/500625/ios"}, "reply_to_user": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1554213471, "post_id": 55475521, "comment_id": 97663565, "body": "@E.Coms Yes. Tried everything I could do. I did not call carMapping in Objective C, I do that in a Swift class."}, {"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1554223773, "post_id": 55475521, "comment_id": 97669739, "body": "That is still not an array of dictionaries. Your function returns a dictionary of type <code>[String: Class]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": true, "score": 1, "last_activity_date": 1554215724, "creation_date": 1554215724, "answer_id": 55477383, "question_id": 55475521, "link": "https://stackoverflow.com/questions/55475521/objective-c-method-returning-a-dictionary-of-class-crashes-in-xcode-10-2/55477383#55477383", "title": "Objective-C method returning a dictionary of Class crashes in Xcode 10.2", "body": "<p>If you want to use the class in swift without most hassles, just change the signature in the interface from Class to id. In the implementation, you don't need to change.</p>\n\n<pre><code> @interface Car : NSObject\n + (NSDictionary&lt;NSString *, id&gt;  *) carMapping ;\n @end\n</code></pre>\n"}], "owner": {"reputation": 3270, "user_id": 500625, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0bfba0ecbddd589e61c0a023f7605dd5?s=128&d=identicon&r=PG", "display_name": "iOS", "link": "https://stackoverflow.com/users/500625/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 55477383, "answer_count": 1, "score": 0, "last_activity_date": 1555038852, "creation_date": 1554210188, "last_edit_date": 1555038852, "question_id": 55475521, "link": "https://stackoverflow.com/questions/55475521/objective-c-method-returning-a-dictionary-of-class-crashes-in-xcode-10-2", "title": "Objective-C method returning a dictionary of Class crashes in Xcode 10.2", "body": "<p>I am facing a weird crash after updating the Xcode to 10.2. I have an Objective-C class method as below</p>\n\n<pre><code>@interface Car: NSObject \n\n+ (NSDictionary&lt;NSString *, Class&gt;  *) carMapping;\n\n@end\n</code></pre>\n\n<p>which returns dictionary of type <code>NSDictionary&lt;NSString *, Class&gt;</code> as below</p>\n\n<pre><code>@implementation Car\n\n+ (NSDictionary&lt;NSString *, Class&gt;  *) carMapping {\n    return @{\n        @\"BMW\": [BMWCar class],\n        @\"Mercedes\": [MercedesCar class],\n        @\"Toyota\": [ToyotaCar class],\n        @\"Tesla\": [TeslaCar class]\n        };\n}\n\n@end\n</code></pre>\n\n<p>I use this Objective-C method in Swift as</p>\n\n<pre><code>let carMapping = Car.carMapping()\nprint(carMapping)\n</code></pre>\n\n<p>which works perfectly fine with Xcode 10.1.</p>\n\n<p>But after updating the Xcode to 10.2, app crashes saying <code>Thread 1: EXC_BAD_ACCESS (code=1, address=0x0)</code> in line 1. I do not have any clue.</p>\n\n<p>I do not have control over the class <code>Car</code>. How would I handle the situation?</p>\n"}, {"tags": ["objective-c", "clang-format"], "owner": {"reputation": 4372, "user_id": 2938161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-RXfa8-WceyE/AAAAAAAAAAI/AAAAAAAAAA0/ESkhGQeOhqQ/photo.jpg?sz=128", "display_name": "Salakar", "link": "https://stackoverflow.com/users/2938161/salakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1554204389, "creation_date": 1554204389, "question_id": 55473652, "link": "https://stackoverflow.com/questions/55473652/objective-c-clang-format-on-a-macro-block-and-align-args", "title": "Objective-C clang-format on a Macro block and align args", "body": "<p>I'm fairly new to using clang-format and am having trouble formatting macro blocks that contain args; for example, React Native has a <code>RCT_EXPORT_METHOD</code> that produces a method with args. However this messes up most formatting options and the output comes out like the following:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>RCT_EXPORT_METHOD(preferencesSetBool\n                  : (NSString *)key boolValue\n                  : (BOOL)boolValue resolver\n                  : (RCTPromiseResolveBlock)resolve rejecter\n                  : (RCTPromiseRejectBlock)reject) {\n  [[RNFBPreferences shared] setBooleanValue:key boolValue:boolValue];\n  resolve([NSNull null]);\n}\n</code></pre>\n\n<p>As you can see above the arg names are not matching up and are on different lines.</p>\n\n<p>This is the format I'm ideally trying to achieve:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>  RCT_EXPORT_METHOD(\n    preferencesSetBool : (NSString *) key\n    boolValue          : (BOOL) boolValue\n    resolver           : (RCTPromiseResolveBlock) resolve\n    rejecter           : (RCTPromiseRejectBlock) reject\n  ) {\n    [[RNFBPreferences shared] setBooleanValue:key boolValue:boolValue];\n    resolve([NSNull null]);\n  }\n</code></pre>\n\n<p>Would this even be possible with clang-format? I've looked at <code>MacroBlockBegin</code> in my format file and tried fiddling with that and other options but can't seem to make much work. </p>\n\n<p>If anyone could help me out or point me in the right direction that'd be great, thanks!</p>\n"}, {"tags": ["ios", "objective-c", "swift", "react-native"], "comments": [{"owner": {"reputation": 13464, "user_id": 261770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7b3ed2eaa2c4a42d7cf84e12556c803?s=128&d=identicon&r=PG", "display_name": "Mihir Mehta", "link": "https://stackoverflow.com/users/261770/mihir-mehta"}, "edited": false, "score": 0, "creation_date": 1595095624, "post_id": 55472700, "comment_id": 111358811, "body": "Did you found the solution ?"}], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 4098529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--wZkMgUXf2M/AAAAAAAAAAI/AAAAAAAAAE0/s4tyVU6lK24/photo.jpg?sz=128", "display_name": "Dmitriy Kirakosyan", "link": "https://stackoverflow.com/users/4098529/dmitriy-kirakosyan"}, "reply_to_user": {"reputation": 13464, "user_id": 261770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7b3ed2eaa2c4a42d7cf84e12556c803?s=128&d=identicon&r=PG", "display_name": "Mihir Mehta", "link": "https://stackoverflow.com/users/261770/mihir-mehta"}, "edited": false, "score": 0, "creation_date": 1595109261, "post_id": 55478251, "comment_id": 111362515, "body": "@MihirMehta, you&#39;re absolutely right. Sorry for misleading answer I&#39;ll add another one which hopefully would be useful for you."}], "tags": [], "owner": {"reputation": 590, "user_id": 4098529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--wZkMgUXf2M/AAAAAAAAAAI/AAAAAAAAAE0/s4tyVU6lK24/photo.jpg?sz=128", "display_name": "Dmitriy Kirakosyan", "link": "https://stackoverflow.com/users/4098529/dmitriy-kirakosyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1554218375, "creation_date": 1554218375, "answer_id": 55478251, "question_id": 55472700, "link": "https://stackoverflow.com/questions/55472700/react-native-bridging-with-swift-singleton-custom-class/55478251#55478251", "title": "React-native bridging with Swift singleton custom class", "body": "<p>you are inheriting NSObject, so you have to provide the public init constructor, which would initialize your <code>tracker</code> property.</p>\n"}, {"comments": [{"owner": {"reputation": 13464, "user_id": 261770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7b3ed2eaa2c4a42d7cf84e12556c803?s=128&d=identicon&r=PG", "display_name": "Mihir Mehta", "link": "https://stackoverflow.com/users/261770/mihir-mehta"}, "edited": false, "score": 0, "creation_date": 1595132433, "post_id": 62974245, "comment_id": 111366015, "body": "Thank you ... That seems to be the only way forward ... Can you please also tell me how can pass Callback from Swift to reactNative ? My Swift code is in separate cocoapods private framework so the function inside swift cannot take RCTResponseSenderBlock as argument ... That is the only missing puzzle now ... Thank you for your help"}, {"owner": {"reputation": 590, "user_id": 4098529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--wZkMgUXf2M/AAAAAAAAAAI/AAAAAAAAAE0/s4tyVU6lK24/photo.jpg?sz=128", "display_name": "Dmitriy Kirakosyan", "link": "https://stackoverflow.com/users/4098529/dmitriy-kirakosyan"}, "reply_to_user": {"reputation": 13464, "user_id": 261770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7b3ed2eaa2c4a42d7cf84e12556c803?s=128&d=identicon&r=PG", "display_name": "Mihir Mehta", "link": "https://stackoverflow.com/users/261770/mihir-mehta"}, "edited": false, "score": 0, "creation_date": 1595148313, "post_id": 62974245, "comment_id": 111369009, "body": "@MihirMehta You can achieve that using the same technique. Just create a helper class with <code>@objc</code> methods, taking  RCTResponseSenderBlock as a parameter. And redirect the calls to you library class."}, {"owner": {"reputation": 13464, "user_id": 261770, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7b3ed2eaa2c4a42d7cf84e12556c803?s=128&d=identicon&r=PG", "display_name": "Mihir Mehta", "link": "https://stackoverflow.com/users/261770/mihir-mehta"}, "edited": false, "score": 0, "creation_date": 1595174645, "post_id": 62974245, "comment_id": 111376908, "body": "Thank you RCTResponseSenderBlock cannot be added as parameter as Cocoapods SDK is pure Swift library that i am building"}], "tags": [], "owner": {"reputation": 590, "user_id": 4098529, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--wZkMgUXf2M/AAAAAAAAAAI/AAAAAAAAAE0/s4tyVU6lK24/photo.jpg?sz=128", "display_name": "Dmitriy Kirakosyan", "link": "https://stackoverflow.com/users/4098529/dmitriy-kirakosyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1595109690, "creation_date": 1595109690, "answer_id": 62974245, "question_id": 55472700, "link": "https://stackoverflow.com/questions/55472700/react-native-bridging-with-swift-singleton-custom-class/62974245#62974245", "title": "React-native bridging with Swift singleton custom class", "body": "<p>The problem is in the React Native bridging mechanics. AFAIK it doesn't support a custom initialization. As a workaround you can create a helper class that would use AnalyticsTracker.shared in its exported methods:</p>\n<pre><code>// RNAnalyticsTracker.swift\n\nimport Foundation\n\n@objc(RNAnalyticsTracker)\nclass RNAnalyticsTracker: NSObject {\n\n  @objc\n  func viewScreen(screen: String) {\n    AnalyticsTracker.shared.viewScreen(screen: screen)\n  }\n\n  @objc\n  func sendTouch(clickName: String, chapter1: String, chapter2: String, chapter3: String, level2: Int) {\n    AnalyticsTracker.shared.sendTouch(clickName: clickName, chapter1: chapter1, chapter2: chapter2, chapter3: chapter3, level2: level2)\n  }\n}\n</code></pre>\n<p>Source reference: <a href=\"https://gist.github.com/harveyconnor/7b0e778effaae302f512485c18881569\" rel=\"nofollow noreferrer\">https://gist.github.com/harveyconnor/7b0e778effaae302f512485c18881569</a></p>\n"}], "owner": {"reputation": 2122, "user_id": 7215553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vRRBO.png?s=128&g=1", "display_name": "Hurobaki", "link": "https://stackoverflow.com/users/7215553/hurobaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 62974245, "answer_count": 2, "score": 4, "last_activity_date": 1595109690, "creation_date": 1554201409, "question_id": 55472700, "link": "https://stackoverflow.com/questions/55472700/react-native-bridging-with-swift-singleton-custom-class", "title": "React-native bridging with Swift singleton custom class", "body": "<p>Today, I try to use my custom Swift class implementing Singleton pattern in my Javascript code. I already created native modules but today I've got this error : \"<strong>Fatal error: Use of unimplemented initializer 'init()' for class</strong>\"</p>\n\n<p>I guess it's because the Singleton pattern but I can't understand my mistake ...</p>\n\n<p>Here's my code: </p>\n\n<pre><code>AnalyticsTracker.swift\n\nimport Foundation\nimport Tracker\n\n\n@objc(AnalyticsTracker)\nclass AnalyticsTracker: NSObject {\n\n\n  static let shared = AnalyticsTracker(tracker: ATInternet.sharedInstance.defaultTracker)\n\n  // MARK: -\n\n  let tracker: Tracker\n\n  // Initialization\n\n  private init(tracker: Tracker) {\n    self.tracker = tracker\n  }\n\n  @objc\n  func viewScreen(screen: String) {\n    self.tracker.screens.add(screen).sendView()\n  }\n\n  @objc\n  func sendTouch(clickName: String, chapter1: String, chapter2: String, chapter3: String, level2: Int) {\n    let gesture = self.tracker.gestures.add(clickName, chapter1: chapter1, chapter2: chapter2, chapter3:chapter3)\n    gesture.level2 = level2\n    gesture.sendTouch()\n  }\n}\n</code></pre>\n\n<p>And the module to export my class to my react-native application :</p>\n\n<pre><code>AnalyticsTracker.m\n\n#import &lt;Foundation/Foundation.h&gt;\n#import &lt;React/RCTBridgeModule.h&gt;\n\n@interface RCT_EXTERN_MODULE(AnalyticsTracker, NSObject)\n\nRCT_EXTERN_METHOD(\n                  sendTouch:\n                  (NSString*)clickName\n                  (NSString*)chapter1\n                  (NSString*)chapter2\n                  (NSString*)chapter3\n                  (int)level2\n)\n\n@end\n</code></pre>\n\n<p>The error disappear when I remove the export module. I really don't understand what the error mean ...</p>\n\n<p>If someone have an idea it would be really appreciated :) </p>\n"}, {"tags": ["ios", "objective-c", "custom-keyboard"], "answers": [{"tags": [], "owner": {"reputation": 577, "user_id": 2332101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3STO.jpg?s=128&g=1", "display_name": "Hiwa", "link": "https://stackoverflow.com/users/2332101/hiwa"}, "is_accepted": true, "score": 0, "last_activity_date": 1554597968, "creation_date": 1554597968, "answer_id": 55554715, "question_id": 55469514, "link": "https://stackoverflow.com/questions/55469514/ios-custom-keyboard-increase-uiinputviewcontroller-height/55554715#55554715", "title": "iOS Custom keyboard increase UIInputViewController height", "body": "<p>Based on Developer Code Level ticket:</p>\n\n<ol>\n<li>add your buttons to a UIView (say <code>keysView</code>)</li>\n<li>add the <code>keysView</code> to the UIInputViewController's view.</li>\n<li>Add the constraint as in the question</li>\n<li>Make <code>keysView.frame</code> the same as <code>self.view</code></li>\n<li>Add at least one constant to one of the buttons to <code>keysView</code></li>\n</ol>\n\n<p>Now you should have an expanding <code>keysView</code> which is as high as the <code>self.view</code>.</p>\n\n<p>Full code:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>\n\n#import \"KeyboardViewController.h\"\n\n@interface KeyboardViewController ()\n\n@property (nonatomic, strong) UIButton *nextKeyboardButton;\n\n@end\n\n@implementation KeyboardViewController\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // (1)\n    UIView *keysView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 100)];\n    // (3)\n    NSLayoutConstraint *keyboardHeightConstraint = [NSLayoutConstraint\n                                                    constraintWithItem:self.view\n                                                    attribute:NSLayoutAttributeHeight\n                                                    relatedBy:NSLayoutRelationEqual\n                                                    toItem:nil\n                                                    attribute:NSLayoutAttributeNotAnAttribute\n                                                    multiplier:0.0\n                                                    constant:310];\n    [keyboardHeightConstraint setPriority:UILayoutPriorityDefaultHigh];\n    [self.view addConstraints:@[keyboardHeightConstraint]];\n\n    self.nextKeyboardButton = [UIButton buttonWithType:UIButtonTypeSystem];\n\n    [self.nextKeyboardButton setTitle:NSLocalizedString(@\"Next Keyboard\", @\"Title for 'Next Keyboard' button\") forState:UIControlStateNormal];\n    [self.nextKeyboardButton sizeToFit];\n    self.nextKeyboardButton.translatesAutoresizingMaskIntoConstraints = NO;\n\n    [self.nextKeyboardButton addTarget:self action:@selector(advanceToNextInputMode) forControlEvents:UIControlEventTouchUpInside];\n\n    [keysView addSubview:self.nextKeyboardButton];\n    // (5)\n    NSLayoutConstraint *nextKeyboardButtonLeftSideConstraint = [NSLayoutConstraint constraintWithItem:self.nextKeyboardButton attribute:NSLayoutAttributeLeft relatedBy:NSLayoutRelationEqual toItem:keysView attribute:NSLayoutAttributeLeft multiplier:1.0 constant:0.0];\n    NSLayoutConstraint *nextKeyboardButtonBottomConstraint = [NSLayoutConstraint constraintWithItem:self.nextKeyboardButton attribute:NSLayoutAttributeBottom relatedBy:NSLayoutRelationEqual toItem:keysView attribute:NSLayoutAttributeBottom multiplier:1.0 constant:0.0];\n    [keysView addConstraints:@[nextKeyboardButtonLeftSideConstraint, nextKeyboardButtonBottomConstraint]];\n    // (4)\n    keysView.frame = CGRectMake(0, 0, self.view.bounds.size.width, self.view.bounds.size.height);\n    // (2)\n    [self.view addSubview:keysView];\n}\n\n- (void)dealloc {\n    self.nextKeyboardButton = nil;\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 2332101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3STO.jpg?s=128&g=1", "display_name": "Hiwa", "link": "https://stackoverflow.com/users/2332101/hiwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 55554715, "answer_count": 1, "score": 1, "last_activity_date": 1554597968, "creation_date": 1554191435, "question_id": 55469514, "link": "https://stackoverflow.com/questions/55469514/ios-custom-keyboard-increase-uiinputviewcontroller-height", "title": "iOS Custom keyboard increase UIInputViewController height", "body": "<p>I just cannot get what the docs say about getting the height of my iOS custom keyboard working.</p>\n\n<p>This is clean Keyboard target and added what seems to be apple docs and many SO answers as the right answer, but it does not work on XS and 6S simulators:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>//\n//  KeyboardViewController.m\n//  keyboard\n//\n//  Created by hiwa on 02/04/2019.\n//  Copyright \u00a9 2019 hiwa. All rights reserved.\n//\n\n#import \"KeyboardViewController.h\"\n\n@interface KeyboardViewController ()\n@property (nonatomic, strong) UIButton *nextKeyboardButton;\n@end\n\n@implementation KeyboardViewController\n\n- (void)updateViewConstraints {\n    [super updateViewConstraints];\n\n    // Add custom view sizing constraints here\n}\n\n- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n    NSLayoutConstraint *heightConstraint =\n    [NSLayoutConstraint constraintWithItem: self.view\n                                 attribute: NSLayoutAttributeHeight\n                                 relatedBy: NSLayoutRelationEqual\n                                    toItem: nil\n                                 attribute: NSLayoutAttributeNotAnAttribute\n                                multiplier: 0.0\n                                  constant: 300];\n    [self.view addConstraint: heightConstraint];\n}\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    // Perform custom UI setup here\n    self.nextKeyboardButton = [UIButton buttonWithType:UIButtonTypeSystem];\n\n    [self.nextKeyboardButton setTitle:NSLocalizedString(@\"Next Keyboard\", @\"Title for 'Next Keyboard' button\") forState:UIControlStateNormal];\n    [self.nextKeyboardButton sizeToFit];\n\n    [self.nextKeyboardButton addTarget:self action:@selector(handleInputModeListFromView:withEvent:) forControlEvents:UIControlEventAllTouchEvents];\n\n    [self.view addSubview:self.nextKeyboardButton];\n\n}\n\n- (void)textWillChange:(id&lt;UITextInput&gt;)textInput {\n    // The app is about to change the document's contents. Perform any preparation here.\n}\n\n- (void)textDidChange:(id&lt;UITextInput&gt;)textInput {\n    // The app has just changed the document's contents, the document context has been updated.\n\n    UIColor *textColor = nil;\n    if (self.textDocumentProxy.keyboardAppearance == UIKeyboardAppearanceDark) {\n        textColor = [UIColor whiteColor];\n    } else {\n        textColor = [UIColor blackColor];\n    }\n    [self.nextKeyboardButton setTitleColor:textColor forState:UIControlStateNormal];\n}\n\n@end\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/k8tGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k8tGV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Grateful for any tips here.</p>\n"}, {"tags": ["ios", "objective-c", "cocoa", "objective-c-runtime"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1554478379, "post_id": 55469508, "comment_id": 97781058, "body": "Is there any method swizzling or other runtime editing going on in your application?"}, {"owner": {"reputation": 828, "user_id": 532492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd52636b382691d2f3c148845475125?s=128&d=identicon&r=PG", "display_name": "sunus", "link": "https://stackoverflow.com/users/532492/sunus"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1554737486, "post_id": 55469508, "comment_id": 97852599, "body": "@bbum nope, but we found that some thread/queue have user-interactive qos, maybe that&#39;s the reason?"}, {"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 0, "creation_date": 1554930939, "post_id": 55469508, "comment_id": 97935825, "body": "I&#39;d strongly suggest filing a radar with a simple, reproducible example to apple, they&#39;re going to have much more context than any of us here on stack overflow.  If I had to guess, it&#39;s some really strange interaction between the class replacement done by KVC, and one of the runtime locks."}], "owner": {"reputation": 828, "user_id": 532492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd52636b382691d2f3c148845475125?s=128&d=identicon&r=PG", "display_name": "sunus", "link": "https://stackoverflow.com/users/532492/sunus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1554192038, "creation_date": 1554191410, "last_edit_date": 1554192038, "question_id": 55469508, "link": "https://stackoverflow.com/questions/55469508/objc-runtime-search-method-list-hangs-forever-deadlock", "title": "objc-runtime search_method_list Hangs forever, deadlock?", "body": "<p>macOS/iOS developers, since about two months ago, my app sometimes hangs forever. Then I sample the program i found almost threads, except the main thread is waiting for lock. and the main thread, is executing in the objc-runtime code, like picture below. and the app will not crash, the ,methods will not return :(</p>\n\n<p><a href=\"https://i.stack.imgur.com/WvsZS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WvsZS.png\" alt=\"Main Thread\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/eYoEs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eYoEs.png\" alt=\"other thread that is executing objc-code, are waiting for lock\"></a></p>\n\n<p>then, i look into the objc-runtime source code<a href=\"https://github.com/RetVal/objc-runtime\" rel=\"nofollow noreferrer\">objc-runtime</a> and compile a debug versin, link to my program.it re-produce the issue. in the function <code>IMP lookUpImpOrForward(Class cls, SEL sel, id inst, \n                       bool initialize, bool cache, bool resolver)</code> , main thread did hold the <strong>runtimeLock</strong> and other threads are waiting. but i don't know what might cause the issue, what is the root cause ? any guess ? thanks you all!</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 139, "user_id": 6449999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7fa0d6abcbaed67cf8f7a7524eb1ef8?s=128&d=identicon&r=PG&f=1", "display_name": "naresh kolindala", "link": "https://stackoverflow.com/users/6449999/naresh-kolindala"}, "edited": false, "score": 0, "creation_date": 1554190177, "post_id": 55469080, "comment_id": 97649447, "body": "Hi @JonRose how to use that code to record the calls."}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1554190300, "post_id": 55469080, "comment_id": 97649506, "body": "With private APIs / a jailbroken phone it is possible. Apart from that it seems all apps that &quot;record&quot; a conversation actually add another participant to the call and let that robo participant of their own record the call. From a privacy and legal standpoint that is quite questionable and from a technical standpoint at least complex."}, {"owner": {"reputation": 139, "user_id": 6449999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7fa0d6abcbaed67cf8f7a7524eb1ef8?s=128&d=identicon&r=PG&f=1", "display_name": "naresh kolindala", "link": "https://stackoverflow.com/users/6449999/naresh-kolindala"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1554204624, "post_id": 55469080, "comment_id": 97657832, "body": "Without jailbroken / APIs do we have any chance to implement @luk2302"}, {"owner": {"reputation": 2019, "user_id": 7698092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-I1apD2T2hbU/AAAAAAAAAAI/AAAAAAAAADI/ieoniEgxD0M/photo.jpg?sz=128", "display_name": "Awais Fayyaz", "link": "https://stackoverflow.com/users/7698092/awais-fayyaz"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1585836232, "post_id": 55469080, "comment_id": 107907758, "body": "Any update on this @luk2302? can i do this without jailbraking ?"}], "owner": {"reputation": 139, "user_id": 6449999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7fa0d6abcbaed67cf8f7a7524eb1ef8?s=128&d=identicon&r=PG&f=1", "display_name": "naresh kolindala", "link": "https://stackoverflow.com/users/6449999/naresh-kolindala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 1, "closed_date": 1554190153, "answer_count": 0, "score": 0, "last_activity_date": 1554189776, "creation_date": 1554189776, "question_id": 55469080, "link": "https://stackoverflow.com/questions/55469080/how-to-record-phone-calls-in-objective-c", "closed_reason": "Duplicate", "title": "How to record phone calls in objective c", "body": "<p>How to record Phone calls in objective c, is there any library available to to record phone call.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["objective-c", "objective-c-runtime", "method-invocation", "method-swizzling"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1554197504, "post_id": 55468389, "comment_id": 97653413, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7223555/track-all-objc-method-calls\">Track all ObjC method calls?</a>"}, {"owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554198165, "post_id": 55468389, "comment_id": 97653837, "body": "@Willeke Thanks, it&#39;s possible! I&#39;ll check if that DTrace can get values of parameters. If yes, I&#39;ll close this question."}, {"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 1, "creation_date": 1554931106, "post_id": 55468389, "comment_id": 97935906, "body": "@OlhaPavliuk There&#39;s some techniques you could use to figure the parameters, but basically all of them involve hand-rolling assembly. Fact is, due to how objc uses c-style calling conventions, there&#39;s just no way for you to know (at the call site) with 100% certainty the ABI of the invocation (especially if you mix complex types, or C++ objects in there too, which will certainly happen at some point in the stack).  You can make best-effort attempts, and you may even consider hot-patching objc_msgSend, but this seems like an attempt in futility."}, {"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 1, "creation_date": 1554931221, "post_id": 55468389, "comment_id": 97935947, "body": "Your &#39;current approach&#39; is actually fairly close to correct (albeit without respect to the correct calling convention of the function), you should instead of invoking the function again (with <code>[self foo:arg1 bar:arg2]</code>, get the old <code>IMP</code>, cast it to the right type, and invoke that."}, {"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 1, "creation_date": 1554931505, "post_id": 55468389, "comment_id": 97936049, "body": "If you want to try and solve the argument types without using assembly, you could look at class swizzling &amp; NSInvocation, I did an interesting approach here a long time ago, that worked very well: <a href=\"https://github.com/parse-community/Parse-SDK-iOS-OSX/blob/master/Parse/Parse/Internal/Object/Subclassing/PFObjectSubclassingController.m\" rel=\"nofollow noreferrer\">github.com/parse-community/Parse-SDK-iOS-OSX/blob/master/Par&zwnj;&#8203;se/&hellip;</a>  There&#39;s a lot of drawbacks to using imp_implementationWithBlock, off the top of my head, there&#39;s actually a limit (something like 32k) of how many you can actually create on iOS (true up to at least iOS 7)."}, {"owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "reply_to_user": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 0, "creation_date": 1554962105, "post_id": 55468389, "comment_id": 97943272, "body": "@RichardJ.RossIII Thanks a lot!!! I&#39;ll look at your repo, but it&#39;ll take few hours to understand your approach, so I comment later. &quot;get the old IMP, cast it to the right type, and invoke that&quot; - thanks, I&#39;ll try that."}, {"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 0, "creation_date": 1555023520, "post_id": 55468389, "comment_id": 97974750, "body": "@OlhaPavliuk no problem. Mention me again in this thread if you need more pointers, this stuff can be pretty hard to grok."}], "owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554962596, "creation_date": 1554187187, "last_edit_date": 1554962596, "question_id": 55468389, "link": "https://stackoverflow.com/questions/55468389/is-it-possible-to-generate-a-wrapper-for-each-method-invocation-in-objective-c", "title": "Is it possible to generate a wrapper for each method invocation in Objective-C?", "body": "<p>I have a project with a lot of classes.\nI want to log (e.g. to stderr) invocations of each selector in runtime. <br>\nMy main requirement is not to change the existing code, so I can't just log the function's params at the start of each call. <br></p>\n\n<p>If some method is invoked during program execution, e.g.</p>\n\n<pre><code>@implementation Class1\n\n// ...\n\n- (int)someFunc:(Class2*) a andClass3:(Class3*)b\n{\n\n}\n\n// ...\n\n@end \n</code></pre>\n\n<p>I want to replace it with something like:</p>\n\n<pre><code>- (int)someFuncWrapper:(Class2*) a andClass3:(Class3*)b\n{\n     NSLog(@\"- (int)someFuncWrapper:a andClass3:b &lt;= a=%@, ab=%@\", a, b);\n     return [someFunc: a andClass3:b];\n}\n</code></pre>\n\n<p>Is it possible? <br></p>\n\n<p>I've read of method swizzling, KVO, forward messaging. <br></p>\n\n<p>My current approach with method swizzling causes infinite recursion:</p>\n\n<pre><code>- (int)funcToSwizzle:(int)a andB:(int)b\n{\n    int r = a+b;\n    NSLog(@\"funcToSwizzle: %d\", r);\n    return r;\n}\n\n- (void)doSimpleSwizzling\n{\n    NSLog(@\"r1 = %d\", [self funcToSwizzle:10 andB:20]);\n\n    Class curClass = NSClassFromString(@\"HPTracer\");\n\n    unsigned int methodCount = 0;\n    Method *methods = class_copyMethodList( curClass, &amp;methodCount);\n\n    for (int i=0; i&lt;methodCount; ++i)\n    {\n        SEL originalSelector = method_getName(methods[i]);\n        if ( strcmp(\"funcToSwizzle:andB:\", sel_getName(originalSelector)) == 0 )\n        {\n            Method m1 = class_getInstanceMethod(curClass, originalSelector);\n\n            id block3 = ^(id self, int a, int b) {\n                NSLog(@\"My block: %d\", a*b);\n                // get current implementation of \"funcToSwizzle\".\n                // copy it. store that \"IMP\"/\"void *\" etc\n                return [self funcToSwizzle:a andB:b];\n            };\n\n            IMP imp3 = imp_implementationWithBlock(block3);\n            method_setImplementation(m1, imp3);\n        }\n    }\n\n    NSLog(@\"r2 = %d\", [self funcToSwizzle:10 andB:20]);\n}\n</code></pre>\n\n<p>And I'm afraid it's impossible to generate a <code>block3</code> or some method in runtime. There's <code>NSSelectorFromString</code> but no <code>ImplementationFromString</code>.<br></p>\n\n<p><strong>UPD</strong> <br>\nI looked at DTrace util, it seems very powerful, but doesn't fit my needs.\nIt requires disabling SIP on Mac OS, and is either impossible on iOS or possible on jailbreaked device.</p>\n\n<p>What I need from methods interceptions is creating a stable custom \"framework\" for both Debug and production build modes.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "archive", "xcode10"], "comments": [{"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1554184966, "post_id": 55467829, "comment_id": 97646899, "body": "Nope, the target is correct."}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1554185201, "post_id": 55467829, "comment_id": 97646989, "body": "Would you please try to set <code>Skip install</code> to <code>YES</code> in build settings?"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1554185396, "post_id": 55467829, "comment_id": 97647058, "body": "Have you targeted any device or Generic iOS device for archiving?"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1554185800, "post_id": 55467829, "comment_id": 97647231, "body": "Isn&#39;t that because you are using an Enterprise Program account other than Developer Program account?"}, {"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1554186280, "post_id": 55467829, "comment_id": 97647426, "body": "@FaysalAhmed No effect of enabling that flag and yes i selected generic iOS device."}, {"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1554186377, "post_id": 55467829, "comment_id": 97647470, "body": "@ElTomato It has nothing to do with enterprise account and I used to archive until now."}, {"owner": {"reputation": 332, "user_id": 4153009, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WUSYx.jpg?s=128&g=1", "display_name": "Fatih Ayyildiz", "link": "https://stackoverflow.com/users/4153009/fatih-ayyildiz"}, "edited": false, "score": 0, "creation_date": 1555427889, "post_id": 55467829, "comment_id": 98103741, "body": "@ParasGorasiya Did you solve this issue ? I have also same issue at my project and I am still looking for the solution :("}, {"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 332, "user_id": 4153009, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WUSYx.jpg?s=128&g=1", "display_name": "Fatih Ayyildiz", "link": "https://stackoverflow.com/users/4153009/fatih-ayyildiz"}, "edited": false, "score": 0, "creation_date": 1555576021, "post_id": 55467829, "comment_id": 98160956, "body": "@FatihAyyildiz Currently I am just following Bathem&#39;s answer(<a href=\"https://stackoverflow.com/a/55468275/2768604\">stackoverflow.com/a/55468275/2768604</a>). Its just a workaround, every time I have to do this troublesome thing for different scheme."}], "answers": [{"comments": [{"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "edited": false, "score": 0, "creation_date": 1554193934, "post_id": 55468275, "comment_id": 97651337, "body": "This is just a work around, if I re enable i get the issue again and I also want to archive other targets as well."}, {"owner": {"reputation": 439, "user_id": 4435289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4d2ca31a14a6292b639e39cf5b23d6?s=128&d=identicon&r=PG&f=1", "display_name": "Claytog", "link": "https://stackoverflow.com/users/4435289/claytog"}, "edited": false, "score": 0, "creation_date": 1583180432, "post_id": 55468275, "comment_id": 107022114, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 31, "user_id": 11297279, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-akYXK2ui7O0/AAAAAAAAAAI/AAAAAAAAAIs/gapUyJF97hQ/photo.jpg?sz=128", "display_name": "Bathem", "link": "https://stackoverflow.com/users/11297279/bathem"}, "is_accepted": false, "score": 3, "last_activity_date": 1554186740, "creation_date": 1554186740, "answer_id": 55468275, "question_id": 55467829, "link": "https://stackoverflow.com/questions/55467829/xcode-10-1-doesnt-show-distribute-app-option-when-archiving-cant-archive/55468275#55468275", "title": "Xcode 10.1 doesn&#39;t show &#39;distribute app&#39; option when archiving, can&#39;t archive", "body": "<p>Faced the same issue few days ago. This usually occurs when you have multiple schemes in a project.</p>\n\n<ul>\n<li>Go to edit scheme (Next to stop button)  </li>\n<li>Select the target of which you want to archive.</li>\n<li>In build option, remove other targets or you may unselect archive checkbox.</li>\n<li>Re-archive</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "edited": false, "score": 2, "creation_date": 1554257967, "post_id": 55481200, "comment_id": 97681157, "body": "Well, unfortunately its not working for me. Throwing error of &quot;Linker command failed with exit code 1&quot;. I guess its trying find framework builds but can&#39;t find when I untick that option."}], "tags": [], "owner": {"reputation": 11, "user_id": 398760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef16b7ac8ff4471ca9b4bcec093b0fa8?s=128&d=identicon&r=PG", "display_name": "kilobytedump", "link": "https://stackoverflow.com/users/398760/kilobytedump"}, "is_accepted": false, "score": 0, "last_activity_date": 1566119220, "last_edit_date": 1566119220, "creation_date": 1554229053, "answer_id": 55481200, "question_id": 55467829, "link": "https://stackoverflow.com/questions/55467829/xcode-10-1-doesnt-show-distribute-app-option-when-archiving-cant-archive/55481200#55481200", "title": "Xcode 10.1 doesn&#39;t show &#39;distribute app&#39; option when archiving, can&#39;t archive", "body": "<p>Unticking the 'Find Implicit Dependencies' tick box solved it for me. Hope this helps. \n<img src=\"https://i.stack.imgur.com/2kXbN.png\" alt=\"Said Tickbox\"></p>\n"}, {"comments": [{"owner": {"reputation": 31801, "user_id": 1438339, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eJSFM.jpg?s=128&g=1", "display_name": "Adam Johns", "link": "https://stackoverflow.com/users/1438339/adam-johns"}, "edited": false, "score": 3, "creation_date": 1574198914, "post_id": 56678660, "comment_id": 104144574, "body": "In my workspace I actually had to go to my framework target and change Skip Install to YES."}, {"owner": {"reputation": 1033, "user_id": 5993652, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77cff5d2c85accc6f6044732acbce484?s=128&d=identicon&r=PG&f=1", "display_name": "RJB", "link": "https://stackoverflow.com/users/5993652/rjb"}, "edited": false, "score": 0, "creation_date": 1579973218, "post_id": 56678660, "comment_id": 105948351, "body": "Thanks! After trying for ages the other answers (like making skip install YES), i did this and it worked!"}, {"owner": {"reputation": 2025, "user_id": 612493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2717efa4e1d7006898f0135163ec4a4?s=128&d=identicon&r=PG", "display_name": "Andi", "link": "https://stackoverflow.com/users/612493/andi"}, "reply_to_user": {"reputation": 31801, "user_id": 1438339, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/eJSFM.jpg?s=128&g=1", "display_name": "Adam Johns", "link": "https://stackoverflow.com/users/1438339/adam-johns"}, "edited": false, "score": 1, "creation_date": 1594762863, "post_id": 56678660, "comment_id": 111239476, "body": "@AdamJohns Thank you so much! I wasted about a day working on this. Tried every suggestion. It turned out to be the <i>framework target</i> that needed Skip Install to YES."}, {"owner": {"reputation": 11496, "user_id": 665456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47e1090931681a149afbc87e72170f7?s=128&d=identicon&r=PG", "display_name": "NRitH", "link": "https://stackoverflow.com/users/665456/nrith"}, "reply_to_user": {"reputation": 2025, "user_id": 612493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2717efa4e1d7006898f0135163ec4a4?s=128&d=identicon&r=PG", "display_name": "Andi", "link": "https://stackoverflow.com/users/612493/andi"}, "edited": false, "score": 0, "creation_date": 1617997405, "post_id": 56678660, "comment_id": 118478157, "body": "@Andi&#39;s answer is what worked for me--the framework target needs Skip Install to be YES, and the <i>app</i> target needs to have Skip Install be NO."}], "tags": [], "owner": {"reputation": 295, "user_id": 1944769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/200e18ed942a1e11a1d8e9c157c6df65?s=128&d=identicon&r=PG", "display_name": "Oshitha Wimalasuriya", "link": "https://stackoverflow.com/users/1944769/oshitha-wimalasuriya"}, "is_accepted": false, "score": 7, "last_activity_date": 1561002174, "creation_date": 1561002174, "answer_id": 56678660, "question_id": 55467829, "link": "https://stackoverflow.com/questions/55467829/xcode-10-1-doesnt-show-distribute-app-option-when-archiving-cant-archive/56678660#56678660", "title": "Xcode 10.1 doesn&#39;t show &#39;distribute app&#39; option when archiving, can&#39;t archive", "body": "<pre><code>Please make changes as follows \nChange Skip install to NO\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 3877242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vSBQI.jpg?s=128&g=1", "display_name": "weet1988", "link": "https://stackoverflow.com/users/3877242/weet1988"}, "is_accepted": false, "score": 0, "last_activity_date": 1573661143, "creation_date": 1573661143, "answer_id": 58841085, "question_id": 55467829, "link": "https://stackoverflow.com/questions/55467829/xcode-10-1-doesnt-show-distribute-app-option-when-archiving-cant-archive/58841085#58841085", "title": "Xcode 10.1 doesn&#39;t show &#39;distribute app&#39; option when archiving, can&#39;t archive", "body": "<p>I had the same problem in different projects in the last few days.</p>\n\n<p>In one of the projects, a solution had to delete the .xcproject subproject file.</p>\n\n<p>In another project, the solution was to uninstall .xcworkspace (I use cocoapods) and run pod install.</p>\n"}, {"tags": [], "owner": {"reputation": 528, "user_id": 2186991, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Z3KzI.jpg?s=128&g=1", "display_name": "Declan Land", "link": "https://stackoverflow.com/users/2186991/declan-land"}, "is_accepted": false, "score": 2, "last_activity_date": 1587385623, "creation_date": 1587385623, "answer_id": 61322516, "question_id": 55467829, "link": "https://stackoverflow.com/questions/55467829/xcode-10-1-doesnt-show-distribute-app-option-when-archiving-cant-archive/61322516#61322516", "title": "Xcode 10.1 doesn&#39;t show &#39;distribute app&#39; option when archiving, can&#39;t archive", "body": "<p>I ran into this annoying error today - I thought it was the new version of Xcode - but no. I had multiple targets for my project (staging/production), and also a nested framework project.</p>\n\n<p>To solve this I opened the staging scheme and made sure only the checkboxes are checked for that target: (the top row was selected before)</p>\n\n<p><a href=\"https://i.stack.imgur.com/reHR4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/reHR4.png\" alt=\"enter image description here\"></a> </p>\n"}], "owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3527, "favorite_count": 5, "answer_count": 5, "score": 15, "last_activity_date": 1587385623, "creation_date": 1554184588, "last_edit_date": 1554184920, "question_id": 55467829, "link": "https://stackoverflow.com/questions/55467829/xcode-10-1-doesnt-show-distribute-app-option-when-archiving-cant-archive", "title": "Xcode 10.1 doesn&#39;t show &#39;distribute app&#39; option when archiving, can&#39;t archive", "body": "<p>I suddenly got this weird issue with Xcode 10.1.</p>\n\n<p>When I archive app store target for my app I cant see \"distribute app\" option, instead it now says \"Distribute Content\" and neither I can export ipa nor upload to app store directly.</p>\n\n<p>My archive comes under \"Other items\" in Organizer instead of iOS apps.</p>\n\n<p>It seems to work fine with development target though.</p>\n\n<p>Here is the screen shot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/30y8f.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/30y8f.png\" alt=\"enter image description here\"></a>\nAnyone with any knowledge about it please help.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "printing", "uiwebview"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1554175155, "post_id": 55460731, "comment_id": 97644456, "body": "can you show us by screenshot that what you have to remove ?"}, {"owner": {"reputation": 87, "user_id": 8872388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdf5be3b3fa960092697deddfaf1f30?s=128&d=identicon&r=PG&f=1", "display_name": "John JS", "link": "https://stackoverflow.com/users/8872388/john-js"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1554178481, "post_id": 55460731, "comment_id": 97645087, "body": "Its just top margin and bottom margin space @nirav"}], "owner": {"reputation": 87, "user_id": 8872388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdf5be3b3fa960092697deddfaf1f30?s=128&d=identicon&r=PG&f=1", "display_name": "John JS", "link": "https://stackoverflow.com/users/8872388/john-js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1554140306, "creation_date": 1554140306, "question_id": 55460731, "link": "https://stackoverflow.com/questions/55460731/how-to-handle-top-and-bottom-space-of-print-in-ios", "title": "How to handle top and bottom space of print in ios", "body": "<p>I am printing pdf from uiwebview its working fine but i just want to remove bottom and top space of that page.</p>\n\n<p>Here is my code for printing page</p>\n\n<pre><code>UIPrintInteractionController *pic = [UIPrintInteractionController sharedPrintController];\n\nUIPrintInfo *printInfo = [UIPrintInfo printInfo];\n\nprintInfo.outputType = UIPrintInfoOutputGeneral;\n\npic.printInfo = printInfo;\n\npic.printFormatter = [self.webView viewPrintFormatter];\n\nvoid (^completionHandler)(UIPrintInteractionController *, BOOL, NSError *) =\n\n^(UIPrintInteractionController *printController, BOOL completed, NSError *error)\n\n{\n\n    if (!completed &amp;&amp; error)\n\n    {\n\n        LogError(@\"error\");\n\n    }\n\n};\n\n\n\n[[NSOperationQueue mainQueue] addOperationWithBlock:^{\n\n    [pic presentFromRect:CGRectMake(200,30, 50, 50) inView:self.view animated:NO completionHandler:completionHandler];\n\n}];\n</code></pre>\n\n<p>I have searched a-lot in google could not able to find any solution. Please someone help me out this issue.</p>\n"}, {"tags": ["java", "objective-c", "encryption"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8401976, "user_type": "registered", "profile_image": "https://graph.facebook.com/545662853/picture?type=large", "display_name": "James Brown", "link": "https://stackoverflow.com/users/8401976/james-brown"}, "edited": false, "score": 0, "creation_date": 1555490298, "post_id": 55469232, "comment_id": 98125820, "body": "thanks for this...  i ended up using a structure that carried the AES key (encrypted via the key pair) separate from the data that was encrypted with the AES key...  this worked...  i may at some point fall back to a single buffer with the encrypted AES key in the first section, but the solution is working now....   I appreciate your feedback!"}], "tags": [], "owner": {"reputation": 8340, "user_id": 1645712, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/48781792c1fb7d61086b4fb612938c13?s=128&d=identicon&r=PG", "display_name": "gusto2", "link": "https://stackoverflow.com/users/1645712/gusto2"}, "is_accepted": true, "score": 0, "last_activity_date": 1554191085, "last_edit_date": 1554191085, "creation_date": 1554190407, "answer_id": 55469232, "question_id": 55460429, "link": "https://stackoverflow.com/questions/55460429/how-to-decrypt-data-in-java-that-was-encrypted-in-obj-c/55469232#55469232", "title": "How to decrypt data in Java that was encrypted in Obj-c", "body": "<blockquote>\n  <p>is there a Cipher type that will do the decode needed</p>\n</blockquote>\n\n<p>You may read the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">Cipher</a> documentation. I believe you are looking for <code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code></p>\n\n<p>I see the designation doesn't exacly match with the Obj-C name, but this is a common standard so it may worth a try</p>\n\n<blockquote>\n  <p>As I need to send longer blocks, and am trying to switch to kSecKeyAlgorithmRSAEncryptionOAEPSHA512AESGCM</p>\n</blockquote>\n\n<p>You may try to search for \"hybrid encryption\". Asymmetric ciphers are VERY slow comparing to symmetric ciphers and intended to encrypt only limited amount of data.</p>\n\n<p>Some implementation may encrypt longer data anyway (for each 256 bit input providing 2048 o 4096 bit output), Java will simply complain and stop</p>\n\n<p>So proper encryption would be</p>\n\n<ul>\n<li>encrypt data with a radom key (DEK - data encryption key) using a symmetric cipher</li>\n<li>encrypt the DEK using an asymmetric public key</li>\n</ul>\n\n<p>If the <code>kSecKeyAlgorithmRSAEncryptionOAEPSHA512AESGCM</code> would be not counterpart (compatible) with <code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code>, you may still use the PKCS#1 1.5 padding (the old one) with this approach.</p>\n\n<p>Edit: this asnwer may be useful when working with OAEP too <a href=\"https://stackoverflow.com/questions/33572909/rsa-ecb-oaepwithsha-256andmgf1padding-but-with-mgf1-using-sha-256\">RSA/ECB/OAEPWithSHA-256AndMGF1Padding but with MGF1 using SHA-256?</a></p>\n"}], "owner": {"reputation": 13, "user_id": 8401976, "user_type": "registered", "profile_image": "https://graph.facebook.com/545662853/picture?type=large", "display_name": "James Brown", "link": "https://stackoverflow.com/users/8401976/james-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 55469232, "answer_count": 1, "score": 1, "last_activity_date": 1554191085, "creation_date": 1554139081, "question_id": 55460429, "link": "https://stackoverflow.com/questions/55460429/how-to-decrypt-data-in-java-that-was-encrypted-in-obj-c", "title": "How to decrypt data in Java that was encrypted in Obj-c", "body": "<p>I am encrypting in ojb-c with SecKeyEncryptedData and trying to decrypt in Java with javax.Cipher and hitting a problem.</p>\n\n<p>I recently moved to doing long blocks and have needed to use a symmetric encryption with the AES key encrypted with the asymmetric key pair.  I am having problems decoding.</p>\n\n<p>I have the iOS key kSecKeyAlgorithmRSAEncryptionPKCS1 working for asymmetric data matched with Cipher.getInstance(\"RSA/ECB/PKCS1Padding\") in Java.  This decodes the short blocks.</p>\n\n<p>As I need to send longer blocks, and am trying to switch to kSecKeyAlgorithmRSAEncryptionOAEPSHA512AESGCM on iOS and it encrypts fine, but i cannot find the method to use in Cipher to decrypt it and do not understand if it needs to be done in 2 steps in the cloud in Java.</p>\n\n<p>OBJ-C:\n    <code>\n    SecKeyAlgorithm algorithm = kSecKeyAlgorithmRSAEncryptionOAEPSHA512AESGCM;\n    NSData* cipherText = nil;\n    cipherText = (NSData*)CFBridgingRelease(      // ARC takes ownership<br>\n                    SecKeyCreateEncryptedData(self.pubKey, algorithm,\n                    (__bridge CFDataRef)data, &amp;error));\n</code>\nJava:\n    <code>\n    try {\n    cipher = Cipher.getInstance(\"RSA/ECB/PKCS1Padding\"); \n        cipher.init(Cipher.DECRYPT_MODE, priv);\n    byte[] dog = decoder.decode(encString); \n        dec = cipher.doFinal(dog);\n        res = new String(dec);<br>\n    } // handle errors\n</code></p>\n\n<p>The decode obviously fails.</p>\n\n<p>So my question is in 2 parts.</p>\n\n<ol>\n<li>is there a Cipher type that will do the decode needed or do i need to break out the encrypted AES key and decrypt it first?  </li>\n<li>If i need to break it up, how long is that encrypted AES key part of the data block and, if you know the ciphers for that it would be fantastic.</li>\n</ol>\n"}, {"tags": ["objective-c", "json", "nsdictionary"], "comments": [{"owner": {"reputation": 2415, "user_id": 124115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8d9eea7b2698846113c215f2e44ffa2?s=128&d=identicon&r=PG", "display_name": "Vladimir Obrizan", "link": "https://stackoverflow.com/users/124115/vladimir-obrizan"}, "edited": false, "score": 1, "creation_date": 1554137065, "post_id": 55459889, "comment_id": 97632460, "body": "Would you please share a crash log? It seems version is not an NSString, and doesn&#39;t respond to isEqualToString call."}, {"owner": {"reputation": 633, "user_id": 1168995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec167c9f3b85af7fc75901327af63fd9?s=128&d=identicon&r=PG", "display_name": "Saleh Enam Shohag", "link": "https://stackoverflow.com/users/1168995/saleh-enam-shohag"}, "reply_to_user": {"reputation": 2415, "user_id": 124115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8d9eea7b2698846113c215f2e44ffa2?s=128&d=identicon&r=PG", "display_name": "Vladimir Obrizan", "link": "https://stackoverflow.com/users/124115/vladimir-obrizan"}, "edited": false, "score": 0, "creation_date": 1554137268, "post_id": 55459889, "comment_id": 97632547, "body": "Yes this is not string, but from NsLog I thought that it is a string.  my question is how can i realize that this is not a string. what is the best way to handle so, that it does not crash."}, {"owner": {"reputation": 2415, "user_id": 124115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8d9eea7b2698846113c215f2e44ffa2?s=128&d=identicon&r=PG", "display_name": "Vladimir Obrizan", "link": "https://stackoverflow.com/users/124115/vladimir-obrizan"}, "edited": false, "score": 2, "creation_date": 1554137332, "post_id": 55459889, "comment_id": 97632580, "body": "It seems that responseDictionary[@&quot;version&quot;] is not a string. It means that you should check your JSON schema first."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1554137383, "post_id": 55459889, "comment_id": 97632609, "body": "Maybe unrelated but never use <code>valueForKey</code> to get a single value from a dictionary unless you can explain why KVC is explicitly needed. Use \u2013 preferred \u2013 key subscription (<code>responseDictionary[@&quot;version&quot;]</code>) or <code>objectForKey</code> (<code>[responseDictionary objectForKey:@&quot;version&quot;]</code>)"}, {"owner": {"reputation": 633, "user_id": 1168995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec167c9f3b85af7fc75901327af63fd9?s=128&d=identicon&r=PG", "display_name": "Saleh Enam Shohag", "link": "https://stackoverflow.com/users/1168995/saleh-enam-shohag"}, "reply_to_user": {"reputation": 2415, "user_id": 124115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8d9eea7b2698846113c215f2e44ffa2?s=128&d=identicon&r=PG", "display_name": "Vladimir Obrizan", "link": "https://stackoverflow.com/users/124115/vladimir-obrizan"}, "edited": false, "score": 0, "creation_date": 1554137504, "post_id": 55459889, "comment_id": 97632672, "body": "@VladimirObrizan, if i had not the schema. what is the preventive code i should use?"}], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 1168995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec167c9f3b85af7fc75901327af63fd9?s=128&d=identicon&r=PG", "display_name": "Saleh Enam Shohag", "link": "https://stackoverflow.com/users/1168995/saleh-enam-shohag"}, "edited": false, "score": 0, "creation_date": 1554273997, "post_id": 55460148, "comment_id": 97685319, "body": "Thanks for your answer, The first approach looks like more robust to me. I can check string or number and then do the stuff."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 1, "last_activity_date": 1554137965, "creation_date": 1554137965, "answer_id": 55460148, "question_id": 55459889, "link": "https://stackoverflow.com/questions/55459889/nsdictionary-get-value-as-string-does-not-complain-but-lenngth-or-isequaltostrin/55460148#55460148", "title": "NSDictionary get value as string does not complain but lenngth or isEqualToString crashes", "body": "<p>If this is data that originates outside your program, you must always check the types.</p>\n\n<pre><code>-(void)processResponse:(NSDictionary *)responseDictionary {\n    id value = responseDictionary[@\"version\"];\n    if ([value isKindOfClass: [NSString class]]) {\n        NSString *version = value;\n        if ([version isEqualToString: @\"4.51\"]) {\n            NSLog(@\"do something\"); //crashes\n        }\n    }\n}\n</code></pre>\n\n<p>If this is all you're going to do, then you can shorten it a little bit with <code>&amp;&amp;</code> short-circuiting, if you're careful.</p>\n\n<pre><code>-(void)processResponse:(NSDictionary *)responseDictionary {\n    NSString *version = responseDictionary[@\"version\"];\n    if ([version isKindOfClass: [NSString class]] \n        &amp;&amp; [version isEqualToString: @\"4.51\"]) {\n\n        NSLog(@\"do something\"); //crashes\n    }\n}\n</code></pre>\n\n<p>Just be very careful with this, because it means that <code>version</code> exists beyond this <code>if</code> block and may not be the correct type.</p>\n\n<p>Again, if this is precisely your problem, you can also simplify it by using <code>isEqual:</code>, which applies to all <code>NSObject</code>:</p>\n\n<pre><code>-(void)processResponse:(NSDictionary *)responseDictionary {\n    id version = responseDictionary[@\"version\"];\n    if ([version isEqual: @\"4.51\"]) {\n        NSLog(@\"do something\"); //crashes\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 633, "user_id": 1168995, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec167c9f3b85af7fc75901327af63fd9?s=128&d=identicon&r=PG", "display_name": "Saleh Enam Shohag", "link": "https://stackoverflow.com/users/1168995/saleh-enam-shohag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55460148, "answer_count": 1, "score": 0, "last_activity_date": 1554271818, "creation_date": 1554136957, "last_edit_date": 1554271818, "question_id": 55459889, "link": "https://stackoverflow.com/questions/55459889/nsdictionary-get-value-as-string-does-not-complain-but-lenngth-or-isequaltostrin", "title": "NSDictionary get value as string does not complain but lenngth or isEqualToString crashes", "body": "<p>I got a Json like below as a response message.</p>\n\n<pre><code>data:{\n    type = DATA;\n    version = \"4.51\";\n}\n</code></pre>\n\n<p>Which i process in below method, from the debugger it looks  like that version no is string.</p>\n\n<pre><code>-(void)processResponse:(NSDictionary *)responseDictionary{\n    NSString *version = [responseDictionary valueForKey:@\"version\"];\n    if([version isEqualToString:@\"4.51\"]){ //line 3\n        NSLog(@\"do something\"); //crashes\n    }\n}\n</code></pre>\n\n<p>But line 3 crashes.\nMy question is why this line crashes? And what is the best way to handle this type of dictionary message?</p>\n"}, {"tags": ["objective-c", "gcdasyncsocket"], "answers": [{"tags": [], "owner": {"reputation": 1793, "user_id": 10332481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XzvOD.jpg?s=128&g=1", "display_name": "dengST30", "link": "https://stackoverflow.com/users/10332481/dengst30"}, "is_accepted": false, "score": 1, "last_activity_date": 1585833356, "creation_date": 1585833356, "answer_id": 60992486, "question_id": 55457744, "link": "https://stackoverflow.com/questions/55457744/error-while-binding-a-socket-nsposixerrordomain-code-1-operation-not-permitte/60992486#60992486", "title": "Error while binding a socket : NSPOSIXErrorDomain Code=1 &quot;Operation not permitted&quot;", "body": "<p>You should enable its network capability of the App Sandbox</p>\n\n<p><strong>macOS Catalina Version 10.15.3</strong>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2WM3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2WM3w.png\" alt=\"111\"></a></p>\n"}], "owner": {"reputation": 182, "user_id": 8992404, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/cc359b244ed2ab35dec46bd80adf38e8?s=128&d=identicon&r=PG&f=1", "display_name": "Jeavie", "link": "https://stackoverflow.com/users/8992404/jeavie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1585833356, "creation_date": 1554129616, "question_id": 55457744, "link": "https://stackoverflow.com/questions/55457744/error-while-binding-a-socket-nsposixerrordomain-code-1-operation-not-permitte", "title": "Error while binding a socket : NSPOSIXErrorDomain Code=1 &quot;Operation not permitted&quot;", "body": "<p>I'm trying to implement <a href=\"https://github.com/robbiehanson/CocoaAsyncSocket\" rel=\"nofollow noreferrer\">GCDAsyncSocket</a> to mac os x (Mojave 10.14.3) application to listen data from localhost:port.</p>\n\n<p>The problem is no matter what port I choose I always get this error:</p>\n\n<pre><code>Error Domain=NSPOSIXErrorDomain Code=1 \"Operation not permitted\"\nUserInfo={NSLocalizedDescription=Operation not permitted, \nNSLocalizedFailureReason=Error in bind() function}\n</code></pre>\n\n<p>I've already tried <a href=\"https://stackoverflow.com/questions/47797446/nsposixerrordomain-when-binding-to-socket-on-macos-10-12\">this</a>, but it didn't work.</p>\n\n<p>Here is my implementation in <strong>AppDelegate.mm</strong>:</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    listenSocket = [[GCDAsyncSocket alloc] initWithDelegate:(id&lt;GCDAsyncSocketDelegate&gt;) self delegateQueue:dispatch_get_main_queue()];\n    connectedSockets = [[NSMutableArray alloc] initWithCapacity:1];\n    isRunning = NO;\n    NSError *err = nil;\n    if (![listenSocket connectToHost:@\"localhost\" onPort:12345 error:&amp;err]){\n        NSLog(@\"I goofed: %@\", err);\n    }\n}\n\n-(void)getData{\n    if(!isRunning)\n    {\n        int port = 12345;\n        if(port &lt; 0 || port &gt; 65535)\n        {\n            port = 0;\n        }\n        NSError *error = nil;\n        if(![listenSocket acceptOnPort:port error:&amp;error])\n        {\n            NSLog(@\"error: %@\", FORMAT(@\"Error starting server: %@\", error));\n            return;\n        }\n        NSLog(@\"error: %@\", FORMAT(@\"Echo server started on port %hu\", [listenSocket localPort]));\n        isRunning = YES;\n    }\n    else\n    {\n        // Stop accepting connections\n        [listenSocket disconnect];\n\n        // Stop any client connections\n        NSUInteger i;\n        for(i = 0; i &lt; [connectedSockets count]; i++)\n        {\n            [[connectedSockets objectAtIndex:i] disconnect];\n        }\n        NSLog(@\"Stopped Echo server\");\n        isRunning = false;\n    }\n}\n\n- (void)onSocket:(GCDAsyncSocket *)sock didAcceptNewSocket:(GCDAsyncSocket *)newSocket\n{\n    [connectedSockets addObject:newSocket];\n}\n\n- (void)onSocket:(GCDAsyncSocket *)sock didConnectToHost:(NSString *)host port:(UInt16)port\n{\n    NSLog(FORMAT(@\"Accepted client %@:%hu\", host, port));\n    NSString *welcomeMsg = @\"Welcome to the AsyncSocket Echo Server\\r\\n\";\n    NSData *welcomeData = [welcomeMsg dataUsingEncoding:NSUTF8StringEncoding];\n\n    [sock writeData:welcomeData withTimeout:-1 tag:WELCOME_MSG];\n\n    [sock readDataToData:[GCDAsyncSocket CRLFData] withTimeout:READ_TIMEOUT tag:0];\n}\n\n- (void)onSocket:(GCDAsyncSocket *)sock didWriteDataWithTag:(long)tag\n{\n    if(tag == ECHO_MSG)\n    {\n        [sock readDataToData:[GCDAsyncSocket CRLFData] withTimeout:READ_TIMEOUT tag:0];\n    }\n}\n\n- (void)onSocket:(GCDAsyncSocket *)sock didReadData:(NSData *)data withTag:(long)tag\n{\n    NSData *strData = [data subdataWithRange:NSMakeRange(0, [data length] - 2)];\n    NSString *msg = [[NSString alloc] initWithData:strData encoding:NSUTF8StringEncoding];\n    if(msg)\n    {\n        NSLog(@\"msg %@\", msg);\n    }\n    else\n    {\n        NSLog(@\"Error converting received data into UTF-8 String\");\n    }\n\n    // Even if we were unable to write the incoming data to the log,\n    // we're still going to echo it back to the client.\n    [sock writeData:data withTimeout:-1 tag:ECHO_MSG];\n}\n\n- (NSTimeInterval)onSocket:(GCDAsyncSocket *)sock\n  shouldTimeoutReadWithTag:(long)tag\n                   elapsed:(NSTimeInterval)elapsed\n                 bytesDone:(NSUInteger)length\n{\n    if(elapsed &lt;= READ_TIMEOUT)\n    {\n        NSString *warningMsg = @\"Are you still there?\\r\\n\";\n        NSData *warningData = [warningMsg dataUsingEncoding:NSUTF8StringEncoding];\n\n        [sock writeData:warningData withTimeout:-1 tag:WARNING_MSG];\n\n        return READ_TIMEOUT_EXTENSION;\n    }\n\n    return 0.0;\n}\n\n- (void)onSocket:(GCDAsyncSocket *)sock willDisconnectWithError:(NSError *)err\n{\n    NSLog(FORMAT(@\"Client Disconnected: %@:%hu\", [sock connectedHost], [sock connectedPort]));\n}\n\n- (void)onSocketDidDisconnect:(GCDAsyncSocket *)sock\n{\n    [connectedSockets removeObject:sock];\n}\n</code></pre>\n\n<p>I'm not sure about if my implementation is wrong or I should get any kind of permissions granted.</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["objective-c", "reactive-cocoa"], "answers": [{"comments": [{"owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "edited": false, "score": 0, "creation_date": 1554712291, "post_id": 55540179, "comment_id": 97837381, "body": "So the sliders sends the nil... why would that happen"}, {"owner": {"reputation": 3233, "user_id": 1066219, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83436bb4b706fe5b48ffce8ec78486ea?s=128&d=identicon&r=PG", "display_name": "MeXx", "link": "https://stackoverflow.com/users/1066219/mexx"}, "reply_to_user": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "edited": false, "score": 0, "creation_date": 1554713855, "post_id": 55540179, "comment_id": 97838276, "body": "Hm thats a different question than what you asked originally. Are you actually seeing this happening? Why do you even use <code>rac_newValueChannelWithNilValue</code> in the first place, what are you trying to achieven?"}, {"owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "edited": false, "score": 0, "creation_date": 1554722519, "post_id": 55540179, "comment_id": 97843152, "body": "I have a slider that is linked to an external process ( a device) the problem is that sometimes the slider just jumps to the &quot;nilValue&quot; position for no reason ..."}, {"owner": {"reputation": 3233, "user_id": 1066219, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83436bb4b706fe5b48ffce8ec78486ea?s=128&d=identicon&r=PG", "display_name": "MeXx", "link": "https://stackoverflow.com/users/1066219/mexx"}, "reply_to_user": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "edited": false, "score": 0, "creation_date": 1554747971, "post_id": 55540179, "comment_id": 97857703, "body": "Well, seems like I mixed up the terminals when reading the code and it might be exactly the other way around after all. The nil value is applied to the <code>following</code> terminal which is the terminal that the control (the slider) subscribes to. That means the nil value  is coming from your external process which probably makes more sense"}, {"owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "edited": false, "score": 0, "creation_date": 1554881640, "post_id": 55540179, "comment_id": 97908861, "body": "It would make sense if that process wouldn&#39;t have a ignore nil set on it :)"}], "tags": [], "owner": {"reputation": 3233, "user_id": 1066219, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83436bb4b706fe5b48ffce8ec78486ea?s=128&d=identicon&r=PG", "display_name": "MeXx", "link": "https://stackoverflow.com/users/1066219/mexx"}, "is_accepted": false, "score": 0, "last_activity_date": 1554748111, "last_edit_date": 1554748111, "creation_date": 1554483286, "answer_id": 55540179, "question_id": 55457483, "link": "https://stackoverflow.com/questions/55457483/racchannelterminal-on-uislider-when-is-the-nil-override-used/55540179#55540179", "title": "RACChannelTerminal on UISlider when is the nil override used", "body": "<p>The former - it replaces <code>nil</code> values that are sent on the following terminal which is the one the control (the slider) is subscribed to.</p>\n\n<p>The internal implementations literally contains this snippet:</p>\n\n<pre><code>[channel.followingTerminal map:^(id value) {\n  return value ?: nilValue;\n}];\n</code></pre>\n"}], "owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554748111, "creation_date": 1554128820, "question_id": 55457483, "link": "https://stackoverflow.com/questions/55457483/racchannelterminal-on-uislider-when-is-the-nil-override-used", "title": "RACChannelTerminal on UISlider when is the nil override used", "body": "<p>When does the nil value override come into play here:</p>\n\n<pre><code>RACChannelTerminal* sliderTerminal = [self.view.volumeSlider rac_newValueChannelWithNilValue:@0];\n</code></pre>\n\n<p>When the slider is receiving nil from the other terminal or when it's about to send a nil?</p>\n"}, {"tags": ["ios", "objective-c", "objective-c++"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 1, "last_activity_date": 1554131098, "creation_date": 1554131098, "answer_id": 55458226, "question_id": 55457093, "link": "https://stackoverflow.com/questions/55457093/why-does-objective-c-include-the-full-c-type-name-as-a-string-in-the-binary-c/55458226#55458226", "title": "Why does Objective-C include the full C++ type name as a string in the binary? Can I get rid of it?", "body": "<p>That information is required for the type-encoding used by the Objective-C runtime, and is part of how dynamic dispatch works. It's retrievable by interrogating the runtime:</p>\n\n<pre><code>Ivar *ivars = class_copyIvarList([Test class], NULL);\nprintf(\"%s\\n\", ivar_getTypeEncoding(ivars[1]));\nfree(ivars); ivars = NULL;\n</code></pre>\n\n<p>In order to eliminate it, you would need to avoid placing C++ types directly in the ObjC object. You can somewhat reduce the verbosity by boxing:</p>\n\n<pre><code>class Box {\n    std::vector&lt;int&gt; _vector;\n    std::unordered_map&lt;int, std::vector&lt;std::string&gt; &gt; *_map;\n};\n\n@interface Test: NSObject {\n    Box box;\n}\n@end\n</code></pre>\n\n<p>Yields</p>\n\n<pre><code>{Box=\"_vector\"{vector&lt;int, std::__1::allocator&lt;int&gt; \n&gt;=\"__begin_\"^i\"__end_\"^i\"__end_cap_\"{__compressed_pair&lt;int *, \nstd::__1::allocator&lt;int&gt; &gt;=\"__value_\"^i}}\"_map\"^{unordered_map&lt;int, \nstd::__1::vector&lt;std::__1::basic_string&lt;char&gt;, \nstd::__1::allocator&lt;std::__1::basic_string&lt;char&gt; &gt; &gt;, std::__1::hash&lt;int&gt;, \nstd::__1::equal_to&lt;int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const int, \nstd::__1::vector&lt;std::__1::basic_string&lt;char&gt;, \nstd::__1::allocator&lt;std::__1::basic_string&lt;char&gt; &gt; &gt; &gt; &gt; &gt;}}\n</code></pre>\n\n<p>And a pointer to a box is a bit smaller:</p>\n\n<pre><code>^{Box={vector&lt;int, std::__1::allocator&lt;int&gt; &gt;=^i^i{__compressed_pair&lt;int *,\nstd::__1::allocator&lt;int&gt; &gt;=^i}}^{unordered_map&lt;int,\nstd::__1::vector&lt;std::__1::basic_string&lt;char&gt;, \nstd::__1::allocator&lt;std::__1::basic_string&lt;char&gt; &gt; &gt;, std::__1::hash&lt;int&gt;,\nstd::__1::equal_to&lt;int&gt;, std::__1::allocator&lt;std::__1::pair&lt;const int, \nstd::__1::vector&lt;std::__1::basic_string&lt;char&gt;, \nstd::__1::allocator&lt;std::__1::basic_string&lt;char&gt; &gt; &gt; &gt; &gt; &gt;}}\n</code></pre>\n\n<p>And of course you can go further by making the box a <code>void *</code> and casting as needed, or possibly by hiding it behind a simpler C++ type and a pimpl (I haven't tried that approach to see if it works). But if you put C++ (or anything else) directly in an ObjC ivar, it has to store the name of the type for the runtime.</p>\n"}], "owner": {"reputation": 11, "user_id": 11292568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2973ab712baecb898fefa1b38775153e?s=128&d=identicon&r=PG&f=1", "display_name": "s274700", "link": "https://stackoverflow.com/users/11292568/s274700"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554131098, "creation_date": 1554127543, "question_id": 55457093, "link": "https://stackoverflow.com/questions/55457093/why-does-objective-c-include-the-full-c-type-name-as-a-string-in-the-binary-c", "title": "Why does Objective-C include the full C++ type name as a string in the binary? Can I get rid of it?", "body": "<p>When I add a C++ type as an Objective-C ivar, I get the full name of that type included, as a string:</p>\n\n<pre><code>@interface Test {\n    std::vector&lt;int&gt; _vector;\n    std::unordered_map&lt;int, std::vector&lt;std::string&gt;&gt; _map;\n}\n\n@end\n\n@implementation Test\n@end\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>.L__unnamed_2:\n        .asciz  \"_vector\"\n\n.L__unnamed_3:\n        .asciz  \"{vector&lt;int, std::allocator&lt;int&gt; &gt;=\\\"_M_impl\\\"{_Vector_impl=\\\"_M_start\\\"^i\\\"_M_finish\\\"^i\\\"_M_end_of_storage\\\"^i}}\"\n\n__objc_ivar_offset_value_Test._vector:\n        .long   0                       # 0x0\n\n.L__unnamed_4:\n        .asciz  \"_map\"\n\n.L__unnamed_5:\n        .asciz  \"{unordered_map&lt;int, std::vector&lt;std::__cxx11::basic_string&lt;char&gt;, std::allocator&lt;std::__cxx11::basic_string&lt;char&gt; &gt; &gt;, std::hash&lt;int&gt;, std::equal_to&lt;int&gt;, std::allocator&lt;std::pair&lt;const int, std::vector&lt;std::__cxx11::basic_string&lt;char&gt;, std::allocator&lt;std::__cxx11::basic_string&lt;char&gt; &gt; &gt; &gt; &gt; &gt;=\\\"_M_h\\\"{_Hashtable&lt;int, std::pair&lt;const int, std::vector&lt;std::__cxx11::basic_string&lt;char&gt;, std::allocator&lt;std::__cxx11::basic_string&lt;char&gt; &gt; &gt; &gt;, std::allocator&lt;std::pair&lt;const int, std::vector&lt;std::__cxx11::basic_string&lt;char&gt;, std::allocator&lt;std::__cxx11::basic_string&lt;char&gt; &gt; &gt; &gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;int&gt;, std::hash&lt;int&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;false, false, true&gt; &gt;=\\\"_M_buckets\\\"^^{_Hash_node_base}\\\"_M_bucket_count\\\"Q\\\"_M_before_begin\\\"{_Hash_node_base=\\\"_M_nxt\\\"^{_Hash_node_base}}\\\"_M_element_count\\\"Q\\\"_M_rehash_policy\\\"{_Prime_rehash_policy=\\\"_M_max_load_factor\\\"f\\\"_M_next_resize\\\"Q}\\\"_M_single_bucket\\\"^{_Hash_node_base}}}\"\n</code></pre>\n\n<p><a href=\"https://godbolt.org/z/ygE-GZ\" rel=\"nofollow noreferrer\">Compiler Explorer link</a>\u2014note that I'm using <code>-Os</code>.</p>\n\n<p>The latter one, using <code>std::unordered_map</code>, is about 1kb. What is the purpose of this, and can I get rid of it?</p>\n"}, {"tags": ["ios", "objective-c", "uibutton"], "comments": [{"owner": {"reputation": 1974, "user_id": 2168557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58198fee5117e461741cf98ff9a8a9e6?s=128&d=identicon&r=PG", "display_name": "yusuke024", "link": "https://stackoverflow.com/users/2168557/yusuke024"}, "edited": false, "score": 0, "creation_date": 1554138453, "post_id": 55456893, "comment_id": 97633150, "body": "The code you posted is the solution to the OP\u2019s first question: \u201cPut an outline around a regular iOS button?\u201d"}, {"owner": {"reputation": 1974, "user_id": 2168557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58198fee5117e461741cf98ff9a8a9e6?s=128&d=identicon&r=PG", "display_name": "yusuke024", "link": "https://stackoverflow.com/users/2168557/yusuke024"}, "edited": false, "score": 0, "creation_date": 1554138919, "post_id": 55456893, "comment_id": 97633385, "body": "What kind of circle do you want to add? Just a static circle or ripple effect animation?"}, {"owner": {"reputation": 3, "user_id": 10891487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50016b720c856ce612e0f58b01012b5d?s=128&d=identicon&r=PG&f=1", "display_name": "Student", "link": "https://stackoverflow.com/users/10891487/student"}, "reply_to_user": {"reputation": 1974, "user_id": 2168557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58198fee5117e461741cf98ff9a8a9e6?s=128&d=identicon&r=PG", "display_name": "yusuke024", "link": "https://stackoverflow.com/users/2168557/yusuke024"}, "edited": false, "score": 0, "creation_date": 1554144727, "post_id": 55456893, "comment_id": 97635982, "body": "@yusuke024 Just a static circle"}], "owner": {"reputation": 3, "user_id": 10891487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50016b720c856ce612e0f58b01012b5d?s=128&d=identicon&r=PG&f=1", "display_name": "Student", "link": "https://stackoverflow.com/users/10891487/student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554126986, "creation_date": 1554126986, "question_id": 55456893, "link": "https://stackoverflow.com/questions/55456893/subclass-uibutton-to-show-visual-feedback-when-tapped", "title": "Subclass UIButton to show visual feedback when tapped", "body": "<p>I am trying to implement a <a href=\"https://stackoverflow.com/questions/25019813/how-to-make-ios-button-give-visual-feedback-when-pressed\">solution</a> I found in another thread but I fail. In interface builder I used the custom class ZFRippleButton for the UIButton class and I changed the type to Custom and State Config to Highlighted. This is the code I used: </p>\n\n<pre><code>@interface ZFRippleButton : UIButton\n\n- (id)initWithCoder:(NSCoder *)aDecoder;\n\n@end\n\n@implementation ZFRippleButton\n\n- (id)initWithCoder:(NSCoder *)aDecoder {\n    self = [super initWithCoder:aDecoder];\n    if (self) {\n        [self makeBorder];\n    }\n    return self;\n}\n\n- (void)makeBorder {\n    self.layer.cornerRadius = 10.0;\n    self.layer.borderColor = [[UIColor blueColor] CGColor];\n    self.layer.borderWidth = 1.0;\n}\n\n@end\n</code></pre>\n\n<p>My purpose is to get a circle with a custom color when I tap the button. What am I doing wrong?</p>\n"}, {"tags": ["c++", "objective-c", "segmentation-fault", "objective-c++", "nspasteboard"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554130074, "post_id": 55456810, "comment_id": 97628594, "body": "What is the class of <code>buffer</code> at runtime?"}, {"owner": {"reputation": 33, "user_id": 9183372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3Nrl.png?s=128&g=1", "display_name": "hello_chenchen", "link": "https://stackoverflow.com/users/9183372/hello-chenchen"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554173780, "post_id": 55456810, "comment_id": 97644121, "body": "NSData, NSString or id. there are some code segment below"}, {"owner": {"reputation": 33, "user_id": 9183372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3Nrl.png?s=128&g=1", "display_name": "hello_chenchen", "link": "https://stackoverflow.com/users/9183372/hello-chenchen"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554173833, "post_id": 55456810, "comment_id": 97644138, "body": "<code>NSData* cbData = [pasteboard dataForType:type]; NSString* strData = [pasteboard stringForType:type]; id fileData = [pasteboard propertyListForType:type];</code>"}, {"owner": {"reputation": 33, "user_id": 9183372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3Nrl.png?s=128&g=1", "display_name": "hello_chenchen", "link": "https://stackoverflow.com/users/9183372/hello-chenchen"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554174040, "post_id": 55456810, "comment_id": 97644190, "body": "<code>int ClipboardMac::convertClipboardData(NSData* data, id fileData, NSString* strData, NSString* type, NSString* name) { &#47;** code **&#47; if([NSFilenamesPboardType isEqualToString:type]) {     cout &lt;&lt; &quot;convertClipboardData: NSFilenamesPboardType&quot; &lt;&lt; endl;     clipboardData.type = EN_CB_FILES;     clipboardData.bufferData = data; } else if([NSStringPboardType isEqualToString:type]) {     cout &lt;&lt; &quot;convertClipboardData: NSStringPboardType&quot; &lt;&lt; endl;     clipboardData.type = EN_CB_TEXT;     clipboardData.bufferData = strData; } &#47;** code **&#47; }</code>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554198851, "post_id": 55456810, "comment_id": 97654237, "body": "Post the code in the question please."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1554198865, "post_id": 55456810, "comment_id": 97654248, "body": "What is the actual class of <code>buffer</code> at runtime, what is <code>[buffer class]</code>? Is it possible to reproduce the issue in a small test project? What is your code supposed to do?"}], "owner": {"reputation": 33, "user_id": 9183372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R3Nrl.png?s=128&g=1", "display_name": "hello_chenchen", "link": "https://stackoverflow.com/users/9183372/hello-chenchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554174182, "creation_date": 1554126755, "last_edit_date": 1554174182, "question_id": 55456810, "link": "https://stackoverflow.com/questions/55456810/objective-c-nspasteboard-whats-difference-with-setdatafortype-setstrin", "title": "Objective-c: NSPasteboard: what&#39;s difference with - setData:forType:, - setString:forType: and - setPropertyList:forType:", "body": "<p>i want to know what's difference with - setData:forType: - setPropertyList:forType: and - setString:forType: in NSPasteboard api?\n<a href=\"https://developer.apple.com/documentation/appkit/nspasteboard?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/appkit/nspasteboard?language=objc</a></p>\n\n<p>when i notice the description of setPropertyList and setString: <code>This method invokes setData:forType: to perform the write.</code></p>\n\n<p>and when I write String content to pasteboard, I have to use setString and can't use setData. If i use setData, there will be an exception:</p>\n\n<p><code>*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Calling -setData:forType: on NSPasteboard or NSPasteboardItem with object of type __NSSetM instead of NSData.'\n*** First throw call stack:\n(\n        0   CoreFoundation                      0x00007fffcd4a92cb __exceptionPreprocess + 171\n        1   libobjc.A.dylib                     0x00007fffe22da48d objc_exception_throw + 48\n        2   CoreFoundation                      0x00007fffcd527c3d +[NSException raise:format:] + 205\n        3   AppKit                              0x00007fffcb1af86d -[NSPasteboard _setData:forType:index:usesPboardTypes:] + 287\n        4   libclipboard.so                     0x000000010b36b9ea _ZN5cclib9ccsys_api12ClipboardMac16setClipboardDataEPNS0_13ClipboardDataE + 394</code></p>\n\n<p>And there is another more serious bug, when i try to set a file to the pasteboard, i use setData method. and will also receive the same exception.</p>\n\n<p>Is there any example to set all pasteboard type to pasteboard?</p>\n\n<p>my code in github: <a href=\"https://github.com/hello-chenchen/cc-clipboard/blob/master/src/clipboard_mac.mm\" rel=\"nofollow noreferrer\">https://github.com/hello-chenchen/cc-clipboard/blob/master/src/clipboard_mac.mm</a>\n<a href=\"https://github.com/hello-chenchen/cc-clipboard/blob/master/test/test_mac.mm\" rel=\"nofollow noreferrer\">https://github.com/hello-chenchen/cc-clipboard/blob/master/test/test_mac.mm</a></p>\n\n<p>the code segment:</p>\n\n<pre><code>int ClipboardMac::setClipboardData(ClipboardData* data){\n        //FIXED: fix setString failed error\n        [pasteboard clearContents]\n\n        if(EN_CB_FILES == data-&gt;type) {\n            id buffer = (id)data-&gt;bufferData;\n            cout &lt;&lt; \"setClipboardData: NSFilenamesPboardType\" &lt;&lt; endl;\n            //ERROR: Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Could not write property list with invalid format to the pasteboard.  The object contains non-property list types: __NSSetM'\n            return [pasteboard setPropertyList:buffer forType:NSFilenamesPboardType];\n        } else if(EN_CB_TEXT == data-&gt;type) {\n            NSString* buffer = (NSString*)data-&gt;bufferData;\n            cout &lt;&lt; \"setClipboardData: NSStringPboardType\" &lt;&lt; endl;\n            return [pasteboard setString:buffer forType:NSStringPboardType];\n        } else {\n            cout &lt;&lt; \"setClipboardData: NSRTFDPboardType\" &lt;&lt; endl;\n            return CC_INVALID;\n        }\n    }\n</code></pre>\n\n<p>the full error log:\n<a href=\"https://github.com/hello-chenchen/cc-clipboard/blob/master/log/error.log\" rel=\"nofollow noreferrer\">https://github.com/hello-chenchen/cc-clipboard/blob/master/log/error.log</a></p>\n\n<p>i don't know if i need to malloc the full length of the buffer which i get from the pasteboard by call dataForType method. because when i copy a file type, the buffer is always the same in size(i forget about the read size, maybe 148?).</p>\n\n<p>for the full code:<a href=\"https://github.com/hello-chenchen/cc-clipboard\" rel=\"nofollow noreferrer\">https://github.com/hello-chenchen/cc-clipboard</a></p>\n\n<p>i am so confused, thanks a lot.</p>\n"}, {"tags": ["objective-c", "swift", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 9509431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfc99f08c7b39bb35e782517d4c22f5?s=128&d=identicon&r=PG&f=1", "display_name": "abankitbaid", "link": "https://stackoverflow.com/users/9509431/abankitbaid"}, "edited": false, "score": 2, "creation_date": 1554128062, "post_id": 55455280, "comment_id": 97627396, "body": "Thanks for the help, But i have some registered callbacks with this, and those have 3 functions, based on the activity in &quot;callNativeEvent&quot; function it will call any of those three functions. Now i have three functions to call, and all three definitions are defined, i cannot change that, But my registered callback can call anyone from that, from there i want to return something to my react native callback.  <b>I tried another option to send a notification from swift file, But its giving error. self.bridge.eventDispatcher()?.sendAppEvent(withName: eventName, body: &quot;testing&quot;)</b>"}, {"owner": {"reputation": 617, "user_id": 6717123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLAHu.jpg?s=128&g=1", "display_name": "Gev", "link": "https://stackoverflow.com/users/6717123/gev"}, "reply_to_user": {"reputation": 87, "user_id": 9509431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfc99f08c7b39bb35e782517d4c22f5?s=128&d=identicon&r=PG&f=1", "display_name": "abankitbaid", "link": "https://stackoverflow.com/users/9509431/abankitbaid"}, "edited": false, "score": 1, "creation_date": 1554130315, "post_id": 55455280, "comment_id": 97628729, "body": "You can try to extend from <code>RCTEventEmitter</code> and call  <code>self.sendEvent(withName: &quot;yourEventName&quot;, body: [&quot;key&quot;: &quot;value&quot;])</code>. In that case you need to override <code>supportedEvents</code> and return an array of event names ( [&quot;yourEventName&quot;])  And in JS  <code>import { NativeModules, NativeEventEmitter } from &#39;&#39;react-native;  const myModuleEvt = new NativeEventEmitter(NativeModules.MyModule);  myModuleEvt.addListener(&#39;yourEventName&#39;, (data) =&gt; console.log(data))</code>  You can find an ObjectiveC example here <a href=\"https://facebook.github.io/react-native/docs/native-modules-ios#sending-events-to-javascript\" rel=\"nofollow noreferrer\">facebook.github.io/react-native/docs/&hellip;</a>"}], "tags": [], "owner": {"reputation": 617, "user_id": 6717123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLAHu.jpg?s=128&g=1", "display_name": "Gev", "link": "https://stackoverflow.com/users/6717123/gev"}, "is_accepted": false, "score": 3, "last_activity_date": 1554122147, "creation_date": 1554122147, "answer_id": 55455280, "question_id": 55453240, "link": "https://stackoverflow.com/questions/55453240/how-to-call-swift-native-function-from-react-native/55455280#55455280", "title": "How to call swift native function from react native?", "body": "<p>For the first create Swift class (e.g <code>YourModule.swift</code>)</p>\n\n<pre><code>//\n//  YourModule.swift\n//\n\n@objc(YourModule)\nclass YourModule: NSObject {\n\n  @objc func callNativeEvent(callback:RCTResponseSenderBlock) \n-&gt; Void {\n\n   // Here you can do your work and pass an object to the callback function.\n  // You can save assign a `callback` to the class property (e.g self.eventCallback = callback)\n// and invoke that self.eventCallback after the asynchronous code ol somewhere else\n  NSObject *obj = [[NSObject alloc] init]; // your object here\n   callback([NSNull(), obj]);\n   // or if you want to return an error\n   // callback([\"Error calling NativeEvent\", NSNull()]);\n\n  // I'm not sure that RCTResponseSenderBlock works the same as in previous react-native versions. Maybe now you can pass an Object instead of an Array.\n  }\n}\n</code></pre>\n\n<p>Create a Bridge file (e.g. <code>YourModuleBridge.m</code>)</p>\n\n<pre><code>//\n//  YourModuleBridge.m\n//\n\n#import &lt;Foundation/Foundation.h&gt;\n#import \"UIKit/UIKit.h\"\n\n#import &lt;React/RCTBridgeModule.h&gt;\n\n\n@interface RCT_EXTERN_MODULE(YourModule, NSObject)\n\nRCT_EXTERN_METHOD(callNativeEvent:(RCTResponseSenderBlock)callback);\n\n@end\n</code></pre>\n\n<p>Also, you need <code>Bridging-Header</code> file if it doesn't exist in your project.</p>\n\n<pre><code>//\n//  YourModule-Bridging-Header.h\n//\n\n#ifndef YourModule_Bridging_Header_h\n#define YourModule_Bridging_Header_h\n\n#if __has_include(\"RCTBridgeModule.h\")\n#import \"RCTBridgeModule.h\"\n#else\n#import &lt;React/RCTBridgeModule.h&gt;\n#endif\n\n#endif /* YourModule_Bridging_Header_h */\n</code></pre>\n\n<p>And from JS</p>\n\n<pre><code>import { NativeModules } from 'react-native';\n\nconst YourModule = NativeModules.YourModule;\n\n...\n\nYourModule.callNativeEvent((error, response) =&gt; {\n  console.log('Error', error, 'Response', response);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 521, "user_id": 4051322, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100000674450872/picture?type=large", "display_name": "L&#234; V\u0169 Huy", "link": "https://stackoverflow.com/users/4051322/l%c3%aa-v%c5%a9-huy"}, "edited": false, "score": 0, "creation_date": 1601917788, "post_id": 62084340, "comment_id": 113549063, "body": "I got error:  <code>TypeError: null is not an object (evaluating &#39;SwiftComponentManager.passValueFromReact&#39;)</code>"}, {"owner": {"reputation": 521, "user_id": 4051322, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100000674450872/picture?type=large", "display_name": "L&#234; V\u0169 Huy", "link": "https://stackoverflow.com/users/4051322/l%c3%aa-v%c5%a9-huy"}, "edited": false, "score": 0, "creation_date": 1601956142, "post_id": 62084340, "comment_id": 113559931, "body": "It works, i forget to check m file in <code>Target Membership</code> in right panel"}], "tags": [], "owner": {"reputation": 5940, "user_id": 1705540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A5E1v.jpg?s=128&g=1", "display_name": "Jogendra.Com", "link": "https://stackoverflow.com/users/1705540/jogendra-com"}, "is_accepted": false, "score": 1, "last_activity_date": 1590749835, "creation_date": 1590749835, "answer_id": 62084340, "question_id": 55453240, "link": "https://stackoverflow.com/questions/55453240/how-to-call-swift-native-function-from-react-native/62084340#62084340", "title": "How to call swift native function from react native?", "body": "<h2>In iOS Project Create 2 Files</h2>\n\n<pre><code>SwiftComponentManager.swift and SwiftComponentManager.m  create these 2 files. \n</code></pre>\n\n<p><strong>SwiftComponentManager.swift</strong> -></p>\n\n<pre><code>@objc(SwiftComponentManager)\nclass SwiftComponentManager: NSObject {\n\n@objc func passValueFromReact(_ value : String) {\n    debugPrint(\" Print Here \\(value)\")\n }\n}\n</code></pre>\n\n<p><strong>In SwiftComponentManager.m</strong> </p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n#import \"React/RCTBridgeModule.h\"\n@interface RCT_EXTERN_MODULE(SwiftComponentManager, NSObject)\n\n  RCT_EXTERN_METHOD(passValueFromReact:(NSString *)value) //Here exported your swift function for React Native \n@end\n</code></pre>\n\n<h2>Here start work in React-Native project</h2>\n\n<p><strong>Now How will call this Swift function in React Native.</strong></p>\n\n<p>Import your SwiftComponent in <strong>React JS</strong> file </p>\n\n<pre><code>const { SwiftComponentManager } = NativeModules\n</code></pre>\n\n<p>Now call your function with value where you want in JS file</p>\n\n<pre><code>SwiftComponentManager.passValueFromReact(\"Hello World\")\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 9509431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfc99f08c7b39bb35e782517d4c22f5?s=128&d=identicon&r=PG&f=1", "display_name": "abankitbaid", "link": "https://stackoverflow.com/users/9509431/abankitbaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2944, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1590749933, "creation_date": 1554115420, "last_edit_date": 1590749933, "question_id": 55453240, "link": "https://stackoverflow.com/questions/55453240/how-to-call-swift-native-function-from-react-native", "title": "How to call swift native function from react native?", "body": "<p>I have a swift class, which i am exposing to react-native, inside that i have a function that is also exposed to react-native. Now when react native calls that function it does a lot of this internally, but after some point of time it returns an object.</p>\n\n<p>Now it will call a specific function that will get the object. I cannot change the parameter to that function. But i have another function, to which i want to return to react native. How can i do it.</p>\n\n<pre><code>  func AckCallback(response:APIResponse) -&gt; Void\n  {\n    print(response)  \n\n  }\n</code></pre>\n\n<p>for this function I cannot change the paremeter, becaused it had been used a lot of places, But I want to return that response from this function to react-native. If anybody know this issue, please let me know.</p>\n\n<pre><code>  @objc func sendEvent(_ response: APIResponse, callback: (NSObject) -&gt; ()) \n-&gt; Void {\n\n    callback( [[\n      \"responseCode\" : \"Working\",\n      ]] as NSObject)\n\n  }\n</code></pre>\n\n<p>I just want to know how to use this sendEvent inside the AckCallback, or is there any other way to send that **</p>\n\n<blockquote>\n  <p>response: APIResponse</p>\n</blockquote>\n\n<p>**</p>\n\n<p>to react-native.</p>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1554114494, "post_id": 55452920, "comment_id": 97619560, "body": "that has to be at some other place, not in the shown code snippet."}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1554114589, "post_id": 55452920, "comment_id": 97619620, "body": "Where? I have added the function declaration to the header file as well. Could you explain, please? I am coming from the Swift world and never had such an error."}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1554121494, "post_id": 55452920, "comment_id": 97623421, "body": "your url is <code>&quot;http:&#47;&#47;api.openweathermap.org&#47;data&#47;2.5&#47;weather&quot;</code> and after you add your app_id. it will like this way --&gt; <code>http:&#47;&#47;api.openweathermap.org&#47;data&#47;2.5&#47;weatherYOURAPPID</code>"}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "edited": false, "score": 0, "creation_date": 1554121627, "post_id": 55452920, "comment_id": 97623502, "body": "That is not the case I am using NSURLComponents query on the base URL and the params. There seems to be a weird XCode bug as the error seems to went away without touching it."}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1554121629, "post_id": 55452920, "comment_id": 97623504, "body": "to connect params with url you need to combine with <code>?</code> , <code>&amp;</code> , etc.. like <code>http:&#47;&#47;api.openweathermap.org&#47;data&#47;2.5&#47;weather?APP_ID</code>"}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1554121717, "post_id": 55452920, "comment_id": 97623564, "body": "@NiravKotecha please look at my comment above. NSURLComponents is adding the ? as the params is used as a query. It works as I am getting the JSON back from the Weather API :)"}], "answers": [{"comments": [{"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "edited": false, "score": 1, "creation_date": 1554121382, "post_id": 55454990, "comment_id": 97623348, "body": "I don&#39;t have any, as you can see I am strictly inserting the variable names to the function call. Weirdly enough my error has gone away automatically and it works after cleaning my project. Maybe it was just an XCode 10 Bug"}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "reply_to_user": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "edited": false, "score": 2, "creation_date": 1554136117, "post_id": 55454990, "comment_id": 97632049, "body": "@ADProgress that is the lesson to be learnt: before spending any time googling or even asking a question &quot;clean&quot; the xcode project. The IDE is sooo unbearably buggy :D"}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 1, "creation_date": 1554138085, "post_id": 55454990, "comment_id": 97632949, "body": "@luk2302 So true. Often obvious solutions come last to our minds."}], "tags": [], "owner": {"reputation": 689, "user_id": 5186503, "user_type": "registered", "profile_image": "https://graph.facebook.com/889005087802688/picture?type=large", "display_name": "Anton Novoselov", "link": "https://stackoverflow.com/users/5186503/anton-novoselov"}, "is_accepted": true, "score": 2, "last_activity_date": 1554121211, "creation_date": 1554121211, "answer_id": 55454990, "question_id": 55452920, "link": "https://stackoverflow.com/questions/55452920/objective-c-editor-placeholder-in-source-file-when-calling-the-method/55454990#55454990", "title": "Objective C Editor Placeholder in source file when calling the method", "body": "<p>It's not due to Swift or Obj-c language. You have placeholder in your code. Check you don't have any gray placeholders like this:\n<a href=\"https://i.stack.imgur.com/lior5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lior5.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 55454990, "answer_count": 1, "score": 2, "last_activity_date": 1554138233, "creation_date": 1554114347, "last_edit_date": 1554138233, "question_id": 55452920, "link": "https://stackoverflow.com/questions/55452920/objective-c-editor-placeholder-in-source-file-when-calling-the-method", "title": "Objective C Editor Placeholder in source file when calling the method", "body": "<p>I am trying to translate one of my Swift apps into Objective C in order to learn that syntax as Swift apparently is not enough these days, unfortunately.</p>\n\n<p>This is my\u00a0method declaration:</p>\n\n<pre><code>- (void)getWeatherDataFromURL:(NSString *)url params:(NSString *)parameters {\n\n    NSString *urlString = [NSString stringWithFormat:@\"%@%@\", url, parameters];\n    NSLog(@\"GETTING DATA FROM %@\", urlString);\n\n}\n</code></pre>\n\n<p>I have the following variables declared in the ViewController:</p>\n\n<pre><code>NSString *WEATHER_URL = @\"http://api.openweathermap.org/data/2.5/weather\";\nNSString *APP_ID = @\"my_secret_api_key\";\n</code></pre>\n\n<p>It seems to be accepted by XCode however the problem arises when I am trying to call the function:</p>\n\n<pre><code>[self getWeatherDataFromURL:WEATHER_URL params:APP_ID];\n</code></pre>\n\n<p>I get the following error:\n<strong>Editor placeholder in source file</strong></p>\n\n<p>I have searched StackOverflow however all answers came up with Swift and not Obj-C</p>\n\n<p>Apparently CMD + SHIFT + K did the magic. Xcode is buggy and it turns out there was nothing wrong with the code. However, I believe that the answer below will help other programmers having a problem like on the screenshot. </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1554100527, "post_id": 55449181, "comment_id": 97612847, "body": "See if there is anything left out under Build Phases."}, {"owner": {"reputation": 384, "user_id": 4814368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda95a3593b3daa4fb842705066ee1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Tailor", "link": "https://stackoverflow.com/users/4814368/keyur-tailor"}, "edited": false, "score": 0, "creation_date": 1554103868, "post_id": 55449181, "comment_id": 97614240, "body": "Is the framework listed under &quot;Link Binaries With Libraries&quot; section of &quot;Build Phases&quot; in project navigator?"}, {"owner": {"reputation": 705, "user_id": 8388812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kY0S6.png?s=128&g=1", "display_name": "irongirl", "link": "https://stackoverflow.com/users/8388812/irongirl"}, "edited": false, "score": 0, "creation_date": 1554103944, "post_id": 55449181, "comment_id": 97614277, "body": "yes already added it inside."}, {"owner": {"reputation": 705, "user_id": 8388812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kY0S6.png?s=128&g=1", "display_name": "irongirl", "link": "https://stackoverflow.com/users/8388812/irongirl"}, "edited": false, "score": 0, "creation_date": 1554104322, "post_id": 55449181, "comment_id": 97614452, "body": "sometimes it shows this semantic error sometimes it shows module &#39;googlemobileads&#39; not found"}, {"owner": {"reputation": 1501, "user_id": 4693817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZnOg.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/4693817/anand"}, "edited": false, "score": 0, "creation_date": 1554133948, "post_id": 55449181, "comment_id": 97630960, "body": "pls check Framework search path in build settings."}], "owner": {"reputation": 705, "user_id": 8388812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/kY0S6.png?s=128&g=1", "display_name": "irongirl", "link": "https://stackoverflow.com/users/8388812/irongirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554100121, "creation_date": 1554100121, "question_id": 55449181, "link": "https://stackoverflow.com/questions/55449181/semantic-issue-in-ios", "title": "Semantic issue in iOS", "body": "<p><a href=\"https://i.stack.imgur.com/EE8Z2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EE8Z2.png\" alt=\"enter image description here\"></a></p>\n\n<p>As seen in the picture, i am receiving a semantic issue on GADMobileAds. Previously i have imported Google Mobile Ads framework manually by putting it in the root of the app then put it in the framework folder. This solved the error of 'Framework google mobile ads not found'.</p>\n\n<p>However after trying to delete derived data and clean build app, i tried to build it, it showed me this error instead. Please help!</p>\n"}, {"tags": ["ios", "objective-c", "swift", "macos"], "comments": [{"owner": {"reputation": 9247, "user_id": 1244597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d927eef460680a02a1d551e390f80ee?s=128&d=identicon&r=PG&f=1", "display_name": "AamirR", "link": "https://stackoverflow.com/users/1244597/aamirr"}, "edited": false, "score": 1, "creation_date": 1554100209, "post_id": 55449144, "comment_id": 97612742, "body": "The Array approach is correct, apple does not introduces file extensions, file extensions are introduced by new applications, using MIME types a user or application on macOS can associate file extension with an application"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1554101011, "post_id": 55449144, "comment_id": 97613061, "body": "I recommend you start by learning about UTIs from <a href=\"https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/understanding_utis/understand_utis_intro/understand_utis_intro.html\" rel=\"nofollow noreferrer\">Uniform Type Identifiers Overview</a>. There&#39;s probably some API that lets you list all registered UTIs, from which you can then access all registered extensions. I can&#39;t seem to find it right now though"}], "owner": {"reputation": 124, "user_id": 11004868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a0afcf49cece109582490be034569e?s=128&d=identicon&r=PG&f=1", "display_name": "jarvis12", "link": "https://stackoverflow.com/users/11004868/jarvis12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554100083, "creation_date": 1554099887, "last_edit_date": 1554100083, "question_id": 55449144, "link": "https://stackoverflow.com/questions/55449144/how-to-get-all-types-of-file-extensions-in-array", "title": "How to get all types of file extensions in array?", "body": "<p>How to get all types of file extensions which supports the <code>macOS</code> or <code>iOS</code>?<br>\nI am statically defining the <code>extensions</code> as below, but I don't wanna do in this way.\n If Apple introduces the new <code>extension</code> i should get dynamically all the <code>extensions</code>. how to achieve this?</p>\n\n<pre><code>let fileExtensions = [\"png\", \"jpg\", \"gif\",\"jpeg\",\"tif\",\"mp4\",\"mkv\",\"mov\", \"zip\" ,\"txz\"]\n</code></pre>\n\n<p>Any Suggestions?</p>\n\n<p>Thanks in Advance !!</p>\n"}, {"tags": ["objective-c", "macos", "animation", "calayer", "caanimation"], "answers": [{"tags": [], "owner": {"reputation": 3508, "user_id": 1207902, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xOpZl.jpg?s=128&g=1", "display_name": "Dima Deplov", "link": "https://stackoverflow.com/users/1207902/dima-deplov"}, "is_accepted": true, "score": 0, "last_activity_date": 1554809881, "creation_date": 1554809881, "answer_id": 55591974, "question_id": 55446940, "link": "https://stackoverflow.com/questions/55446940/mac-os-caanimation-seamlessly-update-the-animation/55591974#55591974", "title": "Mac OS: CAAnimation - seamlessly update the animation", "body": "<p>I was able to finish this task and I will give a general answer to this question.</p>\n\n<p>If you want to update your current ongoing animation, but you're in the middle of it, you need to replace current animation with animation that will end current animation on the right place. </p>\n\n<p>For example, in my question there is an animation that have <code>fromValue</code> and <code>byValue</code>. It means, that if you'll start the same animation with different duration, it will change its current rotation state to <code>fromValue</code>.</p>\n\n<p>To fix this behaviour, we need to add animation that will finish our animation from current rotation state to <code>fromValue</code>. To get your current rotation, or other property you need to animate, we have <a href=\"https://developer.apple.com/documentation/quartzcore/calayer/1410744-presentationlayer?language=objc\" rel=\"nofollow noreferrer\"><code>presentationLayer</code></a> of CALayer. We can set the values from it to our \"closing\" animation.</p>\n\n<p>How we can know when our closing animation is ended? The answer is <a href=\"https://developer.apple.com/documentation/quartzcore/caanimationdelegate?language=objc\" rel=\"nofollow noreferrer\">CAAnimationDelegate</a>. Just set up a delegate to the closing animation and when it's done - add another animation with different parameters. You can seamlessly update your animation now.</p>\n\n<p>Keep in mind that closing animation time must be a fraction of your original animation time to make things smooth. You can calculate it like this: <code>(end state - current state) * original duration</code>.</p>\n"}], "owner": {"reputation": 3508, "user_id": 1207902, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xOpZl.jpg?s=128&g=1", "display_name": "Dima Deplov", "link": "https://stackoverflow.com/users/1207902/dima-deplov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 55591974, "answer_count": 1, "score": 0, "last_activity_date": 1554809881, "creation_date": 1554081029, "last_edit_date": 1592644375, "question_id": 55446940, "link": "https://stackoverflow.com/questions/55446940/mac-os-caanimation-seamlessly-update-the-animation", "title": "Mac OS: CAAnimation - seamlessly update the animation", "body": "<p>I'm making custom UI element and I need to animate it. The problem is that at some point I need to update my animation, but when I update it, there is a visible lag/gap between current animation position (state) and new animation.</p>\n<p>In other words, when I'm applying new animation, this animation starts from 0 position (state), while the actual (visible) state of the previous animation is different.</p>\n<p>Here is example: (<a href=\"https://imgur.com/LeasVtg\" rel=\"nofollow noreferrer\">link</a>)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;blockquote class=\"imgur-embed-pub\" lang=\"en\" data-id=\"a/q3NA31f\"&gt;&lt;a href=\"//imgur.com/q3NA31f\"&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;script async src=\"//s.imgur.com/min/embed.js\" charset=\"utf-8\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Code for animation:</p>\n<pre><code>CABasicAnimation *anim = [CABasicAnimation animationWithKeyPath:@&quot;transform.rotation&quot;];\nanim.duration = time;\nanim.repeatCount = INFINITY;\nanim.fromValue = from;\nanim.byValue = by;\n\n[self.myLayer addAnimation:anim forKey:kActivityAnimationKey];\n</code></pre>\n<p>First applied animation have different time/from/by parameters.</p>\n<p><strong>ANY</strong> advices will be much appreciated, since I stuck on it on two days and tried everything that comes to head by this time.</p>\n"}, {"tags": ["ios", "c", "objective-c", "frameworks", "static-libraries"], "comments": [{"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1554052405, "post_id": 55443193, "comment_id": 97602292, "body": "You want calculations to be performed on the client computer, but you do not want a person with access to the client computer to be able to reverse engineer the calculations? There are some theoretical ways operations can be performed on encrypted data so that the person performing the operations cannot feasibly discern the unencrypted data, but they are likely beyond what you really want to do. What is the real situation here? If the client is going to send results of the calculations back to the server, you cannot trust them."}, {"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 1, "creation_date": 1554052446, "post_id": 55443193, "comment_id": 97602301, "body": "Generally, any calculations that are performed on a client computer should be regarded as exposed to the world, and trying to conceal them is not a feasible goal in most situations. The approaches you describe would result in nuisance to an attacker, but they would be only minor nuisances to experienced attackers and could not be considered secure."}], "answers": [{"comments": [{"owner": {"reputation": 2622, "user_id": 1256663, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9a7f3c3d56209ba3872217b6317b39a9?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1256663/john"}, "edited": false, "score": 0, "creation_date": 1554130095, "post_id": 55446608, "comment_id": 97628605, "body": "Yes, I agree building a server provide the best protection. However, this is not feasible because the calculation has to be performed real-time"}, {"owner": {"reputation": 2961, "user_id": 733168, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/80d591114c80a68aaa1b1992440a5352?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak", "link": "https://stackoverflow.com/users/733168/raunak"}, "reply_to_user": {"reputation": 2622, "user_id": 1256663, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9a7f3c3d56209ba3872217b6317b39a9?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1256663/john"}, "edited": false, "score": 1, "creation_date": 1554187428, "post_id": 55446608, "comment_id": 97647958, "body": "In which case you can go with option 1 but implement the algorithm (secure part) in C and the HTTP calls in Objective C. Then just call your C methods from Obj C. This post will help you: <a href=\"https://stackoverflow.com/questions/6131372/calling-c-from-objective-c\" title=\"calling c from objective c\">stackoverflow.com/questions/6131372/calling-c-from-objective&zwnj;&#8203;-c</a>"}], "tags": [], "owner": {"reputation": 2961, "user_id": 733168, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/80d591114c80a68aaa1b1992440a5352?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak", "link": "https://stackoverflow.com/users/733168/raunak"}, "is_accepted": false, "score": 0, "last_activity_date": 1554077394, "creation_date": 1554077394, "answer_id": 55446608, "question_id": 55443193, "link": "https://stackoverflow.com/questions/55443193/ios-code-protection-c-static-library-or-objective-c-framework/55446608#55446608", "title": "iOS Code Protection - C Static Library or Objective-C Framework?", "body": "<p>As I understand, the deliverable to your client in this context is just the result of the algorithm (and not the actual implementation of the algorithm). Once way to achieve it is by implementing the algorithm on your server (using C, Node.js, Python, etc.) and then expose it via an HTTP/s API. Then from your iOS app/framework/static library, you pass the required parameters as inputs via a HTTP request, perform the computation on your server and return the results.</p>\n"}], "owner": {"reputation": 2622, "user_id": 1256663, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9a7f3c3d56209ba3872217b6317b39a9?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1256663/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554077394, "creation_date": 1554051126, "question_id": 55443193, "link": "https://stackoverflow.com/questions/55443193/ios-code-protection-c-static-library-or-objective-c-framework", "title": "iOS Code Protection - C Static Library or Objective-C Framework?", "body": "<p>I have some calculation algorithms that I need to send to my client for testing. I am asked to prevent my client from reverse engineering the algorithm. I am thinking that I have 2 choices:</p>\n\n<ol>\n<li>Wrapping the calculation in Objective-C framework, in which I\ncould make some HTTPS request to my server periodically, the\nframework will only do calculation if the server allows.</li>\n<li>Wrapping the calculation in C program and compile into .a static\nlibrary. It is a plain C library, so I think will be very difficult\nto make HTTPS request. But I also read that C static library is more\ndifficult to break relative to dynamic framework.</li>\n</ol>\n\n<p>I understand that there are no 100% security, I just want to know in terms of security which option is better? And please also suggest if there are any other ways to secure frameworks / static libraries? </p>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1554048574, "post_id": 55442406, "comment_id": 97601344, "body": "According to the error messages, you&#39;re not linking Apple&#39;s External Accessory library.  (There&#39;s also a problem with a directory that you&#39;ve specified for linking, but that may not be related to the main problem.)"}], "answers": [{"tags": [], "owner": {"reputation": 2961, "user_id": 733168, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/80d591114c80a68aaa1b1992440a5352?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak", "link": "https://stackoverflow.com/users/733168/raunak"}, "is_accepted": false, "score": 0, "last_activity_date": 1554077848, "creation_date": 1554077848, "answer_id": 55446647, "question_id": 55442406, "link": "https://stackoverflow.com/questions/55442406/added-a-library-to-my-existing-project-it-build-successfully-on-simulator-but-ge/55446647#55446647", "title": "Added a library to my existing project it build successfully on simulator but get failed on real device, I am unable to run it on device", "body": "<p>You need to understand that the simulator &amp; real devices support different architectures and you need to build your 'PFNModule' as per the architecture of the platform on which you are running.</p>\n\n<p>I recommend you read this article to understand the nuances of problem you're facing: <a href=\"http://iosbrain.com/blog/2017/01/07/the-heartbreak-of-the-xcode-undefined-symbols-for-architecture-xxx-linker-message/\" rel=\"nofollow noreferrer\">http://iosbrain.com/blog/2017/01/07/the-heartbreak-of-the-xcode-undefined-symbols-for-architecture-xxx-linker-message/</a> </p>\n"}], "owner": {"reputation": 101, "user_id": 8537011, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K-1RmZR-7qY/AAAAAAAAAAI/AAAAAAAAAAc/G6rEO0x7A78/photo.jpg?sz=128", "display_name": "shashi Gupta", "link": "https://stackoverflow.com/users/8537011/shashi-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554077848, "creation_date": 1554045735, "question_id": 55442406, "link": "https://stackoverflow.com/questions/55442406/added-a-library-to-my-existing-project-it-build-successfully-on-simulator-but-ge", "title": "Added a library to my existing project it build successfully on simulator but get failed on real device, I am unable to run it on device", "body": "<p>I added a library to my existing Xcode project after that it only build on simulator and fail to build on iPhone giving me error \"Undefined symbols for architecture arm64:\" </p>\n\n<p>Does any one help me on same.</p>\n\n<p>I tried several ways to get rid out of this but unfortunately nothing works. I clear derived data quit Xcode, restart my laptop.</p>\n\n<p>I do one thing while adding my library actually library is old and supports arc enabled no, but my project ARC is enabled So I set a flag value to each file of library like \"-fno-objc-arc\" in Target --> Build phase --> compile sources that make arc enabled false for that particular file. might issue is due to that but I can not able to fix it. </p>\n\n<pre><code>ld: warning: directory not found for option '-L/Users/shashigupta/Git Projects/ClinMd/Common/PNFModule'\nUndefined symbols for architecture arm64:\n  \"_OBJC_CLASS_$_EASession\", referenced from:\n      objc-class-ref in libPNFPenLib.a(PenController.o)\n  \"_OBJC_CLASS_$_EAAccessoryManager\", referenced from:\n      objc-class-ref in libPNFPenLib.a(PenController.o)\n  \"_EAAccessoryDidConnectNotification\", referenced from:\n      -[_PenController initWithCoder:] in libPNFPenLib.a(PenController.o)\n      -[_PenController init] in libPNFPenLib.a(PenController.o)\n      -[_PenController dealloc] in libPNFPenLib.a(PenController.o)\n  \"_EAAccessoryDidDisconnectNotification\", referenced from:\n      -[_PenController initWithCoder:] in libPNFPenLib.a(PenController.o)\n      -[_PenController init] in libPNFPenLib.a(PenController.o)\n      -[_PenController dealloc] in libPNFPenLib.a(PenController.o)\nld: symbol(s) not found for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>it should build successful on real device but only build on simulator.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "bluetooth"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1554032751, "post_id": 55440525, "comment_id": 97597433, "body": "You can only discover BLE peripherals, using Core Bluetooth. Legacy BT peripherals aren&#39;t visible to apps. You can&#39;t get the MAC address for BLE peripherals using Core Bluetooth."}, {"owner": {"reputation": 1, "user_id": 11284673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc40e35e8e04a2fad1bde1a904bee593?s=128&d=identicon&r=PG&f=1", "display_name": "laith alsaqer", "link": "https://stackoverflow.com/users/11284673/laith-alsaqer"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1554033021, "post_id": 55440525, "comment_id": 97597495, "body": "Is there another way?"}, {"owner": {"reputation": 1908, "user_id": 2710476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Zqw3p.jpg?s=128&g=1", "display_name": "Fabio Berger", "link": "https://stackoverflow.com/users/2710476/fabio-berger"}, "edited": false, "score": 0, "creation_date": 1554108656, "post_id": 55440525, "comment_id": 97616554, "body": "For non BLE devices you have to use the External Accessory Framework. It can show you a list of connected devices."}], "owner": {"reputation": 1, "user_id": 11284673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc40e35e8e04a2fad1bde1a904bee593?s=128&d=identicon&r=PG&f=1", "display_name": "laith alsaqer", "link": "https://stackoverflow.com/users/11284673/laith-alsaqer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1554057937, "creation_date": 1554032425, "last_edit_date": 1554057937, "question_id": 55440525, "link": "https://stackoverflow.com/questions/55440525/is-there-a-way-to-category-the-type-of-devices-in-bluetooth-scan-list-and-get-th", "title": "Is there a way to category the type of devices in bluetooth scan list and get the Mac address in Objective C?", "body": "<p>I'm trying to get the devices list from the Bluetooth but not get all the devices (get some of these devices low energy) and not get the Mac address of this devices, there is any way to get all the devices included mobile and hours and headset ....?</p>\n\n<pre><code>mgr = [[CBCentralManager alloc] initWithDelegate:self queue:NULL];\n[mgr scanForPeripheralsWithServices:nil options:nil];\n-(void)centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI {\n\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pL2JQ.jpg\" rel=\"nofollow noreferrer\">I need to show list like this image (Mac addresses and type the device)</a>\n<a href=\"https://i.stack.imgur.com/PvQOD.jpg\" rel=\"nofollow noreferrer\">that's what really show :( </a></p>\n"}, {"tags": ["objective-c", "nsmutablearray", "latitude-longitude", "polyline", "region"], "comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1554045493, "post_id": 55440489, "comment_id": 97600490, "body": "You need to show what you&#39;ve tried, rather than just give the data. To help you try look at <a href=\"https://stackoverflow.com/questions/217578/how-can-i-determine-whether-a-2d-point-is-within-a-polygon\">this question</a>. HTH"}], "answers": [{"tags": [], "owner": {"reputation": 2961, "user_id": 733168, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/80d591114c80a68aaa1b1992440a5352?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak", "link": "https://stackoverflow.com/users/733168/raunak"}, "is_accepted": false, "score": 0, "last_activity_date": 1554079304, "creation_date": 1554079304, "answer_id": 55446797, "question_id": 55440489, "link": "https://stackoverflow.com/questions/55440489/determine-a-provided-lat-long-is-in-the-region-by-list-of-lat-long-in-objective/55446797#55446797", "title": "Determine a provided lat long is in the region by list of lat long in Objective C", "body": "<p>Reverse-geocoding requests take a latitude and longitude value and find a user-readable address. You will need to feed your lat, lon to a reverse-geocoder to determine the address (the country, city part) and determine if it lies within the city of your interest.</p>\n\n<p>You can use the CLGeocoder API to achieve what you want: <a href=\"https://developer.apple.com/documentation/corelocation/clgeocoder\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/corelocation/clgeocoder</a>\nCheck out the discussions here for a similar question: <a href=\"https://stackoverflow.com/questions/21390564/how-to-check-if-lat-long-is-in-the-city-limits\">How to check if lat long is in the city limits</a></p>\n\n<p>Google's geocoding API here: <a href=\"https://developers.google.com/maps/documentation/geocoding/intro\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/geocoding/intro</a></p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 8639694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bsyn0.jpg?s=128&g=1", "display_name": "Serj Kultenko", "link": "https://stackoverflow.com/users/8639694/serj-kultenko"}, "reply_to_user": {"reputation": 722, "user_id": 2727843, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WUG9y.png?s=128&g=1", "display_name": "MahboobiOSDeveloper", "link": "https://stackoverflow.com/users/2727843/mahboobiosdeveloper"}, "edited": false, "score": 0, "creation_date": 1554100086, "post_id": 55446972, "comment_id": 97612703, "body": "PointInRegion is a class in which I included al the code. Just call next code:     CLLocationCoordinate2D point; point.latitude = 23.665219; point.longitude = 90.400023; [PointInRegion checkIfPoint:(CLLocationCoordinate2D)point inRegion: [PointInRegion getAvailableAddress]];"}], "tags": [], "owner": {"reputation": 129, "user_id": 8639694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bsyn0.jpg?s=128&g=1", "display_name": "Serj Kultenko", "link": "https://stackoverflow.com/users/8639694/serj-kultenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1554100420, "last_edit_date": 1554100420, "creation_date": 1554081386, "answer_id": 55446972, "question_id": 55440489, "link": "https://stackoverflow.com/questions/55440489/determine-a-provided-lat-long-is-in-the-region-by-list-of-lat-long-in-objective/55446972#55446972", "title": "Determine a provided lat long is in the region by list of lat long in Objective C", "body": "<p>Your task, as it seems to me, is Point-in-polygon (PIP) problem  [<a href=\"https://en.wikipedia.org/wiki/Point_in_polygon]\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Point_in_polygon]</a></p>\n\n<p>To achieve what you want you could use \"Ray casting algorithm\"</p>\n\n<p>I made pretty quick implementation of this algorithm, so you could start from this</p>\n\n<pre><code>@implementation PointInRegion\n\n+(NSMutableArray*)getAvailableAddress {\n    NSMutableArray* dhakaAvailableAreas=[[NSMutableArray alloc]init];\n    NSDictionary *latLongDict = @{@\"lat\" : @(23.665217), @\"long\":@(90.456556)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.710108), @\"long\":@(90.400022)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.707796), @\"long\":@(90.366647)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.744056), @\"long\":@(90.345334)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.751866), @\"long\":@(90.333149)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.768038), @\"long\":@(23.768038)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.774732), @\"long\":@(90.336199)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.796483), @\"long\":@(90.338031)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.833850), @\"long\":@(90.339256)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.853928), @\"long\":@(90.342309)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.867869), @\"long\":@(90.351460)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.887389), @\"long\":@(90.358176)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.899096), @\"long\":@(90.380142)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.882914), @\"long\":@(90.394773)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.886806), @\"long\":@(90.417956)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.899729), @\"long\":@(90.440122)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.895324), @\"long\":@(90.456267)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.861075), @\"long\":@(90.475134)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.840659), @\"long\":@(90.473056)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.828086), @\"long\":@(90.486782)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.793225), @\"long\":@(90.480572)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.782239), @\"long\":@(90.470264)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.770608), @\"long\":@(90.482614)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.753955), @\"long\":@(90.488093)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.747045), @\"long\":@(90.486714)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.742954), @\"long\":@(90.494262)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.732360), @\"long\":@(90.493535)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.717059), @\"long\":@(90.500136)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.710997), @\"long\":@(90.508137)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.710997), @\"long\":@(90.508137)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.693175), @\"long\":@(90.480623)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.672433), @\"long\":@(90.468799)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.667661), @\"long\":@(90.458352)};\n    [dhakaAvailableAreas addObject:latLongDict];\n\n    return dhakaAvailableAreas;\n}\n\n+ (BOOL)checkIfPoint:(CLLocationCoordinate2D)point inRegion:(NSArray&lt;NSDictionary&lt;NSString *, NSNumber *&gt; *&gt; *)region {\n    int intersectionsCount = 0;\n    for (int i = 1; i &lt; region.count; i++) {\n        double lat1 = region[i - 1][@\"lat\"].doubleValue;\n        double long1 = region[i - 1][@\"long\"].doubleValue;\n        double lat2 = region[i][@\"lat\"].doubleValue;\n        double long2 = region[i][@\"lat\"].doubleValue;\n\n        CLLocationCoordinate2D point1;\n        point1.latitude = lat1;\n        point1.longitude = long1;\n\n        CLLocationCoordinate2D point2;\n        point2.latitude = lat2;\n        point2.longitude = long2;\n\n\n        BOOL intersects = [PointInRegion checkIfHorizontalVectorFromPoint:point intersectsEdge:point1 edgePoint2:point2];\n        if (intersects) {\n            intersectionsCount++;\n        }\n    }\n\n    return intersectionsCount % 2 &gt; 0;\n}\n\n+ (BOOL)checkIfHorizontalVectorFromPoint:(CLLocationCoordinate2D)point intersectsEdge:(CLLocationCoordinate2D)edgePoint1 edgePoint2:(CLLocationCoordinate2D)edgePoint2 {\n    double lat = point.latitude;\n    double longitude = point.longitude;\n\n    double lat1 = edgePoint1.latitude;\n    double long1 = edgePoint1.longitude;\n    double lat2 = edgePoint2.latitude;\n    double long2 = edgePoint2.longitude;\n\n    if ( lat1 - lat2 == 0 ) {\n        // Horizontal line\n        return NO;\n    }\n\n    double x = ((long1 - long2) * lat - (long1 * lat2 - long2 * lat1)) / (lat1 - lat2);\n    if (longitude &lt; x) {\n        // Intersection point lies not on the vector\n        return NO;\n    }\n    double diff1 = lat1 - lat;\n    double diff2 = lat2 - lat;\n    if (fmax(diff1, diff2) &gt; 0 &amp;&amp; fmin(diff1, diff2) &lt; 0) {\n        // Points lie in different sides\n        return YES;\n    }\n    return NO;\n}\n\n@end\n</code></pre>\n\n<p>You can use the code like this:</p>\n\n<pre><code>CLLocationCoordinate2D point;\npoint.latitude = 23.665219;\npoint.longitude = 90.400023;\n[PointInRegion checkIfPoint:(CLLocationCoordinate2D)point inRegion: \n[PointInRegion getAvailableAddress]];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 722, "user_id": 2727843, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WUG9y.png?s=128&g=1", "display_name": "MahboobiOSDeveloper", "link": "https://stackoverflow.com/users/2727843/mahboobiosdeveloper"}, "is_accepted": true, "score": 0, "last_activity_date": 1558592466, "creation_date": 1558592466, "answer_id": 56269117, "question_id": 55440489, "link": "https://stackoverflow.com/questions/55440489/determine-a-provided-lat-long-is-in-the-region-by-list-of-lat-long-in-objective/56269117#56269117", "title": "Determine a provided lat long is in the region by list of lat long in Objective C", "body": "<p>Finally I get a sollution using GMSGeometryContainsLocation, and it works more accurately and fine.</p>\n\n<pre><code>if (GMSGeometryContainsLocation(locationPoint, polygonPath, YES)) {\n    NSLog(@\"locationPoint is in polygonPath.\");\n} else {\n    NSLog(@\"locationPoint is NOT in polygonPath.\");\n}\n</code></pre>\n"}], "owner": {"reputation": 722, "user_id": 2727843, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WUG9y.png?s=128&g=1", "display_name": "MahboobiOSDeveloper", "link": "https://stackoverflow.com/users/2727843/mahboobiosdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 56269117, "answer_count": 3, "score": 0, "last_activity_date": 1558592466, "creation_date": 1554032053, "question_id": 55440489, "link": "https://stackoverflow.com/questions/55440489/determine-a-provided-lat-long-is-in-the-region-by-list-of-lat-long-in-objective", "title": "Determine a provided lat long is in the region by list of lat long in Objective C", "body": "<p>I have a list (NSMutableArray) of latlong surrounding the Dhaka City region. Now want want to determine a provided lat long is in the Dhaka City Region. </p>\n\n<p>My code is provided below: </p>\n\n<pre><code>+(NSMutableArray*)getAvailableAddress {\n    NSMutableArray* dhakaAvailableAreas=[[NSMutableArray alloc]init];\n    NSDictionary *latLongDict = @{@\"lat\" : @(23.665217), @\"long\":@(90.456556)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.710108), @\"long\":@(90.400022)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.707796), @\"long\":@(90.366647)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.744056), @\"long\":@(90.345334)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.751866), @\"long\":@(90.333149)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.768038), @\"long\":@(23.768038)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.774732), @\"long\":@(90.336199)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.796483), @\"long\":@(90.338031)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.833850), @\"long\":@(90.339256)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.853928), @\"long\":@(90.342309)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.867869), @\"long\":@(90.351460)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.887389), @\"long\":@(90.358176)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.899096), @\"long\":@(90.380142)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.882914), @\"long\":@(90.394773)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.886806), @\"long\":@(90.417956)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.899729), @\"long\":@(90.440122)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.895324), @\"long\":@(90.456267)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.861075), @\"long\":@(90.475134)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.840659), @\"long\":@(90.473056)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.828086), @\"long\":@(90.486782)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.793225), @\"long\":@(90.480572)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.782239), @\"long\":@(90.470264)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.770608), @\"long\":@(90.482614)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.753955), @\"long\":@(90.488093)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.747045), @\"long\":@(90.486714)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.742954), @\"long\":@(90.494262)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.732360), @\"long\":@(90.493535)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.717059), @\"long\":@(90.500136)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.710997), @\"long\":@(90.508137)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.710997), @\"long\":@(90.508137)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.693175), @\"long\":@(90.480623)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.672433), @\"long\":@(90.468799)};\n    [dhakaAvailableAreas addObject:latLongDict];\n    latLongDict = @{@\"lat\" : @(23.667661), @\"long\":@(90.458352)};\n    [dhakaAvailableAreas addObject:latLongDict];\n\n    return dhakaAvailableAreas; \n</code></pre>\n\n<p>}</p>\n\n<p>Now if I provide a lat long for example\nlat=23.665219 and long=90400023\nHow can I determine the lat long is in the Dhaka City Region</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "macos"], "answers": [{"tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 2, "last_activity_date": 1554000818, "creation_date": 1554000818, "answer_id": 55437472, "question_id": 55437307, "link": "https://stackoverflow.com/questions/55437307/get-list-of-macos-running-applications-in-cmdtab-order-z-order/55437472#55437472", "title": "Get list of macOS running applications in Cmd+Tab order / Z-order", "body": "<p>I think the best you can do is key-value observe <code>NSWorkspace.sharedWorkspace</code>'s <code>frontmostApplication</code> property over time and maintain the order of the list yourself. Of course, that only works for the apps which have been made frontmost since your app was launched. Other apps would continue to be unordered.</p>\n"}], "owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "closed_date": 1554001701, "accepted_answer_id": 55437472, "answer_count": 1, "score": 0, "last_activity_date": 1554000979, "creation_date": 1553998498, "last_edit_date": 1554000979, "question_id": 55437307, "link": "https://stackoverflow.com/questions/55437307/get-list-of-macos-running-applications-in-cmdtab-order-z-order", "closed_reason": "Duplicate", "title": "Get list of macOS running applications in Cmd+Tab order / Z-order", "body": "<p>In Objective-C on macOS, the method <code>[[NSWorkspace sharedWorkspace] runningApplications]</code> can be used to get a list of the running applications on the system.</p>\n\n<p>However, per <a href=\"https://developer.apple.com/documentation/appkit/nsworkspace/1534059-runningapplications?language=objc\" rel=\"nofollow noreferrer\">Apple's documentation</a>, the order of applications in the returned array is undefined.</p>\n\n<p>I'd like to get a list of the running applications in the order in which they would appear if the user were to press Cmd+Tab; that is, in the \"Z-order\" of how recently each application was the frontmost application.</p>\n\n<p>How can this be done?</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 1112669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/10fb02fee7da5800a12b478404711c08?s=128&d=identicon&r=PG&f=1", "display_name": "ecnepsnai", "link": "https://stackoverflow.com/users/1112669/ecnepsnai"}, "is_accepted": true, "score": 0, "last_activity_date": 1582493150, "last_edit_date": 1582493150, "creation_date": 1553993836, "answer_id": 55436952, "question_id": 55436951, "link": "https://stackoverflow.com/questions/55436951/how-can-i-get-the-remote-address-from-a-cfstream-in-ios/55436952#55436952", "title": "How can I get the remote address from a CFStream in iOS?", "body": "<p>You can get the file descriptor (which Apple calls the \"Native Handle\") and with that use your typical POSIX networking commands to get the address:</p>\n\n<p><strong>Get the file descriptor from the stream:</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>CFDataRef handleData = (CFDataRef)CFReadStreamCopyProperty((__bridge CFReadStreamRef) inputStream, kCFStreamPropertySocketNativeHandle);\nlong length = CFDataGetLength(handleData);\nuint8_t * buffer = malloc(length);\nCFDataGetBytes(handleData, CFRangeMake(0, length), buffer);\nint sock_fd = (int)*buffer;\n</code></pre>\n\n<p><strong>Get the remote address for that file descriptor:</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>struct sockaddr_storage addr;\nsocklen_t addr_len = sizeof(addr);\ngetpeername(socket, (struct sockaddr *)&amp;addr, &amp;addr_len);\nNSString * remoteAddr;\nif (addr.ss_family == AF_INET) {\n    char addressString[INET_ADDRSTRLEN];\n    inet_ntop(AF_INET, &amp;((struct sockaddr_in *)&amp;addr)-&gt;sin_addr, addressString, INET_ADDRSTRLEN);\n    remoteAddr = [[NSString alloc] initWithUTF8String:addressString];\n} else if (addr.ss_family == AF_INET6) {\n    char addressString[INET6_ADDRSTRLEN];\n    inet_ntop(AF_INET6, &amp;((struct sockaddr_in6 *)&amp;addr)-&gt;sin6_addr, addressString, INET6_ADDRSTRLEN);\n    remoteAddr = [[NSString alloc] initWithUTF8String:addressString];\n}\nfree(buffer);\n\n// Now you have remoteAddr which will be a\n// string representation of a IPv4 or IPv6 address!\nNSLog(@\"Remote Address: %@\", remoteAddr);\n</code></pre>\n"}], "owner": {"reputation": 1548, "user_id": 1112669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/10fb02fee7da5800a12b478404711c08?s=128&d=identicon&r=PG&f=1", "display_name": "ecnepsnai", "link": "https://stackoverflow.com/users/1112669/ecnepsnai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 55436952, "answer_count": 1, "score": 0, "last_activity_date": 1582493150, "creation_date": 1553993836, "question_id": 55436951, "link": "https://stackoverflow.com/questions/55436951/how-can-i-get-the-remote-address-from-a-cfstream-in-ios", "title": "How can I get the remote address from a CFStream in iOS?", "body": "<p>I am connecting to a hostname using CFStreams in my iOS app like:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>CFStreamCreatePairWithSocketToHost(NULL, (__bridge CFStringRef)host, port, &amp;readStream, &amp;writeStream);\n\noutputStream = (__bridge NSOutputStream *)writeStream;\ninputStream = (__bridge NSInputStream *)readStream;\n</code></pre>\n\n<p>But I want to know how I can get the remote IP address of <code>host</code> from the stream?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1553967211, "post_id": 55433939, "comment_id": 97585446, "body": "related: <a href=\"https://stackoverflow.com/questions/28950718/do-comments-get-translated-to-machine-code-c\" title=\"do comments get translated to machine code c\">stackoverflow.com/questions/28950718/&hellip;</a>, also <a href=\"https://stackoverflow.com/questions/34112322/in-which-step-of-compilation-are-comments-removed\" title=\"in which step of compilation are comments removed\">stackoverflow.com/questions/34112322/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "is_accepted": true, "score": 3, "last_activity_date": 1553967815, "last_edit_date": 1553967815, "creation_date": 1553966881, "answer_id": 55433957, "question_id": 55433939, "link": "https://stackoverflow.com/questions/55433939/do-comments-get-stripped-out-of-executable-objective-c/55433957#55433957", "title": "Do comments get stripped out of executable Objective-C", "body": "<p>Comments are completely ignored by compilation (depending on compiler and language they are either removed completely or replaced by a single space) and won't affect your program in any way.</p>\n\n<p>The same is true for most programming languages and most compilers (exceptions usually being special directives hidden inside comments).</p>\n\n<p>Comments might slow down the compilation process in a very small way.</p>\n\n<p>Your next question might be why replacing comments by a single space. Consider the following:</p>\n\n<pre><code> NSString *token;\n NSString *to/* comment */ken;\n</code></pre>\n\n<p>The second one is invalid code since it will be translated to:</p>\n\n<pre><code>NSString *to ken;\n</code></pre>\n"}], "owner": {"reputation": 674, "user_id": 3843123, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7083cf8cf8c1db704df3fc5b8fb00fa7?s=128&d=identicon&r=PG&f=1", "display_name": "isJulian00", "link": "https://stackoverflow.com/users/3843123/isjulian00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55433957, "answer_count": 1, "score": 1, "last_activity_date": 1553967815, "creation_date": 1553966741, "last_edit_date": 1553966855, "question_id": 55433939, "link": "https://stackoverflow.com/questions/55433939/do-comments-get-stripped-out-of-executable-objective-c", "title": "Do comments get stripped out of executable Objective-C", "body": "<p>if we have a lot of comments in our iOS app does it slow down the program or do they get stripped out during compilation ?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "notifications"], "comments": [{"owner": {"reputation": 974, "user_id": 1889814, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9b2f68d7ecf20fd9118bdb20588e46b8?s=128&d=identicon&r=PG", "display_name": "StefanS", "link": "https://stackoverflow.com/users/1889814/stefans"}, "edited": false, "score": 0, "creation_date": 1553974547, "post_id": 55433869, "comment_id": 97587386, "body": "this google search &quot;how to detect when lid closed macos&quot; led me to this <a href=\"https://unix.stackexchange.com/a/22606/169711\">unix.stackexchange.com/a/22606/169711</a> and this led me to this: <a href=\"https://developer.apple.com/library/archive/qa/qa1340/_index.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/qa/qa1340/_index.html</a>"}, {"owner": {"reputation": 974, "user_id": 1889814, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9b2f68d7ecf20fd9118bdb20588e46b8?s=128&d=identicon&r=PG", "display_name": "StefanS", "link": "https://stackoverflow.com/users/1889814/stefans"}, "edited": false, "score": 1, "creation_date": 1553975003, "post_id": 55433869, "comment_id": 97587489, "body": "<a href=\"https://stackoverflow.com/questions/9247710/what-event-is-fired-when-mac-is-back-from-sleep\" title=\"what event is fired when mac is back from sleep\">stackoverflow.com/questions/9247710/&hellip;</a>"}], "owner": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "closed_date": 1554125796, "answer_count": 0, "score": 0, "last_activity_date": 1554406365, "creation_date": 1553966288, "last_edit_date": 1554406365, "question_id": 55433869, "link": "https://stackoverflow.com/questions/55433869/detect-in-macos-opening-closure-laptopss-lid", "closed_reason": "Duplicate", "title": "Detect in MacOS opening/closure laptops&#39;s lid", "body": "<p>How could I detect using code lid's opening or closure ?</p>\n\n<p>Is there any kind of notification? For MacOS environment. Any code snippet would be appreciated.</p>\n\n<p>I am editing this question because I am not interested in notifications sent when computer goes to sleep. I can force sleep from Apple menu. I would like to know notification when user closes/opens laptop lid.</p>\n\n<p>Is anyone able to help me please</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["ios", "objective-c", "parallel-processing"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1553978184, "post_id": 55433319, "comment_id": 97588259, "body": "Most likely <code>fillLabelsWithLiveData</code> completes asynchronously (but you haven&#39;t shown that code) so you are putting the new values into your labels before they have been set. You need to pass a completion handler block to <code>fillLabelsWithLiveData</code> so that you can set the labels once it has finished"}], "answers": [{"tags": [], "owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1553969684, "creation_date": 1553969684, "answer_id": 55434361, "question_id": 55433319, "link": "https://stackoverflow.com/questions/55433319/objective-c-asynchronous-loading-of-some-data-i-want-to-update-afterwards-la/55434361#55434361", "title": "Objective C: Asynchronous loading of some data -&gt; I want to update afterwards labels", "body": "<p>You say that your code isn't working, but you don't say what the actual behaviour is, so I would like to write about how I would debug the code in order to see where the problem is.</p>\n\n<p>First, I would put a few log statements into the code, in order to see what it actually does.</p>\n\n<pre><code>NSLog(@\"MyViewController: Starting to load...\");\nself.firstLabel.text = @\"Loading...\";\nself.secondLabel.text = @\"Loading...\";\n\nUIActivityIndicatorView *indicator = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhite];\n[indicator setColor:[UIColor colorWithHexString:@\"3375cb\"]];\nindicator.center = self.view.center;\n[self.view addSubview:indicator];\n[indicator startAnimating];\n\ndispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n    NSLog(@\"MyViewController: Starting to load on background queue...\");\n    [self.myInstance fillLabelsWithLiveData];\n    NSLog(@\"MyViewController: Done loading on background queue...\");\n\n    dispatch_async(dispatch_get_main_queue(), ^{\n        NSLog(@\"MyViewController: Updating main queue UI\");\n        [indicator stopAnimating];\n        self.firstLabel.text = myInstance.someText;\n        self.secondLabel.text = myInstance.someMoreText;\n        if(myInstance.myBool){\n            NSLog(@\"MyViewController: Will redraw...\");\n            //redraw\n        } else {\n            NSLog(@\"MyViewController: Will not redraw (myInstance.myBool is NO)\");\n        }\n    });\n});\n</code></pre>\n\n<p>When you do this you will see where the problem lies exactly. (Note that in tutorials all over the internet, the log messages are often ultra short. Like <code>NSLog(@\"loading...\");</code>. The problem is that if you have many logs in your app and every class logs like this, the log messages become useless. What's worse, you may see that \"loading...\" is printed on the console and assume that your code is called, when in fact some other place in the program prints \"loading...\". So I always add some context to <code>NSLog</code> calls. (In fact, I never use <code>NSLog</code>, I use custom logging libraries that also print file names and line numbers.))</p>\n\n<p>Just a few comments on your code.</p>\n\n<h2>centering the indicator</h2>\n\n<pre><code>indicator.center = self.view.center; // (1a)\n</code></pre>\n\n<p>This does not center the indicator in self.view</p>\n\n<pre><code>indicator.center = centerOf(self.view.bounds); // (1b)\n</code></pre>\n\n<p>does. You have to define centerOf:</p>\n\n<pre><code>CGPoint centerOf(CGRect rect) {\n    CGFloat x = CGRectGetMidX(rect);\n    CGFloat y = CGRectGetMidY(rect);\n    return CGPointMake(x, y);\n}\n</code></pre>\n\n<p>(1a) works sufficiently well though if <code>self.view.frame.origin</code> is sufficiently near to (0, 0).</p>\n\n<h2>check if your code hangs</h2>\n\n<p>If you add the logs and look into the console, there are a few things that can go wrong:</p>\n\n<ul>\n<li>The new log lines do not show up at all => in this case, you should check why your code isn't called at all</li>\n<li>The new log lines are printed up to some point, e.g. \"Done loading on background queue\" is never printed to the console. => In this case, the code that is in-between hangs, obviously.</li>\n<li>The logs look good, but the indicator doesn't show up. 2 options:\n\n<ul>\n<li>everything is so fast that you just don't see the indicator.</li>\n<li>the loading on the background queue takes some time, but the indicator is not visible => is the superview of the indicator visible? Use the \"inspect view hierarchy\" feature of Xcode to check what is going on. Where is your view? Add some code like <code>self.view.backgroundColor = [UIColor orangeColor];</code> to see if it makes a difference.</li>\n</ul></li>\n<li>The logs look good, but the labels did not update.\n\n<ul>\n<li>if this is the case, I cannot help you anymore. You didn't post the real code. You posted a simplified version of it, and the bug hides behind that simplification.</li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553969684, "creation_date": 1553962176, "last_edit_date": 1553967747, "question_id": 55433319, "link": "https://stackoverflow.com/questions/55433319/objective-c-asynchronous-loading-of-some-data-i-want-to-update-afterwards-la", "title": "Objective C: Asynchronous loading of some data -&gt; I want to update afterwards labels", "body": "<p>I am a bit confused. I have written a class, that calculates some stuff and makes an internet query. Afer this query some NSString properties of this class are updated with the resulting values.</p>\n\n<p>In my view controller, I create an instance of this class. I want to show in the labels waiting for text \"Loading...\" until the data has arrived. As soon as the data is ready, I want to replace the text. But how do I do that? And depending on if one property, I also want to redraw one view of this view controller. Furthermore I don't want to block my UI.</p>\n\n<p>This so far hasn't worked...</p>\n\n<pre><code>self.firstLabel.text = @\"Loading...\";\nself.secondLabel.text = @\"Loading...\";\n\nUIActivityIndicatorView *indicator = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhite];\n[indicator setColor:[UIColor colorWithHexString:@\"3375cb\"]];\nindicator.center = self.view.center;\n[self.view addSubview:indicator];\n[indicator startAnimating];\n\ndispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n    [self.myInstance fillLabelsWithLiveData];\n\n    dispatch_async(dispatch_get_main_queue(), ^{\n\n        [indicator stopAnimating];\n        self.firstLabel.text = myInstance.someText;\n        self.secondLabel.text = myInstance.someMoreText;\n        if(myInstance.myBool){\n            //redraw\n        }\n    });\n});\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uiview", "uicolor"], "comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 1, "creation_date": 1553950561, "post_id": 55431472, "comment_id": 97580987, "body": "Did you try to change  assign with  strong ?  255.0 to  255.0 / 255.0"}, {"owner": {"reputation": 15039, "user_id": 777861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0a8add4df8f2840ec57bdbd29bcb050d?s=128&d=identicon&r=PG", "display_name": "Andrei Herford", "link": "https://stackoverflow.com/users/777861/andrei-herford"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1553951275, "post_id": 55431472, "comment_id": 97581184, "body": "Thanks, this indeed solved the problem. But why is it OK to use assign with <code>[UIColor blueColor]</code> while it fails with <code>colorWithRed:green:blue:alpha</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "is_accepted": true, "score": 4, "last_activity_date": 1553951975, "creation_date": 1553951975, "answer_id": 55431843, "question_id": 55431472, "link": "https://stackoverflow.com/questions/55431472/why-does-using-uicolor-colorwithredgredbluealpha-lead-to-exc-bad-access/55431843#55431843", "title": "Why does using [UIColor colorWithRed:gred:blue:alpha] lead to EXC_BAD_ACCESS?", "body": "<p>When you use <code>[UIColor blueColor]</code>, you don't create the object; you get a reference to it and something else manages its life cycle.</p>\n\n<p>When you init a new <code>UIColor</code> object, you're responsible for making sure it is still valid when used.  \"assign\" doesn't increase the object's reference count; \"strong\" does.</p>\n"}], "owner": {"reputation": 15039, "user_id": 777861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0a8add4df8f2840ec57bdbd29bcb050d?s=128&d=identicon&r=PG", "display_name": "Andrei Herford", "link": "https://stackoverflow.com/users/777861/andrei-herford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 55431843, "answer_count": 1, "score": 0, "last_activity_date": 1553951975, "creation_date": 1553949178, "question_id": 55431472, "link": "https://stackoverflow.com/questions/55431472/why-does-using-uicolor-colorwithredgredbluealpha-lead-to-exc-bad-access", "title": "Why does using [UIColor colorWithRed:gred:blue:alpha] lead to EXC_BAD_ACCESS?", "body": "<p>I have create a custom <code>UIView</code> subclass which should draw a simple dashed line. To define the color of the line I have added an inspectable property <code>lineColor</code></p>\n\n<pre><code>// LineView.h\n@interface LineView : UIView\n@property (nonatomic,assign) IBInspectable UIColor *lineColor;\n@end\n\n// LineView.m\n- (id)initWithFrame:(CGRect)frame{\n    if((self = [super initWithFrame:frame])){\n        [self setupView];\n    }\n    return self;\n}\n\n- (id)initWithCoder:(NSCoder *)aDecoder{\n    if((self = [super initWithCoder:aDecoder])){\n        [self setupView];\n    }\n    return self;\n}\n\n\n- (void)setupView {\n    self.lineColor = [UIColor colorWithRed:0 green:0 blue:255.0 alpha:1.0];\n    //self.lineColor = [UIColor blueColor];  &lt;-- No Problem\n\n    [self refreshLine];\n}\n\n- (void)layoutSubviews {\n    [super layoutSubviews];\n    [self refreshLine];\n}\n\n- (void)refreshLine {    \n    CGColorRef cgLineColor = self.lineColor.CGColor;  // &lt;--CRASH\n    ...\n}\n</code></pre>\n\n<ul>\n<li>If a color is assigned in the Interface Builder everything works fine</li>\n<li>If a default color like <code>[UIColor blueColor]</code> is assigned everything works fine</li>\n<li>If a custom color like <code>[UIColor colorWithRed:0 green:0 blue:255.0 alpha:1.0]</code> the app crashes with <code>EXC_BAD_ACCESS</code></li>\n</ul>\n\n<blockquote>\n  <p>[UIDeviceRGBColor respondsToSelector:]: message sent to deallocated instance 0x6000022d08c0</p>\n</blockquote>\n\n<p><strong>Why is this?</strong></p>\n"}, {"tags": ["ios", "objective-c", "pdf", "wkwebview", "wkwebviewconfiguration"], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 5186503, "user_type": "registered", "profile_image": "https://graph.facebook.com/889005087802688/picture?type=large", "display_name": "Anton Novoselov", "link": "https://stackoverflow.com/users/5186503/anton-novoselov"}, "is_accepted": true, "score": 3, "last_activity_date": 1553938168, "creation_date": 1553938168, "answer_id": 55430003, "question_id": 55429800, "link": "https://stackoverflow.com/questions/55429800/opening-pdf-files-in-wkwebview-objective-c/55430003#55430003", "title": "Opening PDF files in WKWebView objective c", "body": "<p>You don't need to do this:</p>\n\n<pre><code>TextToBeDisplayed = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;err];\n</code></pre>\n\n<p>Also in this method you'll get not NSURLRequest, but some kind of text from inside your PDF file trying to transform to NSURLRequest</p>\n\n<pre><code>NSURLRequest *nsrequest=[NSURLRequest requestWithURL:[NSURL URLWithString:TextToBeDisplayed]];\n</code></pre>\n\n<p>All you need is this:</p>\n\n<pre><code>    NSString *filePath;\n    filePath = [[NSBundle mainBundle] pathForResource:@\"Sample1\" ofType:@\"pdf\"];\n\n    WKWebViewConfiguration *theConfiguration = [[WKWebViewConfiguration alloc] init];\n    WKWebView *webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:theConfiguration];\n    NSURLRequest *nsrequest=[NSURLRequest requestWithURL:[NSURL fileURLWithPath:filePath]];\n\n\n    [webView setBackgroundColor:[UIColor whiteColor]];\n\n    [webView loadRequest:nsrequest];\n    [self.view addSubview:webView];\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2157, "favorite_count": 0, "accepted_answer_id": 55430003, "answer_count": 1, "score": 1, "last_activity_date": 1553938168, "creation_date": 1553936525, "question_id": 55429800, "link": "https://stackoverflow.com/questions/55429800/opening-pdf-files-in-wkwebview-objective-c", "title": "Opening PDF files in WKWebView objective c", "body": "<p>I'm having troubles visualizing the content of pdf files using WKWebView and objective c. Sorry, I'm not familiar with Swift. Here is the code, but it shows a blank page and it returns the following error: </p>\n\n<p><strong>Error Domain=NSCocoaErrorDomain Code=261 \"The file \u201cSample1.pdf\u201d couldn\u2019t be opened using text encoding Unicode (UTF-8).</strong></p>\n\n<pre><code>NSString *filePath;\nfilePath = [[NSBundle mainBundle] pathForResource:@\"Sample1\" ofType:@\"pdf\"];\n\nNSString *TextToBeDisplayed;\nNSError *err = nil;\nTextToBeDisplayed = [NSString stringWithContentsOfFile:filePath encoding:NSUTF8StringEncoding error:&amp;err];\n\nif (TextToBeDisplayed == nil)\n{\n    NSLog(@\"Case 1\");\n    NSLog(@\"Error reading %@: %@\", filePath, err);\n}\nelse\n{\n    NSLog(@\"Case 2\");\n    NSLog(@\"File found\");\n}\n\nif(TextToBeDisplayed != nil || [TextToBeDisplayed isEqualToString:@\"\"])\n{\n    NSLog(@\"Case 3\");\n\n    WKWebViewConfiguration *theConfiguration = [[WKWebViewConfiguration alloc] init];\n    WKWebView *webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:theConfiguration];\n    NSURLRequest *nsrequest=[NSURLRequest requestWithURL:[NSURL URLWithString:TextToBeDisplayed]];\n\n    [webView setBackgroundColor:[UIColor whiteColor]];\n\n    [webView loadRequest:nsrequest];\n    [self.view addSubview:webView];\n    //[InstructionsTextView addSubview:webView];\n}\nelse\n{\n    NSLog(@\"Case 4\");\n    NSLog(@\"Error\");\n    //Error Domain=NSCocoaErrorDomain Code=261 \"The file \u201cSample1.pdf\u201d couldn\u2019t be opened using text encoding Unicode (UTF-8).\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode10"], "comments": [{"owner": {"reputation": 1023, "user_id": 3552298, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8540fb02a16712af1b873b8bd8b6b318?s=128&d=identicon&r=PG&f=1", "display_name": "sureshprasanna70", "link": "https://stackoverflow.com/users/3552298/sureshprasanna70"}, "edited": false, "score": 0, "creation_date": 1553935850, "post_id": 55429650, "comment_id": 97577559, "body": "Your post doesn&#39;t describe what have you done. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> for more details on how to ask questions on SO"}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1553936751, "post_id": 55429650, "comment_id": 97577724, "body": "This type of question with vague error messages without refering to your codes is hard for anyone to debug. Good luck bro."}, {"owner": {"reputation": 1, "user_id": 3758621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ecf5948393fff0a4639daa01f1f52a?s=128&d=identicon&r=PG&f=1", "display_name": "zZz", "link": "https://stackoverflow.com/users/3758621/zzz"}, "edited": false, "score": 0, "creation_date": 1553942928, "post_id": 55429650, "comment_id": 97579132, "body": "I got a device with iOS9 to debug\uff0cafter I lunched the app\uff0cmaybe a few minutes later\uff0cit will crash\u3002Output message is\uff1a Assertion failed: (!space-&gt;is_singleton), function color_space_dealloc, file /BuildRoot/Library/Caches/com.apple.xbs/Sources/Quartz2D/Qua&zwnj;&#8203;rtz2D-1033.4/CoreGra&zwnj;&#8203;phics/ColorSpaces/co&zwnj;&#8203;lor-space.c, line 102."}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1554072436, "post_id": 55429650, "comment_id": 97607228, "body": "There was a bug with Xcode 10.0 building the image catalog for iOS 9, related to color spaces, but I thought that had been fixed in 10.1.  Your first crash is something doing UIKit work on a background thread; that could in turn cause crashes on other threads when those threads are not the real culprit, so I would first try to see if you are doing anything related to a UIActivityIndicatorView on a background thread and fix that.  But your assertion failure could still be the issue.  Does this only happen on 9.0 and 9.1, with 9.2 being OK (a hallmark of the 10.0 image catalog issue)?"}], "answers": [{"tags": [], "owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "is_accepted": false, "score": 0, "last_activity_date": 1553936391, "creation_date": 1553936391, "answer_id": 55429778, "question_id": 55429650, "link": "https://stackoverflow.com/questions/55429650/crash-on-ios9-when-i-use-xcode10/55429778#55429778", "title": "Crash on iOS9 when I use xcode10", "body": "<p>It seems there is a bug somewhere in your code. Looks like it happens when cleaning up an autorelease pool, so tough for you. \"Only happens in iOS 9\" could be coincidence, or you used a function that is not available in iOS 9. Happy debugging. I'd look where your code uses an UIActivityIndicatorViewArtworkItem.</p>\n"}], "owner": {"reputation": 1, "user_id": 3758621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20ecf5948393fff0a4639daa01f1f52a?s=128&d=identicon&r=PG&f=1", "display_name": "zZz", "link": "https://stackoverflow.com/users/3758621/zzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553943116, "creation_date": 1553935176, "last_edit_date": 1553943116, "question_id": 55429650, "link": "https://stackoverflow.com/questions/55429650/crash-on-ios9-when-i-use-xcode10", "title": "Crash on iOS9 when I use xcode10", "body": "<p>Recently, I received many crash message in iOS9. My Xcode version is 10.1 (10B61), The error stack is like this\uff1a</p>\n\n<p>libsystem_kernel.dylib  __pthread_kill + 8</p>\n\n<p>1 libsystem_pthread.dylib   pthread_kill + 112</p>\n\n<p>2 libsystem_c.dylib abort + 140</p>\n\n<p>3 libsystem_c.dylib basename + 0</p>\n\n<p>4 CoreGraphics  _color_space_get_md5_digest</p>\n\n<p>5 CoreFoundation    CFRelease + 256</p>\n\n<p>6 CoreGraphics  _image_provider_finalize + 144</p>\n\n<p>7 CoreFoundation    CFRelease + 256</p>\n\n<p>8 CoreGraphics  _image_finalize + 88</p>\n\n<p>9 CoreFoundation    CFRelease + 256</p>\n\n<p>10 UIKit    -[UIImage dealloc] + 96</p>\n\n<p>11 CoreFoundation   -[__NSArrayM dealloc] + 152</p>\n\n<p>12 UIKit    -[_UIActivityIndicatorViewArtworkItem setImages:] + 80</p>\n\n<p>13 CoreFoundation   ___NSCacheValueRelease + 188</p>\n\n<p>14 libcache.dylib   __value_entry_remove + 116</p>\n\n<p>15 libcache.dylib   __entry_evict + 136</p>\n\n<p>16 libcache.dylib   __evict_last + 104</p>\n\n<p>17 libcache.dylib   __cache_enforce_limits + 96</p>\n\n<p>18 libcache.dylib   ____cache_handle_memory_pressure_event_block_invoke + 88</p>\n\n<p>19 libdispatch.dylib    __dispatch_call_block_and_release + 24</p>\n\n<p>20 libdispatch.dylib    __dispatch_client_callout + 16</p>\n\n<p>21 libdispatch.dylib    __dispatch_root_queue_drain + 2140</p>\n\n<p>22 libdispatch.dylib    __dispatch_worker_thread3 + 112</p>\n\n<p>23 libsystem_pthread.dylib  _pthread_wqthread + 1092</p>\n\n<p>and</p>\n\n<p>0 libsystem_kernel.dylib    __pthread_kill + 8</p>\n\n<p>1 libsystem_pthread.dylib   pthread_kill + 112</p>\n\n<p>2 libsystem_c.dylib abort + 140</p>\n\n<p>3 libsystem_c.dylib basename + 0</p>\n\n<p>4 CoreGraphics  _CGCMSTransformRelease</p>\n\n<p>5 CoreFoundation    CFRelease + 256</p>\n\n<p>6 CoreGraphics  _color_finalize + 24</p>\n\n<p>7 CoreFoundation    CFRelease + 256</p>\n\n<p>8 UIKit -[UIDeviceRGBColor dealloc] + 40</p>\n\n<p>9 libobjc.A.dylib   (anonymous namespace)::AutoreleasePoolPage::pop(void*) + 508</p>\n\n<p>10 CoreFoundation   _CFAutoreleasePoolPop + 28</p>\n\n<p>11 CoreFoundation   ___CFRunLoopRun + 1636</p>\n\n<p>12 CoreFoundation   CFRunLoopRunSpecific + 384</p>\n\n<p>13 GraphicsServices GSEventRunModal + 180</p>\n\n<p>14 UIKit    UIApplicationMain + 204</p>\n\n<p>15 pro  main (main.m:19)</p>\n\n<p>16 libdyld.dylib    _start + 4</p>\n\n<p>It\u2019s only crash on iOS9\uff0cdoes anyone have a similar problem?</p>\n\n<p>I got a device with iOS9 to debug\uff0cafter I lunched the app\uff0cmaybe a few minutes later\uff0cit will crash\u3002Output message is\uff1a Assertion failed: (!space->is_singleton), function color_space_dealloc, file /BuildRoot/Library/Caches/com.apple.xbs/Sources/Quartz2D/Quartz2D-1033.4/CoreGraphics/ColorSpaces/color-space.c, line 102.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "nsattributedstring"], "comments": [{"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1553930374, "post_id": 55428825, "comment_id": 97576455, "body": "can you try the code in this <a href=\"https://stackoverflow.com/a/16047902/4061501\">answer</a>?"}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "reply_to_user": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1553930491, "post_id": 55428825, "comment_id": 97576478, "body": "I tried it and NO go.  I got the same warnings.  Thanks"}, {"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1553930739, "post_id": 55428825, "comment_id": 97576528, "body": "Are you using custom class for that label?"}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "reply_to_user": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1553930966, "post_id": 55428825, "comment_id": 97576565, "body": "I am creating them trough code and then added them as a subView.  The view that I am adding them to is a view that also adds an overlay view on my camera.  Problem is I don&#39;t remember doing anything and now it doesn&#39;t work when it did before"}, {"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1553931207, "post_id": 55428825, "comment_id": 97576606, "body": "is that UILabel? or did you create custom class for UILabel?"}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "reply_to_user": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1553931269, "post_id": 55428825, "comment_id": 97576626, "body": "it is a UILabel"}, {"owner": {"reputation": 664, "user_id": 5823450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e363696b8f80b438afae40b4a339ec8?s=128&d=identicon&r=PG&f=1", "display_name": "TyR", "link": "https://stackoverflow.com/users/5823450/tyr"}, "edited": false, "score": 0, "creation_date": 1553967800, "post_id": 55428825, "comment_id": 97585611, "body": "I would recommend profiling the code in Instruments (command-i) and use the \u201cZombies\u201d instrument."}], "owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553931141, "creation_date": 1553927386, "last_edit_date": 1553931141, "question_id": 55428825, "link": "https://stackoverflow.com/questions/55428825/how-can-i-get-my-attributed-string-to-work-again", "title": "How can I get my attributed string to work again", "body": "<p>I have an app in which I was using the following code to create an outlined text for my labels.</p>\n\n<pre><code>self.label1.attributedText = [[NSAttributedString alloc] initWithString:fourthString attributes:@{NSStrokeColorAttributeName:[UIColor blackColor],NSForegroundColorAttributeName:[UIColor whiteColor],NSStrokeWidthAttributeName:@-2.0}];\n</code></pre>\n\n<p>All of the sudden it stopped working with the warning\nThread 1: EXC_BAD_ACCESS (code=2, address=0x16b5c7e50)\nand could not execute support code to read Objective-C class data in the process. This may reduce the quality of type information available.</p>\n\n<p>If I change it to</p>\n\n<pre><code>self.label2.text = fourthString:\n</code></pre>\n\n<p>it works fine.  What happened</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "aws-api-gateway"], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 5477981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlvvU.jpg?s=128&g=1", "display_name": "motivus", "link": "https://stackoverflow.com/users/5477981/motivus"}, "edited": false, "score": 0, "creation_date": 1553905219, "post_id": 55426936, "comment_id": 97573043, "body": "Thank you. I guess I don&#39;t know the answer to that question... but I can say the only headers I&#39;m importing to my ViewController are UIKit and AWSMobileClient. I just quickly added AWSCore, compiled, and ran.. and the breakpoint for <code>result</code> appears the same way. I will RTFM... :)"}, {"owner": {"reputation": 203, "user_id": 5477981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlvvU.jpg?s=128&g=1", "display_name": "motivus", "link": "https://stackoverflow.com/users/5477981/motivus"}, "edited": false, "score": 0, "creation_date": 1553912409, "post_id": 55426936, "comment_id": 97573966, "body": "I&#39;m pretty sure I&#39;ve configured my project correctly and this all comes down to understanding Swift. I followed an AWS API Gateway tutorial for creating a REST API. I verified that it works, then I generated an iOS Swift SDK and followed the directions to use that in my simple iOS application. (Though it has Amplify in the project name I am <b>not</b> using Amplify.) I&#39;m invoking the REST API and I can see (via Cloudwatch) that it&#39;s successfully returning the result to the Client. So this post is just my attempt to access the corresponding Object."}], "tags": [], "owner": {"reputation": 134, "user_id": 3418123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H8BjZ.jpg?s=128&g=1", "display_name": "Graphics Factory", "link": "https://stackoverflow.com/users/3418123/graphics-factory"}, "is_accepted": false, "score": 0, "last_activity_date": 1553904755, "creation_date": 1553904755, "answer_id": 55426936, "question_id": 55426903, "link": "https://stackoverflow.com/questions/55426903/how-do-i-see-contents-of-this-swift-class-object-in-xcode-after-breakpoint/55426936#55426936", "title": "How do I see contents of this Swift class object in Xcode after breakpoint?", "body": "<p>I would suggest going over the docs here...\n<a href=\"https://cocoapods.org/pods/AWSCore#getting-started-with-swift\" rel=\"nofollow noreferrer\">https://cocoapods.org/pods/AWSCore#getting-started-with-swift</a></p>\n\n<p>Did you import appropriate headers?</p>\n\n<p>Hope this points you in the right direction.</p>\n"}, {"comments": [{"owner": {"reputation": 203, "user_id": 5477981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlvvU.jpg?s=128&g=1", "display_name": "motivus", "link": "https://stackoverflow.com/users/5477981/motivus"}, "edited": false, "score": 0, "creation_date": 1553909574, "post_id": 55427039, "comment_id": 97573613, "body": "Hmm. I didn&#39;t know about lldb until now... or know that there was a waiting cursor for me in the debug console... so thank you! And I can see that your example comes from <a href=\"https://www.objc.io/issues/19-debugging/lldb-debugging/\" rel=\"nofollow noreferrer\">here</a>. But I don&#39;t understand that example because all it does it print the string. And <code>po result</code> and <code>p result</code> don&#39;t seem to show me anything new. I just added a new screenshot above."}], "tags": [], "owner": {"reputation": 3051, "user_id": 3369207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/940986d9c03f36b1c673c91db86d3233?s=128&d=identicon&r=PG", "display_name": "Franklin", "link": "https://stackoverflow.com/users/3369207/franklin"}, "is_accepted": false, "score": 0, "last_activity_date": 1553905978, "creation_date": 1553905978, "answer_id": 55427039, "question_id": 55426903, "link": "https://stackoverflow.com/questions/55426903/how-do-i-see-contents-of-this-swift-class-object-in-xcode-after-breakpoint/55427039#55427039", "title": "How do I see contents of this Swift class object in Xcode after breakpoint?", "body": "<p>use lldb command po to print the object.</p>\n\n<pre><code>(lldb) po @\"lunar\"\nlunar\n(lldb) p @\"lunar\"\n(NSString *) $13 = 0x00007fdb9d0003b0 @\"lunar\"\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 5477981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlvvU.jpg?s=128&g=1", "display_name": "motivus", "link": "https://stackoverflow.com/users/5477981/motivus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1553997624, "creation_date": 1553904405, "last_edit_date": 1553997624, "question_id": 55426903, "link": "https://stackoverflow.com/questions/55426903/how-do-i-see-contents-of-this-swift-class-object-in-xcode-after-breakpoint", "title": "How do I see contents of this Swift class object in Xcode after breakpoint?", "body": "<p>I'm new to both Xcode and Swift (...and serious Swift programming) and am hoping someone can help me figure out how to view / access the values of this class object.</p>\n\n<p>I have this code in my ViewController.swift for invoking my REST API (via AWS API Gateway) and am attempting to print <code>result</code> to the console. Clearly, all I'm doing here is printing the address of the class object:</p>\n\n<pre><code>@IBAction func userInvokeApi(_ sender: UIButton) {\n    print(\"You clicked invoke api...\")\n    let client = SVTLambdaGateClient.default()\n    client.calcGet(operand2: \"3\", _operator: \"+\", operand1: \"5\").continueWith{ (task: AWSTask?) -&gt; AnyObject? in\n        if let error = task?.error {\n            print(\"Error occurred: \\(error)\")\n            return nil\n        }\n\n        if let result = task?.result {\n            // Do something with result\n            print(\"The result is... \\(result)\")\n        }\n\n        return nil\n    }\n}\n</code></pre>\n\n<p>Here's what prints:</p>\n\n<pre><code>You clicked invoke api...\nThe result is... &lt;AmplifyRestApiTest.Empty: 0x600002020770&gt; {\n}\n</code></pre>\n\n<p>(where AmplifyRestApiTest is the name of my Xcode project. Though I'm <strong>NOT</strong> using AWS Amplify to build this project; mainly because I've run into problems using it.)</p>\n\n<p>I do have this <code>Empty</code> class in <code>Empty.swift</code> that is part of the API Gateway generated iOS Swift SDK:</p>\n\n<pre><code>import Foundation\nimport AWSCore\n\n@objcMembers\npublic class Empty : AWSModel {\n    public override static func jsonKeyPathsByPropertyKey() -&gt; [AnyHashable : Any]!{\n    var params:[AnyHashable : Any] = [:]`\n        return params\n    }\n}\n</code></pre>\n\n<p>Now, when I set a breakpoint on the print statement this is what I see:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MxTJq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MxTJq.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/oxuGk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oxuGk.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/DTFKo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTFKo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone please tell me why I don't see the values relating to this object? What's the strategy for unpacking this API response??</p>\n\n<p>I know that I'm invoking the REST API successfully because I can see (via Cloudwatch logs) that it's returning the result to the Client. So this post is just my attempt to access the corresponding Object.</p>\n\n<p>Another detail: I'm using an API Gateway generated iOS Swift SDK and I followed all of the <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-lambda.html\" rel=\"nofollow noreferrer\">tutorial instruction</a> for using the SDK in my project.</p>\n"}, {"tags": ["objective-c", "push-notification", "cllocationmanager", "unnotificationserviceextension"], "comments": [{"owner": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1553884433, "post_id": 55423560, "comment_id": 97566295, "body": "Sure there is.  What did you try?  StackOverflow is a place to get coding help.  Please post code you tried and we can assist you."}, {"owner": {"reputation": 1, "user_id": 11209296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TcInGmEHAE0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHYGw9-TgVULBGvkUFdgWQkzQl3g/mo/photo.jpg?sz=128", "display_name": "Jonathan Ramalho", "link": "https://stackoverflow.com/users/11209296/jonathan-ramalho"}, "reply_to_user": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1553885179, "post_id": 55423560, "comment_id": 97566638, "body": "Sure, now I edited it. Looks more informative. Thanks."}, {"owner": {"reputation": 401, "user_id": 10530848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q35D5.jpg?s=128&g=1", "display_name": "Razvan Emil", "link": "https://stackoverflow.com/users/10530848/razvan-emil"}, "edited": false, "score": 0, "creation_date": 1578878506, "post_id": 55423560, "comment_id": 105571165, "body": "@JonathanRamalho did you find a solution"}], "owner": {"reputation": 1, "user_id": 11209296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TcInGmEHAE0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHYGw9-TgVULBGvkUFdgWQkzQl3g/mo/photo.jpg?sz=128", "display_name": "Jonathan Ramalho", "link": "https://stackoverflow.com/users/11209296/jonathan-ramalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553916986, "creation_date": 1553884069, "last_edit_date": 1553916986, "question_id": 55423560, "link": "https://stackoverflow.com/questions/55423560/is-there-a-way-to-get-current-location-when-i-receive-a-notification", "title": "Is there a way to get current location when i receive a notification?", "body": "<p>Is there a way in iOS to get my current location when I receive a push notification?</p>\n\n<p>Like, triggering it when o receive a oneSignal push and stuff...</p>\n\n<p>So what I already tried:</p>\n\n<p>a CLLocationManager inside the OneSignal Notification Service\nthe react-native-background-geolocation getCurrentPosition (native method) inside the OneSignal Notification Service.</p>\n\n<h2>The NotificationService.c class:</h2>\n\n<pre><code>#import &lt;OneSignal/OneSignal.h&gt;\n#import &lt;TSLocationManager/TSLocationManager.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n#import &lt;CoreLocation/CoreLocation.h&gt;\n\n#import \"NotificationService.h\"\n\n@interface NotificationService ()\n\n@property (nonatomic, strong) void (^contentHandler)(UNNotificationContent *contentToDeliver);\n@property (nonatomic, strong) UNNotificationRequest *receivedRequest;\n@property (nonatomic, strong) UNMutableNotificationContent *bestAttemptContent;\n//@property (nonatomic, strong) TSLocationManager *locationManager;\n//@property (nonatomic, strong) TSCurrentPositionRequest *cpr;\n\n@end\n\n@implementation NotificationService\n\n\n- (void)didReceiveNotificationRequest:(UNNotificationRequest *)request withContentHandler:(void (^)(UNNotificationContent * _Nonnull))contentHandler {\n  self.receivedRequest = request;\n  self.contentHandler = contentHandler;\n  self.bestAttemptContent = [request.content mutableCopy];\n\n  [OneSignal didReceiveNotificationExtensionRequest:self.receivedRequest withMutableNotificationContent:self.bestAttemptContent];\n  self.contentHandler(self.bestAttemptContent);\n\n  // DEBUGGING: Uncomment the 2 lines below and comment out the one above to ensure this extension is excuting\n  //            Note, this extension only runs when mutable-content is set\n  //            Setting an attachment or action buttons automatically adds this\n  //NSLog(@\"Running NotificationServiceExtension\");\n // self.bestAttemptContent.body = [@\"[Modified] \" stringByAppendingString:self.bestAttemptContent.body];\n\n  // Magic\n  NSLog(@\"get current position\");\n  locationManager = [[CLLocationManager alloc] init];\n  locationManager.delegate = self;\n  locationManager.distanceFilter = kCLDistanceFilterNone;\n  locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n\n  if ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;= 8.0)\n    [locationManager requestWhenInUseAuthorization];\n\n  [locationManager startUpdatingLocation];\n\n  [locationManager stopUpdatingLocation];\n\n//  _locationManager = [TSLocationManager sharedInstance];\n//  _cpr = [[TSCurrentPositionRequest alloc] initWithSuccess:^(TSLocation *location) {\n//  } failure:^(NSError *error) {}];\n//  [self.locationManager getCurrentPosition:self.cpr];\n\n\n\n}\n\n- (void)serviceExtensionTimeWillExpire {\n  // Called just before the extension will be terminated by the system.\n  // Use this as an opportunity to deliver your \"best attempt\" at modified content, otherwise the original push payload will be used.\n\n  [OneSignal serviceExtensionTimeWillExpireRequest:self.receivedRequest withMutableNotificationContent:self.bestAttemptContent];\n\n  self.contentHandler(self.bestAttemptContent);\n}\n\n- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(NSArray *)locations {\n  NSLog([locations lastObject]);\n  NSLog(@\"Rapaz, tem uma localizacao aqui\");\n}\n\n\n\n\n@end\n</code></pre>\n\n<h2>The NotificationService.h class:</h2>\n\n<pre><code> #import &lt;UserNotifications/UserNotifications.h&gt;\n    #import &lt;TSLocationManager/TSLocationManager.h&gt;\n    #import &lt;UIKit/UIKit.h&gt;\n    #import &lt;CoreLocation/CoreLocation.h&gt;\n\n    #if __has_include(\"RCTEventEmitter.h\")\n    #import \"RCTEventEmitter.h\"\n    #else\n    #import &lt;React/RCTEventEmitter.h&gt;\n    #endif\n\n    #if __has_include(\"RCTInvalidating.h\")\n    #import \"RCTInvalidating.h\"\n    #else\n    #import &lt;React/RCTInvalidating.h&gt;\n    #endif\n\n    @interface NotificationService : UNNotificationServiceExtension &lt;CLLocationManagerDelegate&gt; {\n      CLLocationManager *locationManager;\n    }\n\n    @end\n</code></pre>\n\n<p>Not so good with Objective-C but i know C. Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "scenekit", "avplayer"], "answers": [{"comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1553926707, "post_id": 55422827, "comment_id": 97575828, "body": "This should be a comment"}, {"owner": {"reputation": 265, "user_id": 4911517, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ddd58586f4fa1840a2c5a9ef9da46286?s=128&d=identicon&r=PG&f=1", "display_name": "Dawood Mujib", "link": "https://stackoverflow.com/users/4911517/dawood-mujib"}, "edited": false, "score": 0, "creation_date": 1553930791, "post_id": 55422827, "comment_id": 97576536, "body": "I am using physical device"}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1553950086, "post_id": 55422827, "comment_id": 97580846, "body": "I got it play well. It\u2019s just in the middle of plane."}, {"owner": {"reputation": 265, "user_id": 4911517, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ddd58586f4fa1840a2c5a9ef9da46286?s=128&d=identicon&r=PG&f=1", "display_name": "Dawood Mujib", "link": "https://stackoverflow.com/users/4911517/dawood-mujib"}, "edited": false, "score": 0, "creation_date": 1553961873, "post_id": 55422827, "comment_id": 97584068, "body": "Thanks E.Coms. Changing the lighting model to blinn worked"}], "tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": true, "score": 1, "last_activity_date": 1553951614, "last_edit_date": 1553951614, "creation_date": 1553880892, "answer_id": 55422827, "question_id": 55420720, "link": "https://stackoverflow.com/questions/55420720/scenekit-avplayer-only-audio-is-playing/55422827#55422827", "title": "SceneKit AVPlayer only audio is playing", "body": "<p>You need to use a real iPhone not simulator to enjoy.</p>\n\n<p>Another reason is the shading in the material panel should not be physical based. You may try Blinn. The code has no problem.</p>\n\n<p>If using a physical based, you have to add an extra light to make it work.</p>\n"}, {"tags": [], "owner": {"reputation": 260, "user_id": 4945946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2110a72260852bd700e9d3adf89dce35?s=128&d=identicon&r=PG&f=1", "display_name": "Rom4in", "link": "https://stackoverflow.com/users/4945946/rom4in"}, "is_accepted": false, "score": 1, "last_activity_date": 1576856704, "creation_date": 1576856704, "answer_id": 59427923, "question_id": 55420720, "link": "https://stackoverflow.com/questions/55420720/scenekit-avplayer-only-audio-is-playing/59427923#59427923", "title": "SceneKit AVPlayer only audio is playing", "body": "<p>you can keep PBR and get glass reflections with a non-rough material. use the <code>emission</code> instead of <code>diffuse</code> for the the video though</p>\n\n<pre><code>plane.geometry.firstMaterial.emission.contents = player\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 4911517, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ddd58586f4fa1840a2c5a9ef9da46286?s=128&d=identicon&r=PG&f=1", "display_name": "Dawood Mujib", "link": "https://stackoverflow.com/users/4911517/dawood-mujib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 55422827, "answer_count": 2, "score": 0, "last_activity_date": 1576856704, "creation_date": 1553873209, "last_edit_date": 1553877578, "question_id": 55420720, "link": "https://stackoverflow.com/questions/55420720/scenekit-avplayer-only-audio-is-playing", "title": "SceneKit AVPlayer only audio is playing", "body": "<p>I am trying to play a video in <code>SceneKit</code>. I can hear the audio but video is not rendering. The way i am using the scene is as follows. Please help.</p>\n\n<pre><code>SCNScene *scene = [SCNScene sceneNamed:@\"art.scnassets/plane.scn\"];\nSCNNode *plane = [scene.rootNode childNodeWithName:@\"plane\" recursively:YES];\n\nAVPlayer *player = [AVPlayer playerWithURL:[NSURL URLWithString:@\"https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_5mb.mp4\"]];\nplane.geometry.firstMaterial.diffuse.contents = player;\n[player play];\n\nSCNView *scnView = (SCNView *)self.view;\nscnView.scene = scene;\nscnView.allowsCameraControl = YES;\nscnView.showsStatistics = YES;\nscnView.backgroundColor = [UIColor blackColor];\n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1553871097, "post_id": 55419906, "comment_id": 97559260, "body": "What is the type of your <code>Dictionary</code>, is it <code>[String:Any]</code>? What is the type of <code>dictionary[SOME_CONSTANT]</code>, is it <code>[Any]</code>?"}, {"owner": {"reputation": 1, "user_id": 11277992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa7b28d12b70df17f7f2449fadcb47b?s=128&d=identicon&r=PG&f=1", "display_name": "DocIlluminati", "link": "https://stackoverflow.com/users/11277992/docilluminati"}, "reply_to_user": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1553871356, "post_id": 55419906, "comment_id": 97559447, "body": "type of Dictionary is [String,NSNumber]"}, {"owner": {"reputation": 1, "user_id": 11277992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa7b28d12b70df17f7f2449fadcb47b?s=128&d=identicon&r=PG&f=1", "display_name": "DocIlluminati", "link": "https://stackoverflow.com/users/11277992/docilluminati"}, "reply_to_user": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1553871421, "post_id": 55419906, "comment_id": 97559481, "body": "And the type of dictionary[SOME_CONSTANT] = NSDictionary"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11277992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa7b28d12b70df17f7f2449fadcb47b?s=128&d=identicon&r=PG&f=1", "display_name": "DocIlluminati", "link": "https://stackoverflow.com/users/11277992/docilluminati"}, "edited": false, "score": 0, "creation_date": 1554054149, "post_id": 55433401, "comment_id": 97602752, "body": "Thanks for the very clear explanation CRD. This alone helped me a lot."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1553962818, "last_edit_date": 1592644375, "creation_date": 1553962818, "answer_id": 55433401, "question_id": 55419906, "link": "https://stackoverflow.com/questions/55419906/how-to-convert-this-obj-c-code-to-swift-nsarray-with-nsdictionary/55433401#55433401", "title": "How to convert this obj-c code to swift (NSArray with NSDictionary)", "body": "<blockquote>\n<pre><code>NSArray *nameOfArray = (NSArray*)dictionary[SOME_CONSTANT];\n</code></pre>\n<p>If I'm correct the next lines read like: Put the outcome of <code>dictionary[SOME_CONSTANT]</code> in a new array named <code>nameOfArray</code></p>\n</blockquote>\n<p>If you know Swift and not Objective-C you may be thinking that arrays are value types, so an assignment from one array into a <code>var</code> creates a new array. However in Objective-C arrays are <em>reference</em> types and assignment of an <code>NSArray *</code> value doesn't create a new array, it just copies a reference to an existing array.</p>\n<p>The above line of code copies the value associated with key <code>SOME_CONSTANT</code> in the dictionary <code>dictionary</code> into the variable <code>nameOfArray</code>, and that value is a reference to an array. After this assignment both <code>dictionary[SOME_CONSTANT]</code> and <code>nameOfArray</code> reference the <em>same</em> array.</p>\n<blockquote>\n<pre><code>NSDictionary *nameOfDictionary = dictionary[SOME_CONSTANT];\n</code></pre>\n<p>and make a new dictionary named <code>nameOfDictionary</code> out of the value of <code>dictionary[SOME_CONSTANT]</code>.</p>\n</blockquote>\n<p>As above no new dictionary is made, this line does the same thing as the first one - it copies a reference value stored in the dictionary into a variable, only in this case the line says the value is a reference to a dictionary.</p>\n<p>If the above two lines are what is actually in your code and not a simplified version then you have a problem: the first line says <code>dictionary[SOME_CONSTANT]</code> has an <code>NSArray *</code> value while the second says it has an <code>NSDictionary *</code> value \u2013\u00a0and something cannot be both a dictionary and an array. However you go on to say in the comments:</p>\n<blockquote>\n<p>type of <code>dictionary</code> is <code>[String,NSNumber]</code></p>\n</blockquote>\n<p>which states that the values in the dictionary are neither <code>NSArray</code> or <code>NSDictionary</code> references but <code>NSNumber</code> references, but then you say:</p>\n<blockquote>\n<p>And the type of <code>dictionary[SOME_CONSTANT]</code> = <code>NSDictionary</code></p>\n</blockquote>\n<p>So not <code>NSArray</code> or <code>NSNumber</code>...</p>\n<p>So you have a lot of type mismatches and nobody can really help you unless you show the actual code, the actual types of everything, and explain exactly what you are stuck with. Don't try to edit this question, it already has a negative vote, ask a new one giving the details and someone will probably help you along. HTH</p>\n"}], "owner": {"reputation": 1, "user_id": 11277992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daa7b28d12b70df17f7f2449fadcb47b?s=128&d=identicon&r=PG&f=1", "display_name": "DocIlluminati", "link": "https://stackoverflow.com/users/11277992/docilluminati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1553962818, "creation_date": 1553870620, "last_edit_date": 1553871024, "question_id": 55419906, "link": "https://stackoverflow.com/questions/55419906/how-to-convert-this-obj-c-code-to-swift-nsarray-with-nsdictionary", "title": "How to convert this obj-c code to swift (NSArray with NSDictionary)", "body": "<p>So I'm trying to convert some obj-c code into swift and I came upon this which I don't understand how to convert to swift. </p>\n\n<p>If I'm correct the next lines read like: Put the outcome of <code>dictionary[SOME_CONSTANT]</code> in a new array named <code>nameOfArray</code> and make a new dictionary named <code>nameOfDictionary</code> out of the value of <code>dictionary[SOME_CONSTANT]</code>.</p>\n\n<pre><code>NSArray *nameOfArray = (NSArray*)dictionary[SOME_CONSTANT];\n\nNSDictionary *nameOfDictionary = dictionary[SOME_CONSTANT];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ios12"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1553869355, "post_id": 55419373, "comment_id": 97558052, "body": "And do you have an error?"}, {"owner": {"reputation": 764, "user_id": 8946219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f171f8edd622d21fa75f9f4a344cf450?s=128&d=identicon&r=PG&f=1", "display_name": "MartinM", "link": "https://stackoverflow.com/users/8946219/martinm"}, "edited": false, "score": 2, "creation_date": 1553869417, "post_id": 55419373, "comment_id": 97558100, "body": "Be a bit more specific about your error. &quot;It does not work&quot; is not sufficient. Most likely one of your classes doesnt conform to NSCoding"}, {"owner": {"reputation": 121, "user_id": 11171024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DdlyEBZcm0I/AAAAAAAAAAI/AAAAAAAAAAc/Cz9daaSXX34/photo.jpg?sz=128", "display_name": "Ion Bat&#238;r", "link": "https://stackoverflow.com/users/11171024/ion-bat%c3%aer"}, "edited": false, "score": 0, "creation_date": 1553869493, "post_id": 55419373, "comment_id": 97558148, "body": "I am receiving <code>The data couldn\u2019t be read because it isn\u2019t in the correct format. </code>"}, {"owner": {"reputation": 121, "user_id": 11171024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DdlyEBZcm0I/AAAAAAAAAAI/AAAAAAAAAAc/Cz9daaSXX34/photo.jpg?sz=128", "display_name": "Ion Bat&#238;r", "link": "https://stackoverflow.com/users/11171024/ion-bat%c3%aer"}, "edited": false, "score": 0, "creation_date": 1553869667, "post_id": 55419373, "comment_id": 97558263, "body": "The class conforms to NSCoding, also I have tried to archive and unarchive just one object, not all array, and I&#39;m receiving the same error."}, {"owner": {"reputation": 764, "user_id": 8946219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f171f8edd622d21fa75f9f4a344cf450?s=128&d=identicon&r=PG&f=1", "display_name": "MartinM", "link": "https://stackoverflow.com/users/8946219/martinm"}, "edited": false, "score": 1, "creation_date": 1553870258, "post_id": 55419373, "comment_id": 97558667, "body": "Also NSSecureCoding? How do you encode?"}, {"owner": {"reputation": 121, "user_id": 11171024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DdlyEBZcm0I/AAAAAAAAAAI/AAAAAAAAAAc/Cz9daaSXX34/photo.jpg?sz=128", "display_name": "Ion Bat&#238;r", "link": "https://stackoverflow.com/users/11171024/ion-bat%c3%aer"}, "edited": false, "score": 0, "creation_date": 1553870823, "post_id": 55419373, "comment_id": 97559051, "body": "I am not using secure coding"}, {"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1554224487, "post_id": 55419373, "comment_id": 97670094, "body": "I&#39;m just looking to update this in my app. As you are expecting an <code>NSArray</code>, do you not need to set class to <code>NSArray.class</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 437062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37ab1c7de99ae061045ba7c6473cc31b?s=128&d=identicon&r=PG", "display_name": "Sarah Nguyen", "link": "https://stackoverflow.com/users/437062/sarah-nguyen"}, "edited": false, "score": 1, "creation_date": 1564704385, "post_id": 55497180, "comment_id": 101127982, "body": "Thank you! This helped me, in particular conforming to NSSecureCoding in addition to NSCoding and overriding supportsSecureCoding."}, {"owner": {"reputation": 151, "user_id": 437062, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/37ab1c7de99ae061045ba7c6473cc31b?s=128&d=identicon&r=PG", "display_name": "Sarah Nguyen", "link": "https://stackoverflow.com/users/437062/sarah-nguyen"}, "edited": false, "score": 0, "creation_date": 1564705800, "post_id": 55497180, "comment_id": 101128232, "body": "Can also only conform to NSSecureCoding and leave out NSCoding."}, {"owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "edited": false, "score": 1, "creation_date": 1569099688, "post_id": 55497180, "comment_id": 102488410, "body": "Shamelessly sharing this closed dupe question with a newbie-friendly, I reckon answer. :D <a href=\"https://stackoverflow.com/a/58043846/3231194\">stackoverflow.com/a/58043846/3231194</a>"}, {"owner": {"reputation": 1818, "user_id": 4274651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fd438a86da39049aa93ca14b663851ce?s=128&d=identicon&r=PG", "display_name": "janosch", "link": "https://stackoverflow.com/users/4274651/janosch"}, "edited": false, "score": 0, "creation_date": 1610482385, "post_id": 55497180, "comment_id": 116146540, "body": "What is this &quot;&amp;error&quot;? Xcode doesn&#39;t accept it."}, {"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1610482616, "post_id": 55497180, "comment_id": 116146637, "body": "You can use <code>nil</code> or if you want to check for any error, declare an NSError variable. <code>NSError *error;</code> in the line above it. Then after it you can check if error != nil for an error."}], "tags": [], "owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "is_accepted": false, "score": 14, "last_activity_date": 1554300564, "creation_date": 1554300564, "answer_id": 55497180, "question_id": 55419373, "link": "https://stackoverflow.com/questions/55419373/how-to-unarchive-data-with-unarchivedobjectofclassfromdataerror/55497180#55497180", "title": "How to unarchive data with unarchivedObjectOfClass:fromData:error:?", "body": "<p><code>unarchivedObjectOfClass:fromData:error</code> seems to be pretty undocumented, but I have figured it out.\nIn your case as you are unarchiving an <code>NSArray</code> and assuming the contents of the array are standard classes like <code>NSString</code> then this should work for you:</p>\n\n<pre><code>NSArray *stored = [NSKeyedUnarchiver unarchivedObjectOfClass:[NSArray class] fromData:data error:&amp;error];\n</code></pre>\n\n<p>However I was unarchiving a custom object <code>PurchasedSubscription</code> and this also applies if your <code>NSArray</code> contains any custom Classes...\nFirstly the <code>objectOfClass</code> from the method to unarchive needs to be the class of what you are expecting to be the result.</p>\n\n<pre><code>PurchasedSubscription *purchasedSubscription = [NSKeyedUnarchiver unarchivedObjectOfClass:PurchasedSubscription.class fromData:data error:&amp;error];\n</code></pre>\n\n<p>Next, your custom class needs to conform to <code>NSSecureCoding</code> so add this to the interface of the class. I assume you already have <code>NSCoding</code> implemented.</p>\n\n<pre><code>@interface PurchasedSubscription : NSObject &lt;NSCoding, NSSecureCoding&gt;\n\n@end\n</code></pre>\n\n<p>Next your class has to override <code>supportsSecureCoding</code> to confirm it is supported</p>\n\n<pre><code>+ (BOOL)supportsSecureCoding\n{\n    return YES;\n}\n</code></pre>\n\n<p>Next, in your <code>initWithCoder:</code> method, you need to use <code>decodeObjectOfClass:key:</code> instead of <code>decodeObjectForKey</code> when decoding each property, again setting the <code>Class</code> parameter as the class type of what's being decoded.</p>\n\n<pre><code>- (nullable instancetype)initWithCoder:(nonnull NSCoder *)aDecoder\n{\n    self = [self init];\n\n    if (self)\n    {\n        ReceiptInfo *receiptInfo = [aDecoder decodeObjectOfClass:[ReceiptInfo class] forKey:@\"receiptInfo\"];\n        return [self initWithReceiptInfo:receiptInfo];\n    }\n\n    return self;\n}\n</code></pre>\n\n<p>As you can see here, this class also decodes another custom class <code>ReceiptInfo</code>, so I had to repeat this process with that class to get it all to work.</p>\n\n<p>Now when I use</p>\n\n<pre><code>PurchasedSubscription *purchasedSubscription = [NSKeyedUnarchiver unarchivedObjectOfClass:PurchasedSubscription.class fromData:data error:&amp;error];\n</code></pre>\n\n<p>it securely decodes the <code>PurchasedSubscription</code> class by securely decoding the <code>ReceiptInfo</code> class as it knows at each step what the class type should be before it decodes it.</p>\n\n<hr>\n\n<p>A note on the opposite <code>NSEncoding</code>. You need to use the method</p>\n\n<pre><code>archivedDataWithRootObject:requiringSecureCoding:error:\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>archivedDataWithRootObject:\n</code></pre>\n\n<p>With this one, you don't pass in the object class, you pass in the actual object.\nIn my case, I create the object like so</p>\n\n<pre><code>PurchasedSubscription *validSub = [[PurchasedSubscription alloc] initWithReceiptInfo:latestReceipt];\n</code></pre>\n\n<p>and then encode it like this</p>\n\n<pre><code>NSData *data = [NSKeyedArchiver archivedDataWithRootObject:validSub requiringSecureCoding:YES error:&amp;error];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 10939347, "user_type": "registered", "profile_image": "https://graph.facebook.com/2141016512880026/picture?type=large", "display_name": "Eugene", "link": "https://stackoverflow.com/users/10939347/eugene"}, "is_accepted": false, "score": 2, "last_activity_date": 1591404920, "last_edit_date": 1591404920, "creation_date": 1590779099, "answer_id": 62093058, "question_id": 55419373, "link": "https://stackoverflow.com/questions/55419373/how-to-unarchive-data-with-unarchivedobjectofclassfromdataerror/62093058#62093058", "title": "How to unarchive data with unarchivedObjectOfClass:fromData:error:?", "body": "<p>I faced up with an issue and follow the @Darren answer, but <strong><em>unarchivedObjectOfClass</em> returns <em>nil</em> ! :(</strong></p>\n\n<p>so i tried a lot of variation and found the only success way is my case:</p>\n\n<p><em>supportsSecureCoding</em> property <strong>must be YES</strong></p>\n\n<p>and</p>\n\n<pre><code>NSArray&lt;MyClassConformedToNSObject_NSCoding_NSSecureCoding *&gt; *arrayOfCustomObjects = [NSKeyedUnarchiver unarchivedObjectOfClass:[NSObject class] fromData:data error:&amp;error];\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 11171024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DdlyEBZcm0I/AAAAAAAAAAI/AAAAAAAAAAc/Cz9daaSXX34/photo.jpg?sz=128", "display_name": "Ion Bat&#238;r", "link": "https://stackoverflow.com/users/11171024/ion-bat%c3%aer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6301, "favorite_count": 3, "answer_count": 2, "score": 10, "last_activity_date": 1591404920, "creation_date": 1553868939, "last_edit_date": 1553869892, "question_id": 55419373, "link": "https://stackoverflow.com/questions/55419373/how-to-unarchive-data-with-unarchivedobjectofclassfromdataerror", "title": "How to unarchive data with unarchivedObjectOfClass:fromData:error:?", "body": "<p>I am using <code>unarchiveObjectWithData</code> to unarchive data from <code>NSUserDefaults</code> and it is working good, but it was deprecated in iOS 12.0.\nXcode suggests to use <code>unarchivedObjectOfClass:fromData:error:</code>, but this method does not work.</p>\n\n<p>I have an array of objects of my class to unarchive.</p>\n\n<p>I have tried to use <code>unarchivedObjectOfClass:fromData:error:</code>, also <code>unarchivedObjectOfClasses:fromData:error:</code> with all classes (NSArray, NSString, MYCLASS..)</p>\n\n<p>Works</p>\n\n<pre><code>NSArray *stored = [NSKeyedUnarchiver unarchiveObjectWithData:data];\n</code></pre>\n\n<p>Does not:</p>\n\n<pre><code>NSArray *stored = [NSKeyedUnarchiver unarchivedObjectOfClass:[MYCLASS class] fromData:data error:&amp;error];\n</code></pre>\n\n<p>I am receiving \u201dThe data couldn\u2019t be read because it isn\u2019t in the correct format.\u201e</p>\n"}, {"tags": ["objective-c", "objective-c-blocks"], "comments": [{"owner": {"reputation": 169, "user_id": 7761803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115d732052cc63043f2d840ac5d7cbc6?s=128&d=identicon&r=PG&f=1", "display_name": "user7761803", "link": "https://stackoverflow.com/users/7761803/user7761803"}, "edited": false, "score": 0, "creation_date": 1553861710, "post_id": 55417196, "comment_id": 97553334, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13006685/is-there-a-way-to-wrap-an-objectivec-block-into-function-pointer\">Is there a way to wrap an ObjectiveC block into function pointer?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 1003641, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d8ff0bafbdb21520c775b1162f92772a?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/1003641/ivan"}, "edited": false, "score": 0, "creation_date": 1553862497, "post_id": 55417320, "comment_id": 97553793, "body": "well, yes, could be an option to declare then some static fields in source file. problem is that there are like 5-6 callbacks to accomplish one unit of work, therefore i was looking to &quot;bundle&quot; the functions like lambdas (coming from .net world)"}, {"owner": {"reputation": 169, "user_id": 7761803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115d732052cc63043f2d840ac5d7cbc6?s=128&d=identicon&r=PG&f=1", "display_name": "user7761803", "link": "https://stackoverflow.com/users/7761803/user7761803"}, "reply_to_user": {"reputation": 899, "user_id": 1003641, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d8ff0bafbdb21520c775b1162f92772a?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/1003641/ivan"}, "edited": false, "score": 1, "creation_date": 1553873406, "post_id": 55417320, "comment_id": 97560702, "body": "the difficulty here is that blocks are fully-fledged objective-c objects.  Objective-C is a layer above the C language, with its own runtime.  C function pointers are just C function pointers; they don&#39;t know about the object properties, which - when you have a block - are used to capture the variables you would no doubt want to access within the block.  (Hope that makes sense!)"}], "tags": [], "owner": {"reputation": 169, "user_id": 7761803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115d732052cc63043f2d840ac5d7cbc6?s=128&d=identicon&r=PG&f=1", "display_name": "user7761803", "link": "https://stackoverflow.com/users/7761803/user7761803"}, "is_accepted": false, "score": 0, "last_activity_date": 1553861966, "creation_date": 1553861966, "answer_id": 55417320, "question_id": 55417196, "link": "https://stackoverflow.com/questions/55417196/passing-objc-block-to-function/55417320#55417320", "title": "Passing objc block to function", "body": "<p>This seems to be a duplicate of <a href=\"https://stackoverflow.com/questions/13006685/is-there-a-way-to-wrap-an-objectivec-block-into-function-pointer\">Is there a way to wrap an ObjectiveC block into function pointer?</a>, where the advice is \"don't do it\".</p>\n\n<p>Instead, can you not use a plain C function pointer?  Define a function</p>\n\n<pre><code>void createWalletCallback(int32_t t, int32_t e) {\n    // some code here, maybe referencing global variables\n    // (including a semaphore, if other code needs to wait on the response)\n}\n</code></pre>\n\n<p>and then just call</p>\n\n<pre><code>createWallet(&amp;createWalletCallback);\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 1003641, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d8ff0bafbdb21520c775b1162f92772a?s=128&d=identicon&r=PG", "display_name": "Ivan", "link": "https://stackoverflow.com/users/1003641/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553861966, "creation_date": 1553861463, "question_id": 55417196, "link": "https://stackoverflow.com/questions/55417196/passing-objc-block-to-function", "title": "Passing objc block to function", "body": "<p>have been strugling with this over 2 days, I am not very skilled in C. So, have an objc function mapped to C function with the following syntax</p>\n\n<pre><code>extern int32_t createWallet(void (*fn)(int32_t handle, int32_t errCode)\n</code></pre>\n\n<p>but dont know how to pass a block like function. Have been trying to pass </p>\n\n<pre><code>void (^ createWalletCallback)(int32_t t, int32_t e) = NULL;\ncreateWalletCallback = ^void(int32_t t, int32_t e){\n    /// some code here\n}\n</code></pre>\n\n<p>but no success. Could you pls at least point me what to change? Thanks</p>\n"}, {"tags": ["c", "objective-c", "macos-mojave"], "comments": [{"owner": {"reputation": 65, "user_id": 11276712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b28a7ef9bad8cecfcaee80263e35aa?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azam", "link": "https://stackoverflow.com/users/11276712/mohammad-azam"}, "edited": false, "score": 0, "creation_date": 1553854690, "post_id": 55415166, "comment_id": 97549259, "body": "strerror shows &quot;operation not permitted&quot;"}, {"owner": {"reputation": 6679, "user_id": 10622916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21bd4eeaa5ba60dc021c5ccfbf4a963d?s=128&d=identicon&r=PG&f=1", "display_name": "Bodo", "link": "https://stackoverflow.com/users/10622916/bodo"}, "edited": false, "score": 2, "creation_date": 1553854972, "post_id": 55415166, "comment_id": 97549424, "body": "You should <a href=\"https://stackoverflow.com/posts/55415166/edit\">edit</a> your question to add information instead of writing a comment."}, {"owner": {"reputation": 6899, "user_id": 1212012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gmBY7.png?s=128&g=1", "display_name": "Mathieu", "link": "https://stackoverflow.com/users/1212012/mathieu"}, "edited": false, "score": 0, "creation_date": 1553855367, "post_id": 55415166, "comment_id": 97549653, "body": "Are you launching you program with <code>sudo</code> or logged as <code>root</code>?"}, {"owner": {"reputation": 65, "user_id": 11276712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b28a7ef9bad8cecfcaee80263e35aa?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azam", "link": "https://stackoverflow.com/users/11276712/mohammad-azam"}, "edited": false, "score": 0, "creation_date": 1553955540, "post_id": 55415166, "comment_id": 97582348, "body": "Yes my main app launches as root."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1553965930, "post_id": 55415166, "comment_id": 97585091, "body": "Just a guess: As an avenue to explore try looking into <i>System Integrity Protection</i> (SIP). HTH"}, {"owner": {"reputation": 65, "user_id": 11276712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b28a7ef9bad8cecfcaee80263e35aa?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azam", "link": "https://stackoverflow.com/users/11276712/mohammad-azam"}, "edited": false, "score": 0, "creation_date": 1554094303, "post_id": 55415166, "comment_id": 97611019, "body": "SIP is enable..It is working fine in MacOS older then mojave even if SIP is enabled but not in mojave."}], "owner": {"reputation": 65, "user_id": 11276712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b28a7ef9bad8cecfcaee80263e35aa?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azam", "link": "https://stackoverflow.com/users/11276712/mohammad-azam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553855271, "creation_date": 1553854637, "last_edit_date": 1553855271, "question_id": 55415166, "link": "https://stackoverflow.com/questions/55415166/open-system-call-return-1-in-mojave-when-trying-to-open-drive", "title": "open system call return -1 in mojave when trying to open drive", "body": "<p>When I try to open a drive sector to read using <code>open()</code>, it returns <code>-1</code> file descriptor, in MacOS Mojave. </p>\n\n<p>But it works fine in other MacOS. Is there any other way to do this in mojave.</p>\n\n<pre><code> cPath = \"/dev/rdisk0 \";\n errno = 0;\n int fileDesc = 0;\n fileDesc = open(cPath, O_RDONLY);\n if (fileDesc == -1)\n {\n   NSLog(@\"%s\",strerror(errno));\n }\n</code></pre>\n\n<p>Prints: \"operation not permitted\"</p>\n"}, {"tags": ["ios", "objective-c", "promisekit"], "answers": [{"tags": [], "owner": {"reputation": 2483, "user_id": 333222, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/WTnGI.jpg?s=128&g=1", "display_name": "thomers", "link": "https://stackoverflow.com/users/333222/thomers"}, "is_accepted": true, "score": 0, "last_activity_date": 1554711446, "creation_date": 1554711446, "answer_id": 55568954, "question_id": 55414224, "link": "https://stackoverflow.com/questions/55414224/promisekit-how-to-do-retry-polling-in-objc/55568954#55568954", "title": "PromiseKit: How to do retry / polling in ObjC?", "body": "<p>Answered by the PromiseKit developer on <a href=\"https://github.com/mxcl/PromiseKit/issues/1043\" rel=\"nofollow noreferrer\">Github</a>:</p>\n\n<pre><code>- (AnyPromise *) attempt:(NSUInteger) maximumRetryCount delayBeforeRetry:(NSTimeInterval) delay provider:(AnyPromise* (^)()) provide {\n    __block NSUInteger attempts = 0;\n    AnyPromise *(^attempt)() = ^{\n        attempts++;\n        return provide().catch(^(id error) {\n            if (attempts &gt;= maximumRetryCount) @throw error;\n            return PMKAfter(delay).then(attempt);\n        });\n    };\n    return attempt();\n}\n</code></pre>\n\n<p>Then, if you have a method like this:</p>\n\n<pre><code>- (AnyPromise *) myPromise {\n    return [AnyPromise promiseWithResolverBlock:^(PMKResolver resolve) {\n        ...\n        resolve(nil) / resolve (error); \n    }];\n}\n</code></pre>\n\n<p>Call it with</p>\n\n<pre><code>[self attempt:3 delayBeforeRetry:2 provider:^{ return [self myPromise]; }]\n</code></pre>\n"}], "owner": {"reputation": 2483, "user_id": 333222, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/WTnGI.jpg?s=128&g=1", "display_name": "thomers", "link": "https://stackoverflow.com/users/333222/thomers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 55568954, "answer_count": 1, "score": 0, "last_activity_date": 1554711446, "creation_date": 1553851641, "question_id": 55414224, "link": "https://stackoverflow.com/questions/55414224/promisekit-how-to-do-retry-polling-in-objc", "title": "PromiseKit: How to do retry / polling in ObjC?", "body": "<p>The <a href=\"https://github.com/mxcl/PromiseKit/blob/master/Documentation/CommonPatterns.md\" rel=\"nofollow noreferrer\">PromiseKit \"Common Patterns\"</a> docs are in Swift.</p>\n\n<p>How can I write the retry / polling code in Objective C? </p>\n\n<h2>Retry / Polling</h2>\n\n<pre class=\"lang-swift prettyprint-override\"><code>func attempt&lt;T&gt;(maximumRetryCount: Int = 3, delayBeforeRetry: DispatchTimeInterval = .seconds(2), _ body: @escaping () -&gt; Promise&lt;T&gt;) -&gt; Promise&lt;T&gt; {\n    var attempts = 0\n    func attempt() -&gt; Promise&lt;T&gt; {\n        attempts += 1\n        return body().recover { error -&gt; Promise&lt;T&gt; in\n            guard attempts &lt; maximumRetryCount else { throw error }\n            return after(delayBeforeRetry).then(on: nil, attempt)\n        }\n    }\n    return attempt()\n}\n\nattempt(maximumRetryCount: 3) {\n    flakeyTask(parameters: foo)\n}.then {\n    //\u2026\n}.catch { _ in\n    // we attempted three times but still failed\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "localization", "nslocalizedstring"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 1, "creation_date": 1553849955, "post_id": 55413639, "comment_id": 97546547, "body": "did you try in <code>didFinishLaunchingWithOptions</code> method of <code>appDelegate.m</code> file ?"}, {"owner": {"reputation": 1532, "user_id": 3405219, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XMwDR.png?s=128&g=1", "display_name": "Maulik shah", "link": "https://stackoverflow.com/users/3405219/maulik-shah"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1553850155, "post_id": 55413639, "comment_id": 97546678, "body": "yes tried it...but not work.. when i restart then it&#39;s worked"}, {"owner": {"reputation": 2256, "user_id": 5690248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dabe0ffbb33a4bffa6ed4801272c759b?s=128&d=identicon&r=PG&f=1", "display_name": "The Dreams Wind", "link": "https://stackoverflow.com/users/5690248/the-dreams-wind"}, "edited": false, "score": 0, "creation_date": 1553851865, "post_id": 55413639, "comment_id": 97547551, "body": "The solution you posted is kind of hack what has never been covered by API contract and nothing ensures if it works or will continue working in future. Proper approach is to take a corresponding language bundle then provide application with language-specific assets in runtime."}, {"owner": {"reputation": 1689, "user_id": 6649262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24b3155bcc8dfa90b2ffbbdd9a2de46?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Vas", "link": "https://stackoverflow.com/users/6649262/sachin-vas"}, "edited": false, "score": 0, "creation_date": 1553858817, "post_id": 55413639, "comment_id": 97551694, "body": "<a href=\"https://stackoverflow.com/questions/9939885/manual-language-selection-in-an-ios-app-iphone-and-ipad\" title=\"manual language selection in an ios app iphone and ipad\">stackoverflow.com/questions/9939885/&hellip;</a>"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1553863860, "post_id": 55413639, "comment_id": 97554539, "body": "I have used <a href=\"https://github.com/marmelroy/Localize-Swift\" rel=\"nofollow noreferrer\">github.com/marmelroy/Localize-Swift</a> it has setCurrentLanguage method"}], "owner": {"reputation": 1532, "user_id": 3405219, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XMwDR.png?s=128&g=1", "display_name": "Maulik shah", "link": "https://stackoverflow.com/users/3405219/maulik-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553850330, "creation_date": 1553849563, "last_edit_date": 1553850330, "question_id": 55413639, "link": "https://stackoverflow.com/questions/55413639/ios-how-to-set-default-application-language-as-english", "title": "iOS : How to set default Application language as English?", "body": "<p>I am working on localization of my app for the English and Arabic support. I have followed all localization steps and supported my app for English and Arabic languages. </p>\n\n<p>But I am facing problem in setting application's default language as English when user downloads and opens the app first time.</p>\n\n<p>For example, Arabic user's device language is Arabic but when he downloads and open the app, first time app should be in English only. Later on he will select whether to change language or not. (As I have given option to change the language)</p>\n\n<p>I have tired following code in <strong>main.m</strong> file </p>\n\n<pre><code>int main(int argc, char * argv[]) {\n\n       @autoreleasepool {\n\n            [[NSUserDefaults standardUserDefaults] setObject:[NSArray arrayWithObjects:@\"en\", nil] forKey:@\"AppleLanguages\"];\n            [[NSUserDefaults standardUserDefaults] synchronize]; // to make the change immediate\n             return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));\n        }\n    }\n</code></pre>\n\n<p>This UserDefault can change the app language but app needs to be restarted the app, then it will work fine. Issue is only for the first time launch.</p>\n\n<p>I have searched so many links but nothing works.</p>\n\n<p>Please help me to sort out my issue.</p>\n"}, {"tags": ["ios", "objective-c", "google-places-api", "google-maps-sdk-ios", "google-static-maps"], "answers": [{"tags": [], "owner": {"reputation": 539, "user_id": 11439407, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BZDRfkcPl2k/AAAAAAAAAAI/AAAAAAAAAAc/yhiDUSkxap8/photo.jpg?sz=128", "display_name": "Jean Gladys Raymundo", "link": "https://stackoverflow.com/users/11439407/jean-gladys-raymundo"}, "is_accepted": false, "score": 0, "last_activity_date": 1559012470, "last_edit_date": 1559012470, "creation_date": 1559011989, "answer_id": 56334417, "question_id": 55412078, "link": "https://stackoverflow.com/questions/55412078/gmsplacepickerviewcontroller-always-return-error-there-is-a-per-ip-or-per-refe/56334417#56334417", "title": "GMSPlacePickerViewController always return error - There is a per-IP or per-Referer restriction configured on your API key", "body": "<p>Please note that the Place Picker has been deprecated as of January 29, 2019. This feature will be turned off on July 29, 2019, and will no longer be available after that date. Please note that the old users that used Places SDK for iOS/Android are the only one who can still use the Place Picker during the deprecation period. The use of Places SDK for both platforms are now through enabling Places API and does not support the use of Place Picker anymore. You may see the deprecation notice in <a href=\"https://developers.google.com/places/android-sdk/placepicker\" rel=\"nofollow noreferrer\">https://developers.google.com/places/android-sdk/placepicker</a>.</p>\n\n<p>In addition to this, Google is conducting a review on what drives the users to use the Place Picker, if you are interested, kindly add your answer in the form mentioned in this <a href=\"https://issuetracker.google.com/128304760\" rel=\"nofollow noreferrer\">issue</a>.</p>\n\n<p>Should you need further assistance, kindly file a support case via <a href=\"https://console.cloud.google.com/google/maps-apis/support\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/google/maps-apis/support</a> in order to open personalized communication channel.</p>\n"}], "owner": {"reputation": 19, "user_id": 6612223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb23ccae3aae192b48044f2223cd9eab?s=128&d=identicon&r=PG&f=1", "display_name": "S.Haris", "link": "https://stackoverflow.com/users/6612223/s-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559012470, "creation_date": 1553842987, "question_id": 55412078, "link": "https://stackoverflow.com/questions/55412078/gmsplacepickerviewcontroller-always-return-error-there-is-a-per-ip-or-per-refe", "title": "GMSPlacePickerViewController always return error - There is a per-IP or per-Referer restriction configured on your API key", "body": "<p>hope everyone doing well.\nI'm developing an iOS application which needs to share location through google maps and display map static image in a screen corresponding to the selected location.\nI've done some researches and found GMSPlacePickerViewController is the best option. I've set up api key in google cloud platform and restricted it with app bundle ID and API restrictions (Maps SDk, Places API and Maps static API). I've enable billing for the account.\nNow each time I going to GMSPlacePickerViewController, the map just loading and dismissing itself. It throws 2 errors.</p>\n\n<p>1 - \"The application's bundle identifier does not match one of the \n    allowed iOS applications for the API key. See the developer's guide \n    (<a href=\"https://developers.google.com/places/ios-sdk/start\" rel=\"nofollow noreferrer\">https://developers.google.com/places/ios-sdk/start</a>) for how to \n    configure bundle restrictions on API keys.\"\n2 - \"There is a per-IP or per-Referer restriction configured on your \n    API key and the request does not match these restrictions. Please \n    use the Google Developers Console to update your API key \n    configuration if request from this IP or referer should be \n    allowed.\"</p>\n\n<p>I don't know why this happened as I've set correct bundle ID and I generated credential as API key.</p>\n\n<p>I request you to advice me to get out this and please tell me if there is any other better way to do this.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1553837216, "post_id": 55410902, "comment_id": 97541742, "body": "get point means CGPoint or else"}, {"owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1553837605, "post_id": 55410902, "comment_id": 97541841, "body": "@Anbu.Karthik Yes, point means CGPoint, I have edited the description;"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1553838163, "post_id": 55410902, "comment_id": 97541997, "body": "I am not sure , in here we can . get"}], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "edited": false, "score": 0, "creation_date": 1554074927, "post_id": 55411179, "comment_id": 97607753, "body": "Thanks for answer, but What I want to get is the CGPoint of the selected sectionIndexTitle , not the cell."}], "tags": [], "owner": {"reputation": 101, "user_id": 9401747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6ad11262b3175213c7ee92fa0c71ec?s=128&d=identicon&r=PG&f=1", "display_name": "Hairsh Kuramsetty", "link": "https://stackoverflow.com/users/9401747/hairsh-kuramsetty"}, "is_accepted": false, "score": 0, "last_activity_date": 1553838348, "creation_date": 1553838348, "answer_id": 55411179, "question_id": 55410902, "link": "https://stackoverflow.com/questions/55410902/how-to-get-the-pointcgpoint-of-the-selected-sectionindextitle/55411179#55411179", "title": "How to get the point(CGPoint) of the selected sectionIndexTitle", "body": "<p>One thing you can do get the CGpoint of the cell. Create a block and whenever user tap on the cell. Use the below code to get the CGPoints</p>\n\n<p>let touchPoint = CGPoint(x: cell.center.x, y: cell.center.y)</p>\n"}], "owner": {"reputation": 152, "user_id": 10569504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3seds.jpg?s=128&g=1", "display_name": "RateRebriduo", "link": "https://stackoverflow.com/users/10569504/raterebriduo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553838348, "creation_date": 1553836505, "last_edit_date": 1553837519, "question_id": 55410902, "link": "https://stackoverflow.com/questions/55410902/how-to-get-the-pointcgpoint-of-the-selected-sectionindextitle", "title": "How to get the point(CGPoint) of the selected sectionIndexTitle", "body": "<p>How to get the point(CGPoint) of selected sectionIndexTitle in tableView?I didn't find any way to achieve this.</p>\n\n<pre><code>- (NSInteger)tableView:(UITableView *)tableView sectionForSectionIndexTitle:(NSString *)title atIndex:(NSInteger)index {\n    //How to get the point of the selected sectionIndexTitle\n    return index;\n}\n</code></pre>\n\n<p>Is it possible that there is a method to get the selected sectionIndexTitle Object? So I can access it's frame and change it's color.</p>\n"}, {"tags": ["objective-c", "node.js", "macos", "electron", "airplay"], "owner": {"reputation": 123, "user_id": 296895, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/68d57e8dcc37c608111d1f09319202c6?s=128&d=identicon&r=PG", "display_name": "gcadmes", "link": "https://stackoverflow.com/users/296895/gcadmes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553797658, "creation_date": 1553797658, "question_id": 55404567, "link": "https://stackoverflow.com/questions/55404567/airplay-api-for-macos", "title": "AirPlay API for macOS", "body": "<p>Is there currently any API (public/private) that will allow a 3rd party macOS app to mirror the mac desktop to a selected AirPlay receiver?\nApp Store distribution is off the table, so I'm open to private APIs at this point.</p>\n\n<p>The story reads like so, \"As a user, I want to click a button, connect to an AirPlay receiver, mirror my desktop without using the AirPlay button at the top of the screen.\"</p>\n"}, {"tags": ["objective-c", "swift", "swift5", "xcode10.2"], "answers": [{"tags": [], "owner": {"reputation": 10736, "user_id": 45813, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9d4814af02064c80e0a15d48854b592?s=128&d=identicon&r=PG", "display_name": "Clay Bridges", "link": "https://stackoverflow.com/users/45813/clay-bridges"}, "is_accepted": true, "score": 17, "last_activity_date": 1553793275, "last_edit_date": 1592644375, "creation_date": 1553788642, "answer_id": 55401993, "question_id": 55401865, "link": "https://stackoverflow.com/questions/55401865/new-swift-5-warnings-for-objective-c-enums-how-to-get-rid-of-them/55401993#55401993", "title": "New Swift 5 warnings for Objective-C enums: how to get rid of them?", "body": "<h3>TL;DR</h3>\n<p>If you want Objective-C enums to be treated just like Swift ones, you now need to declare them using a different macro, <code>NS_CLOSED_ENUM</code>, versus the old <code>NS_ENUM</code>. Changing this will make the warning disappear.</p>\n<h3>Deets</h3>\n<p>From the <a href=\"https://developer.apple.com/documentation/xcode_release_notes/xcode_10_2_release_notes/swift_5_release_notes_for_xcode_10_2\" rel=\"noreferrer\">Swift 5 release notes</a>:</p>\n<blockquote>\n<p>In Swift 5 mode, switches over enumerations that are declared in Objective-C or that come from system frameworks are required to handle unknown cases\u2014cases that might be added in the future, or that may be defined privately in an Objective-C implementation file. Formally, Objective-C allows storing any value in an enumeration as long as it fits in the underlying type. These unknown cases can be handled by using the new @unknown default case, which still provides warnings if any known cases are omitted from the switch. They can also be handled using a normal default case.</p>\n<p>If you\u2019ve defined your own enumeration in Objective-C and you don\u2019t need clients to handle unknown cases, you can use the NS_CLOSED_ENUM macro instead of NS_ENUM. The Swift compiler recognizes this and doesn\u2019t require switches to have a default case.</p>\n</blockquote>\n"}], "owner": {"reputation": 10736, "user_id": 45813, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9d4814af02064c80e0a15d48854b592?s=128&d=identicon&r=PG", "display_name": "Clay Bridges", "link": "https://stackoverflow.com/users/45813/clay-bridges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2171, "favorite_count": 1, "accepted_answer_id": 55401993, "answer_count": 1, "score": 11, "last_activity_date": 1555090680, "creation_date": 1553788245, "last_edit_date": 1555090680, "question_id": 55401865, "link": "https://stackoverflow.com/questions/55401865/new-swift-5-warnings-for-objective-c-enums-how-to-get-rid-of-them", "title": "New Swift 5 warnings for Objective-C enums: how to get rid of them?", "body": "<p>As of Xcode 10.2, when using enums I've defined in Objective-C, but in a Swift 5 switch statement, I get the following warning, even if I've exhausted all the possible enum values. </p>\n\n<pre><code>Switch covers known cases, but 'MyObjectiveCEnumName' may have additional \nunknown values\n</code></pre>\n\n<p>Xcode is telling me I should fix this by</p>\n\n<pre><code>Handle unknown values using \"@unknown default\"\n</code></pre>\n\n<p>Why is this happening and what can I do about it?</p>\n\n<hr>\n\n<h3>Example</h3>\n\n<p>Objective-C enum</p>\n\n<pre><code>typedef NS_ENUM(NSUInteger, CardColor) {\n  CardColorBlack,\n  CardColorRed\n};\n</code></pre>\n\n<p>Swift 5 switch statement</p>\n\n<pre><code>var cardColor: CardColor = .black\n\nswitch (cardColor) {\ncase .black:\n  print(\"black\")\ncase .red:\n  print(\"red\")\n}\n</code></pre>\n"}, {"tags": ["objective-c", "clang-format"], "answers": [{"tags": [], "owner": {"reputation": 10736, "user_id": 45813, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9d4814af02064c80e0a15d48854b592?s=128&d=identicon&r=PG", "display_name": "Clay Bridges", "link": "https://stackoverflow.com/users/45813/clay-bridges"}, "is_accepted": true, "score": 0, "last_activity_date": 1581446836, "creation_date": 1581446836, "answer_id": 60175514, "question_id": 55401308, "link": "https://stackoverflow.com/questions/55401308/does-clang-format-recognize-new-ns-closed-enum-objective-c-macro/60175514#60175514", "title": "Does clang-format recognize new NS_CLOSED_ENUM Objective-C macro?", "body": "<p>As of <a href=\"https://reviews.llvm.org/D65012\" rel=\"nofollow noreferrer\">these commits</a> (around July 2019), clang-format apparently does support <code>NS_CLOSED_ENUM</code>.</p>\n"}], "owner": {"reputation": 10736, "user_id": 45813, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9d4814af02064c80e0a15d48854b592?s=128&d=identicon&r=PG", "display_name": "Clay Bridges", "link": "https://stackoverflow.com/users/45813/clay-bridges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 60175514, "answer_count": 1, "score": 3, "last_activity_date": 1581446836, "creation_date": 1553786652, "last_edit_date": 1581446334, "question_id": 55401308, "link": "https://stackoverflow.com/questions/55401308/does-clang-format-recognize-new-ns-closed-enum-objective-c-macro", "title": "Does clang-format recognize new NS_CLOSED_ENUM Objective-C macro?", "body": "<p>As of Xcode 10.2, there is a new macro for specifying enums in Objective-C, <code>NS_CLOSED_ENUM</code>. Using this in place of <code>NS_ENUM</code> is required, to allow those enums to be used <em>in Swift</em>, as if they were <em>declared in Swift</em> (meaning without either requiring an <code>@unknown</code> handler in switch statements, or getting a warning). See <a href=\"https://stackoverflow.com/a/55401993/45813\">here</a> for more.</p>\n\n<p>It appears that clang-format has not caught up to this new reality, and won't recognize</p>\n\n<pre><code>typedef NS_CLOSED_ENUM(...\n</code></pre>\n\n<p>the same as it does</p>\n\n<pre><code>typedef NS_ENUM(...\n</code></pre>\n\n<p>Is this true?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 21467, "user_id": 766570, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/urpdN.jpg?s=128&g=1", "display_name": "abbood", "link": "https://stackoverflow.com/users/766570/abbood"}, "is_accepted": true, "score": 6, "last_activity_date": 1554132719, "last_edit_date": 1554132719, "creation_date": 1553791548, "answer_id": 55402902, "question_id": 55401279, "link": "https://stackoverflow.com/questions/55401279/how-to-disable-facebook-codeless-events-programmatically/55402902#55402902", "title": "How to disable Facebook codeless events programmatically?", "body": "<p>It turns out this is some facebook remote config thing, if we comment out <a href=\"https://github.com/facebook/facebook-objc-sdk/blob/master/FBSDKCoreKit/FBSDKCoreKit/AppEvents/Internal/Codeless/FBSDKEventBindingManager.m#L193-L207\" rel=\"nofollow noreferrer\">this code</a>:</p>\n\n<pre><code>  //  UITableView\n  void (^tableViewBlock)(UITableView *tableView,\n                         SEL cmd,\n                         id&lt;UITableViewDelegate&gt; delegate) =\n  ^(UITableView *tableView, SEL cmd, id&lt;UITableViewDelegate&gt; delegate) {\n    if (!delegate) {\n      return;\n    }\n\n    [self matchView:tableView delegate:delegate];\n  };\n  [FBSDKSwizzler swizzleSelector:@selector(setDelegate:)\n                         onClass:[UITableView class]\n                       withBlock:tableViewBlock\n                           named:@\"match_table_view\"];\n</code></pre>\n\n<p>It works just fine. This feature seems to turn on once this flag is <a href=\"https://github.com/facebook/facebook-objc-sdk/blob/master/FBSDKCoreKit/FBSDKCoreKit/AppEvents/FBSDKAppEvents.m#L965\" rel=\"nofollow noreferrer\">turned on</a>:</p>\n\n<pre><code>#if !TARGET_OS_TV\n- (void)enableCodelessEvents {\n  if (_serverConfiguration.isCodelessEventsEnabled) { &lt;-----\n    if (!_eventBindingManager) {\n      _eventBindingManager = [[FBSDKEventBindingManager alloc] init];\n    }\n\n    if ([FBSDKInternalUtility isUnity]) {\n      [FBSDKAppEvents sendEventBindingsToUnity];\n    } else {\n      [_eventBindingManager updateBindings:[FBSDKEventBindingManager\n                                            parseArray:_serverConfiguration.eventBindings]];\n    }\n  }\n}\n#endif\n</code></pre>\n\n<p>the question is: what turned on this flag? (ie from some fb remote config)</p>\n\n<pre><code>_serverConfiguration.isCodelessEventsEnabled\n</code></pre>\n\n<p>that's what we're trying to find out</p>\n\n<h1>update: short answer: you cannot (programmatically, via dashboard, or even by contacting fb support themselves)</h1>\n\n<p>Facebook tech support got back to me stating in plain english that this option is simply not possible:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mu6BR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mu6BR.png\" alt=\"enter image description here\"></a></p>\n\n<p>So long story short: by installing <a href=\"https://developers.facebook.com/docs/app-ads/sdk-setup#\" rel=\"nofollow noreferrer\">FB App Events SDK</a> you will automatically turn on the FB remote config that enables Codeless Events and there is no way to turn it off.</p>\n\n<h1>Conclusion</h1>\n\n<p>We were able to reproduce the problem (specifically, turning on fb remote events flag by doing several steps on the facebook admin)</p>\n\n<h2>first run a sample app and test if the flag is on/off:</h2>\n\n<p><a href=\"https://i.stack.imgur.com/qnAXc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qnAXc.png\" alt=\"enter image description here\"></a></p>\n\n<h2>go to events manager and click on + add new data source > app events</h2>\n\n<p><a href=\"https://i.stack.imgur.com/44VgI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44VgI.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/A2MV6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A2MV6.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/A3L5c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3L5c.png\" alt=\"enter image description here\"></a></p>\n\n<p>when you click on that button you'll see this</p>\n\n<p><a href=\"https://i.stack.imgur.com/6KCZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6KCZN.png\" alt=\"enter image description here\"></a></p>\n\n<p>and that's when the flag is turned on!</p>\n"}], "owner": {"reputation": 21467, "user_id": 766570, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/urpdN.jpg?s=128&g=1", "display_name": "abbood", "link": "https://stackoverflow.com/users/766570/abbood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1075, "favorite_count": 5, "accepted_answer_id": 55402902, "answer_count": 1, "score": 8, "last_activity_date": 1555804163, "creation_date": 1553786582, "last_edit_date": 1555804163, "question_id": 55401279, "link": "https://stackoverflow.com/questions/55401279/how-to-disable-facebook-codeless-events-programmatically", "title": "How to disable Facebook codeless events programmatically?", "body": "<h1>Problem</h1>\n\n<p>We've had a live app for months that worked fine, and then suddenly this code broke:</p>\n\n<p><strong>ViewController.swift</strong></p>\n\n<pre><code>self.tableView.delegate = self.viewModel.tableViewHandler\n</code></pre>\n\n<p>which used this code</p>\n\n<h3>Broken code</h3>\n\n<p><strong>component.swift</strong></p>\n\n<pre><code>public override weak var delegate: UITableViewDelegate? {\n     get { return super.delegate }\n     set {\n         if let del = newValue as? TableViewDelegateProxy {\n             super.delegate = del\n         } else if let del = super.delegate as? TableViewDelegateProxy {\n             del.targetDelegate = newValue\n         } else {\n             super.delegate = newValue\n         }\n     }\n }\n</code></pre>\n\n<p>We couldn't figure out why, but we fixed it with this code:</p>\n\n<h3>Fixed code</h3>\n\n<p><strong>ViewController.swift</strong></p>\n\n<pre><code>self.tableView.fixedDelegate = self.viewModel.tableViewHandler\n</code></pre>\n\n<p><strong>component.swift</strong></p>\n\n<pre><code>// IMPORTANT NOTE: That is the correct way to set a delegate,\n//                 otherwise overriding `delegate` property fails\npublic var fixedDelegate: UITableViewDelegate? {\n    get { return self.delegate }\n    set {\n        self.delegateProxy.targetDelegate = newValue\n        self.delegate = self.delegateProxy\n    }\n}\n</code></pre>\n\n<p>Initially we thought it was a problem from the backend (malformed JSON or something like that), but then we realized the following: </p>\n\n<ul>\n<li><em>broken code</em> works when compiled using <strong>debug configuration</strong>, but breaks when using <strong>release configuration</strong></li>\n<li><em>fixed code</em> works when compiled using <strong>debug configuration</strong> and also works when using <strong>release configuration</strong></li>\n</ul>\n\n<p>We jumped back many releases in our Git history, and the same was always true, which is making us believe that there may have been some change to our Xcode or Objc/Swift runtime libraries which is causing this weirdness.</p>\n\n<h1>Question</h1>\n\n<p>What can be changing in our Xcode IDE to explain this? Can it be something that is changing remotely or behind the scenes? How can we further debug this?</p>\n\n<h1>References</h1>\n\n<p>1) Xcode version: Version 10.1 (10B61)<br>\n2) Swift version:</p>\n\n<pre><code>xcrun swift -version\nApple Swift version 4.2.1 (swiftlang-1000.11.42 clang-1000.11.45.1)\nTarget: x86_64-apple-darwin18.2.0\n</code></pre>\n\n<p>3) obj-c libraries:</p>\n\n<pre><code> otool -L /usr/lib/libobjc.A.dylib\n/usr/lib/libobjc.A.dylib:\n        /usr/lib/libobjc.A.dylib (compatibility version 1.0.0, current version 228.0.0)\n        /usr/lib/libc++abi.dylib (compatibility version 1.0.0, current version 400.17.0)\n        /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 400.9.4)\n        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1252.200.5)\n</code></pre>\n\n<hr>\n\n<h1>Update</h1>\n\n<p>First see this <a href=\"https://stackoverflow.com/a/55402902/766570\">answer</a>, we need to turn off <a href=\"https://github.com/facebook/facebook-objc-sdk/blob/master/FBSDKCoreKit/FBSDKCoreKit/AppEvents/FBSDKAppEvents.m#L965\" rel=\"nofollow noreferrer\">this</a> flag programmatically</p>\n\n<pre><code>_serverConfiguration.isCodelessEventsEnabled\n</code></pre>\n\n<p>not sure how from the sdk (Android or iOS)</p>\n\n<h2>What we have tried</h2>\n\n<p>1) we couldn't find any way of doing this through the FB SDKs, such as this one: <a href=\"https://developers.facebook.com/docs/reference/androidsdk/current/facebook/com/facebook/facebooksdk.html/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/reference/androidsdk/current/facebook/com/facebook/facebooksdk.html/</a></p>\n\n<p>2) we tried to reverse engineer contacting the FB APIs via curl, it worked for scenarios like email:</p>\n\n<pre><code>curl --header \"Content-Type: application/json\" \\\n  --request POST \\\n  --data '{\"app_events_feature_bitmask\":0}' \\\n  \"https://graph.facebook.com/***?access_token=&lt;app_secret&gt;\"\n</code></pre>\n\n<p>which returned this</p>\n\n<pre><code>{\"success\":true}\n</code></pre>\n\n<p>but for app events feature nothing changed:</p>\n\n<pre><code>curl -i -X GET \"https://graph.facebook.com/***?fields=app_events_feature_bitmask&amp;access_token=&lt;app_secret&gt;\"\n</code></pre>\n\n<p>it returns the old value:</p>\n\n<pre><code>{\"app_events_feature_bitmask\":37,\"id\":\"***\"}\n</code></pre>\n\n<p>3) <a href=\"https://developers.facebook.com/support/bugs/579114332584238\" rel=\"nofollow noreferrer\">ask FB tech support</a></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2463, "user_id": 4280337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EjrbR.png?s=128&g=1", "display_name": "ManWithBear", "link": "https://stackoverflow.com/users/4280337/manwithbear"}, "edited": false, "score": 0, "creation_date": 1553785183, "post_id": 55400637, "comment_id": 97522048, "body": "It is definitely duplicate, but I can&#39;t find original question"}], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553786454, "post_id": 55400808, "comment_id": 97522933, "body": "Sorry I am not familiar with Swift. Could you please post the objective c code?"}, {"owner": {"reputation": 2463, "user_id": 4280337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EjrbR.png?s=128&g=1", "display_name": "ManWithBear", "link": "https://stackoverflow.com/users/4280337/manwithbear"}, "reply_to_user": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553786489, "post_id": 55400808, "comment_id": 97522965, "body": "@jeddi I not sure I remember how to do it :D I will give it a try"}, {"owner": {"reputation": 2463, "user_id": 4280337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EjrbR.png?s=128&g=1", "display_name": "ManWithBear", "link": "https://stackoverflow.com/users/4280337/manwithbear"}, "reply_to_user": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553786831, "post_id": 55400808, "comment_id": 97523257, "body": "@jeddi added. Feel free to report back any syntax errors. I tried my best :)"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553789659, "post_id": 55400808, "comment_id": 97525212, "body": "Very kind of you to post the code in objective c. I don&#39;t understand however this: if in the AppDelegate I put &quot;supportedInterfaceOrientations] ?: UIInterfaceOrientationMaskPortrait;&quot; wouldn&#39;t this limit the whole app to Portrait mode?"}, {"owner": {"reputation": 2463, "user_id": 4280337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EjrbR.png?s=128&g=1", "display_name": "ManWithBear", "link": "https://stackoverflow.com/users/4280337/manwithbear"}, "reply_to_user": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553792547, "post_id": 55400808, "comment_id": 97526865, "body": "@jeddi no, it will try to get supported interface orientation from <code>rootViewController</code> (I assume it will be <code>ChildOrientationTabBarController</code>) and if it fail only then return Portrait. But you can return instead whatever you want, I just used it as example"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553874033, "post_id": 55400808, "comment_id": 97561100, "body": "Ok, thanks a lot. Haven\u2019t tried yet but will give it a try tonight and let you know"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1553945515, "post_id": 55400808, "comment_id": 97579807, "body": "I have updated the question with more details as I don&#39;t manage to adapt your code to mine. Thank you"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1554121013, "post_id": 55400808, "comment_id": 97623150, "body": "It doesn&#39;t seem to work. It does initialize each view in the desired orientation, but then it fails in preventing autorotation despite the flag being set to FALSE."}], "tags": [], "owner": {"reputation": 2463, "user_id": 4280337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EjrbR.png?s=128&g=1", "display_name": "ManWithBear", "link": "https://stackoverflow.com/users/4280337/manwithbear"}, "is_accepted": false, "score": 0, "last_activity_date": 1553786805, "last_edit_date": 1553786805, "creation_date": 1553785293, "answer_id": 55400808, "question_id": 55400637, "link": "https://stackoverflow.com/questions/55400637/portrait-and-landscape-views-coexisting-in-the-same-ios-app/55400808#55400808", "title": "Portrait and Landscape views coexisting in the same iOS app", "body": "<p>Application asks only top controller for interface orientation. </p>\n\n<p>In your case <code>UITabBarController</code> is top controller and other controllers are children of it.  </p>\n\n<p>You need create own subclass of <code>UITabBarController</code> override this methods and pass values from current selected controller instead.</p>\n\n<p>Example of such containers:<br>\nSwift</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>class ChildOrientationTabBarController: UITabBarController {\n    override var supportedInterfaceOrientations: UIInterfaceOrientationMask {\n        return selectedViewController?.supportedInterfaceOrientations ?? .portrait\n    }\n    override var shouldAutorotate: Bool {\n        return selectedViewController?.shouldAutorotate ?? false\n    }\n}\nclass ChildOrientationNavigationController: UINavigationController {\n    override var supportedInterfaceOrientations: UIInterfaceOrientationMask {\n        return topViewController?.supportedInterfaceOrientations ?? .portrait\n    }\n    override var shouldAutorotate: Bool {\n        return topViewController?.shouldAutorotate ?? false\n    }\n}\n</code></pre>\n\n<p>Objective-C</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@interface ChildOrientationTabBarController : UITabBarController\n@end\n@implementation ChildOrientationTabBarController\n\n- (UIInterfaceOrientationMask)supportedInterfaceOrientations {\n    return [self.selectedViewController supportedInterfaceOrientations] ?: UIInterfaceOrientationMaskPortrait;\n}\n\n- (BOOL)shouldAutorotate {\n    return [self.selectedViewController shouldAutorotate] ?: NO;\n}\n@end\n\n@interface ChildOrientationNavigationController : UINavigationController\n@end\n@implementation ChildOrientationNavigationController\n\n- (UIInterfaceOrientationMask)supportedInterfaceOrientations {\n    return [self.topViewController supportedInterfaceOrientations] ?: UIInterfaceOrientationMaskPortrait;\n}\n\n- (BOOL)shouldAutorotate {\n    return [self.topViewController shouldAutorotate] ?: NO;\n}\n@end\n</code></pre>\n\n<p>And AppDelegate should override <code>supportedInterfaceOrientation</code> method as:<br>\nSwift</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>func application(_ application: UIApplication, supportedInterfaceOrientationsFor window: UIWindow?) -&gt; UIInterfaceOrientationMask {\n    return window?.rootViewController.supportedInterfaceOrientations ?? .portrait\n}\n</code></pre>\n\n<p>Objective-C</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (UIInterfaceOrientationMask)application:(UIApplication *)application supportedInterfaceOrientationsForWindow:(UIWindow *)window {\n    return [[window rootViewController] supportedInterfaceOrientations] ?: UIInterfaceOrientationMaskPortrait;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1554121339, "post_id": 55432853, "comment_id": 97623327, "body": "Can you please expand on how to do that? I definitely need certain views only in portrait mode and others in landscape mode, without being able to autorotate. Would it work if I separated them in this way: all portrait views inside the tabcontroller; the single landscape view outside the tabcontroller, being triggered by pressing on one of the tabs of the tabcontroller, leaving the same. Then to go back to it, the tabbcarcontroller would need to be reinitialized again. Would that prevent the autorotation or not?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1554122469, "post_id": 55432853, "comment_id": 97624027, "body": "I don\u2019t know what more I can say. A presented view controller is a presented view controller. I\u2019ve been giving this same answer for years. See <a href=\"https://stackoverflow.com/a/15301322/341994\">stackoverflow.com/a/15301322/341994</a>."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1553959123, "creation_date": 1553959123, "answer_id": 55432853, "question_id": 55400637, "link": "https://stackoverflow.com/questions/55400637/portrait-and-landscape-views-coexisting-in-the-same-ios-app/55432853#55432853", "title": "Portrait and Landscape views coexisting in the same iOS app", "body": "<blockquote>\n  <p>I've read that recently it is no longer possible to apply individual settings to each view, which seems to be absurd.</p>\n</blockquote>\n\n<p>It isn\u2019t absurd, and it is the case. You cannot make different children of a tab view controller adopt different forced orientations.</p>\n\n<p>The only way to force an orientation different from the current orientation is through a presented view controller.</p>\n"}], "owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 55432853, "answer_count": 2, "score": -3, "last_activity_date": 1553959123, "creation_date": 1553784803, "last_edit_date": 1553945459, "question_id": 55400637, "link": "https://stackoverflow.com/questions/55400637/portrait-and-landscape-views-coexisting-in-the-same-ios-app", "title": "Portrait and Landscape views coexisting in the same iOS app", "body": "<p>I have a <code>UITabBarController</code> controlling multiple <code>UIViewControllers</code></p>\n\n<p>which display different <code>UIViews</code>. </p>\n\n<p>ALL BUT ONE of the views should display ONLY IN PORTRAIT MODE, without being able to rotate, while ONLY ONE VIEW should display in LANDSCAPE MODE ONLY, without being able to rotate. </p>\n\n<p>It seems trivial, but I am unable to achieve this... Either all views are in portrait mode or all of them are in landscape mode. They either all rotate or none of them does.</p>\n\n<p>Below is the code for the Landscape view, but the instructions are completely neglected by the compiler and the view rotates to portrait mode when the device is rotated.</p>\n\n<pre><code>-(UIInterfaceOrientation)preferredInterfaceOrientationForPresentation  \n{\n     return UIInterfaceOrientationLandscapeRight;  \n}\n\n-(BOOL) shouldAutorotate \n{\n     return NO; \n}\n</code></pre>\n\n<p>The only way to stop the autorotation is by ticking a box in <code>Device Orientation</code> in IB, but then the setting is applied to ALL the views and none of them rotates..</p>\n\n<p>I've read that recently it is no longer possible to apply individual settings to each view, which seems to be absurd.</p>\n\n<p>Is there any workaround?</p>\n\n<p><strong>Edited with more info:</strong>\n@ManWithBeard, I cannot figure out how to adapt your code to mine.. My UITabBarController controls different UIViewControllers, defined in their headers as follows:</p>\n\n<pre><code>@interface Portrait_ViewController : UIViewController\n@interface LandscapeViewController : UIViewController\n</code></pre>\n\n<p>The AppDelegate takes to the first view controller with </p>\n\n<pre><code>[self.tabBarController setSelectedViewController: Portrait_ViewController]\n</code></pre>\n\n<p>and then from any ViewContoller, I move to the desired one with </p>\n\n<pre><code>[self.tabBarController setSelectedIndex:index]\n</code></pre>\n\n<p>I don\u2019t understand how to apply <code>UITabBarController</code> to the UIViewControllers with <code>@interface ChildOrientationTabBarController : UITabBarController</code> as you have suggested.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "self"], "comments": [{"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1554695084, "post_id": 55400104, "comment_id": 97831177, "body": "This doesn&#39;t really make sense. You make a new variable called <code>Self</code>, that is initialized to <code>self</code> but you later assign something else to it in a block, but <code>Self</code> is not used by anything after that assignment, so it is unclear what the point of the assignment is."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11272666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-amFttWHPZL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyHBe-_5tU-eZ66GyRbNZa-LCAhg/mo/photo.jpg?sz=128", "display_name": "Void Main", "link": "https://stackoverflow.com/users/11272666/void-main"}, "edited": false, "score": 0, "creation_date": 1553783557, "post_id": 55400155, "comment_id": 97520840, "body": "So if I call my method init, how  can I assign a value to self inside  a block? __weak typeof(self) weakSelf = self; - this is a const link to self. It&#39;s gonna be impossible to assign to weakSelf anything."}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "reply_to_user": {"reputation": 11, "user_id": 11272666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-amFttWHPZL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyHBe-_5tU-eZ66GyRbNZa-LCAhg/mo/photo.jpg?sz=128", "display_name": "Void Main", "link": "https://stackoverflow.com/users/11272666/void-main"}, "edited": false, "score": 0, "creation_date": 1553783650, "post_id": 55400155, "comment_id": 97520928, "body": "You cannot assign any value to self. <code>self</code> is a pointer to the object. So inside the block, you can modify properties of the object but not the object itself. What exactly are you trying to accomplish?"}, {"owner": {"reputation": 11, "user_id": 11272666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-amFttWHPZL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyHBe-_5tU-eZ66GyRbNZa-LCAhg/mo/photo.jpg?sz=128", "display_name": "Void Main", "link": "https://stackoverflow.com/users/11272666/void-main"}, "edited": false, "score": 0, "creation_date": 1553783840, "post_id": 55400155, "comment_id": 97521066, "body": "I&#39;m trying to refresh self object with data from server"}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "reply_to_user": {"reputation": 11, "user_id": 11272666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-amFttWHPZL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyHBe-_5tU-eZ66GyRbNZa-LCAhg/mo/photo.jpg?sz=128", "display_name": "Void Main", "link": "https://stackoverflow.com/users/11272666/void-main"}, "edited": false, "score": 0, "creation_date": 1553784238, "post_id": 55400155, "comment_id": 97521350, "body": "my suggestion is that you refresh properties inside the object."}], "tags": [], "owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "is_accepted": false, "score": 0, "last_activity_date": 1553783457, "creation_date": 1553783457, "answer_id": 55400155, "question_id": 55400104, "link": "https://stackoverflow.com/questions/55400104/how-can-i-assign-a-value-to-self-inside-a-block/55400155#55400155", "title": "How can I assign a value to self inside a block?", "body": "<p>The correct <code>weakSelf</code> pattern is:</p>\n\n<pre><code>__weak typeof(self) weakSelf = self;\n</code></pre>\n\n<p>But you can't assign anything to <code>self</code>.</p>\n\n<p>The only place where the assignment to <code>self</code> is possible is in the <code>init</code> method.</p>\n\n<p>Probably you want to assign the results to a property in the class.</p>\n"}], "owner": {"reputation": 11, "user_id": 11272666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-amFttWHPZL0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reyHBe-_5tU-eZ66GyRbNZa-LCAhg/mo/photo.jpg?sz=128", "display_name": "Void Main", "link": "https://stackoverflow.com/users/11272666/void-main"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553790424, "creation_date": 1553783301, "last_edit_date": 1553790424, "question_id": 55400104, "link": "https://stackoverflow.com/questions/55400104/how-can-i-assign-a-value-to-self-inside-a-block", "title": "How can I assign a value to self inside a block?", "body": "<p>I'm trying to refresh my class entity with data from server. So I need to assign a value to self inside a success block. When I use __weak before block reference to self, I've got nil in self after assignment. And without __weak I've got a retain cycle. So is it possible to assign a new value to self inside a block? If it's not, are there any other ways to refresh a self value?</p>\n\n<pre><code>- (void) refreshAssignment:(void (^)())successBlock  Error:(void (^)(NSString *errorMessage))errorBlock{\nNSString *subUrl = @\"/getAssignmentById\";\nNSDictionary *prs = @{@\"assignmentId\":self.taskId,\n                      @\"mask\":[NSNumber numberWithInteger:1]\n                      };\n__block __weak Assignment* Self = self;\n[[NetworkManager sharedSource] getStandart:prs andUrl:subUrl Success:^(NSDictionary *data) {\n    Self = [[NetworkManager sharedSource] assignmentsWithArray:data[@\"data\"] Type:Self.type][0];\n} Error:^(NSString *errorMessage) {\n    errorBlock(errorMessage);\n}]; }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitabbarcontroller", "mkmapview"], "comments": [{"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 0, "creation_date": 1553782168, "post_id": 55398963, "comment_id": 97519691, "body": "Set the proper constraints"}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "edited": false, "score": 0, "creation_date": 1553864240, "post_id": 55400148, "comment_id": 97554761, "body": "Thank you!  I heard about the constraints but had little idea how to use them.  What are they for, I mean, why is it necessary when I &quot;drew&quot; what I wanted in IB?"}, {"owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "reply_to_user": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "edited": false, "score": 0, "creation_date": 1553879831, "post_id": 55400148, "comment_id": 97564135, "body": "So\u2010called Auto Layout. you can define constraints to control how your user interface adapts immediately to any size changes. See also <a href=\"https://developer.apple.com/design/adaptivity/\" rel=\"nofollow noreferrer\">developer.apple.com/design/adaptivity</a>"}], "tags": [], "owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "is_accepted": true, "score": 3, "last_activity_date": 1553783430, "creation_date": 1553783430, "answer_id": 55400148, "question_id": 55398963, "link": "https://stackoverflow.com/questions/55398963/mkmapview-not-full-screen-with-tabbar/55400148#55400148", "title": "MKMapView not full screen with TabBar", "body": "<p>You need to add the constraints.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PmvKd.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PmvKd.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 55400148, "answer_count": 1, "score": 1, "last_activity_date": 1553783430, "creation_date": 1553780088, "last_edit_date": 1553780744, "question_id": 55398963, "link": "https://stackoverflow.com/questions/55398963/mkmapview-not-full-screen-with-tabbar", "title": "MKMapView not full screen with TabBar", "body": "<p>I am making a simple app to display various things and on one of the tabs I like for it to display a map of your current location.  It seems for some reason, even though in Xcode the controller is stretched towards the bottom, it looks like when run in the simulator, an area of unused space and I am unsure why.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>@interface MapViewController ()\n@property (weak, nonatomic) IBOutlet MKMapView *map;\n@end\n\n@implementation MapViewController\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n   _map.delegate = self;\n   _map.showsUserLocation = YES;\n}\n\n-(void)mapView:(MKMapView *)mapView didUpdateUserLocation:(MKUserLocation *)userLocation\n{\n   _map.centerCoordinate = userLocation.location.coordinate; \n   MKCoordinateRegion region = MKCoordinateRegionMakeWithDistance(userLocation.coordinate, 200, 200);\n   [self.map setRegion:[self.map regionThatFits:region] animated:YES];\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/sRPnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sRPnA.png\" alt=\"Xcode Map View\"></a> <a href=\"https://i.stack.imgur.com/XkG7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XkG7k.png\" alt=\"Simulator View\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uiimageview", "ios-autolayout"], "comments": [{"owner": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "edited": false, "score": 0, "creation_date": 1553772499, "post_id": 55396115, "comment_id": 97513126, "body": "Just glancing it looks right. Click on the image and change the content hugging to 1000. Also do it on the sender testlabel."}, {"owner": {"reputation": 1, "user_id": 11134660, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--eNAfrpCpy4/AAAAAAAAAAI/AAAAAAAAAIo/KjarqIjRCjM/photo.jpg?sz=128", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/11134660/anupam-das"}, "reply_to_user": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "edited": false, "score": 0, "creation_date": 1553773683, "post_id": 55396115, "comment_id": 97513872, "body": "Ok, but which content hugging should I change? Vertical or Horizontal or both?"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553774766, "post_id": 55396115, "comment_id": 97514500, "body": "@AnupamDas - first, you don&#39;t need to implement <code>heightForRowAtIndexPath</code> if you&#39;re returning <code>UITableViewAutomaticDimension</code>. Second, you say <i>&quot;set UIImageView size dynamically according to image size&quot;</i> ... that&#39;s the code we need to see to figure out what&#39;s going on."}, {"owner": {"reputation": 1, "user_id": 11134660, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--eNAfrpCpy4/AAAAAAAAAAI/AAAAAAAAAIo/KjarqIjRCjM/photo.jpg?sz=128", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/11134660/anupam-das"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553775632, "post_id": 55396115, "comment_id": 97515042, "body": "@DonMag - That&#39;s is not work for me, still searching for better option."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553775742, "post_id": 55396115, "comment_id": 97515097, "body": "@AnupamDas - show the code you are using to set the <code>UIImageViewSize</code> &quot;dynamically&quot;. I suspect your image view is set to <code>Aspect Fit</code> and your image is actually much taller than it appears in the view."}, {"owner": {"reputation": 1, "user_id": 11134660, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--eNAfrpCpy4/AAAAAAAAAAI/AAAAAAAAAIo/KjarqIjRCjM/photo.jpg?sz=128", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/11134660/anupam-das"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553777262, "post_id": 55396115, "comment_id": 97516153, "body": "@DonMag - Yes I set it as Aspect Fit but I didn&#39;t set image view&#39;s size dynamically, as I did it in storyboard using autolayout which is already attached with my question."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553777510, "post_id": 55396115, "comment_id": 97516339, "body": "@AnupamDas - that doesn&#39;t make sense... you say you are setting the size dynamically according to image size. So, show the code that is doing that. The pictures you&#39;ve shown don&#39;t indicate anything about size constraints. To get help, you&#39;re going to need to show the code where you are changing the image."}, {"owner": {"reputation": 1, "user_id": 11134660, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--eNAfrpCpy4/AAAAAAAAAAI/AAAAAAAAAIo/KjarqIjRCjM/photo.jpg?sz=128", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/11134660/anupam-das"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553834588, "post_id": 55396115, "comment_id": 97541125, "body": "@DonMag [cellRecImg.imgMessage sd_setImageWithURL:[NSURL URLWithString:[dictMessage objectForKey:@&quot;msg_attachment&quot;]] placeholderImage:[UIImage imageNamed:@&quot;Image-33&quot;]]; CGFloat imageHeight=cellRecImg.imgMessage.frame.size.height; CGFloat imageWidth=cellRecImg.imgMessage.frame.size.width; float ratio=cellRecImg.imgMessage.image.size.width/cellRecImg.imgM&zwnj;&#8203;essage.image.size.he&zwnj;&#8203;ight; float newHeight=imageHeight/ratio; float newWidth=imageWidth/ratio; cellRecImg.constImageHeight.constant=newHeight; cellRecImg.constImageWidth.constant=newWidth; [self.view layoutIfNeeded];"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1553863309, "post_id": 55396115, "comment_id": 97554245, "body": "@AnupamDas - you&#39;re doing a couple things wrong. Mainly, <code>sd_setImageWithURL</code> is asynchronous, so when you follow it with <code>CGFloat imageHeight = cellRecImg.imgMessage.image.size.height;</code> you are getting the size of the <i>placeholder</i> image, not the image from the URL. I&#39;d suggest searching on <code>sd_setImageWithURL uitableviewcell height</code> -- you&#39;ll find lots of results, because it&#39;s been done and discussed many times."}], "owner": {"reputation": 1, "user_id": 11134660, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--eNAfrpCpy4/AAAAAAAAAAI/AAAAAAAAAIo/KjarqIjRCjM/photo.jpg?sz=128", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/11134660/anupam-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553837402, "creation_date": 1553771403, "last_edit_date": 1553837402, "question_id": 55396115, "link": "https://stackoverflow.com/questions/55396115/how-to-set-dynamic-uiimageview-height-and-also-uitableviewcell-height-according", "title": "How to set dynamic UIImageView height and also UITableViewCell height according to UIImageView height?", "body": "<p>Want to set UIImageView size dynamically according to image size and also want to set UITableViewCell height according to above mentioned UIImageView height, which is in UITableViewCell using AutoLayout in Objective c.</p>\n\n<pre><code>- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {\n\nreturn UITableViewAutomaticDimension;\n}\n</code></pre>\n\n<p>And my code under cellForRowAtIndexPath method is given below:</p>\n\n<pre><code>[cellRecImg.imgMessage sd_setImageWithURL:[NSURL URLWithString:[dictMessage objectForKey:@\"msg_attachment\"]] placeholderImage:[UIImage imageNamed:@\"Image-33\"]];\nCGFloat imageHeight = cellRecImg.imgMessage.image.size.height;\nCGFloat imageWidth = cellRecImg.imgMessage.image.size.width;\nfloat ratio = cellRecImg.imgMessage.frame.size.width / cellRecImg.imgMessage.frame.size.height;\nfloat newHeight = imageHeight / ratio;\nfloat newWidth = imageWidth / ratio;\ncellRecImg.constImageHeight.constant = newHeight;\ncellRecImg.constImageWidth.constant = newWidth;\n[self.view layoutIfNeeded];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/e5HXJ.png\" rel=\"nofollow noreferrer\">This is my UITableViewCell's xib design where can you see the view' constant.</a>\n<a href=\"https://i.stack.imgur.com/VIJMb.png\" rel=\"nofollow noreferrer\">This is my UIImageView, here you can see the constants of UIImageView's.</a>\n<a href=\"https://i.stack.imgur.com/b9H8t.png\" rel=\"nofollow noreferrer\">This the result I got from simulator.</a></p>\n\n<p>In this result Image you can see that UIImageView create lots of extra gaps form UIImage to UIImageView edge. Actually I don't want that gap and also want to set the UITableViewRow height dynamic according to UIImageView height.</p>\n\n<p><strong>Please answer in Objective c language</strong></p>\n"}, {"tags": ["objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1553767810, "post_id": 55394711, "comment_id": 97510226, "body": "where does &quot;CustomNavController&quot; come from? Your code doesn&#39;t show this"}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1553769641, "post_id": 55394711, "comment_id": 97511321, "body": "Unrelated to your question: I would honestly just throw away the old ObjC code that is not storyboard based.  It is an absolute waste of time.  It takes minutes to make a perfect modern storyboard for a given scene.  (Particularly since it looks like you are dealing with Cameras, just throw away the old ObjC code.  Waste of time.)"}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "edited": false, "score": 0, "creation_date": 1553770943, "post_id": 55395512, "comment_id": 97512142, "body": "Ohh I see, if I make the navigation directly to the viewController it works, but then I lose the navigationBar which I need. CreateExpenseVC is embedded in CustomNavController by storyboard, so in the code of CustomNavController I have only some code to set up the view..."}], "tags": [], "owner": {"reputation": 1480, "user_id": 3359906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HkBwS.jpg?s=128&g=1", "display_name": "AjinkyaSharma", "link": "https://stackoverflow.com/users/3359906/ajinkyasharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1553772530, "last_edit_date": 1553772530, "creation_date": 1553769508, "answer_id": 55395512, "question_id": 55394711, "link": "https://stackoverflow.com/questions/55394711/how-to-pass-information-from-objective-cs-viewcontroller-to-a-swift-storyboard/55395512#55395512", "title": "how to pass information from Objective-c&#39;s viewcontroller to a Swift storyboard", "body": "<p>I tried to replicate your problem with the way you have implemented and it worked fine for me.</p>\n\n<p>But your error said, that [YourApp.CustomNavController setExpenseImage:] is not implemented. That means your view controller is embedded inside a navigation controller.\nAnd you are trying to get navigation controller by this code</p>\n\n<pre><code>[addExpenseStoryboard \n     instantiateViewControllerWithIdentifier:@\"expenseNavController\"]\n</code></pre>\n\n<p>so your createExpenseVC is actually of type Navigation controller and not CreateExpenseViewController. </p>\n\n<p>And that is why it doesn't get the expenseImage.</p>\n\n<p>That is where your problem lies</p>\n\n<p>Here is what you can do.. </p>\n\n<pre><code>UIStoryboard *addExpenseStoryboard = [UIStoryboard storyboardWithName:@\"CreateExpense\" bundle:nil];\nUINavigationController *navController = [addExpenseStoryboard instantiateViewControllerWithIdentifier:@\"ExpenseNavC\"];\nCreateExpenseViewController *createExpenseVC = navController.viewControllers[0];\nUIImage *image = [UIImage imageNamed:@\"383975\"];\n\ncreateExpenseVC.expenseImage = image;\n[self presentViewController: navController animated: YES completion: nil];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "edited": false, "score": 0, "creation_date": 1553771150, "post_id": 55395927, "comment_id": 97512263, "body": "if I don&#39;t try to pass any data it makes the navigation well. It loads the navController and the first viewController set to that navigation. The problem comes when I try to pass some data to the viewController because of the navController"}, {"owner": {"reputation": 448, "user_id": 8591160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_ak78SRom0/AAAAAAAAAAI/AAAAAAAAAH4/r4Of4-1Le68/photo.jpg?sz=128", "display_name": "Philip Borbon", "link": "https://stackoverflow.com/users/8591160/philip-borbon"}, "reply_to_user": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "edited": false, "score": 0, "creation_date": 1553771833, "post_id": 55395927, "comment_id": 97512708, "body": "You can try putting the UINavigationController on top of the current controller, then instead of <code>[self presentViewController: createExpenseVC animated: YES completion: nil];</code>, use <code>[navigationController pushViewController:vc animated:true];</code>."}], "tags": [], "owner": {"reputation": 448, "user_id": 8591160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_ak78SRom0/AAAAAAAAAAI/AAAAAAAAAH4/r4Of4-1Le68/photo.jpg?sz=128", "display_name": "Philip Borbon", "link": "https://stackoverflow.com/users/8591160/philip-borbon"}, "is_accepted": false, "score": 0, "last_activity_date": 1553770840, "creation_date": 1553770840, "answer_id": 55395927, "question_id": 55394711, "link": "https://stackoverflow.com/questions/55394711/how-to-pass-information-from-objective-cs-viewcontroller-to-a-swift-storyboard/55395927#55395927", "title": "how to pass information from Objective-c&#39;s viewcontroller to a Swift storyboard", "body": "<p>When dealing with this issue, I would check multiple things.</p>\n\n<ul>\n<li>Is storyboard ID assigned?</li>\n<li>Is the correct UIViewController class assigned?</li>\n<li>Is the UIViewController has view outlet?</li>\n</ul>\n\n<p>Check these screenshot for a visual guide:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZaHFm.png\" rel=\"nofollow noreferrer\">View controller identify inspector screenshot</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/PxRLk.png\" rel=\"nofollow noreferrer\">View controller view outlet screenshot</a></p>\n"}], "owner": {"reputation": 191, "user_id": 11010299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-08DU7OV6RLU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPthP8xke2pGmhPrvlU5m6VX4veKA/mo/photo.jpg?sz=128", "display_name": "emelagumat", "link": "https://stackoverflow.com/users/11010299/emelagumat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55395512, "answer_count": 2, "score": 0, "last_activity_date": 1553772530, "creation_date": 1553767102, "question_id": 55394711, "link": "https://stackoverflow.com/questions/55394711/how-to-pass-information-from-objective-cs-viewcontroller-to-a-swift-storyboard", "title": "how to pass information from Objective-c&#39;s viewcontroller to a Swift storyboard", "body": "<p>I started to work in a project which was already started in ObjectiveC and without Storyboard. I'm making the new sections in Swift and with Storyboard, but now I'm having a problem when I try to pass information (an UIImage) to my storyboard's controllers.\nThis is how I go to the ViewControllers: </p>\n\n<pre><code>-(void)expenseCamera:(VOCCustomCameraVC *)camera didFinishPickImage:(UIImage *)\n                       image imageCreated:(NSString *)imageCreated \n                       fileName:(NSString *)fileName {\n\n    [camera dismissViewControllerAnimated: YES completion: nil];\n\n         UIStoryboard *addExpenseStoryboard = [UIStoryboard \n                                             storyboardWithName:@\"addExpense\" bundle:nil];\n         CreateExpenseVC *createExpenseVC = [addExpenseStoryboard \n         instantiateViewControllerWithIdentifier:@\"expenseNavController\"];\n         UIImage *compressedImage = [UIImage compressImage: image];\n         createExpenseVC.expenseImage = compressedImage; // It crashes here\n\n\n\n\n\n    //createExpenseVC.delegate = self;\n    [self presentViewController: createExpenseVC animated: YES completion: nil];\n    CFRunLoopWakeUp(CFRunLoopGetCurrent());\n}\n</code></pre>\n\n<p>If I take out the <code>createExpenseVC.expenseImage = compressedImage</code> everything goes well, but when I try to pass the image I get this error:</p>\n\n<pre><code>SIGABRT *** Terminating app due to uncaught exception 'NSInvalidArgumentException', \nreason: '-[YourApp.CustomNavController setExpenseImage:]: unrecognized selector\n sent to instance 0x12e09b200'\n</code></pre>\n\n<p>The destination viewController starts this way</p>\n\n<pre><code>@objcMembers class CreateExpenseVC: UIViewController {\n\n\n   /* ---- IBOutlets ---- */\n    @IBOutlet weak var containerView: UIView!\n    @IBOutlet weak var backButton: UIBarButtonItem!\n    @objc var expenseImage: UIImage?\n\n\n</code></pre>\n\n<p>And in the containerView I show another viewController where I pretend to show the image.</p>\n\n<p>I tried to change the code I use to navigate to this </p>\n\n<pre><code>CreateExpenseVC * createExpenseVC = [[CreateExpenseVC alloc] init];\n</code></pre>\n\n<p>But it also crashes because (I think) it's not instantiating the Storyboard and therefore not recognizing all the IBOutlets and so on... </p>\n\n<p>So how can I pass information like this?</p>\n\n<p>Many thanks in advance</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "admob", "banner"], "comments": [{"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1553768942, "post_id": 55394461, "comment_id": 97510880, "body": "you need to set <b>_banner</b> background color whatever you want before adding as a Subview."}, {"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "reply_to_user": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1553769186, "post_id": 55394461, "comment_id": 97511027, "body": "@NikunjKumbhani I tried but the black sides are not changed ..."}, {"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1553769300, "post_id": 55394461, "comment_id": 97511110, "body": "set background color to clear color or white color and after that not changed then you need to set the smart banner size."}, {"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "reply_to_user": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1553769506, "post_id": 55394461, "comment_id": 97511222, "body": "@NikunjKumbhani I&#39;m trying to follow your suggestion but I still don&#39;t get any change ... can you give me an example about my code that I entered in my application? maybe I&#39;m wrong"}, {"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1553769793, "post_id": 55394461, "comment_id": 97511403, "body": "Try this <a href=\"https://stackoverflow.com/a/18044011/10150796\">stackoverflow.com/a/18044011/10150796</a>"}, {"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "reply_to_user": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "edited": false, "score": 0, "creation_date": 1553770664, "post_id": 55394461, "comment_id": 97511977, "body": "@NikunjKumbhani I tried in every way ... even following the link that you kindly advised me .. but nothing ... continue to remain the black sides that google has inserted"}, {"owner": {"reputation": 3028, "user_id": 10150796, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-31KVVbJzgt0/AAAAAAAAAAI/AAAAAAAAAB8/4KtBNNlW2Dw/photo.jpg?sz=128", "display_name": "Nikunj Kumbhani", "link": "https://stackoverflow.com/users/10150796/nikunj-kumbhani"}, "reply_to_user": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1553771875, "post_id": 55394461, "comment_id": 97512741, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/190830/discussion-between-nikunj-kumbhani-and-kain\">continue this discussion in chat</a>."}, {"owner": {"reputation": 576, "user_id": 2064585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dMJSQ.jpg?s=128&g=1", "display_name": "Nicholas Allio", "link": "https://stackoverflow.com/users/2064585/nicholas-allio"}, "edited": false, "score": 0, "creation_date": 1578500200, "post_id": 55394461, "comment_id": 105460846, "body": "Did you come up with any solution?"}], "owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 660, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1553766289, "creation_date": 1553766289, "question_id": 55394461, "link": "https://stackoverflow.com/questions/55394461/admob-ios-change-background-color", "title": "AdMob iOS - Change background Color", "body": "<p>I'm using AdMob to display ads in my app. I implemented my ads as \"Smart Banner\" ... Everything seems to be working fine but my problem is the black fill spaces that the banner has when it has to adapt to the new dimensions ...</p>\n\n<p><a href=\"https://i.stack.imgur.com/re8XT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/re8XT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a way to cover these black spaces with another color?</p>\n\n<p>This is my implementation</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    _banner = [[GADBannerView alloc] initWithAdSize:kGADAdSizeSmartBannerPortrait];\n    _banner.translatesAutoresizingMaskIntoConstraints = NO;\n    _banner.adUnitID = @\"ca-app-pub-3940256099942544/2934735716\";\n    _banner.rootViewController = self;\n    [_banner loadRequest:[GADRequest request]];\n\n    [self.view addSubview:_banner];\n\n    UILayoutGuide *guide = self.view.safeAreaLayoutGuide;\n\n    [NSLayoutConstraint activateConstraints:@[\n                                              [guide.leftAnchor constraintEqualToAnchor:_banner.leftAnchor],\n                                              [guide.rightAnchor constraintEqualToAnchor:_banner.rightAnchor],\n                                              [guide.bottomAnchor constraintEqualToAnchor:_banner.bottomAnchor]\n                                              ]];\n\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "core-data"], "comments": [{"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 2, "creation_date": 1553765775, "post_id": 55394198, "comment_id": 97508885, "body": "what is the error?"}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1553766050, "post_id": 55394198, "comment_id": 97509070, "body": "Hi @m1sh0  the error is:  [EXCEPTION] *** Terminating app due to uncaught exception &#39;NSInvalidArgumentException&#39;, reason: &#39;+entityForName: nil is not a legal NSPersistentStoreCoordinator for searching for entity name &#39;NameAndSurname&#39;&#39;"}, {"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1553766498, "post_id": 55394198, "comment_id": 97509355, "body": "The problem is that you have two contexts and you need to merge the data"}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1553766592, "post_id": 55394198, "comment_id": 97509399, "body": "Can you plz provide an example?  you mean NSMergeByPropertyObjectTrumpMergePolicy?"}, {"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1553766739, "post_id": 55394198, "comment_id": 97509506, "body": "look this link:  <a href=\"https://stackoverflow.com/a/47904041/1856499\">stackoverflow.com/a/47904041/1856499</a>"}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1553766935, "post_id": 55394198, "comment_id": 97509628, "body": "Thanks didnt help."}], "owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553765479, "creation_date": 1553765479, "question_id": 55394198, "link": "https://stackoverflow.com/questions/55394198/saving-data-in-background-thread-doesnt-work", "title": "Saving data in background thread doesn&#39;t work", "body": "<p>I am trying to save my data in CoreData in background thread, but it crash or it doesnt work, any idea where am I doing the mistake? </p>\n\n<p>When I try with main thread it works correctly, I tried to google to find some information in background thread, I couldn't find some useful article about it.</p>\n\n<p>any help appreciate.</p>\n\n<p>Thanks </p>\n\n<p>This is the objective -c code, what I tried </p>\n\n<pre><code>-(void)insertNameAndSurnameInDataBase:(NSString *)name surname:(NSString *)surname numbers:(NSArray *)numbers labels:(NSArray *)labels{\n\n\n\n\n    NSManagedObjectContext *backgroundMOC = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];\n\n    [backgroundMOC performBlock:^{\n        NSError *error;\n    NameAndSurname *nameAndSurname = [NSEntityDescription insertNewObjectForEntityForName:@\"NameAndSurname\" inManagedObjectContext:backgroundMOC];\n    NSString *nSurname = [NSString stringWithFormat:@\"%@ %@\",name,surname];\n    nameAndSurname.nameSurname = nSurname;\n\n\n    if ([backgroundMOC save:&amp;error]) {\n    }\n    else{\n\n    }\n\n    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];\n    NSEntityDescription *entity = [NSEntityDescription entityForName:@\"NameAndSurname\"\n                                              inManagedObjectContext:backgroundMOC];\n\n\n    // predicate\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"nameSurname =[c] %@\", nSurname];\n\n    [fetchRequest setEntity:entity];\n    [fetchRequest setPredicate:predicate];\n    [fetchRequest setReturnsObjectsAsFaults:NO];\n    NSArray  *fetchedObjects = [backgroundMOC executeFetchRequest:fetchRequest error:&amp;error];\n         if([fetchedObjects count] &gt; 0){\n             [numbers enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop){\n                  id obj2 = [labels objectAtIndex:idx];\n                 obj = [obj stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n\n\n\n                 ContactNumber *phoneNumber = [NSEntityDescription insertNewObjectForEntityForName:@\"ContactNumber\" inManagedObjectContext:backgroundMOC];\n                 phoneNumber.number = obj;\n                 phoneNumber.label = obj2;\n                 phoneNumber.nameAndSurname = fetchedObjects[0];\n                 NSError *error;\n                 if ([backgroundMOC save:&amp;error]) {\n                 }\n                 else{\n\n                 }\n\n            }];\n             }\n\n    }];\n         }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "push-notification"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11270732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd294da6c039ef7b00b2a2d0303b269?s=128&d=identicon&r=PG&f=1", "display_name": "archilo20", "link": "https://stackoverflow.com/users/11270732/archilo20"}, "edited": false, "score": 1, "creation_date": 1553844061, "post_id": 55393137, "comment_id": 97544021, "body": "Thanks Arun, I&#39;m trying to trigger an action directly from the notification without opening the app. The flow goes like this: App is killed, 1. User receives a notification 2. user swipes down (to enable notification action) 3. User selects &quot;Reply message&quot; action, 4. inputs the text 5. Taps send.  However if the app is not launched this notification actions don&#39;t work. Once the app is loaded it works smoothly. Thanks"}], "tags": [], "owner": {"reputation": 679, "user_id": 6540692, "user_type": "registered", "accept_rate": 53, "profile_image": "https://lh4.googleusercontent.com/-pdvcwrKohgs/AAAAAAAAAAI/AAAAAAAAAAs/e_SjVWgRcyg/photo.jpg?sz=128", "display_name": "Arun K", "link": "https://stackoverflow.com/users/6540692/arun-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1553762052, "creation_date": 1553762052, "answer_id": 55393137, "question_id": 55392749, "link": "https://stackoverflow.com/questions/55392749/ios-push-notification-actions-when-app-is-killed-closed-not-open/55393137#55393137", "title": "IOS Push notification actions when app is killed/closed/not open", "body": "<p>Whenever you apps awakes from killed/closed/not open state. The didReceiveNotification will not be called instead didFinishLaunching will be called. So you have to check if there is data of notification or not when the didFinishLaunching is called. You can check like this.</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>If (launchOptions?[.remoteNotification] as?  [AnyHashable : Any]) != nil {\n  .... Do your code for notification handling\n\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 21, "user_id": 11270732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd294da6c039ef7b00b2a2d0303b269?s=128&d=identicon&r=PG&f=1", "display_name": "archilo20", "link": "https://stackoverflow.com/users/11270732/archilo20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553762052, "creation_date": 1553760418, "question_id": 55392749, "link": "https://stackoverflow.com/questions/55392749/ios-push-notification-actions-when-app-is-killed-closed-not-open", "title": "IOS Push notification actions when app is killed/closed/not open", "body": "<p>Hi I'm working in a chat app, when a push notification arrives I've configure some actions like \"mark as read\" or \"Reply\" within the notification. Everything works if the app is on the foreground or running in the background. However when the app is closed/killed, the notification arrives but the actions are not being triggered. What's the best approach for this situation ? \nThank you</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7954941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/331dz.png?s=128&g=1", "display_name": "Kira", "link": "https://stackoverflow.com/users/7954941/kira"}, "is_accepted": false, "score": 0, "last_activity_date": 1553760360, "creation_date": 1553760360, "answer_id": 55392729, "question_id": 55392682, "link": "https://stackoverflow.com/questions/55392682/core-graphic-not-drawing-gradient-color-in-cliped-rect/55392729#55392729", "title": "core graphic not drawing gradient color in cliped rect", "body": "<p>After upload this question, i find my error, the color should be CGColor,\nlike this [UIColor redColor].cgColor.</p>\n"}], "owner": {"reputation": 11, "user_id": 7954941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/331dz.png?s=128&g=1", "display_name": "Kira", "link": "https://stackoverflow.com/users/7954941/kira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 11, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553760360, "creation_date": 1553760182, "question_id": 55392682, "link": "https://stackoverflow.com/questions/55392682/core-graphic-not-drawing-gradient-color-in-cliped-rect", "title": "core graphic not drawing gradient color in cliped rect", "body": "<p>this pieces of code won't work, i don't know why. \njust create a trangle and clip then draw gradient  </p>\n\n<pre><code>// create contect and save\n        CGContextRef context = UIGraphicsGetCurrentContext();\n        CGContextSaveGState(context);\n        // create path\n        CGMutablePathRef path = CGPathCreateMutable();\n        CGPathMoveToPoint(path, NULL, 20, rect.size.height - 20);\n        CGPathAddLineToPoint(path, NULL, rect.size.width / 2, 20);\n        CGPathAddLineToPoint(path, NULL, rect.size.width - 20, rect.size.height - 20);\n        CGPathCloseSubpath(path);\n        CGContextAddPath(context, path);\n        CGContextClip(context);\n        // create gradient\n        CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n        NSArray *colorArr = @[\n                             (id)[UIColor blackColor],\n                             (id)[UIColor whiteColor],\n                             ];\n        CGGradientRef gradient = CGGradientCreateWithColors(colorSpace, (__bridge CFArrayRef) colorArr, NULL);\n        // rlease gradinet\n        CGContextDrawLinearGradient(context, gradient, CGPointMake(rect.size.width / 2,rect.size.height - 20), CGPointMake(rect.size.width / 2, 20), 0);\n        // restore context\n        CGContextRestoreGState(context);\n</code></pre>\n"}, {"tags": ["objective-c", "xamarin.forms"], "comments": [{"owner": {"reputation": 276, "user_id": 4597704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1dPrX.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4597704/joe"}, "edited": false, "score": 0, "creation_date": 1553784855, "post_id": 55391815, "comment_id": 97521828, "body": "Looks like a UIPickerView. This <a href=\"https://www.iostutorialjunction.com/2017/11/create-multiple-component-uipickerview-ios-swift-tutorial.html\" rel=\"nofollow noreferrer\">tutorial is a bit dated, but should put you on the right track</a>. Or <a href=\"https://stackoverflow.com/questions/28926570/using-uipickerview-with-multiple-components-in-swift\">this SO Post</a>, which is a bit more condensed"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 1, "creation_date": 1553839882, "post_id": 55391815, "comment_id": 97542506, "body": "If in Xmarin.ios, you can custom <code>PickerRenderer</code> to do .<a href=\"https://docs.microsoft.com/en-us/xamarin/ios/user-interface/controls/picker#working-with-a-picker-control\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/xamarin/ios/user-interface/control&zwnj;&#8203;s/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 276, "user_id": 4597704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1dPrX.png?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4597704/joe"}, "is_accepted": false, "score": 1, "last_activity_date": 1617289992, "last_edit_date": 1617289992, "creation_date": 1554154841, "answer_id": 55463971, "question_id": 55391815, "link": "https://stackoverflow.com/questions/55391815/how-to-implement-treelist-dropdown-in-xamarin/55463971#55463971", "title": "How to implement Treelist dropdown in Xamarin?", "body": "<p>Working Solution: what follows will get your two-column UIPickerView rendered from Xamarin.Forms, belatedly updated from my original post</p>\n<h3>Option 1: Custom Renderer</h3>\n<p>I used the <a href=\"https://docs.microsoft.com/en-us/xamarin/ios/user-interface/controls/picker#working-with-a-picker-control\" rel=\"nofollow noreferrer\">documentation</a> <a href=\"https://stackoverflow.com/users/10504796/junior-jiang-msft\">@Junior Jiang</a> shared in comments to inspire a quick Custom Renderer that should suit your needs.</p>\n<p>First, make a placeholder control in your shared/Xamarin.Forms project:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>namespace samples.core.Controls\n{\n    public class MultiPickerControl : Xamarin.Forms.StackLayout\n    {\n        public MultiPickerControl()\n        {\n            // Just a placeholder\n        }\n    }\n}\n</code></pre>\n<p>Then, make the renderer in your iOS project:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>[assembly: ExportRenderer(typeof(samples.core.Controls.MultiPickerControl), typeof(samples.iOS.Controls.Picker.MultiPickerRenderer))]\nnamespace samples.iOS.Controls.Picker\n{\n    public class MultiPickerRenderer : ViewRenderer\n    {\n        static UIPickerView pickerControl;\n        static DemoModel pickerModel = new DemoModel(new UILabel());\n\n        public MultiPickerRenderer()\n        {\n            pickerControl = new UIPickerView(\n                new CGRect(\n                    UIScreen.MainScreen.Bounds.X - UIScreen.MainScreen.Bounds.Width,\n                    UIScreen.MainScreen.Bounds.Height - 230,\n                    UIScreen.MainScreen.Bounds.Width,\n                    180))\n            {\n                Model = pickerModel\n            };\n        }\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;View&gt; e)\n        {\n            base.OnElementChanged(e);\n\n            if(Control != null)\n            {\n                Control.Add(pickerControl);\n            }\n\n            if(e.NewElement != null)\n            {\n                (e.NewElement as StackLayout).Children.Add(pickerControl);\n            }\n        }\n    }\n}\n</code></pre>\n<p>You'll also need a <code>UIPickerViewModel</code> to give to your picker. This example is derived from the documentation above:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>    public class DemoModel : UIPickerViewModel\n    {\n        public Dictionary&lt;string, string[]&gt; options = new Dictionary&lt;string, string[]&gt;()\n        {\n            { &quot;America&quot;, new string[] { &quot;Mexico&quot;, &quot;USA&quot; } },\n            { &quot;Europe&quot;, new string[] { &quot;Germany&quot;, &quot;France&quot;, &quot;Italy&quot;} },\n            { &quot;Asia&quot;, new string[] { &quot;Korea&quot;, &quot;Japan&quot;} },\n        };\n\n        public override nint GetComponentCount(UIPickerView pickerView) =&gt; 2; // This determines how many columns are rendered\n        public override nfloat GetComponentWidth(UIPickerView picker, nint component) =&gt; component == 0 ? 120f : 160f;\n        public override nfloat GetRowHeight(UIPickerView picker, nint component) =&gt; 40f;\n\n        /// &lt;summary&gt;\n        /// Determines the number of rows to render in a component\n        /// &lt;/summary&gt;\n        public override nint GetRowsInComponent(UIPickerView pickerView, nint component)\n        {\n            if (component == 0)\n                return options.Keys.Count;\n            else\n            {\n                var driver = pickerView.SelectedRowInComponent(0);\n                return options.Values.ElementAt((int)driver).Length;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets the display value for a row in a component\n        /// &lt;/summary&gt;\n        public override string GetTitle(UIPickerView pickerView, nint row, nint component)\n        {\n            if (component == 0)\n                return options.Keys.ElementAt((int)row);\n            else\n            {\n                var driver = pickerView.SelectedRowInComponent(0);\n                return options.Values.ElementAt((int)driver).ElementAt((int)row);\n            }\n        }\n\n        [Export(&quot;pickerView:didSelectRow:inComponent:&quot;)]\n        public override void Selected(UIPickerView pickerView, nint row, nint component)\n        {\n            // Update the display for column 2 if the value of column 1 has changed\n            if (component == 0)\n            {\n                pickerView.ReloadComponent(1);\n                pickerView.Select(0, 1, false);\n            }\n        }\n</code></pre>\n<p>Lastly, reference your placeholder control in the markup (or code behind). Xamarin will resolve the platform implementation when your code is run.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ContentPage xmlns=&quot;http://xamarin.com/schemas/2014/forms&quot; \n             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot; \n             xmlns:controls=&quot;clr-namespace:samples.core.Controls;assembly=samples.core&quot;\n             x:Class=&quot;samples.core.Views.EntryMoveNextView&quot; \n             xmlns:ctrl=&quot;clr-namespace:samples.core.Controls;assembly=samples.core&quot;&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;StackLayout Padding=&quot;15,25&quot;&gt;\n            &lt;controls:MultiPickerControl x:Name=&quot;MultiPicker&quot;/&gt;\n        &lt;/StackLayout&gt;\n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n<p>The result should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/8mg5D.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8mg5D.gif\" alt=\"Product Demo\" /></a></p>\n<p>Be sure to hook into the events available\nI've added the above example to a <a href=\"https://github.com/JoeM-RP/xamarin-samples\" rel=\"nofollow noreferrer\">samples repo on my GitHub</a>, if you'd like to browse as a unified source.</p>\n<h3>Option 2: Native View</h3>\n<p>You also might be able to accomplish this with a Native View (<a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/platform/native-views/xaml#subclassing-native-views\" rel=\"nofollow noreferrer\">documentation</a>). The gist would look something like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ContentPage xmlns=&quot;http://xamarin.com/schemas/2014/forms&quot; \n             xmlns:x=&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot; \n             xmlns:ios=&quot;clr-namespace:UIKit;assembly=Xamarin.iOS;targetPlatform=iOS&quot;\n             x:Class=&quot;samples.core.Views.EntryMoveNextView&quot; \n             xmlns:ctrl=&quot;clr-namespace:samples.core.Controls;assembly=samples.core&quot;&gt;\n    &lt;ContentPage.Content&gt;\n        &lt;StackLayout Padding=&quot;15,25&quot;&gt;\n            &lt;ios:UIPickerView&gt;\n                &lt;!-- Manipulate UIPickerView Properties Here --&gt;\n            &lt;/ios:UIPickerView&gt;\n        &lt;/StackLayout&gt;\n    &lt;/ContentPage.Content&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n<p>As with the linked documentation above, be sure to set <code>GetComponentCount</code> in your <code>UIPickerViewModel</code> to indicate how many columns you'll show.</p>\n<p>Good luck!</p>\n"}], "owner": {"reputation": 739, "user_id": 5291477, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001766157527/picture?type=large", "display_name": "Neeraj Kumar", "link": "https://stackoverflow.com/users/5291477/neeraj-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1617289992, "creation_date": 1553756433, "last_edit_date": 1561779631, "question_id": 55391815, "link": "https://stackoverflow.com/questions/55391815/how-to-implement-treelist-dropdown-in-xamarin", "title": "How to implement Treelist dropdown in Xamarin?", "body": "<p>I want to implement something like below in the Xamarin forms. </p>\n\n<p>I don't see such implementation with Objective C so can't find a way to render it through Native either. </p>\n\n<p>How do I implement this with Xamarin forms?</p>\n\n<p><a href=\"https://demo.mobiscroll.com/javascript/list/display#\" rel=\"nofollow noreferrer\">https://demo.mobiscroll.com/javascript/list/display#</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Yfp0Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yfp0Y.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 7, "creation_date": 1553741611, "post_id": 55389445, "comment_id": 97500431, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24002369/how-to-call-objective-c-code-from-swift\">How to call Objective-C code from Swift</a>"}, {"owner": {"reputation": 362, "user_id": 572455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4hoDS.jpg?s=128&g=1", "display_name": "Pranay", "link": "https://stackoverflow.com/users/572455/pranay"}, "edited": false, "score": 0, "creation_date": 1553750599, "post_id": 55389445, "comment_id": 97502404, "body": "Try to change last two lines as =&gt;    self.dismiss(animated: true) {       self.presentingViewController?.present(vc, animated: true, completion: nil)     }"}], "answers": [{"tags": [], "owner": {"reputation": 910, "user_id": 2152616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X10Md.jpg?s=128&g=1", "display_name": "Onur Tuna", "link": "https://stackoverflow.com/users/2152616/onur-tuna"}, "is_accepted": false, "score": 1, "last_activity_date": 1553754433, "creation_date": 1553754433, "answer_id": 55391364, "question_id": 55389445, "link": "https://stackoverflow.com/questions/55389445/how-to-call-objective-c-viewcontroller-in-swift/55391364#55391364", "title": "How to call Objective C viewcontroller in Swift", "body": "<p>In order to interact Obj-C code with Swift you will need to have a bridging header file. The name of the bridging header MUST be like <code>&lt;YourProject&gt;-Bridging-Header.h</code>. While you can create it manually there is an option which the Xcode creates it yourself. For the second option create a new file with .m extension. The Xcode will ask you to create a bridging header. Approve it.</p>\n\n<p>Now import everything in this file you need to reach from Swift. In your case put the following inside your bridging header:</p>\n\n<pre><code>#import \"ViewControllerObjectiveC.h\"\n</code></pre>\n\n<p>Assuming your Obj-C file has the name ViewControllerObjectiveC.h. The code you shared should work now.</p>\n"}, {"comments": [{"owner": {"reputation": 761, "user_id": 11327526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YX0wd.jpg?s=128&g=1", "display_name": "Darshan Kunjadiya", "link": "https://stackoverflow.com/users/11327526/darshan-kunjadiya"}, "edited": false, "score": 0, "creation_date": 1554789640, "post_id": 55571822, "comment_id": 97869288, "body": "@ebank dsb Can you please look into this answer and do let me know if you required more information. Thanks"}], "tags": [], "owner": {"reputation": 761, "user_id": 11327526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YX0wd.jpg?s=128&g=1", "display_name": "Darshan Kunjadiya", "link": "https://stackoverflow.com/users/11327526/darshan-kunjadiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1554720935, "creation_date": 1554720935, "answer_id": 55571822, "question_id": 55389445, "link": "https://stackoverflow.com/questions/55389445/how-to-call-objective-c-viewcontroller-in-swift/55571822#55571822", "title": "How to call Objective C viewcontroller in Swift", "body": "<p>Bridging Header is the way to solve your problem.</p>\n\n<p>See this Apple Document: </p>\n\n<p><a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_objective-c_into_swift\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_objective-c_into_swift</a></p>\n\n<p><strong>Step 1</strong> \nDrag and drop your Objective-C files into the project after that you will see this message inside your Xcode project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/R6e1a.png\" rel=\"nofollow noreferrer\">See this popup</a></p>\n\n<p>Then click on Create Bridging header option. It will create one header file inside your project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/93irg.png\" rel=\"nofollow noreferrer\">Confirm Header File</a></p>\n\n<p>Now you just have to Import your Objective C File into created header file.</p>\n\n<p>That's It.</p>\n"}], "owner": {"reputation": 11, "user_id": 11269655, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LjGXXjhdWPo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfDRcWRtGpfm5eBt1kdq71mtHV4lw/mo/photo.jpg?sz=128", "display_name": "ebank dsb", "link": "https://stackoverflow.com/users/11269655/ebank-dsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1070, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1554720935, "creation_date": 1553741204, "last_edit_date": 1553751438, "question_id": 55389445, "link": "https://stackoverflow.com/questions/55389445/how-to-call-objective-c-viewcontroller-in-swift", "title": "How to call Objective C viewcontroller in Swift", "body": "<p>I found a <code>ViewController</code> SDK using objective C. I want to use it swift but fail to call.</p>\n\n<p>Can you suggest me any idea for using it?</p>\n\n<p>I want to create a storyboard and set the custom class in <code>ViewControllerObjectiveC</code>, but still fail to open the <code>viewcontroller</code>.</p>\n\n<pre><code>let vc = sb.instantiateViewController(withIdentifier: \"ViewControllerObjectiveC\") as! ViewControllerObjectiveC\nself.dismiss(animated: false, completion: nil)\nself.presentingViewController?.present(vc, animated: false, completion: nil)\n</code></pre>\n"}]