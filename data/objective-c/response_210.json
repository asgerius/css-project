[{"tags": ["ios", "objective-c", "unicode", "nsstring", "emoji"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1547676658, "post_id": 54225891, "comment_id": 95278264, "body": "There&#39;s is no provided API that checks just for Emoji. I haven&#39;t tried it but see <a href=\"https://stackoverflow.com/a/14472163/1226963\">stackoverflow.com/a/14472163/1226963</a> which uses an interesting solution to detecting an Emoji. It seems to treat any non-all black character as an Emoji."}, {"owner": {"reputation": 5486, "user_id": 4763963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9de2F.jpg?s=128&g=1", "display_name": "Mo Abdul-Hameed", "link": "https://stackoverflow.com/users/4763963/mo-abdul-hameed"}, "edited": false, "score": 0, "creation_date": 1547677583, "post_id": 54225891, "comment_id": 95278670, "body": "I think this helper function should help you: <a href=\"https://gist.github.com/cihancimen/4146056\" rel=\"nofollow noreferrer\">gist.github.com/cihancimen/4146056</a>."}, {"owner": {"reputation": 2353, "user_id": 223327, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dc442c3f5122c033dc40a5514fd79e90?s=128&d=identicon&r=PG", "display_name": "Apophenia Overload", "link": "https://stackoverflow.com/users/223327/apophenia-overload"}, "edited": false, "score": 0, "creation_date": 1547767551, "post_id": 54225891, "comment_id": 95315986, "body": "The function in the gist doesn&#39;t seem to cover all emojis, sadly."}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1547686429, "post_id": 54227248, "comment_id": 95280981, "body": "See <a href=\"https://stackoverflow.com/a/39122453/1226963\">stackoverflow.com/a/39122453/1226963</a> which seems to indicate that it&#39;s far more complex than just using <code>Emoji_Presentation</code>."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": false, "score": 3, "last_activity_date": 1547683736, "creation_date": 1547683736, "answer_id": 54227248, "question_id": 54225891, "link": "https://stackoverflow.com/questions/54225891/checking-if-a-given-character-is-an-emoji-in-objective-c/54227248#54227248", "title": "Checking if a given character is an emoji in Objective-C", "body": "<p>It's a bit of a complicated question because Unicode is complicated, but you can use <code>NSRegularExpression</code> to do this:</p>\n\n<pre><code>    NSString *s = @\"where's the emoji \ud83d\ude0e ?\";\n    NSRegularExpression *r = [NSRegularExpression regularExpressionWithPattern:@\"\\\\p{Emoji_Presentation}\" options:0 error:NULL];\n    NSRange range = [r rangeOfFirstMatchInString:s options:0 range:NSMakeRange(0, s.length)];\n    NSLog(@\"location %lu length %lu\", (unsigned long)range.location, (unsigned long)range.length);\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>2019-01-16 18:07:42.629 emoji[50405:6837084] location 18 length 2\n</code></pre>\n\n<p>I'm using the <code>\\p{Unicode property name}</code> pattern to match characters which have the specified Unicode property. I'm using the property <code>Emoji_Presentation</code> to get those character which present as Emoji by default. You should review <a href=\"http://unicode.org/reports/tr51/#Emoji_Properties_and_Data_Files\" rel=\"nofollow noreferrer\">Unicode\u00ae Technical Standard #51 \u2014 Annex A: Emoji Properties and Data Files</a> and the data files linked in A.1 to decide which property you actually care about.</p>\n"}], "owner": {"reputation": 2353, "user_id": 223327, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/dc442c3f5122c033dc40a5514fd79e90?s=128&d=identicon&r=PG", "display_name": "Apophenia Overload", "link": "https://stackoverflow.com/users/223327/apophenia-overload"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1547683736, "creation_date": 1547675258, "last_edit_date": 1547678368, "question_id": 54225891, "link": "https://stackoverflow.com/questions/54225891/checking-if-a-given-character-is-an-emoji-in-objective-c", "title": "Checking if a given character is an emoji in Objective-C", "body": "<p>I have an <code>NSString</code> and would like to check if a given character at a certain index is an emoji.</p>\n\n<p>However, there doesn't seem to be any reliable way to create an <code>NSCharacterSet</code> of emoji characters, since they change from iOS update to update. And a lot of the available solutions rely on Swift features such as <code>UnicodeScalar</code>. All solutions seem to involve hardcoding the codepoint values for emojis.</p>\n\n<p>As such, is it possible to check for emojis at all?</p>\n"}, {"tags": ["objective-c", "metal", "antialiasing", "multisampling"], "comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1547656957, "post_id": 54221511, "comment_id": 95268985, "body": "You&#39;ll need to show code. In particular, how are you setting up the render pass descriptor and render pipeline state? Are you properly resolving the multisample texture to a non-multisample texture for the actual draw to the screen?"}, {"owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1547657667, "post_id": 54221511, "comment_id": 95269381, "body": "@KenThomases added some pipeline state setup code. I know that I have proper texture resolve for my draw to the screen because my colored polygons look as they should: the right brightness and with smooth edges. Which tells me it&#39;s either a problem with my pipeline states or with the textures themselves."}], "answers": [{"comments": [{"owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "edited": false, "score": 0, "creation_date": 1581364104, "post_id": 54224219, "comment_id": 106400409, "body": "hi can you say exactly how you did to make your  stencil draw pipeline state to be multisampled ?"}], "tags": [], "owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1547667785, "creation_date": 1547667785, "answer_id": 54224219, "question_id": 54221511, "link": "https://stackoverflow.com/questions/54221511/metal-multisampling-results-in-darkened-textures/54224219#54224219", "title": "Metal multisampling results in darkened textures", "body": "<p>I figured it out. The problem was that I hadn't set my stencil draw pipeline state to be multisampled. Therefore it was only reading the value in the stencil buffer for 1 out of n samples and hence darkening the output. Works fine now.</p>\n"}], "owner": {"reputation": 71, "user_id": 4443387, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9df33c5151d90329c3dc685aada5711d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B.", "link": "https://stackoverflow.com/users/4443387/adam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1547667785, "creation_date": 1547656639, "last_edit_date": 1547657523, "question_id": 54221511, "link": "https://stackoverflow.com/questions/54221511/metal-multisampling-results-in-darkened-textures", "title": "Metal multisampling results in darkened textures", "body": "<p>So I'm trying to implement full-screen MSAA in my Metal app. I have it working and when drawing solid-filled polygons the edges appear smooth as expected. However, my textured polygons appear dark, and get darker as I increase the number of samples, indicating that the shader might be taking only one sample of the texture per fragment and blending it with <code>n - 1</code> samples of black therefore making it darker.</p>\n\n<p>However, in my app I also have textures that I render to and then draw to the screen. These textures show up perfectly fine. I can't really see a difference between the two kinds of textures that would change the behavior of multisampling.</p>\n\n<p>Anyway, if anyone could maybe give me any clues as to what's going on, I would greatly appreciate it. I'm pretty stumped on this one.</p>\n\n<p>EDIT:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LT9cU.png\" rel=\"nofollow noreferrer\">Here is how I am setting up all my pipeline state(s)</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/AfJ1v.png\" rel=\"nofollow noreferrer\">Here is how the texture pipeline state is set up specifically</a></p>\n"}, {"tags": ["c#", "ios", "objective-c", "macos", "networkextension"], "comments": [{"owner": {"reputation": 1434, "user_id": 831785, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Rkzvc.jpg?s=128&g=1", "display_name": "Mosbah", "link": "https://stackoverflow.com/users/831785/mosbah"}, "edited": false, "score": 1, "creation_date": 1547649717, "post_id": 54219166, "comment_id": 95264605, "body": "This is not something I did myself, but it seems possible to do:  <a href=\"https://forums.xamarin.com/discussion/83693/ios-native-app-extensions-in-xamarin-ios-project\" rel=\"nofollow noreferrer\">forums.xamarin.com/discussion/83693/&hellip;</a>"}, {"owner": {"reputation": 620, "user_id": 1069522, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/940b0ad02753e7c968c79522c92664e0?s=128&d=identicon&r=PG", "display_name": "tdimmig", "link": "https://stackoverflow.com/users/1069522/tdimmig"}, "reply_to_user": {"reputation": 1434, "user_id": 831785, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Rkzvc.jpg?s=128&g=1", "display_name": "Mosbah", "link": "https://stackoverflow.com/users/831785/mosbah"}, "edited": false, "score": 0, "creation_date": 1547675405, "post_id": 54219166, "comment_id": 95277733, "body": "That looks like they encountered my exact same problem, thanks for Googling better than I did!  Once I&#39;ve been able to test it out and make sure its still working I&#39;ll update back here again in case future searches find this question."}, {"owner": {"reputation": 1434, "user_id": 831785, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Rkzvc.jpg?s=128&g=1", "display_name": "Mosbah", "link": "https://stackoverflow.com/users/831785/mosbah"}, "edited": false, "score": 0, "creation_date": 1547707086, "post_id": 54219166, "comment_id": 95285492, "body": "Happy to be helpful :)"}], "owner": {"reputation": 620, "user_id": 1069522, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/940b0ad02753e7c968c79522c92664e0?s=128&d=identicon&r=PG", "display_name": "tdimmig", "link": "https://stackoverflow.com/users/1069522/tdimmig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547650674, "creation_date": 1547648685, "last_edit_date": 1547650674, "question_id": 54219166, "link": "https://stackoverflow.com/questions/54219166/macos-c-xamarin-app-with-objective-c-network-extension", "title": "MacOS C# Xamarin App with Objective-C Network Extension", "body": "<p>I'm writing an app for MacOS and iOS that uses a NetworkExtension to provide some VPN capabilities.  It's written as a Xamarin.Forms app in C#, with the NetworkExtension also written in C#.  This is working as expected for MacOS, but in iOS we hit the 15MB memory limit and the extension is terminated.  Having stripped all possible extra C# dependencies out of the extension in an effort to keep its memory footprint small we still end up hitting that limit.</p>\n\n<p>My assumption is that including the C# runtime itself is taking a good chunk of that memory.  To avoid that and have the extension be as trimmed as possible I plan to re-implement it in Objective-C.  The question then is how to bundle a C# app with an Objective-C NetworkExtension?  As far as I can tell, VisualStudio doesn't let me simply add an Objective-C project to a C# solution.  Is there another way to accomplish this?</p>\n"}, {"tags": ["ios", "objective-c", "architecture", "armv7", "firebase-mlkit"], "comments": [{"owner": {"reputation": 816, "user_id": 2877726, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10203852741787593/picture?type=large", "display_name": "Itzdsp", "link": "https://stackoverflow.com/users/2877726/itzdsp"}, "edited": false, "score": 0, "creation_date": 1547670868, "post_id": 54218395, "comment_id": 95275726, "body": "I am also facing the same issue right now!   Undefined symbols for architecture arm64:   &quot;_OBJC_CLASS_$_FIRVisionImage&quot;, referenced from:       objc-class-ref in ScanViewController.o   &quot;_OBJC_CLASS_$_FIRVision&quot;, referenced from:       objc-class-ref in ScanViewController.o ld: symbol(s) not found for architecture arm64 clang: error: linker command failed with exit code 1 (use -v to see invocation)"}, {"owner": {"reputation": 145, "user_id": 7002171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1338649852835561/picture?type=large", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7002171/jeff"}, "reply_to_user": {"reputation": 816, "user_id": 2877726, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10203852741787593/picture?type=large", "display_name": "Itzdsp", "link": "https://stackoverflow.com/users/2877726/itzdsp"}, "edited": false, "score": 0, "creation_date": 1547696953, "post_id": 54218395, "comment_id": 95282938, "body": "@ltzdsp did you able to fix it? I&#39;m still stucking here"}, {"owner": {"reputation": 816, "user_id": 2877726, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10203852741787593/picture?type=large", "display_name": "Itzdsp", "link": "https://stackoverflow.com/users/2877726/itzdsp"}, "edited": false, "score": 0, "creation_date": 1547737498, "post_id": 54218395, "comment_id": 95301954, "body": "yeah i fixed in my project.   I added $(inherited) in Other Linker flags, Header search paths, Framework search Paths, Library search Paths in &quot;Target -&gt; Build Settings&quot; resolved the issue! Add that flag, delete derived data and run pod install. Open your workspace file."}], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 2877726, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10203852741787593/picture?type=large", "display_name": "Itzdsp", "link": "https://stackoverflow.com/users/2877726/itzdsp"}, "is_accepted": false, "score": 0, "last_activity_date": 1547673444, "creation_date": 1547673444, "answer_id": 54225510, "question_id": 54218395, "link": "https://stackoverflow.com/questions/54218395/mlkit-ios-undefined-symbols-for-architecture-armv7/54225510#54225510", "title": "MLKit iOS: Undefined symbols for architecture armv7", "body": "<p>I added <code>$(inherited)</code> in Other Linker flags, Header search paths, Framework search Paths, Library search Paths in \"Target -> Build Settings\" resolved the issue! Happy Coding!</p>\n"}], "owner": {"reputation": 145, "user_id": 7002171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1338649852835561/picture?type=large", "display_name": "Jeff", "link": "https://stackoverflow.com/users/7002171/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 836, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547692908, "creation_date": 1547646249, "last_edit_date": 1547692908, "question_id": 54218395, "link": "https://stackoverflow.com/questions/54218395/mlkit-ios-undefined-symbols-for-architecture-armv7", "title": "MLKit iOS: Undefined symbols for architecture armv7", "body": "<p>I have been trying to integrate <code>MLKit</code> into <code>CardIO</code> using <code>cocoapod</code>. I fixed all the warnings by <code>cocoapod</code> and <code>CardIO</code> was built successfully. However, when I link <code>CardIO</code> to my app and build, this error comes out. I searched all over the internet and tried different kind of approaches suggested by people but still to no avail. Is there any step or setting I might have missed during integration/linking?</p>\n\n<pre><code>Undefined symbols for architecture armv7:\n  \"_OBJC_CLASS_$_FIRVisionImage\", referenced from:\n  objc-class-ref in libCardIO.a(CardIOView.o)\n  \"_OBJC_CLASS_$_FIRVision\", referenced from:\n  objc-class-ref in libCardIO.a(CardIOView.o)\nld: symbol(s) not found for architecture armv7\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n"}, {"tags": ["objective-c", "automatic-ref-counting"], "answers": [{"tags": [], "owner": {"reputation": 764, "user_id": 8946219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f171f8edd622d21fa75f9f4a344cf450?s=128&d=identicon&r=PG&f=1", "display_name": "MartinM", "link": "https://stackoverflow.com/users/8946219/martinm"}, "is_accepted": false, "score": 1, "last_activity_date": 1547646630, "creation_date": 1547646630, "answer_id": 54218526, "question_id": 54218269, "link": "https://stackoverflow.com/questions/54218269/what-will-happen-if-we-declare-all-properties-weak/54218526#54218526", "title": "What will happen if we declare all properties weak?", "body": "<p>You should know which properties should be weak and which strong. It is a common practice declaring for example all IBOutlets as weak because they are being retained by the view that comes from the storyboard, so it is not necessary to keep a strong reference in the viewcontroller.</p>\n\n<p>Another example would be a delegate that should always be weak, or it will prevent the delegate (mostly another viewcontroller) from being deallocated because the delegate's holder is still alive.</p>\n\n<p>In your case, str will be nil after init, because there are no other references to its content. You should actually get a compiler warning if you do this.</p>\n\n<p>Take a look at this thread with more detailed explanation: <a href=\"https://stackoverflow.com/questions/7912555/weak-and-strong-property-setter-attributes-in-objective-c\">Weak and strong property setter attributes in Objective-C</a></p>\n"}, {"comments": [{"owner": {"reputation": 1334, "user_id": 4018132, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/af51494e17fd8aa405c82f8fe9d4a920?s=128&d=identicon&r=PG&f=1", "display_name": "rishu1992", "link": "https://stackoverflow.com/users/4018132/rishu1992"}, "edited": false, "score": 0, "creation_date": 1547700015, "post_id": 54220139, "comment_id": 95283505, "body": "After reading your answer, I have got one more question.  So if I assign weak _str to another strong property, will the reference count increase to 2? See, even if the _str is weak, when I alloc/int it should have ref count as 1. Now assigning it to another strong var will it increase ref count to 2?"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 1334, "user_id": 4018132, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/af51494e17fd8aa405c82f8fe9d4a920?s=128&d=identicon&r=PG&f=1", "display_name": "rishu1992", "link": "https://stackoverflow.com/users/4018132/rishu1992"}, "edited": false, "score": 0, "creation_date": 1547733789, "post_id": 54220139, "comment_id": 95299684, "body": "Sometimes. In this case, no, because the string is static, so its retain count is never going to change (it&#39;s always going to be some enormous number, <code>NSNotFound</code> in my latest tests, but don&#39;t bet on that). Depending on how the string is generated and how many autoreleases are attached to it, it might have an arbitrarily high retain count at the point that you assign it. If ARC can optimize out the assignment, then it might only have a retain count of 1. Assigning to a strong variable creates a strong reference; that&#39;s all that&#39;s promised. No specific retain count is promised."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 1334, "user_id": 4018132, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/af51494e17fd8aa405c82f8fe9d4a920?s=128&d=identicon&r=PG&f=1", "display_name": "rishu1992", "link": "https://stackoverflow.com/users/4018132/rishu1992"}, "edited": false, "score": 0, "creation_date": 1547733912, "post_id": 54220139, "comment_id": 95299778, "body": "If you want to dig into the what parts of the implementation details are promised, see <a href=\"http://clang.llvm.org/docs/AutomaticReferenceCounting.html\" rel=\"nofollow noreferrer\">clang.llvm.org/docs/AutomaticReferenceCounting.html</a>. Also: <a href=\"https://mikeash.com/pyblog/friday-qa-2011-09-30-automatic-reference-counting.html\" rel=\"nofollow noreferrer\">mikeash.com/pyblog/&hellip;</a> and <a href=\"https://mikeash.com/pyblog/friday-qa-2010-07-16-zeroing-weak-references-in-objective-c.html\" rel=\"nofollow noreferrer\">mikeash.com/pyblog/&hellip;</a>  But specific retain counts were meaningless even before ARC came along. See the docs for <code>-retainCount</code>: <a href=\"https://developer.apple.com/documentation/objectivec/1418956-nsobject/1571952-retaincount?language=objc#\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/objectivec/1418956-nsobjec&zwnj;&#8203;t/&hellip;</a>"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 1334, "user_id": 4018132, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/af51494e17fd8aa405c82f8fe9d4a920?s=128&d=identicon&r=PG&f=1", "display_name": "rishu1992", "link": "https://stackoverflow.com/users/4018132/rishu1992"}, "edited": false, "score": 0, "creation_date": 1547734461, "post_id": 54220139, "comment_id": 95300109, "body": "For the correct way to think about pre-ARC memory management: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html#//apple_ref/doc/uid/20000994\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a> (especially &quot;Practical Memory Management&quot;). For the ARC transition: <a href=\"https://developer.apple.com/library/archive/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/releasenotes/ObjectiveC/&zwnj;&#8203;&hellip;</a>. For modern ObjC: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html#//apple_ref/doc/uid/TP40011210-CH5-SW3\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>"}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 2, "last_activity_date": 1547652243, "last_edit_date": 1547652243, "creation_date": 1547651834, "answer_id": 54220139, "question_id": 54218269, "link": "https://stackoverflow.com/questions/54218269/what-will-happen-if-we-declare-all-properties-weak/54220139#54220139", "title": "What will happen if we declare all properties weak?", "body": "<blockquote>\n  <p>Is it safe to declare all properties to weak to avoid reference count overhead?</p>\n</blockquote>\n\n<p>This is problematic on two counts. First, <code>weak</code> doesn't avoid reference counting. It actually performs <em>more</em> bookkeeping than <code>strong</code>. See <a href=\"https://stackoverflow.com/questions/23689155/lots-of-overhead-for-weak-property\">Lots of overhead for weak property?</a> for a good discussion of that.</p>\n\n<p>Next, this is wrong because <code>weak</code> and <code>strong</code> mean different things that cannot be interchanged. As MartinM notes, if you make your properties <code>weak</code>, they'll just disappear as soon as you assign them if nothing else is holding onto them.</p>\n\n<blockquote>\n  <p>If not safe then why it's not safe?</p>\n</blockquote>\n\n<p>It is totally safe. It just won't work. Your program will have well defined behavior, and shouldn't crash due to marking all your properties <code>weak</code>. Most of your properties will just be <code>nil</code>. If you used <code>unsafe_unretained</code> instead of <code>weak</code>, then you would avoid some reference counting overhead, and your program would typically crash (because the objects would still be destroyed, the pointers would just become invalid).</p>\n\n<blockquote>\n  <p>What will be the reference count of str?</p>\n</blockquote>\n\n<p>That is not a meaningful question, even though it feels like one. In this particular case the answer is 9,223,372,036,854,775,807 because that's <em>always</em> the retain count of a static string, because static strings cannot be destroyed and ignore retain/release calls. (That value is <code>NSNotFound</code> in ObjC. I believe this used to return 1,152,921,504,606,846,975, but my tests indicate it's changed.)</p>\n\n<p>But in the general case, it could be anything at this point in time. And what it is at this point in time versus at the end of the event loop (when the autoreleasepool drains) could be dramatically different. Do not chase retain count values. They will always lie to you. Create strong references to things you care about. Create weak references only when you need them for their specialized purposes.</p>\n\n<p>Retain counts are an internal implementation detail. Before ARC, they were <a href=\"http://sdarlington.github.io\" rel=\"nofollow noreferrer\">misleading to the point of uselessness</a>. Since ARC, they're like asking \"what assembly instructions will this compile to.\" It's important, but it depends on everything else about the program and how it's compiled.</p>\n\n<p>If you have a specific performance problem related to memory management, then there are techniques for dealing with that in a case-by-case basis, and StackOverflow can help you. But ARC is extremely good at optimizing memory management. Let it do its job.</p>\n"}], "owner": {"reputation": 1334, "user_id": 4018132, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/af51494e17fd8aa405c82f8fe9d4a920?s=128&d=identicon&r=PG&f=1", "display_name": "rishu1992", "link": "https://stackoverflow.com/users/4018132/rishu1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1547652243, "creation_date": 1547645796, "last_edit_date": 1547650658, "question_id": 54218269, "link": "https://stackoverflow.com/questions/54218269/what-will-happen-if-we-declare-all-properties-weak", "title": "What will happen if we declare all properties weak?", "body": "<p>For example, there is a class </p>\n\n<pre><code>@interface Person: NSObject {\n    @property (weak) NSString *str;\n@end\n\n@implementation\n    - (void) init {\n      str = @\"XYZ\";\n    }\n@end\n</code></pre>\n\n<ul>\n<li>Is it safe to declare all properties to weak to avoid reference count\noverhead?  </li>\n<li>If not safe then why it's not safe?</li>\n<li>What will be the reference count of str?</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547648484, "post_id": 54213911, "comment_id": 95263765, "body": "The question is tagged Objective-C, not Swift. Please post answers in the correct language."}], "tags": [], "owner": {"reputation": 453, "user_id": 4531691, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066869153329038/picture?type=large", "display_name": "John Russel Usi", "link": "https://stackoverflow.com/users/4531691/john-russel-usi"}, "is_accepted": false, "score": 0, "last_activity_date": 1547630837, "creation_date": 1547630837, "answer_id": 54213911, "question_id": 54213821, "link": "https://stackoverflow.com/questions/54213821/how-to-show-limited-rows-in-a-section-of-a-table/54213911#54213911", "title": "How to show limited rows in a section of a table?", "body": "<p><code>func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int)</code></p>\n\n<p>use the section.</p>\n\n<p><code>if section == 0\n    return 100\n else if section == 1\n    return 10\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 10493, "user_id": 751527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df6b0a061810c2b448fa73a4af0e7112?s=128&d=identicon&r=PG&f=1", "display_name": "NeverHopeless", "link": "https://stackoverflow.com/users/751527/neverhopeless"}, "is_accepted": true, "score": 1, "last_activity_date": 1547631196, "creation_date": 1547631196, "answer_id": 54214010, "question_id": 54213821, "link": "https://stackoverflow.com/questions/54213821/how-to-show-limited-rows-in-a-section-of-a-table/54214010#54214010", "title": "How to show limited rows in a section of a table?", "body": "<p>A part from your question:</p>\n\n<blockquote>\n  <p>section 1 has 800 reusable cells in it</p>\n</blockquote>\n\n<p>Looks like you have 800 rows in section 1 instead of 800 cells. Once you render tableview it will only create cells that can be displayed on screen and will reuse them once more data comes.</p>\n\n<p>You need to do the following:</p>\n\n<ol>\n<li>Create a main datasource (say array) containing 800 rows. (say <code>allRows</code>)</li>\n<li>Create another source which contains partial data from <code>allRows</code>. (say 'fetchedRows')</li>\n<li>Add a <code>Load More</code> button in either footer or in last row.</li>\n<li>On Pressing 'Load More' fetch some number of rows from <code>allRows</code> to <code>fetchedRows</code>. (say 10 rows)</li>\n<li>Reload table view using data source <code>fetchedRows</code>.</li>\n<li>Same steps can be followed for section 2 as well.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547648490, "post_id": 54214059, "comment_id": 95263769, "body": "The question is tagged Objective-C, not Swift. Please post answers in the correct language."}], "tags": [], "owner": {"reputation": 1013, "user_id": 6760077, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6c9e32d7b141c99487989caeee9a455a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjukta", "link": "https://stackoverflow.com/users/6760077/sanjukta"}, "is_accepted": false, "score": 0, "last_activity_date": 1547631384, "creation_date": 1547631384, "answer_id": 54214059, "question_id": 54213821, "link": "https://stackoverflow.com/questions/54213821/how-to-show-limited-rows-in-a-section-of-a-table/54214059#54214059", "title": "How to show limited rows in a section of a table?", "body": "<p>Please follow this steps :</p>\n\n<p>set in global:</p>\n\n<pre><code>var arrIndex = 10\n</code></pre>\n\n<p>Then in </p>\n\n<pre><code>func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {\n\n    return arrIndex\n\n}\n</code></pre>\n\n<p>Then add button on bottom of table View. In the button action please write </p>\n\n<pre><code> @objc func btnShowMoreClicked(sender : Any){\n    arrIndex = arrIndex + 10\n    self.tableView.reloadData()\n }\n</code></pre>\n\n<p>It may helps you. Thank you.</p>\n"}, {"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547648497, "post_id": 54214162, "comment_id": 95263773, "body": "The question is tagged Objective-C, not Swift. Please post answers in the correct language."}], "tags": [], "owner": {"reputation": 3797, "user_id": 4608906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7xNaG.jpg?s=128&g=1", "display_name": "AtulParmar", "link": "https://stackoverflow.com/users/4608906/atulparmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1547631745, "creation_date": 1547631745, "answer_id": 54214162, "question_id": 54213821, "link": "https://stackoverflow.com/questions/54213821/how-to-show-limited-rows-in-a-section-of-a-table/54214162#54214162", "title": "How to show limited rows in a section of a table?", "body": "<p>you can manage this things using <code>pageIndex</code> set the global variable <code>var pageIndex:Int = 1</code> and tap more to increment <code>pageIndex</code> by 1 and reload <code>UITableview</code></p>\n\n<p>I have written this logic for section 0 initially load 10 records, </p>\n\n<p>I have add one row more by <strong>+1</strong> in this statement <code>return (10 * pageIndex) + 1</code> because +1 is for load more button.</p>\n\n<pre><code>func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {        \n        if section == 0 {\n            return (10 * pageIndex) + 1\n        }else {\n            return 10\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 180, "user_id": 365396, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/31sOz.jpg?s=128&g=1", "display_name": "BoSoud", "link": "https://stackoverflow.com/users/365396/bosoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1548774093, "creation_date": 1548774093, "answer_id": 54423879, "question_id": 54213821, "link": "https://stackoverflow.com/questions/54213821/how-to-show-limited-rows-in-a-section-of-a-table/54423879#54423879", "title": "How to show limited rows in a section of a table?", "body": "<p>First Set Global int Variable :</p>\n\n<pre><code>@interface TableViewController () {\n\n    int arrNum;\n}\n\n@end\n\n@implementation TableViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    arrNum = 3;\n\n}\n</code></pre>\n\n<p>Then set the Sections Counts :</p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n\n    return 2;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n\n    if (section == 0){\n        return arrNum;\n    }else {\n        return 5;\n    }\n\n}\n</code></pre>\n\n<p>Then Create a Button in the footer of the section :</p>\n\n<pre><code>-(UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section {\n\n    UIButton *btn = [[UIButton alloc]init];\n    [btn setTitle:@\"btn Click\" forState:UIControlStateNormal];\n    [btn setBackgroundColor:[UIColor blueColor]];\n    [btn addTarget:self action:@selector(btnClk) forControlEvents:UIControlEventTouchDown];\n    return btn;\n}\n</code></pre>\n\n<p>now set the Action you need when the Button clicked :</p>\n\n<pre><code>-(void)btnClk {\n\n    arrNum = arrNum + 2;\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [self.tableView reloadData];\n    });\n\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 9748894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9uNrc.jpg?s=128&g=1", "display_name": "Abid Mehmood", "link": "https://stackoverflow.com/users/9748894/abid-mehmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 54214010, "answer_count": 5, "score": -1, "last_activity_date": 1548774093, "creation_date": 1547630528, "last_edit_date": 1547648460, "question_id": 54213821, "link": "https://stackoverflow.com/questions/54213821/how-to-show-limited-rows-in-a-section-of-a-table", "title": "How to show limited rows in a section of a table?", "body": "<p>Let's say i have two sections in a table, section 1 has 800 reusable cells in it. How can we set the section that it should display 10 cells at a time and when I click show more button, it should load the next 10 cells and so on?</p>\n"}, {"tags": ["ios", "objective-c", "nsfilemanager"], "comments": [{"owner": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "edited": false, "score": 0, "creation_date": 1547622234, "post_id": 54211847, "comment_id": 95249666, "body": "You want to search directories belonging to other apps too ?"}, {"owner": {"reputation": 125, "user_id": 9748894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9uNrc.jpg?s=128&g=1", "display_name": "Abid Mehmood", "link": "https://stackoverflow.com/users/9748894/abid-mehmood"}, "reply_to_user": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "edited": false, "score": 0, "creation_date": 1547622561, "post_id": 54211847, "comment_id": 95249791, "body": "@humblePilgrim Yes, for example if I want to access the files received via shareIt app then can I access it?"}, {"owner": {"reputation": 10493, "user_id": 751527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df6b0a061810c2b448fa73a4af0e7112?s=128&d=identicon&r=PG&f=1", "display_name": "NeverHopeless", "link": "https://stackoverflow.com/users/751527/neverhopeless"}, "edited": false, "score": 1, "creation_date": 1547630485, "post_id": 54211847, "comment_id": 95253301, "body": "@AbidMehmood, no, that is what sandboxing do. AFAIK, at max you can use App groups, but it still won&#39;t do the one you wants. <a href=\"https://medium.com/@dinesh.kachhot/different-ways-to-share-data-between-apps-de75a0a46d4a\" rel=\"nofollow noreferrer\">medium.com/@dinesh.kachhot/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "edited": false, "score": 0, "creation_date": 1547637164, "post_id": 54215524, "comment_id": 95257167, "body": "Please take a look at this tutorial <a href=\"https://www.raywenderlich.com/5244-document-based-apps-tutorial-getting-started\" rel=\"nofollow noreferrer\">raywenderlich.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1720, "user_id": 419261, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FqFgw.jpg?s=128&g=1", "display_name": "humblePilgrim", "link": "https://stackoverflow.com/users/419261/humblepilgrim"}, "is_accepted": true, "score": 1, "last_activity_date": 1547637070, "last_edit_date": 1547637070, "creation_date": 1547636208, "answer_id": 54215524, "question_id": 54211847, "link": "https://stackoverflow.com/questions/54211847/how-to-search-all-directories-objective-c/54215524#54215524", "title": "How to search all directories? Objective C", "body": "<p>The files that an app can access are those in the app's sandbox. This means you can access only those files that originated(directly or indirectly) from your app. Complete unrestricted access to the iOS file system is not possible as of now.</p>\n\n<p>However I think it is worth noting that iOS 11 has introduced some changes that do allow you to view the document directories of other apps. This is possible only if those apps have made their documents directory public using the 'UISupportsDocumentBrowser'key in their info.plist. Again this depends on how the other apps are coded and might not be of help in your case. </p>\n"}], "owner": {"reputation": 125, "user_id": 9748894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9uNrc.jpg?s=128&g=1", "display_name": "Abid Mehmood", "link": "https://stackoverflow.com/users/9748894/abid-mehmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 54215524, "answer_count": 1, "score": 0, "last_activity_date": 1547637070, "creation_date": 1547622014, "question_id": 54211847, "link": "https://stackoverflow.com/questions/54211847/how-to-search-all-directories-objective-c", "title": "How to search all directories? Objective C", "body": "<p>I know how to search a directory for a file(s) using <code>NSFileManager</code>. But I want to search all directories in iphone to find files with some extension (let's say .txt). How can I do that?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "ios-universal-links"], "comments": [{"owner": {"reputation": 6225, "user_id": 427034, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tjrFY.jpg?s=128&g=1", "display_name": "Zigglzworth", "link": "https://stackoverflow.com/users/427034/zigglzworth"}, "edited": false, "score": 0, "creation_date": 1547623057, "post_id": 54211671, "comment_id": 95249988, "body": "Did you check the link using Apple\u2019s validation tool ? <a href=\"https://search.developer.apple.com/appsearch-validation-tool/\" rel=\"nofollow noreferrer\">search.developer.apple.com/appsearch-validation-tool</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3218, "user_id": 297201, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/N63k0.jpg?s=128&g=1", "display_name": "David van Dugteren", "link": "https://stackoverflow.com/users/297201/david-van-dugteren"}, "edited": false, "score": 0, "creation_date": 1547621722, "post_id": 54211725, "comment_id": 95249490, "body": "When you say &#39;developer profile must be included with an associated domain for debugging&#39; What exactly do you mean?"}, {"owner": {"reputation": 3797, "user_id": 4608906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7xNaG.jpg?s=128&g=1", "display_name": "AtulParmar", "link": "https://stackoverflow.com/users/4608906/atulparmar"}, "reply_to_user": {"reputation": 3218, "user_id": 297201, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/N63k0.jpg?s=128&g=1", "display_name": "David van Dugteren", "link": "https://stackoverflow.com/users/297201/david-van-dugteren"}, "edited": false, "score": 0, "creation_date": 1547622370, "post_id": 54211725, "comment_id": 95249715, "body": "see my answer I have attached an image for your help."}], "tags": [], "owner": {"reputation": 3797, "user_id": 4608906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7xNaG.jpg?s=128&g=1", "display_name": "AtulParmar", "link": "https://stackoverflow.com/users/4608906/atulparmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1547622335, "last_edit_date": 1547622335, "creation_date": 1547621268, "answer_id": 54211725, "question_id": 54211671, "link": "https://stackoverflow.com/questions/54211671/ios-universal-links-on-debug-not-working/54211725#54211725", "title": "iOS Universal Links (on Debug) not working?", "body": "<p>Yes you can debug universal link using the following method in <code>AppDelegate.swift</code> file. , <strong>developer profile must be included with an associated domain for debugging.</strong> , I hope this helps you.</p>\n\n<pre><code>func application(_ application: UIApplication, continue userActivity: NSUserActivity, restorationHandler: @escaping ([Any]?) -&gt; Void) -&gt; Bool {\n       print(\"activityType: \", userActivity.activityType)\n        if userActivity.activityType == NSUserActivityTypeBrowsingWeb {\n            let univrsalLinkURL = userActivity.webpageURL!.absoluteString\n            print(univrsalLinkURL)\n        }\n        return true\n    }\n</code></pre>\n\n<p>Goto developer account and check provisioning profile it's content must be associated domain enabled see this image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GCsG1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCsG1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 5940101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6935b35953b10d86165bcb79cb621ec?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh Pareek", "link": "https://stackoverflow.com/users/5940101/yogesh-pareek"}, "is_accepted": false, "score": 0, "last_activity_date": 1547735659, "creation_date": 1547735659, "answer_id": 54238167, "question_id": 54211671, "link": "https://stackoverflow.com/questions/54211671/ios-universal-links-on-debug-not-working/54238167#54238167", "title": "iOS Universal Links (on Debug) not working?", "body": "<p>Send the link in simulator message application. And click on that it will help you in debugging.</p>\n"}], "owner": {"reputation": 3218, "user_id": 297201, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/N63k0.jpg?s=128&g=1", "display_name": "David van Dugteren", "link": "https://stackoverflow.com/users/297201/david-van-dugteren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 950, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547735659, "creation_date": 1547620910, "question_id": 54211671, "link": "https://stackoverflow.com/questions/54211671/ios-universal-links-on-debug-not-working", "title": "iOS Universal Links (on Debug) not working?", "body": "<p>I'm attempting to check the parsing of a Universal Link on an app I'm working on from within xcode debugger. I have everything working fine for some Universal links on the release build, but I want to walk through the process on debug. But after triple checking everything it just never checks for the app association file when a link is tapped from notes or google search. (Verified from packet sniffing within Charles Proxy both from simulator AND device)</p>\n\n<p>Should this be working on debug? </p>\n"}, {"tags": ["objective-c", "firebase", "google-cloud-firestore", "geopoints", "mkpointannotation"], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 365396, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/31sOz.jpg?s=128&g=1", "display_name": "BoSoud", "link": "https://stackoverflow.com/users/365396/bosoud"}, "is_accepted": true, "score": 0, "last_activity_date": 1547674022, "creation_date": 1547674022, "answer_id": 54225649, "question_id": 54210046, "link": "https://stackoverflow.com/questions/54210046/save-mkpointannotation-to-firestore/54225649#54225649", "title": "Save MKPointAnnotation to Firestore", "body": "<p>i'am attempting to use the FirAnnotations pointer to call init but it's nil and i should be using the FIRGeoPoint there.</p>\n\n<pre><code>for (MKPointAnnotation *point in annotationsArray) {\n        FIRGeoPoint *FirAnnotations;\n        FirAnnotations = [[FIRGeoPoint alloc] initWithLatitude:point.coordinate.latitude                                                longitude:point.coordinate.longitude];\n        NSLog(@\"annotations: %@\",annotations);\n}\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 365396, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/31sOz.jpg?s=128&g=1", "display_name": "BoSoud", "link": "https://stackoverflow.com/users/365396/bosoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 54225649, "answer_count": 1, "score": 0, "last_activity_date": 1547674022, "creation_date": 1547609697, "last_edit_date": 1547611006, "question_id": 54210046, "link": "https://stackoverflow.com/questions/54210046/save-mkpointannotation-to-firestore", "title": "Save MKPointAnnotation to Firestore", "body": "<p>I have [mkmapview annotations] which is array of MKPointAnnotation</p>\n\n<p>I am trying to save ti to FireStore as array but is not accepted the MKPointAnnotation object </p>\n\n<p>then I try to convert MKPointAnnotation to FIRGeoPoint but no luck</p>\n\n<pre><code>for (MKPointAnnotation *point in annotationsArray) {\n        FIRGeoPoint *FirAnnotations;\n        FirAnnotations = [FirAnnotations initWithLatitude:point.coordinate.latitude longitude:point.coordinate.longitude];\n        NSLog(@\"FirAnnotations: %@\",FirAnnotations);\n    }\n</code></pre>\n\n<p>annotationsArray is [mkmapview annotations]</p>\n\n<p><strong>always get null</strong></p>\n"}, {"tags": ["objective-c", "arrays", "swift"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1547605274, "post_id": 54209516, "comment_id": 95245330, "body": "Show some relevant Objective-C and Swift code and show what you need to be different."}], "answers": [{"comments": [{"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547608740, "post_id": 54209624, "comment_id": 95246061, "body": "Well if I want to access MutableArray its because I want to add values to it or remove them... to that original array in that other class...   You say: &quot;Also in Swift, we avoid passing mutable data between methods.&quot;     Between classes you want to say ?   So ok, its just not possible, thats it... Swift is pain in my ass , long life kotlin :P"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547638712, "post_id": 54209624, "comment_id": 95258080, "body": "@Renetik <code>NSMutableArray</code> is still accessible in Swift. You absolutely <i>need</i> an array with reference semantics, you still have access to it. But unconstrained shared mutable state like this, is <b><i>really bad practice</i></b>, <i>in any language</i>. There&#39;s a reason why <code>Array</code> is a value type. Embrace that in your design. If you give me more context as to why you need to share this array, i can try to provide some suggestions."}, {"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1547654600, "post_id": 54209624, "comment_id": 95267611, "body": "@Alexander thank you, but I don&#39;t share your opinion about bad practice in this case. Never mind I did it how it was supposed to force me to do in the end I think."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547665385, "post_id": 54209624, "comment_id": 95273205, "body": "@Renetik The problem is that unconstrained shared mutable state breaks your codes invariants. Whoever has access to this array can mess with it in ways your program doesn&#39;t intend. &quot;Well I&#39;m the one accessing the array, so I won&#39;t mess it up.&quot; That&#39;s not the case. Good design eliminates bugs not by not creating them, but by creating circumstances in which bugs <i>literally cannot occur</i>. See for example, the use of <code>Optional</code> (without force unwrapping) to fix null pointer errors. You literally <i>cannot</i> run into such an error, so long as you don&#39;t use force unwraps."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547665552, "post_id": 54209624, "comment_id": 95273288, "body": "@Renetik In some language with nullable-by-default-references (e.g. C#, Java, Python, Ruby) you might say &quot;Well this <i>might</i> be <code>null</code>, but that&#39;s fine, because I made sure never ends up here, so it&#39;s safe&quot;. <i>No it&#39;s not</i>. You could have made a mistake in your reasoning, or you could be correct but accidentally introduce a bug in the future when you&#39;ve forgotten about the intricacies of that section of code. <code>Optional</code> completely eliminates this class of error, not because it &quot;happens to be correct&quot; today, but because it literally cannot happen (now, or in the future)."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547665737, "post_id": 54209624, "comment_id": 95273373, "body": "@Renetik Similarly, your application would benefit by having well defined interfaces that expose only the sane set of operations. What happens if a consumer takes your array and adds <code>NSMutableArray&lt;ForumCategoryData&gt;</code>, loads it in a Objective C module, casts it to <code>NSMutableArray</code>, and adds a <code>KittenData</code> to it? How will your code respond? Will it break? Is this an edge case you&#39;ll add in your unit test (because you should)? Yet it&#39;s a class of error that could be completed rendered impossible by using other techniques"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547665789, "post_id": 54209624, "comment_id": 95273396, "body": "@Renetik In other words, adding constraints to your systems so that they can only do those actions which &quot;make sense&quot; removes the opportunity for errors."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1547665900, "post_id": 54209624, "comment_id": 95273440, "body": "@Renetik One last thing: Shared mutable state (lets call it SMS) <i>complicates</i> design. Because whenever you have code that operates on this array, you cannot think about it in isolation (which also means it can be tricky to unit test), because the local behaviour can be influenced by foreign entities holding a reference to your array. The only way to have a full understanding of one usage of this SMS, is by first fully understanding <i>all usages</i> of this SMS. That&#39;s <i>hard</i>.  Plus, you&#39;re breaking encapsulation."}], "tags": [], "owner": {"reputation": 62182, "user_id": 1445366, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1073cfb4a1d76b3ac49e08eff6379a63?s=128&d=identicon&r=PG", "display_name": "Aaron Brager", "link": "https://stackoverflow.com/users/1445366/aaron-brager"}, "is_accepted": false, "score": 0, "last_activity_date": 1547605873, "creation_date": 1547605873, "answer_id": 54209624, "question_id": 54209516, "link": "https://stackoverflow.com/questions/54209516/how-to-return-typed-mutable-array-from-swift-to-objective-c/54209624#54209624", "title": "How to return typed mutable array from Swift to Objective-C?", "body": "<p>In Swift, <code>NSMutableArray</code> doesn't support generics. Also in Swift, we avoid passing mutable data between methods. So the best approach is to do this in Swift to maintain your type information:</p>\n\n<pre><code>@objc\nfunc someArray() -&gt; [String] {\n    return [\"Hello\"]\n}\n</code></pre>\n\n<p>And then make a mutable copy in Objective-C:</p>\n\n<pre><code>NSArray&lt;NSString *&gt; *array = [someClass someArray];\nNSMutableArray&lt;NSString *&gt; *mutableArray = [array mutableCopy];\n[mutableArray addObject:@\"Hello again!\"];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62182, "user_id": 1445366, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1073cfb4a1d76b3ac49e08eff6379a63?s=128&d=identicon&r=PG", "display_name": "Aaron Brager", "link": "https://stackoverflow.com/users/1445366/aaron-brager"}, "edited": false, "score": 1, "creation_date": 1547659314, "post_id": 54220847, "comment_id": 95270283, "body": "I think this approach is cleaner \ud83d\udc4d.  The Swift/Obj-C bridge adds a lot of complexity. I think it is helpful when you are migrating code or when you can\u2019t do something in Swift. But it\u2019s definitely an easier time to pick one language or the other if possible."}, {"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "reply_to_user": {"reputation": 62182, "user_id": 1445366, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1073cfb4a1d76b3ac49e08eff6379a63?s=128&d=identicon&r=PG", "display_name": "Aaron Brager", "link": "https://stackoverflow.com/users/1445366/aaron-brager"}, "edited": false, "score": 0, "creation_date": 1547701694, "post_id": 54220847, "comment_id": 95283882, "body": "Well, sure, but nobody will pay me time to rewrite whole app... In need to improvise."}], "tags": [], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "is_accepted": false, "score": 0, "last_activity_date": 1547654663, "last_edit_date": 1547654663, "creation_date": 1547654218, "answer_id": 54220847, "question_id": 54209516, "link": "https://stackoverflow.com/questions/54209516/how-to-return-typed-mutable-array-from-swift-to-objective-c/54220847#54220847", "title": "How to return typed mutable array from Swift to Objective-C?", "body": "<p>So I ended up making it like this</p>\n\n<pre><code>@objc lazy var categories: Array&lt;ForumCategoryData&gt; = []\n\n@objc func add(category: ForumCategoryData) {\n    categories.append(category)\n}\n</code></pre>\n\n<p>because interoperability with objective c makes other problems in closures if you return NSMutableArray... I just try to write as clean code as possible and with mixed swift/objective-c its pure war.</p>\n"}], "owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1547654663, "creation_date": 1547604957, "last_edit_date": 1547605253, "question_id": 54209516, "link": "https://stackoverflow.com/questions/54209516/how-to-return-typed-mutable-array-from-swift-to-objective-c", "title": "How to return typed mutable array from Swift to Objective-C?", "body": "<p>In Objective-C I use generics and like them a lot, in swift I want to use  Array but in Objective-C its accessible only as a Array, so it looks like I need to return NSMutableArray while losing type signature that Swift doesn't support? \nIs this how it's supposed to work?</p>\n"}, {"tags": ["c++", "objective-c", "factory"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 1, "creation_date": 1547598914, "post_id": 54208537, "comment_id": 95244121, "body": "Why are you writing the wrapper in the first place? Is it just to limit the scope of the interop?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1547617610, "post_id": 54208537, "comment_id": 95248099, "body": "Off-topic: I&#39;d prefer an enum (class) over the integer constants, that&#39;s safer."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1547627271, "post_id": 54208537, "comment_id": 95251678, "body": "You can just use <code>objective-c++</code> everywhere without any wrappers."}, {"owner": {"reputation": 83, "user_id": 1749013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a3a5c30a237d2f1ae91621ef7136c0?s=128&d=identicon&r=PG", "display_name": "user1749013", "link": "https://stackoverflow.com/users/1749013/user1749013"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1547669914, "post_id": 54208537, "comment_id": 95275269, "body": "@Josh Caswell: I am writing the wrappers to allow use of the C++ classes in Objective-C. I am not trying to limit anything."}, {"owner": {"reputation": 83, "user_id": 1749013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a3a5c30a237d2f1ae91621ef7136c0?s=128&d=identicon&r=PG", "display_name": "user1749013", "link": "https://stackoverflow.com/users/1749013/user1749013"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1547669952, "post_id": 54208537, "comment_id": 95275292, "body": "@Aconcagua: I may do that. I did not write the classes, I am just doing translation, but have freedom to make alterations."}, {"owner": {"reputation": 83, "user_id": 1749013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a3a5c30a237d2f1ae91621ef7136c0?s=128&d=identicon&r=PG", "display_name": "user1749013", "link": "https://stackoverflow.com/users/1749013/user1749013"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1547669968, "post_id": 54208537, "comment_id": 95275302, "body": "@Cy-4AH: I think I am heading down that road now.."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1547670021, "post_id": 54208537, "comment_id": 95275333, "body": "Hmm. You can already use the C++ classes in ObjC...that&#39;s why you&#39;re able to write wrappers for them."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1547714137, "post_id": 54208537, "comment_id": 95288548, "body": "You can check my two answers how to write <code>objective-c++</code> not everywhere: <a href=\"https://stackoverflow.com/a/26842441/1934750\">stackoverflow.com/a/26842441/1934750</a> and <a href=\"https://stackoverflow.com/a/22679104/1934750\">stackoverflow.com/a/22679104/1934750</a>"}, {"owner": {"reputation": 83, "user_id": 1749013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a3a5c30a237d2f1ae91621ef7136c0?s=128&d=identicon&r=PG", "display_name": "user1749013", "link": "https://stackoverflow.com/users/1749013/user1749013"}, "edited": false, "score": 0, "creation_date": 1548365341, "post_id": 54208537, "comment_id": 95526312, "body": "After doing some careful code review and contrast against an implementation for Android using JNI, it looks like I really only have to write a wrapper for one class-the rest of the classes are used by this one class internally. Thanks all for your help!"}], "owner": {"reputation": 83, "user_id": 1749013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a3a5c30a237d2f1ae91621ef7136c0?s=128&d=identicon&r=PG", "display_name": "user1749013", "link": "https://stackoverflow.com/users/1749013/user1749013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547596642, "creation_date": 1547596642, "question_id": 54208537, "link": "https://stackoverflow.com/questions/54208537/writing-a-wrapper-for-a-c-factory-class-for-use-in-objective-c", "title": "Writing a wrapper for a C++ Factory class for use in Objective-C", "body": "<p>I have a factory class in C++ that I need to make use of in an Objective-C project, so I am trying to write a wrapper for it.</p>\n\n<p>Below is the superclass definition of the Widget class.</p>\n\n<pre><code>class Widget\n{\n    public:\n        Widget();\n        virtual ~Widget();\n\n        virtual Thingamajig getThingamajig() = 0;\n};\n</code></pre>\n\n<p>The factory will return a subclass of Widget, and the Objective-C program will use the Thingamajig provided by Widget (I omitted details on Thingamajig-just presume it is a very simple data container class).</p>\n\n<p>Here's the factory class:</p>\n\n<pre><code>    class WidgetFactory\n    {\n        public:\n\n            /*...a series of integer constants defining the different types of widgets to be returned by \ncreateWidget function below.*/ \n\n            WidgetFactory();\n            ~WidgetFactory();\n\n            Widget* createWidget( int type );\n    };\n</code></pre>\n\n<p>Because I am writing a wrapper, the createWidget method in the factory class is non-static (createWidget was originally static).</p>\n\n<p>Now, here is what I have for the Objective-C wrapper thus far. It is the header for an Objective-C++ (mm file):</p>\n\n<pre><code>@interface WidgetFactoryWrapper: NSObject\n@end\n\n@interface WidgetFactoryWrapper()\n-(Widget*) createWidget: (int)type;\n@end\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<p>1) I got the idea of writing the wrapper like this from another SO article here (<a href=\"https://stackoverflow.com/questions/19229574/calling-c-from-objective-c\">Calling C++ from Objective-C</a>). However, I do not think the last step of writing something like CplusplusMMClass, another Objective-C++ class that uses the Objective-C++ wrapper, is necessary here-I should just call the Objective-C++ wrapper here directly. Is my thinking incorrect?</p>\n\n<p>2) While I accept that I will have to write a wrapper around Widget, will I have to do so for all its subclasses?</p>\n\n<p>3) If you were in my proverbial shoes, how would you go about doing this?</p>\n\n<p>I'm tempted to just translate everything into Objective-C, but I want to be able to reuse what's already been written in C++.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "comments": [{"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1547638582, "post_id": 54206013, "comment_id": 95258007, "body": "Where exactly is the above code located? How do you move the emitter in the gesture recognizer?"}, {"owner": {"reputation": 162, "user_id": 1172417, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/3a664840ba5df95674a6135ee66851ad?s=128&d=identicon&r=PG", "display_name": "stephane", "link": "https://stackoverflow.com/users/1172417/stephane"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1548272665, "post_id": 54206013, "comment_id": 95486634, "body": "I picked up the location in the pangesturderecognizer action with     CGPoint point = [recognizerTmp locationInView:self.view]; and then set the emitter position on     cursorEmiter.emitterPosition = point;"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1548317608, "post_id": 54206013, "comment_id": 95499960, "body": "You forgot my first question. :) Where exactly is the above code located?"}], "owner": {"reputation": 162, "user_id": 1172417, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/3a664840ba5df95674a6135ee66851ad?s=128&d=identicon&r=PG", "display_name": "stephane", "link": "https://stackoverflow.com/users/1172417/stephane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547582327, "creation_date": 1547582327, "question_id": 54206013, "link": "https://stackoverflow.com/questions/54206013/caemitterlayer-draining-battery", "title": "CAEmitterLayer draining battery", "body": "<p>My project deals with IOS 12+ iPhones and i am using fire emitter to follow the finger of the user across the screen (with a pan gesture recogniser). When using the following code, i have noticed that the screen becomes warmer the game is played and it tends to drain battery more rapidly than usual the more the app is used. </p>\n\n<p>Is there any particular to have a fire emitter for following a finger on the screen and yet have a battery friendly solution? </p>\n\n<pre><code>//set ref to the layer\n cursorEmiter = [CAEmitterLayer layer];\n\n//configure the emitter layer\ncursorEmiter.emitterPosition = CGPointMake(50, 50);\ncursorEmiter.emitterSize = CGSizeMake(5, 5);\nCAEmitterCell* fire = [CAEmitterCell emitterCell];\n\n\nfire.birthRate = 1000; // The number of emitted objects created every second. Animatable\nfire.lifetime = 0.6; // The lifetime of the cell, in seconds. Animatable\nfire.lifetimeRange = 0.5;\n\nfire.color = [[UIColor colorWithRed:1.0 green:0.4 blue:0.2 alpha:0.3]\n              CGColor];\n\nfire.contents = (id)[[UIImage imageNamed:@\"PopCornSmall.png\"] CGImage];\n\nfire.velocity = 10; // The initial velocity of the cell. Animatable\nfire.velocityRange = 20;\nfire.scaleSpeed = 0.3;\nfire.spin = 0.5;\ncursorEmiter.renderMode = kCAEmitterLayerAdditive;\n\n[fire setName:@\"fire\"];\n\n//add the cell to the layer and we're done\ncursorEmiter.emitterCells = [NSArray arrayWithObject:fire];\nemiterNotAdded = false;\n[(CAEmitterLayer *)self.layer addSublayer: cursorEmiter];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "language-interoperability"], "answers": [{"comments": [{"owner": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "edited": false, "score": 0, "creation_date": 1547590086, "post_id": 54204432, "comment_id": 95241746, "body": "Shouldn&#39;t it at least produce a warning..? Because for me it doesn&#39;t in objc."}, {"owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "reply_to_user": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "edited": false, "score": 0, "creation_date": 1547590339, "post_id": 54204432, "comment_id": 95241839, "body": "@Vive, check if your compiler invocation includes the <code>-Wunguarded-availability</code> or <code>-Wunguarded-availability-new</code> warning flag. You should be able to find the setting that controls it in your project&#39;s Build Settings, section Apple Clang - Warnings - All languages, as &quot;Unguarded availability&quot;."}, {"owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "reply_to_user": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "edited": false, "score": 0, "creation_date": 1547590618, "post_id": 54204432, "comment_id": 95241937, "body": "The <a href=\"https://reviews.llvm.org/D34264\" rel=\"nofollow noreferrer\"><code>-Wungarded-availability-new</code> flag</a> will only warn about unguarded APIs introduced in macOS &gt;= 10.13, iOS &gt;= 11, watchOS &gt;= 4 and tvOS &gt;= 11 (to avoid spamming warnings for older code)."}, {"owner": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "edited": false, "score": 1, "creation_date": 1547590823, "post_id": 54204432, "comment_id": 95241999, "body": "I already checked that.. and I was wrong! I had <code>unguarded availability</code> set to <code>YES</code> while it should be <code>YES (all versions)</code>. Issues fixed, thank you!"}, {"owner": {"reputation": 3277, "user_id": 3096087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cfSuS.jpg?s=128&g=1", "display_name": "Niko", "link": "https://stackoverflow.com/users/3096087/niko"}, "reply_to_user": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "edited": false, "score": 0, "creation_date": 1604429550, "post_id": 54204432, "comment_id": 114343699, "body": "@Vive do you mean that with setting <code>YES (all versions)</code> you now have build error on the Objective-C code when instantiating <code>Reader</code> below iOS 10.3 ?"}, {"owner": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "reply_to_user": {"reputation": 3277, "user_id": 3096087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cfSuS.jpg?s=128&g=1", "display_name": "Niko", "link": "https://stackoverflow.com/users/3096087/niko"}, "edited": false, "score": 0, "creation_date": 1604443598, "post_id": 54204432, "comment_id": 114348927, "body": "@Niko You are aware the last activity in this thread was almost 2 years ago? Swift did change a lot, objc-swift interoperability and compiler as well, so if you need it, you&#39;re free to test it. From above conversation, I understand it displayed the error. Do you have an issue with implementing this solution? If so, ask direct question."}, {"owner": {"reputation": 3277, "user_id": 3096087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cfSuS.jpg?s=128&g=1", "display_name": "Niko", "link": "https://stackoverflow.com/users/3096087/niko"}, "reply_to_user": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "edited": false, "score": 0, "creation_date": 1604444632, "post_id": 54204432, "comment_id": 114349220, "body": "@Vive thank you for having taken the time reply, I saw this was from 2 years ago, but made a mistake not using past tense in my question, sorry about that. I know things move fast, but some don&#39;t that is why I wanted to know what was the end result on this"}], "tags": [], "owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "is_accepted": true, "score": 1, "last_activity_date": 1547575722, "last_edit_date": 1547575722, "creation_date": 1547575052, "answer_id": 54204432, "question_id": 54203615, "link": "https://stackoverflow.com/questions/54203615/swift-and-objc-interoperability-availability-not-working-only-in-objc/54204432#54204432", "title": "Swift and Objc interoperability - availability not working only in objc", "body": "<p>Objective-C has had <a href=\"https://clang.llvm.org/docs/AttributeReference.html#availability\" rel=\"nofollow noreferrer\"><code>__attribute__((availability))</code></a> for longer than it has had <code>@available</code>. To make it work, the Objective-C compiler weakly links symbols that are not available on the deployment target. This means that compiling always succeeds, and starting your app succeeds, but the symbol will be NULL at runtime if it is not available.</p>\n\n<p>Depending on what it is, you'll get more or less graceful degradation when you try to use it:</p>\n\n<ul>\n<li>calling a weakly-linked function that is missing is going to crash</li>\n<li>reading or writing to a global variable that is missing is going to crash</li>\n<li>using a class that is missing will be a no-op and all methods are going to return zero</li>\n</ul>\n\n<p>The old way of testing whether a symbol is found at runtime is just to compare it to NULL:</p>\n\n<pre><code>NS_AVAILABLE_MAC(...) @interface Foo @end\nint bar NS_AVAILABLE_MAC(...);\nint baz(int frob) NS_AVAILABLE_MAC(...);\n\nif ([Foo class]) { /* Foo is available */ }\nif (&amp;bar) { /* bar is available */ }\nif (&amp;baz) { /* baz is available */ }\n</code></pre>\n\n<p>In your case:</p>\n\n<pre><code>Reader *tmp = [[Reader alloc] init];\n</code></pre>\n\n<p><code>tmp</code> will be <code>nil</code>, because that would be the same as <code>[[nil alloc] init]</code>.</p>\n\n<p>The <code>@available</code> directive has only relatively recently been added to Objective-C. It's now possible to use <code>@available</code> in Objective-C in the same way that you use <code>#available</code> in Swift. However, to preserve backwards compatibility, it possibly never will be a compile-time error (at default error levels) to try to use a symbol that might not be available on the deployment target in Objective-C.</p>\n"}], "owner": {"reputation": 9521, "user_id": 849616, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/848fbcb403b99b6c04cef76c4041863e?s=128&d=identicon&r=PG", "display_name": "Nat", "link": "https://stackoverflow.com/users/849616/nat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 54204432, "answer_count": 1, "score": 2, "last_activity_date": 1547575722, "creation_date": 1547571802, "question_id": 54203615, "link": "https://stackoverflow.com/questions/54203615/swift-and-objc-interoperability-availability-not-working-only-in-objc", "title": "Swift and Objc interoperability - availability not working only in objc", "body": "<p>While <a href=\"https://developer.apple.com/documentation/swift/objective-c_and_c_code_customization/marking_api_availability_in_objective-c\" rel=\"nofollow noreferrer\">here</a> Apple states that the Swift <code>available</code> flag should be applied also in objc, it's not working for me. What am I doing wrong?</p>\n\n<hr>\n\n<p>I've got following declarations in Swift files:</p>\n\n<pre><code>@objc protocol Readable: AnyObject {...}\n\n@available(iOS 10.3, *)\n@objc class Reader: NSObject, Readable {...}\n</code></pre>\n\n<hr>\n\n<p>So let's check if it produces an error when I try to initialize it in pre-ios-10 project without version check. If I write following code in Swift:</p>\n\n<pre><code>let tmp = Reader()\n</code></pre>\n\n<p>it returns an error:</p>\n\n<blockquote>\n  <p>'Reader' is only available on iOS 10.3 or newer</p>\n</blockquote>\n\n<p>What is expected.</p>\n\n<hr>\n\n<p>However if I write following code in objc:</p>\n\n<pre><code>// if (@available(iOS 10.3, *)) { // commeted out to test if it succeeds without version check\n    Reader *tmp = [[Reader alloc] init];\n// }\n</code></pre>\n\n<p>The build is finished without any error, while I'd expect the same error as in Swift.</p>\n\n<hr>\n\n<p>I've tried to mark the class with:</p>\n\n<ul>\n<li>@available(iOS 11, *)</li>\n<li>@available(iOS, introduced: 10.3)</li>\n</ul>\n\n<p>Neither of these works (produces an error) in objc. Any help, please?</p>\n"}, {"tags": ["c++", "objective-c", "qt", "avfoundation", "objective-c++"], "comments": [{"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1547564200, "post_id": 54201329, "comment_id": 95229580, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, we can&#39;t correct code we can&#39;t see"}, {"owner": {"reputation": 267, "user_id": 7035877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDAIE.png?s=128&g=1", "display_name": "light01", "link": "https://stackoverflow.com/users/7035877/light01"}, "reply_to_user": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 0, "creation_date": 1547565335, "post_id": 54201329, "comment_id": 95230295, "body": "Sorry, I added sample code."}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 7035877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDAIE.png?s=128&g=1", "display_name": "light01", "link": "https://stackoverflow.com/users/7035877/light01"}, "edited": false, "score": 0, "creation_date": 1547566543, "post_id": 54202007, "comment_id": 95231019, "body": "Thank you, this fixed my problem."}], "tags": [], "owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "is_accepted": true, "score": 1, "last_activity_date": 1547566317, "creation_date": 1547566317, "answer_id": 54202007, "question_id": 54201329, "link": "https://stackoverflow.com/questions/54201329/expected-unqualified-id-for-class-avplayerlayer/54202007#54202007", "title": "Expected unqualified-id for @class AVPlayerLayer", "body": "<p>According to <a href=\"http://philjordan.eu/article/mixing-objective-c-c++-and-objective-c++\" rel=\"nofollow noreferrer\">http://philjordan.eu/article/mixing-objective-c-c++-and-objective-c++</a></p>\n\n<p>You can forward declare your objective c class with:</p>\n\n<pre><code>#ifdef __OBJC__\n@class AVPlayerLayer;\n#else\ntypedef struct objc_object AVPlayerLayer;\n#endif\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 7035877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDAIE.png?s=128&g=1", "display_name": "light01", "link": "https://stackoverflow.com/users/7035877/light01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "accepted_answer_id": 54202007, "answer_count": 1, "score": 0, "last_activity_date": 1547566317, "creation_date": 1547564002, "last_edit_date": 1547565316, "question_id": 54201329, "link": "https://stackoverflow.com/questions/54201329/expected-unqualified-id-for-class-avplayerlayer", "title": "Expected unqualified-id for @class AVPlayerLayer", "body": "<p>Inside my qt application I have declared a <code>@class AVPlayerLayer</code> inside my header file (<code>frame.h</code>) which in the source file (<code>frame.mm</code>) includes <code>&lt;AVFoundation/AVFoundation.h&gt;</code>.</p>\n\n<p>When I try to compile it with qt creator I get the following error:</p>\n\n<pre><code>Expected unqualified-id for @class AVPlayerLayer\nunknown type name 'AVPlayerLayer'\n</code></pre>\n\n<p>I'm trying to forward the class declaration as I want my header file to know to expect <code>AVPlayerLayer</code> which is included inside my <code>.mm</code> file with <code>AVFoundation</code>, the reason I'm doing this is because header files can not contain <code>Objective-C</code> code.</p>\n\n<p>frame.h:</p>\n\n<pre><code>#include &lt;QObject&gt;\n#include &lt;QQuickItem&gt;\n\ntypedef struct __CVBuffer *CVBufferRef;\ntypedef CVBufferRef CVImageBufferRef;\ntypedef CVImageBufferRef CVOpenGLESTextureRef;\ntypedef CVOpenGLESTextureRef CVOGLTextureRef;\n\n@class AVPlayerLayer;\n//-----------------\n\nclass FrameRenderer : public QObject\n{\n    Q_OBJECT\n\nprivate:\n    CVOGLTextureRef renderLayerToTexture(AVPlayerLayer *layer);\n\npublic:\n    FrameRenderer(QAbstractVideoSurface *surface, QObject *parent = 0);\n};\n</code></pre>\n\n<p>frame.mm</p>\n\n<pre><code>#include \"frame.h\"\n#import &lt;AVFoundation/AVFoundation.h&gt;\n\nFrameRenderer::FrameRenderer(QObject *parent)\n    : QObject(parent)\n{\n}\n\nCVOGLTextureRef FrameRenderer::renderLayerToTexture(AVPlayerLayer *layer)\n{\n    size_t dummyWidth = 0, dummyHeight = 0;\n    return createCacheTextureFromLayer(layer, dummyWidth, dummyHeight);\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "uitableview"], "comments": [{"owner": {"reputation": 2597, "user_id": 5650076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iT9hg.png?s=128&g=1", "display_name": "Teetz", "link": "https://stackoverflow.com/users/5650076/teetz"}, "edited": false, "score": 0, "creation_date": 1547562049, "post_id": 54200679, "comment_id": 95228123, "body": "Shouldn&#39;t you know how many sections you have if you use a sectioned tableView since i guess you implemented numberOfSectionsInTableView: ?"}, {"owner": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1547562193, "post_id": 54200679, "comment_id": 95228223, "body": "If I understood your issue, <code>tableView.reloadData()</code> should be ok, reloading the first section is ok if its static. This will be easier..."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 2597, "user_id": 5650076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iT9hg.png?s=128&g=1", "display_name": "Teetz", "link": "https://stackoverflow.com/users/5650076/teetz"}, "edited": false, "score": 0, "creation_date": 1547562340, "post_id": 54200679, "comment_id": 95228312, "body": "@Teetz I have some dynamic arrays with different sizes, in different situations one array make the number of sections."}, {"owner": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1547562409, "post_id": 54200679, "comment_id": 95228359, "body": "Another point, you could iterate through all sections in the table view but not the first one (I assume that you could recognize it because you have to mention it in <code>numberOfSectionsInTableView</code> method) and then reload them."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1547562450, "post_id": 54200679, "comment_id": 95228387, "body": "@AhmadF it&#39;s not ok, because every time I reload the tableView, the first section blinks."}, {"owner": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1547562600, "post_id": 54200679, "comment_id": 95228485, "body": "Well, what about trying: <code>UIView.performWithoutAnimation {        self.tableView.reloadData() }</code>?"}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 26350, "user_id": 5501940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/eSugZ.jpg?s=128&g=1", "display_name": "Ahmad F", "link": "https://stackoverflow.com/users/5501940/ahmad-f"}, "edited": false, "score": 0, "creation_date": 1547562918, "post_id": 54200679, "comment_id": 95228706, "body": "@AhmadF still blinks"}, {"owner": {"reputation": 76, "user_id": 4721010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d41d3e37c359feab8ad544c7a696c21?s=128&d=identicon&r=PG&f=1", "display_name": "pera", "link": "https://stackoverflow.com/users/4721010/pera"}, "edited": false, "score": 0, "creation_date": 1547563130, "post_id": 54200679, "comment_id": 95228850, "body": "@arash what about moving static stuff on the first section to the tableview header? That way you can <code>reloadData</code> without it blinking."}], "answers": [{"comments": [{"owner": {"reputation": 12781, "user_id": 4051118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKHVO.png?s=128&g=1", "display_name": "Andr&#233; Slotta", "link": "https://stackoverflow.com/users/4051118/andr%c3%a9-slotta"}, "edited": false, "score": 0, "creation_date": 1547563918, "post_id": 54201116, "comment_id": 95229367, "body": "Now that you changed the answer it works fine of course. ;)"}], "tags": [], "owner": {"reputation": 3560, "user_id": 934710, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b615fa5234c94dc3dd43b425d9dddbbf?s=128&d=identicon&r=PG", "display_name": "pckill", "link": "https://stackoverflow.com/users/934710/pckill"}, "is_accepted": false, "score": 1, "last_activity_date": 1547563890, "last_edit_date": 1547563890, "creation_date": 1547563271, "answer_id": 54201116, "question_id": 54200679, "link": "https://stackoverflow.com/questions/54200679/reload-uitableview-except-one-section-of-it/54201116#54201116", "title": "Reload UITableView except one section of it", "body": "<p>Assuming you know the amount of sections:</p>\n\n<pre><code>NSIndexSet *sectionsIndexSet = [NSIndexSet indexSetWithIndexesInRange:NSMakeRange(1, self.sections.count - 1)]\n[self.tableView reloadSections:sectionsIndexSet withRowAnimation:UITableViewRowAnimationNone];\n</code></pre>\n\n<p>Swift:</p>\n\n<pre><code>let sectionsIndexSet = IndexSet(1..&lt;sections.count)\ntableView.reloadSections(sectionsIndexSet, with: .none)\n</code></pre>\n"}], "owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547565130, "creation_date": 1547561767, "last_edit_date": 1547564731, "question_id": 54200679, "link": "https://stackoverflow.com/questions/54200679/reload-uitableview-except-one-section-of-it", "title": "Reload UITableView except one section of it", "body": "<p>I have a tableView with multiple sections.<br>\nNow I want to reload all sections of tableView except the first one (because it's static and doesn't change).<br></p>\n\n<p>I now I can reload sections by this method:<br></p>\n\n<pre><code>reloadSections(IndexSet, with: UITableView.RowAnimation)\n</code></pre>\n\n<p>but it requires the number of sections and in my app this is dynamic and changes in time.<br>\nI can only say reload whatever exist after first section.</p>\n\n<p>I thought I should define a <code>IndexSet</code> somehow like this:</p>\n\n<pre><code>NSIndexSet *indexSet = [NSIndexPath indexPathWithIndexes:(NSUInteger[]){1, ... } length:???];\n</code></pre>\n\n<p>and I don't know how can I do that!</p>\n\n<p>Any ideas or suggestion would be greatly appreciated.</p>\n\n<blockquote>\n  <p><strong>update</strong></p>\n</blockquote>\n\n<p>This is the <code>numberOfSectionsInTableView</code> implementation:</p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{\n\n    // Inbox Segment\n    if (self.selectedIndex == 0) {\n        if (self.inboxArray.count &gt; 0) {\n            return self.inboxArray.count + 2;\n        }\n    }\n\n    // Sent Segment\n    else if (self.selectedIndex == 1) {\n        if (self.sentArray.count &gt; 0) {\n            return self.sentArray.count + 2;\n        }\n    }\n\n    // Outbox Segment\n    else if (self.selectedIndex == 2) {\n        if (self.outboxArray.count &gt; 0) {\n            return self.outboxArray.count + 2;\n        }\n    }\n\n    // Spam Segment\n    else if (self.selectedIndex == 3) {\n        if (self.spamArray.count &gt; 0) {\n            return self.spamArray.count + 2;\n        }\n    }\n\n    // Trash Segment\n    else if (self.selectedIndex == 4) {\n        if (self.trashArray.count &gt; 0) {\n            return self.trashArray.count + 2;\n        }\n    }\n    return 1;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uiscrollview"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547557002, "post_id": 54199129, "comment_id": 95225247, "body": "The scroll indicators are <i>subviews</i> of the scroll view, so you cannot move them outside (they wouldn&#39;t be visible). They have a default inset of 3.5 (if I remember correctly), so if you want them <i>right along the edge</i> you can use <code>-3.5</code> on your edge insets."}, {"owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547557322, "post_id": 54199129, "comment_id": 95225400, "body": "If indicator wasn&#39;t be visible, I would have check for make some views clearColor so that I could show it. But in my case, it is still visible on the edge even tho I give them 50p inset. I can still see it."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547557685, "post_id": 54199129, "comment_id": 95225591, "body": "Hmmm... not clear what you&#39;re asking then... you say <i>&quot;bit more outside(right) of scrollView&quot;</i> -- do you mean you want the indicator to be further <b>inset</b> from the right edge?"}, {"owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547560098, "post_id": 54199129, "comment_id": 95226893, "body": "Could you please check my marvellous art piece for explanation of what I want? I edited my question with a picture."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547561855, "post_id": 54199129, "comment_id": 95228006, "body": "<code>UIEdgeInsetsMake(0, 0, 0, 30);</code> should give you <code>S</code>. <code>W</code> is only possible if you set <code>clipsToBounds = NO</code> on your scroll view, but... then <i>all</i> content of the scroll view is visible outside its bounds."}, {"owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547563464, "post_id": 54199129, "comment_id": 95229079, "body": "Yeah <code>S</code> is possible but I want to do <code>W</code> which I couldn&#39;t do it with <code>clipsToBounds = NO</code>."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1547564657, "post_id": 54199129, "comment_id": 95229867, "body": "Your best bet for <code>W</code> is probably to inset your content in the scroll view. I think that&#39;s the only way to give you the appearance you want."}], "owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547571674, "creation_date": 1547556215, "last_edit_date": 1547571674, "question_id": 54199129, "link": "https://stackoverflow.com/questions/54199129/ios-scrollindicatorinsets-wont-go-beyond-scrollview-bounds", "title": "ios scrollIndicatorInsets won&#39;t go beyond scrollview bounds", "body": "<p>I want to put scrollViewIndicator just a bit more outside(right) of scrollView. But It doesn't go even if I set <code>self.mainMenuCollectionView.scrollIndicatorInsets = UIEdgeInsetsMake(0, 10, 0, 0);</code>. It might because of <strong>inset</strong> works as <strong>padding</strong> and not going out of bounds of scrollView. It stays in the border.</p>\n\n<p>It <strong>works</strong> for putting indise(left) of the view.</p>\n\n<p>It would be really helpful if you know how can I achieve that.</p>\n\n<p>N: normal\nS: It is possible\nW: How I want</p>\n\n<p><a href=\"https://i.stack.imgur.com/rGElL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rGElL.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 3811, "user_id": 4377671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3721dbef6854b15c9ba3bbf07b153cb6?s=128&d=identicon&r=PG&f=1", "display_name": "Kuldeep", "link": "https://stackoverflow.com/users/4377671/kuldeep"}, "edited": false, "score": 0, "creation_date": 1547553223, "post_id": 54198226, "comment_id": 95223300, "body": "Do you want to do some additional things with <code>touchesBegan</code> event? I think you can easily achieve by using <code>didSelectRowAtIndexPath()</code> whatever you want."}, {"owner": {"reputation": 316, "user_id": 10584615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etbCT.jpg?s=128&g=1", "display_name": "Water Flower", "link": "https://stackoverflow.com/users/10584615/water-flower"}, "reply_to_user": {"reputation": 3811, "user_id": 4377671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3721dbef6854b15c9ba3bbf07b153cb6?s=128&d=identicon&r=PG&f=1", "display_name": "Kuldeep", "link": "https://stackoverflow.com/users/4377671/kuldeep"}, "edited": false, "score": 0, "creation_date": 1547555847, "post_id": 54198226, "comment_id": 95224660, "body": "Thanks for ur reply. I mean doesn&#39;t work  didSelectRowAtIndexPath(). Do u have any advance?"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 10161287, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A_1MF9BLm9E/AAAAAAAAAAI/AAAAAAAAAwU/Dy17E1mAPFU/photo.jpg?sz=128", "display_name": "Daniel Martinez Condinanza", "link": "https://stackoverflow.com/users/10161287/daniel-martinez-condinanza"}, "is_accepted": false, "score": 0, "last_activity_date": 1547567090, "creation_date": 1547567090, "answer_id": 54202220, "question_id": 54198226, "link": "https://stackoverflow.com/questions/54198226/uitableviewcell-select-doesnt-working-in-objective-c/54202220#54202220", "title": "UITableViewCell select doesn&#39;t working in objective c", "body": "<p>If didSelectRowAtIndexPath() isn't working properly after using touchesBegan you may want to check if you have [super touchesBegan] in your custom cell method. Like this:</p>\n\n<pre><code>-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event {\n           [super touchesBegan:touches withEvent:event];\n\n           ... .. ...\n}\n\n.....\n\n</code></pre>\n\n<p>Hope it helps you!</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 9200458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poRaO.jpg?s=128&g=1", "display_name": "Jevgenij Anciferov", "link": "https://stackoverflow.com/users/9200458/jevgenij-anciferov"}, "is_accepted": false, "score": 0, "last_activity_date": 1547731279, "creation_date": 1547731279, "answer_id": 54236866, "question_id": 54198226, "link": "https://stackoverflow.com/questions/54198226/uitableviewcell-select-doesnt-working-in-objective-c/54236866#54236866", "title": "UITableViewCell select doesn&#39;t working in objective c", "body": "<p>This situation occurs because method</p>\n\n<pre><code>- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event {\n}\n</code></pre>\n\n<p>catches events, but doesn't send them further up the responder chain. As @Daniel mentioned above, if you add call to <code>super</code> like this:</p>\n\n<pre><code>[super touchesBegan:touches withEvent:event];\n</code></pre>\n\n<p>events will be sent further to <code>- (void)didSelectRowAtIndexPath</code> method.</p>\n"}], "owner": {"reputation": 316, "user_id": 10584615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etbCT.jpg?s=128&g=1", "display_name": "Water Flower", "link": "https://stackoverflow.com/users/10584615/water-flower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547731279, "creation_date": 1547552892, "question_id": 54198226, "link": "https://stackoverflow.com/questions/54198226/uitableviewcell-select-doesnt-working-in-objective-c", "title": "UITableViewCell select doesn&#39;t working in objective c", "body": "<p>I am new in Objective C and have a issue for using custom UITableViewCell.</p>\n\n<p>I use touchesBegan in the my custom tableviewcell like following:</p>\n\n<pre><code>#import \"UserListTableViewCell.h\"\n\n@implementation UserListTableViewCell\n\n@synthesize userTableViewCellView, cellIndex;\n\n- (void)awakeFromNib {\n    [super awakeFromNib];\n    // Initialization code\n}\n\n- (void)setSelected:(BOOL)selected animated:(BOOL)animated {\n    [super setSelected:selected animated:animated];\n\n    // Configure the view for the selected state\n}\n\n\n-(void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event {\n           ... .. ...\n}\n\n-(void) touchesMoved:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event {\n            ... ... ...\n}\n-(void)touchesEnded:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event {\n            ... ... ...\n}\n</code></pre>\n\n<p>Then after that I can't use function  didSelectRowAtIndexPath{}.\nHow can I use TableView selection even though use touchesBegan method.</p>\n\n<p>Please advance me if you can fix this issue.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "ocmock", "quick-nimble"], "answers": [{"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1547654589, "creation_date": 1547654589, "answer_id": 54220944, "question_id": 54197931, "link": "https://stackoverflow.com/questions/54197931/ocmock-class-category-not-working-as-expected/54220944#54220944", "title": "OCMock class category not working as expected", "body": "<p>You are mocking the method +imageMightThrowWithData:error:, but then trying to call the mocked method as part of the mocked implementation.  I'm not sure what the result would be, but it wouldn't surprise me if that just failed and returned nil.  You are using OCMStrictClassMock, which means you can no longer call any class methods on UIImage, including your own.</p>\n\n<p>However, since the imageData is already supplied as an argument, you don't need to mock it at all -- just pass the argument you want to test with.  In fact, you don't need to mock +imageWithData: either.  Just pass the imageData you already seem to have.  I could possibly see mocking +imageWithData: to throw with a non-strict mock, in order to test that case (if you can't easily get an NSData which will cause the Apple method to throw in the first place), but for this test I don't see the need to use OCMock at all.  So just remove the OCMStrictClassMock and the two OCMStub calls and I think it should work.</p>\n\n<p>If you want to mock out the imageWithData: method so it returns faster, I guess that should work, but use OCMClassMock and not a strict one, so that you can still test your own class method, and then don't OCMStub the method you're trying to test.</p>\n"}, {"tags": [], "owner": {"reputation": 2021, "user_id": 579717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sTYmS.jpg?s=128&g=1", "display_name": "Francesco Puglisi", "link": "https://stackoverflow.com/users/579717/francesco-puglisi"}, "is_accepted": false, "score": 0, "last_activity_date": 1552390322, "last_edit_date": 1552390322, "creation_date": 1552389184, "answer_id": 55120130, "question_id": 54197931, "link": "https://stackoverflow.com/questions/54197931/ocmock-class-category-not-working-as-expected/55120130#55120130", "title": "OCMock class category not working as expected", "body": "<p>You don't normally create a stub or an expectation for the method that you're trying to test. </p>\n\n<p>If I understand the purpose of your unit test correctly, i.e. check that the returned value is not nil when there are no exceptions, you could follow these steps: </p>\n\n<ol>\n<li>Stub <code>+[UIImage imageWithData:]</code> to return a <code>UIImage</code> object.</li>\n<li>Call <code>+[UIImage imageCanThrowWithData: error:]</code> and save the returned value in a local variable.</li>\n<li>Check that the returned value is not nil.</li>\n</ol>\n\n<pre><code>id imageMock = OCMClassMock([UIImage class]);\nOCMStub([imageMock imageWithData:OCMOCK_ANY]).andReturn(imageMock);\nNSData *data = OCMClassMock([NSData class]);\nUIImage *result = [UIImage imageCanThrowWithData:data error:nil];\nXCTAssertNotNil(result);\n</code></pre>\n\n<p><strong>Note:</strong> It's good practice to have only one assertion per test, so I would suggest creating a separate one to check that the error is nil when no exceptions are thrown.</p>\n"}], "owner": {"reputation": 3411, "user_id": 429763, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7c8ecb5e3066a0bccfc19ebcae95af9f?s=128&d=identicon&r=PG", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/429763/zsolt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552391058, "creation_date": 1547551628, "last_edit_date": 1552391058, "question_id": 54197931, "link": "https://stackoverflow.com/questions/54197931/ocmock-class-category-not-working-as-expected", "title": "OCMock class category not working as expected", "body": "<p>I have the following <code>UIImage</code> category:</p>\n\n<pre><code>@implementation UIImage (Exception)\n\n+ (nullable UIImage *)imageCanThrowWithData:(NSData *)data error:(NSError **)errorPtr\n{\n    UIImage *image = nil;\n\n    @try {\n        image = [self imageWithData:data];\n    } @catch (id exception) {\n        *errorPtr = [NSError errorWithDomain:@\"mydomain\" code:0 userInfo:nil];\n    }\n\n    return image;\n}\n\n@end\n</code></pre>\n\n<p>And then I am trying to test this with OCMock:</p>\n\n<p>excerpt from setup\n...</p>\n\n<pre><code>beforeEach(^{\n        NSString* labelPath = [[NSBundle mainBundle] pathForResource:@\"image\" ofType:@\"jpg\"];\n        imageData = [NSData dataWithContentsOfFile:labelPath];\n        image = [UIImage imageWithData:imageData];\n    });\n\n\nit(@\"should return the image if no exception is thrown\", ^{\n        id mock = OCMStrictClassMock([UIImage class]);\n\n        NSError *error = nil;\n\n        OCMStub([mock imageWithData:OCMOCK_ANY]).andReturn(image);\n\n        OCMStub([mock imageMightThrowWithData:imageData error:&amp;error]).andReturn([UIImage imageMightThrowWithData:imageData error:&amp;error]);\n\n        UIImage* resultImage = [[mock expect] imageMightThrowWithData:imageData error:&amp;error];\n        expect(resultImage).toNot(beNil());\n        expect(error).to(beNil());\n\n        [mock stopMocking];\n    });\n</code></pre>\n\n<p>Why is <code>resultImage</code> is <code>nil</code>.\nNotes:<br>\nI am not an expert on OCMock, so I might be doing something naive.<br>\nUIImage imageWithData can throw an exception in case you are dealing with core data external storage.</p>\n"}, {"tags": ["ios", "objective-c", "hevc"], "owner": {"reputation": 120, "user_id": 5291694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI4wg.jpg?s=128&g=1", "display_name": "xiaoming", "link": "https://stackoverflow.com/users/5291694/xiaoming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1547553803, "creation_date": 1547534801, "last_edit_date": 1547553803, "question_id": 54193908, "link": "https://stackoverflow.com/questions/54193908/how-to-fix-avdregister-appleavdcheckplatform-returned-false", "title": "How to fix &quot;AVDRegister - AppleAVDCheckPlatform() returned FALSE&quot;", "body": "<p>I use this code to check if my iphone support hevc hard decode</p>\n\n<pre><code>BOOL hardwareDecodeSupported = VTIsHardwareDecodeSupported(kCMVideoCodecType_HEVC);\n</code></pre>\n\n<p>but on console I got a warning:\n\"AVDRegister - AppleAVDCheckPlatform() returned FALSE\" and the hardwareDecodeSupported property is true. \nmy device is iPhone7 with iOS11.3.1</p>\n"}, {"tags": ["ios", "objective-c", "react-native", "travis-ci"], "answers": [{"tags": [], "owner": {"reputation": 1434, "user_id": 831785, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Rkzvc.jpg?s=128&g=1", "display_name": "Mosbah", "link": "https://stackoverflow.com/users/831785/mosbah"}, "is_accepted": false, "score": 0, "last_activity_date": 1547529299, "creation_date": 1547529299, "answer_id": 54193017, "question_id": 54192377, "link": "https://stackoverflow.com/questions/54192377/automated-unit-test-on-healthkit-permission/54193017#54193017", "title": "Automated Unit Test on Healthkit permission", "body": "<p>I'm using <a href=\"https://github.com/PGSSoft/AutoMate\" rel=\"nofollow noreferrer\">this</a> library in my XCTests, I didn't specifically test HealthKit alerts but it seems to be supported.</p>\n\n<p><a href=\"https://github.com/PGSSoft/AutoMate/blob/master/AutoMateExample/AutoMateExampleUITests/PermissionsTests.swift\" rel=\"nofollow noreferrer\">https://github.com/PGSSoft/AutoMate/blob/master/AutoMateExample/AutoMateExampleUITests/PermissionsTests.swift</a></p>\n\n<p><a href=\"https://github.com/PGSSoft/AutoMate/blob/master/AutoMate/Models/HealthAlerts.swift\" rel=\"nofollow noreferrer\">https://github.com/PGSSoft/AutoMate/blob/master/AutoMate/Models/HealthAlerts.swift</a></p>\n"}, {"tags": [], "owner": {"reputation": 1078, "user_id": 2025766, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ip9Dw.png?s=128&g=1", "display_name": "FedeH", "link": "https://stackoverflow.com/users/2025766/fedeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1610996387, "creation_date": 1610996387, "answer_id": 65780545, "question_id": 54192377, "link": "https://stackoverflow.com/questions/54192377/automated-unit-test-on-healthkit-permission/65780545#65780545", "title": "Automated Unit Test on Healthkit permission", "body": "<p>I was able to reach those buttons with:</p>\n<pre><code>lazy var turnOnAllCategories = app.tables.cells.firstMatch\nlazy var allowCategoriesConnectionButton = app.navigationBars.buttons.element(boundBy: 1)\n</code></pre>\n<p>On my test I check if the popup form is displayed with:</p>\n<pre><code>if turnOnAllCategories.waitForExistence(timeout: waitForExistenceTimeFrame) {\n    turnOnAllCategories.tap()\n    allowCategoriesConnectionButton.tap()\n }\n</code></pre>\n<p>Keep in mind that base on your UI, maybe you will need to filter a bit more the results of <strong>app.tables</strong> and <strong>app.navigationBars.buttons</strong></p>\n"}], "owner": {"reputation": 751, "user_id": 4755053, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/10206535481490822/picture?type=large", "display_name": "ykn121", "link": "https://stackoverflow.com/users/4755053/ykn121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1610996387, "creation_date": 1547523464, "last_edit_date": 1547524354, "question_id": 54192377, "link": "https://stackoverflow.com/questions/54192377/automated-unit-test-on-healthkit-permission", "title": "Automated Unit Test on Healthkit permission", "body": "<p>I am writing a <code>react-native</code> bridge for healthkit that includes the initialization of Healthkit. I also need to write an unit test for the modules. </p>\n\n<p>I would like to use Travis to auto test on the project. Therefore, I need a automatic way that can press on the <code>Allow</code> button. Otherwise, the permission UI will block the unit testing process.</p>\n\n<p>So, I need to know how automatically press on the allow button.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ogblYm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogblYm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uiimagepickercontroller"], "comments": [{"owner": {"reputation": 12117, "user_id": 2745495, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5bbcd267235bab78ec6710ef6654ba87?s=128&d=identicon&r=PG", "display_name": "Gino Mempin", "link": "https://stackoverflow.com/users/2745495/gino-mempin"}, "edited": false, "score": 0, "creation_date": 1547515727, "post_id": 54191026, "comment_id": 95210861, "body": "For the &quot;Code 13&quot; error, have you checked this? <a href=\"https://stackoverflow.com/q/44465904/2745495\">PhotoPicker discovery error: Error Domain=PlugInKit Code=13</a>"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1547521951, "post_id": 54191026, "comment_id": 95212076, "body": "Please <a href=\"https://stackoverflow.com/search?q=errors+encountered+while+discovering+extensions%3A+Error+Domain%3DPlugInKit+Code%3D13\">review these search results</a>. Always search on an error before posting."}, {"owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "edited": false, "score": 0, "creation_date": 1547611755, "post_id": 54191026, "comment_id": 95246633, "body": "@Evans have you got your answer?"}, {"owner": {"reputation": 21, "user_id": 10914488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67aa05b6e01144211540236c0bb45ec9?s=128&d=identicon&r=PG&f=1", "display_name": "EvanS", "link": "https://stackoverflow.com/users/10914488/evans"}, "reply_to_user": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "edited": false, "score": 0, "creation_date": 1547848363, "post_id": 54191026, "comment_id": 95347939, "body": "@Sagarkoyani - I&#39;m almost there. The code from rmaddy works great! However, it is still giving me the Code=13 error. The answers I find are written in Swift - do you have a Objective C solution? I believe I need to somehow ask for permission from the user based off the plist privacy. I entered in: Privacy - Photo Library Additions Usage Description | We want to use the library and Privacy - Camera Usage Description | We want to use the Camera. I assumed it would pop up. How do I ask that to the user?"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "is_accepted": false, "score": 1, "last_activity_date": 1547564560, "last_edit_date": 1547564560, "creation_date": 1547535928, "answer_id": 54194086, "question_id": 54191026, "link": "https://stackoverflow.com/questions/54191026/how-to-display-photo-library-image-in-xcode/54194086#54194086", "title": "How to display photo library image in Xcode?", "body": "<p>Change your didfinish method code to below.</p>\n\n<pre><code>-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary&lt;NSString *,id&gt; *)info {\n    UIImage *LoveImage = info[UIImagePickerControllerOriginalImage];\n    [picker dismissViewControllerAnimated:YES completion:nil];\n    self.LoveImage.image = LoveImage;\n}\n</code></pre>\n\n<p>LoveImage is an image view. We can't assign an image to it directly. It has an <code>image</code> property so we have to set its <code>image</code> property.</p>\n"}], "owner": {"reputation": 21, "user_id": 10914488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67aa05b6e01144211540236c0bb45ec9?s=128&d=identicon&r=PG&f=1", "display_name": "EvanS", "link": "https://stackoverflow.com/users/10914488/evans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547564560, "creation_date": 1547511047, "last_edit_date": 1547521887, "question_id": 54191026, "link": "https://stackoverflow.com/questions/54191026/how-to-display-photo-library-image-in-xcode", "title": "How to display photo library image in Xcode?", "body": "<p>My objective-c code is erroring out with the Code=13 error, and does not display either the cameras photo or a library's image in an image view.</p>\n\n<p>I'M Using Xcode 10.1, deployment target 12.0, and I'm going off example from <a href=\"https://stackoverflow.com/questions/34132933/uiimagepickercontroller-not-picking-image-in-ios-9/34133975\">UIImagePickerController not picking image in iOS 9</a></p>\n\n<p>I have two problems:</p>\n\n<p>1) Even though I add in \"Privacy - Photo Library Usage Description | We want to use the library\" in the p-list, it still gives me this error:</p>\n\n<p>[discovery] errors encountered while discovering extensions: Error        Domain=PlugInKit Code=13 \"query cancelled\" UserInfo={NSLocalizedDescription=query cancelled}</p>\n\n<p>What am I doing wrong? </p>\n\n<p>2) I can't get the image to show up in the LoveImage view. What am I doing wrong here?</p>\n\n<p>Below is .m file:</p>\n\n<pre><code>-(IBAction)imagepickertapped:(id)sender { \nUIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"Attach image\" message:@\"\" preferredStyle:UIAlertControllerStyleActionSheet];\nUIAlertAction* pickFromGallery = [UIAlertAction actionWithTitle:@\"Take a photo\"\n                                                          style:UIAlertActionStyleDefault\n                                                        handler:^(UIAlertAction * action) {\n                                                            if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])\n                                                            {\n                                                                UIImagePickerController* picker = [[UIImagePickerController alloc] init];\n                                                                picker.sourceType = UIImagePickerControllerSourceTypeCamera;\n                                                                picker.delegate = self;\n                                                                [self presentViewController:picker animated:YES completion:NULL];\n                                                            }\n\n                                                        }];\nUIAlertAction* takeAPicture = [UIAlertAction actionWithTitle:@\"Choose from gallery\"\nstyle:UIAlertActionStyleDefault\n                                                     handler:^(UIAlertAction * action) {\n                                                         UIImagePickerController* picker = [[UIImagePickerController alloc] init];\n                                                         picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;\n                                                         picker.delegate = self;\n                                                         [self presentViewController:picker animated:YES completion:NULL];\n                                                     }];\nUIAlertAction* cancel = [UIAlertAction actionWithTitle:@\"Cancel\"\n                                         style:UIAlertActionStyleCancel\n                                               handler:^(UIAlertAction * action) {\n                                               }];\n\n[alertController addAction:pickFromGallery];\n[alertController addAction:takeAPicture];\n[alertController addAction:cancel];\n[self presentViewController:alertController animated:YES completion:nil]; }\n\n-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary&lt;NSString *,id&gt; *)info {\nUIImage *LoveImage = info[UIImagePickerControllerOriginalImage];\n[picker dismissViewControllerAnimated:YES completion:nil];\nself.LoveImage = info[UIImagePickerControllerOriginalImage];}\n\n-(void)imagePickerControllerDidCancel:(UIImagePickerController *)picker {\n[picker dismissViewControllerAnimated:YES completion:nil];}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1547548465, "post_id": 54197068, "comment_id": 95220877, "body": "I have created one and I don\u2019t get any errors when initially assigning class instance variables."}], "tags": [], "owner": {"reputation": 86, "user_id": 6826124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154664732934714/picture?type=large", "display_name": "Gareth Miller", "link": "https://stackoverflow.com/users/6826124/gareth-miller"}, "is_accepted": false, "score": 0, "last_activity_date": 1547548308, "creation_date": 1547548308, "answer_id": 54197068, "question_id": 54189674, "link": "https://stackoverflow.com/questions/54189674/swift-what-project-settings-and-configuration-code-do-i-need-to-use-a-objective/54197068#54197068", "title": "Swift, what project settings and configuration code do I need to use a Objective C CocoaPod with swift project?", "body": "<p>In order to use Objective-c cocoapods in a Swift project you need to create a bridging header which you will use to import any Objective-c classes you want to expose to Swift.</p>\n\n<p>You should have been prompted if you want a bridging-header file at some point, but if you declined you can create one manually following these steps: <a href=\"https://mycodetips.com/ios/manually-adding-swift-bridging-header-1290.html\" rel=\"nofollow noreferrer\">manually create a bridging header</a></p>\n"}], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1547548308, "creation_date": 1547502466, "question_id": 54189674, "link": "https://stackoverflow.com/questions/54189674/swift-what-project-settings-and-configuration-code-do-i-need-to-use-a-objective", "title": "Swift, what project settings and configuration code do I need to use a Objective C CocoaPod with swift project?", "body": "<p>I've previously setup an Objective C framework which works fine with an Objective C project, which also works fine that I've migrated to my own private pod.</p>\n\n<p>I have read various posts about debugger issues, perhaps needing to add the framework to a sub folder. Also that a bridging header is required and normal Objective C imports should be added.</p>\n\n<p>In my own experience I have found it less than perfect and can not get class instance properties to show in the debugger. Seeing ObjectiveC.NSObject instead.</p>\n\n<p>I also have issues with strings not being passed correctly to Objective C methods in the framework and the values aren't visible. I'm also getting errors accessing these strings.</p>\n\n<p>I really need to know what's possible, what I should be seeing, what steps I need to follow and how I should proceed to gain help.</p>\n\n<p>It seems like there are bugs in Xcode, that values aren't transformed correctly.</p>\n\n<p>I'm left feeling that I'm going to have quite a lot of changes to make to my Objective C framework, which is rather disappointing.</p>\n\n<p>I'm also quite new to swift and this has cast doubt on what I've learnt.</p>\n"}, {"tags": ["ios", "objective-c", "deprecated"], "comments": [{"owner": {"reputation": 3564, "user_id": 3216970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec661ea7a240654ec958f063478c964?s=128&d=identicon&r=PG&f=1", "display_name": "mc01", "link": "https://stackoverflow.com/users/3216970/mc01"}, "edited": false, "score": 0, "creation_date": 1547498972, "post_id": 54188808, "comment_id": 95206052, "body": "While a &quot;warning&quot; isn&#39;t ideal, if it still compiles and works on those older target devices does it really matter? iOS10+ now covers ~99% of iPhone installs, and ~80% of iPads. Unless you&#39;re developing specifically for continued support of older iPads, there&#39;s little reason or benefit to bother working around this."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1547505353, "post_id": 54188808, "comment_id": 95208503, "body": "Yes, this is how you do it, but you can use the preprocessor to reduce the boilerplate. See <a href=\"https://stackoverflow.com/a/32515495/97337\">stackoverflow.com/a/32515495/97337</a> for an example (specifically the NS_SUPPRESS_DIRECT_USE macro). If you run into a lot of this, I&#39;ve often pulled this stuff into categories like <code>-[UIApplication rn_openURL:]</code> that &quot;does the right thing&quot; for all versions."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1547507238, "post_id": 54188808, "comment_id": 95209056, "body": "@RobNapier But there are proper solutions that don&#39;t involve suppressing warnings."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1547509057, "post_id": 54188808, "comment_id": 95209544, "body": "Deprecated does not mean banned. You do not need to suppress this message at all. In fact if it is deprecated in iOS10, chances are it will still be available in iOS15."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 2, "creation_date": 1547509340, "post_id": 54188808, "comment_id": 95209619, "body": "@GeneCode Correct but most developers should strive for code that compiles clean."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547558449, "post_id": 54188808, "comment_id": 95225973, "body": "@rmaddy Thanks for the example. It&#39;s kind of hideous to type, so I&#39;m thinking it should be possible to macro it the same way as the link we were discussing, but I agree that the approach is better."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 4, "last_activity_date": 1547507329, "last_edit_date": 1547507329, "creation_date": 1547504123, "answer_id": 54190002, "question_id": 54188808, "link": "https://stackoverflow.com/questions/54188808/correct-way-to-handle-deprecated-api/54190002#54190002", "title": "Correct way to handle deprecated API", "body": "<p>If you are targeting iOS 10 and later then there is no need to support the deprecated API. Just use the new one.</p>\n\n<p>No need for an <code>if/else</code>. Just do:</p>\n\n<pre><code>[[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];\n</code></pre>\n\n<p>That's it. This updated API was added in iOS 10.0. Since you are supporting only iOS 10 and later, there is no need to try to use the deprecated API.</p>\n\n<p>If this code is being used by some projects that support iOS 10 and later as well as some projects that need to support something older than iOS 10, then you need something like the following:</p>\n\n<pre><code>#if __IPHONE_OS_VERSION_MIN_REQUIRED &lt; __IPHONE_10_0\n    if (@available(iOS 10.0, *)) {\n#endif\n        [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];\n#if __IPHONE_OS_VERSION_MIN_REQUIRED &lt; __IPHONE_10_0\n    } else {\n        [[UIApplication sharedApplication] openURL:url];\n    }\n#endif\n</code></pre>\n\n<p>The effect of this compiler directive is that when building in a project with a Deployment Target of iOS 10.0 or later, the compiled code simply becomes:</p>\n\n<pre><code>[[UIApplication sharedApplication] openURL:url options:@{} \n</code></pre>\n\n<p>When the code is built in a project with a Deployment Target earlier than iOS 10.0, the compiled code will be:</p>\n\n<pre><code>if (@available(iOS 10.0, *)) {\n    [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];\n} else {\n    [[UIApplication sharedApplication] openURL:url];\n}\n</code></pre>\n"}], "owner": {"reputation": 2462, "user_id": 674548, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1b37edc3e30503536841845e969aac40?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/674548/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 54190002, "answer_count": 1, "score": 1, "last_activity_date": 1547507329, "creation_date": 1547498170, "question_id": 54188808, "link": "https://stackoverflow.com/questions/54188808/correct-way-to-handle-deprecated-api", "title": "Correct way to handle deprecated API", "body": "<p>There is an Obj-C file which is included into several projects with different deployment target. This file has following codeline:</p>\n\n<pre><code>[[UIApplication sharedApplication] openURL:url];\n</code></pre>\n\n<p>When I compile project targeting iOS 10, I get a warning:</p>\n\n<blockquote>\n  <p>'openURL:' is deprecated: first deprecated in iOS 10.0 - Please use openURL:options:completionHandler: instead</p>\n</blockquote>\n\n<p>I tried to fix it with the following construction:</p>\n\n<pre><code>if (@available(iOS 10.0, *)) {\n    [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];\n} else {\n    [[UIApplication sharedApplication] openURL:url];\n}\n</code></pre>\n\n<p>but it still generates the same warning!</p>\n\n<p>I do not want to switch this warning off globally, so what I ended with is monstrous</p>\n\n<pre><code>if (@available(iOS 10.0, *)) {\n    [[UIApplication sharedApplication] openURL:url options:@{} completionHandler:nil];\n} else {\n    #pragma clang diagnostic push\n    #pragma clang diagnostic ignored \"-Wdeprecated-declarations\"\n    [[UIApplication sharedApplication] openURL:url];\n    #pragma clang diagnostic pop\n}\n</code></pre>\n\n<p>So I wonder if I really need to have such an ugly code, or maybe I have missed something, and such situation could have been handled in another (more graceful) manner?</p>\n"}, {"tags": ["ios", "objective-c", "grand-central-dispatch", "nsstream"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1547499555, "post_id": 54188769, "comment_id": 95206307, "body": "The only way you can not block the main thread is to make the code asynchronous, which is the right thing to do anyway. A busy-while loop is awful"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1547505818, "post_id": 54188769, "comment_id": 95208637, "body": "Agreed with Paul. You can&#39;t dodge the asynchronous nature of I/O calls. That&#39;s why Node is full of callbacks. You can build other solutions based on JavaScript Futures or Promises and go down the React Native route, but eventually you&#39;re going to have to grapple with the fact that I/O takes a very long time and you can&#39;t just wait for it. (This is one of the reasons that building apps in JavaScript is so complicated. To build a really good app, you need to be an expert in JavaScript <i>and</i> an expert in iOS/Cocoa to know how to bridge.)"}], "owner": {"reputation": 23, "user_id": 10913220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kurj.jpg?s=128&g=1", "display_name": "saxford", "link": "https://stackoverflow.com/users/10913220/saxford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547499632, "creation_date": 1547497992, "question_id": 54188769, "link": "https://stackoverflow.com/questions/54188769/main-thread-blocking-nsstream-when-checking-if-input-is-available-on-nsstream", "title": "Main Thread blocking NSStream when checking if input is available on NSStream", "body": "<p>I am working with a package called <a href=\"https://github.com/wendux/DSBridge-IOS\" rel=\"nofollow noreferrer\">DSBridge</a> to connect a mobile application (iOS code in this case) to javascript code containing the main logic of my application. This involves running the JavaScript on an invisible WKWebView. </p>\n\n<p>My JavaScript code needs to call a method in the native iOS application which needs to execute and return a value to the JavaScript.</p>\n\n<p>My Objective C function reads: </p>\n\n<pre><code>- (NSString* )read:(NSDictionary *) args{\n    NSLog(@\"In Read\");\n    while(self-&gt;connection != NULL) {\n        if([self-&gt;connection isMessageAvailable]) {\n            [self-&gt;connection messageRetrieved];\n            NSLog(@\"Message Received in ViewController\");\n            return [self-&gt;connection getMessage];\n        }\n    }\n    return NULL;\n}\n</code></pre>\n\n<p>Which is called from my JavaScript, I need this to return on the main thread so that the return value is sent into my WebView.</p>\n\n<p>The issue is that my the message from IO I am waiting for will never appear as my NSStream is blocked by the while loop. </p>\n\n<p>My connection methods and NSStream look like this:</p>\n\n<pre><code>-(void)readData:(NSData*)receivedData{\n    NSData *decoded = [self btXOR:receivedData withMask:0x26];\n    message = [[NSString alloc] initWithData:decoded encoding:NSUTF8StringEncoding];\n    NSLog(@\"message: %@\", message);\n    messageAvailable = true;\n}\n\n- (BOOL) isMessageAvailable {\n    return messageAvailable;\n}\n\n- (void) messageRetrieved {\n    messageAvailable = false;\n}\n\n- (NSString*) getMessage {\n    NSLog(@\"Message: %@\", message);\n    return message;\n}\n\n#pragma mark StreamDelegate\n-(void) stream:(NSStream *)theStream handleEvent:(NSStreamEvent)eventCode\n{\n    switch (eventCode)\n    {\n\n            //Reading in from host done here\n            case NSStreamEventHasBytesAvailable:\n            DDLogInfo(@\"NSStreamEventHasBytesAvailable\");\n            DDLogInfo(@\"stream is input: %i \" , (theStream == inputStream));\n            NSLog(@\"NSStreamEventHasBytesAvailable\");\n            NSLog(@\"stream is input: %i \" , (theStream == inputStream));\n\n\n            if (theStream == inputStream)\n        {\n            uint8_t buffer[1024];\n            long len;\n\n            while ([inputStream hasBytesAvailable])\n            {\n                len = [inputStream read:buffer maxLength:sizeof(buffer)];\n                DDLogDebug(@\"InputStream still has bytes\");\n                NSLog(@\"InputStream still has bytes\");\n                if (len &gt; 0)\n                {\n                    NSMutableData* data=[[NSMutableData alloc] initWithLength:0];\n\n                    [data appendBytes: (const void *)buffer length:(int)len];\n                    [self readData:data];\n                }\n            }\n        }\n            break;\n</code></pre>\n\n<p>The 'NSStreamEventHasBytesAvailable' case should occur once the message is ready, and should be picked up by my read function so it can be returned to my WebViews JavaScript.</p>\n\n<p>How can I take the while loop off of the main thread and still return once I have the message? Is it possible to take the NSStream off the main runloop in a way that it will not be blocked by my read function?</p>\n\n<p>I tried making read async and using a callback to the JavaScript as seen <a href=\"https://stackoverflow.com/questions/54186858/have-callback-work-synchronously-in-javascript\">here</a>, but this makes my JavaScript codebase rather unwieldy with callbacks.</p>\n"}, {"tags": ["objective-c", "swift", "xpc", "mach", "nsxpcconnection"], "answers": [{"comments": [{"owner": {"reputation": 10719, "user_id": 433073, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/fxMvx.png?s=128&g=1", "display_name": "Just a coder", "link": "https://stackoverflow.com/users/433073/just-a-coder"}, "edited": false, "score": 0, "creation_date": 1575034894, "post_id": 57207644, "comment_id": 104443528, "body": "This is for an app and a service? I want to make one windowed app, talk to another windowed app. How can i do this? Let me know if i should ask a separate question."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "edited": false, "score": 0, "creation_date": 1575035556, "post_id": 57207644, "comment_id": 104443849, "body": "Yes. ask a separate question, please."}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": true, "score": 3, "last_activity_date": 1564079175, "last_edit_date": 1564079175, "creation_date": 1564076932, "answer_id": 57207644, "question_id": 54188295, "link": "https://stackoverflow.com/questions/54188295/nsmachbootstrapserver-is-deprecated-how-can-nsxpcconnection-be-used-to-register/57207644#57207644", "title": "NSMachBootstrapServer is deprecated, how can NSXPCConnection be used to register a Mach Service?", "body": "<p>That's true: <code>NSMachBootstrapServer</code> class and the majority of its companion classes are <a href=\"https://developer.apple.com/documentation/foundation/nsmachbootstrapserver\" rel=\"nofollow noreferrer\">deprecated</a> in macOS 10.13 High Sierra.</p>\n\n<blockquote>\n  <p>In macOS 10.14 Mojave and higher you have to use a <code>NSXPCConnection</code> API, that is the <code>Foundation</code> module's part. It's described in the header file <code>NSXPCConnection.h</code>. At the moment it consists of the four main classes:</p>\n</blockquote>\n\n<ul>\n<li><a href=\"https://developer.apple.com/documentation/foundation/nsxpcconnection\" rel=\"nofollow noreferrer\">NSXPCConnection</a></li>\n<li><a href=\"https://developer.apple.com/documentation/foundation/nsxpcinterface\" rel=\"nofollow noreferrer\">NSXPCInterface</a></li>\n<li><a href=\"https://developer.apple.com/documentation/foundation/nsxpclistener\" rel=\"nofollow noreferrer\">NSXPCListener</a></li>\n<li><a href=\"https://developer.apple.com/documentation/foundation/nsxpclistenerendpoint\" rel=\"nofollow noreferrer\">NSXPCListenerEndpoint</a></li>\n</ul>\n\n<p>Here's how a XPC Connection process looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6ls7Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ls7Y.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>And as you can see on a picture, you have to implement a listener. </p>\n\n<p>Here's how a Swift code snippet with listener might look like:</p>\n\n<pre><code>let listener = NSXPCListener(machServiceName: \"Name-of-Sample.Helper\")\nlistener.delegate = delegate\nlistener.resume()\nRunLoop.current.run()\n</code></pre>\n\n<p>Here's how an Obj-C code snippet with listener might look like:</p>\n\n<pre><code>self.listener = [[NSXPCListener alloc] initWithMachServiceName:@\"Name-of-Sample.Helper\"];\nself.listener.delegate = self;\n[self.listener resume];\n[[NSRunLoop currentRunLoop] run];\n</code></pre>\n\n<blockquote>\n  <p><strong>If you look at <a href=\"https://stackoverflow.com/questions/41901512/xpc-between-two-cocoa-applications-in-workspace-the-nsxpcconnection-is-immediat\">This Post</a> you'll find out how to properly implement all the necessary XPC Connection's objects</strong>.</p>\n</blockquote>\n\n<p>and...</p>\n\n<blockquote>\n  <p><strong>If you look at <a href=\"https://stackoverflow.com/questions/24040765/communicate-with-another-app-using-xpc\">This Post</a> you'll also find out how it can be used with a Mach Service (there's GitHub <a href=\"https://github.com/brenwell/EvenBetterAuthorizationSample\" rel=\"nofollow noreferrer\">link</a>)</strong>.</p>\n</blockquote>\n"}], "owner": {"reputation": 1953, "user_id": 43425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aec4823a7cb71b02de1d3913b473c63?s=128&d=identicon&r=PG", "display_name": "alfwatt", "link": "https://stackoverflow.com/users/43425/alfwatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 1, "accepted_answer_id": 57207644, "answer_count": 1, "score": 4, "last_activity_date": 1585995385, "creation_date": 1547495763, "last_edit_date": 1585995385, "question_id": 54188295, "link": "https://stackoverflow.com/questions/54188295/nsmachbootstrapserver-is-deprecated-how-can-nsxpcconnection-be-used-to-register", "title": "NSMachBootstrapServer is deprecated, how can NSXPCConnection be used to register a Mach Service?", "body": "<p>I need to write a Mach Service that both my app and a system plugin can talk to, I use the <code>NSMachPort</code> API to create a new port, then register it with <code>NSMachBootstrapServer</code>:</p>\n\n<pre><code>- (void) run\n{\n    NSMachPort *serverPort = (NSMachPort *)[NSMachPort port];\n    [serverPort setDelegate:self];\n    [serverPort scheduleInRunLoop:NSRunLoop.currentRunLoop forMode:NSDefaultRunLoopMode];\n    [NSMachBootstrapServer.sharedInstance registerPort:serverPort name:@\"com.example.MyApp\"];\n\n    [NSRunLoop.currentRunLoop run];\n}\n</code></pre>\n\n<p>Clang complains that <code>NSMachBootstrapServer</code> has been deprecated:</p>\n\n<pre><code>warning: 'NSMachBootstrapServer' is deprecated: first deprecated in macOS 10.13 - Use NSXPCConnection instead\n</code></pre>\n\n<p>How does one use <code>NSXPCConnection</code> to replace the functionality of <code>NSMachBootstrapServer</code> when writing a non-XPC mach service?</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "uilabel", "uiaccessibility"], "comments": [{"owner": {"reputation": 126, "user_id": 1738812, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/234ca30011f32b345f3e47ad13a50787?s=128&d=identicon&r=PG", "display_name": "Sumit Jain", "link": "https://stackoverflow.com/users/1738812/sumit-jain"}, "edited": false, "score": 0, "creation_date": 1547491681, "post_id": 54187062, "comment_id": 95202993, "body": "What do you want to achieve from accessibility value?"}, {"owner": {"reputation": 101, "user_id": 10913294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178db05f1ae00c5477f650b0fa982db5?s=128&d=identicon&r=PG", "display_name": "C Shreve", "link": "https://stackoverflow.com/users/10913294/c-shreve"}, "reply_to_user": {"reputation": 126, "user_id": 1738812, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/234ca30011f32b345f3e47ad13a50787?s=128&d=identicon&r=PG", "display_name": "Sumit Jain", "link": "https://stackoverflow.com/users/1738812/sumit-jain"}, "edited": false, "score": 0, "creation_date": 1547498000, "post_id": 54187062, "comment_id": 95205652, "body": "I need to have blind users know A-what the label is titled and B-what the value of the label is."}, {"owner": {"reputation": 126, "user_id": 1738812, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/234ca30011f32b345f3e47ad13a50787?s=128&d=identicon&r=PG", "display_name": "Sumit Jain", "link": "https://stackoverflow.com/users/1738812/sumit-jain"}, "edited": false, "score": 0, "creation_date": 1547516083, "post_id": 54187062, "comment_id": 95210952, "body": "Try accessibilityHint"}, {"owner": {"reputation": 101, "user_id": 10913294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178db05f1ae00c5477f650b0fa982db5?s=128&d=identicon&r=PG", "display_name": "C Shreve", "link": "https://stackoverflow.com/users/10913294/c-shreve"}, "reply_to_user": {"reputation": 126, "user_id": 1738812, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/234ca30011f32b345f3e47ad13a50787?s=128&d=identicon&r=PG", "display_name": "Sumit Jain", "link": "https://stackoverflow.com/users/1738812/sumit-jain"}, "edited": false, "score": 0, "creation_date": 1547530237, "post_id": 54187062, "comment_id": 95213793, "body": "Yessir - have already tried that and it doesn&#39;t seem to affect either the accessibilityLabel or accessibilityValue values."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10913294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178db05f1ae00c5477f650b0fa982db5?s=128&d=identicon&r=PG", "display_name": "C Shreve", "link": "https://stackoverflow.com/users/10913294/c-shreve"}, "edited": false, "score": 0, "creation_date": 1547498182, "post_id": 54187774, "comment_id": 95205749, "body": "I&#39;ve attempted to also set the accessibilityIdentifier...which doesn&#39;t seem to set either the label or the value for any of the above (UILabel, UIView, UIButton) controls."}], "tags": [], "owner": {"reputation": 1434, "user_id": 831785, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Rkzvc.jpg?s=128&g=1", "display_name": "Mosbah", "link": "https://stackoverflow.com/users/831785/mosbah"}, "is_accepted": false, "score": 0, "last_activity_date": 1547493345, "creation_date": 1547493345, "answer_id": 54187774, "question_id": 54187062, "link": "https://stackoverflow.com/questions/54187062/how-to-programmatically-set-accessibilitylabel-on-uilabel/54187774#54187774", "title": "How to programmatically set accessibilityLabel on UILabel?", "body": "<p>UILabel will have the text set using <code>.text</code> on it as accessibilityLabel, depending on what you want to do I think it's better to use <code>accessibilityIdentifier</code> to identify UI elements and leave the default value.</p>\n"}, {"tags": [], "owner": {"reputation": 2929, "user_id": 461148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gBnPO.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/461148/joe"}, "is_accepted": false, "score": 0, "last_activity_date": 1562022294, "creation_date": 1562022294, "answer_id": 56843459, "question_id": 54187062, "link": "https://stackoverflow.com/questions/54187062/how-to-programmatically-set-accessibilitylabel-on-uilabel/56843459#56843459", "title": "How to programmatically set accessibilityLabel on UILabel?", "body": "<p>When inspecting accessibility of a view inside an app on the simulator you need to be sure to select the simulator as the current context instead of your computer. Clicking the current selection in the top left reveals a dropdown.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OZNSD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OZNSD.png\" alt=\"Accessibility Inspector Example\"></a></p>\n"}], "owner": {"reputation": 101, "user_id": 10913294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178db05f1ae00c5477f650b0fa982db5?s=128&d=identicon&r=PG", "display_name": "C Shreve", "link": "https://stackoverflow.com/users/10913294/c-shreve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1812, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562022294, "creation_date": 1547489916, "last_edit_date": 1547490151, "question_id": 54187062, "link": "https://stackoverflow.com/questions/54187062/how-to-programmatically-set-accessibilitylabel-on-uilabel", "title": "How to programmatically set accessibilityLabel on UILabel?", "body": "<p>I am attempting to programmatically set the accessibility label and value for a UILabel (the one titled 'Mega Title!') in my UIViewController.  Here's my viewDidLoad...</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    // seems you can only set value on UILabel\n    self.powLabel.isAccessibilityElement = YES;\n    self.powLabel.accessibilityLabel = @\"lbl label\";    // sets value ???\n    self.powLabel.accessibilityValue = @\"lbl value\";    // this doesn't work.\n\n    // you can set title and value on UIView\n    self.powView.isAccessibilityElement = YES;\n    self.powView.accessibilityLabel = @\"view label\";    // sets title\n    self.powView.accessibilityValue = @\"view value\";    // sets value\n\n\n    // you can set title and value on UIButton\n    self.powButton.isAccessibilityElement = YES;\n    self.powButton.accessibilityLabel = @\"btn label\";    // sets title\n    self.powButton.accessibilityValue = @\"btn value\";    // this value   \n}\n</code></pre>\n\n<p>The accessibility title/value gets set correctly in the UIView and UIButton controls...however only the accessibility value gets set on the UILabel control.  Here's a screenshot of what the Accessibility Inspector shows...</p>\n\n<p><a href=\"https://i.stack.imgur.com/a2Pot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a2Pot.png\" alt=\"enter image description here\"></a> </p>\n\n<p>How do you setup a UILabel so that accessibilityLabel actually has a value?</p>\n"}, {"tags": ["javascript", "ios", "objective-c", "webview"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1547489158, "post_id": 54186858, "comment_id": 95202045, "body": "What is calling the JS <code>read()</code> function? Can you return a promise to it?"}, {"owner": {"reputation": 23, "user_id": 10913220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kurj.jpg?s=128&g=1", "display_name": "saxford", "link": "https://stackoverflow.com/users/10913220/saxford"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1547490524, "post_id": 54186858, "comment_id": 95202573, "body": "The read function is being called as part of a large codebases logic, usually inside of if statements. I am not familiar with promises but will try them now."}, {"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1547490801, "post_id": 54186858, "comment_id": 95202680, "body": "Related (not checked if full duplicate): <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call/14220323\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10913220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kurj.jpg?s=128&g=1", "display_name": "saxford", "link": "https://stackoverflow.com/users/10913220/saxford"}, "edited": false, "score": 0, "creation_date": 1547490224, "post_id": 54186924, "comment_id": 95202442, "body": "The read function is being called as part of a large codebases logic, usually inside of if statements. This causes problems with having callbacks in the caller as I will end up with a lot of callbacks, possibly nested."}, {"owner": {"reputation": 7369, "user_id": 6439799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y4OPS.png?s=128&g=1", "display_name": "Karim", "link": "https://stackoverflow.com/users/6439799/karim"}, "reply_to_user": {"reputation": 23, "user_id": 10913220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kurj.jpg?s=128&g=1", "display_name": "saxford", "link": "https://stackoverflow.com/users/10913220/saxford"}, "edited": false, "score": 0, "creation_date": 1547490483, "post_id": 54186924, "comment_id": 95202554, "body": "if the objective-c code has to be executed asynchronously i don&#39;t see many options a part from using callbacks (as in this example) or promises."}], "tags": [], "owner": {"reputation": 7369, "user_id": 6439799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y4OPS.png?s=128&g=1", "display_name": "Karim", "link": "https://stackoverflow.com/users/6439799/karim"}, "is_accepted": true, "score": 0, "last_activity_date": 1547502386, "last_edit_date": 1547502386, "creation_date": 1547489275, "answer_id": 54186924, "question_id": 54186858, "link": "https://stackoverflow.com/questions/54186858/have-callback-work-synchronously-in-javascript/54186924#54186924", "title": "Have callback work synchronously in JavaScript", "body": "<p>You can pass a callback to the <code>read()</code> function and invoke it when the underlying Objective-C code returns</p>\n\n<pre><code>function read(clb) {\n  data = \"reading\";\n  dsBridge.call(\"read\", data, function (read_result) {\n    clb(read_result);\n  });\n}\n</code></pre>\n\n<p>and your caller</p>\n\n<pre><code>read(res =&gt; {\n  //result available here\n  console.log(res);\n})\n</code></pre>\n\n<p>Alternatively with Promises</p>\n\n<pre><code>function read() {\n  data = \"reading\";\n  return new Promise(resolve =&gt; {\n    dsBridge.call(\"read\", data, function (read_result) {\n      resolve(read_result);\n    });\n  });\n}\n</code></pre>\n\n<p>and the caller</p>\n\n<pre><code>read()\n  .then(res =&gt; {\n     //result available here\n      console.log(res);\n   })\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10913220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kurj.jpg?s=128&g=1", "display_name": "saxford", "link": "https://stackoverflow.com/users/10913220/saxford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 54186924, "answer_count": 1, "score": 2, "last_activity_date": 1547502386, "creation_date": 1547488897, "question_id": 54186858, "link": "https://stackoverflow.com/questions/54186858/have-callback-work-synchronously-in-javascript", "title": "Have callback work synchronously in JavaScript", "body": "<p>I am working with a package called <a href=\"https://github.com/wendux/DSBridge-IOS\" rel=\"nofollow noreferrer\">DSBridge</a> to connect a mobile application (iOS code in this case) to javascript code containing the main logic of my application. This involves running the JavaScript on an invisible WKWebView. </p>\n\n<p>My JavaScript code needs to call a method in the native iOS application which needs to execute asynchronously (as to not block the UI), to do this I am using callbacks in JavaScript and a completionHandler in native.</p>\n\n<p>My Objective C function reads: </p>\n\n<p><code>- (void)read:(NSDictionary *) args :(JSCallback) completionHandler{\n    dispatch_async(dispatch_get_global_queue( DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void){\n        NSLog(@\"In Read\");\n        while(self-&gt;connection != NULL) {\n            if([self-&gt;connection isMessageAvailable]) {\n                [self-&gt;connection messageRetrieved];\n                NSLog(@\"Message Received in ViewController\");\n                completionHandler([self-&gt;connection getMessage], YES);\n            }\n        }\n    });\n}</code></p>\n\n<p>Which is called from my JavaScript here: </p>\n\n<pre><code>function read() {\n    data = \"reading\";\n    dsBridge.call(\"read\", data, function (read_result) {\n        console.log(\"read_result = \", read_result)\n        return read_result;\n        });\n}\n</code></pre>\n\n<p>The issue lies in the JavaScript, I need the JavaScript function 'read' to return the value \"read_result\" once the Native application returns the message. Right now my code is calling the objective C, which is executing properly and returning the required value to the callback function in the JavaScript but the JavaScript function 'read' already completed without a return value. </p>\n\n<p>Is there a way for me to stall the JavaScript until the callback is complete?</p>\n"}, {"tags": ["objective-c", "nsurl"], "answers": [{"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 0, "last_activity_date": 1547486938, "last_edit_date": 1547486938, "creation_date": 1547486553, "answer_id": 54186345, "question_id": 54186207, "link": "https://stackoverflow.com/questions/54186207/what-exactly-nsurllocalizednamekey-resource-returns-and-is-it-different-from-the/54186345#54186345", "title": "What exactly NSURLLocalizedNameKey resource returns and is it different from the url&#39;s last path component?", "body": "<ul>\n<li><code>localized</code> means you get for example <strong><em>Desktop</em></strong> on an English system, <strong><em>Schreibtisch</em></strong> in German or <strong><em>\u30c7\u30b9\u30af\u30c8\u30c3\u30d7</em></strong> in Japanese.</li>\n<li><p><code>extension-hidden</code> considers the checkbox in a Finder Info window like</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZMZMd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZMZMd.png\" alt=\"enter image description here\"></a></p></li>\n</ul>\n\n<p><code>lastPathComponent</code> returns always the internal non-localized full file/folder name.</p>\n"}], "owner": {"reputation": 1613, "user_id": 456065, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/49b8a5172d9634e038c69110bfb5e480?s=128&d=identicon&r=PG", "display_name": "Sanich", "link": "https://stackoverflow.com/users/456065/sanich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 54186345, "answer_count": 1, "score": 0, "last_activity_date": 1547486938, "creation_date": 1547486032, "question_id": 54186207, "link": "https://stackoverflow.com/questions/54186207/what-exactly-nsurllocalizednamekey-resource-returns-and-is-it-different-from-the", "title": "What exactly NSURLLocalizedNameKey resource returns and is it different from the url&#39;s last path component?", "body": "<p><code>NSURL</code> provides a method <code>getResourceValue:forKey:error:</code>. One of the possible keys is the <code>NSURLLocalizedNameKey</code> which from <a href=\"https://developer.apple.com/documentation/foundation/nsurllocalizednamekey?language=objc\" rel=\"nofollow noreferrer\">documentation</a> returns: </p>\n\n<blockquote>\n  <p>The resource\u2019s localized or extension-hidden name, returned as an NSString object (read-only).</p>\n</blockquote>\n\n<p>What does it mean \"localized or extension-hidden name\"?\nIs it different from just calling <code>[url lastPathComponent]</code>?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "nsurlsession", "nsoperationqueue"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1547474862, "post_id": 54183011, "comment_id": 95194428, "body": "I thought that you couldn&#39;t mess using Completion Blocks and Delegate with <code>URLSession</code>, it was either one or the other. Cf. <a href=\"https://stackoverflow.com/a/37902228/1801544\">stackoverflow.com/a/37902228/1801544</a> and doc <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiondatadelegate#/apple_ref/occ/intf/NSURLSessionDataDelegate\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/&hellip;</a>"}, {"owner": {"reputation": 1738, "user_id": 3339346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68aeb5bb2df29777adad4037901b47f?s=128&d=identicon&r=PG&f=1", "display_name": "ystack", "link": "https://stackoverflow.com/users/3339346/ystack"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1547475257, "post_id": 54183011, "comment_id": 95194634, "body": "@Larme I have not implemented any <code>NSURLSessionDataDelegate</code> delegate funcs. I&#39;m using the Completion Blocks implementation but want the block to be executed on my own <code>NSOperationQueue</code> i.e. WEGQueue here. I want all completion block operations executing on this custom queue instead of URLSession arbitrarily creating one to execute it."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1547475313, "post_id": 54183011, "comment_id": 95194663, "body": "Since it&#39;s called <code>delegateQueue:</code>, I think that&#39;s why. It&#39;s for the delegate and might not care if you use the block. If it was called <code>queue:</code>, it wouldn&#39;t have surprised me that it worked, but since it&#39;s not, that&#39;s the init special for delegate case."}, {"owner": {"reputation": 1738, "user_id": 3339346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68aeb5bb2df29777adad4037901b47f?s=128&d=identicon&r=PG&f=1", "display_name": "ystack", "link": "https://stackoverflow.com/users/3339346/ystack"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1547475580, "post_id": 54183011, "comment_id": 95194836, "body": "I thought about that naming pattern but couldn&#39;t find any documentation claiming this to be the case. Also, the official docs say <code>An operation queue for scheduling the delegate calls and completion handlers.</code><a href=\"https://developer.apple.com/documentation/foundation/nsurlsession/1411597-sessionwithconfiguration?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsurls&zwnj;&#8203;ession/&hellip;</a>"}, {"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1547478500, "post_id": 54183011, "comment_id": 95196466, "body": "If you change your display to &quot;View Process by Queue&quot; does it say your completion routine is in an unexpected queue?  (Perhaps it&#39;s just a problem with the &quot;by Thread&quot; view.)"}, {"owner": {"reputation": 1738, "user_id": 3339346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68aeb5bb2df29777adad4037901b47f?s=128&d=identicon&r=PG&f=1", "display_name": "ystack", "link": "https://stackoverflow.com/users/3339346/ystack"}, "reply_to_user": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1547479491, "post_id": 54183011, "comment_id": 95197056, "body": "Thanks for the heads-up @PhillipMills but however it&#39;s inconclusive to me. See the attached pic. Xcode still states that block was enqueued from an arbitrary thread."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1547482912, "post_id": 54183011, "comment_id": 95199064, "body": "I thought the delegate queue controls only where the delegate callbacks run. But the docs do say this about the delegate queue:  &quot;An operation queue for scheduling the delegate calls <b>and completion handlers</b>&quot;. So...hmmm... doc error?  The surprise about the thread isn&#39;t surprising. The app doesn&#39;t control which thread a queue&#39;s task uses.  You can sidestep the queue mystery by explicitly dispatching in your completion handlers."}, {"owner": {"reputation": 5656, "user_id": 908621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f275c40d3a1fefc35699d94b20bb4acd?s=128&d=identicon&r=PG", "display_name": "fishinear", "link": "https://stackoverflow.com/users/908621/fishinear"}, "edited": false, "score": 0, "creation_date": 1547497283, "post_id": 54183011, "comment_id": 95205336, "body": "In your first screen shot, the &quot;WEG Queue&quot; is marked as &quot;concurrent&quot;. That would explain the behaviour, because then there can be multiple threads handling the same queue. Are you sure that it is a Serial Queue, and not a concurrent one? Technically, even if it is a serial queue, it could be handled by multiple threads, as long as the handling of the operations don&#39;t overlap."}, {"owner": {"reputation": 5656, "user_id": 908621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f275c40d3a1fefc35699d94b20bb4acd?s=128&d=identicon&r=PG", "display_name": "fishinear", "link": "https://stackoverflow.com/users/908621/fishinear"}, "edited": false, "score": 0, "creation_date": 1547497587, "post_id": 54183011, "comment_id": 95205482, "body": "I think it is just a glitch in the XCode UI, that is has not marked the threads with the name of your queue."}, {"owner": {"reputation": 1738, "user_id": 3339346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68aeb5bb2df29777adad4037901b47f?s=128&d=identicon&r=PG&f=1", "display_name": "ystack", "link": "https://stackoverflow.com/users/3339346/ystack"}, "reply_to_user": {"reputation": 5656, "user_id": 908621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f275c40d3a1fefc35699d94b20bb4acd?s=128&d=identicon&r=PG", "display_name": "fishinear", "link": "https://stackoverflow.com/users/908621/fishinear"}, "edited": false, "score": 0, "creation_date": 1547543640, "post_id": 54183011, "comment_id": 95218278, "body": "@fishinear Yes, WEGQueue is a Serial queue. I&#39;ve set the queue&#39;s max concurrent operations limit to 1 while initialising it."}], "answers": [{"tags": [], "owner": {"reputation": 5656, "user_id": 908621, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f275c40d3a1fefc35699d94b20bb4acd?s=128&d=identicon&r=PG", "display_name": "fishinear", "link": "https://stackoverflow.com/users/908621/fishinear"}, "is_accepted": true, "score": 0, "last_activity_date": 1547569797, "creation_date": 1547569797, "answer_id": 54203023, "question_id": 54183011, "link": "https://stackoverflow.com/questions/54183011/urlsession-completion-block-not-executing-on-delegate-queue-shown-by-xcode/54203023#54203023", "title": "URLSession completion block not executing on delegate queue shown by Xcode", "body": "<p>I'd say it is just an XCode GUI limitation, that it does not always label the Queue in the \"view by queue\" with the name that you gave it. And it does not always label the threads with the Queue that thread is currently handling. As you say, when you do <code>po [NSOperationQueue currentQueue]</code>, it does report the correct queue. So you have no indication that it actually uses another queue.</p>\n\n<p>There is no guarantee that the same queue is always handled by the same thread. Each event can be handled by a different thread. There is only a guarantee that the events are not running in parallel, for a Serial Queue.</p>\n"}], "owner": {"reputation": 1738, "user_id": 3339346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68aeb5bb2df29777adad4037901b47f?s=128&d=identicon&r=PG&f=1", "display_name": "ystack", "link": "https://stackoverflow.com/users/3339346/ystack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 54203023, "answer_count": 1, "score": 0, "last_activity_date": 1547569797, "creation_date": 1547474607, "last_edit_date": 1547479572, "question_id": 54183011, "link": "https://stackoverflow.com/questions/54183011/urlsession-completion-block-not-executing-on-delegate-queue-shown-by-xcode", "title": "URLSession completion block not executing on delegate queue shown by Xcode", "body": "<p>I have configured a URLSession to fetch data from network &amp; have set a delegate queue so that all subsequent operations happen within my queue.\nHowever, when using breakpoints to view the Debug navigator, Xcode shows the completion block of URLSession is invoked on arbitrary threads.</p>\n\n<p>The URLSession is setup as follows - </p>\n\n<pre><code>NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];\n\nself.urlSession = [NSURLSession sessionWithConfiguration:configuration delegate:nil delegateQueue:[MyManager sharedInstance].queue];\n\n...\n\n[self.urlSession dataTaskWithRequest:urlRequest completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n\n  /... operations expected to be executed on WEGQueue .../\n\n}] resume];\n</code></pre>\n\n<p>Below is screen capture of processes on my serial queue named <code>WEGQueue</code> before URLSession has started.</p>\n\n<p><a href=\"https://i.stack.imgur.com/KLvQ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLvQ5.png\" alt=\"Pic 1\"></a></p>\n\n<p>Now I expect the completion block operations to be invoked on the specified delegate queue of URLSession i.e. WEGQueue here.\nHowever, using a breakpoint to view the Debug Navigator shows that block is being processed on an arbitrary queue. Attached pic below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/M7ZJi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7ZJi.png\" alt=\"Pic 2\"></a></p>\n\n<p>Below is Debug Navigator in \"View Process by Queue\" filter.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZmtKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmtKt.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is really weird! \nI'm not sure why URLSession is not invoking completion blocks on the specified delegate queue. \nAnd that's not all.\nIt gets weirder due to the fact that when I do a <code>po</code>, <code>lldb</code> says that the completion block is (as expected) on the WEGQueue. See pic below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EL0HD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EL0HD.png\" alt=\"Pic 3\"></a></p>\n\n<p>It's confusing that <code>Xcode's Debug Navigator</code> says URLSession's completion block is being executed on an arbitrary thread while <code>lldb</code> says it is executed as expected on the delegate queue <code>WEGQueue</code>.</p>\n\n<p>Did anyone face a similar scenario? Is this just an Xcode GUI bug? Or something is really amiss over here?</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547542828, "post_id": 54182569, "comment_id": 95217903, "body": "Thanks so much for your response, Some strings aren&#39;t strings their unrelated class references. I use the setField method several times and add them all to an array. When iterating the array, some are fine and are string and others are class references. All the none strings are fine."}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547549432, "post_id": 54182569, "comment_id": 95221396, "body": "No I just want the string"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547550245, "post_id": 54182569, "comment_id": 95221795, "body": "I just can\u2019t get the string value"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547559315, "post_id": 54182569, "comment_id": 95226444, "body": "I thought it would be easier to add to GitHub, line 28 <a href=\"https://github.com/Jules2010/SwiftObjcFx/blob/master/mcl-icloud-db/mcl-icloud-db/Classes/iCloudSchemaTable.m\" rel=\"nofollow noreferrer\">github.com/Jules2010/SwiftObjcFx/blob/master/mcl-icloud-db/&hellip;</a>"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547559749, "post_id": 54182569, "comment_id": 95226689, "body": "Oh ok, I&#39;ve added an image with the error."}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547560034, "post_id": 54182569, "comment_id": 95226855, "body": "If I turn on NSZombies I get [CFString retain]: message sent to deallocated instance"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547560181, "post_id": 54182569, "comment_id": 95226949, "body": "I&#39;m just passing in a plain string in swift &quot;RecordName&quot;"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1547560797, "post_id": 54182569, "comment_id": 95227321, "body": "Don&#39;t suppose you can give me some key words to add to a new question?"}], "answers": [{"comments": [{"owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1547474002, "post_id": 54182619, "comment_id": 95193947, "body": "As vadian said, the thing is, that the framework method is &quot;exported/bridged&quot; to the Swift world as <code>func setField(_ name:String, recordTypeName:String &#47;* ... *&#47;) -&gt; AnyObject</code>, so in Swift it expects a Swift <code>String</code>, not a <code>NSString</code>"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1547479393, "post_id": 54182619, "comment_id": 95196987, "body": "So I&#39;m not sure what I need to change, seems like your saying it&#39;s fine as-is ?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1547479549, "post_id": 54182619, "comment_id": 95197093, "body": "Don&#39;t create an <code>NSString</code>. Replace <code>var user_name : NSString = NSString(string: &quot;user_name&quot;)</code> with the line in the answer. A type annotation is not needed. A literal string <b>is</b> <code>String</code>"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1547490845, "post_id": 54182619, "comment_id": 95202701, "body": "I had that to start with, I added the line with NSString to show it wasn\u2019t an NSString being passed to my framework method."}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 1, "last_activity_date": 1547473092, "creation_date": 1547473092, "answer_id": 54182619, "question_id": 54182569, "link": "https://stackoverflow.com/questions/54182569/passing-swift-string-to-and-objective-c-framework-method-causes-loss-of-string/54182619#54182619", "title": "Passing Swift string to and Objective-C framework method causes loss of string", "body": "<p><code>String</code> is implicitly bridged to <code>NSString</code>, just declare a Swift string</p>\n\n<pre><code>let user_name = \"user_name\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "is_accepted": true, "score": 1, "last_activity_date": 1548363761, "creation_date": 1548363761, "answer_id": 54355260, "question_id": 54182569, "link": "https://stackoverflow.com/questions/54182569/passing-swift-string-to-and-objective-c-framework-method-causes-loss-of-string/54355260#54355260", "title": "Passing Swift string to and Objective-C framework method causes loss of string", "body": "<p>Was</p>\n\n<pre><code>@property (nonatomic, readwrite, assign) NSString *name;\n</code></pre>\n\n<p>Fixed with</p>\n\n<pre><code>@property (nonatomic, readwrite, copy) NSString *name;\n</code></pre>\n"}], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 54355260, "answer_count": 2, "score": 0, "last_activity_date": 1548363761, "creation_date": 1547472905, "last_edit_date": 1547559714, "question_id": 54182569, "link": "https://stackoverflow.com/questions/54182569/passing-swift-string-to-and-objective-c-framework-method-causes-loss-of-string", "title": "Passing Swift string to and Objective-C framework method causes loss of string", "body": "<p>I'm passing a Swift string to my Objective-C framework method which accepts an NSString. However, sometimes (not all the time, depending on the value) it doesn't get converted to an NSString.</p>\n\n<p>My understanding was that that this would get down cast.</p>\n\n<p>If I explicitly cast the Swift string to an NSString the framework method causes an error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XdqRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XdqRM.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>-(id)setField: (NSString*)nme\nrecordTypeName: (NSString*)recordTypeName\n   parentName: (NSString*)parent\n   parentEnumVal: (NSInteger)parentEnumVal\n     dataType: (eFieldDataType)dataType\n       dbType: (eFieldType)dbType\n      enumVal: (NSInteger)enumVal;\n</code></pre>\n\n<p>Sometimes the debugger shows NSTaggedPointerString with the string correctly shown.</p>\n\n<p>Also NSCFString again with the correct string.</p>\n\n<p>Then _TtCs19_NSContiguousString again with the value, but this gets subsequently lost when read back later, showing a completely different class.</p>\n\n<p>I would try a newer version of Xcode, but I'm using the latest. I think this must be an Xcode bug.</p>\n\n<p>EDIT:</p>\n\n<p>The error occurs when I later read back the field</p>\n\n<p><a href=\"https://i.stack.imgur.com/JmUqW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JmUqW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode"], "answers": [{"comments": [{"owner": {"reputation": 5927, "user_id": 1080578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f79fe835eaca2497558727951e5431dd?s=128&d=identicon&r=PG", "display_name": "Wojciech Kulik", "link": "https://stackoverflow.com/users/1080578/wojciech-kulik"}, "edited": false, "score": 0, "creation_date": 1547470532, "post_id": 54181952, "comment_id": 95192072, "body": "It doesn&#39;t work. It just can&#39;t see MyTestClass at all."}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 5927, "user_id": 1080578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f79fe835eaca2497558727951e5431dd?s=128&d=identicon&r=PG", "display_name": "Wojciech Kulik", "link": "https://stackoverflow.com/users/1080578/wojciech-kulik"}, "edited": false, "score": 0, "creation_date": 1547470708, "post_id": 54181952, "comment_id": 95192163, "body": "i created a demo check it"}, {"owner": {"reputation": 5927, "user_id": 1080578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f79fe835eaca2497558727951e5431dd?s=128&d=identicon&r=PG", "display_name": "Wojciech Kulik", "link": "https://stackoverflow.com/users/1080578/wojciech-kulik"}, "edited": false, "score": 1, "creation_date": 1547470876, "post_id": 54181952, "comment_id": 95192264, "body": "Thank you! It turned out that created manually file &quot;test-Swift.h&quot; causes this issue. So after skipping step 3. it works!"}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1547474934, "last_edit_date": 1547474934, "creation_date": 1547470478, "answer_id": 54181952, "question_id": 54181884, "link": "https://stackoverflow.com/questions/54181884/import-swift-into-objective-c-use-of-undeclared-identifier/54181952#54181952", "title": "Import Swift into Objective-C - &quot;use of undeclared identifier&quot;", "body": "<p>Your problem is in step </p>\n\n<blockquote>\n  <p>3- Create bridging empty header \"test-Swift.h\"</p>\n</blockquote>\n\n<p>You shouldn't create that file manually , as it's created when you add the swift file to your Objective-C , also you need to replace this line</p>\n\n<pre><code>[[MyTestClass init] calculate];\n</code></pre>\n\n<p>with</p>\n\n<pre><code>[[[MyTestClass alloc] init] calculate];\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[[MyTestClass new] calculate];\n</code></pre>\n\n<p>Here is a working  <a href=\"https://github.com/ShKhan9/SwifttObbb\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 5927, "user_id": 1080578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f79fe835eaca2497558727951e5431dd?s=128&d=identicon&r=PG", "display_name": "Wojciech Kulik", "link": "https://stackoverflow.com/users/1080578/wojciech-kulik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 0, "accepted_answer_id": 54181952, "answer_count": 1, "score": 1, "last_activity_date": 1547474934, "creation_date": 1547470177, "question_id": 54181884, "link": "https://stackoverflow.com/questions/54181884/import-swift-into-objective-c-use-of-undeclared-identifier", "title": "Import Swift into Objective-C - &quot;use of undeclared identifier&quot;", "body": "<p>I'm not able to import Swift class into Objective-C. </p>\n\n<ul>\n<li>Xcode version: 10.1</li>\n<li>Swift: 4.2</li>\n</ul>\n\n<p>My steps:</p>\n\n<ol>\n<li><p>Create empty Single-View Objective-C project called \"test\".</p></li>\n<li><p>Create Swift class (mytestclass.swift)</p></li>\n<li><p>Create bridging empty header \"test-Swift.h\"</p></li>\n<li><p>Try to use in <code>ViewController.m</code> like this: <code>#import \"test-Swift.h\"\n[[MyTestClass init] calculate];</code></p></li>\n</ol>\n\n<h2>mytestclass.swift</h2>\n\n<pre><code>import Foundation\n\n@objc public class MyTestClass: NSObject {\n\n    @objc public func calculate() {\n        print(\"TEST\")\n    }\n}\n</code></pre>\n\n<p>After compilation I get:</p>\n\n<blockquote>\n  <p>/Users/xxx/Desktop/test/ViewController.m:19:7: Use of undeclared\n  identifier 'MyTestClass'</p>\n</blockquote>\n\n<p>What am I missing?</p>\n"}, {"tags": ["objective-c", "parse-platform", "parse-ios-sdk"], "answers": [{"comments": [{"owner": {"reputation": 11172, "user_id": 1987726, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9P77w.jpg?s=128&g=1", "display_name": "Reinhard M&#228;nner", "link": "https://stackoverflow.com/users/1987726/reinhard-m%c3%a4nner"}, "edited": false, "score": 0, "creation_date": 1560365177, "post_id": 54195759, "comment_id": 99716290, "body": "I suggest that you accept your own answer so that the question is closed"}], "tags": [], "owner": {"reputation": 161, "user_id": 2249568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c67684a3cca24dca33bcd8885dcd44f?s=128&d=identicon&r=PG", "display_name": "Daniel Wilhelm", "link": "https://stackoverflow.com/users/2249568/daniel-wilhelm"}, "is_accepted": true, "score": 1, "last_activity_date": 1547543636, "creation_date": 1547543636, "answer_id": 54195759, "question_id": 54180400, "link": "https://stackoverflow.com/questions/54180400/parse-server-data-not-shared-between-app-and-today-extension/54195759#54195759", "title": "Parse Server data not shared between app and today extension", "body": "<p>I found the solution:</p>\n\n<pre><code>+ (void)establishConnectionForExtension:(BOOL)extension {\n    [Parse initializeWithConfiguration:[ParseClientConfiguration configurationWithBlock:^(id&lt;ParseMutableClientConfiguration&gt;  _Nonnull configuration) {\n        configuration.applicationGroupIdentifier = @\"group.de.company.app\";\n        configuration.applicationId = PARSE_ID;\n        configuration.clientKey = PARSE_KEY;\n        configuration.localDatastoreEnabled = YES;\n        configuration.server = @\"https://\";\n        if (extension) configuration.containingApplicationBundleIdentifier = @\"de.company.app\";\n    }]];\n}\n</code></pre>\n\n<p>It would be great to find this in the official Parse documentation... (I needed three days to to get this working.)</p>\n"}], "owner": {"reputation": 161, "user_id": 2249568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c67684a3cca24dca33bcd8885dcd44f?s=128&d=identicon&r=PG", "display_name": "Daniel Wilhelm", "link": "https://stackoverflow.com/users/2249568/daniel-wilhelm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54195759, "answer_count": 1, "score": 1, "last_activity_date": 1560333673, "creation_date": 1547464393, "last_edit_date": 1553441550, "question_id": 54180400, "link": "https://stackoverflow.com/questions/54180400/parse-server-data-not-shared-between-app-and-today-extension", "title": "Parse Server data not shared between app and today extension", "body": "<p><br/>\nI'm using a parse server for delivering news and calendar information to iOS and Android apps. (Therefore I don't need any user accounts.)<br />\nI followed the instructions on the parse site (<a href=\"https://docs.parseplatform.org/ios/guide/#enable-data-sharing\" rel=\"nofollow noreferrer\">https://docs.parseplatform.org/ios/guide/#enable-data-sharing</a>) to enable data sharing but the data doesn't get shared. I have to download the information in the app and the today extension.<br /><br />\nHere is the code I use to initialize the parse SDK:<br /></p>\n\n<pre><code>+ (void)establishConnectionForExtension:(BOOL)extension {\n    // enable app groups\n    if (extension) [Parse enableDataSharingWithApplicationGroupIdentifier:@\"group.de.company.app\" containingApplication:@\"de.company.app\"];\n    else [Parse enableDataSharingWithApplicationGroupIdentifier:@\"group.de.company.app\"];\n\n    // initialize parse\n    [Parse initializeWithConfiguration:[ParseClientConfiguration configurationWithBlock:^(id&lt;ParseMutableClientConfiguration&gt;  _Nonnull configuration) {\n        configuration.applicationId = PARSE_ID;\n        configuration.clientKey = PARSE_KEY;\n        configuration.server = @\"https://\";\n        configuration.localDatastoreEnabled = YES;\n    }]];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "cocoapods"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 2, "last_activity_date": 1547472685, "creation_date": 1547472685, "answer_id": 54182511, "question_id": 54179811, "link": "https://stackoverflow.com/questions/54179811/using-categories-with-uiresponder-bad-idea/54182511#54182511", "title": "Using Categories with UIResponder - Bad Idea?", "body": "<p>Categories are for adding methods to types, not overriding methods. Overriding a method with a category is undefined behavior (in some cases it's defined behavior, but may not be the behavior you want). <code>+load</code> is an existing method so should never be defined in a category.</p>\n\n<p>This particular situation is really bad because this <code>+load</code> may be called numerous times (for every <code>UIResponder</code> in the system), so <code>didFinishLaunching:</code> may be called any number of times, and you're polluting <code>NSNotificationCenter</code> in any case (which has performance implications that could definitely matter at this scale).</p>\n\n<p>You shouldn't do this kind of magic. Let the caller control when your code is run. Even if you wanted to do this kind of magic, it would be better as a <code>+load</code> method on <code>Observer</code>.</p>\n"}], "owner": {"reputation": 214, "user_id": 2315496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1a9f2bd25855c62c512398a97942f7?s=128&d=identicon&r=PG", "display_name": "SJT", "link": "https://stackoverflow.com/users/2315496/sjt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 54182511, "answer_count": 1, "score": 0, "last_activity_date": 1547472685, "creation_date": 1547462169, "question_id": 54179811, "link": "https://stackoverflow.com/questions/54179811/using-categories-with-uiresponder-bad-idea", "title": "Using Categories with UIResponder - Bad Idea?", "body": "<p>I'm using a Category to add <code>+load</code> to <code>UIResponder</code>, so that the Cocoapod I'm putting together can get a <code>didFinishLaunching</code> notification without the person using the Cocoapod having to modify their <code>appDelegate</code>.</p>\n\n<p><strong>Is this a bad idea?</strong> \nAre there some consequences to doing this that I'm not thinking of?</p>\n\n<p><strong>Category:</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@implementation UIResponder (MyCategory)\n\n+ (void) load\n{\n    [[NSNotificationCenter defaultCenter] addObserver: [Observer sharedInstance]\n                                             selector: @selector(didFinishLaunching:) name: UIApplicationDidFinishLaunchingNotification object: nil];\n}\n@end\n</code></pre>\n\n<p><strong>Notification Observer:</strong></p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#import &lt;Foundation/Foundation.h&gt;\n\n@implementation Observer\n\n+ (id)sharedInstance {\n    static Observer *bridgeInstance = nil;\n    @synchronized(self) {\n        if (bridgeInstance == nil)\n            bridgeInstance = [[self alloc] init];\n    }\n    return bridgeInstance;\n}\n\n- (void) didFinishLaunching: (NSNotification*) n\n{\n    UIWindow *appWindow = [[[UIApplication sharedApplication] delegate] window];\n    NSLog( @\"application: %@\", [UIApplication sharedApplication] );\n    NSLog( @\"delegate:    %@\", [[UIApplication sharedApplication] delegate] );\n}\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 21153, "user_id": 3397217, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/t9AGX.jpg?s=128&g=1", "display_name": "LinusGeffarth", "link": "https://stackoverflow.com/users/3397217/linusgeffarth"}, "edited": false, "score": 0, "creation_date": 1547452858, "post_id": 54177563, "comment_id": 95183570, "body": "From your post, we can hardly understand what your question is. Plus, we cannot help with the code shown like this. Please post the relevant code as text, not screenshot."}, {"owner": {"reputation": 11, "user_id": 9650493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e244270f3b288d73749bf134f99f10?s=128&d=identicon&r=PG&f=1", "display_name": "CoderLi_013", "link": "https://stackoverflow.com/users/9650493/coderli-013"}, "reply_to_user": {"reputation": 21153, "user_id": 3397217, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/t9AGX.jpg?s=128&g=1", "display_name": "LinusGeffarth", "link": "https://stackoverflow.com/users/3397217/linusgeffarth"}, "edited": false, "score": 0, "creation_date": 1547453083, "post_id": 54177563, "comment_id": 95183661, "body": "this is code as text.please help."}, {"owner": {"reputation": 21153, "user_id": 3397217, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/t9AGX.jpg?s=128&g=1", "display_name": "LinusGeffarth", "link": "https://stackoverflow.com/users/3397217/linusgeffarth"}, "edited": false, "score": 0, "creation_date": 1547453124, "post_id": 54177563, "comment_id": 95183679, "body": "So what&#39;s your issue?"}, {"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 1, "creation_date": 1547453164, "post_id": 54177563, "comment_id": 95183691, "body": "Probably you don&#39;t correctly prepare the cells correctly for reuse"}, {"owner": {"reputation": 11, "user_id": 9650493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e244270f3b288d73749bf134f99f10?s=128&d=identicon&r=PG&f=1", "display_name": "CoderLi_013", "link": "https://stackoverflow.com/users/9650493/coderli-013"}, "edited": false, "score": 0, "creation_date": 1547453364, "post_id": 54177563, "comment_id": 95183789, "body": "you can see the eventDic, if calendar.heightlightDates contains eventDic.key, the calendar.cell has a badge.  2019-02-09 no event,  but calendar cell badge is 2, and 2019-03 as same as location already has badge ...."}, {"owner": {"reputation": 11, "user_id": 9650493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e244270f3b288d73749bf134f99f10?s=128&d=identicon&r=PG&f=1", "display_name": "CoderLi_013", "link": "https://stackoverflow.com/users/9650493/coderli-013"}, "edited": false, "score": 0, "creation_date": 1547453445, "post_id": 54177563, "comment_id": 95183827, "body": "if you notice , backgroundColor and textColor is well, bug i dic enum, the badge appear issue."}], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 3292837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf9d1295c3f1b06dfc401270aded3d6?s=128&d=identicon&r=PG", "display_name": "Ramon", "link": "https://stackoverflow.com/users/3292837/ramon"}, "is_accepted": true, "score": 0, "last_activity_date": 1547458093, "creation_date": 1547458093, "answer_id": 54178698, "question_id": 54177563, "link": "https://stackoverflow.com/questions/54177563/ios-collectionview-cell-for-reuse-why-backgroundcolor-for-cell-is-well-when-i-a/54178698#54178698", "title": "iOS collectionView Cell for reuse.why backgroundColor for cell is well, when i add badge, appear badge bug?", "body": "<p>If I understand correctly, your badge is persistent across cell 're-uses'.\nYou want to hide and show the badge according to the date.</p>\n\n<p>In your <code>cellForItemAtIndexPath</code> function you check for the following:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>if ([key isEqualToString:dateString]) {\n  cell.badge.badgeValue = [obj intValue];\n  cell.badge.backgroundColor = Config_Main_Color;\n  cell.badge.hidden = NO;\n}\n</code></pre>\n\n<p>and the last line un-hides your <code>cell.badge</code>. You never actually <strong>hide</strong> your badge again. And since you're reusing cells, there is <strong>no default value</strong>.</p>\n\n<p>Your code should probably look somewhat like the following (copy to both if-statements):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>if ([key isEqualToString:dateString]) {\n  cell.badge.badgeValue = [obj intValue];\n  cell.badge.backgroundColor = Config_Main_Color;\n  cell.badge.hidden = NO;\n}\nelse {\n  cell.badge.badgeValue = 0;\n  cell.badge.hidden = YES;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "is_accepted": false, "score": 0, "last_activity_date": 1547463643, "creation_date": 1547463643, "answer_id": 54180215, "question_id": 54177563, "link": "https://stackoverflow.com/questions/54177563/ios-collectionview-cell-for-reuse-why-backgroundcolor-for-cell-is-well-when-i-a/54180215#54180215", "title": "iOS collectionView Cell for reuse.why backgroundColor for cell is well, when i add badge, appear badge bug?", "body": "<p>First of all: is there a reason why you are managing all of the cell's properties in the view controller's <code>cellForRowAtIndexPath:</code> method instead of the cell ifself? This is not a very good approach, because only the cell should know what to do with its own properties (you give the cell the number, then it is the cell that decides what to do with it - show a badge, play a sound or perhaps shout out \"TWENTY-FOUR!\"). For instance, if in the future you need to use the same cell in another view controller, you shouldn't need to rewrite all of that code - which is what you'll need to do with your approach.</p>\n\n<p>Anyway, apparently you are not resetting the cell's badge value in its <code>prepareForReuse</code> method. </p>\n\n<p>Try implementing it this way (in the cell's .m file):</p>\n\n<pre><code>-(void)prepareForReuse {\n    [super prepareForReuse];\n    self.badge.badgeValue = 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9650493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e244270f3b288d73749bf134f99f10?s=128&d=identicon&r=PG&f=1", "display_name": "CoderLi_013", "link": "https://stackoverflow.com/users/9650493/coderli-013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1547474020, "accepted_answer_id": 54178698, "answer_count": 2, "score": -2, "last_activity_date": 1547463643, "creation_date": 1547452511, "last_edit_date": 1547454981, "question_id": 54177563, "link": "https://stackoverflow.com/questions/54177563/ios-collectionview-cell-for-reuse-why-backgroundcolor-for-cell-is-well-when-i-a", "closed_reason": "Needs details or clarity", "title": "iOS collectionView Cell for reuse.why backgroundColor for cell is well, when i add badge, appear badge bug?", "body": "<p><img src=\"https://i.stack.imgur.com/MdKEV.gif\" alt=\"calendar.gif\"></p>\n\n<p>this is my @{eventTime:eventCount}:</p>\n\n<p>LYQMemoVC.m:196 dic :{\n    \"2019-01-12\" : \"2\",\n    \"2019-02-20\" : \"1\",\n    \"2019-01-13\" : \"1\",\n    \"2019-02-10\" : \"1\",\n    \"2019-01-14\" : \"1\"\n}</p>\n\n<p>issue:\nevent not 2019-02-09,but cell have badge...  as this the same location will have badge. not event but appear badge.</p>\n\n<p>the backgroundColor for cell is well, but the badge bug.</p>\n\n<p>(UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath\n{</p>\n\n<pre><code>NSString *identifier = [self.cellDic objectForKey:[NSString stringWithFormat:@\"%@\", indexPath]];\n\nif (identifier == nil) {\n    identifier = [NSString stringWithFormat:@\"ALCalendarCell%@\", [NSString stringWithFormat:@\"%@\", indexPath]];\n    [_cellDic setValue:identifier forKey:[NSString stringWithFormat:@\"%@\", indexPath]];\n\n    [self registerClass:[ALCalendarCell class]  forCellWithReuseIdentifier:identifier];\n}\n    ALCalendarCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:identifier forIndexPath:indexPath];\ncell.backgroundColor = [UIColor whiteColor];\n\nif(indexPath.section == 0) {\n    cell.weekDay = self.titles[indexPath.row];\n} else {\n    ALCalendarDate *date = self.dates[indexPath.row];\n    cell.date = date;\n\n\n    NSString *dateString;\n    if (date.isLastMonth) { \n        dateString = [[ALCalendarHelper lastYearAndMonth:self.yearAndMonth] stringByAppendingFormat:@\"-%02zd\",date.date.integerValue];\n    } else if (date.isNextMonth) { \n        dateString = [[ALCalendarHelper nextYearAndMonth:self.yearAndMonth] stringByAppendingFormat:@\"-%02zd\",date.date.integerValue];\n    } else { \n        dateString = [self.yearAndMonth stringByAppendingFormat:@\"-%02zd\",date.date.integerValue];\n    }\n\nif ([self.config.heightlightDates containsObject:dateString]) {\n            cell.backgroundColor = self.config.hl_backgroundColor;\n            cell.layer.cornerRadius = self.config.hl_backgroundCornerRadius.floatValue;\n            cell.dateLabel.textColor = self.config.hl_textColor;\n            [self.config.eventDictionary enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {\n                if ([key isEqualToString:dateString]) {\n                    cell.badge.badgeValue = [obj intValue];\n                    cell.badge.backgroundColor = [UIColor lightGrayColor];\n                    cell.badge.hidden = NO;\n                }\n            }];\n        }\n        if ([self.config.selectedDates containsObject:dateString]) {\n            cell.backgroundColor = self.config.sel_backgroundColor;\n            cell.layer.cornerRadius = self.config.sel_backgroundCornerRadius.floatValue;\n            cell.dateLabel.textColor = self.config.sel_textColor;\n            [self.config.eventDictionary enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {\n                if ([key isEqualToString:dateString]) {\n                    cell.badge.badgeValue = [obj intValue];\n                    cell.badge.backgroundColor = Config_Main_Color;\n                    cell.badge.hidden = NO;\n                }\n            }];\n        }\n}\nreturn cell;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["ios", "objective-c", "popup", "sfsafariviewcontroller"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1547458425, "post_id": 54176917, "comment_id": 95185975, "body": "Is the popup shown in the Safari view controller?  I suspect that you can&#39;t remove it, because it is a privacy warning generated by the sign in page, to warn the user that by using their credentials they will be sharing information with your app."}, {"owner": {"reputation": 133, "user_id": 10606540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78084cc972ef7ac4d7dd57bf4b0464ef?s=128&d=identicon&r=PG&f=1", "display_name": "bazooka", "link": "https://stackoverflow.com/users/10606540/bazooka"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1547521287, "post_id": 54176917, "comment_id": 95211973, "body": "Oh, okay. Thanks :D"}], "owner": {"reputation": 133, "user_id": 10606540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78084cc972ef7ac4d7dd57bf4b0464ef?s=128&d=identicon&r=PG&f=1", "display_name": "bazooka", "link": "https://stackoverflow.com/users/10606540/bazooka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 394, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547449035, "creation_date": 1547449035, "question_id": 54176917, "link": "https://stackoverflow.com/questions/54176917/how-to-disable-sign-in-pop-up-on-sfsafariviewcontroller-call-on-b2c-sign-in", "title": "How to disable sign in pop-up on SFSafariViewController call on B2C sign in", "body": "<p>On launch, my app automatically makes an authorization call to my B2C tenant using openid-appauth and a popup saying</p>\n\n<pre><code>                  \"MyApp\" Wants to use \n                \"b2clogin.com\" to Sign-in\n             This allows the app and website to \n                share information about you.\n            -----------------------------------\n                     Cancel | Continue\n</code></pre>\n\n<p>appears before showing my sign in page in SFSafariViewController .</p>\n\n<p>I want to remove/disable this popup and automatically continue to the sign in page.</p>\n\n<p>I am new to iOS development and also new to objective-c programming. I don't have any idea on how to solve this problem on my own. I tried searching stackoverflow for similar problems but unfortunately I couldn't find anything that could help me.</p>\n\n<p>I am using the code from <a href=\"https://github.com/Azure-Samples/active-directory-b2c-ios-native-appauth\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/active-directory-b2c-ios-native-appauth</a>.</p>\n\n<p>I expect that the pop-up will be removed/disabled when the sign in page is initiated using SFSafariViewController.</p>\n"}, {"tags": ["ios", "objective-c", "uiactivityviewcontroller"], "comments": [{"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1547424011, "post_id": 54171347, "comment_id": 95177620, "body": "no way to fix this. you should customize your own control. that is better. apple uikit is crap."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 4462972, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xYmKJwIPB8U/AAAAAAAAAAI/AAAAAAABg2I/mmhtkcYJdAc/photo.jpg?sz=128", "display_name": "onrtkn", "link": "https://stackoverflow.com/users/4462972/onrtkn"}, "is_accepted": false, "score": 0, "last_activity_date": 1548101632, "creation_date": 1548101632, "answer_id": 54297165, "question_id": 54171347, "link": "https://stackoverflow.com/questions/54171347/uiactivityviewcontroller-returns-completed-as-true-even-if-the-user-cancelled/54297165#54297165", "title": "UIActivityViewController returns &quot;completed&quot; as true even if the user cancelled the activity", "body": "<p>Instagram, WhatsApp and Messenger fails to send false when cancelled. Your code is alright.</p>\n\n<p>I've just submitted a bug to completely fix your (also my) problem :) <a href=\"https://developers.facebook.com/support/bugs/727214027651581/?disable_redirect=0\" rel=\"nofollow noreferrer\">https://developers.facebook.com/support/bugs/727214027651581/?disable_redirect=0</a></p>\n\n<p>Wait and hope.</p>\n"}], "owner": {"reputation": 11, "user_id": 10908587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jl4VP.jpg?s=128&g=1", "display_name": "Dr Poria Edalat", "link": "https://stackoverflow.com/users/10908587/dr-poria-edalat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548101632, "creation_date": 1547400297, "last_edit_date": 1547401843, "question_id": 54171347, "link": "https://stackoverflow.com/questions/54171347/uiactivityviewcontroller-returns-completed-as-true-even-if-the-user-cancelled", "title": "UIActivityViewController returns &quot;completed&quot; as true even if the user cancelled the activity", "body": "<p>UIActivityViewController returns \"completed\" as true even if the user cancelled the activity</p>\n\n<p>We are using UIActivityViewController to share a URL and text from our application. We use the completion block as defined below to detect whether the activity successfully completed or not.</p>\n\n<pre><code>UIActivityViewController *shareActivity = [[UIActivityViewController alloc] initWithActivityItems:@[ textActivity, urlActivity ] applicationActivities:nil];  \n\n[shareActivity setCompletionWithItemsHandler:^(UIActivityType __nullable activityType, BOOL completed, NSArray *__nullable returnedItems, NSError *__nullable activityError) {  \n    if (activityError) {  \n        // show an alert  \n        return;  \n    }  \n    if (completed &amp;&amp; activityType) {  \n        // track the activity type  \n        // show an alert          \n    }\n}];  \n</code></pre>\n\n<p>As shown in the above code, we show an alert so that the user understands that the activity is completed. We also track the activity that was done. The above code works perfectly fine for posting to applications like Twitter, Facebook, Mail, Message, Notes, Slack etc. But for some activities mentioned below it fails because the completed flag comes as \"true\" even though the user has cancelled the activity:</p>\n\n<p>Failing Activities:</p>\n\n<ul>\n<li>Reminders (iOS stock application)</li>\n<li>Outlook mail application</li>\n<li>WhatsApp</li>\n</ul>\n\n<p>There might be more applications which might be failing but I was able to find above applications since I have them installed on my device.</p>\n\n<p>Is there anyway to fix this problem?</p>\n"}, {"tags": ["objective-c", "macos"], "answers": [{"tags": [], "owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "is_accepted": true, "score": 2, "last_activity_date": 1547271046, "creation_date": 1547271046, "answer_id": 54157040, "question_id": 54156906, "link": "https://stackoverflow.com/questions/54156906/is-macos-app-setting-bundle-file-similar-as-iphone-app-setting-bundle-file/54157040#54157040", "title": "Is macOS app setting.bundle file similar as iPhone app setting.bundle file?", "body": "<p><code>macOS</code> does not use a <code>settings.bundle</code> like <code>iOS</code>, it uses a standard <code>.plist</code> generally stored in <code>$HOME/Library/Preferences/</code>. The <code>.plist</code> takes on the name of the bundle identifier:</p>\n\n<pre><code>&lt;ApplicationBundleIdentifer&gt;.plist\n</code></pre>\n\n<p>\u21b3 <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/UserDefaults/AboutPreferenceDomains/AboutPreferenceDomains.html#//apple_ref/doc/uid/10000059i-CH2-96980\" rel=\"nofollow noreferrer\">Preferences and Settings Programming Guide</a></p>\n"}], "owner": {"reputation": 7640, "user_id": 262325, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b7edb5385d556d2177397d632e764ac?s=128&d=identicon&r=PG", "display_name": "arachide", "link": "https://stackoverflow.com/users/262325/arachide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 54157040, "answer_count": 1, "score": 1, "last_activity_date": 1547271046, "creation_date": 1547269312, "question_id": 54156906, "link": "https://stackoverflow.com/questions/54156906/is-macos-app-setting-bundle-file-similar-as-iphone-app-setting-bundle-file", "title": "Is macOS app setting.bundle file similar as iPhone app setting.bundle file?", "body": "<p>I am developing a Mac app.\nI hope store some data to system setting where I use the code to access</p>\n\n<pre><code>NSUserDefaults *defaults=[NSUserDefaults standardUserDefaults];\n[defaults setObject:  [settingMutableDictionary objectForKey:myObject ] forKey:@\"myKey\"];\n</code></pre>\n\n<p>I try to copy the iPhone app Setting.bundle file to my macOS project, but When I opened the file Root.plist, it displayed </p>\n\n<pre><code>'iPhone Settings Scheme\"\n</code></pre>\n\n<p>This is not what I want.</p>\n\n<p>your comment welcome</p>\n\n<p><a href=\"https://i.stack.imgur.com/8RVkP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RVkP.png\" alt=\"**enter image description here**\"></a></p>\n"}, {"tags": ["ios", "objective-c", "deprecated", "nskeyedunarchiver"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547254294, "post_id": 54155209, "comment_id": 95142561, "body": "Print <code>error</code> if <code>unarchiver</code> is nil."}, {"owner": {"reputation": 151, "user_id": 10902856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63224387e66daebfa0902a90c754b0f3?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M&#246;ller", "link": "https://stackoverflow.com/users/10902856/frank-m%c3%b6ller"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547301422, "post_id": 54155209, "comment_id": 95150487, "body": "unarchiver is not nil ... and there is no error - error is nil"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 10902856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63224387e66daebfa0902a90c754b0f3?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M&#246;ller", "link": "https://stackoverflow.com/users/10902856/frank-m%c3%b6ller"}, "is_accepted": false, "score": 3, "last_activity_date": 1586080358, "last_edit_date": 1586080358, "creation_date": 1548027440, "answer_id": 54281996, "question_id": 54155209, "link": "https://stackoverflow.com/questions/54155209/initforreadingwithdata-is-deprecated-initforreadingfromdata-returns-nil/54281996#54281996", "title": "initForReadingWithData is deprecated - initForReadingFromData returns nil", "body": "<p>Turning off secureCoding solved the problem. </p>\n\n<pre><code>[[NSKeyedUnarchiver alloc] initForReadingFromData:data error:&amp;error]; \n</code></pre>\n\n<p><strong><code>unarchiver.requiresSecureCoding = NO;</code></strong> </p>\n\n<pre><code>[unarchiver decodeObjectForKey:...] \n</code></pre>\n\n<p>In cases you don't have to be backward compatible it's better not to turn off secureCoding</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5988706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a57808f99a48f956d516cfff595dfb6?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas A.", "link": "https://stackoverflow.com/users/5988706/thomas-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1560275330, "creation_date": 1560275330, "answer_id": 56549214, "question_id": 54155209, "link": "https://stackoverflow.com/questions/54155209/initforreadingwithdata-is-deprecated-initforreadingfromdata-returns-nil/56549214#56549214", "title": "initForReadingWithData is deprecated - initForReadingFromData returns nil", "body": "<p>It because you are using <code>decodeObjectForKey</code>. If you don't set <code>requiresSecureCoding</code> to <code>NO</code>, you must use <a href=\"https://developer.apple.com/documentation/foundation/nscoder/1442558-decodeobjectofclass?language=objc\" rel=\"nofollow noreferrer\">decodeObjectOfClass:forKey:</a> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 9861, "user_id": 22764, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/608d484f574f28d1ae2897b859267433?s=128&d=identicon&r=PG", "display_name": "Vladimir Grigorov", "link": "https://stackoverflow.com/users/22764/vladimir-grigorov"}, "is_accepted": false, "score": 0, "last_activity_date": 1562248412, "creation_date": 1562248412, "answer_id": 56889471, "question_id": 54155209, "link": "https://stackoverflow.com/questions/54155209/initforreadingwithdata-is-deprecated-initforreadingfromdata-returns-nil/56889471#56889471", "title": "initForReadingWithData is deprecated - initForReadingFromData returns nil", "body": "<p>Watch this video from WWDC 2018 and then fix your unarchivers to use secure coding:\n<a href=\"https://developer.apple.com/videos/play/wwdc2018/222/\" rel=\"nofollow noreferrer\">https://developer.apple.com/videos/play/wwdc2018/222/</a></p>\n"}], "owner": {"reputation": 151, "user_id": 10902856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63224387e66daebfa0902a90c754b0f3?s=128&d=identicon&r=PG&f=1", "display_name": "Frank M&#246;ller", "link": "https://stackoverflow.com/users/10902856/frank-m%c3%b6ller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1586080358, "creation_date": 1547248123, "last_edit_date": 1547254241, "question_id": 54155209, "link": "https://stackoverflow.com/questions/54155209/initforreadingwithdata-is-deprecated-initforreadingfromdata-returns-nil", "title": "initForReadingWithData is deprecated - initForReadingFromData returns nil", "body": "<p>I have the following warning (Xcode 10.1 - iOS 12.1)</p>\n\n<blockquote>\n  <p>'initForReadingWithData:' is deprecated: first deprecated in iOS 12.0 - Use -initForReadingFromData:error: instead*</p>\n</blockquote>\n\n<p>When I'm change the method to initForReadingFromData, the NSKeyedUnarchiver returns nil. </p>\n\n<pre><code>// Current code which produces the warning (but works fine) : \n\nNSKeyedUnarchiver *unarchiver = [[NSKeyedUnarchiver alloc] initForReadingWithData:data];\n\nNSMutableArray *loadedCredentialIdentities = (NSMutableArray *)[unarchiver decodeObjectForKey:kStoredCredentialIdentities];\n\n[unarchiver finishDecoding];\n</code></pre>\n\n<p>...</p>\n\n<pre><code>// using initForReadingFromData produces no warning (but doesn't work - loadedCredentialIdentities is nil) : \n\n\nNSError *error = nil;\nNSKeyedUnarchiver *unarchiver = unarchiver = [[NSKeyedUnarchiver    alloc] initForReadingFromData:data error:&amp;error];\n\nNSMutableArray *loadedCredentialIdentities = (NSMutableArray *)[unarchiver decodeObjectForKey:kStoredCredentialIdentities];\n\n[unarchiver finishDecoding];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "cocoa-touch", "messagekit"], "answers": [{"tags": [], "owner": {"reputation": 427, "user_id": 10652070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98bc7f8db7fc59293eff044bbee30a2f?s=128&d=identicon&r=PG&f=1", "display_name": "Import Accelerate", "link": "https://stackoverflow.com/users/10652070/import-accelerate"}, "is_accepted": true, "score": 1, "last_activity_date": 1547247458, "creation_date": 1547247458, "answer_id": 54155117, "question_id": 54155000, "link": "https://stackoverflow.com/questions/54155000/is-it-possible-to-have-my-class-adhere-to-this-protocol-that-seems-to-require-a/54155117#54155117", "title": "Is it possible to have my class adhere to this protocol that seems to require a struct?", "body": "<p>Any protocol that works with a <code>struct</code> is bound to work with a <code>class</code>. The limitation is the other way around. It is hard to provide an answer without a code snippet, but I do not see why it should not work. </p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>@objc class ServerMessage: NSObject {\n\n}\n\nprotocol MessageType {\n    var sender: Any { get }\n}\n\nextension ServerMessage: MessageType {\n    var sender: Any { return () }\n}\n</code></pre>\n\n<p>This dummy code does not provide any errors. Maybe you had a typo somewhere?</p>\n"}], "owner": {"reputation": 27533, "user_id": 998117, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bfe07f542ce4f5d75e4262e188691fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Doug Smith", "link": "https://stackoverflow.com/users/998117/doug-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 54155117, "answer_count": 1, "score": 0, "last_activity_date": 1547247458, "creation_date": 1547246541, "question_id": 54155000, "link": "https://stackoverflow.com/questions/54155000/is-it-possible-to-have-my-class-adhere-to-this-protocol-that-seems-to-require-a", "title": "Is it possible to have my class adhere to this protocol that seems to require a struct?", "body": "<p>I'm using <a href=\"https://github.com/MessageKit/MessageKit\" rel=\"nofollow noreferrer\">MessageKit</a>, and it requires that you have model objects that adopt the protocol <code>MessageType</code>. Most of the examples involves structs following the protocol but unfortunately I'm using a third party API library to interact with a site's API, and they have all their models as classes (in Objective-C).</p>\n\n<p>So when I try to adopt the protocol with <code>extension ServerMessage: MessageType</code> I get the error </p>\n\n<blockquote>\n  <p>Inheritance from non-protocol type</p>\n</blockquote>\n\n<p>How can I make it work with my Objective-C class? </p>\n"}, {"tags": ["ios", "objective-c", "user-interface", "keyboard"], "comments": [{"owner": {"reputation": 2499, "user_id": 3908601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/L9qiP.jpg?s=128&g=1", "display_name": "Nate Birkholz", "link": "https://stackoverflow.com/users/3908601/nate-birkholz"}, "edited": false, "score": 0, "creation_date": 1547244019, "post_id": 54154531, "comment_id": 95140180, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11284321/what-is-the-height-of-iphones-onscreen-keyboard\">What is the height of iPhone&#39;s onscreen keyboard?</a>"}, {"owner": {"reputation": 1798, "user_id": 1734802, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/268fccfc077d31deaca93901226bf33b?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1734802/peter"}, "reply_to_user": {"reputation": 2499, "user_id": 3908601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/L9qiP.jpg?s=128&g=1", "display_name": "Nate Birkholz", "link": "https://stackoverflow.com/users/3908601/nate-birkholz"}, "edited": false, "score": 0, "creation_date": 1547244715, "post_id": 54154531, "comment_id": 95140383, "body": "@NateBirkholz - And it needs to happen before the keyboard is presented, so the view don&#39;t get this ugly constrain animation after the ViewController is presented."}, {"owner": {"reputation": 2499, "user_id": 3908601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/L9qiP.jpg?s=128&g=1", "display_name": "Nate Birkholz", "link": "https://stackoverflow.com/users/3908601/nate-birkholz"}, "edited": false, "score": 3, "creation_date": 1547245894, "post_id": 54154531, "comment_id": 95140749, "body": "You can use UIKeyboardWillShowNotification instead of UIKeyboardDidShowNotification and get the same sort of information from the call."}, {"owner": {"reputation": 1798, "user_id": 1734802, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/268fccfc077d31deaca93901226bf33b?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1734802/peter"}, "reply_to_user": {"reputation": 2499, "user_id": 3908601, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/L9qiP.jpg?s=128&g=1", "display_name": "Nate Birkholz", "link": "https://stackoverflow.com/users/3908601/nate-birkholz"}, "edited": false, "score": 0, "creation_date": 1547246260, "post_id": 54154531, "comment_id": 95140859, "body": "@NateBirkholz - using UIKeyboardWillShowNotification still gives me the animation AFTER the view has been presented, not what I wanted"}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 1388841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e850b35d70acda8cca9e6fa0e451d89d?s=128&d=identicon&r=PG", "display_name": "teddy", "link": "https://stackoverflow.com/users/1388841/teddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1547330584, "creation_date": 1547330584, "answer_id": 54164274, "question_id": 54154531, "link": "https://stackoverflow.com/questions/54154531/iphone-keyboard-sizes/54164274#54164274", "title": "iPhone keyboard sizes", "body": "<p>I assume you present the keyboard by calling <code>becomeFirstResponder</code> on some UI component.</p>\n\n<p>If the keyboard appears after your view is presented, you should check where that call is performed. Calling it in <code>viewDidLoad</code> or similarly early should cause the keyboard to be shown as the view animates in.</p>\n\n<hr>\n\n<p>Your layout should also handle the keyboard changes properly. The keyboard size can change even after it's presented. For example the emoji/quick type keyboards are taller than the default keyboard.</p>\n\n<p>You should perform your constraint changes in a combination of <code>UIKeyboard[Will/Did]ShowNotification</code>, <code>UIKeyboard[Will/Did]HideNotification</code> and <code>UIKeyboardWillChangeFrameNotification</code>. In your case, <code>UIKeyboardWillShowNotification</code> should do the trick.</p>\n\n<p>The <code>userInfo</code> dictionary contains <a href=\"https://developer.apple.com/documentation/uikit/uiwindow/keyboard_notification_user_info_keys?language=objc\" rel=\"nofollow noreferrer\">a lot of information</a> about the keyboard. You find the final frame of the keyboard in <code>UIKeyboardFrameEndUserInfoKey</code>. If you animate the changes in your layout, you can use values in <code>UIKeyboardAnimationCurveUserInfoKey</code> and <code>UIKeyboardAnimationDurationUserInfoKey</code> to animate with the same animation as the keyboard.</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    // Don't forget to remove the observer when appropriate.\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillShow:)\n                                                 name:UIKeyboardWillShowNotification\n                                               object:nil];\n    [self.textField becomeFirstResponder];\n}\n\n- (void)keyboardWillShow:(NSNotification *)notification {\n    CGFloat keyboardHeight = [notification.userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue].size.height;\n\n    [self.viewHeightConstraint setConstant:keyboardHeight];\n\n    // You can also animate the constraint change.\n}\n</code></pre>\n\n<p>Such setup will also work if the keyboard is presented from the get-go.</p>\n"}], "owner": {"reputation": 1798, "user_id": 1734802, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/268fccfc077d31deaca93901226bf33b?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1734802/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547330584, "creation_date": 1547243531, "question_id": 54154531, "link": "https://stackoverflow.com/questions/54154531/iphone-keyboard-sizes", "title": "iPhone keyboard sizes", "body": "<p>Is there a way to get the keyboard size programmatically before the keyboard is presented? In Objective-C</p>\n\n<p>I need to set view.height constraint to be the same as keyboard.height programmatically. And it needs to happen before the keyboard is presented, so the view don't get this ugly constrain animation after the ViewController is presented.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bc0sm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bc0sm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "avfoundation"], "comments": [{"owner": {"reputation": 4060, "user_id": 763355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dxAhW.jpg?s=128&g=1", "display_name": "MoDJ", "link": "https://stackoverflow.com/users/763355/modj"}, "edited": false, "score": 0, "creation_date": 1547243309, "post_id": 54154438, "comment_id": 95139944, "body": "So, your first problem is the call CIContext* context = [CIContext contextWithOptions:nil], don&#39;t do that on every loop as the Core Image context is a ref you should hold on to from one call to the next. This change will significantly improve performance and avoid allocations on every invocation. Also, can you just use the CoreImage CIImage ref created with the pixel buffer and then make a UIImage from that? This will also avoid an allocation as it would just read from the original source."}, {"owner": {"reputation": 4060, "user_id": 763355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dxAhW.jpg?s=128&g=1", "display_name": "MoDJ", "link": "https://stackoverflow.com/users/763355/modj"}, "edited": false, "score": 0, "creation_date": 1547243503, "post_id": 54154438, "comment_id": 95140013, "body": "Also, do you need to release the incoming CMSampleBufferRef here? If it leaks then your app will run out of memory right away since CoreVideo buffers are huge."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1547243843, "post_id": 54154438, "comment_id": 95140124, "body": "Is this compiled under ARC?"}, {"owner": {"reputation": 159, "user_id": 5635683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/30b3c9a075b8e3935cf73ee38c91d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "sa.l_dev", "link": "https://stackoverflow.com/users/5635683/sa-l-dev"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1547244532, "post_id": 54154438, "comment_id": 95140329, "body": "@Sulthan it is compiled under ARC"}, {"owner": {"reputation": 159, "user_id": 5635683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/30b3c9a075b8e3935cf73ee38c91d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "sa.l_dev", "link": "https://stackoverflow.com/users/5635683/sa-l-dev"}, "reply_to_user": {"reputation": 4060, "user_id": 763355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dxAhW.jpg?s=128&g=1", "display_name": "MoDJ", "link": "https://stackoverflow.com/users/763355/modj"}, "edited": false, "score": 0, "creation_date": 1547244600, "post_id": 54154438, "comment_id": 95140348, "body": "@MoDJ using context outside of the loop gives better results but still crashing. If comment the two lines : UIImage* image = [[UIImage alloc] initWithCGImage:cgImage]; self.uiimageBuffer = image; there is no memory issue but the buffer isn&#39;t updated"}, {"owner": {"reputation": 4060, "user_id": 763355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dxAhW.jpg?s=128&g=1", "display_name": "MoDJ", "link": "https://stackoverflow.com/users/763355/modj"}, "edited": false, "score": 0, "creation_date": 1547251606, "post_id": 54154438, "comment_id": 95142153, "body": "Do you need a CFRelease(sampleBuffer) in your code? I don&#39;t know what is calling this method so I cannot be sure."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1547424130, "post_id": 54154438, "comment_id": 95177639, "body": "you should resize image until it is small. then you wont have memory issue. your code take full HD size which the iphone memory cannot handle."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 10932325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z1rtc7lAPzE/AAAAAAAAAAI/AAAAAAAAAAk/ws2AOR2AA1U/photo.jpg?sz=128", "display_name": "Giraff Wombat", "link": "https://stackoverflow.com/users/10932325/giraff-wombat"}, "is_accepted": false, "score": 0, "last_activity_date": 1548032619, "creation_date": 1548032619, "answer_id": 54282391, "question_id": 54154438, "link": "https://stackoverflow.com/questions/54154438/uiimage-initwithcgimage-leads-to-memory-issue-in-obj-c/54282391#54282391", "title": "UIImage initWithCGImage leads to memory issue in Obj-C", "body": "<p>How about @autoreleasepool? This helped me several times in both captureOutput and requestMediaDataWhenReady.</p>\n\n<p><a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html</a></p>\n"}], "owner": {"reputation": 159, "user_id": 5635683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/30b3c9a075b8e3935cf73ee38c91d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "sa.l_dev", "link": "https://stackoverflow.com/users/5635683/sa-l-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548032619, "creation_date": 1547242978, "last_edit_date": 1547243771, "question_id": 54154438, "link": "https://stackoverflow.com/questions/54154438/uiimage-initwithcgimage-leads-to-memory-issue-in-obj-c", "title": "UIImage initWithCGImage leads to memory issue in Obj-C", "body": "<p>I develop an application that grabs images from iPhone rear camera. These images are then processed asynchronously.</p>\n\n<p>So I am using <strong>AVFoundation</strong> functions in <strong>Obj-C</strong>. My problem is that my app is crashing because of memory issue when capturing images. </p>\n\n<p>Here is the code that I use in the <strong>captureOutput</strong> callback :</p>\n\n<pre><code>- (void)captureOutput:(AVCaptureOutput *)output didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection *)connection\n{\n    connection.videoOrientation = AVCaptureVideoOrientationLandscapeLeft;\n    CVPixelBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);\n    CIImage* ciimage = [[CIImage alloc] initWithCVPixelBuffer:imageBuffer];\n    CIContext* context = [CIContext contextWithOptions:nil];\n    CGImage* cgImage = [context createCGImage:ciimage fromRect:[ciimage extent]];\n\n    @synchronized(self) {\n        UIImage* image = [[UIImage alloc] initWithCGImage:cgImage];\n        self.uiimageBuffer = image;\n    }\n    CGImageRelease(cgImage);\n}\n</code></pre>\n\n<p>As I need to asynchronously process the image grabbed elsewhere in the application, I introduced a buffer called <strong>uiimageBuffer</strong>. This buffer is updated everytime captureOutput is called, like written right below :</p>\n\n<pre><code>UIImage* image = [[UIImage alloc] initWithCGImage:cgImage];\nself.uiimageBuffer = image;\n</code></pre>\n\n<p>But the allocation of the UIImage leads to <strong>memory issue</strong> very very quickly (few seconds).</p>\n\n<p>So <strong>my question</strong> is : how could I update my buffer without allocating new UIImage at every calls of captureOutput ?</p>\n\n<p><strong>PS</strong> : the same piece of code written in Swift 4 doesn't lead to memory issue.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["objective-c", "uitableview", "uitextview"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1547225966, "post_id": 54150813, "comment_id": 95132934, "body": "Keep in mind that your &quot;Long press detected&quot; message will be called for many different state changes include &quot;Began&quot;, &quot;Changed&quot;, &quot;Cancelled&quot;, &quot;Failed&quot;, and &quot;Possible&quot;."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1547226094, "post_id": 54150813, "comment_id": 95133019, "body": "UIMenuItem is a component of a larger cluster.  The thing you should look at first is UIMenuController.  Consider also that UIAlertController might be simple enough (or even just copy the text unconditionally??).  Finally, attach the gesture recognizer to the cell, not the table, so you&#39;ll have an easier time figuring out which text needs copying."}, {"owner": {"reputation": 191, "user_id": 3079872, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4ab551cab7bb66fa06b4623b7ee4b369?s=128&d=identicon&r=PG&f=1", "display_name": "user3079872", "link": "https://stackoverflow.com/users/3079872/user3079872"}, "edited": false, "score": 0, "creation_date": 1547229214, "post_id": 54150813, "comment_id": 95134473, "body": "@maddy, thank you. I have tried with the other states too, but it still doesn&#39;t work, I don&#39;t get the copy menu ..."}, {"owner": {"reputation": 191, "user_id": 3079872, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4ab551cab7bb66fa06b4623b7ee4b369?s=128&d=identicon&r=PG&f=1", "display_name": "user3079872", "link": "https://stackoverflow.com/users/3079872/user3079872"}, "edited": false, "score": 0, "creation_date": 1547229268, "post_id": 54150813, "comment_id": 95134497, "body": "@dah thank you. I have attached the gesture recogniser to the cell, but it has no effect. I have made the TextView editable and Selectable in the Story Board."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1547237844, "post_id": 54150813, "comment_id": 95137956, "body": "@user3079872, I understand.  Attaching the GR to the cell will help later (when you want to know which cell&#39;s text to copy).  The immediate problem I indicated is that UIMenuItem by itself doesn&#39;t do anything."}], "owner": {"reputation": 191, "user_id": 3079872, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4ab551cab7bb66fa06b4623b7ee4b369?s=128&d=identicon&r=PG&f=1", "display_name": "user3079872", "link": "https://stackoverflow.com/users/3079872/user3079872"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547225345, "creation_date": 1547225345, "question_id": 54150813, "link": "https://stackoverflow.com/questions/54150813/copy-text-from-uitextview-inside-a-uitableview", "title": "Copy Text from UITextView inside a UITableView", "body": "<p>I have a tableview cell that has an image view, a UILabel and a TextView. I want the user to be able to select text from the TextView when they longPress on the TextView.</p>\n\n<p>I have created a Gesture recogniser for the cell, and when the user long presses on the cell, the gesture recogniser gets called, but I don't get a menu or a cursor for the user to be able to select text and then copy it. Below is the code to attach long press to the UITableView cell</p>\n\n<pre><code>  UILongPressGestureRecognizer* longPressRecognizer =     [[UILongPressGestureRecognizer alloc] initWithTarget:self   action:@selector(LongPressgesture:)];\n [tableView addGestureRecognizer:longPressRecognizer];\n</code></pre>\n\n<p>I also have the following code that gets called</p>\n\n<pre><code>- (void)LongPressgesture:(UILongPressGestureRecognizer *)gesture{\n    if (gesture.state == UIGestureRecognizerStateEnded) {\n        NSLog(@\"Long press Ended .................\");\n     }\n    else {\n        NSLog(@\"Long press detected .....................\");\n    }\n}\n</code></pre>\n\n<p>The function gets called, so I see the message \"Long press Detected\" on the output log, but I don't get the menu to copy text. I tried creating a menu on the Long Press section as this:</p>\n\n<pre><code>    UIMenuItem *menuItem = [[UIMenuItem alloc] initWithTitle:@\"Copy\" action:@selector(copyText:)];\n\n    UIMenuController *menuCont = [UIMenuController sharedMenuController];\n\n    [menuCont setTargetRect:CGRectMake(10, 100, 400, 400) inView:tableview];\n\n    menuCont.arrowDirection = UIMenuControllerArrowDown;\n    menuCont.menuItems = [NSArray arrayWithObject:menuItem];\n    [menuCont setMenuVisible:YES animated:YES];\n</code></pre>\n\n<p>But the copy text function is not called, and there is no menu.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["objective-c", "macos", "nsview"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1547218752, "post_id": 54148922, "comment_id": 95128935, "body": "I have no experience with Mac apps but this could happen if you drag something else than <code>NSView</code> to your Interface Builder and then you set the custom class to be <code>PKMPDFView</code>. Could you inspect the source of the xib and see how is <code>PKMPDFView</code> actually defined? Also check that there is no second reference set to the given view."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1547218945, "post_id": 54148922, "comment_id": 95129061, "body": "<code>allowsDragging</code> is a property of <code>PDFView</code>, could it be related? A mismatch somewhere because of manual changes?"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1547219179, "post_id": 54148922, "comment_id": 95129202, "body": "@Larme Yes, I guess that it can happen if you drag <code>PDFView</code> and then change custom class to <code>PKMPDFView</code>. The nib then tries to set up the object with <code>PDFView</code> properties."}, {"owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "edited": false, "score": 0, "creation_date": 1547221614, "post_id": 54148922, "comment_id": 95130564, "body": "You&#39;re both right.  This is an app from 2015 that I just revisited and have no memory of why I thought a PDFView would be useful; the code certainly doesn&#39;t expect it.  In my defense, I believed the error message when it said &quot;user defined&quot;.  :)"}], "owner": {"reputation": 30175, "user_id": 784753, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c64a5543e33cddf87d6c8892bfe90878?s=128&d=identicon&r=PG", "display_name": "Phillip Mills", "link": "https://stackoverflow.com/users/784753/phillip-mills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547218489, "creation_date": 1547218489, "question_id": 54148922, "link": "https://stackoverflow.com/questions/54148922/non-existent-user-defined-runtime-attribute", "title": "Non-existent user defined runtime attribute", "body": "<p>I have a simple Mac application that receives the following error when opening a document:\n<strong>Failed to set (allowsDragging) user defined inspected property on (PKMPDFView): [ setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key allowsDragging.</strong></p>\n\n<p>If I intercept the \"set\" attempt, I see that it originates from the method <strong>-[NSIBUserDefinedRuntimeAttributesConnector establishConnection]</strong> during nib loading.</p>\n\n<p>Full trace:</p>\n\n<pre><code>0   PDFApp                              0x0000000100003592 -[PKMPDFView setValue:forUndefinedKey:] + 49\n1   Foundation                          0x00007fff309b8dde -[NSObject(NSKeyValueCoding) setValue:forKey:] + 331\n2   AppKit                              0x00007fff2c08af15 -[NSView setValue:forKeyPath:] + 394\n3   AppKit                              0x00007fff2c00d029 -[NSIBUserDefinedRuntimeAttributesConnector establishConnection] + 637\n4   AppKit                              0x00007fff2bdd9719 -[NSIBObjectData nibInstantiateWithOwner:options:topLevelObjects:] + 1430\n5   AppKit                              0x00007fff2bdd0991 loadNib + 435\n6   AppKit                              0x00007fff2bdcfeb5 +[NSBundle(NSNibLoading) _loadNibFile:nameTable:options:withZone:ownerBundle:] + 696\n7   AppKit                              0x00007fff2c005aba +[NSBundle(NSNibLoadingInternal) _loadNibFile:externalNameTable:options:withZone:] + 150\n8   AppKit                              0x00007fff2c005893 -[NSWindowController loadWindow] + 322\n9   AppKit                              0x00007fff2be18cf5 -[NSWindowController window] + 84\n10  AppKit                              0x00007fff2bfd8134 -[NSWindowController showWindow:] + 36\n11  AppKit                              0x00007fff2be18c7a -[NSDocument showWindows] + 116\n12  PDFApp                              0x0000000100002e75 -[PKMPDFDocument showWindows] + 50\n13  AppKit                              0x00007fff2c35f13e __80-[NSDocumentController openDocumentWithContentsOfURL:display:completionHandler:]_block_invoke.1039 + 182\n14  AppKit                              0x00007fff2c36ef70 ___NSMainRunLoopPerformBlock_block_invoke + 25\n15  CoreFoundation                      0x00007fff2e897a3c __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__ + 12\n16  CoreFoundation                      0x00007fff2e87a973 __CFRunLoopDoBlocks + 275\n17  CoreFoundation                      0x00007fff2e879ffe __CFRunLoopRun + 1278\n18  CoreFoundation                      0x00007fff2e879867 CFRunLoopRunSpecific + 487\n19  HIToolbox                           0x00007fff2db59d96 RunCurrentEventLoopInMode + 286\n20  HIToolbox                           0x00007fff2db59b06 ReceiveNextEventCommon + 613\n21  HIToolbox                           0x00007fff2db59884 _BlockUntilNextEventMatchingListInModeWithFilter + 64\n22  AppKit                              0x00007fff2be09a73 _DPSNextEvent + 2085\n23  AppKit                              0x00007fff2c59fe34 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 3044\n24  AppKit                              0x00007fff2bdfe885 -[NSApplication run] + 764\n25  AppKit                              0x00007fff2bdcda72 NSApplicationMain + 804\n26  libdyld.dylib                       0x00007fff56848015 start + 1\n</code></pre>\n\n<p>What confuses me is that <code>PKMPDFView</code> is a direct subclass of <code>NSView</code> and has no user defined properties associated with it in the .xib file being loaded.  This view also has no outlets defined in the .xib, just a referencing outlet (contentView) from its document.  Running find/grep through my development directory finds no instance of \"allowsDragging\" anywhere.  Likewise, using the strings utility reveals no \"allowsDragging\" in the built app.</p>\n\n<p>I've tried all the standard project cleaning with no change in symptoms.</p>\n\n<p>At the moment, I'm tempted to simply override <code>setValue:forUndefinedKey:</code> and forget it but I'm still curious.  Does anyone have information or good guesses about where this would be coming from?</p>\n\n<p>(This is Xcode 10.1 on macOS 10.13.6, in case that matters.)</p>\n"}, {"tags": ["ios", "objective-c", "crashlytics", "google-fabric"], "comments": [{"owner": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "edited": false, "score": 0, "creation_date": 1547216978, "post_id": 54148253, "comment_id": 95127932, "body": "please see this link <a href=\"https://stackoverflow.com/questions/53507754/fabric-crashes-after-the-update-fabric-iscrashlyticscollectionenabled-unrec\" title=\"fabric crashes after the update fabric iscrashlyticscollectionenabled unrec\">stackoverflow.com/questions/53507754/&hellip;</a>"}, {"owner": {"reputation": 86, "user_id": 6826124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154664732934714/picture?type=large", "display_name": "Gareth Miller", "link": "https://stackoverflow.com/users/6826124/gareth-miller"}, "reply_to_user": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "edited": false, "score": 0, "creation_date": 1547218107, "post_id": 54148253, "comment_id": 95128536, "body": "And which of those answers is supposed to help me?"}], "answers": [{"comments": [{"owner": {"reputation": 86, "user_id": 6826124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154664732934714/picture?type=large", "display_name": "Gareth Miller", "link": "https://stackoverflow.com/users/6826124/gareth-miller"}, "edited": false, "score": 0, "creation_date": 1547462977, "post_id": 54178949, "comment_id": 95188370, "body": "Tried that, it still crashes."}], "tags": [], "owner": {"reputation": 401, "user_id": 2661320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1jfi.jpg?s=128&g=1", "display_name": "il3v", "link": "https://stackoverflow.com/users/2661320/il3v"}, "is_accepted": false, "score": 0, "last_activity_date": 1547459039, "creation_date": 1547459039, "answer_id": 54178949, "question_id": 54148253, "link": "https://stackoverflow.com/questions/54148253/fabric-is-crashing-after-latest-update-1-9-0-on-fabric-iscrashlyticscollectio/54178949#54178949", "title": "Fabric is crashing after latest update (1.9.0) on [Fabric isCrashlyticsCollectionEnabled]", "body": "<p>Apparently you should use <code>[Fabric with:@[[Crashlytics class]]];</code> (as per <a href=\"https://fabric.io/kits/ios/crashlytics/install\" rel=\"nofollow noreferrer\">https://fabric.io/kits/ios/crashlytics/install</a>).\nBy the way, both Fabric and Crashlytics are now part of the Firebase framework, so I am not even sure this method still works. I'd personally suggest you migrate your project to Firebase to keep it working once the plug is removed from the old Crashlytics environment</p>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 11004868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a0afcf49cece109582490be034569e?s=128&d=identicon&r=PG&f=1", "display_name": "jarvis12", "link": "https://stackoverflow.com/users/11004868/jarvis12"}, "is_accepted": false, "score": 0, "last_activity_date": 1550752271, "creation_date": 1550752271, "answer_id": 54807144, "question_id": 54148253, "link": "https://stackoverflow.com/questions/54148253/fabric-is-crashing-after-latest-update-1-9-0-on-fabric-iscrashlyticscollectio/54807144#54807144", "title": "Fabric is crashing after latest update (1.9.0) on [Fabric isCrashlyticsCollectionEnabled]", "body": "<p>For me downloaded sdk from <a href=\"https://fabric.io/kits/ios/crashlytics/update?type=manual\" rel=\"nofollow noreferrer\">here</a> \nagain adding it project worked. hope this may help someone.</p>\n"}], "owner": {"reputation": 86, "user_id": 6826124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154664732934714/picture?type=large", "display_name": "Gareth Miller", "link": "https://stackoverflow.com/users/6826124/gareth-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550752271, "creation_date": 1547216098, "last_edit_date": 1547451843, "question_id": 54148253, "link": "https://stackoverflow.com/questions/54148253/fabric-is-crashing-after-latest-update-1-9-0-on-fabric-iscrashlyticscollectio", "title": "Fabric is crashing after latest update (1.9.0) on [Fabric isCrashlyticsCollectionEnabled]", "body": "<p>After running a pod update my app now crashes on launch when it hits:</p>\n\n<p><code>[Fabric with:@[CrashlyticsKit]];</code></p>\n\n<p>The error returned is:</p>\n\n<pre><code>2019-01-11 14:07:15.935040+0000 Leave[26155:181825] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '+[Fabric isCrashlyticsCollectionEnabled]: unrecognized selector sent to class 0x10b8354c8'\n</code></pre>\n\n<p>I am using Xcode10.1, in a project built in Objective-c but with some Swift tests and cocoapods. \nI already have the API key in my info.plist and have a run script in my Build Phases.</p>\n\n<p>Before I roll back to the previous version, is there any thing I can try to fix this?</p>\n"}, {"tags": ["ios", "objective-c", "focus", "wkwebview", "virtual-keyboard"], "comments": [{"owner": {"reputation": 41, "user_id": 5028011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656327a40eb4f5140f511d2d08699066?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/5028011/mitch"}, "reply_to_user": {"reputation": 1421, "user_id": 1247034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZO4v.png?s=128&g=1", "display_name": "Remote", "link": "https://stackoverflow.com/users/1247034/remote"}, "edited": false, "score": 0, "creation_date": 1547214130, "post_id": 54147604, "comment_id": 95126423, "body": "Unfortunately this doens&#39;t change the behaviour"}, {"owner": {"reputation": 41, "user_id": 5028011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656327a40eb4f5140f511d2d08699066?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/5028011/mitch"}, "reply_to_user": {"reputation": 1421, "user_id": 1247034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZO4v.png?s=128&g=1", "display_name": "Remote", "link": "https://stackoverflow.com/users/1247034/remote"}, "edited": false, "score": 0, "creation_date": 1547214291, "post_id": 54147604, "comment_id": 95126497, "body": "I got the same behaviour on google web site. My code is only here to help to reproduce the problem."}, {"owner": {"reputation": 41, "user_id": 5028011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656327a40eb4f5140f511d2d08699066?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/5028011/mitch"}, "reply_to_user": {"reputation": 1421, "user_id": 1247034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZO4v.png?s=128&g=1", "display_name": "Remote", "link": "https://stackoverflow.com/users/1247034/remote"}, "edited": false, "score": 0, "creation_date": 1547214468, "post_id": 54147604, "comment_id": 95126609, "body": "Which version of IOS are you using ?"}, {"owner": {"reputation": 41, "user_id": 5028011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656327a40eb4f5140f511d2d08699066?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/5028011/mitch"}, "reply_to_user": {"reputation": 1421, "user_id": 1247034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZO4v.png?s=128&g=1", "display_name": "Remote", "link": "https://stackoverflow.com/users/1247034/remote"}, "edited": false, "score": 0, "creation_date": 1547216500, "post_id": 54147604, "comment_id": 95127676, "body": "This problem only occurs inside a WebView, and only inside the WKWebView. You have to open the page inside an IOS app that includes a Web view to reproduce this problem."}], "owner": {"reputation": 41, "user_id": 5028011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/656327a40eb4f5140f511d2d08699066?s=128&d=identicon&r=PG&f=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/5028011/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547461583, "creation_date": 1547213736, "last_edit_date": 1547461583, "question_id": 54147604, "link": "https://stackoverflow.com/questions/54147604/why-on-ios-the-previous-and-next-focus-buttons-in-the-virtual-keyboard-dont-sho", "title": "Why on IOS the previous and next focus buttons in the virtual keyboard don&#39;t show the first time an input is focused?", "body": "<p>The first time a web page is loaded inside a WKWebView, when an input is \"focused\", the virtual keyboard is opened. The first time only, the previous and next form field buttons are not visible.\nWhen we focus another input, then the buttons are visible.</p>\n\n<p>On the next picture you can see that the first input is focused but the previous / next buttons are not present in the keyboard.\n<a href=\"https://i.stack.imgur.com/48fOB.jpg\" rel=\"nofollow noreferrer\">previous / next input element not present in the virtual keyboard</a></p>\n\n<p>If the page reloads inside the web view, then the buttons of the virtual keyboard are displayed.\nIf you focus another input, then the buttons are visible:\n<a href=\"https://i.stack.imgur.com/wxI8j.jpg\" rel=\"nofollow noreferrer\">Focus buttons are now visible</a></p>\n\n<p>This problem is not linked to my web page, this problem happens on all web sites.</p>\n\n<p>This problem also appears only on the WKWebView, with the UIWebView the buttons are always displayed and working.</p>\n\n<p>To reproduce my problem, you can load a static web page inside a WkWebView with following content:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html ng-app=\"offline-form-ui\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form&gt;\n    &lt;input type=\"text\" name=\"test1\"&gt;\n    &lt;input type=\"text\" name=\"test2\"&gt;\n    &lt;input type=\"text\" name=\"test3\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is our objective-C code to load the page in the web view:</p>\n\n<pre><code>_webView = [[WKWebView alloc] initWithFrame:CGRectZero configuration:webConfig];\n_webView.UIDelegate = self;\n_webView.navigationDelegate = self;\nself.view = _webView;\n\n_webView.userInteractionEnabled = YES;\n_webView.scrollView.delegate = self;\n\nNSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@\"offline-form\" ofType:@\"html\" inDirectory:@\"www/ui\"]];\n[_webView loadRequest:[NSURLRequest requestWithURL:url]];\n</code></pre>\n\n<p>In that case we load files directly from the device, but the problem also occurs with online web pages.</p>\n\n<p>Any help greatly appreciated.</p>\n\n<p><strong>Update:</strong> This seems to be a bug with IOS. I've created a simple project with only a WkWebView and the problem persists with any web site. I've created a new bug in the bug reporter of Apple.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 2264, "user_id": 1272105, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6ce5549664fbbc36280e71ed2bc3ef2c?s=128&d=identicon&r=PG", "display_name": "Sasha Grievus", "link": "https://stackoverflow.com/users/1272105/sasha-grievus"}, "is_accepted": true, "score": 1, "last_activity_date": 1547207074, "creation_date": 1547207074, "answer_id": 54145893, "question_id": 54145688, "link": "https://stackoverflow.com/questions/54145688/how-to-catch-stderr-output-and-send-messages-to-a-remote-log-file-via-a-post-req/54145893#54145893", "title": "How to catch stderr output and send messages to a remote log file via a POST request in objective c?", "body": "<p>The stderr can be catched attaching a pipe with this code</p>\n\n<pre><code>NSPipe* pipe = [NSPipe pipe];\nNSFileHandle* pipeReadHandle = [pipe fileHandleForReading];\ndup2([[pipe fileHandleForWriting] fileDescriptor], fileno(stderr));\ndispatch_source_t source = dispatch_source_create(DISPATCH_SOURCE_TYPE_READ, [pipeReadHandle fileDescriptor], 0, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0));\ndispatch_source_set_event_handler(source, ^{\n    void* data = malloc(4096);\n    ssize_t readResult = 0;\n    do\n    {\n        errno = 0;\n        readResult = read([pipeReadHandle fileDescriptor], data, 4096);\n    } while (readResult == -1 &amp;&amp; errno == EINTR);\n    if (readResult &gt; 0)\n    {\n        //AppKit UI should only be updated from the main thread\n        dispatch_async(dispatch_get_main_queue(),^{\n            NSString* stdOutString = [[NSString alloc] initWithBytesNoCopy:data length:readResult encoding:NSUTF8StringEncoding freeWhenDone:YES];\n            NSAttributedString* stdOutAttributedString = [[NSAttributedString alloc] initWithString:stdOutString];\n            [appFunctions postDataToRemoteLogWithMessage:stdOutAttributedString];\n        });\n    }\n    else{free(data);}\n});\ndispatch_resume(source);\n</code></pre>\n\n<p>So adding the function, the result can be achieved</p>\n\n<pre><code>+ (NSString *) postDataToRemoteLogWithMessage:(NSString *)errorString{\n    // Send post request to webservice\n    NSString *errorData =[NSString stringWithFormat:@\"errorString=%@\",errorString];\n    NSData *postData = [errorData dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];\n    NSString *postLength = [NSString stringWithFormat:@\"%d\",[postData length]];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n    [request setURL:[NSURL URLWithString:@\"http://mywebserviceurl\"]];\n    [request setHTTPMethod:@\"POST\"];\n    [request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n    [request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n    [request setHTTPBody:postData];\n    NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:request delegate:self];\n    if(conn) {\n        //NSLog(@\"Connection Successful\");\n    } else {\n        //NSLog(@\"Connection could not be made\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2264, "user_id": 1272105, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6ce5549664fbbc36280e71ed2bc3ef2c?s=128&d=identicon&r=PG", "display_name": "Sasha Grievus", "link": "https://stackoverflow.com/users/1272105/sasha-grievus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54145893, "answer_count": 1, "score": 0, "last_activity_date": 1547253516, "creation_date": 1547206362, "question_id": 54145688, "link": "https://stackoverflow.com/questions/54145688/how-to-catch-stderr-output-and-send-messages-to-a-remote-log-file-via-a-post-req", "title": "How to catch stderr output and send messages to a remote log file via a POST request in objective c?", "body": "<p>I have a simple webservice online listening for post requests. It writes to a local file strings sent to it as parameters in the body.</p>\n\n<p>Now, I have a ios app and I want to send each message of the stderr of the app to the webservice to log errors on the online file and be able to see app errors in real time, remotely.</p>\n\n<p>I know I can redirect stderr messages to a file (local to device) like this</p>\n\n<pre><code>+ (void) redirectNSLogToDocuments {\n    NSArray *allPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [allPaths objectAtIndex:0];\n    NSString *pathForLog = [documentsDirectory stringByAppendingPathComponent:@\"errLog.txt\"];\n    freopen([pathForLog cStringUsingEncoding:NSASCIIStringEncoding],\"a+\",stderr);\n}\n</code></pre>\n\n<p>I know i can send the post request like this, and so write the string 'errorString' to the remote log</p>\n\n<pre><code>    NSString *errorString=@\"errorIOS\";\n    NSString *errorData =[NSString stringWithFormat:@\"errorString=%@\",errorString];\n    NSData *postData = [errorData dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];\n    NSString *postLength = [NSString stringWithFormat:@\"%d\",[postData length]];\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n    [request setURL:[NSURL URLWithString:@\"http://mywebserviceurl\"]];\n    [request setHTTPMethod:@\"POST\"];\n    [request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n    [request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n    [request setHTTPBody:postData];\n    NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:request delegate:self];\n</code></pre>\n\n<p>But if I want to redirect the stderr messages so that each time a message of error is raised it triggers the post request to my webservice and writes the message to the remote log instead of writing to the device local file?</p>\n"}, {"tags": ["ios", "objective-c", "mobileiron"], "comments": [{"owner": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 0, "creation_date": 1547199865, "post_id": 54142910, "comment_id": 95118905, "body": "Did you enrol as developer on <a href=\"https://info.mobileiron.com/developer_portal_access_request_form_agreement_reg.html\" rel=\"nofollow noreferrer\">info.mobileiron.com/&hellip;</a> ?"}, {"owner": {"reputation": 125, "user_id": 3091160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/57f31eac5a4bc475ac07345c6794e0ed?s=128&d=identicon&r=PG&f=1", "display_name": "user3091160", "link": "https://stackoverflow.com/users/3091160/user3091160"}, "reply_to_user": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 0, "creation_date": 1547201997, "post_id": 54142910, "comment_id": 95120181, "body": "i have one mobileiron Account   AccountType : Developer Prospect."}, {"owner": {"reputation": 125, "user_id": 3091160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/57f31eac5a4bc475ac07345c6794e0ed?s=128&d=identicon&r=PG&f=1", "display_name": "user3091160", "link": "https://stackoverflow.com/users/3091160/user3091160"}, "reply_to_user": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 0, "creation_date": 1547202522, "post_id": 54142910, "comment_id": 95120490, "body": "Also i have downloaded &quot;AppConnectiOSSDK_V4_1_1_12&quot;"}], "owner": {"reputation": 125, "user_id": 3091160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/57f31eac5a4bc475ac07345c6794e0ed?s=128&d=identicon&r=PG&f=1", "display_name": "user3091160", "link": "https://stackoverflow.com/users/3091160/user3091160"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547195817, "creation_date": 1547195817, "question_id": 54142910, "link": "https://stackoverflow.com/questions/54142910/how-to-use-mobileiron-appconnect-sdk-in-ios", "title": "how to use MobileIron AppConnect SDK in IOS", "body": "<blockquote>\n  <p>Actually one of my client need to integrate MobileIron AppConnect sdk.\n  I have read all document on his website but I can\u2019t understand how to\n  integrate. Please Help me any know about.</p>\n</blockquote>\n"}, {"tags": ["objective-c", "swift", "objective-c-runtime"], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 3612226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5956845da91dde1f8bd891d8867c76?s=128&d=identicon&r=PG&f=1", "display_name": "tejashri", "link": "https://stackoverflow.com/users/3612226/tejashri"}, "edited": false, "score": 0, "creation_date": 1547780902, "post_id": 54150007, "comment_id": 95318764, "body": "Hey rob, Thanks a lot for the answer. It solved my issue. Tried the stuff you mentioned as side note also. Thanks for the additional info. Understood better how &#39;as&#39; operator works! :)"}], "tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 6, "last_activity_date": 1547222930, "last_edit_date": 1547222930, "creation_date": 1547222429, "answer_id": 54150007, "question_id": 54141572, "link": "https://stackoverflow.com/questions/54141572/create-object-of-objective-c-class-at-runtime-in-swift-which-conforms-to-object/54150007#54150007", "title": "Create object of Objective-C class at runtime in Swift, which conforms to Objective-C protocol", "body": "<p>Let's define a <code>noise</code> method on <code>Animal</code> for testing:</p>\n\n<pre><code>@protocol Animal &lt;NSObject&gt;\n- (NSString *)noise;\n@end\n</code></pre>\n\n<p>Also, let's use a normal Swift array to hold the class list:</p>\n\n<pre><code>let allClassesCount = objc_getClassList(nil, 0)\nvar allClasses = [AnyClass](repeating: NSObject.self, count: Int(allClassesCount))\nallClasses.withUnsafeMutableBufferPointer { buffer in\n    let autoreleasingPointer = AutoreleasingUnsafeMutablePointer&lt;AnyClass&gt;(buffer.baseAddress)\n    objc_getClassList(autoreleasingPointer, allClassesCount)\n}\n</code></pre>\n\n<p>Then, when we find a class that conforms to <code>Animal</code>, let's convert it to the appropriate Swift type (<code>(NSObject &amp; Animal).Type</code>) so that when we instantiate it, we get an object of the appropriate type (<code>NSObject &amp; Animal</code>):</p>\n\n<pre><code>for aClass in allClasses {\n    if class_conformsToProtocol(aClass, Animal.self) {\n        let animalClass = aClass as! (NSObject &amp; Animal).Type\n\n        // Because animalClass is `(NSObject &amp; Animal).Type`:\n        // - It has the `init()` of `NSObject`.\n        // - Its instances are `NSObject &amp; Animal`.\n        let animal = animalClass.init()\n\n        // Because animal is `NSObject &amp; Animal`, it has the `noise` method of `Animal`.\n        print(animal.noise())\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>woof\nmeow\n</code></pre>\n\n<hr>\n\n<p>Side note. You might think you can avoid using <code>class_conformsToProtocol</code> by doing this:</p>\n\n<pre><code>if let animalClass = aClass as? (NSObject &amp; Animal).Type {\n    let animal = animalClass.init()\n    print(animal.noise())\n}\n</code></pre>\n\n<p>But you will crash at runtime:</p>\n\n<pre><code>*** CNZombie 3443: -[ conformsToProtocol:] sent to deallocated instance 0x7fffa9d265f0\n</code></pre>\n\n<p>Under the covers, the <code>as?</code> test sends the <code>conformsToProtocol:</code> message to <code>aClass</code> using normal Objective-C messaging. But there are various \u201czombie classes\u201d in the system frameworks that crash when <strong>any</strong> message is sent to them. These classes are used to detect use-after-free errors. The <code>class_conformsToProtocol</code> function doesn't use Objective-C messaging, so it avoids these crashes.</p>\n"}], "owner": {"reputation": 205, "user_id": 3612226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5956845da91dde1f8bd891d8867c76?s=128&d=identicon&r=PG&f=1", "display_name": "tejashri", "link": "https://stackoverflow.com/users/3612226/tejashri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 54150007, "answer_count": 1, "score": 1, "last_activity_date": 1547222930, "creation_date": 1547189064, "last_edit_date": 1547219803, "question_id": 54141572, "link": "https://stackoverflow.com/questions/54141572/create-object-of-objective-c-class-at-runtime-in-swift-which-conforms-to-object", "title": "Create object of Objective-C class at runtime in Swift, which conforms to Objective-C protocol", "body": "<p>I have Objective-C Protocol and Interface implementation as below: </p>\n\n<pre><code>@protocol Animal &lt;NSObject&gt;\n-(void)walk;\n@end\n\n@interface Cat : NSObject&lt;Animal&gt;\n@end\n\n@implementation Cat\n-(void)walk{}\n@end\n\n@interface Dog : NSObject&lt;Animal&gt;\n@end\n\n@implementation Dog\n-(void)walk{}\n@end\n</code></pre>\n\n<p>I am trying to use instance of classes at runtime which implement protocol 'Animal'. This code in in swift :</p>\n\n<pre><code>var classesCount = objc_getClassList(nil, 0)\nlet allClasses = UnsafeMutablePointer&lt;AnyClass?&gt;.allocate(capacity: Int(classesCount))\nclassesCount = objc_getClassList(AutoreleasingUnsafeMutablePointer(allClasses), classesCount)\nfor i in 0..&lt;classesCount{\n    let cls : AnyClass! = allClasses[Int(i)]\n    if class_conformsToProtocol(cls, Animal.self){\n        let instance = cls.self.init()\n        instance.walk()\n    }\n}\n</code></pre>\n\n<p>Tried many ways to get instance from AnyClass, AnyObject, and NSObject. I am facing compiler errors in doing so. Error for this code snippet is:</p>\n\n<blockquote>\n  <p>'required' initializer 'init(arrayLiteral:)' must be provided by subclass of 'NSSet'.</p>\n</blockquote>\n\n<p>Is there any way to get instances of 'Cat' and 'Dog'?</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 2258, "user_id": 3278326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jCZgB.jpg?s=128&g=1", "display_name": "Jarvis The Avenger", "link": "https://stackoverflow.com/users/3278326/jarvis-the-avenger"}, "edited": false, "score": 0, "creation_date": 1547449040, "post_id": 54140016, "comment_id": 95182289, "body": "have you tried using the bridging header for swift class into Objective C project, the Swift library cannot be directly called from Objective-C, since it is missing the required annotations in the code, and in many cases, modules do not inherit from NSObject, rather they use the native Swift data types. However, by using an intermediate helper class, it is possible to call the Swift library from Objective-C."}], "owner": {"reputation": 673, "user_id": 1880761, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/854823e5c9c168c16863864ea1688e10?s=128&d=identicon&r=PG", "display_name": "trebor", "link": "https://stackoverflow.com/users/1880761/trebor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547178109, "creation_date": 1547177491, "last_edit_date": 1547178109, "question_id": 54140016, "link": "https://stackoverflow.com/questions/54140016/dictionary-in-swift-fails-to-convert-to-nsdictionary-in-objective-c-when-compile", "title": "Dictionary in Swift fails to convert to NSDictionary in Objective C when compiled (Expected a type)", "body": "<p>I have a Cocoa Touch Framework written in Swift that I am referencing in an Objective C project (iOS app).</p>\n\n<p>The Swift framework has a protocol and class like so:</p>\n\n<pre><code>public protocol TestProtocol\n{\n    func configure (settings: Dictionary&lt;String, Any&gt;)\n}\n\npublic class MyFramework: NSObject, TestProtocol\n{\n    @objc public func configure (settings: Dictionary&lt;String, Any&gt;)\n    {\n    }\n}\n</code></pre>\n\n<p>When I'm trying to reference the framework in my Objective C project, I'm getting build errors on the compiled Swift class:</p>\n\n<pre><code>Expected a type\n</code></pre>\n\n<p>And when viewing the generated/compiled class (<code>MyFramework-Swift.h</code>), I see the error is on the following line:</p>\n\n<pre><code>- (void)configureWithSettings:(NSDictionary&lt;NSString *, id&gt; * _Nonnull)settings;\n</code></pre>\n\n<p>It seems like the Swift to Objective C conversion is not working properly. If I comment out the method or change the function to have a different parameter, the error goes away.</p>\n\n<p>Is there a way to advise the compiler on the type/generics for <code>Dictionary</code> to convert to <code>NSDictionary</code>?</p>\n"}, {"tags": ["ios", "objective-c", "openssl", "rsa"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 9477626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FVFMe.png?s=128&g=1", "display_name": "M. Plant", "link": "https://stackoverflow.com/users/9477626/m-plant"}, "edited": false, "score": 0, "creation_date": 1547178793, "post_id": 54140092, "comment_id": 95111691, "body": "hummm.. actually i implement rsa using openssl-universal cause i already have modulus key and exponent. But thanks for advice"}], "tags": [], "owner": {"reputation": 1, "user_id": 10366824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2010c390eb22027874341677b39d4c56?s=128&d=identicon&r=PG&f=1", "display_name": "M.Invoker", "link": "https://stackoverflow.com/users/10366824/m-invoker"}, "is_accepted": false, "score": 0, "last_activity_date": 1547178067, "creation_date": 1547178067, "answer_id": 54140092, "question_id": 54139890, "link": "https://stackoverflow.com/questions/54139890/inconsistent-rsa-encryption-length-result/54140092#54140092", "title": "Inconsistent RSA encryption length result", "body": "<p>You can try using <a href=\"https://github.com/ideawu/Objective-C-RSA\" rel=\"nofollow noreferrer\">Objective-C-RSA</a> third-party libraries,Or read the source code and then realize by yourself.</p>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 9477626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FVFMe.png?s=128&g=1", "display_name": "M. Plant", "link": "https://stackoverflow.com/users/9477626/m-plant"}, "edited": false, "score": 0, "creation_date": 1547188984, "post_id": 54141359, "comment_id": 95114194, "body": "i assume you haven&#39;t try using universal-openssl pod."}, {"owner": {"reputation": 22021, "user_id": 236222, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cf4f3c341534395199d4dbe35a432f9d?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/236222/jay"}, "reply_to_user": {"reputation": 307, "user_id": 9477626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FVFMe.png?s=128&g=1", "display_name": "M. Plant", "link": "https://stackoverflow.com/users/9477626/m-plant"}, "edited": false, "score": 0, "creation_date": 1547189780, "post_id": 54141359, "comment_id": 95114488, "body": "My answer is based on your post: NSLog(@&quot;%lu&quot;, strlen(encoded));. So, I assume you are using strlen. But, RSA_public_encrypt cannot be return a string."}], "tags": [], "owner": {"reputation": 22021, "user_id": 236222, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cf4f3c341534395199d4dbe35a432f9d?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/236222/jay"}, "is_accepted": false, "score": 2, "last_activity_date": 1547187848, "creation_date": 1547187848, "answer_id": 54141359, "question_id": 54139890, "link": "https://stackoverflow.com/questions/54139890/inconsistent-rsa-encryption-length-result/54141359#54141359", "title": "Inconsistent RSA encryption length result", "body": "<p>Encrypted Output from <code>RSA_public_encrypt</code> is <strong>not a string</strong>, so you cannot check it's length using <code>strlen</code>. I hope you do realize that strlen will consider any '\\0' seen in your encrypted output as end of string and will return the numbers of bytes till that point as length of the string. But, encrypted buffer can have valid bytes which can be '\\0'.</p>\n\n<p>Also, please note that RSA_public_encrypt returns the length of the encrypted data, which you should be using.</p>\n"}], "owner": {"reputation": 307, "user_id": 9477626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FVFMe.png?s=128&g=1", "display_name": "M. Plant", "link": "https://stackoverflow.com/users/9477626/m-plant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1547208807, "creation_date": 1547176372, "last_edit_date": 1547208807, "question_id": 54139890, "link": "https://stackoverflow.com/questions/54139890/inconsistent-rsa-encryption-length-result", "title": "Inconsistent RSA encryption length result", "body": "<p>i'm using external library OpenSSL-Universal for encrypting password using RSA_PKCS1_PADDING. Unfortunately the output of char encoded result have an inconsistent length. Let say i have 2048 bit modulus the length result i expect is 128 otherwise it will be failed to decrypt back to plain text.</p>\n\n<pre><code>BIGNUM *xponent = BN_new();\n    BIGNUM *modulus = BN_new();\n    BN_hex2bn(&amp;xponent,xponentInHex);\n    BN_hex2bn(&amp;modulus,modInHex);\n\n    RSA *rsa = RSA_new();\n    rsa-&gt;e = xponent;\n    rsa-&gt;n = modulus;\n    char encoded[1024] = {0};\n\n    RSA_public_encrypt(\n        (int)strlen(charString),// from len\n        (const unsigned char *)charString, // from\n        (unsigned char *)encoded, // to\n        rsa,\n        RSA_PKCS1_PADDING\n    );\n\n    RSA_free(rsa);\nNSLog(@\"%lu\", strlen(encoded));\n</code></pre>\n\n<p>if there is anything wrong with my implements or if you have some explanation about inconsistent length result please let me know</p>\n"}, {"tags": ["objective-c", "pool", "reference-counting"], "comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 1, "creation_date": 1547160136, "post_id": 54137357, "comment_id": 95107457, "body": "Do you want it to be a non-ARC project?  I think a pool can be achieved under ARC unburdening everyone from most memory management woes."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1547162310, "post_id": 54137357, "comment_id": 95108086, "body": "What&#39;s expensive, the allocation or the initialization of your objects?"}, {"owner": {"reputation": 1763, "user_id": 788488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/135a741141d72d3374028e2c6bb77114?s=128&d=identicon&r=PG", "display_name": "meisel", "link": "https://stackoverflow.com/users/788488/meisel"}, "edited": false, "score": 0, "creation_date": 1547170556, "post_id": 54137357, "comment_id": 95110010, "body": "This object pool is for UIViews, which are expensive to create. The project would use ARC (aside from classes where I\u2019d override a special method) although that\u2019s not that important to this question"}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1547333010, "post_id": 54137357, "comment_id": 95158761, "body": "-dealloc is documented that way because if you forget (in non-ARC) then it is a memory leak, unless you are doing something special like you are intending :-).  I wouldn&#39;t avoid that approach for that reason.  Be sure to call objc_destructInstance(), which should clear weak references and remove associated objects.  With your second approach, the object&#39;s -dealloc will not be called, so its ivars will still be set -- may want a -prepareForReuse method.  autorelease will eventually call release so no need to override if you go that way."}, {"owner": {"reputation": 1763, "user_id": 788488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/135a741141d72d3374028e2c6bb77114?s=128&d=identicon&r=PG", "display_name": "meisel", "link": "https://stackoverflow.com/users/788488/meisel"}, "reply_to_user": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1547333771, "post_id": 54137357, "comment_id": 95158925, "body": "OK @CarlLindberg, so I&#39;d do it like this? <a href=\"https://gist.github.com/michaeleisel/c4416c836fdb355cbe10d07604d650c1\" rel=\"nofollow noreferrer\">gist.github.com/michaeleisel/c4416c836fdb355cbe10d07604d650c&zwnj;&#8203;1</a>"}, {"owner": {"reputation": 1763, "user_id": 788488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/135a741141d72d3374028e2c6bb77114?s=128&d=identicon&r=PG", "display_name": "meisel", "link": "https://stackoverflow.com/users/788488/meisel"}, "edited": false, "score": 0, "creation_date": 1547333803, "post_id": 54137357, "comment_id": 95158932, "body": "How certain are you that that&#39;s safe? Especially calling objc_destructInstance without dealloc&#39;ing, that makes me nervous"}, {"owner": {"reputation": 1763, "user_id": 788488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/135a741141d72d3374028e2c6bb77114?s=128&d=identicon&r=PG", "display_name": "meisel", "link": "https://stackoverflow.com/users/788488/meisel"}, "edited": false, "score": 0, "creation_date": 1547334020, "post_id": 54137357, "comment_id": 95158971, "body": "For example, what if UIView sets an associated object inside of its init method?"}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1547334642, "post_id": 54137357, "comment_id": 95159100, "body": "Pretty sure that -dealloc is just objc_destructInstance() then freeing the object pointer.  Any ivars may still be set though.  Normally that is OK if init is called again.  You may want to reset all the ivars to zero -- i.e. memset everything, though you&#39;d need to keep track of the class and reset the isa ivar after (object_setClass()).  I really haven&#39;t done this so not sure if any other pitfalls, but seems OK.  That is really just saving the allocation though, not the initialization, unless you are avoiding the -init calls on reuse (in which case retain/release may be a better approach)."}, {"owner": {"reputation": 1763, "user_id": 788488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/135a741141d72d3374028e2c6bb77114?s=128&d=identicon&r=PG", "display_name": "meisel", "link": "https://stackoverflow.com/users/788488/meisel"}, "edited": false, "score": 0, "creation_date": 1547335667, "post_id": 54137357, "comment_id": 95159296, "body": "I want to avoid -init as well. dealloc can still do the job though, no? I just avoid calling objc_destructInstance?"}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1547342652, "post_id": 54137357, "comment_id": 95160311, "body": "If you want to avoid init, I would use your second approach.  Remember by the time your -dealloc has been called, all the subclass -dealloc implementations have also been called, so many of the ivars have been removed."}], "owner": {"reputation": 1763, "user_id": 788488, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/135a741141d72d3374028e2c6bb77114?s=128&d=identicon&r=PG", "display_name": "meisel", "link": "https://stackoverflow.com/users/788488/meisel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547156797, "creation_date": 1547156797, "question_id": 54137357, "link": "https://stackoverflow.com/questions/54137357/is-there-a-safe-way-to-do-an-object-pool-in-objective-c", "title": "Is there a safe way to do an object pool in Objective-C?", "body": "<p>I've profiled my app and observed that an object pool would be beneficial. However, I want to make sure that I do it in a safe way that does <em>not</em> require consumers to explicitly call a <code>-recycle</code> method when they're done. The only way to do this is using retain count semantics. Here are the options I see:</p>\n\n<ul>\n<li>Override <code>-dealloc</code> and have it recycle itself (and not call <code>[super dealloc]</code>), as <a href=\"https://www.mikeash.com/pyblog/friday-qa-2010-12-17-custom-object-allocators-in-objective-c.html\" rel=\"nofollow noreferrer\">Mike Ash does</a>. However, the documentation says super should always be called inside <code>-dealloc</code>.</li>\n<li>Override <code>-retain</code> and <code>-release</code> and have it increment/decrement my own retain count variable. If it hits 0, instead of calling <code>-dealloc</code>, have it recycle itself. The documentation for these two methods says that you can do this, so I like this option. However, the documentation for <code>autorelease</code> doesn't mention anything about overriding it. Do I need to override <code>autorelease</code> as well if I do this?</li>\n</ul>\n\n<p>Is there a safe way to do this?</p>\n"}, {"tags": ["objective-c", "concurrency", "thread-safety"], "owner": {"reputation": 3384, "user_id": 2338279, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ca122bd84305516bb84205b19717374b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2338279/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547150414, "creation_date": 1547150414, "question_id": 54136097, "link": "https://stackoverflow.com/questions/54136097/osmemorybarrier-inside-synchronized-block-replace-with-atomic-thread-fence", "title": "OSMemoryBarrier Inside @synchronized Block, Replace With atomic_thread_fence", "body": "<p>I am upgrading a project and got the following warning from Xcode</p>\n\n<blockquote>\n  <p>'OSMemoryBarrier' is deprecated: first deprecated in iOS 10.0 - Use atomic_thread_fence() from  instead</p>\n</blockquote>\n\n<p>From this method</p>\n\n<pre><code>- (nonnull id)objectForKey:(nonnull id)source {\nid key = self.keyGenerator ? self.keyGenerator(source) : source;\nid value = self.values[key];\nif (!value) {\n    @synchronized(self) {\n        value = self.values[key];\n        if (!value) {\n            value = self.valueGenerator(source);\n            OSMemoryBarrier();\n            self.values[key] = value;\n        }\n    }\n}\nOSMemoryBarrier();\nreturn value;\n}\n</code></pre>\n\n<p>I am still trying to understand how memory barriers and fences work and the part of the code above that is confusing me is the placement of the <code>OSMemoryBarrier()</code> calls, and why it needs to be called inside of a <code>@synchronized</code> block.</p>\n\n<p>I'm not sure the best way to replace it either, it looks like <code>atomic_thread_fence()</code> takes a parameter, and I'm not sure which parameter it should use in either place.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "svg", "svgkit"], "comments": [{"owner": {"reputation": 1541, "user_id": 3565291, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/WpuIu.jpg?s=128&g=1", "display_name": "regina_fallangi", "link": "https://stackoverflow.com/users/3565291/regina-fallangi"}, "edited": false, "score": 1, "creation_date": 1547137212, "post_id": 54132538, "comment_id": 95097062, "body": "You can use SVGKit for a swift project, you&#39;ll just need an umbrella file."}, {"owner": {"reputation": 251, "user_id": 6912779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yXtAc.jpg?s=128&g=1", "display_name": "RedX", "link": "https://stackoverflow.com/users/6912779/redx"}, "reply_to_user": {"reputation": 1541, "user_id": 3565291, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/WpuIu.jpg?s=128&g=1", "display_name": "regina_fallangi", "link": "https://stackoverflow.com/users/3565291/regina-fallangi"}, "edited": false, "score": 0, "creation_date": 1547138449, "post_id": 54132538, "comment_id": 95097791, "body": "Really? Okay thank youuu!"}], "answers": [{"tags": [], "owner": {"reputation": 11719, "user_id": 9801830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRQca.png?s=128&g=1", "display_name": "Bharata", "link": "https://stackoverflow.com/users/9801830/bharata"}, "is_accepted": true, "score": 2, "last_activity_date": 1547169667, "creation_date": 1547169667, "answer_id": 54139154, "question_id": 54132538, "link": "https://stackoverflow.com/questions/54132538/how-to-recognize-touch-inside-svg-object-in-swift/54139154#54139154", "title": "How to recognize touch inside SVG object in Swift?", "body": "<p>You can use SVGKit for a Swift project. You have to use an <strong>umbrella header file</strong>, it is the 'master' header file for a framework.</p>\n\n<blockquote>\n  <h2>Importing Objective-C into Swift</h2>\n  \n  <p>Access classes and other declarations from your Objective-C code in\n  Swift.</p>\n  \n  <p><strong>Overview</strong></p>\n  \n  <p>You can use Objective-C and Swift files together in a single project,\n  no matter which language the project used originally. This makes\n  creating mixed-language app and framework targets as straightforward\n  as creating an app or framework target written in a single language.</p>\n  \n  <p><a href=\"https://i.stack.imgur.com/JFhvX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFhvX.png\" alt=\"enter image description here\"></a></p>\n  \n  <p>The process for using your Objective-C declarations from your Swift\n  code within mixed-language targets differs slightly depending on\n  whether you\u2019re writing an app or a framework. Both processes are\n  described below.</p>\n  \n  <p><strong>Import Code Within an App Target</strong></p>\n  \n  <p>To import a set of Objective-C files into Swift code within the same\n  app target, you rely on an Objective-C bridging header file to expose\n  those files to Swift. Xcode offers to create this header when you add\n  a Swift file to an existing Objective-C app, or an Objective-C file to\n  an existing Swift app.</p>\n  \n  <p><a href=\"https://i.stack.imgur.com/yREEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yREEZ.png\" alt=\"enter image description here\"></a></p>\n  \n  <p>If you accept, Xcode creates the bridging header file along with the\n  file you were creating, and names it by using your product module name\n  followed by \"-Bridging-Header.h\". Alternatively, you can create a\n  bridging header yourself by choosing <code>File</code> > <code>New</code> > <code>File</code> >\n  <code>[operating system]</code> > <code>Source</code> > <code>Header File</code>.</p>\n  \n  <p>Edit the bridging header to expose your Objective-C code to your Swift\n  code:</p>\n  \n  <ul>\n  <li>In your Objective-C bridging header, import every Objective-C header you want to expose to Swift.</li>\n  <li>In Build Settings, in Swift Compiler - Code Generation, make sure the Objective-C Bridging Header build setting has a path to the\n  bridging header file. The path should be relative to your project,\n  similar to the way your <code>Info.plist</code> path is specified in Build\n  Settings. In most cases, you won't need to modify this setting.</li>\n  </ul>\n  \n  <p>Any public Objective-C headers listed in the bridging header are\n  visible to Swift. The Objective-C declarations are automatically\n  available from any Swift file within that target, with no import\n  statements. Use classes and other declarations from your custom\n  Objective-C code with the same Swift syntax you use for system\n  classes.</p>\n  \n  <p><strong>Import Code Within a Framework Target</strong></p>\n  \n  <p>To use the Objective-C declarations in files in the same framework\n  target as your Swift code, you\u2019ll need to import those files into the\n  Objective-C umbrella header\u2014the master header for your framework.\n  Import your Objective-C files by configuring the umbrella header:</p>\n  \n  <ul>\n  <li>Under Build Settings, in Packaging, make sure the Defines Module setting for the framework target is set to <code>Yes</code>.</li>\n  <li>In the umbrella header, import every Objective-C header you want to expose to Swift.</li>\n  </ul>\n  \n  <p>Swift sees every header you expose publicly in your umbrella header.\n  The contents of the Objective-C files in that framework are\n  automatically available from any Swift file within that framework\n  target, with no import statements. Use classes and other declarations\n  from your Objective-C code with the same Swift syntax you use for\n  system classes.</p>\n  \n  <p><strong><a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_objective-c_into_swift\" rel=\"nofollow noreferrer\">Source</a></strong></p>\n</blockquote>\n\n<p><strong>Additional information</strong></p>\n\n<ul>\n<li><strong><a href=\"https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/IncludingFrameworks.html\" rel=\"nofollow noreferrer\">How to include Objective-C frameworks in your Swift project</a></strong></li>\n</ul>\n"}], "owner": {"reputation": 251, "user_id": 6912779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yXtAc.jpg?s=128&g=1", "display_name": "RedX", "link": "https://stackoverflow.com/users/6912779/redx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 1, "accepted_answer_id": 54139154, "answer_count": 1, "score": 0, "last_activity_date": 1547170032, "creation_date": 1547136130, "last_edit_date": 1547170032, "question_id": 54132538, "link": "https://stackoverflow.com/questions/54132538/how-to-recognize-touch-inside-svg-object-in-swift", "title": "How to recognize touch inside SVG object in Swift?", "body": "<p>I'm currently building an app where I need to recognize a touch point inside a SVG map. So I have a <code>map</code> with multiple <code>rectangles</code> and when the user touches one of these <code>rectangles</code> an action needs to be triggered. How can I solve this?</p>\n\n<p>One option would be to mathematically calculate if the touch location lies in between a rectangle, but I am not a math genius.</p>\n\n<p>My preferred option would be to use a framework. I found the SVGKit framework but unfortunately its written in Objective C.</p>\n"}, {"tags": ["ios", "objective-c", "cocoa", "ios7"], "comments": [{"owner": {"reputation": 8116, "user_id": 909655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d8d9d24942b0fe339ecedeb2c4c5e7?s=128&d=identicon&r=PG", "display_name": "Mats", "link": "https://stackoverflow.com/users/909655/mats"}, "edited": false, "score": 1, "creation_date": 1547135221, "post_id": 54131640, "comment_id": 95095776, "body": "This seems to be the expected behaviour according to the documentation. The functions differ in how they round the returned values."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1547149632, "post_id": 54131640, "comment_id": 95103335, "body": "Note that a clearer experiment would use literal constants for the font name, font size, string being measured, etc."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 3387209, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z6owR.jpg?s=128&g=1", "display_name": "feldeOne", "link": "https://stackoverflow.com/users/3387209/feldeone"}, "edited": false, "score": 0, "creation_date": 1547191411, "post_id": 54135932, "comment_id": 95115083, "body": "Thanks danh, I thing you surely meant I got to round NSLog(@&quot;New SizeWithAttribute has value %f x %f&quot;,ceil(temp.height), ceil(temp.width));"}], "tags": [], "owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "is_accepted": true, "score": 2, "last_activity_date": 1547219840, "last_edit_date": 1547219840, "creation_date": 1547149565, "answer_id": 54135932, "question_id": 54131640, "link": "https://stackoverflow.com/questions/54131640/sizewithattributes-gets-me-a-different-cgsize-width-and-height/54135932#54135932", "title": "sizeWithAttributes gets me a different CGSize width and height", "body": "<p>The attributed text method description implies a behavior difference (boldface added by me)...</p>\n\n<blockquote>\n  <p>This method returns <strong>fractional sizes</strong>; to use a returned size to size\n  views, you must raise its value to the nearest higher integer using\n  the ceil function.</p>\n</blockquote>\n\n<p>It also states that integral sizes should be computed with <code>ceil()</code> (in other words round-up).  Doing so makes your experiment work as expected...</p>\n\n<pre><code>NSLog(@\"New SizeWithAttribute has value %f x %f\",ceil(temp.height), ceil(temp.width));\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 3387209, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/z6owR.jpg?s=128&g=1", "display_name": "feldeOne", "link": "https://stackoverflow.com/users/3387209/feldeone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 54135932, "answer_count": 1, "score": 0, "last_activity_date": 1547219840, "creation_date": 1547133140, "question_id": 54131640, "link": "https://stackoverflow.com/questions/54131640/sizewithattributes-gets-me-a-different-cgsize-width-and-height", "title": "sizeWithAttributes gets me a different CGSize width and height", "body": "<p>In iOS 7 <code>sizeWithFont:</code> is deprecated. The suggested  replacement method is <code>sizeWithAttributes:</code><br>\nBut when I change the method from <code>sizeWithFont:</code>  to <code>sizeWithAttributes:</code> <br>\nI get different Values. </p>\n\n<p>Here my Code:<br></p>\n\n<pre><code>CGSize temp = [opt.option sizeWithFont:[UIFont fontWithName:fontFamily size:[self randomFontSize]]];\nNSLog(@\"Old SizeWithFont value %f x %f\",temp.height, temp.width);\n\nNSDictionary *attributes = @{NSFontAttributeName: [UIFont fontWithName:fontFamily size:[self randomFontSize]]};\ntemp = [opt.option sizeWithAttributes: attributes];\nNSLog(@\"New SizeWithAttribute has value %f x %f\",temp.height, temp.width);\n</code></pre>\n\n<p>And the output is :</p>\n\n<pre><code>linespacing 16.33, fontsize 16.00\nOld SizeWithFont value 18.000000 x 47.000000\nNew SizeWithAttribute has value 17.875000 x 46.250000\n</code></pre>\n\n<p>Do I'm doing something wrong ? I</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1547131478, "post_id": 54131072, "comment_id": 95093405, "body": "Thanks, do you have any hint or guide that I can follow?"}, {"owner": {"reputation": 5726, "user_id": 842327, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b569f9d77f7812fed9872fdc778ce331?s=128&d=identicon&r=PG", "display_name": "Zaphod", "link": "https://stackoverflow.com/users/842327/zaphod"}, "reply_to_user": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1547131832, "post_id": 54131072, "comment_id": 95093654, "body": "@washedev I&#39;ve added an example (very simple) to show you how it can be done with this kind of solution."}, {"owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1547132083, "post_id": 54131072, "comment_id": 95093827, "body": "with this NSNotificationCenter can I still use my Notifications using pushwoosh? or is gonna overwrite it?"}, {"owner": {"reputation": 5726, "user_id": 842327, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b569f9d77f7812fed9872fdc778ce331?s=128&d=identicon&r=PG", "display_name": "Zaphod", "link": "https://stackoverflow.com/users/842327/zaphod"}, "reply_to_user": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1547132180, "post_id": 54131072, "comment_id": 95093903, "body": "I don&#39;t know pushwoosh but I don&#39;t see why there would be some interference... Hope this will work..."}, {"owner": {"reputation": 5726, "user_id": 842327, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b569f9d77f7812fed9872fdc778ce331?s=128&d=identicon&r=PG", "display_name": "Zaphod", "link": "https://stackoverflow.com/users/842327/zaphod"}, "reply_to_user": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1547132239, "post_id": 54131072, "comment_id": 95093948, "body": "You&#39;ll find all you need to know there: <a href=\"https://developer.apple.com/documentation/foundation/nsnotificationcenter\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5726, "user_id": 842327, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b569f9d77f7812fed9872fdc778ce331?s=128&d=identicon&r=PG", "display_name": "Zaphod", "link": "https://stackoverflow.com/users/842327/zaphod"}, "is_accepted": true, "score": 1, "last_activity_date": 1547131778, "last_edit_date": 1547131778, "creation_date": 1547131382, "answer_id": 54131072, "question_id": 54130996, "link": "https://stackoverflow.com/questions/54130996/reload-viewcontroller-from-appdelegate-after-opening-a-notification/54131072#54131072", "title": "Reload ViewController from AppDelegate after opening a Notification", "body": "<p>You can use the <code>NSNotificationCenter</code> to let your <code>UIViewController</code> know you have some updated data to show.</p>\n\n<p>In the <code>UIViewController</code> register to the notification center for your specific notification and then update your view.</p>\n\n<p>In the app delegate:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] \n    postNotificationName:@\"NEW_DATA_NOTIFICATION\" \n    object:nil];\n</code></pre>\n\n<p>In your <code>UIViewController</code>, in the <code>viewDidLoad</code>:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self\n    selector:@selector(receiveNewDataNotification:) \n    name:@\"NEW_DATA_NOTIFICATION\"\n    object:nil];\n</code></pre>\n\n<p>Also in your <code>UIViewController</code>:</p>\n\n<pre><code>- (void) receiveNewDataNotification:(NSNotification *) notification {\n    if ([[notification name] isEqualToString:@\"NEW_DATA_NOTIFICATION\"]) {\n        NSLog(@\"Received New Data Notification!\");\n        // Update your view here...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 54131072, "answer_count": 1, "score": 0, "last_activity_date": 1547131778, "creation_date": 1547131145, "question_id": 54130996, "link": "https://stackoverflow.com/questions/54130996/reload-viewcontroller-from-appdelegate-after-opening-a-notification", "title": "Reload ViewController from AppDelegate after opening a Notification", "body": "<p>I'm currently trying to reload my ViewController after opening a Notification from the notification center. In my AppDelegate I'm using this function:</p>\n\n<pre><code>-(void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler{\n\nif(application.applicationState == UIApplicationStateActive) {\n\n    //app is currently active, can update badges count here\n\n}else if(application.applicationState == UIApplicationStateBackground){\n\n\n}else if(application.applicationState == UIApplicationStateInactive){\n\n    //CODE\n\n    //REFRESH VIEW HERE, AFTER THE CODE ABOVE\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>How can this be done?\nThis is my first experience with Objective-C, so please don't be rude with me ihihihi.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 131, "user_id": 9229355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maanp.jpg?s=128&g=1", "display_name": "Saravana Kumar K R", "link": "https://stackoverflow.com/users/9229355/saravana-kumar-k-r"}, "edited": false, "score": 0, "creation_date": 1547125250, "post_id": 54129198, "comment_id": 95089612, "body": "You are already passing the variable as a reference to second viewcontroller. If you are changing any data in the second VC, it will be available in code, so if you need that to reflect in UI, call <code>reloadData</code> method of table view in <code>viewDidDisappear</code>"}], "answers": [{"tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": false, "score": 2, "last_activity_date": 1547125264, "creation_date": 1547125264, "answer_id": 54129283, "question_id": 54129198, "link": "https://stackoverflow.com/questions/54129198/how-to-pass-an-object-by-reference-from-one-class-to-other-class/54129283#54129283", "title": "How to pass an object by reference from one class to other class?", "body": "<p>You already did it correctly. What you are most likely missing is reloading table view when you come back.</p>\n\n<p>You can override view will appear method. Then check what is the selected row on your table view. Reload that row.</p>\n\n<pre><code>- (void)viewWillAppear:(BOOL)animated {\n    [super viewWillAppear:animated];\n\n    if(self.tableView.indexPathForSelectedRow) {\n        [self.tableView reloadRowsAtIndexPaths:@[tableView.indexPathForSelectedRow] withRowAnimation:UITableViewRowAnimationAutomatic];\n        [self.tableView deselectRowAtIndexPath:indexPath animated:YES];\n    }\n\n    // Or just reload  the whole thing\n    [self.tableView reloadData];\n}\n</code></pre>\n\n<p>But this naturally assumes you are never ever assigning to <code>station</code> property inside the <code>RecentItemDetailViewController</code>. You can call things like <code>[self.station add...]</code> but never <code>self.station = ...</code>.</p>\n"}], "owner": {"reputation": 125, "user_id": 9748894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9uNrc.jpg?s=128&g=1", "display_name": "Abid Mehmood", "link": "https://stackoverflow.com/users/9748894/abid-mehmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547125264, "creation_date": 1547124918, "question_id": 54129198, "link": "https://stackoverflow.com/questions/54129198/how-to-pass-an-object-by-reference-from-one-class-to-other-class", "title": "How to pass an object by reference from one class to other class?", "body": "<p>I an initialising a new view controller by tapping the cell of current controller. All I want to pass the object at cell to next controller by reference so that if I change the object in new controller it should change at original place.</p>\n\n<p>I have tried much to get answer about it but could not get anywhere.</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{\n    NSString * storyboardName = @\"Main\";\n    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:storyboardName bundle: nil];\n    RecentItemDetailViewController *vc = [storyboard instantiateViewControllerWithIdentifier:@\"RecentItemDetailViewController\"];\n\n    vc.station = self.stations[indexPath.row];\n    [self.navigationController pushViewController:vc animated:YES];\n}\n</code></pre>\n\n<p>All I want to get <code>self.stations[indexPath.row]</code> object in <code>vc.station</code> by reference so if I change <code>vc.station</code> then <code>self.stations[indexPath.row]</code> should also be changed.</p>\n\n<p><code>self.stations</code> and <code>vc.station</code> both are <code>NSMutableArray</code> type.</p>\n"}, {"tags": ["ios", "objective-c", "generics", "macros"], "owner": {"reputation": 159, "user_id": 2135264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mwNwp.jpg?s=128&g=1", "display_name": "NSFish", "link": "https://stackoverflow.com/users/2135264/nsfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1547110901, "creation_date": 1547110901, "question_id": 54125067, "link": "https://stackoverflow.com/questions/54125067/is-it-possible-to-add-suffix-via-c-macros-to-certain-strings", "title": "Is it possible to add suffix via C macros to certain strings?", "body": "<p>I have an Objective-C lightweight generic type declaration, say</p>\n\n<pre><code>NSArray&lt;NSNumber *&gt; *array;\n</code></pre>\n\n<p>I simplified it into</p>\n\n<pre><code>#define Array(X) NSArray&lt;X *&gt; *\nArray(NSNumber) array;\n</code></pre>\n\n<p>So far so good. But it won't work with nested arrays, like</p>\n\n<pre><code>// wrong, it'll be parsed to NSArray&lt;NSArray&lt;NSNumber *&gt; * *&gt; *\n// one extra star being added while nesting...\nArray(Array(NSNumber)) array;\n</code></pre>\n\n<h3>My question is, is it possible to determine if the macro should add a star to the end of the input parameter?</h3>\n"}, {"tags": ["ios", "objective-c", "cllocationmanager"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10893634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-73Pg2ClSt2Q/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaZ_pEO_B5BlbCPjCLuDMgV7XXMmA/mo/photo.jpg?sz=128", "display_name": "Saiprabhakar", "link": "https://stackoverflow.com/users/10893634/saiprabhakar"}, "edited": false, "score": 0, "creation_date": 1547111298, "post_id": 54124983, "comment_id": 95081727, "body": "Thank you it is working."}], "tags": [], "owner": {"reputation": 1330, "user_id": 2530570, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Gxk0D.jpg?s=128&g=1", "display_name": "Pratik Patel", "link": "https://stackoverflow.com/users/2530570/pratik-patel"}, "is_accepted": true, "score": 1, "last_activity_date": 1547110580, "creation_date": 1547110580, "answer_id": 54124983, "question_id": 54124319, "link": "https://stackoverflow.com/questions/54124319/how-to-show-direct-my-application-location-settings/54124983#54124983", "title": "How to show direct my application Location settings", "body": "<p>The method which you are trying is deprecated since iOS 8.0. You have to use <code>UIApplicationOpenSettingsURLString</code> method which directly open App Settings page. </p>\n"}], "owner": {"reputation": 1, "user_id": 10893634, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-73Pg2ClSt2Q/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaZ_pEO_B5BlbCPjCLuDMgV7XXMmA/mo/photo.jpg?sz=128", "display_name": "Saiprabhakar", "link": "https://stackoverflow.com/users/10893634/saiprabhakar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "closed_date": 1547114575, "accepted_answer_id": 54124983, "answer_count": 1, "score": 0, "last_activity_date": 1547135462, "creation_date": 1547107891, "last_edit_date": 1547135462, "question_id": 54124319, "link": "https://stackoverflow.com/questions/54124319/how-to-show-direct-my-application-location-settings", "closed_reason": "Duplicate", "title": "How to show direct my application Location settings", "body": "<p>Now I'm using this code for showing location settings. But it's a move to the settings screen. I need to show my application location settings options. And I mentioned URL in project TARGET. Please check the </p>\n\n<p>I was tried more but until I didn't get any proper result </p>\n\n<pre><code>#define SYSTEM_VERSION_LESS_THAN(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedAscending)\n\nNSString* url = SYSTEM_VERSION_LESS_THAN(@\"10.0\") ? @\"prefs:root=LOCATION_SERVICES\" : @\"App-prefs:root=Privacy&amp;path=LOCATION_SERVICES\";\n[[UIApplication sharedApplication] openURL:[NSURL URLWithString: url]];\n</code></pre>\n\n<p>I want to move to direct my application Location setting screen. But it is going to setting screen only.</p>\n\n<p>Please check this image I mentioned pref in project targect :</p>\n\n<p><a href=\"https://i.stack.imgur.com/kAHHs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kAHHs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "macos", "pdf", "cocoa", "printing"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547116371, "post_id": 54124212, "comment_id": 95084690, "body": "Do you want to print a pdf or do you want to download and save a file or do you want to print the downloaded file? Which data do you have and which step is the problem?"}, {"owner": {"reputation": 337, "user_id": 5967144, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Ag51MijVlAc/AAAAAAAAAAI/AAAAAAAAAME/Q3HP_gZ3s-A/photo.jpg?sz=128", "display_name": "soorej babu", "link": "https://stackoverflow.com/users/5967144/soorej-babu"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547116600, "post_id": 54124212, "comment_id": 95084820, "body": "I want to print a pdf"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547116815, "post_id": 54124212, "comment_id": 95084967, "body": "With which data?"}, {"owner": {"reputation": 337, "user_id": 5967144, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Ag51MijVlAc/AAAAAAAAAAI/AAAAAAAAAME/Q3HP_gZ3s-A/photo.jpg?sz=128", "display_name": "soorej babu", "link": "https://stackoverflow.com/users/5967144/soorej-babu"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547117025, "post_id": 54124212, "comment_id": 95085109, "body": "I have a url which contains a pdf file. I need to print it. Thats where I got stuck."}, {"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 1, "creation_date": 1547119012, "post_id": 54124212, "comment_id": 95086234, "body": "@soorejbabu, can you save the pdf locally or in memory? I understand the question is not really related to webview. So, if you can load the pdf   from its URL in the WebView to a NSData object or PDFDocument, then you can print it easily using coca printing api. This is an example of how to print a PDFDocument from file URL. <a href=\"http://www.danandcheryl.com/2010/05/how-to-print-a-pdf-file-using-cocoa\" rel=\"nofollow noreferrer\">danandcheryl.com/2010/05/how-to-print-a-pdf-file-using-cocoa</a> Let me know!"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547122398, "post_id": 54124212, "comment_id": 95088077, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/4881635/printing-without-an-nsview\">Printing without an NSView</a>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547122476, "post_id": 54124212, "comment_id": 95088119, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/29750605/cocoa-osx-print-pdf-document\">cocoa osx print pdf document</a>"}, {"owner": {"reputation": 337, "user_id": 5967144, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Ag51MijVlAc/AAAAAAAAAAI/AAAAAAAAAME/Q3HP_gZ3s-A/photo.jpg?sz=128", "display_name": "soorej babu", "link": "https://stackoverflow.com/users/5967144/soorej-babu"}, "reply_to_user": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 0, "creation_date": 1547465093, "post_id": 54124212, "comment_id": 95189392, "body": "@HichemBOUSSETTA I gone through the link and it worked. But it need to modify as there will be exception appear if we print it or cancel it. So slightly modified the code. Anyway it helped me a lot."}, {"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 0, "creation_date": 1547470106, "post_id": 54124212, "comment_id": 95191871, "body": "@soorejbabu that&#39;s great!"}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 5967144, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Ag51MijVlAc/AAAAAAAAAAI/AAAAAAAAAME/Q3HP_gZ3s-A/photo.jpg?sz=128", "display_name": "soorej babu", "link": "https://stackoverflow.com/users/5967144/soorej-babu"}, "edited": false, "score": 0, "creation_date": 1547115949, "post_id": 54126444, "comment_id": 95084424, "body": "Oh no... This question is not about iOS/CocoaTouch. Its about macOS/Cocoa. At least look those tags please"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1547116040, "post_id": 54126444, "comment_id": 95084492, "body": "And it&#39;s about rendering the entire WebView."}, {"owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "edited": false, "score": 1, "creation_date": 1547116049, "post_id": 54126444, "comment_id": 95084499, "body": "After a small search I can see that iOS Print Rendering api does not exist on Mac, so the solution is not so obvious :/  You can take a look at this thread. It is related to the same subject and can give you more insight and sample code to generate the PDF on MAC.  [<a href=\"https://stackoverflow.com/questions/38947782/how-to-create-a-pdf-in-swift-with-cocoa-mac]\" title=\"how to create a pdf in swift with cocoa mac%5d\">stackoverflow.com/questions/38947782/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1619, "user_id": 1345973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38daf23b56f0d3161862889a83ec2a88?s=128&d=identicon&r=PG", "display_name": "Hichem BOUSSETTA", "link": "https://stackoverflow.com/users/1345973/hichem-boussetta"}, "is_accepted": false, "score": 0, "last_activity_date": 1547115508, "creation_date": 1547115508, "answer_id": 54126444, "question_id": 54124212, "link": "https://stackoverflow.com/questions/54124212/print-pdf-from-webview-which-has-url-objective-c-macos/54126444#54126444", "title": "Print PDF from WebView which has URL. Objective C macOS", "body": "<p>did you try this? It explains how to render PDF document from a UIWebView on iOS. If it works on iOS, my first guess would we that it should on macos.</p>\n\n<p>Good luck!\nHichem</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15813005/creating-pdf-file-from-uiwebview\">Creating PDF file from UIWebView</a></p>\n"}], "owner": {"reputation": 337, "user_id": 5967144, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Ag51MijVlAc/AAAAAAAAAAI/AAAAAAAAAME/Q3HP_gZ3s-A/photo.jpg?sz=128", "display_name": "soorej babu", "link": "https://stackoverflow.com/users/5967144/soorej-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1547465901, "creation_date": 1547107452, "last_edit_date": 1547465901, "question_id": 54124212, "link": "https://stackoverflow.com/questions/54124212/print-pdf-from-webview-which-has-url-objective-c-macos", "title": "Print PDF from WebView which has URL. Objective C macOS", "body": "<p>I want to print a <code>PDF</code> file from <code>WebView</code> as there is a print button in WebView and when I click it, I'll get the <code>URL of PDF</code> and its <code>content type</code> as <code>application/pdf</code>. I searched so much and exhausted for <code>how to print a PDF file in Objective C - cocoa</code>. All I saw is to <code>print</code> content from <code>a view</code> and it'll print all the WebView</p>\n\n<p><code>[NSPrintOperation printOperationWithView:webView]</code></p>\n\n<p><strong>But I need to print the PDF I got, not the entire WebView</strong></p>\n\n<p>Please help me...</p>\n\n<p><strong>NB Swift coders: Please don't put your code here. I don't know swift</strong></p>\n\n<p>Edit 1: <strong>No iOS codes please. Its about macOS</strong></p>\n\n<p>Edit 2: From the screenshot, when I click print, I get that PDF in the PDF viewer in the WebView. I need to print it directly. Thats my scenario.</p>\n\n<p><a href=\"https://i.stack.imgur.com/h9Jw2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h9Jw2.png\" alt=\"Printing PDF that we get from web\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "drag-and-drop"], "comments": [{"owner": {"reputation": 3797, "user_id": 4608906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7xNaG.jpg?s=128&g=1", "display_name": "AtulParmar", "link": "https://stackoverflow.com/users/4608906/atulparmar"}, "edited": false, "score": 0, "creation_date": 1547106735, "post_id": 54124018, "comment_id": 95079539, "body": "can you get cell start dragging method?"}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1547164806, "post_id": 54124018, "comment_id": 95108724, "body": "nah. if u want custom behaviour of ios object, then u need customize it"}], "answers": [{"tags": [], "owner": {"reputation": 1613, "user_id": 2491115, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5158e7c46e70e8b83fb2da8c13b22c4e?s=128&d=identicon&r=PG", "display_name": "ThorbenA", "link": "https://stackoverflow.com/users/2491115/thorbena"}, "is_accepted": false, "score": 2, "last_activity_date": 1580400249, "creation_date": 1580400249, "answer_id": 59989998, "question_id": 54124018, "link": "https://stackoverflow.com/questions/54124018/uicollectionview-drag-and-drop-remove-translucent-cell/59989998#59989998", "title": "UICollectionView drag and drop remove translucent cell", "body": "<p>You can customize your cell during the drag/drop lifecycle by overriding <code>dragStateDidChange(_ dragState: UICollectionViewCell.DragState)</code></p>\n\n<pre><code>class MyCell: UICollectionViewCell {\n\n    //...\n    override func dragStateDidChange(_ dragState: UICollectionViewCell.DragState) {\n\n        switch dragState {\n        case .none:\n            self.layer.opacity = 1\n        case .lifting:\n            return\n        case .dragging:\n            self.layer.opacity = 0\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2018, "user_id": 516765, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/31a66f42c20e7e9722ef28746f4685e3?s=128&d=identicon&r=PG", "display_name": "bruno", "link": "https://stackoverflow.com/users/516765/bruno"}, "is_accepted": false, "score": 0, "last_activity_date": 1600791397, "creation_date": 1600791397, "answer_id": 64013731, "question_id": 54124018, "link": "https://stackoverflow.com/questions/54124018/uicollectionview-drag-and-drop-remove-translucent-cell/64013731#64013731", "title": "UICollectionView drag and drop remove translucent cell", "body": "<p>On your cell class override this method:</p>\n<pre><code>override func dragStateDidChange(_ dragState: UICollectionViewCell.DragState) {\n\n    switch dragState {\n    case .none:\n\n        self.layer.opacity = 1\n\n    case .lifting:\n\n        return\n\n    case .dragging:\n\n        self.layer.opacity = 0\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 5597821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13053912281ea2b00b558e0baf38679a?s=128&d=identicon&r=PG&f=1", "display_name": "nemissm", "link": "https://stackoverflow.com/users/5597821/nemissm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1600791397, "creation_date": 1547106538, "last_edit_date": 1547136125, "question_id": 54124018, "link": "https://stackoverflow.com/questions/54124018/uicollectionview-drag-and-drop-remove-translucent-cell", "title": "UICollectionView drag and drop remove translucent cell", "body": "<p>I'm using iOS 11 drag and drop API for reordering and want to remove translucent cell which appears on start dragging. Is it possible? For dragging I use only required method of UICollectionViewDragDelegate:</p>\n\n<pre><code>- (nonnull NSArray&lt;UIDragItem *&gt; *)collectionView:(nonnull UICollectionView *)collectionView\n                     itemsForBeginningDragSession:(nonnull id&lt;UIDragSession&gt;)session\n                                      atIndexPath:(nonnull NSIndexPath *)indexPath {\n    NSItemProvider *itemProvider = [NSItemProvider new];\n    UIDragItem *dragItem = [[UIDragItem alloc] initWithItemProvider:itemProvider];\n\n    return @[dragItem];\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1Jv55.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Jv55.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "uibezierpath", "cashapelayer", "cagradientlayer"], "comments": [{"owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1547105883, "post_id": 54123727, "comment_id": 95079156, "body": "What kind of UI you would like achieve ? Please share some screenshot for that."}, {"owner": {"reputation": 19, "user_id": 10893821, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6xEtoCowOss/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYdslwKV0KnPPH5uPxMbBJnET-2Gg/mo/photo.jpg?sz=128", "display_name": "Fahad Iqbal", "link": "https://stackoverflow.com/users/10893821/fahad-iqbal"}, "reply_to_user": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1547108701, "post_id": 54123727, "comment_id": 95080399, "body": "screen shot added @Sateesh"}], "owner": {"reputation": 19, "user_id": 10893821, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6xEtoCowOss/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYdslwKV0KnPPH5uPxMbBJnET-2Gg/mo/photo.jpg?sz=128", "display_name": "Fahad Iqbal", "link": "https://stackoverflow.com/users/10893821/fahad-iqbal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547136173, "creation_date": 1547105222, "last_edit_date": 1547136173, "question_id": 54123727, "link": "https://stackoverflow.com/questions/54123727/add-gradient-color-on-every-ca-shapelayer", "title": "Add gradient color on every ca shapelayer", "body": "<p><a href=\"https://i.stack.imgur.com/9cbbA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9cbbA.png\" alt=\"I have attached image these are shapes with different color just want to make every shape in circle gradient\"></a>I am trying to add gradient on ca shape layer its only giving gradient effect on current view frame if i am using it by adding masklayer it is not effecting on every layer seperately</p>\n\n<p>here is my code:</p>\n\n<pre><code> CAShapeLayer *gradientMask = [CAShapeLayer layer];\n    gradientMask.fillColor = [[UIColor clearColor] CGColor];\n    gradientMask.strokeColor = [[UIColor blackColor] CGColor];\n    gradientMask.lineWidth = _borderStrokeWidth;\n    gradientMask.frame = CGRectMake(0, 0, self.bounds.size.width, self.bounds.size.height);\n\n    gradientMask.path = maskLayer.path;\n\n\n    CAGradientLayer *gradientLayer = [CAGradientLayer layer];\n    gradientLayer.locations = [NSArray arrayWithObjects:\n                               [NSNumber numberWithFloat:0.8f],\n                               [NSNumber numberWithFloat:1.0f],\n                               nil];\n    gradientLayer.startPoint = CGPointMake(0.5,1.0);\n    gradientLayer.endPoint = CGPointMake(1.0,0.5);\n    gradientLayer.frame = CGRectMake(0, 0, self.bounds.size.width, self.bounds.size.height);\n     NSArray *colors = [NSArray arrayWithObjects:(id)[UIColor redColor].CGColor, (id)[UIColor greenColor].CGColor,(id)[UIColor blueColor].CGColor,(id)[UIColor yellowColor].CGColor, nil];\n    gradientLayer.colors = colors;\n\n    [gradientLayer setMask:gradientMask];\n   // [gradientLayer setMask:shapeLayer];\n    [self.layer addSublayer:gradientLayer];\n</code></pre>\n\n<p>kindly give suggestions</p>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 8968328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb44848b4d11ae372b892dcf8b8901c?s=128&d=identicon&r=PG&f=1", "display_name": "kenryuakuma", "link": "https://stackoverflow.com/users/8968328/kenryuakuma"}, "edited": false, "score": 0, "creation_date": 1547138078, "post_id": 54125289, "comment_id": 95097583, "body": "So you meant when the [super init] is called, the hidden parameter of self that belongs to or of the current class is passed along with it? Otherwise, I cannot see how the superclass could return an object of the subclass. Because like any other languages, the superclass does not know anything about the subclass."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "reply_to_user": {"reputation": 55, "user_id": 8968328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb44848b4d11ae372b892dcf8b8901c?s=128&d=identicon&r=PG&f=1", "display_name": "kenryuakuma", "link": "https://stackoverflow.com/users/8968328/kenryuakuma"}, "edited": false, "score": 0, "creation_date": 1547178454, "post_id": 54125289, "comment_id": 95111626, "body": "Yes, all instance methods receive a hidden self parameter when called. Instance methods are declared with an initial \u2018-\u2018, contrary to class methods (like alloc) that start with \u2018+\u2019."}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": false, "score": 2, "last_activity_date": 1547111696, "creation_date": 1547111696, "answer_id": 54125289, "question_id": 54122857, "link": "https://stackoverflow.com/questions/54122857/return-object-of-super-init/54125289#54125289", "title": "Return object of [super Init]", "body": "<p><code>self = [super init]</code>\nwill return the object from the superclass. However, note that the object itself has likely been allocated using <code>alloc</code> on your current class. </p>\n\n<p>Consider the following:</p>\n\n<pre><code>@interface A : NSObject\n- (instancetype)init;\n@end\n\n@interface B : A\n- (instancetype)init;\n@end\n\n@implementation B\n- (instancetype)init {\n    self = [super init];\n    if (self) {\n        // Do initialization for B\n    }\n    return self;\n}\n@end\n</code></pre>\n\n<p>When you create a new object of a class <code>B</code> you do as follows:</p>\n\n<pre><code>B *obj = [[B alloc] init];\n</code></pre>\n\n<p>In turn the following happens:</p>\n\n<ul>\n<li><code>[B alloc]</code>allocates the object with enough space to hold all of <code>B</code>.</li>\n<li>Calls <code>init</code> on the newly created object of class <code>B</code>.</li>\n<li>Then <code>init</code> on class <code>A</code> is called from <code>B</code>'s init method</li>\n<li><code>init</code> on class <code>A</code> will*  return the object allocated with <code>B</code>'s <code>alloc</code>.</li>\n</ul>\n\n<p>*) Note that the <code>init</code> method may return <em>another</em> object than the allocated one. This is allowed, and is a reason why you usually should assign the result to <code>self</code>.</p>\n\n<p><a href=\"https://www.cocoawithlove.com/2009/04/what-does-it-mean-when-you-assign-super.html\" rel=\"nofollow noreferrer\">Read more - What does it mean when you assign [super init] to self?</a></p>\n"}], "owner": {"reputation": 55, "user_id": 8968328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb44848b4d11ae372b892dcf8b8901c?s=128&d=identicon&r=PG&f=1", "display_name": "kenryuakuma", "link": "https://stackoverflow.com/users/8968328/kenryuakuma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1547120051, "creation_date": 1547100887, "question_id": 54122857, "link": "https://stackoverflow.com/questions/54122857/return-object-of-super-init", "title": "Return object of [super Init]", "body": "<p>Well...I have read and have done a lot of research on the expression of [super init] in class inheritance of objective-c. Even some of the questions have been well explained and answered on stackoverflow. However, I still don't really understand how inheritance or the [super init] works. </p>\n\n<p>In other languages, the superclass knows nothing about the subclass. There is no way for the superclass to return an object of the subclass because the superclass has no knowledge of the subclass. So my question is if expression self = [super init] return the object of the <strong>SUPERCLASS</strong> or <strong>SUBCLASS</strong>. Here I do know that the [super init] could return another object or nil, which makes sense. But assuming everything works fine and neither is it nil nor return another object. If it returns a regular object, does it return the object of the superclass or derived class, which is the class in which this <strong>self = [super init]</strong> is defined. If it returns an object of the super class, then it makes sense but then since as we know, the object of the superclass knows nothing about the subclass, how can it access the members (fields, messages or methods) of the subclass. If it returns an object of the subclass, then it does not make sense, since there is no way that the superclass can return an object of the derived class because the superclass knows nothing of it.</p>\n\n<p>This is one of the aspects that is really confusing for those who transition from other languages to objective-C.</p>\n"}, {"tags": ["ios", "objective-c", "uibutton"], "comments": [{"owner": {"reputation": 438, "user_id": 8810022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bb06b61170efbb219c92e2636f812e?s=128&d=identicon&r=PG&f=1", "display_name": "Harjot Singh", "link": "https://stackoverflow.com/users/8810022/harjot-singh"}, "edited": false, "score": 0, "creation_date": 1547099279, "post_id": 54122509, "comment_id": 95076957, "body": "did u check that button is connected to outlet properly?"}, {"owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "reply_to_user": {"reputation": 438, "user_id": 8810022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bb06b61170efbb219c92e2636f812e?s=128&d=identicon&r=PG&f=1", "display_name": "Harjot Singh", "link": "https://stackoverflow.com/users/8810022/harjot-singh"}, "edited": false, "score": 0, "creation_date": 1547099575, "post_id": 54122509, "comment_id": 95077030, "body": "yeah, I had mentioned above that , I am able to hide it inside viewDidLoad Method."}, {"owner": {"reputation": 793, "user_id": 7820107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Uhgd.jpg?s=128&g=1", "display_name": "hardik parmar", "link": "https://stackoverflow.com/users/7820107/hardik-parmar"}, "edited": false, "score": 0, "creation_date": 1547099655, "post_id": 54122509, "comment_id": 95077051, "body": "can you check in the response that <code>cancelPlanButtonOutlet</code> is not <code>nil</code>?"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 3, "creation_date": 1547100227, "post_id": 54122509, "comment_id": 95077197, "body": "UI operation should always perform in Main Queue !!"}, {"owner": {"reputation": 1799, "user_id": 3264650, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/52fde0ebb318a1b90406c23c70115189?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/3264650/shruti"}, "edited": false, "score": 0, "creation_date": 1547101274, "post_id": 54122509, "comment_id": 95077504, "body": "Where are you making this service call? Are you sure your view is loaded before this service call?"}, {"owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "reply_to_user": {"reputation": 1799, "user_id": 3264650, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/52fde0ebb318a1b90406c23c70115189?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/3264650/shruti"}, "edited": false, "score": 0, "creation_date": 1547103450, "post_id": 54122509, "comment_id": 95078200, "body": "@Shruti yup, I am making call to web service in ViewDidLoad"}, {"owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1547103695, "post_id": 54122509, "comment_id": 95078299, "body": "@PrashantTukadiya yeah I know, I had tried it, still not useful"}, {"owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "reply_to_user": {"reputation": 793, "user_id": 7820107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Uhgd.jpg?s=128&g=1", "display_name": "hardik parmar", "link": "https://stackoverflow.com/users/7820107/hardik-parmar"}, "edited": false, "score": 0, "creation_date": 1547103978, "post_id": 54122509, "comment_id": 95078383, "body": "@hardikparmar its not nil , it is showing me reference"}, {"owner": {"reputation": 793, "user_id": 7820107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Uhgd.jpg?s=128&g=1", "display_name": "hardik parmar", "link": "https://stackoverflow.com/users/7820107/hardik-parmar"}, "edited": false, "score": 0, "creation_date": 1547104497, "post_id": 54122509, "comment_id": 95078589, "body": "Have you checked the <code>strContain</code>? Is it <code>&quot;OK you can buy it&quot;</code>?"}, {"owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "reply_to_user": {"reputation": 793, "user_id": 7820107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Uhgd.jpg?s=128&g=1", "display_name": "hardik parmar", "link": "https://stackoverflow.com/users/7820107/hardik-parmar"}, "edited": false, "score": 0, "creation_date": 1547105063, "post_id": 54122509, "comment_id": 95078793, "body": "@hardikparmar yeah."}, {"owner": {"reputation": 1799, "user_id": 3264650, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/52fde0ebb318a1b90406c23c70115189?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/3264650/shruti"}, "edited": false, "score": 0, "creation_date": 1547105485, "post_id": 54122509, "comment_id": 95078975, "body": "Try to put layoutifNeeded below that and update your view"}, {"owner": {"reputation": 793, "user_id": 7820107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Uhgd.jpg?s=128&g=1", "display_name": "hardik parmar", "link": "https://stackoverflow.com/users/7820107/hardik-parmar"}, "edited": false, "score": 0, "creation_date": 1547105639, "post_id": 54122509, "comment_id": 95079038, "body": "Are you changing the visibility of this button anywhere else in your code? If yes, where does that code being called?"}, {"owner": {"reputation": 315, "user_id": 7226416, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8f2aec63b9a95e18e3c8e0f51e06926?s=128&d=identicon&r=PG&f=1", "display_name": "JackyW", "link": "https://stackoverflow.com/users/7226416/jackyw"}, "edited": false, "score": 0, "creation_date": 1547106133, "post_id": 54122509, "comment_id": 95079268, "body": "Can you put a breakpoint after the line &quot;self.cancelPlanButtonOutlet.hidden = YES;&quot;, then at the log, type &quot;po self.cancelPlanButtonOutlet.hidden&quot; to see if it has been hidden or not. If hidden is yes, and the end result you see is not hidden, it could be somewhere in the code setting it to unhide"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1547106248, "post_id": 54122509, "comment_id": 95079323, "body": "I observe that you have use <code>self-&gt;dataArray</code> and then you can try <b>self-&gt;cancelPlanButtonOutlet</b>"}], "owner": {"reputation": 1, "user_id": 10369928, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PIBVaNJ4YL8/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOpmJUfTXUl2pbMl4ZOSBUWQEneRg/mo/photo.jpg?sz=128", "display_name": "Gurpal Rajput", "link": "https://stackoverflow.com/users/10369928/gurpal-rajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557634663, "creation_date": 1547098753, "last_edit_date": 1557634663, "question_id": 54122509, "link": "https://stackoverflow.com/questions/54122509/how-to-hide-a-button-outlet-inside-web-service-response", "title": "How to Hide a button outlet inside web service response?", "body": "<p>I am trying to hide a button outlet inside a web service response, but it is not hiding.</p>\n\n<p>Note: This controller is a child view controller of a container view.</p>\n\n<p>I had tried to hide the button outlet, and its working, but when I tried to hide it inside web service response it is not hiding.\nEven I had also tried to hide it inside main thread.\nBut still no success.</p>\n\n<p>Note: I am trying to hide cancel plan outlet here.</p>\n\n<pre><code>  [Session getLink:mainStr getPar:prStr getBlock:^(NSData *data, NSError *error) {\n\n        if (data!= nil) {\n\n            self-&gt;dataArray =  [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:nil];\n\n            NSString *strContain = [NSString stringWithFormat:@\"%@\",self-&gt;dataArray];\n\n            if ([strContain isEqualToString:@\"OK you can buy it\"])  {\n\n                self.cancelPlanButtonOutlet.hidden = YES;\n\n            }else if([strContain isEqualToString:@\"You have already purchased this plan.\"])\n            {\n                NSLog(@\"_______Your Plan is in active state!_____________\");\n\n              //  [self.buyPlanButtonOutlet setSelected:YES];\n\n\n            }\n\n        }\n</code></pre>\n\n<p>I am getting a response and it goes inside \"OK you can buy it\", but the button is not hiding on completion of this.</p>\n"}]