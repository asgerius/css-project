[{"tags": ["ios", "objective-c", "iphone", "xcode"], "owner": {"reputation": 2429, "user_id": 754328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ivVYg.png?s=128&g=1", "display_name": "Vlad Polyanskiy", "link": "https://stackoverflow.com/users/754328/vlad-polyanskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1576136689, "creation_date": 1576072584, "last_edit_date": 1576134544, "question_id": 59287372, "link": "https://stackoverflow.com/questions/59287372/how-to-implement-upside-down-support-for-iphone-x-xs-11", "title": "How to implement upside down support for iPhone X, XS, 11?", "body": "<p>Known fact that there is not native upside-down support on newest iPhones like iPhone X, XS, 11, and at the bigger versions. But I've seen some apps support this mode and autorotate on orientation changed even on these models. It seems not difficult to make an affine transform and rotate the interface by 180 degrees. But how to detect that iPhone has changed orientation without a notification? Only accelerometer and some inhouse code? Are there any frameworks or may be native solutions to detect updisde-down mode rotation?</p>\n"}, {"tags": ["ios", "objective-c", "wifi", "rssi"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 1, "creation_date": 1576075446, "post_id": 59286004, "comment_id": 104781583, "body": "To get that information, your app needs a special entitlement from Apple. Start your research here: <a href=\"https://developer.apple.com/documentation/networkextension\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/networkextension</a>"}], "owner": {"reputation": 111, "user_id": 6148966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f28d5eade1d6447ca3a5c3c2605552c2?s=128&d=identicon&r=PG&f=1", "display_name": "RiccardoB", "link": "https://stackoverflow.com/users/6148966/riccardob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576067842, "creation_date": 1576067842, "question_id": 59286004, "link": "https://stackoverflow.com/questions/59286004/how-to-read-the-wifi-rssi-signal-strength-on-ios-using-objective-c", "title": "How to read the WiFi RSSI (signal strength) on iOS using Objective-C", "body": "<p>I need to read every 5 seconds the WiFi signal strength on an iPod, (the app is private, no store). What can I do in order to achieve such task? I am not finding any documentation about that. Is it even possible?</p>\n"}, {"tags": ["objective-c", "xcode", "cocoapods"], "owner": {"reputation": 375, "user_id": 9287751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e6ce6d79ce7d862841a06f6fed57575?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom Vlasenko", "link": "https://stackoverflow.com/users/9287751/artyom-vlasenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1576056290, "creation_date": 1576056290, "question_id": 59282466, "link": "https://stackoverflow.com/questions/59282466/duplicate-interface-definition-for-class-iglistsectioncontroller", "title": "Duplicate interface definition for class &#39;IGListSectionController&#39;", "body": "<p>I had this problem, when i installed IGListSectionController via Cocoapods in old objective-c project. Has anyone encountered this problem?</p>\n\n<pre><code>Duplicate interface definition for class 'IGListSectionController'\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "appdelegate", "data-protection"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1576067264, "post_id": 59282237, "comment_id": 104776877, "body": "Are you calling the method on the main thread?"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1576071515, "post_id": 59282237, "comment_id": 104779274, "body": "yes on the main thread as I am calling from app delegate callbacks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12688502"}, "edited": false, "score": 0, "creation_date": 1579584786, "post_id": 59282237, "comment_id": 105804798, "body": "I think you have to wait for some time, may be 10 seconds of grace period time after the screen is locked before the protected data is locked. You can the device console log from Xcode &gt; Window &gt; Devices"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1579590277, "post_id": 59282237, "comment_id": 105806495, "body": "@Niraj the grace period is supposed to be handled by OS itself. Because the callback would be fired after grace period of device locked unlocked event. Should I also wait after callback fired?"}, {"owner": {"reputation": 382, "user_id": 6439127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Rx80AkG5x70/AAAAAAAAAAI/AAAAAAAADgk/xAvBnffL8JQ/photo.jpg?sz=128", "display_name": "antonio yaphiar", "link": "https://stackoverflow.com/users/6439127/antonio-yaphiar"}, "edited": false, "score": 0, "creation_date": 1579598490, "post_id": 59282237, "comment_id": 105810089, "body": "do you test this feature on real device?"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 382, "user_id": 6439127, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Rx80AkG5x70/AAAAAAAAAAI/AAAAAAAADgk/xAvBnffL8JQ/photo.jpg?sz=128", "display_name": "antonio yaphiar", "link": "https://stackoverflow.com/users/6439127/antonio-yaphiar"}, "edited": false, "score": 0, "creation_date": 1579602627, "post_id": 59282237, "comment_id": 105812437, "body": "Yess all the problems I mentioned here were tested with real device. @antonio"}, {"owner": {"reputation": 755, "user_id": 928104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4740b089110ce28999164a248774609d?s=128&d=identicon&r=PG", "display_name": "Vladlex", "link": "https://stackoverflow.com/users/928104/vladlex"}, "edited": false, "score": 0, "creation_date": 1594630940, "post_id": 59282237, "comment_id": 111181760, "body": "Looks like an Apple&#39;s bug. Did you report the bug?"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 807, "favorite_count": 3, "answer_count": 0, "score": 10, "last_activity_date": 1579274184, "creation_date": 1576055542, "last_edit_date": 1579274184, "question_id": 59282237, "link": "https://stackoverflow.com/questions/59282237/isprotecteddataavailable-is-returning-true-always-in-ios", "title": "isProtectedDataAvailable is returning true always in iOS", "body": "<h1>Problem</h1>\n\n<p><code>isProtectedDataAvailable</code> is true but <code>applicationProtectedDataDidBecomeAvailable</code> is getting called after 10~20 seconds in iOS which means <code>isProtectedDataAvailable</code> was supposed to be false before that callback is called.</p>\n\n<hr>\n\n<p>I am working on <code>iOS</code> app built in <code>Objective C</code>. I have enabled <a href=\"https://developer.apple.com/documentation/foundation/nsfileprotectiontype?language=objc\" rel=\"noreferrer\">data protection</a> (currently configured for  <a href=\"https://developer.apple.com/documentation/foundation/nsfileprotectioncompleteuntilfirstuserauthentication?language=objc\" rel=\"noreferrer\">FirstUserAuthentication</a>) for my app from AppStore profiles as well as from xcode plist .</p>\n\n<p>Our database is becoming inaccessible for few seconds after device reboot and first unlock due to Apple's <a href=\"https://www.apple.com/business/docs/site/iOS_Security_Guide.pdf\" rel=\"noreferrer\">Data Protection</a> policy. So I am restricting any database operations with below logic when app getting launched.</p>\n\n<pre><code>if([[UIApplication sharedApplication] isProtectedDataAvailable]) {\n    //access data\n}else {\n    // wait for applicationProtectedDataDidBecomeAvailable callback\n}\n</code></pre>\n\n<p>I found some unexpected behavior. Even though <code>[[UIApplication sharedApplication] isProtectedDataAvailable]</code> is returning <strong>true</strong>, after <code>10~20</code> seconds (<a href=\"https://stackoverflow.com/a/7515941/1084174\">grace period</a>) <code>applicationProtectedDataDidBecomeAvailable</code> callback is called as part of this from my above code logic, the database is accessed and failed due to actually still being protected by OS. </p>\n\n<p>Is there anything I am missing? Why does <code>iOS</code> returning <code>[[UIApplication sharedApplication] isProtectedDataAvailable]</code> value as true when actually protected data are not yet available?</p>\n\n<p>I am working on, Xcode 11.0, tested device OS 13.2.</p>\n\n<h3>Update</h3>\n\n<p>For some cases in log I found the <code>[[UIApplication sharedApplication] isProtectedDataAvailable]</code> is returning 1 but NSUserDefault still inaccessible. What can be possible reason?</p>\n\n<hr>\n\n<p><sup>\n<strong>isProtectedDataAvailable</strong> - The value of this property is false if data protection is enabled and the device is currently locked. The value of this property is set to true if the device is unlocked or if content protection is not enabled. When the value of this property is false, files that were assigned the complete or completeUnlessOpen protection key cannot be read or written by your app. The user must unlock the device before your app can access them.\n</sup>\n<sup>\n<strong>NSFileProtectionCompleteUntilFirstUserAuthentication</strong> - After the user unlocks the device for the first time, your app can access the file and continue to access it even if the user subsequently locks the device.\n</sup></p>\n"}, {"tags": ["objective-c", "macos", "calayer"], "answers": [{"comments": [{"owner": {"reputation": 4485, "user_id": 1015258, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/oTTVU.png?s=128&g=1", "display_name": "koen", "link": "https://stackoverflow.com/users/1015258/koen"}, "edited": false, "score": 0, "creation_date": 1577901440, "post_id": 59373114, "comment_id": 105278166, "body": "Question is tagged <code>macOS</code>, and there is no <code>NSBezierPath.cgPath</code> equivalent."}, {"owner": {"reputation": 1358, "user_id": 1482099, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cc52381d1f1646951df03bc9839683ce?s=128&d=identicon&r=PG&f=1", "display_name": "RED.Skull", "link": "https://stackoverflow.com/users/1482099/red-skull"}, "edited": false, "score": 0, "creation_date": 1602647509, "post_id": 59373114, "comment_id": 113783732, "body": "@Asperi Love you bro. :-) U saved my time. thank you"}], "tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": false, "score": 2, "last_activity_date": 1577903349, "last_edit_date": 1577903349, "creation_date": 1576581414, "answer_id": 59373114, "question_id": 59281719, "link": "https://stackoverflow.com/questions/59281719/how-to-show-only-corners-of-calayer-rectangle-in-macos-objective-c/59373114#59373114", "title": "How to show only corners of CALayer rectangle in macOS Objective-c?", "body": "<p><strong>Update:</strong> mistakenly did not notice required macOS, so added macOS variant. Also kept iOS variant, just in case.</p>\n\n<p><strong>macOS variant:</strong> (NSBezierPath to CGPathRef from <a href=\"https://stackoverflow.com/a/18776284/12299030\">here</a>)</p>\n\n<p><img src=\"https://i.stack.imgur.com/TMNxt.png\" alt=\"CAShapeLayer with frame macOS version\"></p>\n\n<pre><code>#import \"ViewController.h\"\n#import &lt;QuartzCore/QuartzCore.h&gt;\n\n@interface NSBezierPath (BezierPathQuartzUtilities)\n- (CGPathRef)cgPath;\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.view.wantsLayer = YES;\n\n    CALayer *root = self.view.layer;\n    root.backgroundColor = NSColor.blueColor.CGColor;\n\n    CALayer *frameLayer = [self createFrameLayerWithSize:CGSizeMake(200, 200)];\n    [root addSublayer:frameLayer];\n    frameLayer.position = CGPointMake(CGRectGetMidX(root.bounds), CGRectGetMidY(root.bounds));\n}\n\n- (CALayer *)createFrameLayerWithSize:(CGSize)size {\n    CAShapeLayer *layer = CAShapeLayer.new;\n    layer.bounds = CGRectMake(0, 0, size.width, size.height);\n\n    CGFloat kPiece = 40.0; // &lt;&lt; can be configured\n    NSBezierPath *path = NSBezierPath.new;\n    [path moveToPoint:CGPointMake(0, kPiece)];\n    [path lineToPoint:CGPointMake(0, 0)];\n    [path lineToPoint:CGPointMake(kPiece, 0)];\n    [path moveToPoint:CGPointMake(size.width - kPiece, 0)];\n    [path lineToPoint:CGPointMake(size.width, 0)];\n    [path lineToPoint:CGPointMake(size.width, kPiece)];\n    [path moveToPoint:CGPointMake(size.width, size.height - kPiece)];\n    [path lineToPoint:CGPointMake(size.width, size.height)];\n    [path lineToPoint:CGPointMake(size.width - kPiece, size.height)];\n    [path moveToPoint:CGPointMake(kPiece, size.height)];\n    [path lineToPoint:CGPointMake(0, size.height)];\n    [path lineToPoint:CGPointMake(0, size.height - kPiece)];\n\n    layer.path = [path cgPath];\n    layer.strokeColor = NSColor.whiteColor.CGColor; // &lt;&lt; can be configured\n    layer.fillColor = NSColor.clearColor.CGColor; // !! required for transparency\n    layer.lineWidth = 8.0; // &lt;&lt; can be configured\n    return layer;\n}\n\n@end\n\n@implementation NSBezierPath (BezierPathQuartzUtilities)\n- (CGPathRef)cgPath\n{\n    NSInteger i, numElements;\n\n    // Need to begin a path here.\n    CGPathRef           immutablePath = NULL;\n\n    // Then draw the path elements.\n    numElements = [self elementCount];\n    if (numElements &gt; 0)\n    {\n        CGMutablePathRef    path = CGPathCreateMutable();\n        NSPoint             points[3];\n        BOOL                didClosePath = YES;\n\n        for (i = 0; i &lt; numElements; i++)\n        {\n            switch ([self elementAtIndex:i associatedPoints:points])\n            {\n                case NSMoveToBezierPathElement:\n                    CGPathMoveToPoint(path, NULL, points[0].x, points[0].y);\n                    break;\n\n                case NSLineToBezierPathElement:\n                    CGPathAddLineToPoint(path, NULL, points[0].x, points[0].y);\n                    didClosePath = NO;\n                    break;\n\n                case NSCurveToBezierPathElement:\n                    CGPathAddCurveToPoint(path, NULL, points[0].x, points[0].y,\n                                        points[1].x, points[1].y,\n                                        points[2].x, points[2].y);\n                    didClosePath = NO;\n                    break;\n\n                case NSClosePathBezierPathElement:\n                    CGPathCloseSubpath(path);\n                    didClosePath = YES;\n                    break;\n            }\n        }\n\n        immutablePath = CGPathCreateCopy(path);\n        CGPathRelease(path);\n    }\n\n    return immutablePath;\n}\n@end\n</code></pre>\n\n<p><strong>iOS version:</strong></p>\n\n<p>Here is a demo of how to draw the corner-rect layer itself (the layout, etc. are out of scope)</p>\n\n<p><img src=\"https://i.stack.imgur.com/HZnn5.png\" alt=\"CAShapeLayer for focus frame\"></p>\n\n<p>Here is code of demo on screenshot</p>\n\n<pre><code>@interface ViewController : UIViewController\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    CALayer *root = self.view.layer;\n    root.backgroundColor = UIColor.blueColor.CGColor;\n\n    CALayer *frameLayer = [self createFrameLayerWithSize:CGSizeMake(200, 200)];\n    [root addSublayer:frameLayer];\n    frameLayer.position = CGPointMake(CGRectGetMidX(root.bounds), CGRectGetMidY(root.bounds));\n}\n\n- (CALayer *)createFrameLayerWithSize:(CGSize)size {\n    CAShapeLayer *layer = CAShapeLayer.new;\n    layer.bounds = CGRectMake(0, 0, size.width, size.height);\n\n    CGFloat kPiece = 40.0; // &lt;&lt; can be configured\n    UIBezierPath *path = UIBezierPath.new;\n    [path moveToPoint:CGPointMake(0, kPiece)];\n    [path addLineToPoint:CGPointMake(0, 0)];\n    [path addLineToPoint:CGPointMake(kPiece, 0)];\n    [path moveToPoint:CGPointMake(size.width - kPiece, 0)];\n    [path addLineToPoint:CGPointMake(size.width, 0)];\n    [path addLineToPoint:CGPointMake(size.width, kPiece)];\n    [path moveToPoint:CGPointMake(size.width, size.height - kPiece)];\n    [path addLineToPoint:CGPointMake(size.width, size.height)];\n    [path addLineToPoint:CGPointMake(size.width - kPiece, size.height)];\n    [path moveToPoint:CGPointMake(kPiece, size.height)];\n    [path addLineToPoint:CGPointMake(0, size.height)];\n    [path addLineToPoint:CGPointMake(0, size.height - kPiece)];\n\n    layer.path = path.CGPath;\n    layer.strokeColor = UIColor.whiteColor.CGColor; // &lt;&lt; can be configured\n    layer.fillColor = UIColor.clearColor.CGColor; // !! required for transparency\n    layer.lineWidth = 8.0; // &lt;&lt; can be configured\n    return layer;\n}\n@end\n</code></pre>\n"}], "owner": {"reputation": 4708, "user_id": 4989932, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/65e21b7d8d5293b186c9e4eed0ffe040?s=128&d=identicon&r=PG&f=1", "display_name": "niravdesai21", "link": "https://stackoverflow.com/users/4989932/niravdesai21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577903349, "creation_date": 1576053529, "question_id": 59281719, "link": "https://stackoverflow.com/questions/59281719/how-to-show-only-corners-of-calayer-rectangle-in-macos-objective-c", "title": "How to show only corners of CALayer rectangle in macOS Objective-c?", "body": "<p>I referred to some questions <a href=\"https://stackoverflow.com/questions/44282738/display-only-the-corners-of-a-uiview\">this</a> , <a href=\"https://stackoverflow.com/questions/57534213/how-to-cut-portion-of-calayer-in-ios-swift\">this</a>. But couldn't get solution like I want,\nI am able to draw rectangle but I am not able to show only the corners of the rectangle.</p>\n\n<p>I am masking rectangle to have stroke colour and fill colour, Similarly I am trying to make it to show only 4 corners.</p>\n\n<pre><code>CALayer *rectangleMaskLayer = [CALayer layer];\n[self.layer addSublayer:rectangleMaskLayer];    \nCAShapeLayer *shapeLayer = [[CAShapeLayer alloc] init];\nCGMutablePathRef pathRef = CGPathCreateMutable();\nCGRect dispRect = CGRectMake(10, 20, 100, 100);\nshapeLayer.fillColor = [NSColor greenColor].CGColor;\nshapeLayer.lineWidth = 1;\nshapeLayer.strokeColor = [NSColor blackColor].CGColor;\npathRef = CGPathCreateMutable();\nCGPoint startTopPoint = CGPointMake(dispRect.origin.x - 5, dispRect.origin.y);\nCGPoint endTopPoint = CGPointMake(dispRect.origin.x + dispRect.size.width + 5, dispRect.origin.y);\nCGRect innerRect = CGRectMake(dispRect.origin.x + 3, dispRect.origin.y + 3, dispRect.size.width - 3, dispRect.size.height - 3);\nCGRect outerRect = CGRectMake(dispRect.origin.x, dispRect.origin.y, dispRect.size.width + 3, dispRect.size.height + 3);\nCGPathAddRect(pathRef, NULL, outerRect);\nCGPathAddRect(pathRef, NULL, innerRect);\nshapeLayer.path = pathRef;\nshapeLayer.fillRule = kCAFillRuleEvenOdd;\n[afTrarectangleMaskLayerublayer:_trackingPositionShapeLayer];\n</code></pre>\n\n<p>Thank You in advance</p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications"], "comments": [{"owner": {"reputation": 10330, "user_id": 289501, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/L8Czb.png?s=128&g=1", "display_name": "phi", "link": "https://stackoverflow.com/users/289501/phi"}, "edited": false, "score": 1, "creation_date": 1576051698, "post_id": 59281130, "comment_id": 104768728, "body": "Are you talking about push notifications or local notifications? Do you start the app by tapping on the notification, or the app icon from the home screen (springboard)?"}, {"owner": {"reputation": 77, "user_id": 8718501, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J9NCck5ipxw/AAAAAAAAAAI/AAAAAAAAABU/C9NG-gUbQ7k/photo.jpg?sz=128", "display_name": "C&#243; T\u1ea1 V\u0103n", "link": "https://stackoverflow.com/users/8718501/c%c3%b3-t%e1%ba%a1-v%c4%83n"}, "reply_to_user": {"reputation": 10330, "user_id": 289501, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/L8Czb.png?s=128&g=1", "display_name": "phi", "link": "https://stackoverflow.com/users/289501/phi"}, "edited": false, "score": 0, "creation_date": 1576051992, "post_id": 59281130, "comment_id": 104768862, "body": "I am using Push notification and start app by click on app icon"}, {"owner": {"reputation": 10330, "user_id": 289501, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/L8Czb.png?s=128&g=1", "display_name": "phi", "link": "https://stackoverflow.com/users/289501/phi"}, "edited": false, "score": 0, "creation_date": 1576052631, "post_id": 59281130, "comment_id": 104769153, "body": "Try to start the app by tapping on the notification banner (or from Notification Center)"}, {"owner": {"reputation": 77, "user_id": 8718501, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J9NCck5ipxw/AAAAAAAAAAI/AAAAAAAAABU/C9NG-gUbQ7k/photo.jpg?sz=128", "display_name": "C&#243; T\u1ea1 V\u0103n", "link": "https://stackoverflow.com/users/8718501/c%c3%b3-t%e1%ba%a1-v%c4%83n"}, "reply_to_user": {"reputation": 10330, "user_id": 289501, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/L8Czb.png?s=128&g=1", "display_name": "phi", "link": "https://stackoverflow.com/users/289501/phi"}, "edited": false, "score": 0, "creation_date": 1576052764, "post_id": 59281130, "comment_id": 104769219, "body": "yes! it work very well, but Is there a way to store this notifi to local database when run app by click on icon?"}], "answers": [{"tags": [], "owner": {"reputation": 778, "user_id": 761902, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/7atdk.jpg?s=128&g=1", "display_name": "ansonl", "link": "https://stackoverflow.com/users/761902/ansonl"}, "is_accepted": false, "score": 0, "last_activity_date": 1576454067, "creation_date": 1576454067, "answer_id": 59349109, "question_id": 59281130, "link": "https://stackoverflow.com/questions/59281130/can-clear-push-a-notification-when-kill-app-for-me/59349109#59349109", "title": "Can clear push a notification when kill app for me?", "body": "<p>Your app can get notification that the remote notification has been received through the <a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623013-application?language=objc\" rel=\"nofollow noreferrer\"><code>application:didReceiveRemoteNotification:fetchCompletionHandler:</code></a> method explained in <a href=\"https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/HandlingRemoteNotifications.html#//apple_ref/doc/uid/TP40008194-CH6-SW1\" rel=\"nofollow noreferrer\">Handling Remote Notifications</a>. </p>\n\n<p>When your app is in the background, it can save the data needed and you can retrieve that data the next time you launch the app. </p>\n"}], "owner": {"reputation": 77, "user_id": 8718501, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J9NCck5ipxw/AAAAAAAAAAI/AAAAAAAAABU/C9NG-gUbQ7k/photo.jpg?sz=128", "display_name": "C&#243; T\u1ea1 V\u0103n", "link": "https://stackoverflow.com/users/8718501/c%c3%b3-t%e1%ba%a1-v%c4%83n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1576454067, "creation_date": 1576051014, "question_id": 59281130, "link": "https://stackoverflow.com/questions/59281130/can-clear-push-a-notification-when-kill-app-for-me", "title": "Can clear push a notification when kill app for me?", "body": "<p>I'm coding to store a notification when app was killed and i have a problem here! When receive a notification on Notification Center, I click on it and anything work well, but when I receive a notification on Notification Center, I click on app icon to run app and then look like my app do not receive anything! In my debug progress I can see \"launchOptions\" in:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    self.pushNotificationPayload = [launchOptions valueForKey:UIApplicationLaunchOptionsRemoteNotificationKey];\n}\n</code></pre>\n\n<p>is nil if I run app by way click on app icon! Someone can tell my why?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 486, "user_id": 7533005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zI8ZM.jpg?s=128&g=1", "display_name": "Shivam Gaur", "link": "https://stackoverflow.com/users/7533005/shivam-gaur"}, "edited": false, "score": 0, "creation_date": 1576052178, "post_id": 59281108, "comment_id": 104768953, "body": "possible duplicate <a href=\"https://stackoverflow.com/questions/26691935/overriding-a-stored-property-in-swift\" title=\"overriding a stored property in swift\">stackoverflow.com/questions/26691935/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 0, "last_activity_date": 1576064097, "creation_date": 1576064097, "answer_id": 59284929, "question_id": 59281108, "link": "https://stackoverflow.com/questions/59281108/how-to-override-the-lazy-load-dataarr-by-swift-in-the-new-swift-file/59284929#59284929", "title": "How to override the lazy load dataArr by swift in the new swift file?", "body": "<p>As far as I know you can override a lazy Objective-C property like</p>\n\n<pre><code>@property (readonly, nonnull) NSArray&lt;NSDictionary&lt;NSString*,NSString*&gt; *&gt; *dataArr;\n</code></pre>\n\n<p>only with a computed property in Swift</p>\n\n<pre><code>class TestSwift: theOCFatherClass { \n\n    lazy var swiftDataArray = [[\"title\":\"cat1\", \"message\":\"the cat1\"], [\"title\":\"cat2\", \"message\":\"the cat2\"], [\"title\":\"cat3\", \"message\":\"the cat3\"]]\n\n    override var dataArr : [[String:String]] {\n       return swiftDataArray\n    }\n\n    override func viewDidLoad() { ... }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2163, "user_id": 4952106, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10dd44807a5bc3acf19b3b382ea62bd3?s=128&d=identicon&r=PG&f=1", "display_name": "jiexishede", "link": "https://stackoverflow.com/users/4952106/jiexishede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 59284929, "answer_count": 1, "score": 0, "last_activity_date": 1576064097, "creation_date": 1576050926, "question_id": 59281108, "link": "https://stackoverflow.com/questions/59281108/how-to-override-the-lazy-load-dataarr-by-swift-in-the-new-swift-file", "title": "How to override the lazy load dataArr by swift in the new swift file?", "body": "<p>I am learning <code>Swift</code>.<br>\nI create the first swift file in my iOS APP project.<br>\nThe swift file is a subclass. The swift father class is ao objective-c class.<br>\n<code>In the objective-c file.m, I use a lazy array;</code>     </p>\n\n<p>like this:</p>\n\n<pre><code>- (NSArray *)dataArr{\n    if(_dataArr == nil){\n            NSDictionary *dic1 = @{@\"title\":@\"dog1\",\n                       @\"message\":@\"the dog1\"\n};\nNSDictionary *dic2 = @{@\"title\":@\"dog2\",\n                       @\"message\":@\"the dog2\"\n};\nNSDictionary *dic3 = @{@\"title\":@\"dog3\",\n                       @\"message\":@\"the dog3\"\n};\n         _dataArr = @[dic1, dic2, dic3];\n    }\n    return _dataArr;\n}\n</code></pre>\n\n<p>In the OC file, I use the <code>dataArr</code> to set the tableView contents.</p>\n\n<p>Due to my new swift file is like the OC father file, except the array content. </p>\n\n<p>I want the override the array to make the swift file table view show the new content.</p>\n\n<p>My swift file code like this: </p>\n\n<pre><code>class testSwift: theOCFatherClass {\n\n   override func viewDidLoad() {\n\n          let dic1:Dictionary = [\"title\":\"dog1\",\n                                      \"message\":\"the dog1\"\n                                      ];\n              let dic2:Dictionary = [\"title\":\"dog2\",\n                                      \"message\":\"the dog2\"\n                                      ];\n              let dic3:Dictionary = [\"title\":\"dog3\",\n       \"message\":\"the dog3\"]\n\n       func getdataArray() -&gt; Array&lt;Any&gt;{\n                return [dic1, dic2, dic3]\n              }\n\n       var dataArr = getdataArray()\n\n       super.viewDidLoad()\n   }\n}\n</code></pre>\n\n<p>I click into the swift page on my iPhone, the content of the swift file is my OC array.</p>\n\n<p>My question is how to override the  <code>dataArr</code> by swift in the new swift file.</p>\n\n<p>If you will, please write a good example. </p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1576046368, "post_id": 59279962, "comment_id": 104766683, "body": "is your navigate to a specific VC code written in  <code>downloadDataFromServer</code> function?"}, {"owner": {"reputation": 11084, "user_id": 2166050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc047b125ce1d69a0b57efab23a8fdf1?s=128&d=identicon&r=PG&f=1", "display_name": "User123335511231", "link": "https://stackoverflow.com/users/2166050/user123335511231"}, "edited": false, "score": 0, "creation_date": 1576046437, "post_id": 59279962, "comment_id": 104766708, "body": "there is not push/present methods called to do the actual navigation. is it in one of the other methods?"}, {"owner": {"reputation": 75, "user_id": 10030620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qJvEyigqSsE/AAAAAAAAAAI/AAAAAAAAAaE/m0PcSCB8yOw/photo.jpg?sz=128", "display_name": "Tushar Khopade", "link": "https://stackoverflow.com/users/10030620/tushar-khopade"}, "edited": false, "score": 0, "creation_date": 1576046603, "post_id": 59279962, "comment_id": 104766769, "body": "@ CodeChanger-yes it navigate to a specific VC"}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1577015574, "post_id": 59279962, "comment_id": 105070894, "body": "Please do not use the Apple logo for your avatar: you aren&#39;t allowed to use it. See <a href=\"https://www.apple.com/legal/intellectual-property/guidelinesfor3rdparties.html\" rel=\"nofollow noreferrer\">apple.com/legal/intellectual-property/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 12578862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c3dfa7ed985982a448032b799576fc?s=128&d=identicon&r=PG", "display_name": "Eelco Koelewijn", "link": "https://stackoverflow.com/users/12578862/eelco-koelewijn"}, "is_accepted": false, "score": 0, "last_activity_date": 1577020223, "creation_date": 1577020223, "answer_id": 59444469, "question_id": 59279962, "link": "https://stackoverflow.com/questions/59279962/how-to-open-specific-controller-when-user-taps-on-push-notifications-when-app-is/59444469#59444469", "title": "How to open specific controller when user taps on Push Notifications when App is NOT running (i.e Totally Killed) Objective-C", "body": "<p>When the app gets launched after the user opens the app from the notification. The best way to handle navigation based on the notification is to check the <code>launchOptions</code> dictionary in the <code>application(_:didFinishLaunchingWithOptions:)</code> method. This should contain the <code>remoteNotification</code>- key, which holds the push notification data.</p>\n\n<p>As mentioned in the discussion section of <code>application(_:didReceiveRemoteNotification:fetchCompletionHandler:)</code> -method, <a href=\"http://application(_:didReceiveRemoteNotification:fetchCompletionHandler:)\" rel=\"nofollow noreferrer\">documentation</a>, the system does not automatically launch your app. </p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1622921-application\" rel=\"nofollow noreferrer\">application(_:didFinishLaunchingWithOptions:)</a></p>\n"}], "owner": {"reputation": 75, "user_id": 10030620, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qJvEyigqSsE/AAAAAAAAAAI/AAAAAAAAAaE/m0PcSCB8yOw/photo.jpg?sz=128", "display_name": "Tushar Khopade", "link": "https://stackoverflow.com/users/10030620/tushar-khopade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577020223, "creation_date": 1576045681, "last_edit_date": 1577015027, "question_id": 59279962, "link": "https://stackoverflow.com/questions/59279962/how-to-open-specific-controller-when-user-taps-on-push-notifications-when-app-is", "title": "How to open specific controller when user taps on Push Notifications when App is NOT running (i.e Totally Killed) Objective-C", "body": "<p>I'm able to send push notifications to my IOS device. But when I click on that notification it just opens the app.when my app is in background or in foreground it works perfectly, I want the app to open and navigate to a specific view controller depending on the push notification received.</p>\n\n<pre><code>- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {\n\n    // Print message ID.\n    NSLog(@\"Message ID: %@\", userInfo[@\"gcm.message_id\"]);\n    [[FIRMessaging messaging] appDidReceiveMessage:userInfo];\n    NSDictionary *apsDict = [userInfo objectForKey:@\"aps\"];\n    NSString *alertForegroundMessage = [NSString stringWithFormat:@\"%@\", [apsDict objectForKey:@\"alert\"]];\n\n    // Pring full message.\n    NSLog(@\"%@\", userInfo);\n\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, 20 * NSEC_PER_SEC),\n                   dispatch_get_main_queue(), ^{\n                       // Check result of your operation and call completion block with the result\n                       completionHandler(UIBackgroundFetchResultNewData);\n\n                       NSMutableArray *arrnotification;\n\n                       arrnotification = [userInfo valueForKey:@\"aps\"];\n\n                   });\n\n    if (application.applicationState == UIApplicationStateActive)\n    {\n\n        NSDictionary *userInfo = [[NSDictionary alloc] init];\n        [[NSNotificationCenter defaultCenter] postNotificationName:@\"downloadDataFromServer\" object:self userInfo:userInfo];\n          NSLog(@\"User Info : %@\",userInfo);\n         completionHandler(UIBackgroundFetchResultNewData);\n    }\n\n    else\n    {\n        NSLog(@\"userInfo-&gt;%@\", [userInfo objectForKey:@\"aps\"]);\n        NSDictionary *sentObject = [NSDictionary dictionaryWithObjectsAndKeys:noteDict,@\"data\", nil];\n        [[NSNotificationCenter defaultCenter] postNotificationName:@\"downloadDataFromServer\" object:sentObject];\n        completionHandler(UIBackgroundFetchResultNewData);\n    }\n    completionHandler(UIBackgroundFetchResultNewData);\n}\n</code></pre>\n"}, {"tags": ["objective-c", "uiimage"], "comments": [{"owner": {"reputation": 1696, "user_id": 486509, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/55OHp.jpg?s=128&g=1", "display_name": "Lucas Veiga", "link": "https://stackoverflow.com/users/486509/lucas-veiga"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1576066495, "post_id": 59278331, "comment_id": 104776513, "body": "@matt Read the question."}], "answers": [{"comments": [{"owner": {"reputation": 1696, "user_id": 486509, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/55OHp.jpg?s=128&g=1", "display_name": "Lucas Veiga", "link": "https://stackoverflow.com/users/486509/lucas-veiga"}, "edited": false, "score": 0, "creation_date": 1576067249, "post_id": 59278862, "comment_id": 104776871, "body": "How can I get a PHAsset from a phasset url, like ph://...?"}], "tags": [], "owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "is_accepted": true, "score": 0, "last_activity_date": 1576038078, "creation_date": 1576038078, "answer_id": 59278862, "question_id": 59278331, "link": "https://stackoverflow.com/questions/59278331/get-uiimage-from-phasset-or-assets-library/59278862#59278862", "title": "Get UIImage from PHAsset (or assets-library://)", "body": "<pre><code>PHFetchOptions *allPhotosOptions = [PHFetchOptions new];\n\nallPhotosOptions.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@\"creationDate\" ascending:NO]];\n\nPHFetchResult *allPhotosResult = [PHAsset fetchAssetsWithMediaType:PHAssetMediaTypeImage options:allPhotosOptions];\n\nNSMutableArray *arrPhassets=[[NSMutableArray alloc]init];\n[allPhotosResult enumerateObjectsUsingBlock:^(PHAsset *asset, NSUInteger idx, BOOL *stop) {\n//here you will get phassets of images from the device photo library.you have to store it in the mutable array like this.\n    [arrPhassets addObject:asset];\n}];\n\n//here you will have array of phassets for images.\n\n//now we will extract image from the phasset for one phasset.\nPHAsset *as1=arrPhassets[0];\nPHCachingImageManager *imagemanager=[[PHCachingImageManager alloc]init];\n[imagemanager requestImageForAsset:as1 targetSize:PHImageManagerMaximumSize contentMode:PHImageContentModeAspectFit options:nil resultHandler:^(UIImage * _Nullable result, NSDictionary * _Nullable info) {\n    //here \"result\" is the image for asset as1.\n    UIImage *image=result;\n\n}];\n</code></pre>\n"}], "owner": {"reputation": 1696, "user_id": 486509, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/55OHp.jpg?s=128&g=1", "display_name": "Lucas Veiga", "link": "https://stackoverflow.com/users/486509/lucas-veiga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59278862, "answer_count": 1, "score": -1, "last_activity_date": 1576038078, "creation_date": 1576033457, "question_id": 59278331, "link": "https://stackoverflow.com/questions/59278331/get-uiimage-from-phasset-or-assets-library", "title": "Get UIImage from PHAsset (or assets-library://)", "body": "<p>I'm trying to generate a UIImage from a PHAsset or assets-library. My code is this:</p>\n\n<pre><code>NSString *path = [self.options valueForKey:@\"path\"];\nNSURL *localurl = [NSURL URLWithString:path];\nNSData *data = [NSData dataWithContentsOfURL:localurl];\nUIImage *image = [[UIImage alloc] initWithData:data];\n</code></pre>\n\n<p>But the UIImage is nil. I can set the path to be <code>ph://</code> or <code>assets-library://</code>.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ios", "objective-c", "react-native", "react-native-ios"], "answers": [{"tags": [], "owner": {"reputation": 1436, "user_id": 3751662, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/XuUJ6.jpg?s=128&g=1", "display_name": "Daljeet", "link": "https://stackoverflow.com/users/3751662/daljeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1576042578, "creation_date": 1576042578, "answer_id": 59279450, "question_id": 59277328, "link": "https://stackoverflow.com/questions/59277328/how-to-add-react-native-support-layer-inside-my-ios-native-sdk/59279450#59279450", "title": "How to add React Native support layer inside my iOS Native SDK", "body": "<p>To give support that React native can use your Native SDK you have to create RN bridge between Native module and JS as follow:</p>\n\n<blockquote>\n  <p>React-native-aaplication ----> JS wrapper -----> Native code\n  Wrapper(Swift/Objective c) ----> SDK</p>\n</blockquote>\n\n<p>React-native application layer would call JS wrapper and then, JS layer would call method written in native code Wrapper which interact with you Native SDK.</p>\n\n<p>From below link you will understand how to use Native module:</p>\n\n<p><a href=\"https://facebook.github.io/react-native/docs/native-modules-ios\" rel=\"nofollow noreferrer\">https://facebook.github.io/react-native/docs/native-modules-ios</a></p>\n\n<p>How to create RN bridge go through below links:</p>\n\n<p><a href=\"https://www.tothenew.com/blog/how-to-achieve-react-native-and-ios-bridging/#\" rel=\"nofollow noreferrer\">https://www.tothenew.com/blog/how-to-achieve-react-native-and-ios-bridging/#</a>\n<a href=\"https://hackernoon.com/first-experiences-with-react-native-bridging-an-ios-native-module-for-app-authentication-7a20b7180fc9\" rel=\"nofollow noreferrer\">https://hackernoon.com/first-experiences-with-react-native-bridging-an-ios-native-module-for-app-authentication-7a20b7180fc9</a></p>\n"}], "owner": {"reputation": 496, "user_id": 9565687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9476fe103cbaae77fbddc275bc0f1708?s=128&d=identicon&r=PG&f=1", "display_name": "tp2376", "link": "https://stackoverflow.com/users/9565687/tp2376"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576042578, "creation_date": 1576024562, "question_id": 59277328, "link": "https://stackoverflow.com/questions/59277328/how-to-add-react-native-support-layer-inside-my-ios-native-sdk", "title": "How to add React Native support layer inside my iOS Native SDK", "body": "<p>What I am trying is to add a react native layer inside my iOS SDK it self to support React Native so that If some React native app uses my SDK they cal APIs directly with out they adding any layers for it.</p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1576006061, "post_id": 59272121, "comment_id": 104755316, "body": "It is unlikely to be the phone model. It is more likely to be a network issue or similar that is preventing the download from completing. Why not create a TestFlight build that puts any relevant error message into the notification so you can try and see what is happening."}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 9364140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f70a85f963268ca1fdf49986e59f34?s=128&d=identicon&r=PG", "display_name": "Dipendra", "link": "https://stackoverflow.com/users/9364140/dipendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1578326763, "creation_date": 1578326763, "answer_id": 59615290, "question_id": 59272121, "link": "https://stackoverflow.com/questions/59272121/rich-push-notification-not-working-in-iphone-11-pro-max-in-ios/59615290#59615290", "title": "Rich push notification not working in iPhone 11 Pro Max in iOS", "body": "<p>I am not sure what is the issue but i downloaded the image from URL directly instead of using NSURLSessionDataTask &amp; this fixed the issue. </p>\n\n<p>Following are the code I have written</p>\n\n<pre><code>- (void)didReceiveNotificationRequest:(UNNotificationRequest *)request withContentHandler:(void (^)(UNNotificationContent *_Nonnull))contentHandler\n{\nself.contentHandler = contentHandler;\nself.bestAttemptContent = [request.content mutableCopy];\n\nNSArray *arr = [self.bestAttemptContent.body componentsSeparatedByString:@\": \"];\nNSString *alertText = self.bestAttemptContent.body;\nNSString *stickerMessage = nil;\n\nif (arr.count &gt; 1){\n    //Check if text is of sticker\n    if ([self isStickerMessage:arr[1]]) {\n        alertText = [NSString stringWithFormat:@\"%@:\",arr[0]];\n        stickerMessage = arr[1];\n    }\n}\n\n// check for media attachment, example here uses custom payload keys mediaUrl and mediaType\nif (stickerMessage == nil)\n{\n    [self contentComplete];\n    return;\n}\n\nNSCharacterSet* characterSet = [NSCharacterSet characterSetWithCharactersInString: @\"[]\"];\nNSString* stickerName = [stickerMessage stringByTrimmingCharactersInSet: characterSet];\n\nif (stickerName)\n{\n    NSFileManager *fileManger = [NSFileManager defaultManager];\n\n    NSURL *documentsDirectory = [[fileManger URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] firstObject];//FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first!\n    NSString *fileName = [NSString stringWithFormat:@\"%@.png\",stickerName];\n\n    NSURL *fileURL = [documentsDirectory URLByAppendingPathComponent:fileName];\n\n\n\n    self.bestAttemptContent.body = alertText;\n    NSString *picURL = [NSString stringWithFormat:@\"https://stickerpipe.com/stk/emojiabc/%@_hdpi.png\",stickerName];\n\n\n    NSData *data = [[NSData alloc] initWithContentsOfURL:[NSURL URLWithString:picURL]];\n    if (data) {\n        if ([data writeToURL:fileURL atomically:true]) {\n            NSError *attachmentError = nil;\n            UNNotificationAttachment *attachment = [UNNotificationAttachment attachmentWithIdentifier:fileName\n                                                                                                  URL:fileURL\n                                                                                              options:nil\n                                                                                                error:&amp;attachmentError];\n            self.bestAttemptContent.attachments = [NSArray arrayWithObjects:attachment, nil];\n\n        }else{\n            NSLog(@\"Data can't be written\");\n        }\n    }\n\n    [self contentComplete];\n\n  }\n }\n</code></pre>\n"}], "owner": {"reputation": 34, "user_id": 9364140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f70a85f963268ca1fdf49986e59f34?s=128&d=identicon&r=PG", "display_name": "Dipendra", "link": "https://stackoverflow.com/users/9364140/dipendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578326763, "creation_date": 1575996989, "question_id": 59272121, "link": "https://stackoverflow.com/questions/59272121/rich-push-notification-not-working-in-iphone-11-pro-max-in-ios", "title": "Rich push notification not working in iPhone 11 Pro Max in iOS", "body": "<p>I am trying to show the image on the push notification alert. This is working fine for other devices like iPhone X, iPhone XR, iPhone 7. But unfortunately, this doesn't work with iPhone 11 Pro Max. My client has iPhone 11 Pro Max hence I can't debug the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ymdBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymdBu.png\" alt=\"iPhone X\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/IyKGY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IyKGY.png\" alt=\"iPhone 11 Pro Max\"></a></p>\n\n<p>I am getting the code from push notification payload and downloading the image from that code.</p>\n\n<p>I have created an extension of \"Notification Service Extension\"</p>\n\n<pre><code> - (void)didReceiveNotificationRequest:(UNNotificationRequest *)request withContentHandler:(void (^)(UNNotificationContent *_Nonnull))contentHandler\n {\nself.contentHandler = contentHandler;\nself.bestAttemptContent = [request.content mutableCopy];\n\nNSArray *arr = [self.bestAttemptContent.body componentsSeparatedByString:@\": \"];\nNSString *alertText = self.bestAttemptContent.body;\nNSString *stickerMessage = nil;\n\nif (arr.count &gt; 1){\n            //Check if text is of sticker\n            if ([self isStickerMessage:arr[1]]) {\n                alertText = [NSString stringWithFormat:@\"%@:\",arr[0]];\n                stickerMessage = arr[1];\n            }\n    }\n\n// check for media attachment, example here uses custom payload keys mediaUrl and mediaType\nif (stickerMessage == nil)\n{\n    [self contentComplete];\n    return;\n}\n\nNSCharacterSet* characterSet = [NSCharacterSet characterSetWithCharactersInString: @\"[]\"];\nNSString* stickerName = [stickerMessage stringByTrimmingCharactersInSet: characterSet];\n\nif (stickerName)\n{\n    self.bestAttemptContent.body = alertText;\n\n    [self loadImagePath:stickerName completionHandler:^(NSString *picURL) {\n        if (picURL) {\n            [self loadAttachmentForUrlString:picURL\n                           completionHandler: ^(UNNotificationAttachment *attachment) {\n                               self.bestAttemptContent.attachments = [NSArray arrayWithObjects:attachment, nil];\n                               [self contentComplete];\n                           }];\n        }\n        else{\n           [self contentComplete];\n        }\n    }];\n\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code> -(void)loadImagePath: (NSString *)stickerName\n  completionHandler:(void (^)(NSString *))completionHandler{\n\n NSString *apiPath = [NSString stringWithFormat:@\"%@%@\",ApiPath,stickerName];\n\nNSMutableURLRequest *req = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:apiPath]];\n\n[self headerSetup:req];\n\n//NSString *userID = [[NSUserDefaults standardUserDefaults] stringForKey: @\"kUserKeyDefaultsKey\"];\n\nNSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\nNSURLSessionDataTask *task = [session dataTaskWithRequest:req completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n    if (error) {\n        completionHandler(nil);\n    }else if (data){\n        NSDictionary *dict = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:nil];\n        if (dict) {\n            //NSURL* urlString = [NSURL URLWithString: dict[@\"data\"][@\"image\"][@\"mdpi\"]];\n            //NSLog(@\"%@\",urlString);\n            completionHandler(dict[@\"data\"][@\"image\"][[self scaleString]]);\n        }\n    }\n    else{\n        completionHandler(nil);\n    }\n\n}];\n[task resume];\n</code></pre>\n\n<p>}</p>\n\n<pre><code>  - (void)loadAttachmentForUrlString:(NSString *)urlString\n             completionHandler:(void (^)(UNNotificationAttachment *))completionHandler\n{\n__block UNNotificationAttachment *attachment = nil;\n__block NSURL *attachmentURL = [NSURL URLWithString:urlString];\n\nNSString *fileExt = @\".png\";//[@\".\" stringByAppendingString:[urlString pathExtension]];\n\n\nNSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\n\nNSURLSessionDownloadTask *task = [session downloadTaskWithURL:attachmentURL\n                                            completionHandler: ^(NSURL *temporaryFileLocation, NSURLResponse *response, NSError *error) {\n                                                if (error != nil)\n                                                {\n                                                    NSLog(@\"%@\", error.localizedDescription);\n                                                }\n                                                else\n                                                {\n\n                                                    NSFileManager *fileManager = [NSFileManager defaultManager];\n                                                    NSURL *localURL = [NSURL fileURLWithPath:[temporaryFileLocation.path\n                                                                                              stringByAppendingString:fileExt]];\n                                                    [fileManager moveItemAtURL:temporaryFileLocation\n                                                                         toURL:localURL\n                                                                         error:&amp;error];\n\n                                                    NSError *attachmentError = nil;\n                                                    attachment = [UNNotificationAttachment attachmentWithIdentifier:[attachmentURL lastPathComponent]\n                                                                                                                URL:localURL\n                                                                                                            options:nil\n                                                                                                              error:&amp;attachmentError];\n                                                    if (attachmentError)\n                                                    {\n                                                        NSLog(@\"%@\", attachmentError.localizedDescription);\n                                                    }\n                                                }\n                                                completionHandler(attachment);\n                                            }];\n\n[task resume];\n</code></pre>\n\n<p>}</p>\n\n<pre><code>- (void)contentComplete\n{\n    //[self.session invalidateAndCancel];\n    self.contentHandler(self.bestAttemptContent);\n}\n</code></pre>\n"}, {"tags": ["objective-c", "foundation", "nsnotifications"], "answers": [{"tags": [], "owner": {"reputation": 20658, "user_id": 344733, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5edfaa616df6d3cef8581b317f6b0aa0?s=128&d=identicon&r=PG", "display_name": "Andrew Madsen", "link": "https://stackoverflow.com/users/344733/andrew-madsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1576023934, "last_edit_date": 1576023934, "creation_date": 1576023439, "answer_id": 59277198, "question_id": 59272113, "link": "https://stackoverflow.com/questions/59272113/is-it-safe-to-pass-a-notification-nsnotification-as-a-userinfo-of-another-noti/59277198#59277198", "title": "Is it safe to pass a notification (NSNotification) as a userInfo of another notification?", "body": "<p>It's safe to include an <code>NSNotification</code> instances as a <em>value</em> in the userInfo dictionary of another. There's really no magic in <code>NSNotification</code> itself. It's  a pretty simple/thin model class representing a notification*. As you mention you will want to avoid retain cycles, by e.g. including two notifications in each others user info dictionaries at the same time. Even then, the worst that will happen is a (small for just two notifications) memory leak.</p>\n\n<p>*Technically <code>NSNotification</code> is an abstract class cluster, and when you instantiate an <code>NSNotification</code> directly you actually get an instance of the private <code>NSConcreteNotification</code> (as of macOS 10.15.1), but this doesn't affect the answer to your question.</p>\n"}], "owner": {"reputation": 340, "user_id": 1231430, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0362a5d440c1f14d245c9257391e0e4a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1231430/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 59277198, "answer_count": 1, "score": 1, "last_activity_date": 1576023934, "creation_date": 1575996969, "last_edit_date": 1576023484, "question_id": 59272113, "link": "https://stackoverflow.com/questions/59272113/is-it-safe-to-pass-a-notification-nsnotification-as-a-userinfo-of-another-noti", "title": "Is it safe to pass a notification (NSNotification) as a userInfo of another notification?", "body": "<p>I have an object that responds to a list of notifications (A,B,C...). Each response ends with posting a new notification (X) to other listeners. I want to include the old/original notification - I mean the whole NSNotification instance - as a value into the userInfo dictionary of the new notification (X). Is this safe? </p>\n\n<p>(My intuition is that it is not, but I do not see any particular problem other than, perhaps some circular references, if the dictionary contents are not handled carefully).</p>\n"}, {"tags": ["ios", "objective-c", "mapkit"], "owner": {"reputation": 13, "user_id": 12512685, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wg4E9O-bnMU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQ8ErXFs4gPyszq5G9J4VQ4Gp-1w/photo.jpg?sz=128", "display_name": "alberto garcia", "link": "https://stackoverflow.com/users/12512685/alberto-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575994221, "creation_date": 1575994221, "question_id": 59271339, "link": "https://stackoverflow.com/questions/59271339/why-view-hierarchy-get-lost-when-map-marker-shows-callout-view", "title": "Why view hierarchy get lost when map marker shows callout view?", "body": "<p>I'm using MapKit with Objective-C, I have my Map View Controller and a Bottom Sheet View Controller, both are two different ViewController's, the thing is that I use the bottom view controller in order to start or stop sharing user's location. The first time you enter the map the bottom view is expanded, when you push to start sharig your location it collapses, then if you stop sharing the bottomo view will expand again, I have no problem with this, I\u00b4ve already achive it, the problem here is when you tap into user's location and the marker show the callout because when the callout appears the bottom view expands again and it is supposed that it only expand or collapse when user share or stop sharing his location. I don't know why this is happening but I think is beacuse the callout makes the view hierarchy get lost. Please help me.</p>\n\n<p>Here is all my code:</p>\n\n<p><strong>MapViewController.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;MapKit/MapKit.h&gt;\n#import &lt;CoreLocation/CoreLocation.h&gt;\n#import \"UIView+HelperFunctions.h\"\n#import \"BottomSheetViewController.h\"\n#import \"BottomSheetDelegate.h\"\n\n@interface MapViewController : UIViewController &lt;CLLocationManagerDelegate, BottomSheetDelegate, MKMapViewDelegate&gt;\n\n@property (nonatomic) BOOL isUserSharingLocation;\n@property (nonatomic, strong) MKMapView *mapView;\n@property (nonatomic, strong) UIView *containerView;\n@property (nonatomic, strong) CLLocationManager *locationManager;\n@property BottomSheetViewController *bottomSheetVC;\n\n- (void)shareUserLocation;\n- (void)stopSharingUserLocation;\n\n@end\n</code></pre>\n\n<p><strong>MapViewController.m</strong></p>\n\n<pre><code>#import \"MapViewController.h\"\n\n@interface MapViewController ()\n\n@end\n\n@implementation MapViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n    self.isUserSharingLocation = NO;\n    self.locationManager = [[CLLocationManager alloc] init];\n    [self.locationManager setDelegate:self];\n    [self setupViewComponents];\n    [self addBottomSheetView];\n}\n\n- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n\n}\n\n- (void)setupViewComponents {\n    [self.view bringSubviewToFront:self.containerView];\n\n    self.mapView = [[MKMapView alloc] init];\n    [self.view addSubview:self.mapView];\n\n    [self.mapView topAnchor:self.view.topAnchor leftAnchor:self.view.leftAnchor bottomAchor:self.view.bottomAnchor rightAnchor:self.view.rightAnchor\n                 topPadding:0 leftPadding:0 bottomPadding:0 rightPadding:0\n                widthAnchor:0 heightAnchor:0];\n\n}\n\n- (void)addBottomSheetView {\n    self.bottomSheetVC = [[BottomSheetViewController alloc] init];\n\n    [self addChildViewController:self.bottomSheetVC];\n    [self.view addSubview:[self.bottomSheetVC view]];\n    [self.bottomSheetVC didMoveToParentViewController:self];\n\n    [self.bottomSheetVC.view topAnchor:nil leftAnchor:self.view.leftAnchor bottomAchor:self.view.bottomAnchor rightAnchor:self.view.rightAnchor\n                       topPadding:0 leftPadding:0 bottomPadding:0 rightPadding:0\n                      widthAnchor:0 heightAnchor:200];\n\n    [self.bottomSheetVC setDelegate:self];\n}\n\n- (void)shareUserLocation {\n    [self.locationManager requestWhenInUseAuthorization];\n    [self.locationManager startUpdatingLocation];\n    [self.locationManager startUpdatingHeading];\n    self.locationManager.distanceFilter = kCLDistanceFilterNone;\n    self.locationManager.desiredAccuracy = kCLLocationAccuracyBest;\n}\n\n- (void)stopSharingUserLocation {\n    [self.locationManager stopUpdatingLocation];\n    [self.mapView setShowsUserLocation:NO];\n}\n\n#pragma mark - CLLocationManagerDelegate\n\n- (void)locationManager:(CLLocationManager *)manager didUpdateLocations:(NSArray&lt;CLLocation *&gt; *)locations {\n    CLLocation *location = self.locationManager.location;\n\n    CLLocationCoordinate2D currentLocation = CLLocationCoordinate2DMake(location.coordinate.latitude, location.coordinate.longitude);\n    [self.mapView setCenterCoordinate:currentLocation animated:YES];\n    [self.mapView setZoomEnabled:YES];\n    [self.mapView setShowsUserLocation:YES];\n    MKCoordinateRegion viewRegion = MKCoordinateRegionMakeWithDistance(currentLocation, 30000, 30000);\n    [self.mapView setRegion:viewRegion];\n}\n\n#pragma mark - MKMapViewDelegate\n\n- (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view {\n    [view setTranslatesAutoresizingMaskIntoConstraints:NO];\n}\n\n#pragma mark - BottomSheetDelegate\n\n- (void)shareUserLocation:(BOOL)shareLocation {\n    if (shareLocation == YES) {\n        [self shareUserLocation];\n    } else {\n        [self stopSharingUserLocation];\n    }\n}\n\n- (void)hideBottomSheet:(BOOL)hide {\n    if(hide == YES) {\n        [UIView animateWithDuration:0.3 animations:^{\n            CGRect frame = self.bottomSheetVC.view.frame;\n            CGFloat y = [[UIScreen mainScreen] bounds].size.height - 60;\n            self.bottomSheetVC.view.frame = CGRectMake(0, y, frame.size.width, frame.size.height);\n        }];\n    } else {\n        [UIView animateWithDuration:0.3 animations:^{\n            CGRect frame = self.bottomSheetVC.view.frame;\n            CGFloat y = [[UIScreen mainScreen] bounds].size.height - frame.size.height;\n            self.bottomSheetVC.view.frame = CGRectMake(0, y, frame.size.width, frame.size.height);\n        }];\n    }\n}\n\n@end\n</code></pre>\n\n<p><strong>BottomSheetViewController.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"UIView+HelperFunctions.h\"\n#import \"BottomSheetDelegate.h\"\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface BottomSheetViewController : UIViewController\n\n@property (nonatomic) id &lt;BottomSheetDelegate&gt; delegate;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p><strong>BottomSheetViewController.m</strong></p>\n\n<pre><code>#import \"BottomSheetViewController.h\"\n\n@interface BottomSheetViewController ()\n\n@end\n\n@implementation BottomSheetViewController\n\nBOOL isExpanded = YES;\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    [self setupViewComponents];\n}\n\n- (void)setupViewComponents {\n    [self.view setBackgroundColor:[UIColor blackColor]];\n\n    UIButton *sendButton = [UIButton buttonWithType:UIButtonTypeCustom];\n    [self.view addSubview:sendButton];\n    [sendButton setImage:[UIImage imageNamed:@\"send_button_normal\"] forState:UIControlStateNormal];\n    [sendButton addTarget:self action:@selector(handleSend) forControlEvents:UIControlEventTouchUpInside];\n\n    [sendButton topAnchor:self.view.topAnchor leftAnchor:nil bottomAchor:nil rightAnchor:self.view.rightAnchor\n               topPadding:8 leftPadding:0 bottomPadding:0 rightPadding:-8\n              widthAnchor:40 heightAnchor:40];\n\n    UILabel *label = [[UILabel alloc] init];\n    [self.view addSubview:label];\n    [label setText:@\"Enviar ubicaci\u00f3n en tiempo real\"];\n    [label setFont:[UIFont boldSystemFontOfSize:16]];\n    [label setTextColor:[UIColor whiteColor]];\n\n    [label centerYinView:sendButton];\n    [[label.leftAnchor constraintEqualToAnchor:self.view.leftAnchor constant:8] setActive:YES];\n\n    UIView *separatorLine = [[UIView alloc] init];\n    [self.view addSubview:separatorLine];\n    [separatorLine setBackgroundColor:[UIColor whiteColor]];\n\n    [separatorLine topAnchor:sendButton.bottomAnchor leftAnchor:self.view.leftAnchor bottomAchor:nil rightAnchor:self.view.rightAnchor\n                  topPadding:8 leftPadding:0 bottomPadding:0 rightPadding:0\n                 widthAnchor:0 heightAnchor:1];\n}\n\n- (void)handleSend {\n    NSLog(@\"SEND\");\n    if (isExpanded == YES) {\n        [self.delegate shareUserLocation:YES];\n        [self.delegate hideBottomSheet:YES];\n        isExpanded = !isExpanded;\n    } else {\n        [self.delegate shareUserLocation:NO];\n        [self.delegate hideBottomSheet:NO];\n        isExpanded = !isExpanded;\n    }\n}\n\n@end\n</code></pre>\n\n<p><strong>BottomSheetDelegate.h</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@protocol BottomSheetDelegate &lt;NSObject&gt;\n\n- (void)shareUserLocation:(BOOL)shareLocation;\n- (void)hideBottomSheet:(BOOL)hide;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ssl", "ssl-certificate"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1575981303, "post_id": 59267278, "comment_id": 104742127, "body": "<i>.. or It&#39;s not possible to update files included in the build dynamically</i>. Yes, it&#39;s not possible."}, {"owner": {"reputation": 1028, "user_id": 5189517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-pdw9Sc0KyMA/AAAAAAAAAAI/AAAAAAAALvs/JPepv4_qPSw/photo.jpg?sz=128", "display_name": "Haroun SMIDA", "link": "https://stackoverflow.com/users/5189517/haroun-smida"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1575982260, "post_id": 59267278, "comment_id": 104742672, "body": "Yes I just found out that <code>You cannot write to this directory. To prevent tampering, the bundle directory is signed at installation time. Writing to this directory changes the signature and prevents your app from launching.</code> <a href=\"https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html\" rel=\"nofollow noreferrer\">Link to official docs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1028, "user_id": 5189517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-pdw9Sc0KyMA/AAAAAAAAAAI/AAAAAAAALvs/JPepv4_qPSw/photo.jpg?sz=128", "display_name": "Haroun SMIDA", "link": "https://stackoverflow.com/users/5189517/haroun-smida"}, "is_accepted": false, "score": 0, "last_activity_date": 1575982391, "creation_date": 1575982391, "answer_id": 59267703, "question_id": 59267278, "link": "https://stackoverflow.com/questions/59267278/use-writetourl-to-update-a-file-included-in-the-build-in-application-container/59267703#59267703", "title": "Use writeToUrl to update a file included in the build (in application container .app)", "body": "<p>I just found out that <code>You cannot write to this directory. To prevent tampering, the bundle directory is signed at installation time. Writing to this directory changes the signature and prevents your app from launching.</code> </p>\n\n<p><a href=\"https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/FileSystemProgrammingGuide/FileSystemOverview/FileSystemOverview.html\" rel=\"nofollow noreferrer\">Link to official docs</a></p>\n"}], "owner": {"reputation": 1028, "user_id": 5189517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-pdw9Sc0KyMA/AAAAAAAAAAI/AAAAAAAALvs/JPepv4_qPSw/photo.jpg?sz=128", "display_name": "Haroun SMIDA", "link": "https://stackoverflow.com/users/5189517/haroun-smida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575982391, "creation_date": 1575981021, "question_id": 59267278, "link": "https://stackoverflow.com/questions/59267278/use-writetourl-to-update-a-file-included-in-the-build-in-application-container", "title": "Use writeToUrl to update a file included in the build (in application container .app)", "body": "<p>I am trying to update SSL certificate dynamically using writeToUrl but I get this error :</p>\n\n<pre><code>// Returns the first certificate in the cert chain\nSecCertificateRef certificate = SecTrustGetCertificateAtIndex(serverTrust, 0);\n\n// Returns a DER representation of a certificate given a certificate object.\nNSData * remoteCertificateData = CFBridgingRelease(SecCertificateCopyData(certificate));\n\nNSError *error;\nBOOL didUpdateCertif = [remoteCertificateData writeToURL:localCertificateUrl options:NSDataWritingAtomic error:&amp;error];\n</code></pre>\n\n<p>The value of <code>localCertificateUrl</code> is something like <code>file:///var/containers/Bundle/Application/79A3FE24-FA18-4DB9-9DDD-ED2135B47C5A/App-Name.app/certificate.cer</code>.</p>\n\n<p>But I get this error</p>\n\n<pre><code>Error Domain=NSCocoaErrorDomain Code=513 \"You don\u2019t have permission to save the file \u201ccertif.cer\u201d in the folder \u201cApp-Name\u201d.\" UserInfo={NSFilePath=/var/containers/Bundle/Application/79A3FE24-FA18-4DB9-9DDD-ED2135B47C5A/App-Name.app/certif.cer, NSUnderlyingError=0x170249ae0 {Error Domain=NSPOSIXErrorDomain Code=1 \"Operation not permitted\"}}\n</code></pre>\n\n<p>Is it something I am not doing right or It's not possible to update files included in the build dynamically? </p>\n"}, {"tags": ["objective-c", "callkit"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "edited": false, "score": 0, "creation_date": 1575978465, "post_id": 59266186, "comment_id": 104740553, "body": "where should I add the code call not anymore on hold...?"}], "tags": [], "owner": {"reputation": 1095, "user_id": 1082528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a377b0d2e61c3c8224c56650baad4073?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/1082528/marco"}, "is_accepted": false, "score": 0, "last_activity_date": 1575977295, "creation_date": 1575977295, "answer_id": 59266186, "question_id": 59265911, "link": "https://stackoverflow.com/questions/59265911/after-unhold-gsm-call-callkit-become-a-mute-and-i-cannot-hear-any-sound/59266186#59266186", "title": "After Unhold GSM Call, Callkit become a Mute and I cannot hear any sound", "body": "<p>Indeed you're generating an infinite loop: in the <code>- (void)provider:(CXProvider *)provider performSetHeldCallAction:(CXSetHeldCallAction *)action</code> function, in the case of unhold, you're calling <code>- (void)holdCall:(BOOL)hold</code> that in turn will generate another call to <code>- (void)provider:(CXProvider *)provider performSetHeldCallAction:(CXSetHeldCallAction *)action</code>, and so on indefinitely.</p>\n\n<p>So, you just have to remove <code>[self holdCall:NO];</code> inside <code>- (void)provider:(CXProvider *)provider performSetHeldCallAction:(CXSetHeldCallAction *)action</code></p>\n"}], "owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575977295, "creation_date": 1575976334, "question_id": 59265911, "link": "https://stackoverflow.com/questions/59265911/after-unhold-gsm-call-callkit-become-a-mute-and-i-cannot-hear-any-sound", "title": "After Unhold GSM Call, Callkit become a Mute and I cannot hear any sound", "body": "<p>I checked many similar question but NOT any answer...</p>\n\n<p>I am using Callkit and it works fine. but the issue is when the GSM call arrive and my VOIP call Hold the call and then when I click to swap button of Callkit to unHold My call the unHold request send correctly but the issue is the sound become kind of Mute in Callkit and no-one can hear nothing.. </p>\n\n<pre><code>- (void)provider:(CXProvider *)provider performSetHeldCallAction:(CXSetHeldCallAction *)action {\n    if (action.isOnHold) {\n\n        NSLog(@\"Call on hold\");\n\n\n    } else {\n\n\n        [self holdCall:NO];\n\n    }\n\n\n    [action fulfill];\n}\n\n\n\n- (void)holdCall:(BOOL)hold {\n\n    NSLog(@\"What is current call uuid %@\",self.currentCallUUID);\n\n    CXSetHeldCallAction *holdCallAction = [[CXSetHeldCallAction alloc] initWithCallUUID:self.currentCallUUID onHold:hold];\n    CXTransaction *transaction = [[CXTransaction alloc] init];\n    [transaction addAction:holdCallAction];\n    [self requestTransaction:transaction];\n}\n</code></pre>\n\n<p>When I call unHold method it goes to kind of unlimited loop ... anyone has the same issue or how I can unhold the Callkit?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["objective-c", "uitableview", "tableview"], "comments": [{"owner": {"reputation": 26053, "user_id": 2082964, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Iybex.jpg?s=128&g=1", "display_name": "Chris Maes", "link": "https://stackoverflow.com/users/2082964/chris-maes"}, "edited": false, "score": 0, "creation_date": 1575975474, "post_id": 59265375, "comment_id": 104738987, "body": "Did you try anything? What output do you get, what would you expect? Also try to make shorter sentences, these long sentences are hard to read..."}], "answers": [{"tags": [], "owner": {"reputation": 3153, "user_id": 4081597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DtR00.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/4081597/rob"}, "is_accepted": true, "score": 1, "last_activity_date": 1576066609, "creation_date": 1576066609, "answer_id": 59285656, "question_id": 59265375, "link": "https://stackoverflow.com/questions/59265375/objective-c-tableview-stop-disabled-row-form-moving/59285656#59285656", "title": "Objective-C Tableview Stop disabled row form moving", "body": "<p>Typically you would use this method:</p>\n\n<pre><code>- (NSIndexPath *)tableView:(UITableView *)tableView \ntargetIndexPathForMoveFromRowAtIndexPath:(NSIndexPath *)sourceIndexPath \n       toProposedIndexPath:(NSIndexPath *)proposedDestinationIndexPath {\n    if (proposedDestinationIndexPath.row == DoNotMoveToThisRow) {\n        return sourceIndexPath;\n    }\n    return proposedDestinationIndexPath;\n}\n</code></pre>\n\n<p>If you don't want a cell to move to a certain row, then just return the sourceIndexPath.</p>\n"}], "owner": {"reputation": 25, "user_id": 12510917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cIKIKcnkUPM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7Zp9nPW2juIwg8J1Xyum2ym-pYQ/photo.jpg?sz=128", "display_name": "Hardik Mistry", "link": "https://stackoverflow.com/users/12510917/hardik-mistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 59285656, "answer_count": 1, "score": 0, "last_activity_date": 1577015002, "creation_date": 1575974525, "last_edit_date": 1577015002, "question_id": 59265375, "link": "https://stackoverflow.com/questions/59265375/objective-c-tableview-stop-disabled-row-form-moving", "title": "Objective-C Tableview Stop disabled row form moving", "body": "<p>I am creating an app in which I have to Reorder the Rows but I have some disabled rows which should not Move. e.g. As shown in image the 2nd and 3rd row are disabled form moving. if I try to move non disabled row they should not move to the index path of the disabled row<a href=\"https://i.stack.imgur.com/8F3rM.png\" rel=\"nofollow noreferrer\">Check this image</a></p>\n"}, {"tags": ["ios", "objective-c", "nsmutablearray", "nsdictionary"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1575974444, "post_id": 59265234, "comment_id": 104738453, "body": "see this for help :[<a href=\"https://stackoverflow.com/questions/1295459/are-keys-and-values-in-an-nsdictionary-ordered(Are\" title=\"are keys and values in an nsdictionary ordered(Are\">stackoverflow.com/questions/1295459/&hellip;</a> keys and values in an NSDictionary ordered?)"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1575975035, "post_id": 59265234, "comment_id": 104738761, "body": "&quot;@&quot;fileID == %@&quot;,151&quot;, that&#39;s not compiling. Are you using a <code>NSNumber</code> or a NSString for the value in the predicate because in the dictionary it&#39;s said to be a NSNumber. Also, you need to be more explicit. Is it because you didn&#39;t find the value after filtering?"}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1575975516, "post_id": 59265234, "comment_id": 104739006, "body": "@lame predicate is working fine. But fileID value in NSDictionary is changed."}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "is_accepted": false, "score": 0, "last_activity_date": 1576039875, "creation_date": 1576039875, "answer_id": 59279078, "question_id": 59265234, "link": "https://stackoverflow.com/questions/59265234/nsdictionary-values-changes-without-any-modification/59279078#59279078", "title": "NSDictionary values changes without any modification", "body": "<p>1.First problem i got for crash is the predicate string.\nreplace it with this</p>\n\n<pre><code>NSPredicate *objPredicate = [NSPredicate predicateWithFormat:[NSString stringWithFormat:@\"fileID == %d\",151]];\n</code></pre>\n\n<p>2.You are saying that fileID value got change then first confirm that what is the type of <em>objTblFile.fileID</em> if it is NSInteger then its ok.</p>\n\n<p>For my example i have passed NSInteger there and code working fine.</p>\n"}], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576039875, "creation_date": 1575974133, "question_id": 59265234, "link": "https://stackoverflow.com/questions/59265234/nsdictionary-values-changes-without-any-modification", "title": "NSDictionary values changes without any modification", "body": "<p>I added an NSDictionary to NSMutableArray.</p>\n\n<pre><code>for (TblFiles *objTblFile in visitorFilesArray) {\n        NSData *fileDataTemp = [[NSData alloc] initWithContentsOfURL: [NSURL URLWithString: objTblFile.internalFileName]];\n        NSDictionary *tempDict = [NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithInteger:(NSInteger)objTblFile.fileID],@\"fileID\",\n                                  objTblFile.fileName,@\"fileName\",\n                                  fileDataTemp,@\"fileData\",nil];\n        [filesArrayInAddVisitor addObject:tempDict];\n}\n</code></pre>\n\n<p>After that I tried to delete one dictionary from this array, I am getting crash. It happens because of fileID values are changed. Some time its working perfect. Some times getting crash. </p>\n\n<pre><code> NSPredicate *objPredicate = [NSPredicate predicateWithFormat:@\"fileID == %@\",151];\n NSArray *filterArray = [filesArrayInAddVisitor filteredArrayUsingPredicate:objPredicate];\n\n[self-&gt;filesArrayInAddVisitor removeObject:[filterArray objectAtIndex:0]];\n[self-&gt;fileTableView reloadData]; \n</code></pre>\n\n<p>I don't know why values are changed in NSDictionary. </p>\n\n<p>Example : I added fileID as 151, but in NSMutableArray it changed to zero in some cases.</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "macos-sierra"], "comments": [{"owner": {"reputation": 6076, "user_id": 2212172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/LDkDc.png?s=128&g=1", "display_name": "Lord Zsolt", "link": "https://stackoverflow.com/users/2212172/lord-zsolt"}, "edited": false, "score": 0, "creation_date": 1575973843, "post_id": 59265015, "comment_id": 104738146, "body": "Check if the delegate method <code>tableView:didRemoveRowView:forRow:</code> gets called. Otherwise, consider dropping macOS Sierra support? ^_^"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1575974740, "post_id": 59265015, "comment_id": 104738606, "body": "See <a href=\"https://stackoverflow.com/a/47843548/4244136\">NSTableView unhideRowsAtIndexes crashes</a>"}, {"owner": {"reputation": 21, "user_id": 12510796, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAoS0zFMpFTAFaTS0QqKSDKlqCFjYYUJ2OWrflR3g=k-s128", "display_name": "Nikola G.", "link": "https://stackoverflow.com/users/12510796/nikola-g"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1575975615, "post_id": 59265015, "comment_id": 104739060, "body": "@Willeke thanks for pointing to answer. It is described there that it is fixed in High Sierra."}, {"owner": {"reputation": 21, "user_id": 12510796, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAoS0zFMpFTAFaTS0QqKSDKlqCFjYYUJ2OWrflR3g=k-s128", "display_name": "Nikola G.", "link": "https://stackoverflow.com/users/12510796/nikola-g"}, "edited": false, "score": 0, "creation_date": 1575975717, "post_id": 59265015, "comment_id": 104739119, "body": "Question is answered in <a href=\"https://stackoverflow.com/questions/37616958/nstableview-unhiderowsatindexes-crashes/47843548#47843548\">NSTableView unhideRowsAtIndexes crashes</a>"}], "owner": {"reputation": 21, "user_id": 12510796, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAoS0zFMpFTAFaTS0QqKSDKlqCFjYYUJ2OWrflR3g=k-s128", "display_name": "Nikola G.", "link": "https://stackoverflow.com/users/12510796/nikola-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575973402, "creation_date": 1575973402, "question_id": 59265015, "link": "https://stackoverflow.com/questions/59265015/nstableview-hiderowsatindexes-does-not-work-on-sierra", "title": "NSTableView hideRowsAtIndexes does not work on Sierra", "body": "<p>I have a NSTableView that needs to be refreshed, and some of its rows hidden after that. It is working on Mojave and Catalina, but it is not hiding rows on Sierra. </p>\n\n<p>According to Apple documentation it should be supported from version macOS 10.11+.\n<a href=\"https://developer.apple.com/documentation/appkit/nstableview/1534141-hiderowsatindexes?language=objc\" rel=\"nofollow noreferrer\">link to documentation for hideRowsAtIndexes</a>.</p>\n\n<p>This is the block of code that is not working:</p>\n\n<pre><code>    [_tableView reloadData];\n    [_tableView beginUpdates];\n    [_tableView hideRowsAtIndexes:indexesOfRowsToHide withAnimation:NSTableViewAnimationEffectNone];\n    [_tableView endUpdates];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "owner": {"reputation": 101, "user_id": 9869098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5323ee817e756ce818661a4df2d61d67?s=128&d=identicon&r=PG&f=1", "display_name": "Sim.Li", "link": "https://stackoverflow.com/users/9869098/sim-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575960305, "creation_date": 1575960305, "question_id": 59261612, "link": "https://stackoverflow.com/questions/59261612/how-verifies-nullable-and-nonnull-in-a-ios-m-files", "title": "How verifies nullable and nonnull in a ios `.m` files", "body": "<p>How to make <code>.m</code> files verify nullable and nonnull in Xcode, just like in <code>.h</code></p>\n\n<p>Swift can judge optional values very well, but OC does not. OC can prompt that a parameter is nullable or nonnull in <code>.h</code> file, but there is no warning prompt in <code>.m</code> file, is there any way for Xcode to prompt nullable and nonnull in <code>.m</code> file?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1575956795, "post_id": 59260952, "comment_id": 104730504, "body": "do you know about <code>@objc</code> directive used with swift functions?"}, {"owner": {"reputation": 7423, "user_id": 128647, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/932bfa80e7d5821fd6ff47733095bdc9?s=128&d=identicon&r=PG", "display_name": "Matrix", "link": "https://stackoverflow.com/users/128647/matrix"}, "reply_to_user": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1575985270, "post_id": 59260952, "comment_id": 104744389, "body": "yes i know about @objc."}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 4, "last_activity_date": 1575957427, "creation_date": 1575957427, "answer_id": 59261064, "question_id": 59260952, "link": "https://stackoverflow.com/questions/59260952/what-kind-of-swift-datatypes-we-can-not-communicate-call-from-objectivec-code/59261064#59261064", "title": "what kind of swift datatypes we can not communicate/call from objectiveC code?", "body": "<p>Objective-C can\u2019t see any of the following:</p>\n\n<ul>\n<li>Swift enums, except for an @objc enum with an Int raw value</li>\n<li>Swift structs, except for structs that come ultimately from C (or that are bridged)</li>\n<li>Swift classes not derived from NSObject</li>\n<li>Swift protocols not marked @objc</li>\n<li>Protocol extensions</li>\n<li>Generics</li>\n<li>Tuples</li>\n<li>Nested types</li>\n</ul>\n"}], "owner": {"reputation": 7423, "user_id": 128647, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/932bfa80e7d5821fd6ff47733095bdc9?s=128&d=identicon&r=PG", "display_name": "Matrix", "link": "https://stackoverflow.com/users/128647/matrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 59261064, "answer_count": 1, "score": 1, "last_activity_date": 1575960325, "creation_date": 1575956736, "last_edit_date": 1575960325, "question_id": 59260952, "link": "https://stackoverflow.com/questions/59260952/what-kind-of-swift-datatypes-we-can-not-communicate-call-from-objectivec-code", "title": "what kind of swift datatypes we can not communicate/call from objectiveC code?", "body": "<p>This question is regarding calling Swift methods from Objective-C code.</p>\n\n<p>What kind of Swift objects we can not communicate/call from Objective-C code?</p>\n\n<p>I have come across one ie Tuple. since objective C doesn't have Tuple equivalent datatype, we can not call a swift method that takes/returns Tuple from Objective-C code.</p>\n\n<p>Are there any other datatypes?</p>\n"}, {"tags": ["objective-c", "uipickerview", "converters"], "comments": [{"owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "edited": false, "score": 0, "creation_date": 1575953260, "post_id": 59251796, "comment_id": 104729493, "body": "i have implemented same code i don&#39;t have any issue. please describe in brief what happens."}, {"owner": {"reputation": 475, "user_id": 10769225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K1AOR.jpg?s=128&g=1", "display_name": "Tyler Morales", "link": "https://stackoverflow.com/users/10769225/tyler-morales"}, "reply_to_user": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "edited": false, "score": 0, "creation_date": 1576015616, "post_id": 59251796, "comment_id": 104759041, "body": "I am able to show which row is currently enabled, but I would like to carry out functions to calculate fahrenheit to celsius etc."}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "is_accepted": false, "score": 0, "last_activity_date": 1576040532, "creation_date": 1576040532, "answer_id": 59279151, "question_id": 59251796, "link": "https://stackoverflow.com/questions/59251796/how-to-implement-a-multiple-conversions-in-pickerview-in-objective-c/59279151#59279151", "title": "How to implement a multiple conversions in pickerView in objective-c", "body": "<p>Add this code in didselect method.    </p>\n\n<pre><code>if ([devices[row]  isEqualToString: @\"Pounds\"]) {\n           double kgs =[self convertLbsToKgs:[inputField.text doubleValue]];\n            outputTextBox.text=[NSString stringWithFormat:@\"%f\",kgs];\n\n        }else if ([devices[row]  isEqualToString: @\"Fahernheit\"]){\n            double celcious =[self convertFarenheitToCelcius:[inputField.text doubleValue]];\n            outputTextBox.text=[NSString stringWithFormat:@\"%f\",celcious];\n\n        }else if ([devices[row]  isEqualToString: @\"Miles\"]){\n            double kms=[self convertMilesToKilometers:[inputField.text doubleValue]];\n            outputTextBox.text=[NSString stringWithFormat:@\"%f\",kms];\n        }\n</code></pre>\n"}], "owner": {"reputation": 475, "user_id": 10769225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K1AOR.jpg?s=128&g=1", "display_name": "Tyler Morales", "link": "https://stackoverflow.com/users/10769225/tyler-morales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576040532, "creation_date": 1575904681, "question_id": 59251796, "link": "https://stackoverflow.com/questions/59251796/how-to-implement-a-multiple-conversions-in-pickerview-in-objective-c", "title": "How to implement a multiple conversions in pickerView in objective-c", "body": "<p>I am trying to create a conversion app. I have three units to convert: temperature (fahrenheit, pounds and miles to their metric counterparts).</p>\n\n<p>I want to use a picker view, but I am having difficulties connecting the pickerView to the functionality and actually selecting each unit.</p>\n\n<p>I have been able to implement this in a segmented control, but would like a pickerView to be able to add more conversions in the future.</p>\n\n<p>Thanks!</p>\n\n<p>ViewControlle.m</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface  ViewController (){\nNSArray *devices;\n}\n@end\n\n//CONVERSIONS\n\n// convert pounds to kilograms\ndouble convertLbsToKgs(double poundsValue){\ndouble kilogramsValue;\nkilogramsValue = poundsValue / 2.205;\nreturn kilogramsValue;\n}\n\n//convert fahrenheit to celcius\ndouble convertFarenheitToCelcius(double farenheitValue){\ndouble celciusValue;\ncelciusValue = (farenheitValue - 32) * 0.555;\nreturn celciusValue;\n}\n\n//convert miles to kilometers\ndouble convertMilesToKilometers(double milesValue){\ndouble kilometersValue;\nkilometersValue = milesValue * 1.609;\nreturn kilometersValue;\n}\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n[super viewDidLoad];\n\ndevices = @[@\"Pounds\", @\"Fahernheit\", @\"Miles\"];\nself.pickerView.dataSource = self;\nself.pickerView.delegate = self;\n}\n\n// pickerView datascource &amp; delegate methods\n- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView{\nreturn 1;\n }\n\n- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component{\nreturn devices.count;\n}\n\n- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component{\nreturn devices[row];\n}\n\n- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component{\n\nself.outputTextBox.text = devices[row];\n}\n\n- (void)didReceiveMemoryWarning {\n[super didReceiveMemoryWarning];\n// Dispose of any resources that can be recreated.\n }\n\n@end\n</code></pre>\n\n<p>ViewController.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface ViewController : UIViewController&lt;UIPickerViewDataSource, UIPickerViewDelegate&gt;\n\n@property (weak, nonatomic) IBOutlet UITextField *inputField;\n@property (weak, nonatomic) IBOutlet UILabel *outputTextBox;\n@property (weak, nonatomic) IBOutlet UIPickerView *pickerView;\n\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "linux", "file", "computer-science"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 1, "last_activity_date": 1575951515, "creation_date": 1575951515, "answer_id": 59260160, "question_id": 59249922, "link": "https://stackoverflow.com/questions/59249922/why-a-files-creation-timestamp-is-different-from-different-device/59260160#59260160", "title": "Why a file&#39;s creation timestamp is different from different device?", "body": "<p>The creation date you are reading comes from the file system, not one from the file (meta)data itself e.g. A copied digital photo may contain an EXIF date when it was taken (and hence when the original file was created) which differs from the file system creation date of the copy.</p>\n\n<p>Some systems may maintain the original creation date when copying a file, this is usually done above the file system level, e.g. a copy is first created, which gets the current time as its creation date, and then a system call is made to alter the creation date to that of the original.</p>\n\n<p>As an example in macOS if a file is copied in the Finder the copy inherits its creation date from the original. However if the copy is done in the shell using <code>cp</code> the creation date is not inherited.</p>\n"}], "owner": {"reputation": 23, "user_id": 10599242, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wfv4qucSF6c/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbBXpn07Yfxhp34xWFT4PTe697HqnQ/mo/photo.jpg?sz=128", "display_name": "vividlipi", "link": "https://stackoverflow.com/users/10599242/vividlipi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59260160, "answer_count": 1, "score": 1, "last_activity_date": 1575951515, "creation_date": 1575898069, "question_id": 59249922, "link": "https://stackoverflow.com/questions/59249922/why-a-files-creation-timestamp-is-different-from-different-device", "title": "Why a file&#39;s creation timestamp is different from different device?", "body": "<p>I use <code>stat -t \"%s\" filename</code> on MAC, then I get one line like: </p>\n\n<pre><code>16777223 9414940 -rwxr-xr-x 1 name staff 0 10838392 \"1569834440\" \"1567413629\" \"1567413629\" \"1567413629\" 4096 21176 0 filename\n</code></pre>\n\n<p>according to <code>man stat</code>, the second timestap(<code>\"1567413629\"</code>) is creation timestamp of this file.</p>\n\n<p>But when I use code in Objective-C to get a file's creation time, something odd happen. I get the creation time <code>\"1567413631\"</code> while I expected <code>\"1567413629\"</code>. The Objective Code is following:</p>\n\n<pre><code>NSDate * createDate = ((WMMediaAsset *)section.assets[index]).creationDate;\nNSString * timestamp = [NSString stringWithFormat:@\"%lld\", (long long)([createDate timeIntervalSince1970])];\n</code></pre>\n\n<p>As I thought the creation timestamp is an absolute value record in the file inner. To copy a file to another device will not change the creation time of a file. </p>\n\n<p>Am I wrong? Can you give some tips or remind me somewhere I should go find more information?</p>\n"}, {"tags": ["ios", "objective-c", "google-drive-api"], "comments": [{"owner": {"reputation": 3463, "user_id": 12152337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kYZUH.jpg?s=128&g=1", "display_name": "carlesgg97", "link": "https://stackoverflow.com/users/12152337/carlesgg97"}, "edited": false, "score": 0, "creation_date": 1575903454, "post_id": 59249452, "comment_id": 104712613, "body": "Hello @Mayfly! Since you removed the authentication part - may I ask how are you authenticating into Google APIs in your code? Are you completing the OAuth flow, or are you only using the API key to interact with the API? Cheers"}, {"owner": {"reputation": 11, "user_id": 12505128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gmjDsOV8Ho0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjX1VF4fLDsAKvQu90a0kbPwV6HA/photo.jpg?sz=128", "display_name": "Mayfly", "link": "https://stackoverflow.com/users/12505128/mayfly"}, "reply_to_user": {"reputation": 3463, "user_id": 12152337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kYZUH.jpg?s=128&g=1", "display_name": "carlesgg97", "link": "https://stackoverflow.com/users/12152337/carlesgg97"}, "edited": false, "score": 0, "creation_date": 1575980781, "post_id": 59249452, "comment_id": 104741805, "body": "I&#39;m using GIDSignIn to log in. The GIDSignIn object supplies a fetcherAuthorizer - whatever exactly one of those is - which I pass to the GLTRDriveService, as shown. Is there supposed to be more involved? I haven&#39;t seen any docs that actually explain everything in a clearly laid out, everything in one place fashion, so this is what I&#39;ve managed to piece together."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12505128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gmjDsOV8Ho0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjX1VF4fLDsAKvQu90a0kbPwV6HA/photo.jpg?sz=128", "display_name": "Mayfly", "link": "https://stackoverflow.com/users/12505128/mayfly"}, "is_accepted": false, "score": 0, "last_activity_date": 1576164519, "creation_date": 1576164519, "answer_id": 59307950, "question_id": 59249452, "link": "https://stackoverflow.com/questions/59249452/google-drive-403-insufficient-permission-uploading-file-but-not-creating-folde/59307950#59307950", "title": "Google Drive - 403 insufficient permission uploading file but not creating folder", "body": "<p>For those who follow after me, I think I've concluded that using the appDataFolder in iOS just doesn't work.\nHaving switched to using a folder in the Drive space, I've also found that the <code>-uploadParametersWithFileURL:MIMEType:</code> method of GTLRUploadParameters doesn't work. When I use that I get a file called 'Untitled' (containing the file metadata I set in my GTLRDrive_File object) in the root of the drive. As soon as I switched to <code>-uploadParametersWithData:MIMEType:</code> I got the correct file in the correct place.\nI suppose the lesson so far is that if something isn't working, assume it\u2019s the SDK.</p>\n"}], "owner": {"reputation": 11, "user_id": 12505128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gmjDsOV8Ho0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjX1VF4fLDsAKvQu90a0kbPwV6HA/photo.jpg?sz=128", "display_name": "Mayfly", "link": "https://stackoverflow.com/users/12505128/mayfly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576164519, "creation_date": 1575896383, "last_edit_date": 1576090728, "question_id": 59249452, "link": "https://stackoverflow.com/questions/59249452/google-drive-403-insufficient-permission-uploading-file-but-not-creating-folde", "title": "Google Drive - 403 insufficient permission uploading file but not creating folder", "body": "<p>I am trying to add Google Drive support to one of my apps using a private app data folder. I have sign-in working with the GIDSignIn class and the scope set to kGTLRAuthScopeDriveAppdata. Once I am signed in, I can create folders and get a file listing that shows the folders are there, then I can delete the folders and the file listing shows that they are gone. But for some reason when I try to upload a file I get a 403 error (\"The user does not have sufficient permissions for this file.\"). This happens whether I try to put the file in the root of the app data folder or into a folder I have created.\nI have set up a project in the Google Developer Console. I have an API key configured to work with my app's bundle ID and given it unrestricted API access. The Google Drive API is enabled.</p>\n\n<p>My code is adapted from Google's own samples so a lot of this may look quite familiar. I've trimmed down the sign-in handling since that appears to be working fine.</p>\n\n<pre><code>- (instancetype) init\n{\n    self = [super init];\n    if (!self) return nil;\n\n    [GIDSignIn sharedInstance].clientID = (NSString *)kGoogleClientId;\n        //kGoogleClientId is the ID from the developer console.\n    [GIDSignIn sharedInstance].delegate = self;\n    [GIDSignIn sharedInstance].scopes = @[kGTLRAuthScopeDriveAppdata];\n\n    return self;\n}\n\n\n//GIDSignInDelegate method\n- (void) signIn:(GIDSignIn *)signIn didSignInForUser:(GIDGoogleUser *)user withError:(NSError *)error\n{   \n    authenticatedUser = user;   //authenticatedUser is an instance variable\n    NSLog(@\"Signed in to Google Drive with user %@\", user.profile.name);\n    [delegate GoogleDriveDidSignIn:self];\n}\n\n\n- (GTLRDriveService *) driveService\n{\n    static GTLRDriveService *service;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken,\n           ^{\n            service = [[GTLRDriveService alloc] init];\n            service.APIKey = (NSString *)kGoogleApiKey;\n                //kGoogleApiKey matches the developer console too. It has unrestricted API access and is tied to my bundle ID\n            service.APIKeyRestrictionBundleID = [[NSBundle mainBundle] bundleIdentifier];\n\n            service.shouldFetchNextPages = YES;\n            service.retryEnabled = YES;\n            });\n\n    service.authorizer = authenticatedUser.authentication.fetcherAuthorizer;\n        //authenticatedUser is an instance variable which stores the user information returned by\n        //GIDSignIn when the user signs in\n\n    return service;\n}\n\n\n- (void) createFolderNamed:(NSString *)folderName completionHandler:(void(^)(NSString *foldername, NSString *newFolderId))completionHandler\n{\n    GoogleDriveHandler * __weak weakself = self;\n    GTLRDriveService *service = [self driveService];\n    GTLRDrive_File *folder = [GTLRDrive_File object];\n    folder.name = folderName;\n    folder.mimeType = (NSString *)kMimeType_GoogleDriveFolder;\n    folder.parents = @[@\"appDataFolder\"];\n    GTLRDriveQuery_FilesCreate *query = [GTLRDriveQuery_FilesCreate queryWithObject:folder uploadParameters:nil];\n    [service executeQuery:query completionHandler:^(GTLRServiceTicket * _Nonnull callbackTicket, id  _Nullable object, NSError * _Nullable callbackError)\n        {\n        if (callbackError)\n            {\n            NSLog(@\"-createFolderNamed: callbackError: %@\", callbackError.localizedDescription);\n            }\n        else\n            {\n            GTLRDrive_File *createdFolder = (GTLRDrive_File *)object;\n            if ( [createdFolder.mimeType isEqualToString:(NSString *)kMimeType_GoogleDriveFolder] )\n                {\n                NSLog(@\"Google Drive created folder named \\\"%@\\\" with identifier \\\"%@\\\" and mime-type \\\"%@\\\"\", createdFolder.name, createdFolder.identifier, createdFolder.mimeType);\n                }\n            else\n                {\n                NSLog(@\"Error : Attempted to create folder, but Google Drive created item named \\\"%@\\\" with identifier \\\"%@\\\" and mime-type \\\"%@\\\"\", createdFolder.name, createdFolder.identifier, createdFolder.mimeType);\n                }\n            }\n        }];\n}\n\n\n- (void) writeFileAtUrl:(NSURL *)source toFolderWithId:(NSString *)folderId completionHandler:(void(^)(NSString *filename, NSString *newFileId))completionHandler\n{\n    GoogleDriveHandler * __weak weakself = self;\n    GTLRDriveService *service = [self driveService];\n    GTLRDrive_File *file = [GTLRDrive_File object];\n    file.name = source.lastPathComponent;\n    file.mimeType = @\"binary/octet-stream\";\n    file.parents = @[folderId];\n    file.spaces = @[@\"appDataFolder\"];\n\n    GTLRUploadParameters *parameters = [GTLRUploadParameters uploadParametersWithFileURL:source MIMEType:@\"binary/octet-stream\"];\n\n    parameters.shouldUploadWithSingleRequest = YES;\n    GTLRDriveQuery_FilesCreate *query = [GTLRDriveQuery_FilesCreate queryWithObject:file uploadParameters:parameters];\n    query.fields = @\"id\";\n\n    [service executeQuery:query completionHandler:^(GTLRServiceTicket * _Nonnull callbackTicket, id  _Nullable object, NSError * _Nullable callbackError)\n            {\n            if (callbackTicket.statusCode == 200)\n                {\n                GTLRDrive_File *createdFile = (GTLRDrive_File *)object;\n                NSLog(@\"Wrote file %@ in Google Drive folder %@\", createdFile.name, folderId);\n                if (completionHandler) completionHandler(createdFile.name, createdFile.identifier);\n                }\n            else\n                {\n                NSLog(@\"-writeFileAtUrl:toFolderWithId:completionHandler:  status code = %li : callbackError: %@\", callbackTicket.statusCode, callbackError.localizedDescription);\n                }\n            }];\n}\n\n</code></pre>\n\n<p>As an example, I've tried doing this after GIDSignIn logs in:</p>\n\n<pre><code>NSURL *sampleFile = [[NSBundle mainBundle] URLForResource:@\"AValidTestFile\" withExtension:@\"png\"];\nif (sampleFile)\n    {\n    [self writeFileAtUrl:sampleFile toFolderWithId:@\"appDataFolder\" completionHandler:^(NSString *filename, NSString *newFileId)\n                {\n                NSLog(@\"Uploaded file %@ with ID %@\", filename, newFileId);\n                }];\n    }\n</code></pre>\n\n<p>I still just get a 403 error.\nAt this point, I've read a huge number of tutorials, blog posts and forum threads in several different programming languages. I've gone over my own code several times and added an insane number of logging statements to double check everything, but I can't work out how I can have permission to create folders, but not to put files in them.</p>\n\n<hr>\n\n<p><strong>Some time later...</strong><br>\nIf you go through the credential wizard in the Google Console (rather than just selecting an iOS credential because you're creating an iOS app), you get a message which says \"Application data cannot be accessed securely from iOS. Please consider selecting another platform\" and it refuses to create a credential for you. Is it possible that this just doesn't work, despite the SDK having the necessary constants?</p>\n"}, {"tags": ["objective-c", "datetimepicker"], "answers": [{"tags": [], "owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "is_accepted": false, "score": 0, "last_activity_date": 1576064580, "creation_date": 1576064580, "answer_id": 59285055, "question_id": 59248909, "link": "https://stackoverflow.com/questions/59248909/timepicker-time-columns-are-reversed/59285055#59285055", "title": "TimePicker time columns are reversed", "body": "<p>I solved it by adding this code in the ViewController:</p>\n\n<pre><code>-(void) viewDidLayoutSubviews\n{\n    NSArray* subviews = [self.datePicker subviews];\n    for(UIView* subview in subviews){\n        [subview setSemanticContentAttribute:UISemanticContentAttributeForceRightToLeft];\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576064580, "creation_date": 1575894325, "last_edit_date": 1575895588, "question_id": 59248909, "link": "https://stackoverflow.com/questions/59248909/timepicker-time-columns-are-reversed", "title": "TimePicker time columns are reversed", "body": "<p>I want to have a time picker in my application, the problem is that the hours and minutes column is misplaced - meaning they changed places, as shown in the attached image.</p>\n\n<p>Here's my <code>onViewDidLoad()</code>:</p>\n\n<pre><code>-(void)viewDidLoad{\n\n    self.titleBackgroudView.backgroundColor = self.isOn ? ChromagenSwitchOnRedColor: ChromagenSwitchOnGreenColor;\n    self.titleLabel.text = self.isOn ? [PListHelper localizedStringForKey:@\"ssrTimerOff\"] : [PListHelper localizedStringForKey:@\"ssrTimerOn\"];\n\n    [self.applyButton setTitle:[PListHelper localizedStringForKey:@\"applyButton\"] forState:UIControlStateNormal];\n    [self.applyButton setTitleColor:self.isOn ? ChromagenSwitchOnRedColor: ChromagenSwitchOnGreenColor  forState:UIControlStateNormal];\n\n    [self.cancelButton setTitle:[PListHelper localizedStringForKey:@\"cancelButton\"] forState:UIControlStateNormal];\n    [self.cancelButton setTitleColor:self.isOn ? ChromagenSwitchOnRedColor : ChromagenSwitchOnGreenColor forState:UIControlStateNormal];\n\n    if([[[NSUserDefaults standardUserDefaults] objectForKey:@\"appLanguage\"] containsString:@\"en\"]){\n\n        [self.datePicker setLocale:[NSLocale localeWithLocaleIdentifier:@\"en_US\"]];\n    }\n\n}\n</code></pre>\n\n<p>Even though I try to change the locale, the order of the columns still remains mm:HH instead of HH:mm. What am I doing wrong here?</p>\n\n<p><strong>Edit</strong>\nI also tried the following: </p>\n\n<pre><code>self.datePicker.semanticContentAttribute = UISemanticContentAttributeForceLeftToRight;\n</code></pre>\n\n<p>But I also didn't help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/O4Fpy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O4Fpy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1575950089, "post_id": 59248462, "comment_id": 104728739, "body": "See if this is helpful: <a href=\"https://stackoverflow.com/questions/56878455/swift-conditional-compiling-didnt-work-properly-when-i-use-macro-defined-in-obj/56879257#56879257\" title=\"swift conditional compiling didnt work properly when i use macro defined in obj\">stackoverflow.com/questions/56878455/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 81077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a92d4c024505213ff8149bbab573d08?s=128&d=identicon&r=PG", "display_name": "gmw", "link": "https://stackoverflow.com/users/81077/gmw"}, "is_accepted": false, "score": 1, "last_activity_date": 1575897484, "creation_date": 1575897484, "answer_id": 59249757, "question_id": 59248462, "link": "https://stackoverflow.com/questions/59248462/swift-compiler-flags-wont-affect-objective-c-code/59249757#59249757", "title": "Swift Compiler Flags Wont affect Objective-C code", "body": "<p>In Objective-C (and other C-like languages that use a preprocessor) the canonical way to check whether a symbol is defined would be using <code>#ifdef</code>, not <code>#if</code>. There is an <code>#if</code> directive in Objective-C, but it doesn't behave quite the same way as the Swift <code>#if</code> compiler directive.</p>\n"}], "owner": {"reputation": 3945, "user_id": 923290, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/25fe866fe695a6c37e0fde3600d27df5?s=128&d=identicon&r=PG", "display_name": "or azran", "link": "https://stackoverflow.com/users/923290/or-azran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575897484, "creation_date": 1575892700, "question_id": 59248462, "link": "https://stackoverflow.com/questions/59248462/swift-compiler-flags-wont-affect-objective-c-code", "title": "Swift Compiler Flags Wont affect Objective-C code", "body": "<p>under <code>Active Compilation Conditions</code> i have added a new flag (for debug only) called <code>SOMEFLAG</code>.\nthe check is implemented like so and works great:</p>\n\n<pre><code>#if SOMEFLAG\n   print(\"SOMEFLAG is true\");\n#endif\n</code></pre>\n\n<p>it actually prints like i would expect. now, i need to examine the same flag from <code>Objective-C</code> class and it never evaluates to true. any idea why?\nshould i make this flag in other way?\nin general my goal is to be able to detect when it is executed from another target, the build is triggered from the <code>cli</code>. \nif there is other way that less limiting i would like to know.</p>\n\n<p>thanks!</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "crash", "key-value-observing"], "comments": [{"owner": {"reputation": 2997, "user_id": 623685, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/03e2cbb09bd5c27f46ed9db8a4de2417?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/623685/robert"}, "edited": false, "score": 0, "creation_date": 1579002340, "post_id": 59246496, "comment_id": 105615067, "body": "Maybe the device sometimes switches to white-balancing gains that are &quot;out-of-range&quot; and cannot be translated to temperature/tint values (resulting in an exception thrown by temperatureAndTintValuesForDeviceWhiteBalanceGains). I&#39;ve seen similar issues, e.g. in auto-exposure mode my device sometimes exceeds the device&#39;s maxIso value - which should be completely impossible. Sometimes with iOS AVCaptureDevice you have to handle errors that shouldnt exist in the first place..."}], "owner": {"reputation": 252, "user_id": 1779988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3c31c2be454ba9d361ee17302c3ad1?s=128&d=identicon&r=PG", "display_name": "BlackRock", "link": "https://stackoverflow.com/users/1779988/blackrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575976618, "creation_date": 1575885862, "last_edit_date": 1575976618, "question_id": 59246496, "link": "https://stackoverflow.com/questions/59246496/app-crashes-randomly-in-observevalueforkeypath-ios-kvo", "title": "App crashes randomly in observeValueForKeyPath - iOS KVO", "body": "<p>Many users of my app are having crash problems. It happens or during the opening of the app or during the use.</p>\n\n<p>I'm unable to replicate the error because the problem does not occur on my devices, and I'm not managing to find a solution.</p>\n\n<p>Most users will solve the problem by reinstalling the app.</p>\n\n<p>In the crashlog the method that causes the bug is <code>[AVCaptureFigVideoDevice temperatureAndTintValuesForDeviceWhiteBalanceGains:]</code> called in <code>[ViewController observeValueForKeyPath:ofObject:change:context:]</code> but sometimes the crash occurs in other line of the method <code>observeValueForKeyPath</code>.</p>\n\n<p>So I think the problem is caused by the observers.</p>\n\n<p>I add the observer in the viewWillAppear and remove on viewDidDisappear</p>\n\n<pre><code>- (void)addObservers\n{\n    [self addObserver:self forKeyPath:@\"sessionRunningAndDeviceAuthorized\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:SessionRunningAndDeviceAuthorizedContext];\n    [self addObserver:self forKeyPath:@\"stillImageOutput.capturingStillImage\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:CapturingStillImageContext];\n    [self addObserver:self forKeyPath:@\"movieFileOutput.recording\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:RecordingContext];\n\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.focusMode\" options:(NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:FocusModeContext];\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.lensPosition\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:LensPositionContext];\n\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.exposureMode\" options:(NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:ExposureModeContext];\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.exposureDuration\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:ExposureDurationContext];\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.ISO\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:ISOContext];\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.exposureTargetOffset\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:ExposureTargetOffsetContext];\n\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.whiteBalanceMode\" options:(NSKeyValueObservingOptionInitial | NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:WhiteBalanceModeContext];\n    [self addObserver:self forKeyPath:@\"videoDeviceInput.device.deviceWhiteBalanceGains\" options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew) context:DeviceWhiteBalanceGainsContext];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(subjectAreaDidChange:) name:AVCaptureDeviceSubjectAreaDidChangeNotification object:[self videoDevice]];\n\n}\n\n- (void)removeObservers\n{\n  [[NSNotificationCenter defaultCenter] removeObserver:self name:AVCaptureDeviceSubjectAreaDidChangeNotification object:[self videoDevice]];\n  [[NSNotificationCenter defaultCenter] removeObserver:[self runtimeErrorHandlingObserver]];\n\n  [self removeObserver:self forKeyPath:@\"sessionRunningAndDeviceAuthorized\" context:SessionRunningAndDeviceAuthorizedContext];\n  [self removeObserver:self forKeyPath:@\"stillImageOutput.capturingStillImage\" context:CapturingStillImageContext];\n  [self removeObserver:self forKeyPath:@\"movieFileOutput.recording\" context:RecordingContext];\n\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.focusMode\" context:FocusModeContext];\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.lensPosition\" context:LensPositionContext];\n\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.exposureMode\" context:ExposureModeContext];\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.exposureDuration\" context:ExposureDurationContext];\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.ISO\" context:ISOContext];\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.exposureTargetOffset\" context:ExposureTargetOffsetContext];\n\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.whiteBalanceMode\" context:WhiteBalanceModeContext];\n  [self removeObserver:self forKeyPath:@\"videoDeviceInput.device.deviceWhiteBalanceGains\" context:DeviceWhiteBalanceGainsContext];\n\n}\n</code></pre>\n\n<p>Here's a crashlog:</p>\n\n<pre><code>Last Exception Backtrace:\n0   CoreFoundation                  0x19df7bab0 __exceptionPreprocess + 224\n1   libobjc.A.dylib                 0x19dc95028 objc_exception_throw + 59\n2   AVFoundation                    0x1a82ed658 -[AVCaptureFigVideoDevice temperatureAndTintValuesForDeviceWhiteBalanceGains:] + 263\n3   App                         0x1002b6b90 __65-[ViewController observeValueForKeyPath:ofObject:change:context:]_block_invoke + 633744 (ViewController.m:5483)\n4   libdispatch.dylib               0x19dc20b7c _dispatch_call_block_and_release + 31\n5   libdispatch.dylib               0x19dc21fd8 _dispatch_client_callout + 19\n6   libdispatch.dylib               0x19dc2dcc8 _dispatch_main_queue_callback_4CF + 967\n7   CoreFoundation                  0x19def6e0c __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 15\n8   CoreFoundation                  0x19def1b68 __CFRunLoopRun + 1979\n9   CoreFoundation                  0x19def1084 CFRunLoopRunSpecific + 479\n10  GraphicsServices                0x1a813f534 GSEventRunModal + 107\n11  UIKitCore                       0x1a2061670 UIApplicationMain + 1939\n12  App                         0x100350e6c main + 1265260 (main.m:14)\n13  libdyld.dylib                   0x19dd70e18 start + 3\n\n\nThread 0 name:  Dispatch queue: com.apple.main-thread\nThread 0 Crashed:\n0   libsystem_kernel.dylib          0x000000019dd66efc __pthread_kill + 8\n1   libsystem_pthread.dylib         0x000000019dc86d10 pthread_kill + 196\n2   libsystem_c.dylib               0x000000019dc16a74 abort + 104\n3   libc++abi.dylib                 0x000000019dd2e3c8 __cxa_bad_cast + 0\n4   libc++abi.dylib                 0x000000019dd2e5c0 demangling_unexpected_handler+ 5568 () + 0\n5   libobjc.A.dylib                 0x000000019dc95308 _objc_terminate+ 25352 () + 124\n6   libc++abi.dylib                 0x000000019dd3b634 std::__terminate(void (*)+ 58932 ()) + 20\n7   libc++abi.dylib                 0x000000019dd3b5c0 std::terminate+ 58816 () + 44\n8   libdispatch.dylib               0x000000019dc21fec _dispatch_client_callout + 40\n9   libdispatch.dylib               0x000000019dc2dcc8 _dispatch_main_queue_callback_4CF + 968\n10  CoreFoundation                  0x000000019def6e0c __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 16\n11  CoreFoundation                  0x000000019def1b68 __CFRunLoopRun + 1980\n12  CoreFoundation                  0x000000019def1084 CFRunLoopRunSpecific + 480\n13  GraphicsServices                0x00000001a813f534 GSEventRunModal + 108\n14  UIKitCore                       0x00000001a2061670 UIApplicationMain + 1940\n15  App                         0x0000000100350e6c main + 1265260 (main.m:14)\n16  libdyld.dylib                   0x000000019dd70e18 start + 4\n</code></pre>\n"}, {"tags": ["objective-c", "multitasking"], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1575885048, "creation_date": 1575885048, "answer_id": 59246267, "question_id": 59246151, "link": "https://stackoverflow.com/questions/59246151/how-to-cancel-a-dispatch-get-main-queue-with-a-button/59246267#59246267", "title": "How to cancel a &quot;dispatch_get_main_queue&quot; with a Button?", "body": "<p>You need to make sure this api returns completion once </p>\n\n<pre><code>[[JPNetworkingManager sharedManager] getSnapNSendsForLetterWithID\n</code></pre>\n\n<p>Or do this</p>\n\n<pre><code>var once = true \n\n[[JPNetworkingManager sharedManager] getSnapNSendsForLetterWithID:letterID withIsArchived:isArchived completionHandler:^(NSArray *snapNSends, NSError *error) {\n\n    if once { \n\n       dispatch_async(dispatch_get_main_queue(), ^{\n            //do my code\n       }); \n\n       once = false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8718501, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J9NCck5ipxw/AAAAAAAAAAI/AAAAAAAAABU/C9NG-gUbQ7k/photo.jpg?sz=128", "display_name": "C&#243; T\u1ea1 V\u0103n", "link": "https://stackoverflow.com/users/8718501/c%c3%b3-t%e1%ba%a1-v%c4%83n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 59246267, "answer_count": 1, "score": 0, "last_activity_date": 1575885048, "creation_date": 1575884581, "question_id": 59246151, "link": "https://stackoverflow.com/questions/59246151/how-to-cancel-a-dispatch-get-main-queue-with-a-button", "title": "How to cancel a &quot;dispatch_get_main_queue&quot; with a Button?", "body": "<p>I'm trying to coding for a task call API, the problem here is when screen was displayed\na task still run in background:</p>\n\n<pre><code>[[JPNetworkingManager sharedManager] getSnapNSendsForLetterWithID:letterID withIsArchived:isArchived completionHandler:^(NSArray *snapNSends, NSError *error) {\n        dispatch_async(dispatch_get_main_queue(), ^{\n         //do my code\n        });\n}];\n</code></pre>\n\n<p>So how I can cancel this task? Thanks!</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "info.plist"], "comments": [{"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1575884399, "post_id": 59246054, "comment_id": 104702277, "body": "Read doc, <a href=\"https://developer.apple.com/documentation/avfoundation/cameras_and_media_capture/requesting_authorization_for_media_capture_on_ios\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/avfoundation/&hellip;</a>"}, {"owner": {"reputation": 511, "user_id": 1930006, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b4d73206d412865b9f2862a266a5f461?s=128&d=identicon&r=PG", "display_name": "Alfred Woo", "link": "https://stackoverflow.com/users/1930006/alfred-woo"}, "edited": false, "score": 0, "creation_date": 1575884612, "post_id": 59246054, "comment_id": 104702389, "body": "Upload your code to get answer"}, {"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1575885131, "post_id": 59246054, "comment_id": 104702671, "body": "<b>you</b> need to ask for permission, just setting this value in the plist doesnt do it for you."}, {"owner": {"reputation": 29, "user_id": 12504209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8561c6a081995657be3bd49a13ee562e?s=128&d=identicon&r=PG&f=1", "display_name": "Lifetronic", "link": "https://stackoverflow.com/users/12504209/lifetronic"}, "edited": false, "score": 0, "creation_date": 1575886180, "post_id": 59246054, "comment_id": 104703238, "body": "Scriptable: I did a sample app with just the key and it asked the permission without writing any additional line of code. In this app, no."}, {"owner": {"reputation": 29, "user_id": 12504209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8561c6a081995657be3bd49a13ee562e?s=128&d=identicon&r=PG&f=1", "display_name": "Lifetronic", "link": "https://stackoverflow.com/users/12504209/lifetronic"}, "reply_to_user": {"reputation": 511, "user_id": 1930006, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b4d73206d412865b9f2862a266a5f461?s=128&d=identicon&r=PG", "display_name": "Alfred Woo", "link": "https://stackoverflow.com/users/1930006/alfred-woo"}, "edited": false, "score": 0, "creation_date": 1575887138, "post_id": 59246054, "comment_id": 104703752, "body": "@AlfredWoo I added my code as you requested."}, {"owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "edited": false, "score": 0, "creation_date": 1575951924, "post_id": 59246054, "comment_id": 104729185, "body": "add your console log when it crashes."}, {"owner": {"reputation": 29, "user_id": 12504209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8561c6a081995657be3bd49a13ee562e?s=128&d=identicon&r=PG&f=1", "display_name": "Lifetronic", "link": "https://stackoverflow.com/users/12504209/lifetronic"}, "reply_to_user": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "edited": false, "score": 0, "creation_date": 1575966304, "post_id": 59246054, "comment_id": 104734067, "body": "@Sagarkoyani I get a Bad Access. I tried to enable zombies objects but it does not help me"}], "owner": {"reputation": 29, "user_id": 12504209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8561c6a081995657be3bd49a13ee562e?s=128&d=identicon&r=PG&f=1", "display_name": "Lifetronic", "link": "https://stackoverflow.com/users/12504209/lifetronic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575887112, "creation_date": 1575884203, "last_edit_date": 1575887112, "question_id": 59246054, "link": "https://stackoverflow.com/questions/59246054/xcode-privacy-camera-usage-description-wont-ask-the-permission-for-the-came", "title": "Xcode - Privacy - Camera Usage Description won&#39;t ask the permission for the camera", "body": "<p>My app developed in Xcode with Objective-C should ask for the camera permission in order to reply to a <strong>SIP</strong> video call.\nAlthough i wrote the Privacy - Camera Usage Description Key into my info.plist file the app only asks for the microphone permission and <strong>not for the camera permission</strong> and when I start a video call it crash.</p>\n\n<p>This is my info.plist file:\n<a href=\"https://i.stack.imgur.com/br7Fj.png\" rel=\"nofollow noreferrer\">My info.plist file</a></p>\n\n<p>Also, If I go to app settings in iOS Settings there is no camera permission switch. </p>\n\n<p><strong>Update with code as requested</strong></p>\n\n<p>To make a video call i use the <strong>ABTO VoIP SDK</strong>.</p>\n\n<p><strong>AppDelegate.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;AbtoSipClientWrapper/AbtoSipPhoneObserver.h&gt;\n#import \"Global.h\"\n#include \"GenDefs.h\"\n\n#define kNotifKey                                    @\"key\"\n#define kNotifKey_IncomingCall                        @\"icall\"\n#define kNotifKey_IncomingMsg                        @\"imsg\"\n#define kNotifCall_SessionId                        @\"sid\"\n#define kNotifCall_RemoteInfo                       @\"rinfo\"\n#define kNotifKey_IncomingIm                        @\"iim\"\n\n@interface ImMessage : NSObject {\n@public\n    NSString *from;\n    NSString *to;\n    NSString *text;\n    BOOL isRead;\n}\n@end\n\n@interface AppDelegate : UIResponder &lt;UIApplicationDelegate, AbtoPhoneInterfaceObserver&gt; {\n@public\n    UINavigationController *navController;\n    UILocalNotification *lastCallNotification;\n\n    BOOL checkIconLaunch;\n    NSMutableArray *imMessages;\n}\n\n+ (AppDelegate *)sharedInstance;\n\n@property (readwrite,nonatomic) AbtoPhoneInterface* phone;\n@property (retain, nonatomic) UIWindow *window;\n@property (retain, nonatomic) UINavigationController *navController;\n@property (strong, nonatomic) UILocalNotification *lastCallNotification;\n@property (nonatomic) BOOL checkIconLaunch;\n@property (nonatomic) BOOL connected;\n\n\n- (void)addMessage:(ImMessage *)message;\n- (NSMutableArray *)getIMs;\n- (void)restoreIms;\n- (void)storeIms;\n\n@end\n</code></pre>\n\n<p><strong>AppDelegate.m</strong></p>\n\n<pre><code>#import \"AppDelegate.h\"\n\n@interface AppDelegate () {\n}\n\n@end\n\n@implementation AppDelegate\n\n@synthesize phone;\n\n+ (AppDelegate *)sharedInstance{\n    return (AppDelegate *)[UIApplication sharedApplication].delegate;\n}\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // Override point for customization after application launch.\n    phone = [AbtoPhoneInterface new];\n    [phone initialize:self];\n    return YES;\n}\n\n\n#pragma mark - UISceneSession lifecycle\n\n\n- (UISceneConfiguration *)application:(UIApplication *)application configurationForConnectingSceneSession:(UISceneSession *)connectingSceneSession options:(UISceneConnectionOptions *)options {\n    // Called when a new scene session is being created.\n    // Use this method to select a configuration to create the new scene with.\n    return [[UISceneConfiguration alloc] initWithName:@\"Default Configuration\" sessionRole:connectingSceneSession.role];\n}\n\n\n- (void)application:(UIApplication *)application didDiscardSceneSessions:(NSSet&lt;UISceneSession *&gt; *)sceneSessions {\n    // Called when the user discards a scene session.\n    // If any sessions were discarded while the application was not running, this will be called shortly after application:didFinishLaunchingWithOptions.\n    // Use this method to release any resources that were specific to the discarded scenes, as they will not return.\n}\n\n- (void)applicationWillTerminate:(UIApplication *)application {\n    [phone deinitialize];\n}\n\n#pragma mark Abto SIP SDK delegate\n\n- (void)onRegistered:(NSInteger)accId {\n    //[[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_PHONE_EVENT object:@(PhoneEventsRegSuccess)];\n}\n\n- (void)onRegistrationFailed:(NSInteger)accId statusCode:(int)statusCode statusText:(NSString*)statusText {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_PHONE_EVENT object:@(PhoneEventsRegFailed)];\n}\n\n- (void)onUnRegistered:(NSInteger)accId {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_PHONE_EVENT object:@(PhoneEventsUnregSuccess)];\n}\n\n- (void)onRemoteAlerting:(NSInteger)accId statusCode:(int)statusCode {\n   // [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_PHONE_EVENT object:@(PhoneEventsRemoteAlerting)];\n}\n\n- (void)onIncomingCall:(NSInteger)callId remoteContact:(NSString *)remoteContact {\n   [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsIncoming) userInfo:@{CALL_ID_ARGUMENT:@(callId), CONTACT_ARGUMENT:remoteContact}];\n}\n\n- (void)onCallConnected:(NSInteger)callId remoteContact:(NSString *)remoteContact {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsConnected) userInfo:@{CALL_ID_ARGUMENT:@(callId)}];\n}\n\n- (void)onCallDisconnected:(NSInteger)callId remoteContact:(NSString *)remoteContact statusCode:(NSInteger)statusCode message:(NSString *)message {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsDisconnected) userInfo:@{CALL_ID_ARGUMENT:@(callId), STATUS_ARGUMENT:@(statusCode)}];\n}\n\n- (void)onCallAlerting:(NSInteger)callId statusCode:(int)statusCode {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsAlerting) userInfo:@{CALL_ID_ARGUMENT:@(callId), STATUS_ARGUMENT:@(statusCode)}];\n}\n\n- (void)onPresenceChanged:(NSString *)uri status:(PhoneBuddyStatus)status note:(NSString *)note {\n\n}\n\n- (void)onCallHeld:(NSInteger)callId state:(BOOL)state {\n\n}\n\n- (void)onToneReceived:(NSInteger)callId tone:(NSInteger)tone {\n\n}\n\n- (void)onTextMessageReceived:(NSString *)from to:(NSString *)to body:(NSString *)body {\n\n}\n\n- (void)onTextMessageStatus:(NSString *)address reason:(NSString *)reason status:(BOOL)status {\n\n}\n\n- (void)onTransferStatus:(NSInteger)callId statusCode:(int)statusCode message:(NSString *)message {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsTransfering) userInfo:@{CALL_ID_ARGUMENT:@(callId), STATUS_ARGUMENT:@(statusCode), MESSAGE_ARGUMENT:message}];\n}\n\n- (void)onZrtpSas:(NSInteger)callId sas:(NSString *)sas {\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsZrtpSas) userInfo:@{CALL_ID_ARGUMENT:@(callId), MESSAGE_ARGUMENT:sas}];\n}\n\n- (void)onZrtpSecureState:(NSInteger)callId secured:(BOOL)secured {\n    NSLog(@\"ZRTP secured = %@\", secured ? @\"YES\" : @\"NO\");\n //   [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsZrtpSecureState) userInfo:@{CALL_ID_ARGUMENT:@(callId), STATUS_ARGUMENT:@(secured)}];\n\n}\n\n- (void)onZrtpError:(NSInteger)callId error:(NSInteger)error subcode:(NSInteger)subcode {\n    NSLog(@\"ZRTP error = %ld(subcode = %ld)\", (long)error, (long)subcode);\n  //  [[NSNotificationCenter defaultCenter] postNotificationName:NOTIFICATION_CALL_EVENT object:@(CallEventsZrtpSecureState) userInfo:@{CALL_ID_ARGUMENT:@(callId), STATUS_ARGUMENT:@(error)}];\n}\n\n@end\n</code></pre>\n\n<p><strong>VideoCallViewController.h</strong>\nThis is the \"scene\" presented when a SIP call is coming.</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"AppDelegate.h\"\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface VideoCallViewController : UIViewController {\n    BOOL isRecording;\n    BOOL enableSpeaker;\n    BOOL isFrontCamera;\n    BOOL isVideoMute;\n    BOOL sendingVideo;\n\n}\n\n@property (weak, nonatomic) IBOutlet UIImageView *imageViewRemoteVideo;\n@property (weak, nonatomic) IBOutlet UIButton *buttonPick;\n@property (weak, nonatomic) IBOutlet UIButton *buttonHangUp;\n@property (weak, nonatomic) IBOutlet UIButton *buttonHangUpLadge;\n\n@property(nonatomic, retain) NSString *number;\n@property(nonatomic, assign) NSInteger callId;\n@property(nonatomic, assign) BOOL incoming;\n\n- (IBAction)onButtonClick:(UIButton *)sender;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p><strong>VideoCallViewController.m</strong></p>\n\n<pre><code>#import \"VideoCallViewController.h\"\n#import &lt;AVFoundation/AVCaptureOutput.h&gt;\n#import &lt;AVFoundation/AVCaptureDevice.h&gt;\n#import &lt;AVFoundation/AVCaptureInput.h&gt;\n#import &lt;AVFoundation/AVMediaFormat.h&gt;\n#import &lt;QuartzCore/QuartzCore.h&gt;\n\n#define ACTION_SPEAKER_ON           @\"Turn Speaker On\"\n#define ACTION_SPEAKER_OFF          @\"Turn Speaker Off\"\n#define ACTION_OPEN_DTMF            @\"Send DTMF\"\n#define ACTION_START_RECORDING      @\"Start Recording\"\n#define ACTION_STOP_RECORDING       @\"Stop Recording\"\n#define ACTION_SHOW_RTT             @\"Show RTT\"\n\n#define kColorsDarkBlack [NSArray arrayWithObjects: \\\n(id)[[UIColor colorWithRed:.1f green:.1f blue:.1f alpha:0.7] CGColor], \\\n(id)[[UIColor colorWithRed:0.f green:0.f blue:0.f alpha:0.7] CGColor], \\\nnil]\n#define kColorsBlue [NSArray arrayWithObjects: \\\n(id)[[UIColor colorWithRed:.0f green:.0f blue:.5f alpha:0.7] CGColor], \\\n(id)[[UIColor colorWithRed:0.f green:0.f blue:1.f alpha:0.7] CGColor], \\\nnil]\n#define kColorsLightBlack [NSArray arrayWithObjects: \\\n(id)[[UIColor colorWithRed:.2f green:.2f blue:.2f alpha:0.7] CGColor], \\\n(id)[[UIColor colorWithRed:.1f green:.1f blue:.1f alpha:0.7] CGColor], \\\n(id)[[UIColor colorWithRed:0.f green:0.f blue:0.f alpha:0.7] CGColor], \\\nnil]\n\n\n@interface VideoCallViewController ()\n\n@end\n\n@implementation VideoCallViewController {\n    NSInteger dtmfLen;\n}\n\n@synthesize imageViewRemoteVideo;\n@synthesize buttonPick;\n@synthesize buttonHangUp;\n@synthesize buttonHangUpLadge;\n\n\n- (id)init {\n    self = [super init];\n    if (self) {\n        isRecording = NO;\n        enableSpeaker = YES;\n        dtmfLen = 0;\n    }\n\n    return self;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(onPhoneNotification:) name:NOTIFICATION_PHONE_EVENT object:nil];\n}\n\n- (void)viewWillAppear:(BOOL)animated {\n    [super viewWillAppear:animated];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(onCallNotification:) name:NOTIFICATION_CALL_EVENT object:nil];\n\n    [UIDevice currentDevice].proximityMonitoringEnabled = YES;\n\n    AbtoPhoneInterface* phone = [AppDelegate sharedInstance].phone;\n\n    [phone setRemoteView:self.imageViewRemoteVideo];\n//    [phone setLocalView:viewLocalVideo];\n\n    if (self.incoming) {\n     //   labelStatus.text = @\"Incoming video call from\";//NSLocalizedString(@\"INVIDEOCALL_KEY\", @\"\");\n\n        buttonHangUp.hidden = NO;\n        buttonPick.hidden = NO;\n        buttonHangUpLadge.hidden = YES;\n\n    } else {\n        self.callId = [phone startCall:self.number withVideo:YES];\n    //    labelStatus.text = @\"Dialing\";//NSLocalizedString(@\"VIDEOCALL_KEY\", @\"\");\n\n      //  buttonPick.hidden = YES;\n    //    buttonHangUp.hidden = YES;\n        buttonHangUpLadge.hidden = NO;\n    }\n\n   /* labelRemoteParty.text = self.number;\n    labelRemoteParty.hidden = NO;\n    buttonActions.hidden = YES;\n    stopVideoButton.hidden = YES;\n    switchCameraButton.hidden = YES; */\n //   imageViewRemoteVideo.hidden = YES;\n   // viewLocalVideo.hidden = YES;\n}\n\n- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n    if (self.callId == kInvalidCallId) {\n        [self closeView];\n    }\n}\n\n\n\n- (void)onCallNotification:(NSNotification *)notification {\n}\n\n- (void)onPhoneNotification:(NSNotification *)notification {\n}\n\n- (void)closeView {\n   /* if (self == [ApplicationDelegate.navController topViewController])\n        [ApplicationDelegate.navController popViewControllerAnimated:YES];\n    DLog(@\"closeView\"); */\n}\n\n\n- (IBAction)onButtonClick:(UIButton *)sender {\n\n    AbtoPhoneInterface* phone = [AppDelegate sharedInstance].phone;\n\n    if(sender == buttonHangUp || sender== buttonHangUpLadge) {\n        [phone hangUpCall:self.callId status:486]; /* TODO: 0 - use defalt status */\n    } else if(sender == buttonPick) {\n        [phone answerCall:self.callId status:200 withVideo:YES];\n    }\n}\n\n\n\n\n@end\n\n</code></pre>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n\n@end\n\n@implementation ViewController  {\n    NSString* vcNumber;\n    NSInteger vcCallId;\n    BOOL vcIncoming;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    AbtoPhoneConfig* config = [AppDelegate sharedInstance].phone.config;\n //  [config loadFromUserDefaults:SETTINGS_KEY];\n     config.regUser = @\"myUsernameHere\";\n     config.regPassword = @\"myPassHere\";\n     config.regDomain = @\"sip.antisip.com\";\n    [AppDelegate.sharedInstance.phone finalizeConfiguration];\n\n     [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(onCallNotification:) name:NOTIFICATION_CALL_EVENT object:nil];\n}\n\n- (void)viewWillAppear:(BOOL)animated {\n    [super viewWillAppear:animated];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(onCallNotification:) name:NOTIFICATION_CALL_EVENT object:nil];\n}\n\n\n- (void)onCallNotification:(NSNotification *)notification {\n\n    NSLog(@\"Inizializzare CAll view\");\n\n    NSInteger status = [[notification object] integerValue];\n\n       if (status == CallEventsIncoming) {\n           NSInteger callId = [[notification.userInfo valueForKey:CALL_ID_ARGUMENT] integerValue];\n           NSString *contact = [notification.userInfo valueForKey:CONTACT_ARGUMENT];\n\n           if (callId != kInvalidCallId) {\n               UIApplication *app = [UIApplication sharedApplication];\n               AppDelegate *appDelegate = [AppDelegate sharedInstance];\n               NSString *remotePartyNumber = [AbtoPhoneInterface sipUriUsername:contact];\n               UIApplicationState state = app.applicationState;\n\n               [appDelegate.phone setSpeakerphoneOn:YES];\n               if ((state == UIApplicationStateBackground) || (state == UIApplicationStateInactive)) {\n                   UILocalNotification *localNotification = [UILocalNotification new];\n                   if (localNotification) {\n                       localNotification.alertBody = [NSString stringWithFormat:@\"%@ %@\", remotePartyNumber, @\"calling\"];\n                       //            localNotif.soundName = UILocalNotificationDefaultSoundName;\n                       localNotification.applicationIconBadgeNumber = ++app.applicationIconBadgeNumber;\n                       localNotification.repeatInterval = 0;\n                       NSDictionary *userInfo = @{ kNotifKey: kNotifKey_IncomingCall,\n                                                   kNotifCall_SessionId : @(callId),\n                                                   kNotifCall_RemoteInfo: contact };\n\n                       localNotification.userInfo = userInfo;\n                       [[UIApplication sharedApplication]  presentLocalNotificationNow:localNotification];\n                      // ApplicationDelegate.lastCallNotification = localNotification;\n                   }\n\n               } else {\n\n                   vcNumber = remotePartyNumber;\n                   vcCallId = callId;\n                   vcIncoming = YES;\n                  [self performSegueWithIdentifier:@\"segue1\" sender:self];\n                 /*  VideoCallViewController *nextController = [appDelegate.phone isVideoCall:callId] ? [VideoCallViewController new] : [VideoCallViewController new];\n                   nextController.number = remotePartyNumber;\n                   nextController.callId = callId;\n                   nextController.incoming = YES;\n                   [appDelegate.navController pushViewController:nextController animated:YES];  */\n               }\n           }\n       } else if (status == CallEventsDisconnected) {\n         //  ApplicationDelegate.lastCallNotification = nil;\n       }\n}\n\n- (void)onPhoneNotification:(NSNotification *)notification {\n}\n\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n\n    if([[segue identifier] isEqualToString:@\"segue1\"]) {\n\n        VideoCallViewController *nextController = [segue destinationViewController];\n\n        nextController.number = vcNumber;\n        nextController.callId = vcCallId;\n        nextController.incoming = vcIncoming;\n    }\n}\n\n@end\n</code></pre>\n\n<p>The call code is fine, because I tested it multiple times. The issue is that the app <strong>does not ask for the camera permission</strong>.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 1145676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b89ebb97bafb537b0ee635a29d6ad1?s=128&d=identicon&r=PG", "display_name": "Tanmay", "link": "https://stackoverflow.com/users/1145676/tanmay"}, "is_accepted": false, "score": 0, "last_activity_date": 1577430040, "creation_date": 1577430040, "answer_id": 59497168, "question_id": 59244173, "link": "https://stackoverflow.com/questions/59244173/ios-13-adding-a-uiwindow-with-shadow/59497168#59497168", "title": "iOS 13 Adding a UIWindow with shadow", "body": "<p>Turns out the UIDropShadowView under iOS 13 defaults its clipsToBounds to true. </p>\n\n<p>To fix this, manually set its clipsToBounds property to false.</p>\n\n<pre><code>window.subviews.first?.subviews.first?.clipsToBounds = false\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12427641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Qh21RfIr7L0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdB7Bx6K5Rob1H-V5JKdkUkm1TV4g/photo.jpg?sz=128", "display_name": "Nick", "link": "https://stackoverflow.com/users/12427641/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577430040, "creation_date": 1575875852, "last_edit_date": 1592644375, "question_id": 59244173, "link": "https://stackoverflow.com/questions/59244173/ios-13-adding-a-uiwindow-with-shadow", "title": "iOS 13 Adding a UIWindow with shadow", "body": "<p>I would like to add a UIWindow with shadow and corners in iOS 13. My UIWindow looks like this:</p>\n<pre><code>- UIWindow\n  - backgroundView\n  - containerView\n    - topContainerView(containers for avatar and nickname)\n    - replyView\n    - ......\n</code></pre>\n<p>Currently, I add corners with UIBezierPath in my containerView, and add shadow in my backgroundView. It works perfectly under iOS 12. But in iOS 13, it does not work.</p>\n<p>Expected :</p>\n<p><img src=\"https://i.stack.imgur.com/LOH4P.png\" alt=\"Expected image\" /></p>\n<p>Currently:</p>\n<p><img src=\"https://i.stack.imgur.com/hHsil.png\" alt=\"Currently image\" /></p>\n<p>Any suggestions and ideas would be appreciated.</p>\n"}, {"tags": ["objective-c", "ipad", "uisearchbar", "uipopovercontroller", "uipopover"], "owner": {"reputation": 11, "user_id": 11405486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VW6SG.jpg?s=128&g=1", "display_name": "Dinesh Tanwar", "link": "https://stackoverflow.com/users/11405486/dinesh-tanwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1576039498, "creation_date": 1575874418, "last_edit_date": 1576039498, "question_id": 59243870, "link": "https://stackoverflow.com/questions/59243870/while-tapping-on-uisearchbar-control-then-it-automatically-calling-shouldendedit", "title": "While Tapping on UISearchBar control then it automatically calling shouldEndEditing Delegate of UISeachBar Controller", "body": "<p>While Calling the <code>UISearchBar</code> Begin Editing then after the popover controller present then popover gets Disappear with hiding keyboard. It Calls the EndEditing without any ENTER Key Pressing\nBelow code shows the ShouldBeginEditing delegate of <code>UISearchBar</code> Controller</p>\n\n<p>Sample Code:</p>\n\n<pre><code>-(BOOL)searchBarShouldBeginEditing:(UISearchBar*)searchBar\n</code></pre>\n\n<p>{</p>\n\n<pre><code>if([searchBar isEqual:_normalSearch_SearchBar])\n\n{\n\n        [[KeyboardHideShow getInstance] setScrollRectToThisFrame:[searchBar convertRect:searchBar.frame toView:self.scrollView]];\n\n\n\n        if(!self-&gt;_normalSearchPopOverController)\n\n        {\n\n            [[KeyboardHideShow getInstance] setUp_With_ScrollView:nil];\n\n\n\n            [self setTableViewController:[[UITableViewController alloc] initWithStyle:UITableViewStylePlain]];\n\n            [self-&gt;_tableViewController.tableView setDelegate:self];\n\n            [self-&gt;_tableViewController.tableView setDataSource:self];\n\n\n\n            [self addTransparentView_For_NormalSearch_And_AdvancedSearch];\n\n                //To add the transparent view\n\n\n\n            [self setNormalSearchPopOverController:[[UIPopoverController alloc] initWithContentViewController:self-&gt;_tableViewController]];\n\n            [self-&gt;_normalSearchPopOverController setDelegate:self];\n\n            [self-&gt;_normalSearchPopOverController setPopoverContentSize:CGSizeMake(POPOVERWIDTH,350)];\n\n            [self-&gt;_normalSearchPopOverController presentPopoverFromBarButtonItem:self-&gt;_searchBarButtonItem permittedArrowDirections:UIPopoverArrowDirectionUp animated:YES];\n\n\n\n        return YES;\n\n    }\n\n}\n\n\n\nreturn NO;\n</code></pre>\n\n<p>}\nKindly suggest where my code is wrong in the above example and feel free to ask any clarification regarding the code. \nCode working Fine with Xcode v8 but not working with Xcode 10 and Xcode 11.</p>\n"}, {"tags": ["objective-c", "swift", "enums", "nativescript"], "comments": [{"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1575880045, "post_id": 59241361, "comment_id": 104700209, "body": "What Objective-C code do you have?"}, {"owner": {"reputation": 13, "user_id": 9828126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyCel.jpg?s=128&g=1", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/9828126/mohammed"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1575896212, "post_id": 59241361, "comment_id": 104708482, "body": "@RomanPodymov I don&#39;t have access to Objective-C code but thats generated behind the scenes of Nativescript. I just need to be sure that the property will be bridged to objective c"}, {"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1575946708, "post_id": 59241361, "comment_id": 104727997, "body": "BTW, as an aside, the enumeration definition appears unusual.  <code>PaymentMethods : Int</code> would normally mean the raw values are of type <code>Int</code>, yet they are re-defined, somewhat artificially, to be <code>String</code>.  Also, you didn&#39;t have to specify <code>RawRepresentable</code>, it&#39;s implied, but it doesn&#39;t hurt."}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1576358374, "post_id": 59241361, "comment_id": 104876153, "body": "Have you placed the swift files inside the project Or compiled it as a framework? Did you try generating typings?"}, {"owner": {"reputation": 13, "user_id": 9828126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyCel.jpg?s=128&g=1", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/9828126/mohammed"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1576408767, "post_id": 59241361, "comment_id": 104883751, "body": "@Manoj it has been compiled as a Framework. When I generate typings it does not include any property that is of type Array of Enums. Just like above"}], "owner": {"reputation": 13, "user_id": 9828126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cyCel.jpg?s=128&g=1", "display_name": "Mohammed", "link": "https://stackoverflow.com/users/9828126/mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575876339, "creation_date": 1575853796, "last_edit_date": 1575876339, "question_id": 59241361, "link": "https://stackoverflow.com/questions/59241361/expose-swift-array-of-enums-in-objective-c", "title": "Expose Swift Array Of Enums in Objective-C", "body": "<p>I have this enum in swift</p>\n\n<pre><code>@objc(PaymentMethods)\npublic enum PaymentMethods: Int, RawRepresentable {\n    public typealias RawValue = String\n    case card\n    case account\n    case paypal\n\n    public var rawValue: RawValue {\n        switch self {\n        case .card:\n            return \"CARD\"\n        case .account:\n            return \"ACCOUNT\"\n        case .paypal:\n            return \"PAYPAL\"\n        }\n    }\n\n    public init(rawValue: RawValue){\n        switch rawValue {\n        case \"CARD\":\n            self = .card\n        case \"ACCOUNT\":\n            self = .account\n        case \"PAYPAL\":\n            self = .paypal\n        default:\n            self = .card\n        }\n    }\n}\n</code></pre>\n\n<p>And this property in a class.</p>\n\n<pre><code>@objc public class SomeClass: ExtendingSomeOtherStuffs {\n  var supportedPaymentMethods:[PaymentMethods]!\n}\n</code></pre>\n\n<p>my problem is how to bridge <code>supportedPaymentMethods</code> into Objective-C and use it.</p>\n\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/30453961/bridging-an-array-of-enums-from-swift-to-objective-c\">this post</a> and <a href=\"https://stackoverflow.com/questions/40129941/swift-enum-associated-values-in-objective-c\">this</a> but still can't figure it out.\ncan someone help me out with an example at least.</p>\n\n<p>Am trying to use this in Native-script and I need to expose that property from Swift to Objective</p>\n"}, {"tags": ["ios", "objective-c", "audiokit"], "answers": [{"comments": [{"owner": {"reputation": 1668, "user_id": 846159, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2621fb12cbac4c8fdd33c38776621b0c?s=128&d=identicon&r=PG", "display_name": "Piotr", "link": "https://stackoverflow.com/users/846159/piotr"}, "edited": false, "score": 0, "creation_date": 1576873162, "post_id": 59396309, "comment_id": 105047756, "body": "Could you show your exact code for whole process? Now it&#39;s giving me this super-clear error: +[AFAggregator logDictationFailedWithError:] Error Domain=kAFAssistantErrorDomain Code=209 &quot;(null)&quot;"}, {"owner": {"reputation": 5258, "user_id": 446988, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9dd013e199a89d9e9f8e723188b4c075?s=128&d=identicon&r=PG", "display_name": "lassej", "link": "https://stackoverflow.com/users/446988/lassej"}, "reply_to_user": {"reputation": 1668, "user_id": 846159, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2621fb12cbac4c8fdd33c38776621b0c?s=128&d=identicon&r=PG", "display_name": "Piotr", "link": "https://stackoverflow.com/users/846159/piotr"}, "edited": false, "score": 0, "creation_date": 1576920063, "post_id": 59396309, "comment_id": 105054792, "body": "Sorry, can&#39;t share my code. But <code>kAFAssistantErrorDomain</code> looks like it&#39;s part of the <code>Speech</code> framework and not of <code>AVFoundation</code>. So it&#39;s probably an unrelated error."}, {"owner": {"reputation": 1668, "user_id": 846159, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2621fb12cbac4c8fdd33c38776621b0c?s=128&d=identicon&r=PG", "display_name": "Piotr", "link": "https://stackoverflow.com/users/846159/piotr"}, "edited": false, "score": 0, "creation_date": 1576936355, "post_id": 59396309, "comment_id": 105057780, "body": "I made some findings - it seems you should not start recording unless previous one did not return final results. If I do this way I do not encounter this error."}], "tags": [], "owner": {"reputation": 5258, "user_id": 446988, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9dd013e199a89d9e9f8e723188b4c075?s=128&d=identicon&r=PG", "display_name": "lassej", "link": "https://stackoverflow.com/users/446988/lassej"}, "is_accepted": false, "score": 2, "last_activity_date": 1576686488, "creation_date": 1576686488, "answer_id": 59396309, "question_id": 59238035, "link": "https://stackoverflow.com/questions/59238035/avaudioengine-causes-augraphparserinitializeactivenodesininputchain-error-on-i/59396309#59396309", "title": "AVAudioEngine causes AUGraphParser::InitializeActiveNodesInInputChain error on iOS 13", "body": "<p>I had the same issue. For me the solution was to use a new AVAudioEngine for each recording.</p>\n\n<p>In your example:</p>\n\n<pre><code>- (void)startRecording:(BOOL)collectPartialResults {\n  _audioEngine = [[AVAudioEngine alloc] init];\n\n  // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1668, "user_id": 846159, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2621fb12cbac4c8fdd33c38776621b0c?s=128&d=identicon&r=PG", "display_name": "Piotr", "link": "https://stackoverflow.com/users/846159/piotr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1576686488, "creation_date": 1575826454, "question_id": 59238035, "link": "https://stackoverflow.com/questions/59238035/avaudioengine-causes-augraphparserinitializeactivenodesininputchain-error-on-i", "title": "AVAudioEngine causes AUGraphParser::InitializeActiveNodesInInputChain error on iOS 13", "body": "<p>I am using <code>SFSpeechRecognizer</code> and noticed this error showing up on iOS >= 13. </p>\n\n<p>This is my code for starting recognition process:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)startRecording:(BOOL)collectPartialResults {    \n    NSError *error;\n    AVAudioSession *audioSession = [AVAudioSession sharedInstance];\n    [audioSession setCategory:AVAudioSessionCategoryPlayAndRecord error:&amp;error];\n    [audioSession setMode:AVAudioSessionModeMeasurement error:&amp;error];\n    [audioSession setActive:YES error:&amp;error];\n\n    AVAudioInputNode *inputNode = _audioEngine.inputNode;\n\n    _recognitionRequest = [SFSpeechAudioBufferRecognitionRequest new];\n    _recognitionRequest.shouldReportPartialResults = collectPartialResults;\n\n    _recognitionTask = [_internalRecognizer recognitionTaskWithRequest:_recognitionRequest resultHandler:^(SFSpeechRecognitionResult * _Nullable result, NSError * _Nullable error) {\n       // ...\n    }];\n\n    AVAudioFormat *format = [inputNode outputFormatForBus:0];\n\n    @try {\n        [inputNode installTapOnBus:0 bufferSize:1024 format:format block:^(AVAudioPCMBuffer * _Nonnull buffer, AVAudioTime * _Nonnull when) {\n            [_recognitionRequest appendAudioPCMBuffer:buffer];\n        }];\n    }\n    @catch (NSException *exception) {\n        NSLog(@\"%@\", exception.userInfo);\n        [self sendStartRecordingErrorMessage:[NSString stringWithFormat:@\"%@\", exception.userInfo]];\n        return;\n    }\n\n    NSError *startError;\n    [_audioEngine startAndReturnError:&amp;startError];\n\n    if (startError != nil) {\n        [self sendStartRecordingErrorMessage:[NSString stringWithFormat:@\"%@\", startError.userInfo]];\n    }\n}\n</code></pre>\n\n<p>This works for one or two times, but eventually leads to this error:</p>\n\n<pre><code>AVAEInternal.h:109   [AVAudioEngineGraph.mm:1397:Initialize: (err = AUGraphParser::InitializeActiveNodesInInputChain(ThisGraph, *GetInputNode())): error -10851\n</code></pre>\n\n<p>caused by this line: <code>[_audioEngine startAndReturnError:&amp;startError];</code></p>\n\n<p>I have no idea what does this error mean. My code is almost the same as <a href=\"https://developer.apple.com/library/archive/samplecode/SpeakToMe/Listings/SpeakToMe_ViewController_swift.html#//apple_ref/doc/uid/TP40017110-SpeakToMe_ViewController_swift-DontLinkElementID_6\" rel=\"nofollow noreferrer\">official example</a>.</p>\n\n<p>I've tried several things such as:  </p>\n\n<ul>\n<li>using <code>outputFormatForBus</code> instead of <code>inputFormatForBus</code> for\n<code>installTapOnBus</code>, </li>\n<li>using different <code>audioSession</code> mode (<code>AVAudioSessionModeVoicePrompt</code>),</li>\n<li>calling <code>[audioEngine reset]</code>    before starting recoding process</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "nsurlsession", "nsurlsessionuploadtask"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575827753, "post_id": 59236332, "comment_id": 104687882, "body": "Nothing to do with iOS or NSURLSessionConfiguration. If there is a very small file size limit (unlikely) that is between you and the server."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2199472, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/a5569dfa7d3a44744f66ef6211f96bfd?s=128&d=identicon&r=PG", "display_name": "Marc Matteo", "link": "https://stackoverflow.com/users/2199472/marc-matteo"}, "edited": false, "score": 0, "creation_date": 1575893023, "post_id": 59238104, "comment_id": 104706784, "body": "Thanks for your response. The above code works perfectly in iOS12 and sends photos up to 6MB with no issue. On iOS13 the server crashes. It&#39;s not timing out and its not running out of memory. There&#39;s something different with iOS13 I feel"}, {"owner": {"reputation": 83, "user_id": 2199472, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/a5569dfa7d3a44744f66ef6211f96bfd?s=128&d=identicon&r=PG", "display_name": "Marc Matteo", "link": "https://stackoverflow.com/users/2199472/marc-matteo"}, "edited": false, "score": 0, "creation_date": 1575893917, "post_id": 59238104, "comment_id": 104707273, "body": "I should also note that when I restart the server after it crashes the photo is in the folder. So it does get transferred completely but something is causing the crash."}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1575827477, "last_edit_date": 1575827477, "creation_date": 1575826944, "answer_id": 59238104, "question_id": 59236332, "link": "https://stackoverflow.com/questions/59236332/nsurlsession-limit-file-size-to-100kb/59238104#59238104", "title": "NSURLSession limit file size to 100KB", "body": "<p>There are a few possible issues:</p>\n\n<ol>\n<li><p>Your server code simply might just be configured to not permit uploads that exceed a particular size. That\u2019s not an uncommon practice (to avoid excessive storage usage, images that are too big, prevent bad actors from uploading other large payloads, etc.).</p></li>\n<li><p>Your request could be timing out because it\u2019s taking too long to upload this larger asset.</p></li>\n<li><p>You could be running out of memory when creating requests where you pre-populate the <code>httpBody</code> with the data of the image. You can reduce this peak memory usage by using <a href=\"https://developer.apple.com/documentation/foundation/nsurlsession/1411638-uploadtaskwithrequest?language=objc\" rel=\"nofollow noreferrer\"><code>uploadtaskwithrequest:fromFile:completionHandler:</code></a>. This reduces the peak memory usage when uploading.</p></li>\n</ol>\n\n<p>Option 1 is the most likely issue, but we shouldn't have to guess. Upload an asset greater than 100kb and look at the error code or the body of the response. That will tell you precisely what\u2019s going wrong.</p>\n\n<hr>\n\n<p>Assuming you end up needing to reduce the asset size, it\u2019s worth noting that a JPEG with quality of 0.1 will often be seriously degraded with all sorts of JPEG \u201cartifacts\u201d. I\u2019d personally stick with quality values of 0.7 or so, and if the asset is still too large, reduce the image dimensions. For example, rather than 3000\u00d72000 image with 0.1, I might reduce to 1200\u00d7800 with quality of 0.7 (or whatever).</p>\n"}], "owner": {"reputation": 83, "user_id": 2199472, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/a5569dfa7d3a44744f66ef6211f96bfd?s=128&d=identicon&r=PG", "display_name": "Marc Matteo", "link": "https://stackoverflow.com/users/2199472/marc-matteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575827477, "creation_date": 1575814972, "last_edit_date": 1575827397, "question_id": 59236332, "link": "https://stackoverflow.com/questions/59236332/nsurlsession-limit-file-size-to-100kb", "title": "NSURLSession limit file size to 100KB", "body": "<p>I am unsure what is happening but I have a code that sends an image to a server running on my Mac. It works perfectly when I set the <code>UIImageJPEGRepresentation</code> to 0.1 quality. But anything above that (like below) will crash the print server. It seems like the maximum file size is 100KB because that is the file size when the quality is 0.1.</p>\n\n<pre><code>UIImage *newImage = [UIImage imageNamed:@\"Movies.jpg\"];\n\nNSData *imageData = UIImageJPEGRepresentation(newImage, 1.0);\nNSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];\nNSString *printip = [defaults valueForKey:@\"printip\"];\nNSString * valueToSave1 = [NSString stringWithFormat:@\"http://%@:45500\", printip];\nNSString *postLength = [NSString stringWithFormat:@\"%lu\", (unsigned long)[imageData length]];\nNSLog (@\"POST LENGTH: %@\", postLength);\n\n\nNSURLSessionConfiguration *sessionConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];\nsessionConfiguration.discretionary = false;\nsessionConfiguration.timeoutIntervalForRequest = 30.0;\nsessionConfiguration.timeoutIntervalForResource = 60.0;\nsessionConfiguration.requestCachePolicy = NSURLRequestReloadIgnoringLocalCacheData;\n\n// Create the session\n// We can use the delegate to track upload progress\nNSURLSession *session = [NSURLSession sessionWithConfiguration:sessionConfiguration delegate:self delegateQueue:nil];\n\n// Data uploading task. We could use NSURLSessionUploadTask instead of NSURLSessionDataTask if we needed to support uploads in the background\nNSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:valueToSave1]];\n[request setHTTPMethod:@\"POST\"];\n[request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n\n[request setHTTPBody:imageData];\n\nNSURLSessionDataTask *uploadTask = [session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n    // Process the response\n}];\n[uploadTask resume];\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 411, "user_id": 7559966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tlaCp.jpg?s=128&g=1", "display_name": "drfalcoew", "link": "https://stackoverflow.com/users/7559966/drfalcoew"}, "edited": false, "score": 0, "creation_date": 1575744564, "post_id": 59229081, "comment_id": 104671617, "body": "Maybe it&#39;s not showing because there are no text? Try adding text or changing the background color from clear."}], "answers": [{"tags": [], "owner": {"reputation": 52, "user_id": 5223119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66de5ae0f32546d159d9e799cfd7aff2?s=128&d=identicon&r=PG&f=1", "display_name": "Tej", "link": "https://stackoverflow.com/users/5223119/tej"}, "is_accepted": true, "score": 1, "last_activity_date": 1575749035, "creation_date": 1575749035, "answer_id": 59229706, "question_id": 59229081, "link": "https://stackoverflow.com/questions/59229081/programmatically-adding-a-label-to-objective-c-ios-app-does-not-show/59229706#59229706", "title": "Programmatically adding a label to objective-c ios app does not show", "body": "<p>The text for the label is never set. By default, it is empty. So in your case, the label is getting added to the view but not visible as the text is not set. Try setting it. Also, if the ViewController is embedded in NavigationController, the label might have been hidden under the navigation bar. Try changing the y position of the label as below.  </p>\n\n<pre><code>        UILabel *yourLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 100, 300, 70)];\n        [yourLabel setTextColor:[UIColor brownColor]];\n        [yourLabel setBackgroundColor:[UIColor clearColor]];\n        [yourLabel setFont:[UIFont fontWithName: @\"Trebuchet MS\" size: 14.0f]];\n        [yourLabel setText:@\"Hello\"];\n        [self.view addSubview:yourLabel];\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 12199890, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ElybCdnM7cU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reiaTFGPJxBSaJy2ZktevmOhW2FzQ/photo.jpg?sz=128", "display_name": "Oto-Obong Eshiett", "link": "https://stackoverflow.com/users/12199890/oto-obong-eshiett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 59229706, "answer_count": 1, "score": 0, "last_activity_date": 1575749035, "creation_date": 1575743545, "question_id": 59229081, "link": "https://stackoverflow.com/questions/59229081/programmatically-adding-a-label-to-objective-c-ios-app-does-not-show", "title": "Programmatically adding a label to objective-c ios app does not show", "body": "<p>I am trying to add a Label UI programmatically into my objective-c view controller, but after coding it nothing shows, below is my code:</p>\n\n<p>`</p>\n\n<pre><code>   //\n    //  ViewController.m\n    //  ObjectiveWebView\n    //\n\n    #import \"ViewController.h\"\n\n    @interface ViewController ()\n\n\n    @end\n\n    @implementation ViewController\n\n\n    - (void)viewDidLoad {\n        [super viewDidLoad];\n        UILabel *yourLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 300, 70)];\n        [yourLabel setTextColor:[UIColor brownColor]];\n        [yourLabel setBackgroundColor:[UIColor clearColor]];\n        [yourLabel setFont:[UIFont fontWithName: @\"Trebuchet MS\" size: 14.0f]];\n        [self.view addSubview:yourLabel];\n    }\n\n    - (void)viewDidAppear:(BOOL)animated{\n        NSLog(@\"viewDidAppear loaded successfully\");\n    }\n\n    @end\n</code></pre>\n\n<p>`</p>\n\n<p>what am I doing wrong?</p>\n"}, {"tags": ["objective-c", "macos", "cocoapods", "libxlsxwriter"], "comments": [{"owner": {"reputation": 4083, "user_id": 220935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UekCi.jpg?s=128&g=1", "display_name": "alexyorke", "link": "https://stackoverflow.com/users/220935/alexyorke"}, "edited": false, "score": 0, "creation_date": 1575742099, "post_id": 59228646, "comment_id": 104671022, "body": "Have you tried steps such as <a href=\"http://www.vislab.net/people/john-stavrakakis/johns-blog/xcodehowtolinkdyliblibraryfiles\" rel=\"nofollow noreferrer\">vislab.net/people/john-stavrakakis/johns-blog/&hellip;</a> ?"}, {"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "reply_to_user": {"reputation": 4083, "user_id": 220935, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/UekCi.jpg?s=128&g=1", "display_name": "alexyorke", "link": "https://stackoverflow.com/users/220935/alexyorke"}, "edited": false, "score": 0, "creation_date": 1575789943, "post_id": 59228646, "comment_id": 104678973, "body": "@alexyorke Not before you mentioned it. But it still gives me an &quot;image not found&quot; error. I&#39;ll update the question."}], "answers": [{"comments": [{"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1576652065, "post_id": 59374259, "comment_id": 104964478, "body": "This is what I did. I added libxlsxwriter.a and the header files to my project and it works. Thanks."}], "tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": true, "score": 1, "last_activity_date": 1576585722, "creation_date": 1576585722, "answer_id": 59374259, "question_id": 59228646, "link": "https://stackoverflow.com/questions/59228646/use-libxlsxwriter-without-cocoapods-in-a-macos-project/59374259#59374259", "title": "Use libxlsxwriter without CocoaPods in a macOS project", "body": "<p>If you have static library and only one loader, eg. main executable, (so you don't need to share it between your components), then you don't need dynamic library at all.</p>\n\n<p>Just add your <code>libxlsxwriter.a</code> into <code>Target &gt; General &gt; Frameworks and Libraries</code> section, and it will be linked in into your executable and just work.</p>\n\n<p>If you really need shared dynamic library then you need to use <code>rpath</code> + <code>LD_RUNPATH_SEARCH_PATHS</code> combination. (<em>Let me know if you need more details on this</em>).</p>\n"}], "owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59374259, "answer_count": 1, "score": 2, "last_activity_date": 1576585722, "creation_date": 1575740454, "last_edit_date": 1575790576, "question_id": 59228646, "link": "https://stackoverflow.com/questions/59228646/use-libxlsxwriter-without-cocoapods-in-a-macos-project", "title": "Use libxlsxwriter without CocoaPods in a macOS project", "body": "<p>My project (Objective C, macOS, Xcode 11) does not use CocoaPods and I'd like to keep it that way. </p>\n\n<p>I want to use libxlsxwriter to export data in Excel format. I cloned <a href=\"https://github.com/jmcnamara/libxlsxwriter\" rel=\"nofollow noreferrer\">libxlsxwriter</a> from GitHub and built it. Now I have <code>libxlsxwriter.a</code> and <code>lbixlsxwriter.dylib</code>. </p>\n\n<p>What I tried so far: I followed the instructions on <a href=\"http://www.vislab.net/people/john-stavrakakis/johns-blog/xcodehowtolinkdyliblibraryfiles\" rel=\"nofollow noreferrer\">this site</a> (thanks for the link) to include the dylib. In the \"General\" settings <code>lbixlsxwriter.dylib</code> is shown as \"Embed &amp; Sign\", in \"Build Phases\" it is listed under \"Link Binary With Libraries\" and it has its own \"Copy Files\" section. Running from Xcode gives me</p>\n\n<pre><code>dyld: Library not loaded: /usr/lib/libxlsxwriter.dylib\n  Referenced from: /Users/XXX/Library/Developer/Xcode/DerivedData/XXXefxsacdsioejobcumpvsbklqguri/Build/Products/Debug/XXX.app/Contents/MacOS/XXX\n  Reason: image not found\n</code></pre>\n\n<p>What do I have to add to my project: The include folder with all the header files and both of these libs? How do I have to adjust the General settings and Build Phases?</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "answers": [{"comments": [{"owner": {"reputation": 1765, "user_id": 837499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a86f8329fba79a408299108cd8e77907?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/837499/johnny"}, "edited": false, "score": 0, "creation_date": 1576635556, "post_id": 59374542, "comment_id": 104960851, "body": "But my source files in my custom static library are Objective-C, I still don&#39;t understand why this will lead to a compiler error? Could you explain further more? Thank you for helping!"}, {"owner": {"reputation": 1765, "user_id": 837499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a86f8329fba79a408299108cd8e77907?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/837499/johnny"}, "edited": false, "score": 0, "creation_date": 1576652622, "post_id": 59374542, "comment_id": 104964699, "body": "fix typo: *compile"}], "tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": false, "score": 0, "last_activity_date": 1576586686, "creation_date": 1576586686, "answer_id": 59374542, "question_id": 59227772, "link": "https://stackoverflow.com/questions/59227772/other-linker-flag-objc-caused-symbol-not-found-error/59374542#59374542", "title": "Other linker flag -ObjC caused &quot;Symbol not found&quot; error", "body": "<p>From <code>clang</code> <a href=\"https://clang.llvm.org/docs/ClangCommandLineReference.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n<pre><code>-ObjC\nTreat source input files as Objective-C inputs\n\n-ObjC++\nTreat source input files as Objective-C++ inputs\n</code></pre>\n</blockquote>\n\n<p>This is explicit commands, if they absent, compiler detects used language implicitly, usually by file extension. So if to follow, as usal, *.m, *.c, *.cpp then all is OK, what actually you observe.</p>\n"}], "owner": {"reputation": 1765, "user_id": 837499, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a86f8329fba79a408299108cd8e77907?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/837499/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1576586686, "creation_date": 1575734324, "question_id": 59227772, "link": "https://stackoverflow.com/questions/59227772/other-linker-flag-objc-caused-symbol-not-found-error", "title": "Other linker flag -ObjC caused &quot;Symbol not found&quot; error", "body": "<p>I have a pure Objective-C project which structures like this</p>\n\n<ul>\n<li>Custom static library linked to App target and Today extension target, used for sharing/reusing code</li>\n<li>Static library contains <code>AFNetworking</code> library installed by CocoaPods (with use_frameworks! disabled)</li>\n<li>iOS today extension contains <code>Masonry</code> library installed by CocoaPods (with use_frameworks! disabled)\n<a href=\"https://i.stack.imgur.com/kn7JK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kn7JK.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>When installing <code>Masonry</code> to today extension, CocoaPods adds <code>-ObjC</code> to Other Linker Flag in my today extension target, which will cause a <code>Undefined symbol</code> error when compiling extension target. </p>\n\n<p><a href=\"https://i.stack.imgur.com/jiCMO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jiCMO.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, if I remove the <code>-ObjC</code> flag, the project will compile successfully, I have no idea of how this happens. I've search through the internet, the only thing I know is that <code>-ObjC</code> flag will </p>\n\n<blockquote>\n  <p>Causes the linker to load every object file in the library that\n  defines an Objective-C class or category</p>\n</blockquote>\n\n<p>But I don't know why this behavior ends up a compile error.</p>\n\n<p>This is a test projected I've created to reproduce the issue: <a href=\"https://github.com/JohnnyTseng/SimpleProject\" rel=\"nofollow noreferrer\">https://github.com/JohnnyTseng/SimpleProject</a></p>\n\n<p>The project will now result in a \"Undefined symbol\" compile error, but if you remove the </p>\n\n<ul>\n<li><code>${inherited}</code></li>\n<li><code>-ObjC</code></li>\n</ul>\n\n<p>flag from the <code>SimpleTodayExtension</code>, it will compile with no error</p>\n\n<p><a href=\"https://i.stack.imgur.com/vNIrg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vNIrg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Although the project compiles fine with <code>-ObjC</code> flag removed, but I am very curious of what has happened behind scene, it will be appreciated if someone can teach me how it happened, Thank you!</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "edited": false, "score": 0, "creation_date": 1576554157, "post_id": 59225567, "comment_id": 104928194, "body": "Got Approval by Apple review team, After integration Apple Sign In functionality. Thanks"}, {"owner": {"reputation": 334, "user_id": 7461562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/722dc11b056beabf8febfa7b0a3ac3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Super_Simon", "link": "https://stackoverflow.com/users/7461562/super-simon"}, "edited": false, "score": 1, "creation_date": 1576787912, "post_id": 59225567, "comment_id": 105020569, "body": "If you found my answer helpful, please mark it as the accepted answer to help other users in the future! <a href=\"https://stackoverflow.com/a/59225838/7461562\">stackoverflow.com/a/59225838/7461562</a>"}], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "edited": false, "score": 0, "creation_date": 1575720722, "post_id": 59225814, "comment_id": 104665813, "body": "Thanks, But i got the apple approval for the same app few days back, And now they are rejecting the Application with this reason."}, {"owner": {"reputation": 334, "user_id": 7461562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/722dc11b056beabf8febfa7b0a3ac3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Super_Simon", "link": "https://stackoverflow.com/users/7461562/super-simon"}, "edited": false, "score": 1, "creation_date": 1575721031, "post_id": 59225814, "comment_id": 104665876, "body": "The review process can be a bit hit and miss sometimes."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1575732906, "post_id": 59225814, "comment_id": 104668665, "body": "It is quite common to have rejections based on things that have been approved many times in your app or other people&#39;s apps. It&#39;s common to have rejections based on parts of that app that have nothing to do with the parts you changed for this release. This is neither unusual, nor an argument you can use to appeal the rejection."}, {"owner": {"reputation": 2307, "user_id": 2028803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f8270c3aed113629ccef1b219a5443de?s=128&d=identicon&r=PG", "display_name": "cloudy_weather", "link": "https://stackoverflow.com/users/2028803/cloudy-weather"}, "edited": false, "score": 0, "creation_date": 1579372399, "post_id": 59225814, "comment_id": 105747525, "body": "What happen if I don&#39;t provide Apple Sign in in my existing app by April 2020?"}, {"owner": {"reputation": 274, "user_id": 2208084, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SFkN9.jpg?s=128&g=1", "display_name": "MoOoG", "link": "https://stackoverflow.com/users/2208084/mooog"}, "reply_to_user": {"reputation": 2307, "user_id": 2028803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f8270c3aed113629ccef1b219a5443de?s=128&d=identicon&r=PG", "display_name": "cloudy_weather", "link": "https://stackoverflow.com/users/2028803/cloudy-weather"}, "edited": false, "score": 0, "creation_date": 1580285068, "post_id": 59225814, "comment_id": 106042665, "body": "@cloudy_weather, obviously, any new submission will get rejected."}, {"owner": {"reputation": 2307, "user_id": 2028803, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f8270c3aed113629ccef1b219a5443de?s=128&d=identicon&r=PG", "display_name": "cloudy_weather", "link": "https://stackoverflow.com/users/2028803/cloudy-weather"}, "edited": false, "score": 0, "creation_date": 1580407182, "post_id": 59225814, "comment_id": 106096853, "body": "I meant what&#39;s the impact on existing apps if they don&#39;t provide the apple sign in in time for April, are they going to be suspended from the store? or blocked?"}], "tags": [], "owner": {"reputation": 689, "user_id": 7495349, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154151568105759/picture?type=large", "display_name": "David Steppenbeck", "link": "https://stackoverflow.com/users/7495349/david-steppenbeck"}, "is_accepted": false, "score": 2, "last_activity_date": 1575721391, "last_edit_date": 1575721391, "creation_date": 1575720488, "answer_id": 59225814, "question_id": 59225567, "link": "https://stackoverflow.com/questions/59225567/apple-rejection-for-third-party-sign-up/59225814#59225814", "title": "Apple Rejection For Third Party Sign Up", "body": "<p>Basically, yes. New apps that use sign-in must provide sign-in with Apple as an option. Existing apps that use sign-in must provide sign-in with Apple by April 2020.</p>\n\n<blockquote>\n  <p>We\u2019ve updated the App Store Review Guidelines to provide criteria for\n  when apps are required to use Sign in with Apple. Starting today [Sept\n  12, 2019], new apps submitted to the App Store must follow these\n  guidelines.</p>\n</blockquote>\n\n<p>(Source: <a href=\"https://developer.apple.com/news/?id=09122019b\" rel=\"nofollow noreferrer\">https://developer.apple.com/news/?id=09122019b</a>)</p>\n\n<p><strong>App Store Review Guidelines</strong></p>\n\n<blockquote>\n  <p>4.8 Sign in with Apple</p>\n  \n  <p>Apps that exclusively use a third-party or social login service (such\n  as Facebook Login, Google Sign-In, Sign in with Twitter, Sign In with\n  LinkedIn, Login with Amazon, or WeChat Login) to set up or\n  authenticate the user\u2019s primary account with the app must also offer\n  Sign in with Apple as an equivalent option. A user\u2019s primary account\n  is the account they establish with your app for the purposes of\n  identifying themselves, signing in, and accessing your features and\n  associated services.</p>\n  \n  <p>Sign in with Apple is not required if:</p>\n  \n  <p>\u00b7 Your app exclusively uses your company\u2019s own account setup and\n  sign-in systems.</p>\n  \n  <p>\u00b7 Your app is an education, enterprise, or business app that requires\n  the user to sign in with an existing education or enterprise account.</p>\n  \n  <p>\u00b7 Your app uses a government or industry-backed citizen identification\n  system or electronic ID to authenticate users.</p>\n  \n  <p>\u00b7 Your app is a client for a specific third-party service and users\n  are required to sign in to their mail, social media, or other\n  third-party account directly to access their content.</p>\n</blockquote>\n\n<p>(Source: <a href=\"https://developer.apple.com/app-store/review/guidelines\" rel=\"nofollow noreferrer\">https://developer.apple.com/app-store/review/guidelines</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576685081, "post_id": 59225838, "comment_id": 104980965, "body": "I made an app for a school that couldn&#39;t make it to the App Store before this new guideline was imposed -- we were rejected because we require the students&#39; Google G Suite account and cannot use an anonymous email to access student data. I appealed, and they rejected again, commenting that the rejection was final. What can I do about this?"}, {"owner": {"reputation": 334, "user_id": 7461562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/722dc11b056beabf8febfa7b0a3ac3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Super_Simon", "link": "https://stackoverflow.com/users/7461562/super-simon"}, "reply_to_user": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576784502, "post_id": 59225838, "comment_id": 105019303, "body": "Nothing is the short answer. As many people have said before, it&#39;s entirely possible for you to resubmit the same build for review and it may go through but it&#39;s no guarantee. Does your app use solely G Suite?"}, {"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576784704, "post_id": 59225838, "comment_id": 105019375, "body": "We use the fact that they&#39;re logged in to their g suite account (managed by the school) as proof enough that they&#39;re logged in -- we&#39;d really rather not Interface directly with the school servers. Also we may/may not add their Google drive or Google calendars to the app, so it may be required. We use Firebase for authentication, so using Google is really smooth here. But I&#39;ll try my luck at resubmitting, because they stopped responding to my questions for this build."}, {"owner": {"reputation": 334, "user_id": 7461562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/722dc11b056beabf8febfa7b0a3ac3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Super_Simon", "link": "https://stackoverflow.com/users/7461562/super-simon"}, "reply_to_user": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576787644, "post_id": 59225838, "comment_id": 105020480, "body": "If you use Firebase for authentication, why don&#39;t you integrate it directly within the app and have your students authenticate using their username/password from Firebase?"}], "tags": [], "owner": {"reputation": 334, "user_id": 7461562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/722dc11b056beabf8febfa7b0a3ac3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Super_Simon", "link": "https://stackoverflow.com/users/7461562/super-simon"}, "is_accepted": false, "score": 5, "last_activity_date": 1575720712, "last_edit_date": 1592644375, "creation_date": 1575720712, "answer_id": 59225838, "question_id": 59225567, "link": "https://stackoverflow.com/questions/59225567/apple-rejection-for-third-party-sign-up/59225838#59225838", "title": "Apple Rejection For Third Party Sign Up", "body": "<p>If you use any third-party sign-in feature, e.g. Facebook, Twitter, Google etc, you must now provide Apple Sign In as an additional option.</p>\n<p>It's important to remember if you use solely a custom login system (i.e. email and password) then you do not need to include Apple Sign In.</p>\n<blockquote>\n<p><strong>4.8 Sign in with Apple</strong></p>\n<p>Apps that exclusively use a third-party or social login service (such as Facebook Login, Google Sign-In, Sign in with Twitter, Sign In with LinkedIn, Login with Amazon, or WeChat Login) to set up or authenticate the user\u2019s primary account with the app must also offer Sign in with Apple as an equivalent option. A user\u2019s primary account is the account they establish with your app for the purposes of identifying themselves, signing in, and accessing your features and associated services.</p>\n<p><strong>Sign in with Apple is not required if:</strong></p>\n<p>Your app exclusively uses your company\u2019s own account setup and sign-in systems.\nYour app is an education, enterprise, or business app that requires the user to sign in with an existing education or enterprise account.\nYour app uses a government or industry-backed citizen identification system or electronic ID to authenticate users.\nYour app is a client for a specific third-party service and users are required to sign in to their mail, social media, or other third-party account directly to access their content.</p>\n</blockquote>\n<p>Further reading can be found here: <a href=\"https://developer.apple.com/app-store/review/guidelines/\" rel=\"nofollow noreferrer\">https://developer.apple.com/app-store/review/guidelines/</a></p>\n"}, {"comments": [{"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576691380, "post_id": 59382162, "comment_id": 104984295, "body": "Hey, my app also got rejected, even though it&#39;s for a school (&quot;app for education&quot;)  and we use Google G Suite to manage accounts (&quot;exclusively uses your company&#39;s own account setup and sign-in systems&quot;), and we still got rejected. Our appeal failed, and they said that was &quot;final&quot; -- any advice? Also, please update when you get approved, I would like to have some frame of reference for other devs out there."}, {"owner": {"reputation": 1502, "user_id": 4043853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e8be4e69448cc0d6d0e81e238632e0?s=128&d=identicon&r=PG", "display_name": "Mr Stanev", "link": "https://stackoverflow.com/users/4043853/mr-stanev"}, "reply_to_user": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576792734, "post_id": 59382162, "comment_id": 105022124, "body": "Hi @LeviLesches. I just updated my answer. My app got approved."}, {"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1576792931, "post_id": 59382162, "comment_id": 105022189, "body": "Congrats! They have yet to take my app out of &quot;rejected&quot;, but now I&#39;m optimistic"}, {"owner": {"reputation": 5543, "user_id": 5475813, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/LlKw4.jpg?s=128&g=1", "display_name": "Ekta Padaliya", "link": "https://stackoverflow.com/users/5475813/ekta-padaliya"}, "edited": false, "score": 0, "creation_date": 1578129040, "post_id": 59382162, "comment_id": 105344453, "body": "@MrStanev what you discussed with apple reviewer? I also want to approve my app."}, {"owner": {"reputation": 1502, "user_id": 4043853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e8be4e69448cc0d6d0e81e238632e0?s=128&d=identicon&r=PG", "display_name": "Mr Stanev", "link": "https://stackoverflow.com/users/4043853/mr-stanev"}, "reply_to_user": {"reputation": 5543, "user_id": 5475813, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/LlKw4.jpg?s=128&g=1", "display_name": "Ekta Padaliya", "link": "https://stackoverflow.com/users/5475813/ekta-padaliya"}, "edited": false, "score": 0, "creation_date": 1578238011, "post_id": 59382162, "comment_id": 105366735, "body": "@EktaPadaliya Basically I explained the things I wrote in this answer. Nothing else. I guess this got them thinking and they understood my points. But as you know apps are reviewed by different people so the person reviewing your app may decide that my arguments are irrelevant."}, {"owner": {"reputation": 111, "user_id": 4409134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EUufB.jpg?s=128&g=1", "display_name": "Moral", "link": "https://stackoverflow.com/users/4409134/moral"}, "reply_to_user": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1580119470, "post_id": 59382162, "comment_id": 105979724, "body": "Did you get approve from Apple? @LeviLesches"}, {"owner": {"reputation": 946, "user_id": 9392211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Levi Lesches", "link": "https://stackoverflow.com/users/9392211/levi-lesches"}, "edited": false, "score": 0, "creation_date": 1580130854, "post_id": 59382162, "comment_id": 105985738, "body": "Unfortunately not, they&#39;ve been pretty firm on the rule, though they did make an appeal to the higher ups to make the rule more lenient, but that&#39;s a very long process. In the meantime, we&#39;re going to get a private distribution and won&#39;t be publishing to the app store"}, {"owner": {"reputation": 1978, "user_id": 256475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad28abcc2bb9eaa61e384bba8c3005c6?s=128&d=identicon&r=PG", "display_name": "cwills", "link": "https://stackoverflow.com/users/256475/cwills"}, "edited": false, "score": 0, "creation_date": 1581379936, "post_id": 59382162, "comment_id": 106405801, "body": "Thank you for posting your experience. Our apps also fit within this (deliberate?) gray area within Apple&#39;s App Store Review guidelines. Where we offer a regular username + password login, but also allow user&#39;s to login with Google and Facebook. So we&#39;re not &#39;exclusive&#39; to either. Have you had any more issues getting your app approved since your last update?"}, {"owner": {"reputation": 1502, "user_id": 4043853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e8be4e69448cc0d6d0e81e238632e0?s=128&d=identicon&r=PG", "display_name": "Mr Stanev", "link": "https://stackoverflow.com/users/4043853/mr-stanev"}, "reply_to_user": {"reputation": 1978, "user_id": 256475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad28abcc2bb9eaa61e384bba8c3005c6?s=128&d=identicon&r=PG", "display_name": "cwills", "link": "https://stackoverflow.com/users/256475/cwills"}, "edited": false, "score": 0, "creation_date": 1581530405, "post_id": 59382162, "comment_id": 106468956, "body": "@cwills I&#39;ve only tried to publish one update (a minor bug fix), but they rejected it for a completely different reason - creating an account is not necessary to view most of the content according to them, so they asked me to make the sign up process optional (which my client refuses to do, so we just left it like that). Other than that I haven&#39;t published any updates."}, {"owner": {"reputation": 4892, "user_id": 1336608, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12cd7d39233d20291a825676f400a039?s=128&d=identicon&r=PG", "display_name": "Gabriel Goncalves", "link": "https://stackoverflow.com/users/1336608/gabriel-goncalves"}, "edited": false, "score": 0, "creation_date": 1585625174, "post_id": 59382162, "comment_id": 107820016, "body": "Thanks for the information, this is really good info. I had the same experience. In my case Apple QA/Reviewers didn&#39;t speak Spanish and didn&#39;t see the button to login/sign up -.-"}, {"owner": {"reputation": 83, "user_id": 3051553, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1488090567/picture?type=large", "display_name": "Athar Rajpoot", "link": "https://stackoverflow.com/users/3051553/athar-rajpoot"}, "edited": false, "score": 0, "creation_date": 1602055526, "post_id": 59382162, "comment_id": 113595038, "body": "Apple has now updated 4.8 Sign in with Apple Apps that use a third-party or social login service (such as Facebook Login, Google Sign-In, Sign in with Twitter, Sign In with LinkedIn, Login with Amazon, or WeChat Login) to set up or authenticate the user\u2019s primary account with the app must also offer Sign in with Apple as an equivalent option. A user\u2019s primary account is the account they establish with your app for the purposes of identifying themselves, signing in, and accessing your features and associated services."}, {"owner": {"reputation": 3078, "user_id": 2633276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DqoAh.jpg?s=128&g=1", "display_name": "Rubanov", "link": "https://stackoverflow.com/users/2633276/rubanov"}, "edited": false, "score": 0, "creation_date": 1602142718, "post_id": 59382162, "comment_id": 113628105, "body": "Apple has removed the <code>Your app exclusively uses your company\u2019s own account setup and sign-in systems</code> line so your app will no longer be accepted. You must always include Apple Sign In when you are using a third party login provider"}], "tags": [], "owner": {"reputation": 1502, "user_id": 4043853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e8be4e69448cc0d6d0e81e238632e0?s=128&d=identicon&r=PG", "display_name": "Mr Stanev", "link": "https://stackoverflow.com/users/4043853/mr-stanev"}, "is_accepted": false, "score": 12, "last_activity_date": 1593634106, "last_edit_date": 1593634106, "creation_date": 1576617273, "answer_id": 59382162, "question_id": 59225567, "link": "https://stackoverflow.com/questions/59225567/apple-rejection-for-third-party-sign-up/59382162#59382162", "title": "Apple Rejection For Third Party Sign Up", "body": "<p><strong>Update 3 (March 04, 2020)</strong></p>\n<p>The <a href=\"https://developer.apple.com/app-store/review/guidelines/#sign-in-with-apple\" rel=\"noreferrer\">App Store Review Guidelines</a> have been updated to cover cases that use both third party and their own sign in services. Those apps are now required to offer Sign in with Apple. Therefore I'll be updating my apps to support Sign in with Apple and I recommend you do the same if you fall into this category.</p>\n<p><strong>Original Answer:</strong></p>\n<p>So my app just got rejected for the exact same reason. My app offers regular email and password authentication as well as Facebook and Google login. Here are a few interesting things that I found while reading the App Store Review Guidelines.</p>\n<p><strong>1. It says:</strong></p>\n<blockquote>\n<p>Apps that <strong>exclusively</strong> use a third-party or social login service (such as Facebook Login, Google Sign-In, Sign in with Twitter, Sign In with LinkedIn, Login with Amazon, or WeChat Login) to set up or authenticate the user\u2019s primary account with the app must also offer Sign in with Apple as an equivalent option.</p>\n</blockquote>\n<p>But my app does NOT EXCLUSIVELY use a third-part or social login service. It also uses our own email/ password method. In fact the email and password method is on top and thus assumed to be the main method of authentication. So I feel like this rule does not apply to my app.</p>\n<p><strong>2. It also says:</strong></p>\n<blockquote>\n<p><strong>Sign in with Apple is not required if</strong>:</p>\n<p>Your app <strong>exclusively</strong> uses your company\u2019s own account setup and sign-in systems...</p>\n</blockquote>\n<p><strong>3. The first 2 rules don't cover my app's case.</strong></p>\n<p>My app does NOT EXCLUSIVELY use third-party login services and does NOT EXCLUSIVELY use our own method. It uses both. So it's neither required to implement the Sign in with Apple nor exempt from implementing it.</p>\n<p><strong>4. I submitted 2 apps for review in the same day with the exact same authentication methods and only one of them got rejected.</strong></p>\n<p>Yesterday I submitted 2 apps for review that are part of the same project and have the exact same authentication methods with the exact same auth screen design. They both got in review at the same time. The first one got approved and the second one got rejected for not implementing Sign in with Apple. Funny, right?</p>\n<p>So unless they update the Review Guidelines to cover a case where you use both methods of authentication I believe we are not violating any rule. I'm trying to argue with the review team that my rejected app does not violate the App Store Review Guidelines and they should not have rejected it.</p>\n<p>I'll update my answer when this get's resolved but till then it might actually help if others who face the same issue point this out to the review team. We'll either win our case and get our apps approved or they'll update their Review Guidelines to cover our case. Either way it'll be helpful for others in the future.</p>\n<p><strong>Update 1</strong></p>\n<p>Apple kinda understood that this is not right and my app's status changed from Binary Rejected to In Review. Now I'm waiting to see what they decide.</p>\n<p><strong>Update 2</strong></p>\n<p>After about 40 hours of being &quot;In Review&quot; my app finally got approved and is now &quot;Ready for Sale&quot;. I can't believe it, but it finally feels like someone listened and understood the arguments that I made.</p>\n"}, {"comments": [{"owner": {"reputation": 19424, "user_id": 172881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/385a9cbb500b56af9b8de9a0fa1bc3db?s=128&d=identicon&r=PG", "display_name": "jer", "link": "https://stackoverflow.com/users/172881/jer"}, "edited": false, "score": 0, "creation_date": 1615568838, "post_id": 60797651, "comment_id": 117740285, "body": "Yeah now you have to have a reason like: Administrators of company domains may require Google sign-in for their employees to use your app. Our app gets rejected every time for this reason, and this has become a form letter we send in the appeal, they approve it every time. It&#39;s the truth for us at least, not lying to them."}], "tags": [], "owner": {"reputation": 41, "user_id": 13103589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8caad0139916b113d69365c2bef412?s=128&d=identicon&r=PG&f=1", "display_name": "Zeplusoif", "link": "https://stackoverflow.com/users/13103589/zeplusoif"}, "is_accepted": false, "score": 4, "last_activity_date": 1584868899, "creation_date": 1584868899, "answer_id": 60797651, "question_id": 59225567, "link": "https://stackoverflow.com/questions/59225567/apple-rejection-for-third-party-sign-up/60797651#60797651", "title": "Apple Rejection For Third Party Sign Up", "body": "<p>Bad news: the word \"exclusively\" has been removed from the guidelines early March.</p>\n\n<blockquote>\n  <p>Apps that use a third-party or social login service (such as Facebook Login, Google Sign-In, Sign in with Twitter, Sign In with LinkedIn, Login with Amazon, or WeChat Login) to set up or authenticate the user\u2019s primary account with the app must also offer Sign in with Apple as an equivalent option</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 298, "user_id": 651409, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gttrC.jpg?s=128&g=1", "display_name": "Rana Ijaz", "link": "https://stackoverflow.com/users/651409/rana-ijaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1601553934, "last_edit_date": 1601553934, "creation_date": 1600956325, "answer_id": 64048212, "question_id": 59225567, "link": "https://stackoverflow.com/questions/59225567/apple-rejection-for-third-party-sign-up/64048212#64048212", "title": "Apple Rejection For Third Party Sign Up", "body": "<p>Today morning my app also got rejected because of the same reason but I was not using any third party sign up.</p>\n<p>After rejection, I realised that in side menu under login button, I have 5 social media buttons for their respective social media page links so I replied to Resolution Center that I am using regular email based register and login. Also, I shared the screenshot of both screens (Login &amp; Register). After 7-8 hours the status changed to 'In Review' and after next 10 minutes Apple approved and it goes live.</p>\n"}], "owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11880, "favorite_count": 3, "answer_count": 5, "score": 14, "last_activity_date": 1601553934, "creation_date": 1575718590, "question_id": 59225567, "link": "https://stackoverflow.com/questions/59225567/apple-rejection-for-third-party-sign-up", "title": "Apple Rejection For Third Party Sign Up", "body": "<p>Apple Review team rejected the Application with the reason</p>\n\n<p><strong>\"We noticed that your app uses a third-party login service but does not offer Sign in with Apple.\n\"</strong></p>\n\n<p>Even Application have normal Signup process as well with Email and Password.</p>\n\n<p>Is it Mandatory to have Apple Signin in iOS 13 apps ?</p>\n"}, {"tags": ["android", "ios", "objective-c", "ios-universal-links", "android-deep-link"], "comments": [{"owner": {"reputation": 673, "user_id": 1525388, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/02c970f0881683d3a448b9e7da2d81b7?s=128&d=identicon&r=PG", "display_name": "Zotyi", "link": "https://stackoverflow.com/users/1525388/zotyi"}, "edited": false, "score": 0, "creation_date": 1612726938, "post_id": 59223149, "comment_id": 116851003, "body": "Any news, did you solve ?"}], "owner": {"reputation": 427, "user_id": 6880456, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fb2dfed3c69474158eab4909af48d633?s=128&d=identicon&r=PG&f=1", "display_name": "malwatte", "link": "https://stackoverflow.com/users/6880456/malwatte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1575797707, "creation_date": 1575694785, "last_edit_date": 1575797707, "question_id": 59223149, "link": "https://stackoverflow.com/questions/59223149/how-to-prevent-deep-link-loop-opening-the-mobile-app-again-from-a-browser-redi", "title": "How to prevent deep link loop (opening the mobile app again) from a browser redirect?", "body": "<p>We have a mobile app and a web site. Users get emails with links to the pages in the web site.\nWe use iOS universal linking and Android app linking to associate the mobile app with the web site.</p>\n\n<p>Lets say the link in the email is <a href=\"https://abc/ticket/1234\" rel=\"nofollow noreferrer\">https://abc/ticket/1234</a>.\nWhen users tap the link it opens the relevant page in the mobile app. Users can open the same content in the web site by tapping a button in that mobile page. It opens the relevant page in the web site. We do not open the URL <a href=\"https://abc/ticket/1234\" rel=\"nofollow noreferrer\">https://abc/ticket/1234</a> directly. That is because user authenticated through an IDP first and then redirected to the correct page. The URL is something like this <a href=\"https://abc.idp?token=xyz&amp;redirect=https://abc/ticket/1234\" rel=\"nofollow noreferrer\">https://abc.idp?token=xyz&amp;redirect=https://abc/ticket/1234</a>.</p>\n\n<p>Here is the issue.</p>\n\n<ol>\n<li>User taps on the link <a href=\"https://abc/ticket/1234\" rel=\"nofollow noreferrer\">https://abc/ticket/1234</a> in the email.</li>\n<li>Mobile app page gets opened.</li>\n<li>User taps on the button \"Open in Portal\" in the mobile page.</li>\n<li><a href=\"https://abc.idp?token=xyz&amp;redirect=https://abc/ticket/1234\" rel=\"nofollow noreferrer\">https://abc.idp?token=xyz&amp;redirect=https://abc/ticket/1234</a> opens in the browser. (This is because user should be authenticated through IDP first.)</li>\n<li>After few seconds user gets authenticated and browser is redirected to the <a href=\"https://abc/ticket/1234\" rel=\"nofollow noreferrer\">https://abc/ticket/1234</a></li>\n<li>Mobile app is opened again &lt;--- we do not want this. We need to open it in the browser itself.</li>\n</ol>\n\n<p>In short,</p>\n\n<p>We need to tell the OS whether to open the app or the browser from the same link.</p>\n\n<p>We thought of passing an additional parameter with the URL <a href=\"https://abc/ticket/1234?do_not_open_mobile_app=true\" rel=\"nofollow noreferrer\">https://abc/ticket/1234?do_not_open_mobile_app=true</a> but it is not possible to use query parameters for URL comparison in apple-app-site-association file. Then we tried enabling deep links for the IDP as well, then it worked fine in Android, but not in iOS.</p>\n\n<p>Greatly appreciate your inputs.</p>\n"}, {"tags": ["objective-c", "set", "nsset"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1575719875, "post_id": 59218893, "comment_id": 104665620, "body": "See <a href=\"https://developer.apple.com/documentation/foundation/nsset?language=objc\" rel=\"nofollow noreferrer\">NSSet</a> &quot;A static <b>unordered</b> collection of <b>unique</b> objects.&quot;. Is the number of motors always 5? Is the time stamp a date or a number of seconds?"}, {"owner": {"reputation": 73, "user_id": 5957179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-EBy6MKvHcwM/AAAAAAAAAAI/AAAAAAAAAB0/QAI8q4s_gic/photo.jpg?sz=128", "display_name": "Anthony the Kid", "link": "https://stackoverflow.com/users/5957179/anthony-the-kid"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1575901612, "post_id": 59218893, "comment_id": 104711491, "body": "Great, good place to start.  And the number of motors is always 5, yes.  Time stamp is a number of seconds, always different per sequence (but each sequence runs after the previous one is complete)."}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10712348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUQM.jpg?s=128&g=1", "display_name": "Sagar koyani", "link": "https://stackoverflow.com/users/10712348/sagar-koyani"}, "is_accepted": false, "score": 0, "last_activity_date": 1575951788, "creation_date": 1575951788, "answer_id": 59260188, "question_id": 59218893, "link": "https://stackoverflow.com/questions/59218893/how-to-create-a-set-of-sets-18-sets-with-5-separate-integers-per-set-all-conde/59260188#59260188", "title": "How to create a set of sets (18 sets with 5 separate integers per set, all condensed in a single set)", "body": "<p>we can direct add integer values in array.\n    and can access value with intvalue.</p>\n\n<pre><code>arrMotorStates=[[NSMutableArray alloc] init];\nNSMutableArray *arr1=[[NSMutableArray alloc]initWithObjects:@1,@0,@0,@0,@0, nil];\nNSMutableArray *arr2=[[NSMutableArray alloc]initWithObjects:@0,@0,@-1,@0,@0, nil];\n[arr1 addObject:@5];\n[arrMotorStates addObject:arr1];\n[arrMotorStates addObject:arr2];\nNSLog(@\"%d\",[arrMotorStates[1][2] intValue]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "is_accepted": false, "score": 1, "last_activity_date": 1576631591, "last_edit_date": 1576631591, "creation_date": 1575957696, "answer_id": 59261118, "question_id": 59218893, "link": "https://stackoverflow.com/questions/59218893/how-to-create-a-set-of-sets-18-sets-with-5-separate-integers-per-set-all-conde/59261118#59261118", "title": "How to create a set of sets (18 sets with 5 separate integers per set, all condensed in a single set)", "body": "<p>As pointed out, you can't use sets to organize this for two reasons. First, sets only contain unique values and your sets have duplicate values. Second, sets are unordered; the values in your collection have an order.</p>\n\n<p>Arrays would be the simplest solution. In modern Obj-C immutable (read-only) arrays can be declared and built at run-time. And since an array is an object, you can build arrays of arrays.</p>\n\n<p>Declaration:</p>\n\n<pre><code>NSArray&lt;NSArray&lt;NSNumber*&gt;*&gt;* motorState = @[ @[ @1, @0, @0,  @0, @0 ],\n                                              @[ @0, @0, @-1, @0, @0 ],\n                                              @[ @0, @1, @0,  @1, @0 ] ];\n</code></pre>\n\n<p>Access:</p>\n\n<pre><code>// get value of row 1, column 3\nNSInteger state = motorState[1][3].integerValue;\n</code></pre>\n\n<p>The only hitch is that the vanilla foundation arrays can only store object references, so each value is encoded as an <code>NSNumber</code>.</p>\n"}], "owner": {"reputation": 73, "user_id": 5957179, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-EBy6MKvHcwM/AAAAAAAAAAI/AAAAAAAAAB0/QAI8q4s_gic/photo.jpg?sz=128", "display_name": "Anthony the Kid", "link": "https://stackoverflow.com/users/5957179/anthony-the-kid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576631591, "creation_date": 1575658960, "question_id": 59218893, "link": "https://stackoverflow.com/questions/59218893/how-to-create-a-set-of-sets-18-sets-with-5-separate-integers-per-set-all-conde", "title": "How to create a set of sets (18 sets with 5 separate integers per set, all condensed in a single set)", "body": "<p>How would I write the following in Objective-C?  Each integer represents a state of a motor (5 motors, with clockwise (1), off (0), counterclockwise (-1) as the states).  There are 18 sequences where each motors is \"told\" to run in CW or CCW direction, or stay off.  </p>\n\n<pre><code>{{1,0,0,0,0},\n {0,0,-1,0,0},\n {0,1,0,1,0},\n // etc. for another 15 sets\n}\n</code></pre>\n\n<p>Couple of questions:</p>\n\n<ol>\n<li>I only want to read these values...should I use <code>NSSet</code>?</li>\n<li>Would I write the integers as objects? (etc. <code>@\"1\"</code>)  Or can I keep them as integers</li>\n<li>If I wanted to add a known time stamp in the set, would that change the identity of the set (meaning, it would no longer be an integer-based set) ?  Ex: the first time stamp would be 0.3 seconds.  </li>\n</ol>\n\n<p>Let me know if you need anymore information.  Thanks</p>\n"}, {"tags": ["objective-c", "closures"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1575647489, "post_id": 59216205, "comment_id": 104648630, "body": "Could you show the code of where you call that method?"}, {"owner": {"reputation": 1075, "user_id": 1341768, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wqkqL.png?s=128&g=1", "display_name": "otusweb", "link": "https://stackoverflow.com/users/1341768/otusweb"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1575648143, "post_id": 59216205, "comment_id": 104648963, "body": "@Larme just added it"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1575648197, "post_id": 59216205, "comment_id": 104648997, "body": "No error param used? Also, not that the block is different for success ;) So I think that&#39;s why you have the error, it&#39;s not the same one.  In method definition: <code>success: (void(^)())success</code> vs in use: <code>success:^(NSDictionary *dict)</code>."}, {"owner": {"reputation": 3504, "user_id": 1986221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a3976577cdcb38084a2a41f7c1fb761?s=128&d=identicon&r=PG", "display_name": "Alejandro Iv&#225;n", "link": "https://stackoverflow.com/users/1986221/alejandro-iv%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1575653257, "post_id": 59216205, "comment_id": 104651239, "body": "Exactly what Larme said, the type of the block you&#39;re passing to the method doesn&#39;t match the declared type."}, {"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 1, "creation_date": 1575692531, "post_id": 59216205, "comment_id": 104660928, "body": "Agreed, in the success block, ARC is likely trying to retain the dict argument, but nothing is passed in so it&#39;s retaining a garbage pointer."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1575764321, "post_id": 59216205, "comment_id": 104675851, "body": "There should be a compiler warning telling you that there is a missing argument.   @CarlLindberg is most likely absolutely correct in his assessment."}, {"owner": {"reputation": 1075, "user_id": 1341768, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wqkqL.png?s=128&g=1", "display_name": "otusweb", "link": "https://stackoverflow.com/users/1341768/otusweb"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1575980744, "post_id": 59216205, "comment_id": 104741783, "body": "@Larme you are right the mismatch in signature seems to be the issue. if you add your comment as an answer I&#39;ll be happy to mark it as the right answer."}], "owner": {"reputation": 1075, "user_id": 1341768, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wqkqL.png?s=128&g=1", "display_name": "otusweb", "link": "https://stackoverflow.com/users/1341768/otusweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575648113, "creation_date": 1575646897, "last_edit_date": 1575648113, "question_id": 59216205, "link": "https://stackoverflow.com/questions/59216205/objectivec-crashing-when-calling-completion-block", "title": "ObjectiveC crashing when calling completion block", "body": "<p>I'm getting a crash when a block is called after a network call. Here is the code:</p>\n\n<pre><code>- (void) signInUser:(NSString*) username\n           password:(NSString*)password\n            success: (void(^)())success\n            failure:(void(^)(NSError *error))failure\n{\n    self.api.username = username;\n    self.api.password = password;\n\n    [self.api getAuthorityFeatureStatusCompletion:^(NSDictionary *dict) {\n\n        //successfully auth, save the credentials\n        [SSKeychain setPassword:password\n                     forService:[[NSBundle mainBundle] bundleIdentifier]\n                        account:username];\n\n\n        NSString *accountCodesEnabled = [[dict valueForKey:@\"AccountCodesEnabled\"] stringValue];\n        NSString *isVismaEnabled = [[[dict valueForKey:@\"VocuherAccounting\"] valueForKey:@\"IsEnabled\"] stringValue];\n\n\n        if ([accountCodesEnabled isEqualToString:@\"1\"]) {\n\n            [[NSUserDefaults standardUserDefaults] setObject:accountCodesEnabled forKey:@\"AccountCodesEnabledStatus\"];\n\n            [[NSUserDefaults standardUserDefaults] setObject:isVismaEnabled forKey:@\"GetStatusOfVismaEnabled\"];\n\n        } else {\n            [[NSUserDefaults standardUserDefaults] setObject:@\"0\" forKey:@\"GetStatusOfVismaEnabled\"];\n        }\n\n        //as we were able to sign in, get the other data we need for app to work\n\n\n\n        success();           &lt;============ crashes when calling this guy\n\n    }\n                                 andErrorHandling:^(NSError *error) {\n        //we could not get the info for some reason, abandon\n        api.username = nil;\n        api.password = nil;\n        failure(error);\n    }];\n\n\n\n\n}\n</code></pre>\n\n<p>I checked, my success block is not nil and the strange part is that if I comment out the code above the success() call, it works fine. So it suggests to me that the block is not getting retained properly maybe, but i'm unsure about how to go and fix it. \nI tried copying the block in each of the scope, but that did not fix it either.</p>\n\n<p>Crash is: Thread 11: EXC_BAD_ACCESS (code=1, address=0x6b0b), \nno data in the console, \nstack trace</p>\n\n<pre><code>#0  0x00007fff50bad357 in objc_retain ()\n#1  0x00007fff50bad65d in objc_storeStrong ()\n#2  0x00000001083f600b in __29-[LoginViewController login:]_block_invoke at /Users/otusweb/Projects/MoreFlo/ISUPOS/Controllers/View Controller/LoginViewController.m:309\n#3  0x000000010842b72e in __51-[UserManager signInUser:password:success:failure:]_block_invoke at /Users/otusweb/Projects/MoreFlo/ISUPOS/Managers/UserManager.m:78\n#4  0x00000001085bb221 in -[APIMaster handleAPIResponseWithData:response:error:success:failure:] at /Users/otusweb/Projects/MoreFlo/ISUPOS/Models/WebClasses/APIMaster.m:697\n#5  0x00000001085b5a21 in __66-[APIMaster getAuthorityFeatureStatusCompletion:andErrorHandling:]_block_invoke at /Users/otusweb/Projects/MoreFlo/ISUPOS/Models/WebClasses/APIMaster.m:88\n</code></pre>\n\n<p>And the code from where I call this method (which is called when tapping on a button):</p>\n\n<pre><code>[self.userManager signInUser:self.textFieldEmail.text\n                        password:self.textFieldPassword.text\n                         success:^(NSDictionary *dict) {\n        //successfully auth,\n        dispatch_async(dispatch_get_main_queue(), ^{\n\n            [MBProgressHUD hideHUDForView: self.view animated:true];\n        });\n    }\n</code></pre>\n\n<p>Any clues?</p>\n"}, {"tags": ["objective-c", "ios-darkmode", "uitraitcollection"], "comments": [{"owner": {"reputation": 261, "user_id": 2417351, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/155c0607ba46a3550339b8abed48a900?s=128&d=identicon&r=PG", "display_name": "michalis", "link": "https://stackoverflow.com/users/2417351/michalis"}, "edited": false, "score": 0, "creation_date": 1591175444, "post_id": 59215354, "comment_id": 109952357, "body": "Did you or anyone else find any solution?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8073678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acd173bebd279ea63bf005e5b03f2f21?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phan", "link": "https://stackoverflow.com/users/8073678/st%c3%a9phan"}, "is_accepted": false, "score": 1, "last_activity_date": 1591792806, "creation_date": 1591792806, "answer_id": 62303844, "question_id": 59215354, "link": "https://stackoverflow.com/questions/59215354/traitcollectiondidchange-dont-trigger-properly-in-objective-c/62303844#62303844", "title": "traitCollectionDidChange don&#39;t trigger properly in Objective-C", "body": "<p>I get it working calling super:</p>\n\n<pre><code> - (void) traitCollectionDidChange: (UITraitCollection *) previousTraitCollection {\n    [super traitCollectionDidChange: previousTraitCollection];\n    [self toggleDarkMode];\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 12297975, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-h9fcQ4ZlpjY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf70qYtDgvUGgHNYp4CwaiNa8G9sA/photo.jpg?sz=128", "display_name": "screenMonkey MonkeyMan", "link": "https://stackoverflow.com/users/12297975/screenmonkey-monkeyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1591792806, "creation_date": 1575643696, "last_edit_date": 1577016419, "question_id": 59215354, "link": "https://stackoverflow.com/questions/59215354/traitcollectiondidchange-dont-trigger-properly-in-objective-c", "title": "traitCollectionDidChange don&#39;t trigger properly in Objective-C", "body": "<p>I use <code>traitCollectionDidChange</code> in my <code>swift</code> classes to successfully trigger <code>dark mode</code> changes. Like this:</p>\n\n<pre><code>override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) {\n    toggleDarkMode()\n}\n</code></pre>\n\n<p>Works great. It triggers every time I switch between modes. But for my <code>objective-c</code> classes the <code>delegate</code> don't trigger when switching between dark and light mode. Code looks similar: </p>\n\n<pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection {\n    [self toggleDarkMode];\n} \n</code></pre>\n\n<p>I can only get it to trigger by going out of the <code>view</code>, then back in again. Is there something I have missed in the <code>objective-c</code> code?</p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications", "pushkit", "usernotifications"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 3134023, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005706853370/picture?type=large", "display_name": "Arilien", "link": "https://stackoverflow.com/users/3134023/arilien"}, "is_accepted": false, "score": 6, "last_activity_date": 1584977111, "creation_date": 1584977111, "answer_id": 60816508, "question_id": 59215269, "link": "https://stackoverflow.com/questions/59215269/apns-rejects-notification-with-reason-devicetokennotfortopic/60816508#60816508", "title": "APNS rejects notification with reason &quot;DeviceTokenNotForTopic&quot;", "body": "<p>APNS sends such error if bundleID of your app different from the <code>apns-topic</code> that you are sending from the server in request for voip push. \nOr a certificate for a voip push is generated for another bundleID. </p>\n\n<p>Error code <a href=\"https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CommunicatingwithAPNs.html\" rel=\"noreferrer\">https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CommunicatingwithAPNs.html</a>\nMore discussions here. <a href=\"https://github.com/QuickBlox/quickblox-ios-sdk/issues/1020\" rel=\"noreferrer\">https://github.com/QuickBlox/quickblox-ios-sdk/issues/1020</a></p>\n"}, {"tags": [], "owner": {"reputation": 791, "user_id": 7969193, "user_type": "registered", "profile_image": "https://graph.facebook.com/1523815740976167/picture?type=large", "display_name": "Laura Corssac", "link": "https://stackoverflow.com/users/7969193/laura-corssac"}, "is_accepted": false, "score": 0, "last_activity_date": 1604486871, "creation_date": 1604486871, "answer_id": 64678582, "question_id": 59215269, "link": "https://stackoverflow.com/questions/59215269/apns-rejects-notification-with-reason-devicetokennotfortopic/64678582#64678582", "title": "APNS rejects notification with reason &quot;DeviceTokenNotForTopic&quot;", "body": "<p>For me, I had changed the app's name and bundle ID and I hadn't renewed the device token and the certificate for notifications with images.</p>\n<p>To solve that, I firstly went to the <code>Certificates, Identifiers &amp; Profiles</code> section of my Apple Developer account and generated a new certificate with the <code>AppGroups</code> Capability.</p>\n<p>Then I got a new device token in the calling of the <code>AppDelegate</code>'s function</p>\n<p><code>application( _ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data)</code></p>\n<p>After getting the token from the <code>deviceToken</code> parameter and using it for sending the notification, it started working again.</p>\n"}], "owner": {"reputation": 33, "user_id": 12262024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7024c84158903d2ceabe15eed33f883c?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/12262024/ruslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7195, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1604486871, "creation_date": 1575643352, "last_edit_date": 1592644375, "question_id": 59215269, "link": "https://stackoverflow.com/questions/59215269/apns-rejects-notification-with-reason-devicetokennotfortopic", "title": "APNS rejects notification with reason &quot;DeviceTokenNotForTopic&quot;", "body": "<p>I'm receiving this error only when trying to register for remote notifications using UserNotifications framework.\nWhen using PushKit everything works ok.</p>\n<pre><code>    dispatch_queue_t mainQueue = dispatch_get_main_queue();\n    // Create a push registry object\n    self.voipRegistry = [[PKPushRegistry alloc] initWithQueue: mainQueue];\n    // Set the registry's delegate to self\n    self.voipRegistry.delegate = self;\n    // Set the push type to VoIP\n    self.voipRegistry.desiredPushTypes = [NSSet setWithObject:PKPushTypeVoIP];\n</code></pre>\n<p>Since Xcode 11 and iOS13 there are changes in PushKit to support CallKit, so I'm trying to use UserNotifications instead, as described in <a href=\"https://developer.apple.com/documentation/pushkit/responding_to_voip_notifications_from_pushkit?language=objc\" rel=\"nofollow noreferrer\">Apple's documentation</a></p>\n<pre><code>Important\nIf you are unable to support CallKit in your app, you cannot use PushKit to handle push notifications. Instead, configure your app's push notification support with the UserNotifications framework.\n</code></pre>\n<p>I'm registering for remote notifications this way</p>\n<pre><code>- (BOOL) application:(UIApplication*) application didFinishLaunchingWithOptions:(NSDictionary*) launchOptions\n{\n    [[UIApplication sharedApplication] registerForRemoteNotifications];\n</code></pre>\n<p>And receiving token:</p>\n<pre><code>- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken\n</code></pre>\n<p>But when I'm sending notification from my server, I get DeviceTokenNotForTopic.\nI'm not sure, if UserNotifications framework uses different APNs server or token format is different.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uiview", "viewcontroller"], "comments": [{"owner": {"reputation": 787, "user_id": 7851805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406efff90090b78f210c54cc9706536?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7851805/nick"}, "edited": false, "score": 0, "creation_date": 1575638178, "post_id": 59213934, "comment_id": 104643870, "body": "check this: <a href=\"https://stackoverflow.com/a/59085164/7851805\">stackoverflow.com/a/59085164/7851805</a>"}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1575638195, "post_id": 59213934, "comment_id": 104643877, "body": "it is iOS 13 feature."}, {"owner": {"reputation": 787, "user_id": 7851805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406efff90090b78f210c54cc9706536?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7851805/nick"}, "edited": false, "score": 1, "creation_date": 1575638505, "post_id": 59213934, "comment_id": 104644052, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/59083062/new-xcode-version-11-2-1-build-app-layout-problem\">New Xcode version 11.2.1 build app layout problem</a>"}], "answers": [{"tags": [], "owner": {"reputation": 583, "user_id": 11851754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cAOOD_XCg_s/AAAAAAAAAAI/AAAAAAAAJMM/fNvXqhrMJsw/photo.jpg?sz=128", "display_name": "Komal Goyani", "link": "https://stackoverflow.com/users/11851754/komal-goyani"}, "is_accepted": true, "score": 1, "last_activity_date": 1575638381, "creation_date": 1575638381, "answer_id": 59214004, "question_id": 59213934, "link": "https://stackoverflow.com/questions/59213934/present-view-controller-and-existing-view-controller-status-bar-is-overlapping-o/59214004#59214004", "title": "Present View Controller and Existing View Controller status bar is overlapping only in some device like ios 8", "body": "<p>This is not bug of status bar, this is feature of iOS 13, If you don't want this than you can set <code>modalPresentationStyle</code> to fullscreen. Like,</p>\n\n<pre><code>SecondView *view = [[SecondView alloc] initWithNibName:nil bundle:nil];\nview.modalPresentationStyle = UIModalPresentationFullScreen;\n[self presentViewController:view animated:YES completion:NULL];\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 6228731, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a94bfc3a76f33de8e9a07cc0229b8d07?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Arman", "link": "https://stackoverflow.com/users/6228731/mohammad-arman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "closed_date": 1575919297, "accepted_answer_id": 59214004, "answer_count": 1, "score": 0, "last_activity_date": 1575638381, "creation_date": 1575638075, "last_edit_date": 1575638333, "question_id": 59213934, "link": "https://stackoverflow.com/questions/59213934/present-view-controller-and-existing-view-controller-status-bar-is-overlapping-o", "closed_reason": "Duplicate", "title": "Present View Controller and Existing View Controller status bar is overlapping only in some device like ios 8", "body": "<p>Present View Controller and Existing View Controller status bar is overlapping only in some device like ios 8<a href=\"https://i.stack.imgur.com/bNLxb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bNLxb.png\" alt=\"Status Bar image\"></a> When it's redirecting to another view controller , existing view screen status bar is displaying partially. I am using this code to redirect   </p>\n\n<pre><code>SecondView *view = [[SecondView alloc] initWithNibName:nil bundle:nil];\n\n[self presentViewController:view animated:YES completion:NULL];\n</code></pre>\n"}, {"tags": ["objective-c", "keychain", "ios13", "simulator", "xcode11"], "comments": [{"owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1575693106, "post_id": 59212558, "comment_id": 104660987, "body": "I&#39;m not sure how you set a passcode on a simulator.  You may want to try <code>#if TARGET_OS_SIMULATOR  kSecAttrAccessibleAfterFirstUnlock, #else kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly, #endif</code> (with the precompiled directives on their own line of course) when you create the SecAccessControlRef, so you use different access control parameters on the simulator."}, {"owner": {"reputation": 641, "user_id": 3745186, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/UyHOM.jpg?s=128&g=1", "display_name": "prabakaran iOS", "link": "https://stackoverflow.com/users/3745186/prabakaran-ios"}, "reply_to_user": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "edited": false, "score": 0, "creation_date": 1575735887, "post_id": 59212558, "comment_id": 104669451, "body": "@CarlLindberg As per now, I&#39;m writing a condition for device and simulator. But there has any alternate solution for this. Thanks."}], "owner": {"reputation": 641, "user_id": 3745186, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/UyHOM.jpg?s=128&g=1", "display_name": "prabakaran iOS", "link": "https://stackoverflow.com/users/3745186/prabakaran-ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575632839, "creation_date": 1575632839, "question_id": 59212558, "link": "https://stackoverflow.com/questions/59212558/can-not-retrieving-my-password-from-my-key-chain-in-ios-13-simulator", "title": "Can not retrieving my password from my key chain in iOS 13 Simulator", "body": "<p>I have saved my password in ios keychain using the below code.</p>\n\n<pre><code> CFErrorRef *err = nil;\nSecAccessControlRef sacRef = SecAccessControlCreateWithFlags(\n    kCFAllocatorDefault,\n    kSecAttrAccessibleWhenPasscodeSetThisDeviceOnly,\n    kSecAccessControlUserPresence,\n    err);\n\n NSDictinary *attributes = @{\n    (__bridge id)kSecClass : (__bridge id)kSecClassGenericPassword,\n    (__bridge id)kSecAttrService : KeychainServiceName,\n    (__bridge id)kSecValueData : [password dataUsingEncoding:NSUTF8StringEncoding],\n    (__bridge id)kSecUseAuthenticationUI : @NO,\n    (__bridge id)kSecAttrAccessControl : (__bridge_transfer id)sacRef\n};\n\nOSStatus status = SecItemAdd((__bridge CFDictionaryRef)attributes, nil);\nif (status != errSecSuccess) {\n    [self resetTouchIDPreference];\n}\n</code></pre>\n\n<p>I can be retrieving the password in real iPhone devices and below iOS 13 simulators using the above code. But I can't retrieve the password in the iOS 13(iPhone 11 Pro Max iOS 13)simulator.</p>\n\n<p>when I Remove the <code>kSecAttrAccessControl</code> key from the dictionary <code>attributes</code> it'll work even also in iOS 13 devices. </p>\n\n<p>My question is </p>\n\n<blockquote>\n  <blockquote>\n    <p>why this key is not working in the iOS 13 simulator?. how do you write common code for both device and simulator?</p>\n  </blockquote>\n</blockquote>\n\n<p>I'm using below code to retrieving the password from the keychain</p>\n\n<pre><code>     NSDictionary *query = @{\n                    (__bridge id)kSecClass : (__bridge id)kSecClassGenericPassword,\n                    (__bridge id)kSecAttrService : KeychainServiceName,\n                    (__bridge id)kSecReturnData : @YES,\n                    (__bridge id)kSecUseOperationPrompt : @\"Your account is just a thumbprint away.\"\n                };\n\n                CFTypeRef dataTypeRef = NULL;\n                OSStatus status = SecItemCopyMatching((__bridge CFDictionaryRef)(query), &amp;dataTypeRef);\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 614, "user_id": 3815843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uDS96.png?s=128&g=1", "display_name": "GRiMe2D", "link": "https://stackoverflow.com/users/3815843/grime2d"}, "edited": false, "score": 0, "creation_date": 1575627888, "post_id": 59210955, "comment_id": 104639034, "body": "<a href=\"https://developer.apple.com/documentation/avfoundation/avaudiosession/1616533-outputvolume?language=objc\" rel=\"nofollow noreferrer\">Documentation for <code>outputVolume</code></a> says that it&#39;s compatible with <code>KVO</code>.  I assume that some events aren&#39;t sent properly by <code>AVAudioSession</code> itself.  Can you try to remove options when calling <code>-[NSObject addObserver:forKeyPath:options:context]</code>?"}, {"owner": {"reputation": 614, "user_id": 3815843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uDS96.png?s=128&g=1", "display_name": "GRiMe2D", "link": "https://stackoverflow.com/users/3815843/grime2d"}, "edited": false, "score": 0, "creation_date": 1575628095, "post_id": 59210955, "comment_id": 104639123, "body": "Also, when I had a project which used <code>MPVolumeView</code>, it wasn&#39;t working properly when I wanted the volume view to be hidden. Seems like <code>AVAudioSession</code> tries to detect is there any <b>not hidden</b> <code>MPVolumeView</code> instance in the view hierarchy.   I had to set <code>alpha</code> to <code>CGFloatMin</code> rather than setting <code>isHidden = true</code> or <code>alpha = 0</code>"}, {"owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "reply_to_user": {"reputation": 614, "user_id": 3815843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uDS96.png?s=128&g=1", "display_name": "GRiMe2D", "link": "https://stackoverflow.com/users/3815843/grime2d"}, "edited": false, "score": 0, "creation_date": 1575630545, "post_id": 59210955, "comment_id": 104640348, "body": "[[MPVolumeView alloc] initWithFrame:CGRectMake(MAXFLOAT, MAXFLOAT, 0, 0)]; so it shouldn&#39;t be vissible... I can&#39;t remove the options from that call, it doesn&#39;t compile without them"}, {"owner": {"reputation": 614, "user_id": 3815843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uDS96.png?s=128&g=1", "display_name": "GRiMe2D", "link": "https://stackoverflow.com/users/3815843/grime2d"}, "edited": false, "score": 0, "creation_date": 1575630772, "post_id": 59210955, "comment_id": 104640454, "body": "No, what you are doing with <code>MPVolumeView</code> is moving far enough and setting <code>height</code> and <code>width</code> to zero. iOS can detect it and mark it as <code>invisible</code> and will not tell any button events. You probably what to put view as it was showing something (like <code>CGRectMake(50, 100, 200, 5)</code>) but set <code>alpha = CGFLOAT_MIN + 0.01</code>.   It will visually invisible while UIKit detects it <code>visible</code>"}], "owner": {"reputation": 1149, "user_id": 426132, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/703eb1c4512c82825d980ae073f71741?s=128&d=identicon&r=PG", "display_name": "user426132", "link": "https://stackoverflow.com/users/426132/user426132"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575630361, "creation_date": 1575626886, "last_edit_date": 1575630361, "question_id": 59210955, "link": "https://stackoverflow.com/questions/59210955/device-button-presses-not-allways-detected-iphone", "title": "Device button presses not allways detected iPhone", "body": "<p>I am using <code>JPSVolumeButtonHandler</code> to detect presses on the iPhones volume buttons. I have noticed some strange behavior on <code>iOS 13</code> namely while UP volume presses are detected most of the time DOWN button presses are not, especially when the presses are in quick succession. \n<code>JPSVolumeButtonHandler</code> uses <code>KVO</code> to monitor volume changes for this:</p>\n\n<pre><code> [self.session addObserver:self\n               forKeyPath:sessionVolumeKeyPath\n               options:(NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew)\n               context:sessionContext];\n</code></pre>\n\n<p>But the <code>observeValueForKeyPath:...</code> doesn't seem to be called when the down button is pressed. </p>\n\n<p><strong>What could I do to improve the detection of the down volume button?</strong></p>\n"}, {"tags": ["ios", "objective-c", "scroll", "tableview", "nsattributedstring"], "comments": [{"owner": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575626077, "post_id": 59210526, "comment_id": 104638140, "body": "What if you create attributed string in background thread and then render that string into UITextView in main thread, the problem will still exist? Please go ahead and give it a try."}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "reply_to_user": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575626223, "post_id": 59210526, "comment_id": 104638219, "body": "@Rameez can you explain this approach? I tried to use &#39;performSelectorInBackground&#39; but I encountered a crash."}, {"owner": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575626350, "post_id": 59210526, "comment_id": 104638290, "body": "What is the description of that crash?"}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "reply_to_user": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575626709, "post_id": 59210526, "comment_id": 104638460, "body": "@Rameez Terminating app due to uncaught exception &#39;NSInternalInconsistencyException&#39;, reason: &#39;Only run on the main thread!&#39;"}, {"owner": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575627032, "post_id": 59210526, "comment_id": 104638616, "body": "Alright. It means all your code must be on main thread. So i&#39;ve a quick suggestion for you. Don&#39;t create attributed string every time. Once attributed string is created, store that string into your model. So when next time table view will reload your cell, pick that already created string from your model."}, {"owner": {"reputation": 39099, "user_id": 1633251, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/TBhqD.jpg?s=128&g=1", "display_name": "David H", "link": "https://stackoverflow.com/users/1633251/david-h"}, "edited": false, "score": 0, "creation_date": 1575636189, "post_id": 59210526, "comment_id": 104643004, "body": "Why don\u2019t you use initwithhtml:documentAttributes:? No apparent restrictions on threads."}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "reply_to_user": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575642869, "post_id": 59210526, "comment_id": 104646152, "body": "@Rameez it&#39;s a table for the chat so for new messages I have to render immediately."}, {"owner": {"reputation": 402, "user_id": 6822002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mYmNR.jpg?s=128&g=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6822002/rameez"}, "edited": false, "score": 0, "creation_date": 1575875313, "post_id": 59210526, "comment_id": 104698402, "body": "@taratandel No problem. You just have to maintain a flag in your model for your message either its attributed string is already created or not. If message&#39;s attributed string is already created then pick from your model otherwise create that."}], "answers": [{"comments": [{"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1575632819, "post_id": 59212520, "comment_id": 104641394, "body": "Do you mean <code>modal</code> or <code>model</code>?"}, {"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "reply_to_user": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 1, "creation_date": 1575633037, "post_id": 59212520, "comment_id": 104641489, "body": "Yeah Definately , Model same from MVC approach, Thanks"}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "edited": false, "score": 0, "creation_date": 1575642978, "post_id": 59212520, "comment_id": 104646215, "body": "why should I return my whole model ? is there any specific reason that you did that?"}, {"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "edited": false, "score": 0, "creation_date": 1575643310, "post_id": 59212520, "comment_id": 104646400, "body": "Nops, not necessary i just showing the modular way if you have some other information along with this attributed string ."}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "edited": false, "score": 0, "creation_date": 1575644765, "post_id": 59212520, "comment_id": 104647209, "body": "I tried your approach but I get a crash about CFRunloop"}, {"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "edited": false, "score": 0, "creation_date": 1575644809, "post_id": 59212520, "comment_id": 104647230, "body": "Can you please share the code , So i can debug at my end, Thanks"}], "tags": [], "owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "is_accepted": true, "score": 6, "last_activity_date": 1575633110, "last_edit_date": 1575633110, "creation_date": 1575632693, "answer_id": 59212520, "question_id": 59210526, "link": "https://stackoverflow.com/questions/59210526/cell-with-nsattributedstring-makes-the-scrolling-of-uitableview-slow/59212520#59212520", "title": "Cell with NSAttributedString makes the scrolling of UITableView slow", "body": "<p>I think u have to create the Attributed String in your Model class, So that table view cell for row method does not create a new Attributed string on scrolling,Hope It well help you out, Thanks</p>\n\n<pre><code>+(AttributedModel *)methodToGetAttributedDetail :(NSString *)txt {\n\n    AttributedModel *objModel = [[AttributedModel alloc] init];\n\n   NSString* htmlString = [NSString stringWithFormat:@\"&lt;div style=\\\"font-family:%@; font-size:%dpx; color:#08080d;\\\"&gt;%@&lt;/div&gt;\",fontNameBase, 16,txt];\n   htmlString = [Utility replaceHtmlCodeEntities:htmlString];\n   NSData* tempData = [htmlString dataUsingEncoding:NSUnicodeStringEncoding];\n   NSAttributedString *attributedString = [[NSAttributedString alloc] initWithData:tempData  options:@{NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType} documentAttributes:nil error:nil];\n\n   objModel.attributedString  = attributedString;\n\n   return objModel;\n}\n</code></pre>\n\n<p>Use this model value in CellforRow Method of table view</p>\n"}], "owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 1, "accepted_answer_id": 59212520, "answer_count": 1, "score": 3, "last_activity_date": 1575633110, "creation_date": 1575625391, "question_id": 59210526, "link": "https://stackoverflow.com/questions/59210526/cell-with-nsattributedstring-makes-the-scrolling-of-uitableview-slow", "title": "Cell with NSAttributedString makes the scrolling of UITableView slow", "body": "<p>I have a table view that contains multiple kinds of cells. One of them is a cell with a TextView and in this text view, I have to render an <code>NSAttributedString</code> from data. This has to be done on the main Thread according to <a href=\"https://developer.apple.com/documentation/foundation/nsattributedstring/1524613-initwithdata\" rel=\"nofollow noreferrer\">Apple documentation</a>:</p>\n\n<blockquote>\n  <p>The HTML importer should not be called from a background thread (that is, the options dictionary includes NSDocumentTypeDocumentAttribute with a value of NSHTMLTextDocumentType). It will try to synchronize with the main thread, fail, and time out. Calling it from the main thread works (but can still time out if the HTML contains references to external resources, which should be avoided at all costs). The HTML import mechanism is meant for implementing something like markdown (that is, text styles, colors, and so on), not for general HTML import.</p>\n</blockquote>\n\n<p>but rendering in this way will make lags on the scrolling of the table view and also will mess with auto layout. This is my code inside my cell.</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n    NSString* htmlString = [NSString stringWithFormat:@\"&lt;div style=\\\"font-family:%@; font-size:%dpx; color:#08080d;\\\"&gt;%@&lt;/div&gt;\",fontNameBase, 16,txt];\n    htmlString = [Utility replaceHtmlCodeEntities:htmlString];\n    NSData* tempData = [htmlString dataUsingEncoding:NSUnicodeStringEncoding];\n    NSAttributedString *attributedString = [[NSAttributedString alloc] initWithData:tempData  options:@{NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType} documentAttributes:nil error:nil];\n    self.textViewMsg.attributedText = txt;\n});\n</code></pre>\n\n<p>I scroll my tableView like this: </p>\n\n<pre><code>-(void)reloadAndScroll{\n    [self.tableChat reloadData];\n\n    long lastRowNumber = [_tableChat numberOfRowsInSection:0] - 1;\n    if (lastRowNumber &gt; 0) {\n        NSIndexPath* indexPath = [NSIndexPath indexPathForRow:lastRowNumber inSection:0];\n        [_tableChat scrollToRowAtIndexPath:indexPath        \n        atScrollPosition:UITableViewScrollPositionBottom animated:NO];\n    }\n}\n</code></pre>\n\n<p>Are there any other ways to create an Attributed string without these problems? </p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": true, "score": 0, "last_activity_date": 1575699581, "creation_date": 1575699581, "answer_id": 59223525, "question_id": 59210496, "link": "https://stackoverflow.com/questions/59210496/auto-release-pool-objective-c-with-c-using-it-properly-with-multiple-language/59223525#59223525", "title": "Auto release pool, Objective-c with C++ using it properly with multiple languages", "body": "<p>Any ObjC code will need a wrapping @autoreleasepool at some level.  So, it's a good idea to have it in main() at the very least.</p>\n\n<p>The rest of your stuff is more strictly CFFoundation, which is C and not (necessarily) Objective-C.  You will need to call CFRelease on the two you have, as well as _Image, and you should not need an extra autorelease pool around them, as once the retain count goes to zero on CFRelease the memory will be deallocated directly.  If you use CFAutorelease() instead, then you do need the pool, and the objects will live until the nearest wrapping autoreleasepool goes out of scope, at which point it will call CFRelease() (or the -release ObjC method) on all objects in the pool.</p>\n\n<p>So an autorelease is a sort of delayed release, when you still want to use the object in the local scope afterwards.  It's often used for returned values.  If you are using pure CFFoundation and call CFRelease(), then there may not be anything actually autoreleased so there won't be anything in the pool.</p>\n\n<p>You should be using CFRelease() (or CFAutorelease) on the three created objects regardless if the routine returns true or false -- you are done with them.</p>\n\n<p>If you are using regular ObjC, they will likely autorelease objects somewhere below.  You can use autoreleasepools if there is likely a large amount of memory or number of autoreleased objects you want to clean up, possibly before moving to other tasks.  Or sometimes it's done once per loop.</p>\n\n<p>BTW, you can use CFSTR(\"public.jpg\") to get constant CFStringRefs, rather than converting them from constant ObjC NSStrings, but it probably works fine either way.</p>\n"}], "owner": {"reputation": 1731, "user_id": 8813179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2805921ad889a0371d566a75d5f7d4?s=128&d=identicon&r=PG&f=1", "display_name": "ABC", "link": "https://stackoverflow.com/users/8813179/abc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 1, "accepted_answer_id": 59223525, "answer_count": 1, "score": 0, "last_activity_date": 1575699581, "creation_date": 1575625296, "question_id": 59210496, "link": "https://stackoverflow.com/questions/59210496/auto-release-pool-objective-c-with-c-using-it-properly-with-multiple-language", "title": "Auto release pool, Objective-c with C++ using it properly with multiple languages", "body": "<p>I am learning how to use Objective-c which I have never used before with C++ and C. I am realizing that Objective-c really likes you to release objects. This is a .mm C++ based application, more C++ will be used than Objective-c.</p>\n\n<p>In this example should I simply just call <code>CFRelease(object)</code> after it's used in the screenshot function. Or is it good practice to use <code>@autoreleasepool</code> within your functions.</p>\n\n<p>I was not sure if <code>@autoreleasepool</code> releases everything regarding objects that require <code>CFRelease</code>.</p>\n\n<pre><code>bool screenshot() {\n    CGImageRef _Image;\n    CFStringRef _Filename, _Format;\n    CFURLRef _URLRef;\n    CGImageDestinationRef _Destination;\n\n    _Image =  CGWindowListCreateImage(CGRectInfinite, (1 &lt;&lt; 0), (0), (1 &lt;&lt; 0));\n    _Filename = CFStringRef(@\"screenshot.jpg\");\n    _Format = CFStringRef(@\"public.jpeg\");\n    _URLRef = CFURLCreateWithFileSystemPath(kCFAllocatorDefault, _Filename, CFURLPathStyle(0), 0);\n    _Destination = CGImageDestinationCreateWithURL(_URLRef, _Format, 1, nullptr);\n\n    CGImageDestinationAddImage(_Destination, _Image, nullptr);\n    // Use it here?\n    @autoreleasepool {\n        if ( CGImageDestinationFinalize(_Destination) ) {\n            CFRelease(_Destination); // Or individually release\n            CFRelease(_URLRef); // Or individually release\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n}\n\nint main(int argc, const char **argv) {\n    // Here only, possibly?\n    @autoreleasepool {\n        screenshot();\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ipad", "uitextfield"], "comments": [{"owner": {"reputation": 2256, "user_id": 5690248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dabe0ffbb33a4bffa6ed4801272c759b?s=128&d=identicon&r=PG&f=1", "display_name": "The Dreams Wind", "link": "https://stackoverflow.com/users/5690248/the-dreams-wind"}, "edited": false, "score": 0, "creation_date": 1575620809, "post_id": 59209394, "comment_id": 104635661, "body": "Could you provide piece of code / storyboard / xib with the described view so we can reproduce this and point to the possible issues?"}, {"owner": {"reputation": 103, "user_id": 7918131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03b1efd914f14ab14ee7c032e6a7ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Dr M.", "link": "https://stackoverflow.com/users/7918131/dr-m"}, "edited": false, "score": 0, "creation_date": 1575621144, "post_id": 59209394, "comment_id": 104635777, "body": "Are you working with localization ?"}, {"owner": {"reputation": 159, "user_id": 1008024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ze8jLvT4PHY/AAAAAAAAAAI/AAAAAAAAArI/_pBfN1qvaR4/photo.jpg?sz=128", "display_name": "Harry McGovern", "link": "https://stackoverflow.com/users/1008024/harry-mcgovern"}, "edited": false, "score": 0, "creation_date": 1575621225, "post_id": 59209394, "comment_id": 104635815, "body": "No. No Localisation"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575623369, "post_id": 59209394, "comment_id": 104636698, "body": "\u201cIt&#39;s only the UIText fields text.\u201d This appears to be a label, not a text field."}, {"owner": {"reputation": 121, "user_id": 12115981, "user_type": "registered", "profile_image": "https://graph.facebook.com/1409122739244336/picture?type=large", "display_name": "Sebastian Hubard", "link": "https://stackoverflow.com/users/12115981/sebastian-hubard"}, "edited": false, "score": 0, "creation_date": 1610855107, "post_id": 59209394, "comment_id": 116262444, "body": "@HarryMcGovern did you ever find the solution? I&#39;m running into the same issue...  Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575623397, "post_id": 59209793, "comment_id": 104636717, "body": "That shouldn\u2019t make any difference."}, {"owner": {"reputation": 159, "user_id": 1008024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ze8jLvT4PHY/AAAAAAAAAAI/AAAAAAAAArI/_pBfN1qvaR4/photo.jpg?sz=128", "display_name": "Harry McGovern", "link": "https://stackoverflow.com/users/1008024/harry-mcgovern"}, "edited": false, "score": 0, "creation_date": 1575624494, "post_id": 59209793, "comment_id": 104637279, "body": "It does though. I went back and ticked the box - text disappears on the iPad."}], "tags": [], "owner": {"reputation": 159, "user_id": 1008024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ze8jLvT4PHY/AAAAAAAAAAI/AAAAAAAAArI/_pBfN1qvaR4/photo.jpg?sz=128", "display_name": "Harry McGovern", "link": "https://stackoverflow.com/users/1008024/harry-mcgovern"}, "is_accepted": false, "score": -1, "last_activity_date": 1575624355, "last_edit_date": 1575624355, "creation_date": 1575622444, "answer_id": 59209793, "question_id": 59209394, "link": "https://stackoverflow.com/questions/59209394/uilabel-text-not-appearing-on-some-devices-for-ios/59209793#59209793", "title": "UILabel Text Not Appearing on Some Devices for iOS", "body": "<p>I found the solution. \nIn the Attribute Inspector of the <em>UIText</em> I mean UILabel fields not displaying on the iPad, change the Behaviour from Enabled to Not Enabled. \nIn other words, I had that box ticked. I unticked it, and now it works on all devices.\nThanks for the responses.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 1008024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ze8jLvT4PHY/AAAAAAAAAAI/AAAAAAAAArI/_pBfN1qvaR4/photo.jpg?sz=128", "display_name": "Harry McGovern", "link": "https://stackoverflow.com/users/1008024/harry-mcgovern"}, "edited": false, "score": 0, "creation_date": 1575634031, "post_id": 59212796, "comment_id": 104641959, "body": "Interesting addition. It happened on iPads not in dark mode, but it\u2019s a good one to check."}, {"owner": {"reputation": 451, "user_id": 1619193, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3c67b710f15471cf1ef3d34e73def599?s=128&d=identicon&r=PG", "display_name": "Shawn Frank", "link": "https://stackoverflow.com/users/1619193/shawn-frank"}, "reply_to_user": {"reputation": 159, "user_id": 1008024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ze8jLvT4PHY/AAAAAAAAAAI/AAAAAAAAArI/_pBfN1qvaR4/photo.jpg?sz=128", "display_name": "Harry McGovern", "link": "https://stackoverflow.com/users/1008024/harry-mcgovern"}, "edited": false, "score": 0, "creation_date": 1613572321, "post_id": 59212796, "comment_id": 117115933, "body": "@HarryMcGovern - thanks for his, now I don&#39;t need to pull the remaining 3 strands of hair remaining !"}], "tags": [], "owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "is_accepted": false, "score": 5, "last_activity_date": 1597637216, "last_edit_date": 1597637216, "creation_date": 1575633749, "answer_id": 59212796, "question_id": 59209394, "link": "https://stackoverflow.com/questions/59209394/uilabel-text-not-appearing-on-some-devices-for-ios/59212796#59212796", "title": "UILabel Text Not Appearing on Some Devices for iOS", "body": "<p>Any chance your device is on Dark Mode? If so, that would explain why text doesn't show and background does. Dark Mode by default will switch black texts to white and the other way around.</p>\n<p>If that's the case and you don't want to support dark mode on you app, just disable it by adding this to your <code>.plist</code>:</p>\n<pre><code>&lt;key&gt;UIUserInterfaceStyle&lt;/key&gt;\n&lt;string&gt;Light&lt;/string&gt;\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 1008024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ze8jLvT4PHY/AAAAAAAAAAI/AAAAAAAAArI/_pBfN1qvaR4/photo.jpg?sz=128", "display_name": "Harry McGovern", "link": "https://stackoverflow.com/users/1008024/harry-mcgovern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1597637216, "creation_date": 1575620564, "last_edit_date": 1575624441, "question_id": 59209394, "link": "https://stackoverflow.com/questions/59209394/uilabel-text-not-appearing-on-some-devices-for-ios", "title": "UILabel Text Not Appearing on Some Devices for iOS", "body": "<p>This problem appears to only affect the iPad Mini 5 and the iPad Mini 4. <strong>Not the iPhone 11</strong>.\nIt's only the UILabel fields text. It's only on the Device, not on the Simulator.</p>\n\n<p>The text display fine on anything but the iPad Mini 5 device nor the iPad Mini 4.\nI've tried changing the fonts. I've tried changing just about everything that's changeable.\nThe app itself has been on the app store and working fine for years. Now it's not working on the iPad.\nI've tried checking the uppercase/lowercase thing mentioned elsewhere. The UILabel Field background shows clearly. Just not the text that's supposed to appear in the fields.\nThanks\nAttached is an image of the iPad Storyboard. The [Change Image] icon is a Button, and displays and works fine.\n<a href=\"https://i.stack.imgur.com/fN1lN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fN1lN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "ios13", "ios-darkmode"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575618996, "post_id": 59208826, "comment_id": 104635019, "body": "Unclear what sort of \u201cresponse\u201d to light / dark mode you are expecting. UIImages do not magically change because the mode changes. You have to pair them with one another. You have no dark mode version of this image to pair it with."}, {"owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "edited": false, "score": 1, "creation_date": 1575619681, "post_id": 59208826, "comment_id": 104635265, "body": "I think there is a dark mode version, since Gergely said that the image is correct for the current mode but does not switch automatically."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1575619710, "post_id": 59208826, "comment_id": 104635277, "body": "Obviously, I have a light and a dark version in the referenced image asset; otherwise it would be a wee bit problematic to expect any kind of change..."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575662024, "post_id": 59208826, "comment_id": 104654516, "body": "\u201cObviously, I have a light and a dark version in the referenced image asset\u201d Yes, but when you apply <code>resizableImage</code> to that, it returns a new different UIImage and obviously that one is not in the asset catalog. That\u2019s all I\u2019m saying."}, {"owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "edited": false, "score": 0, "creation_date": 1575715825, "post_id": 59208826, "comment_id": 104664683, "body": "Another thought: do you need to set the insets in code or are they always the same? If not, you can try to specify them in the asset catalog (in the Attributes Inspector, at the bottom in the &quot;Slicing&quot; section) and check if the automatic dark mode change would work then."}], "answers": [{"comments": [{"owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575619803, "post_id": 59209052, "comment_id": 104635306, "body": "I think it does. When you load the UIImage by name, it&#39;s basically a placeholder that resolves to a concrete image depending on the trait environment. However, it seems that <code>resizableImageWithCapInsets</code> causes it to resolve to a concrete image (for the current trait environment) and to lose its placeholder status."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1575620011, "post_id": 59209052, "comment_id": 104635371, "body": "I will give this a try tonight. Thank you!"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575668713, "post_id": 59209052, "comment_id": 104656734, "body": "The gist is not a good model to follow. It tries to reinvent a wheel that doesn&#39;t need reinventing. There is a built-in mechanism for this, UIImageAsset."}, {"owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "edited": false, "score": 0, "creation_date": 1575715522, "post_id": 59209052, "comment_id": 104664618, "body": "Yes, that&#39;s what they are using in the gist."}], "tags": [], "owner": {"reputation": 6356, "user_id": 541016, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2746db84e1ea2cafd6539ef184769bab?s=128&d=identicon&r=PG", "display_name": "Frank Schlegel", "link": "https://stackoverflow.com/users/541016/frank-schlegel"}, "is_accepted": false, "score": 0, "last_activity_date": 1598916509, "last_edit_date": 1598916509, "creation_date": 1575618915, "answer_id": 59209052, "question_id": 59208826, "link": "https://stackoverflow.com/questions/59208826/uiimage-with-resizableimagewithcapinsets-does-not-respond-in-dark-mode/59209052#59209052", "title": "UIImage with resizableImageWithCapInsets Does Not Respond in Dark Mode", "body": "<p>It seems <code>resizableImageWithCapsInsets</code> causes the image to lose its dynamic, auto-adapting properties. You could maybe try to create images for both appearances and put them together again into a dynamic image. Check out <a href=\"https://gist.github.com/mdznr/099ab47f65ea951c695c4ac8f40bb43b\" rel=\"nofollow noreferrer\">this gist</a> on how this could be done.</p>\n"}, {"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575662106, "post_id": 59219261, "comment_id": 104654544, "body": "No, this is wrong. There is a way to pair any two images, not in the asset catalog, as automatic variants of each other."}], "tags": [], "owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "is_accepted": false, "score": -1, "last_activity_date": 1575660774, "creation_date": 1575660774, "answer_id": 59219261, "question_id": 59208826, "link": "https://stackoverflow.com/questions/59208826/uiimage-with-resizableimagewithcapinsets-does-not-respond-in-dark-mode/59219261#59219261", "title": "UIImage with resizableImageWithCapInsets Does Not Respond in Dark Mode", "body": "<p>I have solved it, but boy is this ugly. So, if anyone has a nicer solution I am open to it:</p>\n\n<p>I first store the image view in an NSMutableArray:</p>\n\n<pre><code>- (UIImageView *) addTileBackgroundOfSize:(CGRect)bounds {\n    UIImageView *backgroundView     = [[UIImageView alloc] initWithFrame:bounds];\n        UIEdgeInsets insets         = UIEdgeInsetsMake(10.0f, 49.0f, 49.0f, 10.0f);\n        UIImage *backgroundImage    = [[UIImage imageNamed:@\"UnivGalleryTile\"] resizableImageWithCapInsets:insets];\n    backgroundView.image            = backgroundImage;\n\n    // Store image for re-drawing upon dark/light mode change\n    [thumbnailArray addObject:backgroundView];\n\n    return backgroundView;\n}\n</code></pre>\n\n<p>And then I reset the background image manually when the user changes the screen mode:</p>\n\n<pre><code>- (void)traitCollectionDidChange:(UITraitCollection *)previousTraitCollection {\n    for (int i = 0; thumbnailArray.count &gt; i; i++) {\n        UIEdgeInsets insets         = UIEdgeInsetsMake(10.0f, 49.0f, 49.0f, 10.0f);\n        UIImage *backgroundImage    = [[UIImage imageNamed:@\"UnivGalleryTile\"] resizableImageWithCapInsets:insets];\n\n        ((UIImageView *)[thumbnailArray objectAtIndex:i]).image = backgroundImage;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1575665070, "post_id": 59219878, "comment_id": 104655548, "body": "Thank you for the answer. Could you please provide an Objective-C variant as well? I&#39;ll then give it a try."}, {"owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "edited": false, "score": 0, "creation_date": 1575665224, "post_id": 59219878, "comment_id": 104655598, "body": "I know next to nothing about Swift unfortunately."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1598916254, "last_edit_date": 1598916254, "creation_date": 1575663814, "answer_id": 59219878, "question_id": 59208826, "link": "https://stackoverflow.com/questions/59208826/uiimage-with-resizableimagewithcapinsets-does-not-respond-in-dark-mode/59219878#59219878", "title": "UIImage with resizableImageWithCapInsets Does Not Respond in Dark Mode", "body": "<p>First of all, there is no surprise here. When you say <code>resizableImage</code>, you make a new image. It is no longer the image you got from the asset catalog, so it has lost the automatic linkage / dynamism that makes an image change automatically to another image when the trait collection changes.</p>\n<p>Second, that doesn't matter, because you can <em>create</em> that linkage with any two images (that are not in the asset catalog). You do that by way of the UIImageAsset class.</p>\n<p>So here's a working example. Imagine that Faces is the name of a pair in the asset catalog, one for Any, one for Dark. I'll extract each member of the pair, apply <code>resizable</code> to each one, and then join the <em>new</em> pair together as variants of one another:</p>\n<pre><code>let tclight = UITraitCollection(userInterfaceStyle: .light)\nlet tcdark = UITraitCollection(userInterfaceStyle: .dark)\nvar smiley = UIImage(named: &quot;Faces&quot;, in: nil, compatibleWith: tclight)!\nvar frowney = UIImage(named: &quot;Faces&quot;, in: nil, compatibleWith: tcdark)!\nlet link = UIImageAsset()\nlet insets = UIEdgeInsets(top: 30, left: 30, bottom: 30, right: 30)\nsmiley = smiley.resizableImage(withCapInsets: insets)\nfrowney = frowney.resizableImage(withCapInsets: insets)\nlink.register(smiley, with: tclight)\nlink.register(frowney, with: tcdark)\n</code></pre>\n<p>Or in Objective-C:</p>\n<pre><code>UITraitCollection* tclight = [UITraitCollection traitCollectionWithUserInterfaceStyle:UIUserInterfaceStyleLight];\nUITraitCollection* tcdark = [UITraitCollection traitCollectionWithUserInterfaceStyle:UIUserInterfaceStyleDark];\nUIImage* smiley = [UIImage imageNamed:@&quot;Faces&quot; inBundle:nil compatibleWithTraitCollection:tclight];\nUIImage* frowney = [UIImage imageNamed:@&quot;Faces&quot; inBundle:nil compatibleWithTraitCollection:tcdark];\nUIImageAsset* link = [UIImageAsset new];\nUIEdgeInsets insets = UIEdgeInsetsMake(30, 30, 30, 30);\nsmiley = [smiley resizableImageWithCapInsets:insets];\nfrowney = [frowney resizableImageWithCapInsets:insets];\n[link registerImage:smiley withTraitCollection:tclight];\n[link registerImage:frowney withTraitCollection:tcdark];\n</code></pre>\n<p>All done. Notice that in the code there is no need to retain any of the objects (<code>link</code>, <code>smiley</code>, <code>frowney</code>).\nNow if you insert one member of the pair into, say, an image view, it will change to the other automatically when the user light/dark mode changes:</p>\n<pre><code>let tc = self.traitCollection\nlet im = link.image(with: tc)\nself.imageView.image = im\n</code></pre>\n<p>I'll switch back and forth between light and dark mode to prove that this is working:</p>\n<p><a href=\"https://i.stack.imgur.com/Z7Y2m.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z7Y2m.gif\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 945, "user_id": 1792135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/q8Dcd.png?s=128&g=1", "display_name": "Gergely Kovacs", "link": "https://stackoverflow.com/users/1792135/gergely-kovacs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 59219878, "answer_count": 3, "score": 1, "last_activity_date": 1598916509, "creation_date": 1575617753, "question_id": 59208826, "link": "https://stackoverflow.com/questions/59208826/uiimage-with-resizableimagewithcapinsets-does-not-respond-in-dark-mode", "title": "UIImage with resizableImageWithCapInsets Does Not Respond in Dark Mode", "body": "<p>Does anyone know of a way to make a UIImage that has been stretched with resizableImageWithCapInsets respond to changes in light/dark mode? My current implementation only takes into consideration dark/light mode when it is being drawn the first time. </p>\n\n<pre><code>[thumbnailContainer addSubview:[self addTileBackgroundOfSize:thumbnailContainer.bounds]];\n\n- (UIImageView *) addTileBackgroundOfSize:(CGRect)bounds {\n    UIImageView *backgroundView = [[UIImageView alloc] initWithFrame:bounds];\n    UIEdgeInsets insets         = UIEdgeInsetsMake(10.0f, 49.0f, 49.0f, 10.0f);\n    UIImage *backgroundImage    = [[UIImage imageNamed:@\"UnivGalleryTile\"] resizableImageWithCapInsets:insets];\n    backgroundView.image        = backgroundImage;\n\n    return backgroundView;\n}\n</code></pre>\n\n<p>I guess I could redraw them in a traitCollection delegate method but I was hoping there is a better way to make them respond.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "callkit"], "comments": [{"owner": {"reputation": 151, "user_id": 4707341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3febd7ca97737b02e018d5755e4db0c?s=128&d=identicon&r=PG", "display_name": "Alino", "link": "https://stackoverflow.com/users/4707341/alino"}, "reply_to_user": {"reputation": 4936, "user_id": 4029489, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/388fead8facdd0e117774abb3dfe404a?s=128&d=identicon&r=PG&f=1", "display_name": "nathanwhy", "link": "https://stackoverflow.com/users/4029489/nathanwhy"}, "edited": false, "score": 0, "creation_date": 1575615450, "post_id": 59208133, "comment_id": 104633736, "body": "Yes, but I build in xcode 10.3, system does not close the application in this case."}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1575616199, "post_id": 59208133, "comment_id": 104633954, "body": "Same happens to me also , Need to reopen from app stack with double tap on home button. this seems iOS bug"}, {"owner": {"reputation": 2486, "user_id": 8268484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0GbLN.jpg?s=128&g=1", "display_name": "Tuan Luong", "link": "https://stackoverflow.com/users/8268484/tuan-luong"}, "edited": false, "score": 0, "creation_date": 1575621959, "post_id": 59208133, "comment_id": 104636063, "body": "Everytime you report incoming call, try a new UUID. It can be a problem if you report the same UUID that previously failed to present"}, {"owner": {"reputation": 151, "user_id": 4707341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3febd7ca97737b02e018d5755e4db0c?s=128&d=identicon&r=PG", "display_name": "Alino", "link": "https://stackoverflow.com/users/4707341/alino"}, "edited": false, "score": 0, "creation_date": 1575622178, "post_id": 59208133, "comment_id": 104636158, "body": "Yes, for all call get new UUID. Create a new NSUUID with: [NSUUID UUID]"}, {"owner": {"reputation": 1683, "user_id": 4014369, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh3.googleusercontent.com/-tci6WpyiZvU/AAAAAAAAAAI/AAAAAAAAAlc/XEUkhu9rHdA/photo.jpg?sz=128", "display_name": "Balaji Ramakrishnan", "link": "https://stackoverflow.com/users/4014369/balaji-ramakrishnan"}, "edited": false, "score": 0, "creation_date": 1576328175, "post_id": 59208133, "comment_id": 104868649, "body": "Is it possible to handle this issue ?"}, {"owner": {"reputation": 151, "user_id": 4707341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3febd7ca97737b02e018d5755e4db0c?s=128&d=identicon&r=PG", "display_name": "Alino", "link": "https://stackoverflow.com/users/4707341/alino"}, "edited": false, "score": 0, "creation_date": 1576565990, "post_id": 59208133, "comment_id": 104931073, "body": "So far I have not found a solution."}, {"owner": {"reputation": 185, "user_id": 10980981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b22831c8f7d06b375678246a703748?s=128&d=identicon&r=PG&f=1", "display_name": "Mudassir Zulfiqar", "link": "https://stackoverflow.com/users/10980981/mudassir-zulfiqar"}, "reply_to_user": {"reputation": 1683, "user_id": 4014369, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh3.googleusercontent.com/-tci6WpyiZvU/AAAAAAAAAAI/AAAAAAAAAlc/XEUkhu9rHdA/photo.jpg?sz=128", "display_name": "Balaji Ramakrishnan", "link": "https://stackoverflow.com/users/4014369/balaji-ramakrishnan"}, "edited": false, "score": 0, "creation_date": 1580717674, "post_id": 59208133, "comment_id": 106174692, "body": "@BalajiRamakrishnan Any solution you guys found so far? Im facing the same issue?"}, {"owner": {"reputation": 1683, "user_id": 4014369, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh3.googleusercontent.com/-tci6WpyiZvU/AAAAAAAAAAI/AAAAAAAAAlc/XEUkhu9rHdA/photo.jpg?sz=128", "display_name": "Balaji Ramakrishnan", "link": "https://stackoverflow.com/users/4014369/balaji-ramakrishnan"}, "reply_to_user": {"reputation": 185, "user_id": 10980981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b22831c8f7d06b375678246a703748?s=128&d=identicon&r=PG&f=1", "display_name": "Mudassir Zulfiqar", "link": "https://stackoverflow.com/users/10980981/mudassir-zulfiqar"}, "edited": false, "score": 0, "creation_date": 1580721771, "post_id": 59208133, "comment_id": 106176471, "body": "@MudassirZulfiqar No. still i couldn&#39;t figure it out this issue. Anybody have suggestion for this ?  Here&#39;s my question about this issue : [<a href=\"https://stackoverflow.com/q/59840370/4014369]\">stackoverflow.com/q/59840370/4014369]</a>"}], "owner": {"reputation": 151, "user_id": 4707341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3febd7ca97737b02e018d5755e4db0c?s=128&d=identicon&r=PG", "display_name": "Alino", "link": "https://stackoverflow.com/users/4707341/alino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1014, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1575623316, "creation_date": 1575614503, "last_edit_date": 1575623316, "question_id": 59208133, "link": "https://stackoverflow.com/questions/59208133/callkit-incomming-call-hide-to-background", "title": "CallKit incomming call hide to background", "body": "<p>I have a VoIP application.\nI implement CallKit in it.\nI build it in Xcode 10.3</p>\n\n<p>Sometimes it happens that the incoming call is hidden.\nOnly for iOS13.\nIt is not possible to answer the call.</p>\n\n<p>In iOS 12, the callkit flashes, but then appears.</p>\n\n<p>Application was not closed by system.\nAnd ringing continues to play.\nDouble click on the home button to open CallKit screen.</p>\n\n<p>For all call create a new NSUUID with: [NSUUID UUID]</p>\n\n<p>Please can you advise me?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1575612631, "post_id": 59206165, "comment_id": 104632830, "body": "Why are you confused? The values are 8 bytes apart. 0x7ffeef66e138 is 8 more than 0x7ffeef66e130 which is 8 more than 0x7ffeef66e128. Isn\u2019t that what you said you expected? I do not see any \u201cincrease by one byte\u201d anywhere here, so what is the question about?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575613064, "post_id": 59206165, "comment_id": 104632958, "body": "Might want to read <a href=\"https://stackoverflow.com/questions/2724449/difference-between-word-addressable-and-byte-addressable\" title=\"difference between word addressable and byte addressable\">stackoverflow.com/questions/2724449/&hellip;</a>"}, {"owner": {"reputation": 56, "user_id": 4678944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e9475a0f46e2ea5e3db6b33bdac577?s=128&d=identicon&r=PG&f=1", "display_name": "daocaoren1027", "link": "https://stackoverflow.com/users/4678944/daocaoren1027"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575682749, "post_id": 59206165, "comment_id": 104659794, "body": "Thanks. I&#39;m wrong because I think the address increase unit is bit."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575688048, "post_id": 59206165, "comment_id": 104660437, "body": "Yes, LOL. The whole point of bytes is that they, not bits, are what an address addresses."}], "owner": {"reputation": 56, "user_id": 4678944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e9475a0f46e2ea5e3db6b33bdac577?s=128&d=identicon&r=PG&f=1", "display_name": "daocaoren1027", "link": "https://stackoverflow.com/users/4678944/daocaoren1027"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575608198, "creation_date": 1575600727, "last_edit_date": 1575608198, "question_id": 59206165, "link": "https://stackoverflow.com/questions/59206165/why-does-the-address-of-a-numbers-pointer-increase-by-one-byte-not-eight-bytes", "title": "Why does the address of a number&#39;s pointer increase by one byte, not eight bytes in iOS with 64-bit architecture?", "body": "<p>The code for test:</p>\n\n<pre><code>NSNumber *n1 = @1;\nNSNumber *n2 = @2;\nNSNumber *n3 = @3;\nNSLog(@\"\\n- %p\\n - %p\\n - %p\\n\", &amp;n1, &amp;n2, &amp;n3);\n</code></pre>\n\n<p>The address number's pointer:</p>\n\n<pre><code>// pointer address of numbers\n - 0x7ffeef66e138\n - 0x7ffeef66e130\n - 0x7ffeef66e128\n</code></pre>\n\n<p>The pointer need 8 bytes in 64-bit iOS architecture, So I think continuous number's address should increase by 8 bytes. But the test result make me confused.</p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1575691031, "creation_date": 1575691031, "answer_id": 59222851, "question_id": 59204666, "link": "https://stackoverflow.com/questions/59204666/how-can-i-cast-a-int-too-an-unsafemutablepointerint32/59222851#59222851", "title": "How can I cast a &#39;[Int]&#39; too an &#39;UnsafeMutablePointer&lt;Int32&gt;?&#39;?", "body": "<p>See Manual Memory Management in Apple's docs: <a href=\"https://developer.apple.com/documentation/swift/swift_standard_library/manual_memory_management\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/swift/swift_standard_library/manual_memory_management</a>.</p>\n\n<p>In this case, if the function is imported into Swift as having <code>UnsafeMutablePointer&lt;Int32&gt;</code> for the type of <code>time_diff</code>, you should declare the array in swift as <code>[Int32]</code> instead of <code>[Int]</code>.  Then pass it as <code>&amp;time_diff</code> (an <code>inout</code> argument).</p>\n"}], "owner": {"reputation": 5, "user_id": 10554588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ea47ff74d91379a229be4fca18a33e?s=128&d=identicon&r=PG&f=1", "display_name": "Trevor Walker", "link": "https://stackoverflow.com/users/10554588/trevor-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 1, "accepted_answer_id": 59222851, "answer_count": 1, "score": 0, "last_activity_date": 1575691031, "creation_date": 1575588137, "question_id": 59204666, "link": "https://stackoverflow.com/questions/59204666/how-can-i-cast-a-int-too-an-unsafemutablepointerint32", "title": "How can I cast a &#39;[Int]&#39; too an &#39;UnsafeMutablePointer&lt;Int32&gt;?&#39;?", "body": "<p>I have a variable called time_diff in an app I'm making. I need to pass it into an obj-c function that takes UnsafeMutablePointer?.</p>\n\n<p>Swift:</p>\n\n<p><code>var time_diff = [Int](repeating: 0, count: MAX_NODE)</code></p>\n\n<p>Obj-C Function:</p>\n\n<pre><code>- (instancetype) initWithRawDataX:(float *)x Y:(float*)y pressure:(float *)p time_diff:(int *)time penColor:(UInt32)penColor penThickness:(NSUInteger)thickness startTime:(UInt64)start_at size:(int)size normalizer:(float)inputScale\n</code></pre>\n"}, {"tags": ["objective-c", "localizable.strings"], "comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 1, "creation_date": 1575584531, "post_id": 59203883, "comment_id": 104626170, "body": "Does seem curious, can you edit your question and add some more details? E.g. where are your two lines of code, what does the debugger say is in <code>placeholderText</code>, what is <code>_txtDescription</code>, if you right-click <code>NSLocalizedString</code> in your first line can you &quot;Jump to Definition&quot; and if so what does it show, etc. With this extra information somebody will probably help you."}, {"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1575585291, "post_id": 59203883, "comment_id": 104626391, "body": "In &quot;Jump to Definition&quot; I have the ios13 code. placeholderText says its <code>blog_add_notes</code> and <code>_txtDescription</code> is a TextView"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1575600175, "post_id": 59203883, "comment_id": 104629929, "body": "What do you mean by &quot;the ios13 code&quot;? <code>NSLocalizedString</code> is (or was if its changed in ios 13) a macro defined in <code>NSBundle.h</code>. Can you reproduce the error in a new project which does nothing but the <code>NSLocalizedString</code> call in <code>viewDidLoad</code> (just use a breakpoint to examine the return value)."}], "owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575584985, "creation_date": 1575583152, "last_edit_date": 1575584985, "question_id": 59203883, "link": "https://stackoverflow.com/questions/59203883/nslocalizedstring-not-saving-value", "title": "NSLocalizedString not saving value", "body": "<p>This code is not saving \"Add notes\" into placeholderText, but instead it is saving just \"blog_add_notes\". I also tried to cast it to String but it doesn't work. </p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    [self initValues];\n\n    NSString *placeholderText = NSLocalizedString(@\"blog_add_notes\", @\"\");\n    _txtDescription.placeholder = placeholderText;\n    //more code\n}\n</code></pre>\n\n<p>But when I print <code>po NSLocalizedString(@\"blog_add_notes\", @\"\")</code> it prints in fact \"Add notes\"</p>\n\n<p>What I'm doing wrong? </p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "accessoryview"], "answers": [{"comments": [{"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1581258301, "post_id": 60137449, "comment_id": 106362826, "body": "The whole reason for using the chevron is because with iOS 13 the accessory icon color wasnt able to be changed anymore. This worked perfectly.  I had to wrap it in the <code>@available(iOS 13.0, *)</code> but its exactly what was needed."}], "tags": [], "owner": {"reputation": 16280, "user_id": 408390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9c31d32e2b91a8b6559f95db3163bd27?s=128&d=identicon&r=PG", "display_name": "Warren Burton", "link": "https://stackoverflow.com/users/408390/warren-burton"}, "is_accepted": true, "score": 1, "last_activity_date": 1581257505, "last_edit_date": 1581257505, "creation_date": 1581257188, "answer_id": 60137449, "question_id": 59201435, "link": "https://stackoverflow.com/questions/59201435/change-chevron-color-by-replacing-it-in-modifycell-with-new-sf-symbol-chevron-ri/60137449#60137449", "title": "Change chevron color by replacing it in modifyCell with new sf symbol chevron.right", "body": "<p>You need to manipulate the color of the <code>accessoryView</code> of the dequeued <code>UITableViewCell</code> when you return the cell in:</p>\n\n<pre><code>- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath\n</code></pre>\n\n<p>So in a simple datasource implementation. </p>\n\n<pre><code>@implementation XViewController\n\n- (UIColor *)colorForIndex:(NSInteger)index {\n    NSArray *colors = @[UIColor.redColor,UIColor.greenColor,UIColor.blueColor];\n    return colors[index % 3];\n}\n\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.view.tintColor = [UIColor orangeColor];\n}\n\n\n- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"Cell\" forIndexPath:indexPath];\n\n    cell.textLabel.text = @\"hello world\";\n    cell.imageView.image = [UIImage systemImageNamed:@\"pencil.slash\"];\n    UIImageView *accessory = [[UIImageView alloc] initWithImage:[UIImage systemImageNamed:@\"pencil.and.outline\"]];\n    accessory.tintColor = [self colorForIndex:indexPath.row];\n    cell.accessoryView = accessory;\n\n    return cell;\n}\n\n- (NSInteger)tableView:(nonnull UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return 6;\n}\n\n\n@end\n</code></pre>\n\n<p>Pick your favoured system image instead of <code>\"pencil.and.outline\"</code> which is just there to prove that it isn't the standard chevron. Observe that the LHS cell image takes the view tint of <code>orange</code> and the accessory view on RHS takes any color that you wish. </p>\n\n<p><a href=\"https://i.stack.imgur.com/IUl2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IUl2v.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 60137449, "answer_count": 1, "score": -2, "last_activity_date": 1581257564, "creation_date": 1575571304, "last_edit_date": 1581257564, "question_id": 59201435, "link": "https://stackoverflow.com/questions/59201435/change-chevron-color-by-replacing-it-in-modifycell-with-new-sf-symbol-chevron-ri", "title": "Change chevron color by replacing it in modifyCell with new sf symbol chevron.right", "body": "<p>Id like to use the system image <code>chevron.right</code> for my accessory icon and replace what is currently there so I can control the color.  Right now with <code>iOS 13+</code> the tint color is not updating like the text is, previous versions work.  I need this done in <code>objective c</code>, not swift, using the system image <code>sf symbol</code> <code>chevron.right</code>.</p>\n\n<pre><code>- (void)modifyCell:(UITableViewCell*)tableCell andIndex:(NSIndexPath *)indexPath {\n\n    Event *event = [self findDataInRow:[self findRow:indexPath]];\n\n    if(event != nil)\n    {\n        EventsTableViewCell *eventTableCell = (EventsTableViewCell *)tableCell;\n\n        if(eventTableCell != nil)\n        {\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "uitableview"], "comments": [{"owner": {"reputation": 2158, "user_id": 4577897, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xRnGnuRgngs/AAAAAAAAAAI/AAAAAAAAAgQ/mSB8ASuTqDo/photo.jpg?sz=128", "display_name": "ZGski", "link": "https://stackoverflow.com/users/4577897/zgski"}, "edited": false, "score": 1, "creation_date": 1575570159, "post_id": 59201166, "comment_id": 104620015, "body": "There&#39;s a reason Google, Apple, and the like have two separate UI flows for multi-selection and single (detail-opening) selection. I&#39;d suggest the same in this case."}, {"owner": {"reputation": 1043, "user_id": 7941229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47e79f6fb006f59a8292094d96b5c5?s=128&d=identicon&r=PG&f=1", "display_name": "Salman500", "link": "https://stackoverflow.com/users/7941229/salman500"}, "edited": false, "score": 0, "creation_date": 1575570450, "post_id": 59201166, "comment_id": 104620144, "body": "In my case parent is white and its children is light-gray and text color also changes, parent arrow is down which tell the user that there are more items to be loaded and children arrow is forward"}, {"owner": {"reputation": 10330, "user_id": 289501, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/L8Czb.png?s=128&g=1", "display_name": "phi", "link": "https://stackoverflow.com/users/289501/phi"}, "edited": false, "score": 0, "creation_date": 1575571347, "post_id": 59201166, "comment_id": 104620584, "body": "I&#39;m voting to close this question as off-topic because I believe it belongs to <a href=\"https://ux.stackexchange.com/\">ux.stackexchange.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10330, "user_id": 289501, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/L8Czb.png?s=128&g=1", "display_name": "phi", "link": "https://stackoverflow.com/users/289501/phi"}, "is_accepted": false, "score": 0, "last_activity_date": 1575571269, "creation_date": 1575571269, "answer_id": 59201423, "question_id": 59201166, "link": "https://stackoverflow.com/questions/59201166/ios-uitableview-multiple-select-options-on-single-cell/59201423#59201423", "title": "ios UITableview multiple select options on single cell?", "body": "<p><em>I believe this question belongs to the <a href=\"https://ux.stackexchange.com/\">UX Stack Exchange</a> site so I'm flagging it</em></p>\n\n<p>That being said, have a look at <a href=\"https://developer.apple.com/design/human-interface-guidelines/ios/controls/buttons/\" rel=\"nofollow noreferrer\">Detail Disclosure Buttons</a>. From the HIG:</p>\n\n<blockquote>\n  <p>When a Detail Disclosure button is present in a table row, tapping the button shows additional information. Tapping elsewhere selects the row or results in app-defined behavior.</p>\n</blockquote>\n"}], "owner": {"reputation": 1439, "user_id": 710112, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6e350d64768d776ac0667eec74568202?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/710112/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575619445, "creation_date": 1575570054, "last_edit_date": 1575619445, "question_id": 59201166, "link": "https://stackoverflow.com/questions/59201166/ios-uitableview-multiple-select-options-on-single-cell", "title": "ios UITableview multiple select options on single cell?", "body": "<p>Has anyone found a really good way to handle this case in UI?  We have a tableview with a list of items (long list).  Each item is a row and it can be either \"selected\" or it can be drilled into to see it's children.  What we have in our design (which looks confusing to users because they are used to selecting entire cell and not specific buttons on it) is 2 buttons on the cell (checkmark button and arrow button).  Has anyone found a better way of solving this from design perspective?</p>\n\n<p>Thank you very much. (Current design attached below)\n<a href=\"https://i.stack.imgur.com/pSMc9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSMc9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "properties"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1575564408, "post_id": 59199363, "comment_id": 104617314, "body": "In my opinion, this should not work. The <code>@synthesize</code> line only tells the compiler that the variable is backed by an ivar called <code>_myCppBaseObject</code>, which should be the default. I think the assignment should fail at compilation time."}], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 2, "last_activity_date": 1575565252, "last_edit_date": 1575565252, "creation_date": 1575564904, "answer_id": 59199884, "question_id": 59199363, "link": "https://stackoverflow.com/questions/59199363/define-semi-public-variable-in-objectivec/59199884#59199884", "title": "Define semi public variable in objectiveC", "body": "<p>First, you should use the private extension described in the link you provide. That's the correct way to do this.</p>\n\n<p>But to your question, what you've written here is not quite correct.</p>\n\n<pre><code>@property (readonly) MyCppBaseObject *myCppBaseObject;\n</code></pre>\n\n<p>This line makes a promise to implement <code>-myCppBaseObject</code>. That's all it does. It's just a promise. If you fail to live up to your promise, the compiler will auto-generate (synthesize) one for you using a backing ivar.</p>\n\n<pre><code>- (void)setMyCppBaseObject:(NSString *)SomeInput;\n</code></pre>\n\n<p>This line is not correct for your purposes. It's making a public setter. But you said you don't want the setter to be public. You could put this in a private extension, however.</p>\n\n<pre><code>@synthesize myCppBaseObject = _myCppBaseObject;\n</code></pre>\n\n<p>This asks the compiler to create a backing ivar <code>_myCppBaseObject</code> for the property <code>myCppBaseObject</code>. This is the default behavior, however, and so isn't required. (There was a time when it was, but that was a very long time ago.)</p>\n\n<pre><code>-(void)setMyCppBaseObject:(NSString *)SomeInput {\n\n   if (someCondition) {\n       self.myCppBaseObject = new myCppObjectDerive1(...);\n   } else {\n       self.myCppBaseObject = new myCppObjectDerive2(...);\n   }\n}\n</code></pre>\n\n<p>This code is completely incorrect. It is an infinite loop, since <code>self.x =...</code> is syntactic sugar for <code>[self setX:...]</code>. What you mean is:</p>\n\n<pre><code>_myCppBaseObject = ...\n</code></pre>\n\n<p>You're going to create a lot of headaches having the name of the custom setter be exactly the expected name of the default setter, but with a different type. Don't do this. In theory it could work most of the time, but don't. Especially when there's dot-syntax involved. Especially since one of your objects does not appear to be ARC-compatible (i.e. a C++ object), this is going to really be a trap for really confusing problems. Name your setter differently.</p>\n"}], "owner": {"reputation": 3214, "user_id": 4333809, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/eb246fedefccc8b02a3efb989143d3b9?s=128&d=identicon&r=PG&f=1", "display_name": "Zohar81", "link": "https://stackoverflow.com/users/4333809/zohar81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59199884, "answer_count": 1, "score": 1, "last_activity_date": 1575565252, "creation_date": 1575563013, "last_edit_date": 1575563876, "question_id": 59199363, "link": "https://stackoverflow.com/questions/59199363/define-semi-public-variable-in-objectivec", "title": "Define semi public variable in objectiveC", "body": "<p>I'd like to define a member in objective C class that can only be read outside the class (public getter). The writing (setter) however shell remain private. </p>\n\n<p>I've read that It's possible to conceal object's setter using the <code>readonly</code> property while exposing the getter using <code>@synthesize</code> syntax but I'm not sure how it works exactly. </p>\n\n<p>Base on this information here's what I did, and I wonder what's happening here under the hood, and if this is the proper way of doing so ? </p>\n\n<pre><code>@interface MyObject : NSObject\n\n//This line suppose to conceal both getter and setter. \n@property (readonly) MyCppBaseObject *myCppBaseObject;\n\n- (void)setMyCppBaseObject:(NSString *)SomeInput;\n\n@end\n\n// This line suppose to tell the compiler that the getter is exposed\n@synthesize myCppBaseObject = _myCppBaseObject;\n\n@implementation MyObject\n\n-(void)setMyCppBaseObject:(NSString *)SomeInput {\n\n   if (someCondition) {\n       self.myCppBaseObject = new myCppObjectDerive1(...);\n   } else {\n       self.myCppBaseObject = new myCppObjectDerive2(...);\n   }\n}\n@end\n</code></pre>\n\n<p>P.S. I've seen a different approach explained in the following <a href=\"https://stackoverflow.com/questions/5008060/objective-c-property-that-is-readonly-publicly-but-has-a-private-setter\">link</a>, but I wish to understand the above implementation. </p>\n"}, {"tags": ["c++", "objective-c", "xcode", "macos", "macos-catalina"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1575560239, "post_id": 59197213, "comment_id": 104614972, "body": "It is indeed a big bother.  But I don&#39;t think there is anything you could do about it unless you install Mojave on another drive and write code there.  I wish I could go back to Mojave.  But I can&#39;t."}, {"owner": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "edited": false, "score": 2, "creation_date": 1575563649, "post_id": 59197213, "comment_id": 104616940, "body": "Code sign your app (it should be sufficient to enable automatic signing in the project properties). As long as the bundle ID and code signature do not change, macOS will recognize that it&#39;s the same app every time."}, {"owner": {"reputation": 230, "user_id": 9865983, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_RUnn2q6nVk/AAAAAAAAAAI/AAAAAAAAAUs/xKm2aV8zqms/photo.jpg?sz=128", "display_name": "Guilmo", "link": "https://stackoverflow.com/users/9865983/guilmo"}, "edited": false, "score": 0, "creation_date": 1575574657, "post_id": 59197213, "comment_id": 104622167, "body": "I had a similar problem when writing sensitive data in the Keychain. Everytime you recompile, the system thinks of your app as a different app, so it asks again for permissions. You can fix this by code signing your debug builds."}, {"owner": {"reputation": 2780, "user_id": 1165251, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28349ec7345e8736d64985993c4a753e?s=128&d=identicon&r=PG", "display_name": "mica", "link": "https://stackoverflow.com/users/1165251/mica"}, "edited": false, "score": 0, "creation_date": 1576658661, "post_id": 59197213, "comment_id": 104967096, "body": "@zhadar  I have a similar Problem, but I never get asked, to give the permission and in Privacy Settings I cannot add my app to the list of apps, that are allowed to do screen recording. How can I get this permission."}], "answers": [{"comments": [{"owner": {"reputation": 1230, "user_id": 138292, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5I1IG.png?s=128&g=1", "display_name": "gcstr", "link": "https://stackoverflow.com/users/138292/gcstr"}, "edited": false, "score": 0, "creation_date": 1581466709, "post_id": 59812658, "comment_id": 106441224, "body": "This does not work on Catalina. I have my code signing configured as you pointed out on the screenshot. It works for other permissions but not for Screen Recording. Every time the app is compiled, it prompts for permission again."}, {"owner": {"reputation": 918, "user_id": 526024, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/948e98b143ca032efd83522127d9f47b?s=128&d=identicon&r=PG", "display_name": "kiler129", "link": "https://stackoverflow.com/users/526024/kiler129"}, "reply_to_user": {"reputation": 1230, "user_id": 138292, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5I1IG.png?s=128&g=1", "display_name": "gcstr", "link": "https://stackoverflow.com/users/138292/gcstr"}, "edited": false, "score": 2, "creation_date": 1581574944, "post_id": 59812658, "comment_id": 106482416, "body": "I had this happen before. You may try to reset all privacy permissions using <code>tccutil reset All</code>. This method definitely works on Catalina, since Apple created this problem only on Catalina and in fact I encountered it on Catalina too ;)"}, {"owner": {"reputation": 1230, "user_id": 138292, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5I1IG.png?s=128&g=1", "display_name": "gcstr", "link": "https://stackoverflow.com/users/138292/gcstr"}, "edited": false, "score": 1, "creation_date": 1581594958, "post_id": 59812658, "comment_id": 106492642, "body": "Thanks @kiler129, I tryed that too but with no success. The only thing that worked for me was to generate self-signed certificates and to set it up on the project instead of <code>development</code>."}], "tags": [], "owner": {"reputation": 918, "user_id": 526024, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/948e98b143ca032efd83522127d9f47b?s=128&d=identicon&r=PG", "display_name": "kiler129", "link": "https://stackoverflow.com/users/526024/kiler129"}, "is_accepted": false, "score": 6, "last_activity_date": 1579455389, "creation_date": 1579455389, "answer_id": 59812658, "question_id": 59197213, "link": "https://stackoverflow.com/questions/59197213/macos-catalina-screen-recording-permission/59812658#59812658", "title": "macOS Catalina screen recording permission", "body": "<h2>Sign your debug builds Luke</h2>\n\n<p>In order to grant macOS \"Screen Recording\" permission for development (or any other permission like microphone or camera access) you must sign your debug builds with your AppleID certificate. This applies for Swift/C++/Objective-C or any other language.</p>\n\n<p>It's easy and free to do:</p>\n\n<ol>\n<li>Simply click at your project</li>\n<li>Go to \"Signing &amp; Capabilities\"</li>\n<li>Select \"Development\" in \"Signing Certificate\"</li>\n<li>Pick your certificate in the \"Team\" (if you don't have any there will be an \"Add Team\" button which lets you download a free one after providing your AppleID)</li>\n</ol>\n\n<p>After that your build settings should look like that:\n<a href=\"https://i.stack.imgur.com/CnfsA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CnfsA.png\" alt=\"Properly configured build\"></a>\n<em>(you may need to go use Product -> Clean Build Folder and rebuild)</em></p>\n\n<h2>If permissions appears revoked...</h2>\n\n<p>Also if the system still doesn't give you permissions you need to go to system Settings -> Security &amp; Privacy -> Privacy and under an appropriate category you need to <strong>REVOKE</strong> the permission and grant it again after rebuild. This will prompt for app quit - do it and run the application again. From now on it will always have permissions.</p>\n"}], "owner": {"reputation": 31, "user_id": 12486196, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hsXY2Q4J1aE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVgF6IxuY8xAPHPKn1YRbDDy0omQ/photo.jpg?sz=128", "display_name": "zhadar", "link": "https://stackoverflow.com/users/12486196/zhadar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2432, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1579455389, "creation_date": 1575555742, "last_edit_date": 1575556330, "question_id": 59197213, "link": "https://stackoverflow.com/questions/59197213/macos-catalina-screen-recording-permission", "title": "macOS Catalina screen recording permission", "body": "<p>I am working on a screen recording app using C++ in XCode. The problem is that when I compile and start the app I always have to give permission for screen recording in \"Settings > Privacy\". </p>\n\n<p>Is there a way to always grant the permission in XCode or sth similar? It is really annoying when developing/testing the app to always manually grant the permission when re-compiling.</p>\n"}, {"tags": ["ios", "objective-c", "sqlite"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1575559446, "post_id": 59195272, "comment_id": 104614520, "body": "You can&#39;t use parameters for table or column names"}], "answers": [{"tags": [], "owner": {"reputation": 1656, "user_id": 594742, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cae52211e05a28397ddf3ad751163f1f?s=128&d=identicon&r=PG", "display_name": "JulianB", "link": "https://stackoverflow.com/users/594742/julianb"}, "is_accepted": false, "score": 0, "last_activity_date": 1583336972, "creation_date": 1583336972, "answer_id": 60529827, "question_id": 59195272, "link": "https://stackoverflow.com/questions/59195272/syntax-error-with-dynamic-alter-sqlite3-bind-text-statement-in-obj-c/60529827#60529827", "title": "syntax error with dynamic ALTER sqlite3_bind_text statement in obj-c", "body": "<p>You can't use parameters for table or column names </p>\n"}], "owner": {"reputation": 1656, "user_id": 594742, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cae52211e05a28397ddf3ad751163f1f?s=128&d=identicon&r=PG", "display_name": "JulianB", "link": "https://stackoverflow.com/users/594742/julianb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583336972, "creation_date": 1575549136, "last_edit_date": 1575552893, "question_id": 59195272, "link": "https://stackoverflow.com/questions/59195272/syntax-error-with-dynamic-alter-sqlite3-bind-text-statement-in-obj-c", "title": "syntax error with dynamic ALTER sqlite3_bind_text statement in obj-c", "body": "<p>This code throws a error <code>[logging] near \"?\": syntax error in \"ALTER TABLE jobs ADD COLUMN ? text\"</code></p>\n\n<pre><code>    NSArray *uArray = [NSArray arrayWithObjects:@\"string1\", @\"string2\", @\"etc\", nil];\n\n    const char *query = \"ALTER TABLE jobs ADD COLUMN ? TEXT NOT NULL\";\n    sqlite3_stmt *compiledStatement = nil;\n\n    sqlite3_exec((sqlite3 *)(db), \"BEGIN EXCLUSIVE TRANSACTION\", 0, 0, 0);\n    if(sqlite3_prepare((sqlite3 *)(db), query, -1, &amp;compiledStatement, NULL) == SQLITE_OK)\n    {\n      for (NSString *obj in uArray)\n      {\n          sqlite3_bind_text(compiledStatement, 1, [obj UTF8String], -1, SQLITE_STATIC);\n          if (sqlite3_step(compiledStatement) != SQLITE_DONE) NSLog(@\"DB not updated. Error: %s\",sqlite3_errmsg((sqlite3 *)(db)));\n          if (sqlite3_reset(compiledStatement) != SQLITE_OK) NSLog(@\"SQL Error: %s\",sqlite3_errmsg((sqlite3 *)(db)));\n      }\n    }\n</code></pre>\n\n<p>I can't see it saying anywhere that ? can't be used with ALTER</p>\n\n<p>Thoughts</p>\n"}, {"tags": ["objective-c", "objdump", "mach-o", "otool"], "comments": [{"owner": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 0, "creation_date": 1575567551, "post_id": 59192963, "comment_id": 104618849, "body": "Is there an actual issue with approach 2 other than you &quot;dont really like it&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1591424280, "creation_date": 1591424280, "answer_id": 62228094, "question_id": 59192963, "link": "https://stackoverflow.com/questions/59192963/how-to-print-the-names-of-all-objective-c-classes-in-an-ios-binary/62228094#62228094", "title": "How to print the names of all Objective-C classes in an iOS binary?", "body": "<p>I assume what you don't like about </p>\n\n<pre><code>nm /path to executable/ | grep _OBJC_CLASS_ \n</code></pre>\n\n<p>output:</p>\n\n<pre><code>0000000100003d08 S _OBJC_CLASS_$_AppDelegate\n                 U _OBJC_CLASS_$_UIResponder\n                 U _OBJC_CLASS_$_UIViewController\n0000000100003c90 S _OBJC_CLASS_$_ViewController\n</code></pre>\n\n<p>are the parent classes marked with <code>U</code>.</p>\n\n<p>Using <code>otool</code> I got to:</p>\n\n<pre><code>otool -tv /path to executable/|grep ]|awk '{print substr($1,3)}'|uniq \n</code></pre>\n\n<p>yielding in comparison</p>\n\n<pre><code>ViewController\nAppDelegate\n</code></pre>\n"}], "owner": {"reputation": 90, "user_id": 4886856, "user_type": "registered", "profile_image": "https://graph.facebook.com/917780541577264/picture?type=large", "display_name": "Sisky", "link": "https://stackoverflow.com/users/4886856/sisky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 301, "favorite_count": 0, "accepted_answer_id": 62228094, "answer_count": 1, "score": 0, "last_activity_date": 1591424280, "creation_date": 1575541291, "question_id": 59192963, "link": "https://stackoverflow.com/questions/59192963/how-to-print-the-names-of-all-objective-c-classes-in-an-ios-binary", "title": "How to print the names of all Objective-C classes in an iOS binary?", "body": "<p>I want to print the names of all Objective-C classes found in an iOS binary using <em>\"otool\"</em> or <em>\"objcdump\"</em>.\nI am doing this on macOS, on an iOS binary that is not encrypted.</p>\n\n<p>What I tried:</p>\n\n<ol>\n<li>Solution suggested here <a href=\"https://stackoverflow.com/questions/9894050/how-to-statically-dump-all-objc-methods-called-in-a-cocoa-app\">How to statically dump all ObjC methods called in a Cocoa App?</a></li>\n</ol>\n\n<pre><code>otool -oV /path to executable/ | grep name | awk '{print $3}'\n</code></pre>\n\n<p>but i don't know how to only parse the objective-c class names.</p>\n\n<ol start=\"2\">\n<li>Solution using \"nm\" but i dont really like it:</li>\n</ol>\n\n<pre><code>nm /path to executable/ | grep _OBJC_CLASS_\n</code></pre>\n\n<p>Can you guys help me with a cmd/script to print the names of all Objective-C classes in an iOS binary?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1575534151, "post_id": 59190828, "comment_id": 104600952, "body": "Do you mean jettison from the suspended state or do you mean when the user deletes the app (or iOS offloads it after not being used for some time)?"}, {"owner": {"reputation": 139, "user_id": 1749194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ea47fa088f86bdcbfc5d19a379db01?s=128&d=identicon&r=PG", "display_name": "sunilkumar", "link": "https://stackoverflow.com/users/1749194/sunilkumar"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1575534557, "post_id": 59190828, "comment_id": 104601131, "body": "@JoakimDanielson thanks for quick response but terminate method won&#39;t call when delete  or Offload the app."}, {"owner": {"reputation": 6962, "user_id": 5020932, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/3DCVM.jpg?s=128&g=1", "display_name": "Mahendra", "link": "https://stackoverflow.com/users/5020932/mahendra"}, "edited": false, "score": 0, "creation_date": 1575534988, "post_id": 59190828, "comment_id": 104601330, "body": "No, there is no apis to identify the deletion of the app."}], "answers": [{"tags": [], "owner": {"reputation": 1930, "user_id": 5149304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p49xH.jpg?s=128&g=1", "display_name": "Maulik Pandya", "link": "https://stackoverflow.com/users/5149304/maulik-pandya"}, "is_accepted": false, "score": 2, "last_activity_date": 1575539149, "last_edit_date": 1575539149, "creation_date": 1575534582, "answer_id": 59191007, "question_id": 59190828, "link": "https://stackoverflow.com/questions/59190828/delegate-method-when-deleting-or-offload-app/59191007#59191007", "title": "Delegate method when Deleting or Offload App", "body": "<p><strong>NO</strong>, there is no such delegate method/event/API that you can trigger whenever the app gets delete or offload. </p>\n"}], "owner": {"reputation": 139, "user_id": 1749194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ea47fa088f86bdcbfc5d19a379db01?s=128&d=identicon&r=PG", "display_name": "sunilkumar", "link": "https://stackoverflow.com/users/1749194/sunilkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1575986338, "creation_date": 1575533846, "last_edit_date": 1575986338, "question_id": 59190828, "link": "https://stackoverflow.com/questions/59190828/delegate-method-when-deleting-or-offload-app", "title": "Delegate method when Deleting or Offload App", "body": "<p>Is there a delegate method in iOS when application is about to be delete or Offload the App?i'm trying to send a some data to server</p>\n\n<p>Required the above delegate method to help the user when they install the app on same iPhone given an message \nexample : \"Welcome Back\"</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 681, "user_id": 8481838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQDAh.jpg?s=128&g=1", "display_name": "Raj Sharma", "link": "https://stackoverflow.com/users/8481838/raj-sharma"}, "edited": false, "score": 0, "creation_date": 1575528468, "post_id": 59189633, "comment_id": 104598730, "body": "Facing same issue."}, {"owner": {"reputation": 1930, "user_id": 5149304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p49xH.jpg?s=128&g=1", "display_name": "Maulik Pandya", "link": "https://stackoverflow.com/users/5149304/maulik-pandya"}, "edited": false, "score": 0, "creation_date": 1575528856, "post_id": 59189633, "comment_id": 104598876, "body": "Can you post the URL you are trying to load?"}, {"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "edited": false, "score": 0, "creation_date": 1575529196, "post_id": 59189633, "comment_id": 104598990, "body": "I can share the format but cant disclose the full url , Here it is  HOST/api/worklife/upload-files/download?filetoken=tnjGv78shD&zwnj;&#8203;BtdIl50hepzigMv"}, {"owner": {"reputation": 1930, "user_id": 5149304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p49xH.jpg?s=128&g=1", "display_name": "Maulik Pandya", "link": "https://stackoverflow.com/users/5149304/maulik-pandya"}, "edited": false, "score": 0, "creation_date": 1575529850, "post_id": 59189633, "comment_id": 104599227, "body": "Please check this with real device if it&#39;s happening there as well"}, {"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "edited": false, "score": 0, "creation_date": 1575530587, "post_id": 59189633, "comment_id": 104599497, "body": "Yes i checked it on different devices and with UIWebview and WKWebview as well, but nothing worked for me , When i opened this url on Desktop Browser it directly downloads the file."}, {"owner": {"reputation": 681, "user_id": 8481838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQDAh.jpg?s=128&g=1", "display_name": "Raj Sharma", "link": "https://stackoverflow.com/users/8481838/raj-sharma"}, "edited": false, "score": 0, "creation_date": 1575530634, "post_id": 59189633, "comment_id": 104599514, "body": "@Arjunhastir Have you tried to add mime type while loading?"}, {"owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "reply_to_user": {"reputation": 681, "user_id": 8481838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQDAh.jpg?s=128&g=1", "display_name": "Raj Sharma", "link": "https://stackoverflow.com/users/8481838/raj-sharma"}, "edited": false, "score": 0, "creation_date": 1575530726, "post_id": 59189633, "comment_id": 104599547, "body": "@RajSharma As u see in the above mentioned URL i dont know the extension of the file , So i dont know the MIME type ... only i have the file token"}, {"owner": {"reputation": 1539, "user_id": 2223492, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0941acd45a26707e34143fe2492be4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Jhaveri", "link": "https://stackoverflow.com/users/2223492/vaibhav-jhaveri"}, "edited": false, "score": 0, "creation_date": 1585813129, "post_id": 59189633, "comment_id": 107895765, "body": "@Arjunhastir I have a POST request to the server which responds with the PDF data. The fileName with .pdf extension is sent as parameter in application/x-www-form-urlencoded format. I&#39;m getting Error Domain=WebKitErrorDomain Code=102 \u201cFrame load interrupted\u201d error as well. How to solve it? Please help. TIA"}], "answers": [{"comments": [{"owner": {"reputation": 1539, "user_id": 2223492, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0941acd45a26707e34143fe2492be4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Jhaveri", "link": "https://stackoverflow.com/users/2223492/vaibhav-jhaveri"}, "edited": false, "score": 0, "creation_date": 1585813095, "post_id": 59194408, "comment_id": 107895746, "body": "I have a POST request to the server which responds with the PDF data. The fileName with .pdf extension is sent as parameter in <code>application&#47;x-www-form-urlencoded</code> format. I&#39;m getting Error Domain=WebKitErrorDomain Code=102 \u201cFrame load interrupted\u201d error as well. How to solve it? Please help. TIA"}, {"owner": {"reputation": 223, "user_id": 6353959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28195a425931ffd5fc17b9ea2343cb4d?s=128&d=identicon&r=PG&f=1", "display_name": "Jackson mj", "link": "https://stackoverflow.com/users/6353959/jackson-mj"}, "reply_to_user": {"reputation": 1539, "user_id": 2223492, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0941acd45a26707e34143fe2492be4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Jhaveri", "link": "https://stackoverflow.com/users/2223492/vaibhav-jhaveri"}, "edited": false, "score": 0, "creation_date": 1603468220, "post_id": 59194408, "comment_id": 114056233, "body": "@VaibhavJhaveri did you find the solution ??"}, {"owner": {"reputation": 71, "user_id": 5038247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb0e62370bc28090892f7cdf5ff7781?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Siul Gonzales Gonzales", "link": "https://stackoverflow.com/users/5038247/jorge-siul-gonzales-gonzales"}, "edited": false, "score": 0, "creation_date": 1613503475, "post_id": 59194408, "comment_id": 117093330, "body": "Instead you can use Data(contentsOf: url) to get the bytes and then webView.load(data, mimeType: &quot;application/pdf&quot;, characterEncodingName: &quot;utf-8&quot;, baseURL: url) adjusting parameters to your case."}], "tags": [], "owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "is_accepted": false, "score": 4, "last_activity_date": 1575547031, "last_edit_date": 1575547031, "creation_date": 1575546226, "answer_id": 59194408, "question_id": 59189633, "link": "https://stackoverflow.com/questions/59189633/error-domain-webkiterrordomain-code-102-frame-load-interrupted/59194408#59194408", "title": "Error Domain=WebKitErrorDomain Code=102 &quot;Frame load interrupted&quot;", "body": "<p>Thanks for contributing :)</p>\n\n<p>Finally after spending hours on this , Here i found the solution for this common Webview <strong>\"frame load interrupted\"</strong> issue:</p>\n\n<ul>\n<li>Download the file in bytes form   </li>\n<li>Store it in the Local Storage</li>\n<li>Load the file in Web view with the local path and it works</li>\n</ul>\n\n<p>Try the below code for the above steps</p>\n\n<p>//Method to Show Document In Web View </p>\n\n<pre><code>    func methodToShowDocumentInWebView(strUrl : String, fileName :  String, controller: UIViewController)  {\n\n //Get Request to download in bytes\n       Service.shared()?.callAPI(withURLWithoutHandlingAndLoaderAndHttpStatusCode: strUrl, andLoaderenabled: true, method: \"GET\", parameters: [:], withController: self, completion: { (data, error, code) in\n\n          if  let dataFile = data {\n\n             let (success , payslipPath) = self.methodToWriteFileLocally(data: dataFile as! Data, fileName: fileName, directory: \"Leave\")\n             if success {\n                webviewInstance.loadRequest(NSURLRequest(URL: NSURL(string: payslipPath)!))\n             }else{\n                //Handle Error case\n             }\n          }\n       })\n    }\n</code></pre>\n\n<p>//Method to Store data Locally</p>\n\n<pre><code>func methodToWriteFileLocally(data : Data, fileName: String, directory : String) -&gt; (success :Bool ,path :URL?) {\n\n   let documentsURL = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first\n   let fileURL = documentsURL?.appendingPathComponent(directory)\n   let payslipPath = fileURL?.appendingPathComponent(fileName)\n\n   if !FileManager.default.fileExists(atPath: payslipPath!.path) {\n      do{\n         try FileManager.default.createDirectory(atPath: fileURL!.path, withIntermediateDirectories: true, attributes: nil)\n      }\n      catch{\n         //Handle Catch\n         return (false, nil)\n\n      }\n      let writeSuccess =  (data as AnyObject).write(to: payslipPath!, atomically: true)\n      return (writeSuccess, payslipPath!)\n   }\n   else\n   {\n      let writeSuccess =  (data as AnyObject).write(to: payslipPath!, atomically: true)\n      return (writeSuccess, payslipPath!)\n\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 406, "user_id": 12483992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9bc2e722fbadb60d4ccd9503f3268c9?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun hastir", "link": "https://stackoverflow.com/users/12483992/arjun-hastir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4522, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1575547031, "creation_date": 1575528231, "last_edit_date": 1575530462, "question_id": 59189633, "link": "https://stackoverflow.com/questions/59189633/error-domain-webkiterrordomain-code-102-frame-load-interrupted", "title": "Error Domain=WebKitErrorDomain Code=102 &quot;Frame load interrupted&quot;", "body": "<p>Getting an error while showing pdf in WebView</p>\n\n<p>\"Error Domain=WebKitErrorDomain Code=102 \"Frame load interrupted\"</p>\n\n<p>But with the same code image is populating correctly.</p>\n"}, {"tags": ["ios", "objective-c", "oop", "design-patterns", "singleton"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1575530473, "post_id": 59189506, "comment_id": 104599451, "body": "The shared object is initialized inside <code>sharedInstance</code> method. So before you call this method, the answer will be no. If you want to have a method to check, create another class method to check <code>sharedInstance</code>."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1575532917, "post_id": 59189506, "comment_id": 104600408, "body": "One way would be to add a static boolean, which is initially <code>NO</code>.  Set it to <code>YES</code> in <code>sharedInstance</code>.  You can&#39;t check <code>sharedInstance</code> for <code>nil</code> since any reference to <code>sharedInstance</code> will cause it to be initialised."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1575537836, "post_id": 59189506, "comment_id": 104602575, "body": "You can check the value of <code>onceToken</code>, but a class boolean could be used instead too."}], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 2151732, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0115f5550479078a73146f77b185b1a3?s=128&d=identicon&r=PG", "display_name": "plamkata__", "link": "https://stackoverflow.com/users/2151732/plamkata"}, "is_accepted": true, "score": 1, "last_activity_date": 1575553335, "creation_date": 1575553335, "answer_id": 59196520, "question_id": 59189506, "link": "https://stackoverflow.com/questions/59189506/how-to-check-if-a-singleton-is-already-initialized/59196520#59196520", "title": "How to check if a Singleton is already initialized?", "body": "<p>I can think of 2 possible ways:</p>\n\n<p><strong>First approach:</strong> Move <code>static MyObject *sharedInstance = nil;</code> outside of the method. It will look like:</p>\n\n<pre><code>@implementation MyObject\n\nstatic MyObject *sharedInstance = nil;\n\n+ (id)sharedInstance {\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedInstance = [[self alloc] init];\n    });\n    return sharedInstance;\n}\n\n+ (BOOL)isSharedInstanceInitialized {\n    return sharedInatance != nil; \n}\n\n- (id)init {\n    if (self = [super init]) {}\n    return self;\n}\n\n@end\n</code></pre>\n\n<p><strong>Second approach:</strong> As suggested in the comments above to use additional <code>BOOL</code> static value</p>\n\n<pre><code>@implementation MyObject\n\nstatic BOOL isInitialized = NO;\n\n+ (id)sharedInstance {\n    static MyObject *sharedInstance = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedInstance = [[self alloc] init];\n        isInitialized = YES;\n    });\n    return sharedInstance;\n}\n\n+ (BOOL)isSharedInstanceInitialized {\n    return isInitialized;\n}\n\n- (id)init {\n    if (self = [super init]) {}\n    return self;\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 59196520, "answer_count": 1, "score": 0, "last_activity_date": 1576126862, "creation_date": 1575527593, "last_edit_date": 1576126862, "question_id": 59189506, "link": "https://stackoverflow.com/questions/59189506/how-to-check-if-a-singleton-is-already-initialized", "title": "How to check if a Singleton is already initialized?", "body": "<p>I have a Singleton class in <code>Objective-C</code>. I want to know if the shared object is already initialized or not, before accessing <code>sharedInstance</code>. How can I do so?</p>\n\n<pre><code>+ (id)sharedInstance {\n    static MyObject *sharedInstance = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedInstance = [[self alloc] init];\n    });\n    return sharedInstance;\n}\n- (id)init {\n    if (self = [super init]) {}\n    return self;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "ios13", "uiimagejpegrepresentation"], "comments": [{"owner": {"reputation": 65, "user_id": 4591453, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f3ccd84af9b90de8c2c812659312c67?s=128&d=identicon&r=PG&f=1", "display_name": "Cemil Tatoglu", "link": "https://stackoverflow.com/users/4591453/cemil-tatoglu"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1575528507, "post_id": 59189374, "comment_id": 104598741, "body": "Thank you very much for your reply. I am using Objective-C and when I check the documentation at <a href=\"https://developer.apple.com/documentation/uikit/uiimage/1624115-jpegdata\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/uiimage/&hellip;</a> it seems that the Objective-C counterpart is the same as my code , wouldn&#39;t there be any other alternatives?  Thank you"}, {"owner": {"reputation": 910, "user_id": 2152616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X10Md.jpg?s=128&g=1", "display_name": "Onur Tuna", "link": "https://stackoverflow.com/users/2152616/onur-tuna"}, "edited": false, "score": 0, "creation_date": 1575530779, "post_id": 59189374, "comment_id": 104599565, "body": "Check <a href=\"https://stackoverflow.com/a/58048339/2152616\">stackoverflow.com/a/58048339/2152616</a> it says that the issue has been solved in 13.1"}, {"owner": {"reputation": 910, "user_id": 2152616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/X10Md.jpg?s=128&g=1", "display_name": "Onur Tuna", "link": "https://stackoverflow.com/users/2152616/onur-tuna"}, "edited": false, "score": 0, "creation_date": 1575530821, "post_id": 59189374, "comment_id": 104599581, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/58012911/uiimagejpegrepresentation-and-uiimagepngrepresentation-returns-nil-in-ios-13\">UIImageJPEGRepresentation and UIImagePNGRepresentation returns nil in iOS 13</a>"}, {"owner": {"reputation": 65, "user_id": 4591453, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f3ccd84af9b90de8c2c812659312c67?s=128&d=identicon&r=PG&f=1", "display_name": "Cemil Tatoglu", "link": "https://stackoverflow.com/users/4591453/cemil-tatoglu"}, "edited": false, "score": 0, "creation_date": 1575531529, "post_id": 59189374, "comment_id": 104599860, "body": "Hi, thank you. I have already checked this answer and unfortunately, it is not working with iOS 13.2.3 ."}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 4591453, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f3ccd84af9b90de8c2c812659312c67?s=128&d=identicon&r=PG&f=1", "display_name": "Cemil Tatoglu", "link": "https://stackoverflow.com/users/4591453/cemil-tatoglu"}, "is_accepted": true, "score": 0, "last_activity_date": 1576051326, "creation_date": 1576051326, "answer_id": 59281202, "question_id": 59189374, "link": "https://stackoverflow.com/questions/59189374/uiimagejpegrepresentation-not-working-in-ios-13-2-3/59281202#59281202", "title": "UIImageJPEGRepresentation not working in iOS 13.2.3", "body": "<p>After thoroughly examining and researching, it turned out that UIImageJPEGRepresentation with 0.75 compression was causing a crash due to large image size. Changing 0.75 to 0.1 solved the problem.</p>\n"}], "owner": {"reputation": 65, "user_id": 4591453, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4f3ccd84af9b90de8c2c812659312c67?s=128&d=identicon&r=PG&f=1", "display_name": "Cemil Tatoglu", "link": "https://stackoverflow.com/users/4591453/cemil-tatoglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 59281202, "answer_count": 1, "score": 0, "last_activity_date": 1576051326, "creation_date": 1575526956, "last_edit_date": 1575528754, "question_id": 59189374, "link": "https://stackoverflow.com/questions/59189374/uiimagejpegrepresentation-not-working-in-ios-13-2-3", "title": "UIImageJPEGRepresentation not working in iOS 13.2.3", "body": "<p>I am using the following code to convert <code>UIImage</code> to <code>NSData</code>:</p>\n\n<pre><code>imgData = UIImageJPEGRepresentation(image, 0.75);\n</code></pre>\n\n<p>The code is working fine with iOS 12.4, but when I try with it with iOS 13.2.3, it returns nothing.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uikeyboard"], "comments": [{"owner": {"reputation": 2943, "user_id": 12177617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0002cf77cd6dc124d10c3408e3de1f25?s=128&d=identicon&r=PG&f=1", "display_name": "Subramanian Mariappan", "link": "https://stackoverflow.com/users/12177617/subramanian-mariappan"}, "edited": false, "score": 1, "creation_date": 1575513922, "post_id": 59187408, "comment_id": 104594836, "body": "How did you globally update all buttons to have the same color?"}], "answers": [{"comments": [{"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575555432, "post_id": 59188500, "comment_id": 104612240, "body": "I chose [UIWindow class] but that didnt work.  It actually did it for more buttons that the original line of code.  Like that accessory indicator in the tables turned to orange background."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575558446, "post_id": 59188500, "comment_id": 104614003, "body": "I already have a basecontroller for all views, and I did it for that instance.  Keyboard still shows and more buttons in the app have the color."}, {"owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575566175, "post_id": 59188500, "comment_id": 104618195, "body": "Yeah don&#39;t do <code>UIWindow</code> because everything on your app is going to be in a UIWindow, including keyboards and system alerts, etc. you&#39;d have to do your own window subclass like <code>AppWindow</code> and make that the keyAndVisible. see my answer. I just did it myself and it worked perfectly. <code>BaseController</code> should work too."}, {"owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575588630, "post_id": 59188500, "comment_id": 104627340, "body": "and then you&#39;re using the <code>appearanceWhenContainedIn</code> correctly as well? can you post that? (also what&#39;s with the iboutlet for the window I&#39;ve never used a window in a storyboard interest)"}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575679004, "post_id": 59188500, "comment_id": 104659198, "body": "<code>[[UIButton appearanceWhenContainedInInstancesOfClasses:@[ExposureWindow class]]]            setBackgroundColor:[Helper getColor:color]];</code>"}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575679074, "post_id": 59188500, "comment_id": 104659214, "body": "The iboutlet references a window element on the appwindow.xib.  This is an objective c project with no swift or storyboard."}, {"owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1575904607, "post_id": 59188500, "comment_id": 104713287, "body": "That&#39;s annoying, if you can&#39;t edit the class of the window in appwindow.xib (have no clue how that works) you did mention you had a <code>BaseController</code> class, just apply to that instead should work similarly. Can also inspect the view hierarchy to make sure that the window you&#39;re setting is actually showing up - if not try to get that to happen somehow."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1576205362, "post_id": 59188500, "comment_id": 104832351, "body": "I did apply to only the basecontroller class, same deal."}], "tags": [], "owner": {"reputation": 1656, "user_id": 2310306, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13e4c9d6bf8b599aac030c9a4e87afc0?s=128&d=identicon&r=PG", "display_name": "gadu", "link": "https://stackoverflow.com/users/2310306/gadu"}, "is_accepted": false, "score": 2, "last_activity_date": 1575566224, "last_edit_date": 1575566224, "creation_date": 1575521890, "answer_id": 59188500, "question_id": 59187408, "link": "https://stackoverflow.com/questions/59187408/keyboard-bottom-corner-icons-change-color-in-ios/59188500#59188500", "title": "Keyboard bottom corner icons change color in iOS", "body": "<p>You can define which views/classes should respect a <code>UIAppearance</code> rule using:</p>\n\n<pre><code>+ (instancetype)appearanceWhenContainedInInstancesOfClasses:(NSArray&lt;Class&lt;UIAppearanceContainer&gt;&gt; *)containerTypes;\n</code></pre>\n\n<p>(<a href=\"https://developer.apple.com/documentation/uikit/uiappearance/1615013-appearancewhencontainedininstanc?language=objc\" rel=\"nofollow noreferrer\">Relevant Documentation</a>)</p>\n\n<p>Now there are possibly a few ways to do this, this is just one. You can skip to the end if you want your answer, but I included more information to understand why and how if curious.</p>\n\n<h2>More relevant discussion for using this method:</h2>\n\n<p>Keep in mind that the array you pass is NOT a list of all the places you want the appearance proxy to work, if you pass in multiple in the same list it will be evaluated as a hierarchy where the first element is the most nested and the last element is the outermost.</p>\n\n<p>AKA </p>\n\n<pre><code>[UIButton appearanceWhenContainedInInstancesOfClasses:@[[MyView class], [UITableView class]]] \n</code></pre>\n\n<p>means to ONLY apply the rule to buttons that are inside <code>MyView</code>'s that are inside <code>UITableView</code>'s. </p>\n\n<hr>\n\n<p>Another good thing to understand is how the rules are evaluated.\n<code>UIKit</code> will always check the longest hierarchies first. And it will always start checking on the outermost object (in most cases something like <code>UIViewController</code>).</p>\n\n<p>The appearance will be applied to the first hierarchy that matches.</p>\n\n<p>AKA</p>\n\n<pre><code>UILabel.appearance(whenContainedInInstancesOf: [CustomView.self]).textColor = red;\nUILabel.appearance(whenContainedInInstancesOf: [UIViewController.self]).textColor = UIColor.gray;\n</code></pre>\n\n<p>would mean that all your labels would show up gray since it starts checking on the outermost object, <code>UIViewController</code> and since thats a match it stops checking further.</p>\n\n<p>But because longer hierarchies are evaluated first:</p>\n\n<pre><code>UILabel.appearance(whenContainedInInstancesOf: [CustomView.self, UIViewController.self]).textColor = red;\nUILabel.appearance(whenContainedInInstancesOf: [UIViewController.self]).textColor = UIColor.gray;\n</code></pre>\n\n<p>Means labels will show up as red on <code>CustomView</code> as expected since the first line has two elements in its hierarchy, which means it will be checked before all the one element hierarchies like the second line.</p>\n\n<h2>FINALLY YOUR ANSWER:</h2>\n\n<p>So all we have to do is find a parent view or view controller somewhere in the stack of the keyboard window - and set a background color of clear on that...</p>\n\n<p>Except, having inspected the full hierarchy of the keyboard window every single controller and view leading up to those buttons are private:\n<a href=\"https://i.stack.imgur.com/5z575.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5z575.jpg\" alt=\"enter image description here\"></a>\n(I checked the class hierarchy, visible on the right, of every single view starting at the UIRemoteKeyboardWindow. They are all private)</p>\n\n<p>Since we can't touch the system classes that leaves us with less options - we have to set rules that only apply to the <code>UIWindow</code> or <code>UIViewControllers</code> of our main app window.</p>\n\n<p>I can imagine a solution where I have a custom <code>UIViewController</code> class called <code>BaseController</code> that ALL my VC's inherit from.. but that seems annoying. Why don't we just create a custom <code>UIWindow</code> class thats used in our own app instead:</p>\n\n<p>(this is in Swift because it was easier for me)</p>\n\n<pre><code>// internal and final just included for compiler optimizations, not necessary\ninternal final class AppWindow: UIWindow {}\n\n@UIApplicationMain\ninternal final class AppDelegate: UIResponder, UIApplicationDelegate {\n\n    lazy var appWindow: AppWindow = {\n        return AppWindow(frame: UIScreen.main.bounds)\n    }()\n\n...\n\n// then wherever you're setting the key window make sure you use your custom one\nappWindow.rootViewController = vc\nappWindow.makeKeyAndVisible()\n</code></pre>\n\n<p>Now you can just apply the rules to <code>AppWindow</code>: </p>\n\n<pre><code>[[UIButton appearanceWhenContainedInInstancesOfClasses:@[[AppWindow class]]]\n           setBackgroundColor:[Helper getColor:color]];\n</code></pre>\n\n<p>(you should be fine with the tint stuff as you have it written bc that already only affects the window being used the application)</p>\n"}], "owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575569052, "creation_date": 1575513662, "last_edit_date": 1575569052, "question_id": 59187408, "link": "https://stackoverflow.com/questions/59187408/keyboard-bottom-corner-icons-change-color-in-ios", "title": "Keyboard bottom corner icons change color in iOS", "body": "<p>I dont want my buttons on my keyboard to change colors if I globally update all buttons to have the same color.  How can I control this manually to reset to the original color?</p>\n\n<pre><code>[[UIApplication sharedApplication] delegate].window.tintColor = [Helper getColor:color];\n    [[UIButton appearance] setBackgroundColor:[Helper getColor:color]];\n</code></pre>\n\n<p><strong>AppDelegate</strong></p>\n\n<pre><code>@interface ExposureDelegate : NSObject &lt;UIApplicationDelegate&gt; {\n\n}\n\n@property (nonatomic, strong) IBOutlet ExposureWindow *window;\n@property (nonatomic, strong) EventsViewController *eventsViewController;\n\n@end\n\n@implementation ExposureDelegate\n\n@synthesize window;\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\n\n      self.window = [[ExposureWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];\n        [self.window setRootViewController:menuViewController];\n\n        NSArray *windows = [[UIApplication sharedApplication] windows];\n        for(ExposureWindow *w in windows) {\n            NSLog(@\"window: %@\",window.description);\n            if(w.rootViewController == nil){\n                UIViewController* vc = [[UIViewController alloc]initWithNibName:nil bundle:nil];\n                w.rootViewController = vc;\n            }\n        }\n\n        [self.window makeKeyAndVisible];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oMnGh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oMnGh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "autolayout"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575516980, "post_id": 59187315, "comment_id": 104595492, "body": "Your constraints are insufficient. Is this real code?"}, {"owner": {"reputation": 67, "user_id": 5100877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86db33f90bc5ac3705d7b8462ae750a5?s=128&d=identicon&r=PG&f=1", "display_name": "zenchemical", "link": "https://stackoverflow.com/users/5100877/zenchemical"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575569834, "post_id": 59187315, "comment_id": 104619845, "body": "sorry, bad cut/paste job. These constraints should be sufficient, and as I stated, it works fine for a page sheet or other presentations, just not for a popover presentation."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575572767, "post_id": 59187315, "comment_id": 104621253, "body": "So I guess the question now is simply where the edges of the view are. You assume they are the edges of the main area. But maybe they include the arrow. If the arrow is just a mask that would help explain it."}, {"owner": {"reputation": 67, "user_id": 5100877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86db33f90bc5ac3705d7b8462ae750a5?s=128&d=identicon&r=PG&f=1", "display_name": "zenchemical", "link": "https://stackoverflow.com/users/5100877/zenchemical"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575573056, "post_id": 59187315, "comment_id": 104621398, "body": "Correct, it seems to be centering as if the arrow is part of the view. I&#39;m just not sure how to fix it cleanly, in a way that the view can be presented both as a popover and modal overlay, at least without conditionally modifying constraints."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1575578394, "post_id": 59187315, "comment_id": 104623713, "body": "Pin to the view&#39;s <i>margins</i>, not to its <i>edges</i>. This is why margins were invented."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 5100877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86db33f90bc5ac3705d7b8462ae750a5?s=128&d=identicon&r=PG&f=1", "display_name": "zenchemical", "link": "https://stackoverflow.com/users/5100877/zenchemical"}, "edited": false, "score": 0, "creation_date": 1575578603, "post_id": 59202634, "comment_id": 104623803, "body": "Perfect, thank you. This also explains why my NIBs largely work, since the layout guid floats around fairly obviously. It hadn&#39;t occurred to me that I would have to do this when there wasn&#39;t a nib."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1575577285, "last_edit_date": 1575577285, "creation_date": 1575576755, "answer_id": 59202634, "question_id": 59187315, "link": "https://stackoverflow.com/questions/59187315/weird-autolayout-centering-issue/59202634#59202634", "title": "Weird autolayout centering issue", "body": "<p>The <em>edges</em> of the view are not where you think they are; the leading edge is where the <em>point of the arrow</em> is, not where the side of the visible rectangle is.</p>\n\n<p>However, the <em>margins</em> are where you expect them. So pin to the <code>layoutMarginsGuide</code> instead, and all will be well. Indeed, this is one of the things margins are intended to cover.</p>\n\n<p>In Swift:</p>\n\n<pre><code>parentView.leadingAnchor.constraint(\n    equalTo: self.view.layoutMarginsGuide.leadingAnchor, constant:0).isActive = true\nparentView.trailingAnchor.constraint(\n    equalTo: self.view.layoutMarginsGuide.trailingAnchor, constant:0).isActive = true\n</code></pre>\n\n<p><br />(And change those <code>constant</code> numbers as you see fit.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/kOu30.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kOu30.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 67, "user_id": 5100877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86db33f90bc5ac3705d7b8462ae750a5?s=128&d=identicon&r=PG&f=1", "display_name": "zenchemical", "link": "https://stackoverflow.com/users/5100877/zenchemical"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575577285, "creation_date": 1575512817, "last_edit_date": 1575569768, "question_id": 59187315, "link": "https://stackoverflow.com/questions/59187315/weird-autolayout-centering-issue", "title": "Weird autolayout centering issue", "body": "<p>This has been dogging me a bit.</p>\n\n<p>Basically, what it comes down to is that when I manually define autolayout constraints using layout anchors, and use the view controller in a popover, the center is in the wrong place. It's seeming to center around the boundary from the left of the popover pop-out arrow to the left and the right margin, which is not the center of the area of the popover.</p>\n\n<p>This seems to work fine with other UIViewController presentation methods, like UIModalPresentationFormSheet.</p>\n\n<p>Any ideas how I can fix this in a layout-friendly way without special-casing the margins?</p>\n\n<p>PS. The exact same thing happens if you peg the layout to the center of the parent view, it's slightly off.</p>\n\n<p>(note: Edited because I posted the source badly)</p>\n\n<pre><code>-(void)loadView {\n\n    // create root view.\n    UIView *view = [[UIView alloc] init];\n    [view setBackgroundColor:[UIColor greenColor]];\n    [view setTranslatesAutoresizingMaskIntoConstraints:NO];\n    self.view = view;\n\n\n    UIView *parentView = [[UIView alloc] init];\n    [view addSubview:parentView];\n\n    [parentView setTranslatesAutoresizingMaskIntoConstraints:NO];\n    [parentView setBackgroundColor:[UIColor redColor]];\n\n    [parentView.leadingAnchor constraintEqualToAnchor:view.leadingAnchor constant:20.0].active = YES;\n    [parentView.trailingAnchor constraintEqualToAnchor:view.trailingAnchor constant:-20.0].active = YES;\n\n   [parentView.topAnchor constraintEqualToAnchor:view.topAnchor constant:10.0].active = YES;\n    [parentView.bottomAnchor constraintEqualToAnchor:view.bottomAnchor constant:-10.0].active = YES;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RcF89.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcF89.png\" alt=\"screen shot\"></a></p>\n"}]