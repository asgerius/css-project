[{"tags": ["ios", "objective-c", "cocoa", "ipv6"], "comments": [{"owner": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1565821633, "post_id": 57502758, "comment_id": 101474521, "body": "Using IPv6 link-local addresses requires you to use the Zone ID because the same network is used on all the interfaces, and you must distinguish which interface is meant."}, {"owner": {"reputation": 1096, "user_id": 1878803, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gUQ0r.jpg?s=128&g=1", "display_name": "Jio", "link": "https://stackoverflow.com/users/1878803/jio"}, "reply_to_user": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1565825157, "post_id": 57502758, "comment_id": 101475159, "body": "When i add interface(en1) along with ipv6, NSXMLParser gets some response from the printer. But Socket is not working with that too."}, {"owner": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1565828600, "post_id": 57502758, "comment_id": 101475753, "body": "The format of your IPv6 literal doesn&#39;t look correct. It should be something along the lines of <code>[fe80::aee2:d3ff:feff:46c7%en1]</code>. See <a href=\"https://www.ietf.org/rfc/rfc2732.txt\" rel=\"nofollow noreferrer\">Format for Literal IPv6 Addresses in URL&#39;s</a>, <a href=\"https://tools.ietf.org/html/rfc4007\" rel=\"nofollow noreferrer\">IPv6 Scoped Address Architecture</a>, and <a href=\"https://tools.ietf.org/html/rfc6874\" rel=\"nofollow noreferrer\">Representing IPv6 Zone Identifiers in Address Literals and Uniform Resource Identifiers</a>"}, {"owner": {"reputation": 1096, "user_id": 1878803, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gUQ0r.jpg?s=128&g=1", "display_name": "Jio", "link": "https://stackoverflow.com/users/1878803/jio"}, "reply_to_user": {"reputation": 4989, "user_id": 3745413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQsNL.png?s=128&g=1", "display_name": "Ron Maupin", "link": "https://stackoverflow.com/users/3745413/ron-maupin"}, "edited": false, "score": 0, "creation_date": 1565887198, "post_id": 57502758, "comment_id": 101494306, "body": "@RonMaupin I tried the format as you mentioned. NSXMLParser works fine with this format. CFStreamCreatePairWithSocketToHost shows error."}], "owner": {"reputation": 1096, "user_id": 1878803, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/gUQ0r.jpg?s=128&g=1", "display_name": "Jio", "link": "https://stackoverflow.com/users/1878803/jio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565831148, "creation_date": 1565821166, "last_edit_date": 1592644375, "question_id": 57502758, "link": "https://stackoverflow.com/questions/57502758/ipv6-communication-objective-c", "title": "IPv6 communication Objective c", "body": "<p>I am developing a Mac application to communicate with printers using socket. When communicate with one printer with IPv4 ip, i got response. But when i tried using IPv6 IP with the second printer i got error</p>\n<blockquote>\n<p>SocketStream write error [0x0]: 1 9</p>\n<p>Error reading stream! ,Error 9: The operation couldn\u2019t be completed.\nBad file descriptor</p>\n</blockquote>\n<p>I use CFStreamCreatePairWithSocketToHost function for the communication. Do i need to do anything when communicate with IPv6 ip.</p>\n<pre><code>NSURL *myUrl = [NSURL URLWithString:@&quot;fe80::aee2:d3ff:feff:46c7&quot;];\nCFStreamCreatePairWithSocketToHost(NULL, (__bridge CFStringRef)myUrl.path, 8080, &amp;readStream, &amp;writeStream);\ninputStream = (__bridge NSInputStream *)readStream;\noutputStream = (__bridge NSOutputStream *)writeStream;\n[inputStream setDelegate:self];\n[outputStream setDelegate:self];\n[inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n[outputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];       \n[inputStream open];\n[outputStream open];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "geolocation", "coordinates"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "edited": false, "score": 0, "creation_date": 1565869236, "post_id": 57504052, "comment_id": 101485800, "body": "seems really interesting !! lemme give it a try and get back to you !  Thanks :)"}], "tags": [], "owner": {"reputation": 1655, "user_id": 3659361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9433ec83ef3295ecff4ba703c441b9f2?s=128&d=identicon&r=PG&f=1", "display_name": "May Rest in Peace", "link": "https://stackoverflow.com/users/3659361/may-rest-in-peace"}, "is_accepted": true, "score": 1, "last_activity_date": 1565834463, "creation_date": 1565834463, "answer_id": 57504052, "question_id": 57502083, "link": "https://stackoverflow.com/questions/57502083/check-if-a-geo-location-falls-within-two-geo-locations/57504052#57504052", "title": "Check if a geo location falls within two geo locations", "body": "<p>I created a <a href=\"https://gist.github.com/mayrestinpeace/49fc6d241524f0d948e4912f743d6350\" rel=\"nofollow noreferrer\">gist</a> which is a <strong>Swift</strong> translation of <code>locationIndexOnEdgeOrPath</code> function and all the other required functions present in <a href=\"https://github.com/googlemaps/android-maps-utils/blob/master/library/src/com/google/maps/android/PolyUtil.java#L224\" rel=\"nofollow noreferrer\">PolyUtil.java</a>.</p>\n\n<p>The parameters you need to pass are the co-ordinates of the point you want to check and the array of points that represent the path. (Your case only includes start and end point, so just pass those two)</p>\n\n<p>The other parameters needed are <code>closed</code> which represents whether a line should be drawn from the last point to first point in order to close the loop; <code>geodesic</code> which means if the earth's curvature should be taken into consideration.</p>\n\n<p>Finally, <code>toleranceEarth</code> is the last parameter where you need to specify how <em>close</em> to the path is considered being <em>on the path</em>. </p>\n"}], "owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57504052, "answer_count": 1, "score": 0, "last_activity_date": 1565834463, "creation_date": 1565816880, "question_id": 57502083, "link": "https://stackoverflow.com/questions/57502083/check-if-a-geo-location-falls-within-two-geo-locations", "title": "Check if a geo location falls within two geo locations", "body": "<p>So,I'm trying to create an applications, where the user sets his destination on a map - let's say from Home to work-, then (with the help of google maps)a direction line shows on the map to guide the user to his destination, or to work in our example . \nWhat I'm trying to achieve here is that I want the app to show any coffee house that is going to be on the user's way to work,or slightly around it, but I'm not sure how to tackle this head scratcher . </p>\n\n<p>Is there a way to know if a point (C) , falls within a straight line between A and b ? or falls close by factor(x) to the line between A and B ? </p>\n"}, {"tags": ["ios", "objective-c", "ios13", "ios-pdfkit", "apple-pdfkit"], "answers": [{"tags": [], "owner": {"reputation": 3470, "user_id": 2035054, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ee1021aa36f342fecafa1ad31dd38aea?s=128&d=identicon&r=PG", "display_name": "Igor Palaguta", "link": "https://stackoverflow.com/users/2035054/igor-palaguta"}, "is_accepted": false, "score": 1, "last_activity_date": 1604915412, "creation_date": 1604915412, "answer_id": 64749282, "question_id": 57500560, "link": "https://stackoverflow.com/questions/57500560/custom-uimenuitem-not-working-on-pdfkits-pdfview/64749282#64749282", "title": "Custom UIMenuItem not working on PDFKit&#39;s PDFView", "body": "<p>For me assigning <code>menuItems</code> in handler of <code>NSNotification.Name.PDFViewSelectionChanged</code> works</p>\n<pre><code>NotificationCenter.default.addObserver(self,\n                                       selector: #selector(selectionChangeNotification),\n                                       name: NSNotification.Name.PDFViewSelectionChanged,\n                                       object: pdfView)\n\n\n@objc\nprivate func selectionChangeNotification() {\n    let menuItem = UIMenuItem(title: &quot;Custom Action&quot;, action: #selector(doSomething))\n    UIMenuController.shared.menuItems = [menuItem]\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6736062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e3e62a98c17046f26f45f8c222a0145?s=128&d=identicon&r=PG&f=1", "display_name": "HotBread", "link": "https://stackoverflow.com/users/6736062/hotbread"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1604915412, "creation_date": 1565809232, "question_id": 57500560, "link": "https://stackoverflow.com/questions/57500560/custom-uimenuitem-not-working-on-pdfkits-pdfview", "title": "Custom UIMenuItem not working on PDFKit&#39;s PDFView", "body": "<p>I'm trying to add a custom <code>UIMenuItem</code> to my <code>PDFView</code></p>\n\n<p>Here's what I'm doing in my sample Xcode project</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>#import &lt;PDFKit/PDFKit.h&gt;\n#import &lt;objc/runtime.h&gt;\n\n#import \"ViewController.h\"\n\n@interface ViewController ()\n\n@property(nonatomic) PDFDocument *document;\n@property(nonatomic) PDFView *pdfView;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n  [super viewDidLoad];\n  // Do any additional setup after loading the view.\n\n  NSURL *pdfPath = [[NSBundle mainBundle] URLForResource:@\"pdf\" withExtension:@\"pdf\"];\n\n  _document = [[PDFDocument alloc] initWithURL:pdfPath];\n  _pdfView = [[PDFView alloc] initWithFrame:CGRectZero];\n  _pdfView.document = _document;\n\n  [self.view addSubview:_pdfView];\n\n  _pdfView.translatesAutoresizingMaskIntoConstraints = NO;\n  [_pdfView.topAnchor constraintEqualToAnchor:self.view.topAnchor].active = YES;\n  [_pdfView.bottomAnchor constraintEqualToAnchor:self.view.bottomAnchor].active = YES;\n  [_pdfView.leadingAnchor constraintEqualToAnchor:self.view.leadingAnchor].active = YES;\n  [_pdfView.trailingAnchor constraintEqualToAnchor:self.view.trailingAnchor].active = YES;\n\n  UIMenuItem *menuItem =\n  [[UIMenuItem alloc] initWithTitle:@\"Custom Action\"\n                             action:@selector(doSomething)];\n  [[UIMenuController sharedMenuController] setMenuItems:@[ menuItem ]];\n  [[UIMenuController sharedMenuController] update];\n}\n\n- (BOOL)canPerformAction:(SEL)action withSender:(id)sender {\n  if (sel_isEqual(action, @selector(doSomething))) {\n    return YES;\n  }\n  return NO;\n}\n\n- (void)viewDidAppear:(BOOL)animated {\n  [self becomeFirstResponder];\n}\n\n- (void)doSomething {\n  NSLog(@\"In Do Something!\");\n}\n\n- (BOOL)canBecomeFirstResponder {\n  return YES;\n}\n\n@end\n</code></pre>\n\n<p>This works fine on iOS 11 and 12, but on iOS 13, the <code>UIMenuItem</code> is not showing up</p>\n"}, {"tags": ["ios", "objective-c", "nslayoutconstraint"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 1, "creation_date": 1565810320, "post_id": 57499498, "comment_id": 101470942, "body": "<code>background.translatesAutoresizingMaskIntoConstraints = NO;</code> before you <code>addConstraints</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1565843651, "creation_date": 1565843651, "answer_id": 57504904, "question_id": 57499498, "link": "https://stackoverflow.com/questions/57499498/subview-constraints-breaking-parent-constraints/57504904#57504904", "title": "Subview Constraints breaking Parent Constraints", "body": "<p>As @DonMag said, background.translatesAutoresizingMaskIntoConstraints = NO; maybe a correct answer.</p>\n\n<p>Or you can try remove addConstraints, and use topConstraint.active = YES, etc.</p>\n"}], "owner": {"reputation": 20825, "user_id": 892629, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/fe7fca180a7f092bcbf8236611b81029?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/892629/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565843651, "creation_date": 1565804017, "question_id": 57499498, "link": "https://stackoverflow.com/questions/57499498/subview-constraints-breaking-parent-constraints", "title": "Subview Constraints breaking Parent Constraints", "body": "<p>I'm making a custom tab view that autosizes based on constraints and I'm having a problem when I try to add subviews to it which also use constraints.</p>\n\n<p>If I add a subview and give it constraints, like this for example:</p>\n\n<pre><code>- (void)awakeFromNib {\n\n[super awakeFromNib];\n\nUIBlurEffect* blur = [UIBlurEffect effectWithStyle:UIBlurEffectStyleLight];\nbackground = [[UIVisualEffectView alloc] initWithEffect:blur];\n\nNSLayoutConstraint* topConstraint = [NSLayoutConstraint constraintWithItem:background\n                                                                 attribute:NSLayoutAttributeTop\n                                                                 relatedBy:NSLayoutRelationEqual\n                                                                    toItem:self\n                                                                 attribute:NSLayoutAttributeTop\n                                                                multiplier:1\n                                                                  constant:0];\nNSLayoutConstraint* leadConstraint = [NSLayoutConstraint constraintWithItem:background\n                                                                  attribute:NSLayoutAttributeLeading\n                                                                  relatedBy:NSLayoutRelationEqual\n                                                                     toItem:self\n                                                                  attribute:NSLayoutAttributeLeading\n                                                                 multiplier:1\n                                                                   constant:0];\nNSLayoutConstraint* trailConstraint = [NSLayoutConstraint constraintWithItem:background\n                                                                   attribute:NSLayoutAttributeTrailing\n                                                                   relatedBy:NSLayoutRelationEqual\n                                                                      toItem:self\n                                                                   attribute:NSLayoutAttributeTrailing\n                                                                  multiplier:1\n                                                                    constant:0];\nNSLayoutConstraint* botConstraint = [NSLayoutConstraint constraintWithItem:background\n                                                                 attribute:NSLayoutAttributeBottom\n                                                                 relatedBy:NSLayoutRelationEqual\n                                                                    toItem:self\n                                                                 attribute:NSLayoutAttributeBottom\n                                                                multiplier:1\n                                                                  constant:0];\n[background setFrame:self.bounds];\n[self addSubview:background];\n[self addConstraints:@[topConstraint, leadConstraint, trailConstraint, botConstraint]];\n\n}\n</code></pre>\n\n<p>The tab view will no longer respond to constraints. If I add the tab view to a storyboard and try to set constraints on it, it just doesn't respond. I can manually resize it to make it fit the constraints, but it won't do it automatically, and changing the device will of course, break the constraints.</p>\n\n<p><a href=\"https://i.stack.imgur.com/U8DCQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U8DCQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Removing this line which adds the constraints fixes the problem, but I want the subviews to resize automatically based on the constraints.</p>\n\n<pre><code>//[self addConstraints:@[topConstraint, leadConstraint, trailConstraint, botConstraint]];\n</code></pre>\n\n<p>Is this possible, or do I just have to make the view resize all of its subviews when ever a layout update is called?</p>\n"}, {"tags": ["arrays", "objective-c", "nsmutablearray"], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1565808236, "post_id": 57499669, "comment_id": 101470180, "body": "Got it. Many thanks for pointing it out. However how can I get the index of the minimum number?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 1, "creation_date": 1565810582, "post_id": 57499669, "comment_id": 101471047, "body": "@jeddi - lookup the object from the array, e.g. <code>[arr1 indexOfObject:min_]</code>"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1565812449, "post_id": 57499669, "comment_id": 101471685, "body": "It gives me exactly the same issue (NSNotFound)"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1565813932, "post_id": 57499669, "comment_id": 101472260, "body": "By the way, this is not the problem. My code works perfectly fine if the array is composed of strings, but it fails to return the index when the doubles are wrapped in NSNumbers. There must be a problem here: NSNumber *num1 = [NSNumber numberWithDouble:n1];"}, {"owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1565817199, "post_id": 57499669, "comment_id": 101473311, "body": "Or the problem is the formatting of the NSLog...... NSLog(@&quot;Min_ Value = %f and index_ = %ld&quot;,[min_ doubleValue], (long)indepath1_.row); Any idea?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "edited": false, "score": 0, "creation_date": 1565821704, "post_id": 57499669, "comment_id": 101474533, "body": "@jeddi \u2013 I copied your code from the question into a new empty app, changed the <code>indexOfObject:</code> to use <code>min_</code> and <code>path1_</code> is set to <code>3</code>. I was testing on macOS so didn&#39;t look at the <code>NSIndexPath</code> bit so maybe you have a second error there \u2013 you are using <code>indexPathForItem:</code> and then <code>row</code>, why not <code>indexPathForRow:</code>?"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 0, "last_activity_date": 1565804791, "creation_date": 1565804791, "answer_id": 57499669, "question_id": 57498294, "link": "https://stackoverflow.com/questions/57498294/getting-index-of-minimum-double-value-within-nsmutablearray/57499669#57499669", "title": "Getting index of minimum double value within NSMutableArray", "body": "<p>Your \"weird\" number is <code>NSNotFound</code>, which you will find is covered in the <a href=\"https://developer.apple.com/documentation/foundation/nsarray/1417076-indexofobject\" rel=\"nofollow noreferrer\">documentation</a> under the \"Return Value\" section.</p>\n\n<p>The reason your object is not found is you have an array of <code>NSNumber *</code> references/objects, <code>valueForKeyPath</code> returns an <code>NSNumber *</code> which you store in <code>min_</code>, you then produce a <em>different</em> <code>NSString</code> object (effectively creating a \"picture\" of your <code>NSNumber</code> object) storing its reference in <code>str1</code>, and then ask <code>indexOfObject</code> if your <em>new</em> object of a <em>different type</em> is in your array \u2013\u00a0answer <code>NSNotFound</code>.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 551, "user_id": 986060, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/df2a2c75a72286b5b36cc6195c03e4ef?s=128&d=identicon&r=PG", "display_name": "jeddi", "link": "https://stackoverflow.com/users/986060/jeddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 57499669, "answer_count": 1, "score": -1, "last_activity_date": 1565804791, "creation_date": 1565798523, "question_id": 57498294, "link": "https://stackoverflow.com/questions/57498294/getting-index-of-minimum-double-value-within-nsmutablearray", "title": "Getting index of minimum double value within NSMutableArray", "body": "<p>I need to get the minimum value (and its index) among objects inside an NSMutable double array.</p>\n\n<p>I get the minimum value correctly but I cannot get its index. A weird and very high number comes up. How can I retrieve the index?</p>\n\n<pre><code>double lowestvalue = 1.0;\ndouble highestvalue = 100.0;\ndouble n4 = 4.0;\ndouble n2 = 2.0;\ndouble n3 = 3.0;\ndouble n1 = 10.0;\n\nNSMutableArray *arr1 = [[NSMutableArray alloc] init];\n\nNSNumber *num1 = [NSNumber numberWithDouble:n1];\nNSNumber *num2 = [NSNumber numberWithDouble:n2];\nNSNumber *num3 = [NSNumber numberWithDouble:n3];\nNSNumber *num4 = [NSNumber numberWithDouble:n4];\nNSNumber *numL = [NSNumber numberWithDouble:lowestvalue];\nNSNumber *numH = [NSNumber numberWithDouble:highestvalue];\n\n[arr1 addObject:num2];\n[arr1 addObject:num3];\n[arr1 addObject:num4];\n[arr1 addObject:numL];\n[arr1 addObject:num1];\n[arr1 addObject:numH];\n\nNSLog(@\"arr1: %@\",arr1);\n\nNSNumber * min_ = [arr1 valueForKeyPath:@\"@min.doubleValue\"];\nNSString *str1_ =[NSString stringWithFormat:@\"%@\",min_];\nNSInteger path1_ =[arr1 indexOfObject:str1_];\nNSIndexPath *indepath1_ =[NSIndexPath indexPathForItem:path1_ inSection:0];\n\nNSLog(@\"Min_ Value = %f and index_ = %ld\",[min_ doubleValue], (long)indepath1_.row);\n\n\n//Min_ Value = 1.000000 and index_ = 9223372036854775807\n</code></pre>\n"}, {"tags": ["objective-c", "ios13"], "comments": [{"owner": {"reputation": 740, "user_id": 2677861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PDw4E.jpg?s=128&g=1", "display_name": "Mirzohid Akbarov", "link": "https://stackoverflow.com/users/2677861/mirzohid-akbarov"}, "edited": false, "score": 0, "creation_date": 1565776424, "post_id": 57490738, "comment_id": 101454450, "body": "Are you see any warning or error message on XCode  when calling  nextScreenWithVC function ?"}, {"owner": {"reputation": 12713, "user_id": 1075405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CTmJQ.png?s=128&g=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/1075405/groot"}, "edited": false, "score": 0, "creation_date": 1565789761, "post_id": 57490738, "comment_id": 101461389, "body": "Sounds like self.parent or self.parent.navigationController evaluates to nil."}, {"owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "reply_to_user": {"reputation": 12713, "user_id": 1075405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CTmJQ.png?s=128&g=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/1075405/groot"}, "edited": false, "score": 0, "creation_date": 1565834342, "post_id": 57490738, "comment_id": 101476659, "body": "Thanks @Groot, i investigated and fount that self.parent.navigationController evaluates to nil. I will investigate more why it is null for iOS 13 and not for iOS 12."}, {"owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "reply_to_user": {"reputation": 740, "user_id": 2677861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PDw4E.jpg?s=128&g=1", "display_name": "Mirzohid Akbarov", "link": "https://stackoverflow.com/users/2677861/mirzohid-akbarov"}, "edited": false, "score": 0, "creation_date": 1565834414, "post_id": 57490738, "comment_id": 101476670, "body": "@MirzohidAkbarov, there are no warring or error messages. I am using Xcode 10.1"}, {"owner": {"reputation": 12713, "user_id": 1075405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CTmJQ.png?s=128&g=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/1075405/groot"}, "edited": false, "score": 0, "creation_date": 1565863219, "post_id": 57490738, "comment_id": 101483747, "body": "Also, shouldn\u2019t it be <code>parentViewController</code> in Objective-C?"}, {"owner": {"reputation": 12713, "user_id": 1075405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CTmJQ.png?s=128&g=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/1075405/groot"}, "edited": false, "score": 0, "creation_date": 1566386667, "post_id": 57490738, "comment_id": 101638396, "body": "Did you solve this @Vinay"}, {"owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "reply_to_user": {"reputation": 12713, "user_id": 1075405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CTmJQ.png?s=128&g=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/1075405/groot"}, "edited": false, "score": 0, "creation_date": 1566521319, "post_id": 57490738, "comment_id": 101691737, "body": "@Groot, Yeah i got the reason why self.parent.navigationController is nil. The function call sequence got changed for iOS 13. So nextScreenWithVC function was called before initializing the navigationController. Now i am changing the function call sequence to work with iOS12 and before and also on iOS13."}, {"owner": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1578658261, "post_id": 57490738, "comment_id": 105519919, "body": "@Vinay Can you please guide in detail. How changing the sequence, what is the issue actually?"}, {"owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "reply_to_user": {"reputation": 1481, "user_id": 2545292, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lslPi.jpg?s=128&g=1", "display_name": "iPhone 7", "link": "https://stackoverflow.com/users/2545292/iphone-7"}, "edited": false, "score": 0, "creation_date": 1579150497, "post_id": 57490738, "comment_id": 105671226, "body": "@iPhone7 the app is going in background state before calling pushViewController and another app is opened for processing. After the processing is done the callback function for the app was invoked after returning to foreground and pushViewController was getting proper viewContoller in iOS12. But due to increase in processing speed and multi threading the callback function for the app was not called in proper sequence, instead viewWillEnterForeground() was process and was calling pushViewController which was null. Thus moved some callback logic into viewWillEnterForeground() function."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "is_accepted": true, "score": 0, "last_activity_date": 1579151023, "creation_date": 1579151023, "answer_id": 59763288, "question_id": 57490738, "link": "https://stackoverflow.com/questions/57490738/uinavigationcontroller-pushviewcontroller-not-working-in-ios-13-remains-on-sam/59763288#59763288", "title": "UINavigationController: pushViewController not working in iOS 13, remains on same page", "body": "<p>I figured out the solution by reading the iOS 13 release note. To understand some changes i used the following link.\n<a href=\"https://developer.apple.com/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle?language=objc</a></p>\n\n<p>The app is going in background state before calling pushViewController and another app is opened for processing. After the processing is done the callback function for the app was invoked after returning to foreground and pushViewController was getting proper viewContoller in iOS12. But due to increase in processing speed and multi threading the callback function for the app was not called in required sequence, instead viewWillEnterForeground() was called which must be the default correct order and was calling pushViewController which was null. Thus moved some callback logic into viewWillEnterForeground() function and now it is working for iOS13 and iOS12 and bellow. </p>\n"}], "owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 0, "accepted_answer_id": 59763288, "answer_count": 1, "score": 0, "last_activity_date": 1579151023, "creation_date": 1565770384, "question_id": 57490738, "link": "https://stackoverflow.com/questions/57490738/uinavigationcontroller-pushviewcontroller-not-working-in-ios-13-remains-on-sam", "title": "UINavigationController: pushViewController not working in iOS 13, remains on same page", "body": "<p>I am calling a method from <strong>performSelectorOnMainThread</strong> which calls <strong>pushViewController</strong>. But the view is not loaded and remains on the same page. This case was working in iOS 12 but not in iOS 13.</p>\n\n<pre><code>- (void)toNextView:{\n    ImageViewController * vc = ImageViewController.new;\n    [self performSelectorOnMainThread:@selector(nextScreenWithVC:) withObject:vc waitUntilDone:NO];\n}\n</code></pre>\n\n<pre><code>- (void)nextScreenWithVC:(UIViewController *)vc\n{\n    [self.parent.navigationController pushViewController:vc animated:NO];\n}\n\n</code></pre>\n\n<p>This function does not loads the ImageViewController. The same code works in iOS 12.</p>\n"}, {"tags": ["objective-c", "xcode", "cocoa", "printing", "pdfdocument"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1565760082, "post_id": 57488509, "comment_id": 101447535, "body": "Please <a href=\"https://stackoverflow.com/posts/57488509/edit\">edit</a> your question to include the complete and exact error message."}, {"owner": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "edited": false, "score": 0, "creation_date": 1565841193, "post_id": 57488509, "comment_id": 101477692, "body": "Can you also show the code that generates the <code>NSData</code> object from which you call your <code>printPDF:</code> method?  There&#39;s no <code>bytes</code> function on a <code>NSString</code>, b.t.w."}, {"owner": {"reputation": 997, "user_id": 379675, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gmxc2.gif?s=128&g=1", "display_name": "Josiah", "link": "https://stackoverflow.com/users/379675/josiah"}, "reply_to_user": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "edited": false, "score": 0, "creation_date": 1565852116, "post_id": 57488509, "comment_id": 101479824, "body": "@MichaelDautermann I&#39;ve added a repository with the entire Xcode project. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 1, "last_activity_date": 1566039184, "creation_date": 1566039184, "answer_id": 57535593, "question_id": 57488509, "link": "https://stackoverflow.com/questions/57488509/getting-unrecognized-selector-sent-to-instance-with-pdfdocument-initwithdata/57535593#57535593", "title": "Getting &#39;unrecognized selector sent to instance&#39; with PDFDocument initWithData?", "body": "<p>How to debug:</p>\n\n<ol>\n<li><p>Add a breakpoint on the line\nPDFDocument *pdfDocument = [[PDFDocument alloc] initWithData:data];</p></li>\n<li><p>Test the app. When the app hits the breakpoint, inspect <code>data</code>.</p></li>\n<li><p><code>data</code> is a <code>NSString</code> and <code>initWithData:</code> expects <code>NSData</code>.</p></li>\n</ol>\n\n<p>How to fix:</p>\n\n<ol>\n<li>Rename</li>\n</ol>\n\n<p><code>- (void) printPDFwithPrinter: (NSString *) printerName andData: (NSData *) data</code></p>\n\n<p>to</p>\n\n<p><code>- (void) printPDFwithPrinter: (NSString *) printerName andString: (NSString *)  string</code></p>\n\n<ol start=\"2\">\n<li>Convert <code>string</code> to <code>NSData</code>.</li>\n</ol>\n\n<p><code>NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];</code></p>\n\n<ol start=\"3\">\n<li>Test the app.</li>\n</ol>\n"}], "owner": {"reputation": 997, "user_id": 379675, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/gmxc2.gif?s=128&g=1", "display_name": "Josiah", "link": "https://stackoverflow.com/users/379675/josiah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 57535593, "answer_count": 1, "score": 0, "last_activity_date": 1566039184, "creation_date": 1565759826, "last_edit_date": 1565852014, "question_id": 57488509, "link": "https://stackoverflow.com/questions/57488509/getting-unrecognized-selector-sent-to-instance-with-pdfdocument-initwithdata", "title": "Getting &#39;unrecognized selector sent to instance&#39; with PDFDocument initWithData?", "body": "<p>I'm using <a href=\"https://rawgit.com/MrRio/jsPDF/master/docs/index.html\" rel=\"nofollow noreferrer\">jsPDF</a> in a webview to generate a PDF that I'd like to print out on a connected USB label printer. I'm getting a 'unrecognized selector sent to instance' error.</p>\n\n<p>Here is the error from the Xcode console:</p>\n\n<pre><code>-[__NSCFString bytes]: unrecognized selector sent to instance 0x1089cb868\n</code></pre>\n\n<p>Here is the function for reference:</p>\n\n<pre><code>- (void) printPDFwithPrinter: (NSString *) printerName andData: (NSData *) data{\n\n    NSLog(@\"%@\", printerName);\n\n    PDFDocument *pdfDocument = [[PDFDocument alloc] initWithData:data];\n\n    NSPrintInfo *printInfo = [NSPrintInfo sharedPrintInfo];\n    [printInfo setTopMargin:0.0];\n    [printInfo setBottomMargin:0.0];\n    [printInfo setLeftMargin:0.0];\n    [printInfo setRightMargin:0.0];\n    [printInfo setHorizontalPagination:NSFitPagination];\n    [printInfo setVerticalPagination:NSFitPagination];\n    [printInfo setPrinter:[NSPrinter printerWithName:printerName]];\n\n    PDFPrintScalingMode scale = kPDFPrintPageScaleDownToFit;\n\n    NSPrintOperation *op = [pdfDocument printOperationForPrintInfo: printInfo scalingMode: scale autoRotate: YES];\n\n    [op setShowsPrintPanel:NO];\n    [op setShowsProgressPanel:NO];\n    [op runOperation];\n}\n</code></pre>\n\n<p>The pdf data is the raw output of the pdf body as a string. (<a href=\"https://rawgit.com/MrRio/jsPDF/master/docs/jsPDF.html#output\" rel=\"nofollow noreferrer\">Docs</a>)</p>\n\n<p>I'm brand new to Objective-C, so I'm using <a href=\"http://juancamiloestela.github.io/AppBurger/\" rel=\"nofollow noreferrer\">AppBurger</a> for my Native/webview bridge (building my app in HTML/JS/CSS).</p>\n\n<p><strong>Here is my Xcode project so far:</strong>\n<a href=\"https://github.com/josiaho/AppBurger-Print-Test\" rel=\"nofollow noreferrer\">https://github.com/josiaho/AppBurger-Print-Test</a></p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uitextfield", "uitextfielddelegate"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1565715368, "post_id": 57482197, "comment_id": 101435848, "body": "&quot;The title itself is self explanatory, I hope&quot; It isn&#39;t. You have not explained what you do, in what order, and what delegate method(s) you expect to be called as a result."}, {"owner": {"reputation": 879, "user_id": 1137814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09e332dc048ab4612657ab9665ff7922?s=128&d=identicon&r=PG&f=1", "display_name": "Seto", "link": "https://stackoverflow.com/users/1137814/seto"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1565715671, "post_id": 57482197, "comment_id": 101435983, "body": "I edited my question,"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1565718785, "post_id": 57482197, "comment_id": 101437266, "body": "@SetoElkahfi - where are you setting the delegate on the textField?"}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 1, "creation_date": 1566369516, "post_id": 57482197, "comment_id": 101629432, "body": "<code>self.delegate</code> I guess this is a delegate of <code>UITableViewCell</code>, you must have to set this delegate in ViewController. The best place is in <code>cellForRow</code> method."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": true, "score": 1, "last_activity_date": 1565842944, "creation_date": 1565842944, "answer_id": 57504839, "question_id": 57482197, "link": "https://stackoverflow.com/questions/57482197/uitextfield-delegate-inside-custom-uitableviewcell-does-not-get-called-for-the-f/57504839#57504839", "title": "UITextField delegate inside custom UITableViewCell does not get called for the first load", "body": "<p>I think the delegate for UITextField is the point.</p>\n\n<p>Make sure it set properly in the begin.</p>\n"}], "owner": {"reputation": 879, "user_id": 1137814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/09e332dc048ab4612657ab9665ff7922?s=128&d=identicon&r=PG&f=1", "display_name": "Seto", "link": "https://stackoverflow.com/users/1137814/seto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 57504839, "answer_count": 1, "score": 0, "last_activity_date": 1565842944, "creation_date": 1565715175, "last_edit_date": 1565715649, "question_id": 57482197, "link": "https://stackoverflow.com/questions/57482197/uitextfield-delegate-inside-custom-uitableviewcell-does-not-get-called-for-the-f", "title": "UITextField delegate inside custom UITableViewCell does not get called for the first load", "body": "<p>The textfield delegate inside the custom UITableViewCell not get called. In addition, there's a button on the end of the cell that will add or remove row dynamically. </p>\n\n<pre><code>@property (strong, nonatomic) IBOutlet UITextField *textField;\n@property (strong, nonatomic) IBOutlet UIButton *plusButton;\n\n- (IBAction)plusButtonPressed:(id)sender;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uicxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uicxU.png\" alt=\"enter image description here\"></a></p>\n\n<p>I store all the values of the text fields in an array inside the view controller. Problem is, it's not get updated at the first load, but it does work if I add or remove row.</p>\n\n<pre><code>#pragma mark - TextFieldTableViewCellDelegate\n\n- (void)addButtonPressed {\n    [self.secondaryRecipients addObject:@\"\"];\n    [self calculateOtherRecipientsTableViewHeight];\n}\n\n- (void)deleteButtonPressedAt:(NSIndexPath *)indexPath {\n    [self.secondaryRecipients removeObjectAtIndex:indexPath.row];\n    [self calculateOtherRecipientsTableViewHeight];\n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField at:(NSIndexPath *)indexPath {\n    [self.secondaryRecipients replaceObjectAtIndex:indexPath.row withObject:textField.text];\n}\n\n- (void)textFieldDidChangeCharacter:(NSString *)string at:(NSIndexPath *)indexPath {\n    [self.secondaryRecipients replaceObjectAtIndex:indexPath.row withObject:string];\n}\n\n- (void)calculateOtherRecipientsTableViewHeight {\n    self.otherRecipientsTableViewHeight.constant = TABLEVIEW_CELL_DEFAULT_HEIGHT * [self.secondaryRecipients count];\n    [self.otherRecipientsTableView reloadData];\n    [self recalculateViewSize];\n}\n</code></pre>\n\n<p>Below is the delegate methods from the table view cell:</p>\n\n<pre><code>#pragma mark UITextFieldDelegate\n\n- (void)textFieldDidEndEditing:(UITextField *)textField {\n    if (self.delegate &amp;&amp; [self.delegate respondsToSelector:@selector(textFieldDidEndEditing:at:)]) {\n        [self.delegate textFieldDidEndEditing:textField at:self.indexPath];\n    }\n}\n\n- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {\n    NSString * text = textField.text != nil ? textField.text : @\"\";\n    if (self.delegate &amp;&amp; [self.delegate respondsToSelector:@selector(textFieldDidChangeCharacter:at:)]) {\n        [self.delegate textFieldDidChangeCharacter:text at:self.indexPath];\n    }\n    return YES;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "messagekit"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565700422, "post_id": 57477958, "comment_id": 101427823, "body": "your <code>messages</code> are <code>private</code>"}, {"owner": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "edited": false, "score": 0, "creation_date": 1565700446, "post_id": 57477958, "comment_id": 101427836, "body": "Your&#39;re using private variable <i>private var messages: [Message]</i>"}, {"owner": {"reputation": 2320, "user_id": 1770210, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/736bfbf12db08b5e24b4bbc7b8bd40fd?s=128&d=identicon&r=PG", "display_name": "Anthony Taylor", "link": "https://stackoverflow.com/users/1770210/anthony-taylor"}, "edited": false, "score": 0, "creation_date": 1565700900, "post_id": 57477958, "comment_id": 101428047, "body": "Im not trying to pass to that variable, my test was to the public myValue. I&#39;ll correct that."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1565727113, "post_id": 57477958, "comment_id": 101440600, "body": "Delete the line <code>@class InboxThreadViewController</code>. This is a forward class reference and that class has no properties. The details of the <code>InboxThreadViewControllee</code> should be in the bridging header."}], "owner": {"reputation": 2320, "user_id": 1770210, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/736bfbf12db08b5e24b4bbc7b8bd40fd?s=128&d=identicon&r=PG", "display_name": "Anthony Taylor", "link": "https://stackoverflow.com/users/1770210/anthony-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565777520, "creation_date": 1565700167, "last_edit_date": 1565777520, "question_id": 57477958, "link": "https://stackoverflow.com/questions/57477958/passing-nsarray-from-obc-c-viewcontroller-to-swift-view-controller", "title": "Passing NSArray from Obc-C ViewController to Swift View Controller", "body": "<p>I am trying to slowly incorporate <code>MessageKit</code> into my Objective-C application and I am running into an issue.</p>\n\n<p>No matter what I try, I can not get the Objective-c view controller to <code>import</code> and reference the swift view controller. </p>\n\n<p>So far the Swift view controller works as expected, and I can play around with <code>MessageKit</code>, but when I try to segue to it, I cant create an instance to pass an array to.</p>\n\n<p><strong>Obj-C ViewController - MessagesViewController.m</strong></p>\n\n<pre><code>#import \"Voices_com-Swift.h\"\n\n@class InboxThreadViewController;\n@interface MessagesViewController () &lt;UISearchBarDelegate, UISearchResultsUpdating, UIActionSheetDelegate, UISearchControllerDelegate, UITableViewDelegate&gt;\n\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    if ([[segue identifier] isEqualToString:@\"show message\"])\n    {\n        // Get reference to the destination view controller\n\n    InboxThreadViewController *svc = (InboxThreadViewController*)segue.destinationViewController;\n    //[svc setMessages:self.arrayOfMessages]; &lt;-First try\n    //svc.Messages = self.arrayOfMessages; &lt;-Second try\n</code></pre>\n\n<p>Setting the variable gives an error </p>\n\n<blockquote>\n  <p>Property 'myValue' cannot be found in forward class object 'InboxThreadViewController'</p>\n</blockquote>\n\n<p><strong>Swift ViewController - InboxThreadViewController</strong></p>\n\n<pre><code>import UIKit\nimport MessageKit\n\nclass InboxThreadViewController: MessagesViewController, MessageInputBarDelegate {\n\n    @objc public var myValue:String  = \"\"\n    @objc public var messages: [Message] = []\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        messageInputBar.delegate = self\n        messagesCollectionView.messagesDataSource = self\n        messagesCollectionView.messagesLayoutDelegate = self\n        messagesCollectionView.messagesDisplayDelegate = self\n        title = \"MessageKit\"\n    }\n</code></pre>\n\n<p>What am I missing in order to pass data from a obj-c VC to a swift VC</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1565700110, "post_id": 57477858, "comment_id": 101427666, "body": "Have you considered using a <code>CATextLayer</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 2249633, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8bf187f47426b1bcc46c874f34affe4?s=128&d=identicon&r=PG", "display_name": "ChillY", "link": "https://stackoverflow.com/users/2249633/chilly"}, "is_accepted": true, "score": 1, "last_activity_date": 1565700412, "creation_date": 1565700412, "answer_id": 57478031, "question_id": 57477858, "link": "https://stackoverflow.com/questions/57477858/how-can-i-make-my-text-from-drawinrect-above-the-gradient-layer/57478031#57478031", "title": "How can I make my text from &quot;drawInRect&quot; above the gradient layer?", "body": "<p>I'd indeed use <code>CATextLayer</code> as @DonMag has pointed out. In that case, you would have <code>CATextLayer</code> and <code>CAGradientLayer</code>. </p>\n\n<p>First insert the <code>CAGradientLayer</code> using <code>addSubLayer</code></p>\n\n<p><code>[self.layer addSubLayer:gradientLayer];</code></p>\n\n<p>Then the <code>CATextLayer</code> using <code>insertSubLayer:above:</code> </p>\n\n<p><code>[self.layer insertSubLayer:textLayer above:gradientLayer];</code></p>\n\n<p>PS: Answered question about putting attributedstring in CATextLayer:\n<a href=\"https://stackoverflow.com/questions/16052863/displaying-an-attributed-string-in-a-catextlayer\">Displaying an attributed string in a CATextLayer</a></p>\n"}], "owner": {"reputation": 3, "user_id": 9006815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HTRiJ.jpg?s=128&g=1", "display_name": "liuxin", "link": "https://stackoverflow.com/users/9006815/liuxin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57478031, "answer_count": 1, "score": 0, "last_activity_date": 1565700412, "creation_date": 1565699748, "last_edit_date": 1565700130, "question_id": 57477858, "link": "https://stackoverflow.com/questions/57477858/how-can-i-make-my-text-from-drawinrect-above-the-gradient-layer", "title": "How can I make my text from &quot;drawInRect&quot; above the gradient layer?", "body": "<p>I created a new class named <code>MySegment</code> which inherits from <code>UIControl</code>.</p>\n\n<p>First, I initialized a gradient line with <code>CAGradientLayer</code>.</p>\n\n<p>Second,<code>[self.layer addSublayer:myLayer]</code></p>\n\n<p>Then, <code>[\"myString\" drawInRect:rect withAttributes:attributes]</code> is in the same location.</p>\n\n<p>I want the text from <code>drawInRect</code> to be overlaid on <code>myLayer</code>, but no matter what I use <code>addSublayer</code> or <code>insertlayer</code>\uff0cmy text is always under <code>mylayer</code>, the effect is shown on the photo.</p>\n\n<p>How can I make my text above the gradient layer?</p>\n\n<p><img src=\"https://i.stack.imgur.com/I8D79.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["ios", "objective-c", "swift", "frameworks", "bridging-header"], "owner": {"reputation": 537, "user_id": 8716371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJHWM.jpg?s=128&g=1", "display_name": "Radost", "link": "https://stackoverflow.com/users/8716371/radost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1565715832, "creation_date": 1565696925, "last_edit_date": 1565715832, "question_id": 57477111, "link": "https://stackoverflow.com/questions/57477111/mixing-swift-and-obj-c-inside-framework", "title": "Mixing Swift and Obj-C inside framework", "body": "<p>How can I use non public swift classes if I have an Objective C framework, not app. For introducing swift code in a objective C project I follow this steps:</p>\n\n<ul>\n<li>Create swift file and not create a bridging header because using bridging headers with framework targets is unsupported.</li>\n<li>Create a swift simple class. The class inherit from NSObject and has @objc tag.</li>\n<li>Enable the following configurations:\n\n<ul>\n<li>Defines Module : YES</li>\n<li>Always Embed Swift Standard Libraries : YES</li>\n<li>Install Objective-C Compatibility Header : YES</li>\n</ul></li>\n<li>Import the umbrella file (\"ModuleName-Swift.h\") where you want to use\nthe swift class.</li>\n<li>If the swift classes are public it works but this classes are\naccessible from outside, for example the app that uses the framework.</li>\n<li><strong>If the swift classes are non public they aren't accessible in the\nobjective-c files in the framework.</strong></li>\n</ul>\n\n<p>The solution for this problem if the project is an app and not a framework is creating a bridging header. I'm searching for a solution for this problem for a framework.</p>\n"}, {"tags": ["objective-c", "fmdb", "sqlcipher"], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 1, "last_activity_date": 1566396397, "last_edit_date": 1566396397, "creation_date": 1565735642, "answer_id": 57486091, "question_id": 57472336, "link": "https://stackoverflow.com/questions/57472336/fmdb-sqlcipher-and-fmdbmigrationmanager-migration-fails/57486091#57486091", "title": "FMDB/SQLCipher and FMDBMigrationManager migration fails", "body": "<p>The default encryption settings between major versions of SQLCipher are not compatible out of the box (i.e. you can't open a database created with SQLCipher 3.x using SQLCipher 4.x without migrating it or manually modifying the default encryption settings). You'll need to migrate your 3.x SQLCipher database to use the 4.x encryption settings using <a href=\"https://www.zetetic.net/sqlcipher/sqlcipher-api/#cipher_migrate\" rel=\"nofollow noreferrer\">PRAGMA cipher_migrate</a></p>\n"}], "owner": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 57486091, "answer_count": 1, "score": 0, "last_activity_date": 1566396397, "creation_date": 1565678232, "question_id": 57472336, "link": "https://stackoverflow.com/questions/57472336/fmdb-sqlcipher-and-fmdbmigrationmanager-migration-fails", "title": "FMDB/SQLCipher and FMDBMigrationManager migration fails", "body": "<p>I got issue of FMDB migration fails on application update.</p>\n\n<pre><code>  pod 'FMDB/SQLCipher', '~&gt; 2.7'\n  pod 'FMDBMigrationManager', '~&gt; 1.4.x'\n</code></pre>\n\n<p>I'm using above pod versions. and thats working fine till now. After pod update getting error of database migrations fails. </p>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["objective-c", "runloop"], "comments": [{"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 3, "creation_date": 1565646291, "post_id": 57468579, "comment_id": 101410282, "body": "Because your code &#39;on the main thread&#39; is running inside the runloop. All UIApplication events are delivered via the runloop (or dispatch, which also is scheduled into the runloop, via some magic), which means, all of your code is running inside the call to <code>CFRunLoopRunSpecific</code>. You can verify this by looking at the call stack during any UIEvent that gets triggered in your application."}, {"owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "reply_to_user": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 0, "creation_date": 1565646578, "post_id": 57468579, "comment_id": 101410347, "body": "@RichardJ.RossIII How to better understand the whole structure of a UIApplication?  Apple doesn&#39;t provide very detailed documentation on how it is structured. Would you prefer to dig into the call stack and learn from it?"}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1565649884, "post_id": 57468579, "comment_id": 101411245, "body": "This part of the system isn&#39;t iOS specific, and is documented primarily in the OS X Cocoa docs. Apple has been deprecating their foundational documentation for years now, so it has become much harder to find up-to-date documentation of these kinds of details unless you already know the specific doc you&#39;re looking for (and sometimes, they&#39;re hard to find even then). <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 2, "last_activity_date": 1565646297, "creation_date": 1565646297, "answer_id": 57468626, "question_id": 57468579, "link": "https://stackoverflow.com/questions/57468579/why-runloop-doesnt-block-the-whole-thread-from-executing/57468626#57468626", "title": "Why RunLoop doesn&#39;t block the whole thread from executing?", "body": "<p>It does block the current thread. However, part of what <code>CFRunLoopRunSpecific</code> does is call your code on that thread. When you return, it goes back to <code>CFRunLoopRunSpecific</code>, which then calls other code.</p>\n"}], "owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57468626, "answer_count": 1, "score": 2, "last_activity_date": 1565646297, "creation_date": 1565645910, "question_id": 57468579, "link": "https://stackoverflow.com/questions/57468579/why-runloop-doesnt-block-the-whole-thread-from-executing", "title": "Why RunLoop doesn&#39;t block the whole thread from executing?", "body": "<p>If each <code>UIApplication</code> initializes a RunLoop like this on the main thread</p>\n\n<pre><code>void CFRunLoopRun(void) {   /* DOES CALLOUT */\n    int32_t result;\n    do {\n        result = CFRunLoopRunSpecific(CFRunLoopGetCurrent(), kCFRunLoopDefaultMode, 1.0e10, false);\n        CHECK_FOR_FORK();\n    } while (kCFRunLoopRunStopped != result &amp;&amp; kCFRunLoopRunFinished != result);\n}\n</code></pre>\n\n<p>Why it doesn't block the whole execution since it is an infinite loop? How could an infinite loop and my code on the main thread work together on a single thread without context switching?</p>\n"}, {"tags": ["ios", "objective-c", "uibutton"], "comments": [{"owner": {"reputation": 1720, "user_id": 9106403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keKUY.png?s=128&g=1", "display_name": "iOS Team", "link": "https://stackoverflow.com/users/9106403/ios-team"}, "edited": false, "score": 0, "creation_date": 1565674415, "post_id": 57468133, "comment_id": 101415573, "body": "please share your code snippet, it will give more understanding."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1565681384, "post_id": 57468133, "comment_id": 101418308, "body": "My guess is that your button&#39;s title extend outside the button frame. In that case you must make your button larger."}, {"owner": {"reputation": 39, "user_id": 4115327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338a9bd7a82b78d7df0aef72e7f6907a?s=128&d=identicon&r=PG&f=1", "display_name": "nblandfo", "link": "https://stackoverflow.com/users/4115327/nblandfo"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1567009533, "post_id": 57468133, "comment_id": 101837439, "body": "@LGP was correct. I had to extend the frame of the button, as well as use setImage instead of setBackgroundImage on the button"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3943403, "user_type": "registered", "profile_image": "https://graph.facebook.com/1799434772/picture?type=large", "display_name": "Ralph Manga", "link": "https://stackoverflow.com/users/3943403/ralph-manga"}, "is_accepted": false, "score": 0, "last_activity_date": 1565700284, "creation_date": 1565700284, "answer_id": 57477996, "question_id": 57468133, "link": "https://stackoverflow.com/questions/57468133/make-title-part-of-clickable-area-in-uibutton/57477996#57477996", "title": "Make title part of clickable area in UIButton", "body": "<p>Get the touch point and check if It is within the range of the image:</p>\n\n<pre><code>- (IBAction)myAction:(UIButton *)sender forEvent:(UIEvent *)event {\n    NSSet *touches = [event touchesForView:sender];\n    UITouch *touch = [touches anyObject];\n    CGPoint touchPoint = [touch locationInView:sender];\n    NSLog(@\"%@\", NSStringFromCGPoint(touchPoint));\n    if ( CGRectContainsPoint(imageFrame, touchPoint) ) {\n        // Point lies inside the bounds.\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4115327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338a9bd7a82b78d7df0aef72e7f6907a?s=128&d=identicon&r=PG&f=1", "display_name": "nblandfo", "link": "https://stackoverflow.com/users/4115327/nblandfo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565700284, "creation_date": 1565643331, "question_id": 57468133, "link": "https://stackoverflow.com/questions/57468133/make-title-part-of-clickable-area-in-uibutton", "title": "Make title part of clickable area in UIButton", "body": "<p>I have a UIButton with an image and a long title. I've adjusted the button's titleEdgeInsets so that the text appears to the right of the button image. </p>\n\n<pre><code>    button.titleEdgeInsets = UIEdgeInsetsMake(0.0, 0.0, 0.0, -BUTTONSIZE - button.titleLabel.frame.size.width - 15.0);\n</code></pre>\n\n<p>The problem is only the image is clickable for the button and not the long title to the right of it, I'd like to make that fire a click event as well. Is there a simple way of doing this or will I have to add some kind of overlying view?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "accessibility", "objective-c++"], "owner": {"reputation": 33, "user_id": 5782261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78fcd460734f063f6c831616c264682f?s=128&d=identicon&r=PG&f=1", "display_name": "Chun Tai", "link": "https://stackoverflow.com/users/5782261/chun-tai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576787030, "creation_date": 1565634223, "last_edit_date": 1576787030, "question_id": 57466350, "link": "https://stackoverflow.com/questions/57466350/ios-switch-control-scrolling-in-opengl-backed-uiview", "title": "IOS switch control scrolling in openGL backed UIView", "body": "<p>I have a OpenGl backed UiView that implements a scrollable list with multiple items inside. I have created an accessibility tree with information about the element inside UIView and attached it to its accessibilityElements. Everything works fine except When I turn on switch control, It does not provide scroll action when the item inside is focused. It only shows tap action.</p>\n\n<p>My question is how I can turn on the scroll action, and how ios determines what switch actions are available. I have tried several accessibility api includes providing accessibilityScroll, but none of them seems to enable scroll action in switch control.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["objective-c", "react-native"], "owner": {"reputation": 1288, "user_id": 7759364, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/098afd97a5d112e2fabfdd1d94a893a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tzvetlin Velev", "link": "https://stackoverflow.com/users/7759364/tzvetlin-velev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565631708, "creation_date": 1565631708, "question_id": 57465811, "link": "https://stackoverflow.com/questions/57465811/javascript-timer-running-in-react-native-stops-when-we-present-a-native-module", "title": "Javascript timer running in react-native stops when we present a Native module", "body": "<p>Running a react-native app, I have a timer that is supposed to kick a user out of a checkout flow if it runs out. When we present an apple pay view we are creating an instance of a javascript class that exposes a <code>show</code> method which triggers a native <code>viewController</code>. When the apple pay controller is presented, the timer in the background stops. Is there a way to do this without pausing the JS thread. Here is the <code>viewController</code> that mounts: <a href=\"https://github.com/naoufal/react-native-payments/blob/master/packages/react-native-payments/lib/ios/ReactNativePayments.m\" rel=\"nofollow noreferrer\">ReactNativePayments.m</a></p>\n"}, {"tags": ["ios", "objective-c", "xcode", "frameworks", "private-header"], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 11904287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d8be85283686f65d5291be8ce1d33ab?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/11904287/dmitry"}, "is_accepted": true, "score": 1, "last_activity_date": 1565634732, "creation_date": 1565634732, "answer_id": 57466446, "question_id": 57465789, "link": "https://stackoverflow.com/questions/57465789/how-can-i-create-private-module-without-including-private-headers-into-the-frame/57466446#57466446", "title": "How can I create private module without including private headers into the framework?", "body": "<p>Apple doesn't include private modules with their frameworks. Most likely, we shouldn't do that as well.</p>\n"}], "owner": {"reputation": 317, "user_id": 11904287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d8be85283686f65d5291be8ce1d33ab?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/11904287/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57466446, "answer_count": 1, "score": 1, "last_activity_date": 1565634732, "creation_date": 1565631634, "question_id": 57465789, "link": "https://stackoverflow.com/questions/57465789/how-can-i-create-private-module-without-including-private-headers-into-the-frame", "title": "How can I create private module without including private headers into the framework?", "body": "<p>I want to create a private module without including the private headers into the framework. I can compile the framework. But when I add it to the application project, Xcode gives the following error:</p>\n\n<pre><code>Umbrella header 'XXX_Private.h' not found\n</code></pre>\n\n<p>When I include the umbrella header into the framework, I get the following error (from inside the umbrella header):</p>\n\n<pre><code>XXX_Private.h: 'XXX/YYY.h' file not found\n</code></pre>\n\n<p>I tried to to set <code>Header Search Path</code> to the folder with the umbrella private header and all private headers, but it didn't help.</p>\n"}, {"tags": ["objective-c", "nsdateformatter", "timezone-offset", "openweathermap"], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 7728983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9e01e4ebd18832edde97d64a592e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Purnima Naik", "link": "https://stackoverflow.com/users/7728983/purnima-naik"}, "is_accepted": true, "score": 1, "last_activity_date": 1565621883, "creation_date": 1565621883, "answer_id": 57463611, "question_id": 57463483, "link": "https://stackoverflow.com/questions/57463483/how-to-get-the-sunrise-sunset-time-for-remote-location-in-their-timezone-not-d/57463611#57463611", "title": "How to get the sunrise/ sunset time for remote location in their timezone, not device timezone when using open weather api, in Objective C?", "body": "<p>I figured it out, this is how you do it-</p>\n\n<p>You use the <code>timezone</code> field returned in the API response and set it as the offset.</p>\n\n<pre><code>   double offset =  [json[@\"timezone\"]doubleValue]; //getting timezone offset\n\n   double sunriseTimestampval =  [json[@\"sys\"][@\"sunrise\"]doubleValue];\n\n   NSTimeInterval sunriseTimestamp = (NSTimeInterval)sunriseTimestampval;\n   NSDate* sunriseDate = [NSDate dateWithTimeIntervalSince1970:sunriseTimestamp];\n\n   NSDateFormatter *sunriseDateFormatter = [[NSDateFormatter alloc] init];\n   [sunriseDateFormatter setDateFormat:@\"hh:mm\"];\n   [sunriseDateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:offset]];//-&gt;Converting to remote timezone\n\n NSString *sunriseTime = [sunriseDateFormatter stringFromDate:sunriseDate];\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 7728983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff9e01e4ebd18832edde97d64a592e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Purnima Naik", "link": "https://stackoverflow.com/users/7728983/purnima-naik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 57463611, "answer_count": 1, "score": 0, "last_activity_date": 1565621883, "creation_date": 1565621473, "question_id": 57463483, "link": "https://stackoverflow.com/questions/57463483/how-to-get-the-sunrise-sunset-time-for-remote-location-in-their-timezone-not-d", "title": "How to get the sunrise/ sunset time for remote location in their timezone, not device timezone when using open weather api, in Objective C?", "body": "<p>I am getting the sunrise/sunset time but it is in the timezone that my device is using. For example, I am in New York, when I look up cities that are in EST, it returns the sunrise/sunset time in the right timezone. But if I look up Dubai, the hours are off. The sunset time returned for Dubai is 10:57PM. Which is the time in New York(EST) when the sun sets in Dubai. </p>\n\n<p>Here is my OpenWeatherAPI response-</p>\n\n<pre><code>base = stations;\n    clouds =     {\n        all = 20;\n    };\n    cod = 200;\n    coord =     {\n        lat = \"25.27\";\n        lon = \"55.3\";\n    };\n    dt = 1565620936;\n    id = 292223;\n    main =     {\n        humidity = 71;\n        pressure = 995;\n        temp = 36;\n        \"temp_max\" = 36;\n        \"temp_min\" = 36;\n    };\n    name = Dubai;\n    sys =     {\n        country = AE;\n        id = 7537;\n        message = \"0.0067\";\n        sunrise = 1565574654;\n        sunset = 1565621827;\n        type = 1;\n    };\n    timezone = 14400;\n    visibility = 7000;\n    weather =     (\n                {\n            description = \"few clouds\";\n            icon = 02d;\n            id = 801;\n            main = Clouds;\n        }\n    );\n    wind =     {\n        deg = 340;\n        speed = \"4.6\";\n    };\n</code></pre>\n\n<p>How do I get the sunrise/sunset time in the remote time zone that I am querying in Objective-C?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1565618635, "post_id": 57462628, "comment_id": 101398788, "body": "Well, you need <code>calloc(numargv + 1</code> in the first place."}, {"owner": {"reputation": 1029, "user_id": 6194597, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ad1da3ba0dfa777698c9f28fdd23a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor Isack", "link": "https://stackoverflow.com/users/6194597/gregor-isack"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1565618843, "post_id": 57462628, "comment_id": 101398926, "body": "That&#39;s what I did too, but it end up crashing the system."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1565621453, "post_id": 57462628, "comment_id": 101400388, "body": "You just need <code>cStringWithEncoding:</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1029, "user_id": 6194597, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ad1da3ba0dfa777698c9f28fdd23a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor Isack", "link": "https://stackoverflow.com/users/6194597/gregor-isack"}, "edited": false, "score": 0, "creation_date": 1565620409, "post_id": 57462946, "comment_id": 101399796, "body": "Your code is so much more cleaner, and I didn&#39;t realize using <code>NSData</code> is more easier! Thank you!"}], "tags": [], "owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "is_accepted": true, "score": 1, "last_activity_date": 1565619540, "creation_date": 1565619540, "answer_id": 57462946, "question_id": 57462628, "link": "https://stackoverflow.com/questions/57462628/how-to-append-a-null-into-the-char-array/57462946#57462946", "title": "How to append a NULL into the char array?", "body": "<p>The following will work:</p>\n\n<pre><code>NSArray *arg_array = nil;\narg_array = @[@\"/bin/bash\", @\"/var/somefile.sh\"];\nchar **argv = NULL;\nNSInteger numargv = arg_array.count;\n\nargv = (char **)calloc(numargv + 1, sizeof(char*));\n\nif (argv) {\n    for (NSInteger i = 0; i &lt; numargv; i++) {\n        NSString *nsString = arg_array[i];\n\n        if (i == 0){\n            NSString* application = [[nsString componentsSeparatedByString: @\"/\"] lastObject];\n            nsString = application;\n        }\n\n        NSData* stringData = [nsString dataUsingEncoding:[NSString defaultCStringEncoding]];\n\n        char *cString = (char *)malloc(stringData.length + 1);\n        [stringData getBytes:cString length:stringData.length];\n        cString[stringData.length] = 0;\n\n        argv[i] = cString;\n    }\n}\n\npid_t pid;\nint status;\n//const char *argv[] = {\"bash\", \"/var/test.sh\", NULL}; This is what I expected argv to be, a NULL in the last element\nposix_spawnp(&amp;pid, \"bash\", NULL, NULL, (char* const*)argv, NULL);\nwaitpid(pid, &amp;status, WEXITED);\n</code></pre>\n\n<p>I think there were two problems in your code:</p>\n\n<ol>\n<li>You were missing the <code>+1</code> in your <code>calloc</code> for the <code>NULL</code> terminator.</li>\n<li>You don't actually set the ending <code>0</code> for your string arguments.</li>\n</ol>\n"}], "owner": {"reputation": 1029, "user_id": 6194597, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0ad1da3ba0dfa777698c9f28fdd23a0?s=128&d=identicon&r=PG&f=1", "display_name": "Gregor Isack", "link": "https://stackoverflow.com/users/6194597/gregor-isack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 57462946, "answer_count": 1, "score": 0, "last_activity_date": 1565619540, "creation_date": 1565618269, "question_id": 57462628, "link": "https://stackoverflow.com/questions/57462628/how-to-append-a-null-into-the-char-array", "title": "How to append a NULL into the char array?", "body": "<p>I'm trying to run a shell script using posix_spawn, by trying to convert from NSArray to char array with a NULL in the last element, I end up crashing my system. Below is the original code that has no error.</p>\n\n<pre><code>NSArray *arg_array = nil;\narg_array = @[@\"/bin/bash\", @\"/var/somefile.sh\"];\nchar **argv = NULL;\nNSInteger numargv = arg_array.count;\n\nif (numargv) {\n    argv = (char **)calloc(numargv, sizeof(char*))  ;\n\n    if (argv) {\n\n        for (NSInteger i=0;i&lt;numargv;i++) {\n            NSString *nsString = arg_array[i];\n\n            if (i==0){\n                NSArray* spliteArray = [nsString componentsSeparatedByString: @\"/\"];\n                NSString* cStringFirstArgv = [spliteArray lastObject];\n                nsString = cStringFirstArgv;\n            }\n\n            char *cString = (char *)malloc([nsString lengthOfBytesUsingEncoding:NSUTF8StringEncoding] + 1); // + 1 for \\0\n\n            if (cString) {  \n                strcpy(cString, nsString.UTF8String);\n                argv[i] = cString;\n            } else {\n                // error\n            }\n        }\n    } \n}\n\n\npid_t pid;\nint status;\n//const char *argv[] = {\"bash\", \"/var/test.sh\", NULL}; This is what I expected argv to be, a NULL in the last element\nposix_spawnp(&amp;pid, \"bash\", NULL, NULL, (char* const*)argv, NULL);\nwaitpid(pid, &amp;status, WEXITED);\n</code></pre>\n\n<p><code>argv</code> currently is <code>{\"bash\", \"/var/test.sh\"}</code>, however I trying to make it to an array like this:<code>{\"bash\", \"/var/test.sh\", NULL}</code> so that I could run <code>posix_spawn</code> successfully. Any idea how to fix this? Thanks in advance!</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565606073, "post_id": 57459493, "comment_id": 101392509, "body": "in your quote there is nowhere said that you have to make it public or open, you don&#39;t have to do that, they can stay internal to access from obj-c"}], "answers": [{"tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": false, "score": 2, "last_activity_date": 1565607562, "creation_date": 1565607562, "answer_id": 57459930, "question_id": 57459493, "link": "https://stackoverflow.com/questions/57459493/why-do-we-need-to-mark-a-swift-class-public-or-open-to-make-it-accessible-in/57459930#57459930", "title": "Why do we need to mark a Swift class `public` or `open` to make it accessible in an Objective-C framework project?", "body": "<p>Classes will be accessible to runtime, but not to programmer.\nYou will need class headers to operate with them.\nXcode will just generate public Objective-C headers for you, if you mark them as public.</p>\n"}], "owner": {"reputation": 1704, "user_id": 1640653, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a5cc3ff94aed368360b65c48a1f50050?s=128&d=identicon&r=PG", "display_name": "allenlinli", "link": "https://stackoverflow.com/users/1640653/allenlinli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565607562, "creation_date": 1565605555, "last_edit_date": 1565605890, "question_id": 57459493, "link": "https://stackoverflow.com/questions/57459493/why-do-we-need-to-mark-a-swift-class-public-or-open-to-make-it-accessible-in", "title": "Why do we need to mark a Swift class `public` or `open` to make it accessible in an Objective-C framework project?", "body": "<p>As title.</p>\n\n<p>But based on Apple's <a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_swift_into_objective-c\" rel=\"nofollow noreferrer\">doc</a>, it says:</p>\n\n<blockquote>\n  <p>Methods and properties that are marked with the internal modifier and\n  declared within a class that inherits from an Objective-C class are\n  accessible to the Objective-C runtime.</p>\n</blockquote>\n\n<p>It says <code>internal</code> should work. </p>\n\n<p>Did I misunderstand something?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 1134, "user_id": 9543983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f139bbe639fb31015fdfaf4f8e006?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/9543983/jay"}, "edited": false, "score": 0, "creation_date": 1565603160, "post_id": 57458806, "comment_id": 101391238, "body": "Can you confirm the name of color &quot;bottomNavigation&quot; ??"}, {"owner": {"reputation": 1, "user_id": 11916923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d789da34b107d948e6880305de7a03b?s=128&d=identicon&r=PG&f=1", "display_name": "Vanoshan3003", "link": "https://stackoverflow.com/users/11916923/vanoshan3003"}, "reply_to_user": {"reputation": 1134, "user_id": 9543983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039f139bbe639fb31015fdfaf4f8e006?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/9543983/jay"}, "edited": false, "score": 0, "creation_date": 1565603294, "post_id": 57458806, "comment_id": 101391302, "body": "yes the name of the colour is bottomNavigation"}], "answers": [{"tags": [], "owner": {"reputation": 1462, "user_id": 4757272, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152888486628843/picture?type=large", "display_name": "Vollan", "link": "https://stackoverflow.com/users/4757272/vollan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565603186, "creation_date": 1565603186, "answer_id": 57458919, "question_id": 57458806, "link": "https://stackoverflow.com/questions/57458806/how-to-access-asset-catalog-colour-set-programmatically/57458919#57458919", "title": "How to Access Asset Catalog colour set programmatically", "body": "<p><code>UIColor(named: \"name\")</code> is only available in iOS 11 and forward as you read the documentation for it:</p>\n\n<pre><code>@interface UIColor (UIColorNamedColors)\n+ (nullable UIColor *)colorNamed:(NSString *)name NS_AVAILABLE_IOS(11_0);      // load from main bundle\n+ (nullable UIColor *)colorNamed:(NSString *)name inBundle:(nullable NSBundle *)bundle compatibleWithTraitCollection:(nullable UITraitCollection *)traitCollection NS_AVAILABLE_IOS(11_0);\n@end\n</code></pre>\n\n<p>In swift:</p>\n\n<pre><code>extension UIColor {\n\n    @available(iOS 11.0, *)\n    public /*not inherited*/ init?(named name: String) // load from main bundle\n\n    @available(iOS 11.0, *)\n    public /*not inherited*/ init?(named name: String, in bundle: Bundle?, compatibleWith traitCollection: UITraitCollection?)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 10396231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4HQTh.jpg?s=128&g=1", "display_name": "Vladislav Markov", "link": "https://stackoverflow.com/users/10396231/vladislav-markov"}, "is_accepted": false, "score": 1, "last_activity_date": 1565604232, "last_edit_date": 1565604232, "creation_date": 1565603369, "answer_id": 57458960, "question_id": 57458806, "link": "https://stackoverflow.com/questions/57458806/how-to-access-asset-catalog-colour-set-programmatically/57458960#57458960", "title": "How to Access Asset Catalog colour set programmatically", "body": "<p>It should work. </p>\n\n<p>UIColor(named:) requires iOS 11 and newer versions.</p>\n\n<p>First of all, check the name of your asset.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uB8H4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uB8H4.png\" alt=\"Color name\"></a></p>\n\n<p>After that, you should check the name in the code:</p>\n\n<pre><code>someView.backgroudColor = UIColor(named: \"CustomColor\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 5111312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46324f0e9d2db8dc02199b47b0e0dcab?s=128&d=identicon&r=PG&f=1", "display_name": "Antee86", "link": "https://stackoverflow.com/users/5111312/antee86"}, "edited": false, "score": 0, "creation_date": 1589362288, "post_id": 57458993, "comment_id": 109260735, "body": "To open library: <code>Cmd</code> + <code>Shift</code> + <code>L</code>."}], "tags": [], "owner": {"reputation": 1480, "user_id": 3359906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HkBwS.jpg?s=128&g=1", "display_name": "AjinkyaSharma", "link": "https://stackoverflow.com/users/3359906/ajinkyasharma"}, "is_accepted": false, "score": 4, "last_activity_date": 1593003569, "last_edit_date": 1593003569, "creation_date": 1565603479, "answer_id": 57458993, "question_id": 57458806, "link": "https://stackoverflow.com/questions/57458806/how-to-access-asset-catalog-colour-set-programmatically/57458993#57458993", "title": "How to Access Asset Catalog colour set programmatically", "body": "<p>I could not find an easier way, but can achieve it in the following manner</p>\n<p>Press <code>Cmd</code> + <code>Shift</code> + <code>L</code> to open library and then select Color tab.</p>\n<p>Then drag that color to the code.\nSomething like this.\n<a href=\"https://i.stack.imgur.com/fgCbM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fgCbM.png\" alt=\"enter image description here\" /></a></p>\n<p>This is, assuming that you have added a color in your <code>.xcassets </code>\nAnd want to use that color.</p>\n<p>If you want to use the color in xibs, it is easily available in the Named Colors section, if you tap on color.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11916923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d789da34b107d948e6880305de7a03b?s=128&d=identicon&r=PG&f=1", "display_name": "Vanoshan3003", "link": "https://stackoverflow.com/users/11916923/vanoshan3003"}, "is_accepted": false, "score": 0, "last_activity_date": 1565611611, "creation_date": 1565611611, "answer_id": 57460899, "question_id": 57458806, "link": "https://stackoverflow.com/questions/57458806/how-to-access-asset-catalog-colour-set-programmatically/57460899#57460899", "title": "How to Access Asset Catalog colour set programmatically", "body": "<p>So what i found is that a space was causing the issue with the colour not being referenced, <code>UIColor (named:\"bottomNavigation\")</code>. It might not give an error but there shouldn't be any space between UIColor and the bracket: <code>UIColor(named:\"bottomNavigation\")</code></p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 1773472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a4ac227e60d22a9bb553249eeba36f?s=128&d=identicon&r=PG", "display_name": "Nishant Sharma", "link": "https://stackoverflow.com/users/1773472/nishant-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1567753961, "creation_date": 1567753961, "answer_id": 57817342, "question_id": 57458806, "link": "https://stackoverflow.com/questions/57458806/how-to-access-asset-catalog-colour-set-programmatically/57817342#57817342", "title": "How to Access Asset Catalog colour set programmatically", "body": "<p>You can achieve this with following easy 4 steps:</p>\n\n<ol>\n<li><p><strong>Adding colors to an asset catalog</strong>: \n        Go to Assets folder in your Project -> Tap on Plus button -> After selecting your .xcassets directory in Xcode, press the plus button on the bottom left and select \u201cNew Color Set\u201d. <a href=\"https://i.stack.imgur.com/TGp9R.gif\" rel=\"nofollow noreferrer\">Here's the attached link(GIF) it will help you about adding ColorSet.</a> </p></li>\n<li><p><strong>Using asset catalog colors in Storyboards</strong>:\nIn order to user asset catalog colors in Storyboard or an Interface Builder file is pretty straightforward. Color fields, including background colors, text colors, should display the colors you defined in the asset catalog under the \u201cNamed Colors\u201d section.\n<a href=\"https://i.stack.imgur.com/CGrnZ.png\" rel=\"nofollow noreferrer\">Here's the attached link(GIF) it will help you about using ColorSet from Storyboard.</a></p></li>\n<li><p><strong>Using asset catalog colors in CODE</strong>:\n Create an Extension first.</p></li>\n</ol>\n\n<p>You first need to create an Extension of Custom font color(I had added code below).</p>\n\n<pre><code>extension UIColor {\nclass var appBG: UIColor {\n    if let color = UIColor(named: \"SillyBlue\") {\n        return color\n    }\n    fatalError(\"Could not find appBG color\")\n  }\n}\n</code></pre>\n\n<ol start=\"4\">\n<li><p><strong>Then directly use in the code</strong>, example is given below:</p>\n\n<p>self.view.backgroundColor = UIColor.appBG</p></li>\n</ol>\n\n<p>Let me know if you face any issue.</p>\n"}], "owner": {"reputation": 1, "user_id": 11916923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d789da34b107d948e6880305de7a03b?s=128&d=identicon&r=PG&f=1", "display_name": "Vanoshan3003", "link": "https://stackoverflow.com/users/11916923/vanoshan3003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3255, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1593003569, "creation_date": 1565602659, "question_id": 57458806, "link": "https://stackoverflow.com/questions/57458806/how-to-access-asset-catalog-colour-set-programmatically", "title": "How to Access Asset Catalog colour set programmatically", "body": "<p>I want to use a colour set within my code. i want the asset file to be read so that it can access the colour set. </p>\n\n<p>so i have set my name of the colour set to bottomNavigation.</p>\n\n<p>I have tried using <code>UIColor(named: \"bottomNavigation\")</code> but it does not pick up the colour. </p>\n\n<p>i know that you can reference an asset file by doing this for an image:</p>\n\n<pre><code>UIImage* image = [UIImage imageNamed:@\"name-in-asset-catalog\"];\n</code></pre>\n\n<p>But i'm not sure how you would do that for a colour or how to reference the Asset file to get the colour set</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "edited": false, "score": 0, "creation_date": 1565598411, "post_id": 57457775, "comment_id": 101389210, "body": "how to save image file in document directory?"}, {"owner": {"reputation": 174, "user_id": 4608674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70316c96f0368520fb5558c46554815?s=128&d=identicon&r=PG&f=1", "display_name": "charanjit singh", "link": "https://stackoverflow.com/users/4608674/charanjit-singh"}, "reply_to_user": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "edited": false, "score": 0, "creation_date": 1565598577, "post_id": 57457775, "comment_id": 101389280, "body": "first convert image object to data with this  NSData *imageData = UIImagePNGRepresentation(yourImage);     [imgData writeToFile: imagePath atomically: YES];"}, {"owner": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "edited": false, "score": 0, "creation_date": 1565598888, "post_id": 57457775, "comment_id": 101389402, "body": "I use this, now my code like this.  UIImage *image = [UIImage imageNamed:@&quot;nature1.jpg&quot;];     NSData *imgData = UIImageJPEGRepresentation(image, 1.0); I written on top of the code now on console showing object data of image"}], "tags": [], "owner": {"reputation": 174, "user_id": 4608674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70316c96f0368520fb5558c46554815?s=128&d=identicon&r=PG&f=1", "display_name": "charanjit singh", "link": "https://stackoverflow.com/users/4608674/charanjit-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1565598896, "last_edit_date": 1565598896, "creation_date": 1565598156, "answer_id": 57457775, "question_id": 57457636, "link": "https://stackoverflow.com/questions/57457636/save-image-file-in-document-directory-and-fetch-image-file-from-it-and-show-on-v/57457775#57457775", "title": "Save Image file in Document Directory and Fetch Image file from it and show on View in Objective C", "body": "<p>Please first save image in document directory then try to get the data from same link.\nYour code will look like after little changes.</p>\n\n<pre><code>    NSArray *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);\n        NSLog(@\"path: %@\", path);\n        NSString *documentsDirectory = [path objectAtIndex:0];\n        NSLog(@\"documentsDirectory: %@\", documentsDirectory);\n        NSString *imagePath = [documentsDirectory stringByAppendingPathComponent:@\"nature1.jpg\"];\n        NSLog(@\"imagePath: %@\", imagePath);\n\n    //    NSData *imgData = [[NSData alloc] initWithContentsOfURL:[NSURL fileURLWithPath:imagePath]];\n        NSData *imageData = UIImagePNGRepresentation(yourImage);\n        [imageData writeToFile: imagePath atomically: YES];\n        NSData *imgData = [NSData dataWithContentsOfFile:imagePath];\n        NSLog(@\"imgData: %@\", imgData);\n        UIImage *showImg = [[UIImage alloc] initWithData:imgData];\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57457775, "answer_count": 1, "score": 0, "last_activity_date": 1565598896, "creation_date": 1565597452, "question_id": 57457636, "link": "https://stackoverflow.com/questions/57457636/save-image-file-in-document-directory-and-fetch-image-file-from-it-and-show-on-v", "title": "Save Image file in Document Directory and Fetch Image file from it and show on View in Objective C", "body": "<p>I have tried to save image file in document directory and get the file to show on view through imageView. But after saving image, when I fetch image from document directory I am getting value null.</p>\n\n<pre><code>- (IBAction)showImage:(id)sender {\n\n    NSArray *path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);\n    NSLog(@\"path: %@\", path);\n    NSString *documentsDirectory = [path objectAtIndex:0];\n    NSLog(@\"documentsDirectory: %@\", documentsDirectory);\n    NSString *imagePath = [documentsDirectory stringByAppendingPathComponent:@\"nature1.jpg\"];\n    NSLog(@\"imagePath: %@\", imagePath);\n    NSData *imgData = [NSData dataWithContentsOfFile:imagePath];\n//    NSData *imgData = [[NSData alloc] initWithContentsOfURL:[NSURL fileURLWithPath:imagePath]];\n    [imgData writeToFile: imagePath atomically: YES];\n    NSLog(@\"imgData: %@\", imgData);\n    UIImage *showImg = [[UIImage alloc] initWithData:imgData];\n//    DocumentDirectoryImage.image = showImg;\n}\n\n\n\nGetting value on console : \nimagePath: /Users/vikas.patil/Library/Developer/CoreSimulator/Devices/88A6BD16-9A62-4D9D-9852-5EA2E374060A/data/Containers/Data/Application/16083D44-0BFD-4CE6-8D4E-06A51EB908C1/Documents/nature1.jpg\n2019-08-12 13:17:07.173 Assignment15[2270:107222] imgData: (null)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565593258, "post_id": 57456589, "comment_id": 101387466, "body": "if you connect readings with just this one view controller it will not work, keep reading mechanism in a place that will live all the time"}, {"owner": {"reputation": 49, "user_id": 6645364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddfe3c116f9038cbb10a088270f31c72?s=128&d=identicon&r=PG&f=1", "display_name": "C v Eijk", "link": "https://stackoverflow.com/users/6645364/c-v-eijk"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565593318, "post_id": 57456589, "comment_id": 101387489, "body": "How would I go about doing this?"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565593410, "post_id": 57456589, "comment_id": 101387523, "body": "create it in appDelegate? make a singleton? there are different approaches, I don&#39;t know enough to recommend one"}, {"owner": {"reputation": 49, "user_id": 6645364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddfe3c116f9038cbb10a088270f31c72?s=128&d=identicon&r=PG&f=1", "display_name": "C v Eijk", "link": "https://stackoverflow.com/users/6645364/c-v-eijk"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565593658, "post_id": 57456589, "comment_id": 101387596, "body": "I understand I can do all that. My problem is that I can&#39;t seem to bridge objective-c with swift."}, {"owner": {"reputation": 49, "user_id": 6645364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddfe3c116f9038cbb10a088270f31c72?s=128&d=identicon&r=PG&f=1", "display_name": "C v Eijk", "link": "https://stackoverflow.com/users/6645364/c-v-eijk"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565593680, "post_id": 57456589, "comment_id": 101387604, "body": "I cannot call for objects or anything else in swift that is created in objective c"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1565593826, "post_id": 57456589, "comment_id": 101387658, "body": "nowhere in your post you gave example trying to use it, please post your code, I don&#39;t know what <code>I cannot call for objects or anything else </code> means in this context"}], "owner": {"reputation": 49, "user_id": 6645364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ddfe3c116f9038cbb10a088270f31c72?s=128&d=identicon&r=PG&f=1", "display_name": "C v Eijk", "link": "https://stackoverflow.com/users/6645364/c-v-eijk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565594681, "creation_date": 1565591664, "last_edit_date": 1565594681, "question_id": 57456589, "link": "https://stackoverflow.com/questions/57456589/how-to-keep-transmitting-data-from-objective-c-to-swift-after-dismissal", "title": "How to keep transmitting data from objective-C to swift after dismissal", "body": "<p>I'm trying to get a live temperature as a constant (getting it from a bluetooth probe) to use in my entire project since a lot of screens need the temp data. </p>\n\n<p>The sdk uses objective-c to communicate with the probe. What I'm trying to do now is to get this 'sensor1 reading' over to swift in order to turn it into a constant. I have managed to do this using the notification center. </p>\n\n<p>When the user connects to their probe in the connect screen (backed by objective-c) the notificationcenter starts communicating with an observer on the swift side. This works great, until the connect screen is dismissed. When this happens, the transmitting of the notification center stops. The probe is still connected in the background. But I cannot get the live data over to my project.</p>\n\n<p>Objective-c:</p>\n\n<pre><code>{\n    id&lt;TLDevice&gt; device = [[ThermaLib sharedInstance] deviceList][indexPath.row];\n\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"TLDDeviceListCellIdentifier\" forIndexPath:indexPath];\n\n    UILabel *titleLabel = [cell viewWithTag:1];\n    titleLabel.text = [device deviceName];\n\n    UILabel *sensor1Label = [cell viewWithTag:2];\n    UILabel *sensor2Label = [cell viewWithTag:3];\n\n\n    if(device.isReady){\n\n        // Check the device temperature unit and adjust the reading and suffix as necessary\n\n\n        float reading1 = [device sensorAtIndex:1].reading;\n\n\n        NSDictionary *myData = @{@\"data1\" : @(reading1)};\n        [[NSNotificationCenter defaultCenter] postNotificationName:@\"reading1update\" object:nil userInfo:myData];\n\n\n\n\n\n\n        float reading2 = [device sensorAtIndex:2].reading;\n\n\n\n        TLDeviceUnit unit1 = [device sensorAtIndex:1].displayUnit;\n        TLDeviceUnit unit2 = [device sensorAtIndex:2].displayUnit;\n\n        if (unit1 == TLDeviceUnitFahrenheit) {\n            reading1 = reading1 * 1.8 + 32;\n        }\n\n        if(unit2 == TLDeviceUnitFahrenheit){\n            reading2 = reading2 * 1.8 + 32;\n        }\n\n        sensor1Label.text = [[device sensorAtIndex:1] isFault] ? @\"FAULT\" : [NSString stringWithFormat:@\"%.1f %@\", reading1, [TLDUtil stringFromUnit:unit1]];\n\n        NSString *text;\n        if ([device isSensorEnabledAtIndex:2]) {\n            if ([[device sensorAtIndex:2] isFault]) {\n                text = @\"FAULT\";\n            } else {\n                text = [NSString stringWithFormat:@\"%.1f %@\", reading2, [TLDUtil stringFromUnit:unit2]];\n            }\n        } else {\n            text = @\"-\";\n        }\n        sensor2Label.text = text;\n\n    } else {\n        sensor2Label.text = @\"-\";\n        sensor1Label.text = @\"-\";\n    }\n\n    UILabel *batteryLabel = [cell viewWithTag:4];\n    batteryLabel.text = [NSString stringWithFormat:@\"%ld%%\", (long)device.batteryLevel];\n\n    return cell;\n}                \n</code></pre>\n\n<p>Swift:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>override func viewDidLoad() {\n  super.viewDidLoad()\n\nNotificationCenter.default.addObserver(forName:NSNotification.Name(rawValue: \"reading1update\"), object:nil, queue:nil, using:yourFunction)\n\n}\n\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "webkit", "wkwebview", "ios13"], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 4489133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1Iv7.jpg?s=128&g=1", "display_name": "harshith7823", "link": "https://stackoverflow.com/users/4489133/harshith7823"}, "is_accepted": true, "score": 5, "last_activity_date": 1565594318, "creation_date": 1565594318, "answer_id": 57457029, "question_id": 57456490, "link": "https://stackoverflow.com/questions/57456490/border-around-html-content-on-editing-a-html-file-loaded-onto-a-wkwebview-on-ios/57457029#57457029", "title": "Border around html content on editing a HTML file loaded onto a WKWebview on iOS13", "body": "<pre><code>&lt;html&gt;\n    &lt;head&gt;\n    &lt;style type=\"text/css\"&gt;\n        div {\n        outline: none\n            }\n            &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body &gt;\n\n    &lt;div contenteditable=\"true\"&gt;Type here&lt;/div&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n\n<p>Adding outline:none to the div tag solves the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 11188247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa1dd81a4b3fcb1dbaf3178f1dc5a1fa?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay", "link": "https://stackoverflow.com/users/11188247/vinay"}, "is_accepted": false, "score": 1, "last_activity_date": 1566885619, "creation_date": 1566885619, "answer_id": 57668454, "question_id": 57456490, "link": "https://stackoverflow.com/questions/57456490/border-around-html-content-on-editing-a-html-file-loaded-onto-a-wkwebview-on-ios/57668454#57668454", "title": "Border around html content on editing a HTML file loaded onto a WKWebview on iOS13", "body": "<p>Add following code in viewDidLoad</p>\n\n<pre><code>[self.wkWebView stringByEvaluatingJavaScriptFromString:@\"var style = document.createElement('style'); style.type = 'text/css'; style.innerHTML = '*:focus{ outline:none }'; document.getElementsByTagName('head')[0].appendChild(style);\"];\n\n</code></pre>\n\n<p>I was facing the same problem, above line helped me, it coves the whole page focus elements.</p>\n"}], "owner": {"reputation": 317, "user_id": 4489133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1Iv7.jpg?s=128&g=1", "display_name": "harshith7823", "link": "https://stackoverflow.com/users/4489133/harshith7823"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 1, "accepted_answer_id": 57457029, "answer_count": 2, "score": 1, "last_activity_date": 1566885619, "creation_date": 1565591014, "last_edit_date": 1565685262, "question_id": 57456490, "link": "https://stackoverflow.com/questions/57456490/border-around-html-content-on-editing-a-html-file-loaded-onto-a-wkwebview-on-ios", "title": "Border around html content on editing a HTML file loaded onto a WKWebview on iOS13", "body": "<p><a href=\"https://i.stack.imgur.com/SQT2y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQT2y.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to load a local editable <code>html</code> file onto a <code>WKWebview</code>. <code>WKWebview</code> successfully loads the <code>html</code> file. However, when I start typing into the editable <code>html</code> file, a dark border like view appears around the typed text.  This issue is not reproducible on iOS12.</p>\n\n<pre><code>(void)viewDidLoad\n{\n    [super viewDidLoad];\n    NSBundle *bundle = [NSBundle mainBundle];\n    NSURL *indexFileURL = [bundle URLForResource:@\"index\" withExtension:@\"html\"];\n    [self.wkWebView loadRequest:[NSURLRequest requestWithURL:indexFileURL]];\n}\n\nindex.html:\n\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;div id=\"content\" contenteditable=\"true\" style=\"font-family: Helvetica\"&gt; Type here &lt;/div&gt;\n    &lt;/body&gt;\n&lt;html&gt;\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "macos-mojave"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1565856930, "last_edit_date": 1565856930, "creation_date": 1565856494, "answer_id": 57506656, "question_id": 57455008, "link": "https://stackoverflow.com/questions/57455008/nslog-is-not-working-i-want-to-write-log-to-system-log-file/57506656#57506656", "title": "NSLog is not working. I want to write log to system.log file", "body": "<p>You can see my project: <a href=\"https://github.com/irons163/IRMY_LOG\" rel=\"nofollow noreferrer\">IRMY_LOG</a></p>\n\n<p>This can save log in a txt file.</p>\n\n<p>The key point:\nfreopen([pathForLog cStringUsingEncoding:NSASCIIStringEncoding],\"a+\",stderr);</p>\n"}], "owner": {"reputation": 11, "user_id": 5844875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/088e6c0f677b122f5e73cbfb571a96f8?s=128&d=identicon&r=PG&f=1", "display_name": "Ru Vnel", "link": "https://stackoverflow.com/users/5844875/ru-vnel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565857002, "creation_date": 1565576360, "last_edit_date": 1565857002, "question_id": 57455008, "link": "https://stackoverflow.com/questions/57455008/nslog-is-not-working-i-want-to-write-log-to-system-log-file", "title": "NSLog is not working. I want to write log to system.log file", "body": "<p>In applications built after a recent Xcode update, NSLog does not write logs to the <code>System.log</code> file.</p>\n\n<p>I've been analyzing it through the logs in <code>system.log</code> file.\nBut <code>NSLog</code> doesn't work anymore.</p>\n\n<p>I want to have <code>NSLog</code> write logs to <code>system.log</code> file.</p>\n\n<p>I tried using <code>os_log</code> but it doesn't write log to <code>system.log</code> file.</p>\n\n<p>I also tried setting the value of <code>OS_ACTIVITY_MODE</code> to <code>disable</code> in Environment Variables in the project.\nBut that only affected <code>Xcode's</code> output console.</p>\n\n<p>How can I write logs to the <code>system.log</code> file?</p>\n"}, {"tags": ["objective-c", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1565547971, "post_id": 57452183, "comment_id": 101379731, "body": "Your code of course infinitely locks.. you call <code>dispatch_semaphore_wait</code> forever.. in the block.. Which means &quot;do something&quot; and any code after it will never execute until the semaphore gets signalled somewhere else.."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 1, "creation_date": 1565549676, "post_id": 57452183, "comment_id": 101380122, "body": "@Brandon: no. the semaphore is initialized with a count of 1. The wait call will decrease it to 0. And the signal call increases it to 1 again. That&#39;s fine."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1566227702, "post_id": 57452183, "comment_id": 101580885, "body": "BorisV, this semaphore pattern (and Michael\u2019s locking pattern) are dangerous, notably if the \u201cdo something\u201d code might takes any considerable time and if the number of threads you might call this from could be large. The issue is that this blocks GCD worker threads, which are quite limited (currently only 64 of them), at which point apps can hang and/or other unexpected behaviors. The serial queue pattern really is the right way to do this."}, {"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1566239398, "post_id": 57452183, "comment_id": 101586016, "body": "I see. However, my concern is different. I plan to create many objects, each one will deploy indefinite number of tasks on global concurrent queue. My concern is that if I provide each object with its own serial queue then it will cause massive impact on OS resources. On the other side if I define one shared serial queue then this will break order of deployment which is unwanted. So I try to figure out the best strategy."}], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1565547594, "post_id": 57452397, "comment_id": 101379658, "body": "will the queue created with dispatch_queue_create_with_target(@&quot;xyz&quot;,DISPATCH_QUEUE_SERI&zwnj;&#8203;AL,DISPATCH_TARGET_Q&zwnj;&#8203;UEUE_DEFAULT) fulfill my requirements?"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1565547759, "post_id": 57452397, "comment_id": 101379688, "body": "@BorisV: I&#39;m not quite sure what you are trying to accomplish. Why not create an ordinary serial dispatch queue with <code>dispatch_queue_create(NULL, DISPATCH_QUEUE_SERIAL)</code>?"}, {"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1565548068, "post_id": 57452397, "comment_id": 101379751, "body": "I want to emulate serial execution of same function upon concurrent queue. Which means: in case when several threads access that function I want to start execution of next task right after previous was ended."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1565548381, "post_id": 57452397, "comment_id": 101379817, "body": "@BorisV: what is &quot;upon concurrent queue&quot;? Wether you use <code>dispatch_queue_create_with_target(@&quot;xyz&quot;,DISPATCH_QUEUE_SERI&zwnj;&#8203;AL,DISPATCH_TARGET_Q&zwnj;&#8203;UEUE_DEFAULT)</code> or <code>dispatch_queue_create(&quot;xyz&quot;, DISPATCH_QUEUE_SERIAL)</code> will not change the observable behaviour of your program at all."}], "tags": [], "owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1565546924, "creation_date": 1565546924, "answer_id": 57452397, "question_id": 57452183, "link": "https://stackoverflow.com/questions/57452183/objective-c-order-of-signalling-of-gcd-semaphores/57452397#57452397", "title": "Objective-C: order of signalling of GCD semaphores", "body": "<p>You use the semaphore like a basic concurrency lock. This means that your code is equivalent to</p>\n\n<pre><code>- (id)init{\n    self=[super init];\n    if(self){\n        lock = [NSLock new];\n    }\n    return self;\n}\n- (void)f{\n    dispatch_block_t b= ^{\n        [lock lock];\n\n        //do something\n\n        [lock unlock];\n    };\n    dispatch_async(a, b); //MUST be dispatched to global concurrent queue, \n                           //referenced by a\n}\n</code></pre>\n\n<p>For this use case you usually use serial dispatch queues. Because it is much easier this way.</p>\n\n<pre><code>- (id)init{\n    self=[super init];\n    if(self){\n        queue = dispatch_queue_create(NULL, DISPATCH_QUEUE_SERIAL);\n    }\n    return self;\n}\n- (void)f{\n    dispatch_async(queue, ^{\n        // do something\n    });\n}\n</code></pre>\n\n<p>However, back to your question. The blocks will usually be called in the same order that you schedule them, but only until there is load and it really matters. The only guarantee is that the code in <code>// do something</code> will not be executed concurrently.</p>\n\n<p>GCD guarantees that blocks are starting to execute in the same order that they were scheduled. This is even true for concurrent queues. To see why this doesn't mean that <code>// do something</code> is called in the appropriate order, consider this:</p>\n\n<pre><code>Thread 1 schedules t1\nThread 2 schedules t2\nt1 starts executing\nt2 starts executing\nt1 gets suspended because of high CPU load\nt2 runs dispatch_semaphore_wait(sem, DISPATCH_TIME_FOREVER)\nThread 3 schedules t3\nt2 succeeds and starts with `// do something`\nt1 gets unsuspended and calls dispatch_semaphore_wait(sem, DISPATCH_TIME_FOREVER)\nt1 now blocks\n...\n</code></pre>\n\n<p>In this scenario (which will happen some day), t1 begins executing before t2, but still the <code>// do something</code> block from t2 gets executed first. <em>Depending on your use case, this may or may not be a problem for you.</em> If you need total ordering, you need to use a serial dispatch queue (recommended) or create your own locking scheme (not recommended unless you really need to.)</p>\n"}], "owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 57452397, "answer_count": 1, "score": 1, "last_activity_date": 1565549586, "creation_date": 1565545044, "last_edit_date": 1565549586, "question_id": 57452183, "link": "https://stackoverflow.com/questions/57452183/objective-c-order-of-signalling-of-gcd-semaphores", "title": "Objective-C: order of signalling of GCD semaphores", "body": "<p>I defined obj-C method:</p>\n\n<pre><code>- (id)init {\n    self = [super init];\n    if(self) {\n        sem = dispatch_semaphore_create(1);\n    }\n    return self;\n}\n- (void)f {\n    dispatch_block_t b = ^{\n        dispatch_semaphore_wait(sem, DISPATCH_TIME_FOREVER);\n\n        //do something\n\n        dispatch_semaphore_signal(sem);\n    };\n    dispatch_async(a, b); //MUST be dispatched to global concurrent queue, \n                          //referenced by a\n}\n</code></pre>\n\n<p>Let's suppose that <code>f</code> is called concurrently from 3 different threads <strong>t1, t2, t3</strong> in that order, i.e. emulating serial execution.\nIs it correct to suggest that <em>dispatch_semaphore_signal()</em> will be signalling in the same order?</p>\n\n<p>If not then how can I ensure that the function is called in serial manner considering the limitations?</p>\n"}, {"tags": ["ios", "objective-c", "static"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 3, "creation_date": 1565525684, "post_id": 57449340, "comment_id": 101374895, "body": "Where are you actually declaring and initialising the instances of B? Can you show it in context?  Also, that isn&#39;t the best practice way to create a singleton instance. You should use <code>dispatch_once</code>"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1565526313, "post_id": 57449340, "comment_id": 101375019, "body": "Why aren&#39;t <code>firstVariable</code> etc properties of <code>A</code>?"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 1, "creation_date": 1565552107, "post_id": 57449340, "comment_id": 101380658, "body": "indeed you should use <code>dispatch_once</code>. Because thread safety. Swift uses <code>dispatch_once</code> (or something equivalent to <code>dispatch_once</code>) internally for global initialization work. You usually define the storage for the singleton (the static var) within <code>+sharedInstance</code>."}], "owner": {"reputation": 101, "user_id": 5546274, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/GPrJg.png?s=128&g=1", "display_name": "Ovidiu", "link": "https://stackoverflow.com/users/5546274/ovidiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565520677, "creation_date": 1565520677, "question_id": 57449340, "link": "https://stackoverflow.com/questions/57449340/is-there-any-reason-a-static-variable-could-not-be-initialized", "title": "Is there any reason a static variable could not be initialized?", "body": "<p>I have a class (singleton class) that has three global static variables. Each of these static variables has the same type (another class that has a custom init method).</p>\n\n<p>When I want to initialize the static variables, one of them has the value \"nil\" even if the custom init method returns a valid instance.</p>\n\n<p>Please consider the above code.</p>\n\n<pre><code>//The header file of the singleton class\n\n#import \"B.h\"\n\nstatic B *firstVariable;\nstatic B *secondVariable;\nstatic B *thirdVariable;\n\n@interface A : NSObject\n\n//some properties and methods declarations here\n\n@end\n\n\n//The implementation file of the singleton class\n\n#import \"A.h\"\n\n@implementation A\n\nstatic A *sharedInstance = nil;\n\n+ (A *)sharedInstance {\n    if (sharedInstance == nil) {\n        sharedInstance = [[A alloc] init];\n    }\n\n    return sharedInstance;\n}\n\n...\n\n@end\n\n\n//The header file for the other class\n\n@interface B : NSObject\n\n@property(nonatomic, strong, readonly) NSString *path;\n\n- (instancetype)initWithPath:(NSString *)path;\n\n@end\n\n//The implementation of this class\n\n#import \"B.h\"\n\n@implementation B\n\n- (instancetype)initWithPath:(NSString *)path {\n      self = [super init];\n\n      if (self) {\n        _path = path;\n      }\n\n      return self;\n}\n\n@end\n</code></pre>\n\n<p>This is how I try to initialize those static variables</p>\n\n<pre><code>firstVariable = [[B alloc] initWithPath:@\"firstPath\"];\nsecondVariable = [[B alloc] initWithPath:@\"secondPath\"];\nthirdVariable = [[B alloc] initWithPath:@\"thirdPath\"];\n</code></pre>\n\n<p>As I previously mentioned, even if there is a valid instance inside of the \"initWithPath\" method before returning, the \"secondVariable\" has the \"nil\" value.</p>\n\n<p>Can anyone help me out with this?</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "react-native", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "edited": false, "score": 1, "creation_date": 1565485503, "post_id": 57446642, "comment_id": 101369427, "body": "Have you added Firebase in your podfile for &quot;Service Extention&quot;?"}, {"owner": {"reputation": 6083, "user_id": 1736601, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/898ece53307a59a16aae6fe549c5283d?s=128&d=identicon&r=PG", "display_name": "atkayla", "link": "https://stackoverflow.com/users/1736601/atkayla"}, "reply_to_user": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "edited": false, "score": 0, "creation_date": 1565486478, "post_id": 57446642, "comment_id": 101369483, "body": "Oh, I didn&#39;t know I needed another target inside my Podfile! That worked and got me past the import error. Now I am hitting <code>sharedApplication&#39; is unavailable: not available on iOS (App Extension) - Use view controller based solutions where appropriate instead.&quot;</code> with <code>FirMessagingRemoteNotificationsProxy.m</code>."}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "edited": false, "score": 0, "creation_date": 1565487077, "post_id": 57446642, "comment_id": 101369524, "body": "Cool. On which line you are getting this error?"}, {"owner": {"reputation": 6083, "user_id": 1736601, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/898ece53307a59a16aae6fe549c5283d?s=128&d=identicon&r=PG", "display_name": "atkayla", "link": "https://stackoverflow.com/users/1736601/atkayla"}, "reply_to_user": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "edited": false, "score": 0, "creation_date": 1565487947, "post_id": 57446642, "comment_id": 101369600, "body": "<code>NSObject&lt;UIApplicationDelegate&gt; *appDelegate = [[UIApplication sharedApplication] delegate];</code> I read Firebase upgraded it to not use <code>sharedApplication</code>: <a href=\"https://github.com/firebase/firebase-ios-sdk/pull/1503\" rel=\"nofollow noreferrer\">github.com/firebase/firebase-ios-sdk/pull/1503</a>, but I am stuck on old version <code>5.4.0</code>. :C"}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "edited": false, "score": 0, "creation_date": 1565504977, "post_id": 57446642, "comment_id": 101371259, "body": "No you can&#39;t access AppDelegate from &quot;Service Extention&quot;. I also tried to use it for updating the batch count of Push notification, but to no use."}, {"owner": {"reputation": 617, "user_id": 1671996, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/21bf480a84fcc2051cdd6c8bb079248c?s=128&d=identicon&r=PG", "display_name": "Michael Fever", "link": "https://stackoverflow.com/users/1671996/michael-fever"}, "edited": false, "score": 0, "creation_date": 1575062635, "post_id": 57446642, "comment_id": 104453329, "body": "Were you able to get this going?  I&#39;m having the same issue.  About to try to tackle this tonight."}, {"owner": {"reputation": 6083, "user_id": 1736601, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/898ece53307a59a16aae6fe549c5283d?s=128&d=identicon&r=PG", "display_name": "atkayla", "link": "https://stackoverflow.com/users/1736601/atkayla"}, "reply_to_user": {"reputation": 617, "user_id": 1671996, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/21bf480a84fcc2051cdd6c8bb079248c?s=128&d=identicon&r=PG", "display_name": "Michael Fever", "link": "https://stackoverflow.com/users/1671996/michael-fever"}, "edited": false, "score": 0, "creation_date": 1575062877, "post_id": 57446642, "comment_id": 104453387, "body": "@MichaelFever Yes - <a href=\"https://github.com/invertase/react-native-firebase/issues/2432\" rel=\"nofollow noreferrer\">github.com/invertase/react-native-firebase/issues/2432</a>"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8114755, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2fFuT.jpg?s=128&g=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/8114755/mukesh-kumar"}, "is_accepted": false, "score": 5, "last_activity_date": 1567963552, "creation_date": 1567963552, "answer_id": 57844206, "question_id": 57446642, "link": "https://stackoverflow.com/questions/57446642/how-to-add-notification-service-extension-for-firebase/57844206#57844206", "title": "How to add Notification Service Extension for Firebase?", "body": "<p>You just need to add below text in your existing podfile.</p>\n\n<pre><code>target 'NotificationImage' do\n   pod 'Firebase/Messaging'\nend\n</code></pre>\n\n<p>Then only you will be able to see that file you want to include in your project.</p>\n"}, {"tags": [], "owner": {"reputation": 666, "user_id": 7510392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3cdA.jpg?s=128&g=1", "display_name": "Alessandro Battistini", "link": "https://stackoverflow.com/users/7510392/alessandro-battistini"}, "is_accepted": false, "score": 4, "last_activity_date": 1579796458, "creation_date": 1579796458, "answer_id": 59882954, "question_id": 57446642, "link": "https://stackoverflow.com/questions/57446642/how-to-add-notification-service-extension-for-firebase/59882954#59882954", "title": "How to add Notification Service Extension for Firebase?", "body": "<p>Put in your podfile</p>\n\n<pre><code>target 'yourNotificationServiceTarget' do\n   pod 'Firebase/Messaging'\nend\n</code></pre>\n\n<p>After, put in your NotificationService.m</p>\n\n<pre><code>@import Firebase;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4274, "user_id": 1374327, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/MYbrA.jpg?s=128&g=1", "display_name": "NSPratik", "link": "https://stackoverflow.com/users/1374327/nspratik"}, "is_accepted": false, "score": 0, "last_activity_date": 1587570512, "creation_date": 1587570512, "answer_id": 61369356, "question_id": 57446642, "link": "https://stackoverflow.com/questions/57446642/how-to-add-notification-service-extension-for-firebase/61369356#61369356", "title": "How to add Notification Service Extension for Firebase?", "body": "<p><strong>(1)</strong> Add <code>'Firebase/Messaging'</code> in your podfile. Don't add unnecessary pods in your App extension target as some APIs are not allowed by Apple in App extension e.g. <code>UIApplication.shared</code>. You may end up with lots of errors otherwise.</p>\n\n<pre><code>target 'NotificationServiceExtension' do\n   pod 'Firebase/Messaging'\nend\n</code></pre>\n\n<p><strong>(2)</strong> Close the project and run <code>pod install</code></p>\n\n<p>Have a look at <a href=\"https://therightsw.com/ios-multiple-targets-with-cocoapods/\" rel=\"nofollow noreferrer\">this</a> tutorial for adding pods to multiple targets.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6606598, "user_type": "registered", "profile_image": "https://graph.facebook.com/1227644700599156/picture?type=large", "display_name": "Ashikul Hosen", "link": "https://stackoverflow.com/users/6606598/ashikul-hosen"}, "is_accepted": false, "score": -1, "last_activity_date": 1609828659, "last_edit_date": 1609828659, "creation_date": 1609333928, "answer_id": 65507528, "question_id": 57446642, "link": "https://stackoverflow.com/questions/57446642/how-to-add-notification-service-extension-for-firebase/65507528#65507528", "title": "How to add Notification Service Extension for Firebase?", "body": "<p><strong>You have to install the <code>'Firebase/Messaging'</code> pod first.</strong><br>\n<strong>Then add the following to the bottom of the pod file.</strong></p>\n<pre><code>target 'NotificationImage' do\n  inherit! :search_paths\nend\n</code></pre>\n<h3>If that does not work, please write in the following way:</h3>\n<pre><code>#Uncomment the following line if you want to add a global app version\n#platform :ios, '10.0'\n\ndef shared_pods\n  # your pods here\nend\n\ntarget 'YourProjectName' do\n  # Comment the next line if you're not using Swift and don't want to use dynamic frameworks\n  use_frameworks!\n  shared_pods\n\n  target 'YourNotificationExtensionName' do\n    inherit! :search_paths\n  end\nend\n</code></pre>\n"}], "owner": {"reputation": 6083, "user_id": 1736601, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/898ece53307a59a16aae6fe549c5283d?s=128&d=identicon&r=PG", "display_name": "atkayla", "link": "https://stackoverflow.com/users/1736601/atkayla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3440, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1609828659, "creation_date": 1565485187, "last_edit_date": 1565485920, "question_id": 57446642, "link": "https://stackoverflow.com/questions/57446642/how-to-add-notification-service-extension-for-firebase", "title": "How to add Notification Service Extension for Firebase?", "body": "<p>I am trying to follow the guide here: <a href=\"https://firebase.google.com/docs/cloud-messaging/ios/send-image\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/ios/send-image</a></p>\n\n<p>I went to New > Target > Notification Service Extension (embedded this new target into the original target) and pasted in <code>NotificationService.m</code>:</p>\n\n<pre><code>@interface NotificationService ()\n\n@property (nonatomic, strong) void (^contentHandler)(UNNotificationContent *contentToDeliver);\n@property (nonatomic, strong) UNMutableNotificationContent *bestAttemptContent;\n\n@end\n\n@implementation NotificationService\n\n- (void)didReceiveNotificationRequest:(UNNotificationRequest *)request withContentHandler:(void (^)(UNNotificationContent * _Nonnull))contentHandler {\n    self.contentHandler = contentHandler;\n    self.bestAttemptContent = [request.content mutableCopy];\n\n    // Modify the notification content here...\n    self.bestAttemptContent.title = [NSString stringWithFormat:@\"%@ [modified]\", self.bestAttemptContent.title];\n\n    // Call FIRMessaging extension helper API.\n    [[FIRMessaging extensionHelper] populateNotificationContent:self.bestAttemptContent\n                                             withContentHandler:contentHandler];\n\n    self.contentHandler(self.bestAttemptContent);\n}\n\n- (void)serviceExtensionTimeWillExpire {\n    // Called just before the extension will be terminated by the system.\n    // Use this as an opportunity to deliver your \"best attempt\" at modified content, otherwise the original push payload will be used.\n    self.contentHandler(self.bestAttemptContent);\n}\n\n@end\n</code></pre>\n\n<p>I am now getting <code>Use of undeclared identifier 'FIRMessaging' in NotificationService.m</code>.</p>\n\n<p>In <code>NotificationService.m</code> I tried to import similarly to my original target's <code>AppDelegate.m</code> where <code>FIRMessaging</code> is available and working with no issues:</p>\n\n<pre><code>#import \"NotificationService.h\"\n#import &lt;Firebase.h&gt;\n#import \"RNFirebaseNotifications.h\"\n#import \"RNFirebaseMessaging.h\"\n...\n</code></pre>\n\n<p>Then I get <code>'Firebase.h' file not found</code>. I am confused because it seems to work in the original target, and this notification service extension is embedded in that target. I have tried messing with <code>Header Search Paths</code> and <code>Framework Search Paths</code> without much luck. What am I doing wrong?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "cncontact", "cncontactstore"], "comments": [{"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 0, "creation_date": 1565868253, "post_id": 57442114, "comment_id": 101485461, "body": "Looks to be related to this new entitlement: <a href=\"https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_contacts_notes\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/bundleresources/entitlemen&zwnj;&#8203;ts/&hellip;</a>"}, {"owner": {"reputation": 1205, "user_id": 1250750, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Yn5CC.jpg?s=128&g=1", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1250750/plasma"}, "reply_to_user": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 0, "creation_date": 1565888126, "post_id": 57442114, "comment_id": 101494682, "body": "@Petesh that looks like exactly what it is, I really wish they made the changes more obvious. Also If I can&#39;t get an entitlement accepted for my app all, I&#39;ll need to employ a work around, at huge inconvenience to my customers. If you post the above as an answer I will accept it as a solution. Thanks for the info."}, {"owner": {"reputation": 1036, "user_id": 1414085, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/537864e51408b45a429d3c02df02bd0a?s=128&d=identicon&r=PG", "display_name": "haplo1384", "link": "https://stackoverflow.com/users/1414085/haplo1384"}, "edited": false, "score": 0, "creation_date": 1569948991, "post_id": 57442114, "comment_id": 102758251, "body": "@Plasma have you been able to get approved for this entitlement? We requested approval weeks ago and have heard nothing from Apple."}, {"owner": {"reputation": 1205, "user_id": 1250750, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Yn5CC.jpg?s=128&g=1", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1250750/plasma"}, "edited": false, "score": 1, "creation_date": 1569961225, "post_id": 57442114, "comment_id": 102762841, "body": "I applied for the entitlement, but was taking too long, so I redesigned my app so it doesn&#39;t need the entitlement, and managed to keep all the features. The update was accepted and I&#39;m all sorted, not sure it will be as easy for others but I wish you luck."}], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 1250750, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Yn5CC.jpg?s=128&g=1", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1250750/plasma"}, "edited": false, "score": 3, "creation_date": 1565887962, "post_id": 57508493, "comment_id": 101494609, "body": "Turns out its not a bug, see comment by @Petesh above and this link here .. <a href=\"https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_contacts_notes?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/bundleresources/entitlemen&zwnj;&#8203;ts/&hellip;</a>"}, {"owner": {"reputation": 1145, "user_id": 2910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3bfbe6f862c6a104cc9196c1270fe10?s=128&d=identicon&r=PG", "display_name": "benc", "link": "https://stackoverflow.com/users/2910/benc"}, "edited": false, "score": 0, "creation_date": 1610423941, "post_id": 57508493, "comment_id": 116121743, "body": "Wouldn&#39;t the bug be: give me an error message that says which key was the offending key?"}], "tags": [], "owner": {"reputation": 3653, "user_id": 456242, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/5367f6e6267323f95652e4ee11d0db1d?s=128&d=identicon&r=PG", "display_name": "Peter Johnson", "link": "https://stackoverflow.com/users/456242/peter-johnson"}, "is_accepted": false, "score": 8, "last_activity_date": 1581081447, "last_edit_date": 1581081447, "creation_date": 1565866047, "answer_id": 57508493, "question_id": 57442114, "link": "https://stackoverflow.com/questions/57442114/ios-13-cncontacts-no-longer-working-to-retrieve-all-contacts/57508493#57508493", "title": "IOS 13 CNContacts No Longer Working To Retrieve All Contacts", "body": "<p>For me this seemed to be caused by the presence of CNContactNoteKey in the \"keys to fetch\". Removing it restores functionality.</p>\n\n<p>I see you have CNContactNoteKey present, too.</p>\n\n<p>I have flagged this to Apple as a bug.</p>\n"}, {"comments": [{"owner": {"reputation": 1036, "user_id": 1414085, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/537864e51408b45a429d3c02df02bd0a?s=128&d=identicon&r=PG", "display_name": "haplo1384", "link": "https://stackoverflow.com/users/1414085/haplo1384"}, "edited": false, "score": 1, "creation_date": 1569948861, "post_id": 57516610, "comment_id": 102758199, "body": "have you been able to get approval for this entitlement? We requested permission using the link above weeks ago and we cannot get an answer from Apple."}, {"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "reply_to_user": {"reputation": 1036, "user_id": 1414085, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/537864e51408b45a429d3c02df02bd0a?s=128&d=identicon&r=PG", "display_name": "haplo1384", "link": "https://stackoverflow.com/users/1414085/haplo1384"}, "edited": false, "score": 2, "creation_date": 1569950875, "post_id": 57516610, "comment_id": 102758920, "body": "No, I&#39;ve heard nothing from apple, and it&#39;s not visible in the provisioning UI on the website, or in XCode. It appears to be a &#39;dropped the ball&#39; issue - I would suggest filing an issue about it."}, {"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "reply_to_user": {"reputation": 1036, "user_id": 1414085, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/537864e51408b45a429d3c02df02bd0a?s=128&d=identicon&r=PG", "display_name": "haplo1384", "link": "https://stackoverflow.com/users/1414085/haplo1384"}, "edited": false, "score": 2, "creation_date": 1570546583, "post_id": 57516610, "comment_id": 102942544, "body": "I filed a developer issue and the response was apply for permission to use the profile, and I expect if you get approved it will appear in the provisioning profile for the app, but otherwise will be unusable. In the interim I just nixed getting the notes field as it was not needed for my use case"}, {"owner": {"reputation": 1036, "user_id": 1414085, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/537864e51408b45a429d3c02df02bd0a?s=128&d=identicon&r=PG", "display_name": "haplo1384", "link": "https://stackoverflow.com/users/1414085/haplo1384"}, "edited": false, "score": 1, "creation_date": 1570558824, "post_id": 57516610, "comment_id": 102948240, "body": "Thanks @Petesh, we finally got in contact with the internal review team and they said they expect our review to be complete this week. Their reason for the delay was the number of requests they received."}, {"owner": {"reputation": 431, "user_id": 1720417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5e4fb70d2a2859836e6acf0e16e95d?s=128&d=identicon&r=PG", "display_name": "Vaibhav Misra", "link": "https://stackoverflow.com/users/1720417/vaibhav-misra"}, "edited": false, "score": 1, "creation_date": 1570672906, "post_id": 57516610, "comment_id": 102989494, "body": "Do enterprise apps need this request approved by Apple as well? I ask as the link says &quot;Before you can submit an app with this entitlement to the App Store, you must first get permission to use the entitlement.&quot;."}, {"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "reply_to_user": {"reputation": 431, "user_id": 1720417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5e4fb70d2a2859836e6acf0e16e95d?s=128&d=identicon&r=PG", "display_name": "Vaibhav Misra", "link": "https://stackoverflow.com/users/1720417/vaibhav-misra"}, "edited": false, "score": 0, "creation_date": 1571827023, "post_id": 57516610, "comment_id": 103367156, "body": "@VaibhavMisra I don&#39;t know. I have no experience with special entitlements for enterprise apps."}, {"owner": {"reputation": 161, "user_id": 2468765, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8109dbe55aa13bb6ce0662318cac0b1?s=128&d=identicon&r=PG", "display_name": "Michel Marqu&#233;s", "link": "https://stackoverflow.com/users/2468765/michel-marqu%c3%a9s"}, "edited": false, "score": 2, "creation_date": 1572345551, "post_id": 57516610, "comment_id": 103522511, "body": "Someone received answer for the request?"}], "tags": [], "owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "is_accepted": true, "score": 26, "last_activity_date": 1565905436, "creation_date": 1565905436, "answer_id": 57516610, "question_id": 57442114, "link": "https://stackoverflow.com/questions/57442114/ios-13-cncontacts-no-longer-working-to-retrieve-all-contacts/57516610#57516610", "title": "IOS 13 CNContacts No Longer Working To Retrieve All Contacts", "body": "<p>In iOS 13, apple have added a new entitlement that is needed if you wish to access the notes for contacts.\nThe entitlement is <a href=\"https://developer.apple.com/documentation/bundleresources/entitlements/com_apple_developer_contacts_notes\" rel=\"noreferrer\"><code>com.apple.developer.contacts.notes</code></a>. You can <a href=\"https://developer.apple.com/contact/request/contact-note-field\" rel=\"noreferrer\">request permission to use this entitlement</a> for an app being put in the App Store.</p>\n\n<p>The reason it was added is primarily for privacy reasons \u2014 the notes field can contain any information you might have on the contact; and a lot of times this information is significantly more sensitive than just the contact information.</p>\n\n<p>As of 2019-08-15, this entitlement sits in the beta category, which means it may be subject to change before the release of iOS 13, and the name of the entitlement will probably stabilize in it\u2019s presentation to the developer in Xcode.</p>\n"}, {"comments": [{"owner": {"reputation": 682, "user_id": 4059249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcef596e05a3b24eedd49b0c5433117a?s=128&d=identicon&r=PG&f=1", "display_name": "Halil \u0130brahim YILMAZ", "link": "https://stackoverflow.com/users/4059249/halil-%c4%b0brahim-yilmaz"}, "edited": false, "score": 0, "creation_date": 1573628534, "post_id": 58114868, "comment_id": 103938940, "body": "I have the same problem. Did you find any solution ?"}, {"owner": {"reputation": 181, "user_id": 3283808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2691cf7f1d1c5fa3ae0ee6b5c7542d6b?s=128&d=identicon&r=PG", "display_name": "Elano Vasconcelos", "link": "https://stackoverflow.com/users/3283808/elano-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1573829286, "post_id": 58114868, "comment_id": 104025834, "body": "you need to request the permission, it&#39;s the only way for now. <a href=\"https://developer.apple.com/contact/request/contact-note-field\" rel=\"nofollow noreferrer\">developer.apple.com/contact/request/contact-note-field</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 948440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d381fcb6e47dc0e01076489a8e3372?s=128&d=identicon&r=PG", "display_name": "user948440", "link": "https://stackoverflow.com/users/948440/user948440"}, "is_accepted": false, "score": 3, "last_activity_date": 1569502811, "last_edit_date": 1569502811, "creation_date": 1569493982, "answer_id": 58114868, "question_id": 57442114, "link": "https://stackoverflow.com/questions/57442114/ios-13-cncontacts-no-longer-working-to-retrieve-all-contacts/58114868#58114868", "title": "IOS 13 CNContacts No Longer Working To Retrieve All Contacts", "body": "<p>The latest <code>com.apple.developer.contacts.notes</code> entitlement for iOS 13 is not updated in Xcode as well as in-app id configuration in Apple developer portal. Currently, we are blocked because of the same. Can someone please let us know how to proceed with this. If we add <code>com.apple.developer.contacts.notes</code> manually to an entitlement, it throws an error which says:</p>\n\n<blockquote>\n  <p>Provisioning profile \"iOS Development Profile\" doesn't include the com.apple.developer.contacts.notes entitlement.</p>\n</blockquote>\n\n<p>Thanks,<br>\nSanath</p>\n"}], "owner": {"reputation": 1205, "user_id": 1250750, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Yn5CC.jpg?s=128&g=1", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1250750/plasma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3937, "favorite_count": 4, "accepted_answer_id": 57516610, "answer_count": 3, "score": 17, "last_activity_date": 1581081447, "creation_date": 1565439738, "last_edit_date": 1565440343, "question_id": 57442114, "link": "https://stackoverflow.com/questions/57442114/ios-13-cncontacts-no-longer-working-to-retrieve-all-contacts", "title": "IOS 13 CNContacts No Longer Working To Retrieve All Contacts", "body": "<p>I have an app that has worked perfectly well with the CNContacts framework all the way up to IOS 12. I'm currently testing it with IOS 13 beta and its completely broken. I've checked the contacts permissions and deleted the app and re-allowed the permissions. This is the code I'm using to retrieve all contacts:</p>\n\n<pre><code>NSError* error;\n\nCNContactStore *store = [[CNContactStore alloc]init];\n\n[store containersMatchingPredicate:[CNContainer predicateForContainersWithIdentifiers: @[store.defaultContainerIdentifier]] error:&amp;error];\n\nNSArray *keysToFetch =@[CNContactGivenNameKey, CNContactEmailAddressesKey, CNContactNoteKey];\n\nCNContactFetchRequest *request = [[CNContactFetchRequest alloc]initWithKeysToFetch:keysToFetch];\n\nBOOL success = [store enumerateContactsWithFetchRequest:request error:&amp;error usingBlock:^(CNContact * __nonnull contact, BOOL * __nonnull stop){\n\n       NSLog(@\"Contact Found: %@\", contact.givenName);\n\n}];\n</code></pre>\n\n<p>The contact store builds fine, and the error is nil. However when I then try to get the contacts via the fetch request I get <strong>success=NO</strong> and I receive the following error:</p>\n\n<pre><code>Error Domain=CNErrorDomain Code=102 \"(null)\" UserInfo={CNKeyPaths=(\n    note\n), CNInvalidRecords=(\n    \"&lt;CNContactFetchRequest: 0x60000189aa00: predicate=(null), keysToFetch=(\\n    givenName,\\n    emailAddresses,\\n    note\\n), unifyResults=1, sortOrder=0&gt;\"\n</code></pre>\n\n<p>I've tried various tweaks but I cannot get this to work at all. I also can't find any documentation to say this has behaviour has been changed.</p>\n\n<p>Has anyone else also tried this or found a work around?</p>\n"}, {"tags": ["objective-c", "xcode", "certificate", "keychain"], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "is_accepted": false, "score": -1, "last_activity_date": 1565712361, "creation_date": 1565712361, "answer_id": 57481552, "question_id": 57440557, "link": "https://stackoverflow.com/questions/57440557/how-to-store-a-cer-file-in-the-keychain-macos-objective-c/57481552#57481552", "title": "How to store a .cer file in the keychain macOS (objective c)", "body": "<p>Simple. After downloading the .cer file you just double-click it, that should register it in the Keychain application.  If that doesn't work, then just open Keychain, to my Certificates, and drag and drop it into the list.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 5743415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94ea1663453d0831d0ffce0695177390?s=128&d=identicon&r=PG&f=1", "display_name": "zealer", "link": "https://stackoverflow.com/users/5743415/zealer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565903444, "creation_date": 1565903444, "answer_id": 57516290, "question_id": 57440557, "link": "https://stackoverflow.com/questions/57440557/how-to-store-a-cer-file-in-the-keychain-macos-objective-c/57516290#57516290", "title": "How to store a .cer file in the keychain macOS (objective c)", "body": "<p>sorry, but I mean by code (objective C). This should be a MAC OS app which generates a CSR based of a private/public key.</p>\n\n<p>I used this sample <a href=\"https://github.com/ateska/ios-csr/\" rel=\"nofollow noreferrer\">https://github.com/ateska/ios-csr/</a>, but when I check the csr generated with this code, it has an invalid signature. why?</p>\n"}], "owner": {"reputation": 11, "user_id": 2265382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbf41e38f8767ead2cda1b4dc9fab16?s=128&d=identicon&r=PG", "display_name": "user2265382", "link": "https://stackoverflow.com/users/2265382/user2265382"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565903444, "creation_date": 1565425400, "last_edit_date": 1565552338, "question_id": 57440557, "link": "https://stackoverflow.com/questions/57440557/how-to-store-a-cer-file-in-the-keychain-macos-objective-c", "title": "How to store a .cer file in the keychain macOS (objective c)", "body": "<p>I need to store a root certificate (for the browser) in the keychain of macOS with an application built in Objective C. Is there an example of how to do this?</p>\n"}, {"tags": ["ios", "objective-c", "storyboard"], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "edited": false, "score": 0, "creation_date": 1565860322, "post_id": 57507178, "comment_id": 101482642, "body": "You may understand wrong, I need to refactor the viewcontroller in the storyboard, what I need is to move the existing viewcontroller to other storyboards."}, {"owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "edited": false, "score": 0, "creation_date": 1565860670, "post_id": 57507178, "comment_id": 101482762, "body": "I found a solution, directly select &quot;View Controller Scene&quot; to copy, and then paste it in other storyboard, and finally delete the original. Finally, I have to close this question."}], "tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1565859253, "creation_date": 1565859253, "answer_id": 57507178, "question_id": 57438703, "link": "https://stackoverflow.com/questions/57438703/ios-the-viewcontrollers-in-the-storyboard-are-grouped-into-another-storyboard/57507178#57507178", "title": "iOS The viewcontrollers in the storyboard are grouped into another storyboard", "body": "<p>Yes you can.</p>\n\n<p>This is a good way to write codes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/braM5.png\" rel=\"nofollow noreferrer\">group multiple viewcontrollers in the Storyboard</a></p>\n"}], "owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565861740, "creation_date": 1565401818, "last_edit_date": 1565861740, "question_id": 57438703, "link": "https://stackoverflow.com/questions/57438703/ios-the-viewcontrollers-in-the-storyboard-are-grouped-into-another-storyboard", "title": "iOS The viewcontrollers in the storyboard are grouped into another storyboard", "body": "<h3>The answer I found after a week</h3>\n\n<p>I am trying to copy a storyboard's cell to another cell and it succeeds. Then I thought if it would work if I copied the viewcontroller directly to another storyboard, the answer is yes. I am very sorry that I can't upload the image details.</p>\n\n<p>This is the step:</p>\n\n<ul>\n<li><p>1\u3001Select <code>View Controller Scene</code> in the <code>storyboard</code> and copy it.</p></li>\n<li><p>2\u3001To another <code>storyboard</code> you need to move to, paste</p></li>\n<li>3\u3001Delete the <code>View Controller Scene</code> in the <code>storyboard</code> in the first step.</li>\n</ul>\n\n<p>If you have other answers, please give me the answer, thank you very much.</p>\n\n<hr>\n\n<p><strong>The following is my original question</strong></p>\n\n<p>Before the storyboard didn't divide the business, many different business pages were in a storyboard, and now I want to group them out. Grouped into multiple storyboards by business, just like folder grouping.</p>\n\n<h3>Example:</h3>\n\n<p><code>A.storyboard</code> contains <code>a.viewcontroller</code>, <code>b.viewcontroller</code>, <code>c.viewcontroller</code>, <code>d.viewcontroller</code></p>\n\n<p>Because of business needs, you need to group <code>a.viewcontroller</code>, <code>b.viewcontroller</code> to <code>B.storyboard</code>.</p>\n\n<h3>Some methods</h3>\n\n<p>I noticed a feature of <code>Xcode</code>, <code>Editor -&gt; Refactor to Storyboard</code>, which narrows the selected <code>viewcontroller</code> to a reference tag and points to another <code>Storyboard</code>. But this can only be done by grouping a <code>viewcontroller</code> into a <code>Storyboard</code>. It is not possible to group multiple <code>viewcontroller</code>s into a <code>Storyboard</code>.</p>\n\n<p>So can I group multiple <code>viewcontroller</code>s in the current <code>Storyboard</code> to another <code>Storyboard</code>? Do you need to start with <code>Source Code</code>? If you know the method, please let me know, thank you very much.</p>\n"}, {"tags": ["objective-c", "swift", "extension-methods", "cgimage"], "answers": [{"comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 2, "creation_date": 1565387449, "post_id": 57437382, "comment_id": 101352468, "body": "For reference, compare with how you use CoreGraphics types in ObjC/C. All APIs are C free functions that take instances as a parameter, not ObjC method calls."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 4, "last_activity_date": 1565386714, "creation_date": 1565386714, "answer_id": 57437382, "question_id": 57437139, "link": "https://stackoverflow.com/questions/57437139/using-a-swift-extension-method-in-objective-c/57437382#57437382", "title": "Using a Swift extension method in Objective-C", "body": "<p>The error tells all. <code>CGImage</code> isn't a class in Objective-C. You can't use a Swift extension to <code>CGImage</code> in Objective-C. You can only use a Swift extension in Objective-C if the Swift extension is on something that is a class in Objective-C.</p>\n\n<p>In short, there is no way you can use your <code>someFunction</code> in your <code>CGImage</code> extension in your Objective-C code.</p>\n"}], "owner": {"reputation": 81, "user_id": 3470496, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b84b46970d9f7e93e22de1a5db88c47f?s=128&d=identicon&r=PG&f=1", "display_name": "user3470496", "link": "https://stackoverflow.com/users/3470496/user3470496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 57437382, "answer_count": 1, "score": 0, "last_activity_date": 1565387660, "creation_date": 1565385012, "last_edit_date": 1565387660, "question_id": 57437139, "link": "https://stackoverflow.com/questions/57437139/using-a-swift-extension-method-in-objective-c", "title": "Using a Swift extension method in Objective-C", "body": "<p>I have an objective-c project which includes a swift file. I've created the bridging header and imported the ProjectSwift.h into the main file etc. </p>\n\n<p>I am trying to use methods from the extensions stored in the Swift file, but am confused by the syntax. When it was class methods I used @objc in front of my Swift methods, but currently with the extensions I have no @objc or @nonobjc (when I put @objc in front of the extension declaration I got: </p>\n\n<blockquote>\n  <p>Method cannot be in an @objc extension of a class (without @nonobjc) because Core Foundation types are not classes in Objective-C</p>\n</blockquote>\n\n<p>And if I tried @objc in front of individual methods I got:</p>\n\n<blockquote>\n  <p>Method cannot be marked @objc because Core Foundation types are not classes in Objective-C</p>\n</blockquote>\n\n<p>My Swift code:</p>\n\n<pre><code>extension CGImage {\n    public func someFunction(var1: Int, var2: Int){\n        return someThing(someVariables)\n    }\n}\n</code></pre>\n\n<p>My Objective-C:</p>\n\n<pre><code>#import \"MyProject-Swift.h\"\n\nCGImage *temp = someFunction(var1, var2);//Must use 'struct' tag to refer to type 'CGImage'\n\n#import \"MyProject-Swift.h\"\n\nstruct CGImage *temp = someFunction(var1, var2); //Implicit declaration of function 'someFunction' is invalid in C99\n</code></pre>\n\n<p>And the method is not showing up with autocomplete so I'm guessing I'm screwing up the syntax in my ObjC code or I need some different extension version of @objc in my Swift code.</p>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 1, "creation_date": 1565375250, "post_id": 57435373, "comment_id": 101348557, "body": "Don&#39;t use <code>[NSData dataWithContentsOfURL:]</code>. Use <code>NSURLSession</code> and <code>NSURLSessionDataTask</code>s instead, and the set <code>cachePolicy</code> for your requests."}, {"owner": {"reputation": 53, "user_id": 1872522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jez09.jpg?s=128&g=1", "display_name": "magero", "link": "https://stackoverflow.com/users/1872522/magero"}, "reply_to_user": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 0, "creation_date": 1565416537, "post_id": 57435373, "comment_id": 101356223, "body": "Thx. i will try that."}], "owner": {"reputation": 53, "user_id": 1872522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jez09.jpg?s=128&g=1", "display_name": "magero", "link": "https://stackoverflow.com/users/1872522/magero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1565416577, "answer_count": 0, "score": 0, "last_activity_date": 1569395926, "creation_date": 1565374965, "last_edit_date": 1569395926, "question_id": 57435373, "link": "https://stackoverflow.com/questions/57435373/how-i-can-implement-nsurlrequest-to-clear-old-cache-data", "closed_reason": "Duplicate", "title": "How i can implement NSURLRequest to clear old cache data?", "body": "<p>I successfully load plist from URL server, but cache holds old data. Here is my code to load plist, how can I implement NSURLRequest to clear old cache data? Or do I need to try another approach?</p>\n\n<p>This question partially answer this problem: <a href=\"https://stackoverflow.com/questions/11235883/downloading-plist-but-seem-to-get-a-cached-version-every-time#_=_\">https://stackoverflow.com/questions/11235883/downloading-plist-but-seem-to-get-a-cached-version-every-time#<em>=</em></a></p>\n\n<pre><code>NSString *stringURL = @\"https://web.com/myPlist.plist\";\n\nNSURL  *url = [NSURL URLWithString:stringURL];\nNSData *urlData = [NSData dataWithContentsOfURL:url];\nNSArray   *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString  *documentsDirectory = [paths objectAtIndex:0];\nNSString  *plistPath = [NSString stringWithFormat:@\"%@/%@\", documentsDirectory,@\"myPlist.plist\"];\n[urlData writeToFile:plistPath atomically:YES];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "react-native", "react-native-ios"], "owner": {"reputation": 91, "user_id": 5733585, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SsjeTFH-zhw/AAAAAAAAAAI/AAAAAAAACOA/iRh-pYsBuW8/photo.jpg?sz=128", "display_name": "Code_Art", "link": "https://stackoverflow.com/users/5733585/code-art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565370703, "creation_date": 1565370703, "question_id": 57434551, "link": "https://stackoverflow.com/questions/57434551/how-to-integrate-gigya-swift-sdk-in-to-react-native-project", "title": "How to integrate GIGYA SWIFT SDK in to react-native project?", "body": "<p>I am working on react-native 0.60.4 mobile app, where I need to integrate Gigya Swift SDK v1 to my app as a native module of iOS. As, RN creates iOS project using Objective-C and I supposed to integrate the Swift sdk, I don't understand how to add Gigya's active references into <code>AppDelegate.swift</code>?</p>\n\n<p>To convert Objective-C project into swift, I added <code>AppDelegate.swift</code> and related <code>ProjectName-Bridging-Header.h</code>. Removed default files created by react native <code>init</code> command: <code>AppDelegate.h</code>, <code>AppDelegate.m</code> and <code>main.m</code>. Import Gigya framework into project. Added it's references into <code>AppDelegate.swift</code>. </p>\n\n<p>To use Gigya's methods, I have created <code>gigyamanager.swift</code> and <code>gigyamanagerbridge.swift</code>. </p>\n\n<p>Just to confirm this setup will work, created one function into GigyaManager.swift as follow and call <code>RCT_EXTERN_METHOD</code> in GigyaManagerBridge.h. </p>\n\n<p>I am trying to log the reference from App.js as follow. and result is <code>undefined</code></p>\n\n<p>AppDelegate.swift</p>\n\n<pre><code>import Gigya\n@objc(AppDelegate)\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n...\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {\n...\n  Gigya.sharedInstance()\n  Gigya.sharedInstance(GigyaAccount.self)\n  return true\n}\n</code></pre>\n\n<p>ProjectName-Bridging-Header.h</p>\n\n<pre><code>#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n#import Gigya\n</code></pre>\n\n<p>GigyaManager.swift</p>\n\n<pre><code>import Gigya\n@objc(GigyaManager)\nclass GigyaManager: NSObject {\n   @objc\n  func constantsToExport() -&gt; [AnyHashable : Any]! {\n    return [\"initialCount\": 0]\n  }\n}\n</code></pre>\n\n<p>GigyaManagerBridge.m</p>\n\n<pre><code>#import \"React/RCTBridgeModule.h\"\n@interface RCT_EXTERN_MODULE(GigyaManager, NSObject)\n@end\n</code></pre>\n\n<p>App.js</p>\n\n<pre><code>import { NativeModules } from 'react-native'\nconsole.log(NativeModules.GigyaManager)\n</code></pre>\n\n<p>I have added Gigya's API key and domain in info.plist file as <code>string</code></p>\n\n<p>Expected result in console should be,</p>\n\n<pre><code>initialCount:0\n</code></pre>\n\n<p>And I am getting <code>undefined</code></p>\n\n<p>Is there a way if I can add Gigya's active references into GIgyaManager.swift rether than AppDelegate.swift and allowed to keep default <code>AppDelegate.m</code>, <code>AppDelegate.h</code> and <code>main.m</code>?</p>\n"}, {"tags": ["ios", "objective-c", "autolayout"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11864858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f494a796eb36f8939f4c6bec9d37a4a?s=128&d=identicon&r=PG&f=1", "display_name": "name to be displayed ", "link": "https://stackoverflow.com/users/11864858/name-to-be-displayed"}, "edited": false, "score": 0, "creation_date": 1565366619, "post_id": 57432656, "comment_id": 101345299, "body": "It&#39;s a little too complicated for a stack view"}, {"owner": {"reputation": 12055, "user_id": 385017, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/IJ6nn.png?s=128&g=1", "display_name": "Craig Siemens", "link": "https://stackoverflow.com/users/385017/craig-siemens"}, "reply_to_user": {"reputation": 33, "user_id": 11864858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f494a796eb36f8939f4c6bec9d37a4a?s=128&d=identicon&r=PG&f=1", "display_name": "name to be displayed ", "link": "https://stackoverflow.com/users/11864858/name-to-be-displayed"}, "edited": false, "score": 0, "creation_date": 1565375169, "post_id": 57432656, "comment_id": 101348522, "body": "Then you&#39;ll need to add more information to your question about why it&#39;s too complicated. The question is very light on details about the view you&#39;re trying to build."}], "tags": [], "owner": {"reputation": 12055, "user_id": 385017, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/IJ6nn.png?s=128&g=1", "display_name": "Craig Siemens", "link": "https://stackoverflow.com/users/385017/craig-siemens"}, "is_accepted": false, "score": 1, "last_activity_date": 1565362621, "creation_date": 1565362621, "answer_id": 57432656, "question_id": 57432564, "link": "https://stackoverflow.com/questions/57432564/working-with-constraints-in-storyboard-and-code/57432656#57432656", "title": "Working with constraints in storyboard and code", "body": "<p>I'd try putting your views inside of a <code>UIStackView</code>. It automatically repositions views when the <code>isHidden</code> property changes on one of them to take up the empty space.</p>\n"}], "owner": {"reputation": 33, "user_id": 11864858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f494a796eb36f8939f4c6bec9d37a4a?s=128&d=identicon&r=PG&f=1", "display_name": "name to be displayed ", "link": "https://stackoverflow.com/users/11864858/name-to-be-displayed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565363859, "creation_date": 1565362304, "last_edit_date": 1565363859, "question_id": 57432564, "link": "https://stackoverflow.com/questions/57432564/working-with-constraints-in-storyboard-and-code", "title": "Working with constraints in storyboard and code", "body": "<p>I have a button and a view, when the button is not appearing I want the view to be extended (using top constraint) to fill up the white space, the button appears I want the view to shrink to make room for the button. The problem is I am getting this error:</p>\n\n<blockquote>\n  <p>failed: caught \"NSInvalidArgumentException\", \"NSLayoutConstraint for (null): Constraint must contain a first layout item\"</p>\n</blockquote>\n\n<p>I set constraints in storyboard, and declare the top constraint by this:</p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet NSLayoutConstraint *containerTopConstraint;\n</code></pre>\n\n<p>This is how I change the value of the constraints:</p>\n\n<pre><code>[_containerTopConstraint setConstant:20];\n</code></pre>\n\n<p>How can I fix this error?</p>\n"}, {"tags": ["ios", "objective-c", "crash", "crash-reports"], "comments": [{"owner": {"reputation": 2445, "user_id": 288405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acea97b0bc1f223b24db816ab3dd8e46?s=128&d=identicon&r=PG", "display_name": "Mattie", "link": "https://stackoverflow.com/users/288405/mattie"}, "edited": false, "score": 0, "creation_date": 1565978006, "post_id": 57431844, "comment_id": 101524273, "body": "Hopefully this answer is helpful <a href=\"https://stackoverflow.com/questions/54648806/intercepting-crashes-on-ios/54650600#54650600\" title=\"intercepting crashes on ios\">stackoverflow.com/questions/54648806/&hellip;</a>. I&#39;m afraid on top of poor-quality backtraces, you cannot safely call <code>backtrace</code>, <code>backtrace_symbols</code> or even use ObjC from inside a signal handler :( Check out <code>man sigaction</code> for details."}], "answers": [{"tags": [], "owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1565372594, "creation_date": 1565372594, "answer_id": 57434909, "question_id": 57431844, "link": "https://stackoverflow.com/questions/57431844/backtrace-miss-the-function-that-caused-a-crash/57434909#57434909", "title": "backtrace miss the function that caused a crash", "body": "<p>Since this is a very simple method with no arguments and no ARC heavylifting inside clang the Objective-C compiler is able to do an optimization (<code>-O1</code> is enough to achieve that) of <strong>removing the message runtime call</strong>.</p>\n\n<p>You can prevent this behavior with:</p>\n\n<pre><code>+ (void)testCrash __attribute__((optnone))\n{\n    int *nullPointer = NULL;\n    *nullPointer = 2019;\n}\n</code></pre>\n\n<p>The lesson learnt here is you should never rely on particular stacktrace to achieve something during your program execution. Diagnostics is fine as long as you understand the optimizing principles you've just encountered.  </p>\n"}], "owner": {"reputation": 1464, "user_id": 1263423, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/addbbce2a4ece44489dddf6632b116d4?s=128&d=identicon&r=PG", "display_name": "wangqi060934", "link": "https://stackoverflow.com/users/1263423/wangqi060934"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565372594, "creation_date": 1565359678, "question_id": 57431844, "link": "https://stackoverflow.com/questions/57431844/backtrace-miss-the-function-that-caused-a-crash", "title": "backtrace miss the function that caused a crash", "body": "<p>I use <strong>backtrace</strong> and <strong>backtrace_symbols</strong> to collect the call stack when my app crashed.</p>\n\n<pre><code>void InstallSignalHandler(void)\n{\n    signal(SIGHUP, SignalExceptionHandler);\n    signal(SIGINT, SignalExceptionHandler);\n    signal(SIGQUIT, SignalExceptionHandler);\n    signal(SIGABRT, SignalExceptionHandler);\n    signal(SIGILL, SignalExceptionHandler);\n    signal(SIGSEGV, SignalExceptionHandler);\n    signal(SIGFPE, SignalExceptionHandler);\n    signal(SIGBUS, SignalExceptionHandler);\n    signal(SIGPIPE, SignalExceptionHandler);\n}\nvoid SignalExceptionHandler(int signal)\n{\n    NSMutableString *mstr = [[NSMutableString alloc] init];\n    [mstr appendString:@\"Stack:\\n\"];\n    void* callstack[128];\n    int i, frames = backtrace(callstack, 128);\n    char** strs = backtrace_symbols(callstack, frames);\n    for (i = 0; i &lt;frames; ++i) {\n        [mstr appendFormat:@\"%s\\n\", strs[i]];\n    }\n    NSLog(@\"%@\", mstr);\n    free(strs);\n}\n</code></pre>\n\n<p>When I check the log in console, I just find the log miss the function that caused the crash.The function is:</p>\n\n<pre><code>+ (void)testCrash\n{\n    int *nullPointer = NULL;\n    *nullPointer = 2019;\n}\n</code></pre>\n\n<p>And the log in console is:</p>\n\n<pre><code>0   TestApp                             0x0000000101d1e040 SignalExceptionHandler + 160\n1   libsystem_platform.dylib            0x000000011002bb5d _sigtramp + 29\n2   ???                                 0x0000000000000000 0x0 + 0\n3   TestApp                             0x00000001019bbc6f __39+[MyCrashTesting showInViewController:]_block_invoke + 303\n4   UIKit                               0x000000010b09a559 -[UIAlertController _invokeHandlersForAction:] + 105\n5   UIKit                               0x000000010b09af5e __103-[UIAlertController _dismissAnimated:triggeringAction:triggeredByPopoverDimmingView:dismissCompletion:]_block_invoke.461 + 16\n6   UIKit                               0x000000010ae42ca2 -[UIPresentationController transitionDidFinish:] + 1346\n7   UIKit                               0x000000010ae46b12 __56-[UIPresentationController runTransitionForCurrentState]_block_invoke.436 + 183\n8   UIKit                               0x000000010ba2a3b4 -[_UIViewControllerTransitionContext c\n</code></pre>\n\n<p>I have thought the function name \"testCrash\" should be in the top of the log. Does I do something wrong?</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "is_accepted": true, "score": 1, "last_activity_date": 1565360185, "creation_date": 1565360185, "answer_id": 57431975, "question_id": 57431711, "link": "https://stackoverflow.com/questions/57431711/how-to-convert-hexstring-nsstring-to-bytearray-objective-c/57431975#57431975", "title": "How to convert HEXString (NSString) to ByteArray Objective-C", "body": "<p>So it seems this returns the format I need.     </p>\n\n<pre><code>NSString * inputStr = @\"11111bfb\";\n\n\n    NSMutableArray *charByteArray = [[NSMutableArray alloc]initWithCapacity:1];\n    int i = 0;\n    for (i = 0; i+2 &lt;= inputStr.length; i+=2) {\n\n        NSRange range = NSMakeRange(i, 2);\n        NSString* charStr = [inputStr substringWithRange:range];\n        [charByteArray addObject:[NSString stringWithFormat:@\"0x%@\",charStr]];\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1565360543, "accepted_answer_id": 57431975, "answer_count": 1, "score": 0, "last_activity_date": 1565360185, "creation_date": 1565359198, "question_id": 57431711, "link": "https://stackoverflow.com/questions/57431711/how-to-convert-hexstring-nsstring-to-bytearray-objective-c", "closed_reason": "Duplicate", "title": "How to convert HEXString (NSString) to ByteArray Objective-C", "body": "<p>I have a string and I'm trying to break it up and add it to an NSArray.  I've recently moved from Java (android) to iOS...  I wrote a java function which converted a hexString/string to a byte array.   I can't see an obvious way to do it with objective-c.   Not sure what I've attempted is even close to achieving what I need.</p>\n\n<p>Heres my string</p>\n\n<pre><code> NSString *code = @\"11111bfb\";\n</code></pre>\n\n<p>This is the output I hope to achieve</p>\n\n<pre><code> NSArray *codeArray = @[@0x11, @0x11, @0x1b, @0xfb];\n</code></pre>\n\n<p>Method</p>\n\n<pre><code>- (NSData *)dataFromHexString:(NSString *) string {\n    if([string length] % 2 == 1){\n        string = [@\"0x\"stringByAppendingString:string];\n    }\n\nconst char *chars = [string UTF8String];\nint i = 0, len = (int)[string length];\n\nNSMutableData *data = [NSMutableData dataWithCapacity:len / 2];\nchar byteChars[4] = {'\\0','\\0','\\0','\\0'};\nunsigned long wholeByte;\n\nwhile (i &lt; len) {\n    byteChars[0] = chars[i++];\n    byteChars[1] = chars[i++];\n    wholeByte = strtoul(byteChars, NULL, 16);\n    [data appendBytes:&amp;wholeByte length:1];\n}\nreturn data;\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": false, "score": 0, "last_activity_date": 1565342804, "creation_date": 1565342804, "answer_id": 57427122, "question_id": 57426215, "link": "https://stackoverflow.com/questions/57426215/identifierforvendor-changed-when-updating-new-version-of-app-on-older-version-w/57427122#57427122", "title": "identifierForVendor changed when updating new version of app on older version. Why?", "body": "<p>Try read apple's documentation more carefully: </p>\n\n<blockquote>\n  <p>Normally, the vendor is determined by data provided by the App Store.\n  If the app was not installed from the app store (such as enterprise\n  apps and apps still in development), then a vendor identifier is\n  calculated based on the app\u2019s bundle ID. The bundle ID is assumed to\n  be in reverse-DNS format.</p>\n</blockquote>\n\n<p>Try download old version from Appstore and new version from Appstore: result will be the same. It's not big deal the version from appstore and from tesflight have different identifiers for vendor.</p>\n"}], "owner": {"reputation": 1, "user_id": 11345088, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Uh8VzdCcXK4/AAAAAAAAAAI/AAAAAAAAAAc/hwLJgGT-H9Y/photo.jpg?sz=128", "display_name": "Vinod Chauhan", "link": "https://stackoverflow.com/users/11345088/vinod-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565342804, "creation_date": 1565339350, "question_id": 57426215, "link": "https://stackoverflow.com/questions/57426215/identifierforvendor-changed-when-updating-new-version-of-app-on-older-version-w", "title": "identifierForVendor changed when updating new version of app on older version. Why?", "body": "<p>I have downloaded my app version 1.8.8 from Appstore and after that i have update this app by downloading a new version of app from Testflight.\nThen the issue begins according to the Apple Documentation identifierForVendor will not change when updating app.\nBut here my app's identifierForVendor changed after updation due to which user logged out from app.</p>\n\n<p>I have tried for Testflight builds i.e, downloaded old build 1.8.8 from Testflight and logged in after that update it from newer version available on Testflight and it's working fine. But if i download the Appstore build and then update the build provided on Testflight then identifierForVendor changed and user logged out.</p>\n\n<p>User shouldn't logout if updating the app from Testflight with same environment.</p>\n"}, {"tags": ["ios", "objective-c", "qr-code", "avaudioplayer"], "comments": [{"owner": {"reputation": 955, "user_id": 996796, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/13d2c0c0ead91c505a94f0f88b4a63be?s=128&d=identicon&r=PG", "display_name": "Ravi Sharma", "link": "https://stackoverflow.com/users/996796/ravi-sharma"}, "edited": false, "score": 0, "creation_date": 1565335412, "post_id": 57425166, "comment_id": 101328840, "body": "Which library you are using for detecting the QR code? it&#39;s better if you can add the code in the question body."}, {"owner": {"reputation": 961, "user_id": 7726363, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KPqwNyjWZ0A/AAAAAAAAAAI/AAAAAAAAG44/kEg-0fSWhfA/photo.jpg?sz=128", "display_name": "Ayush Malviya", "link": "https://stackoverflow.com/users/7726363/ayush-malviya"}, "reply_to_user": {"reputation": 955, "user_id": 996796, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/13d2c0c0ead91c505a94f0f88b4a63be?s=128&d=identicon&r=PG", "display_name": "Ravi Sharma", "link": "https://stackoverflow.com/users/996796/ravi-sharma"}, "edited": false, "score": 0, "creation_date": 1565335754, "post_id": 57425166, "comment_id": 101329000, "body": "I am just using AVFoundation.framework. Sure I add the code"}, {"owner": {"reputation": 961, "user_id": 7726363, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KPqwNyjWZ0A/AAAAAAAAAAI/AAAAAAAAG44/kEg-0fSWhfA/photo.jpg?sz=128", "display_name": "Ayush Malviya", "link": "https://stackoverflow.com/users/7726363/ayush-malviya"}, "reply_to_user": {"reputation": 955, "user_id": 996796, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/13d2c0c0ead91c505a94f0f88b4a63be?s=128&d=identicon&r=PG", "display_name": "Ravi Sharma", "link": "https://stackoverflow.com/users/996796/ravi-sharma"}, "edited": false, "score": 0, "creation_date": 1565336275, "post_id": 57425166, "comment_id": 101329249, "body": "@RaviSharma I have added the code"}], "answers": [{"tags": [], "owner": {"reputation": 955, "user_id": 996796, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/13d2c0c0ead91c505a94f0f88b4a63be?s=128&d=identicon&r=PG", "display_name": "Ravi Sharma", "link": "https://stackoverflow.com/users/996796/ravi-sharma"}, "is_accepted": true, "score": -1, "last_activity_date": 1565336995, "creation_date": 1565336995, "answer_id": 57425654, "question_id": 57425166, "link": "https://stackoverflow.com/questions/57425166/audio-not-playing-until-moving-the-camera-away-from-qr-code-ios/57425654#57425654", "title": "Audio not playing until moving the camera away from Qr code - iOS", "body": "<p>Don't initialise the <code>AVAudioPlayer</code> in this <code>AVFoundation</code> delegate method, Load the player with sound file before scanning start.</p>\n\n<pre><code>(void)loadSound{\n    NSString *beepFilePath = [[NSBundle mainBundle] pathForResource:@\"cbp\" ofType:@\"mp3\"];\n    NSURL *beepURL = [NSURL URLWithString:beepFilePath];\n    NSError *error;\n\n    _audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:beepURL error:&amp;error];\n    if (error) {\n        NSLog(@\"Could not play sound file.\");\n        NSLog(@\"%@\", [error localizedDescription]);\n    }\n    else{\n        [_audioPlayer prepareToPlay];\n    }\n}\n</code></pre>\n\n<p>You can call <code>loadSound()</code> function in <code>viewWillAppear()</code> method.And your <code>AVFoundation</code> delegate method will look like this:-</p>\n\n<pre><code>(void)captureOutput:(AVCaptureOutput *)captureOutput\ndidOutputMetadataObjects:(NSArray *)metadataObjects fromConnection(AVCaptureConnection *)connection{\nNSString *detected=@\"\";\n\nif (metadataObjects != nil &amp;&amp; [metadataObjects count] &gt; 0) {\n\n    AVMetadataMachineReadableCodeObject *metadataObj = [metadataObjects objectAtIndex:0];\n\n    if ([[metadataObj type] isEqualToString:AVMetadataObjectTypeQRCode]) {\n        detected=[NSString stringWithString:[metadataObj stringValue]];    \n\n        if (_audioPlayer) {\n            [_audioPlayer play];\n        }\n    }\n}\n}\n</code></pre>\n\n<p>try this.</p>\n"}], "owner": {"reputation": 961, "user_id": 7726363, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KPqwNyjWZ0A/AAAAAAAAAAI/AAAAAAAAG44/kEg-0fSWhfA/photo.jpg?sz=128", "display_name": "Ayush Malviya", "link": "https://stackoverflow.com/users/7726363/ayush-malviya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 57425654, "answer_count": 1, "score": -1, "last_activity_date": 1565336995, "creation_date": 1565335043, "last_edit_date": 1565336234, "question_id": 57425166, "link": "https://stackoverflow.com/questions/57425166/audio-not-playing-until-moving-the-camera-away-from-qr-code-ios", "title": "Audio not playing until moving the camera away from Qr code - iOS", "body": "<p>I am new to <code>iOS</code> <code>development</code> and I am developing an app in which I want to play some audios when the <code>QR code</code> gets detected. I am able to detect the <code>QR code</code> and also play the audios but the thing is the audio-only plays when I move the camera away from <code>QR code</code>. So, if I am pointing the camera towards <code>QR code</code> it does not play the audio but as soon as I move the camera (i.e. no <code>QR code</code> is getting detected) the audio starts playing. I don't want this behavior I want audio to play as soon as <code>QR code</code> gets detected. Any suggestion would be great as I have just started <code>iOS</code> <code>development</code> 2 3 days back. Thanks.</p>\n\n<pre><code>-(void)captureOutput:(AVCaptureOutput *)captureOutput\ndidOutputMetadataObjects:(NSArray *)metadataObjects fromConnection(AVCaptureConnection *)connection{\n\n\n\nNSString *detected=@\"\";\n\n\n\nif (metadataObjects != nil &amp;&amp; [metadataObjects count] &gt; 0) {\n\n\n\n    AVMetadataMachineReadableCodeObject *metadataObj = [metadataObjects objectAtIndex:0];\n\n\n\n    if ([[metadataObj type] isEqualToString:AVMetadataObjectTypeQRCode]) {\n\n\n        detected=[NSString stringWithString:[metadataObj stringValue]];\n\n        NSString *path =  [[NSBundle mainBundle] pathForResource:@\"cbp\"  ofType:@\"mp3\"];\n\n        NSURL *url = [NSURL URLWithString:path];\n\n\n\n        _audioPlayer = [[AVAudioPlayer alloc]initWithContentsOfURL:url error:NULL];\n\n\n        [_audioPlayer play];\n\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "afnetworking", "afhttprequestoperation"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11905834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OX5LS.jpg?s=128&g=1", "display_name": "\u5b89Alex", "link": "https://stackoverflow.com/users/11905834/%e5%ae%89alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1565342012, "creation_date": 1565342012, "answer_id": 57426900, "question_id": 57424658, "link": "https://stackoverflow.com/questions/57424658/how-i-fetch-allhttpheaderfields-in-afnetworking-3-0/57426900#57426900", "title": "How I fetch allHTTPHeaderFields in AFNetworking 3.0", "body": "<p>You can use it like this : NSDictionary <em>fields = ((NSHTTPURLResponse</em>)response).allHeaderFields;</p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565342012, "creation_date": 1565332894, "question_id": 57424658, "link": "https://stackoverflow.com/questions/57424658/how-i-fetch-allhttpheaderfields-in-afnetworking-3-0", "title": "How I fetch allHTTPHeaderFields in AFNetworking 3.0", "body": "<p>I am migrating my code from AFNetworking 2.x to 3.0.</p>\n\n<p>In AFNetworking 2.x </p>\n\n<pre><code>AFHTTPRequestOPeration *requestOperation;\nself.formHash = requestOperation.request.allHTTPHeaderFields[@\"FormHash\"];\n</code></pre>\n\n<p>Would anyone help me to implement what is the alternative to fetch <code>allHTTPHeaderFields</code> in AFNerworking 3.0</p>\n"}, {"tags": ["ios", "objective-c", "xcode11", "ios13"], "comments": [{"owner": {"reputation": 1292, "user_id": 1688782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be889e52f84157c7a5a54c6fc2ed3d4d?s=128&d=identicon&r=PG", "display_name": "Altimac", "link": "https://stackoverflow.com/users/1688782/altimac"}, "edited": false, "score": 1, "creation_date": 1569401454, "post_id": 57424602, "comment_id": 102581520, "body": "Had the exact same problem, with even simpler code: [UIFont fontWithName:[UIFont boldSystemFontOfSize:12.].fontName size:12.] returns TimeNewRoman font instead of a San Francisco on iOS 13. This code used to work.... since iOS 3! Do you have any idea what&#39;s happening?"}, {"owner": {"reputation": 317, "user_id": 4489133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1Iv7.jpg?s=128&g=1", "display_name": "harshith7823", "link": "https://stackoverflow.com/users/4489133/harshith7823"}, "reply_to_user": {"reputation": 1292, "user_id": 1688782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be889e52f84157c7a5a54c6fc2ed3d4d?s=128&d=identicon&r=PG", "display_name": "Altimac", "link": "https://stackoverflow.com/users/1688782/altimac"}, "edited": false, "score": 0, "creation_date": 1572345292, "post_id": 57424602, "comment_id": 103522404, "body": "Apple responded with &gt; &quot;This is caused by improper use of a system font name. Rather than creating a new font descriptor by name, use - [UIFont fontDescriptor]&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 760, "user_id": 5242095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ecbf9f9d22ca49f11ebd8635d26311d?s=128&d=identicon&r=PG", "display_name": "Alex Motor", "link": "https://stackoverflow.com/users/5242095/alex-motor"}, "is_accepted": false, "score": 0, "last_activity_date": 1572341414, "creation_date": 1572341414, "answer_id": 58604597, "question_id": 57424602, "link": "https://stackoverflow.com/questions/57424602/fontdescriptorwithsymbolictraits-method-returns-a-new-font-descriptor-reference/58604597#58604597", "title": "fontDescriptorWithSymbolicTraits method returns a new font descriptor reference in a different font family instead of same font family on iOS13", "body": "<p>Looks like Apple has a bug with the font for attributed string since...iOS 13 beta!!! But this issue is shown only on Xcode 11+.</p>\n\n<p><a href=\"https://openradar.appspot.com/6153065\" rel=\"nofollow noreferrer\">Open radar</a></p>\n\n<p>The best solution is to do not use system font, but use font name exactly.</p>\n"}], "owner": {"reputation": 317, "user_id": 4489133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1Iv7.jpg?s=128&g=1", "display_name": "harshith7823", "link": "https://stackoverflow.com/users/4489133/harshith7823"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1572341414, "creation_date": 1565332609, "last_edit_date": 1565333920, "question_id": 57424602, "link": "https://stackoverflow.com/questions/57424602/fontdescriptorwithsymbolictraits-method-returns-a-new-font-descriptor-reference", "title": "fontDescriptorWithSymbolicTraits method returns a new font descriptor reference in a different font family instead of same font family on iOS13", "body": "<p>fontDescriptorWithSymbolicTraits method returns a new font descriptor reference in a different font family instead of same font family on iOS13</p>\n\n<pre><code>@interface ViewController ()\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    [ViewController bold];\n}\n\n\n+(UIFont *)systemFontCaption\n{\n    return [UIFont systemFontOfSize:20.0f weight:UIFontWeightRegular];\n}\n\n+(UIFont*)bold\n{\n    UIFont *font = [ViewController systemFontCaption];\n\n    UIFontDescriptor *fontDescriptor = [UIFontDescriptor fontDescriptorWithName:font.fontName size:font.pointSize];\n    UIFontDescriptor *styleDescriptor = [fontDescriptor fontDescriptorWithSymbolicTraits:[fontDescriptor symbolicTraits] | UIFontDescriptorTraitBold];\n    UIFont *boldFont = [UIFont fontWithDescriptor:styleDescriptor size:font.pointSize];\n    return  boldFont;\n}\n</code></pre>\n\n<p>Expected Results:</p>\n\n<p>Bold font should be in the same font family i.e SFUI-Regular</p>\n\n<p>Actual Results: </p>\n\n<p>Bold font is in different font family i.e TimesNewRoman</p>\n"}, {"tags": ["ios", "objective-c", "opengl-es-2.0"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11247489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z9Ii56K0v10/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reBUuzXNum2Psc5A_61kR7d6uxySQ/mo/photo.jpg?sz=128", "display_name": "Stroman", "link": "https://stackoverflow.com/users/11247489/stroman"}, "edited": false, "score": 0, "creation_date": 1566265017, "post_id": 57504747, "comment_id": 101592760, "body": "Thank you very much for your answer.I found out that it is the opaque propery of CAEAGLLayer that I set wrong.Make it NO will be ok."}, {"owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "reply_to_user": {"reputation": 1, "user_id": 11247489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z9Ii56K0v10/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reBUuzXNum2Psc5A_61kR7d6uxySQ/mo/photo.jpg?sz=128", "display_name": "Stroman", "link": "https://stackoverflow.com/users/11247489/stroman"}, "edited": false, "score": 0, "creation_date": 1566268281, "post_id": 57504747, "comment_id": 101593292, "body": "@Stroman I used to try the opaque propery, but it not work. Maybe I do something wrong. Thanks for respond."}], "tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1565842005, "creation_date": 1565842005, "answer_id": 57504747, "question_id": 57424140, "link": "https://stackoverflow.com/questions/57424140/how-to-make-viewport-backgroundcolor-clear-in-opengles-2-0/57504747#57504747", "title": "How to make viewport backgroundcolor clear in OpenGLES 2.0", "body": "<p>I think the glview cannot be transparent.</p>\n\n<p>Here is an example, you have a UIImageView which contain a background image.</p>\n\n<p>You want to add a transparent glview upon the UIImageView, make it like watermark.</p>\n\n<p>Unfortunately, the glview cannot be transparent, so the Alternative way is:\nMake two gl_textures, one texture use to draw your background image. Another one draw you're watermark.</p>\n\n<p>The gl_texture can be transparent.</p>\n"}], "owner": {"reputation": 1, "user_id": 11247489, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-z9Ii56K0v10/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reBUuzXNum2Psc5A_61kR7d6uxySQ/mo/photo.jpg?sz=128", "display_name": "Stroman", "link": "https://stackoverflow.com/users/11247489/stroman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565842005, "creation_date": 1565330044, "last_edit_date": 1565332749, "question_id": 57424140, "link": "https://stackoverflow.com/questions/57424140/how-to-make-viewport-backgroundcolor-clear-in-opengles-2-0", "title": "How to make viewport backgroundcolor clear in OpenGLES 2.0", "body": "<p>I wanna make viewport backgroundcolor clear,transparent.\nBut </p>\n\n<pre><code>glClearColor(0,0,0,0);\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n</code></pre>\n\n<p>do not work,it is just all black.</p>\n\n<p>I am using OpenGLES2.0 and iOS platform\u3002</p>\n\n<pre><code>glClearColor(backgroundColorRed, backgroundColorGreen, backgroundColorBlue, backgroundColorAlpha);\nglClear(GL_COLOR_BUFFER_BIT);\n</code></pre>\n\n<p>So how to do it if I want to make viewport backgroundcolor transparent?</p>\n"}, {"tags": ["ios", "objective-c", "in-app-purchase"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1565317737, "post_id": 57422580, "comment_id": 101324658, "body": "I would start by asking them to upgrade their iOS. Even if they can&#39;t go to iOS 9 they can go to 8.4.1"}, {"owner": {"reputation": 370, "user_id": 1730788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c9da24efa2b54d962e08063cb91f5a?s=128&d=identicon&r=PG", "display_name": "Supran Jowti", "link": "https://stackoverflow.com/users/1730788/supran-jowti"}, "edited": false, "score": 0, "creation_date": 1565856454, "post_id": 57422580, "comment_id": 101481254, "body": "I am facing the same problem in ios 8.1. Is there any alternate solution rather than upgrading iOS"}], "owner": {"reputation": 11, "user_id": 5222111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f50d3dc059eaa3a3653443dbce58505?s=128&d=identicon&r=PG&f=1", "display_name": "user5222111", "link": "https://stackoverflow.com/users/5222111/user5222111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1232, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574787324, "creation_date": 1565315286, "question_id": 57422580, "link": "https://stackoverflow.com/questions/57422580/how-to-fix-the-operation-couldn-t-be-completed-fairplayerrordomain-error-420", "title": "How to fix &#39;The operation couldn\u2019t be completed. (FairPlayErrorDomain error -42022.)&#39; , when I call [[SKPaymentQueue defaultQueue] addPayment:payment]", "body": "<p>A user gave feedback that it could not be purchased by apple iap, and we found the error message was:</p>\n\n<pre><code>The operation couldn\u2019t be completed. (FairPlayErrorDomain error -42022.)\n</code></pre>\n\n<p>The user device system version is iOS 8.1.2</p>\n\n<p>I searched the Internet and couldn't find a relevant solution.\nAccording to the log, after this method is called</p>\n\n<pre><code>[[SKPaymentQueue defaultQueue] addPayment: payment];\n</code></pre>\n\n<p>In this callback</p>\n\n<pre><code>-(void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions\n</code></pre>\n\n<p>transaction.transactionState:\nSKPaymentTransactionStateFailed</p>\n\n<p>transaction.error.localizedDescription:\nThe operation couldn\u2019t be completed. (FairPlayErrorDomain error -42022.)</p>\n\n<pre><code>[[SKPaymentQueue defaultQueue] addPayment:payment];\n\n- (void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {\n    for (SKPaymentTransaction *transaction in transactions) {\n        switch (transaction.transactionState) {\n            case SKPaymentTransactionStatePurchased:\n                [self completeTransaction:transaction];\n                break;\n            case SKPaymentTransactionStateFailed:\n                [self failedTransaction:transaction];\n                break;\n            case SKPaymentTransactionStateRestored:\n                [self restoreTransaction:transaction];\n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>I expect to be able to pay successfully</p>\n"}, {"tags": ["objective-c", "xcode", "macos"], "answers": [{"tags": [], "owner": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "is_accepted": false, "score": 0, "last_activity_date": 1565412320, "creation_date": 1565412320, "answer_id": 57439381, "question_id": 57420108, "link": "https://stackoverflow.com/questions/57420108/how-to-check-if-the-app-has-accessibility-access/57439381#57439381", "title": "How to check if the app has Accessibility Access?", "body": "<p>You can call <code>AXIsProcessTrusted</code> to determine if you are trusted for accessibility. I'm not aware of any callback or notification when the setting changes, but it sounds like you could just poll every second or so, and exit your app if the function starts to return false.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/applicationservices/1460720-axisprocesstrusted?language=objc\" rel=\"nofollow noreferrer\">AXIsProcessTrusted</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11474669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JzrOV.png?s=128&g=1", "display_name": "DaFuqtor", "link": "https://stackoverflow.com/users/11474669/dafuqtor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565412320, "creation_date": 1565296007, "question_id": 57420108, "link": "https://stackoverflow.com/questions/57420108/how-to-check-if-the-app-has-accessibility-access", "title": "How to check if the app has Accessibility Access?", "body": "<p>I'm working on a macOS Objective-C application that interacts with trackpad and mouse. This kind of interaction needs Accessibility Control. The problem is that if user unticks the app (while it's running) in <code>System Preferences</code> > <code>Security &amp; Privacy</code> > <code>Privacy</code> > <code>Accessibility</code>, it prevents user to work with trackpad and mouse properly, so making hard even to quit the app.</p>\n\n<p>The only thing that I could manage to do with this problem is running Terminal via Spotlight Search and doing <code>killall</code>. </p>\n\n<p>I need the app to stop itself if there is no Accessibility permissions.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "constraints"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1565279626, "post_id": 57415318, "comment_id": 101312826, "body": "Are you creating <code>_container</code> and both buttons via code? Or have you laid them out (and given them constraints) in IB / Storyboard?"}, {"owner": {"reputation": 33, "user_id": 11864858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f494a796eb36f8939f4c6bec9d37a4a?s=128&d=identicon&r=PG&f=1", "display_name": "name to be displayed ", "link": "https://stackoverflow.com/users/11864858/name-to-be-displayed"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1565280517, "post_id": 57415318, "comment_id": 101313265, "body": "I&#39;ve given them constraints in story board"}], "answers": [{"tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": true, "score": 0, "last_activity_date": 1565281156, "creation_date": 1565281156, "answer_id": 57416899, "question_id": 57415318, "link": "https://stackoverflow.com/questions/57415318/changing-constraints-in-objective-c/57416899#57416899", "title": "Changing constraints in objective-C", "body": "<p>If you have create <code>_container</code> in Storyboard and given it constraints, then your code is adding <strong><em>additional</em></strong> constraints (and I expect you're getting warning / error messages in debug console).</p>\n\n<p>Instead, create an <code>IBOutlet</code> connection to the <code>_container</code>'s top constraint from Storyboard, such as:</p>\n\n<pre><code>@property (strong, nonatomic) IBOutlet NSLayoutConstraint *containerTopConstraint;\n</code></pre>\n\n<p>Then, in <code>viewDidLoad()</code>:</p>\n\n<pre><code>_containerTopConstraint.constant = 0.0;\n</code></pre>\n\n<p>and, when you want to change it, just change the constant:</p>\n\n<pre><code>-(void)didConnect{\n    [[self connectToKestrelButton] setHidden:NO];\n    [[self cancelButton] setHidden:YES];\n    _containerTopConstraint.constant = 60.0;\n}\n\n-(void)didDisconnect{\n    [[self connectToKestrelButton] setHidden:YES];\n    [[self cancelButton] setHidden:YES];\n    _containerTopConstraint.constant = 0.0;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11864858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f494a796eb36f8939f4c6bec9d37a4a?s=128&d=identicon&r=PG&f=1", "display_name": "name to be displayed ", "link": "https://stackoverflow.com/users/11864858/name-to-be-displayed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57416899, "answer_count": 1, "score": 0, "last_activity_date": 1565281156, "creation_date": 1565275692, "last_edit_date": 1565279571, "question_id": 57415318, "link": "https://stackoverflow.com/questions/57415318/changing-constraints-in-objective-c", "title": "Changing constraints in objective-C", "body": "<p>I set the top constraint of a container using this in <code>viewDidLoad</code>:</p>\n\n<pre><code>[[NSLayoutConstraint constraintWithItem:_container attribute:NSLayoutAttributeTop relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeTop multiplier:1 constant: 0.00]setActive:true];\n</code></pre>\n\n<p>But then I want to change those constraints when a button appears, here's that function</p>\n\n<pre><code>-(void)didConnect{\n    [[self connectToKestrelButton] setHidden:NO];\n    [[self cancelButton] setHidden:YES];\n    [[NSLayoutConstraint constraintWithItem:_container attribute:NSLayoutAttributeTop relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeTop multiplier:1 constant: 60.00]setActive:true];\n}\n</code></pre>\n\n<p>but when this function is called the constraints update</p>\n\n<pre><code>-(void)didDisconnect{\n    [[self connectToKestrelButton] setHidden:YES];\n    [[self cancelButton] setHidden:YES];\n    [[NSLayoutConstraint constraintWithItem:_container attribute:NSLayoutAttributeTop relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeTop multiplier:1 constant: 0.00]setActive:true];\n}\n</code></pre>\n\n<p>The problem is the container top constraint isn't changing when that function is called, what is going wrong?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "apple-pencil", "pencilkit"], "answers": [{"comments": [{"owner": {"reputation": 1018, "user_id": 2577575, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-hmSLQ8TNYYA/AAAAAAAAAAI/AAAAAAAAAR0/LQk78tCWdlc/photo.jpg?sz=128", "display_name": "Dev Sanghani", "link": "https://stackoverflow.com/users/2577575/dev-sanghani"}, "edited": false, "score": 0, "creation_date": 1565934822, "post_id": 57518266, "comment_id": 101506387, "body": "I didn&#39;t say I wanted to publish the app. But iOS 13 API&#39;s are available to users on TestFlight, so it should be possible to upload the app with PencilKit for TestFlight users on iOS 13 when the deployment target is lower than 13.0. Other&#39;s are also facing this issue: <a href=\"https://forums.developer.apple.com/message/376096#376096\" rel=\"nofollow noreferrer\">forums.developer.apple.com/message/376096#376096</a>"}], "tags": [], "owner": {"reputation": 1077, "user_id": 3389710, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/vLUzw.jpg?s=128&g=1", "display_name": "Florentin", "link": "https://stackoverflow.com/users/3389710/florentin"}, "is_accepted": false, "score": 0, "last_activity_date": 1565922563, "creation_date": 1565922563, "answer_id": 57518266, "question_id": 57415292, "link": "https://stackoverflow.com/questions/57415292/pencilkit-itms-90338-non-public-api-usage-when-uploading-app-to-appstoreconne/57518266#57518266", "title": "PencilKit - ITMS-90338: Non-public API usage when uploading app to AppStoreConnect", "body": "<p><a href=\"https://developer.apple.com/documentation/pencilkit\" rel=\"nofollow noreferrer\">PencilKit</a> is a new framework available for iOS 13.0 and newer. As iOS 13 is not released yet, you cannot publish app using it yet!</p>\n\n<p>So set your app deployment target as 13.0 and wait for iOS 13 to be released.</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 6153701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GOdyy.png?s=128&g=1", "display_name": "Expert Suggestion", "link": "https://stackoverflow.com/users/6153701/expert-suggestion"}, "is_accepted": false, "score": 0, "last_activity_date": 1568872429, "creation_date": 1568872429, "answer_id": 58004506, "question_id": 57415292, "link": "https://stackoverflow.com/questions/57415292/pencilkit-itms-90338-non-public-api-usage-when-uploading-app-to-appstoreconne/58004506#58004506", "title": "PencilKit - ITMS-90338: Non-public API usage when uploading app to AppStoreConnect", "body": "<p>Same issue here..., think I got it working now. Because I did not received a mail from Apple, and the build is showing.... I upgraded webview to @4.1.1</p>\n\n<p>Here is my list:</p>\n\n<pre><code>   cordova-plugin-ionic-webview 4.1.1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1018, "user_id": 2577575, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-hmSLQ8TNYYA/AAAAAAAAAAI/AAAAAAAAAR0/LQk78tCWdlc/photo.jpg?sz=128", "display_name": "Dev Sanghani", "link": "https://stackoverflow.com/users/2577575/dev-sanghani"}, "edited": false, "score": 0, "creation_date": 1569906547, "post_id": 58098897, "comment_id": 102736965, "body": "Yup. Fixed in 11.1 GM"}], "tags": [], "owner": {"reputation": 5307, "user_id": 1284137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a153f45b247ee24639a221794607fa14?s=128&d=identicon&r=PG", "display_name": "Yedidya Reiss", "link": "https://stackoverflow.com/users/1284137/yedidya-reiss"}, "is_accepted": false, "score": 1, "last_activity_date": 1569415989, "creation_date": 1569415989, "answer_id": 58098897, "question_id": 57415292, "link": "https://stackoverflow.com/questions/57415292/pencilkit-itms-90338-non-public-api-usage-when-uploading-app-to-appstoreconne/58098897#58098897", "title": "PencilKit - ITMS-90338: Non-public API usage when uploading app to AppStoreConnect", "body": "<p>They just fixed it in Xcode 11.1 GM, you can upload also to previous versions older than iOS 13 (without support of course).</p>\n"}], "owner": {"reputation": 1018, "user_id": 2577575, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh5.googleusercontent.com/-hmSLQ8TNYYA/AAAAAAAAAAI/AAAAAAAAAR0/LQk78tCWdlc/photo.jpg?sz=128", "display_name": "Dev Sanghani", "link": "https://stackoverflow.com/users/2577575/dev-sanghani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1579248187, "creation_date": 1565275622, "last_edit_date": 1579248187, "question_id": 57415292, "link": "https://stackoverflow.com/questions/57415292/pencilkit-itms-90338-non-public-api-usage-when-uploading-app-to-appstoreconne", "title": "PencilKit - ITMS-90338: Non-public API usage when uploading app to AppStoreConnect", "body": "<p>I tried weak linking PencilKit in 3 different ways:</p>\n\n<ol>\n<li>Via target > Frameworks > Add PencilKit > Do Not Embed</li>\n<li>By weak linking using \"-weak_framework PencilKit\" in other linker flags</li>\n<li>By linking using \"-framework PencilKit\" in other linker flags</li>\n</ol>\n\n<p>Each build was rejected using ITMS-90338: Non-public API usage.</p>\n\n<p>The project is in Objective-C. I also re-wrote the view controller that uses PencilKit into Swift and got the same error since that also bridges to ObjC land.</p>\n\n<p>Has anyone successfully uploaded an archive to AppStoreConnect that is also linked with PencilKit and has a lower deployment target than iOS 13.0?</p>\n"}, {"tags": ["ios", "objective-c", "mapkit", "mapkitannotation"], "owner": {"reputation": 720, "user_id": 10319331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAIb7.jpg?s=128&g=1", "display_name": "Ruchi Makadia", "link": "https://stackoverflow.com/users/10319331/ruchi-makadia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570611221, "creation_date": 1565274843, "last_edit_date": 1570611221, "question_id": 57415050, "link": "https://stackoverflow.com/questions/57415050/overlap-calloutmapannotation-and-other-annotation", "title": "Overlap CalloutMapAnnotation and other annotation", "body": "<p>I have an overlapping problem in mapkit annotation.</p>\n\n<p>I set CalloutMapAnnotation in viewForAnnotation as delegate.</p>\n\n<p>I have gone through multiple answers and have even tried changing z index but that too has not worked for me. </p>\n\n<p>Here is an image of the problem:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GmgIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GmgIv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried the following code in the method <code>didAddAnnotationViews</code> but that also does not work.</p>\n\n<pre><code>if([annView.annotation isKindOfClass:[CalloutMapAnnotation class]]){\n\n     [[annView superview] sendSubviewToBack:annView];\n}\n</code></pre>\n"}, {"tags": ["c++", "ios", "objective-c", "opencv", "opencv4"], "comments": [{"owner": {"reputation": 172, "user_id": 5093646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c055e6a966cfb9f815431f4a5a42ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dev_IL", "link": "https://stackoverflow.com/users/5093646/dev-il"}, "edited": false, "score": 1, "creation_date": 1566137538, "post_id": 57413297, "comment_id": 101553903, "body": "I don&#39;t know what exactly may be the issue but I just uploaded samples from our projects that did the same - maybe you would find something helpful there: <a href=\"https://github.com/SparingSoftware/ImageDetect-openCV\" rel=\"nofollow noreferrer\">github.com/SparingSoftware/ImageDetect-openCV</a>"}, {"owner": {"reputation": 153, "user_id": 174782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b74ad8bca2b05cd8f18424ab2acf049?s=128&d=identicon&r=PG", "display_name": "Erle", "link": "https://stackoverflow.com/users/174782/erle"}, "reply_to_user": {"reputation": 172, "user_id": 5093646, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c055e6a966cfb9f815431f4a5a42ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dev_IL", "link": "https://stackoverflow.com/users/5093646/dev-il"}, "edited": false, "score": 0, "creation_date": 1566370676, "post_id": 57413297, "comment_id": 101629941, "body": "Thanks that helped. The issue was that the cv::ORB has to be created like this cv::Ptr&lt;cv::ORB&gt; *orb = cv::ORB::create(); This is also true for the DescriptionMatcher. However the CV_ASSERT fails but the code works. If you put your comment as an Answer I&#39;ll check it as correct :)"}], "owner": {"reputation": 153, "user_id": 174782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b74ad8bca2b05cd8f18424ab2acf049?s=128&d=identicon&r=PG", "display_name": "Erle", "link": "https://stackoverflow.com/users/174782/erle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565270510, "creation_date": 1565269363, "last_edit_date": 1565270510, "question_id": 57413297, "link": "https://stackoverflow.com/questions/57413297/ios-opencv-image-matching-with-orb-leads-to-exc-bad-access", "title": "iOS OpenCV: Image matching with ORB leads to EXC_BAD_ACCESS", "body": "<p>I'm fairly new to <code>OpenCV</code> and I'm trying to match images from the camera feed with provided descriptors for the images that shall be matched. \nHowever my Objective-C++ code currently crashes with <strong>EXC_BAD_ACCESS</strong> which leads me to believe that something has been released or is not present. I just can't quite find the culprit. </p>\n\n<p>I'm using OpenCV 4.1.1 for iOS, Xcode 10.3 and iOS 12.4</p>\n\n<p>I'm using Objective-C++ to speak to OpenCV and and Swift for all UI related things and the rest.</p>\n\n<p>So here's what I've done so far.</p>\n\n<p>I've set up the included <code>CvVideoCamera</code> and the camera image is displayed fine inside an <code>UIImageView</code>. (since this works fine with simple template matching I'll spare you with that code)</p>\n\n<p>In my <code>OpenCVWrapper.mm</code> which is also the CvVideoCamera's delegate I do the following in <code>processImage:(cv::Mat&amp;)image;</code></p>\n\n<pre><code>    CV_Assert(!image.empty());\n    cv::ORB *orb = cv::ORB::create();\n    cv::Mat descriptors, mask;\n    std::vector&lt;cv::KeyPoint&gt; points;\n    CV_Assert(!orb-&gt;empty());\n    orb-&gt;detectAndCompute(image, mask, points, descriptors);\n    cv::DescriptorMatcher *matcher = cv::DescriptorMatcher::create(cv::BFMatcher::BRUTEFORCE) ;\n    std::vector&lt;std::vector&lt;cv::DMatch&gt;&gt; knnMatches;\n    NSArray *targetDescriptors = [[self delegate] descriptors];\n    for (SourceDescriptor *source in targetDescriptors) {\n        matcher-&gt;knnMatch(descriptors, source.mat.mat, knnMatches, 2);\n        float ratioThreshold = 0.f;\n        NSMutableArray *innerDistances = [@[] mutableCopy];\n        for (NSInteger counter = 0; counter &lt; knnMatches.size(); counter++) {\n            const cv::DMatch&amp; bestMatch = knnMatches[counter][0];\n            const cv::DMatch&amp; betterMatch = knnMatches[counter][1];\n            float finalDistance = bestMatch.distance / betterMatch.distance;\n            if (finalDistance &lt;= ratioThreshold) {\n                [innerDistances addObject:[NSNumber numberWithFloat:finalDistance]];\n            }\n        }\n        if ([innerDistances count] &gt; 0) {\n            NSSortDescriptor *highestToLowest = [NSSortDescriptor sortDescriptorWithKey:@\"self\" ascending:NO];\n            [innerDistances sortUsingDescriptors:[NSArray arrayWithObject:highestToLowest]];\n            Result *leresult = [[Result alloc] init];\n            NSNumber *score = (NSNumber *)[innerDistances objectAtIndex:0];\n            [leresult setScore:[score floatValue]];\n            [leresult setSourceDescriptor:source];\n            [result addObject:leresult];\n        }\n    }\n</code></pre>\n\n<p>My code however crashes at <code>orb-&gt;detectAndCompute()</code> with an <strong>EXC_BAD_ACCESS</strong></p>\n\n<p>As you can see from the code I'm checking whether the orb or image are empty which isn't the case. </p>\n\n<p>Any help would be greatly appreciated. </p>\n\n<p>If any more information needs to be provided I will gladly do so.</p>\n"}, {"tags": ["objective-c", "swift", "appdelegate", "bridging-header"], "comments": [{"owner": {"reputation": 20846, "user_id": 5716829, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/356d9e8343b5696dca2a1a9788130c9a?s=128&d=identicon&r=PG&f=1", "display_name": "PGDev", "link": "https://stackoverflow.com/users/5716829/pgdev"}, "edited": false, "score": 1, "creation_date": 1565262372, "post_id": 57411091, "comment_id": 101302354, "body": "Why don&#39;t you straight away convert the AppDelegate in Swift?"}], "answers": [{"comments": [{"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 1, "creation_date": 1565552959, "post_id": 57412965, "comment_id": 101380836, "body": "to all the downvoters: I&#39;m just curious. What is wrong with this answer? IMHO it answers the question in the only correct way."}, {"owner": {"reputation": 439, "user_id": 5874710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yGBPEa4a4QY/AAAAAAAAAAI/AAAAAAAAXC4/aQH6J4oTlks/photo.jpg?sz=128", "display_name": "Carla Camargo", "link": "https://stackoverflow.com/users/5874710/carla-camargo"}, "reply_to_user": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1565617345, "post_id": 57412965, "comment_id": 101398074, "body": "Maybe they thought that could be made a bridging-header to use obj-c methods in swift, but this is not possible in the scenario describe &#39;cause you can only have one AppDelegate in the project(for the target). In this specific case, you couldn&#39;t use the mix-and-match approach..."}], "tags": [], "owner": {"reputation": 439, "user_id": 5874710, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yGBPEa4a4QY/AAAAAAAAAAI/AAAAAAAAXC4/aQH6J4oTlks/photo.jpg?sz=128", "display_name": "Carla Camargo", "link": "https://stackoverflow.com/users/5874710/carla-camargo"}, "is_accepted": false, "score": -2, "last_activity_date": 1565268428, "creation_date": 1565268428, "answer_id": 57412965, "question_id": 57411091, "link": "https://stackoverflow.com/questions/57411091/combine-appdeletage-m-and-appdelegate-swift/57412965#57412965", "title": "Combine AppDeletage.m and AppDelegate.swift", "body": "<p>No, there isn't an easy native way to convert obj-c into swift code. You can use some websites, like <a href=\"https://objectivec2swift.com\" rel=\"nofollow noreferrer\">https://objectivec2swift.com</a>.\nIn the end, you will have to type a new code. </p>\n"}], "owner": {"reputation": 331, "user_id": 10460877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/06O6h.jpg?s=128&g=1", "display_name": "Oliver Ferris", "link": "https://stackoverflow.com/users/10460877/oliver-ferris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1565269051, "creation_date": 1565262178, "question_id": 57411091, "link": "https://stackoverflow.com/questions/57411091/combine-appdeletage-m-and-appdelegate-swift", "title": "Combine AppDeletage.m and AppDelegate.swift", "body": "<p>Im working on integrating two different apps into one solution, One App contains an <code>AppDelegate.m</code> and <code>AppDelegate.h</code> whereas the other App uses an <code>AppDelegate.swift</code></p>\n\n<p>Is there any easy way to import the objective C delegates into my Swift environment?</p>\n\n<p>The rest of the apps are completely in Swift, So its just the AppDelegates I'm having trouble with.</p>\n"}, {"tags": ["objective-c", "memory-management"], "comments": [{"owner": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "edited": false, "score": 0, "creation_date": 1565349200, "post_id": 57410228, "comment_id": 101335605, "body": "removed irrelevant part of code."}], "answers": [{"comments": [{"owner": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "edited": false, "score": 0, "creation_date": 1565349324, "post_id": 57428573, "comment_id": 101335664, "body": "So, I should write my code code like following(regardless of reference counting context):  <code>CFStringRef fileref_to_localpath(CFStringRef fileRefURL) { @autoreleasepool {     return (__bridge CFStringRef)[[NSURL URLWithString:(__bridge NSString *)fileRefURL] path]; } }</code>"}, {"owner": {"reputation": 24, "user_id": 5654357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa540694a531011b142ca566e431d8?s=128&d=identicon&r=PG", "display_name": "Vlad E.", "link": "https://stackoverflow.com/users/5654357/vlad-e"}, "reply_to_user": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "edited": false, "score": 0, "creation_date": 1565349696, "post_id": 57428573, "comment_id": 101335822, "body": "No, this is wrong.  You should call -[NSObject autorelease] method, not @autoreleasepool block. I will not teach how to use it. Instead, there is a good manual page at <a href=\"https://developer.apple.com/documentation/foundation/nsautoreleasepool\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsautoreleasepo&zwnj;&#8203;ol</a>."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1565427902, "post_id": 57428573, "comment_id": 101358126, "body": "<code>+[NSURL URLWithString:]</code>and <code>-[NSURL path]</code> return autoreleased values."}, {"owner": {"reputation": 24, "user_id": 5654357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa540694a531011b142ca566e431d8?s=128&d=identicon&r=PG", "display_name": "Vlad E.", "link": "https://stackoverflow.com/users/5654357/vlad-e"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1565429093, "post_id": 57428573, "comment_id": 101358332, "body": "@Willeke where did you find it? And why you think so? Is there any docs for it? I read official docs and there is nothing said about autoreleased objects."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1565431704, "post_id": 57428573, "comment_id": 101358803, "body": "I know because I&#39;m used to MRC and all similar class methods return an autoreleased object. See <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html#//apple_ref/doc/uid/20000994-SW1\" rel=\"nofollow noreferrer\">Basic Memory Management Rules</a>. <code>URLWithString:</code> and <code>path</code> don&#39;t start with \u201calloc\u201d, \u201cnew\u201d, \u201ccopy\u201d, or \u201cmutableCopy\u201d."}, {"owner": {"reputation": 24, "user_id": 5654357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa540694a531011b142ca566e431d8?s=128&d=identicon&r=PG", "display_name": "Vlad E.", "link": "https://stackoverflow.com/users/5654357/vlad-e"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1565432322, "post_id": 57428573, "comment_id": 101358922, "body": "@Willeke thanks for explanation, I will edit my post."}], "tags": [], "owner": {"reputation": 24, "user_id": 5654357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa540694a531011b142ca566e431d8?s=128&d=identicon&r=PG", "display_name": "Vlad E.", "link": "https://stackoverflow.com/users/5654357/vlad-e"}, "is_accepted": false, "score": -1, "last_activity_date": 1565433116, "last_edit_date": 1565433116, "creation_date": 1565348017, "answer_id": 57428573, "question_id": 57410228, "link": "https://stackoverflow.com/questions/57410228/objective-c-release-for-unnamedtemporary-non-lvalue-variables/57428573#57428573", "title": "Objective-C release for unnamed(temporary, non-lvalue) variables", "body": "<p>1) First of all: Core Foundation objects are not \"auto-countable\", so you have to write CFRelease and CFRetain whenever you work with CF type whether it's ARC or MRC. </p>\n\n<p>__bridge is not transferring ownership to/from ARC, it just \"casts\" object to desired type. Having this in mind, you should think of your code in two different ways: ARC and MRC. </p>\n\n<p>In ARC - you should call CFRelease on CF objects when you finished with them, only if originally this object was obtained with CF and You are responsible for it. The main rule of object responsibility is: If you created an object or got it with functions with \"Create\" or \"Copy\" - then you are responsible for it.</p>\n\n<p>In MRC - you should retain when you are planning to use temporary object in future, and release it later when you are done with it and/or use autorelease.</p>\n\n<p>2) Second point:</p>\n\n<pre><code>CFStringRef url = (CFStringRef)@\"file:///home/gautam/index.cpp\";\n</code></pre>\n\n<p>has excessive allocations, use CFSTR(const char *) instead like:</p>\n\n<pre><code>CFStringRef url = CFSTR(\"file:///home/gautam/index.cpp\");\n</code></pre>\n\n<p>According to Apple docs</p>\n\n<blockquote>\n  <p>A value returned by CFSTR has the following semantics:</p>\n  \n  <p>Values returned from CFSTR are not released by CFString\u2014they are\n  guaranteed to be valid until the program terminates.</p>\n  \n  <p>You can retain and release values returned from CFSTR in a balanced\n  fashion, like any other CFString, but you are not required to do so.</p>\n</blockquote>\n\n<p>3) here:</p>\n\n<pre><code>return (__bridge CFStringRef)[[NSURL URLWithString:(__bridge NSString *)fileRefURL] path];\n</code></pre>\n\n<p>Even new NSURL object is created, you are not responsible to release it in MRC because URLWithString: and path don't start with \u201calloc\u201d, \u201cnew\u201d, \u201ccopy\u201d, or \u201cmutableCopy\u201d. (thanks @Willeke) This mean that they are already in autorelease pool.</p>\n\n<p>See <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html#//apple_ref/doc/uid/20000994-SW1\" rel=\"nofollow noreferrer\">Basic Memory Management Rules</a> for help. (Also was useful for me)</p>\n\n<p>Correct me if I am wrong.</p>\n\n<p>P.S. If you want to transfer object from CF to NS or from NS to CF \nfor \"forever\", look at CFBridgingRelease and CFBridgingRetain</p>\n\n<p>UPD: corrected post according to comments</p>\n"}], "owner": {"reputation": 1934, "user_id": 4373992, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Xgw9p.jpg?s=128&g=1", "display_name": "jha-G", "link": "https://stackoverflow.com/users/4373992/jha-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565433116, "creation_date": 1565259230, "last_edit_date": 1565349163, "question_id": 57410228, "link": "https://stackoverflow.com/questions/57410228/objective-c-release-for-unnamedtemporary-non-lvalue-variables", "title": "Objective-C release for unnamed(temporary, non-lvalue) variables", "body": "<p>I trying to learn Objective-C memory management, and was wondering if I can write my code to work properly in both ARC and Non-ARC cases. So ended up with following code, where did not name any variable:</p>\n\n<pre><code>CFStringRef fileref_to_localpath(CFStringRef fileRefURL)\n{\n    // one liner to convert file URL(like file:///&lt;path&gt;) to machine specific path\n    return (__bridge CFStringRef)[[NSURL URLWithString:(__bridge NSString *)fileRefURL] path];\n}\n</code></pre>\n\n<p>So, my question do I need to release something that I did not name in first place?</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "uiview", "uiviewcontroller"], "comments": [{"owner": {"reputation": 6115, "user_id": 1752496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d4kru.jpg?s=128&g=1", "display_name": "Lukas W&#252;rzburger", "link": "https://stackoverflow.com/users/1752496/lukas-w%c3%bcrzburger"}, "edited": false, "score": 0, "creation_date": 1565251118, "post_id": 57407638, "comment_id": 101296215, "body": "<code>[self.view addSubview: self.subView];</code> shouldn&#39;t you be adding the <code>safeAreaView</code>? And what does <code>loadSubviews</code> do?"}, {"owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "reply_to_user": {"reputation": 6115, "user_id": 1752496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d4kru.jpg?s=128&g=1", "display_name": "Lukas W&#252;rzburger", "link": "https://stackoverflow.com/users/1752496/lukas-w%c3%bcrzburger"}, "edited": false, "score": 0, "creation_date": 1565251435, "post_id": 57407638, "comment_id": 101296349, "body": "@LukasW&#252;rzburger sorry that was a mistake, I&#39;ve named that view subView in my code, but changed it to safeAreaView to avoid confusion when describing this question."}, {"owner": {"reputation": 6115, "user_id": 1752496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d4kru.jpg?s=128&g=1", "display_name": "Lukas W&#252;rzburger", "link": "https://stackoverflow.com/users/1752496/lukas-w%c3%bcrzburger"}, "edited": false, "score": 0, "creation_date": 1565251747, "post_id": 57407638, "comment_id": 101296524, "body": "And what does <code>loadSubviews</code> do?"}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1565261852, "post_id": 57407638, "comment_id": 101302082, "body": "I guess you&#39;ll have to override <code>- (void)layoutSubviews</code> on your <code>safeAreaView</code> class and adjust the (non-autolayout) subviews manually (don&#39;t forget to call super)"}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1565262443, "post_id": 57407638, "comment_id": 101302401, "body": "Another option would be to override your <code>safeAreaView</code>&#39;s class <code>frame</code> setter, so each time the frame of your view changes, you&#39;ll get a change to manually set any subview frames as needed."}, {"owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "reply_to_user": {"reputation": 6115, "user_id": 1752496, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d4kru.jpg?s=128&g=1", "display_name": "Lukas W&#252;rzburger", "link": "https://stackoverflow.com/users/1752496/lukas-w%c3%bcrzburger"}, "edited": false, "score": 0, "creation_date": 1565306966, "post_id": 57407638, "comment_id": 101322774, "body": "@LukasW&#252;rzburger it lays out some subviews, but not in such a way that I can use auto-layout, I have to do some specific things there. Kept it in a blackbox to simplify the question."}, {"owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "reply_to_user": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1565307009, "post_id": 57407638, "comment_id": 101322787, "body": "@Alladinian thanks, layoutsubviews did the trick, that happened between viewWillAppear and viewDidAppear. If you put this as an answer I will accept it."}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1565338963, "post_id": 57407638, "comment_id": 101330468, "body": "@NSMoron Glad that helped. Posted the answer"}], "answers": [{"tags": [], "owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "is_accepted": true, "score": 0, "last_activity_date": 1565338943, "creation_date": 1565338943, "answer_id": 57426134, "question_id": 57407638, "link": "https://stackoverflow.com/questions/57407638/when-to-layout-subviews-of-uiviewcontrollers-view/57426134#57426134", "title": "When to layout subviews of UIViewControllers view?", "body": "<p>You can override <code>- (void)layoutSubviews</code> on your <code>safeAreaView</code> class:</p>\n\n<pre><code>- (void)layoutSubviews {\n    [super layoutSubviews];\n\n    // Manual frame adjustment for non-autolayout participating subviews\n    // ...\n}\n</code></pre>\n\n<p>Another option would be to override your <code>safeAreaView</code>'s class frame setter, so each time the frame of your view changes, you'll get a chance to manually set any subview frames as needed.</p>\n"}], "owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57426134, "answer_count": 1, "score": 0, "last_activity_date": 1565338943, "creation_date": 1565250343, "last_edit_date": 1565251369, "question_id": 57407638, "link": "https://stackoverflow.com/questions/57407638/when-to-layout-subviews-of-uiviewcontrollers-view", "title": "When to layout subviews of UIViewControllers view?", "body": "<p>In my <code>UIViewController</code> class, I'm creating a <code>UIView</code> called <code>safeAreaView</code> and adding it as a subview to the <code>UIViewControllers</code> <code>view</code> property. I'm making it so <code>safeAreaView</code> takes up the entire safe area of the <code>UIViewControllers</code> <code>view</code> property:</p>\n\n<pre><code>- (void) viewDidLoad\n{\n    [self setToolbarWithColor: self.mainToolbarColor animated:NO];\n\n    self.tapGestureRecognizer.delegate = self;\n    self.view.clipsToBounds = YES;\n    self.view.backgroundColor = [UIColor lightGrayColor];\n\n    self.safeAreaView = [[UIView alloc] initWithFrame: CGRectMake(0, 0, self.view.frame.size.width, self.view.frame.size.height)];\n    self.safeAreaView.clipsToBounds = YES;\n    self.safeAreaView.delegate = self;\n    self.safeAreaView.translatesAutoresizingMaskIntoConstraints = NO;\n    [self.view addSubview: self.safeAreaView];\n\n    [self.safeAreaView.leadingAnchor constraintEqualToAnchor: self.view.safeAreaLayoutGuide.leadingAnchor].active = YES;\n    [self.safeAreaView.trailingAnchor constraintEqualToAnchor: self.view.safeAreaLayoutGuide.trailingAnchor].active = YES;\n    [self.safeAreaView.topAnchor constraintEqualToAnchor: self.view.safeAreaLayoutGuide.topAnchor].active = YES;\n    [self.safeAreaView.bottomAnchor constraintEqualToAnchor: self.view.safeAreaLayoutGuide.bottomAnchor].active = YES;\n\n    [self.safeAreaView loadSubviews];\n}\n</code></pre>\n\n<p>This works fine, but my problem is, at some point after this during the <code>UIViewControllers</code> initialization cycle, <code>safeAreaView</code> updates to account for the statusbar (it's y position moves up 20 and it decreases in size by 20). </p>\n\n<p>I need to layout some subviews on <code>safeAreaView</code> and I don't know the proper time? If I attach the subviews like above, they have the wrong height. And I can't use some auto layout features on the subviews because there are specific things that I need to do. I've also tried executing the above code in <code>viewWillAppear</code> with no luck.</p>\n\n<p>Wondering if anyone had any suggestions?</p>\n"}]