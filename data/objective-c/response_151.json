[{"tags": ["ios", "objective-c", "keychain"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511999944, "post_id": 47563639, "comment_id": 82085639, "body": "Do you know how to write a value to the keychain? Do you know how to read a value from the keychain?"}, {"owner": {"reputation": 3962, "user_id": 4397154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213021fb15dec990a36d670e19116d45?s=128&d=identicon&r=PG&f=1", "display_name": "Donal", "link": "https://stackoverflow.com/users/4397154/donal"}, "edited": false, "score": 0, "creation_date": 1512001105, "post_id": 47563639, "comment_id": 82085935, "body": "I did&#39;t understand your question.you want to make application for one user.as you said in question like if any user exist in keychain than you don&#39;t want to show sign in page.if new user come and already one user in keychain in that case how new user login in your application."}, {"owner": {"reputation": 29, "user_id": 5320924, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/28696af4d147ca84375293483aaa9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "sandhu", "link": "https://stackoverflow.com/users/5320924/sandhu"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1512001229, "post_id": 47563639, "comment_id": 82085957, "body": "@rmaddy yes i know how to read and write keychain values."}, {"owner": {"reputation": 29, "user_id": 5320924, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/28696af4d147ca84375293483aaa9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "sandhu", "link": "https://stackoverflow.com/users/5320924/sandhu"}, "reply_to_user": {"reputation": 3962, "user_id": 4397154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213021fb15dec990a36d670e19116d45?s=128&d=identicon&r=PG&f=1", "display_name": "Donal", "link": "https://stackoverflow.com/users/4397154/donal"}, "edited": false, "score": 0, "creation_date": 1512001335, "post_id": 47563639, "comment_id": 82085981, "body": "@Donal so once a user is registered, it should not show sign up screen so that no new user can be added?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1512001382, "post_id": 47563639, "comment_id": 82085993, "body": "Then read the value. If it&#39;s not there, then it wasn&#39;t written. Act accordingly."}, {"owner": {"reputation": 3962, "user_id": 4397154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213021fb15dec990a36d670e19116d45?s=128&d=identicon&r=PG&f=1", "display_name": "Donal", "link": "https://stackoverflow.com/users/4397154/donal"}, "edited": false, "score": 0, "creation_date": 1512001479, "post_id": 47563639, "comment_id": 82086015, "body": "Please refer <a href=\"https://www.raywenderlich.com/147308/secure-ios-user-data-keychain-touch-id\" rel=\"nofollow noreferrer\">raywenderlich.com/147308/secure-ios-user-data-keychain-touch&zwnj;&#8203;-id</a> might be it will helpful.It is in swift but you get idea how to implement in your case"}, {"owner": {"reputation": 29, "user_id": 5320924, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/28696af4d147ca84375293483aaa9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "sandhu", "link": "https://stackoverflow.com/users/5320924/sandhu"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1512003400, "post_id": 47563639, "comment_id": 82086526, "body": "Thanks @rmaddy ,was able to implement it, however i am not sure that i should keep this code in signUpView class or app delegate"}, {"owner": {"reputation": 29, "user_id": 5320924, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/28696af4d147ca84375293483aaa9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "sandhu", "link": "https://stackoverflow.com/users/5320924/sandhu"}, "reply_to_user": {"reputation": 3962, "user_id": 4397154, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213021fb15dec990a36d670e19116d45?s=128&d=identicon&r=PG&f=1", "display_name": "Donal", "link": "https://stackoverflow.com/users/4397154/donal"}, "edited": false, "score": 0, "creation_date": 1512004154, "post_id": 47563639, "comment_id": 82086737, "body": "@Donal . Thanks buddy..this was exactly what i was looking for.."}], "owner": {"reputation": 29, "user_id": 5320924, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/28696af4d147ca84375293483aaa9bcf?s=128&d=identicon&r=PG&f=1", "display_name": "sandhu", "link": "https://stackoverflow.com/users/5320924/sandhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511999573, "creation_date": 1511998553, "last_edit_date": 1511999573, "question_id": 47563639, "link": "https://stackoverflow.com/questions/47563639/check-keychain-is-empty-or-not-at-start-of-app", "title": "check keychain is empty or not at start of app", "body": "<p>I am building a password management app using objective c and it has two views, with sign up view being the initial/startup view and login view another.</p>\n\n<p>Once the user registers with the app, i am saving the username and password in keychain.</p>\n\n<p>I want to implement a functionality where, when the app launches, it checks if any user exist and if yes it should not show me sign up screen but instead show me login screen. </p>\n\n<p>However i am not able to check wether keychain is empty or not when the app starts.</p>\n\n<p>Please advice how can i do this functionality?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 518, "user_id": 2618955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff45fe2c0bb307686918e8b143b8999?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey  Alpeev", "link": "https://stackoverflow.com/users/2618955/sergey-alpeev"}, "edited": false, "score": 0, "creation_date": 1556825064, "post_id": 47561938, "comment_id": 98569664, "body": "So each Receptionist instance contains strong reference to its observed object, this reference assigned during initialization without dispatches to another threads, &#39;addObserver:&#39; also called during initialization without dispatches to another threads, and &#39;removeObserver:&#39; called during deallocation?"}, {"owner": {"reputation": 103, "user_id": 4343161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9421e455b068fb2f852ea5e746c1d?s=128&d=identicon&r=PG", "display_name": "Scott Ventura", "link": "https://stackoverflow.com/users/4343161/scott-ventura"}, "reply_to_user": {"reputation": 518, "user_id": 2618955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff45fe2c0bb307686918e8b143b8999?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey  Alpeev", "link": "https://stackoverflow.com/users/2618955/sergey-alpeev"}, "edited": false, "score": 0, "creation_date": 1556914393, "post_id": 47561938, "comment_id": 98603650, "body": "@SergeyAlpeev Yes all around.  I confirmed that the Receptionist&#39;s reference to the observed object is strong and is populated during the Receptionist&#39;s init.  The addObserver: also happens during Receptionist&#39;s init.  removeObserver: is called in dealloc.  One questionable smell not previously noticed: properties are all initialized (before addObserver) with self.x = x instead of _x = x.  Still seems unlikely to be the culprit."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 4343161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9421e455b068fb2f852ea5e746c1d?s=128&d=identicon&r=PG", "display_name": "Scott Ventura", "link": "https://stackoverflow.com/users/4343161/scott-ventura"}, "edited": false, "score": 0, "creation_date": 1511994920, "post_id": 47562246, "comment_id": 82083848, "body": "Your point about the rest of the method is valid, but so long as self is nil, it won&#39;t crash.  Half the reason we have receptionists is so that observer removal is automatically handled as part of the ARC deallocation.  I really have trouble with the idea of the owner needing to warn the receptionist that it&#39;s about to be deallocated.  The <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/KeyValueObserving/Articles/KVOBasics.html\" rel=\"nofollow noreferrer\">Apple docs</a> explicitly say &quot;A typical pattern is to...unregister during deallocation (usually in dealloc)&quot;."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 103, "user_id": 4343161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9421e455b068fb2f852ea5e746c1d?s=128&d=identicon&r=PG", "display_name": "Scott Ventura", "link": "https://stackoverflow.com/users/4343161/scott-ventura"}, "edited": false, "score": 0, "creation_date": 1511999625, "post_id": 47562246, "comment_id": 82085524, "body": "Under what circumstances could <code>self</code> be nil? How would you have gotten into the method in the first place? Observer removal is not automatically handled. The same docs you cite say &quot;An observer does not automatically remove itself when deallocated. The observed object continues to send notifications, oblivious to the state of the observer. However, a change notification, like any other message, sent to a released object, triggers a memory access exception. You therefore ensure that observers remove themselves before disappearing from memory.&quot;"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 103, "user_id": 4343161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9421e455b068fb2f852ea5e746c1d?s=128&d=identicon&r=PG", "display_name": "Scott Ventura", "link": "https://stackoverflow.com/users/4343161/scott-ventura"}, "edited": false, "score": 0, "creation_date": 1511999752, "post_id": 47562246, "comment_id": 82085563, "body": "I don&#39;t know what object you consider the &quot;owner&quot;. Whatever object added the observer is generally what&#39;s responsible for a) keeping a strong reference to the observer and probably the observed object; and b) removing the observer before releasing the strong reference to it."}, {"owner": {"reputation": 103, "user_id": 4343161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9421e455b068fb2f852ea5e746c1d?s=128&d=identicon&r=PG", "display_name": "Scott Ventura", "link": "https://stackoverflow.com/users/4343161/scott-ventura"}, "edited": false, "score": 0, "creation_date": 1512056664, "post_id": 47562246, "comment_id": 82111495, "body": "Thank you for the feedback!  I&#39;ve edited the question with the hope of answering your questions, but I will repeat here for readability.  Receptionist is a class used dozens of places in our app to simplify KVO.  Each Owner creates a Receptionist instance for each variable Owner wishes to observe.  Each Receptionist is kept as a strong reference by Owner, so Receptionist will be deallocated automatically if Owner is deallocated.  Receptionist&#39;s dealloc method invokes removeObserver.  The problem is not that Receptionist hasn&#39;t removed itself as an observer; that happens at the end of dealloc."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": false, "score": 1, "last_activity_date": 1511991444, "creation_date": 1511991444, "answer_id": 47562246, "question_id": 47561938, "link": "https://stackoverflow.com/questions/47561938/why-am-i-crashing-when-trying-to-create-a-weak-reference-to-self-while-dealloc-i/47562246#47562246", "title": "Why am I crashing when trying to create a weak reference to self while dealloc is happening on another thread?", "body": "<p>This has nothing to do with the creation of the weak reference. The line you cite should only be run in a context where something has a strong reference to <code>self</code>.</p>\n\n<p>Think about it: the crash that you're seeing may be during that line within your <code>observeValueForKeyPath:ofObject:change:context:</code> implementation, but, since there's clearly a race between deallocation and the call of that method, the deallocation could also occur during dispatch of that method call (or some other point). You're vulnerable to different crashes. So, no changes to the implementation of the method could possibly fix the problem, since the problem could manifest before your method is even called.</p>\n\n<p>It's your responsibility to keep a strong reference to an object if you're going to be calling methods on that object. Or, from the other perspective, to avoid calling methods on object pointers that you're not sure will live for the duration of the call (because you hold a strong reference or some other API guarantee).</p>\n\n<p>With KVO, you need to remove observers before releasing your last strong reference.</p>\n"}], "owner": {"reputation": 103, "user_id": 4343161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a9421e455b068fb2f852ea5e746c1d?s=128&d=identicon&r=PG", "display_name": "Scott Ventura", "link": "https://stackoverflow.com/users/4343161/scott-ventura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 4, "answer_count": 1, "score": 4, "last_activity_date": 1512056410, "creation_date": 1511990088, "last_edit_date": 1512056410, "question_id": 47561938, "link": "https://stackoverflow.com/questions/47561938/why-am-i-crashing-when-trying-to-create-a-weak-reference-to-self-while-dealloc-i", "title": "Why am I crashing when trying to create a weak reference to self while dealloc is happening on another thread?", "body": "<h1>Background</h1>\n\n<p>Our app has a class that attempts to implement the <a href=\"https://developer.apple.com/library/content/documentation/General/Conceptual/CocoaEncyclopedia/ReceptionistPattern/ReceptionistPattern.html\" rel=\"nofollow noreferrer\">Receptionist Pattern for KVO observation</a>.  Other classes throughout the app (such as view controllers) create instances of this one Receptionist class to serve as the KVO observer.  Each Receptionist instance keeps a copy of a block provided by the owner, which the Receptionist instance will invoke on the proper operation queue when a KVO notification arrives.  </p>\n\n<p>The Receptionist's dealloc method invokes the KVO removeObserver method.  The Owner keeps the Receptionist instance as a strong-reference field, so when the Owner is deallocated, the Receptionist will remove itself as an observer in the process of being deallocated.</p>\n\n<h1>The Crash</h1>\n\n<p>We're seeing reports from the field of crashes when the KVO notification is received by a Receptionist instance on one thread while the same instance's dealloc is in progress on another thread.  The Receptionist's implementation of  observeValueForKeyPath:ofObject:change:context: is crashing on this line:</p>\n\n<pre><code>    __weak typeof(self) weakSelf = self;\n</code></pre>\n\n<p>The stack trace in the crash report shows this as a call to objc_initWeak, which calls weak_register_no_lock, which calls _objc_fatal.</p>\n\n<p>The object whose key is being observed by this particular Receptionist is never deallocated.  The Owner is also not being deallocated; the Owner is replacing this Receptionist instance with a different one.</p>\n\n<h1>The Confusion</h1>\n\n<p>I can understand that it's not useful to create a weak reference to an object that's already being deallocated, but I would expect weakSelf to receive a nil value, not to cause a crash.  </p>\n\n<p>The <a href=\"https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-initweak\" rel=\"nofollow noreferrer\">documentation for objc_initWeak</a> explicitly mentions setting the target to null if the argument to which the reference is desired has begun deallocation.  That sounds like the desired behavior, but I don't think it's what I'm seeing.  I'm not keen to replace that line with an explicit call to objc_initWeak, since I doubt I'd manage the deallocation properly.</p>\n\n<p>Could it really be the Receptionist's responsibility to notice that its own deallocation is in progress before requesting a weak reference to self?   I would assume that there's some window between when an NSObject's deallocation starts and when that object's dealloc method is called, so signalling within the object from the dealloc method sounds flaky.</p>\n\n<p>Thank you for reading!</p>\n\n<p>PS: heavily edited after reading the questions raised by Ken Thomases.</p>\n"}, {"tags": ["c++", "objective-c", "nsmutabledictionary", "stdmap"], "answers": [{"tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 1, "last_activity_date": 1511979674, "last_edit_date": 1511979674, "creation_date": 1511978153, "answer_id": 47558897, "question_id": 47558681, "link": "https://stackoverflow.com/questions/47558681/difference-between-access-operator-of-nsmutabledictionary-and-stdmap/47558897#47558897", "title": "Difference between access operator of NSMutableDictionary and std::map", "body": "<p>I think the answer is <strong>NO</strong>. You can check it by the below code.</p>\n\n<pre><code>int main(int argc, char * argv[]) {\n  @autoreleasepool {\n    NSMutableDictionary&lt;NSNumber *, NSString *&gt; *D = [NSMutableDictionary new];\n    D[@10] = @\"ten\";\n    NSLog(@\"%@\", D); // { 10 = ten; } logged\n    if (D[@1] == nil) // will it create an entry for D[@1]?\n      NSLog(@\"%@\", D); // { 10 = ten; } logged. @1 key doesn't exist\n  }\n}\n</code></pre>\n\n<p>Beside of it, you should take a look at Apple document for <a href=\"https://developer.apple.com/documentation/foundation/nsdictionary/1414347-objectforkey\" rel=\"nofollow noreferrer\">objectForKey:</a> method.</p>\n\n<blockquote>\n  <p>The value associated with aKey, or nil if no value is associated with aKey.</p>\n</blockquote>\n\n<p><code>D[@1]</code> is syntax sugar of <code>[D objectForKey:@1]</code>. So according to the document, it will return nil if no value is associated with key <code>1</code>. That's why <code>D[@1] == nil</code></p>\n"}], "owner": {"reputation": 26593, "user_id": 811335, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ca588e5bfb1ac0a5d8ec8acb422aa564?s=128&d=identicon&r=PG", "display_name": "A. K.", "link": "https://stackoverflow.com/users/811335/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 47558897, "answer_count": 1, "score": 0, "last_activity_date": 1511979674, "creation_date": 1511977388, "question_id": 47558681, "link": "https://stackoverflow.com/questions/47558681/difference-between-access-operator-of-nsmutabledictionary-and-stdmap", "title": "Difference between access operator of NSMutableDictionary and std::map", "body": "<p>Does objective-c create a new entry when the key is not in the dictionary but accessed? Like in std::map operator[].</p>\n\n<pre><code>int main(int argc, const char * argv[]) {\n    @autoreleasepool {\n        NSMutableDictionary&lt;NSNumber *, NSString *&gt; *D = [NSMutableDictionary new];\n        D[@10] = @\"ten\";\n        if (D[@1] == nil) // will it create an entry for D[@1]?\n          NSLog(@\"Found with nil\");\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 1, "last_activity_date": 1511979945, "last_edit_date": 1511979945, "creation_date": 1511979622, "answer_id": 47559306, "question_id": 47558453, "link": "https://stackoverflow.com/questions/47558453/dont-animate-uitableview-cells-that-have-already-appeared/47559306#47559306", "title": "Don&#39;t animate UITableView cells that have already appeared", "body": "<p>You should have a property to keep track index of last cell which is displayed (name <code>lastCellDisplayedIndex</code>). Only animate cells which have index less than <code>lastCellDisplayedIndex</code>. Each time call <code>reloadData</code>, reset <code>lastCellDisplayedIndex = -1</code>.</p>\n\n<p>Try my below code.</p>\n\n<pre><code>@property (nonatomic, assign) NSUInteger lastCellDisplayed;\n\n- (void)viewDidLoad {\n  [super viewDidLoad];\n\n  [self reloadTableView];\n}\n\n// Use this method each time you want to reload data of tableView \n// instead of |reloadData| method\n- (void)reloadTableView {\n  _lastCellDisplayedIndex = -1;\n  [self.tableView reloadData];\n}\n\n- (void)tableView:(UITableView *)tableView didEndDisplayingCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {\n  // Update |_lastCellDisplayedIndex| each time a cell is displayed\n  _lastCellDisplayedIndex = MAX(indexPath.row, _lastCellDisplayedIndex);\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n  ...\n  // Only animate cells which have |indexPath.row| &lt; |_lastCellDisplayedIndex|\n  if (_lastCellDisplayedIndex &lt; indexPath.row) {\n    cell.alpha = 0;\n\n    [UIView animateWithDuration:1 delay:0.05 * indexPath.row options:0 animations:^(){\n      cell.alpha = 1;\n    } completion:^(BOOL finished){\n      NSLog(@\"animation complete\");\n    }];\n  } else {\n    cell.alpha = 1;\n  }\n  ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6766, "user_id": 2868292, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Xvh8s.jpg?s=128&g=1", "display_name": "Connor Neville", "link": "https://stackoverflow.com/users/2868292/connor-neville"}, "edited": false, "score": 0, "creation_date": 1511982091, "post_id": 47559912, "comment_id": 82077475, "body": "<code>willDisplayCell</code> will still get called for cells that have been reused. Same issue."}, {"owner": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "reply_to_user": {"reputation": 6766, "user_id": 2868292, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Xvh8s.jpg?s=128&g=1", "display_name": "Connor Neville", "link": "https://stackoverflow.com/users/2868292/connor-neville"}, "edited": false, "score": 0, "creation_date": 1511996468, "post_id": 47559912, "comment_id": 82084462, "body": "@Connor this is correct. I had actually tried <code>willDisplayCell</code> and it worked the same as having the code in <code>cellForIndexPath</code>"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "edited": false, "score": 0, "creation_date": 1512007798, "post_id": 47559912, "comment_id": 82087606, "body": "@Axemasta how about my answer ;)"}], "tags": [], "owner": {"reputation": 1820, "user_id": 235206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fd2ffbdd2956b5316396da65e54b6dc?s=128&d=identicon&r=PG", "display_name": "MiKL", "link": "https://stackoverflow.com/users/235206/mikl"}, "is_accepted": false, "score": 0, "last_activity_date": 1511982014, "creation_date": 1511982014, "answer_id": 47559912, "question_id": 47558453, "link": "https://stackoverflow.com/questions/47558453/dont-animate-uitableview-cells-that-have-already-appeared/47559912#47559912", "title": "Don&#39;t animate UITableView cells that have already appeared", "body": "<p>The best approach for this is to add your animation block and any change to your cell's frame or alpha, in the <code>tableView:willDisplayCell:forRowAtIndexPath:</code> method of your <code>UITableViewDelegate</code> </p>\n"}, {"comments": [{"owner": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "edited": false, "score": 0, "creation_date": 1511999142, "post_id": 47563326, "comment_id": 82085385, "body": "yes, I did have this idea and have started working on an implementation. I mainly asked this question to see if apple provide us with a way of doing thise (allowing me to be nice and lazy =]). I will probably store the <code>hasBeenDiaplayed</code> data locally as I am using the same table view for different purposes!"}], "tags": [], "owner": {"reputation": 6766, "user_id": 2868292, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Xvh8s.jpg?s=128&g=1", "display_name": "Connor Neville", "link": "https://stackoverflow.com/users/2868292/connor-neville"}, "is_accepted": false, "score": 0, "last_activity_date": 1511996657, "creation_date": 1511996657, "answer_id": 47563326, "question_id": 47558453, "link": "https://stackoverflow.com/questions/47558453/dont-animate-uitableview-cells-that-have-already-appeared/47563326#47563326", "title": "Don&#39;t animate UITableView cells that have already appeared", "body": "<p>My recommended approach, assuming you have some backing data source to provide data in <code>cellForRowAtIndexPath</code>, is to add some mutable property <code>hasBeenDisplayed</code> to your model objects (or an <code>NSDictionary</code> that maps each model object to a bool that indicates whether or not it has been displayed). This logic is complicated enough that you want some logic code to ensure the consistency of the view code. Then, once you have this property, you can call your custom animation in <code>cellForRowAtIndexPath</code> if the cell has not yet been displayed.</p>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "is_accepted": false, "score": 0, "last_activity_date": 1512036353, "creation_date": 1512036353, "answer_id": 47570718, "question_id": 47558453, "link": "https://stackoverflow.com/questions/47558453/dont-animate-uitableview-cells-that-have-already-appeared/47570718#47570718", "title": "Don&#39;t animate UITableView cells that have already appeared", "body": "<p>Thanks to @trungduc for the answer, I'm posting the completed solution to this in the hopes people will find it useful. To stop the table drawing cells that have already appeared you need to implement a variable to track the maximum index that has been displayed on the table, <code>lastCellDisplayedIndex</code>. In @trungduc's answer he put this variable in the <code>- (void)tableView:(UITableView *)tableView didEndDisplayingCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath</code> method however I found this created some errors making some cells redraw themselves. I had a read up on the difference between the <code>cellForRow</code> and <code>cellWillDisplay</code> methods and it seemed like the best place to put the animation was <code>cellWillDisplay</code> as the cell has been initialised and is apparently the place you should be performing UI tweaks to a cell (like animations!).</p>\n\n<p>This method looks like this:</p>\n\n<pre><code>-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    lastCellDisplayedIndex = MAX(indexPath.row, lastCellDisplayedIndex);\n    NSLog(@\"lastCellDisplayedIndex = %ld, indexPath for Cell = %ld\", lastCellDisplayedIndex, indexPath.row);\n\n    if (lastCellDisplayedIndex &lt;= indexPath.row){\n        cell.alpha = 0;\n        [UIView animateWithDuration:2.0 animations:^(){\n            cell.alpha = 1;\n        }];\n        if (lastCellDisplayedIndex == totalCellsToDisplay - 1){\n            NSLog(@\"END OF TABLE ANIMATIONS!\");\n            lastCellDisplayedIndex = totalCellsToDisplay + 1;\n        }\n    }\n    else {\n        cell.alpha = 1;\n    }\n\n}\n</code></pre>\n\n<p>This method handles almost everything. It will first change the value of <code>lastCellDisplayedIndex</code> to the value of the max index the table has seen. Next it will decide whether the cell it is handling should be animated or left as is. I also had to add a guard variable (of sorts), <code>totalCellsToDisplay</code> would act as your tables datasource array: - </p>\n\n<pre><code>(NSInteger)tableView:(nonnull UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return totalCellsToDisplay;\n}\n</code></pre>\n\n<p>So in your real app you would instead have</p>\n\n<pre><code>- (NSInteger)tableView:(nonnull UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return yourTableDataArray.count;\n}\n</code></pre>\n\n<p>The reason I am checking the maximum number of cells being drawn is if you just have this code: </p>\n\n<pre><code>lastCellDisplayedIndex = MAX(indexPath.row, lastCellDisplayedIndex);\n\nif (lastCellDisplayedIndex &lt;= indexPath.row){}\n</code></pre>\n\n<p>then the maximum index will never go higher than the final cell, so this cell will be reanimated every-time you scroll up and down. To fix this when the <code>indexPath</code> = <code>the total cells - 1</code> (because of zero index) then you bump the value of <code>lastCellDisplayedIndex</code> up so that no more cells will ever get drawn.</p>\n\n<p>Finally we need to solve the issue of how many cells the table will initially draw. I'm not sure quite how this works but in my testing it would always draw 15 cells (if I returned more than 15). Anyway I implemented both my staggered load animation and fixed this problem with my loading animation function.</p>\n\n<pre><code>- (void)tableFadeInAnimation {\n    [_myTable reloadData];\n\n    NSArray&lt;UITableViewCell *&gt; *cells = _myTable.visibleCells;\n\n    NSInteger index = 0;\n\n    for (UITableViewCell * m in cells){\n        UITableViewCell *cell = m;\n        cell.alpha = 0;\n        [UIView animateWithDuration:0.5 delay:0.25 * index options:0 animations:^(){\n            cell.alpha = 1;\n        } completion:^(BOOL finished){\n            lastCellDisplayedIndex = _myTable.visibleCells.count;\n            NSLog(@\"Table Animation Finished, lastCellDisplayed Index = %ld\", lastCellDisplayedIndex);\n        }];\n        NSLog(@\"end of table animation\");\n        index += 1;\n    }\n}\n</code></pre>\n\n<p>I used the completion block of the function to set the value of <code>lastCellDisplayed</code> equal to the number of cells that are visible. Now the table view will animate all new cells.</p>\n\n<p>Hope this helps and thanks to @trungduc for the answer!</p>\n"}], "owner": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 47559306, "answer_count": 4, "score": 0, "last_activity_date": 1512036353, "creation_date": 1511976628, "last_edit_date": 1511988295, "question_id": 47558453, "link": "https://stackoverflow.com/questions/47558453/dont-animate-uitableview-cells-that-have-already-appeared", "title": "Don&#39;t animate UITableView cells that have already appeared", "body": "<p>I have added some animation to a table view to make it look nicer when it loads. In the controller's <code>viewDidLoad</code> I make an asynchronous request for data and when it returns the table view is populated. </p>\n\n<p>When my table loads the cells are revealed one by one. <a href=\"https://medium.com/@missyalienn/animate-that-table-view-7fca75649769\" rel=\"nofollow noreferrer\">(I took inspiration from this excellent guide)</a>.</p>\n\n<pre><code>- (void)tableFadeInAnimation {\n    //[_venueTableView reloadData];\n\n    NSArray&lt;UITableViewCell *&gt; *cells = _venueTableView.visibleCells;\n\n    NSInteger index = 0;\n\n    for (UITableViewCell * m in cells){\n        UITableViewCell *cell = m;\n        cell.alpha = 0;\n        [UIView animateWithDuration:1 delay:0.25 * index options:0 animations:^(){\n            cell.alpha = 1;\n        } completion:nil];\n        NSLog(@\"end of table animation\");\n        index += 1;\n    }\n}\n</code></pre>\n\n<p>My problem with running this as an initialising function is that once this finishes my table has no more animations to perform. I then took this principle to cellForRowAtIndexPath (removing the loop).</p>\n\n<pre><code>cell.alpha = 0;\n[UIView animateWithDuration:2.0 animations:^(){\n        cell.alpha = 1;\n    }];\n</code></pre>\n\n<p>This would load all the cells together but would animate new cells appearing on the table.</p>\n\n<pre><code>cell.alpha = 0;\n\n[UIView animateWithDuration:1 delay:0.05 * indexPath.row options:0 animations:^(){\n    cell.alpha = 1;\n} completion:^(BOOL finished){\n    NSLog(@\"animation complete\");\n}];\n</code></pre>\n\n<p>This made the table load each cell 1 by 1 however it is tied to all the cells (not the visible ones) so the further you go down the table, the longer the loading time for the cell.</p>\n\n<p>Also when you move back up the table, all the older cells reanimate onto the table. I want the old cells to remain and the new cells to animate. Is there a way I can keep track of which cells have been loaded and only animate brand new, never before seen cells?</p>\n"}, {"tags": ["ios", "objective-c", "nsfilemanager"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511975895, "post_id": 47557993, "comment_id": 82074154, "body": "This makes no sense. You do a full recursive listing of all files and folders in the Documents folder. You then iterate through that entire list and only keep the result of the very last entry (if any). You then assume that last entry is the movie URL. Why do you do this? Your Documents folder can contain all kinds of files and other folders. What are you really trying to do here?"}, {"owner": {"reputation": 361, "user_id": 5039399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8bfb945cd3a6b9b79943699ed00d8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mangesh Murhe", "link": "https://stackoverflow.com/users/5039399/mangesh-murhe"}, "edited": false, "score": 0, "creation_date": 1511976334, "post_id": 47557993, "comment_id": 82074398, "body": "In &quot; if (videoUrl.absoluteString.length == 0)&quot;  instance videoUrl  and vedioURL are same instance??"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 6597313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WUTtjqihZ9A/AAAAAAAAAAI/AAAAAAAAADM/nSQjr0tRrEE/photo.jpg?sz=128", "display_name": "Harminder Singh", "link": "https://stackoverflow.com/users/6597313/harminder-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1512099787, "last_edit_date": 1512099787, "creation_date": 1512037973, "answer_id": 47571253, "question_id": 47557993, "link": "https://stackoverflow.com/questions/47557993/check-if-documents-directory-url-empty/47571253#47571253", "title": "Check if Documents Directory Url empty", "body": "<p>You can first get the data from the URL and check if it is not empty.</p>\n\n<pre><code>NSData *data = [NSData dataWithContentsOfURL:videoURL];\n</code></pre>\n\n<p>Here,if data is not empty you will perform the task accordingly:</p>\n\n<pre><code> if (data == nil) \n  {\n       //Do not perform the task.\n\n  }\nelse \n  {\n      //perform the task\n  }\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9013501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf957854db0399952a8c978750751dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/9013501/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 47571253, "answer_count": 1, "score": 1, "last_activity_date": 1512099787, "creation_date": 1511974868, "last_edit_date": 1511975605, "question_id": 47557993, "link": "https://stackoverflow.com/questions/47557993/check-if-documents-directory-url-empty", "title": "Check if Documents Directory Url empty", "body": "<p>In the below code I am trying to check if my Documents Directory Url is empty, so in case it's empty it will show now way or continue to do what ever I need.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>- (IBAction)saveVideo:(id)sender {\n    NSURL *vedioURL;\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n    NSArray *filePathsArray = [[NSFileManager defaultManager] subpathsOfDirectoryAtPath:documentsDirectory  error:nil];\n    NSLog(@\"files array %@\", filePathsArray);\n\n    NSString *fullpath;\n    for ( NSString *apath in filePathsArray )\n    {\n        fullpath = [documentsDirectory stringByAppendingPathComponent:apath];\n        vedioURL =[NSURL fileURLWithPath:fullpath];\n    }\n    NSLog(@\"vurl %@\",vedioURL);\n    NSURL *movieUrl = [NSURL fileURLWithPath:fullpath];\n    NSString *moviePath = [movieUrl path];\n\n    if (videoUrl.absoluteString.length == 0) {\n        NSLog(@\"No way\");\n    } else {\n        self.imageViewPost.image = [self generateThumbImage:moviePath];\n        AVPlayerItem * playeritem = [AVPlayerItem playerItemWithURL:vedioURL];\n        [_player replaceCurrentItemWithPlayerItem:playeritem];\n        [_player play];\n        [self clearTmpDirectory];\n    }\n}\n</code></pre>\n\n<p>The app crashed and it shows Null value to my Url:</p>\n\n<pre><code>vurl (null)\n2017-11-29 20:54:24.288473+0400 EasyVideo[43587:2429960] ***\nTerminating app due to uncaught exception 'NSInvalidArgumentException',\n reason: '*** -[NSURL initFileURLWithPath:]: nil string parameter'\n</code></pre>\n\n<p>I hope to solve this issue.\nThanks</p>\n"}, {"tags": ["ios", "objective-c", "uitextview"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511972252, "post_id": 47557148, "comment_id": 82071887, "body": "Maybe <code>textViewDidChangeSelection:</code>? Or maybe with this: <a href=\"https://stackoverflow.com/questions/18704692/detect-character-tapped-in-uitextview\" title=\"detect character tapped in uitextview\">stackoverflow.com/questions/18704692/&hellip;</a> and the <code>rangeEnclosingPosition:withGranularity:inDirection:</code>, but not sure if word granularity considered with underscore."}, {"owner": {"reputation": 16043, "user_id": 127853, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ppot0.png?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/127853/kyle"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511972587, "post_id": 47557148, "comment_id": 82072105, "body": "I think if I customize UITextInputTokenizer -&gt; rangeEnclosingPosition to include underscores for word granularity that should do the trick for me! I&#39;ll give it a shot."}, {"owner": {"reputation": 16043, "user_id": 127853, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ppot0.png?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/127853/kyle"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1511975910, "post_id": 47557148, "comment_id": 82074163, "body": "Based on your tip I was able to get it working. A first draft is here: <a href=\"https://pastebin.com/2jsUAB7t\" rel=\"nofollow noreferrer\">pastebin.com/2jsUAB7t</a> -- Probably a few bugs, as I haven&#39;t tested all to far yet."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511975989, "post_id": 47557148, "comment_id": 82074194, "body": "Great if it seems to work. Do not forget to post an answer when it&#39;s &quot;fully&quot; done ;)"}], "owner": {"reputation": 16043, "user_id": 127853, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ppot0.png?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/127853/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511971903, "creation_date": 1511971903, "question_id": 47557148, "link": "https://stackoverflow.com/questions/47557148/modify-uitextview-double-tap-selection-to-handle-underscores", "title": "Modify UITextView double tap selection to handle underscores", "body": "<p>When you double tap on a UITextView, it will by default select the closest word which generally works fine. The problem is that if my textview contains something such as:</p>\n\n<pre><code>SELECT * FROM my_table\n</code></pre>\n\n<p>and you double tap on the <code>table</code> part of <code>my_table</code>, only <code>table</code> will be selected, however I want to select the entire <code>my_table</code> string.</p>\n\n<p>I can fix this myself by adding a <code>UITapGestureRecognizer</code> and handling double taps, detecting ranges myself and selecting the range myself, however I was wondering if there was anything I could override on UITextView to handle this case (for example macOS has a <a href=\"https://developer.apple.com/documentation/foundation/nsattributedstring/1534748-doubleclickatindex?language=objc\" rel=\"nofollow noreferrer\">doubleClickAtIndex</a> method which can be overridden to handle this exact case.</p>\n"}, {"tags": ["ios", "objective-c", "nsarray", "nsdictionary"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1511968069, "post_id": 47555857, "comment_id": 82068844, "body": "Read the braces / parentheses <code>{}</code> is dictionary, key subscripted <code>()</code> is array, index subscripted. The string is the first item in the array for key <code>message</code> in the dictionary for key <code>response</code> in the root dictionary."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1511968111, "post_id": 47555857, "comment_id": 82068873, "body": "try parsing the JSON as a first step \u2013 and you will figure out the rest."}, {"owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "edited": false, "score": 0, "creation_date": 1511968135, "post_id": 47555857, "comment_id": 82068887, "body": "This will help you - <a href=\"https://stackoverflow.com/questions/5547311/how-do-i-parse-json-with-objective-c\" title=\"how do i parse json with objective c\">stackoverflow.com/questions/5547311/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8923, "user_id": 3182143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2405fee60fb30f5cf607562d4669b6d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3182143", "link": "https://stackoverflow.com/users/3182143/user3182143"}, "is_accepted": true, "score": 0, "last_activity_date": 1511970896, "last_edit_date": 1511970896, "creation_date": 1511969304, "answer_id": 47556312, "question_id": 47555857, "link": "https://stackoverflow.com/questions/47555857/ios-how-can-i-get-value-from-object-which-is-inside-an-array-which-is-inside-o/47556312#47556312", "title": "iOS: How can I get value from object which is inside an array, which is inside one dictionary?", "body": "<p>In Objective C</p>\n\n<pre><code> NSArray *arrRes = [[jsonRes objectForKey:@\"response\"] objectForkey:@\"message\"];\n NSLog(@\"The output result is - %@\",arrRes);\n</code></pre>\n\n<p>Then if you want to print the string from the array do like below</p>\n\n<pre><code>for(int i=0;i&lt;arrRes.count;i++){\n        NSString *strRes = arrRes[i];\n        NSLog(@\"The strRes is - %@\",strRes);\n}\n</code></pre>\n"}], "owner": {"reputation": 465, "user_id": 8918849, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-2GE5yI9avY4/AAAAAAAAAAI/AAAAAAAAABA/eamDrpYLGxg/photo.jpg?sz=128", "display_name": "Nikita Patil", "link": "https://stackoverflow.com/users/8918849/nikita-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 47556312, "answer_count": 1, "score": -4, "last_activity_date": 1511970896, "creation_date": 1511967937, "last_edit_date": 1511969939, "question_id": 47555857, "link": "https://stackoverflow.com/questions/47555857/ios-how-can-i-get-value-from-object-which-is-inside-an-array-which-is-inside-o", "title": "iOS: How can I get value from object which is inside an array, which is inside one dictionary?", "body": "<p>I am getting a JSON like this:</p>\n\n<pre><code>{\n    response =  {\n        message = (\n            \"Permission denied, you do not have permission to access the requested page.\"\n        );\n    };\n}\n</code></pre>\n\n<p>I want to print:</p>\n\n<blockquote>\n  <p>\"Permission denied, you do not have permission to access the requested page.\"</p>\n</blockquote>\n\n<p>How can I get the value?</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uinavigationitem"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511971354, "post_id": 47555811, "comment_id": 82071279, "body": "Where did you add the item?"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1511974188, "post_id": 47555811, "comment_id": 82073107, "body": "Are you sure <code>[@&quot;SETTING_INTRO_CONFIRM&quot; translate]</code> is returning a value? Your code is a little confusing... you instantiate <code>firstRunViewController</code>, then call <code>addLeftNavigationButtonClose</code> method inside it (which I&#39;m assuming tries to add a <code>leftBarButtonItem</code>? But you <i>then</i> add it to a Navigation Controller? And are you running your <code>confirmButton</code> code in <code>viewDidLoad()</code> of <code>firstRunViewController</code>? If not, where are you doing that?"}, {"owner": {"reputation": 501, "user_id": 1241217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9010b18e17b596bb28c04fb891e27575?s=128&d=identicon&r=PG", "display_name": "schmru", "link": "https://stackoverflow.com/users/1241217/schmru"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1511978590, "post_id": 47555811, "comment_id": 82075752, "body": "@DonMag I edited the code so that I removed the things that aren&#39;t important, and yes the string is returned."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1511983684, "post_id": 47555811, "comment_id": 82078333, "body": "Hmmm... not sure what&#39;s going on. Have you put a <code>NSLog()</code> in there to make sure the code is executing? I just did a quick test, and the button is showing up without issue. I put it up as a GitHub repo if you want to take a look and see if anything is odd: <a href=\"https://github.com/DonMag/schmrutest\" rel=\"nofollow noreferrer\">github.com/DonMag/schmrutest</a>"}, {"owner": {"reputation": 501, "user_id": 1241217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9010b18e17b596bb28c04fb891e27575?s=128&d=identicon&r=PG", "display_name": "schmru", "link": "https://stackoverflow.com/users/1241217/schmru"}, "edited": false, "score": 0, "creation_date": 1512024853, "post_id": 47555811, "comment_id": 82092485, "body": "Like I already said, it is also weird for me, since on iOS 9.3 it works fine and I know that the code executes."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1512049021, "post_id": 47555811, "comment_id": 82106328, "body": "The example I put up is working fine on iOS 11. Grab it, and see if it works for you also. If it does, then look for differences between what you&#39;re doing and what I did."}], "owner": {"reputation": 501, "user_id": 1241217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9010b18e17b596bb28c04fb891e27575?s=128&d=identicon&r=PG", "display_name": "schmru", "link": "https://stackoverflow.com/users/1241217/schmru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 546, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1512031565, "creation_date": 1511967742, "last_edit_date": 1512031565, "question_id": 47555811, "link": "https://stackoverflow.com/questions/47555811/navigation-item-not-showing", "title": "Navigation item not showing", "body": "<p>so I've been having problems with showing uibarbuttonitem in navigation. \nI am using code:</p>\n\n<pre><code>    UIBarButtonItem *confirmButton = [[UIBarButtonItem alloc]init];\n    confirmButton.title = [@\"SETTING_INTRO_CONFIRM\" translate];\n    confirmButton.style = UIBarButtonItemStylePlain;\n    confirmButton.target = self;\n    confirmButton.action = @selector(confirmSettingsBtnClick:);\n\n    self.navigationItem.rightBarButtonItem = confirmButton;\n</code></pre>\n\n<p>Adding the button to empty navigation to conform something I selected.\nOn iOS 9.3 it works fine but on iOS 11 the button is not showing.</p>\n\n<p>The view is showed like this:</p>\n\n<pre><code>FirstRunViewController *firstRunViewController = [self getFirstRunViewControllerForActivationContentType:ActivationContentTypeForgottenPasscode];\nUINavigationController *firstRunViewControllerWithNavigation = [[UINavigationController alloc]initWithRootViewController:firstRunViewController];\n\ndispatch_async(dispatch_get_main_queue(), ^{\n    [viewController.navigationController presentViewController:firstRunViewControllerWithNavigation animated:YES completion:nil];\n});\n</code></pre>\n\n<p>If anyone has any idea I would be very happy.</p>\n\n<p>EDIT 1:\nThe add button code is called in ViewDidLoad of the firstRunViewController. I even tried to put it in viewWill and didAppear but nothing worked.</p>\n\n<p>EDIT 2:\nSo for testing I tried to check if the button exist with code</p>\n\n<pre><code>NSArray *test = self.navigationItem.rightBarButtonItems;\n</code></pre>\n\n<p>I called it in viewWillAppear and the button exists, it is just not shown.</p>\n\n<p>EDIT 3: \nSo the solution was to change</p>\n\n<pre><code> [viewController.navigationController presentViewController:firstRunViewControllerWithNavigation animated:YES completion:nil];\n</code></pre>\n\n<p>to:</p>\n\n<pre><code> [self.appDelegate.window setRootViewController:firstRunViewControllerWithNavigation];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "wkwebview"], "comments": [{"owner": {"reputation": 126, "user_id": 4895935, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205812621407413/picture?type=large", "display_name": "Or Polaczek", "link": "https://stackoverflow.com/users/4895935/or-polaczek"}, "edited": false, "score": 0, "creation_date": 1512065460, "post_id": 47555156, "comment_id": 82117137, "body": "Possible duplicate of  <a href=\"https://stackoverflow.com/questions/39772007/wkwebview-persistent-storage-of-cookies\">this one</a> .  One thing I can share: if you have an iframe inside the WKWebView it CAN NOT create cookies. Let alone keep them. FYI.  AFAIK it&#39;s all by design."}, {"owner": {"reputation": 575, "user_id": 1210182, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfa619edb8b241d567cefbc9df16609d?s=128&d=identicon&r=PG", "display_name": "user1210182", "link": "https://stackoverflow.com/users/1210182/user1210182"}, "edited": false, "score": 0, "creation_date": 1515525197, "post_id": 47555156, "comment_id": 83329975, "body": "I am facing the same issue. So far, I wonder if Apple&#39;s updated policy in regards to third party cookies has something to do with this. I will share if I find any solutions."}], "owner": {"reputation": 1435, "user_id": 1478520, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/M4vMD.png?s=128&g=1", "display_name": "Erez Hod", "link": "https://stackoverflow.com/users/1478520/erez-hod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1893, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1511965763, "creation_date": 1511965763, "question_id": 47555156, "link": "https://stackoverflow.com/questions/47555156/wkwebview-not-saving-cookies-on-ios-11-but-works-fine-on-ios-10", "title": "WKWebView not saving cookies on iOS 11, but works fine on iOS 10", "body": "<p>I have a <code>WKWebView</code> that displays a webpage with login.\nAfter logging in, it saves the cookies and takes the user to his admin panel (again, everything is happening inside the WebView).</p>\n\n<p>When I close the app and re-open, the cookies are not saved and I have to re-login on <code>iOS 11</code>.</p>\n\n<p>If I run the app on <code>iOS 10</code>, everything works fine and the cookie data is persistent.</p>\n\n<p>Another Issue: Another problem I have, the <code>WKWebView</code> on <code>iOS 11</code> starts like it's scrolled down (hiding the title of the webpage and I have to scroll to reveal it). On <code>iOS 10</code> it works fine.</p>\n\n<p>What happened? did Apple screw up the <code>WKWebView</code> object?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uiscrollview", "uiscrollviewdelegate"], "comments": [{"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1511963805, "post_id": 47554321, "comment_id": 82065698, "body": "I believe this issue will need multiple steps to fix. First one is providing enough code to reproduce/understand your issue or even better; try creating a fresh project that has minimum code that still produces this issue. Then upload this code or project."}, {"owner": {"reputation": 190, "user_id": 2606782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/423a3d7600d2e96f7f8f570d131d9dd4?s=128&d=identicon&r=PG", "display_name": "user2606782", "link": "https://stackoverflow.com/users/2606782/user2606782"}, "reply_to_user": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1511968731, "post_id": 47554321, "comment_id": 82069328, "body": "@MaticOblak - Is there a way atleast via which i can get the zoomed/scaled view, say suppose when i zoomed in can i somehow retrieve the zoomed view ??"}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1511968851, "post_id": 47554321, "comment_id": 82069419, "body": "Don\u2019t you already have a method viewForZoomingInScrollView which does exactly that by definition?"}, {"owner": {"reputation": 190, "user_id": 2606782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/423a3d7600d2e96f7f8f570d131d9dd4?s=128&d=identicon&r=PG", "display_name": "user2606782", "link": "https://stackoverflow.com/users/2606782/user2606782"}, "reply_to_user": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1511969023, "post_id": 47554321, "comment_id": 82069550, "body": "actually it&#39;s the view that will be scaled/zoomed... but then what about the view that has come out after scaling ?I have this and i return the view that needs scaling."}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1511969126, "post_id": 47554321, "comment_id": 82069607, "body": "I am not sure what you mean by that. It would truly be helpful if added some more code or more detail explanation on what you are doing.."}, {"owner": {"reputation": 190, "user_id": 2606782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/423a3d7600d2e96f7f8f570d131d9dd4?s=128&d=identicon&r=PG", "display_name": "user2606782", "link": "https://stackoverflow.com/users/2606782/user2606782"}, "reply_to_user": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1511970043, "post_id": 47554321, "comment_id": 82070338, "body": "viewForZoomingInScrollView  - Asks the delegate for the view to scale when zooming is about to occur in the scroll view. (as per apple) so i return my view which needs scaling from here. But my problem is after scaling has been completed can i somehow retrieve that new scaled view"}], "owner": {"reputation": 190, "user_id": 2606782, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/423a3d7600d2e96f7f8f570d131d9dd4?s=128&d=identicon&r=PG", "display_name": "user2606782", "link": "https://stackoverflow.com/users/2606782/user2606782"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511963169, "creation_date": 1511963169, "question_id": 47554321, "link": "https://stackoverflow.com/questions/47554321/uiscrollview-zoom-in-out-and-find-the-zoomed-view", "title": "UIScrollView Zoom in/out and find the zoomed view", "body": "<p>My problem goes like this...<br>\nI have a ViewController class and i create a UIScrollView and add it as subview of my viewcontroller's view, basically i set the following things . </p>\n\n<pre><code>_randomView = [[UIScrollView alloc] init];\n_randomView.minimumZoomScale=1;\n_randomView.maximumZoomScale=5;\n_randomView.delegate = self;\n[self.view addSubView:_randomView];\n</code></pre>\n\n<p>Now from some other place in my class based on callback i add some other views(eg. someOtherView) to my _randomView which i zoom in/out using </p>\n\n<pre><code>- (nullable UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView {\n return someOtherView\n}\n</code></pre>\n\n<p>Now since my application is tab based application if the user goes from current screen to some other screen i show a small window wherein i show the view of my ViewController class. Everything works fine when user zooms in/out, the problem is in default state i.e zoom scale 1  and i go to some other tab and i add my ViewController's view to my small window's view it works fine but if i zoom in my view and then i switch to other tab the view shows BLACK(default background color of Viewcontroller's view)....</p>\n\n<p>After further debugging i see that when i zoom in and i see BLACK view when i switch to some other screen the scroll bars position in UIScrollView(view zoomed) is different, if i again scroll those to top and left and switch back i can see the view back again.</p>\n\n<p>Is there a way i can get rid of this issue, i want to be able to show the zoomed view in my other tab's window as well??</p>\n\n<p>Someone please help and yes i am using autolayout.</p>\n"}, {"tags": ["objective-c", "networking", "watchos", "watchconnectivity"], "answers": [{"tags": [], "owner": {"reputation": 817, "user_id": 8824640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7lWeUKmrMmw/AAAAAAAAAAI/AAAAAAAAARw/Qu4nApd1Qg8/photo.jpg?sz=128", "display_name": "Hitesh Sultaniya", "link": "https://stackoverflow.com/users/8824640/hitesh-sultaniya"}, "is_accepted": false, "score": 1, "last_activity_date": 1512453668, "creation_date": 1512453668, "answer_id": 47647011, "question_id": 47554150, "link": "https://stackoverflow.com/questions/47554150/make-request-from-apple-watch-requests-via-ios-app/47647011#47647011", "title": "Make request from apple watch requests via ios app", "body": "<p>You can use this method to send notification to ios App to make request</p>\n\n<pre><code>[[WCSession defaultSession] sendMessage:dictSendMessage replyHandler:^(NSDictionary&lt;NSString *,id&gt; * _Nonnull replyMessage) {\n} errorHandler:^(NSError * _Nonnull error) {\n\n    }];\n</code></pre>\n\n<p>And you can receive that notification with this delegate method in ios app</p>\n\n<pre><code>-(void)session:(WCSession *)session didReceiveMessage:(NSDictionary&lt;NSString *,id&gt; *)message replyHandler:(void (^)(NSDictionary&lt;NSString *,id&gt; * _Nonnull))replyHandler\n{\n}\n</code></pre>\n\n<p>Note : You can also request to server from watch app it self with the help of</p>\n\n<pre><code>NSURLSessionDataTask *taskDownload = [[NSURLSession sharedSession] dataTaskWithURL:url completionHandler:^(NSData *data, NSURLResponse *response, NSError *error)\n    {\n}];\n// Start the task.\n    [taskDownload resume];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9025917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d58cbcf31be159a4e2c3007320f802?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/9025917/cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1512453668, "creation_date": 1511962549, "question_id": 47554150, "link": "https://stackoverflow.com/questions/47554150/make-request-from-apple-watch-requests-via-ios-app", "title": "Make request from apple watch requests via ios app", "body": "<p>Now I'm developing apple watch extension and I use WatchConnectivity. \nCan I send message to ios app ios application make a request ?</p>\n\n<p>Who can make a request to the server ios app or watch extension ?</p>\n\n<p>P.S. Use AFNetworking to work with server.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "signing", "key-pair", "nativescript-plugin"], "answers": [{"tags": [], "owner": {"reputation": 3344, "user_id": 4135367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3EcLj.jpg?s=128&g=1", "display_name": "David Artmann", "link": "https://stackoverflow.com/users/4135367/david-artmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1515837016, "creation_date": 1515837016, "answer_id": 48238700, "question_id": 47553494, "link": "https://stackoverflow.com/questions/47553494/generate-ec-keypair-for-ios-in-nativescript-plugin/48238700#48238700", "title": "Generate EC keypair for iOS in NativeScript plugin", "body": "<p>After trying out several settings I found a solution for this. My answer is documented in the following <a href=\"https://github.com/NativeScript/NativeScript/issues/5133\" rel=\"nofollow noreferrer\">GitHub issue</a>.</p>\n\n<p>Best regards,\nDavid</p>\n"}], "owner": {"reputation": 3344, "user_id": 4135367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3EcLj.jpg?s=128&g=1", "display_name": "David Artmann", "link": "https://stackoverflow.com/users/4135367/david-artmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 48238700, "answer_count": 1, "score": 0, "last_activity_date": 1515837016, "creation_date": 1511960408, "question_id": 47553494, "link": "https://stackoverflow.com/questions/47553494/generate-ec-keypair-for-ios-in-nativescript-plugin", "title": "Generate EC keypair for iOS in NativeScript plugin", "body": "<p><strong>Preamble</strong>: I am trying to create an elliptic curve key pair in my NativeScript plugin (<em>thus I am forced to use Objective-C</em>) for signing and verification purpose. </p>\n\n<p>At first I want to say that the presented state below is the result of a lot of tries doing it in different ways (I am sitting on this for days, unfortunately) and I considered not only this approach. At the beginning of this project I simply followed the Apple docs and thought I will succeed easily. What a misbelief.</p>\n\n<p><strong>My requirements</strong>: to keep it easy I want to store the private key inside of the Keychain (Secure Enclave would be the next step), and calculate the public key via <code>SecKeyCopyPublicKey</code> after I retrieved the key via <code>SecItemCopyMatching</code>, like described in the <a href=\"https://developer.apple.com/documentation/security/certificate_key_and_trust_services/keys/generating_new_cryptographic_keys?language=objc\" rel=\"nofollow noreferrer\">Apple docs</a>.</p>\n\n<p><strong>Status quo</strong>: the model for this originally came from the <a href=\"https://github.com/ozgurshn/EncryptionForiOS/blob/master/RsaEncryption/CryptoUtil.m\" rel=\"nofollow noreferrer\">here</a>. I never got it working with <code>SecKeyCreateRandomKey</code> thus I am trying to use <code>SecKeyGeneratePair</code> atm. What I currently implemented looks like this:</p>\n\n<pre><code>const privAttr: NSMutableDictionary&lt;string, any&gt; = NSMutableDictionary.new&lt;string, any&gt;();\nprivAttr.setObjectForKey(\"my.tag.sign.private\", kSecAttrApplicationTag);\nprivAttr.setObjectForKey(kCFBooleanTrue, kSecAttrIsPermanent);\n\nconst pubAttr: NSMutableDictionary&lt;string, any&gt; = NSMutableDictionary.new&lt;string, any&gt;();\npubAttr.setObjectForKey(\"my.tag.sign.public\", kSecAttrApplicationTag);\npubAttr.setObjectForKey(kCFBooleanTrue, kSecAttrIsPermanent);\n\nconst param: NSMutableDictionary&lt;string, any&gt; = NSMutableDictionary.new&lt;string, any&gt;();\nparam.setObjectForKey(kSecAttrKeyTypeECSECPrimeRandom, kSecAttrKeyType);\nparam.setObjectForKey(256, kSecAttrKeySizeInBits);\nparam.setObjectForKey(privAttr, kSecPrivateKeyAttrs);\nparam.setObjectForKey(pubAttr, kSecPublicKeyAttrs);\n\nlet pubKeyRef = new interop.Reference&lt;any&gt;();\nlet privKeyRef = new interop.Reference&lt;any&gt;();\nconst status = SecKeyGeneratePair(param, pubKeyRef, privKeyRef);\n</code></pre>\n\n<p>Currently I am getting an error -50. According to <a href=\"https://www.osstatus.com/search/results?platform=all&amp;framework=all&amp;search=-34018\" rel=\"nofollow noreferrer\">OSStatus.com</a> this means that my given parameters are not valid at some point. I do not know what exactly is the problem.</p>\n\n<p><strong>My question</strong>: how can I generate a keypair where at least the private key is implicitely stored in the keychain and I successfully can retrieve the public key via <code>SecKeyCopyPublicKey</code> afterwards.</p>\n\n<p>Thanks for any valuable hint and your help.</p>\n\n<p>Cordially, David</p>\n"}, {"tags": ["ios", "objective-c", "deprecated", "deprecation-warning"], "comments": [{"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1559224376, "post_id": 47552831, "comment_id": 99359610, "body": "Check answer: <a href=\"https://stackoverflow.com/a/56379453/4061501\">stackoverflow.com/a/56379453/4061501</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7566, "user_id": 1731532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c00f3868d02302386d298e6e3f642b77?s=128&d=identicon&r=PG", "display_name": "Mark Bridges", "link": "https://stackoverflow.com/users/1731532/mark-bridges"}, "is_accepted": false, "score": 2, "last_activity_date": 1511958511, "creation_date": 1511958511, "answer_id": 47552906, "question_id": 47552831, "link": "https://stackoverflow.com/questions/47552831/mark-a-class-in-objective-c-as-deprecated-at-a-particular-ios-version-and-includ/47552906#47552906", "title": "Mark a class in Objective-C as deprecated at a particular iOS version and include a message", "body": "<p>Found it:</p>\n\n<p><code>NS_CLASS_DEPRECATED_IOS(4_0, 11_0, \"Stop using this class\")</code></p>\n"}], "owner": {"reputation": 7566, "user_id": 1731532, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c00f3868d02302386d298e6e3f642b77?s=128&d=identicon&r=PG", "display_name": "Mark Bridges", "link": "https://stackoverflow.com/users/1731532/mark-bridges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511958511, "creation_date": 1511958296, "question_id": 47552831, "link": "https://stackoverflow.com/questions/47552831/mark-a-class-in-objective-c-as-deprecated-at-a-particular-ios-version-and-includ", "title": "Mark a class in Objective-C as deprecated at a particular iOS version and include a message", "body": "<p>How do I mark a class in Objective-C as deprecated at a particular iOS version and include a message?</p>\n\n<p>I've seen that there's <code>NS_DEPRECATED_IOS(2_0, 11_0)</code> but I can figure out where to put it to use it on a class and how to add a message to it that will be output as a warning if someone tries to use it.</p>\n"}, {"tags": ["javascript", "ios", "objective-c", "reactjs", "react-native"], "comments": [{"owner": {"reputation": 8953, "user_id": 6278661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4970a9b1c20562f99846124c68b3dcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/6278661/tim"}, "edited": false, "score": 0, "creation_date": 1511958181, "post_id": 47552548, "comment_id": 82062017, "body": "please add code for your button component"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "edited": false, "score": 0, "creation_date": 1511965763, "post_id": 47552766, "comment_id": 82067041, "body": "Thank you! I will edit my code, and will follow this style in the future"}], "tags": [], "owner": {"reputation": 1274, "user_id": 6435908, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/59661c962b3475cc63b36fba0108f033?s=128&d=identicon&r=PG&f=1", "display_name": "Hisham Mubarak", "link": "https://stackoverflow.com/users/6435908/hisham-mubarak"}, "is_accepted": false, "score": 0, "last_activity_date": 1511958063, "creation_date": 1511958063, "answer_id": 47552766, "question_id": 47552548, "link": "https://stackoverflow.com/questions/47552548/it-is-not-possible-to-set-the-style-of-the-button-react-native/47552766#47552766", "title": "It is not possible to set the style of the button react-native", "body": "<p>It is highly recommended that you do not user inline styling and instead use a separate constant to enter styles and apply it to your elements. Also it is recommended to user the Stylesheet provided by 'react-native' library. Below is a small demo code(From react native docs).</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\n\nexport default class LotsOfStyles extends Component {\n  render() {\n    return (\n      &lt;View&gt;\n        &lt;Text style={styles.red}&gt;just red&lt;/Text&gt;\n      &lt;/View&gt;\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  myTextStyle: {\n    color: 'blue',\n    fontWeight: 'bold',\n    fontSize: 30,\n  },\n  red: {\n    color: 'red',\n  },\n});\n</code></pre>\n\n<p>This might not be the issue you are facing right now, but if you refactor your code to this method, you can get it working I guess.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "is_accepted": false, "score": 0, "last_activity_date": 1511987850, "creation_date": 1511987850, "answer_id": 47561405, "question_id": 47552548, "link": "https://stackoverflow.com/questions/47552548/it-is-not-possible-to-set-the-style-of-the-button-react-native/47561405#47561405", "title": "It is not possible to set the style of the button react-native", "body": "<p>I decided my problem. Maybe to that that it will be useful: I created a component of the button with the help of \n\n<pre><code>&lt;Button\n    style={styles.forgotPass}\n      onPress={this.GetValueFunction}\n      title=\"Forgot Your Password\"\n      color='rgba(0,0,0,0.2)'\n    &gt;\n    &lt;/Button&gt;\n</code></pre>\n\n<p>as soon as I used the component TouchableHighlight, everything worked. Here is an example</p>\n\n<pre><code>&lt;TouchableHighlight\n    style={styles.forgotPass}\n    onPress={this._onPressButton}&gt;\n      &lt;Text&gt;Forgot Your Password?&lt;/Text&gt;\n    &lt;/TouchableHighlight&gt;\n</code></pre>\n\n<p>Thanks to everyone who helped</p>\n"}], "owner": {"reputation": 147, "user_id": 5508711, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/696979557098065/picture?type=large", "display_name": "Sasha  Tsvigun", "link": "https://stackoverflow.com/users/5508711/sasha-tsvigun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 978, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511987850, "creation_date": 1511957415, "question_id": 47552548, "link": "https://stackoverflow.com/questions/47552548/it-is-not-possible-to-set-the-style-of-the-button-react-native", "title": "It is not possible to set the style of the button react-native", "body": "<p>I'm new to cross-platform development. I created the button component, but I can not set the style for it. Such an impression that the button does not read into my code. Here is an example of how I create buttons in the code</p>\n\n<pre><code>&lt;Button\n      style={{fontSize: 15, width:345, height: 75, marginTop:10,\n        borderRadius:10, borderWidth: 1, borderColor: '#fff'}}\n      styleDisabled={{color: 'red'}}\n      onPress={() =&gt; this._handlePressContinue()}\n      title=\"Continue\"\n      color='rgba(0,0,0,0.2)'\n      backgroundColor=\"black\"\n    &gt;\n    &lt;/Button&gt;\n\n    &lt;Button\n      style={{fontSize: 15, width:345, height: 75, marginTop:10, color: 'green'}}\n      onPress={() =&gt; this._handlePressForgotYourPassword()}\n      title=\"Forgot Your Password\"\n      color='rgba(0,0,0,0.2)'\n    &gt;\n    &lt;/Button&gt;\n</code></pre>\n\n<p>and I get two white buttons one next to the other. Only the title, the title color and the handler are changed. Any help in the decision or advice will be very much appreciated. Thanks!</p>\n\n<p><a href=\"https://i.stack.imgur.com/L5h8k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["ios", "objective-c", "xcode", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 1189, "user_id": 2968439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBrdt.jpg?s=128&g=1", "display_name": "vmchar", "link": "https://stackoverflow.com/users/2968439/vmchar"}, "is_accepted": false, "score": 0, "last_activity_date": 1511964927, "creation_date": 1511964927, "answer_id": 47554871, "question_id": 47552547, "link": "https://stackoverflow.com/questions/47552547/how-to-solve-file-is-universal-4-slices-but-does-not-contain-armv7s-slice-erro/47554871#47554871", "title": "How to solve File is universal (4 slices) but does not contain armv7s slice error on iOS using Xcode?", "body": "<p>There are 3 possible solutions:</p>\n\n<ol>\n<li>Try to update or find another revision of GoogleMobileAds plugin, which contains armv7s architecture. But may be it's impossible beacuse a lot of plugins removed support of armv7s. According to the <a href=\"http://iossupportmatrix.com/\" rel=\"nofollow noreferrer\">iOS support matrix</a>, it's used on iPhones older than 5s, which are not supported by Apple anymore. Older devices are 32-bit and starting from iPhone 5s all devices are 64-bit.\nFor example <a href=\"https://developers.facebook.com/docs/ios/change-log-4x#4_6_0_modified\" rel=\"nofollow noreferrer\">Facebook</a> has removed support of armv7s in 2015, so may be Google did this for GoogleMobileAds, so you don't be afraid to remove armv7s support from your project.</li>\n<li>Remove the support of this architecture in your xCode project, you can learn how do it <a href=\"https://stackoverflow.com/questions/17038136/not-contain-an-armv7s-slice-error\">here</a>. </li>\n<li>You can remove armv7 support directly in your Unity project. Go to Player Settings -> iOS -> Architecture and change value from \"Universal\" to \"ARM64\".</li>\n</ol>\n"}], "owner": {"reputation": 568, "user_id": 4383323, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/sgtau.jpg?s=128&g=1", "display_name": "samouray", "link": "https://stackoverflow.com/users/4383323/samouray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 669, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1511964927, "creation_date": 1511957410, "last_edit_date": 1511957664, "question_id": 47552547, "link": "https://stackoverflow.com/questions/47552547/how-to-solve-file-is-universal-4-slices-but-does-not-contain-armv7s-slice-erro", "title": "How to solve File is universal (4 slices) but does not contain armv7s slice error on iOS using Xcode?", "body": "<p>I am using Xcode 9, and I get this error. My project is a Unity 2017 project that I converted to xcode , and now I can't seem to bypass this error:</p>\n\n<blockquote>\n  <p>ld: file is universal (4 slices) but does not contain a(n) armv7s\n  slice:\n  /Users/mac/Desktop/MyProject/Frameworks/GoogleMobileAds.framework/GoogleMobileAds</p>\n  \n  <p>file\n  '/Users/mac/Desktop/MyProject/Frameworks/GoogleMobileAds.framework/GoogleMobileAds'\n  for architecture armv7s</p>\n  \n  <p>clang: error: linker command failed with exit code 1 (use -v to see\n  invocation)</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/ESAyr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESAyr.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uitableview"], "comments": [{"owner": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 1, "creation_date": 1511955369, "post_id": 47551815, "comment_id": 82060290, "body": "why you want to increase your table height, it is kind of scrollView. you can render as many rows in it, this will scroll till end. And if you tries to show all rows in one screen then it is difficult if total rows size more than screen height."}, {"owner": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511956641, "post_id": 47551815, "comment_id": 82061017, "body": "As from image, have you added Textfields and Done Button in TableView?"}, {"owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "reply_to_user": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511957400, "post_id": 47551815, "comment_id": 82061465, "body": "No,I have created a tableview in bottom and of my viewcontroller"}, {"owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "reply_to_user": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511957473, "post_id": 47551815, "comment_id": 82061502, "body": "when I scroll the tableview the top values are getting hide,The solution for that is to increase tableview height, but I don&#39;t know how to do??"}, {"owner": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511957665, "post_id": 47551815, "comment_id": 82061637, "body": "You can increase size from Storyboard or Xib where you added TableView. If that table view height increased from your device bottom, then that height is of no use, because your content will render in TableView and cell object will hide."}, {"owner": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511957795, "post_id": 47551815, "comment_id": 82061722, "body": "TableView starts scroll when its height ends. so if you increase size below your device bottom, then that cell will not visible. So good idea is keep your table height equal to your view bottom."}, {"owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "reply_to_user": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511958415, "post_id": 47551815, "comment_id": 82062165, "body": "My need is viewcontroller inside I have tableview height is 191,my cell height is 80,when cell count is increase my tableview height also get increased dynamically...this what I asking??"}, {"owner": {"reputation": 936, "user_id": 2622676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/htRfY.jpg?s=128&g=1", "display_name": "PiyushRathi", "link": "https://stackoverflow.com/users/2622676/piyushrathi"}, "edited": false, "score": 0, "creation_date": 1511958708, "post_id": 47551815, "comment_id": 82062366, "body": "For this you need to set constraint to TableView and programmatically increase height constraint of TableView."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "edited": false, "score": 0, "creation_date": 1511957545, "post_id": 47552068, "comment_id": 82061551, "body": "when I run I got this error  *** Terminating app due to uncaught exception  &#39;NSInternalInconsistencyException&#39;, reason: &#39;table view row height must not be negative - provided height for index path (&lt;NSIndexPath: 0xc000000000000016&gt; {length = 2, path = 0 - 0}) is -1.000000&#39;"}, {"owner": {"reputation": 1742, "user_id": 6540962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lKKle.jpg?s=128&g=1", "display_name": "Ganesh Manickam", "link": "https://stackoverflow.com/users/6540962/ganesh-manickam"}, "reply_to_user": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "edited": false, "score": 0, "creation_date": 1511957838, "post_id": 47552068, "comment_id": 82061752, "body": "answer updated check it once and give some top and bottom constraint of elements in cell don&#39;t give 0 constant @ShubamGupta"}, {"owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "edited": false, "score": 0, "creation_date": 1511958404, "post_id": 47552068, "comment_id": 82062154, "body": "this also not working for me, My need is viewcontroller inside I have tableview height is 191,my cell height is 80,when cell count is increase my tableview height also get increased dynamically...this what I asking??"}, {"owner": {"reputation": 1742, "user_id": 6540962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lKKle.jpg?s=128&g=1", "display_name": "Ganesh Manickam", "link": "https://stackoverflow.com/users/6540962/ganesh-manickam"}, "reply_to_user": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "edited": false, "score": 0, "creation_date": 1511958729, "post_id": 47552068, "comment_id": 82062379, "body": "answer update for increase tableview height based on content size after reloading table view get content height and set to constraint @ShubamGupta"}], "tags": [], "owner": {"reputation": 1742, "user_id": 6540962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lKKle.jpg?s=128&g=1", "display_name": "Ganesh Manickam", "link": "https://stackoverflow.com/users/6540962/ganesh-manickam"}, "is_accepted": false, "score": 0, "last_activity_date": 1511958674, "last_edit_date": 1511958674, "creation_date": 1511956006, "answer_id": 47552068, "question_id": 47551815, "link": "https://stackoverflow.com/questions/47551815/how-to-increase-uitableview-height-dynamically-when-number-of-cell-is-increased/47552068#47552068", "title": "How to increase UITableView Height Dynamically When number of cell is increased using Objective C?", "body": "<p>For UITableViewCell dynamic height you can use following <code>delegate</code> by return <code>UITableViewAutomaticDimension</code></p>\n\n<pre><code>-(CGFloat)tableView:(UITableView *)tableView estimatedHeightForRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    return 300; //give maximum heigh you want\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    return UITableViewAutomaticDimension;\n}\n</code></pre>\n\n<p>and to increase tableview height based on content size use the below line of code</p>\n\n<pre><code>YOUR_TABLE_VIEW_HEIGHT_CONSTRAINT.constant = [YOUR_TABLE_VIEW contentSize].height;\n</code></pre>\n\n<p>Hope this will help you</p>\n"}], "owner": {"reputation": 51, "user_id": 8182677, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AhB5H.jpg?s=128&g=1", "display_name": "Shubam Gupta", "link": "https://stackoverflow.com/users/8182677/shubam-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 618, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511966271, "creation_date": 1511955158, "last_edit_date": 1511966271, "question_id": 47551815, "link": "https://stackoverflow.com/questions/47551815/how-to-increase-uitableview-height-dynamically-when-number-of-cell-is-increased", "title": "How to increase UITableView Height Dynamically When number of cell is increased using Objective C?", "body": "<p><a href=\"https://i.stack.imgur.com/pYqsg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYqsg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am new to iOS. I have implemented a table view which is populated with array values successfully, but I'm not satisfied with the result. When I scroll my table view the top values are hiding.</p>\n\n<p>Here is my problem: based on the cell height the table view height should also get increased dynamically in <code>UITableview</code>. How can I accomplish that?</p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications"], "comments": [{"owner": {"reputation": 5247, "user_id": 4634527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOABf.jpg?s=128&g=1", "display_name": "Hexfire", "link": "https://stackoverflow.com/users/4634527/hexfire"}, "edited": false, "score": 0, "creation_date": 1511955179, "post_id": 47551711, "comment_id": 82060180, "body": "where do you check database?"}, {"owner": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 1, "creation_date": 1511955407, "post_id": 47551711, "comment_id": 82060308, "body": "There is no specific time that you&#39;ll get your token, it may take 2ms/2seconds or a minute you never know. The right approach is whenever you receive a token then send it to your server in a separate api not in the login api."}, {"owner": {"reputation": 50, "user_id": 7544522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c42889b1c49d751297e4d669ce51fa59?s=128&d=identicon&r=PG&f=1", "display_name": "Rinto Andrews", "link": "https://stackoverflow.com/users/7544522/rinto-andrews"}, "reply_to_user": {"reputation": 5247, "user_id": 4634527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOABf.jpg?s=128&g=1", "display_name": "Hexfire", "link": "https://stackoverflow.com/users/4634527/hexfire"}, "edited": false, "score": 0, "creation_date": 1511957216, "post_id": 47551711, "comment_id": 82061341, "body": "@Hexfire our mysql db.where we stored tokens."}, {"owner": {"reputation": 50, "user_id": 7544522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c42889b1c49d751297e4d669ce51fa59?s=128&d=identicon&r=PG&f=1", "display_name": "Rinto Andrews", "link": "https://stackoverflow.com/users/7544522/rinto-andrews"}, "reply_to_user": {"reputation": 37311, "user_id": 468724, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YiUg8.jpg?s=128&g=1", "display_name": "Inder Kumar Rathore", "link": "https://stackoverflow.com/users/468724/inder-kumar-rathore"}, "edited": false, "score": 0, "creation_date": 1511957269, "post_id": 47551711, "comment_id": 82061386, "body": "@InderKumarRathore i was thinking same, thanks for help"}], "answers": [{"tags": [], "owner": {"reputation": 50, "user_id": 7544522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c42889b1c49d751297e4d669ce51fa59?s=128&d=identicon&r=PG&f=1", "display_name": "Rinto Andrews", "link": "https://stackoverflow.com/users/7544522/rinto-andrews"}, "is_accepted": true, "score": 0, "last_activity_date": 1512120543, "creation_date": 1512120543, "answer_id": 47590286, "question_id": 47551711, "link": "https://stackoverflow.com/questions/47551711/push-notification-token-generation-may-take-more-time-than-expected/47590286#47590286", "title": "Push notification Token generation may take more time than expected", "body": "<p>after experimenting this scenario push token generation may take anytime.There is not specific time duration. Mostly it will generate when app launches but we can not ensure.So better call api when we get token in delegate   </p>\n\n<pre><code>-(void)application:(UIApplication* )application didRegisterForRemoteNotificationsWithDeviceToken:(NSData* )deviceToken\n{\n    NSString *devToken = [[deviceToken description] stringByTrimmingCharactersInSet:\n        [NSCharacterSet characterSetWithCharactersInString:@\"&lt;&gt;\"]];\n    devToken = [devToken stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n    NSLog(@\"token: %@\",devToken);\n\n     //Call API to Update Device Token\n}\n</code></pre>\n\n<p>Call the api to update token when token generated.</p>\n"}], "owner": {"reputation": 50, "user_id": 7544522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c42889b1c49d751297e4d669ce51fa59?s=128&d=identicon&r=PG&f=1", "display_name": "Rinto Andrews", "link": "https://stackoverflow.com/users/7544522/rinto-andrews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 47590286, "answer_count": 1, "score": 0, "last_activity_date": 1512120543, "creation_date": 1511954775, "last_edit_date": 1512022427, "question_id": 47551711, "link": "https://stackoverflow.com/questions/47551711/push-notification-token-generation-may-take-more-time-than-expected", "title": "Push notification Token generation may take more time than expected", "body": "<p>I have implemented push notifications in a project, and I am getting the push notification tokens correctly. I am sending this tokens with login api.</p>\n\n<pre><code>-(void)application:(UIApplication* )application didRegisterForRemoteNotificationsWithDeviceToken:(NSData* )deviceToken\n{\n    NSString *devToken = [[deviceToken description] stringByTrimmingCharactersInSet:\n        [NSCharacterSet characterSetWithCharactersInString:@\"&lt;&gt;\"]];\n    devToken = [devToken stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n    NSLog(@\"token: %@\",devToken);\n\n    self.pushNotificationToken = devToken;\n\n    [[NSUserDefaults standardUserDefaults] setObject:devToken forKey:@\"PushToken\"];\n    [[NSUserDefaults standardUserDefaults] synchronize];\n}\n</code></pre>\n\n<p>I am getting token perfectly. But some time I think it may take some more time to generate a token. Because of the login api does not contain token. I have checked database stored the token. Some time it is <code>NULL</code>. When I logout and login then the database contains the token and works perfectly. What is the perfect way to sending push token to server?</p>\n"}, {"tags": ["javascript", "html", "objective-c", "cocoa", "webview"], "comments": [{"owner": {"reputation": 1436, "user_id": 3751662, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/XuUJ6.jpg?s=128&g=1", "display_name": "Daljeet", "link": "https://stackoverflow.com/users/3751662/daljeet"}, "edited": false, "score": 1, "creation_date": 1511955091, "post_id": 47549869, "comment_id": 82060136, "body": "<a href=\"https://stackoverflow.com/questions/5167254/getting-the-html-source-code-of-a-loaded-uiwebview\" title=\"getting the html source code of a loaded uiwebview\">stackoverflow.com/questions/5167254/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1436, "user_id": 3751662, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/XuUJ6.jpg?s=128&g=1", "display_name": "Daljeet", "link": "https://stackoverflow.com/users/3751662/daljeet"}, "is_accepted": false, "score": 0, "last_activity_date": 1511955163, "creation_date": 1511955163, "answer_id": 47551817, "question_id": 47549869, "link": "https://stackoverflow.com/questions/47549869/how-to-get-html-element-from-webview-in-cocoa/47551817#47551817", "title": "How to get HTML element from Webview in Cocoa?", "body": "<p>try this:</p>\n\n<pre><code>let html = yourWebView.stringByEvaluatingJavaScriptFromString(\"document.documentElement.outerHTML\")\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8125593"}, "is_accepted": false, "score": 0, "last_activity_date": 1512026841, "creation_date": 1512026841, "answer_id": 47568011, "question_id": 47549869, "link": "https://stackoverflow.com/questions/47549869/how-to-get-html-element-from-webview-in-cocoa/47568011#47568011", "title": "How to get HTML element from Webview in Cocoa?", "body": "<h1>OBJECTIVE-C</h1>\n\n<pre><code>-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request    navigationType:(UIWebViewNavigationType)navigationType \n{\n\n    if (navigationType == UIWebViewNavigationTypeLinkClicked) {\n\n        [[UIApplication sharedApplication] openURL:[request URL]];\n\n        return NO;\n    }\n\n    return YES;\n\n}\n\n- (void)webViewDidFinishLoad:(UIWebView *)webView\n\n{\n\n    // JS Injection hack to solve the target=\"_blank\" issue and open a real browser in such case.\n\n    NSString *JSInjection = @\"javascript: var allLinks = document.getElementsByTagName('a'); if (allLinks) {var i;for (i=0; i&lt;allLinks.length; i++) {var link = allLinks[i];var target = link.getAttribute('target'); if (target &amp;&amp; target == '_blank') {link.setAttribute('target','_self');link.href = 'newtab:'+link.href;}}}\";\n\n    [webView stringByEvaluatingJavaScriptFromString:JSInjection];\n\n}\n\n\n - (void)VideoButton_Click:(id)sender{\n\n\n        @try {\n\n\n            NSString *url=@\"Write link here\";\n\n            [videowebView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:url]]];\n\n             videowebView.scrollView.bounces = NO;\n            [videowebView setMediaPlaybackRequiresUserAction:NO];\n\n        }\n        @catch (NSException *exception) {\n\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 883, "user_id": 6817540, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/JePpG.jpg?s=128&g=1", "display_name": "Pankaj Mundra", "link": "https://stackoverflow.com/users/6817540/pankaj-mundra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1512026841, "creation_date": 1511949529, "question_id": 47549869, "link": "https://stackoverflow.com/questions/47549869/how-to-get-html-element-from-webview-in-cocoa", "title": "How to get HTML element from Webview in Cocoa?", "body": "<p>I am trying to fetch HTML element from Webview, I tried existing StackOverflow answer but it's not working for me.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2046381/getting-source-html-from-a-webview-in-cocoa\">Getting source HTML from a WebView in Cocoa</a> -- not working for me.</p>\n\n<pre><code>@IBOutlet var FacebookWebview: WebView!\n\nlet someHTML = FacebookWebview.stringByEvaluatingJavaScript(from: \"document.getElementsByClassName('linkWrap noCount')[0].innerHTML;\") as NSString?\n\nprint(\"FetchUser:-\\(someHTML)\")\n</code></pre>\n\n<blockquote>\n<pre><code>HTML element --&gt; &lt;div dir=\"ltr\" class=\"linkWrap noCount\"&gt;Result&lt;/div&gt;\n</code></pre>\n</blockquote>\n\n<p><strong>linkWrap</strong> <strong>noCount</strong> is my class name.</p>\n\n<p><strong>Result</strong> is the value of the string. -- here I am getting null.</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "autolayout", "iphone-x"], "comments": [{"owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "edited": false, "score": 0, "creation_date": 1511949789, "post_id": 47549865, "comment_id": 82056458, "body": "Here is similar reference question: <a href=\"https://stackoverflow.com/questions/46111811/what-is-safe-area-in-xib-in-xcode-9\" title=\"what is safe area in xib in xcode 9\">stackoverflow.com/questions/46111811/&hellip;</a>"}, {"owner": {"reputation": 1685, "user_id": 5608734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206948066611534/picture?type=large", "display_name": "SriTeja Chilakamarri", "link": "https://stackoverflow.com/users/5608734/sriteja-chilakamarri"}, "reply_to_user": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "edited": false, "score": 0, "creation_date": 1511950059, "post_id": 47549865, "comment_id": 82056657, "body": "I am not using Story Board in my App, so I just wanted to know how to enable this programmatically for Xib files created before ?"}, {"owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "edited": false, "score": 0, "creation_date": 1511950786, "post_id": 47549865, "comment_id": 82057174, "body": "Here is another reference, if you want solution programatically - <a href=\"https://stackoverflow.com/questions/47075615/objective-c-how-to-create-self-view-inside-safe-area-programmatically\" title=\"objective c how to create self view inside safe area programmatically\">stackoverflow.com/questions/47075615/&hellip;</a>"}], "owner": {"reputation": 1685, "user_id": 5608734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206948066611534/picture?type=large", "display_name": "SriTeja Chilakamarri", "link": "https://stackoverflow.com/users/5608734/sriteja-chilakamarri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551426650, "creation_date": 1511949508, "last_edit_date": 1511955858, "question_id": 47549865, "link": "https://stackoverflow.com/questions/47549865/how-to-set-safe-area-layout-for-older-apps", "title": "How to set Safe Area layout for older Apps?", "body": "<p>I just started working on a new project which has been done when Xcode 6 was released. The previous developer has used a View instead of the navigation Bar at the top of a few views. I want to fix the height of the View at the top for the new iPhone X as the navigation view looks very small and is cut by the notch. And as the project was created earlier with Xcode 6 I don't see Safe area, is there anyway I can update my previous XIB's with Safe area without requiring to recreate them all ?</p>\n\n<p>The other option I have is creating a new XIB and optimize it for iPhone X layout and call it when the view is loaded.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "iphone-x", "safearealayoutguide"], "comments": [{"owner": {"reputation": 1212, "user_id": 2237587, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8e3c0290d4d58be387394d861d6fbfb5?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/2237587/simon"}, "edited": false, "score": 0, "creation_date": 1511941862, "post_id": 47547551, "comment_id": 82051660, "body": "Should it not be &#39;60 + topPadding&#39; ?"}, {"owner": {"reputation": 185, "user_id": 9003205, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/df0dfe3dd5e950c904029a1f4d50b05b?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Some Dev.", "link": "https://stackoverflow.com/users/9003205/mr-some-dev"}, "reply_to_user": {"reputation": 1212, "user_id": 2237587, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8e3c0290d4d58be387394d861d6fbfb5?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/2237587/simon"}, "edited": false, "score": 0, "creation_date": 1511942043, "post_id": 47547551, "comment_id": 82051752, "body": "Yes but when I do like that because topPadding is 44. Result will be 104 so bigger than actual size."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 9003205, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/df0dfe3dd5e950c904029a1f4d50b05b?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Some Dev.", "link": "https://stackoverflow.com/users/9003205/mr-some-dev"}, "edited": false, "score": 0, "creation_date": 1511943036, "post_id": 47547733, "comment_id": 82052231, "body": "I did something like this and It worked but I don&#39;t know If It is a best approach :)"}, {"owner": {"reputation": 5924, "user_id": 6788419, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6d936b5d64b5e6446d0afe0574019c57?s=128&d=identicon&r=PG&f=1", "display_name": "user6788419", "link": "https://stackoverflow.com/users/6788419/user6788419"}, "reply_to_user": {"reputation": 185, "user_id": 9003205, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/df0dfe3dd5e950c904029a1f4d50b05b?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Some Dev.", "link": "https://stackoverflow.com/users/9003205/mr-some-dev"}, "edited": false, "score": 0, "creation_date": 1511943367, "post_id": 47547733, "comment_id": 82052405, "body": "yeah I am also thinking the same. Please do some research"}, {"owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1529717725, "post_id": 47547733, "comment_id": 88988681, "body": "Note: Can&#39;t call this in viewDidLoad of your main ViewController, as UIWindow won&#39;t be accessible until after at least one run loop. To bypass you can simply move your viewDidLoad code into a new method <code>postViewDidLoad</code> and use <code>[self performSelector:@selector(postViewDidLoad) afterDelay:0.0f];</code> in the original viewDidLoad method, then UIWindow will be accessible and this will work."}], "tags": [], "owner": {"reputation": 5924, "user_id": 6788419, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6d936b5d64b5e6446d0afe0574019c57?s=128&d=identicon&r=PG&f=1", "display_name": "user6788419", "link": "https://stackoverflow.com/users/6788419/user6788419"}, "is_accepted": true, "score": 4, "last_activity_date": 1511942408, "creation_date": 1511942408, "answer_id": 47547733, "question_id": 47547551, "link": "https://stackoverflow.com/questions/47547551/calculate-height-of-uiview-with-safe-area-guides-for-iphone-x/47547733#47547733", "title": "Calculate Height of UIView with Safe Area Guides for iPhone X", "body": "<p>Try this one. Check the phone is iPhoneX or Not (Top padding greater than 0 if iPhoneX)</p>\n\n<pre><code>if (@available(iOS 11.0, *)) {\n    UIWindow *window = UIApplication.sharedApplication.keyWindow;\n    CGFloat topPadding = window.safeAreaInsets.top;\n    self.headerViewHeight.constant = (topPadding&gt;0) ? 46+topPadding : 60;\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 861, "user_id": 3972195, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/XqXD7.jpg?s=128&g=1", "display_name": "Reckoner", "link": "https://stackoverflow.com/users/3972195/reckoner"}, "is_accepted": false, "score": 3, "last_activity_date": 1512985082, "last_edit_date": 1512985082, "creation_date": 1512984172, "answer_id": 47749668, "question_id": 47547551, "link": "https://stackoverflow.com/questions/47547551/calculate-height-of-uiview-with-safe-area-guides-for-iphone-x/47749668#47749668", "title": "Calculate Height of UIView with Safe Area Guides for iPhone X", "body": "<p>Use this(swift 3):<br></p>\n\n<pre><code>constraint_heightTopBar.constant = UIApplication.shared.statusBarFrame.maxY + 44\n</code></pre>\n\n<p>It gives you a standard height 64 for all other devices and 88 for iPhoneX.You can adjust the value '44' as per your need.<br>\nRemember that status bar height is 20 for other devices and 44 for PhoneX.So you just need to set the view height as per your need.Rest is done.<br>\nIt will work on all iOS versions and for all devices :-)<br></p>\n\n<p>For objC, use CGRectGetMaxY(frame).</p>\n"}, {"tags": [], "owner": {"reputation": 1283, "user_id": 339119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pr33U.jpg?s=128&g=1", "display_name": "Mahmud Ahsan", "link": "https://stackoverflow.com/users/339119/mahmud-ahsan"}, "is_accepted": false, "score": 1, "last_activity_date": 1616334371, "last_edit_date": 1616334371, "creation_date": 1613709376, "answer_id": 66271853, "question_id": 47547551, "link": "https://stackoverflow.com/questions/47547551/calculate-height-of-uiview-with-safe-area-guides-for-iphone-x/66271853#66271853", "title": "Calculate Height of UIView with Safe Area Guides for iPhone X", "body": "<p>If you're using &gt;= iOS 13, then</p>\n<pre><code>CGFloat safeAreaGap = 0;\nUIWindow *window = UIApplication.sharedApplication.windows.firstObject;\nif (window != nil) {\n    safeAreaGap = window.safeAreaInsets.bottom; // for bottom\n    safeAreaGap = window.safeAreaInsets.top; // for top\n}\n</code></pre>\n<p>Or</p>\n<pre><code>if let window = UIApplication.shared.windows.first {\n    self.safeAreaInsetsBottom = window.safeAreaInsets.bottom\n}\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 9003205, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/df0dfe3dd5e950c904029a1f4d50b05b?s=128&d=identicon&r=PG&f=1", "display_name": "Mr Some Dev.", "link": "https://stackoverflow.com/users/9003205/mr-some-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4829, "favorite_count": 1, "accepted_answer_id": 47547733, "answer_count": 3, "score": 1, "last_activity_date": 1616334371, "creation_date": 1511941701, "question_id": 47547551, "link": "https://stackoverflow.com/questions/47547551/calculate-height-of-uiview-with-safe-area-guides-for-iphone-x", "title": "Calculate Height of UIView with Safe Area Guides for iPhone X", "body": "<p>I have a UIView called headerview which I use like a NavigationBar. It has a constant size of 60 and top/left/right layout constraints which are 0. It looks okay for all devices except iPhone X because of safe area layout. If I change size to 90, It looks okay on iPhone X but now It looks wrong on other devices. I calculate height of safe area with below code and add it to height but now It looks small in other devices. What is the best approach to fix this problem? </p>\n\n<pre><code>    if (@available(iOS 11.0, *)) {\n    UIWindow *window = UIApplication.sharedApplication.keyWindow;\n    CGFloat topPadding = window.safeAreaInsets.top;\n    self.headerViewHeight.constant = 46 + topPadding;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uipickerview", "uitoolbar"], "comments": [{"owner": {"reputation": 2745, "user_id": 2282880, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/73924913877e6bcaf412d64ab5d1a05f?s=128&d=identicon&r=PG", "display_name": "Meloman", "link": "https://stackoverflow.com/users/2282880/meloman"}, "edited": false, "score": 1, "creation_date": 1511939754, "post_id": 47547022, "comment_id": 82050611, "body": "Please add a portion of your code."}, {"owner": {"reputation": 3381, "user_id": 5761169, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7e20c9d62839a9e08ec3b37c8436f319?s=128&d=identicon&r=PG&f=1", "display_name": "Ghulam Rasool", "link": "https://stackoverflow.com/users/5761169/ghulam-rasool"}, "edited": false, "score": 0, "creation_date": 1511942959, "post_id": 47547022, "comment_id": 82052185, "body": "Can you share the screenshot?"}], "owner": {"reputation": 1, "user_id": 8825937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc0232cd7af57e000b9b023c0d39cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant Bhandare ", "link": "https://stackoverflow.com/users/8825937/shrikant-bhandare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511942595, "creation_date": 1511939615, "last_edit_date": 1511942595, "question_id": 47547022, "link": "https://stackoverflow.com/questions/47547022/im-getting-empty-space-between-uipickerview-and-toolbar", "title": "I&#39;m getting empty space between uipickerview and toolbar", "body": "<p>When I'm setting height of the UIPickerview is 120 and adding toolbar button as InputAcessoryView then it showing me empty space between them.. But when I'm not setting height it working fine.</p>\n\n<p>I want to set fix height as 120 and also don't want empty space between them.</p>\n"}, {"tags": ["ios", "objective-c", "google-maps"], "comments": [{"owner": {"reputation": 1480, "user_id": 2725196, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/100002808448759/picture?type=large", "display_name": "vinay Maneti", "link": "https://stackoverflow.com/users/2725196/vinay-maneti"}, "edited": false, "score": 0, "creation_date": 1511939839, "post_id": 47546994, "comment_id": 82050651, "body": "I think you have missed used other icon instead of current location icon"}, {"owner": {"reputation": 443, "user_id": 5155369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ATPrK.jpg?s=128&g=1", "display_name": "Arpit Dhamane", "link": "https://stackoverflow.com/users/5155369/arpit-dhamane"}, "reply_to_user": {"reputation": 1480, "user_id": 2725196, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/100002808448759/picture?type=large", "display_name": "vinay Maneti", "link": "https://stackoverflow.com/users/2725196/vinay-maneti"}, "edited": false, "score": 0, "creation_date": 1511946224, "post_id": 47546994, "comment_id": 82054044, "body": "@vinayManeti, I have not used any icon for current location. This image is what appears as i enable it on my map."}], "owner": {"reputation": 443, "user_id": 5155369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ATPrK.jpg?s=128&g=1", "display_name": "Arpit Dhamane", "link": "https://stackoverflow.com/users/5155369/arpit-dhamane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511939502, "creation_date": 1511939502, "question_id": 47546994, "link": "https://stackoverflow.com/questions/47546994/google-maps-sdk-mylocationenable-shows-other-image", "title": "Google Maps sdk mylocationenable shows other image", "body": "<p>When i enable the current location on google maps in ios, the i get an image of J and U on the map at the point of my location. Screen shot attached.<a href=\"https://i.stack.imgur.com/CeN4w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CeN4w.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 397, "user_id": 5129599, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-saoZQ8AmRsE/AAAAAAAAAAI/AAAAAAAAAC4/Dn_2mdScaHY/photo.jpg?sz=128", "display_name": "Er.Gopal Vasani", "link": "https://stackoverflow.com/users/5129599/er-gopal-vasani"}, "edited": false, "score": 0, "creation_date": 1511932226, "post_id": 47545428, "comment_id": 82047703, "body": "have you created the bridging header file for it ?"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 397, "user_id": 5129599, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-saoZQ8AmRsE/AAAAAAAAAAI/AAAAAAAAAC4/Dn_2mdScaHY/photo.jpg?sz=128", "display_name": "Er.Gopal Vasani", "link": "https://stackoverflow.com/users/5129599/er-gopal-vasani"}, "edited": false, "score": 0, "creation_date": 1511932362, "post_id": 47545428, "comment_id": 82047748, "body": "@GOPALVASANI yes I have, though it is not needed since I am porting swift to OC not vice versa"}, {"owner": {"reputation": 397, "user_id": 5129599, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-saoZQ8AmRsE/AAAAAAAAAAI/AAAAAAAAAC4/Dn_2mdScaHY/photo.jpg?sz=128", "display_name": "Er.Gopal Vasani", "link": "https://stackoverflow.com/users/5129599/er-gopal-vasani"}, "edited": false, "score": 0, "creation_date": 1511932640, "post_id": 47545428, "comment_id": 82047832, "body": "i have recentlly used this type functionalty in my current project and its work perfectlly , try once creating a bridging file for it , before it clear the path of bridging header from build setting . after that import the file. and let me know if it works or not ?"}, {"owner": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511933029, "post_id": 47545428, "comment_id": 82047966, "body": "How have you added the file in your project? Are you using XCode 9.0?"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511933157, "post_id": 47545428, "comment_id": 82048013, "body": "@PuneetSharma yes and yes"}, {"owner": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511933454, "post_id": 47545428, "comment_id": 82048125, "body": "Check the target for the Swift file. If you drag and drop a file/resource in XCode 9.0, it does not get added to the target. It is a known bug, which is fixed in XCode 9.1"}, {"owner": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511933910, "post_id": 47545428, "comment_id": 82048297, "body": "Refer:<a href=\"https://stackoverflow.com/a/45096667/1548190\">stackoverflow.com/a/45096667/1548190</a>"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511936262, "post_id": 47545428, "comment_id": 82049145, "body": "@PuneetSharma thanks for remind that, but I just double checked, the Swift file indeed was added to the correct target"}, {"owner": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511936341, "post_id": 47545428, "comment_id": 82049167, "body": "@armnotstrong: have you once build the application, before accessing the file in Objc class?"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511936366, "post_id": 47545428, "comment_id": 82049177, "body": "@PuneetSharma yes, I have"}, {"owner": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511936523, "post_id": 47545428, "comment_id": 82049230, "body": "Check Build Settings of your target for Objective-C Generated Interface Header Name. It should have livewallpaper-swift.h"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 8939, "user_id": 1548190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iebdt.jpg?s=128&g=1", "display_name": "Puneet Sharma", "link": "https://stackoverflow.com/users/1548190/puneet-sharma"}, "edited": false, "score": 0, "creation_date": 1511937325, "post_id": 47545428, "comment_id": 82049542, "body": "@PuneetSharma yes there is, and strange thing is that when adding a swift file to the project (not by drag and drop from other project) things will work fine, so I am wondering if the JPEG swift file is something wrong?"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1511937905, "post_id": 47545428, "comment_id": 82049781, "body": "Hi, I managed to solve this by adding the <code>JPEG</code> swift class subclass of <code>NSObject</code>, don&#39;t know why is that, but now things work as promised."}], "answers": [{"tags": [], "owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "is_accepted": false, "score": 0, "last_activity_date": 1511938015, "creation_date": 1511938015, "answer_id": 47546634, "question_id": 47545428, "link": "https://stackoverflow.com/questions/47545428/use-of-undeclared-identifier-after-porting-swift-code-to-objective-c-project/47546634#47546634", "title": "Use of undeclared identifier after porting swift code to objective-C project", "body": "<p>I finally make this work by making the <code>JPEG</code> swift class subclass of <code>NSObject</code> don't know why, but it works now.</p>\n\n<pre><code>class JPEG:NSObject {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 723, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511938015, "creation_date": 1511931920, "question_id": 47545428, "link": "https://stackoverflow.com/questions/47545428/use-of-undeclared-identifier-after-porting-swift-code-to-objective-c-project", "title": "Use of undeclared identifier after porting swift code to objective-C project", "body": "<p>I want to use a Class that was originally written in Swift</p>\n\n<p>And following instruction find on the web that I should:</p>\n\n<ol>\n<li>add the swift code to the target</li>\n<li>adding a <code>#import \"projectName-swift.h\"</code> header in the <code>.m</code> file that I want to use the class defined in swift.</li>\n</ol>\n\n<p>After doing that I try to use the class defined with swift Code like this:</p>\n\n<pre><code>  JPEG *jpeg = nil;\n</code></pre>\n\n<p>But the compiler complines that <code>Use of undeclared identifier 'JPEG'</code></p>\n\n<p>Here is what happened:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dZ11Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dZ11Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is the JPEG class:</p>\n\n<pre><code>import Foundation\nimport MobileCoreServices\nimport ImageIO\n\nclass JPEG {\n    fileprivate let kFigAppleMakerNote_AssetIdentifier = \"17\"\n    fileprivate let path : String\n\n    init(path : String) {\n        self.path = path\n    }\n\n    func read() -&gt; String? {\n        guard let makerNote = metadata()?.object(forKey: kCGImagePropertyMakerAppleDictionary) as! NSDictionary? else {\n            return nil\n        }\n        return makerNote.object(forKey: kFigAppleMakerNote_AssetIdentifier) as! String?\n    }\n\n    func write(_ dest : String, assetIdentifier : String) {\n        guard let dest = CGImageDestinationCreateWithURL(URL(fileURLWithPath: dest) as CFURL, kUTTypeJPEG, 1, nil)\n            else { return }\n        defer { CGImageDestinationFinalize(dest) }\n        guard let imageSource = self.imageSource() else { return }\n        guard let metadata = self.metadata()?.mutableCopy() as! NSMutableDictionary! else { return }\n\n        let makerNote = NSMutableDictionary()\n        makerNote.setObject(assetIdentifier, forKey: kFigAppleMakerNote_AssetIdentifier as NSCopying)\n        metadata.setObject(makerNote, forKey: kCGImagePropertyMakerAppleDictionary as String as String as NSCopying)\n        CGImageDestinationAddImageFromSource(dest, imageSource, 0, metadata)\n    }\n\n    fileprivate func metadata() -&gt; NSDictionary? {\n        return self.imageSource().flatMap {\n            CGImageSourceCopyPropertiesAtIndex($0, 0, nil) as NSDictionary?\n        }\n    }\n\n    fileprivate func imageSource() -&gt;  CGImageSource? {\n        return self.data().flatMap {\n            CGImageSourceCreateWithData($0 as CFData, nil)\n        }\n    }\n\n    fileprivate func data() -&gt; Data? {\n        return (try? Data(contentsOf: URL(fileURLWithPath: path)))\n    }\n}\n</code></pre>\n\n<p>What happended? how to make this work?</p>\n"}, {"tags": ["ios", "objective-c", "uisearchbar"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 6222484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LZ7HScCPU2g/AAAAAAAAAAI/AAAAAAAAALU/-WgcFBJi-zw/photo.jpg?sz=128", "display_name": "Agula Otgonbaatar", "link": "https://stackoverflow.com/users/6222484/agula-otgonbaatar"}, "is_accepted": false, "score": 1, "last_activity_date": 1511940159, "last_edit_date": 1511940159, "creation_date": 1511938104, "answer_id": 47546663, "question_id": 47545405, "link": "https://stackoverflow.com/questions/47545405/uisearchbar-placeholder-text-align-to-centre-programatically/47546663#47546663", "title": "UISearchBar placeholder text - align to centre programatically", "body": "<p>I had a same problem like yours before. I couldn't find any workaround and after all I just used <code>UILabel</code> and <code>UISearchBarDelegate</code> methods.</p>\n\n<p>ViewController.h:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface ViewController : UIViewController &lt;UISearchBarDelegate&gt;\n\n@end\n</code></pre>\n\n<p>ViewController.m:</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController () {\n    UISearchBar *srchBar;\n    UILabel *customPlaceHolderForSearchBar;\n}\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    CGRect frm = CGRectMake(0, 0, self.view.frame.size.width, 80);\n    srchBar = [[UISearchBar alloc] initWithFrame:frm];\n    srchBar.delegate = self;\n    [self.view addSubview:srchBar];\n\n    customPlaceHolderForSearchBar = [[UILabel alloc] initWithFrame:frm];\n    customPlaceHolderForSearchBar.text = @\"PlaceHolder text\";\n    customPlaceHolderForSearchBar.textColor = [UIColor grayColor];\n    customPlaceHolderForSearchBar.textAlignment = NSTextAlignmentCenter;\n    [self.view addSubview:customPlaceHolderForSearchBar];\n\n\n}\n\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n\n- (void)searchBarTextDidBeginEditing:(UISearchBar *)searchBar {\n    customPlaceHolderForSearchBar.hidden = YES;\n}\n\n- (void)searchBarTextDidEndEditing:(UISearchBar *)searchBar {\n    if (searchBar.text.length &lt; 1) {\n        customPlaceHolderForSearchBar.hidden = NO;\n    }\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8064119, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1391f7fb73d15d285d1f3cf0a57d71fe?s=128&d=identicon&r=PG&f=1", "display_name": "WolfPack", "link": "https://stackoverflow.com/users/8064119/wolfpack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1715, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511940159, "creation_date": 1511931783, "last_edit_date": 1511935924, "question_id": 47545405, "link": "https://stackoverflow.com/questions/47545405/uisearchbar-placeholder-text-align-to-centre-programatically", "title": "UISearchBar placeholder text - align to centre programatically", "body": "<p>I am using <code>UISearchBar</code> for search purposes using Objective C. I need the placeholder text of search bar to be aligned to the center of the search bar programatically and when user starts typing, text must be aligned left.</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511928383, "post_id": 47544861, "comment_id": 82046620, "body": "FYI - The old AssetsLibrary framework was deprecated in iOS 9.0. As of iOS 8.0 you should be using the Photos framework."}, {"owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511928532, "post_id": 47544861, "comment_id": 82046675, "body": "Oh Ok. Can you show me a quick example?"}], "owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1511928651, "answer_count": 0, "score": 0, "last_activity_date": 1511928834, "creation_date": 1511928226, "last_edit_date": 1511928834, "question_id": 47544861, "link": "https://stackoverflow.com/questions/47544861/how-to-save-an-image-to-my-own-gallery", "closed_reason": "Duplicate", "title": "how to save an image to my own gallery", "body": "<p>I'm trying to save my images to a photo album specific to my app. I can create the album properly, but I can't save the images to it. \nI have the following code</p>\n\n<pre><code>-(void)save {\n    UIImage *imageToAddToAlbum = self.shapshot;\n\n    [self setupPhotoAlbumNamed:customPhotoAlbumName withCompletionHandler:\n     ^(ALAssetsLibrary *assetsLibrary, ALAssetsGroup *group) {\n         if (group)\n         {\n             [self addImage:imageToAddToAlbum toAssetsLibrary:assetsLibrary withGroup:group];\n         }\n     }];\n\n}\n\n\n- (void) setupPhotoAlbumNamed: (NSString*) photoAlbumName withCompletionHandler:(void(^)(ALAssetsLibrary*, ALAssetsGroup*))completion\n{\n    ALAssetsLibrary *assetsLibrary = [[ALAssetsLibrary alloc] init];\n    __weak ALAssetsLibrary *weakAssetsLibrary = assetsLibrary;\n    [assetsLibrary addAssetsGroupAlbumWithName:photoAlbumName resultBlock:^(ALAssetsGroup *group)\n     {\n         NSLog(@\"%@ Album result: %@\", self, (group.editable ? @\"success\" : @\"already existed\"));\n         if (!group)\n         {\n             [weakAssetsLibrary enumerateGroupsWithTypes:ALAssetsGroupAlbum usingBlock:^(ALAssetsGroup *g, BOOL *stop) {\n                 if ([[g valueForProperty:ALAssetsGroupPropertyName] isEqualToString:customPhotoAlbumName])\n                 {\n                     completion(weakAssetsLibrary, g);\n                 }\n             } failureBlock:^(NSError *error) {\n                 NSLog(@\"%@ An error has occured with description: %@\", self, error.localizedDescription);\n                 completion(weakAssetsLibrary, nil);\n             }];\n         }\n         else\n         {\n             completion(weakAssetsLibrary, group);\n         }\n     } failureBlock:^(NSError *error)\n     {\n         NSLog(@\"%@ An error has occured with description: %@\", self, error.localizedDescription);\n         completion(weakAssetsLibrary, nil);\n     }];\n}\n\n- (void) addImage: (UIImage*) image toAssetsLibrary: (ALAssetsLibrary*) assetsLibrary withGroup: (ALAssetsGroup*) group\n{\n    [assetsLibrary writeImageDataToSavedPhotosAlbum:UIImagePNGRepresentation(image) metadata:nil\n                                    completionBlock:\n     ^(NSURL *assetURL, NSError *error)\n     {\n         if (error)\n         {\n             NSLog(@\"%@ An error has occured with description: %@\", self, error.localizedDescription);\n         }\n         else\n         {\n             [assetsLibrary assetForURL:assetURL resultBlock:^(ALAsset *asset)\n              {\n                  [group addAsset:asset];\n                  NSLog(@\"%@ Image was succesfully added!\", self);\n              } failureBlock:^(NSError *error) {\n                  NSLog(@\"%@ An error has occured with description: %@\", self, error.localizedDescription);\n              }];\n         }\n     }];\n}\n</code></pre>\n\n<p>EDIT!!\nI found the answer on this other post. Sorry. Please close this.<br>\nIt properly creates the Album but I it's not properly saving the images to the album I define.</p>\n\n<p>Any help? Maybe a cleaner method of doing this?</p>\n\n<p>EDIT:</p>\n\n<p>The post that looks like a duplicate doesn't have an answer that satisfies iOS 8.0+ . I am now asking for a way to do this using the Photo library.</p>\n"}, {"tags": ["ios", "objective-c", "uitextfield"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511927148, "post_id": 47544702, "comment_id": 82046320, "body": "Let try to check by <code>if (cast.inputView)</code> instead of <code>if (cast.inputView != NULL)</code>"}, {"owner": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511927279, "post_id": 47544702, "comment_id": 82046340, "body": "@trungduc still same :("}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511927332, "post_id": 47544702, "comment_id": 82046352, "body": "Could you show the <code>setResolvedValue</code> method?"}, {"owner": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511927515, "post_id": 47544702, "comment_id": 82046395, "body": "@trungduc I updated the question with that part. But this is even not going inside the if statement. It jumping to the exception on the condition line."}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "edited": false, "score": 0, "creation_date": 1511927918, "post_id": 47544793, "comment_id": 82046509, "body": "But why its crashing on the condition line. If the error is with this line it should atleast go to inside isnt it?"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "edited": false, "score": 0, "creation_date": 1511928068, "post_id": 47544793, "comment_id": 82046534, "body": "Actually, i don&#39;t know. But with the error log, the problem is when you initialize <code>resolveValue</code>.  Maybe Xcode isn&#39;t always right ;)"}, {"owner": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "edited": false, "score": 0, "creation_date": 1511928598, "post_id": 47544793, "comment_id": 82046698, "body": "But still same :("}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "edited": false, "score": 0, "creation_date": 1511928833, "post_id": 47544793, "comment_id": 82046776, "body": "Sorry my bad, i have updated my answer. You can try it again."}, {"owner": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "edited": false, "score": 0, "creation_date": 1511929475, "post_id": 47544793, "comment_id": 82046939, "body": "Thanks! It worked. :) Still I cant imagine why it didnt give the crash on this line. Can you explain that exception little bit? [NSPlaceholderMutableString initWithString:]: nil argument"}], "tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 1, "last_activity_date": 1511929827, "last_edit_date": 1511929827, "creation_date": 1511927718, "answer_id": 47544793, "question_id": 47544702, "link": "https://stackoverflow.com/questions/47544702/nsplaceholdermutablestring-initwithstring-nil-argument-exception-coming-afte/47544793#47544793", "title": "[NSPlaceholderMutableString initWithString:]: nil argument exception coming after casting the UITextField", "body": "<p>The problem is because of <code>valueIn</code> is nil when you initialize <code>resolvedValue</code>. Check and make sure <code>valueIn</code> isn't nil before using it to initialize <code>resolvedValue</code>.</p>\n\n<p>You should take a look at Apple document for <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1497372-stringwithstring\" rel=\"nofollow noreferrer\">stringWithString:</a> method.</p>\n\n<blockquote>\n  <p>Raises an NSInvalidArgumentException if aString is nil.</p>\n</blockquote>\n\n<p>Try to replace your method by the code below</p>\n\n<pre><code>+ (NSString*) setResolvedValue:(UIView *)viewIn metrixUIViewControllerIn:(MetrixUIViewController *)metrixUIViewControllerIn valueIn:(NSString *)valueIn {\n  if ([MetrixStringHelper isNullOrEmpty:valueIn] || ![viewIn.inputView isKindOfClass:[UIPickerView class]]) {\n    return @\"\";\n  }\n\n  NSMutableString *resolvedValue = [NSMutableString stringWithString:valueIn];\n  MetrixColumnDef *columnDef = [MetrixControlAssistant getColumnDefAssociatedToPicker:metrixUIViewControllerIn picker:(UIPickerView *)viewIn.inputView];\n  NSString *uniqueName = [MetrixControlAssistant getUniqueNameAssociatedToPicker:metrixUIViewControllerIn picker:(UIPickerView *)viewIn.inputView];\n  NSMutableArray *dataSet = [metrixUIViewControllerIn.pickerData objectForKey:uniqueName];\n  for (NSDictionary *dictionary in dataSet) {\n    if ([MetrixStringHelper value:valueIn isEqualTo:[dictionary objectForKey:columnDef.lookupDef.valueColumn]]) {\n      resolvedValue = [dictionary objectForKey:columnDef.lookupDef.displayColumn];\n      break;\n    }\n  }\n  return resolvedValue;\n}\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 906414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/8243af6ef281508a191e9a733f5a4b8d?s=128&d=identicon&r=PG", "display_name": "Randi", "link": "https://stackoverflow.com/users/906414/randi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1802, "favorite_count": 0, "accepted_answer_id": 47544793, "answer_count": 1, "score": 1, "last_activity_date": 1511929827, "creation_date": 1511927050, "last_edit_date": 1511927456, "question_id": 47544702, "link": "https://stackoverflow.com/questions/47544702/nsplaceholdermutablestring-initwithstring-nil-argument-exception-coming-afte", "title": "[NSPlaceholderMutableString initWithString:]: nil argument exception coming after casting the UITextField", "body": "<p>I have a code like this.</p>\n\n<pre><code>else if ([controlIn isKindOfClass:UITextField.class]) {\n    UITextField *cast = (UITextField *)controlIn;\n    if (cast.inputView != NULL) {\n        cast.text = [self setResolvedValue:cast metrixUIViewControllerIn:metrixUIViewControllerIn valueIn:valueIn];\n    } else {\n        cast.text = valueIn;\n    }\n</code></pre>\n\n<p>But in this <code>if (cast.inputView != NULL)</code> line I am getting an exception </p>\n\n<blockquote>\n  <p>\"[NSPlaceholderMutableString initWithString:]: nil argument\"</p>\n</blockquote>\n\n<p>My <code>cast</code> is not nil. But whats the reason to get this error. Please help me.\nThanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<pre><code>+ (NSString*) setResolvedValue:(UIView *)viewIn metrixUIViewControllerIn:(MetrixUIViewController *)metrixUIViewControllerIn valueIn:(NSString *)valueIn {\nNSMutableString *resolvedValue = [NSMutableString stringWithString:valueIn];\nif (![MetrixStringHelper isNullOrEmpty:valueIn] &amp;&amp; [viewIn.inputView isKindOfClass:[UIPickerView class]]) {\n    MetrixColumnDef *columnDef = [MetrixControlAssistant getColumnDefAssociatedToPicker:metrixUIViewControllerIn picker:(UIPickerView *)viewIn.inputView];\n    NSString *uniqueName = [MetrixControlAssistant getUniqueNameAssociatedToPicker:metrixUIViewControllerIn picker:(UIPickerView *)viewIn.inputView];\n    NSMutableArray *dataSet = [metrixUIViewControllerIn.pickerData objectForKey:uniqueName];\n    for (NSDictionary *dictionary in dataSet) {\n        if ([MetrixStringHelper value:valueIn isEqualTo:[dictionary objectForKey:columnDef.lookupDef.valueColumn]]) {\n            resolvedValue = [dictionary objectForKey:columnDef.lookupDef.displayColumn];\n            break;\n        }\n    }\n}\nreturn resolvedValue;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["objective-c", "macos", "ffmpeg"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1511930105, "post_id": 47544649, "comment_id": 82047110, "body": "Duplicate: <a href=\"https://stackoverflow.com/questions/22789827/building-ffmpeg-ios-libraries-for-armv7-armv7s-arm64-i386-and-universal\" title=\"building ffmpeg ios libraries for armv7 armv7s arm64 i386 and universal\">stackoverflow.com/questions/22789827/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 8890259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248f067470edf01025f6565099205899?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/8890259/sol"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1512009044, "post_id": 47544649, "comment_id": 82087879, "body": "I was asking for macosx not ios.. and i was asking for programmatic approach steps etc to be followed."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8890259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248f067470edf01025f6565099205899?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/8890259/sol"}, "edited": false, "score": 0, "creation_date": 1512313147, "post_id": 47572206, "comment_id": 82197219, "body": "thanks. can we set fps and other presets to adjust quality? will I be able to create WebM format file?"}, {"owner": {"reputation": 339, "user_id": 8919803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1859408af540d68d3ba66e612661ecde?s=128&d=identicon&r=PG&f=1", "display_name": "Maarten Foukhar", "link": "https://stackoverflow.com/users/8919803/maarten-foukhar"}, "reply_to_user": {"reputation": 13, "user_id": 8890259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248f067470edf01025f6565099205899?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/8890259/sol"}, "edited": false, "score": 1, "creation_date": 1512379667, "post_id": 47572206, "comment_id": 82217936, "body": "All options supported by ffmpeg should work, WebM and frames per second are options I use in my application that uses ffmpeg (Media Converter -&gt; <a href=\"http://media-converter.sourceforge.net\" rel=\"nofollow noreferrer\">media-converter.sourceforge.net</a>)."}], "tags": [], "owner": {"reputation": 339, "user_id": 8919803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1859408af540d68d3ba66e612661ecde?s=128&d=identicon&r=PG&f=1", "display_name": "Maarten Foukhar", "link": "https://stackoverflow.com/users/8919803/maarten-foukhar"}, "is_accepted": true, "score": 1, "last_activity_date": 1512040785, "creation_date": 1512040785, "answer_id": 47572206, "question_id": 47544649, "link": "https://stackoverflow.com/questions/47544649/how-to-record-screen-in-macos-using-ffmpeg-in-objective-c/47572206#47572206", "title": "How to record screen in macOS using FFmpeg in Objective-C?", "body": "<p>You can use NSTask to launch other tasks, for example:</p>\n\n<pre><code>NSTask *task = [[NSTask alloc] init];\n[task setLaunchPath:@\"/usr/local/bin/ffmpeg\"]; // Path to ffmpeg, if included in the resources [[NSBundle mainBundle] pathForResource:@\"ffmpeg\" ofType:\"\"]\n[task setArguments:@[@\"-f\", @\"avcapture\", @\"-video_device_index\", @\"0\", @\"-i\", @\"\\\"\", @\"~/Desktop/capture.mpeg\"]];    \n[task launch];     \n[task waitUntilExit];\n\nint status = [task terminationStatus];\nif (status == 0)\n{\n     NSLog(@\"Task succeeded.\");\n}\nelse\n{\n    NSLog(@\"Task failed.\");\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8890259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248f067470edf01025f6565099205899?s=128&d=identicon&r=PG&f=1", "display_name": "sol", "link": "https://stackoverflow.com/users/8890259/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 47572206, "answer_count": 1, "score": 0, "last_activity_date": 1512040785, "creation_date": 1511926608, "last_edit_date": 1511931207, "question_id": 47544649, "link": "https://stackoverflow.com/questions/47544649/how-to-record-screen-in-macos-using-ffmpeg-in-objective-c", "title": "How to record screen in macOS using FFmpeg in Objective-C?", "body": "<p>I know:</p>\n\n<pre><code># ffmpeg -f avcapture -video_device_index 0 -i \"\" ~/Desktop/capture.mpeg\n</code></pre>\n\n<p>This will generate a video file. But how to do this programmatically in Xcode?\nI am trying to build a screen recorder which supports FFmpeg in macOS.</p>\n"}, {"tags": ["ios", "objective-c", "qr-code", "cifilter"], "answers": [{"tags": [], "owner": {"reputation": 783, "user_id": 4081756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c70b015c558d62b32386325129cad0?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Stillitano", "link": "https://stackoverflow.com/users/4081756/brandon-stillitano"}, "is_accepted": false, "score": 0, "last_activity_date": 1511925784, "creation_date": 1511925784, "answer_id": 47544520, "question_id": 47544144, "link": "https://stackoverflow.com/questions/47544144/generate-qr-code-initqrcodeforinputbytesize-cannot-find-proper-rs-block-info/47544520#47544520", "title": "Generate QR Code - initQRCodeForInputByteSize cannot find proper rs block info (input data too big?)", "body": "<p>When posting on StackOverflow you should include a full code sample and not just the first five lines from the tutorial you're using. This allows, as developers to get some context as to what you've tried and the source of your problem.</p>\n\n<ol>\n<li>Make sure that you're importing the <strong>CoreImage</strong> framework to your project</li>\n<li>Try running the default code included in the tutorial you're using like below</li>\n</ol>\n\n<p>Code pulled from <a href=\"https://codeafterhours.wordpress.com/2016/03/07/tutorial-how-to-generate-qr-codes-in-ios/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>NSString *info = @\"http://codeafterhours.wordpress.com\";\n\n// Generation of QR code image\nNSData *qrCodeData = [info dataUsingEncoding:NSISOLatin1StringEncoding]; // recommended encoding\nCIFilter *qrCodeFilter = [CIFilter filterWithName:@\"CIQRCodeGenerator\"];\n[qrCodeFilter setValue:qrCodeData forKey:@\"inputMessage\"];\n[qrCodeFilter setValue:@\"M\" forKey:@\"inputCorrectionLevel\"]; //default of L,M,Q &amp; H modes\n\nCIImage *qrCodeImage = qrCodeFilter.outputImage;\n\nCGRect imageSize = CGRectIntegral(qrCodeImage.extent); // generated image size\nCGSize outputSize = CGSizeMake(240.0, 240.0); // required image size\nCIImage *imageByTransform = [qrCodeImage imageByApplyingTransform:CGAffineTransformMakeScale(outputSize.width/CGRectGetWidth(imageSize), outputSize.height/CGRectGetHeight(imageSize))];\n\nUIImage *qrCodeImageByTransform = [UIImage imageWithCIImage:imageByTransform];\nself.imgViewQRCode.image = qrCodeImageByTransform;\n</code></pre>\n\n<p>If this works it would indicate to me that you are declaring your 'qrString' variable incorrectly. If you could share that with us it would help.</p>\n"}, {"tags": [], "owner": {"reputation": 2384, "user_id": 236832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fdafc492bdc4c02770210eae1d6523f1?s=128&d=identicon&r=PG&f=1", "display_name": "PakitoV", "link": "https://stackoverflow.com/users/236832/pakitov"}, "is_accepted": false, "score": 0, "last_activity_date": 1531130155, "creation_date": 1531130155, "answer_id": 51242715, "question_id": 47544144, "link": "https://stackoverflow.com/questions/47544144/generate-qr-code-initqrcodeforinputbytesize-cannot-find-proper-rs-block-info/51242715#51242715", "title": "Generate QR Code - initQRCodeForInputByteSize cannot find proper rs block info (input data too big?)", "body": "<p>The error is giving you a big hint, the data you are trying to transform into a QR is too big.</p>\n\n<p>QR Capacity</p>\n\n<ul>\n<li>Numeric Only Max. 7089 characters</li>\n<li>Alphanumeric Max. 4296 characters</li>\n<li>Binary (8 Bits) Max. 2953 characters</li>\n</ul>\n\n<p>As obvious as it sounds the solution is to reduce the amount of data, if you cannot renounce to this amount of data you could just use the QR to encode an URL pointing to the bulk of the data hosted somewhere else.</p>\n"}], "owner": {"reputation": 1723, "user_id": 831098, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4b54c4f308e997bae6aa76b8f5e57f62?s=128&d=identicon&r=PG", "display_name": "user831098", "link": "https://stackoverflow.com/users/831098/user831098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 522, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1531130155, "creation_date": 1511922938, "last_edit_date": 1511931433, "question_id": 47544144, "link": "https://stackoverflow.com/questions/47544144/generate-qr-code-initqrcodeforinputbytesize-cannot-find-proper-rs-block-info", "title": "Generate QR Code - initQRCodeForInputByteSize cannot find proper rs block info (input data too big?)", "body": "<p>I have the error:</p>\n\n<blockquote>\n  <p>initQRCodeForInputByteSize cannot find proper rs block info (input data too big?)</p>\n</blockquote>\n\n<p>when I generate the QR code.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>NSData *stringData = [qrString dataUsingEncoding: NSISOLatin1StringEncoding];\nCIFilter *qrFilter = [CIFilter filterWithName:@\"CIQRCodeGenerator\"];\n[qrFilter setValue:stringData forKey:@\"inputMessage\"];\n[qrFilter setValue:@\"L\" forKey:@\"inputCorrectionLevel\"];  \n\nCIImage *qrCodeImage = qrFilter.outputImage;\n</code></pre>\n\n<p>Does anyone know how to solve the problem?</p>\n"}, {"tags": ["ios", "objective-c", "keyboard"], "answers": [{"comments": [{"owner": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916221, "post_id": 47543266, "comment_id": 82043623, "body": "Thank you for your answer however I want the textView to be editable."}, {"owner": {"reputation": 515, "user_id": 6835150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FbF0I-ngr2Q/AAAAAAAAAAI/AAAAAAAAAJY/Tn9_HBxLtoE/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0443\u0434 \u0414\u0430\u0443\u0434\u043e\u0432", "link": "https://stackoverflow.com/users/6835150/%d0%9c%d0%b0%d0%ba%d1%81%d1%83%d0%b4-%d0%94%d0%b0%d1%83%d0%b4%d0%be%d0%b2"}, "reply_to_user": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916316, "post_id": 47543266, "comment_id": 82043648, "body": "@DvixExtract ammm I don\u2019t get it. User taps on textView, so he wants to edit it. But you want to hide keyboard. What?"}, {"owner": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916398, "post_id": 47543266, "comment_id": 82043677, "body": "so the user clicks on the textview and they enter text, afterwards they should tap anywhere on the screen so that the keyboard dismisses."}, {"owner": {"reputation": 515, "user_id": 6835150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FbF0I-ngr2Q/AAAAAAAAAAI/AAAAAAAAAJY/Tn9_HBxLtoE/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0443\u0434 \u0414\u0430\u0443\u0434\u043e\u0432", "link": "https://stackoverflow.com/users/6835150/%d0%9c%d0%b0%d0%ba%d1%81%d1%83%d0%b4-%d0%94%d0%b0%d1%83%d0%b4%d0%be%d0%b2"}, "reply_to_user": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916476, "post_id": 47543266, "comment_id": 82043698, "body": "@DvixExtract you said I works now. From your question: \u201c however when I tap other views it dismisses\u201d"}, {"owner": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916632, "post_id": 47543266, "comment_id": 82043747, "body": "see I have 3 views as shown in the image. When I tap on one of the views which doesn&#39;t contain the textView it dismisses the keyboard. What I want is to tap on the view that contains the textView so that it dismisses the keyboard."}, {"owner": {"reputation": 515, "user_id": 6835150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FbF0I-ngr2Q/AAAAAAAAAAI/AAAAAAAAAJY/Tn9_HBxLtoE/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0443\u0434 \u0414\u0430\u0443\u0434\u043e\u0432", "link": "https://stackoverflow.com/users/6835150/%d0%9c%d0%b0%d0%ba%d1%81%d1%83%d0%b4-%d0%94%d0%b0%d1%83%d0%b4%d0%be%d0%b2"}, "reply_to_user": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916798, "post_id": 47543266, "comment_id": 82043799, "body": "@DvixExtract check your textViews constraint. If it\u2019s frame size is equal to your views size, textField will get firstResponder and keyboard won\u2019t hide"}, {"owner": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "edited": false, "score": 0, "creation_date": 1511916929, "post_id": 47543266, "comment_id": 82043831, "body": "they are not equal"}], "tags": [], "owner": {"reputation": 515, "user_id": 6835150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FbF0I-ngr2Q/AAAAAAAAAAI/AAAAAAAAAJY/Tn9_HBxLtoE/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0443\u0434 \u0414\u0430\u0443\u0434\u043e\u0432", "link": "https://stackoverflow.com/users/6835150/%d0%9c%d0%b0%d0%ba%d1%81%d1%83%d0%b4-%d0%94%d0%b0%d1%83%d0%b4%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1511916026, "creation_date": 1511916026, "answer_id": 47543266, "question_id": 47543016, "link": "https://stackoverflow.com/questions/47543016/dismiss-keyboard-in-one-of-multiple-views/47543266#47543266", "title": "Dismiss Keyboard in one of multiple views", "body": "<p>If your textView is editable , tapping on that, will make it first responder. That\u2019s why keyboard is not dismissing. If you don\u2019t need edit textView, set it\u2019s editable attribute to false</p>\n"}, {"tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": false, "score": 0, "last_activity_date": 1511923297, "creation_date": 1511923297, "answer_id": 47544189, "question_id": 47543016, "link": "https://stackoverflow.com/questions/47543016/dismiss-keyboard-in-one-of-multiple-views/47544189#47544189", "title": "Dismiss Keyboard in one of multiple views", "body": "<p>You should take a look at Apple document for <a href=\"https://developer.apple.com/documentation/uikit/uiscrollview#//apple_ref/doc/uid/TP40006922\" rel=\"nofollow noreferrer\">UIScrollView</a>.</p>\n\n<blockquote>\n  <p>Because a scroll view has no scroll bars, it must know whether a touch signals an intent to scroll versus an intent to track a subview in the content. To make this determination, <strong>it temporarily intercepts a touch-down event by starting a timer</strong> and, before the timer fires, seeing if the touching finger makes any movement.</p>\n</blockquote>\n\n<p>That's why <code>touchesBegan</code> doesn't work when you click inside your scroll view.</p>\n\n<p>A easy way to fix it, add a <code>UITapGestureRecognizer</code> for your <code>viewController.view</code>.</p>\n\n<pre><code>@property (nonatomic, strong) UITapGestureRecognizer *tapGestureRecognizer;\n\n- (void)viewDidLoad {\n  [super viewDidLoad];\n  self.tapGestureRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self.aTextField action:@selector(resignFirstResponder)];\n  [self.view addGestureRecognizer:self.tapGestureRecognizer];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1742, "user_id": 6540962, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lKKle.jpg?s=128&g=1", "display_name": "Ganesh Manickam", "link": "https://stackoverflow.com/users/6540962/ganesh-manickam"}, "is_accepted": false, "score": 0, "last_activity_date": 1511932457, "creation_date": 1511932457, "answer_id": 47545506, "question_id": 47543016, "link": "https://stackoverflow.com/questions/47543016/dismiss-keyboard-in-one-of-multiple-views/47545506#47545506", "title": "Dismiss Keyboard in one of multiple views", "body": "<p>managing keyboard get most of our development time luckly we have an alternative solution with this <a href=\"https://github.com/hackiftekhar/IQKeyboardManager\" rel=\"nofollow noreferrer\">library</a></p>\n\n<p>No need to write multiple line of code in every viewcontroller simply add one line of code in your <code>didFinishLaunchingWithOptions</code></p>\n\n<pre><code>IQKeyboardManager.sharedManager().enable = true\n</code></pre>\n\n<p>This will save time \nHope this will help you</p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 5742172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k7JQd.png?s=128&g=1", "display_name": "ARULMOORTHY C", "link": "https://stackoverflow.com/users/5742172/arulmoorthy-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1511941248, "creation_date": 1511941248, "answer_id": 47547421, "question_id": 47543016, "link": "https://stackoverflow.com/questions/47543016/dismiss-keyboard-in-one-of-multiple-views/47547421#47547421", "title": "Dismiss Keyboard in one of multiple views", "body": "<p>You need to add tap gesture in the views which you want to click:\nFor you are using two UIViews with name Your_view1 and Your_view2, and textfields are txt1 and txt2. The code is below:</p>\n\n<p>Your_view1:</p>\n\n<pre><code>UITapGestureRecognizer *singleTapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleSingleTapGesture:)];\nsingleTapGesture.numberOfTapsRequired = 1;\n[Your_view1 addGestureRecognizer:singleTapGesture];\n</code></pre>\n\n<p>Your_view2:</p>\n\n<pre><code>UITapGestureRecognizer *singleTapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleSingleTapGesture:)];\nsingleTapGesture.numberOfTapsRequired = 1;\n[Your_view2 addGestureRecognizer:singleTapGesture];\n</code></pre>\n\n<p>And the delegate is:</p>\n\n<pre><code>-(void)handleSingleTapGesture:(UITapGestureRecognizer *)singleTapGesture{\n    [txt1 resignFirstResponder];\n    [txt2 resignFirstResponder];\n}\n</code></pre>\n"}], "owner": {"reputation": 1057, "user_id": 6516391, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xcGKa.jpg?s=128&g=1", "display_name": "DvixExtract", "link": "https://stackoverflow.com/users/6516391/dvixextract"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 47547421, "answer_count": 4, "score": 1, "last_activity_date": 1511941248, "creation_date": 1511914141, "last_edit_date": 1511917423, "question_id": 47543016, "link": "https://stackoverflow.com/questions/47543016/dismiss-keyboard-in-one-of-multiple-views", "title": "Dismiss Keyboard in one of multiple views", "body": "<p>I have a 3 views in one screen with different components such as tables and buttons, when I try to dismiss the keyboard with the code below it doesn't dismiss when I click on the view that contains the textView( and that\u2019s what I need! ) . However when I click on one of the other views it dismisses. </p>\n\n<p>The following image shows the views that I have and the last view inside the scrollview is the one that contains the textView.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7lzFj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lzFj.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I get the keyboard to dismiss despite the view that is taped.</p>\n\n<pre><code>-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {\n\nUITouch * touch = [touches anyObject];\n\nif(touch.phase == UITouchPhaseBegan) {\n    [aTextField resignFirstResponder];\n  }\n}\n</code></pre>\n\n<p>also this code fails to dismiss:</p>\n\n<pre><code>- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {\n\n[[self view] endEditing:TRUE];\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ios11", "uipopovercontroller", "xcode9"], "comments": [{"owner": {"reputation": 441, "user_id": 4637631, "user_type": "registered", "accept_rate": 15, "profile_image": "https://www.gravatar.com/avatar/bb4ae07d13f6bf3e9e91bbc00909bd06?s=128&d=identicon&r=PG&f=1", "display_name": "Bucket", "link": "https://stackoverflow.com/users/4637631/bucket"}, "edited": false, "score": 0, "creation_date": 1515159254, "post_id": 47539755, "comment_id": 83205215, "body": "Did you try by dismissing current popover before moving to other screen ?"}], "answers": [{"comments": [{"owner": {"reputation": 29579, "user_id": 1369972, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/89yHg.jpg?s=128&g=1", "display_name": "Rajneesh071", "link": "https://stackoverflow.com/users/1369972/rajneesh071"}, "edited": false, "score": 0, "creation_date": 1515498589, "post_id": 48121157, "comment_id": 83314185, "body": "There is no width anchor for barButton."}, {"owner": {"reputation": 596, "user_id": 833248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a950894c7c1b98840f588f4f6a8676bf?s=128&d=identicon&r=PG&f=1", "display_name": "torap", "link": "https://stackoverflow.com/users/833248/torap"}, "reply_to_user": {"reputation": 29579, "user_id": 1369972, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/89yHg.jpg?s=128&g=1", "display_name": "Rajneesh071", "link": "https://stackoverflow.com/users/1369972/rajneesh071"}, "edited": false, "score": 0, "creation_date": 1515517557, "post_id": 48121157, "comment_id": 83326075, "body": "My apologies, I had custom view which supports widthAnchor so thought it should work. Anyway give a try to this <a href=\"https://stackoverflow.com/questions/45544961/negative-spacer-for-uibarbuttonitem-in-navigation-bar-on-ios-11\" title=\"negative spacer for uibarbuttonitem in navigation bar on ios 11\">stackoverflow.com/questions/45544961/&hellip;</a>"}], "tags": [], "owner": {"reputation": 596, "user_id": 833248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a950894c7c1b98840f588f4f6a8676bf?s=128&d=identicon&r=PG&f=1", "display_name": "torap", "link": "https://stackoverflow.com/users/833248/torap"}, "is_accepted": false, "score": 0, "last_activity_date": 1515185792, "creation_date": 1515185792, "answer_id": 48121157, "question_id": 47539755, "link": "https://stackoverflow.com/questions/47539755/ios-11-popover-presentation-issue-in-multi-tasking-mode/48121157#48121157", "title": "iOS 11 Popover Presentation Issue in Multi-tasking Mode", "body": "<p>From iOS11, bar button item is using constraint instead of frames. So try giving a constraint to each bar button item. It might doesn't reflect visually but it plays a major role in producing this kind of issue.</p>\n\n<p>Try using below code to set the constraint:</p>\n\n<pre><code>if #available(iOS 11.0, *)\n{\n  _fixedSpace.widthAnchor.constraint(equalToConstant: 280.0).isActive = true\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 1482, "user_id": 1967031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c59573e1a5bcfe50cbbff34d9ae1a14c?s=128&d=identicon&r=PG", "display_name": "Dharmesh Siddhpura", "link": "https://stackoverflow.com/users/1967031/dharmesh-siddhpura"}, "is_accepted": false, "score": 0, "last_activity_date": 1515539644, "creation_date": 1515539644, "answer_id": 48178025, "question_id": 47539755, "link": "https://stackoverflow.com/questions/47539755/ios-11-popover-presentation-issue-in-multi-tasking-mode/48178025#48178025", "title": "iOS 11 Popover Presentation Issue in Multi-tasking Mode", "body": "<p>I replicated same scenario and I found a fix for this as below:</p>\n\n<pre><code>[coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n    if (size.width &gt; size.height) {\n        fixedSpace.width = 280;\n    } else {\n        fixedSpace.width = 80;\n    }\n} completion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n    CGRect rect = [self.view convertRect:barBtn.frame fromView:barBtn];\n    popover.sourceRect = rect;\n}];\n</code></pre>\n\n<p>Try to reset the sourceRect property in the completion block.</p>\n\n<p>Hope this is helpful!</p>\n"}, {"tags": [], "owner": {"reputation": 1720, "user_id": 9106403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/keKUY.png?s=128&g=1", "display_name": "iOS Team", "link": "https://stackoverflow.com/users/9106403/ios-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1515563663, "creation_date": 1515563663, "answer_id": 48181112, "question_id": 47539755, "link": "https://stackoverflow.com/questions/47539755/ios-11-popover-presentation-issue-in-multi-tasking-mode/48181112#48181112", "title": "iOS 11 Popover Presentation Issue in Multi-tasking Mode", "body": "<p>As far as I understood your question I want to propose a simple solution for this :</p>\n\n<p>I have took a Viewcontroller and PopoverView in storyboard. Viewcontroller will work as main view controller where as PopoverView will work to display as popover.\n(Caution : Don\u2019t Forget to set Explicit Content Size for PopoverView in StoryBoard) for more reference you can see attached screen shot of my storyboard.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MpsVl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MpsVl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is sample source code of Viewcontroller in which you will find Popoverview position will change as per the right button frame change.</p>\n\n<p>This code is developed using <strong>Objective C</strong> </p>\n\n<p><strong>ViewController.h</strong></p>\n\n<pre><code>    //\n    //  ViewController.h\n    //  SOPopoverControllerDemo\n    //\n    //  Created by Test User on 08/01/18.\n    //  Copyright \u00a9 2018 Test User All rights reserved.\n    //\n\n    #import &lt;UIKit/UIKit.h&gt;\n\n    @interface ViewController : UIViewController\n\n\n    @end\n</code></pre>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>    //\n    //  ViewController.m\n    //  SOPopoverControllerDemo\n    //\n    //  Created by Test User on 08/01/18.\n    //  Copyright \u00a9 2018 Test User All rights reserved.\n    //\n\n    #import \"ViewController.h\"\n\n    @interface ViewController () &lt;UIPopoverPresentationControllerDelegate&gt;\n\n    @property (weak, nonatomic) IBOutlet UIBarButtonItem *leftToolBarBtn;\n    @property (weak, nonatomic) IBOutlet UIBarButtonItem *rightToolBarBtn;\n    @property (weak, nonatomic) IBOutlet UIBarButtonItem *flexibleBtn;\n    @property (weak, nonatomic) IBOutlet UIToolbar *bottomToolBar;\n    @property (weak,nonatomic) UIPopoverPresentationController *popOverController;\n\n\n    @end\n\n\n\n    @implementation ViewController\n\n    - (void)viewDidLoad {\n        [super viewDidLoad];\n        // Do any additional setup after loading the view, typically from a nib.\n\n        if (self.view.frame.size.width &gt; self.view.frame.size.height) {\n            self.rightToolBarBtn.width = 200;\n            self.leftToolBarBtn.width = 200;\n        } else {\n            self.rightToolBarBtn.width = 150;\n            self.leftToolBarBtn.width = 150;\n        }\n\n    }\n\n    - (void) viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id&lt;UIViewControllerTransitionCoordinator&gt;)coordinator {\n        [super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n        [coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n            if (size.width &gt; size.height) {\n                _rightToolBarBtn.width = 200;\n                [self dismissViewControllerAnimated:true completion:nil];\n                [self rightToolBarBtnTapped:_rightToolBarBtn];\n            } else {\n                _rightToolBarBtn.width = 150;\n                [self dismissViewControllerAnimated:true completion:nil];\n                [self rightToolBarBtnTapped:_rightToolBarBtn];\n            }\n        } completion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n\n        }];\n    }\n\n    - (IBAction)rightToolBarBtnTapped:(id)sender {\n\n\n        //Grab the controller for popover\n        UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\n        UIViewController *controller = [storyboard instantiateViewControllerWithIdentifier:@\"PopoverView\"];\n\n        if (self.view.frame.size.width &gt; self.view.frame.size.height ) {\n            controller.preferredContentSize = CGSizeMake(200, 100);\n        } else {\n            controller.preferredContentSize = CGSizeMake(150, 100);\n        }\n\n\n        controller.modalPresentationStyle = UIModalPresentationPopover;\n        [self presentViewController:controller animated:YES completion:nil];\n\n        // configure the Popover presentation controller\n        _popOverController = [controller popoverPresentationController];\n        _popOverController.delegate = self;\n        _popOverController.permittedArrowDirections = UIPopoverArrowDirectionUp;\n        _popOverController.barButtonItem = self.rightToolBarBtn;\n\n        }\n\n\n    //--------------------------------------------------\n    #pragma mark -&gt;  UIPopOverController Delegate\n    //--------------------------------------------------\n\n    - (BOOL)popoverPresentationControllerShouldDismissPopover:(UIPopoverPresentationController *)popoverPresentationController {\n        return YES;\n    }\n\n    - (void)popoverPresentationControllerDidDismissPopover:(UIPopoverPresentationController *)popoverPresentationController {\n        NSLog(@\"Popover Did Dismissed\");\n    }\n\n\n    @end\n</code></pre>\n\n<p><strong>PopoverView.h</strong></p>\n\n<pre><code>    //\n    //  PopoverView.h\n    //  SOPopoverControllerDemo\n    //\n    //  Created by Test User on 08/01/18.\n    //  Copyright \u00a9 2018 Test User All rights reserved.\n    //\n\n    #import &lt;UIKit/UIKit.h&gt;\n\n    @interface PopoverView : UIViewController\n\n    @end\n</code></pre>\n\n<p><strong>PopoverView.m</strong></p>\n\n<pre><code>    //\n    //  PopoverView.m\n    //  SOPopoverControllerDemo\n    //\n    //  Created by Test User on 08/01/18.\n    //  Copyright \u00a9 2018 Test User All rights reserved.\n    //\n\n    #import \"PopoverView.h\"\n\n    @interface PopoverView ()\n\n    @end\n\n    @implementation PopoverView\n\n    - (void)viewDidLoad {\n        [super viewDidLoad];\n        // Do any additional setup after loading the view.\n    }\n\n    - (void)didReceiveMemoryWarning {\n        [super didReceiveMemoryWarning];\n        // Dispose of any resources that can be recreated.\n    }\n\n    @end\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1302553"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1515563663, "creation_date": 1511898517, "last_edit_date": 1511948781, "question_id": 47539755, "link": "https://stackoverflow.com/questions/47539755/ios-11-popover-presentation-issue-in-multi-tasking-mode", "title": "iOS 11 Popover Presentation Issue in Multi-tasking Mode", "body": "<p>Keeping popover in open state. Then, when I try to switch to 2/3 screen mode and change the position of center BarButtonItem with fixed space BarButtonItem in viewWillTrainsition, my popover tool-tip moves to the previous location of barButtonItem.</p>\n\n<pre><code>- (void)viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id&lt;UIViewControllerTransitionCoordinator&gt;)coordinator {\n[super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n[coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n    if (size.width&gt;size.height) {\n        _fixedSpace.width = 280;\n    } else {\n        _fixedSpace.width = 80;\n    }\n} completion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n\n}];}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/R1k3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R1k3E.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uikit", "ios11"], "comments": [{"owner": {"reputation": 13932, "user_id": 312312, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/D9Bid.jpg?s=128&g=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/312312/lefteris"}, "edited": false, "score": 1, "creation_date": 1511899332, "post_id": 47539716, "comment_id": 82036903, "body": "First of all any UI changes need to be done on the UI thread, so different threads is not an option. Second I&#39;m guessing you want to show this at any time regardless of anything happening so why don&#39;t you simply add it on the window on top of everything and manually handle showing/hiding?"}, {"owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "reply_to_user": {"reputation": 13932, "user_id": 312312, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/D9Bid.jpg?s=128&g=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/312312/lefteris"}, "edited": false, "score": 0, "creation_date": 1511903087, "post_id": 47539716, "comment_id": 82038962, "body": "The threading is being handled properly, that\u2019s not the problem. I tried working directly with the window at one point and had issues  it\u2019s other things overlaying it. Should maybe give it another try."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1511914141, "post_id": 47539716, "comment_id": 82043073, "body": "What you need is making the class a singleton. that way, only one instance of the view will be loaded. and the show/hide will not overlap each other."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "reply_to_user": {"reputation": 13932, "user_id": 312312, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/D9Bid.jpg?s=128&g=1", "display_name": "Lefteris", "link": "https://stackoverflow.com/users/312312/lefteris"}, "edited": false, "score": 0, "creation_date": 1511914189, "post_id": 47539716, "comment_id": 82043092, "body": "and +1 on @Lefteris comment - UI related updates must be done on main thread."}, {"owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "reply_to_user": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1511915002, "post_id": 47539716, "comment_id": 82043304, "body": "@GeneCode. See edit. Unfortunately that\u2019s not my problem (and already using a singleton)."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1511915252, "post_id": 47539716, "comment_id": 82043360, "body": "You need to show us how u creating the class. and also how u are using it.maybe we can have some idea what is wrong."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1512271615, "post_id": 47539716, "comment_id": 82188314, "body": "Without seeing ur code it\u2019s just a guessing game for everyone"}], "answers": [{"tags": [], "owner": {"reputation": 515, "user_id": 6835150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FbF0I-ngr2Q/AAAAAAAAAAI/AAAAAAAAAJY/Tn9_HBxLtoE/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0443\u0434 \u0414\u0430\u0443\u0434\u043e\u0432", "link": "https://stackoverflow.com/users/6835150/%d0%9c%d0%b0%d0%ba%d1%81%d1%83%d0%b4-%d0%94%d0%b0%d1%83%d0%b4%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1511915569, "creation_date": 1511915569, "answer_id": 47543195, "question_id": 47539716, "link": "https://stackoverflow.com/questions/47539716/ios-show-uiviewcontroller-as-popup-from-anywhere/47543195#47543195", "title": "iOS Show UIViewController as Popup from Anywhere", "body": "<p>If you need mechanism for thread safe showing different VCs in multithread environment, you can make some object which is responsible for presenting/dismissing controllers. And make some queue on presenting/dismissing. So when your signal occurs, your operation on presenting will be next after dismissing current VC in queue</p>\n"}], "owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511915569, "creation_date": 1511898322, "last_edit_date": 1511914656, "question_id": 47539716, "link": "https://stackoverflow.com/questions/47539716/ios-show-uiviewcontroller-as-popup-from-anywhere", "title": "iOS Show UIViewController as Popup from Anywhere", "body": "<p>Basic question: </p>\n\n<p>Is there a reliably way to trigger showing modal <code>UIViewControllers</code> at any point in the app's lifetime (including from different threads)?</p>\n\n<p>My current approach is to call <code>presentViewController</code> on the showing ViewController (found through <code>window.rootViewController</code> + hierarchy traversing but that's unimportant). This generally works, but is sometimes ignored due to things like a navigation action/animation taking place.</p>\n\n<p>E.g. a background thread signals for a popup to be shown, and <code>presentViewController</code> is called on a <code>ViewController</code> in the process of being dismissed. </p>\n\n<p>I've tried a few work arounds such as repeating the signal if the <code>ViewController</code> isn't shown (which led to some instances of it being show multiple times), but it's ended up being a game of whackamole.</p>\n\n<p>An ideal solution would also allow navigation to take place underneath the popup, but the primary issue right now is just reliability.</p>\n\n<p><strong>edit</strong></p>\n\n<p>To be clear, I\u2019m a seasoned developer. The threading is being handled properly, the instance and type management is working. My problem is trying to manage all\nthe corner cases, not the basics of how to do it. </p>\n"}, {"tags": ["ios", "objective-c", "iphone", "ssl", "xcode9"], "comments": [{"owner": {"reputation": 14093, "user_id": 5442445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60280800d5fe94cc71b3f369b33122b2?s=128&d=identicon&r=PG&f=1", "display_name": "beyowulf", "link": "https://stackoverflow.com/users/5442445/beyowulf"}, "edited": false, "score": 0, "creation_date": 1511909197, "post_id": 47539202, "comment_id": 82041566, "body": "Are you using https? If not, then there are more requirements than simply hosting an apple-app-site-association json."}], "answers": [{"tags": [], "owner": {"reputation": 403, "user_id": 2627067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a2325aa2033a3d43c8edfb43718562?s=128&d=identicon&r=PG", "display_name": "ethanhuang13", "link": "https://stackoverflow.com/users/2627067/ethanhuang13"}, "is_accepted": false, "score": 0, "last_activity_date": 1534065792, "creation_date": 1534065792, "answer_id": 51807482, "question_id": 47539202, "link": "https://stackoverflow.com/questions/47539202/iosdebuging-universal-links/51807482#51807482", "title": "iOS:Debuging universal links", "body": "<p>According to official document, <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html</a></p>\n\n<blockquote>\n  <p>The apps key in an apple-app-site-association file must be present and its value must be an empty array, as shown in Listing 6-1.</p>\n</blockquote>\n"}], "owner": {"reputation": 6754, "user_id": 2924482, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e6e12fed09d0e8d38e550db2f498460f?s=128&d=identicon&r=PG&f=1", "display_name": "user2924482", "link": "https://stackoverflow.com/users/2924482/user2924482"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534065792, "creation_date": 1511896394, "question_id": 47539202, "link": "https://stackoverflow.com/questions/47539202/iosdebuging-universal-links", "title": "iOS:Debuging universal links", "body": "<p>I'm trying to implement universal links but for some reason when I load link from the domain I'm trying to redirect to my app is not working. Here is my <code>apple-app-site-association</code> file:</p>\n\n<pre><code>{\n        \"applinks\": {\n                \"apps\": [\"44ABCDFG.com.myTeam.MyApp\"],\n                \"details\": [{\n                        \"appID\": \"44ABCDFG.com.myTeam.MyApp\",\n                        \"paths\": [\"*\"]\n                }]\n        }\n}\n</code></pre>\n\n<p>I add the domain in the <code>Associated Domains</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AMUzR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMUzR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my implantation on app:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application continueUserActivity:(NSUserActivity *)userActivity restorationHandler:(void(^)(NSArray * __nullable restorableObjects))restorationHandler{\n\n    NSLog(@\"universal links are working!!!\");\n\n    return true;\n}\n</code></pre>\n\n<p>The links are http but per documentation it shouldn't be a issue. Also per documentation the <code>apple-app-site-association</code> is not necessary to be signed with SSL certificate.</p>\n\n<p>I <a href=\"https://search.developer.apple.com/appsearch-validation-tool\" rel=\"nofollow noreferrer\">use apple validation tool</a> and I'm getting this error: <code>Error cannot fetch app site association</code></p>\n\n<p>Any of you knows what I'm doing wrong or what can I do to make this work?</p>\n\n<p>I'll really appreciate your help.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "libvlc", "vlckit"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 4666515, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y8tbX.jpg?s=128&g=1", "display_name": "lsdoy", "link": "https://stackoverflow.com/users/4666515/lsdoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1514379356, "creation_date": 1514379356, "answer_id": 47992588, "question_id": 47536095, "link": "https://stackoverflow.com/questions/47536095/cant-set-vlckit-for-ios/47992588#47992588", "title": "Cant set VLCKit for IOS", "body": "<p>You need add the MobileVLCKit.framework by yourself.\n<a href=\"https://i.stack.imgur.com/s8vcw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8vcw.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/afVIu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/afVIu.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lYDeF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYDeF.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ntsoz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ntsoz.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 3213, "user_id": 2003734, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/026c9f1b6f7e0b79892f95cfb2a61ef1?s=128&d=identicon&r=PG", "display_name": "R&#233;my Virin", "link": "https://stackoverflow.com/users/2003734/r%c3%a9my-virin"}, "is_accepted": false, "score": 1, "last_activity_date": 1520430500, "creation_date": 1520430500, "answer_id": 49153497, "question_id": 47536095, "link": "https://stackoverflow.com/questions/47536095/cant-set-vlckit-for-ios/49153497#49153497", "title": "Cant set VLCKit for IOS", "body": "<p>Have you tried with Cocoapods? It's really easy:</p>\n\n<ol>\n<li>Add the pod <code>MobileVLCKit</code> to your <code>Podfile</code> and run <code>pod install</code></li>\n<li>After adding VLC as a pod, your project shouldn\u2019t link anymore. On my side, I\nhave 78 link errors. To fix it, simply add an Objective-C++ file\n(for instance <code>forVLCLink.mm</code>) </li>\n<li>Once your project is compiling you can import <code>MobileVLCKit</code> in your bridging header. </li>\n<li><p>Here is how you play the video with <code>MobileVLCKit</code>:</p>\n\n<pre><code>let mediaPlayer = VLCMediaPlayer()\n\nfunc playURI(uri: String) {\n    mediaPlayer.drawable = self.movieView\n    let url = URL(string: uri)\n    let media = VLCMedia(url: url)\n    mediaPlayer.media = media\n\n    mediaPlayer.play()\n}\n</code></pre></li>\n</ol>\n\n<p>More information at the end of this article: <a href=\"https://hackernoon.com/live-stream-an-onvif-camera-on-your-ios-app-57fe9cead5a5\" rel=\"nofollow noreferrer\">https://hackernoon.com/live-stream-an-onvif-camera-on-your-ios-app-57fe9cead5a5</a></p>\n"}], "owner": {"reputation": 21, "user_id": 5206623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcWDl.jpg?s=128&g=1", "display_name": "Maialen", "link": "https://stackoverflow.com/users/5206623/maialen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1692, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1576575875, "creation_date": 1511885521, "last_edit_date": 1576575875, "question_id": 47536095, "link": "https://stackoverflow.com/questions/47536095/cant-set-vlckit-for-ios", "title": "Cant set VLCKit for IOS", "body": "<p>The last days I'm trying to make an app for IOS including VLCKit. I tried to follow all the methods and tutorials that I found, but I can not get the application to compile correctly.</p>\n\n<p>I've tried using cocoapods pod <strong>'MobileVLCKit', '~> 2.2'</strong>. But it ends up giving a compilation error, for lack of binaries, when I try to compile the application. I have told xcode not to use binaries, but that only causes more compilation errors, due to lack of functions.\nSo I followed the advice of the  <a href=\"https://forum.videolan.org/viewtopic.php?t=137065\" rel=\"nofollow noreferrer\">Forum</a> </p>\n\n<ol>\n<li><p>Create a dummy Xcode project, download <em>MobileVLCkit</em> using cocoa pods.</p></li>\n<li><p>Copy the downloaded \"<em>MobileVLCKit.framework</em>\" file from the dummy project, into your project root folder.</p></li>\n<li><p>Go to your project's target build settings and add the following lines to your \"Header Search Paths\" (add the quotes too)</p>\n\n<p>\"$(PROJECT_DIR)/MobileVLCKit.framework/Headers\" </p>\n\n<p>\"$(BUILT_PRODUCTS_DIR)\"</p></li>\n<li><p>In your project's target build settings add the following lines to your framework search paths (add the quotes too)</p>\n\n<p>\"$(SRCROOT)/MobileVLCKit.framework\" </p>\n\n<p>\"$(PROJECT_DIR)\"</p></li>\n<li><p>in Other linker flags add the following lines</p>\n\n<p>-l\"bz2\"</p>\n\n<p>-l\"iconv\"</p>\n\n<p>-framework \"MobileVLCKit\"</p></li>\n<li><p>In General > Linked Frameworks and Libraries add the following library by clicking on the + icon libstdc++.6.tbd</p></li>\n<li><p>Most important of all add the reference to the Bridging-Header.h by including the following line</p>\n\n<p>import \"MobileVLCKit/MobileVLCKit.h\"</p></li>\n<li><p>Test by typing VLCMediaPlayerDelegate, see if that auto completes. If so help others by pointing them here, else retrace your steps to\nsee what you have missed.</p></li>\n</ol>\n\n<p>But in the end it gives the same error.</p>\n\n<p>............</p>\n\n<p>Then I tried to add the libraries by hand, following the official documentation <a href=\"https://wiki.videolan.org/VLCKit/#Building_the_framework_for_iOS\" rel=\"nofollow noreferrer\">Documentation</a></p>\n\n<p>But it never ends correctly. \nAfter much searching it seems that the latest version could have a failure. So I tried this <a href=\"https://forum.videolan.org/viewtopic.php?t=135879\" rel=\"nofollow noreferrer\">Suggestion</a>, But just as before it does not work.</p>\n\n<ol>\n<li><p>rm -Rf VLCKit # Delete the current clone of VLCKit to restart from new one. </p></li>\n<li><p>git clone <a href=\"https://code.videolan.org/videolan/VLCKit.git\" rel=\"nofollow noreferrer\">https://code.videolan.org/videolan/VLCKit.git</a> #clone VLCKit current version </p></li>\n<li><p>cd VLCKit #move to VLCKit directory </p></li>\n<li><p>git reset --hard 2453a955435b9cae2c1637274416a4841ce66909 #move to working commit version </p></li>\n<li><p>Edit buildMobileVLCKit.sh to add bitcode support using @ssbmaccom patch above </p></li>\n<li><p>./buildMobileVLCKit.sh -fb #Build VLCKit for device and Simulator with bitcode</p></li>\n</ol>\n\n<p>................</p>\n\n<p>Any idea how to fix it?</p>\n\n<p>My operating system is -> MacOS Sierra 10.12.6</p>\n\n<p>The version of xcode is -> 9.0.1</p>\n\n<hr>\n\n<blockquote>\n  <p>Finally I have managed to make it work, both the video and the audio. \n  Testing all the versions and confiurations of the library I have found\n  one that seems to work, or at least does what I need.</p>\n  \n  <p>pod 'MobileVLCKit-prod', '2.7.9'</p>\n  \n  <p>Disabling the use of binaries.</p>\n</blockquote>\n"}, {"tags": ["objective-c", "xcode8"], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 9126061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a36aa30a5ea77687c41519bfbfcdcc6?s=128&d=identicon&r=PG&f=1", "display_name": "lansw", "link": "https://stackoverflow.com/users/9126061/lansw"}, "is_accepted": false, "score": 4, "last_activity_date": 1520504359, "creation_date": 1520504359, "answer_id": 49170670, "question_id": 47535427, "link": "https://stackoverflow.com/questions/47535427/how-to-enable-fcxx-modules-flag-in-xcode/49170670#49170670", "title": "How to enable -fcxx-modules flag in Xcode?", "body": "<p>There are a number of possibles methods:</p>\n\n<ol>\n<li><p>In the <code>Target-&gt;Build Phases -&gt; Compile Sources</code> add\n<code>-fcxx-modules</code> to the Compiler Flags column of the source files where modules are used</p></li>\n<li><p>If it is always required, consider adding it to the <code>Target-&gt;BuildSettings-&gt;Other C++ Flags</code></p></li>\n</ol>\n"}], "owner": {"reputation": 6008, "user_id": 2467772, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/19d111f9436ccf10d1391751e54a2699?s=128&d=identicon&r=PG", "display_name": "batuman", "link": "https://stackoverflow.com/users/2467772/batuman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2071, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1520504359, "creation_date": 1511883591, "question_id": 47535427, "link": "https://stackoverflow.com/questions/47535427/how-to-enable-fcxx-modules-flag-in-xcode", "title": "How to enable -fcxx-modules flag in Xcode?", "body": "<p>According to discussion <a href=\"https://stackoverflow.com/questions/20083224/using-import-from-clang\">here</a>, I used .mm in my Xcode project and I need to enable <code>-fcxx-modules flag</code>.</p>\n\n<p>I have Xcode8.3 and how to enable <code>-fcxx-modules flag</code>.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "gzip", "carthage"], "answers": [{"tags": [], "owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1511926153, "creation_date": 1511926153, "answer_id": 47544586, "question_id": 47535337, "link": "https://stackoverflow.com/questions/47535337/how-to-install-objective-c-gzip-library-for-swift/47544586#47544586", "title": "How to install Objective C GZIP library for Swift", "body": "<p>Please see the following Apple documentation on how to embed frameworks:</p>\n\n<p><a href=\"https://developer.apple.com/library/content/technotes/tn2435/_index.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/content/technotes/tn2435/_index.html</a></p>\n\n<p>You may also want to consider using Apple's Data Compression API, see <a href=\"https://developer.apple.com/documentation/compression/data_compression\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/compression/data_compression</a>.  Among other algorithms it supports ZLIB, which is what GZIP uses, see <a href=\"https://stackoverflow.com/questions/20762094/how-are-zlib-gzip-and-zip-related-what-do-they-have-in-common-and-how-are-they\">How are zlib, gzip and zip related? What do they have in common and how are they different?</a>.  </p>\n"}], "owner": {"reputation": 641, "user_id": 7294871, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/5ocGR.jpg?s=128&g=1", "display_name": "Tarek", "link": "https://stackoverflow.com/users/7294871/tarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511926153, "creation_date": 1511883344, "question_id": 47535337, "link": "https://stackoverflow.com/questions/47535337/how-to-install-objective-c-gzip-library-for-swift", "title": "How to install Objective C GZIP library for Swift", "body": "<p>I'm using Xcode 9.1 and Swift 3.2 for my current project.\nI tried using 1024jp's GzipSwift library but I kept getting <code>clang: error: linker command failed with exit code 1 (use -v to see invocation)</code>. </p>\n\n<p>So I decided to give the Objective C version a try.</p>\n\n<p>Here's GZIP written in Objective C library <a href=\"https://github.com/nicklockwood/GZIP\" rel=\"nofollow noreferrer\">https://github.com/nicklockwood/GZIP</a>. </p>\n\n<pre><code>Alternatively you can use Carthage, or if you prefer to install manually, drag the GZIP.xcodeproj into your project or workspace and include GZIP.framework under the linked libraries in your target.\n</code></pre>\n\n<p>I couldn't figure out how to use Carthage nor drag the GZIP.xcodeproj (where exactly in the project should I drag it?) and I couldn't find the GZIP.framework file anyways.</p>\n\n<p>I'm trying to avoid Cocoapods as much as possible bec it's proven to be troublesome in the past where I work.</p>\n"}, {"tags": ["objective-c", "compiler-warnings", "return-type", "objective-c-nullability"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1511884452, "post_id": 47534948, "comment_id": 82028163, "body": "Perhaps you can extend <code>NSProxy</code> instead of <code>NSObject</code>. I imagine there would be more work to do so, but it may be an option."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511885613, "post_id": 47534948, "comment_id": 82029007, "body": "That&#39;s an interesting thought, thanks. &quot;Proxy&quot; certainly makes some sense semantically."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1511907888, "post_id": 47534948, "comment_id": 82041059, "body": "Is this a singleton?"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1511915966, "post_id": 47534948, "comment_id": 82043552, "body": "It is not, @Willeke."}], "answers": [{"tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": false, "score": 0, "last_activity_date": 1520026463, "creation_date": 1520026463, "answer_id": 49077756, "question_id": 47534948, "link": "https://stackoverflow.com/questions/47534948/marking-plain-init-to-have-a-nullable-return-type-without-a-warning/49077756#49077756", "title": "Marking plain -init to have a nullable return type without a warning", "body": "<p>You could declare a factory method having the same name as the type:</p>\n\n<pre><code>@interface BasketWrapper : NSObject\n\n+ (nullable instancetype)basketWrapper;\n\n/**\n * @abstract  Create an empty basket\n */\n- (instancetype)init NS_UNAVAILABLE;\n\n@end\n</code></pre>\n\n<p>This will make the warning go away and allow you to make use of the failable initializer.</p>\n"}], "owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 617, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1520026463, "creation_date": 1511882239, "question_id": 47534948, "link": "https://stackoverflow.com/questions/47534948/marking-plain-init-to-have-a-nullable-return-type-without-a-warning", "title": "Marking plain -init to have a nullable return type without a warning", "body": "<p>I have an ObjC class inheriting from <code>NSObject</code> that wraps some third-party library macros so that I can use their functionality in Swift. The class has an ivar that's a container type from the library. Creation of the container can fail, and if it does, the instantiation of my class should fail too. So I marked <code>-init</code> as <code>nullable</code>.</p>\n\n<pre><code>@interface BasketWrapper : NSObject\n\n/**\n * @abstract  Create an empty basket\n */\n - (nullable instancetype)init;    // \u26a0\ufe0f Conflicting nullability specifier\n\n@end\n\n@implementation\n{\n    LibraryBasket * _basket;\n}\n\n- (instancetype)init\n{\n    self = [super init];\n    if( !self ) return nil;\n\n    // Can't really do anything without the wrapped item.\n    _basket = LibraryBasket_Create();\n    if( !_basket ) return nil;\n\n    return self;\n}\n</code></pre>\n\n<p>Unfortunately that <code>-init</code> declaration produces a compiler warning</p>\n\n<blockquote>\n  <p>Conflicting nullability specifier on return types, '_Nullable' conflicts with existing specifier 'nonnull'</p>\n</blockquote>\n\n<p>pointing at <code>NSObject</code>'s declaration.</p>\n\n<p>As a workaround, I've marked the warning ignored with a pragma, and the method appears in Swift as failable.</p>\n\n<p>Another option I considered was to mark plain <code>-init</code> unavailable and make a class method, <code>+empty</code>, instead. But then that's annoying because a) I can't use Swift initializer syntax, and b) <code>init</code> is unavailable in the class's own implementation too. </p>\n\n<p>Is there some way to override the nullability of the inherited <code>init</code> without the warning?</p>\n"}, {"tags": ["ios", "objective-c", "webrtc", "video-capture", "apprtc"], "comments": [{"owner": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1513252668, "post_id": 47534911, "comment_id": 82586817, "body": "Hi, did you solve this problem. I&#39;m stuck with the same thing"}, {"owner": {"reputation": 935, "user_id": 2064537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0EY2r.jpg?s=128&g=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/2064537/prasanna"}, "reply_to_user": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1513316763, "post_id": 47534911, "comment_id": 82615171, "body": "Yes @WorieN I solved this.... posting answer of this question in a while..."}, {"owner": {"reputation": 935, "user_id": 2064537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0EY2r.jpg?s=128&g=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/2064537/prasanna"}, "reply_to_user": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1513319075, "post_id": 47534911, "comment_id": 82615984, "body": "@WorieN posted the answer ! please upvote if you find this helpful."}], "answers": [{"comments": [{"owner": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1513332780, "post_id": 47826633, "comment_id": 82622746, "body": "And could you please share the code that help to render the videotrack to RTCEAGLVideoView? I do not know why, but I have no video there. Maybe you store RTCEAGLVideoView in some VideoView that helps to render it?"}, {"owner": {"reputation": 935, "user_id": 2064537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0EY2r.jpg?s=128&g=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/2064537/prasanna"}, "reply_to_user": {"reputation": 971, "user_id": 4800902, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6fe5db1dbae4c45acfa99766acbc8fc9?s=128&d=identicon&r=PG&f=1", "display_name": "WorieN", "link": "https://stackoverflow.com/users/4800902/worien"}, "edited": false, "score": 0, "creation_date": 1513855084, "post_id": 47826633, "comment_id": 82815109, "body": "I subclass my video view with RTCEAGLVideoView and identified each with caller user id , and also you have to assign delegate as self. No idea exactly what problem you are facing ... I told as much a could understand with your comment. @WorieN"}], "tags": [], "owner": {"reputation": 935, "user_id": 2064537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0EY2r.jpg?s=128&g=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/2064537/prasanna"}, "is_accepted": true, "score": 3, "last_activity_date": 1513317697, "creation_date": 1513317697, "answer_id": 47826633, "question_id": 47534911, "link": "https://stackoverflow.com/questions/47534911/how-to-use-the-method-to-show-localstream-in-videoview-in-webrtc-latest-framewor/47826633#47826633", "title": "How to use the method to show localstream in videoview in WEBRTC latest framework &lt;Anakros/WebRTC&gt;? - for webrtc framework(iOS)", "body": "<p>Implement this delegate method in video call view controller....</p>\n\n<pre><code>- (void)appClient:(ARDAppClient *)client didCreateLocalCapturer:(RTCCameraVideoCapturer *)localCapturer{\n\n    NSLog(@\"%s %@\",__PRETTY_FUNCTION__ ,localCapturer);\n\n    _captureController =  [[ARDCaptureController alloc] initWithCapturer:localCapturer\n                                                                settings:[[ARDSettingsModel alloc] init]];\n    [_captureController startCapture];\n}\n</code></pre>\n\n<p>Then.... this method calls it to create the same...</p>\n\n<pre><code> - (RTCVideoTrack *)createLocalVideoTrack {\n      RTCVideoTrack* localVideoTrack = nil;\n      // The iOS simulator doesn't provide any sort of camera capture\n      // trying to open a local stream.\n    #if !TARGET_IPHONE_SIMULATOR\n      if (![_settings currentAudioOnlySettingFromStore]) {\n          RTCVideoSource *source = [_factory videoSource];\n          RTCCameraVideoCapturer *capturer = [[RTCCameraVideoCapturer alloc] initWithDelegate:source];\n          [_delegate appClient:self didCreateLocalCapturer:capturer];\n          localVideoTrack = [_factory videoTrackWithSource:source\n                                                   trackId:kARDVideoTrackId];\n\n          [_delegate appClient:self didReceiveLocalVideoTrack:localVideoTrack];\n\n      }\n</code></pre>\n\n<p>Then call ... </p>\n\n<pre><code>_localVideoTrack = [self createLocalVideoTrack]; \n</code></pre>\n\n<p>in your init method...</p>\n\n<pre><code>- (void)initCall {\n    NSLog(@\"%s\",__PRETTY_FUNCTION__);\n    if (!_isTurnComplete) {\n        return;\n    }\n    self.state = kARDAppClientStateConnected;\n    _localVideoTrack = [self createLocalVideoTrack];\n    // Create peer connection.\n    _constraints = [self defaultPeerConnectionConstraints];\n\n}\n</code></pre>\n\n<p>This code does me able to achieve this!</p>\n"}], "owner": {"reputation": 935, "user_id": 2064537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0EY2r.jpg?s=128&g=1", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/2064537/prasanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 0, "accepted_answer_id": 47826633, "answer_count": 1, "score": 3, "last_activity_date": 1513317697, "creation_date": 1511882112, "question_id": 47534911, "link": "https://stackoverflow.com/questions/47534911/how-to-use-the-method-to-show-localstream-in-videoview-in-webrtc-latest-framewor", "title": "How to use the method to show localstream in videoview in WEBRTC latest framework &lt;Anakros/WebRTC&gt;? - for webrtc framework(iOS)", "body": "<p>After updating the webrtc framework for the latest one , I am not getting how to show local stream to user cause methodology is changed which has no sample on repository's \"iOS\" folder.</p>\n\n<p>in old code...</p>\n\n<pre><code>   RTCVideoCapturer *capturer = [RTCVideoCapturer capturerWithDeviceName:cameraID];\n   RTCMediaConstraints *mediaConstraints = [self defaultMediaStreamConstraints];\n   RTCVideoSource *videoSource = [_factory videoSourceWithCapturer:capturer constraints:mediaConstraints];\n   localVideoTrack = [_factory videoTrackWithID:@\"ARDAMSv0\" source:videoSource];\n</code></pre>\n\n<p>The RTCVideoCapturer object and RTCVideoSource object was linked here to each other.</p>\n\n<p>But in new code...</p>\n\n<pre><code>  RTCVideoSource *source = [_factory videoSource];\n  RTCCameraVideoCapturer *capturer = [[RTCCameraVideoCapturer alloc] initWithDelegate:source];\n  [_delegate appClient:self didCreateLocalCapturer:capturer];\n    localVideoTrack = [_factory videoTrackWithSource:source\n                                             trackId:kARDVideoTrackId];\n</code></pre>\n\n<p>There is no connection to each other.\nSo, the delegate method does what ,\n[_delegate appClient:self didCreateLocalCapturer:capturer];\nI am not getting it. [Help Required!]</p>\n"}, {"tags": ["objective-c", "coreml"], "comments": [{"owner": {"reputation": 6377, "user_id": 7501629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gKN1.jpg?s=128&g=1", "display_name": "Matthijs Hollemans", "link": "https://stackoverflow.com/users/7501629/matthijs-hollemans"}, "edited": false, "score": 0, "creation_date": 1511949692, "post_id": 47534758, "comment_id": 82056399, "body": "I&#39;m curious as to why you want to use Objective-C. The above code is not valid Obj-C, which leads me to believe you&#39;re not very proficient with the language. And if that is the case, then why use it? In any case, the code should be something like this: <code>MLMultiArray *input = [MLMultiArray initWithShape:@[@10, @10] dataType: MLMultiArrayDataTypeDouble error:&amp;error];</code> and <code>MLModel *model = [[MLModel alloc] initWithContentsOfFile: @&quot;name&quot;];</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1459, "user_id": 1780492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5k1aI.jpg?s=128&g=1", "display_name": "BootMaker", "link": "https://stackoverflow.com/users/1780492/bootmaker"}, "is_accepted": true, "score": 1, "last_activity_date": 1512371768, "creation_date": 1512371768, "answer_id": 47628265, "question_id": 47534758, "link": "https://stackoverflow.com/questions/47534758/getting-coreml-running-in-objective-c/47628265#47628265", "title": "getting coreml running in objective-C", "body": "<p>First of all you need to import the your model class, in your case svm (would be better Svm starting with upper case letter):</p>\n\n<pre><code>#import \"svm.h\" \n</code></pre>\n\n<p>This class definition contains all the informations you need for the inputs and outputs and the method definitions.\nYou could find this specification in the automatically generated class description by clicking on the small arrow just next the class name when you choose the mlmodel file on the left. In this class description</p>\n\n<p><a href=\"https://i.stack.imgur.com/bVW6M.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bVW6M.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In your case the input is a MLMultiArray with 160 Double elements as a vector. So first define the dimensions with the <em>shape</em> array</p>\n\n<pre><code>NSArray *shape = @[@1, @160];\n</code></pre>\n\n<p>Then define the MLMultiArray which will be your <em>svmModelInput</em> for the prediction process (defined by XCode automatically again):</p>\n\n<pre><code>    MLMultiArrayDataType dataType = MLMultiArrayDataTypeDouble;\n    NSError *error = nil;\n\n    MLMultiArray *theMultiArray =  [[MLMultiArray alloc] initWithShape:(NSArray*)shape\n                                          dataType:(MLMultiArrayDataType)dataType\n                                             error:&amp;error] ;\n\n    for (int i = 0; i &lt; 160; i++) {\n         [theMultiArray setObject:[NSNumber numberWithDouble:1.0] atIndexedSubscript:(NSInteger)i];\n    }\n</code></pre>\n\n<p>The used</p>\n\n<blockquote>\n  <p>initWithShape</p>\n</blockquote>\n\n<p>is an <em>MLMultiArray</em> method by Apple. I filled the array with \"1\" just for  test, but you have to replace it later with your real input of course.</p>\n\n<p>No need to get your model, just instantiate your svm then run the </p>\n\n<blockquote>\n  <p>predictionFromInput:</p>\n</blockquote>\n\n<p>method which is from the class built by the XCode again:</p>\n\n<pre><code>        svm *mySvm = [[svm alloc] init];\n\n        svmOutput * svmModelOutput = [(svm *)mySvm predictionFromInput:theMultiArray error:&amp;error];\n        NSLog(@\"SVM Model output = %lld -- %@\", svmModelOutput.classLabel, svmModelOutput.classProbability );\n\n           if (!error)\n           {\n               NSLog(@\"svm finished without error\");\n           }\n           else\n           {\n               NSLog(@\"Error: %@\", error.localizedDescription);\n           }\n</code></pre>\n\n<p>As you print out the <em>svmModelOutput</em> (created by XCode for you) you can check the predicted classLabel as an Integer and the probabilities for all the labels, like this:</p>\n\n<pre><code>2017-12-04 07:32:45.765015+0100 CoreML_test[2634:877638] SVM Model output = 2 -- {\n    11 = \"0.002656571278812773\";\n    3 = \"0.2121030282896462\";\n    10 = \"0.004570897664662783\";\n    2 = \"0.5825387375626612\";\n    9 = \"0.02911120023388797\";\n    4 = \"0.1690195649703292\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1132, "user_id": 2241241, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DEZDz.jpg?s=128&g=1", "display_name": "fbence", "link": "https://stackoverflow.com/users/2241241/fbence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1685, "favorite_count": 1, "accepted_answer_id": 47628265, "answer_count": 1, "score": 2, "last_activity_date": 1512371768, "creation_date": 1511881625, "question_id": 47534758, "link": "https://stackoverflow.com/questions/47534758/getting-coreml-running-in-objective-c", "title": "getting coreml running in objective-C", "body": "<p>I'm having trouble creating a very simple example of using Apple's <code>CoreML</code> in <code>Objective-C</code>. I have already created a model file using <code>python</code> which works rather simply now:</p>\n\n<pre><code>coreml_model_svm = coremltools.models.MLModel(\"svm.mlmodel\")\ntest_x = [1.0 for x in range(160)]\npredictions_coreml_svm = coreml_model_svm.predict({\"input\":test_x})\n</code></pre>\n\n<p>I would like to reproduce the above three lines in <code>Objective-C</code>. I know that my data has to be an <code>MLMultiArray</code> and the model needs to be loaded into <code>MLModel</code>. I've been trying to find some info on the syntax, but it seems I don't understand how the documentation works, and all the examples are in Swift. Here's my code so far. Commenting the <code>MLMultiArray</code> leads to an uncaught exception for initializing the <code>MLModel</code>. When not commenting the <code>MLMultiArray</code> I get <code>no known class method for selector 'initWithShape:dataType:error'</code>.</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;CoreML/CoreML.h&gt;\n\n//clang -framework Foundation coremltest.m -o coremltest\nint main (int argc, const char * argv[])\n{\n        NSLog(@\"start\");\n\n        NSArray * shape = [[NSArray alloc]  init];\n        MLMultiArrayDataType dataType = MLMultiArrayDataTypeDouble;\n        NSError * error = nil;\n\n        MLMultiArray * input =  [MLMultiArray initWithShape:(NSArray*) shape\n                             dataType:(MLMultiArrayDataType ) dataType\n                        error:(NSError **) error];\n\n        MLModel * mymodel = [[MLModel init] initWithContentsOfFile:@\"svm.mlmodel\"];\n\n        return 0;\n}\n</code></pre>\n\n<p>I would appreciate any help with this.</p>\n"}, {"tags": ["ios", "objective-c", "performance", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4997619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/928d254f7c433745785d1e6bd10a63f1?s=128&d=identicon&r=PG&f=1", "display_name": "New_coder", "link": "https://stackoverflow.com/users/4997619/new-coder"}, "is_accepted": true, "score": 0, "last_activity_date": 1534861183, "creation_date": 1534861183, "answer_id": 51950780, "question_id": 47534718, "link": "https://stackoverflow.com/questions/47534718/how-to-register-constraint-configurations-under-different-reuse-identifiers-and/51950780#51950780", "title": "How to register constraint configurations under different reuse identifiers.and Auto layout suggestions.", "body": "<p>Found a way. Moved away from the XIB, had just a .h and a .m. </p>\n\n<p>I am currently using </p>\n\n<pre><code>- (instancetype)initWithStyle:(UITableViewCellStyle)style \n              reuseIdentifier:(NSString *)reuseIdentifier\n</code></pre>\n\n<p>With this I get a way to only have those constraints / views inited which I need for a reuse identifier and not having to change constraints at runtime. </p>\n"}], "owner": {"reputation": 71, "user_id": 4997619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/928d254f7c433745785d1e6bd10a63f1?s=128&d=identicon&r=PG&f=1", "display_name": "New_coder", "link": "https://stackoverflow.com/users/4997619/new-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 51950780, "answer_count": 1, "score": 0, "last_activity_date": 1534861183, "creation_date": 1511881505, "question_id": 47534718, "link": "https://stackoverflow.com/questions/47534718/how-to-register-constraint-configurations-under-different-reuse-identifiers-and", "title": "How to register constraint configurations under different reuse identifiers.and Auto layout suggestions.", "body": "<p>My custom cell scrolling in table view is very choppy. </p>\n\n<p>I have a custom cell which looks some what like the image attached. \nEach of the coloured views are complex views (has many subviews in them).</p>\n\n<p>I have added constraints for each view and at <code>cellForRowAtIndexPath</code> I change the constraint.constant values to show the view based on the data i need to show. I also change the width constraint of the views depending on the data i need to show.</p>\n\n<p>The reason i chose this approach was because the middle yellow view can be <em>one of six</em> views all having this base configuration. I initialise a the view add it as a child of yellow view and pin the child view to this yellow parent view. </p>\n\n<p>Many of these views get hidden / unhidden based on the data provided. For that i change the width / height constraint to zero. </p>\n\n<p>I have used different reuse identifiers for all the 6 views that the yellow view can hold, this way I don't end up re-initialising them always. </p>\n\n<p>My scroll performance is very choppy. I profiled the app and I see most of my CPU is used for AutoLayout system calls like updateConstraintsNecessary etc.</p>\n\n<p>Please help with .\n1) suggesting how to reduce the autolayout calls in table view scrolling for smooth scrolling. \n2) according to this <a href=\"https://www.prolificinteractive.com/2015/08/19/troubleshooting-table-view-performance/\" rel=\"nofollow noreferrer\">https://www.prolificinteractive.com/2015/08/19/troubleshooting-table-view-performance/</a> - How to register constraint configurations under different reuse identifiers without making new Nib's because all views in the picture below except the yellow are common. </p>\n\n<p>Reference picture - \n<a href=\"https://i.stack.imgur.com/Thrl7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Thrl7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "amazon-web-services", "amazon-s3"], "comments": [{"owner": {"reputation": 138108, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1511933035, "post_id": 47534118, "comment_id": 82047971, "body": "Are you sure it isn&#39;t <code>binary&#47;octet-stream</code>?  That&#39;s what the S3 service assigns if no <code>Content-Type</code> is present in the request."}, {"owner": {"reputation": 1333, "user_id": 5169068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdfca8d54f32b8ed377642b982ad2095?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/5169068/karthikeyan"}, "edited": false, "score": 0, "creation_date": 1511986351, "post_id": 47534118, "comment_id": 82079735, "body": "Can you print what is the value of request.contentType before sending the request?"}], "answers": [{"tags": [], "owner": {"reputation": 3581, "user_id": 387848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8b4ebbd5c6b51dc2bfd9c357d8695d0?s=128&d=identicon&r=PG", "display_name": "Neelesh", "link": "https://stackoverflow.com/users/387848/neelesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1512100455, "creation_date": 1512100455, "answer_id": 47586410, "question_id": 47534118, "link": "https://stackoverflow.com/questions/47534118/ios-aws-sdk-overrides-the-content-type-property/47586410#47586410", "title": "iOS AWS SDK overrides the Content-Type property", "body": "<p>I have found a workaround for this problem. Instead of providing the filename, I proved the data to the <code>S3PutObjectRequest</code></p>\n\n<pre><code>request.data                = [NSData dataWithContentsOfFile:operation.filePath];\nrequest.contentType         = [self mimeTypeForFileAtPath:operation.filePath];\n</code></pre>\n"}], "owner": {"reputation": 3581, "user_id": 387848, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f8b4ebbd5c6b51dc2bfd9c357d8695d0?s=128&d=identicon&r=PG", "display_name": "Neelesh", "link": "https://stackoverflow.com/users/387848/neelesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 47586410, "answer_count": 1, "score": 0, "last_activity_date": 1512100455, "creation_date": 1511879726, "last_edit_date": 1511880891, "question_id": 47534118, "link": "https://stackoverflow.com/questions/47534118/ios-aws-sdk-overrides-the-content-type-property", "title": "iOS AWS SDK overrides the Content-Type property", "body": "<p>I am trying to set the Content-Type property of my file as follows but when I inspect the file in the web, the content-type is reset to <code>application/octet-stream</code></p>\n\n<pre><code>    S3PutObjectRequest *request = [[S3PutObjectRequest alloc] initWithKey:key inBucket:bucket];\n    request.filename            = filePath;\n    request.contentType         = [self mimeTypeForFileAtPath:operation.filePath]; //Returns @\"image/jpeg\"\n    operation.operation         = [self.manager upload:request];\n</code></pre>\n\n<p>At the filepath resides a NSData written to a file with a UUID as filename (no file extension). </p>\n\n<p>Any leads would be appreciated</p>\n"}, {"tags": ["ios", "objective-c", "uiview", "calayer", "drawrect"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8804322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b7b4e629c165e4114c06c58ad459fc?s=128&d=identicon&r=PG&f=1", "display_name": "Horsen Zhuge", "link": "https://stackoverflow.com/users/8804322/horsen-zhuge"}, "edited": false, "score": 1, "creation_date": 1511924176, "post_id": 47534583, "comment_id": 82045557, "body": "Thanks for your answer\uff01The key message is that the layer by myself drew in drawRect and self.layer are different layer.I think that creat a new layer when override &quot;drawRect&quot;,so setting &quot;self.layer&quot; is not equal to set the layer drew by myself. is this right ?"}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "reply_to_user": {"reputation": 23, "user_id": 8804322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b7b4e629c165e4114c06c58ad459fc?s=128&d=identicon&r=PG&f=1", "display_name": "Horsen Zhuge", "link": "https://stackoverflow.com/users/8804322/horsen-zhuge"}, "edited": false, "score": 0, "creation_date": 1511924492, "post_id": 47534583, "comment_id": 82045635, "body": "In a round-about way I believe yes what you said is correct. Really no harm in your issue it\u2019s merely a \u201cbehind the scenes\u201d technicality. Try either editing the layer itself (self.layer) with your desired path or use <code>masksToBounds</code>. Hopefully my answer helped you find you solution! If u feel it did please accept"}, {"owner": {"reputation": 23, "user_id": 8804322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b7b4e629c165e4114c06c58ad459fc?s=128&d=identicon&r=PG&f=1", "display_name": "Horsen Zhuge", "link": "https://stackoverflow.com/users/8804322/horsen-zhuge"}, "edited": false, "score": 1, "creation_date": 1511940897, "post_id": 47534583, "comment_id": 82051146, "body": "apple document -- cornerRadius  &quot; it applies only to the background color and border of the layer. However, setting the masksToBounds property to YES causes the content to be clipped to the rounded corners&quot;, I did not understand before,I think that  overriding the &quot;drawRect&quot; mean that I am adjusting the content of layer. so,the cornerRadius does not work ,because the it applies only to the background color and border of the layer."}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "reply_to_user": {"reputation": 23, "user_id": 8804322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b7b4e629c165e4114c06c58ad459fc?s=128&d=identicon&r=PG&f=1", "display_name": "Horsen Zhuge", "link": "https://stackoverflow.com/users/8804322/horsen-zhuge"}, "edited": false, "score": 0, "creation_date": 1511963746, "post_id": 47534583, "comment_id": 82065650, "body": "Correct. Like I said there is no harm using the mask property just good for you to understand <i>why</i>. Things like this are always annoying until figured out"}], "tags": [], "owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1511881445, "last_edit_date": 1511881445, "creation_date": 1511881057, "answer_id": 47534583, "question_id": 47533748, "link": "https://stackoverflow.com/questions/47533748/ios-setting-the-roundcorner-does-not-work-after-override-drawrect-but-normal-uiv/47534583#47534583", "title": "ios Setting the RoundCorner does not work after override drawRect,but normal UIView is ok", "body": "<p>The reason for this is from your override of <code>drawRect:(CGRect)frame</code>. </p>\n\n<p>You are attempting to set the corner radius of the layer that is <strong>not</strong> the element you assigned the fill color to. The reason setting <code>masksToBounds</code> achieves the desired rounded corner is because here you are telling the view to mask all of it's <em>layers</em> to the bounds from your frame.</p>\n\n<p>In your second example with the <code>UIView</code> the corner radius appears as expected because you have not adjusted it's layers.</p>\n\n<p>I suggest either adopting setting <code>masksToBounds</code> or redraw the view's bounds a different way if you <strong>need</strong> <code>masksToBounds = NO</code>. Since you have the \"squiggle\" sin curve and you want rounded corners, perhaps just create a generic rounded rect (one with the desired corner radius) then merge that with the path you have already created with the sin wave.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17539397/merge-multiple-cgpaths-together-to-make-one-path\">Merge multiple CGPaths together to make one path</a></p>\n\n<p>That link may help you merge your rounded view with your custom view to achieve the desired end result.</p>\n\n<p>Otherwise.. probably best bet to just set this to yes.</p>\n"}], "owner": {"reputation": 23, "user_id": 8804322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b7b4e629c165e4114c06c58ad459fc?s=128&d=identicon&r=PG&f=1", "display_name": "Horsen Zhuge", "link": "https://stackoverflow.com/users/8804322/horsen-zhuge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 47534583, "answer_count": 1, "score": 2, "last_activity_date": 1511889141, "creation_date": 1511878633, "last_edit_date": 1511889141, "question_id": 47533748, "link": "https://stackoverflow.com/questions/47533748/ios-setting-the-roundcorner-does-not-work-after-override-drawrect-but-normal-uiv", "title": "ios Setting the RoundCorner does not work after override drawRect,but normal UIView is ok", "body": "<p>I wrote an example about Wave Animation.The animation is ok,but I don't understand why the custom UIView needs to add \"<strong>self.layer.masksToBounds = YES</strong>\" to have the round Corner.</p>\n\n<ol>\n<li><p>This is a custom UIView. I have rewritten its drawRect. If i don't set \"<em>masksToBounds</em>\" to YES, the round corner disappear.</p>\n\n<pre><code>- (instancetype)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        self.frame = CGRectMake(10, 40, 300, 300);\n        self.layer.cornerRadius = 150;\n        self.backgroundColor = [UIColor greenColor];\n        self.layer.borderColor = [UIColor blueColor].CGColor;\n        self.layer.borderWidth = 2;\n        //        self.layer.masksToBounds = YES;  //if write this line,the round corner appear\n        self.x_move = 0;\n        self.y_move = 300;\n    }\n    return self;\n}\n\n- (void)drawRect:(CGRect)rect {\n\n    CGContextRef context = UIGraphicsGetCurrentContext();\n    CGMutablePathRef path = CGPathCreateMutable();\n\n    CGContextSetLineWidth(context, 1);\n    CGContextSetFillColorWithColor(context, [UIColor grayColor].CGColor);\n    CGPathMoveToPoint(path, NULL, 0, 0);\n\n    for(float i=0; i&lt;=300; i++){\n        float x=i;\n        float y = 5 * sin( 0.05 * x+ self.x_move) + self.y_move;\n        CGPathAddLineToPoint(path, nil, x, y);\n    }\n\n    CGPathAddLineToPoint(path, nil, 300, 0);\n    CGPathAddLineToPoint(path, nil, 0, 0);\n    CGContextAddPath(context, path);\n    CGContextFillPath(context);\n    CGContextDrawPath(context, kCGPathStroke);\n    CGPathRelease(path);\n}\n\n- (void)startAnimation {\n    if (self.waveTimer == nil) {\n        self.waveTimer = [NSTimer scheduledTimerWithTimeInterval:0.1 target:self selector:@selector(refresh) userInfo:nil repeats:YES];\n    }\n}\n\n- (void)refresh {\n    self.x_move += 0.3;\n    self.y_move -= 0.2;\n    if(self.y_move - 100 &lt; 0.00001){\n        [self.waveTimer invalidate];\n    }else{\n        [self setNeedsDisplay];\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>ViewController:</p>\n\n<pre><code>self.wave = [[waveAnimation alloc] init];\n[self.wave startAnimation];\n[self.view addSubview:self.wave];\n</code></pre>\n\n<ol start=\"2\">\n<li><p>This is a normal UIView. Its \"<em>masksToBunds</em>\" is NO, but its round corner shows normal. Compared with the examples above, why one should add, one does not need.</p>\n\n<pre><code>UIView *view = [[UIView alloc] initWithFrame:CGRectMake(20, 60, 100, 100)];\nview.backgroundColor = [UIColor greenColor];\nview.layer.cornerRadius = 50;\nview.layer.borderWidth = 2;\nview.layer.borderColor = [UIColor blackColor].CGColor;\n[self.view addSubview:view];\n</code></pre></li>\n</ol>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 1, "creation_date": 1511876656, "post_id": 47533039, "comment_id": 82022653, "body": "Why not make a companion framework that contains the testing support for your SDK?"}, {"owner": {"reputation": 1, "user_id": 4631941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1514f95605743da258ee487d4a6e327?s=128&d=identicon&r=PG&f=1", "display_name": "avigelkop", "link": "https://stackoverflow.com/users/4631941/avigelkop"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1513090437, "post_id": 47533039, "comment_id": 82511930, "body": "Actually, it can work. thanks"}], "owner": {"reputation": 1, "user_id": 4631941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1514f95605743da258ee487d4a6e327?s=128&d=identicon&r=PG&f=1", "display_name": "avigelkop", "link": "https://stackoverflow.com/users/4631941/avigelkop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511876475, "creation_date": 1511876475, "question_id": 47533039, "link": "https://stackoverflow.com/questions/47533039/is-it-possible-to-expose-a-header-for-specific-bundle-id", "title": "Is it possible to expose a header for specific bundle id?", "body": "<p>I'm developing an objective-c SDK, and I'm using some class for ci tests.\nI want to expose this class for testing within my ci-sample, which is not a part of the SDK project.</p>\n\n<p>Is there any option to expose that header for specific bundle id?</p>\n"}, {"tags": ["ios", "objective-c", "authentication", "asynchronous"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1511875780, "post_id": 47531779, "comment_id": 82022075, "body": "You don&#39;t need to wait, you just need to collect completions if the method is called when a request is already in progress. Then call <i>all</i> the collected completions when the request finishes. Cf. <a href=\"https://stackoverflow.com/a/47459058\">stackoverflow.com/a/47459058</a>"}, {"owner": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1511879267, "post_id": 47531779, "comment_id": 82024503, "body": "@JoshCaswell any chance you could go into a bit more detail in how I would achieve this? I understand the concept, if the function is running you  collect up any functions that are called and then execute them once your first function returns. The problem is that I don&#39;t know how I can callback to these functions. The functions I am calling don&#39;t always have completion blocks as they are done through facade communicators."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1511894290, "post_id": 47531779, "comment_id": 82034187, "body": "I&#39;ll try to get back to this later if someone else doesn&#39;t post an answer. What do you mean they don&#39;t always have completion Blocks? Your method takes a Block."}], "owner": {"reputation": 604, "user_id": 8828057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fc7792c09b9c2c253fde373934aa39e4?s=128&d=identicon&r=PG", "display_name": "Axemasta", "link": "https://stackoverflow.com/users/8828057/axemasta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1511875798, "creation_date": 1511872485, "last_edit_date": 1511875798, "question_id": 47531779, "link": "https://stackoverflow.com/questions/47531779/allow-async-function-to-only-be-called-once-make-others-wait", "title": "Allow async function to only be called once (make others wait)", "body": "<p>I have an authorisation function that will run in my app if it makes an unauthorised request. I originally built the auth function in a POC and now I have transferred it into the app I am working on. I've noticed an interesting issue where if I set the token to invalid on launch (and this only happens on launch) then about 4 auth requests are sent out from the app. From what I can tell, the response for the auth returns after the requests are sent out so a few stack up before the app realises it has a valid token. The function works perfectly if an auth token expires whilst using the app, this issue is purely on load.</p>\n\n<p>I've decided the solution to this problem is to make the auth function exclusive. I did a little research into allowing a function to be called once and came across <a href=\"http://rykap.com/objective-c/2015/05/09/synchronized/\" rel=\"nofollow noreferrer\">@synchronized</a>. It made sense but I'm not too sure how I can implement it into my function. My auth function looks like this: </p>\n\n<pre><code>+ (void)requestAuthTokenWithBlock:(void (^)(void))completion {\n\n    NSLog(@\"requestNewToken - Called: Requesting a new authorization bearer token.\");\n\n    [[NSURLCache sharedURLCache] removeAllCachedResponses];\n\n    //Build request URL String\n    NSString *requestString = [NSString stringWithFormat:@\"%@%@\",baseURL,authRequestURL];\n\n    //Encode password so that it can be safely sent in request\n    NSString *encodedPassword = [kU1Password stringByAddingPercentEncodingForRFC3986];\n\n    //Populate post request with user credentials\n    NSString *post = [NSString stringWithFormat:@\"client_id=%@&amp;password=%@&amp;grant_type=%@\", kU1ClientId, encodedPassword, kU1GrantType];\n\n    //Encode post string &amp; convert to type NSData\n    NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];\n\n    //Calculate the length of the post string\n    NSString *postLength = [NSString stringWithFormat:@\"%lu\",(unsigned long)[postData length]];\n\n    //Initialize url request\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n\n    //Set the url for which you will pass your request data\n    [request setURL:[NSURL URLWithString:requestString]];\n\n    //Set HTTP method for request\n    [request setHTTPMethod:@\"POST\"];\n\n    //Set HTTP header field with length of post data\n    [request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n\n    //Set the encoded value for HTTP Header field\n    [request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n\n    //Set the HTTP body of the urlrequest with our post data\n    [request setHTTPBody:postData];\n\n    //Create full request\n    NSURLSession *session = [NSURLSession sharedSession];\n\n    NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request\n                                                completionHandler:^(NSData *data, NSURLResponse *response, NSError *error){\n\n                                                    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;\n                                                    NSLog(@\"Status Code: %ld\\n - requestAuthTokenWithBlock - \",(long)httpResponse.statusCode);\n\n                                                    NSString *message = [NSHTTPURLResponse localizedStringForStatusCode:httpResponse.statusCode];\n                                                    NSLog(@\"Message: %@\", message);\n\n                                                    //Check for an error, if there is no error we proceed.\n                                                    if (!error) {\n\n                                                        NSLog(@\"requestAuthToken - Successful responce from server\");\n\n                                                        //Populate the auth object with the parse json data (handled entirely in the builder)\n                                                        AuthToken *auth = [TokenBuilder authFromJSON:data error:&amp;error];\n\n                                                        //Save the auth &amp; refresh tokens in the keychain\n                                                        [SAMKeychain setPassword:auth.AuthToken forService:kServer account:kKeyAccessToken];\n                                                        [SAMKeychain setPassword:auth.RefreshToken forService:kServer account:kKeyRefreshToken];\n\n                                                        //Trigger completion block\n                                                        if (completion)\n                                                        {\n                                                            completion();\n                                                        }\n                                                    }\n                                                    else {\n                                                        //Failed request\n\n                                                        //Trigger completion block\n                                                        if (completion)\n                                                        {\n                                                            completion();\n                                                        }\n                                                    }\n                                                }];\n    [dataTask resume];\n\n}\n</code></pre>\n\n<p>And it only ever gets called from this switch statement if the app has a token: </p>\n\n<pre><code>switch (httpResponse.statusCode) {\ncase 200 ... 299:{\n   NSLog(@\"SUCCESS\");\n   NSLog(@\"Performing any completion related functions!\");                                                       \n   retryAttempts = 0;\n   completion(true, message, data, nil);\n   return;\n   }\ncase 401:{\n   if (retryAttempts == 0){\n      NSLog(@\"401 Challenge - Retrying Authentication, First Attempt:\");\n   }\n   else {\n      NSLog(@\"401 Challenge - Retrying Authentication, Attempt %ld\", (long)retryAttempts);\n   }\n\n   [self requestAuthTokenWithBlock:^(void){\n      NSLog(@\"requestAuthTokenWithBlock - Completion block called\");\n      [self dataTaskwithRequest:request method:method completion:completion];\n   }];\n\n   retryAttempts += 1;\n   break;\n   }\n}\n</code></pre>\n\n<p>I copied out the <code>@Synchronized</code> snippet but didn't really know where to put it:</p>\n\n<pre><code>@synchronized (&lt;#token#&gt;) {\n        &lt;#statements#&gt;\n    }\n</code></pre>\n\n<p>I tried putting it into the token method where I call the datatask:</p>\n\n<pre><code>@synchronized (dataTask) {\n        [dataTask resume];\n    }\n</code></pre>\n\n<p>and the function still got called more than once. I'm not sure how to tackle this issue, I can add a call to this function from anywhere in the app and don't think I can control the requests themselves. I think the only place to protect the function from multiple calls is in the function itself. And as a sidenote I added a boolean value that gets set to false when the function starts and true when the function ends.</p>\n\n<pre><code>if (canAttempt == NO) {\n        return;\n    }\n\n    canAttempt = NO;\n</code></pre>\n\n<p>And now the functions that once got called 4 times now return as failed because they weren't authorised. Any ideas on how I can get the app to wait on this function before continuing?</p>\n"}, {"tags": ["ios", "objective-c", "http", "post"], "comments": [{"owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511872957, "post_id": 47531703, "comment_id": 82020169, "body": "AFNetworking makes things easier for Objective-C. See <a href=\"https://stackoverflow.com/questions/21487184/posting-json-data-using-afnetworking-2-0\" title=\"posting json data using afnetworking 2 0\">stackoverflow.com/questions/21487184/&hellip;</a>."}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "reply_to_user": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511873115, "post_id": 47531703, "comment_id": 82020256, "body": "Thank you for the suggestion but i am still new to the language and i would like to understand how to do it the native way before i move to libraries."}, {"owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511873767, "post_id": 47531703, "comment_id": 82020677, "body": "Valid request. Counter proposal: try to do a simple GET request with Objective-C and you might find it is not worth dealing with native networking."}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "reply_to_user": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511874068, "post_id": 47531703, "comment_id": 82020851, "body": "I have done a GET and a POST using NSURLSession and NSURLSessionDataTask so far they dont really seem as bad. However these where all simple examples. But when it gets to these nested dictionaries i am not sure how i pass the dictionaries."}, {"owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511874497, "post_id": 47531703, "comment_id": 82021123, "body": "With content-type &quot;application/json&quot; and the body would just be the plain text representation. The AFJSONRequestSerializer will take an Objective-C object and serialize it to JSON. Without that and without that concept of request serializers, you will have to do this step yourself. Serialize your object to JSON and use that JSON text as your request body."}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "reply_to_user": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511875283, "post_id": 47531703, "comment_id": 82021699, "body": "Do u mean something like this"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "reply_to_user": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511875378, "post_id": 47531703, "comment_id": 82021771, "body": "NSString *stringData = [NSString stringWithFormat:@&quot;id=%@&amp;parentId=%@&amp;countryCode=%@&amp;timestam&zwnj;&#8203;p=%@&amp;User=%@&amp;contact&zwnj;&#8203;Person=%@&amp;contact=%@&zwnj;&#8203;&amp;notes=%@&quot;, value1 ,value2,value3,value4,value5,value6,value7,value8];"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "reply_to_user": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511875421, "post_id": 47531703, "comment_id": 82021805, "body": "the problem i am having is constructing the second dictionary which is myinfo"}, {"owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511876016, "post_id": 47531703, "comment_id": 82022231, "body": "Apple already did this for you ;)  <a href=\"https://developer.apple.com/documentation/foundation/jsonserialization\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/jsonserializati&zwnj;&#8203;on</a>"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "reply_to_user": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "edited": false, "score": 0, "creation_date": 1511877349, "post_id": 47531703, "comment_id": 82023135, "body": "i have uploaded the code that works with other simple HTTP requests , however i just need help with the dictionary part"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511878182, "post_id": 47533344, "comment_id": 82023690, "body": "Thanks @Mick but i am also looking at this part NSDictionary *dict = @{@&quot;key&quot;: value}; The creation of the dictionary or nested dictionaries from that header JSON is the first part i need to help with. I appreciate your help"}, {"owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "reply_to_user": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511879288, "post_id": 47533344, "comment_id": 82024513, "body": "like this? *dict = @{@&quot;key&quot;: @{@&quot;nestedKey&quot;: nestedValue}}"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511879554, "post_id": 47533344, "comment_id": 82024700, "body": "let me implement it and get back to u"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511946833, "post_id": 47533344, "comment_id": 82054423, "body": "i updated my code with your recommended code and it still doesnt work, it returns"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511946836, "post_id": 47533344, "comment_id": 82054428, "body": "resultsDictionary is {     message = &quot;Internal server error&quot;; }"}, {"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511953209, "post_id": 47533344, "comment_id": 82058904, "body": "turns out my code is fine however i was just given a wrong url. Thank you once again for your answer."}], "tags": [], "owner": {"reputation": 868, "user_id": 6210973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069831276797c4142fea23e482760162?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/6210973/mick"}, "is_accepted": true, "score": 2, "last_activity_date": 1511877465, "creation_date": 1511877465, "answer_id": 47533344, "question_id": 47531703, "link": "https://stackoverflow.com/questions/47531703/objective-c-how-to-send-data-to-http-post-request-with-nested-dictionary-in-head/47533344#47533344", "title": "Objective-C How to send data to Http Post request with nested dictionary in header", "body": "<p>Seems like converting the NSDictionary to JSON is your actual problem. See documentation <a href=\"https://developer.apple.com/documentation/foundation/jsonserialization\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/foundation/jsonserialization</a></p>\n\n<pre><code>NSData *jsonData = [NSJSONSerialization dataWithJSONObject:yourDictionary\n     options:NSJSONWritingPrettyPrinted error:&amp;error];\nNSString *jsonString = [[NSString alloc] initWithData:jsonData \n     encoding:NSUTF8StringEncoding];\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 47533344, "answer_count": 1, "score": 0, "last_activity_date": 1511948117, "creation_date": 1511872278, "last_edit_date": 1511948117, "question_id": 47531703, "link": "https://stackoverflow.com/questions/47531703/objective-c-how-to-send-data-to-http-post-request-with-nested-dictionary-in-head", "title": "Objective-C How to send data to Http Post request with nested dictionary in header", "body": "<p>I have been learning objective-C for a few months now. In that time i have been able to do a basic post request however i saw today a header of a post request that contains a nested dictionary. I am not sure how to pass data to such an API.</p>\n\n<p>My question is how can i go about posting data to this API. I would appreciate if you could point to relevant reading material and tutorials with examples such as this complex API requests or give answers. </p>\n\n<p>The API header looks like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    { \"header\":\r\n   { \"id\": \"2312b24c-5b83-46f0-8670-5edc2b1d1672\",\r\n     \"parentId\": \"3gyy-w325e-bebd-ddsfsdf\",\r\n     \"countryCode\": \"IRELAND\",\r\n     \"timestamp\": \"2017-10-13T08:39:14.638Z\" },\r\n  \"myinfo\":\r\n   { \"User\": \"intro\",\r\n     \"contactPerson\": \"Newbee\",\r\n     \"contact\": \"00000000\",\r\n     \"notes\": \"hey guys i am new\"\r\n       \r\n   }\r\n    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is my code i need help with the multiple dictionaries.</p>\n\n<pre><code>    __block NSMutableDictionary *resultsDictionary;\n      SMAMobileAPI *api = [SMAMobileAPI sharedSMAMobileAPI];\n      NSMutableDictionary *bodyParams = [[NSMutableDictionary alloc]init];\n\n      NSMutableDictionary *header = [[NSMutableDictionary alloc]init];\n      [header setValue:@\"2312b23c-5b83-46f0-8670-5edc2b1d1672\" forKey:@\"id\"];\n      [header setValue:@\"2e3a015e-bebd-ddsfsdf\" forKey:@\"parentId\"];\n      [header setValue:@\u201cIRELAND\" forKey:@\"countryCode\"];\n      [header setValue:@\"2017-10-13T08:39:14.638Z\" forKey:@\"timeStamp\"];\n\n      NSMutableDictionary *myinfo = [[NSMutableDictionary alloc]init];\n      [Case setValue:@\u201cintro\" forKey:@\u201cUser\"];\n      [Case setValue:@\u201cnewbie\" forKey:@\"contactPerson\"];\n      [Case setValue:@\"+254 724474140\" forKey:@\"contactPersonNo\"];\n      [Case setValue:@\"iOS case\" forKey:@\"notes\"];\n\n      [bodyParams setValue:header forKey:@\"header\"];\n      [bodyParams setValue:myinfo forKey:@\u201cmyinfo\"];\n\n    if ([NSJSONSerialization isValidJSONObject:bodyParams]) {//validate it\n        NSError* error = nil;\n        NSData* jsonData = [NSJSONSerialization dataWithJSONObject:bodyParams options:NSJSONWritingPrettyPrinted error: &amp;error];\n        NSString *jsonString = [[NSString alloc] initWithData:jsonData \n encoding:NSUTF8StringEncoding];\n        NSURL* url = [NSURL URLWithString:@\u201cmy URL\"];\n        NSMutableURLRequest* request = [NSMutableURLRequest requestWithURL:url cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:30.0];\n        [request setHTTPMethod:@\"POST\"];//use POST\n        [request setValue:@\"application/json\" forHTTPHeaderField:@\"Accept\"];\n        [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n        [request setValue:[NSString stringWithFormat:@\"%lu\",(unsigned long)[jsonData length]] forHTTPHeaderField:@\"Content-length\"];\n        [request setHTTPBody:jsonData];//set data\n        __block NSError *error1 = nil;\n\n        //use async way to connect network\n        [NSURLConnection sendAsynchronousRequest:request queue:[[NSOperationQueue alloc] init] completionHandler:^(NSURLResponse* response,NSData* data,NSError* error)\n        {\n            if ([data length]&gt;0 &amp;&amp; error == nil) {\n                resultsDictionary = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingMutableLeaves error:&amp;error1];\n                NSLog(@\"resultsDictionary is %@\",resultsDictionary);\n               [self hideLoading];\n\n            } else if ([data length]==0 &amp;&amp; error ==nil) {\n                NSLog(@\" download data is null\");\n                [self hideLoading];\n            } else if( error!=nil) {\n                NSLog(@\" error is %@\",error);\n                [self hideLoading];\n            }\n        }];\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "video", "compression"], "comments": [{"owner": {"reputation": 40815, "user_id": 1917782, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/QQGPj.jpg?s=128&g=1", "display_name": "iPatel", "link": "https://stackoverflow.com/users/1917782/ipatel"}, "edited": false, "score": 0, "creation_date": 1511872113, "post_id": 47531358, "comment_id": 82019566, "body": "I did it by follow instruction of <a href=\"https://stackoverflow.com/questions/11751883/how-can-i-reduce-the-file-size-of-a-video-created-with-uiimagepickercontroller\" title=\"how can i reduce the file size of a video created with uiimagepickercontroller\">stackoverflow.com/questions/11751883/&hellip;</a> My video was 20 MB and compress size was 1.6 MB"}, {"owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 40815, "user_id": 1917782, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/QQGPj.jpg?s=128&g=1", "display_name": "iPatel", "link": "https://stackoverflow.com/users/1917782/ipatel"}, "edited": false, "score": 0, "creation_date": 1511892407, "post_id": 47531358, "comment_id": 82033229, "body": "@iPatel Hi, I don&#39;t understand where you put the size to get a 2mb video for videos &gt; to 2mb?"}], "owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511871180, "creation_date": 1511871180, "question_id": 47531358, "link": "https://stackoverflow.com/questions/47531358/ios-how-to-compress-video-to-expected-size-if-too-big", "title": "iOS: How to compress video to expected size if too big?", "body": "<p>I would like to compress videos to an expected size if too big. For example, if my video is bigger than 2mb, I want to compress it next to 2mb. My goal is not to have a video superior to 2mb.</p>\n\n<pre><code>- (void)convertVideoToLowQualityWithInputURL:(NSURL*)inputURL \n                                   outputURL:(NSURL*)outputURL \n                                     handler:(void (^)(AVAssetExportSession*))handler\n{\n    [[NSFileManager defaultManager] removeItemAtURL:outputURL error:nil];\n    AVURLAsset *asset = [AVURLAsset URLAssetWithURL:inputURL options:nil];\n    AVAssetExportSession *exportSession = [[AVAssetExportSession alloc] initWithAsset:asset presetName:AVAssetExportPresetLowQuality];\n    exportSession.outputURL = outputURL;\n    exportSession.outputFileType = AVFileTypeQuickTimeMovie;\n    [exportSession exportAsynchronouslyWithCompletionHandler:^(void) \n    {\n        handler(exportSession);\n        [exportSession release];\n    }];\n}\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info\n{   \n    NSURL *videoURL = [info objectForKey:UIImagePickerControllerMediaURL];\n    NSURL *outputURL = [NSURL fileURLWithPath:@\"/Users/josh/Desktop/output.mov\"];\n    [self convertVideoToLowQualityWithInputURL:videoURL outputURL:outputURL handler:^(AVAssetExportSession *exportSession)\n     {\n         if (exportSession.status == AVAssetExportSessionStatusCompleted)\n         {\n             printf(\"completed\\n\");\n         }\n         else\n         {\n             printf(\"error\\n\");\n         }\n     }];\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "core-data", "nsmanagedobjectmodel"], "comments": [{"owner": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1511885897, "post_id": 47530241, "comment_id": 82029193, "body": "Why do you need both?  The second should load (and merge) any models in the main bundle, including the model you specify in the first."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1511944011, "post_id": 47530241, "comment_id": 82052733, "body": "Thanks @pbasdf, I wasn&#39;t sure about that if  the second should load (and merge) any models in the main bundle, including the model i specify in the first."}], "owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511867839, "creation_date": 1511867839, "question_id": 47530241, "link": "https://stackoverflow.com/questions/47530241/core-data-crash-reason-entityforname-could-not-locate-an-entity-named-databa", "title": "Core data crash reason: +entityForName: could not locate an entity named &#39;DataBasket&#39; in this model", "body": "<p>I have different model of coredata in my project. \nCertainly I added xcdatamodel file in my project, it crash because in my Appdelegate I have:</p>\n\n<pre><code>- (NSManagedObjectModel *)managedObjectModel\n\n    {\n        if (managedObjectModel != nil) {\n            return managedObjectModel;\n        }\n\n\n\n        NSString *path = [[NSBundle mainBundle] pathForResource:@\"Model\" ofType:@\"momd\"];\n\n\n         NSURL *momURL = [NSURL fileURLWithPath:path];\n       managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:momURL];\n\n\n\n        return managedObjectModel;\n    }\n</code></pre>\n\n<p>and in order to make it work it should be:</p>\n\n<pre><code>- (NSManagedObjectModel *)managedObjectModel\n{\n    if (managedObjectModel != nil) {\n        return managedObjectModel;\n    }\n\n      managedObjectModel = [NSManagedObjectModel mergedModelFromBundles:nil] ; \n\n\n    return managedObjectModel;\n}\n</code></pre>\n\n<p>I there anyway to have both methods ?</p>\n"}, {"tags": ["objective-c", "swift", "module-map"], "comments": [{"owner": {"reputation": 2942, "user_id": 693081, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d5c756c708e6626aae8db15c7c811a90?s=128&d=identicon&r=PG", "display_name": "Tushar", "link": "https://stackoverflow.com/users/693081/tushar"}, "edited": false, "score": 0, "creation_date": 1525224456, "post_id": 47529575, "comment_id": 87269908, "body": "I&#39;m also facing same issue and finally came across your post which is exactly same and sadly still unanswered. @Offset, did you find any solution to this by any chance ?"}, {"owner": {"reputation": 529, "user_id": 5830067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0772fbe2f719fcde3da3cc59541997c?s=128&d=identicon&r=PG&f=1", "display_name": "Offset", "link": "https://stackoverflow.com/users/5830067/offset"}, "reply_to_user": {"reputation": 2942, "user_id": 693081, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d5c756c708e6626aae8db15c7c811a90?s=128&d=identicon&r=PG", "display_name": "Tushar", "link": "https://stackoverflow.com/users/693081/tushar"}, "edited": false, "score": 0, "creation_date": 1525864595, "post_id": 47529575, "comment_id": 87521169, "body": "Kind of. I somehow made it working but removed the modeulemap and the nested frameworks structure. apple will not support this kind of useage of modulemap. and the chance of breaking this on the next releasse is pretty high. I decided to add all frameworks in a flat in the app. Means no nested frameworks and dirty modulemap useage"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1536159115, "post_id": 47529575, "comment_id": 91325813, "body": "Are you using CocoaPods?"}], "answers": [{"tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": false, "score": 0, "last_activity_date": 1540226853, "last_edit_date": 1540226853, "creation_date": 1536217721, "answer_id": 52198337, "question_id": 47529575, "link": "https://stackoverflow.com/questions/47529575/relative-path-for-headers-in-modulemap/52198337#52198337", "title": "Relative Path for Headers in Modulemap", "body": "<p>First of all you need to clarify the location of your modulemap file. Probably it will be in the DerivedData folder (to see the location of this folder press <code>Xcode -&gt; Preferences -&gt; Locations</code> in Xcode 10), path will be similar to <code>/Users/me/Library/Developer/Xcode/DerivedData</code>. In such case you will find the modulemap file inside this folder, full path will be something like  <code>/Users/me/Library/Developer/Xcode/DerivedData/framework_project_something/Build/Products/Debug-iphonesimulator/framework_project/framework_project.framework/Modules/module.modulemap</code>. Once you will find this file you will be able to use such declaration inside your modulemap file:</p>\n\n<pre><code>header \"../../../../../../../../../../../Documents/framework_project/Folder/OBJC_LIB.framework/Headers/someHeader.h\"\n</code></pre>\n\n<p>I know that this is not exactly what you want but maybe it will help you to find a better answer on this question.</p>\n"}, {"tags": [], "owner": {"reputation": 1606, "user_id": 1081361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b95842c7bff950b32ce6c4b970563f30?s=128&d=identicon&r=PG", "display_name": "Guillaume Laurent", "link": "https://stackoverflow.com/users/1081361/guillaume-laurent"}, "is_accepted": false, "score": 0, "last_activity_date": 1588778743, "creation_date": 1588778743, "answer_id": 61638998, "question_id": 47529575, "link": "https://stackoverflow.com/questions/47529575/relative-path-for-headers-in-modulemap/61638998#61638998", "title": "Relative Path for Headers in Modulemap", "body": "<p>Having encountered the same problem, I finally found that the <code>HEADER_SEARCH_PATH</code> of the <strong>Swift framework</strong> must contain the path to the ObjC framework's umbrella header.</p>\n"}], "owner": {"reputation": 529, "user_id": 5830067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0772fbe2f719fcde3da3cc59541997c?s=128&d=identicon&r=PG&f=1", "display_name": "Offset", "link": "https://stackoverflow.com/users/5830067/offset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 974, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1588778743, "creation_date": 1511865879, "question_id": 47529575, "link": "https://stackoverflow.com/questions/47529575/relative-path-for-headers-in-modulemap", "title": "Relative Path for Headers in Modulemap", "body": "<p>Currently i am trying to optimize my modulemap. The problem was that i could not add my framework to my project because i used a obj-c Framework in my swift framework. I added the Obc-c headers in my modulemap and made the module work and could successfull add my framework to my project. The problem is that I cant make it work with realative path to my headers. And using absoute path is only a temp solution and not co worker friendly.</p>\n\n<p>Right not I have to set this kinda absolute path:</p>\n\n<pre><code>header \"/Users/me/Documents/framework_project/Folder/OBJC_LIB.framework/Headers/someHeader.h\"\n</code></pre>\n\n<p>I added this modulemap in my framework project as private modulemap.\nIs there any option to my this work like this?</p>\n\n<pre><code>header \"./Folder/OBJC_LIB.framework/Headers/someHeader.h\"\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "phlivephoto"], "answers": [{"comments": [{"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518063925, "post_id": 48674216, "comment_id": 84352995, "body": "thanks for your answer, now I found that I will get an error complaining that the metadata of the video is wrong even I set everything right (the <code>17</code> key of the image and the <code>com.apple.quicktime.content.identifier</code> of the video)"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518079474, "post_id": 48674216, "comment_id": 84359190, "body": "JPEG seems fine since I have tested the JPEG file with other <code>.mov</code> file and they could work together"}, {"owner": {"reputation": 21, "user_id": 9253955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20964eee004e677ce542e757cbc7c270?s=128&d=identicon&r=PG", "display_name": "engel94", "link": "https://stackoverflow.com/users/9253955/engel94"}, "reply_to_user": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518079577, "post_id": 48674216, "comment_id": 84359252, "body": "Can you upload both files?"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518080066, "post_id": 48674216, "comment_id": 84359534, "body": "sure, the image is <a href=\"https://www.dropbox.com/s/3gpxduffzu9861k/cf70b7de66bd89654967aeef1d557816.jpg?dl=0\" rel=\"nofollow noreferrer\">here</a> and the video is <a href=\"https://www.dropbox.com/s/6dg1f7xjcs8iltl/cf70b7de66bd89654967aeef1d557816.mov?dl=0\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 21, "user_id": 9253955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20964eee004e677ce542e757cbc7c270?s=128&d=identicon&r=PG", "display_name": "engel94", "link": "https://stackoverflow.com/users/9253955/engel94"}, "reply_to_user": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518087633, "post_id": 48674216, "comment_id": 84364825, "body": "edited my answer above. How did you get the mov file to your computer? the key maybe got lost while exporting"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518095905, "post_id": 48674216, "comment_id": 84370320, "body": "thanks for your answer, but I think the metadata of <code>jpg</code> and <code>.mov</code> is just fine, you could see the <code>17</code> metadata of the jpg using <a href=\"http://exif.regex.info/exif.cgi\" rel=\"nofollow noreferrer\">this</a> online tool (be noted to download the original image file rather than the preview one from the link I provide)"}, {"owner": {"reputation": 21, "user_id": 9253955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20964eee004e677ce542e757cbc7c270?s=128&d=identicon&r=PG", "display_name": "engel94", "link": "https://stackoverflow.com/users/9253955/engel94"}, "reply_to_user": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518096182, "post_id": 48674216, "comment_id": 84370524, "body": "JPG metadata is fine, I think its the mov. Just noticed the mov duration is 15s - isnt that way to long for an live photo? Actually not sure about this."}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "edited": false, "score": 0, "creation_date": 1518144438, "post_id": 48674216, "comment_id": 84394726, "body": "Hate that apple didn&#39;t give any more information about this"}], "tags": [], "owner": {"reputation": 21, "user_id": 9253955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20964eee004e677ce542e757cbc7c270?s=128&d=identicon&r=PG", "display_name": "engel94", "link": "https://stackoverflow.com/users/9253955/engel94"}, "is_accepted": false, "score": 2, "last_activity_date": 1518089851, "last_edit_date": 1518089851, "creation_date": 1518041915, "answer_id": 48674216, "question_id": 47528440, "link": "https://stackoverflow.com/questions/47528440/invalid-image-metadata-when-try-to-display-a-livephoto-with-phlivephotoview-obje/48674216#48674216", "title": "Invalid image metadata when try to display a livephoto with PHLivePhotoView objective-c", "body": "<p><strong>TL;DR</strong></p>\n\n<p>Here's the code to store Live Photos and upload them to a server:\n<br>\n1. Capturing Live Photo</p>\n\n<pre><code>- (void)captureOutput:(AVCapturePhotoOutput *)output didFinishProcessingPhotoSampleBuffer:(CMSampleBufferRef)photoSampleBuffer previewPhotoSampleBuffer:(CMSampleBufferRef)previewPhotoSampleBuffer resolvedSettings:(AVCaptureResolvedPhotoSettings *)resolvedSettings bracketSettings:(AVCaptureBracketedStillImageSettings *)bracketSettings error:(NSError *)error {\n    if (error) {\n        [self raiseError:error];\n        return;\n    }\n    NSData *imageData = [AVCapturePhotoOutput JPEGPhotoDataRepresentationForJPEGSampleBuffer:photoSampleBuffer previewPhotoSampleBuffer:previewPhotoSampleBuffer];\n    CIImage *image = [CIImage imageWithData:imageData];\n    [self.expectedAsset addInput:image.properties]; // 1. This is the metadata (which will be lost in step 2.)\n    [self.expectedAsset addInput:[UIImage imageWithCIImage:image]]; // 2. Creating image, but UIImage is not designed to contain the required metadata\n}\n- (void)captureOutput:(AVCapturePhotoOutput *)output \ndidFinishProcessingLivePhotoToMovieFileAtURL:(NSURL *)outputFileURL duration:(CMTime)duration photoDisplayTime:(CMTime)photoDisplayTime resolvedSettings:(AVCaptureResolvedPhotoSettings *)resolvedSettings error:(nullable NSError *)error {\n    if (error) {\n        [self raiseError:error];\n    } else {\n        [self.expectedAsset addInput:outputFileURL]; // 3. Store the URL to the actual video file\n    }\n}\n</code></pre>\n\n<p><code>expectedAsset</code> is just an object holding all required information. You can use a NSDictionary instead. And since this code snippet is a >= iOS 11 API, heres the one for \"deprecated\" iOS...</p>\n\n<pre><code>#pragma clang diagnostic push\n#pragma clang diagnostic ignored \"-Wunguarded-availability\"\n- (void)captureOutput:(AVCapturePhotoOutput *)output didFinishProcessingPhoto:(AVCapturePhoto *)photo error:(NSError *)error {\n    if (error) {\n        [self raiseError:error];\n    } else {\n        [self.expectedAsset addInput:[photo metadata]];\n        [self.expectedAsset addInput:[UIImage imageWithData:[photo fileDataRepresentation]]];\n    }\n}\n#pragma clang diagnostic pop \n</code></pre>\n\n<p><br>\n2.  Generate NSData\n<br></p>\n\n<pre><code>- (NSData*)imageData {\n        NSData *jpgData = UIImageJPEGRepresentation(self.image, 1); // This is the UIImage (without metadata) from step 2 above\n        CGImageSourceRef source = CGImageSourceCreateWithData((__bridge CFDataRef) jpgData, NULL);\n        NSMutableData *dest_data = [NSMutableData data];\n        CFStringRef uti = CGImageSourceGetType(source);\n        NSMutableDictionary *maker = [NSMutableDictionary new];\n        [maker setObject:[self.imageMetadata objectForKey:(NSString*)kCGImagePropertyMakerAppleDictionary] forKey:(NSString *)kCGImagePropertyMakerAppleDictionary];    // imageMetadata is the dictionary form step 1 above\n        CGImageDestinationRef destination = CGImageDestinationCreateWithData((__bridge CFMutableDataRef)dest_data,uti,1,NULL);\n        CGImageDestinationAddImageFromSource(destination, source , 0, (__bridge CFDictionaryRef) maker);\n        CGImageDestinationFinalize(destination);\n        return dest_data;\n    }\n\n- (void)dataRepresentation:(DataRepresentationLoaded)callback {\n    callback(@{@\"image\": self.imageData, @\"video\": [NSData dataWithContentsOfURL:self.livePhotoURL]}); // LivePhotoURL is the url from step 3 above\n}\n</code></pre>\n\n<p><strong>Long Answer</strong></p>\n\n<p>This is caused by wrong Metadata in the video/image file.\nWhen creating a live photo, PHLivePhoto searches for the key 17 in <code>kCGImagePropertyMakerAppleDictionary</code> (which is the asset identifier) and matches this with the <code>com.apple.quicktime.content.identifier</code> of the mov file. The mov file also needs to have an entry for the time where the still image was captured (<code>com.apple.quicktime.still-image-time</code>).</p>\n\n<p>Make sure your files haven't been edited (or exported) somewhere. Event the UIImageJPEGRepresentation function will remove this data from the image.</p>\n\n<p>Here's a code snippet I'm using to convert the UIImage to NSData:</p>\n\n<pre><code>- (NSData*)imageData {\n    NSData *jpgData = UIImageJPEGRepresentation(self.image, 1);\n    CGImageSourceRef source = CGImageSourceCreateWithData((__bridge CFDataRef) jpgData, NULL);\n    NSMutableData *dest_data = [NSMutableData data];\n    CFStringRef uti = CGImageSourceGetType(source);\n    NSMutableDictionary *maker = [NSMutableDictionary new];\n    [maker setObject:[self.imageMetadata objectForKey:(NSString*)kCGImagePropertyMakerAppleDictionary] forKey:(NSString *)kCGImagePropertyMakerAppleDictionary];\n    CGImageDestinationRef destination = CGImageDestinationCreateWithData((__bridge CFMutableDataRef)dest_data,uti,1,NULL);\n    CGImageDestinationAddImageFromSource(destination, source , 0, (__bridge CFDictionaryRef) maker);\n    CGImageDestinationFinalize(destination);\n    return dest_data;\n}\n</code></pre>\n\n<p>The Handler gets called twice to first tell you about corrupt data, and the second time about the cancellation of the process (these are two different keys).</p>\n\n<p>EDIT:</p>\n\n<p>Here's your mov data:</p>\n\n<pre>\n\n    $ ffmpeg -i cf70b7de66bd89654967aeef1d557816.mov\n    Metadata:\n        major_brand     : qt  \n        minor_version   : 0\n        compatible_brands: qt  \n        creation_time   : 2018-01-27T11:07:38.000000Z\n        com.apple.quicktime.content.identifier: cf70b7de66bd89654967aeef1d557816\n      Duration: 00:00:15.05, start: 0.000000, bitrate: 1189 kb/s\n        Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(progressive), 540x960, 1051 kb/s, 29.84 fps, 29.97 tbr, 30k tbn, 59.94 tbc (default)\n        Metadata:\n          creation_time   : 2018-01-27T11:07:38.000000Z\n          handler_name    : Core Media Data Handler\n          encoder         : 'avc1'\n        Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s (default)\n        Metadata:\n          creation_time   : 2018-01-27T11:07:38.000000Z\n          handler_name    : Core Media Data Handler\n\n</pre>\n\n<p>The <code>com.apple.quicktime.still-image-time</code> key is missing here.</p>\n\n<p>Here's the metadata how it should look like:</p>\n\n<pre>\n\n    Metadata:\n        major_brand     : qt  \n        minor_version   : 0\n        compatible_brands: qt  \n        creation_time   : 2017-12-15T12:41:00.000000Z\n        com.apple.quicktime.content.identifier: 89CB44DA-D129-43F3-A0BC-2C980767B810\n        com.apple.quicktime.location.ISO6709: +51.5117+007.4668+086.000/\n        com.apple.quicktime.make: Apple\n        com.apple.quicktime.model: iPhone X\n        com.apple.quicktime.software: 11.1.2\n        com.apple.quicktime.creationdate: 2017-12-15T13:41:00+0100\n      Duration: 00:00:01.63, start: 0.000000, bitrate: 8902 kb/s\n        Stream #0:0(und): Video: h264 (High) (avc1 / 0x31637661), yuvj420p(pc, smpte170m/smpte432/bt709), 1440x1080, 8135 kb/s, 26.94 fps, 30 tbr, 600 tbn, 1200 tbc (default)\n        Metadata:\n          rotate          : 90\n          creation_time   : 2017-12-15T12:41:00.000000Z\n          handler_name    : Core Media Data Handler\n          encoder         : H.264\n        Side data:\n          displaymatrix: rotation of -90.00 degrees\n        Stream #0:1(und): Audio: pcm_s16le (lpcm / 0x6D63706C), 44100 Hz, mono, s16, 705 kb/s (default)\n        Metadata:\n          creation_time   : 2017-12-15T12:41:00.000000Z\n          handler_name    : Core Media Data Handler\n        Stream #0:2(und): Data: none (mebx / 0x7862656D), 12 kb/s (default)\n        Metadata:\n          creation_time   : 2017-12-15T12:41:00.000000Z\n          handler_name    : Core Media Data Handler\n        Stream #0:3(und): Data: none (mebx / 0x7862656D), 43 kb/s (default)\n        Metadata:\n          creation_time   : 2017-12-15T12:41:00.000000Z\n          handler_name    : Core Media Data Handler\n\n</pre>\n\n<p>And just FYI, heres your JPEG Data:</p>\n\n<pre>\n\n    $ magick identify -format %[EXIF:*] cf70b7de66bd89654967aeef1d557816.jpg\n    exif:ColorSpace=1\n    exif:ExifImageLength=960\n    exif:ExifImageWidth=540\n    exif:ExifOffset=26\n    exif:MakerNote=65, 112, 112, 108, 101, 32, 105, 79, 83, 0, 0, 1, 77, 77, 0, 1, 0, 17, 0, 2, 0, 0, 0, 33, 0, 0, 0, 32, 0, 0, 0, 0, 99, 102, 55, 48, 98, 55, 100, 101, 54, 54, 98, 100, 56, 57, 54, 53, 52, 57, 54, 55, 97, 101, 101, 102, 49, 100, 53, 53, 55, 56, 49, 54, 0, 0\n\n</pre>\n"}], "owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1518089851, "creation_date": 1511862625, "last_edit_date": 1511871747, "question_id": 47528440, "link": "https://stackoverflow.com/questions/47528440/invalid-image-metadata-when-try-to-display-a-livephoto-with-phlivephotoview-obje", "title": "Invalid image metadata when try to display a livephoto with PHLivePhotoView objective-c", "body": "<p>I am trying to load a <code>jpg</code> image together with a <code>mov</code> file with objective-c on ios device to display a live photo, and I make following code snippet to do that in <code>viewDidLoad</code> function:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    PHLivePhotoView *photoView = [[PHLivePhotoView alloc]initWithFrame:self.view.bounds];\n\n    NSURL *imageUrl = [[NSBundle mainBundle] URLForResource:@\"livePhoto\" withExtension:@\"jpg\"];\n    NSURL *videoUrl = [[NSBundle mainBundle] URLForResource:@\"livePhoto\" withExtension:@\"mov\"];\n\n    [PHLivePhoto requestLivePhotoWithResourceFileURLs:@[videoUrl, imageUrl] placeholderImage:[UIImage imageNamed:@\"livePhoto.jpg\"] targetSize:self.view.bounds.size contentMode:PHImageContentModeAspectFit resultHandler:^(PHLivePhoto *livePhoto, NSDictionary *info){\n        NSLog(@\"we are in handler\");\n        photoView.livePhoto = livePhoto;\n        photoView.contentMode = UIViewContentModeScaleAspectFit;\n        photoView.tag = 87;\n        [self.view addSubview:photoView];\n        [self.view sendSubviewToBack:photoView];\n    }];\n\n\n}\n</code></pre>\n\n<p>I have drag the file <code>livePhoto.jpg</code> and <code>livePhoto.mov</code> to Xcode project</p>\n\n<p>But when build this Xcode log this error:</p>\n\n<pre><code>2017-11-28 17:46:08.568455+0800 Live Photos[3669:1276778] we are in handler\n2017-11-28 17:46:08.580439+0800 Live Photos[3669:1276778] we are in handler\n2017-11-28 17:46:08.597147+0800 Live Photos[3669:1276806] Error: Invalid image metadata\n2017-11-28 17:46:08.607881+0800 Live Photos[3669:1276806] Error: Invalid video metadata\n2017-11-28 17:46:08.608329+0800 Live Photos[3669:1276778] we are in handler\n</code></pre>\n\n<p>Any idea about that? Thanks.</p>\n\n<p>And another thing to ask:</p>\n\n<p>Why does the <code>resultHandler</code> was called twice according to what is printed?</p>\n"}, {"tags": ["ios", "objective-c", "lottie"], "answers": [{"comments": [{"owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511864134, "post_id": 47528487, "comment_id": 82014244, "body": "Unfortunatelly it didn&#39;t help."}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "reply_to_user": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511864314, "post_id": 47528487, "comment_id": 82014360, "body": "can you please share your code snippet? so i will identified your issue!"}, {"owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511870221, "post_id": 47528487, "comment_id": 82018354, "body": "I wasn&#39;t so easy to create example. I edited my first post. I couldn&#39;t share original code."}, {"owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511874139, "post_id": 47528487, "comment_id": 82020892, "body": "I don&#39;t want gif. I need to use lottie."}, {"owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511876634, "post_id": 47528487, "comment_id": 82022635, "body": "You have only changed animationSpeed. I didn&#39;t want that. The speed is good and animation is fine general. Please run this program many times and check that this clock stops for a while (one or two times) in random place. You should run application on phone to see that. It is example animation from here: <a href=\"https://www.lottiefiles.com\" rel=\"nofollow noreferrer\">lottiefiles.com</a> It is not my animation and it neverminds. It should behave on this site."}], "tags": [], "owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "is_accepted": false, "score": 0, "last_activity_date": 1511878797, "last_edit_date": 1511878797, "creation_date": 1511862763, "answer_id": 47528487, "question_id": 47528283, "link": "https://stackoverflow.com/questions/47528283/how-to-slow-down-some-operations-on-ios/47528487#47528487", "title": "How to slow down some operations on iOS", "body": "<p>I was check you demo app and resolve your issue you should doing change on LOTAnimationView library on this code <code>_animationSpeed = 0.5;</code>Or below code </p>\n\n<p><strong>Update</strong> remove your 1000 time call for loop and using timer it's be work very well!</p>\n\n<pre><code>NSTimer *timer =  [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(someHardComputations) userInfo:nil repeats:YES];\n[timer fire];\n\n\n- (void)_commonInit {\n   // _animationSpeed = 1;\n   _animationSpeed = 0.7;\n   _animationProgress = 0;\n   _loopAnimation = NO;\n   _autoReverseAnimation = NO;\n   _playRangeEndFrame = nil;\n   _playRangeStartFrame = nil;\n   _playRangeEndProgress = 0;\n   _playRangeStartProgress = 0;\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511897249, "post_id": 47534236, "comment_id": 82035814, "body": "Thanks. What I do here is get some coded hashes from keychain, decode (more... crack) it with math operations and one external framework, create new controller with view based on decoded informations and after all push new controller and stop animation. The most expensive operations are stuff in external framework (animation is smooth without it). I don&#39;t have code for it."}, {"owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511897490, "post_id": 47534236, "comment_id": 82035957, "body": "When I tried use <code>dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIO&zwnj;&#8203;RITY_DEFAUL</code> with different priorities I didn&#39;t get results from framework methods (application freeze). I think there is many <code>dispatch_get_main_queue()</code> in that framework because mine nothing changes. So I started wondering if there is possibility to assign resources for  <code>someHardComputations</code> which is not my code mostly."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511899235, "post_id": 47534236, "comment_id": 82036851, "body": "How many calls are you making to <code>dispatch_async</code> in parallel? If you flood the default concurrent queue with 1000s of tasks, that&#39;s still going to overwhelm the system. (Also, you don&#39;t want DEFAULT here; you want LOW.) That queue is a concurrent queue, so everything is going to run in parallel (and you probably only have two cores)."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "edited": false, "score": 0, "creation_date": 1511899519, "post_id": 47534236, "comment_id": 82037017, "body": "Also, reading from keychain is extremely expensive. If you&#39;re doing a lot of that on the main thread, you&#39;re going to block the UI. Make sure to run this through Instruments to get a feel for where your problem really is (sometimes it&#39;s not where you think it is). If a tight-loop hashing function is dispatching itself to the main thread, that&#39;s pretty bizarre; it&#39;s hard to imagine why someone would write it that way. Basically breaks the whole point. (So I&#39;d make sure it really does that; seems kind of unlikely; you&#39;re probably just swamping the system)."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 2, "last_activity_date": 1511880070, "creation_date": 1511880070, "answer_id": 47534236, "question_id": 47528283, "link": "https://stackoverflow.com/questions/47528283/how-to-slow-down-some-operations-on-ios/47534236#47534236", "title": "How to slow down some operations on iOS", "body": "<p>This is your problem:</p>\n\n<pre><code>for(int i = 0; i &lt; 1000; i++) {\n    [self performSelectorInBackground:@selector(someHardComputations) withObject:nil];\n    [self performSelectorInBackground:@selector(someHardComputations) withObject:nil];\n}\n</code></pre>\n\n<p>(While I realize <code>someHardComputations</code> is just an example, I'm assuming your actual code still uses <code>performSelectorInBackground:</code>.)</p>\n\n<p>This is creating an unreasonable number of background threads (2000). It's not making things faster (you still only have a certain number of cores). It's just dramatically increasing thread contention and interfering with the main thread. There are no good reasons in a modern program to use <code>performSelectorInBackground:</code>.</p>\n\n<p>GCD (dispatch_queue) is the tool you want here. In particular, you want to put this work on a queue with the QoS class UTILITY (also called LOW priority), so that it doesn't compete with your main queue.</p>\n\n<p>See the <a href=\"https://developer.apple.com/library/content/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW1\" rel=\"nofollow noreferrer\">Concurrency Programming Guide</a> for an introduction to how to use GCD. I can't give you an exact solution, since exactly how to implement this depends heavily on the nature of <code>someHardComputations</code>.</p>\n"}], "owner": {"reputation": 1360, "user_id": 6241554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cfaceddeea7f5c1cfd6cc07e8998d7af?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr Wasilewicz", "link": "https://stackoverflow.com/users/6241554/piotr-wasilewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511880070, "creation_date": 1511862169, "last_edit_date": 1511870237, "question_id": 47528283, "link": "https://stackoverflow.com/questions/47528283/how-to-slow-down-some-operations-on-ios", "title": "How to slow down some operations on iOS", "body": "<p>I have to do some complex calculations which lasts about 30 seconds (decoding some keys). I added and run simple animation (in lottie but I think it doesn't matter) so that the user don't need to get impatient. Because of calculations and processor usage my animation falters.</p>\n\n<p>I tried put [animation play] method into main queue but it doesn't help. Can I guarantee in any way 10% of processor resource for my animation? Or slow down other operations (so that not using all available resources)?</p>\n\n<p>Project example: <a href=\"https://github.com/Redysz/Lottie-Pi-Issue\" rel=\"nofollow noreferrer\">https://github.com/Redysz/Lottie-Pi-Issue</a></p>\n\n<p>After start on my iPhone SE \"clock\" animation can stop for a while somewhere in few first circuits.</p>\n"}, {"tags": ["ios", "objective-c", "image", "uinavigationbar", "ios11"], "comments": [{"owner": {"reputation": 12442, "user_id": 741626, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GeNug.jpg?s=128&g=1", "display_name": "Damo", "link": "https://stackoverflow.com/users/741626/damo"}, "edited": false, "score": 0, "creation_date": 1511862992, "post_id": 47528220, "comment_id": 82013409, "body": "Check this SO question: <a href=\"https://stackoverflow.com/questions/28733936/change-color-of-back-button-in-navigation-bar\" title=\"change color of back button in navigation bar\">stackoverflow.com/questions/28733936/&hellip;</a>"}, {"owner": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "reply_to_user": {"reputation": 12442, "user_id": 741626, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GeNug.jpg?s=128&g=1", "display_name": "Damo", "link": "https://stackoverflow.com/users/741626/damo"}, "edited": false, "score": 0, "creation_date": 1511863543, "post_id": 47528220, "comment_id": 82013807, "body": "@Damo I have tried all of these solutions. It doesn&#39;t help me."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "edited": false, "score": 0, "creation_date": 1511864682, "post_id": 47528643, "comment_id": 82014665, "body": "I have made amends in my code, that you are providing me. But it does not help me."}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "reply_to_user": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "edited": false, "score": 0, "creation_date": 1511866828, "post_id": 47528643, "comment_id": 82016191, "body": "@yashica15 you have use my updated code it&#39;s definitely work!!"}, {"owner": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "edited": false, "score": 0, "creation_date": 1511867410, "post_id": 47528643, "comment_id": 82016579, "body": "This code will definitely work. But I have to paste this code in every ViewController. I want to change it globally from AppDelegate."}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "reply_to_user": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "edited": false, "score": 0, "creation_date": 1511867798, "post_id": 47528643, "comment_id": 82016837, "body": "Follow this link: Swift how to change tintColor of backIndicatorImage"}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "reply_to_user": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "edited": false, "score": 0, "creation_date": 1511890077, "post_id": 47528643, "comment_id": 82031876, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/160019/discussion-between-tubelight-and-yashica15\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "is_accepted": false, "score": 0, "last_activity_date": 1511867773, "last_edit_date": 1511867773, "creation_date": 1511863208, "answer_id": 47528643, "question_id": 47528220, "link": "https://stackoverflow.com/questions/47528220/ios-11-uinavigationbar-back-button-image-color-issue/47528643#47528643", "title": "iOS 11 UINavigationBar Back button image color issue", "body": "<p>Follow this link: <a href=\"https://stackoverflow.com/questions/45564632/swift-how-to-change-tintcolor-of-backindicatorimage\">Swift how to change tintColor of backIndicatorImage</a></p>\n\n<p>set image on this method <code>setBackIndicatorTransitionMaskImage</code> Might be help!</p>\n\n<pre><code>[UINavigationBar appearance].translucent = NO;\n[[UINavigationBar appearance] setBackIndicatorImage:backArrowImage];\n[[UINavigationBar appearance] setBackIndicatorTransitionMaskImage:backArrowImage];\n</code></pre>\n\n<p><strong>Updated</strong> use following code it's definitely set back image   </p>\n\n<pre><code>UIButton *backBtn = [UIButton buttonWithType:UIButtonTypeCustom];\n[backBtn setBackgroundImage:backArrowImage forState:UIControlStateNormal];\n[backBtn addTarget:self action:@selector(goback) forControlEvents:UIControlEventTouchUpInside];\nbackBtn.frame = CGRectMake(0, 0, 54, 30);\nUIBarButtonItem *backButton = [[UIBarButtonItem alloc] initWithCustomView:backBtn] ;\nself.navigationItem.leftBarButtonItem = backButton;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12442, "user_id": 741626, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GeNug.jpg?s=128&g=1", "display_name": "Damo", "link": "https://stackoverflow.com/users/741626/damo"}, "is_accepted": false, "score": 0, "last_activity_date": 1511866512, "creation_date": 1511866512, "answer_id": 47529810, "question_id": 47528220, "link": "https://stackoverflow.com/questions/47528220/ios-11-uinavigationbar-back-button-image-color-issue/47529810#47529810", "title": "iOS 11 UINavigationBar Back button image color issue", "body": "<p>// untested code</p>\n\n<p>// try to see if you can access the back button directly</p>\n\n<pre><code>NSArray *leftBarButtonItems = self.navigationController.navigationBar.items.firstObject.leftBarButtonItems;\nfor (id barButtonItem in leftBarButtonItems) {\n    UIBarButtonItem *item = (UIBarButtonItem*)barButtonItem;\n    if (item) {\n        item.tintColor = [UIColor whiteColor];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3732539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ce7Io.jpg?s=128&g=1", "display_name": "yashica15", "link": "https://stackoverflow.com/users/3732539/yashica15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 561, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511867773, "creation_date": 1511861956, "last_edit_date": 1511864540, "question_id": 47528220, "link": "https://stackoverflow.com/questions/47528220/ios-11-uinavigationbar-back-button-image-color-issue", "title": "iOS 11 UINavigationBar Back button image color issue", "body": "<p>I am facing issue in iOS 11 with custom BackButton Image color.</p>\n\n<p>BackButton Image works correct in versions lower the iOS 11.</p>\n\n<p>I have customized the Back Button Image of <code>UINavigationBar</code> by using following code.</p>\n\n<pre><code>            [[UINavigationBar appearance] setBackgroundColor:[UIColor blackColor]];\n    [[UINavigationBar appearance] setBarTintColor:[UIColor blackColor]];\n    [[UINavigationBar appearance] setTintColor:[UIColor whiteColor]];\n    [[UINavigationBar appearance] setTranslucent:false];\n\n    UIEdgeInsets insets = UIEdgeInsetsMake(0, 0, 5.0f, 0);\n    UIImage *backArrowImage = [[UIImage imageNamed:@\"icon_nav_back\"] imageWithAlignmentRectInsets:insets];\n    [[UINavigationBar appearance] setBackIndicatorImage:backArrowImage];\n    [[UINavigationBar appearance] setBackIndicatorTransitionMaskImage:backArrowImage];\n</code></pre>\n\n<p>It displays a proper image with default color of image in versions lower than iOS11</p>\n\n<p><a href=\"https://i.stack.imgur.com/WBnjt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WBnjt.png\" alt=\"enter image description here\"></a></p>\n\n<p>But, In Version iOS 11 its color and size have been improper. </p>\n\n<p><a href=\"https://i.stack.imgur.com/MdFpR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MdFpR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please provide proper solution to resolve this issue.</p>\n\n<p>I have tried Tint Color also, but it doesn't work.</p>\n"}, {"tags": ["objective-c", "swift", "prefixheader.pch"], "answers": [{"tags": [], "owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1512005202, "last_edit_date": 1512005202, "creation_date": 1511925496, "answer_id": 47544483, "question_id": 47528183, "link": "https://stackoverflow.com/questions/47528183/reference-class-definition-from-prefix-header-in-swift/47544483#47544483", "title": "Reference class definition from prefix header in swift", "body": "<p>This problem would exist even if <code>#define MYCLASS MyClass</code> was in any other header, not necessarily in prefix header.  This is because preprocessor directives are generally not imported into Swift.  Simple macros are, however, imported if they can be mapped to global constants, which is possible for <code>SOMEVAR</code>, but not <code>MYCLASS</code>.  See <a href=\"https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-ID17\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-ID17</a> .</p>\n\n<p>One could use a typealias in Swift at the global scope:</p>\n\n<pre><code>typealias MYCLASS = MyClass\n</code></pre>\n\n<p>Of course, the typealias would have to be modified if <code>MYCLASS</code> was re-defined in the header.</p>\n\n<p>This approach is not very helpful, unfortunately, if the definition of <code>MYCLASS</code> changes depending on where/how the code is built.  However, since the code must know quite a bit about the behavior common to the various classes that can be defined as <code>MYCLASS</code>, it might be possible to use protocols here, for example.</p>\n\n<p>UPDATE:\nAfter thinking about/playing with it some more and reading some other posts, e.g. <a href=\"https://stackoverflow.com/questions/31125549/using-obj-c-typedef-in-swift\">Using obj-c typedef in Swift</a>, here is a better solution, I think.  With this approach you don't need to change your Swift code if <code>MYCLASS</code> is re-<code>#define</code>d in Objective-C.</p>\n\n<p>Somewhere in your Objective-C code, e.g. in the bridging header, add </p>\n\n<pre><code>typedef MYCLASS * _MYCLASS;\n</code></pre>\n\n<p>which will then allow you to do things like the following in Swift:</p>\n\n<pre><code>_MYCLASS.myClass().doStuff()\n</code></pre>\n\n<p>If you really insist on using <code>MYCLASS</code> in Swift for some reason, adding <code>typealias MYCLASS = _MYCLASS</code> in your Swift code will do the trick.  </p>\n"}], "owner": {"reputation": 318, "user_id": 6663764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0f7295bf66beb489035315c489cbd4d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabrielle Earnshaw", "link": "https://stackoverflow.com/users/6663764/gabrielle-earnshaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1512005202, "creation_date": 1511861853, "last_edit_date": 1511864555, "question_id": 47528183, "link": "https://stackoverflow.com/questions/47528183/reference-class-definition-from-prefix-header-in-swift", "title": "Reference class definition from prefix header in swift", "body": "<p>I'm adding swift code to an existing Objective-C project. I'm having problems referencing a definition from the existing prefix header.</p>\n\n<p>I have a class called MyClass, defined in Objective-C with .h:</p>\n\n<pre><code>@interface MyClass\n+(instancetype)myClass;\n-(void)doStuff;\n@end\n</code></pre>\n\n<p>And .m:</p>\n\n<pre><code>@implementation MyClass\n+ (instancetype) myClass\n{\n    // More to it than this, but this illustrates the setup\n    return [[MyClass alloc] init];\n}\n\n- (void)doStuff\n{\n    // Do something interesting\n}\n@end\n</code></pre>\n\n<p>The prefix header <code>MyProj-Prefix.pch</code> contains:</p>\n\n<pre><code>#define MYCLASS MyClass\n#define SOMEVAR @\"Hello\"\n</code></pre>\n\n<p>I have created a bridging header which contains:</p>\n\n<pre><code>#import \"MyProj-Prefix.pch\"\n</code></pre>\n\n<p>The project contains Objective-C code that uses the class definition, e.g.</p>\n\n<pre><code>[[MYCLASS myClass] doStuff];\n</code></pre>\n\n<p>I would like to mirror this in my new swift code. I <em>can</em> see and reference the defined variable, but the defined class isn't visible. e.g.</p>\n\n<pre><code>let someStr = SOMEVAR // This compiles\nMYCLASS.myClass.doStuff() // MYCLASS isn't visible\n</code></pre>\n\n<p>Any pointers on how to achieve this? I'm not even sure if this is possible in swift.</p>\n"}, {"tags": ["ios", "objective-c", "afnetworking"], "comments": [{"owner": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1511859092, "post_id": 47527334, "comment_id": 82010817, "body": "Does the script designed to respond anything? Is it a SOAP request instead of a HTTP request?"}, {"owner": {"reputation": 1, "user_id": 8585422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eac9713d1866f47c76f57814aeca7273?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Parharidis", "link": "https://stackoverflow.com/users/8585422/nikos-parharidis"}, "reply_to_user": {"reputation": 48375, "user_id": 188331, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/UhYfd.jpg?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/188331/raptor"}, "edited": false, "score": 0, "creation_date": 1511859662, "post_id": 47527334, "comment_id": 82011183, "body": "@Raptor Yes, It designed to respond. When I sent &quot;name&quot; to be empty value, it responds me first 50 object from service."}], "answers": [{"tags": [], "owner": {"reputation": 9015, "user_id": 5230311, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GkZpd.jpg?s=128&g=1", "display_name": "Tj3n", "link": "https://stackoverflow.com/users/5230311/tj3n"}, "is_accepted": false, "score": 0, "last_activity_date": 1511859259, "creation_date": 1511859259, "answer_id": 47527423, "question_id": 47527334, "link": "https://stackoverflow.com/questions/47527334/afnetworking-3-0-how-to-post-headers/47527423#47527423", "title": "AFNetworking 3.0 - How to post headers?", "body": "<p>You are override your own manager that have <code>requestSerializer</code> with new manager in this line <code>manager = [AFHTTPSessionManager manager];</code>, it probably override your request header setting</p>\n"}, {"tags": [], "owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "is_accepted": false, "score": 0, "last_activity_date": 1511860144, "creation_date": 1511860144, "answer_id": 47527685, "question_id": 47527334, "link": "https://stackoverflow.com/questions/47527334/afnetworking-3-0-how-to-post-headers/47527685#47527685", "title": "AFNetworking 3.0 - How to post headers?", "body": "<p>Are you sure your header and body value similar? if you have not need body parameter then pass <code>parameters:nil</code> Might be help following code! </p>\n\n<pre><code>[manager POST:baseURLString parameters:nil progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {\n    NSLog(@\"success! %@\", responseObject);\n} failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {\n    NSLog(@\"error: %@\", error);\n}];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8585422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eac9713d1866f47c76f57814aeca7273?s=128&d=identicon&r=PG&f=1", "display_name": "Nikos Parharidis", "link": "https://stackoverflow.com/users/8585422/nikos-parharidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511860144, "creation_date": 1511858843, "question_id": 47527334, "link": "https://stackoverflow.com/questions/47527334/afnetworking-3-0-how-to-post-headers", "title": "AFNetworking 3.0 - How to post headers?", "body": "<p>I'm very new for Objective-C programming. I am living a problem and not solving it. </p>\n\n<p>I have a Web Service and it response to me some key/value when I sent headers via Postman as in the screenshot below. I must post request and it must response to me according to my sent headers. But when I tried in Xcode with Objective-C using AFNetworking 3.0, I saw \"nil\" in responseObject although request succeed.</p>\n\n<p>My codes are as below. </p>\n\n<p>I'm waiting for your help.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3ulwB.png\" rel=\"nofollow noreferrer\">Postman Response</a>\n<a href=\"https://i.stack.imgur.com/aB78a.png\" rel=\"nofollow noreferrer\">xCode result</a></p>\n\n<pre><code>-(void)postData {\nstatic NSString * const baseURLString = @\"https://yonetim.ozmanoto.com/Uretim/DataTransfer.aspx/MusterileriGetir\"; \nNSDictionary *params = @{@\"method\":@\"MusterileriGetir\",@\"name\":@\"\"};\n\nAFHTTPSessionManager *manager = [[AFHTTPSessionManager alloc]initWithSessionConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\nmanager.requestSerializer = [AFHTTPRequestSerializer serializer];\n[manager.requestSerializer setValue:@\"method\" forHTTPHeaderField:@\"MusterileriGetir\"];\n[manager.requestSerializer setValue:@\"name\" forHTTPHeaderField:@\"\"];\n\nmanager = [AFHTTPSessionManager manager];\nmanager.responseSerializer = [AFHTTPResponseSerializer serializer];\n\n[manager POST:baseURLString parameters:params progress:nil success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {\n    NSLog(@\"success! %@\", responseObject);\n} failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {\n    NSLog(@\"error: %@\", error);\n}];\n</code></pre>\n"}, {"tags": ["objective-c", "firebase", "notifications", "firebase-cloud-messaging"], "answers": [{"tags": [], "owner": {"reputation": 1259, "user_id": 3733430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wsw78.jpg?s=128&g=1", "display_name": "kemdo", "link": "https://stackoverflow.com/users/3733430/kemdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1511858471, "creation_date": 1511858471, "answer_id": 47527237, "question_id": 47526571, "link": "https://stackoverflow.com/questions/47526571/objective-c-fcm-how-to-get-remote-message-when-app-in-background/47527237#47527237", "title": "objective C FCM how to get remote message when app in background", "body": "<p>For other people who face same problem.</p>\n\n<p>Finally after a lot of searching, i found the solution, very simple, u need to follow the content of firebase app message to make it readable by push notification service. U can see <a href=\"https://medium.com/developermind/using-firebase-cloud-messaging-for-remote-notifications-in-ios-d35de1dc67b2\" rel=\"nofollow noreferrer\">here</a> \nand <a href=\"https://firebase.google.com/docs/cloud-messaging/http-server-ref#notification-payload-support\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>this is sample to make it show to device when in background mode :)</p>\n\n<pre><code>{\n  \"condition\": \"'condition1' in topics &amp;&amp; 'condition2' in topics\",\n  \"notification\": {\n      \"category\": \"notification_category\",\n      \"title_loc_key\": \"notification_title\",\n      \"body_loc_key\": \"notification_body\",\n      \"badge\": 1\n  },\n  \"data\": {\n    \"data_type\": \"notification_data_type\",\n    \"data_id\": \"111111\",\n    \"data_detail\": \"FOO\",\n    \"data_detail_body\": \"BAR\"\n  }\n}\n</code></pre>\n\n<p>Now everything work like expect, then the second job is just modify message content like whatever u want :)</p>\n"}], "owner": {"reputation": 1259, "user_id": 3733430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wsw78.jpg?s=128&g=1", "display_name": "kemdo", "link": "https://stackoverflow.com/users/3733430/kemdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 758, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511858471, "creation_date": 1511855741, "last_edit_date": 1511855956, "question_id": 47526571, "link": "https://stackoverflow.com/questions/47526571/objective-c-fcm-how-to-get-remote-message-when-app-in-background", "title": "objective C FCM how to get remote message when app in background", "body": "<p>my code can get remote notification and remote message, the last problem is can not getting remote message when app in background ( just open app then got it)</p>\n\n<ul>\n<li><p>When i push remote notification and app in background, it's seem notification message show like expect, click to this notification then it bring me to my app. I dont know why remote message does not have some behavior like that( I using postman and \"<a href=\"https://fcm.googleapis.com/fcm/send\" rel=\"nofollow noreferrer\">https://fcm.googleapis.com/fcm/send</a>\" to send remote message)</p>\n\n<p>. Plz someone help me\nHere is my code</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // Register for remote notifications\n    if (floor(NSFoundationVersionNumber) &lt;= NSFoundationVersionNumber_iOS_7_1) {\n        // iOS 7.1 or earlier. Disable the deprecation warnings.\n        UIRemoteNotificationType allNotificationTypes =\n        (UIRemoteNotificationTypeSound |\n         UIRemoteNotificationTypeAlert |\n         UIRemoteNotificationTypeBadge);\n        [application registerForRemoteNotificationTypes:allNotificationTypes];\n\n    } else {\n        // iOS 8 or later\n        // [START register_for_notifications]\n        if (floor(NSFoundationVersionNumber) &lt;= NSFoundationVersionNumber_iOS_9_x_Max) {\n            UIUserNotificationType allNotificationTypes =\n            (UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge);\n            UIUserNotificationSettings *settings =\n            [UIUserNotificationSettings settingsForTypes:allNotificationTypes categories:nil];\n            [[UIApplication sharedApplication] registerUserNotificationSettings:settings];\n        } else {\n            // iOS 10 or later\n  UNAuthorizationOptions authOptions =\n            UNAuthorizationOptionAlert\n            | UNAuthorizationOptionSound\n            | UNAuthorizationOptionBadge;\n            [[UNUserNotificationCenter currentNotificationCenter]\n             requestAuthorizationWithOptions:authOptions\n             completionHandler:^(BOOL granted, NSError * _Nullable error) {\n             }\n             ];\n\n            // For iOS 10 display notification (sent via APNS)\n            [[UNUserNotificationCenter currentNotificationCenter] setDelegate:self];\n            // For iOS 10 data message (sent via FCM)\n            [[FIRMessaging messaging] setRemoteMessageDelegate:self];\n        }\n\n        [[UIApplication sharedApplication] registerForRemoteNotifications];\n        // [END register_for_notifications]\n    }\n\n    // [START configure_firebase]\n    [FIRApp configure];\n    // [END configure_firebase]\n    // Add observer for InstanceID token refresh callback.\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(tokenRefreshNotification:)\n                                                 name:kFIRInstanceIDTokenRefreshNotification object:nil];\n\n    return YES;\n}\n\n// [START receive_message]\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {\n    // If you are receiving a notification message while your app is in the background,\n    // this callback will not be fired till the user taps on the notification launching the application.\n    // TODO: Handle data of notification\n\n    // Print message ID.\n    NSLog(@\"didReceiveRemoteNotification1 ID: %@\", userInfo[@\"gcm.message_id\"]);\n\n    // Print full message.\n    NSLog(@\"didReceiveRemoteNotification1 %@\", userInfo);\n}\n\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\nfetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {\n    // If you are receiving a notification message while your app is in the background,\n    // this callback will not be fired till the user taps on the notification launching the application.\n    // TODO: Handle data of notification\n\n    // Print message ID.\n    NSLog(@\"didReceiveRemoteNotification2 ID: %@\", userInfo[@\"gcm.message_id\"]);\n\n    // Print full message.\n    NSLog(@\"didReceiveRemoteNotification2 %@\", userInfo);\n}\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center\n       willPresentNotification:(UNNotification *)notification\n         withCompletionHandler:(void (^)(UNNotificationPresentationOptions))completionHandler {\n    // Print message ID.\n    NSDictionary *userInfo = notification.request.content.userInfo;\n    NSLog(@\"willPresentNotification: %@\", userInfo[@\"gcm.message_id\"]);\n\n    // Print full message.\n    NSLog(@\"willPresentNotification %@\", userInfo);\n}\n\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center\ndidReceiveNotificationResponse:(UNNotificationResponse *)response\n         withCompletionHandler:(void (^)())completionHandler {\n    NSDictionary *userInfo = response.notification.request.content.userInfo;\n    NSLog(@\"didReceiveNotificationResponse: %@\", userInfo);\n}\n\n- (void)applicationReceivedRemoteMessage:(FIRMessagingRemoteMessage *)remoteMessage {\n    NSLog(@\"%@\", [remoteMessage appData]);\n    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Alert\" message:[NSString stringWithFormat:@\"%@\", [remoteMessage appData]] delegate:self cancelButtonTitle:@\"Cancel\" otherButtonTitles:@\"Ok\", nil];\n    [alert show];\n}\n- (void)tokenRefreshNotification:(NSNotification *)notification {\n\n    NSString *refreshedToken = [[FIRInstanceID instanceID] token];\n    NSLog(@\"InstanceID token: %@\", refreshedToken);\n    [self connectToFcm];\n}\n- (void)connectToFcm {\n    [[FIRMessaging messaging] connectWithCompletion:^(NSError * _Nullable error) {\n        if (error != nil) {\n            NSLog(@\"Unable to connect to FCM. %@\", error);\n        } else {\n            NSLog(@\"Connected to FCM.\");\n        }\n    }];\n}\n- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {\n    NSLog(@\"Unable to register for remote notifications: %@\", error);\n}\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n    NSLog(@\"APNs token retrieved: %@\", deviceToken);\n    [[FIRMessaging messaging] setAPNSToken:deviceToken];\n}\n\n- (void)applicationDidBecomeActive:(UIApplication *)application {\n    [self connectToFcm];\n}\n\n- (void)applicationDidEnterBackground:(UIApplication *)application {\n    [[FIRMessaging messaging] disconnect];\n    NSLog(@\"Disconnected from FCM\");\n}\n</code></pre></li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "iphone", "scroll", "uisegmentedcontrol"], "comments": [{"owner": {"reputation": 1869, "user_id": 2284065, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/fYDD5.jpg?s=128&g=1", "display_name": "Jayesh Thanki", "link": "https://stackoverflow.com/users/2284065/jayesh-thanki"}, "edited": false, "score": 0, "creation_date": 1511854947, "post_id": 47525889, "comment_id": 82008486, "body": "are you using pod or just classes ? swift or objc?"}, {"owner": {"reputation": 864, "user_id": 6681858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cIidg.jpg?s=128&g=1", "display_name": "A.H.Nuri", "link": "https://stackoverflow.com/users/6681858/a-h-nuri"}, "reply_to_user": {"reputation": 1869, "user_id": 2284065, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/fYDD5.jpg?s=128&g=1", "display_name": "Jayesh Thanki", "link": "https://stackoverflow.com/users/2284065/jayesh-thanki"}, "edited": false, "score": 0, "creation_date": 1511867260, "post_id": 47525889, "comment_id": 82016497, "body": "@JayeshThanki I&#39;m using Just classes and It&#39;s in Objective C. Thanks"}, {"owner": {"reputation": 1869, "user_id": 2284065, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/fYDD5.jpg?s=128&g=1", "display_name": "Jayesh Thanki", "link": "https://stackoverflow.com/users/2284065/jayesh-thanki"}, "edited": false, "score": 0, "creation_date": 1511868809, "post_id": 47525889, "comment_id": 82017479, "body": "Please check my updated answer."}], "answers": [{"comments": [{"owner": {"reputation": 864, "user_id": 6681858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cIidg.jpg?s=128&g=1", "display_name": "A.H.Nuri", "link": "https://stackoverflow.com/users/6681858/a-h-nuri"}, "edited": false, "score": 0, "creation_date": 1511874491, "post_id": 47526490, "comment_id": 82021115, "body": "Thanks for your kind help  :)"}], "tags": [], "owner": {"reputation": 1869, "user_id": 2284065, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/fYDD5.jpg?s=128&g=1", "display_name": "Jayesh Thanki", "link": "https://stackoverflow.com/users/2284065/jayesh-thanki"}, "is_accepted": false, "score": 0, "last_activity_date": 1511868767, "last_edit_date": 1511868767, "creation_date": 1511855403, "answer_id": 47526490, "question_id": 47525889, "link": "https://stackoverflow.com/questions/47525889/how-to-repeat-or-re-select-the-selected-segment-on-hmsegmentedcontrol/47526490#47526490", "title": "How to repeat or re- select the selected segment on HMSegmentedControl?", "body": "<p>In <code>HMSegmentedControl.swift</code> file, there is <code>tapped(segmentButton:)</code> function in which you can just change <code>indexChanged</code> bool variable to true or you can remove <code>indexChanged</code> variable from if condition then every time you tap selected tab event will occures. Here is actual function code :</p>\n\n<p><H1>Swift</H1></p>\n\n<pre><code>func tapped(segmentButton sender: UIButton) {\n    let newIndex = sender.tag\n    //let indexChanged: Bool = newIndex != selectedSegmentIndex\n    let indexChanged: Bool = true\n    selectedSegmentIndex = newIndex\n\n    if let indexChangedHandler = indexChangedHandler, indexChanged == true {\n        indexChangedHandler(selectedSegmentIndex)\n    }\n\n    setSelectedSegmentIndex(newIndex, animated: true)\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>func tapped(segmentButton sender: UIButton) {\n    let newIndex = sender.tag\n    selectedSegmentIndex = newIndex\n\n    if let indexChangedHandler = indexChangedHandler {\n        indexChangedHandler(selectedSegmentIndex)\n    }\n\n    setSelectedSegmentIndex(newIndex, animated: true)\n}\n</code></pre>\n\n<p><H1>Objective-C</H1></p>\n\n<p>you can remove <code>segment != self.selectedSegmentIndex</code> condition in this method <code>- (void)touchesEnded:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event;</code></p>\n\n<pre><code>//if (segment != self.selectedSegmentIndex &amp;&amp; segment &lt; sectionsCount) {\nif (segment &lt; sectionsCount) {\n    // Check if we have to do anything with the touch event\n    if (self.isTouchEnabled)\n        [self setSelectedSegmentIndex:segment animated:self.shouldAnimateUserSelection notify:YES];\n}\n</code></pre>\n\n<p>NOTE : commented line (1st line) is old code and 2nd line is new code.</p>\n"}], "owner": {"reputation": 864, "user_id": 6681858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cIidg.jpg?s=128&g=1", "display_name": "A.H.Nuri", "link": "https://stackoverflow.com/users/6681858/a-h-nuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1511868767, "creation_date": 1511853132, "question_id": 47525889, "link": "https://stackoverflow.com/questions/47525889/how-to-repeat-or-re-select-the-selected-segment-on-hmsegmentedcontrol", "title": "How to repeat or re- select the selected segment on HMSegmentedControl?", "body": "<p>In HMSegmentedControl, I want to perform repeated segment selection. Means If a segment is selected already,  If it's press or select again it should perform/ reload the next functions on the basis of segment selection.</p>\n"}, {"tags": ["objective-c", "swift", "ipad", "nsuserdefaults", "xctest"], "comments": [{"owner": {"reputation": 6147, "user_id": 366346, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/36f3a1d9e247265da88e79475117bcad?s=128&d=identicon&r=PG", "display_name": "GoodSp33d", "link": "https://stackoverflow.com/users/366346/goodsp33d"}, "edited": false, "score": 0, "creation_date": 1511853189, "post_id": 47525847, "comment_id": 82007623, "body": "Can you try initializing user defaults with bundle id of your app ? Also are you testing the async code in the right way ?"}, {"owner": {"reputation": 13499, "user_id": 498796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oJqos.jpg?s=128&g=1", "display_name": "dasdom", "link": "https://stackoverflow.com/users/498796/dasdom"}, "edited": false, "score": 0, "creation_date": 1511857964, "post_id": 47525847, "comment_id": 82010114, "body": "Do you call <code>onGetSyncStatusChange</code> in your test?"}, {"owner": {"reputation": 48, "user_id": 2176805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db6c4e58a6022f7b0d978a5de2d7570?s=128&d=identicon&r=PG", "display_name": "Smriti10", "link": "https://stackoverflow.com/users/2176805/smriti10"}, "reply_to_user": {"reputation": 6147, "user_id": 366346, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/36f3a1d9e247265da88e79475117bcad?s=128&d=identicon&r=PG", "display_name": "GoodSp33d", "link": "https://stackoverflow.com/users/366346/goodsp33d"}, "edited": false, "score": 0, "creation_date": 1511859461, "post_id": 47525847, "comment_id": 82011058, "body": "@GoodSp33d : Yes, i tried initialising userdefault with app bundle id:     NSUserDefaults *userDef = [[NSUserDefaults alloc]initWithSuiteName:@&quot;com.infosys.marketingpadbshdevtest&zwnj;&#8203;2&quot;];   Still getting false, even after sync is happening. Also i am using XCTwaiter for async tasks."}, {"owner": {"reputation": 48, "user_id": 2176805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db6c4e58a6022f7b0d978a5de2d7570?s=128&d=identicon&r=PG", "display_name": "Smriti10", "link": "https://stackoverflow.com/users/2176805/smriti10"}, "reply_to_user": {"reputation": 13499, "user_id": 498796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oJqos.jpg?s=128&g=1", "display_name": "dasdom", "link": "https://stackoverflow.com/users/498796/dasdom"}, "edited": false, "score": 0, "creation_date": 1511859616, "post_id": 47525847, "comment_id": 82011162, "body": "@dasdom : onGetSyncStatusChange method, is the part of code that execute when application is launched in test class : XCUIApplication().launch()  , this method gets called when user logs in and sync happens."}, {"owner": {"reputation": 48, "user_id": 2176805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db6c4e58a6022f7b0d978a5de2d7570?s=128&d=identicon&r=PG", "display_name": "Smriti10", "link": "https://stackoverflow.com/users/2176805/smriti10"}, "edited": false, "score": 0, "creation_date": 1511863065, "post_id": 47525847, "comment_id": 82013463, "body": "i have checked by putting breakpoint on method onGetSyncStatusChange method() , it is getting called and value is saved true also in userDefault also. But in UITestCase class it cannot be fetched.Giving False as default value."}], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 2176805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db6c4e58a6022f7b0d978a5de2d7570?s=128&d=identicon&r=PG", "display_name": "Smriti10", "link": "https://stackoverflow.com/users/2176805/smriti10"}, "is_accepted": false, "score": 0, "last_activity_date": 1513838914, "creation_date": 1513838914, "answer_id": 47919420, "question_id": 47525847, "link": "https://stackoverflow.com/questions/47525847/xctest-value-not-retrieved-in-nsuserdefaults-in-ui-test-class/47919420#47919420", "title": "XCTest : Value not retrieved in NSUserdefaults in UI test Class", "body": "<p>UItest class doesn't have access to application's internal state. Hence we cannot retrieve UserDefault values, saved in application code,in UITest class. If we wish to access such values we can do so in UnitTest class.</p>\n\n<p>In UITest class, i managed to check sync status by writing own boolean key in userdefault after login and checking status of key in other test functions whenever necessary(This key will be accessible in UITest class only, not outside).</p>\n"}], "owner": {"reputation": 48, "user_id": 2176805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db6c4e58a6022f7b0d978a5de2d7570?s=128&d=identicon&r=PG", "display_name": "Smriti10", "link": "https://stackoverflow.com/users/2176805/smriti10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 839, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1513838914, "creation_date": 1511852918, "last_edit_date": 1511853048, "question_id": 47525847, "link": "https://stackoverflow.com/questions/47525847/xctest-value-not-retrieved-in-nsuserdefaults-in-ui-test-class", "title": "XCTest : Value not retrieved in NSUserdefaults in UI test Class", "body": "<p>I am trying to test successful login in app.</p>\n\n<p>In <code>TestClass</code> i am fetching value of <code>Bool</code> in <code>NSUserdefault</code> which is set to true when login is successful in app.</p>\n\n<p><strong>Code:</strong>\n<strong>LoginViewController:ViewController</strong> </p>\n\n<pre><code>-(void) onGetSyncStatusChange:(SUPSyncStatusInfo*)info{\n....\n....\n\n[[NSUserDefaults standardUserDefaults] setBool:true forKey:@\"SynchronisationStatus\"];\n\n[[NSUserDefaults standardUserDefaults] synchronize];\n\n}\n</code></pre>\n\n<p><strong>Issue:</strong> Value is being set true during login but in test class it is \nstill giving false(default value).</p>\n\n<pre><code>class MarketingPadBoschUITests: XCTestCase {\n\n    override func setUp() {....}\n\n    override func tearDown() {...}\n\n    func testLoginAndSync(){\n\n    ....\n\n    ....\n\n    XCTAssertTrue(UserDefaults.standard.bool(forKey:   \"SynchronisationStatus\"),\"Synchronisation Issue\")\n\n    print(\"Printing SynchronisationStatus :::   \",UserDefaults.standard.bool(forKey: \"SynchronisationStatus\"))\n    }\n\n}\n</code></pre>\n\n<p>Can anyone tell why value set in code is not getting retrieved in testClass?</p>\n\n<p>Regards,\nSmriti</p>\n"}, {"tags": ["objective-c", "xcode9"], "comments": [{"owner": {"reputation": 2776, "user_id": 2457316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0XIl0.jpg?s=128&g=1", "display_name": "Fatemeh Abdollahei", "link": "https://stackoverflow.com/users/2457316/fatemeh-abdollahei"}, "edited": false, "score": 0, "creation_date": 1511851654, "post_id": 47525448, "comment_id": 82006941, "body": "Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, it\u2019s hard to tell exactly what you&#39;re asking. See the How to Ask page(<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>) for help clarifying this question."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1511857937, "post_id": 47525448, "comment_id": 82010097, "body": "Did you see the exception reason <i>Contentview size is zero</i>? It&#39;s quite meaningful."}, {"owner": {"reputation": 41, "user_id": 8324385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5318556cb8bb0128e037616bfdfcb534?s=128&d=identicon&r=PG&f=1", "display_name": "Nijil Jose", "link": "https://stackoverflow.com/users/8324385/nijil-jose"}, "edited": false, "score": 0, "creation_date": 1511861157, "post_id": 47525448, "comment_id": 82012181, "body": "app getting crashed while running with xcode 9 but its working xcode 8 this above error code getting from console"}, {"owner": {"reputation": 41, "user_id": 8324385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5318556cb8bb0128e037616bfdfcb534?s=128&d=identicon&r=PG&f=1", "display_name": "Nijil Jose", "link": "https://stackoverflow.com/users/8324385/nijil-jose"}, "edited": false, "score": 0, "creation_date": 1512031725, "post_id": 47525448, "comment_id": 82095836, "body": "Anyone know this issue?"}], "owner": {"reputation": 41, "user_id": 8324385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5318556cb8bb0128e037616bfdfcb534?s=128&d=identicon&r=PG&f=1", "display_name": "Nijil Jose", "link": "https://stackoverflow.com/users/8324385/nijil-jose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511854511, "creation_date": 1511851450, "last_edit_date": 1511854511, "question_id": 47525448, "link": "https://stackoverflow.com/questions/47525448/terminating-app-due-to-uncaught-exception-nsinternalinconsistencyexception-re", "title": "Terminating app due to uncaught exception &#39;NSInternalInconsistencyException&#39;, reason: &#39;Sigh. Contentview size is zero. error getting xcode 9", "body": "<pre><code>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Sigh. Contentview size is zero.'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x000000010bddc1ab __exceptionPreprocess + 171\n    1   libobjc.A.dylib                     0x000000010af2af41 objc_exception_throw + 48\n    2   CoreFoundation                      0x000000010bde1372 +[NSException raise:format:arguments:] + 98\n    3   Foundation                          0x000000010a9cf089 -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 193\n    4   UIKit                               0x0000000108e25134 -[_UINavigationBarVisualProviderModernIOS _contentViewFittingHeight] + 265\n    5   UIKit                               0x0000000108ba5cc0 -[UINavigationItem _desiredHeightForBarMetrics:defaultHeightBlock:] + 90\n    6   UIKit                               0x0000000108e27cf3 -[_UINavigationBarVisualProviderModernIOS heightRangeFittingWidth:] + 412\n    7   UIKit                               0x0000000108342661 -[UINavigationBar _heightRangeForNavigationItem:fittingWidth:] + 210\n    8   UIKit                               0x000000010841cc87 -[UINavigationController _intrinsicNavigationBarHeightRangeForViewController:] + 187\n    9   UIKit                               0x000000010841cba5 -[UINavigationController _preferredHeightForHidingNavigationBarForViewController:] + 628\n    10  UIKit                               0x000000010840cc93 -[UINavigationController _positionNavigationBarHidden:edge:initialOffset:] + 356\n    11  UIKit                               0x000000010840d0fc -[UINavigationController _positionNavigationBarHidden:edge:] + 388\n    12  UIKit                               0x0000000108414744 -[UINavigationController loadView] + 243\n    13  UIKit                               0x00000001083d7495 -[UIViewController loadViewIfRequired] + 195\n    14  UIKit                               0x00000001083d7cf2 -[UIViewController view] + 27\n    15  HAULMYGOODS                         0x0000000107b2e4fa -[SlideNavigationController setEnableShadow:] + 74\n    16  HAULMYGOODS                         0x0000000107b2bea4 -[SlideNavigationController setup] + 244\n    17  HAULMYGOODS                         0x0000000107b2bbe1 -[SlideNavigationController initWithCoder:] + 145\n    18  UIKit                               0x00000001086be54c -[UIClassSwapper initWithCoder:] + 246\n    19  UIKit                               0x0000000108910a45 UINibDecoderDecodeObjectForValue + 704\n    20  UIKit                               0x000000010891077a -[UINibDecoder decodeObjectForKey:] + 89\n    21  UIKit                               0x000000010833ecce -[UINavigationBar initWithCoder:] + 753\n    22  UIKit                               0x0000000108910a45 UINibDecoderDecodeObjectForValue + 704\n    23  UIKit                               0x000000010891077a -[UINibDecoder decodeObjectForKey:] + 89\n    24  UIKit                               0x0000000108ba0d49 -[UINavigationItem initWithCoder:] + 1018\n    25  UIKit                               0x0000000108910a45 UINibDecoderDecodeObjectForValue + 704\n    26  UIKit                               0x000000010891077a -[UINibDecoder decodeObjectForKey:] + 89\n    27  UIKit                               0x00000001083d248c -[UIViewController initWithCoder:] + 432\n    28  UIKit                               0x00000001086be54c -[UIClassSwapper initWithCoder:] + 246\n    29  UIKit                               0x0000000108910a45 UINibDecoderDecodeObjectForValue + 704\n    30  UIKit                               0x000000010891077a -[UINibDecoder decodeObjectForKey:] + 89\n    31  UIKit                               0x00000001086be218 -[UIRuntimeConnection initWithCoder:] + 178\n    32  UIKit                               0x00000001086be954 -[UIRuntimeEventConnection initWithCoder:] + 59\n    33  UIKit                               0x0000000108910a45 UINibDecoderDecodeObjectForValue + 704\n    34  UIKit                               0x0000000108910be3 UINibDecoderDecodeObjectForValue + 1118\n    35  UIKit                               0x000000010891077a -[UINibDecoder decodeObjectForKey:] + 89\n    36  UIKit                               0x00000001086bd415 -[UINib instantiateWithOwner:options:] + 1262\n    37  UIKit                               0x0000000108b4a0de -[UIStoryboard instantiateViewControllerWithIdentifier:] + 181\n    38  UIKit                               0x0000000108231dde -[UIApplication _loadMainStoryboardFileNamed:bundle:] + 112\n    39  UIKit                               0x0000000108232295 -[UIApplication _loadMainInterfaceFile] + 228\n    40  UIKit                               0x00000001082309ca -[UIApplication _runWithMainScene:transitionContext:completion:] + 1413\n    41  UIKit                               0x00000001085f62e0 __111-[__UICanvasLifecycleMonitor_Compatability _scheduleFirstCommitForScene:transition:firstActivation:completion:]_block_invoke + 924\n    42  UIKit                               0x00000001089c8be0 +[_UICanvas _enqueuePostSettingUpdateTransactionBlock:] + 153\n    43  UIKit                               0x00000001085f5ed9 -[__UICanvasLifecycleMonitor_Compatability _scheduleFirstCommitForScene:transition:firstActivation:completion:] + 249\n    44  UIKit                               0x00000001085f6737 -[__UICanvasLifecycleMonitor_Compatability activateEventsOnly:withContext:completion:] + 668\n    45  UIKit                               0x0000000108f6ac4d __82-[_UIApplicationCanvas _transitionLifecycleStateWithTransitionContext:completion:]_block_invoke + 262\n    46  UIKit                               0x0000000108f6ab06 -[_UIApplicationCanvas _transitionLifecycleStateWithTransitionContext:completion:] + 444\n    47  UIKit                               0x0000000108c4bd52 __125-[_UICanvasLifecycleSettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:]_block_invoke + 420\n    48  UIKit                               0x0000000108e48a7e _performActionsWithDelayForTransitionContext + 100\n    49  UIKit                               0x0000000108c4bb4e -[_UICanvasLifecycleSettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:] + 231\n    50  UIKit                               0x00000001089c823d -[_UICanvas scene:didUpdateWithDiff:transitionContext:completion:] + 392\n    51  UIKit                               0x000000010822f37e -[UIApplication workspace:didCreateScene:withTransitionContext:completion:] + 523\n    52  UIKit                               0x0000000108803c1b -[UIApplicationSceneClientAgent scene:didInitializeWithEvent:completion:] + 369\n    53  FrontBoardServices                  0x000000010ddbd158 -[FBSSceneImpl _didCreateWithTransitionContext:completion:] + 338\n    54  FrontBoardServices                  0x000000010ddc5c4d __56-[FBSWorkspace client:handleCreateScene:withCompletion:]_block_invoke_2 + 235\n    55  libdispatch.dylib                   0x000000011088643c _dispatch_client_callout + 8\n    56  libdispatch.dylib                   0x000000011088baf4 _dispatch_block_invoke_direct + 592\n    57  FrontBoardServices                  0x000000010ddf1672 __FBSSERIALQUEUE_IS_CALLING_OUT_TO_A_BLOCK__ + 24\n    58  FrontBoardServices                  0x000000010ddf1328 -[FBSSerialQueue _performNext] + 464\n    59  FrontBoardServices                  0x000000010ddf1897 -[FBSSerialQueue _performNextFromRunLoopSource] + 45\n    60  CoreFoundation                      0x000000010bd7f231 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n    61  CoreFoundation                      0x000000010be1ee41 __CFRunLoopDoSource0 + 81\n    62  CoreFoundation                      0x000000010bd63b49 __CFRunLoopDoSources0 + 185\n    63  CoreFoundation                      0x000000010bd6312f __CFRunLoopRun + 1279\n    64  CoreFoundation                      0x000000010bd629b9 CFRunLoopRunSpecific + 409\n    65  GraphicsServices                    0x000000010eaa09c6 GSEventRunModal + 62\n    66  UIKit                               0x00000001082325e8 UIApplicationMain + 159\n    67  HAULMYGOODS                         0x0000000107b2ba3f main + 111\n    68  libdyld.dylib                       0x0000000110902d81 start + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "zooming", "wkwebview", "xwalkview"], "answers": [{"tags": [], "owner": {"reputation": 1201, "user_id": 1499553, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NtV3S.jpg?s=128&g=1", "display_name": "Osama Mohammed Shaikh", "link": "https://stackoverflow.com/users/1499553/osama-mohammed-shaikh"}, "is_accepted": true, "score": 0, "last_activity_date": 1511937828, "creation_date": 1511937828, "answer_id": 47546596, "question_id": 47525342, "link": "https://stackoverflow.com/questions/47525342/wkwebview-zooming-not-working-properly/47546596#47546596", "title": "WKWebView zooming not working properly", "body": "<p>Got the solution! Returning the last subview first time &amp; first subview of scrollview on subsequent zooms in <code>viewForZoomingInScrollView</code> method solved the problem, as shown below:</p>\n\n<pre><code>-(UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView {\n    if (shouldPageNotZoom) {\n        NSLog(@\"viewForZoomingInScrollView YES\");\n        return nil;\n    } else {\n        NSLog(@\"viewForZoomingInScrollView NO\");\n        xWalkView.scrollView.tag = 20;\n        xWalkView.tag = 15;\n        xWalkView.scrollView.subviews[0].tag = 10;\n        _containerView.tag = 5;\n\n        if (isFirstTimeZooming) {\n            return xWalkView.scrollView.subviews[xWalkView.scrollView.subviews.count - 1];\n        } else {\n            return xWalkView.scrollView.subviews[0];\n        }\n    }\n}\n\n-(void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(UIView *)view atScale:(CGFloat)scale {\n    NSLog(@\"tag %li\", (long) view.tag);\n    isFirstTimeZooming = NO;\n}\n</code></pre>\n\n<p><code>isFirstTimeZooming</code> is set to YES on load of the page in <code>didStartProvisionalNavigation</code> method &amp; set to NO in <code>scrollViewDidEndZooming</code> method so that first subview of scrollview can be passed on subsequent zooming.</p>\n\n<p>I had to use <code>isFirstTimeZooming</code> because if I pass last subview only in <code>viewForZoomingInScrollView</code> the  zooming problem was reversed, i.e. it was zooming properly first time but not on subsequent zooms.</p>\n"}], "owner": {"reputation": 1201, "user_id": 1499553, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NtV3S.jpg?s=128&g=1", "display_name": "Osama Mohammed Shaikh", "link": "https://stackoverflow.com/users/1499553/osama-mohammed-shaikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3060, "favorite_count": 0, "accepted_answer_id": 47546596, "answer_count": 1, "score": 2, "last_activity_date": 1511937828, "creation_date": 1511850923, "last_edit_date": 1511876944, "question_id": 47525342, "link": "https://stackoverflow.com/questions/47525342/wkwebview-zooming-not-working-properly", "title": "WKWebView zooming not working properly", "body": "<p>I am using XWalkView which is a subclass of WKWebView, added as a subview to a container view programmatically. I am trying to zoom the content page of the WKWebView but it does not zoom first time. The WKWebView zooms the content page subsequently, i.e. when I pinch zoom or do double tap zoom it zooms WKWebView itself or container view (my guess) &amp; after that, doing zoom gestures again the content page is zoomed (which is expected behaviour).</p>\n\n<p>The question is that how to make the content page of WKWebView zoom whenever the zoom gesture is performed.</p>\n\n<p>I am conforming to <code>UIScrollViewDelegate</code> protocol in my <code>ViewController.h</code> as below:</p>\n\n<pre><code>@interface ViewController : UIViewController&lt;UIScrollViewDelegate, WKNavigationDelegate, WKUIDelegate&gt;\n</code></pre>\n\n<p>I am setting the delegate to self in <code>viewDidLoad</code> as below:</p>\n\n<pre><code>xWalkView.scrollView.delegate = self;\n</code></pre>\n\n<p>Setting zooming scales in <code>viewDidLoad</code> as below:</p>\n\n<pre><code>xWalkView.scrollView.minimumZoomScale = 1;\nxWalkView.scrollView.maximumZoomScale = 6;\n</code></pre>\n\n<p>&amp; implementing the protocol methods in <code>ViewController.m</code> as below:</p>\n\n<pre><code>-(UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView {\n    if (shouldPageNotZoom) {\n        NSLog(@\"viewForZoomingInScrollView YES\");\n        return nil;\n    } else {\n        NSLog(@\"viewForZoomingInScrollView NO\");\n        return xWalkView.scrollView.subviews[0];\n    }\n}\n\n-(void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(UIView *)view atScale:(CGFloat)scale {\n\n}\n</code></pre>\n\n<p>I am using a BOOL shouldPageNotZoom &amp; setting it YES or NO based on URL depending on whether zooming is required or not. On pages where zooming is required I can see the log of else block (<code>NSLog(@\"viewForZoomingInScrollView NO\");</code>) being printed in log area &amp; on pages where zooming is not required I can see the log of if block (<code>NSLog(@\"viewForZoomingInScrollView YES\");</code>). Which is working. The only problem is content page does not zoom on first zooming gesture instead WKWebView or container view is zoomed (I guess), but zooms on subsequent zoom gestures.</p>\n\n<p><strong>After some observation</strong> I found that subview at index 0 of scrollview is being zoomed the first &amp; subsequent times (but the content page zooms subsequent times not the first time), which is being returned in <code>viewForZoomingInScrollView</code>. Which should be the case, &amp; is. I did this by assigning the tag values to each view &amp; seeing the tag value by logging the tag value in <code>scrollViewDidEndZooming</code> method in log area as below:</p>\n\n<pre><code>-(UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView {\n    if (shouldPageNotZoom) {\n        NSLog(@\"viewForZoomingInScrollView YES\");\n        return nil;\n    } else {\n        NSLog(@\"viewForZoomingInScrollView NO\");\n        xWalkView.scrollView.tag = 20;\n        xWalkView.tag = 15;\n        xWalkView.scrollView.subviews[0].tag = 10;\n        _containerView.tag = 5;\n        return xWalkView.scrollView.subviews[0];\n    }\n}\n\n-(void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(UIView *)view atScale:(CGFloat)scale {\n    NSLog(@\"tag %li\", (long) view.tag);\n}\n</code></pre>\n\n<p>Giving the below log:</p>\n\n<pre><code>2017-11-28 17:21:36.610753+0530 MyApp[4614:241659] tag 10 //Getting this 1st time of zooming\n2017-11-28 17:21:59.369461+0530 MyApp[4614:241659] tag 10 //Getting this at subsequent zooms \n</code></pre>\n\n<p>I don't know what am I missing.</p>\n\n<p>Please comment if any clarification is needed.</p>\n"}, {"tags": ["ios", "objective-c", "afnetworking"], "comments": [{"owner": {"reputation": 1217, "user_id": 4189037, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059387325/picture?type=large", "display_name": "Predrag Samardzic", "link": "https://stackoverflow.com/users/4189037/predrag-samardzic"}, "edited": false, "score": 0, "creation_date": 1511851507, "post_id": 47525340, "comment_id": 82006884, "body": "You are expecting json, but you are getting plain text from server.  In place of application/json try this: [manager.requestSerializer setValue:@&quot;text/plain&quot; forHTTPHeaderField:@&quot;Accept&quot;];"}, {"owner": {"reputation": 1723, "user_id": 831098, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4b54c4f308e997bae6aa76b8f5e57f62?s=128&d=identicon&r=PG", "display_name": "user831098", "link": "https://stackoverflow.com/users/831098/user831098"}, "reply_to_user": {"reputation": 1217, "user_id": 4189037, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059387325/picture?type=large", "display_name": "Predrag Samardzic", "link": "https://stackoverflow.com/users/4189037/predrag-samardzic"}, "edited": false, "score": 0, "creation_date": 1511851975, "post_id": 47525340, "comment_id": 82007082, "body": "Yes, thanks for help. I had solved the issue, please refer my reply answer."}], "answers": [{"tags": [], "owner": {"reputation": 1723, "user_id": 831098, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4b54c4f308e997bae6aa76b8f5e57f62?s=128&d=identicon&r=PG", "display_name": "user831098", "link": "https://stackoverflow.com/users/831098/user831098"}, "is_accepted": false, "score": 0, "last_activity_date": 1511851920, "creation_date": 1511851920, "answer_id": 47525567, "question_id": 47525340, "link": "https://stackoverflow.com/questions/47525340/request-failed-unacceptable-content-type-text-plain-afnetwork-post/47525567#47525567", "title": "Request failed: unacceptable content-type: text/plain - AFNetwork POST", "body": "<p>Yes, server in plain text. So I need to setup the response serializer accept content type plain text.</p>\n\n<blockquote>\n  <p>manager.responseSerializer.acceptableContentTypes = [NSSet\n  setWithObject:@\"text/plain\"];</p>\n</blockquote>\n"}], "owner": {"reputation": 1723, "user_id": 831098, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4b54c4f308e997bae6aa76b8f5e57f62?s=128&d=identicon&r=PG", "display_name": "user831098", "link": "https://stackoverflow.com/users/831098/user831098"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 457, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511851920, "creation_date": 1511850919, "question_id": 47525340, "link": "https://stackoverflow.com/questions/47525340/request-failed-unacceptable-content-type-text-plain-afnetwork-post", "title": "Request failed: unacceptable content-type: text/plain - AFNetwork POST", "body": "<p>I had install AFNetwork 3.1 by CocoaPods.\nWhen I call the post method i hit the error as below:</p>\n\n<blockquote>\n  <p>Request failed: unacceptable content-type: text/plain</p>\n</blockquote>\n\n<p>Here is my code to call the post method:</p>\n\n<blockquote>\n  <p>AFHTTPSessionManager *manager = [[AFHTTPSessionManager alloc]\n  initWithBaseURL:url];</p>\n  \n  <p>manager.requestSerializer = [AFJSONRequestSerializer serializer];\n  manager.responseSerializer = [AFJSONResponseSerializer serializer];\n  manager.securityPolicy.allowInvalidCertificates = YES;\n  manager.requestSerializer.timeoutInterval = 60;\n  manager.securityPolicy.validatesDomainName = NO;    </p>\n  \n  <p>[manager.requestSerializer\n  setValue:@\"application/json\" forHTTPHeaderField:@\"Accept\"];</p>\n\n<pre><code>[manager POST:urlStr parameters:parameters progress:nil\n      success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {\n\n          NSLog(@\"%@ success, responseObject: %@\", url, responseObject);\n\n\n      } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {\n\n          NSLog(@\"%@ error: %@\", url, [error localizedDescription]);\n\n      }];\n</code></pre>\n</blockquote>\n\n<p>How do I resolved this issue?</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 2221, "user_id": 3883040, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LiOE9.jpg?s=128&g=1", "display_name": "Sushil Sharma", "link": "https://stackoverflow.com/users/3883040/sushil-sharma"}, "edited": false, "score": 0, "creation_date": 1511850780, "post_id": 47525227, "comment_id": 82006630, "body": "It looks like [0] is picking object from 0th index."}, {"owner": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 0, "creation_date": 1511851863, "post_id": 47525227, "comment_id": 82007023, "body": "Note that you should get the file name from suggestedFilename property of the URLResponse from the server"}], "answers": [{"tags": [], "owner": {"reputation": 623, "user_id": 2833207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1372706307/picture?type=large", "display_name": "temp", "link": "https://stackoverflow.com/users/2833207/temp"}, "is_accepted": false, "score": -1, "last_activity_date": 1511850873, "creation_date": 1511850873, "answer_id": 47525329, "question_id": 47525227, "link": "https://stackoverflow.com/questions/47525227/what-does-urlstring-componentsseperatedbystring-0-mean-in-swift/47525329#47525329", "title": "What does [urlString componentsSeperatedByString: @&quot;?&quot;] [0]? mean in Swift?", "body": "<p>Ahh so mistake on my part is that I didn't see what the method <code>-cacheFileNameForKey:</code> was doing.</p>\n\n<pre><code>+ (nullable NSString *)cachedFileNameForKey:(nullable NSString *)key {\n     const char *str = key.UTF8String;\n     if (str == NULL) {\n        str = \"\";\n     }\n       unsigned char r[CC_MD5_DIGEST_LENGTH];\n       CC_MD5(str, (CC_LONG)strlen(str), r);\n       NSString *filename = [NSString stringWithFormat:@\"%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%02x%@\",\n                      r[0], r[1], r[2], r[3], r[4], r[5], r[6], r[7], r[8], r[9], r[10],\n                      r[11], r[12], r[13], r[14], r[15], [key.pathExtension isEqualToString:@\"\"] ? @\"\" : [NSString stringWithFormat:@\".%@\", key.pathExtension]];\n\n       return filename;\n }\n</code></pre>\n\n<p>I guess its used for a function to generate a file name for a temporary movie file.</p>\n"}, {"tags": [], "owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "is_accepted": false, "score": 1, "last_activity_date": 1511850920, "creation_date": 1511850920, "answer_id": 47525341, "question_id": 47525227, "link": "https://stackoverflow.com/questions/47525227/what-does-urlstring-componentsseperatedbystring-0-mean-in-swift/47525341#47525341", "title": "What does [urlString componentsSeperatedByString: @&quot;?&quot;] [0]? mean in Swift?", "body": "<p>In Swift </p>\n\n<pre><code>var urlString: String = \"Know someone who can answer? Share a link to this\" // Example string or url.absoluteString\n\nlet fileName = urlString.components(separatedBy: \"?\")\nprint(fileName)\n\nlet string1 = fileName[0]\nlet string2 = fileName[1]\n</code></pre>\n\n<p>Hope will helpful to you</p>\n"}, {"tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": false, "score": 2, "last_activity_date": 1511851709, "last_edit_date": 1511851709, "creation_date": 1511850966, "answer_id": 47525352, "question_id": 47525227, "link": "https://stackoverflow.com/questions/47525227/what-does-urlstring-componentsseperatedbystring-0-mean-in-swift/47525352#47525352", "title": "What does [urlString componentsSeperatedByString: @&quot;?&quot;] [0]? mean in Swift?", "body": "<p><code>[]</code> in objective-c is not only used to access arrays, but also used to call methods. Surprising, isn't it?</p>\n\n<p>In general,</p>\n\n<pre><code>[xxx someMethod];\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>xxx.someMethod()\n</code></pre>\n\n<p>in swift.</p>\n\n<p>So here:</p>\n\n<pre><code>[urlString componentsSeparatedByString:@\"?\"][0]\n</code></pre>\n\n<p>means</p>\n\n<pre><code>urlString.components(separatedBy: \"?\")[0] // \"[0]\" can also be replaced by \".first\", which is safer.\n</code></pre>\n\n<p>This is then passed to the <code>cachedFileNameForKey</code> as a parameter.</p>\n"}], "owner": {"reputation": 623, "user_id": 2833207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/1372706307/picture?type=large", "display_name": "temp", "link": "https://stackoverflow.com/users/2833207/temp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1511851709, "creation_date": 1511850414, "question_id": 47525227, "link": "https://stackoverflow.com/questions/47525227/what-does-urlstring-componentsseperatedbystring-0-mean-in-swift", "title": "What does [urlString componentsSeperatedByString: @&quot;?&quot;] [0]? mean in Swift?", "body": "<p>I'm not entirely sure what</p>\n\n<pre><code>NSString * fileName = [self cachedFileNameForKey:[urlString componentsSeparatedByString:@\"?\"][0]];\n</code></pre>\n\n<p>Means from this code.  I am primely writing in Swift so this notation is a bit confusing for me.  What does the double [ ] notation mean? 3d array?</p>\n\n<pre><code>+ (AVPlayerItem *)localDownloadedVideoFromUrl:(NSURL *)url {\n      NSString * urlString = url.absoluteString;\n      NSString * fileName = [self cachedFileNameForKey:[urlString componentsSeparatedByString:@\"?\"][0]];\n      TWRDownloadManager * manager = [TWRDownloadManager sharedManager];\n      if ([manager fileExistsWithName:fileName]) {\n           AVPlayerItem * item = [AVPlayerItem playerItemWithURL:[NSURL fileURLWithPath:[manager localPathForFile:fileName]]];\n           return item;\n      }\n      return [NSNull null];\n   }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "interactivepopgesture"], "comments": [{"owner": {"reputation": 484, "user_id": 6245319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bbf11219eda78961417940c5072ce37?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsen Hossein pour", "link": "https://stackoverflow.com/users/6245319/mohsen-hossein-pour"}, "edited": false, "score": 0, "creation_date": 1515940986, "post_id": 47525211, "comment_id": 83483827, "body": "remove the app from memory and start again, this time the swipe direction should be ok."}, {"owner": {"reputation": 343, "user_id": 3668376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BBz8j.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3668376/tom"}, "edited": false, "score": 0, "creation_date": 1532642713, "post_id": 47525211, "comment_id": 90063996, "body": "Did you find any solution that works?"}], "answers": [{"tags": [], "owner": {"reputation": 2283, "user_id": 1953178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ew7DC.png?s=128&g=1", "display_name": "Amr Hossam", "link": "https://stackoverflow.com/users/1953178/amr-hossam"}, "is_accepted": false, "score": 2, "last_activity_date": 1516631568, "creation_date": 1516631568, "answer_id": 48383893, "question_id": 47525211, "link": "https://stackoverflow.com/questions/47525211/change-interactivepopgesturerecognizer-direction/48383893#48383893", "title": "Change interactivePopGestureRecognizer direction", "body": "<p>After a lot of trials, the only solution worked for me was this:</p>\n\n<p><strong>Swift 3</strong>:</p>\n\n<pre><code>extension UIViewController {\n    open override func awakeFromNib() {\n        super.awakeFromNib()\n        navigationController?.view.semanticContentAttribute = .forceRightToLeft\n        navigationController?.navigationBar.semanticContentAttribute = .forceRightToLeft\n    }\n}\n</code></pre>\n\n<p>You can exclude the semantic attribute for certain types like:</p>\n\n<pre><code>UIView.appearance(whenContainedInInstancesOf: [UITableViewCell.self]).semanticContentAttribute = .forceLeftToRight\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4310, "user_id": 1138498, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/4Xx60.jpg?s=128&g=1", "display_name": "Yossi Tsafar", "link": "https://stackoverflow.com/users/1138498/yossi-tsafar"}, "is_accepted": false, "score": 2, "last_activity_date": 1601473676, "creation_date": 1601473676, "answer_id": 64138983, "question_id": 47525211, "link": "https://stackoverflow.com/questions/47525211/change-interactivepopgesturerecognizer-direction/64138983#64138983", "title": "Change interactivePopGestureRecognizer direction", "body": "<p>I found the solution for it after searching long time, if someone seeks.</p>\n<p>The previous answer may cause the UI to hang / freeze.</p>\n<p>The reason that the UI freezes / hangs is because the UINavigationController is missing a check for the root view controller when the gesture is executed on the root view. There a few ways to fix that, the following is what I did.</p>\n<p>You should subclass UINavigationController, this is the right way to go and add implement as followed:</p>\n<pre><code>class RTLNavController: UINavigationController, UINavigationControllerDelegate, UIGestureRecognizerDelegate {\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        //  Adding swipe to pop viewController\n        self.interactivePopGestureRecognizer?.isEnabled = true\n        self.interactivePopGestureRecognizer?.delegate = self\n\n        //  UINavigationControllerDelegate\n        self.delegate = self\n    }\n    \n    func navigationController(_ navigationController: UINavigationController, willShow viewController: UIViewController, animated: Bool) {\n        navigationController.view.semanticContentAttribute = UIView.isRightToLeft() ? .forceRightToLeft : .forceLeftToRight\n        navigationController.navigationBar.semanticContentAttribute = UIView.isRightToLeft() ? .forceRightToLeft : .forceLeftToRight\n    }\n\n    //  Checking if the viewController is last, if not disable the gesture\n    func gestureRecognizerShouldBegin(_ gestureRecognizer: UIGestureRecognizer) -&gt; Bool {\n        if self.viewControllers.count &gt; 1 {\n            return true\n        }\n        \n        return false\n    }\n}\n\nextension UIView {\n    static func isRightToLeft() -&gt; Bool {\n        return UIView.appearance().semanticContentAttribute == .forceRightToLeft\n    }\n}\n</code></pre>\n<p><em><strong>Resources:</strong></em></p>\n<p>Original question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/22051350/slide-gesture-with-custom-back-button-freezes-the-root-view-controller\">Slide gesture with custom back button freezes the root view controller</a></li>\n</ul>\n<p>The answer is used for the solution:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/27683249/1138498\">https://stackoverflow.com/a/27683249/1138498</a></li>\n</ul>\n<p>Other solution which may work better (But it's in Objective-C):</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/28364126/1138498\">https://stackoverflow.com/a/28364126/1138498</a></li>\n</ul>\n"}], "owner": {"reputation": 3039, "user_id": 7456236, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IcH8R.jpg?s=128&g=1", "display_name": "Amal T S", "link": "https://stackoverflow.com/users/7456236/amal-t-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1601473676, "creation_date": 1511850331, "question_id": 47525211, "link": "https://stackoverflow.com/questions/47525211/change-interactivepopgesturerecognizer-direction", "title": "Change interactivePopGestureRecognizer direction", "body": "<p>My app supports both English and Arabic. <code>interactivePopGestureRecognizer</code> works properly when using English, ie on swiping from left to right, it pops viewController. But when i am using arabic, I have changed the <code>semanticContentAttribute</code> from right to left. </p>\n\n<pre><code>if([[[NSUserDefaults standardUserDefaults] objectForKey:@\"LanguageCode\"] isEqualToString:@\"en\"])\n    {\n        [[UIView appearance] setSemanticContentAttribute:UISemanticContentAttributeForceLeftToRight];       //View for English language\n    }\n    else\n    {\n        [[UIView appearance] setSemanticContentAttribute:UISemanticContentAttributeForceRightToLeft];       //mirror view for Arabic language\n    }\n</code></pre>\n\n<p>But the <code>interactivePopGestureRecogniser</code> is still from left to right. How can I change the direction of <code>interactivePopGestureRecogniser</code> such that it supports Arabic? I want to swipe from right to left to pop view controller on using Arabic language. </p>\n"}, {"tags": ["objective-c", "uiview", "interface-builder", "subclass", "xib"], "comments": [{"owner": {"reputation": 15725, "user_id": 1825618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/638c0109c34ba57e62ec4ad96702b64f?s=128&d=identicon&r=PG", "display_name": "Bilal", "link": "https://stackoverflow.com/users/1825618/bilal"}, "edited": false, "score": 0, "creation_date": 1511850703, "post_id": 47525189, "comment_id": 82006603, "body": "add screenshot of &#39;BannerHeaderView&#39; xib. who is file owner in your xib and have you connect the file owner view property?"}, {"owner": {"reputation": 718, "user_id": 2204555, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fF5rf.jpg?s=128&g=1", "display_name": "Shayno", "link": "https://stackoverflow.com/users/2204555/shayno"}, "reply_to_user": {"reputation": 15725, "user_id": 1825618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/638c0109c34ba57e62ec4ad96702b64f?s=128&d=identicon&r=PG", "display_name": "Bilal", "link": "https://stackoverflow.com/users/1825618/bilal"}, "edited": false, "score": 0, "creation_date": 1511851554, "post_id": 47525189, "comment_id": 82006905, "body": "Thanks @Bilal Ashwins answer helped me to solve the problem. (I think you were probably thinking of the same solution)."}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 2204555, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fF5rf.jpg?s=128&g=1", "display_name": "Shayno", "link": "https://stackoverflow.com/users/2204555/shayno"}, "edited": false, "score": 0, "creation_date": 1511851451, "post_id": 47525314, "comment_id": 82006871, "body": "Thanks, the problem was that I had not set the custom class of the file owner, but also that I had not connected the outlets for the image view and the label in the Connections Inspector for the file owner. When adding the subviews to the xib, I just clicked and dragged them into the header file for BannerHeaderView. I was not aware that I had to set the custom class, and connect the outlets for the file owner as will as the View itself."}, {"owner": {"reputation": 365, "user_id": 5051255, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4_pTQ0hvYk/AAAAAAAAAAI/AAAAAAAAANU/lSjpnCIItpk/photo.jpg?sz=128", "display_name": "Ashwin Sathawane", "link": "https://stackoverflow.com/users/5051255/ashwin-sathawane"}, "reply_to_user": {"reputation": 718, "user_id": 2204555, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fF5rf.jpg?s=128&g=1", "display_name": "Shayno", "link": "https://stackoverflow.com/users/2204555/shayno"}, "edited": false, "score": 0, "creation_date": 1511851621, "post_id": 47525314, "comment_id": 82006932, "body": "Glad, it helps you!"}], "tags": [], "owner": {"reputation": 365, "user_id": 5051255, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4_pTQ0hvYk/AAAAAAAAAAI/AAAAAAAAANU/lSjpnCIItpk/photo.jpg?sz=128", "display_name": "Ashwin Sathawane", "link": "https://stackoverflow.com/users/5051255/ashwin-sathawane"}, "is_accepted": true, "score": 2, "last_activity_date": 1511850829, "creation_date": 1511850829, "answer_id": 47525314, "question_id": 47525189, "link": "https://stackoverflow.com/questions/47525189/how-to-set-values-of-subclassed-uiview-properties-when-loading-subclass-from-a-x/47525314#47525314", "title": "How to set values of subclassed UIView properties when loading subclass from a xib", "body": "<p>Please set the class BannerHeaderView to File's Owner like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/sLnmH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sLnmH.png\" alt=\"File owner\"></a></p>\n"}], "owner": {"reputation": 718, "user_id": 2204555, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/fF5rf.jpg?s=128&g=1", "display_name": "Shayno", "link": "https://stackoverflow.com/users/2204555/shayno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 47525314, "answer_count": 1, "score": 0, "last_activity_date": 1511850829, "creation_date": 1511850232, "last_edit_date": 1511850766, "question_id": 47525189, "link": "https://stackoverflow.com/questions/47525189/how-to-set-values-of-subclassed-uiview-properties-when-loading-subclass-from-a-x", "title": "How to set values of subclassed UIView properties when loading subclass from a xib", "body": "<p>I have a subclassed UIView called BannerHeaderView, and designed the way I want it layed out in an xib. I have set the xib class to BannerHeaderView. I have a UILabel and a UIImageView which I have connected in IB. </p>\n\n<p>The problem is that when I go to set the values of these subViews after initialising my BannerHeaderView in a ViewController, the label and image view are null. I have tried setting them in init also.</p>\n\n<p>Code for BannerHeaderView.h:</p>\n\n<pre><code>@interface BannerHeaderView : UIView\n@property (strong, nonatomic) IBOutlet UIImageView *bannerImage;\n@property (strong, nonatomic) IBOutlet UILabel *headerLabel;\n\n-(void)setTitle:(NSString *)title;\n-(void)setImageFile:(PFFile *)imageFile;\n\n@end\n</code></pre>\n\n<p>Code for BannerHeaderView.m:</p>\n\n<pre><code>@implementation BannerHeaderView\n@synthesize headerLabel, bannerImage;\n\n-(id)init{\n    self = [super init];\n    if (self) {\n        [self customInit];\n    }\n    return self;\n}\n\n-(id)initWithFrame:(CGRect)frame{\n    self = [super initWithFrame:frame];\n    if (self) {\n        [self customInit];\n    }\n    return self;\n}\n\n-(void)customInit{\n    UIView *contentView = [[[NSBundle mainBundle] loadNibNamed:@\"BannerHeaderView\"\n                                   owner:self\n                                 options:nil] objectAtIndex:0];\n    [self addSubview:contentView];\n    contentView.frame = self.bounds;\n}\n\n-(void)setTitle:(NSString *)title{\n    NSLog(@\"HEADER = %@\", headerLabel);\n    headerLabel.text = title;\n}\n</code></pre>\n\n<p>And I am creating the BannerHeaderImage in my ViewController like so:</p>\n\n<pre><code>bannerHeader = [[BannerHeaderView alloc]initWithFrame:CGRectMake(0, 0, screenWidth, bannerHeight + segmentedHeaderHeight)];\n[bannerHeader setTitle:@\"I AM THE NEW TITLE\"];\n</code></pre>\n\n<p>The log tells me that the headerLabel is null.</p>\n\n<p>Questions:</p>\n\n<p>How do I set the values of these subviews?\nShould I just design the layout of this programatically?</p>\n\n<p>Thanks for your time.</p>\n\n<p>P.S. I have spent hours researching this and I can't find a solution. I did find similar questions on SO but none with suitable answers to enable me to solve my problem...</p>\n"}, {"tags": ["ios", "objective-c", "bluetooth", "health-monitoring", "ios-bluetooth"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 1057805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SMyze.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1057805/joseph"}, "is_accepted": true, "score": 0, "last_activity_date": 1521616773, "creation_date": 1521616773, "answer_id": 49400377, "question_id": 47524750, "link": "https://stackoverflow.com/questions/47524750/notification-is-not-get-triggered-for-ihealth-bg5-bg5connectnot-bg5disconnectno/49400377#49400377", "title": "Notification is not get triggered For iHealth BG5 (BG5ConnectNot,BG5DisConnectNoti)", "body": "<p>I fixed the issue by adding an entry on the info Plist for receiving the notification from the BG5 device.</p>\n\n<pre><code>&lt;key&gt;UISupportedExternalAccessoryProtocols&lt;/key&gt;\n&lt;array&gt;\n    &lt;string&gt;com.jiuan.BGV31&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>\"com.jiuan.BGV31\"\nThis is an External accessory protocols id that iHealth registered with apple.</p>\n\n<p>I got this from demo project they shared with the SDK.</p>\n\n<p>Regards\nJoseph</p>\n"}], "owner": {"reputation": 89, "user_id": 1057805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SMyze.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1057805/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 49400377, "answer_count": 1, "score": 0, "last_activity_date": 1521616773, "creation_date": 1511848024, "question_id": 47524750, "link": "https://stackoverflow.com/questions/47524750/notification-is-not-get-triggered-for-ihealth-bg5-bg5connectnot-bg5disconnectno", "title": "Notification is not get triggered For iHealth BG5 (BG5ConnectNot,BG5DisConnectNoti)", "body": "<p>we are developing a health care iOS application. We are dealing with BLE and non-BLE Bluetooth devices. Similarly, we reading Blood glucose (BG) using iHealth BG device model BG5, it is a non-BLE Bluetooth device.</p>\n\n<p>The iHealth dev team Developed an SDK to read measurements from their devices. A copy of the same they shared with us. So we are using this SDK to fetch the data from the devices. As previously mentioned BG5 device is used to measure the blood glucose. The SDK implemented like the device communication begins from the device did connect notification. </p>\n\n<p>We registered for the same on view did appear method, it got reflected in the NSNoticationCenter object too.</p>\n\n<p>Like this \nBG5DisConnectNoti, 0x1b19d6ff0, 0x10100be70, 1400<br>\nBG5ConnectNoti, 0x1b19d6ff0, 0x10100be70, 1400</p>\n\n<p>and registered like this</p>\n\n<p>define BG5ConnectNoti @\"BG5ConnectNoti\"\ndefine BG5DisConnectNoti @\"BG5DisConnectNoti\"</p>\n\n<p>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(deviceDidConnect:) name:BG5ConnectNoti object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(deviceDidDisconnect:) name:BG5DisConnectNoti object:nil];</p>\n\n<p>I think notification is broadcasted by the SDK. How can we debug to find that SDK is broadcasting it or not?</p>\n\n<p>Any solution to get trigger the did device connected method?</p>\n\n<p>Plese, help to resolve this issue.\nThanks for the support in advance.</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511843503, "post_id": 47523902, "comment_id": 82004219, "body": "You can&#39;t set a limit during the fetch for a referenced entity.  If you only want to display 5 students, just do it at display time"}, {"owner": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511843808, "post_id": 47523902, "comment_id": 82004288, "body": "@Paulw11 Thanks for helping. What about memory consumption? Teachers can have millions of students, why fetch/load all this when only 5 is needed. Is there a way to not fetch a referenced entity?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511843998, "post_id": 47523902, "comment_id": 82004327, "body": "Millions? I would have thought that a teacher would have, perhaps, thousands of students at most over their entire career.  Regardless, by default, Core Data will fetch the related students as faults; the entire record is not fetched until you access the object.  So, if you fetch all of the students but only access the first 5 then only the first 5 will actually be fetched."}, {"owner": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511845067, "post_id": 47523902, "comment_id": 82004652, "body": "@Paulw11 thanks. So none of the students are loaded in memory until used? Because each student object can be large since it also has millions of friends and stuff. You&#39;re saying basically there&#39;s no need to limit this data since Core Data has built-in functionality to help with it?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511845852, "post_id": 47523902, "comment_id": 82004887, "body": "Yes.  Those friends would also be references, and therefore fetched as faults until you actually referenced an attribute of the friend.  Millions.  You keep on using that word.  I do not think it means what you think it means."}, {"owner": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511846208, "post_id": 47523902, "comment_id": 82005008, "body": "@Paulw11 Appreciate the help. One last thing, can you cite the sources so I can give it to the boss and be done with it. I didn&#39;t mean millions, I meant tens and sometimes hundreds of millions. Hopefully that didn&#39;t change your answer."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1511849895, "post_id": 47523902, "comment_id": 82006292, "body": "If you are seriously talking about having hundreds of millions of records then you probably shouldn&#39;t be holding that data on the device; it should be on a server somewhere with the app just querying it over the network.  You can read about the relationship faulting here - <a href=\"https://developer.apple.com/documentation/coredata/nsfetchrequest/1506813-relationshipkeypathsforprefetchi\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/coredata/nsfetchrequest/&hellip;</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1523264191, "post_id": 47523902, "comment_id": 86471742, "body": "<a href=\"https://meta.stackoverflow.com/questions/365751/how-to-review-this-suggested-edit\" title=\"how to review this suggested edit\">meta.stackoverflow.com/questions/365751/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "edited": false, "score": 0, "creation_date": 1511984662, "post_id": 47554461, "comment_id": 82078869, "body": "Thanks for your help, what I really need is all teachers but just return 5 students per teacher. Is there really no way to do this? (aside from fetching all and manually going into each object and pick 5)"}, {"owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "reply_to_user": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "edited": false, "score": 0, "creation_date": 1511996435, "post_id": 47554461, "comment_id": 82084452, "body": "What test would you use to select those 5? What distinguishes the 5 you want from the rest of the group?"}, {"owner": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "edited": false, "score": 0, "creation_date": 1512020184, "post_id": 47554461, "comment_id": 82090746, "body": "Any heuristic works, could be random 5, or latest 5; doesn&#39;t really matter. I just need 5 students per teach and not 5 million. All I want is: &quot;All teachers and each teacher containing no more than 5 students&quot;. Thoughts?"}], "tags": [], "owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "is_accepted": false, "score": 0, "last_activity_date": 1511963626, "creation_date": 1511963626, "answer_id": 47554461, "question_id": 47523902, "link": "https://stackoverflow.com/questions/47523902/core-data-how-to-limit-on-an-attribute/47554461#47554461", "title": "Core Data, how to limit on an attribute?", "body": "<p>To limit the results based on the count of relationship to <code>students</code>, you use a fetch predicate that includes the <code>@count</code> aggregate operator. That would look something like</p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"students.@count &lt; 5\"];\n[fetchRequest setPredicate:predicate];\n</code></pre>\n\n<p>That will filter the results based on the number of objects in the <code>students</code> relationship. A <code>Teacher</code> may have any number of students but this will only get those with less than 5. </p>\n"}], "owner": {"reputation": 9, "user_id": 5781829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9699f4ab73ee41d257bc376291af6b8?s=128&d=identicon&r=PG&f=1", "display_name": "justine wha", "link": "https://stackoverflow.com/users/5781829/justine-wha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1511963626, "creation_date": 1511842453, "question_id": 47523902, "link": "https://stackoverflow.com/questions/47523902/core-data-how-to-limit-on-an-attribute", "title": "Core Data, how to limit on an attribute?", "body": "<p>I have a Teacher entity, and student entity. Teachers can have many students. How do i fetch for all teachers but limit only 5 students per teacher?</p>\n\n<pre><code>entity =[NSEntityDescription entityForName:@\"Teacher\" inManagedObjectContext:context];\n[fetchRequest setEntity:entity];\n[context executeFetchRequest:fetchRequest error:nil];\n</code></pre>\n\n<p>returns all the teachers and all their students. How do I limit/offset an attribute? (Student)</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8299424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1025b3757eebff8523a45826e4dafcf?s=128&d=identicon&r=PG&f=1", "display_name": "\u66f2\u5c0f\u950b", "link": "https://stackoverflow.com/users/8299424/%e6%9b%b2%e5%b0%8f%e9%94%8b"}, "edited": false, "score": 0, "creation_date": 1511844542, "post_id": 47523736, "comment_id": 82004514, "body": "I still do not know what data can be used to distinguish between different libraries."}, {"owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "reply_to_user": {"reputation": 11, "user_id": 8299424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1025b3757eebff8523a45826e4dafcf?s=128&d=identicon&r=PG&f=1", "display_name": "\u66f2\u5c0f\u950b", "link": "https://stackoverflow.com/users/8299424/%e6%9b%b2%e5%b0%8f%e9%94%8b"}, "edited": false, "score": 0, "creation_date": 1511845715, "post_id": 47523736, "comment_id": 82004832, "body": "I&#39;ve added some additional information about dynamically loading classes at runtime."}], "tags": [], "owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "is_accepted": false, "score": 0, "last_activity_date": 1511845687, "last_edit_date": 1511845687, "creation_date": 1511841361, "answer_id": 47523736, "question_id": 47523667, "link": "https://stackoverflow.com/questions/47523667/how-to-distinguish-the-code-from-different-library-in-objective-c/47523736#47523736", "title": "How to distinguish the code from different library in Objective-C?", "body": "<p>The libraries contain a list of the classes that they contain. You can read this list yourself by using the command-line tool <code>otool</code>. The <code>-o</code> switch lets you see the Objective-C section of the library:</p>\n\n<blockquote>\n  <p>The  otool  command displays specified parts of object files or libraries.\n  ...\n  -o     Display the contents of the __OBJC segment used by the Objective-C run-time system.</p>\n</blockquote>\n\n<p>So if you type <code>otool -o /Applications/TextEdit.app/Contents/MacOS/TextEdit</code>, you'll get output like this:</p>\n\n<pre><code>Contents of (__DATA,__objc_classlist) section\n000000010001cf80 0x100021c50\n           isa 0x100021c78\n    superclass 0x0\n         cache 0x0\n        vtable 0x0\n          data 0x10001db80 (struct class_ro_t *)\n                    flags 0x10\n            instanceStart 104\n             instanceSize 288\n                 reserved 0x0\n               ivarLayout 0x0\n                     name 0x10001954f Document\n              baseMethods 0x10001d030 (struct method_list_t *)\n                   entsize 24\n                     count 78\n                      name 0x10001591d makeWindowControllers\n                     types 0x10001979b v16@0:8\n                       imp \n                      name 0x100015fee writableTypesForSaveOperation:ignoreTemporaryState:\n                     types 0x10001987f @28@0:8Q16c24\n                       imp \n</code></pre>\n\n<p>...</p>\n\n<p>When a process asks the OS to open a shared library or plug-in bundle, the OS will read the above data and generate a list of classes that the library contains. It also finds exported functions. You can read about the dynamic linker and loader (dyld). The function <a href=\"https://developer.apple.com/legacy/library/documentation/Darwin/Reference/ManPages/man3/dlopen.3.html\" rel=\"nofollow noreferrer\"><code>dlopen()</code></a> in particular is where this information is read from disk.</p>\n\n<p>Also, your custom button classes in library A and B better be named differently. If they're not, then which one gets used at runtime is undefined. Either could get used. This is due to the fact that Objective-C does not have namespaces, so it looks things up by name at runtime.</p>\n"}], "owner": {"reputation": 11, "user_id": 8299424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1025b3757eebff8523a45826e4dafcf?s=128&d=identicon&r=PG&f=1", "display_name": "\u66f2\u5c0f\u950b", "link": "https://stackoverflow.com/users/8299424/%e6%9b%b2%e5%b0%8f%e9%94%8b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511845687, "creation_date": 1511840844, "last_edit_date": 1511844625, "question_id": 47523667, "link": "https://stackoverflow.com/questions/47523667/how-to-distinguish-the-code-from-different-library-in-objective-c", "title": "How to distinguish the code from different library in Objective-C?", "body": "<p>For example, I use two library(A and B) in my project.There is a custom button class in library A, and the same to B.\nHow can system know which library the button is from?</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5706113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bbd65837b36e33faffa6799211dbf2a?s=128&d=identicon&r=PG&f=1", "display_name": "matth", "link": "https://stackoverflow.com/users/5706113/matth"}, "edited": false, "score": 0, "creation_date": 1511835807, "post_id": 47522752, "comment_id": 82002256, "body": "Hi,I got this Image"}, {"owner": {"reputation": 1, "user_id": 5706113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bbd65837b36e33faffa6799211dbf2a?s=128&d=identicon&r=PG&f=1", "display_name": "matth", "link": "https://stackoverflow.com/users/5706113/matth"}, "edited": false, "score": 0, "creation_date": 1511836500, "post_id": 47522752, "comment_id": 82002410, "body": "it has not the video content"}], "tags": [], "owner": {"reputation": 2064, "user_id": 1326342, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/ncHMr.jpg?s=128&g=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/1326342/allan"}, "is_accepted": false, "score": 0, "last_activity_date": 1511834784, "last_edit_date": 1511834784, "creation_date": 1511834418, "answer_id": 47522752, "question_id": 47522673, "link": "https://stackoverflow.com/questions/47522673/how-to-have-a-screenshot-in-wkwebview-it-has-a-video-playing/47522752#47522752", "title": "How to have a screenShot in wkwebview it has a video playing?", "body": "<p>You can add WebView into the UIView as childview then you can use UIView screenshot to save the webview picture.Like </p>\n\n<pre><code>UIView *tempView = [[UIView alloc] init];\n[tempView addChildView:'Your webview'];\n[tempView takeSnapshot];\n\n- (UIImage *)takeSnapshot:(UIView *)tempView {\n    UIGraphicsBeginImageContextWithOptions(self.tempView.bounds.size, NO, [UIScreen mainScreen].scale);\n\n    [self drawViewHierarchyInRect:self.tempView.bounds afterScreenUpdates:YES];\n\n    // old style [self.layer renderInContext:UIGraphicsGetCurrentContext()];\n\n    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    return image;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5706113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bbd65837b36e33faffa6799211dbf2a?s=128&d=identicon&r=PG&f=1", "display_name": "matth", "link": "https://stackoverflow.com/users/5706113/matth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511835977, "creation_date": 1511833757, "question_id": 47522673, "link": "https://stackoverflow.com/questions/47522673/how-to-have-a-screenshot-in-wkwebview-it-has-a-video-playing", "title": "How to have a screenShot in wkwebview it has a video playing?", "body": "<p>At first I use a wkwebView to laod a web url. This url has a video playing.\nSo I want to have a screenshot like this:\nI had used follow API,but it does not work.</p>\n\n<pre><code> UIGraphicsBeginImageContextWithOptions(webView.scrollView.contentSize, true, [UIScreen mainScreen].scale);\n{\n    CGPoint savedContentOffset = webView.scrollView.contentOffset;\n    CGRect savedFrame = webView.scrollView.frame;\n    webView.scrollView.contentOffset = CGPointZero;\n    webView.scrollView.frame = CGRectMake(0, 0, webView.scrollView.contentSize.width, webView.scrollView.contentSize.height);\n    for (UIView * subView in webView.subviews) {\n        [subView drawViewHierarchyInRect:subView.bounds afterScreenUpdates:YES];\n    }\n    image = UIGraphicsGetImageFromCurrentImageContext();\n    webView.scrollView.contentOffset = savedContentOffset;\n    webView.scrollView.frame = savedFrame;\n}\nUIGraphicsEndImageContext();\n</code></pre>\n\n<p>I got this photo <a href=\"https://i.stack.imgur.com/W0cAn.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["objective-c", "unit-testing", "nsstring"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511838485, "post_id": 47522625, "comment_id": 82002896, "body": "Yeah, you need to target MyClass.m to your test target."}, {"owner": {"reputation": 4253, "user_id": 734036, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b8a00da73633290a94325abb358ffceb?s=128&d=identicon&r=PG", "display_name": "hzxu", "link": "https://stackoverflow.com/users/734036/hzxu"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1511838686, "post_id": 47522625, "comment_id": 82002937, "body": "@rmaddy Thanks for your comments, what I don&#39;t understand is that, although the class isn&#39;t part of test target, my unit test could find the class, but not the <code>extern const NSString</code> defined in the header and the .m file."}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "edited": false, "score": 0, "creation_date": 1511860513, "post_id": 47522625, "comment_id": 82011730, "body": "follow this link might be help: <a href=\"https://stackoverflow.com/questions/7330048/3-questions-about-extern-used-in-an-objective-c-project/7330190#7330190\" title=\"3 questions about extern used in an objective c project\">stackoverflow.com/questions/7330048/&hellip;</a>"}], "owner": {"reputation": 4253, "user_id": 734036, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b8a00da73633290a94325abb358ffceb?s=128&d=identicon&r=PG", "display_name": "hzxu", "link": "https://stackoverflow.com/users/734036/hzxu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1511835784, "creation_date": 1511833364, "last_edit_date": 1511835784, "question_id": 47522625, "link": "https://stackoverflow.com/questions/47522625/extern-nsstring-not-found-by-unit-tests", "title": "Extern NSString not found by unit tests", "body": "<p>I have some constant strings defined as extern const in header of MyClass.h:</p>\n\n<pre><code>extern NSString * const myConstant;\n</code></pre>\n\n<p>and in .m file:</p>\n\n<pre><code>NSString * const myConstant = @\"Some Constant\";\n</code></pre>\n\n<p>And I have a unit test file testing <code>MyClass</code>, it could test the class but when I use the constant in the unit test, the linker has a problem:</p>\n\n<blockquote>\n  <p>Undefined symbols for architecture x86_64:<br>\n  \"_myConstant\", referenced from:\n  ...</p>\n</blockquote>\n\n<p>MyClass.m isn't ticked to be part of the Tests target, but I have the \"bundler loader\" and \"test host\" set up in Build Settings, so I thought I don't need to have MyClass.m part of Tests target, which works fine for the class itself.</p>\n\n<p>Is there anything I did wrong with the <code>extern const</code> that it can't be found by the tests?</p>\n"}, {"tags": ["c#", "ios", "objective-c", "iphone", "unity3d"], "owner": {"reputation": 2069, "user_id": 1269044, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/SaDDJ.png?s=128&g=1", "display_name": "Mansa", "link": "https://stackoverflow.com/users/1269044/mansa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 859, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1511810722, "creation_date": 1511810722, "question_id": 47518375, "link": "https://stackoverflow.com/questions/47518375/unity-controlling-statusbar-on-iphone-x", "title": "Unity Controlling StatusBar on iPhone X", "body": "<p>I have a game, in which all earlier versions of iPhone (3 - 8) is build without the Statusbar, but now with the iPhone X, after altering my UI to fit the iPhone X screen has 2 blank spots in the top. </p>\n\n<p>Instead of leaving them blank, it would be nice to activate the statusbar to fill them out. </p>\n\n<p>This means that I have to do this by script and in runtime. </p>\n\n<p>I have looked at the UnityPlayer.PlayerSettings.statusBarHidden function, but this will not work :-/ </p>\n\n<p>I found this post, but am not able to make it work: <a href=\"https://answers.unity.com/questions/688922/hideshow-status-bar-androidios-on-runtime.html\" rel=\"nofollow noreferrer\">https://answers.unity.com/questions/688922/hideshow-status-bar-androidios-on-runtime.html</a> </p>\n\n<p>Here is what I have tried: </p>\n\n<p>Added this to plugins -> ios in my unity project: </p>\n\n<p>StatusBar.mm</p>\n\n<pre><code> #import \"StatusBar.h\"\n\n @implementation StatusBar\n + (void) hideStatusBar: (BOOL)hide\n {\n     [[UIApplication sharedApplication] setStatusBarHidden: hide\n                                             withAnimation: UIStatusBarAnimationSlide];\n     [UnityGetGLViewController() setNeedsStatusBarAppearanceUpdate];\n }\n @end\n\n extern \"C\"\n {\n     void StatusBarSwitcherPressed(bool isHide)\n     {\n         [StatusBar hideStatusBar: isHide];\n     }\n }\n</code></pre>\n\n<p>StatusBar.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n @interface StatusBar : NSObject\n {\n     // Keeps track of available services\n     NSMutableArray *services;\n\n     // Keeps track of search status\n     NSString* status;\n     BOOL searching;\n }\n @end\n</code></pre>\n\n<p>I then added this c# file inside the plugin folder:</p>\n\n<pre><code> using UnityEngine;\n using System.Collections;\n using System.Runtime.InteropServices;\n\n public class StatusBarCtrl {\n\n     [DllImport (\"__Internal\")]\n     private static extern void StatusBarSwitcherPressed (bool isHide);\n\n     public static void StausBarHide(bool isHide)\n     {\n         // Call plugin only when running on real device\n         if (Application.platform != RuntimePlatform.OSXEditor)\n             StatusBarSwitcherPressed(isHide);\n     }\n\n }\n</code></pre>\n\n<p>And then calls this when I have figured out if its an iPhone X or not:</p>\n\n<pre><code>StatusBarCtrl.StausBarHide (false);\n</code></pre>\n\n<p>Hope this makes sense. When running this, nothing happens whether I set it to true or false :-/ </p>\n\n<p>Any help is appreciated and thanks in advance :-)</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "comments": [{"owner": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 1, "creation_date": 1511886203, "post_id": 47516766, "comment_id": 82029429, "body": "Can you enable SQLDebug and post the console output.  It should show some detail about the SQL requests being processed to fulfil the batch delete."}, {"owner": {"reputation": 13702, "user_id": 42404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cce9d0b6ace7cf2bbb43d8031bdf5717?s=128&d=identicon&r=PG", "display_name": "frankodwyer", "link": "https://stackoverflow.com/users/42404/frankodwyer"}, "edited": false, "score": 0, "creation_date": 1511894802, "post_id": 47516766, "comment_id": 82034456, "body": "Do you know roughly how large is your database and roughly how many objects you are deleting?  Also is your batch delete request executing on the main thread? (I guess so, if it is freezing the UI)"}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "reply_to_user": {"reputation": 13702, "user_id": 42404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cce9d0b6ace7cf2bbb43d8031bdf5717?s=128&d=identicon&r=PG", "display_name": "frankodwyer", "link": "https://stackoverflow.com/users/42404/frankodwyer"}, "edited": false, "score": 0, "creation_date": 1512367704, "post_id": 47516766, "comment_id": 82212503, "body": "@frankodwyer I had code on main queue earlier, then i moved it a separate background queue. So that is resolved but my concern as NSBatchDeleteRequest taking sometime to delete even request to delete single entity. The entity has has a relationship object with nullify rule. Even if I have a single relationship obj then as well its taking time."}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "reply_to_user": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1512377135, "post_id": 47516766, "comment_id": 82216529, "body": "@pbasdf Cannot post console log of DB as I cannot share data info."}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "reply_to_user": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1512378289, "post_id": 47516766, "comment_id": 82217165, "body": "@pbasdf I can just say I have couple of relationships w.r.t entity object I am using here. But even if I have just a single relationship object in only one of relationship also its taking time.  But I would like to know in general how does NSBathcDeleteRequest behave ?"}, {"owner": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1512379018, "post_id": 47516766, "comment_id": 82217620, "body": "The point of the batchDeleteRequest is that it operates directly at the database level, deleting records directly from the relevant SQLite table.  Before NSBatchDeleteRequest, to delete many objects you had to fetch them all and then delete each one.  The reason for this was so that CD could update all the relevant relationships, to ensure you weren\u2019t left with referential integrity problems.  To achieve the same, NSBatchDeleteRequests set up SQLite triggers which nullify the references to any deleted objects....."}, {"owner": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1512379185, "post_id": 47516766, "comment_id": 82217691, "body": ".... It would be interesting to know whether the time is spent on the main delete request (and associated table search) or the subsequent trigger processing.  Incidentally, is reportId indexed, to speed up the main table search?"}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "reply_to_user": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1512383277, "post_id": 47516766, "comment_id": 82220178, "body": "@pbasdf Any references on debugging using sqlite would help."}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "reply_to_user": {"reputation": 13702, "user_id": 42404, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cce9d0b6ace7cf2bbb43d8031bdf5717?s=128&d=identicon&r=PG", "display_name": "frankodwyer", "link": "https://stackoverflow.com/users/42404/frankodwyer"}, "edited": false, "score": 0, "creation_date": 1512550988, "post_id": 47516766, "comment_id": 82299501, "body": "@frankodwyer I did check console log with debug flag on,  I see CoreData: annotation: sql connection fetch time: 0.0309s CoreData: annotation: total fetch execution time: 0.0311s for 0 rows. multiple times with diff execution times.. there is a relationship from Report managed object I am trying to delete. this RelationShip object has 3-4 relationships inturn.. so I think its trying to fetch all those relationships in turn.. How can this be avoided ?"}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "reply_to_user": {"reputation": 20367, "user_id": 3985749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjAXA.jpg?s=128&g=1", "display_name": "pbasdf", "link": "https://stackoverflow.com/users/3985749/pbasdf"}, "edited": false, "score": 0, "creation_date": 1512551038, "post_id": 47516766, "comment_id": 82299535, "body": "@pbasdf any solns  w.r.t comment above ?"}], "answers": [{"tags": [], "owner": {"reputation": 1744, "user_id": 8346251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rME4.png?s=128&g=1", "display_name": "Kevinosaurio", "link": "https://stackoverflow.com/users/8346251/kevinosaurio"}, "is_accepted": false, "score": 0, "last_activity_date": 1511807745, "creation_date": 1511807745, "answer_id": 47517621, "question_id": 47516766, "link": "https://stackoverflow.com/questions/47516766/ui-freezes-on-executing-nsbatchdeleterequest/47517621#47517621", "title": "UI freezes on executing NSBatchDeleteRequest", "body": "<p>You can create an Asynchronous Fetch Request, the synchronous can freeze the UI. This link <a href=\"https://code.tutsplus.com/tutorials/ios-8-core-data-and-asynchronous-fetching--cms-22241\" rel=\"nofollow noreferrer\">Asynchronous Fetch Request</a> is a tutorial in objective C that explain how. </p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "edited": false, "score": 0, "creation_date": 1511857945, "post_id": 47524791, "comment_id": 82010104, "body": "Thanks for the information but I wanted to have a solution or suggestion why the batch delete is taking so much time. Want to know if I am doing anything wrong for batch delete to take so much time.. Asynchronous fetch request would be last approach with a indicator for user about deletion in progress. But would like to know if any approach to prevent BatchDeleteRequest to take so much time"}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "reply_to_user": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "edited": false, "score": 0, "creation_date": 1511864788, "post_id": 47524791, "comment_id": 82014747, "body": "using this line code [self.managedObjectContext refreshAllObjects]; hope will help you!"}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "edited": false, "score": 0, "creation_date": 1511865169, "post_id": 47524791, "comment_id": 82015022, "body": "refresh before execution of batchdeleterequest ?"}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "reply_to_user": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "edited": false, "score": 0, "creation_date": 1511865363, "post_id": 47524791, "comment_id": 82015145, "body": "Yes use before execution of batchdeleterequest"}, {"owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "edited": false, "score": 0, "creation_date": 1511869926, "post_id": 47524791, "comment_id": 82018145, "body": "You mentioned &quot;I ended up adding the following to take care of the context after the batch delete.&quot; So do you mean to add code you mentioned above after calling execute:(BatchRequest) ? If so then issue I am facing not after calling execute:(BatchRequest) but issue is with execute:(BatchRequest) itself taking a lot of time."}], "tags": [], "owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "is_accepted": false, "score": 1, "last_activity_date": 1511864759, "last_edit_date": 1511864759, "creation_date": 1511848216, "answer_id": 47524791, "question_id": 47516766, "link": "https://stackoverflow.com/questions/47516766/ui-freezes-on-executing-nsbatchdeleterequest/47524791#47524791", "title": "UI freezes on executing NSBatchDeleteRequest", "body": "<p>Hope will helpful to you following code!!</p>\n\n<p>I ended up adding the following to take care of the context after the batch delete.</p>\n\n<pre><code>[self.managedObjectContext refreshAllObjects];\n\n// Initialize Fetch Request\nNSFetchRequest *fetchRequest = [Report fetchRequest];\n\n// Add Sort Descriptors\nfetchRequest.predicate = [NSPredicate predicateWithFormat: @\"reportId IN %@\",self.selectedRowsInEditMode];\n\n// Initialize Asynchronous Fetch Request\nNSAsynchronousFetchRequest *asynchronousFetchRequest = [[NSAsynchronousFetchRequest alloc] initWithFetchRequest:fetchRequest completionBlock:^(NSAsynchronousFetchResult *result) {\n    dispatch_async(dispatch_get_main_queue(), ^{\n        // Process Asynchronous Fetch Result\n        [weakSelf processAsynchronousFetchResult:result];\n    });\n}];\n\n// Execute Asynchronous Fetch Request\n[self.managedObjectContext performBlock:^{\n    // Execute Asynchronous Fetch Request\n    NSError *asynchronousFetchRequestError = nil;\n    NSAsynchronousFetchResult *asynchronousFetchResult = (NSAsynchronousFetchResult *)[weakSelf.managedObjectContext executeRequest:asynchronousFetchRequest error:&amp;asynchronousFetchRequestError];\n\n    if (asynchronousFetchRequestError) {\n        NSLog(@\"Unable to execute asynchronous fetch result.\");\n        NSLog(@\"%@, %@\", asynchronousFetchRequestError, asynchronousFetchRequestError.localizedDescription);\n    }\n}];\n</code></pre>\n\n<p>Or using below you use the global queue to run things in the background and the main queue to update the UI</p>\n\n<pre><code>dispatch_async(dispatch_get_global_queue( DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^(void){\n    //Background Thread\n    dispatch_async(dispatch_get_main_queue(), ^(void){\n        //Run UI Updates\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2713296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf3b26248fda82b872b553f466b8371?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikanth Ananth", "link": "https://stackoverflow.com/users/2713296/shrikanth-ananth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1511864759, "creation_date": 1511804242, "last_edit_date": 1511805457, "question_id": 47516766, "link": "https://stackoverflow.com/questions/47516766/ui-freezes-on-executing-nsbatchdeleterequest", "title": "UI freezes on executing NSBatchDeleteRequest", "body": "<pre><code>NSFetchRequest *request = [Report fetchRequest];\nrequest.predicate = [NSPredicate predicateWithFormat: @\"reportId IN %@\",self.selectedRowsInEditMode];\n\nNSBatchDeleteRequest *deleteDetailsRequest = [[NSBatchDeleteRequest alloc] initWithFetchRequest:request];\ndeleteDetailsRequest.resultType = NSBatchDeleteResultTypeStatusOnly;\n[self.managedObjectContext executeRequest:deleteDetailsRequest error:&amp;errorExecuteRequest];\n\nif (!errorExecuteRequest) {\n    NSError *deleteSaveError;\n    BOOL saveSuccessful = [self.managedObjectContext save:&amp;deleteSaveError];\n    [self.tableView removeLoadingActivityView];\n</code></pre>\n\n<p>This is the code where in I am trying to delete multiple report managed objects at once but when executeRequest is called the UI freezes for quite a while and then deletes. But NSBatchDeleteRequest is supposed to be very quick in terms of deletion. I tried multiple modifications to get it working but with no success.\nI am not sure what I am doing wrong here. So could anyone pls suggest to get it working without UI glitch.</p>\n"}, {"tags": ["objective-c", "nsurlsessiondownloadtask"], "comments": [{"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 0, "creation_date": 1511802352, "post_id": 47515873, "comment_id": 81988362, "body": "And your question is...?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1511805087, "post_id": 47515873, "comment_id": 81989911, "body": "As an aside, the instantiation of the background session doesn&#39;t really belong in <code>downloadWithURL:pathArr:mediaInfo:</code>. What if you try to download two files? You don&#39;t want two background sessions instantiated. Also, completely unrelated, it seems imprudent to use <code>[NSOperationQueue currentQueue]</code> for the delegate queue (as you don&#39;t know from which queue you called this). What if you happened to call this from some concurrent queue? It is probably safer to leave this <code>nil</code> and let it use its own serial queue for the background session&#39;s delegate calls."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1511805853, "post_id": 47515873, "comment_id": 81990370, "body": "It is a bit worrying that <code>didFinishDownloadingToURL</code> is referencing <code>finalUrlArr</code>. Are you storing this <code>finalUrlArr</code> in persistent storage and then reloading it everytime the app restarts? Remember that the app may have been terminated and restarted by the time the delegate methods are called. Also, you appear to be downloading one file at a time, but you&#39;d often just go ahead and start all the downloads for the background session rather than having your app re-awakened at the end of each download to start the next download. That&#39;s more efficient (both re battery power and speed)."}, {"owner": {"reputation": 31, "user_id": 8502048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560aa520460121c71ee6862bfe81c4c0?s=128&d=identicon&r=PG&f=1", "display_name": "nsingh", "link": "https://stackoverflow.com/users/8502048/nsingh"}, "edited": false, "score": 0, "creation_date": 1511807167, "post_id": 47515873, "comment_id": 81991007, "body": "@prokhorov -  Expected behavior: is that the download should continue when the app is pushed into background(press Home button)                                                           Actual : The download works fine as far the app is in the foreground but the download stops after press home button. I am able to pass the issue by using beginBackgroundTaskWithExpirationHandler but as per apple guideline we don&#39;t need it to support the download."}, {"owner": {"reputation": 31, "user_id": 8502048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560aa520460121c71ee6862bfe81c4c0?s=128&d=identicon&r=PG&f=1", "display_name": "nsingh", "link": "https://stackoverflow.com/users/8502048/nsingh"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1511807294, "post_id": 47515873, "comment_id": 81991073, "body": "@Rob - As you suggested I have tried setting the NSOperationQueue to nil. But that didn&#39;t help either."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1511807468, "post_id": 47515873, "comment_id": 81991145, "body": "No, that is certainly not the source of the problem, but merely an aside. I&#39;m more concerned about your implementation of <code>handleEventsForBackgroundURLSession</code> and <code>URLSessionDidFinishEventsForBackgroundURLSession</code>. If you haven&#39;t done that, when the download finishes, you won&#39;t be informed of the completion. The delegate queue (and other observations I made) are secondary to this basic &quot;app restarted because download finished&quot; process."}], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1511809184, "last_edit_date": 1511809184, "creation_date": 1511808132, "answer_id": 47517722, "question_id": 47515873, "link": "https://stackoverflow.com/questions/47515873/nsurlsessionconfiguration-backgroundsessionconfigurationwithidentifier-downloa/47517722#47517722", "title": "NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier : Download stops after the app is pushed into background", "body": "<p>Have you implemented <a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1622941-application?language=objc\" rel=\"nofollow noreferrer\"><code>application:handleEventsForBackgroundURLSession:completionHa\u200c\u200bndler:</code></a> in your app delegate? That should save the completion handler and start background session with the specified identifier.</p>\n\n<p>If you don't implement that method, your app will not be informed if the download finishes after the app has been suspended (or subsequently terminated in the course of normal app lifecycle). As a result, it might look like the download didn't finish, even though it did.</p>\n\n<p>(As an aside, note that if the user force-quits the app, that not only terminates the download, but obviously won't inform your app that the download was terminated until the user manually restarts the app at some later point and your app re-instantiates the background session. This is a second-order concern that you might not worry about until you get the main background processing working, but it's something to be aware of.)</p>\n\n<p>Also, your <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiondelegate/1617185-urlsessiondidfinisheventsforback?language=objc\" rel=\"nofollow noreferrer\"><code>URLSessionDidFinishEventsForBackgroundURLSession:</code></a> must call that saved completion handler (and dispatch this to the main queue).</p>\n\n<hr>\n\n<p>Also, your design looks like it will issue only one request at a time. (I'd advise against that, but let's just assume it is as you've outlined above.) So, let's imagine that you have issued the first request and the app is suspended before it's done. Then, when the download is done, the app is restarted in the background and <code>handleEventsForBackgroundURLSession</code> is called. Let's assume you fixed that to make sure it restarts the background session so that the various delegate methods can be called. Make sure that when you issue that second request for the second download that you use the existing background session, not instantiating a new one. You can have only one background session per identifier. Bottom line, the instantiation of the background session should be decoupled from <code>downloadWithURL:pathArr:mediaInfo:</code>. Only instantiate a background session once.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 5792077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44cfec6a1454ccd377ec6cc48616580e?s=128&d=identicon&r=PG&f=1", "display_name": "Gerardo", "link": "https://stackoverflow.com/users/5792077/gerardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1532366438, "creation_date": 1532366438, "answer_id": 51484195, "question_id": 47515873, "link": "https://stackoverflow.com/questions/47515873/nsurlsessionconfiguration-backgroundsessionconfigurationwithidentifier-downloa/51484195#51484195", "title": "NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier : Download stops after the app is pushed into background", "body": "<p>Add \"Required background modes\" in your .plist</p>\n\n<p>There, add the item \"App downloads content from the network\"</p>\n"}], "owner": {"reputation": 31, "user_id": 8502048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560aa520460121c71ee6862bfe81c4c0?s=128&d=identicon&r=PG&f=1", "display_name": "nsingh", "link": "https://stackoverflow.com/users/8502048/nsingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1532366438, "creation_date": 1511801058, "last_edit_date": 1511801776, "question_id": 47515873, "link": "https://stackoverflow.com/questions/47515873/nsurlsessionconfiguration-backgroundsessionconfigurationwithidentifier-downloa", "title": "NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier : Download stops after the app is pushed into background", "body": "<ol>\n<li><p>This method sets the background object. </p>\n\n<pre><code>- (void) downloadWithURL: (NSMutableArray *)urlArray\n             pathArr: (NSMutableArray *)pathArr\n           mediaInfo: (MediaInfo *)mInfo\n{\n    bgDownloadMediaInfo = mInfo;\n    reqUrlCount = urlArray.count;\n    dict = [NSDictionary dictionaryWithObjects:pathArr\n                                   forKeys:urlArray];\n    mutableDictionary = [dict mutableCopy];\n    backgroundConfigurationObject = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:@\"XXXXX\"];\n    backgroundConfigurationObject.sessionSendsLaunchEvents = YES;\n    backgroundConfigurationObject.discretionary = YES;\n    backgroundSession = [NSURLSession sessionWithConfiguration: backgroundConfigurationObject\n                                                  delegate: self delegateQueue: [NSOperationQueue currentQueue]];\n    self.requestUrl = [urlArray objectAtIndex:0];\n    download = [backgroundSession downloadTaskWithURL:self.requestUrl];\n    [download resume];\n\n}\n</code></pre></li>\n<li><p>These are the completion handlers.</p>\n\n<pre><code>#pragma Mark - NSURLSessionDownloadDelegate\n\n- (void)URLSession: (NSURLSession *)session\n      downloadTask: (NSURLSessionDownloadTask *)downloadTask\ndidFinishDownloadingToURL: (NSURL *)location\n{\n  LogDebug(@\"Download complete for request url (%@)\", downloadTask.currentRequest.URL);\n  NSString *temp = [mutableDictionary objectForKey:downloadTask.currentRequest.URL];\n  NSString *localPath = [NSString stringWithFormat: @\"%@\",temp];\n  NSFileManager *fileManager = [NSFileManager defaultManager];\n  NSURL *destinationURL = [NSURL fileURLWithPath: localPath];\n  NSError *error = nil;\n  [fileManager moveItemAtURL:location toURL:destinationURL error:&amp;error];\n  LogDebug(@\"Moving download file at url : (%@) to : (%@)\", downloadTask.currentRequest.URL, destinationURL);\n  reqUrlCount --;\n  downloadSegment ++;\n  // Handover remaining download requests to the OS\n  if ([finalUrlArr count] != 0) {\n    // remove the request from the array that got downloaded.\n    [finalUrlArr removeObjectAtIndex:0];\n    [finalPathArr removeObjectAtIndex:0];\n    if ([finalUrlArr count] &gt; 0) {\n      // proceed with the next request on top.\n      self.requestUrl = [finalUrlArr objectAtIndex:0];\n      download = [backgroundSession downloadTaskWithURL:self.requestUrl];\n      [download resume];\n    }\n  }\n  if ([adsArray count] &gt; 0) {\n    adsArrayCount --;\n    // delegate back once all the ADs segments have been downloaded.\n    if (adsArrayCount == 0) {\n      for (int i = 0; i &lt; [adsArray count]; i++) {\n        NSArray *ads = [adsArray objectAtIndex: i];\n        for (int j = 0; j &lt; [ads count]; j++) {\n          MediaInfo *ad = [ads objectAtIndex: j];\n          [self setDownloadComplete: ad];\n          // skip sending downloadFinish delegate if the media is marked as downloadDone\n          if (!ad.downloadDone) {\n            [delegate MediaDownloadDidFinish: ad.mediaId error: NO];\n          }\n          ad.downloadDone = YES;\n        }\n      }\n      downloadSegment = 0;\n    }\n  }\n\n  // delegate back once all the main media segments have been downloaded.\n  if (reqUrlCount == 0) {\n    [self setDownloadComplete: mediaInfo];\n    state = DownloadState_Done;\n    // skip sending downloadFinish delegate if the media is marked as downloadDone\n    if (!bgDownloadMediaInfo.downloadDone) {\n      [delegate MediaDownloadDidFinish: bgDownloadMediaInfo.mediaId error: NO];\n    }\n    bgDownloadMediaInfo.downloadDone = YES;\n    [urlArr release];\n    [pathArr release];\n    [finalUrlArr release];\n    [finalPathArr release];\n    // invalidate the NSURL session once complete\n    [backgroundSession invalidateAndCancel];\n  }\n}\n\n\n\n- (void)URLSession: (NSURLSession *)session\n              task: (NSURLSessionTask *)task\ndidCompleteWithError: (NSError *)error\n{\n  if (error) {\n    NSLog(@\"Failure to download request url (%@) with error (%@)\", task.originalRequest.URL, error);\n  }\n}\n\n- (void)URLSession:(NSURLSession *)session\n      downloadTask:(NSURLSessionDownloadTask *)downloadTask\n      didWriteData:(int64_t)bytesWritten\n totalBytesWritten:(int64_t)totalBytesWritten\ntotalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite\n{\n  // save the total downloaded size\n  [self downloaderDidReceiveData:bytesWritten];\n  // enable the log only for debugging purpose.\n  // LogDebug(@\"totalBytesExpectedToWrite %llu, totalBytesWritten %llu, %@\", totalBytesExpectedToWrite, totalBytesWritten, downloadTask.currentRequest.URL);\n}\n</code></pre></li>\n<li><p>With out this code(beginBackgroundTaskWithExpirationHandler) the download stops when the app is pushed into background. </p>\n\n<pre><code>//  AppDelegate_Phone.m\n- (void)applicationDidEnterBackground: (UIApplication *)application\n{\n    NSLog(@\"applicationDidEnterBackground\");\n    UIApplication  *app = [UIApplication sharedApplication];\n    UIBackgroundTaskIdentifier bgTask;\n\n    bgTask = [app beginBackgroundTaskWithExpirationHandler:^{\n        [app endBackgroundTask:bgTask];\n    }];\n}\n</code></pre></li>\n</ol>\n"}, {"tags": ["objective-c", "macos", "osxfuse"], "comments": [{"owner": {"reputation": 3848, "user_id": 149111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8002215f46e37b6281be9085c20bcb8?s=128&d=identicon&r=PG", "display_name": "Wez Furlong", "link": "https://stackoverflow.com/users/149111/wez-furlong"}, "edited": false, "score": 0, "creation_date": 1600821695, "post_id": 47515372, "comment_id": 113207248, "body": "I&#39;m in basically the same situation; I have an osxfuse filesystem set to case insensitive mode and both getattrlist and pathconf indicate that it is case insensitive, but the NSURL check does not.  Did you ever figure out how to get it to return the correct result?"}], "answers": [{"comments": [{"owner": {"reputation": 2276, "user_id": 1339255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/37b30cf07c09ffb7695d7c102f5af8b9?s=128&d=identicon&r=PG", "display_name": "trungdinhtrong", "link": "https://stackoverflow.com/users/1339255/trungdinhtrong"}, "edited": false, "score": 1, "creation_date": 1511880403, "post_id": 47521946, "comment_id": 82025330, "body": "Ah, sorry for the typo. I just edited the code. After copy-pasting I did some re-formatting of the code and accidentally deleted the slash. The first and second snippet &quot;works&quot; in the sense that it did run and reported that my volume was case sensitive. I just dont know how to make it so that my volume register with OSX as case insensitive."}], "tags": [], "owner": {"reputation": 2570, "user_id": 4142266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rMCN5.png?s=128&g=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/4142266/mschmidt"}, "is_accepted": false, "score": 0, "last_activity_date": 1511828047, "creation_date": 1511828047, "answer_id": 47521946, "question_id": 47515372, "link": "https://stackoverflow.com/questions/47515372/report-case-insensitivity-in-osx-using-osxfuse/47521946#47521946", "title": "Report case insensitivity in OSX (using OSXFuse)", "body": "<p>Are you sure your path is correct in the first code snippet, i.e. the missing slash at the beginning?</p>\n\n<pre><code>NSString *path = @\"Volumes/MyVolume\";\n</code></pre>\n\n<p>Otherwise than that, this code seems to work for me.</p>\n"}], "owner": {"reputation": 2276, "user_id": 1339255, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/37b30cf07c09ffb7695d7c102f5af8b9?s=128&d=identicon&r=PG", "display_name": "trungdinhtrong", "link": "https://stackoverflow.com/users/1339255/trungdinhtrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1512052048, "creation_date": 1511799491, "last_edit_date": 1511880200, "question_id": 47515372, "link": "https://stackoverflow.com/questions/47515372/report-case-insensitivity-in-osx-using-osxfuse", "title": "Report case insensitivity in OSX (using OSXFuse)", "body": "<p>I created a case-insensitive file system in OSX (using OSXFuse). But when I tried to check the case insensitiveness of my volume, using <code>NSURLVolumeSupportsCaseSensitiveNamesKey</code>, it reported it as case sensitive. My question is, what do I need to do on OSX so that when I check the case sensitivity using <code>NSURLVolumeSupportsCaseSensitiveNamesKey</code>, it will correctly report my file system as case insensitive?</p>\n\n<p>Bellow are more details on what I did: </p>\n\n<p>This is how I used <code>NSURLVolumeSupportsCaseSensitiveNamesKey</code> to check for case insensitivity:</p>\n\n<pre><code>NSString *path = @\"/Volumes/MyVolume\";\nNSURL *file_system = [NSURL fileURLWithPath:path isDirectory:YES];\nNSNumber *case_sensitive_fs;\nBOOL has_case_sensitive_resource = [file_system getResourceValue:&amp;case_sensitive_fs\n                                                          forKey:NSURLVolumeSupportsCaseSensitiveNamesKey\n                                                           error:NULL];\nif (!has_case_sensitive_resource) {\n  LOG(\"Has no case sensitive resource\");\n} else {\n  if ([case_sensitive_fs intValue] ==1) {\n    LOG(\"This is case sensitive file system\");\n  } else {\n    LOG(\"This is case insensitive file system\");\n  }\n}\n</code></pre>\n\n<p>Note that when I used <code>getattrlist</code>, it correctly reported that my file system was case insensitive:</p>\n\n<pre><code>    typedef struct volume_capabilities_result {\n      u_int32_t length;\n      vol_capabilities_attr_t volume_capability;\n    } VolumeCapabilitiesResult;\n//...\n    struct attrlist list = { 0 };\n    list.bitmapcount = ATTR_BIT_MAP_COUNT;\n    list.reserved = 0;\n    list.volattr = ATTR_VOL_INFO | ATTR_VOL_CAPABILITIES;\n\n    VolumeCapabilitiesResult volumeCapResult;\n    int result = getattrlist(\"/Volumes/MyVolume\", &amp;list, &amp;volumeCapResult, sizeof(volumeCapResult), 0);\n    if (result != -1 &amp;&amp;\n        (volumeCapResult.volume_capability.valid[VOL_CAPABILITIES_FORMAT] &amp; VOL_CAP_FMT_CASE_SENSITIVE) != 0) {\n      bool case_senstive = (volumeCapResult.volume_capability.capabilities[VOL_CAPABILITIES_FORMAT] &amp;\n                                    VOL_CAP_FMT_CASE_SENSITIVE) != 0;\n      if (case_senstive) {\n        LOG(\"getattrlist said we are case sensitive\");\n      } else {\n        LOG(\"getattrlist said we are case insensitive\");\n      }\n    }\n</code></pre>\n\n<p>I believe <code>getattrlist</code> reported it correctly because I used osxfuse to implement the  fuse_operations.init as follow:</p>\n\n<pre><code>void fuse_init(void* user_data, struct fuse_conn_info* conn) {\n  conn-&gt;want |= FUSE_CAP_CASE_INSENSITIVE;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 2570, "user_id": 4142266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rMCN5.png?s=128&g=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/4142266/mschmidt"}, "edited": false, "score": 0, "creation_date": 1511828630, "post_id": 47514418, "comment_id": 82000504, "body": "Two things: 1.) Have you tried other animation styles than the automatic one for <code>insertRowsAtIndexPaths :</code>? 2.) The documentation for <code>performBatchUpdates:completion:</code> explicitly mentions that it performs a <b>single</b> animation when inserting <b>multiple</b> items."}, {"owner": {"reputation": 931, "user_id": 4064503, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bnHuv.jpg?s=128&g=1", "display_name": "Zuzana Paulis", "link": "https://stackoverflow.com/users/4064503/zuzana-paulis"}, "reply_to_user": {"reputation": 2570, "user_id": 4142266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rMCN5.png?s=128&g=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/4142266/mschmidt"}, "edited": false, "score": 0, "creation_date": 1511862730, "post_id": 47514418, "comment_id": 82013229, "body": "1) I have tried them all. 2) To replicate the error I have created completely empty project with just one button which is adding cells in front of the table. In my project cell is created when response from server is made, all the cells are created and then added in the single insertRowsAtIndexPaths."}], "owner": {"reputation": 931, "user_id": 4064503, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bnHuv.jpg?s=128&g=1", "display_name": "Zuzana Paulis", "link": "https://stackoverflow.com/users/4064503/zuzana-paulis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511796403, "creation_date": 1511796403, "question_id": 47514418, "link": "https://stackoverflow.com/questions/47514418/uitableview-insertrowsatindexpaths-error", "title": "UITableView insertRowsAtIndexPaths error", "body": "<p>I have simple UITableView added into Storyboard like so:</p>\n\n<pre><code>UITableViewController * tvc = [[UITableViewController alloc] initWithStyle:UITableViewStylePlain];\n\ntvc.tableView.separatorStyle = UITableViewCellSeparatorStyleSingleLine;\ntvc.tableView.tableFooterView = [UIView viewWithClearBackgroundColor];\n\ntvc.tableView.delegate = self;\ntvc.tableView.dataSource = self;\n\ntvc.tableView.estimatedRowHeight = 0;\ntvc.tableView.estimatedSectionHeaderHeight = 0;\ntvc.tableView.estimatedSectionFooterHeight = 0;\n\nself.tableView = tvc.tableView;\n[self containerAddChildViewController:tvc toContainerView:self.tableViewContainerView useAutolayout:YES];\n</code></pre>\n\n<p>I want to add items to front of the table and I do it like this:</p>\n\n<pre><code>// Here I create cells, add them to section and calculate indexPaths\n// which are stored in addedItems property\n\n[self.tableView beginUpdates];\n\n[self.tableView insertRowsAtIndexPaths:addedItems withRowAnimation:UITableViewRowAnimationAutomatic];\n\n[self.tableView endUpdates];\n</code></pre>\n\n<p>When I am scrolled at the top of the table, everything works as expected as you can see on the picture here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vgE55.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgE55.gif\" alt=\"Add cells to front\"></a></p>\n\n<p>But if I am scrolled down, weird glitch appears:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q7xxg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q7xxg.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried to add <code>CATransaction</code> and also set <code>automaticallyAdjustsScrollViewInsets</code> to NO.</p>\n"}, {"tags": ["ios", "objective-c", "avplayer", "avplayerviewcontroller"], "comments": [{"owner": {"reputation": 47127, "user_id": 3151675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VBGuG.png?s=128&g=1", "display_name": "Tam&#225;s Sengel", "link": "https://stackoverflow.com/users/3151675/tam%c3%a1s-sengel"}, "edited": false, "score": 0, "creation_date": 1511813628, "post_id": 47514282, "comment_id": 81994311, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37249146/ios-avplayer-slow-down\">iOS AVPlayer slow down</a>"}], "answers": [{"tags": [], "owner": {"reputation": 246, "user_id": 5101375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13495526a42f69ee80f177d4dced27cc?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Williams", "link": "https://stackoverflow.com/users/5101375/daniel-williams"}, "is_accepted": false, "score": 2, "last_activity_date": 1515271319, "creation_date": 1515271319, "answer_id": 48131700, "question_id": 47514282, "link": "https://stackoverflow.com/questions/47514282/ios-avplayer-cant-play-240-fps-video/48131700#48131700", "title": "iOS AVPlayer cant play 240 fps video", "body": "<p>It's a bit annoying, but I believe you'll need to re-create the video in an <code>AVComposition</code> if you don't want to lose quality. I'd love to know if there is another way, but this is what I've come up with. You can technically export the video via AVAssetExportSession, but using a PassThrough quality will result in the same video file, which won't be slow motion- you'll need to transcode it, which loses quality (AFAIK. See <a href=\"https://stackoverflow.com/questions/36961891/issue-playing-slow-mo-avasset-in-avplayer\">Issue playing slow-mo AVAsset in AVPlayer</a> for that solution).</p>\n\n<hr>\n\n<p>The first thing you'll need to do is grab the source media's original time mapping objects. You can do that like so:</p>\n\n<pre><code>let options = PHVideoRequestOptions()\noptions.version = PHVideoRequestOptionsVersion.current\noptions.deliveryMode = .highQualityFormat\n\nPHImageManager().requestAVAsset(forVideo: phAsset, options: options, resultHandler: { (avAsset, mix, info) in\n\n    guard let avAsset = avAsset else { return }\n\n    let originalTimeMaps = avAsset.tracks(withMediaType: AVMediaTypeVideo)\n        .first?\n        .segments\n        .flatMap { $0.timeMapping } ?? []\n\n}\n</code></pre>\n\n<p>Once you have timeMappings of the original media (the one sitting in your documents directory), you can pass in the URL of that media and the original CMTimeMapping objects that you would like to recreate. Then create a new AVComposition that is ready to play in an AVPlayer. You'll need a class similar to this:</p>\n\n<pre><code>class CompositionMapper {\n\nlet url: URL\nlet timeMappings: [CMTimeMapping]\n\ninit(for url: URL, with timeMappings: [CMTimeMapping]) {\n    self.url = url\n    self.timeMappings = timeMappings\n}\n\ninit(with asset: AVAsset, and timeMappings: [CMTimeMapping]) {\n    guard let asset = asset as? AVURLAsset else {\n        print(\"cannot get a base URL from this asset.\")\n        fatalError()\n    }\n\n    self.timeMappings = timeMappings\n    self.url = asset.url\n}\n\nfunc compose() -&gt; AVComposition {\n    let composition = AVMutableComposition(urlAssetInitializationOptions: [AVURLAssetPreferPreciseDurationAndTimingKey: true])\n\n    let emptyTrack = composition.addMutableTrack(withMediaType: AVMediaTypeVideo, preferredTrackID: kCMPersistentTrackID_Invalid)\n    let audioTrack = composition.addMutableTrack(withMediaType: AVMediaTypeAudio, preferredTrackID: kCMPersistentTrackID_Invalid)\n\n    let asset = AVAsset(url: url)\n    guard let videoAssetTrack = asset.tracks(withMediaType: AVMediaTypeVideo).first else { return composition }\n\n    var segments: [AVCompositionTrackSegment] = []\n    for map in timeMappings {\n\n        let segment = AVCompositionTrackSegment(url: url, trackID: kCMPersistentTrackID_Invalid, sourceTimeRange: map.source, targetTimeRange: map.target)\n        segments.append(segment)\n    }\n\n    emptyTrack.preferredTransform = videoAssetTrack.preferredTransform\n    emptyTrack.segments = segments\n\n    if let _ = asset.tracks(withMediaType: AVMediaTypeVideo).first {\n        audioTrack.segments = segments\n    }\n\n    return composition.copy() as! AVComposition\n}\n</code></pre>\n\n<p>You can then use the <code>compose()</code> function of your <code>CompositionMapper</code> class to give you an <code>AVComposition</code> that is ready to play in an <code>AVPlayer</code>, which should respect the <code>CMTimeMapping</code> objects that you've passed in.</p>\n\n<pre><code>let compositionMapper = CompositionMapper(for: someAVAssetURL, with: originalTimeMaps)\nlet mappedComposition = compositionMapper.compose()\n\nlet playerItem = AVPlayerItem(asset: mappedComposition)\nlet player = AVPlayer(playerItem: playerItem)\nplayerItem.audioTimePitchAlgorithm = AVAudioTimePitchAlgorithmVarispeed\n</code></pre>\n\n<p>Let me know if you need help converting this to Objective-C, but it should be relatively straight forward.</p>\n"}], "owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1559385965, "creation_date": 1511795981, "question_id": 47514282, "link": "https://stackoverflow.com/questions/47514282/ios-avplayer-cant-play-240-fps-video", "title": "iOS AVPlayer cant play 240 fps video", "body": "<p>I recorded a 240 fps video after changing the AVCaptureDeviceFormat. If I save that video in the photo library, the slowmo effect is there. But, If I play that file from documents directory, using an AVPlayer, I cant see the slowmo effect.</p>\n\n<p>Code to play the video:</p>\n\n<pre><code>    AVPlayerItem *playerItem = [AVPlayerItem playerItemWithAsset:[AVAsset assetWithURL:[NSURL fileURLWithPath:fullPath]]];\n\n     AVPlayer *feedVideoPlayer = [AVPlayer playerWithPlayerItem:playerItem];\n\n    AVPlayerViewController *playerController = [[AVPlayerViewController alloc] init];\n\n playerController.view.frame = CGRectMake(0, 0, videoPreviewView.frame.size.width, videoPreviewView.frame.size.height);\n\n playerController.player = feedVideoPlayer;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511798251, "post_id": 47514091, "comment_id": 81985700, "body": "It tried and this code works normally. Did you do any thing else with tabbar?"}, {"owner": {"reputation": 3574, "user_id": 353030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15680b98205336bf6b9623322cb8a669?s=128&d=identicon&r=PG&f=1", "display_name": "CeccoCQ", "link": "https://stackoverflow.com/users/353030/ceccocq"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511799518, "post_id": 47514091, "comment_id": 81986553, "body": "Hi @trungduc thanks for your answer, mmm no.  I&#39;ve added these snippets on the appdelegate didFinishWithOptions, The images that I&#39;m using are simply white with transparent background. Do you mean anything else?"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511799938, "post_id": 47514091, "comment_id": 81986810, "body": "Did you set images programmatically or inside Storyboard? If programmatically, can you show your code?"}, {"owner": {"reputation": 3574, "user_id": 353030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15680b98205336bf6b9623322cb8a669?s=128&d=identicon&r=PG&f=1", "display_name": "CeccoCQ", "link": "https://stackoverflow.com/users/353030/ceccocq"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511800027, "post_id": 47514091, "comment_id": 81986868, "body": "No, I&#39;ve added them only in storyboard."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511800113, "post_id": 47514091, "comment_id": 81986934, "body": "It&#39;s strange. Can you give me one in 4 images?"}, {"owner": {"reputation": 3574, "user_id": 353030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15680b98205336bf6b9623322cb8a669?s=128&d=identicon&r=PG&f=1", "display_name": "CeccoCQ", "link": "https://stackoverflow.com/users/353030/ceccocq"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511800380, "post_id": 47514091, "comment_id": 81987097, "body": "Sure, I add them into the topic."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511800422, "post_id": 47514091, "comment_id": 81987118, "body": "No, i mean 1 in 4 png file you used"}, {"owner": {"reputation": 3574, "user_id": 353030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15680b98205336bf6b9623322cb8a669?s=128&d=identicon&r=PG&f=1", "display_name": "CeccoCQ", "link": "https://stackoverflow.com/users/353030/ceccocq"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511800490, "post_id": 47514091, "comment_id": 81987152, "body": "Check the image of tabbar, also the text has the background. I&#39;ve added the image at the bottom of topic, but it&#39;s white."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 3574, "user_id": 353030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15680b98205336bf6b9623322cb8a669?s=128&d=identicon&r=PG&f=1", "display_name": "CeccoCQ", "link": "https://stackoverflow.com/users/353030/ceccocq"}, "edited": false, "score": 0, "creation_date": 1511800575, "post_id": 47514091, "comment_id": 81987202, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/159912/discussion-between-trungduc-and-ceccocq\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 1, "last_activity_date": 1511801369, "creation_date": 1511801369, "answer_id": 47515965, "question_id": 47514091, "link": "https://stackoverflow.com/questions/47514091/why-my-tabbar-was-rendered-with-gray-rect/47515965#47515965", "title": "Why my tabbar was rendered with gray rect?", "body": "<p>After discussion, we find that @CeccoCQ used another setting for <code>UIView</code>. That makes every view have a custom background color (in the image, it's gray color).</p>\n\n<pre><code>[[UIView appearance] setBackgroundColor:WINDOW_BACKGROUND_COLOR];\n</code></pre>\n\n<p>To resolve the problem, remove this custom setting and everything will work fine.</p>\n"}], "owner": {"reputation": 3574, "user_id": 353030, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15680b98205336bf6b9623322cb8a669?s=128&d=identicon&r=PG&f=1", "display_name": "CeccoCQ", "link": "https://stackoverflow.com/users/353030/ceccocq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 47515965, "answer_count": 1, "score": 0, "last_activity_date": 1511801369, "creation_date": 1511795341, "last_edit_date": 1511800462, "question_id": 47514091, "link": "https://stackoverflow.com/questions/47514091/why-my-tabbar-was-rendered-with-gray-rect", "title": "Why my tabbar was rendered with gray rect?", "body": "<p><a href=\"https://i.stack.imgur.com/rPxgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rPxgf.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>// Tabbar\n// Icon inactive\n[[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName: [UIColor darkGrayColor]} forState:UIControlStateNormal];\n// Icon active\n[[UITabBar appearance] setTintColor:PRIMARY_COLOR];\n// Text active\n[[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName: PRIMARY_COLOR} forState:UIControlStateSelected];\n// Background\n[[UITabBar appearance] setBarTintColor:WHITE_COLOR];\n// Over View YES/NO\n[[UITabBar appearance] setTranslucent:NO];\n</code></pre>\n\n<p>I've a gray rect around the text and the icon.\nWhy? Where my damn mistake?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Dysc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Dysc.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "c", "xcode", "postgresql"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 5445867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131294888d0edcbf86d3d463d7e5bf9a?s=128&d=identicon&r=PG&f=1", "display_name": "Leandro Cavalcante", "link": "https://stackoverflow.com/users/5445867/leandro-cavalcante"}, "is_accepted": false, "score": 0, "last_activity_date": 1511891240, "creation_date": 1511891240, "answer_id": 47537872, "question_id": 47513396, "link": "https://stackoverflow.com/questions/47513396/ld-framework-not-found-libpq/47537872#47537872", "title": "ld: framework not found libpq", "body": "<p>Finally after reading a lot about frameworks and shared libraries, I was able to understand why my application did not work. <a href=\"https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/MachOTopics/1-Articles/loading_code.html#//apple_ref/doc/uid/TP40001830-SW1\" rel=\"nofollow noreferrer\">According to this link</a>, <code>\"[...] You create a framework by building a normal dynamic shared library into a folder with the same name and the .framework extension. For example, to create a framework named Chaos, place a dynamic shared library named Chaos in a folder called Chaos.framework. [...] \"</code>. Looking at the framework I had downloaded, the directory structure looked like this:</p>\n\n<pre><code>libpq.framework\n\u00a0\u00a0\u00a0\u00a0|_ Versions /\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ A /\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ libpq\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ Headers /\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ libpq-fe.h\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ pg_config_ext.h\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ postgres_ext.h\n</code></pre>\n\n<p>So I just copied the libpq file to the same level as the Versions folder. My framework looks like this:</p>\n\n<pre><code>libpq.framework\n\u00a0\u00a0\u00a0\u00a0|_ libpq\n\u00a0\u00a0\u00a0\u00a0|_ Versions /\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ A /\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ libpq\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ Headers /\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ libpq-fe.h\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ pg_config_ext.h\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|_ postgres_ext.h\n</code></pre>\n\n<p>Now I no longer receive the error described in the title, and I can continue my tests</p>\n"}], "owner": {"reputation": 73, "user_id": 5445867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131294888d0edcbf86d3d463d7e5bf9a?s=128&d=identicon&r=PG&f=1", "display_name": "Leandro Cavalcante", "link": "https://stackoverflow.com/users/5445867/leandro-cavalcante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511891240, "creation_date": 1511793211, "question_id": 47513396, "link": "https://stackoverflow.com/questions/47513396/ld-framework-not-found-libpq", "title": "ld: framework not found libpq", "body": "<p>Im making a iOS app and have to connect to a PostgreSQL database without web service (connect directly with the database). I started my journey from here: <a href=\"https://stackoverflow.com/questions/37987977/how-to-connect-to-postgresql-from-ios9\">How to connect to postgresql from ios9</a></p>\n\n<p>Simply, it says to follow this steps:</p>\n\n<ol>\n<li>Go find a libpq.framework.</li>\n<li>You have to create a C type file(because libpq is not Obj-c.) as C API to connect libpq.</li>\n<li>After that create a Bridging-Header to connect it.(It Bridging will not generate its own)</li>\n<li>Back to the C type file you created</li>\n<li>Follow this \"PostgreSQL C Language API\" tutorial this tutorial saved me a lot of time .(C has been a very far away from me.)</li>\n<li>If need, go to Build Settings >> Enable Bitcode >> YES</li>\n<li>Make sure test it on the device.</li>\n</ol>\n\n<p>And finally, leads to <a href=\"https://github.com/tim6808/iOS9_Connect_to_postgresql\" rel=\"nofollow noreferrer\">this project on GitHub</a> witch I tried to follow, but Im stuck on this error \"ld: framework not found libpq\"</p>\n\n<p>This is what I already have done trying to make it work:</p>\n\n<ul>\n<li>Download the entire project from GitHub</li>\n<li>Copy the \"libpq.framework\" from inside the downloaded project to \"MyProject/Contents/Framework/\"</li>\n<li>Copy \"testPostgreSqlAPI.c\" and \"testPostgreSqlAPI.h\" to my project in Xcode (Xcode made the \"myProject-Bridging-Header.h\" automatically)</li>\n<li>Added the \"libpq.framework\" on \"Linked Frameworks and Libraries\" in the General tab on Xcode</li>\n<li>Edited the Headers Search Path in the Build Settings tab to \"$(PROJECT_DIR)/Contents/Frameworks/libpq.framework/Versions/A/Headers\"</li>\n<li>Edited the Library Search Path in the Build Settings tab to \"$(PROJECT_DIR) recursive\"</li>\n<li>And for last, copy the \"libpq.framework\" to /Library/Frameworks/</li>\n</ul>\n\n<p>After all of this, my app don't show any erro in Xcode before try to build, but when I try to build I get the error \": Linker command failed with exit code 1 (use -v to see invocation)\", and in the log show the error \"ld: framework not found libpq\"</p>\n\n<p><strong>PS</strong></p>\n\n<p>This is my first iOS app, and my first time using Mac OS, so Im probably doing a lot of things wrong, and Im looking for any help in this context, like \"Is really necessary copy the 'libpq.framework' to /Library/Frameworks/ or this ridiculous?\" </p>\n"}, {"tags": ["ios", "objective-c", "uidocumentpickervc"], "answers": [{"comments": [{"owner": {"reputation": 1110, "user_id": 5576675, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/UjgdU.jpg?s=128&g=1", "display_name": "Anand Kore", "link": "https://stackoverflow.com/users/5576675/anand-kore"}, "reply_to_user": {"reputation": 31, "user_id": 7930932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e9fda4b334dcd11dbca5d8d8570f3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7930932/dev"}, "edited": false, "score": 0, "creation_date": 1511789646, "post_id": 47512163, "comment_id": 81980101, "body": "Yeh!! even I&#39;m facing the same issue."}], "tags": [], "owner": {"reputation": 1110, "user_id": 5576675, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/UjgdU.jpg?s=128&g=1", "display_name": "Anand Kore", "link": "https://stackoverflow.com/users/5576675/anand-kore"}, "is_accepted": true, "score": 1, "last_activity_date": 1511789457, "creation_date": 1511789457, "answer_id": 47512163, "question_id": 47511682, "link": "https://stackoverflow.com/questions/47511682/how-do-i-enable-multiple-files-selection-while-picking-file-using-uidocumentpick/47512163#47512163", "title": "How do I enable multiple files selection while picking file using UIDocumentPickerViewController?", "body": "<p>set <code>dvc.allowsMultipleSelection = true;</code> after initialising <code>UIDocumentPickerViewController</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 7930932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e9fda4b334dcd11dbca5d8d8570f3bb?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/7930932/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 2, "accepted_answer_id": 47512163, "answer_count": 1, "score": 2, "last_activity_date": 1511794912, "creation_date": 1511787935, "last_edit_date": 1511794912, "question_id": 47511682, "link": "https://stackoverflow.com/questions/47511682/how-do-i-enable-multiple-files-selection-while-picking-file-using-uidocumentpick", "title": "How do I enable multiple files selection while picking file using UIDocumentPickerViewController?", "body": "<p>I'm trying to pick file from Files App using <code>UIDocumentPickerViewController</code> but I can't see <code>Select</code> button for multiple selection in picker. Why this is happening? am i doing anything wrong? Can anyone help?</p>\n\n<p>Code snippet : </p>\n\n<pre><code>NSArray *arrContents = @[@\"public.content\",@\"public.item\",@\"public.composite-content\",@\"public.data\",@\"public.database\",@\"public.calendar-event\",@\"public.message\",@\"public.presentation\",@\"public.contact\",@\"public.archive\",@\"public.disk-image\",@\"public.text\",@\"public.plain-text\",@\"public.utf8-plain-text\",@\"public.utf16-external-plain-\u200btext\",@\"public.utf16-plain-text\",@\"com.apple.traditional-mac-\u200bplain-text\",@\"public.rtf\"];\n\nUIDocumentPickerViewController *dvc = [[UIDocumentPickerViewController \nalloc]initWithDocumentTypes:arrContents inMode:UIDocumentPickerModeImport];\ndvc.delegate = self;\n[self presentViewController:dvc animated:true completion:nil];\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 1835, "user_id": 3195314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiMED.png?s=128&g=1", "display_name": "alseether", "link": "https://stackoverflow.com/users/3195314/alseether"}, "edited": false, "score": 0, "creation_date": 1511784728, "post_id": 47510633, "comment_id": 81977003, "body": "Post some more info about what you tried"}, {"owner": {"reputation": 1, "user_id": 9014538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e3c1559675b1825c68083833a0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Garud", "link": "https://stackoverflow.com/users/9014538/ashish-garud"}, "reply_to_user": {"reputation": 1835, "user_id": 3195314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BiMED.png?s=128&g=1", "display_name": "alseether", "link": "https://stackoverflow.com/users/3195314/alseether"}, "edited": false, "score": 0, "creation_date": 1511786331, "post_id": 47510633, "comment_id": 81978009, "body": "@alseether is it fine or shall i elaborate more?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9014538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e3c1559675b1825c68083833a0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Garud", "link": "https://stackoverflow.com/users/9014538/ashish-garud"}, "edited": false, "score": 0, "creation_date": 1511930713, "post_id": 47518739, "comment_id": 82047257, "body": "No, I want to show images which comes from web service on push.Like i said before,i am getting media url in payload but unable to show image on push bar (Objective c)"}], "tags": [], "owner": {"reputation": 148, "user_id": 8472539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85117325f753551cf0ed157d64e4ca07?s=128&d=identicon&r=PG&f=1", "display_name": "Bin0li", "link": "https://stackoverflow.com/users/8472539/bin0li"}, "is_accepted": false, "score": 0, "last_activity_date": 1511812205, "creation_date": 1511812205, "answer_id": 47518739, "question_id": 47510633, "link": "https://stackoverflow.com/questions/47510633/how-do-i-show-image-on-notification-bar-when-push-comes-from-fcm/47518739#47518739", "title": "How do i show image on notification bar when push comes from FCM?", "body": "<p>If you want to see the app icon when the push notification comes, you need to add the AppIcon under the Images.xcassets folder of your app. </p>\n"}], "owner": {"reputation": 1, "user_id": 9014538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c92e3c1559675b1825c68083833a0c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Garud", "link": "https://stackoverflow.com/users/9014538/ashish-garud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511812205, "creation_date": 1511784384, "last_edit_date": 1511785535, "question_id": 47510633, "link": "https://stackoverflow.com/questions/47510633/how-do-i-show-image-on-notification-bar-when-push-comes-from-fcm", "title": "How do i show image on notification bar when push comes from FCM?", "body": "<p>I have tried using NotificationServiceExtension,but didn't got proper tutorial in objective-c to achieve that.\nProcess:- I create a NotificationServiceExtension in that i wrote a code which accepts media urls.then i create app groups.\nPayload which is coming from backend:</p>\n\n<pre><code>aps =     {\n    alert =         {\n        body = Test;\n        title = Test;\n    };\n    badge = 1;\n    \"content-available\" = 1;\n};\nbadge = 1;\nbody = Test;\n\"gcm.message_id\" = \"0:1511437914514%a62432a6262432\";\n\"gcm.notification.alert\" = \"\";\n\"gcm.notification.id\" = \"\";\n\"gcm.notification.location_ids\" = \"\";\n\"gcm.notification.main_picture\" = \"somelink/logo-big.png\";\n\"gcm.notification.notification_type\" = Generic;\nicon = \"\";\nid = \"\";\n\"location_ids\" = \"\";\n\"main_picture\" = \"somelink/logo-big.png\";\n\"notification_type\" = Generic;\ntitle = Test;\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nsimage"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1511785626, "post_id": 47510563, "comment_id": 81977556, "body": "size.width = size.width / 4?  And then rcRect.origin.x = i*size.width ?"}, {"owner": {"reputation": 85, "user_id": 2687951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6454abd7ad99ab3f2108e189758832fd?s=128&d=identicon&r=PG", "display_name": "Tony Teng", "link": "https://stackoverflow.com/users/2687951/tony-teng"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1511788454, "post_id": 47510563, "comment_id": 81979349, "body": "@ElTomato There is 4 statuses in the picture. Normal, hot, press and disable, so I divide it by 4, is there anything wrong?"}, {"owner": {"reputation": 6599, "user_id": 426959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a23b084cd826836df25c3c4ff58b42?s=128&d=identicon&r=PG", "display_name": "Lucas Derraugh", "link": "https://stackoverflow.com/users/426959/lucas-derraugh"}, "edited": false, "score": 0, "creation_date": 1512034130, "post_id": 47510563, "comment_id": 82097174, "body": "I really don&#39;t understand what the problem is, seems to work correctly for me. What is wrong with the output size exactly? Maybe having the image would also help make this more understandable."}], "owner": {"reputation": 85, "user_id": 2687951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6454abd7ad99ab3f2108e189758832fd?s=128&d=identicon&r=PG", "display_name": "Tony Teng", "link": "https://stackoverflow.com/users/2687951/tony-teng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511784190, "creation_date": 1511784190, "question_id": 47510563, "link": "https://stackoverflow.com/questions/47510563/how-to-split-nsimage-into-4-parts-correctly", "title": "How to split NSImage into 4 parts, correctly", "body": "<p>This problem is confused me several hours</p>\n\n<p>I use NSImage to load a local png image like blew:</p>\n\n<pre><code>[[NSImage alloc] initWithContentsOfFile:path];\n</code></pre>\n\n<p>this picture contains all of the statuses of a button. and every status part has the same width and height. so I want to split the picture into 4 parts. the code list on the blew:</p>\n\n<pre><code>NSImage* img = [[NSImage alloc] initWithContentsOfFile:path];\nNSSize size = img.size;\nsize.width = size.width / 4;\nNSRect rcRect;\nfor (int i=0; i&lt;4; i++) {\n    rcRect.origin.x = i*size.width;\n    rcRect.origin.y = 0;\n    rcRect.size.width = size.width;\n    rcRect.size.height = size.height;\n\n    NSImage *target = [[NSImage alloc]initWithSize:size];\n    [target lockFocus];\n    [img drawInRect:NSMakeRect(0, 0, size.width, size.height) fromRect:rcRect operation:NSCompositeCopy fraction:1.0];\n    [target unlockFocus];\n    [self.m_arrImg addObject:target];\n}\n</code></pre>\n\n<p>But, when I check out the img.size, I find the size is not equal the image. I googled the reason, and I know the size is dependent on the PPI. \nSo, my question is, how could I do the slipt work correctly in this situation? \nThanks a lot!</p>\n"}, {"tags": ["ios", "objective-c", "csv"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511784437, "post_id": 47510555, "comment_id": 81976831, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17635586/how-do-i-enumerate-through-a-directory-in-objective-c-and-essentially-clear-out\">How do I enumerate through a directory in Objective-C, and essentially clear out all the directories of non-directory files?</a>"}, {"owner": {"reputation": 413, "user_id": 6799539, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f989ca0ee1cf084fe7068e0868bcbb14?s=128&d=identicon&r=PG&f=1", "display_name": "batMan007", "link": "https://stackoverflow.com/users/6799539/batman007"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511785252, "post_id": 47510555, "comment_id": 81977317, "body": "can u give proper explanation it showing to remove dir but what i expecting all my documents should saved and listed in app"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511785562, "post_id": 47510555, "comment_id": 81977516, "body": "Instead of <code>[fm removeItemAtURL:url error:NULL];</code>, just add the extension at an array?"}, {"owner": {"reputation": 413, "user_id": 6799539, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f989ca0ee1cf084fe7068e0868bcbb14?s=128&d=identicon&r=PG&f=1", "display_name": "batMan007", "link": "https://stackoverflow.com/users/6799539/batman007"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511785617, "post_id": 47510555, "comment_id": 81977552, "body": "sorry bro i cant get u"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511785710, "post_id": 47510555, "comment_id": 81977622, "body": "<a href=\"https://stackoverflow.com/questions/8376511/list-saved-files-in-ios-documents-directory-in-a-uitableview\" title=\"list saved files in ios documents directory in a uitableview\">stackoverflow.com/questions/8376511/&hellip;</a> ?"}, {"owner": {"reputation": 413, "user_id": 6799539, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f989ca0ee1cf084fe7068e0868bcbb14?s=128&d=identicon&r=PG&f=1", "display_name": "batMan007", "link": "https://stackoverflow.com/users/6799539/batman007"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511786113, "post_id": 47510555, "comment_id": 81977877, "body": "thanx bro it displayed the title ... if i click any one of the file the data will be exported through via mail ?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1511786370, "post_id": 47510555, "comment_id": 81978034, "body": "You want to send the csv through mail? That&#39;s another question and it has already been asked many times on SO and has many responses. Did you look for it?"}], "owner": {"reputation": 413, "user_id": 6799539, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/f989ca0ee1cf084fe7068e0868bcbb14?s=128&d=identicon&r=PG&f=1", "display_name": "batMan007", "link": "https://stackoverflow.com/users/6799539/batman007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511785195, "creation_date": 1511784156, "last_edit_date": 1511785195, "question_id": 47510555, "link": "https://stackoverflow.com/questions/47510555/how-to-display-csv-files-in-iphone-display", "title": "how to display csv files in iphone display", "body": "<p>i have a module to create a csv files and fill some data into that there is no error while am writing it on csv. But still i want to create more csv files and access it from my iphone App</p>\n\n<blockquote>\n  <p>Requirements:</p>\n</blockquote>\n\n<p>1) i want what are the csv files which i have created should be visible on Iphone App i.e if i click <strong>downloads</strong> button in my App i have to list out all the csv files should be listed in table view</p>\n\n<p>2) if i selected any of the csv files its should open in screen</p>\n\n<blockquote>\n  <p>here my sample code:</p>\n</blockquote>\n\n<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsDirectory = [paths objectAtIndex:0];\nNSString *filePath = [NSString stringWithFormat:@\"%@/%@\", documentsDirectory, @\"EmployeeRecords.csv\"];\nNSLog(@\"filePath--&gt;%@\",filePath);\n[csvString writeToFile:filePath atomically:YES encoding:NSUTF8StringEncoding error:nil];\n</code></pre>\n\n<blockquote>\n  <p>note: before making it as duplicate explain the answer then make it as duplicate that answer is not suitable for my question </p>\n</blockquote>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 12404251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e680352e4e85f5ef775d4e0f836bc8ce?s=128&d=identicon&r=PG&f=1", "display_name": "Bhushan b", "link": "https://stackoverflow.com/users/12404251/bhushan-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1575032860, "creation_date": 1575032860, "answer_id": 59105455, "question_id": 47508999, "link": "https://stackoverflow.com/questions/47508999/importing-private-submodule-in-swift-file-caused-me-error/59105455#59105455", "title": "Importing private submodule in swift file caused me error", "body": "<p>i think module map file will have some change</p>\n\n<pre><code>framework module &lt;ProjectName&gt; {\n    umbrella header \"ProjectName.h\"\n    export *\n    module * { export * }\n\n    explicit module ProjectName_Private {\n        private header \u201c&lt;headerName&gt;.h\u201d\n\n        link \u201cstaticLibName\u201d // external static Library \n        export *\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 6289629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/787d8abdf80b3968d8a3c2530c4bb21d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdelhak", "link": "https://stackoverflow.com/users/6289629/abdelhak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1575032860, "creation_date": 1511779328, "last_edit_date": 1511780465, "question_id": 47508999, "link": "https://stackoverflow.com/questions/47508999/importing-private-submodule-in-swift-file-caused-me-error", "title": "Importing private submodule in swift file caused me error", "body": "<p><strong>Here is the modulemap file</strong> :</p>\n\n<pre><code>framework module Framework\n{\n    requires objc, objc_arc\n\n    umbrella header \"Header.h\"\n\n    export *\n    module * { export * }\n\n    explicit framework module Private\n    {\n        umbrella header \"Header-Private.h\"\n    }\n}\n</code></pre>\n\n<p><strong>how i imported it in swift file</strong> :</p>\n\n<pre><code>import Framework.Private\n</code></pre>\n\n<p><strong>Now i've got this error</strong> : </p>\n\n<blockquote>\n  <p>@import Framework.Private;  @import of module 'Framework.Private' in\n  implementation of 'Framework'; use #import</p>\n</blockquote>\n"}, {"tags": ["objective-c", "permissions", "camera", "uialertview"], "comments": [{"owner": {"reputation": 15725, "user_id": 1825618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/638c0109c34ba57e62ec4ad96702b64f?s=128&d=identicon&r=PG", "display_name": "Bilal", "link": "https://stackoverflow.com/users/1825618/bilal"}, "edited": false, "score": 0, "creation_date": 1511776421, "post_id": 47507633, "comment_id": 81971840, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/25736700/how-to-localise-a-string-inside-the-ios-info-plist-file\">How to localise a string inside the iOS info.plist file?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 5039399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8bfb945cd3a6b9b79943699ed00d8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mangesh Murhe", "link": "https://stackoverflow.com/users/5039399/mangesh-murhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1511775650, "creation_date": 1511775650, "answer_id": 47507838, "question_id": 47507633, "link": "https://stackoverflow.com/questions/47507633/text-on-alert-view-that-appear-when-ask-permission-for-the-camera-in-different-l/47507838#47507838", "title": "Text on alert view that appear when ask permission for the camera in different lenguajes", "body": "<p>Use localisation for this.For how to localise app for multiple language visit following link for guide:\n<a href=\"https://www.ibabbleon.com/iphone_app_localization.html\" rel=\"nofollow noreferrer\">Localisation in iOS app</a></p>\n"}], "owner": {"reputation": 79, "user_id": 8036087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce830ef259212733538478f7587c6a41?s=128&d=identicon&r=PG&f=1", "display_name": "Jota", "link": "https://stackoverflow.com/users/8036087/jota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511775650, "creation_date": 1511775057, "question_id": 47507633, "link": "https://stackoverflow.com/questions/47507633/text-on-alert-view-that-appear-when-ask-permission-for-the-camera-in-different-l", "title": "Text on alert view that appear when ask permission for the camera in different lenguajes", "body": "<p>APPLE SAID THAT</p>\n\n<p>NSCameraUsageDescription</p>\n\n<p>NSCameraUsageDescription (String - iOS) describes the reason that the app (including an iMessage app) accesses the device\u2019s camera. When the system prompts the user to allow access, this string is displayed as part of the alert.</p>\n\n<p>Important: To protect user privacy, an iOS app linked on or after iOS 10.0, and that accesses the device\u2019s camera, must statically declare the intent to do so. Include the NSCameraUsageDescription key in your app\u2019s Info.plist file and provide a purpose string for this key. If your app attempts to access the device\u2019s camera without a corresponding purpose string, your app exits.</p>\n\n<p>No problem for one lenguaje, but I need this message in english an spanish. What I have to do?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c", "objective-c"], "comments": [{"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 4, "creation_date": 1511774945, "post_id": 47507558, "comment_id": 81970843, "body": "Think very carefully about what <code>a = a++</code> does, step by step, and you&#39;ll find there&#39;s a bit of a conflict between two of the steps."}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "edited": false, "score": 2, "creation_date": 1511781922, "post_id": 47507558, "comment_id": 81975274, "body": "Please see <a href=\"https://stackoverflow.com/questions/949433/why-are-these-constructs-using-undefined-behavior/#30914692\">this answer</a>."}, {"owner": {"reputation": 67, "user_id": 6491984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rhV62.jpg?s=128&g=1", "display_name": "UninhibitedSoul", "link": "https://stackoverflow.com/users/6491984/uninhibitedsoul"}, "edited": false, "score": 0, "creation_date": 1511838315, "post_id": 47507558, "comment_id": 82002847, "body": "Thank you for the link.It&#39;s very helpful to me.Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1511781351, "post_id": 47507638, "comment_id": 81974966, "body": "Sorry, I accidentally added the annex to your answer instead of mine. Removed it."}, {"owner": {"reputation": 13762, "user_id": 694733, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a3de8cd40d9ffb86cc1fed0c8cf2e19?s=128&d=identicon&r=PG", "display_name": "user694733", "link": "https://stackoverflow.com/users/694733/user694733"}, "edited": false, "score": 0, "creation_date": 1511783343, "post_id": 47507638, "comment_id": 81976122, "body": "<code>a = a++</code> in C is <i>undefined behaviour</i>. I have no Objective-C standard documentation, but I suspect that same holds for that language too. If that is the case, then your reasoning about the code does not hold, since <i>anything</i> can happen."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "reply_to_user": {"reputation": 13762, "user_id": 694733, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a3de8cd40d9ffb86cc1fed0c8cf2e19?s=128&d=identicon&r=PG", "display_name": "user694733", "link": "https://stackoverflow.com/users/694733/user694733"}, "edited": false, "score": 0, "creation_date": 1511784602, "post_id": 47507638, "comment_id": 81976918, "body": "@user694733 I suspected the behavior was undefined but I wasn&#39;t sure because I am no C expert. I wanted to explain what happens in a way a junior would understand. I will add a bigger warning."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1511808681, "post_id": 47507638, "comment_id": 81991813, "body": "Indeed, you do not have to be an C expert to see that the assignment is meaningless. And moreover these are edge cases of C you usually do not need in Objective-C. It is more for incorporated C code."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 13762, "user_id": 694733, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0a3de8cd40d9ffb86cc1fed0c8cf2e19?s=128&d=identicon&r=PG", "display_name": "user694733", "link": "https://stackoverflow.com/users/694733/user694733"}, "edited": false, "score": 0, "creation_date": 1511808771, "post_id": 47507638, "comment_id": 81991857, "body": "@user694733 There is no Objective-C standard a all, but everybody expects that the C part of Objective-C conforms to the C standard. At least real-world compilers let you select the used C standard for compiling Objective-C sources \u2026"}], "tags": [], "owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "is_accepted": false, "score": 5, "last_activity_date": 1511784643, "last_edit_date": 1511784643, "creation_date": 1511775068, "answer_id": 47507638, "question_id": 47507558, "link": "https://stackoverflow.com/questions/47507558/multiple-unsequenced-modifications-to-a-a-a/47507638#47507638", "title": "Multiple unsequenced modifications to &#39;a&#39;\uff0ca = a++", "body": "<p>The <code>++</code> in <code>a++</code> is a post-increment. In short, <code>a = a++</code> does the following:</p>\n\n<pre><code>int tmp = a; // get the value of a\na = a + 1 //post-increment a\na = tmp // do the assignment\n</code></pre>\n\n<p>As noted by others, in C this is actually <b>undefined behavior</b> and different compilers can order the operations differently.</p>\n\n<p>Try to avoid using <code>++</code> and <code>--</code> operators when you can. The operators introduce side effects which are hard to read. Why not simply write:</p>\n\n<pre><code>if (a &lt; 10) {\n   a += 1;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 6491984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rhV62.jpg?s=128&g=1", "display_name": "UninhibitedSoul", "link": "https://stackoverflow.com/users/6491984/uninhibitedsoul"}, "edited": false, "score": 0, "creation_date": 1511839266, "post_id": 47509458, "comment_id": 82003070, "body": "Thank you for you answer.It&#39;s helping me\uff01"}], "tags": [], "owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "is_accepted": false, "score": 5, "last_activity_date": 1604167235, "last_edit_date": 1604167235, "creation_date": 1511780740, "answer_id": 47509458, "question_id": 47507558, "link": "https://stackoverflow.com/questions/47507558/multiple-unsequenced-modifications-to-a-a-a/47509458#47509458", "title": "Multiple unsequenced modifications to &#39;a&#39;\uff0ca = a++", "body": "<p>To extend Sulthan's answer, there are several problem with your expressions, at least the simple assignment (case 2).</p>\n<p>A. There is no sense in doing so. Even <code>a++</code> has a value (is a non-void expression) that can be assigned, it automatically assigns the result to <code>a</code> itself. So the best you can expect is equivalent to</p>\n<pre><code>a++;\n</code></pre>\n<p>The assignment cannot improve the assignment at all. But this is not the error message.</p>\n<p>B. Sulthans replacement of the statement is a better case. It is even worse: The <code>++</code> operator has the value of <code>a</code> (at the beginning of the expression) and the effect to increment <code>a</code> at <em>some point in future</em>: The increment can be delayed up to the next sequence point.</p>\n<blockquote>\n<p>The side effect of updating the stored value of the operand shall occur between the previous and the next sequence point.</p>\n</blockquote>\n<p>(ISO/IEC 9899:TC3, 6.5.2.4, 2)</p>\n<p>But the assignment operator <code>=</code> is <em>not</em> a sequence point (Annex C).</p>\n<blockquote>\n<p>The following are the sequence points described in 5.1.2.3:</p>\n<p><em>[Neither assignment operator nor <code>)</code> is included in the list]</em></p>\n</blockquote>\n<p>Therefore the expression can be replaced with what Sulthan said:</p>\n<pre><code>int tmp = a; // get the value of a\na = a + 1 //post-increment a\na = tmp // do the assignment\n</code></pre>\n<p>with the result, that <code>a</code> still contains the old value.</p>\n<p>Or the expression can be replaced with this code \u2026:</p>\n<pre><code>int tmp = a; // get the value of a\na = tmp // assignemnt\na = a + 1 // increment\n</code></pre>\n<p>\u2026 with a different result (<code>a</code> is incremented). This is what the error message says: There is no defined <em>sequence</em> (order the operations has to be applied.)</p>\n<p>You can insert a sequence point using the comma operator <code>,</code> (what is the primary use of it), \u2026</p>\n<pre><code>a++, a=a; // first increment, then assign\n</code></pre>\n<p>\u2026 but this shows the whole leak of meaning of what you want to do.</p>\n<p>It is the same with your first example. Though <code>?</code> is a sequence point \u2026:</p>\n<blockquote>\n<p>The following are the sequence points described in 5.1.2.3:</p>\n<p>\u2026 The end of the first operand of the following operators: <em>[\u2026]</em> conditional ? (6.5.15);<em>[\u2026]</em>.</p>\n</blockquote>\n<p>\u2026 both the increment (<code>a++</code>) and the assignment (<code>a=</code>) are after the <code>?</code> operator is evaluated and therefore unsequenced (&quot;in random order&quot;) again.</p>\n<p>To make the comment &quot;Be careful&quot; more concrete: Don't use an incremented object in an expression twice. (Unless there is a clear sequence point).</p>\n<pre><code>int a = 1;\n\u2026 = a++ * a;\n</code></pre>\n<p>\u2026 evaluates to what? 2? 1? Undefined, because the increment can take place after reading <code>a</code> &quot;the second time&quot;.</p>\n<p>BTW: The Q is not related to Objective-C, but to pure C. There is no Objective-C influence to C in that point. I changed the tagging.</p>\n"}], "owner": {"reputation": 67, "user_id": 6491984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rhV62.jpg?s=128&g=1", "display_name": "UninhibitedSoul", "link": "https://stackoverflow.com/users/6491984/uninhibitedsoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4494, "favorite_count": 1, "closed_date": 1617183303, "answer_count": 2, "score": 0, "last_activity_date": 1617183273, "creation_date": 1511774826, "last_edit_date": 1617183273, "question_id": 47507558, "link": "https://stackoverflow.com/questions/47507558/multiple-unsequenced-modifications-to-a-a-a", "closed_reason": "Duplicate", "title": "Multiple unsequenced modifications to &#39;a&#39;\uff0ca = a++", "body": "<p>Why i can't do the following in Objective-C?</p>\n\n<pre><code>a = (a &lt; 10) ? (a++) : a;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>a = (a++)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TVnkW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVnkW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "memory", "nsstring", "string-literals"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511775100, "post_id": 47507498, "comment_id": 81970934, "body": "first thanks for you giving me a answer so quickly. but <code>0xa000000007274733 </code> is not odd,  you see <code>a0 00 00 00 07 27 47 33</code>, it should be 8 bytes. as we know, 6s is 64 bits architecture. however you give me a clue on odd value like <code>0x1286287e8</code> that a string literal printed. thanks again."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 1, "creation_date": 1511775675, "post_id": 47507498, "comment_id": 81971335, "body": "The least significant digit of the pointer value is a <code>3</code>, which is odd, its not the first byte in memory that needs to be odd but the 8 bytes interpreted as an address. The high order <code>a</code> doesn&#39;t match the scheme Mike Ash describes either, but I&#39;d still guess it is a tagged pointer."}, {"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511777312, "post_id": 47507498, "comment_id": 81972424, "body": "so do you think ``` 0x1286287c8 (str1&#39;s address)``` is a address point to &quot;data segment&quot;? As mentioned above ``` The literal will be in a &quot;data segment&quot;, in the same area of memory as the code.``` And I want to clarify ``` literal ``` mentioned here is like <code>@&quot;123&quot; @(123) @[@&quot;123&quot;] @{@&quot;key1&quot;:@&quot;value&quot;} </code> that I think a literal as is."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511778212, "post_id": 47507498, "comment_id": 81972993, "body": "For Objective-C literal integers, floats and strings will all probably be compiled into the code/data area. However array and dictionary literals are (at least currently) compiled to code which constructs the value at runtime on the heap. <code>NSNumber</code> literals could be compiled to code which constructs them at runtime, to tagged pointer values, or directly into the code/data like non-object numeric literals; I haven&#39;t tested which method is currently used - I&#39;ll leave that as an exercise for you."}, {"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511778745, "post_id": 47507498, "comment_id": 81973338, "body": "actually i did the exercise. result may confirmed your answer that is <code>generic obj 0x6040002039a0 | nsnumber literal 0xb000000000000012 | array literal 0x6040002039b0</code>, as you can see, array literal&#39;s address is more  like a generic object, and number literal more likely string literal but here first bit is a <code>b</code>."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1511828557, "post_id": 47507498, "comment_id": 82000486, "body": "The answer is <b>it is an implementation detail</b>.  It will change from release to release.   And, in fact, if the address is odd, then there may not be an allocation <i>at all</i> as the string&#39;s value is actually encoded into the address of the object.   But only on some platforms because the implementation details of tagged pointers has changed from release to release and arch to arch, too."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511828678, "post_id": 47507498, "comment_id": 82000517, "body": "@iWenPro See last comment.  <code>0xb......12</code> likely means it is a tagged pointer and <b>there is no allocation at all</b>.   As well, string constants are, technically, not backed by an allocation, either.  They are loaded as a part of the mach-o file."}, {"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1511851674, "post_id": 47507498, "comment_id": 82006948, "body": "@bbum <code>They are loaded as a part of the mach-o file.</code> This reflects what @CRD said above <code>string literal</code> from <code>data segment</code>. Still some thing weird I found here is a generic object like <code>generic obj 0x6040002039a0 </code>  is six bytes not 8 bytes which I think an arm 64 should has."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511861954, "post_id": 47507498, "comment_id": 82012695, "body": "@iWenPro - You are confusing number of hex digits in the formatted representation of a value with the number of bits in the value. Most formats don&#39;t print leading zeroes unless this is specifically set, and <code>%p</code> doesn&#39;t even accept the leading zero format flag."}, {"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511862554, "post_id": 47507498, "comment_id": 82013111, "body": "@CRD oops, i mixed it. there&#39;s some thing not perfect about &#39;&#39;str&quot; unicode maps  <code>\\u0073\\u0074\\u0072 </code>. however still interesting for your answer address contains data itself."}, {"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "edited": false, "score": 0, "creation_date": 1511863149, "post_id": 47507498, "comment_id": 82013525, "body": "@CRD I did another test using &#39;string&#39; and found the rule. It printed <code>0xa00676e697274736 </code> , the last <code>6</code> here means six chars in the address. and then all the chars are ``` \\u0073\\u0074\\u0072\\u0069\\u006e\\u0067 ``` which are &#39;string&#39; unicode. so read it from right to left maps the unicode correctly.  And <code>str</code> address above also following this rule. LOL"}, {"owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1511864171, "post_id": 47507498, "comment_id": 82014271, "body": "tagged point for number also matches what I said above except the last bit should means a type which I tested ``` int -&gt;2 long-&gt;3 float-&gt;4 ``` @bbum"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 4, "last_activity_date": 1511775430, "last_edit_date": 1511775430, "creation_date": 1511774681, "answer_id": 47507498, "question_id": 47506950, "link": "https://stackoverflow.com/questions/47506950/where-is-nsstring-literal-placed-in-memory/47507498#47507498", "title": "where is NSString literal placed in memory?", "body": "<p>Note that your curious value, <code>0xa000000007274733</code>, is <em>odd</em> - that is the least significant bit is set. Object pointers are usually even - see the other ones you've displayed.</p>\n\n<p>An odd-valued pointer is an indicator that it might be one of Apple's <em>tagged pointers</em>, where instead of allocating an object the data is stored directly in the pointer itself.</p>\n\n<p>The Unicode for <code>r</code> is 0x72, <code>s</code> &amp; <code>t</code> follow. So it looks like you have the Unicode for the characters in there.</p>\n\n<p>Mike Ash did a <a href=\"https://mikeash.com/pyblog/friday-qa-2015-07-31-tagged-pointer-strings.html\" rel=\"nofollow noreferrer\">good article</a> on tagged strings back in 2015, though your value doesn't seem to match the scheme he discovered. However I'd go with this being a tagged pointer of some kind.</p>\n\n<p>HTH</p>\n\n<p><strong>Addendum</strong></p>\n\n<p>I see you edited the question to ask whether the literal is in the stack or heap, and that made be realise you were asking about <code>str1</code>, oops. The literal will be in a \"data segment\", in the same area of memory as the code.</p>\n\n<p>To see this try allocating a general object (an <code>NSObject</code> will do, but not an <code>NSString</code> which tend to get special treatment) to see where a heap object goes, and taking the address of a C function to see where the code goes. You'll probably find <code>str1</code> is closest to the latter.</p>\n"}, {"tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": false, "score": 2, "last_activity_date": 1511835422, "last_edit_date": 1511835422, "creation_date": 1511830205, "answer_id": 47522254, "question_id": 47506950, "link": "https://stackoverflow.com/questions/47506950/where-is-nsstring-literal-placed-in-memory/47522254#47522254", "title": "where is NSString literal placed in memory?", "body": "<blockquote>\n  <p>So what's the place of str1 in memory? is it Stack or Heap?</p>\n</blockquote>\n\n<p>A string -- an Objective-C object -- <strong><em>can never be on the stack</em> *</strong>.   Stack based ObjC objects have never been supported.</p>\n\n<p>An Objective-C object can be in one of three places, though.  Well, two, really, and the third is weird.</p>\n\n<ol>\n<li><p>An object can be on the heap.  It is, effectively, in a hunk of memory that was <code>malloc()</code>d (though not always <code>malloc()</code>, but that is an implementation detail) and the first 4 (32 bit) or 8 (64 bit) bytes will be a pointer to the class of the object and, possibly, some metadata encoded into said pointer (i.e. don't just grab the <code>isa</code> and think you've got a valid class).</p></li>\n<li><p>An object may be in the readonly memory that is mapped into memory by dyld.  These objects are actually created by the linker and are a part of the executable.   NSString constants fall into this category.  NSArray and NSDictionary constants do not;  they are still dynamically allocated as per (1) above.   Note one oddity;  because they are not allocated, they do not follow the string 16 byte (typically) aligned allocation patterns of (1).  In fact, they may be 2 byte aligned (they won't likely be odd, but that's another implementation detail that may change).</p></li>\n<li><p>They may be a tagged pointer.  If the lowest order bit is set-- an odd address-- that means \"tagged pointer\".   But that, too, is an implementation detail that can-- and has-- changed.   With a tagged pointer, <strong>there is no allocation at all</strong>.   The \"pointer\" isn't a pointer at all.  The pointer is the data;  for an <code>NSNumber</code>, the value and type of the contained number is encoded in the object \"pointer\".</p></li>\n</ol>\n\n<hr/>\n\n<ul>\n<li>The one exception is a Block.  They can be in the heap, in the memory mapped data segment loaded by the executable, or <strong><em>on the stack</em></strong>.</li>\n</ul>\n\n<p>However, that's another implementation detail.  Only, in this case, you are exposed to it.   While the compiler, under ARC, actually makes it largely fully automatic at this time, there are still a couple of cases where you need to copy a block to ensure it moves to the heap before the declarative scope disappears.</p>\n\n<p>However, since the class of a Block isn't exposed nor is there any means of manually allocating Blocks, I'm going to stick with Objective-C objects never being on the stack.  ;)</p>\n"}], "owner": {"reputation": 39, "user_id": 4221582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005227547317/picture?type=large", "display_name": "iWenPro", "link": "https://stackoverflow.com/users/4221582/iwenpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 1, "accepted_answer_id": 47507498, "answer_count": 2, "score": 0, "last_activity_date": 1511835422, "creation_date": 1511772745, "last_edit_date": 1511774100, "question_id": 47506950, "link": "https://stackoverflow.com/questions/47506950/where-is-nsstring-literal-placed-in-memory", "title": "where is NSString literal placed in memory?", "body": "<p>I made a test for NSString.</p>\n\n<pre><code>int a = 10;\nNSString *str1 = @\"str\";\nNSString *str2 = [NSString stringWithFormat:@\"str\"];\nNSString *str3 = @\"str\";\nNSString *str4 = @\"str2\";\nNSLog(@\"%p %p | 3 %p | 4 %p | a %p\", str1,str2,str3,str4,&amp;a);\n</code></pre>\n\n<p>result is</p>\n\n<pre><code>0x1286287c8 0xa000000007274733 | 3 0x1286287c8 | 4 0x1286287e8 | a 0x7ffeeb215b14\n</code></pre>\n\n<p>this test placed in iPhone 6s(11.1) Simulator. So what's the place of <code>str1</code> in memory? is it Stack or Heap? </p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 5039399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be8bfb945cd3a6b9b79943699ed00d8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mangesh Murhe", "link": "https://stackoverflow.com/users/5039399/mangesh-murhe"}, "is_accepted": true, "score": 1, "last_activity_date": 1511773478, "creation_date": 1511773478, "answer_id": 47507156, "question_id": 47506856, "link": "https://stackoverflow.com/questions/47506856/saving-video-to-documentsdirectory/47507156#47507156", "title": "Saving video to DocumentsDirectory", "body": "<p>use Following code:</p>\n\n<pre><code> NSData *videoData = [NSData dataWithContentsOfURL:outputURL];\n    if (videoData) {\n        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n        NSString *documentsDirectory = [paths objectAtIndex:0];\n        NSString *dataPath = [documentsDirectory stringByAppendingPathComponent:@\"MyFolder\"];\n        // Create folder if needed\n        [[NSFileManager defaultManager] createDirectoryAtPath:dataPath withIntermediateDirectories:YES attributes:nil error:nil];\n\n        NSString *filePath = [dataPath stringByAppendingPathComponent:@\"test.mp4\"];\n        if ([videoData writeToFile:filePath atomically:YES]) {\n            // yeah - file written\n        } else {\n            // oops - file not written\n        }\n    } else {\n        // oops - couldn't get data\n    }\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9013501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf957854db0399952a8c978750751dd7?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/9013501/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 47507156, "answer_count": 1, "score": 0, "last_activity_date": 1511806292, "creation_date": 1511772350, "last_edit_date": 1511806292, "question_id": 47506856, "link": "https://stackoverflow.com/questions/47506856/saving-video-to-documentsdirectory", "title": "Saving video to DocumentsDirectory", "body": "<p>I am trying to improve my self with coding Objective c and I am not good enough to solve this problem. \nI am using the code below to merge video with audio and save the final video to camera roll. The code working perfect but what I need is to save that video to temporary documents, so that I can change or modify the video without saving it every time I do small change.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>- (IBAction)addBackgroundMusicAction:(UIButton *)sender {\n    if (self.asset == nil) {\n        return;\n    }\n\n\n    NSString *outPutPath = [NSTemporaryDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@\"mergeVideo-%d.mov\",arc4random() % 1000]];\n\n    NSURL *outPutUrl = [NSURL fileURLWithPath:outPutPath];\n    if ([[NSFileManager defaultManager] fileExistsAtPath:outPutPath])\n    {\n        [[NSFileManager defaultManager] removeItemAtPath:outPutPath error:nil];\n    }\n    AVMutableComposition *composition = [AVMutableComposition composition];\n    CMTimeRange videoTimeRange = CMTimeRangeMake(kCMTimeZero, self.asset.duration);\n    AVMutableCompositionTrack *videoTrack = [composition addMutableTrackWithMediaType:AVMediaTypeVideo preferredTrackID:kCMPersistentTrackID_Invalid];\n\n    AVAssetTrack *videoAssetTrack = [[self.asset tracksWithMediaType:AVMediaTypeVideo] firstObject];\n    [videoTrack insertTimeRange:videoTimeRange ofTrack:videoAssetTrack atTime:kCMTimeZero error:nil];\n\n    AVURLAsset *audioAsset = [[AVURLAsset alloc] initWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@\"myAudio\" ofType:@\"mp3\"]] options:nil];\n    AVMutableCompositionTrack *audioTrack = [composition addMutableTrackWithMediaType:AVMediaTypeAudio preferredTrackID:kCMPersistentTrackID_Invalid];\n    AVAssetTrack *audioAssetTrack = [[audioAsset tracksWithMediaType:AVMediaTypeAudio] firstObject];\n    [audioTrack insertTimeRange:videoTimeRange ofTrack:audioAssetTrack atTime:kCMTimeZero error:nil];\n\n\n    // 3.1 - Create AVMutableVideoCompositionInstruction\n    AVMutableVideoCompositionInstruction *mainInstruction = [AVMutableVideoCompositionInstruction videoCompositionInstruction];\n    mainInstruction.timeRange = CMTimeRangeMake(kCMTimeZero, self.asset.duration);\n    // 3.2 - Create an AVMutableVideoCompositionLayerInstruction for the video track and fix the orientation.\n    AVMutableVideoCompositionLayerInstruction *videolayerInstruction = [AVMutableVideoCompositionLayerInstruction videoCompositionLayerInstructionWithAssetTrack:videoTrack];\n    UIImageOrientation videoAssetOrientation_  = UIImageOrientationUp;\n    BOOL isVideoAssetPortrait_  = NO;\n    CGAffineTransform videoTransform = videoAssetTrack.preferredTransform;\n    if (videoTransform.a == 0 &amp;&amp; videoTransform.b == 1.0 &amp;&amp; videoTransform.c == -1.0 &amp;&amp; videoTransform.d == 0) {\n        videoAssetOrientation_ = UIImageOrientationRight;\n        isVideoAssetPortrait_ = YES;\n    }\n    if (videoTransform.a == 0 &amp;&amp; videoTransform.b == -1.0 &amp;&amp; videoTransform.c == 1.0 &amp;&amp; videoTransform.d == 0) {\n        videoAssetOrientation_ =  UIImageOrientationLeft;\n        isVideoAssetPortrait_ = YES;\n    }\n    if (videoTransform.a == 1.0 &amp;&amp; videoTransform.b == 0 &amp;&amp; videoTransform.c == 0 &amp;&amp; videoTransform.d == 1.0) {\n        videoAssetOrientation_ =  UIImageOrientationUp;\n    }\n    if (videoTransform.a == -1.0 &amp;&amp; videoTransform.b == 0 &amp;&amp; videoTransform.c == 0 &amp;&amp; videoTransform.d == -1.0) {\n        videoAssetOrientation_ = UIImageOrientationDown;\n    }\n    [videolayerInstruction setTransform:videoAssetTrack.preferredTransform atTime:kCMTimeZero];\n    [videolayerInstruction setOpacity:0.0 atTime:self.asset.duration];\n\n    // 3.3 - Add instructions\n    mainInstruction.layerInstructions = [NSArray arrayWithObjects:videolayerInstruction,nil];\n\n    AVMutableVideoComposition *mainCompositionInst = [AVMutableVideoComposition videoComposition];\n\n    CGSize naturalSize;\n    if(isVideoAssetPortrait_){\n        naturalSize = CGSizeMake(videoAssetTrack.naturalSize.height, videoAssetTrack.naturalSize.width);\n    } else {\n        naturalSize = videoAssetTrack.naturalSize;\n    }\n\n    float renderWidth, renderHeight;\n    renderWidth = naturalSize.width;\n    renderHeight = naturalSize.height;\n    mainCompositionInst.renderSize = CGSizeMake(renderWidth, renderHeight);\n    mainCompositionInst.instructions = [NSArray arrayWithObject:mainInstruction];\n    mainCompositionInst.frameDuration = CMTimeMake(1, 30);\n\n\n    AVAssetExportSession * assetExport = [[AVAssetExportSession alloc] initWithAsset:composition presetName:AVAssetExportPresetMediumQuality];\n    assetExport.outputURL = outPutUrl;\n    assetExport.outputFileType = AVFileTypeQuickTimeMovie;\n    assetExport.shouldOptimizeForNetworkUse = YES;\n    assetExport.videoComposition = mainCompositionInst;\n    [assetExport exportAsynchronouslyWithCompletionHandler:^{\n        dispatch_async(dispatch_get_main_queue(), ^{\n            [self exportDidFinish:assetExport];\n        });\n    }];\n}\n</code></pre>\n\n<p>And her is where I export the video to the camera roll:</p>\n\n<pre><code>- (void)exportDidFinish:(AVAssetExportSession*)session {\n    if (session.status == AVAssetExportSessionStatusCompleted) {\n        NSURL *outputURL = session.outputURL;\n        ALAssetsLibrary *library = [[ALAssetsLibrary alloc] init];\n        if ([library videoAtPathIsCompatibleWithSavedPhotosAlbum:outputURL]) {\n            [library writeVideoAtPathToSavedPhotosAlbum:outputURL completionBlock:^(NSURL *assetURL, NSError *error){\n                dispatch_async(dispatch_get_main_queue(), ^{\n                    if (error) {\n                        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Error\" message:@\"Video Saving Failed\"\n                                                                       delegate:nil cancelButtonTitle:@\"OK\" otherButtonTitles:nil];\n                        [alert show];\n                    } else {\n                        AVPlayerItem * playeritem = [AVPlayerItem playerItemWithURL:outputURL];\n                        [_player replaceCurrentItemWithPlayerItem:playeritem];\n                        [_player play];\n\n                    }\n                });\n            }];\n        }\n    }\n}\n</code></pre>\n\n<p>As I said, I do not need to save the video to the camera roll, I just need to save it Temporary. Also I need to load that video when I press another button. Saving that video and load it again.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "memory"], "comments": [{"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1511770769, "post_id": 47506410, "comment_id": 81968576, "body": "Have you googled the multiple warnings which seem to be telling you exactly what is wrong and what to do to fix them? It seems like that would be a good first step."}, {"owner": {"reputation": 957, "user_id": 4231147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cd434cb972b2dad79320101b7a42692?s=128&d=identicon&r=PG&f=1", "display_name": "gutte", "link": "https://stackoverflow.com/users/4231147/gutte"}, "edited": false, "score": 0, "creation_date": 1511770955, "post_id": 47506410, "comment_id": 81968658, "body": "It is very difficult to understand the problem from the info you have shared with us.... BTW, those warnings indicate that some action is performed multiple time until you ran out of memory. it suggests you need to handle memory warnings in your app"}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 1, "creation_date": 1511771735, "post_id": 47506410, "comment_id": 81969008, "body": "A quick google shows that you\u2019re using DTCoreText which suggests your long label is not in a web view as html but is an actual label. And the developer of be framework says that for long text you should be using a CATiledLayer. <a href=\"https://github.com/Cocoanetics/DTCoreText/issues/1096\" rel=\"nofollow noreferrer\">github.com/Cocoanetics/DTCoreText/issues/1096</a>"}, {"owner": {"reputation": 1685, "user_id": 5608734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206948066611534/picture?type=large", "display_name": "SriTeja Chilakamarri", "link": "https://stackoverflow.com/users/5608734/sriteja-chilakamarri"}, "edited": false, "score": 0, "creation_date": 1511772853, "post_id": 47506410, "comment_id": 81969642, "body": "Could you tell me how can I assign that, by any chance ? I have a text Label of the DTAttributedLabel"}], "owner": {"reputation": 1685, "user_id": 5608734, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206948066611534/picture?type=large", "display_name": "SriTeja Chilakamarri", "link": "https://stackoverflow.com/users/5608734/sriteja-chilakamarri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511770556, "creation_date": 1511770556, "question_id": 47506410, "link": "https://stackoverflow.com/questions/47506410/terminated-due-to-memory-issue-while-running-the-app-on-iphone-works-fine-on-th", "title": "Terminated due to memory issue while running the app on iPhone, works fine on the iPad", "body": "<p>My application crashes when running on the iPhone but works fine when running on iPad.</p>\n\n<p>I have a large son file which gets loaded first into my manager object and then gets loaded into a HTML file which the loads it onto a web view. I have many projects in my app and when I click on particular project the web view of that particular projects loads up. </p>\n\n<p>All the other projects (Medium to large) work just fine but there is one project which has a large JSON value crashes when I click. But it works just fine on the iPad.</p>\n\n<pre><code>2017-11-27 17:10:39.097616+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 299} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.097751+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 299} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.097992+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 272} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.098141+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 221} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.098648+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 221} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.098792+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 318} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.098964+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 403} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.099175+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 272} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.099344+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 247} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.099428+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 181} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.099558+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 247} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.099872+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 272} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.100048+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 221} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.100428+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 221} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.100543+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 318} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.100908+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 403} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.101088+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 272} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.101250+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 247} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.101387+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 181} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.101496+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1199, 247} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.102609+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {3325, 100} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.102688+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1290, 138} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.102784+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1290, 151} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.103757+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {3325, 100} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.103889+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1290, 138} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\n2017-11-27 17:10:39.104017+0900 beecanvas[12251:4095573] Warning: A DTAttributedLabel with size {1290, 151} is using a non-tiled layer. Set the layer class to a CATiledLayer subclass with [DTAttributedTextContentView setLayerClass:[DTTiledLayerWithoutFade class]].\nMessage from debugger: Terminated due to memory issue\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "swift3"], "comments": [{"owner": {"reputation": 618, "user_id": 1759450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVaZc.jpg?s=128&g=1", "display_name": "nshuman", "link": "https://stackoverflow.com/users/1759450/nshuman"}, "edited": false, "score": 0, "creation_date": 1511771384, "post_id": 47506391, "comment_id": 81968849, "body": "iOS doesn&#39;t have an out-of-the-box way to do this. You probably want some kind of algorithm to compare two images for exact matches (like byte-to-byte values comparison of their <code>NSData</code>), but then you need both pictures to compare on your hands. Which is a bit of a challenge if that first pic was saved long time ago."}, {"owner": {"reputation": 28757, "user_id": 1066828, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8785d8636d0dc68405fee1e9aa41728a?s=128&d=identicon&r=PG", "display_name": "Fahim Parkar", "link": "https://stackoverflow.com/users/1066828/fahim-parkar"}, "edited": false, "score": 0, "creation_date": 1511772389, "post_id": 47506391, "comment_id": 81969378, "body": "IMHO compare bytes is the right way..."}, {"owner": {"reputation": 771, "user_id": 7546259, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4daaf990f79555581f40f45b54b3f1e0?s=128&d=identicon&r=PG&f=1", "display_name": "BuLB JoBs", "link": "https://stackoverflow.com/users/7546259/bulb-jobs"}, "edited": false, "score": 0, "creation_date": 1511774021, "post_id": 47506391, "comment_id": 81970294, "body": "Please compare NSData object instead of comparing UIImage Object. NSData *data1 = UIImagePNGRepresentation(image1);  NSData *data2 = UIImagePNGRepresentation(image2); return [data1 isEqualToData:data2];"}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 8095927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a39528b9235235f2df62d16ac6b4832?s=128&d=identicon&r=PG&f=1", "display_name": "Nilomi Shah", "link": "https://stackoverflow.com/users/8095927/nilomi-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1511786920, "creation_date": 1511786920, "answer_id": 47511387, "question_id": 47506391, "link": "https://stackoverflow.com/questions/47506391/how-to-restrict-same-photo-to-be-added-again-in-custom-album-in-ios/47511387#47511387", "title": "How to restrict same photo to be added again in custom album in iOS?", "body": "<p>You can check whether file of same name exist at that path (Document-directory).</p>\n\n<pre><code>    let fileManager = FileManager.default\n    var paths = (NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true)[0] as NSString)\n    paths = paths.appending(\"nameOfYourFile\") as (NSString)\n    if !fileManager.fileExists(atPath: paths as String){\n          //no such file exist at this path\n          UIImageWriteToSavedPhotosAlbum(newImage,  self, #selector(image(_:didFinishSavingWithError:contextInfo:)), nil) \n    }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8294393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ca6c3e94d629d62a97bc7d0ea03e9af?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Shah", "link": "https://stackoverflow.com/users/8294393/harsh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511786920, "creation_date": 1511770445, "last_edit_date": 1511772340, "question_id": 47506391, "link": "https://stackoverflow.com/questions/47506391/how-to-restrict-same-photo-to-be-added-again-in-custom-album-in-ios", "title": "How to restrict same photo to be added again in custom album in iOS?", "body": "<pre><code>UIImageWriteToSavedPhotosAlbum(newImage,  self, #selector(image(_:didFinishSavingWithError:contextInfo:)), nil)\n</code></pre>\n\n<p>Using this method I can save image in photo album but not able to restrict to be saved same photo again in photo album</p>\n"}, {"tags": ["ios", "objective-c", "button", "nib"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511787281, "post_id": 47506564, "comment_id": 81978667, "body": "i am still struggling to get it to work since i am still new to iOS"}, {"owner": {"reputation": 1062, "user_id": 8411281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d821173826f0f3420003aea7aa52bf?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/8411281/alan"}, "reply_to_user": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "edited": false, "score": 0, "creation_date": 1511787465, "post_id": 47506564, "comment_id": 81978784, "body": "Okay :) I tried to not give too much away in the answer so that you can try to do it yourself, let me know how it goes"}], "tags": [], "owner": {"reputation": 1062, "user_id": 8411281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d821173826f0f3420003aea7aa52bf?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/8411281/alan"}, "is_accepted": false, "score": 0, "last_activity_date": 1511771253, "creation_date": 1511771253, "answer_id": 47506564, "question_id": 47506004, "link": "https://stackoverflow.com/questions/47506004/click-button-to-show-nib-underneath-button/47506564#47506564", "title": "Click Button to show Nib underneath button", "body": "<p>You can place views over each other with iOS development. Let's say, for example, you have 2 UIViews that have the exact same frame. These two views let's say have a frame of x: 0, y: 0, width: 100, height: 100, so they're both squares starting from the top left of the screen. Nibs are basically customized UIViews, while a button subclasses UIView. </p>\n\n<p>If you do : </p>\n\n<pre><code>[self.view addSubview:nib];\n[self.view addSubview:button];\n</code></pre>\n\n<p>This will add the button on top of the nib, and since their frames are the same, they will be directly over each other. </p>\n\n<p>If you want to ensure the button is on top of the view you could do:</p>\n\n<pre><code>[self.view bringSubviewToFront:button]; \n</code></pre>\n\n<p>This aspect can also be handled directly from the storyboard.</p>\n\n<p>but this is a tad unnecessary.</p>\n\n<p>Now, for the button clicking up and down (I'm assuming you want to show the nib on click, and then show the button again when you release your finger), what you can do is add 2 IBAction outlets from your story board, or you can create the button actions programmatically like <a href=\"https://stackoverflow.com/questions/5843427/how-do-you-add-an-action-to-a-button-programmatically-in-xcode\">on this link</a>.</p>\n\n<p>One of these actions should be specified as a UIControlEventTouchDown and another as a UIControlEventTouchUpInside/Outside. In the button press/release functions, you need to simply hide the button from the overall view. This can be done through:</p>\n\n<pre><code>[button.setHidden:YES]; //On Click\n[button.setHidden:NO];  //On Release\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8923456, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/901f18e60752490e818e289d3f65e1f8?s=128&d=identicon&r=PG&f=1", "display_name": "kaddie", "link": "https://stackoverflow.com/users/8923456/kaddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511771253, "creation_date": 1511768731, "question_id": 47506004, "link": "https://stackoverflow.com/questions/47506004/click-button-to-show-nib-underneath-button", "title": "Click Button to show Nib underneath button", "body": "<p>I would like to create a feature that looks a like an accordion using objective-C. I have multiple buttons that are created dynamically. When a user clicks any of the buttons i would like to show the nib file underneath the button that was clicked. Note that only one button can be clicked at a time and show the nib underneath it.</p>\n\n<p>How can i achieve this in objective-C code :</p>\n\n<p>This is the sudo code of what i am trying to achieve </p>\n\n<pre><code>button.click {\n\nshow nib bottom of button;\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xml"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8861798, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1548989698496f036e0648b8e99529e7?s=128&d=identicon&r=PG&f=1", "display_name": "siddle", "link": "https://stackoverflow.com/users/8861798/siddle"}, "edited": false, "score": 0, "creation_date": 1511775468, "post_id": 47507072, "comment_id": 81971184, "body": "Yup, bro this is the scenario i want , i want to take the values from the each tag in this file, as u r getting value from xref how can we get value from other tags under it? @Predrag Samardzic"}], "tags": [], "owner": {"reputation": 1217, "user_id": 4189037, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059387325/picture?type=large", "display_name": "Predrag Samardzic", "link": "https://stackoverflow.com/users/4189037/predrag-samardzic"}, "is_accepted": true, "score": 0, "last_activity_date": 1511773228, "creation_date": 1511773228, "answer_id": 47507072, "question_id": 47505848, "link": "https://stackoverflow.com/questions/47505848/xml-file-parsing-delegate-issues/47507072#47507072", "title": "XML file parsing delegate issues", "body": "<p>If I am understanding correctly what you want (to get xref element's value), first declare a NSMutableString* tmpString to which you will append xref's value in foundCharacters method. Then this should do it:</p>\n\n<pre><code>-(void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *) namespaceURI qualifiedName:(NSString *)qName attributes: (NSDictionary *)attributeDict\n{\n    _currentElement = [[NSMutableString alloc]initWithString:elementName];\n\n    if([elementName isEqualToString:@\"QF\"]) {\n        NSLog(@\"ID %@\",[attributeDict objectForKey:@\"id\"]);\n        NSLog(@\"Topic %@\",[attributeDict objectForKey:@\"topic\"]);\n\n    }\n\n    if( [elementName isEqualToString:@\"xref\"])\n    {\n        _tmpString = [[NSMutableString alloc] init];\n    }\n\n}\n-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{\n    if([_currentElement isEqualToString:@\"xref\"]){\n        [_tmpString appendString:string];\n    }\n}\n-(void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{\n\n    if( [elementName isEqualToString:@\"QF\"])\n    {\n        [_foundValue setString:elementName];\n    }\n\n    if( [elementName isEqualToString:@\"xref\"])\n    {\n        NSLog(@\"xref %@\",_tmpString);\n        [_foundValue setString:elementName];\n    }\n    _currentElement = nil;\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>ID AB2001\nTopic Alertness\nxref DES s4, DES s9, HC r159-161\n</code></pre>\n\n<p>FoundCharacters method is one capturing text between start and end tag of an element. So we keep track of current element, and if it is element we are interested in, we get its text inside foundCharacters method.</p>\n"}], "owner": {"reputation": 107, "user_id": 8861798, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1548989698496f036e0648b8e99529e7?s=128&d=identicon&r=PG&f=1", "display_name": "siddle", "link": "https://stackoverflow.com/users/8861798/siddle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 47507072, "answer_count": 1, "score": 0, "last_activity_date": 1511773228, "creation_date": 1511768058, "question_id": 47505848, "link": "https://stackoverflow.com/questions/47505848/xml-file-parsing-delegate-issues", "title": "XML file parsing delegate issues", "body": "<p>i have xml file to which i'm parsing through the delegates method of NSXML parser. I have three delegates method didStart , FoundCharacters and didEndElement. When i parse the file and when it goes in found characters method it shows me all the string data from xml file in console, but i'm trying to take only the given tag data value. Its showing me all the string data from xml file . My xml file is this,</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;QF id=\"AB2001\" topic=\"Alertness\" category=\"C&amp;amp;M\" ni_exempt=\"no\"&gt;\n&lt;question&gt;\n    &lt;xref&gt;DES s4, DES s9, HC r159-161&lt;/xref&gt;\n    &lt;text&gt;Before you make a U-turn in the road, you should&lt;/text&gt;\n    &lt;graphic&gt;&lt;/graphic&gt;\n    &lt;prompt&gt;Mark one answer&lt;/prompt&gt;\n    &lt;voice id=\"AB2001-1\"/&gt;\n\n    &lt;explanation&gt;\n    &lt;text&gt;If you want to make a U-turn, slow down and ensure that the road is clear in both directions. Make sure that the road is wide enough to carry out the manoeuvre safely.&lt;/text&gt;\n    &lt;voice id=\"AB2001-2\"/&gt;\n&lt;/explanation&gt;\n\n&lt;/question&gt;\n&lt;answers&gt;\n    &lt;answer correct=\"no\"&gt;\n        &lt;text&gt;give an arm signal as well as using your indicators&lt;/text&gt;\n        &lt;graphic&gt;&lt;/graphic&gt;\n    &lt;/answer&gt;\n    &lt;answer correct=\"no\"&gt;\n        &lt;text&gt;signal so that other drivers can slow down for you&lt;/text&gt;\n        &lt;graphic&gt;&lt;/graphic&gt;\n    &lt;/answer&gt;\n    &lt;answer correct=\"yes\"&gt;\n        &lt;text&gt;look over your shoulder for a final check&lt;/text&gt;\n        &lt;graphic&gt;&lt;/graphic&gt;\n    &lt;/answer&gt;\n    &lt;answer correct=\"no\"&gt;\n        &lt;text&gt;select a higher gear than normal&lt;/text&gt;\n        &lt;graphic&gt;&lt;/graphic&gt;\n    &lt;/answer&gt;\n&lt;/answers&gt;\n</code></pre>\n\n<p></p>\n\n<p>The methods are these through which i'm parsing,</p>\n\n<pre><code>-(void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *) namespaceURI qualifiedName:(NSString *)qName\n\n\n\n attributes: (NSDictionary *)attributeDict\n\n{\nif([elementName isEqualToString:@\"QF\"]) {\n    NSLog(@\"ID %@\",[attributeDict objectForKey:@\"id\"]);\n    NSLog(@\"Topic %@\",[attributeDict objectForKey:@\"topic\"]);\n\n}\n\nif( [elementName isEqualToString:@\"question\"])\n{\n\n    _foundValue = [[NSMutableString alloc] init];\n\n}\n\n}\n-(void)parser:(NSXMLParser *)parser foundCharacters:(NSString *)string{\n// Store the found characters if only we're interested in the current element.\n\nif([_currentElement isEqualToString:@\"xref\"]){\n// init the ad hoc string with the value\n_currentElement = [[NSMutableString alloc] initWithString:string];\n    NSLog(@\"Hello\");\n} else {\n// append value to the ad hoc string\n[_currentElement stringByAppendingString:string];\nNSLog(@\"Hi\");\n}\nNSLog(@\"Processing value for : %@\", string);\n}\n-(void)parser:(NSXMLParser *)parser didEndElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qName{\n\nif( [elementName isEqualToString:@\"QF\"])\n{\n    [_foundValue setString:elementName];\n\n    NSLog(@\"rr %@\",_foundValue);\n}\n\nif( [elementName isEqualToString:@\"xref\"])\n{\n    [_foundValue setString:elementName];\n}\n_currentElement = nil;\n}\n</code></pre>\n\n<p>In console i'm getting all the string data, from and  even from answer tag but i haven't given that tag to parse. I'm confused that why it isn't getting value from the tag which i have given?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 7209, "user_id": 1891327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dU9Mf.png?s=128&g=1", "display_name": "Shamas S", "link": "https://stackoverflow.com/users/1891327/shamas-s"}, "edited": false, "score": 0, "creation_date": 1511763220, "post_id": 47504918, "comment_id": 81965623, "body": "<a href=\"https://stackoverflow.com/q/23074539/1891327\">stackoverflow.com/q/23074539/1891327</a>"}, {"owner": {"reputation": 3111, "user_id": 1647074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nw7Hf.jpg?s=128&g=1", "display_name": "jignesh Vadadoriya", "link": "https://stackoverflow.com/users/1647074/jignesh-vadadoriya"}, "edited": false, "score": 0, "creation_date": 1511763719, "post_id": 47504918, "comment_id": 81965797, "body": "<a href=\"https://stackoverflow.com/questions/41013702/gradient-effect-on-some-portion-of-uiimageview/41014007#41014007\" title=\"gradient effect on some portion of uiimageview\">stackoverflow.com/questions/41013702/&hellip;</a>"}, {"owner": {"reputation": 2477, "user_id": 4540425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c10bd56052a523cbd5a9d3dc574b8e65?s=128&d=identicon&r=PG&f=1", "display_name": "OverD", "link": "https://stackoverflow.com/users/4540425/overd"}, "edited": false, "score": 0, "creation_date": 1511769043, "post_id": 47504918, "comment_id": 81967828, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23074539/programmatically-create-a-uiview-with-color-gradient\">Programmatically create a UIView with color gradient</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "is_accepted": true, "score": 0, "last_activity_date": 1511767474, "last_edit_date": 1511767474, "creation_date": 1511766538, "answer_id": 47505529, "question_id": 47504918, "link": "https://stackoverflow.com/questions/47504918/ios-uiview-for-complete-viewcontroller-frame/47505529#47505529", "title": "ios UIView for complete viewController frame", "body": "<pre><code>-(UIView *) returnGradientView {\n     UIView *view = [[UIView alloc] initWithFrame:CGRectMake(0, 0, self.view.bounds.size.width, self.view.bounds.size.height)];\n     CAGradientLayer *gradient = [CAGradientLayer layer];\n     gradient.frame = view.bounds;\n     //change your color as you like, I have used black and white\n     gradient.colors = @[(id)[UIColor blackColor].CGColor, (id)[UIColor whiteColor].CGColor];\n     [view.layer insertSublayer:gradient atIndex:0];\n     return view;\n}\n</code></pre>\n\n<p><strong>Edit</strong> </p>\n\n<p>this will create an gradient view, upper side white and lower side is black. if you want to make <code>top-bottom</code> or <code>left-right</code> you have to add <code>startPoint</code> and <code>endPoint</code> </p>\n\n<p>just add two line</p>\n\n<pre><code>gradient.startPoint = CGPointMake(1.0, 0.0);\ngradient.endPoint = CGPointMake(0.0, 0.0);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6207468, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-682_pFK9lfQ/AAAAAAAAAAI/AAAAAAAABKE/CBPTRjc2jJ0/photo.jpg?sz=128", "display_name": "Rama Krishna", "link": "https://stackoverflow.com/users/6207468/rama-krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1511774664, "accepted_answer_id": 47505529, "answer_count": 1, "score": -5, "last_activity_date": 1511767474, "creation_date": 1511763133, "last_edit_date": 1511766148, "question_id": 47504918, "link": "https://stackoverflow.com/questions/47504918/ios-uiview-for-complete-viewcontroller-frame", "closed_reason": "Needs details or clarity", "title": "ios UIView for complete viewController frame", "body": "<p>I am beginner for ios and I want to create a UIVew as like Image. You can observe a white color from one place to another place in the attached image. How can I achieve it. Thanks in advance.</p>\n\n<p><img src=\"https://i.stack.imgur.com/GHCcI.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["ios", "objective-c", "swift", "key-value-observing"], "comments": [{"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1511758971, "post_id": 47504193, "comment_id": 81964204, "body": "what about using <code>didSet</code> ?"}, {"owner": {"reputation": 113, "user_id": 7792204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nhnE.jpg?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/7792204/akshay"}, "reply_to_user": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1511759090, "post_id": 47504193, "comment_id": 81964229, "body": "I don&#39;t know how to accomplish, can you add as  answer ?"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1511760089, "post_id": 47504193, "comment_id": 81964517, "body": "What is your purpose to add KVO in scrollview even though you have scrollview delegate methods , If you don&#39;t aware about delegate methods  just google it how to set delegate of uiscrollview"}], "answers": [{"tags": [], "owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "is_accepted": false, "score": 1, "last_activity_date": 1511760193, "creation_date": 1511760193, "answer_id": 47504406, "question_id": 47504193, "link": "https://stackoverflow.com/questions/47504193/writing-kvo-context-in-swift/47504406#47504406", "title": "Writing Kvo context in Swift", "body": "<p>You could use swift 4's new feature</p>\n\n<pre><code>// Setting up KVO\n observation = scrollView.observe(\\.contentOffset, changeHandler: { (object, change) in\n       print(\"Updated Value: \\(object.contentOffset)\")\n })\n\n // Deiniting or invalidating the observation token ends the observation\n observation.invalidate()\n\n // After invalidating KVO doesn't trigger anymore\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1511834127, "post_id": 47506103, "comment_id": 82001855, "body": "Why is the Objective-C code bad? <code>kKVOContext</code> contains the address of itself."}], "tags": [], "owner": {"reputation": 14221, "user_id": 5012441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w495.jpg?s=128&g=1", "display_name": "Josh Homann", "link": "https://stackoverflow.com/users/5012441/josh-homann"}, "is_accepted": false, "score": 1, "last_activity_date": 1511769147, "creation_date": 1511769147, "answer_id": 47506103, "question_id": 47504193, "link": "https://stackoverflow.com/questions/47504193/writing-kvo-context-in-swift/47506103#47506103", "title": "Writing Kvo context in Swift", "body": "<p>This Objective C code is bad; context is used with being initalized.  In Swift it will be initialized to 0.  Anyways, the context is for you to use.  Its an arbitrary value that lets you specify why you are observing this value or who is obversing this value, apart from the object and keypath.  Its basically a user cookie.  Thats why this code doesn't crash; the OS doesn't use the context, you do.  In Swift you can just pass in the reference to any reference type, or you can actually omit the parameter; it defaults to nil if you aren't using it: <code>self.superview?.removeObserver(self.parent!, forKeyPath: \"contentOffset\")</code></p>\n"}], "owner": {"reputation": 113, "user_id": 7792204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nhnE.jpg?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/7792204/akshay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1514521802, "creation_date": 1511758773, "last_edit_date": 1514521802, "question_id": 47504193, "link": "https://stackoverflow.com/questions/47504193/writing-kvo-context-in-swift", "title": "Writing Kvo context in Swift", "body": "<p>In <strong>ObjC</strong></p>\n\n<pre><code>static void * const kKVOContext = (void*)&amp;kKVOContext;\n[self.superview removeObserver:self.parent forKeyPath:NSStringFromSelector(@selector(contentOffset)) context:kKVOContext];\n</code></pre>\n\n<p><code>contentOffset</code> is <code>UIScrollView</code> property.</p>\n\n<p>I have written this into swift as-</p>\n\n<p><strong>Swift</strong></p>\n\n<pre><code> var kKVOContext = UnsafeMutableRawPointer.allocate(bytes: 4 * 4, alignedTo: 1)\n self.superview?.removeObserver(self.parent!, forKeyPath: NSStringFromSelector(#selector(getter: UIScrollView.contentOffset)), context: &amp;kKVOContext)\n</code></pre>\n\n<p>So in Swift\nIs this correct way or it should be diffrent  <code>UnsafeMutableRawPointer</code>? or How can i write <code>kKVOContext</code> in swift ?</p>\n"}, {"tags": ["ios", "objective-c", "uisearchcontroller"], "comments": [{"owner": {"reputation": 361, "user_id": 7618838, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/4e173cffdf01ad75c98fc1f30b05b825?s=128&d=identicon&r=PG&f=1", "display_name": "mlecoz", "link": "https://stackoverflow.com/users/7618838/mlecoz"}, "edited": false, "score": 1, "creation_date": 1512535502, "post_id": 47503666, "comment_id": 82292899, "body": "This video from WWDC talks about how to accommodate search bars in iOS 11. Perhaps you&#39;ll find it useful! <a href=\"https://developer.apple.com/videos/play/fall2017/201/\" rel=\"nofollow noreferrer\">developer.apple.com/videos/play/fall2017/201</a>"}], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 8864441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a7b8a139182852f89519158d403673?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh Pawar", "link": "https://stackoverflow.com/users/8864441/ganesh-pawar"}, "edited": false, "score": 0, "creation_date": 1568025466, "post_id": 47624158, "comment_id": 102131033, "body": "I have code same as question and facing same issue only in iOS11.2.5 &amp; iPhone 6s only. With all other device it is working fine. I get this issue when I click on search, type something and click on one of the item from search result -&gt; redirects to next screen and comes back to first screen. Any idea what needs to be done?"}, {"owner": {"reputation": 2201, "user_id": 5031210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/708eec213458f78c42ed060848d4e649?s=128&d=identicon&r=PG", "display_name": "Marco Boschi", "link": "https://stackoverflow.com/users/5031210/marco-boschi"}, "reply_to_user": {"reputation": 186, "user_id": 8864441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a7b8a139182852f89519158d403673?s=128&d=identicon&r=PG&f=1", "display_name": "Ganesh Pawar", "link": "https://stackoverflow.com/users/8864441/ganesh-pawar"}, "edited": false, "score": 0, "creation_date": 1568029235, "post_id": 47624158, "comment_id": 102132761, "body": "It\u2019s better to ask this in a separate question providing all the details of what\u2019s going wrong and your code."}], "tags": [], "owner": {"reputation": 2201, "user_id": 5031210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/708eec213458f78c42ed060848d4e649?s=128&d=identicon&r=PG", "display_name": "Marco Boschi", "link": "https://stackoverflow.com/users/5031210/marco-boschi"}, "is_accepted": true, "score": 3, "last_activity_date": 1512375178, "last_edit_date": 1512375178, "creation_date": 1512341035, "answer_id": 47624158, "question_id": 47503666, "link": "https://stackoverflow.com/questions/47503666/search-bar-overlapping-status-bar-in-search-controller/47624158#47624158", "title": "Search bar overlapping status bar in search controller", "body": "<p>From your screenshots it appears you're working on iOS 11, with this version the way the <code>UISearchController</code> search bar is added to UI has changed. On iOS 11 is the navigation item that takes care of displaying search so UIKit has not been updated to correctly handle the search bar presented in the table header view.</p>\n\n<p>On iOS \u226410 you should continue to use</p>\n\n<pre><code>self.tableView.tableHeaderView = _searchController.searchBar;\n</code></pre>\n\n<p>but switch to</p>\n\n<pre><code>self.navigationItem.searchController = _searchController;\nself.navigationItem.hidesSearchBarWhenScrolling = YES;\n</code></pre>\n\n<p>on iOS 11 and later.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 833414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12cbfd7d2280cdb7ca8f09be6acfb527?s=128&d=identicon&r=PG", "display_name": "Fergal Mohan", "link": "https://stackoverflow.com/users/833414/fergal-mohan"}, "is_accepted": false, "score": 1, "last_activity_date": 1520417716, "creation_date": 1520417716, "answer_id": 49149331, "question_id": 47503666, "link": "https://stackoverflow.com/questions/47503666/search-bar-overlapping-status-bar-in-search-controller/49149331#49149331", "title": "Search bar overlapping status bar in search controller", "body": "<p>Just a quick additional caveat that the searchBar might still disappear on versions &lt; iOS 11 unless you specify that you don't want it to hide the NavBar\ne.g.</p>\n\n<pre><code>    if (@available(iOS 11.0, *)) {\n        self.navigationItem.searchController = self.mySearchController;\n        self.navigationItem.hidesSearchBarWhenScrolling = YES;\n    } else {\n        // Fallback on earlier versions\n        self.tableView.tableHeaderView = self.mySearchController.searchBar;       // show the SearchBar in TV header\n        self.mySearchController.hidesNavigationBarDuringPresentation = NO;\n    }\n</code></pre>\n"}], "owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 47624158, "answer_count": 2, "score": 0, "last_activity_date": 1520417716, "creation_date": 1511754351, "question_id": 47503666, "link": "https://stackoverflow.com/questions/47503666/search-bar-overlapping-status-bar-in-search-controller", "title": "Search bar overlapping status bar in search controller", "body": "<p>I created a <code>UISearchController</code> programmatically in a <code>UITableViewController</code>. It works fine but the search bar isn't displaying correctly with the status bar. Here is my code and some screenshots. It also makes a funny animation when canceling the search.</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    _resultsTableViewController = [ResultsTableViewController new];\n    _searchController = [[UISearchController alloc] initWithSearchResultsController:_resultsTableViewController];\n    _searchController.searchResultsUpdater = _resultsTableViewController;\n    _searchController.dimsBackgroundDuringPresentation = NO;\n    self.definesPresentationContext = YES;\n    self.tableView.tableHeaderView = _searchController.searchBar;       \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/I149b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I149b.png\" alt=\"enter image description here\"></a></p>\n\n<p>There should be more padding here with the status bar.\n<a href=\"https://i.stack.imgur.com/f5Yef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5Yef.png\" alt=\"enter image description here\"></a></p>\n\n<p>When you I cancel searching I get a bad animation here that's the height of the status bar.\n<a href=\"https://i.stack.imgur.com/yMMk2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMMk2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "multithreading"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1511895366, "post_id": 47503611, "comment_id": 82034779, "body": "Step one: Don&#39;t call <code>performSelectorInBackground</code>. Just don&#39;t. NSOperation and Grand Central Dispatch are at your service."}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 1407422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45ca2c291d81c0d13189d7a31080cdb?s=128&d=identicon&r=PG", "display_name": "Gulliva", "link": "https://stackoverflow.com/users/1407422/gulliva"}, "is_accepted": false, "score": 0, "last_activity_date": 1511770001, "creation_date": 1511770001, "answer_id": 47506288, "question_id": 47503611, "link": "https://stackoverflow.com/questions/47503611/threading-with-ios-and-waiting-for-function-completion/47506288#47506288", "title": "Threading with iOS and waiting for function completion", "body": "<p>Perhaps you should take a look at NSOperationQueue which allows you to call functions in own created Queues. The Queues are executed on an own Thread. </p>\n\n<p>For example: </p>\n\n<pre><code>NSOperationQueue *backgroundQueue = [[NSOperationQueue alloc]init];\nbackgroundQueue.maxConcurrentOperationCount = 1;\nbackgroundQueue.name = @\"com.foo.bar\";\n\n[_backgroundQueue addOperationWithBlock:^{\n       do what you want.... here you also have access to properties in your class.\n}];\n</code></pre>\n\n<p>With the operationCount you can handle the count of parallel executed operations. You can also create an own Subclass of NSOperation and execute your code there. Then you have to add the Operation like this [_backgroundQueue addOperation:SubclassOfNSOperation].</p>\n\n<p>I hope this helps you a little. Out of your Question I can't get more information to help you more in detail. Post some code perhaps.</p>\n"}, {"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 0, "last_activity_date": 1511894904, "creation_date": 1511894904, "answer_id": 47538843, "question_id": 47503611, "link": "https://stackoverflow.com/questions/47503611/threading-with-ios-and-waiting-for-function-completion/47538843#47538843", "title": "Threading with iOS and waiting for function completion", "body": "<blockquote>\n  <p>don't want it to be called at the same time</p>\n</blockquote>\n\n<p>That suggests a \"serial queue\". That could be a dispatch queue or an operation queue. But a serial queue is one that can run only one task at a time.</p>\n\n<p>Or, you can decouple the loop from the repeating vibration and set up a timer to run while your loop progresses which will repeatedly call your vibration routine and then cancel the timer at the end of the loop. You can either use a standard <code>NSTimer</code> and have it dispatch the calls to whatever queue you want, or you can use a GCD timer, which you can schedule on a background queue.</p>\n\n<p>It depends upon the details of how this vibration routine works and the nature of your loop. We'd need more detail (e.g. describe the broader problem and the nature of this \"vibrate\" routine) to help you further.</p>\n"}], "owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 47538843, "answer_count": 2, "score": 0, "last_activity_date": 1511894904, "creation_date": 1511753807, "question_id": 47503611, "link": "https://stackoverflow.com/questions/47503611/threading-with-ios-and-waiting-for-function-completion", "title": "Threading with iOS and waiting for function completion", "body": "<p>I'm calling a function on a thread in my project.</p>\n\n<pre><code> [self performSelectorInBackground:@selector(shortVibration) withObject: nil];\n</code></pre>\n\n<p>It's called in a loop.</p>\n\n<p>I would like for the function to be called on its own thread.</p>\n\n<p>I don't want it to be called at the same time (if this thread Call is in a loop... and it is)</p>\n\n<p>So, I don't want to call my thread function again until the last one is done executing.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["objective-c", "cocoa", "setter", "getter"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1511739916, "post_id": 47501767, "comment_id": 81960198, "body": "I\u2019d remove that <code>maxConcurrentCount</code> in your getter. The main queue already is a serial queue, and to call <code>setMaxConcurrentCount</code> suggests some misunderstanding about the main queue. If you create your own queue, sure, set the <code>maxConcurrentCount</code>, but not if you\u2019re going to use the main queue."}], "answers": [{"comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1511747879, "post_id": 47502139, "comment_id": 81961791, "body": "&quot;A hand-written getter or setter is always non-atomic&quot;, hmmm... I didn&#39;t know all atomic code was automatically (or foot?) written ;-)"}], "tags": [], "owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "is_accepted": false, "score": 1, "last_activity_date": 1511738997, "creation_date": 1511738997, "answer_id": 47502139, "question_id": 47501767, "link": "https://stackoverflow.com/questions/47501767/creating-a-setter-for-nsoperationqueue/47502139#47502139", "title": "Creating a Setter for NSOperationQueue", "body": "<p>First, you declared the property \"queue\" to be a read/write property. That doesn't make sense. You really don't want everybody to assign to \"queue\". </p>\n\n<p>Second, you declared the property as \"atomic\". Either you read up on what \"atomic\" does, or you just believe me that it is very rare that it is useful. A hand-written getter or setter is always non-atomic. So you have a getter, which is non-atomic, and because the property itself is an atomic read/write property, you have an automatically generated setter which is atomic. You can't combine a non-atomic getter with an atomic setter or vice versa. </p>\n\n<p>How to solve: Change the property to nonatomic and readonly. One side effect is that you lose the _queue backing variable (you don't get a backing variable if all required accessors are implemented), so you will have to declare _queue yourself. </p>\n"}, {"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 2, "last_activity_date": 1511798519, "last_edit_date": 1511798519, "creation_date": 1511739701, "answer_id": 47502222, "question_id": 47501767, "link": "https://stackoverflow.com/questions/47501767/creating-a-setter-for-nsoperationqueue/47502222#47502222", "title": "Creating a Setter for NSOperationQueue", "body": "<p>Two observations:</p>\n\n<ol>\n<li><p>If you were to define your own setter, it might look like:</p>\n\n<pre><code>- (void)setQueue:(NSOperationQueue *)queue {\n    _queue = queue; \n}\n</code></pre>\n\n<p>Remember, if you implement both accessor methods (both the setter and getter), you\u2019ll have to manually synthesize the ivar, e.g. </p>\n\n<pre><code>@synthesize queue = _queue;\n</code></pre>\n\n<p>in your <code>@implementation</code>, because the compiler can no longer safely assume you needed the ivar of the particular name at all.</p></li>\n<li><p>You should revisit whether this should be <code>atomic</code> or <code>nonatomic</code>. Your getter is not <code>atomic</code> (nor is my example setter), so you likely just want to make this <code>nonatomic</code>. Being <code>atomic</code> \"means that the synthesized accessors ensure that a value is always fully retrieved by the getter method or fully set via the setter method, even if the accessors are called simultaneously from different threads\" (from <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/EncapsulatingData/EncapsulatingData.html#//apple_ref/doc/uid/TP40011210-CH5-SW37\" rel=\"nofollow noreferrer\">Programming with Objective-C: Properties are atomic by default</a>). You often don\u2019t need atomic accessor methods, but if you did, you would change these implementations to synchronize accordingly (e.g., with <code>NSLock</code>, <code>@synchronized</code> directive, a serial queue, reader-writer pattern, etc.).</p>\n\n<p>Note, if you had made it <code>nonatomic</code>, that also eliminates the need for you to write a custom setter to accompany your custom getter. If you implemented your own getter for an <code>atomic</code> property, the compiler cannot synthesize a corresponding <code>atomic</code> setter because it has no way of knowing how to synchronize its setter with your getter (as there are lots of different possible synchronization mechanisms). But if you make your property <code>nonatomic</code>, where no synchronization is needed, the compiler can synthesize simple, unsynchronized setter for you, and the warning instructing you to implement a setter, too, will go away.</p></li>\n</ol>\n"}], "owner": {"reputation": 57, "user_id": 8176251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e1d6dac7075db0968195acc41b41869?s=128&d=identicon&r=PG&f=1", "display_name": "Phox", "link": "https://stackoverflow.com/users/8176251/phox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "accepted_answer_id": 47502222, "answer_count": 2, "score": 0, "last_activity_date": 1511798519, "creation_date": 1511736080, "last_edit_date": 1511738075, "question_id": 47501767, "link": "https://stackoverflow.com/questions/47501767/creating-a-setter-for-nsoperationqueue", "title": "Creating a Setter for NSOperationQueue", "body": "<p>I have to create a <code>NSOperationQueue</code> that is atomic. </p>\n\n<pre><code>@property (atomic, strong) NSOperationQueue *queue;\n</code></pre>\n\n<p>I have this getter:</p>\n\n<pre><code>- (NSOperationQueue *)queue {\n  if (_queue == nil) {\n    _queue = [NSOperationQueue mainQueue];\n    [_queue setMaxConcurrentOperationCount:1];\n  }\n  return _queue;\n}\n</code></pre>\n\n<p>But Xcode says I have to create a setter.</p>\n\n<p>How should a setter for this case of mine be? I have no idea.</p>\n"}, {"tags": ["objective-c", "cocoa", "nswindow", "objective-c++"], "answers": [{"tags": [], "owner": {"reputation": 339, "user_id": 8919803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1859408af540d68d3ba66e612661ecde?s=128&d=identicon&r=PG&f=1", "display_name": "Maarten Foukhar", "link": "https://stackoverflow.com/users/8919803/maarten-foukhar"}, "is_accepted": true, "score": 1, "last_activity_date": 1511796982, "creation_date": 1511796982, "answer_id": 47514610, "question_id": 47501370, "link": "https://stackoverflow.com/questions/47501370/adding-events-to-nswindow-using-cocoa-and-objective-c/47514610#47514610", "title": "Adding events to NSWindow using Cocoa and Objective-C++", "body": "<p>You need to subclass NSWindow in order to receive key input events, for example:</p>\n\n<p>KWCustomWindow.h:</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface KWCustomWindow : NSWindow\n\n@end\n</code></pre>\n\n<p>KWCustomWindow.m</p>\n\n<pre><code>#import \"KWCustomWindow.h\"\n\n@implementation KWCustomWindow\n\n- (void)keyDown:(NSEvent *)event\n{\n    NSLog(@\"Key Down\");\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 7751385, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H1vU0.jpg?s=128&g=1", "display_name": "danivdwerf", "link": "https://stackoverflow.com/users/7751385/danivdwerf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 47514610, "answer_count": 1, "score": 1, "last_activity_date": 1512923105, "creation_date": 1511732969, "last_edit_date": 1512923105, "question_id": 47501370, "link": "https://stackoverflow.com/questions/47501370/adding-events-to-nswindow-using-cocoa-and-objective-c", "title": "Adding events to NSWindow using Cocoa and Objective-C++", "body": "<p>I've seen a lot of questions, but I couldn't find anything what helped me. I've looked at many Apple developer pages, but I find those to be a bit unclear.</p>\n\n<p>I want to make applications in Objective-C++ without Xcode or any other IDE that does all the work for me. My IDE is Atom, and I compile with g++. I have the following class to create a window:</p>\n\n<pre><code>//Window.mm\n#ifndef WINDOW_H\n#define WINDOW_H\n\n#import \"Cocoa/Cocoa.h\"\n\nclass Window\n{\n    private: NSWindow* window;\n\n    public: Window(const char* title, int x, int y, int w, int h, NSColor* bg = [NSColor colorWithCalibratedRed:0.3f green:0.3f blue:0.3f alpha:1.0f])\n    {\n        NSAutoreleasePool* pool = [[NSAutoreleasePool alloc] init];\n        [NSApplication sharedApplication];\n\n        NSRect frame = NSMakeRect(x, y, w, h);\n        NSUInteger windowStyle = NSWindowStyleMaskTitled | NSWindowStyleMaskClosable | NSWindowStyleMaskResizable;\n        NSRect rect = [NSWindow contentRectForFrameRect:frame styleMask:windowStyle];\n\n        this-&gt;window = [[[NSWindow alloc] initWithContentRect:rect styleMask:windowStyle backing:NSBackingStoreBuffered defer:NO] autorelease];\n        [this-&gt;window makeKeyAndOrderFront: this-&gt;window];\n        [this-&gt;window setBackgroundColor: bg];\n        [this-&gt;window setTitle: [NSString stringWithUTF8String:title]];\n        [this-&gt;window orderFrontRegardless];\n\n        [pool drain];\n        [NSApp run];\n  }\n};\n#endif\n</code></pre>\n\n<p>From what I did understand is that I need to do something with an NSView, but I'm not sure what I'm supposed to do. How will I be able to get key input from my window?</p>\n"}, {"tags": ["ios", "objective-c", "ios11", "sinch", "pushkit"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 1179166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fe6135ec908d2ae31f88e2b1587c4f?s=128&d=identicon&r=PG", "display_name": "Hazoomo", "link": "https://stackoverflow.com/users/1179166/hazoomo"}, "edited": false, "score": 0, "creation_date": 1512048173, "post_id": 47542591, "comment_id": 82105782, "body": "Thanks for your reply , Please how can I wake app or receive the calling in background mode ? , I am using pushKit and I want only to receive calling when I press home button and the status of app is background"}, {"owner": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 1, "creation_date": 1512066778, "post_id": 47542591, "comment_id": 82117869, "body": "@cjensen, your description is just for iOS 11 ? or for all iOS versions ?"}, {"owner": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "reply_to_user": {"reputation": 65, "user_id": 1179166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fe6135ec908d2ae31f88e2b1587c4f?s=128&d=identicon&r=PG", "display_name": "Hazoomo", "link": "https://stackoverflow.com/users/1179166/hazoomo"}, "edited": false, "score": 0, "creation_date": 1512066874, "post_id": 47542591, "comment_id": 82117921, "body": "@Hazoomo, please see this answer - <a href=\"https://stackoverflow.com/questions/42609204/pushkit-with-sinch-voip-not-working-with-pushkit/46520688#46520688\" title=\"pushkit with sinch voip not working with pushkit\">stackoverflow.com/questions/42609204/&hellip;</a>"}, {"owner": {"reputation": 65, "user_id": 1179166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fe6135ec908d2ae31f88e2b1587c4f?s=128&d=identicon&r=PG", "display_name": "Hazoomo", "link": "https://stackoverflow.com/users/1179166/hazoomo"}, "reply_to_user": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 0, "creation_date": 1512918438, "post_id": 47542591, "comment_id": 82440412, "body": "@gstream79 Thank you but did not help me , I will use Sinch! without notifications"}, {"owner": {"reputation": 65, "user_id": 1179166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fe6135ec908d2ae31f88e2b1587c4f?s=128&d=identicon&r=PG", "display_name": "Hazoomo", "link": "https://stackoverflow.com/users/1179166/hazoomo"}, "edited": false, "score": 0, "creation_date": 1512918490, "post_id": 47542591, "comment_id": 82440431, "body": "Please Any tutorial to use Sinch VOIP &amp; IM in iOS 11 ?!"}, {"owner": {"reputation": 65, "user_id": 1179166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fe6135ec908d2ae31f88e2b1587c4f?s=128&d=identicon&r=PG", "display_name": "Hazoomo", "link": "https://stackoverflow.com/users/1179166/hazoomo"}, "edited": false, "score": 1, "creation_date": 1515447795, "post_id": 47542591, "comment_id": 83296439, "body": "@cjensen latest Sample iOS SDK not work in background sinchCallingPush , sinchCallKit"}, {"owner": {"reputation": 111, "user_id": 10851721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLsGckXqRBA/AAAAAAAAAAI/AAAAAAAAAAc/E_awsDULVDI/photo.jpg?sz=128", "display_name": "Meet Ios Developer", "link": "https://stackoverflow.com/users/10851721/meet-ios-developer"}, "edited": false, "score": 0, "creation_date": 1592764823, "post_id": 47542591, "comment_id": 110535209, "body": "@cjensen Hazoomo gstream79 I really need help in sinch I am stuck, please help"}, {"owner": {"reputation": 131, "user_id": 1308590, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe1ae909e843d29d646759debbff7545?s=128&d=identicon&r=PG", "display_name": "famfamfam", "link": "https://stackoverflow.com/users/1308590/famfamfam"}, "edited": false, "score": 0, "creation_date": 1601969067, "post_id": 47542591, "comment_id": 113563412, "body": "same problem here, so bad voip"}], "tags": [], "owner": {"reputation": 2693, "user_id": 252140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a6d505b37119ddc80fd611be13dbff?s=128&d=identicon&r=PG", "display_name": "cjensen", "link": "https://stackoverflow.com/users/252140/cjensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1511911349, "creation_date": 1511911349, "answer_id": 47542591, "question_id": 47500782, "link": "https://stackoverflow.com/questions/47500782/voip-sinch-in-ios-11-not-work-in-background/47542591#47542591", "title": "VOIP Sinch in iOS 11 not work in background", "body": "<p>When you force kill an app apple wont wake the app for VoIP push, if you just have in background or reboot the phone apple will wake it up. Annoying, but that's apple </p>\n"}, {"comments": [{"owner": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 0, "creation_date": 1586518858, "post_id": 49650215, "comment_id": 108161556, "body": "Hi @Bo Li, Are you able to get receive voip notification on iOS 13 ?"}, {"owner": {"reputation": 111, "user_id": 10851721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLsGckXqRBA/AAAAAAAAAAI/AAAAAAAAAAc/E_awsDULVDI/photo.jpg?sz=128", "display_name": "Meet Ios Developer", "link": "https://stackoverflow.com/users/10851721/meet-ios-developer"}, "edited": false, "score": 0, "creation_date": 1592764952, "post_id": 49650215, "comment_id": 110535249, "body": "@Bo Li is facing the same issue"}], "tags": [], "owner": {"reputation": 171, "user_id": 4769966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CPly5.jpg?s=128&g=1", "display_name": "Bo Li", "link": "https://stackoverflow.com/users/4769966/bo-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1522844081, "last_edit_date": 1522844081, "creation_date": 1522842451, "answer_id": 49650215, "question_id": 47500782, "link": "https://stackoverflow.com/questions/47500782/voip-sinch-in-ios-11-not-work-in-background/49650215#49650215", "title": "VOIP Sinch in iOS 11 not work in background", "body": "<p>When you setup the Sinch managed push with the code below:</p>\n\n<pre><code>self.push = [Sinch managedPushWithAPSEnvironment:SINAPSEnvironmentAutomatic];\nself.push.delegate = self;\n[self.push setDesiredPushTypeAutomatically];\n</code></pre>\n\n<p>The Sinch SDK will automatically do all the PushKit registration for you. So step 3 and 4 in your description is not necessary and should not be there. Part of the code in step 2 is not needed as well. Please take a look at the Sinch CallKit sample app from the SDK download package, and refer to the implementation of that App.</p>\n\n<p>Below is a demo video made with the 3.12.4 Sinch SDK CallKit Sample App without any tweak, the device used in the demo is an iPhone7 running iOS 11, it gets the incoming call in background, killed and lockscreen mode:</p>\n\n<p><a href=\"https://1drv.ms/v/s!AgfbTtGQOGvz4keHeB8GAb7hWysb\" rel=\"nofollow noreferrer\">Sinch CallKit Sample App Demo Video</a></p>\n\n<p>Also, note that callKit only works with VoIP push, have you uploaded the right type of push certificate to Sinch Portal?<a href=\"https://i.stack.imgur.com/S4Plk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S4Plk.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 1179166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95fe6135ec908d2ae31f88e2b1587c4f?s=128&d=identicon&r=PG", "display_name": "Hazoomo", "link": "https://stackoverflow.com/users/1179166/hazoomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 0, "accepted_answer_id": 49650215, "answer_count": 2, "score": 1, "last_activity_date": 1522844081, "creation_date": 1511728630, "last_edit_date": 1511730014, "question_id": 47500782, "link": "https://stackoverflow.com/questions/47500782/voip-sinch-in-ios-11-not-work-in-background", "title": "VOIP Sinch in iOS 11 not work in background", "body": "<p>I use Sinch VOIP to make calling between App-To-App in iOS 11.1.2<br>\nWork well when the application status is foreground but in background and terminated nothing happened after I open the application console print </p>\n\n<pre><code>Pubnub request SCHEDULED (ID=081E49C2-C30A-4B4B-840C-E6A6051E6F44, URL=https://rebtelsdk.pubnub.com/subscribe/sub-c-c5e52f20-d446-11e3-b488-02ee2ddab7fe/5e1e1309-136a-40d4-935f-2627ebe4e8f2B/0/0, NST-VoIP: NO)\n\n\nPubnub request STARTED (ID=081E49C2-C30A-4B4B-840C-E6A6051E6F44)\nPubnub request SUCCESS (ID=081E49C2-C30A-4B4B-840C-E6A6051E6F44):\n(\n        (\n    ),\n    15117251992031337\n)\n\nonPubSubSubscriptionSuccess: userInfo: {\n    channel = \"5e1e1309-136a-40d4-935f-2627ebe4e8f2B\";\n    subscribeSequence = 1;\n    timetoken = 0;\n    useVoIPNetworkServiceType = 0;\n}\n</code></pre>\n\n<p>I upload VOIP &amp; APNS certificates to Sinch dashboard and I used <code>SINManagedPush</code> &amp; <code>PushKit</code> My code is  </p>\n\n<blockquote>\n  <ol>\n  <li>Setup Push Manager &amp; SINClient in didFinishLaunchingWithOptions</li>\n  </ol>\n</blockquote>\n\n<pre><code>    self.push = [Sinch managedPushWithAPSEnvironment:SINAPSEnvironmentAutomatic];\n    self.push.delegate = self;\n    [self.push setDesiredPushTypeAutomatically];\n    void (^onUserDidLogin)(NSString *) = ^(NSString *userId) {\n    [self.push registerUserNotificationSettings];\n    [self initSinchClientWithUserId:userId];\n    };\n    [[NSNotificationCenter defaultCenter]\n    addObserverForName:@\"UserDidLoginNotification\"\n    object:nil\n    queue:nil\n    usingBlock:^(NSNotification *note) {\n     NSString *userId = note.userInfo[@\"userId\"];\n\n     [[NSUserDefaults standardUserDefaults] setObject:userId     forKey:@\"userId\"];\n     [[NSUserDefaults standardUserDefaults] synchronize];\n     onUserDidLogin(userId);\n     }];\n\n\n     - (void)initSinchClientWithUserId:(NSString *)userId {\n    if (!_client) {\n    _client = [Sinch clientWithApplicationKey:@\"APP-Key\"\n                            applicationSecret:@\"APP-Secret\"\n                              environmentHost:@\"sandbox.sinch.com\"\n                                       userId:userId];\n\n    _client.delegate = self;\n    _client.callClient.delegate = self;\n    [_client setSupportCalling:YES];\n    [_client enableManagedPushNotifications];\n\n    [_client start];\n    [_client startListeningOnActiveConnection];\n    _callKitProvider = [[SINCallKitProvider alloc] initWithClient:_client];\n\n\n    }\n    }\n</code></pre>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>Get Device Token</li>\n  </ol>\n</blockquote>\n\n<pre><code>- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken\n{\n\n\n[self.push application:application didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n}\n\n-(void)userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(UNNotification *)notification withCompletionHandler:(void (^)(UNNotificationPresentationOptions options))completionHandler{\nNSLog(@\"User Info : %@\",notification.request.content.userInfo);\ncompletionHandler(UNAuthorizationOptionSound | UNAuthorizationOptionAlert | UNAuthorizationOptionBadge);\n\n[self.push application:[UIApplication sharedApplication] didReceiveRemoteNotification:notification.request.content.userInfo];\n}\n\n\n-(void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void(^)())completionHandler{\nNSLog(@\"User Info : %@\",response.notification.request.content.userInfo);\ncompletionHandler();\n[self.push application:[UIApplication sharedApplication] didReceiveRemoteNotification:response.notification.request.content.userInfo];\n}\n\n\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {\n[self.push application:application didReceiveRemoteNotification:userInfo];\n}\n</code></pre>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>PushKit</li>\n  </ol>\n</blockquote>\n\n<pre><code>-(void)voipRegistration\n{\nPKPushRegistry* voipRegistry = [[PKPushRegistry alloc] initWithQueue:dispatch_get_main_queue()];\nvoipRegistry.delegate = self;\nvoipRegistry.desiredPushTypes = [NSSet setWithObject:PKPushTypeVoIP];\n}\n\n -(void)pushRegistry:(PKPushRegistry *)registry didUpdatePushCredentials:(PKPushCredentials *)credentials forType:(NSString *)type\n{\n\n[_client registerPushNotificationData:credentials.token];\n }\n -(void)pushRegistry:(PKPushRegistry *)registry   didInvalidatePushTokenForType:(PKPushType)type{\n\n\nNSLog(@\"invalidated\");\n\n }\n</code></pre>\n\n<blockquote>\n  <p>4.Call voipRegistration when SINClient start</p>\n</blockquote>\n\n<pre><code>- (void)clientDidStart:(id&lt;SINClient&gt;)client {\nNSLog(@\"Sinch client started successfully (version: %@)\", [Sinch version]);\n[self voipRegistration];\n}\n</code></pre>\n\n<blockquote>\n  <p>5.Implement SINManagedPushDelegate &amp; SINCallClientDelegate</p>\n</blockquote>\n\n<pre><code>- (void)client:(id&lt;SINCallClient&gt;)client didReceiveIncomingCall:(id&lt;SINCall&gt;)call {\n\nUIViewController *top = self.window.rootViewController;\nwhile (top.presentedViewController) {\n    top = top.presentedViewController;\n}\n[top performSegueWithIdentifier:@\"callView\" sender:call];\n}\n\n- (SINLocalNotification *)client:(id&lt;SINClient&gt;)client localNotificationForIncomingCall:(id&lt;SINCall&gt;)call {\nSINLocalNotification *notification = [[SINLocalNotification alloc] init];\nNSArray * ansAr = @[@\"\u0631\u062f\",@\"Answer\"];\nNSArray * MsgAr = @[[NSString stringWithFormat:@\"\u0645\u0643\u0627\u0644\u0645\u0629 \u0644\u0645 \u064a\u0631\u062f \u0639\u0644\u064a\u0647\u0627 \u0645\u0646 %@\", [call remoteUserId]],[NSString stringWithFormat:@\"Incoming call from %@\", [call remoteUserId]]];\nnotification.alertAction = ansAr[self.languageID];\nnotification.alertBody = MsgAr[self.languageID];\nreturn notification;\n}\n- (void)client:(id&lt;SINClient&gt;)client willReceiveIncomingCall:(id&lt;SINCall&gt;)call {\n\n[self.callKitProvider reportNewIncomingCall:call];\n}\n</code></pre>\n\n<p>These is the code , Please help me if I forgot anything.<br>\nI checked the <code>credentials.token</code> is not null.<br>\nThank you for your help.</p>\n"}, {"tags": ["objective-c", "io", "uiimageview", "uiimage", "cgimage"], "answers": [{"comments": [{"owner": {"reputation": 4199, "user_id": 4452222, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b03c2edd7434fd8d900eebeb5b4f0100?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvik", "link": "https://stackoverflow.com/users/4452222/dalvik"}, "edited": false, "score": 0, "creation_date": 1511842334, "post_id": 47522095, "comment_id": 82003895, "body": "can you provide any link or resource for doing the same. It would be really helpful."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 4199, "user_id": 4452222, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b03c2edd7434fd8d900eebeb5b4f0100?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvik", "link": "https://stackoverflow.com/users/4452222/dalvik"}, "edited": false, "score": 0, "creation_date": 1511892308, "post_id": 47522095, "comment_id": 82033173, "body": "Unfortunately, actually encoding video isn&#39;t something I have much experience with (I wrote a GIF89a decoder ages ago, which is why I knew what I did :). I&#39;d suggest a new SO question once you do a bit of investigation."}], "tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": false, "score": 0, "last_activity_date": 1511829016, "creation_date": 1511829016, "answer_id": 47522095, "question_id": 47500506, "link": "https://stackoverflow.com/questions/47500506/generated-gif-is-too-large-objectivec/47522095#47522095", "title": "Generated Gif is too large - ObjectiveC", "body": "<p>If you want to create a video, encode a video.  Animated GIFs are awful for encapsulating video like animations.  They've only become so common because every browser can render them.  Unless your goal is cross-platform lowest common denominator playback, don't use animate gifs.</p>\n\n<p>40-80MB doesn't sound that surprising.   To reduce the size, reduce the resolution of the input images-- either by simply making them smaller or by reducing the color palette so they compress better.</p>\n"}], "owner": {"reputation": 4199, "user_id": 4452222, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b03c2edd7434fd8d900eebeb5b4f0100?s=128&d=identicon&r=PG&f=1", "display_name": "Dalvik", "link": "https://stackoverflow.com/users/4452222/dalvik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511829016, "creation_date": 1511726751, "question_id": 47500506, "link": "https://stackoverflow.com/questions/47500506/generated-gif-is-too-large-objectivec", "title": "Generated Gif is too large - ObjectiveC", "body": "<p>I am generating gif using the following method. </p>\n\n<pre><code>-(void)makeAnimatedGif:(NSArray *)imgArray {\n    __block NSString *fileName = [NSString stringWithFormat:@\"%ld\",(long)[[NSDate date] timeIntervalSince1970]];\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n        //Do background work\n        NSUInteger kFrameCount = imgArray.count;\n\n        NSDictionary *fileProperties = @{\n                                         (__bridge id)kCGImagePropertyGIFDictionary: @{\n                                                 (__bridge id)kCGImagePropertyGIFLoopCount: @0, // 0 means loop forever\n                                                 }\n                                         };\n\n        NSDictionary *frameProperties = @{\n                                          (__bridge id)kCGImagePropertyGIFDictionary: @{\n                                                  (__bridge id)kCGImagePropertyGIFDelayTime: @0.02f, // a float (not double!) in seconds, rounded to centiseconds in the GIF data\n                                                  }\n                                          };\n\n        NSURL *documentsDirectoryURL = [[NSFileManager defaultManager] URLForDirectory:NSDocumentDirectory inDomain:NSUserDomainMask appropriateForURL:nil create:YES error:nil];\n\n        NSURL *fileURL = [documentsDirectoryURL URLByAppendingPathComponent:fileName];\n\n        CGImageDestinationRef destination = CGImageDestinationCreateWithURL((__bridge CFURLRef)fileURL, kUTTypeGIF, kFrameCount, NULL);\n        CGImageDestinationSetProperties(destination, (__bridge CFDictionaryRef)fileProperties);\n\n        for (NSUInteger i = 0; i &lt; kFrameCount; i++) {\n            @autoreleasepool {\n                UIImage *image =[imgArray objectAtIndex:i];  //Here is the change\n                if (image.CGImage) {\n                    CGImageDestinationAddImage(destination, image.CGImage, (__bridge CFDictionaryRef)frameProperties);\n                }\n            }\n        }\n\n        if (!CGImageDestinationFinalize(destination)) {\n            NSLog(@\"failed to finalize image destination\");\n        }\n\n        dispatch_async(dispatch_get_main_queue(), ^{\n            //Update UI\n            CFRelease(destination);\n            [self manageGifWithUrl:fileURL];\n        });\n    });\n\n}\n</code></pre>\n\n<p>The problem with my gif is that the size is very large. Size of generated gif ranges from 40MB - 90MB. I am not able to find any solution for this.</p>\n\n<p>My imgArray contains 180 images. Is there any fix for this?</p>\n"}, {"tags": ["ios", "objective-c", "grand-central-dispatch", "dispatch-async"], "comments": [{"owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "edited": false, "score": 0, "creation_date": 1511724363, "post_id": 47499954, "comment_id": 81955610, "body": "This is going to be relatively expensive if you&#39;ve got a few UI calls to make in sequence as each one of them is going to create a new block and dispatch to the main queue. Since the dispatches are async, too, one block can be evaluated immediately while others wait on something else, causing your UI to update inconsistently. I&#39;d suggest finding a way to make the dispatch as non-ugly and non-intrusive as possible instead \u2014 you can make the code nicer with a macro or a helper function, or find a higher-level abstraction."}, {"owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "edited": false, "score": 0, "creation_date": 1511725156, "post_id": 47499954, "comment_id": 81955856, "body": "As you seem to use Obj-C could CPP macro(&#39;s) help our?"}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "reply_to_user": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "edited": false, "score": 0, "creation_date": 1511725599, "post_id": 47499954, "comment_id": 81956012, "body": "@meaning-matters - can you give an example on how this is not be as pollution in the code than the mess I already have?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1511725640, "post_id": 47499954, "comment_id": 81956026, "body": "It would probably be simpler to use setters on data properties that can asynchronously dispatch updates to the relevant UI elements and then you can simply update the data model properties whenever you want and know that the UI will be updated eventually. You could also look for a binding framework to make this easier."}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511725702, "post_id": 47499954, "comment_id": 81956047, "body": "@Paulw11 - sorry but your explanation sounds Klingon to me... I need code to see this... thanks"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511725900, "post_id": 47499954, "comment_id": 81956102, "body": "You can create your own setter function for a property, say <code>currentFoo</code>. In the setter function you can have a <code>dispatch_async</code> that sets <code>self.currentFooLabel.text = currentFoo</code>. Then in your background thread  code at any time you can just say <code>self.currentFoo = @\u201cnewFoo\u201d</code> or whatever and the setter function will take care of the dispatch async for you."}, {"owner": {"reputation": 2570, "user_id": 4142266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rMCN5.png?s=128&g=1", "display_name": "mschmidt", "link": "https://stackoverflow.com/users/4142266/mschmidt"}, "edited": false, "score": 0, "creation_date": 1511725961, "post_id": 47499954, "comment_id": 81956129, "body": "Your example implementation will call itself recursively or am I missing something? I think each function must check for the mainthread and either call super&#39;s original implementation or schedule a block."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511726135, "post_id": 47499954, "comment_id": 81956183, "body": "No, there is a difference between the property <code>currentFoo</code> and the text field you want to put that value into <code>currentFooLabel</code>. See <a href=\"https://stackoverflow.com/questions/10425827/please-explain-getter-and-setters-in-objective-c\">here</a> for information on objective c setters and getters"}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511726437, "post_id": 47499954, "comment_id": 81956290, "body": "@Paulw11 - sorry, my mistake. I have fixed it by replacing <code>self</code> with <code>super</code> but this method of mine will not work for the getter <code>-(NSString *)text</code> that must return the text inside the textview... damn!"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1511726675, "post_id": 47499954, "comment_id": 81956373, "body": "That shouldn&#39;t be a problem.  You can simply write the getter that returns the text from the corresponding text view."}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1511727879, "post_id": 47499954, "comment_id": 81956825, "body": "<i>&quot;do stuff on a lot of threads&quot;</i> Your component that does stuff in the background should return its results on the main thread; it should not be the responsibility of its clients to sanitize the response. If you&#39;re using someone else&#39;s component that&#39;s badly behaved in this regard, then write a wrapper/adapter that does what you need. In other words, centralize the return to the main thread by whatever means necessary."}, {"owner": {"reputation": 835, "user_id": 3110446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa75f4dff965a64f12eb134385cdb625?s=128&d=identicon&r=PG&f=1", "display_name": "crom87", "link": "https://stackoverflow.com/users/3110446/crom87"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1511729351, "post_id": 47499954, "comment_id": 81957333, "body": "As @JoshCaswell said it is responsability of your background code/class to switch back to the main thread in case of need. I don&#39;t think it is a good practice to use setters of subclasses (as you want to to) to always force defensively  the execution of your code on the main thread."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 1, "creation_date": 1511731363, "post_id": 47499954, "comment_id": 81958009, "body": "@JoshCaswell I have to disagree. If client code makes a call to an asynchronous API, the callback should also be done on a background queue. The client should have the responsibility to decide whether it needs to perform certain actions on a specific queue (such as the main queue for UI updates). Think of the case where I call an async API from a background queue to begin with. Why should the completion callback be sent on the main queue by async API? Apple&#39;s frameworks are full of examples where completion blocks are not automatically called on the main queue."}, {"owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "edited": false, "score": 0, "creation_date": 1511774862, "post_id": 47499954, "comment_id": 81970780, "body": "Would you be willing to tell about the structure of your code and the ways background and main thread work is intertwined? By taking a step back and getting a broader view on your challenge, I/we may be able to suggest a better method."}], "answers": [{"comments": [{"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511734279, "post_id": 47501424, "comment_id": 81958786, "body": "ok, this is what I thought, but in my case I have to retrieve the value of the elements in the main thread, or the whole thing crashes... anyway, because this is the best answer so far, I accept that."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 1, "creation_date": 1511734374, "post_id": 47501424, "comment_id": 81958807, "body": "You shouldn&#39;t be grabbing the UI element data at random times from a background thread.  You should get all of the data you need and pass it to your method before the code begins working on the background thread."}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511734484, "post_id": 47501424, "comment_id": 81958838, "body": "no, I have the other way around. Everything performs on a background thread, then I need to update the interface. The background thread is the one that calculates things that will go to the interface."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511734536, "post_id": 47501424, "comment_id": 81958854, "body": "Right, so then the code I have handles that.  You can just set <code>self.someText</code> from the background thread and know that the text field will be updated in due course."}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511734592, "post_id": 47501424, "comment_id": 81958866, "body": "app crashes when I do that and xcode shows an error telling me that self.sometext should be read from the main thread."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511734733, "post_id": 47501424, "comment_id": 81958894, "body": "So, you are reading the UI elements from the background thread; you are saying something like <code>NSString *localVar = self.someText</code>.  This is what I am saying you shouldn&#39;t do.  You should get <code>localVar</code> before you begin your background operation and then pass it to the background code; <code>[myObject someBackgroundOperationWithText: localVar]</code>"}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511736209, "post_id": 47501424, "comment_id": 81959299, "body": "you are not getting the point. The value to update the interface comes from a background thread. There is no way to update it from the main thread. Believe me."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1511736247, "post_id": 47501424, "comment_id": 81959313, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/159862/discussion-between-paulw11-and-spacedog\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "is_accepted": true, "score": 1, "last_activity_date": 1511733361, "creation_date": 1511733361, "answer_id": 47501424, "question_id": 47499954, "link": "https://stackoverflow.com/questions/47499954/forcing-all-uikit-stuff-to-be-done-in-the-main-thread/47501424#47501424", "title": "Forcing all UIKit stuff to be done in the main thread", "body": "<p>I think your problem is arising because you are tightly coupling your computation to your UI.  You can look at alternate architectures, such as <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel\" rel=\"nofollow noreferrer\">MVVM</a>, although formally adopting this architecture works best when you have a binding framework.</p>\n\n<p>Even without a binding framework you can improve your situation by introduction some model properties with some setter/getter code to work with the actual UI element. </p>\n\n<p>For example, declare a pair of properties, one for the text field and one for the text</p>\n\n<pre><code>@property (weak, nonatomic)  UITextField *someTextField;\n@property (strong, nonatomic) NSString *someText;\n</code></pre>\n\n<p>Now, implement setter and getter methods to couple them:</p>\n\n<pre><code>-(NSString *)someText {\n   return self.someTextField.text;\n} \n\n-(Void *)setSomeText: (NSString *)newValue {\n    dispatch_async(dispatch_get_main_queue(), ^{\n        self.someTextField.text = newValue\n  });\n}\n</code></pre>\n\n<p>Now, this is a pretty simple example, and has a slight issue in that immediately retrieving the value of <code>someText</code> after setting it <em>won't</em> return the value that was just set due to the asynchronous nature of the set operation, but that shouldn't be an issue in most cases.  It does demonstrate how you could start to decouple the data model from the UI elements and so separate concerns with data from concerns with the mechanics of updating UI elements. </p>\n"}], "owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 47501424, "answer_count": 1, "score": 3, "last_activity_date": 1511733361, "creation_date": 1511723339, "last_edit_date": 1511726361, "question_id": 47499954, "link": "https://stackoverflow.com/questions/47499954/forcing-all-uikit-stuff-to-be-done-in-the-main-thread", "title": "Forcing all UIKit stuff to be done in the main thread", "body": "<p>I am doing a complex application that has to do stuff on a lot of threads and frequently update the interface.</p>\n\n<p>So I have to add a lot of </p>\n\n<pre><code>  dispatch_async(dispatch_get_main_queue(), ^{\n\n  });\n</code></pre>\n\n<p>in the middle of the code to dispatch UI updates to the main thread and I find it ugly and disruptive as hell.</p>\n\n<p>So, I have this idea of creating subclasses of elements like <code>UILabel</code>, <code>UITextField</code>, etc., overriding their main thread methods like this:</p>\n\n<pre><code>- (void)setAttributedText:(NSAttributedString *)attributedText {\n  dispatch_async(dispatch_get_main_queue(), ^{\n    [super setAttributedText:attributedText];\n  });\n}\n\n- (void)setText:(NSString *)text {\n  dispatch_async(dispatch_get_main_queue(), ^{\n    [super setText:text];\n  });\n}\n\n- (void)scrollRangeToVisible:(NSRange)range {\n  dispatch_async(dispatch_get_main_queue(), ^{\n    [super scrollRangeToVisible:range];\n  });\n}\n</code></pre>\n\n<p>but again, I have to have this same code scatter all over these classes.</p>\n\n<p>Is there a better way?</p>\n"}, {"tags": ["ios", "objective-c", "imessage-extension"], "comments": [{"owner": {"reputation": 1242, "user_id": 1278744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/LyAwA.jpg?s=128&g=1", "display_name": "biloshkurskyi.ss", "link": "https://stackoverflow.com/users/1278744/biloshkurskyi-ss"}, "edited": false, "score": 0, "creation_date": 1511720515, "post_id": 47499417, "comment_id": 81954257, "body": "Does [self activeConversation] != nil?"}, {"owner": {"reputation": 1464, "user_id": 4992124, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3ced9b5aebabdbfecea1751441d449bf?s=128&d=identicon&r=PG&f=1", "display_name": "user4992124", "link": "https://stackoverflow.com/users/4992124/user4992124"}, "reply_to_user": {"reputation": 1242, "user_id": 1278744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/LyAwA.jpg?s=128&g=1", "display_name": "biloshkurskyi.ss", "link": "https://stackoverflow.com/users/1278744/biloshkurskyi-ss"}, "edited": false, "score": 0, "creation_date": 1511721486, "post_id": 47499417, "comment_id": 81954616, "body": "@biloshkurskyi.ss I added <code>NSLog(@&quot;self.activeConversation != nil: %d&quot;, (self.activeConversation != nil));</code>, which returned 0. Turns out, it is indeed nil."}], "answers": [{"comments": [{"owner": {"reputation": 1464, "user_id": 4992124, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3ced9b5aebabdbfecea1751441d449bf?s=128&d=identicon&r=PG&f=1", "display_name": "user4992124", "link": "https://stackoverflow.com/users/4992124/user4992124"}, "edited": false, "score": 0, "creation_date": 1511724098, "post_id": 47499726, "comment_id": 81955529, "body": "But, the code I&#39;m running is inside the <code>MSMessagesAppViewController</code>, so <code>activeConversation</code> shouldn&#39;t even be <code>nil</code>. That&#39;s the problem here, I think."}, {"owner": {"reputation": 1242, "user_id": 1278744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/LyAwA.jpg?s=128&g=1", "display_name": "biloshkurskyi.ss", "link": "https://stackoverflow.com/users/1278744/biloshkurskyi-ss"}, "reply_to_user": {"reputation": 1464, "user_id": 4992124, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3ced9b5aebabdbfecea1751441d449bf?s=128&d=identicon&r=PG&f=1", "display_name": "user4992124", "link": "https://stackoverflow.com/users/4992124/user4992124"}, "edited": false, "score": 0, "creation_date": 1511727968, "post_id": 47499726, "comment_id": 81956857, "body": "@user4992124 Try to run the test project: <a href=\"https://github.com/sergVn/AudioMessages\" rel=\"nofollow noreferrer\">AudioMessages</a>"}, {"owner": {"reputation": 2276, "user_id": 5181862, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/35QaK.png?s=128&g=1", "display_name": "Baran Emre", "link": "https://stackoverflow.com/users/5181862/baran-emre"}, "reply_to_user": {"reputation": 1464, "user_id": 4992124, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3ced9b5aebabdbfecea1751441d449bf?s=128&d=identicon&r=PG&f=1", "display_name": "user4992124", "link": "https://stackoverflow.com/users/4992124/user4992124"}, "edited": false, "score": 0, "creation_date": 1528724150, "post_id": 47499726, "comment_id": 88603946, "body": "@user4992124 I had the same issue. The problem is not that your view controller does not conform to <code>MSMessagesAppViewController</code>, but that you can&#39;t access <code>activeConversation</code> outside of your root view controller (the first view controller that is initialized when your iMessage extension is started)."}], "tags": [], "owner": {"reputation": 1242, "user_id": 1278744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/LyAwA.jpg?s=128&g=1", "display_name": "biloshkurskyi.ss", "link": "https://stackoverflow.com/users/1278744/biloshkurskyi-ss"}, "is_accepted": true, "score": 1, "last_activity_date": 1511722907, "last_edit_date": 1511722907, "creation_date": 1511722027, "answer_id": 47499726, "question_id": 47499417, "link": "https://stackoverflow.com/questions/47499417/set-text-in-active-conversation-in-imessage/47499726#47499726", "title": "Set text in Active Conversation in iMessage", "body": "<p><strong>Solution #1</strong></p>\n\n<ol>\n<li>Send correct reference from <code>MessagesViewController</code> to your view controller.</li>\n<li>Check <code>activeConversation</code> value for nil:</li>\n</ol>\n\n<hr>\n\n<pre><code>if ([self activeConversation] != nil) {\n    [[self activeConversation] insertText:@\"Some text\" completionHandler:^(NSError * _Nullable error) {\n        NSLog(@\"error: %@\", error.localizedDescription);\n    }];\n} else {\n    NSLog(@\"Conversation is nil\");\n}\n</code></pre>\n\n<p><strong>Solution #2</strong></p>\n\n<ol>\n<li>Create <code>Singleton</code> in <code>iMessage</code> extension name space.</li>\n<li>In <code>MessagesViewController</code> in <code>- (void)viewDidLoad</code> setup reference to\nyour <code>MSConversation</code>: <code>[[Conversation shared] activeConversation] = [self activeConversation];</code></li>\n<li>Use <code>[[Conversation shared] activeConversation] insertText: .... ];</code>\nfor sending messages from any controllers.</li>\n</ol>\n"}], "owner": {"reputation": 1464, "user_id": 4992124, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3ced9b5aebabdbfecea1751441d449bf?s=128&d=identicon&r=PG&f=1", "display_name": "user4992124", "link": "https://stackoverflow.com/users/4992124/user4992124"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "accepted_answer_id": 47499726, "answer_count": 1, "score": 0, "last_activity_date": 1511722907, "creation_date": 1511720016, "question_id": 47499417, "link": "https://stackoverflow.com/questions/47499417/set-text-in-active-conversation-in-imessage", "title": "Set text in Active Conversation in iMessage", "body": "<p>I wrote some code to add text to the Messages.app input field  in my iMessage extension.</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n    NSLog(@\"didSelect called\");\n    NSLog(@\"%d\", 1);\n    [[self activeConversation] insertText:@\"https://google.com\" completionHandler:^(NSError * error) {\n        NSLog(@\"Error happened\");\n        NSLog(@\"Error: %@\", error);\n    }];\n    NSLog(@\"%d\", 2);\n}\n</code></pre>\n\n<p>The strange part is that all of the normal logs are happening. The app will log \"didSelect called\", \"1\" and \"2\". However, the message - the Google url - isn't being inserted, and the error logs aren't being shown. So I don't really have a clue as to what's going wrong. Any idea's what I'm doing wrong?</p>\n"}, {"tags": ["ios", "objective-c", "uibezierpath"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2080225"}, "edited": false, "score": 6, "creation_date": 1511717508, "post_id": 47498816, "comment_id": 81953161, "body": "No this is not an antialiasing problem. You need to get access to the individual points that make up the entire line and apply a smoothing operation to them which will be something like 1) taking starting point and ending point and just replacing it with the straight line in between or 2) Averaging the slope of multiple segments, etc. Lots of ways to smoothe out curves."}, {"owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511717609, "post_id": 47498816, "comment_id": 81953215, "body": "Can you show me some code for option #2?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2080225"}, "edited": false, "score": 0, "creation_date": 1511718207, "post_id": 47498816, "comment_id": 81953430, "body": "How is your data stored? Do you have access to an array of points (x,y) values? I can help but it matters what you are working with to start out. In other words does each point also have the &#39;time&#39; or some indication that puts it in the proper order relative to the line? AND how do you plan to redraw it? You need to be sure that will wokr first."}, {"owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511736258, "post_id": 47498816, "comment_id": 81959320, "body": "I have the data stored in NSMutableArray, first the &quot;stroke&quot; (touchBegan) and all associated taps between that and touchEnd...."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2080225"}, "edited": false, "score": 0, "creation_date": 1511742773, "post_id": 47498816, "comment_id": 81960785, "body": "I see the word Bezier in your post and that is actually a great algorithm for smoothing things out. You can maybe do some thing like just take every 5th or 10th point and make them your control points for bezier, and ignore the rest of the points. The thing you want to google is this: &quot;curve fitting line points to smooth line&quot;, or &quot;bezier curve fitting points&quot;. The Computer Science/Math term of art is &quot;Curve Fitting&quot;"}, {"owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511742977, "post_id": 47498816, "comment_id": 81960832, "body": "see my edit, it&#39;s about interpolation"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511736172, "post_id": 47499731, "comment_id": 81959287, "body": "Question: I didn&#39;t mean just one straight line, I meant I&#39;d like my scribbles to be &quot;smooth&quot;"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 1, "creation_date": 1511737571, "post_id": 47499731, "comment_id": 81959638, "body": "If you\u2019re just looking to smooth your scribbles you can use Hermite or Catmull-Rom splines like <a href=\"https://stackoverflow.com/a/34583708/1271826\">stackoverflow.com/a/34583708/1271826</a> or <a href=\"https://spin.atomicobject.com/2014/05/28/ios-interpolating-points/\" rel=\"nofollow noreferrer\">spin.atomicobject.com/2014/05/28/ios-interpolating-points</a>. But those will still try to go through all of your points, just smoothing it. If you don\u2019t want to do that, you might have to look at some \u201cbest fit\u201d or some higher order regression."}, {"owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511742901, "post_id": 47499731, "comment_id": 81960816, "body": "<a href=\"https://github.com/jnfisher/ios-curve-interpolation/blob/master/Curve%20Interpolation/UIBezierPath%2BInterpolation.h\" rel=\"nofollow noreferrer\">github.com/jnfisher/ios-curve-interpolation/blob/master/&hellip;</a> This looks good. I just can&#39;t manage to figure out how to plug in my points!? Can you show me an example given the createPath function I posted,,,, stroke = first Stroke (touchBegan) and the points within the stroke are those that correspond to its persence until touchend"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511813319, "post_id": 47499731, "comment_id": 81994189, "body": "@noodlez - See revised answer."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "edited": false, "score": 0, "creation_date": 1511890281, "post_id": 47499731, "comment_id": 82031997, "body": "@noodlez - I notice that you haven&#39;t accepted any answers to any of the questions you&#39;ve posed on Stack Overflow. You might considering accepting this answer by clicking on the check mark next to it (as well as reviewing your other questions for good answers). See <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 5, "last_activity_date": 1511815569, "last_edit_date": 1511815569, "creation_date": 1511722056, "answer_id": 47499731, "question_id": 47498816, "link": "https://stackoverflow.com/questions/47498816/uibezierpath-smoothing-chart-of-choppy-noisy-data/47499731#47499731", "title": "UIBezierPath - smoothing chart of choppy/noisy data", "body": "<p>The problem is that you're stroking a path between a series of points captured in a gesture, and these points aren't all on the same line because they include natural deviations that take place as the users finger drags across the screen.</p>\n\n<p>This is completely unrelated to \"anti-aliasing\", which is a technique to make a straight line look smoother, without visually distracting \"jaggies\". But the problem here is not that you're trying to improve the rendering of a single straight line, but rather that you're not drawing a straight line in the first place, but rather instead drawing a bunch of line segments that don't happen to line up. </p>\n\n<blockquote>\n  <p>My goal is to achieve Adobe Illustrator like lines when my user swipes across the screen</p>\n</blockquote>\n\n<p>In that case, you don't want \"anti-aliasing\". All you need is a <code>createPath</code> that </p>\n\n<ul>\n<li><code>moveToPoint</code> to the first point; and </li>\n<li><code>addLineToPoint</code> to the last point.</li>\n</ul>\n\n<p>Just don't worry about any of the points in between. This simple solution will yield a single straight line that will start wherever your touches started and stretch to where your touches ended, and will continue to do so until you lift your finger.</p>\n\n<p>I think that will translate to something like:</p>\n\n<pre><code>- (UIBezierPath *)createPath {\n    UIBezierPath * bezierPath = [UIBezierPath bezierPath];\n    [bezierPath moveToPoint:stroke.startPoint];\n    [bezierPath addLineToPoint:[[stroke.points lastObject] CGPointValue]];\n    return bezierPath;\n}\n</code></pre>\n\n<hr>\n\n<p>If you don't want an actual line, but rather just want to smooth this, I'd suggest (a) do rolling average to eliminate peaks and valleys in your bouncy data points; and (b) use Hermite or Catmull-Rom spline (as outlined in <a href=\"https://spin.atomicobject.com/2014/05/28/ios-interpolating-points/\" rel=\"nofollow noreferrer\">https://spin.atomicobject.com/2014/05/28/ios-interpolating-points/</a>) so the resulting path is smooth rather than a series of line segments.</p>\n\n<p>Thus </p>\n\n<pre><code>- (UIBezierPath * _Nullable)createActualPathFor:(Stroke *)stroke {\n    if (stroke.points.count &lt; 2) return nil;\n\n    UIBezierPath * path = [UIBezierPath bezierPath];\n\n    [path moveToPoint:[stroke.points.firstObject CGPointValue]];\n    for (NSInteger i = 1; i &lt; stroke.points.count; i++) {\n        [path addLineToPoint:[stroke.points[i] CGPointValue]];\n    }\n\n    return path;\n}\n\n- (UIBezierPath * _Nullable)createSmoothedPathFor:(Stroke *)stroke interval:(NSInteger)interval {\n    if (stroke.points.count &lt; 2) return nil;\n\n    NSMutableArray &lt;NSValue *&gt; *averagedPoints = [NSMutableArray arrayWithObject:stroke.points[0]];\n\n    NSInteger current = 1;\n    NSInteger count = 0;\n    do {\n        CGFloat sumX = 0;\n        CGFloat sumY = 0;\n        do {\n            CGPoint point = [stroke.points[current] CGPointValue];\n            sumX += point.x;\n            sumY += point.y;\n            current++;\n            count++;\n        } while (count &lt; interval &amp;&amp; current &lt; stroke.points.count);\n\n        if (count &gt;= interval) {\n            CGPoint average = CGPointMake(sumX / count, sumY / count);\n            [averagedPoints addObject:[NSValue valueWithCGPoint:average]];\n            count = 0;\n        }\n    } while (current &lt; stroke.points.count);\n\n    if (count != 0) {\n        [averagedPoints addObject:stroke.points.lastObject];\n    }\n\n    return [UIBezierPath interpolateCGPointsWithHermite:averagedPoints closed:false];\n}\n</code></pre>\n\n<p>Will yield the following (where the actual data points are in blue and the smoothed rendition is in red): </p>\n\n<p><a href=\"https://i.stack.imgur.com/pNjBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNjBc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note, I'm assuming that your array of <code>points</code> of <code>Stroke</code> includes the starting point, so you might have to adjust that accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "is_accepted": true, "score": 1, "last_activity_date": 1511897393, "creation_date": 1511897393, "answer_id": 47539453, "question_id": 47498816, "link": "https://stackoverflow.com/questions/47498816/uibezierpath-smoothing-chart-of-choppy-noisy-data/47539453#47539453", "title": "UIBezierPath - smoothing chart of choppy/noisy data", "body": "<p>Thank you all for your support. I was away for a while. But I found a resolution to my situation that is phenomenal. It was a class that does interpolation.</p>\n\n<p><a href=\"https://github.com/jnfisher/ios-curve-interpolation\" rel=\"nofollow noreferrer\">https://github.com/jnfisher/ios-curve-interpolation</a></p>\n\n<p>All I had to do was pass my array of Points and it smooths them out!</p>\n"}], "owner": {"reputation": 89, "user_id": 9006229, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1536c14f3397b71ec8b8682816ca1b66?s=128&d=identicon&r=PG&f=1", "display_name": "noodlez", "link": "https://stackoverflow.com/users/9006229/noodlez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 47539453, "answer_count": 2, "score": 1, "last_activity_date": 1511897393, "creation_date": 1511716327, "last_edit_date": 1511820436, "question_id": 47498816, "link": "https://stackoverflow.com/questions/47498816/uibezierpath-smoothing-chart-of-choppy-noisy-data", "title": "UIBezierPath - smoothing chart of choppy/noisy data", "body": "<p>My goal is to achieve Adobe Illustrator like lines when my user swipes across the screen. At the moment it's very choppy - here's a screenshot of the current situation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yc08u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yc08u.png\" alt=\"Noisy lines\"></a></p>\n\n<p>I think it's obvious what I want. I want those straight lines to be smoothed out. Is this called anti-aliasing?</p>\n\n<pre><code>- (void)touchesBegan: (CGPoint)point\n{\n    currentStroke = [[Stroke alloc] initWithStartPoint:point];\n    [strokes addObject:currentStroke];\n}\n\n- (void)touchesMoved: (CGPoint)point\n{\n    if (!currentStroke) {\n        [self touchesBegan:point];\n    }\n    [currentStroke.points addObject:[NSValue valueWithCGPoint:point]]\n    pathTwo = [self createPath];\n    [self scaleToFit];\n    [self setNeedsDisplay];\n}\n\n- (UIBezierPath *)createPath {\n    UIBezierPath * bezierPath = [UIBezierPath bezierPath];\n    for (Stroke * stroke in strokes) {\n        [bezierPath moveToPoint:stroke.startPoint];\n        for (NSValue * value in stroke.points) {\n            [bezierPath addLineToPoint:[value CGPointValue]];\n        }\n    }\n    return bezierPath;\n}\n\n- (void)touchesEnded: (CGPoint)point\n{\n    [points removeAllObjects];\n    [self setNeedsDisplay];\n}\n</code></pre>\n\n<p><code>drawRect</code> has this in it:</p>\n\n<pre><code>[[UIColor whiteColor] setStroke];\n[pathTwo setLineWidth: _strokeWidth];\n[pathTwo stroke];\n</code></pre>\n\n<p><em>EDIT</em></p>\n\n<p>I think I have found my answer...\n<a href=\"https://github.com/jnfisher/ios-curve-interpolation\" rel=\"nofollow noreferrer\">https://github.com/jnfisher/ios-curve-interpolation</a></p>\n\n<p>I just don't know how to use this given my <code>createPath</code> formula.</p>\n\n<p>Maybe someone can help me plug in my arrays?</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uibutton"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1511705164, "post_id": 47496849, "comment_id": 81949198, "body": "your button action is linked properly?"}, {"owner": {"reputation": 3734, "user_id": 2231063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/d665E.png?s=128&g=1", "display_name": "Vivek Molkar", "link": "https://stackoverflow.com/users/2231063/vivek-molkar"}, "edited": false, "score": 0, "creation_date": 1511706609, "post_id": 47496849, "comment_id": 81949647, "body": "You should also add <code>bViewController</code> as childViewController. see <a href=\"https://developer.apple.com/documentation/appkit/nsviewcontroller/1434501-addchildviewcontroller\" rel=\"nofollow noreferrer\">addChildViewController(_:)</a>"}, {"owner": {"reputation": 68, "user_id": 3104229, "user_type": "registered", "profile_image": "https://graph.facebook.com/906728602751802/picture?type=large", "display_name": "jalil_cse", "link": "https://stackoverflow.com/users/3104229/jalil-cse"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1511707303, "post_id": 47496849, "comment_id": 81949821, "body": "@ReinierMelian yes button action linked properly"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511718218, "post_id": 47496849, "comment_id": 81953438, "body": "As VivekMolkar suggested, to make it work, you have to add <code>[self addChildViewController:bViewController];</code> after line <code>[self.view bringSubviewToFront:bViewController.view];</code> @jalil_cse"}, {"owner": {"reputation": 68, "user_id": 3104229, "user_type": "registered", "profile_image": "https://graph.facebook.com/906728602751802/picture?type=large", "display_name": "jalil_cse", "link": "https://stackoverflow.com/users/3104229/jalil-cse"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1511753483, "post_id": 47496849, "comment_id": 81962922, "body": "Thanks @trungduc now its work properly."}], "owner": {"reputation": 68, "user_id": 3104229, "user_type": "registered", "profile_image": "https://graph.facebook.com/906728602751802/picture?type=large", "display_name": "jalil_cse", "link": "https://stackoverflow.com/users/3104229/jalil-cse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511704233, "creation_date": 1511704233, "question_id": 47496849, "link": "https://stackoverflow.com/questions/47496849/subviewcontroller-button-click-action-not-working", "title": "SubViewController button click action not working", "body": "<p>I have AViewController and BViewController. when I add BViewController in AViewController as a subView and BViewController has a button. In this time BViewController button not working. </p>\n\n<p><strong>AViewController.m</strong>  </p>\n\n<pre><code>UIStoryboard *sb = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\nBViewController bViewController =  [sb instantiateViewControllerWithIdentifier:@\"BViewController\"];\n[self.view addSubview:bViewController.view];\n[self.view bringSubviewToFront:bViewController.view];\n</code></pre>\n\n<p><strong>BViewController.m</strong></p>\n\n<pre><code>#import \"BViewController\"\n\n@interface BViewController ()\n\n@end\n\n@implementation BViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n}\n- (IBAction)buttonAction:(id)sender {\n    // here buttonAction not working\n    [self.view removeFromSuperview];\n}\n@end\n</code></pre>\n\n<p>Here ButtonAction not working. Thanks for help.</p>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "uicollectionviewcell", "uicollectionviewlayout"], "answers": [{"comments": [{"owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1511731528, "post_id": 47496282, "comment_id": 81958064, "body": "Works perfectly! Thank you so much for this. It took me a while to figure out how to calculate the appropriate heights via the layout class, but I managed to get it working. Other than that one modification, you code works flawlessly. Thanks again."}, {"owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1511735213, "post_id": 47496282, "comment_id": 81959012, "body": "Also just one thing to note for anyone else viewing this answer: You have to reload the layoutAttributes data if you are supporting multiple device orientations (eg: an iPad app). Otherwise the layout will be incorrect when rotating the device. You then need to call <code>performBatchUpdates</code> on the collection view to load in the new layout data."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 1, "creation_date": 1511753724, "post_id": 47496282, "comment_id": 81962991, "body": "Thanks @Supertecnoboff. I have updated my answer with your suggestion."}], "tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 2, "last_activity_date": 1531478544, "last_edit_date": 1531478544, "creation_date": 1511700264, "answer_id": 47496282, "question_id": 47495252, "link": "https://stackoverflow.com/questions/47495252/uicollectionview-remove-extra-spacing/47496282#47496282", "title": "UICollectionView - Remove extra spacing", "body": "<p>In my opinion, you can resolve this problem by custom <code>UICollectionViewLayout</code>. You should take a look at <a href=\"https://developer.apple.com/library/content/documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/CreatingCustomLayouts/CreatingCustomLayouts.html#//apple_ref/doc/uid/TP40012334-CH5-SW1\" rel=\"nofollow noreferrer\">Collection View Programming Guide for iOS</a>.</p>\n\n<p>With the code below, I assume we have 2 row column each row, items have same width and different height.</p>\n\n<pre><code>const CGFloat kPadding                         = 5.f;\nconst NSUInteger kNumberSmallCellALine         = 2;\n\n@interface CustomCollectionViewLayout : UICollectionViewLayout\n\n@property (nonatomic, strong) NSMutableArray *layoutAttributes;\n@property (nonatomic, assign) CGFloat contentHeight;\n\n@end\n\n@implementation CustomCollectionViewLayout\n\n// Use this method to perform the up-front calculations needed to provide layout information.\n- (void)prepareLayout{\n  [super prepareLayout];\n\n  if (!self.layoutAttributes){\n    self.layoutAttributes = [[NSMutableArray alloc] init];\n\n    // Calculate width of each item\n    CGFloat cellWidth = (self.collectionView.frame.size.width - (kNumberSmallCellALine - 1) * kPadding) / kNumberSmallCellALine;\n    // Default height of contentSize\n    self.contentHeight = 0.f;\n    // Height of column items on the left\n    CGFloat leftColumnHeight = 0.f;\n    // Height of column items on the right\n    CGFloat rightColumnHeight = 0.f;\n\n    for (int i = 0 ; i &lt; [self.collectionView numberOfItemsInSection:0] ; i ++){\n\n      // Height of item at index i\n      CGFloat height = i * 20 + 20;\n\n      CGFloat xPos, yPos = 0.f;\n\n      if (i % 2 == 0) {\n        // If item on the right\n        xPos = 0.f;\n        yPos = leftColumnHeight;\n        leftColumnHeight += height + kPadding;\n      } else {\n        // Item on the left\n        xPos = cellWidth + kPadding;\n        yPos = rightColumnHeight;\n        rightColumnHeight += height + kPadding;\n      }\n\n      // Update height of contentSize after adding new item\n      self.contentHeight = MAX(leftColumnHeight, rightColumnHeight);\n\n      UICollectionViewLayoutAttributes *attr = [UICollectionViewLayoutAttributes layoutAttributesForCellWithIndexPath:[NSIndexPath indexPathForRow:i inSection:0]];\n      attr.frame = CGRectMake(xPos,\n                              yPos,\n                              cellWidth,\n                              height);\n      [self.layoutAttributes addObject:attr];\n    }\n  }\n}\n\n// Use this method to return the attributes for cells and views that are in the specified rectangle.\n- (NSArray *)layoutAttributesForElementsInRect:(CGRect)rect{\n  NSMutableArray *currentAttributes = [NSMutableArray new];\n  for (UICollectionViewLayoutAttributes *attr in self.layoutAttributes) {\n    if (CGRectIntersectsRect(attr.frame, rect))\n    {\n      [currentAttributes addObject:attr];\n    }\n  }\n  return currentAttributes;\n}\n\n// Use this method to return the overall size of the entire content area based on your initial calculations.\n- (CGSize)collectionViewContentSize{\n  return CGSizeMake(self.collectionView.frame.size.width, self.contentHeight);\n}\n\n@end\n</code></pre>\n\n<p>Using</p>\n\n<pre><code>CustomCollectionViewLayout *layout = [[CustomCollectionViewLayout alloc] init];\n[collectionView setCollectionViewLayout:layout];\n</code></pre>\n\n<p>It's a demo to resolve your issue. You should change the height of each item for being suitable with your situation.</p>\n\n<p>For more information and easier understanding, you can check <a href=\"https://github.com/trungducc/stackoverflow/tree/collection-view-odds-cell\" rel=\"nofollow noreferrer\">My Demo Repo</a></p>\n\n<p><strong>NOTE</strong> from @Supertecnoboff</p>\n\n<p>You have to reload the layoutAttributes data if you are supporting multiple device orientations (eg: an iPad app). Otherwise the layout will be incorrect when rotating the device. You then need to call performBatchUpdates on the collection view to load in the new layout data.</p>\n"}, {"tags": [], "owner": {"reputation": 3734, "user_id": 2231063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/d665E.png?s=128&g=1", "display_name": "Vivek Molkar", "link": "https://stackoverflow.com/users/2231063/vivek-molkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1511701970, "creation_date": 1511701970, "answer_id": 47496520, "question_id": 47495252, "link": "https://stackoverflow.com/questions/47495252/uicollectionview-remove-extra-spacing/47496520#47496520", "title": "UICollectionView - Remove extra spacing", "body": "<p>I believe you have to create a <a href=\"https://developer.apple.com/library/content/documentation/WindowsViews/Conceptual/CollectionViewPGforIOS/CreatingCustomLayouts/CreatingCustomLayouts.html#//apple_ref/doc/uid/TP40012334-CH5-SW1\" rel=\"nofollow noreferrer\">custom layout</a>.</p>\n\n<p>In essence, it includes the overriding of following methods:</p>\n\n<ol>\n<li><a href=\"https://developer.apple.com/documentation/uikit/uicollectionviewlayout/1617752-preparelayout?language=objc\" rel=\"nofollow noreferrer\">- (void)prepareLayout;</a>: to perform the up-front calculations needed to\nprovide layout information. </li>\n<li><a href=\"https://developer.apple.com/documentation/uikit/uicollectionviewlayout/1617796-collectionviewcontentsize?language=objc\" rel=\"nofollow noreferrer\">collectionViewContentSize</a>: to return the overall\nsize of the entire content area based on your initial calculations.</li>\n<li><a href=\"https://developer.apple.com/documentation/uikit/uicollectionviewlayout/1617769-layoutattributesforelementsinrec?language=objc\" rel=\"nofollow noreferrer\">layoutAttributesForElementsInRect:</a>: to return the attributes for cells and views that\nare in the specified rectangle.</li>\n</ol>\n\n<p>The <code>prepareLayout</code> method will have following implementation, This is a crude implementation you may have to tweak it according to your need.</p>\n\n<pre><code>- (void) prepareLayout {\n    if (self.cache.count == 0) {\n        UIEdgeInsets insets = self.collectionView.contentInset;\n        self.contentWidth = self.collectionView.bounds.size.width - (insets.left + insets.right);\n\n        CGFloat columnWidth = self.contentWidth / self.numberOfColumns;\n        NSMutableArray *xOffsets = [NSMutableArray new];\n        NSMutableArray *yOffsets = [NSMutableArray new];\n        for (int i = 0; i &lt; self.numberOfColumns; i++) {\n            [xOffsets addObject: @(i * columnWidth)];\n            [yOffsets addObject: @(0)];\n        }\n\n        int column = 0;\n        for (int i = 0; i &lt; [self.collectionView numberOfItemsInSection:0]; i++) {\n            NSIndexPath *indexPath = [NSIndexPath indexPathForItem:i inSection:0];\n\n            CGFloat cellHeight = arc4random_uniform(200);\n            CGFloat height = self.cellPadding * 2 + cellHeight;\n            CGRect frame = CGRectMake((CGFloat)[[xOffsets objectAtIndex:column] floatValue],\n                                      (CGFloat)[[yOffsets objectAtIndex:column] floatValue],\n                                      columnWidth,\n                                      height);\n            CGRect insetFrame = CGRectInset(frame, self.cellPadding, self.cellPadding);\n\n            UICollectionViewLayoutAttributes *attributes = [UICollectionViewLayoutAttributes layoutAttributesForCellWithIndexPath:indexPath];\n            attributes.frame = insetFrame;\n            [self.cache addObject:attributes];\n\n            self.contentHeight = MAX(self.contentHeight, CGRectGetMaxY(frame));\n            [yOffsets replaceObjectAtIndex:column withObject:@([[yOffsets objectAtIndex:column]floatValue] + height)];\n\n            column = column &lt; (self.numberOfColumns - 1) ? (column + 1) : 0;\n\n            }\n        }\n    }\n</code></pre>\n\n<p>Find the <a href=\"https://gist.github.com/VivekMolkar/31cb10999e8ef5598c0f19449128c6f5\" rel=\"nofollow noreferrer\">gist</a> of the Custom class.</p>\n"}], "owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 47496282, "answer_count": 2, "score": 0, "last_activity_date": 1606837888, "creation_date": 1511693075, "last_edit_date": 1606837888, "question_id": 47495252, "link": "https://stackoverflow.com/questions/47495252/uicollectionview-remove-extra-spacing", "title": "UICollectionView - Remove extra spacing", "body": "<p>I have an iPad application that uses to <code>UICollectionView</code> to display a grid of cells. The cells have the exact same width but different heights (as some have more text than others).</p>\n<p>The only problem I am having is that the cells that are shorter, end up having extra spacing above/below.... this creates a bad looking collection view. It adds extra space, where no extra space is needed. I have tried to set the edge insets to 0 and the minimum line spacing to 0, but it still doesn't quite work.</p>\n<p>Here is what my collection view looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/kRjL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kRjL0.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is what I want it to look like:</p>\n<p><a href=\"https://i.stack.imgur.com/Ju4dK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ju4dK.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my flow layout code:</p>\n<pre><code>[self.infoList registerClass:[InfoCell class] forCellWithReuseIdentifier:@&quot;InfoCell&quot;];\nUICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];\n[layout setItemSize:CGSizeMake(320, 160)];\n[layout setScrollDirection:UICollectionViewScrollDirectionVertical];\n[layout setMinimumInteritemSpacing:0];\n[layout setMinimumLineSpacing:0];\n[self.infoList setCollectionViewLayout:layout];\n</code></pre>\n<p>I am setting the edge insets to 0 as well:</p>\n<pre><code>-(UIEdgeInsets)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout *)collectionViewLayout insetForSectionAtIndex:(NSInteger)section {\n    return UIEdgeInsetsZero;\n}\n</code></pre>\n<p>How can I remove the extra unnecessary space? The only way I have found that works, is to make all the cells the exact same height, but that's <strong>not</strong> what I want. Some cells contains for text than others, so I have to give them extra height.</p>\n"}]