[{"tags": ["c++", "objective-c", "cocoa", "chromium", "chromium-embedded"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 10221867, "user_type": "registered", "profile_image": "https://graph.facebook.com/1249124165229602/picture?type=large", "display_name": "Lucas Young", "link": "https://stackoverflow.com/users/10221867/lucas-young"}, "is_accepted": false, "score": 0, "last_activity_date": 1572199332, "creation_date": 1572199332, "answer_id": 58581951, "question_id": 58530876, "link": "https://stackoverflow.com/questions/58530876/cef-render-process-methods-such-as-oncontextcreated-not-being-called/58581951#58581951", "title": "CEF - Render process methods such as OnContextCreated not being called", "body": "<p><strong>What follows is a working version of CefSimple modified to include Javascript integration.</strong></p>\n\n<p>So it turns out the problem stems from using a Mac instead of a Linux or PC machine</p>\n\n<p>The code posted in my original post SHOULD work on a PC. I can't test it though because I don't have one. (If some kind soul wouldn't mind doing so, and posting the results, I'd appreciate it)</p>\n\n<p>On a mac, render processes have a separate entry-point. In the case of CEFSimple this is the process_helper_mac.cc file. All that is needed is to create a class which extends CefRenderProcessHandler, override it's GetRenderProcessHandler method to return itself, and then wrap the subprocess in that class before sending it through to CefExecuteProcess.</p>\n\n<p>In order to do this you need to define this new class, which I've called Helper_App, in a helper_app.h and helper_app.cc file. Lastly, you need to go in to the CMakeLists.txt file and actually instruct the build program to include the files we've written.</p>\n\n<p><strong>TL;DR Create the helper_app.h and helper_app.cc files and paste in the following code. Modify the process_helper_mac.cc file as follows. Modify the CMakeLists.txt file as follows.</strong></p>\n\n<p>helper_app.h</p>\n\n<pre><code>// Copyright (c) 2013 The Chromium Embedded Framework Authors. \n\nAll rights\n// reserved. Use of this source code is governed by a BSD-style license that\n// can be found in the LICENSE file.\n\n#ifndef CEF_TESTS_CEFSIMPLE_HELPER_APP_H_\n#define CEF_TESTS_CEFSIMPLE_HELPER_APP_H_\n\n#include \"include/cef_app.h\"\n\n// Implement application-level callbacks for the browser process.\nclass HelperApp : public CefApp, public CefRenderProcessHandler {\n public:\n  HelperApp();\n\n  // CefApp methods:\n  virtual CefRefPtr&lt;CefRenderProcessHandler&gt; GetRenderProcessHandler()\n      OVERRIDE {\n    return this;\n  }\n\n  // CefBrowserProcessHandler methods:\n  virtual void OnContextCreated( CefRefPtr&lt;CefBrowser&gt; browser,\n                                CefRefPtr&lt;CefFrame&gt; frame,\n                                CefRefPtr&lt;CefV8Context&gt; context ) OVERRIDE;\n\n private:\n  // Include the default reference counting implementation.\n  IMPLEMENT_REFCOUNTING(HelperApp);\n};\n\n#endif  // CEF_TESTS_CEFSIMPLE_HELPER_APP_H_\n</code></pre>\n\n<p>helper_app.cc</p>\n\n<pre><code>// Copyright (c) 2013 The Chromium Embedded Framework Authors. All rights\n// reserved. Use of this source code is governed by a BSD-style license that\n// can be found in the LICENSE file.\n\n#include \"tests/cefsimple/helper_app.h\"\n\nHelperApp::HelperApp() {}\n\nvoid HelperApp::OnContextCreated(CefRefPtr&lt;CefBrowser&gt; browser,\n        CefRefPtr&lt;CefFrame&gt; frame,\n        CefRefPtr&lt;CefV8Context&gt; context) {\n\n  // Retrieve the context's window object.\n   CefRefPtr&lt;CefV8Value&gt; object = context-&gt;GetGlobal();\n\n   // Create a new V8 string value. See the \"Basic JS Types\" section below.\n   CefRefPtr&lt;CefV8Value&gt; str = CefV8Value::CreateString(\"My Value!\");\n\n   // Add the string to the window object as \"window.myval\". See the \"JS Objects\" section below.\n   object-&gt;SetValue(\"myval\", str, V8_PROPERTY_ATTRIBUTE_NONE);\n\n}\n</code></pre>\n\n<p>process_helper_mac.cc</p>\n\n<pre><code>// Copyright (c) 2013 The Chromium Embedded Framework Authors. All rights\n// reserved. Use of this source code is governed by a BSD-style license that can\n// be found in the LICENSE file.\n\n#include \"include/cef_app.h\"\n#include \"include/wrapper/cef_library_loader.h\"\n\n#include \"tests/cefsimple/helper_app.h\"\n\n// When generating projects with CMake the CEF_USE_SANDBOX value will be defined\n// automatically. Pass -DUSE_SANDBOX=OFF to the CMake command-line to disable\n// use of the sandbox.\n#if defined(CEF_USE_SANDBOX)\n#include \"include/cef_sandbox_mac.h\"\n#endif\n\n// Entry point function for sub-processes.\nint main(int argc, char* argv[]) {\n#if defined(CEF_USE_SANDBOX)\n  // Initialize the macOS sandbox for this helper process.\n  CefScopedSandboxContext sandbox_context;\n  if (!sandbox_context.Initialize(argc, argv))\n    return 1;\n#endif\n\n  // Load the CEF framework library at runtime instead of linking directly\n  // as required by the macOS sandbox implementation.\n  CefScopedLibraryLoader library_loader;\n  if (!library_loader.LoadInHelper())\n    return 1;\n\n  // Provide CEF with command-line arguments.\n  CefMainArgs main_args(argc, argv);\n\n  CefRefPtr&lt;HelperApp&gt; app(new HelperApp);  // &lt;--- Create an object of the type HelperApp\n\n  // Execute the sub-process.\n  return CefExecuteProcess(main_args, app, NULL); &lt;--- Feed our HelperApp object through to CefExecuteProcess\n}\n</code></pre>\n\n<p>CMakeLists.txt</p>\n\n<pre><code># Copyright (c) 2014 The Chromium Embedded Framework Authors. All rights\n# reserved. Use of this source code is governed by a BSD-style license that\n# can be found in the LICENSE file.\n\n#\n# Source files.\n#\n\n# cefsimple sources.\nset(CEFSIMPLE_SRCS\n  simple_app.cc\n  simple_app.h\n  simple_handler.cc\n  simple_handler.h\n  )\nset(CEFSIMPLE_SRCS_LINUX\n  cefsimple_linux.cc\n  simple_handler_linux.cc\n  )\nset(CEFSIMPLE_SRCS_MACOSX\n  cefsimple_mac.mm\n  simple_handler_mac.mm\n  )\nset(CEFSIMPLE_SRCS_WINDOWS\n  cefsimple.exe.manifest\n  cefsimple.rc\n  cefsimple_win.cc\n  resource.h\n  simple_handler_win.cc\n  )\nAPPEND_PLATFORM_SOURCES(CEFSIMPLE_SRCS)\nsource_group(cefsimple FILES ${CEFSIMPLE_SRCS})\n\nset(CEFSIMPLE_RES_SRCS_WINDOWS\n  res/cefsimple.ico\n  res/small.ico\n  )\nAPPEND_PLATFORM_SOURCES(CEFSIMPLE_RES_SRCS)\nsource_group(cefsimple\\\\\\\\res FILES ${CEFSIMPLE_RES_SRCS})\n\nset(CEFSIMPLE_SRCS\n  ${CEFSIMPLE_SRCS}\n  ${CEFSIMPLE_RES_SRCS}\n  )\n\n# cefsimple helper sources.\n#### Tell the build program to include helper_app.cc and helper_app.h during the build process\nset(CEFSIMPLE_HELPER_SRCS_MACOSX\n  process_helper_mac.cc\n  helper_app.cc\n  helper_app.h\n  )\nAPPEND_PLATFORM_SOURCES(CEFSIMPLE_HELPER_SRCS)\nsource_group(cefsimple FILES ${CEFSIMPLE_HELPER_SRCS})\n\n# cefsimple resources.\nset(CEFSIMPLE_RESOURCES_MAC_SRCS_MACOSX\n  mac/Info.plist\n  mac/cefsimple.icns\n  )\nAPPEND_PLATFORM_SOURCES(CEFSIMPLE_RESOURCES_MAC_SRCS)\nsource_group(cefsimple\\\\\\\\mac FILES ${CEFSIMPLE_RESOURCES_MAC_SRCS})\n\nset(CEFSIMPLE_RESOURCES_MAC_ENGLISH_LPROJ_SRCS_MACOSX\n  mac/English.lproj/InfoPlist.strings\n  mac/English.lproj/MainMenu.xib\n  )\nAPPEND_PLATFORM_SOURCES(CEFSIMPLE_RESOURCES_MAC_ENGLISH_LPROJ_SRCS)\nsource_group(cefsimple\\\\\\\\mac\\\\\\\\English.lproj FILES ${CEFSIMPLE_RESOURCES_MAC_ENGLISH_LPROJ_SRCS})\n\nset(CEFSIMPLE_RESOURCES_SRCS\n  ${CEFSIMPLE_RESOURCES_MAC_SRCS}\n  ${CEFSIMPLE_RESOURCES_MAC_ENGLISH_LPROJ_SRCS}\n  )\n\n\n#\n# Shared configuration.\n#\n\n# Target executable names.\nset(CEF_TARGET \"cefsimple\")\nif(OS_MACOSX)\n  set(CEF_HELPER_TARGET \"cefsimple_Helper\")\n  set(CEF_HELPER_OUTPUT_NAME \"cefsimple Helper\")\nelse()\n  # Logical target used to link the libcef library.\n  ADD_LOGICAL_TARGET(\"libcef_lib\" \"${CEF_LIB_DEBUG}\" \"${CEF_LIB_RELEASE}\")\nendif()\n\n# Determine the target output directory.\nSET_CEF_TARGET_OUT_DIR()\n\n\n#\n# Linux configuration.\n#\n\nif(OS_LINUX)\n  # Executable target.\n  add_executable(${CEF_TARGET} ${CEFSIMPLE_SRCS})\n  SET_EXECUTABLE_TARGET_PROPERTIES(${CEF_TARGET})\n  add_dependencies(${CEF_TARGET} libcef_dll_wrapper)\n  target_link_libraries(${CEF_TARGET} libcef_lib libcef_dll_wrapper ${CEF_STANDARD_LIBS})\n\n  # Set rpath so that libraries can be placed next to the executable.\n  set_target_properties(${CEF_TARGET} PROPERTIES INSTALL_RPATH \"$ORIGIN\")\n  set_target_properties(${CEF_TARGET} PROPERTIES BUILD_WITH_INSTALL_RPATH TRUE)\n  set_target_properties(${CEF_TARGET} PROPERTIES RUNTIME_OUTPUT_DIRECTORY ${CEF_TARGET_OUT_DIR})\n\n  # Copy binary and resource files to the target output directory.\n  COPY_FILES(\"${CEF_TARGET}\" \"${CEF_BINARY_FILES}\" \"${CEF_BINARY_DIR}\" \"${CEF_TARGET_OUT_DIR}\")\n  COPY_FILES(\"${CEF_TARGET}\" \"${CEF_RESOURCE_FILES}\" \"${CEF_RESOURCE_DIR}\" \"${CEF_TARGET_OUT_DIR}\")\n  if (EXISTS \"${CEF_BINARY_DIR}/libminigbm.so\")\n    COPY_FILES(\"${CEF_TARGET}\" \"libminigbm.so\" \"${CEF_BINARY_DIR}\" \"${CEF_TARGET_OUT_DIR}\")\n  endif()\n\n  # Set SUID permissions on the chrome-sandbox target.\n  SET_LINUX_SUID_PERMISSIONS(\"${CEF_TARGET}\" \"${CEF_TARGET_OUT_DIR}/chrome-sandbox\")\nendif()\n\n\n#\n# Mac OS X configuration.\n#\n\nif(OS_MACOSX)\n  option(OPTION_USE_ARC \"Build with ARC (automatic Reference Counting) on macOS.\" ON)\n  if(OPTION_USE_ARC)\n    list(APPEND CEF_COMPILER_FLAGS\n      -fobjc-arc\n      )\n    set_target_properties(${target} PROPERTIES\n      CLANG_ENABLE_OBJC_ARC \"YES\"\n      )\n  endif()\n\n  # Output paths for the app bundles.\n  set(CEF_APP \"${CEF_TARGET_OUT_DIR}/${CEF_TARGET}.app\")\n  set(CEF_HELPER_APP \"${CEF_TARGET_OUT_DIR}/${CEF_HELPER_OUTPUT_NAME}.app\")\n\n  # Variable referenced from Info.plist files.\n  set(PRODUCT_NAME \"${CEF_TARGET}\")\n\n  # Helper executable target.\n  add_executable(${CEF_HELPER_TARGET} MACOSX_BUNDLE ${CEFSIMPLE_HELPER_SRCS})\n  SET_EXECUTABLE_TARGET_PROPERTIES(${CEF_HELPER_TARGET})\n  add_dependencies(${CEF_HELPER_TARGET} libcef_dll_wrapper)\n  target_link_libraries(${CEF_HELPER_TARGET} libcef_dll_wrapper ${CEF_STANDARD_LIBS})\n  set_target_properties(${CEF_HELPER_TARGET} PROPERTIES\n    MACOSX_BUNDLE_INFO_PLIST ${CMAKE_CURRENT_SOURCE_DIR}/mac/helper-Info.plist\n    OUTPUT_NAME ${CEF_HELPER_OUTPUT_NAME}\n    )\n\n  if(USE_SANDBOX)\n    # Logical target used to link the cef_sandbox library.\n    ADD_LOGICAL_TARGET(\"cef_sandbox_lib\" \"${CEF_SANDBOX_LIB_DEBUG}\" \"${CEF_SANDBOX_LIB_RELEASE}\")\n    target_link_libraries(${CEF_HELPER_TARGET} cef_sandbox_lib)\n  endif()\n\n  # Main executable target.\n  add_executable(${CEF_TARGET} MACOSX_BUNDLE ${CEFSIMPLE_RESOURCES_SRCS} ${CEFSIMPLE_SRCS})\n  SET_EXECUTABLE_TARGET_PROPERTIES(${CEF_TARGET})\n  add_dependencies(${CEF_TARGET} libcef_dll_wrapper \"${CEF_HELPER_TARGET}\")\n  target_link_libraries(${CEF_TARGET} libcef_dll_wrapper ${CEF_STANDARD_LIBS})\n  set_target_properties(${CEF_TARGET} PROPERTIES\n    MACOSX_BUNDLE_INFO_PLIST ${CMAKE_CURRENT_SOURCE_DIR}/mac/Info.plist\n    )\n\n  # Copy files into the main app bundle.\n  add_custom_command(\n    TARGET ${CEF_TARGET}\n    POST_BUILD\n    # Copy the helper app bundle into the Frameworks directory.\n    COMMAND ${CMAKE_COMMAND} -E copy_directory\n            \"${CEF_HELPER_APP}\"\n            \"${CEF_APP}/Contents/Frameworks/${CEF_HELPER_OUTPUT_NAME}.app\"\n    # Copy the CEF framework into the Frameworks directory.\n    COMMAND ${CMAKE_COMMAND} -E copy_directory\n            \"${CEF_BINARY_DIR}/Chromium Embedded Framework.framework\"\n            \"${CEF_APP}/Contents/Frameworks/Chromium Embedded Framework.framework\"\n    VERBATIM\n    )\n\n  # Manually process and copy over resource files.\n  # The Xcode generator can support this via the set_target_properties RESOURCE\n  # directive but that doesn't properly handle nested resource directories.\n  # Remove these prefixes from input file paths.\n  set(PREFIXES \"mac/\")\n  COPY_MACOSX_RESOURCES(\"${CEFSIMPLE_RESOURCES_SRCS}\" \"${PREFIXES}\" \"${CEF_TARGET}\" \"${CMAKE_CURRENT_SOURCE_DIR}\" \"${CEF_APP}\")\nendif()\n\n\n#\n# Windows configuration.\n#\n\nif(OS_WINDOWS)\n  # Executable target.\n  add_executable(${CEF_TARGET} WIN32 ${CEFSIMPLE_SRCS})\n  add_dependencies(${CEF_TARGET} libcef_dll_wrapper)\n  SET_EXECUTABLE_TARGET_PROPERTIES(${CEF_TARGET})\n  target_link_libraries(${CEF_TARGET} libcef_lib libcef_dll_wrapper ${CEF_STANDARD_LIBS})\n\n  if(USE_SANDBOX)\n    # Logical target used to link the cef_sandbox library.\n    ADD_LOGICAL_TARGET(\"cef_sandbox_lib\" \"${CEF_SANDBOX_LIB_DEBUG}\" \"${CEF_SANDBOX_LIB_RELEASE}\")\n    target_link_libraries(${CEF_TARGET} cef_sandbox_lib ${CEF_SANDBOX_STANDARD_LIBS})\n  endif()\n\n  # Add the custom manifest files to the executable.\n  ADD_WINDOWS_MANIFEST(\"${CMAKE_CURRENT_SOURCE_DIR}\" \"${CEF_TARGET}\" \"exe\")\n\n  # Copy binary and resource files to the target output directory.\n  COPY_FILES(\"${CEF_TARGET}\" \"${CEF_BINARY_FILES}\" \"${CEF_BINARY_DIR}\" \"${CEF_TARGET_OUT_DIR}\")\n  COPY_FILES(\"${CEF_TARGET}\" \"${CEF_RESOURCE_FILES}\" \"${CEF_RESOURCE_DIR}\" \"${CEF_TARGET_OUT_DIR}\")\nendif()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 10221867, "user_type": "registered", "profile_image": "https://graph.facebook.com/1249124165229602/picture?type=large", "display_name": "Lucas Young", "link": "https://stackoverflow.com/users/10221867/lucas-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 982, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572199332, "creation_date": 1571864149, "last_edit_date": 1571873246, "question_id": 58530876, "link": "https://stackoverflow.com/questions/58530876/cef-render-process-methods-such-as-oncontextcreated-not-being-called", "title": "CEF - Render process methods such as OnContextCreated not being called", "body": "<p>Long time lurker, but happy to be here. I'm attempting to bind a basic javascript binding to the cefSimple application.</p>\n\n<p>I'm working on an up-to-date Macbook as well as an up-to-date iMac.</p>\n\n<p>Numerous searches have resulted in some basic mistakes I was making- but I seem to have rectified them all and it still work go.</p>\n\n<p>Specifically, I have made certain to have my SimpleApp class inherit from CefRenderProcessHandler (atleast, I think it's inheriting. The syntax is still a bit new to new)</p>\n\n<p>I have also envoked GetRenderProcessHandler in that class aswell.</p>\n\n<p>The other main suggestion I've seen is to be sure to pass the SimpleApp instance to CefExecuteProcess- which I have done.</p>\n\n<p>Here is my code:</p>\n\n<p>simple_app.mm</p>\n\n<pre><code>// Copyright (c) 2013 The Chromium Embedded Framework Authors.\n// Portions copyright (c) 2010 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n#import &lt;Cocoa/Cocoa.h&gt;\n\n#include \"include/cef_application_mac.h\"\n#include \"include/wrapper/cef_helpers.h\"\n#include \"include/wrapper/cef_library_loader.h\"\n#include \"tests/cefsimple/simple_app.h\"\n#include \"tests/cefsimple/simple_handler.h\"\n\n// Receives notifications from the application.\n@interface SimpleAppDelegate : NSObject &lt;NSApplicationDelegate&gt;\n- (void)createApplication:(id)object;\n- (void)tryToTerminateApplication:(NSApplication*)app;\n@end\n\n// Provide the CefAppProtocol implementation required by CEF.\n@interface SimpleApplication : NSApplication &lt;CefAppProtocol&gt; {\n @private\n  BOOL handlingSendEvent_;\n}\n@end\n\n@implementation SimpleApplication\n- (BOOL)isHandlingSendEvent {\n  return handlingSendEvent_;\n}\n\n- (void)setHandlingSendEvent:(BOOL)handlingSendEvent {\n  handlingSendEvent_ = handlingSendEvent;\n}\n\n- (void)sendEvent:(NSEvent*)event {\n  CefScopedSendingEvent sendingEventScoper;\n  [super sendEvent:event];\n}\n\n// |-terminate:| is the entry point for orderly \"quit\" operations in Cocoa. This\n// includes the application menu's quit menu item and keyboard equivalent, the\n// application's dock icon menu's quit menu item, \"quit\" (not \"force quit\") in\n// the Activity Monitor, and quits triggered by user logout and system restart\n// and shutdown.\n//\n// The default |-terminate:| implementation ends the process by calling exit(),\n// and thus never leaves the main run loop. This is unsuitable for Chromium\n// since Chromium depends on leaving the main run loop to perform an orderly\n// shutdown. We support the normal |-terminate:| interface by overriding the\n// default implementation. Our implementation, which is very specific to the\n// needs of Chromium, works by asking the application delegate to terminate\n// using its |-tryToTerminateApplication:| method.\n//\n// |-tryToTerminateApplication:| differs from the standard\n// |-applicationShouldTerminate:| in that no special event loop is run in the\n// case that immediate termination is not possible (e.g., if dialog boxes\n// allowing the user to cancel have to be shown). Instead, this method tries to\n// close all browsers by calling CloseBrowser(false) via\n// ClientHandler::CloseAllBrowsers. Calling CloseBrowser will result in a call\n// to ClientHandler::DoClose and execution of |-performClose:| on the NSWindow.\n// DoClose sets a flag that is used to differentiate between new close events\n// (e.g., user clicked the window close button) and in-progress close events\n// (e.g., user approved the close window dialog). The NSWindowDelegate\n// |-windowShouldClose:| method checks this flag and either calls\n// CloseBrowser(false) in the case of a new close event or destructs the\n// NSWindow in the case of an in-progress close event.\n// ClientHandler::OnBeforeClose will be called after the CEF NSView hosted in\n// the NSWindow is dealloc'ed.\n//\n// After the final browser window has closed ClientHandler::OnBeforeClose will\n// begin actual tear-down of the application by calling CefQuitMessageLoop.\n// This ends the NSApplication event loop and execution then returns to the\n// main() function for cleanup before application termination.\n//\n// The standard |-applicationShouldTerminate:| is not supported, and code paths\n// leading to it must be redirected.\n- (void)terminate:(id)sender {\n  SimpleAppDelegate* delegate =\n      static_cast&lt;SimpleAppDelegate*&gt;([NSApp delegate]);\n  [delegate tryToTerminateApplication:self];\n  // Return, don't exit. The application is responsible for exiting on its own.\n}\n@end\n\n@implementation SimpleAppDelegate\n\n// Create the application on the UI thread.\n- (void)createApplication:(id)object {\n  [NSApplication sharedApplication];\n  [[NSBundle mainBundle] loadNibNamed:@\"MainMenu\"\n                                owner:NSApp\n                      topLevelObjects:nil];\n\n  // Set the delegate for application events.\n  [[NSApplication sharedApplication] setDelegate:self];\n}\n\n- (void)tryToTerminateApplication:(NSApplication*)app {\n  SimpleHandler* handler = SimpleHandler::GetInstance();\n  if (handler &amp;&amp; !handler-&gt;IsClosing())\n    handler-&gt;CloseAllBrowsers(false);\n}\n\n- (NSApplicationTerminateReply)applicationShouldTerminate:\n    (NSApplication*)sender {\n  return NSTerminateNow;\n}\n@end\n\n// Entry point function for the browser process.\nint main(int argc, char* argv[]) {\n  // Load the CEF framework library at runtime instead of linking directly\n  // as required by the macOS sandbox implementation.\n  CefScopedLibraryLoader library_loader;\n  if (!library_loader.LoadInMain())\n    return 1;\n\n  // Provide CEF with command-line arguments.\n  CefMainArgs main_args(argc, argv);\n\n  @autoreleasepool {\n    // Initialize the SimpleApplication instance.\n    [SimpleApplication sharedApplication];\n\n    // Specify CEF global settings here.\n    CefSettings settings;\n\n    // When generating projects with CMake the CEF_USE_SANDBOX value will be\n    // defined automatically. Pass -DUSE_SANDBOX=OFF to the CMake command-line\n    // to disable use of the sandbox.\n#if !defined(CEF_USE_SANDBOX)\n    settings.no_sandbox = true;\n#endif\n\n    // SimpleApp implements application-level callbacks for the browser process.\n    // It will create the first browser instance in OnContextInitialized() after\n    // CEF has initialized.\n    CefRefPtr&lt;SimpleApp&gt; app(new SimpleApp);\n\n    // CEF applications have multiple sub-processes (render, plugin, GPU, etc)\n    // that share the same executable. This function checks the command-line and,\n    // if this is a sub-process, executes the appropriate logic.\n    CefExecuteProcess(main_args, app, nullptr);\n\n    // Initialize CEF for the browser process.\n    CefInitialize(main_args, settings, app.get(), NULL);\n\n    // Create the application delegate.\n    NSObject* delegate = [[SimpleAppDelegate alloc] init];\n    [delegate performSelectorOnMainThread:@selector(createApplication:)\n                               withObject:nil\n                            waitUntilDone:NO];\n\n    // Run the CEF message loop. This will block until CefQuitMessageLoop() is\n    // called.\n    CefRunMessageLoop();\n\n    // Shut down CEF.\n    CefShutdown();\n\n    // Release the delegate.\n#if !__has_feature(objc_arc)\n    [delegate release];\n#endif  // !__has_feature(objc_arc)\n    delegate = nil;\n  }  // @autoreleasepool\n\n  return 0;\n}\n</code></pre>\n\n<p>simple_app.h</p>\n\n<pre><code>// Copyright (c) 2013 The Chromium Embedded Framework Authors. All rights\n// reserved. Use of this source code is governed by a BSD-style license that\n// can be found in the LICENSE file.\n\n#ifndef CEF_TESTS_CEFSIMPLE_SIMPLE_APP_H_\n#define CEF_TESTS_CEFSIMPLE_SIMPLE_APP_H_\n\n#include \"include/cef_app.h\"\n\n// Implement application-level callbacks for the browser process.\nclass SimpleApp : public CefApp, \n                                public CefBrowserProcessHandler,\n                                public CefRenderProcessHandler {\n public:\n  SimpleApp();\n\n  // CefApp methods:\n  virtual CefRefPtr&lt;CefBrowserProcessHandler&gt; GetBrowserProcessHandler()\n      OVERRIDE {\n    return this;\n  }\n\n  virtual CefRefPtr&lt;CefRenderProcessHandler&gt; GetRenderProcessHandler()\n      OVERRIDE {\n    return this;\n  }\n\n  // CefBrowserProcessHandler methods:\n  virtual void OnContextInitialized() OVERRIDE;\n\n  virtual void OnContextCreated(CefRefPtr&lt;CefBrowser&gt; browser,\n                                CefRefPtr&lt;CefFrame&gt; frame,\n                                CefRefPtr&lt;CefV8Context&gt; context) OVERRIDE;\n\n private:\n  // Include the default reference counting implementation.\n  IMPLEMENT_REFCOUNTING(SimpleApp);\n};\n\n#endif  // CEF_TESTS_CEFSIMPLE_SIMPLE_APP_H_\n</code></pre>\n\n<p>simple_app.cc</p>\n\n<pre><code>// Copyright (c) 2013 The Chromium Embedded Framework Authors. All rights\n// reserved. Use of this source code is governed by a BSD-style license that\n// can be found in the LICENSE file.\n\n#include \"tests/cefsimple/simple_app.h\"\n\n#include &lt;string&gt;\n\n#include \"include/cef_browser.h\"\n#include \"include/cef_command_line.h\"\n#include \"include/views/cef_browser_view.h\"\n#include \"include/views/cef_window.h\"\n#include \"include/wrapper/cef_helpers.h\"\n#include \"tests/cefsimple/simple_handler.h\"\n\nnamespace {\n\n// When using the Views framework this object provides the delegate\n// implementation for the CefWindow that hosts the Views-based browser.\nclass SimpleWindowDelegate : public CefWindowDelegate {\n public:\n  explicit SimpleWindowDelegate(CefRefPtr&lt;CefBrowserView&gt; browser_view)\n      : browser_view_(browser_view) {}\n\n  void OnWindowCreated(CefRefPtr&lt;CefWindow&gt; window) OVERRIDE {\n    // Add the browser view and show the window.\n    window-&gt;AddChildView(browser_view_);\n    window-&gt;Show();\n\n    // Give keyboard focus to the browser view.\n    browser_view_-&gt;RequestFocus();\n  }\n\n  void OnWindowDestroyed(CefRefPtr&lt;CefWindow&gt; window) OVERRIDE {\n    browser_view_ = NULL;\n  }\n\n  bool CanClose(CefRefPtr&lt;CefWindow&gt; window) OVERRIDE {\n    // Allow the window to close if the browser says it's OK.\n    CefRefPtr&lt;CefBrowser&gt; browser = browser_view_-&gt;GetBrowser();\n    if (browser)\n      return browser-&gt;GetHost()-&gt;TryCloseBrowser();\n    return true;\n  }\n\n  CefSize GetPreferredSize(CefRefPtr&lt;CefView&gt; view) OVERRIDE {\n    return CefSize(800, 600);\n  }\n\n private:\n  CefRefPtr&lt;CefBrowserView&gt; browser_view_;\n\n  IMPLEMENT_REFCOUNTING(SimpleWindowDelegate);\n  DISALLOW_COPY_AND_ASSIGN(SimpleWindowDelegate);\n};\n\n}  // namespace\n\nSimpleApp::SimpleApp() {}\n\nvoid SimpleApp::OnContextInitialized() {\n  CEF_REQUIRE_UI_THREAD();\n\n  CefRefPtr&lt;CefCommandLine&gt; command_line =\n      CefCommandLine::GetGlobalCommandLine();\n\n#if defined(OS_WIN) || defined(OS_LINUX)\n  // Create the browser using the Views framework if \"--use-views\" is specified\n  // via the command-line. Otherwise, create the browser using the native\n  // platform framework. The Views framework is currently only supported on\n  // Windows and Linux.\n  const bool use_views = command_line-&gt;HasSwitch(\"use-views\");\n#else\n  const bool use_views = false;\n#endif\n\n  // SimpleHandler implements browser-level callbacks.\n  CefRefPtr&lt;SimpleHandler&gt; handler(new SimpleHandler(use_views));\n\n  // Specify CEF browser settings here.\n  CefBrowserSettings browser_settings;\n\n  std::string url;\n\n  // Check if a \"--url=\" value was provided via the command-line. If so, use\n  // that instead of the default URL.\n  url = command_line-&gt;GetSwitchValue(\"url\");\n  if (url.empty())\n    url = \"http://www.google.com\";\n\n  if (use_views) {\n    // Create the BrowserView.\n    CefRefPtr&lt;CefBrowserView&gt; browser_view = CefBrowserView::CreateBrowserView(\n        handler, url, browser_settings, NULL, NULL, NULL);\n\n    // Create the Window. It will show itself after creation.\n    CefWindow::CreateTopLevelWindow(new SimpleWindowDelegate(browser_view));\n  } else {\n    // Information used when creating the native window.\n    CefWindowInfo window_info;\n\n#if defined(OS_WIN)\n    // On Windows we need to specify certain flags that will be passed to\n    // CreateWindowEx().\n    window_info.SetAsPopup(NULL, \"cefsimple\");\n#endif\n\n    // Create the first browser window.\n    CefBrowserHost::CreateBrowser(window_info, handler, url, browser_settings,\n                                  NULL, NULL);\n  }\n}\n\nvoid SimpleApp::OnContextCreated(CefRefPtr&lt;CefBrowser&gt; browser,\n        CefRefPtr&lt;CefFrame&gt; frame,\n        CefRefPtr&lt;CefV8Context&gt; context) {\n\n  // Retrieve the context's window object.\n   CefRefPtr&lt;CefV8Value&gt; object = context-&gt;GetGlobal();\n\n   // Create a new V8 string value. See the \"Basic JS Types\" section below.\n   CefRefPtr&lt;CefV8Value&gt; str = CefV8Value::CreateString(\"My Value!\");\n\n   // Add the string to the window object as \"window.myval\". See the \"JS Objects\" section below.\n   object-&gt;SetValue(\"myval\", str, V8_PROPERTY_ATTRIBUTE_NONE);\n\n}\n</code></pre>\n\n<p>And of course, the HTML to check if it's working.</p>\n\n<p>CEFTest.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;span id=\"thespan\"&gt;&lt;/span&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n\n        function SetValue(argument) {\n            document.getElementById( 'thespan' ).innerHTML = window.myval + 'hello'\n        }\n\n        window.addEventListener( 'load', SetValue )\n\n    &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My understanding of Cef is only just now starting to really take shape. What it looks like I've had to do is pass CefRenderProcessHandler to the SimpleApp class in order to allow it access to all of the RenderProcessHandler's methods. Then I had to override OnContextCreated with my own version (as the original version is simply a placeholder function)</p>\n\n<p>Calling CefExecuteProcess serves, I think, to actually force the process to start. I could use some clarification on that.</p>\n"}, {"tags": ["objective-c", "swift", "xcode11"], "comments": [{"owner": {"reputation": 2379, "user_id": 214070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d732063e29858ea25f41cf39f4fa9181?s=128&d=identicon&r=PG", "display_name": "bugloaf", "link": "https://stackoverflow.com/users/214070/bugloaf"}, "edited": false, "score": 0, "creation_date": 1573069297, "post_id": 58525752, "comment_id": 103764839, "body": "It&#39;s not happening anymore. Maybe Apple fixed the issue?"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 4251274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSkfe.jpg?s=128&g=1", "display_name": "Daniil Molchanov", "link": "https://stackoverflow.com/users/4251274/daniil-molchanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1574257601, "creation_date": 1574257601, "answer_id": 58955860, "question_id": 58525752, "link": "https://stackoverflow.com/questions/58525752/xcode-11-debugger-crashes-on-breakpoint-cant-find-foundation-h/58955860#58955860", "title": "Xcode 11 debugger crashes on breakpoint, can&#39;t find Foundation.h", "body": "<p>Same here. Removing <code>/Users/{user}/Library/Developer/Xcode/DerivedData</code> directory helped.</p>\n"}], "owner": {"reputation": 2379, "user_id": 214070, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d732063e29858ea25f41cf39f4fa9181?s=128&d=identicon&r=PG", "display_name": "bugloaf", "link": "https://stackoverflow.com/users/214070/bugloaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574257601, "creation_date": 1571842714, "question_id": 58525752, "link": "https://stackoverflow.com/questions/58525752/xcode-11-debugger-crashes-on-breakpoint-cant-find-foundation-h", "title": "Xcode 11 debugger crashes on breakpoint, can&#39;t find Foundation.h", "body": "<p>My macOS app compiles and runs fine, but since switching to Xcode 11, I can no longer debug from breakpoints. The debugger always crashes with a bunch of messages like this:</p>\n\n<pre><code>warning: Swift error in scratch context: /foobar/Foo-Bridging-Header.h:14:9: note: in file included from /foobar/Foo-Bridging-Header.h:14:\n#import \"TPPreciseTimer.h\"\n    ^\n\nerror: /foobar/Timer/TPPreciseTimer.h:9:9: error: 'Foundation/Foundation.h' file not found\n#import &lt;Foundation/Foundation.h&gt;\n    ^\n\n/foobar/Timer/TPPreciseTimer.h:9:9: note: did not find header 'Foundation.h' in framework 'Foundation' (loaded from '/System/Library/Frameworks')\n#import &lt;Foundation/Foundation.h&gt;\n    ^\n\nerror: failed to import bridging header '/foobar/Foo-Bridging-Header.h'\n.\nShared Swift state for Foo has developed fatal errors and is being discarded.\nREPL definitions and persistent names/types will be lost.\n\nMessage from debugger: The LLDB RPC server has crashed. The crash log is located in ~/Library/Logs/DiagnosticReports and has a prefix 'lldb-rpc-server'. Please file a bug and attach the most recent crash log.\n</code></pre>\n\n<p>Anyone know a workaround for something like this?</p>\n\n<p>My coworkers still on Xcode 10.3 are not having this issue with the same codebase.</p>\n"}, {"tags": ["c#", "android", "objective-c", "google-maps", "xamarin.forms"], "comments": [{"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1571901081, "post_id": 58525579, "comment_id": 103394680, "body": "I&#39;m not understanding your question very well. The two screenshots of iOS and Android looks same. I can&#39;t figure out the difference and I does not see any discontinuos polylines. Also, can you please share a Minimal, Reproducible Example to reproduce the problem? Something like those points in <code>tratta.polilinea</code>."}, {"owner": {"reputation": 228, "user_id": 7089089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ErFXgVHwo50/AAAAAAAAAAI/AAAAAAAAJbA/-GBHE7qbs3Q/photo.jpg?sz=128", "display_name": "Giuseppe Pennisi", "link": "https://stackoverflow.com/users/7089089/giuseppe-pennisi"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1571904664, "post_id": 58525579, "comment_id": 103396325, "body": "Hi @JackHua-MSFT, if you see better under the label on map &quot;Lastra a Signa&quot; in the android version, you can see that there is a discontinuity between the two polylines. Analyzing better the code, i saw that if i take the polylines&#39; points and i put in an hard way, it works as expected. So, i saw that when i deserialize points from the jsons containings the points, instead, there is some rounding of decimal figures, and I imagine that this is the real problem. So how can i avoid that Newtonsoft.Json rounds values taken from a json?"}, {"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1571908588, "post_id": 58525579, "comment_id": 103398337, "body": "Ok, I saw the discontinuos polylines.You can have a try with below codes:   <code>var settings = new JsonSerializerSettings(); settings.FloatParseHandling = FloatParseHandling.Decimal; var data = JsonConvert.DeserializeObject(json, settings);</code> Let me know if it works."}, {"owner": {"reputation": 228, "user_id": 7089089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ErFXgVHwo50/AAAAAAAAAAI/AAAAAAAAJbA/-GBHE7qbs3Q/photo.jpg?sz=128", "display_name": "Giuseppe Pennisi", "link": "https://stackoverflow.com/users/7089089/giuseppe-pennisi"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1571913507, "post_id": 58525579, "comment_id": 103400954, "body": "Thanks, now it works as expected."}, {"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1571966908, "post_id": 58525579, "comment_id": 103422809, "body": "I post an answer with the code in the comment, can you please mark it so that we can help more people with same problem?"}], "answers": [{"tags": [], "owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "is_accepted": true, "score": 1, "last_activity_date": 1571966806, "creation_date": 1571966806, "answer_id": 58551030, "question_id": 58525579, "link": "https://stackoverflow.com/questions/58525579/what-are-the-differences-for-polylines-between-ios-maps-and-android-maps/58551030#58551030", "title": "What are the differences for polylines between iOs maps and android maps?", "body": "<blockquote>\n  <p>So how can i avoid that Newtonsoft.Json rounds values taken from a\n  json?</p>\n</blockquote>\n\n<p>You can set the <code>FloatParseHandling</code> to <code>Decimal</code> in the <code>JsonSerializerSettings</code>, here is the code example:</p>\n\n<pre><code>var settings = new JsonSerializerSettings(); \nsettings.FloatParseHandling = FloatParseHandling.Decimal;\nvar data = JsonConvert.DeserializeObject(json, settings);\n</code></pre>\n"}], "owner": {"reputation": 228, "user_id": 7089089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ErFXgVHwo50/AAAAAAAAAAI/AAAAAAAAJbA/-GBHE7qbs3Q/photo.jpg?sz=128", "display_name": "Giuseppe Pennisi", "link": "https://stackoverflow.com/users/7089089/giuseppe-pennisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58551030, "answer_count": 1, "score": 0, "last_activity_date": 1571966806, "creation_date": 1571842206, "question_id": 58525579, "link": "https://stackoverflow.com/questions/58525579/what-are-the-differences-for-polylines-between-ios-maps-and-android-maps", "title": "What are the differences for polylines between iOs maps and android maps?", "body": "<p>I'm converting an iOs app in c# to create a multi-platform version with xamarin.forms. The app presents a map where there are a lot of polylines, created from different jsons of points (latitude and longitude). When a polyline \"finish\" another start seamlessly, even because the last point of a polyline is the first one of the next. When i use the same jsons to create the polylines in c#, they are discontinuos, giving an unwanted effect. How can i try to resolve this issue? I got a native android version of the app and it has the same problem of the multi-platform version. I'm not the author of the iOs code. Thanks for the help!</p>\n\n<p><a href=\"https://i.stack.imgur.com/KqZXv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KqZXv.jpg\" alt=\"ios version\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/PuxBd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PuxBd.jpg\" alt=\"xamarin.forms version\"></a></p>\n\n<p>This is objective-c code:</p>\n\n<pre><code>id resp =[NSJSONSerialization JSONObjectWithData:tratta.polilinea options:NSJSONReadingMutableContainers error:nil];\n        //NSLog(@\"%@\",resp);\n        if([resp isKindOfClass:[NSArray class]])\n        {\n            NSArray *listatratte = (NSArray*)resp;\n            CLLocationCoordinate2D* coords = malloc([listatratte count] * sizeof(CLLocationCoordinate2D));\n\n            float diskkm = tratta.ini_km;\n\n            for(int i = 0; i &lt; [listatratte count]; i++)\n            {\n                id cordinate = [listatratte objectAtIndex:i];\n\n                //Aggiungo offset\n                float lineangle = atan2(tratta.ini_lat - tratta.end_lat, tratta.end_lon - tratta.ini_lon);\n                //float halfGap = 0.0060;\n                float halfGap = [self getOffsetStrade];\n                float radians = 90/M_PI;\n\n                float angleTop = 90/radians + lineangle;\n                float topoffsetx = cos(angleTop)*halfGap;\n                float topoffsety = sin(angleTop)*halfGap;\n\n                float angleBottom = -90/radians + lineangle;\n                float botoffsetx = cos(angleBottom)*halfGap;\n                float botoffsety = sin(angleBottom)*halfGap;\n\n                if([tratta.direzione isEqualToString:@\"D\"])\n                {\n                    CLLocationCoordinate2D punto = CLLocationCoordinate2DMake([[cordinate objectForKey:@\"lat\"]doubleValue]+topoffsetx, [[cordinate objectForKey:@\"lon\"]doubleValue]+topoffsety);\n                    coords[i] = punto;\n                }\n                else\n                {\n                    CLLocationCoordinate2D punto = CLLocationCoordinate2DMake([[cordinate objectForKey:@\"lat\"]doubleValue]+botoffsetx, [[cordinate objectForKey:@\"lon\"]doubleValue]+botoffsety);\n                    coords[i] = punto;\n                }\n            }\n            MKPolyline *poly = [MKPolyline polylineWithCoordinates:coords count:[listatratte count]];\n            if([tratta.direzione isEqualToString:@\"D\"])\n            {\n                poly.title = @\"D\";\n            }\n            else\n            {\n                poly.title = @\"S\";\n            }\n            free(coords);\n</code></pre>\n\n<p>this is c# code:</p>\n\n<pre><code> private async Task DrawPolyline(List&lt;Tuple&lt;int,List&lt;Model.Position&gt;&gt;&gt; ListOfListPolylinePoints)\n        {\n            //IsIntoFiPiLi = false;\n\n            if (Map.Polylines.Count &gt; 0) RemovePolylines();\n\n            foreach (var listOfPoints in ListOfListPolylinePoints)\n            {\n                var tratta = await RepositoryHelper.Instance.TratteRepository.GetItemAsync(listOfPoints.Item1);\n                var polyline_to_draw = new Polyline();\n                var points_polilyne = listOfPoints.Item2;\n                for (var i = 0; i &lt; points_polilyne.Count - 1; i++)\n                {\n                    var lineAngle = Math.Atan2(points_polilyne[i].lat - points_polilyne[i + 1].lat,\n                        points_polilyne[i + 1].lon - points_polilyne[i].lon);\n                    var halfGap = GetOffsetStreet();\n                    var radians = 90 / Math.PI;\n                    var angleTop = 90 / radians + lineAngle;\n                    var topoffsetx = Math.Cos(angleTop) * halfGap;\n                    var topoffsety = Math.Sin(angleTop) * halfGap;\n                    var angleBottom = -90 / radians + lineAngle;\n                    var botoffsetx = Math.Cos(angleBottom) * halfGap;\n                    var botoffsety = Math.Sin(angleBottom) * halfGap;\n\n                    if (tratta.direzione == \"D\")\n                        polyline_to_draw.Positions.Add(new Position(points_polilyne[i].lat + topoffsetx,\n                            points_polilyne[i].lon + topoffsety));\n                    else\n                        polyline_to_draw.Positions.Add(new Position(points_polilyne[i].lat + botoffsetx,\n                            points_polilyne[i].lon + botoffsety));\n                }\n\n\n                polyline_to_draw.StrokeColor = GetTrafficColor(tratta);\n                polyline_to_draw.StrokeWidth = strokeWidth;\n\n                Map.Polylines.Add(polyline_to_draw);\n            }\n        }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "multithreading", "closures"], "comments": [{"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571840391, "post_id": 58524911, "comment_id": 103374820, "body": "why dont you take user to that screen directly instead of popup touch button to show the form screen. i had a similiar case in app a year ago where form data was mandatory so is user is login but those data are missing goin directly to that screen."}, {"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571840439, "post_id": 58524911, "comment_id": 103374846, "body": "how to do that? because there are many users who are already logged in without that data."}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571841286, "post_id": 58524911, "comment_id": 103375377, "body": "how do you check is user is logged or not with token or so"}, {"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571841402, "post_id": 58524911, "comment_id": 103375438, "body": "for that I have a function which check if user is logged and has a session. and that&#39;s a good question to check where they are using it. Will check and put my code to navigate to form screen there. I believe that will work."}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571841715, "post_id": 58524911, "comment_id": 103375605, "body": "ok i think would help"}], "answers": [{"comments": [{"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571852020, "post_id": 58526274, "comment_id": 103380635, "body": "Do you know how to do this in objective c? as my app delegate is in objective c"}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "reply_to_user": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571862651, "post_id": 58526274, "comment_id": 103384964, "body": "i dont know Obj-c  but you can make a translation google in, beside in your question you tagged swift not objetive-c so i write a swift answer"}, {"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571862688, "post_id": 58526274, "comment_id": 103384986, "body": "Thanks for the help. I will try it."}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "reply_to_user": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571862861, "post_id": 58526274, "comment_id": 103385067, "body": "you shoulb vote the answer if works for you so others could use it too"}, {"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571862901, "post_id": 58526274, "comment_id": 103385078, "body": "sure if it works I will mark it as answer but for now I&#39;m just giving it as up vote."}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "reply_to_user": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571863604, "post_id": 58526274, "comment_id": 103385392, "body": "ok, i recommend you to try this, this was works for, I don&#39;t see any of your code but the idea is the same no overlay just redirection to proper viewcontroller"}], "tags": [], "owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "is_accepted": true, "score": 1, "last_activity_date": 1571844300, "creation_date": 1571844300, "answer_id": 58526274, "question_id": 58524911, "link": "https://stackoverflow.com/questions/58524911/how-to-block-user-by-navigating-user-in-one-screen/58526274#58526274", "title": "How to block user by navigating user in one screen", "body": "<p>since you you dont post how to check if user is loged or not I show how do I do it. using a access token. So in appDelegate <strong>application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool</strong>  </p>\n\n<pre><code>if token != nil {\n\n        if requestManager.instance.user.birthDate != nil &amp;&amp; !requestManager.instance.user.iscomplete(){\n            print(\"GOING TO DATANC\")\n            let storyboard = UIStoryboard(name: \"Main\", bundle: nil)\n            let initialViewController = storyboard.instantiateViewController(withIdentifier: \"TabBarVC\")\n            self.window?.rootViewController = initialViewController\n            self.window?.makeKeyAndVisible()\n        }else{\n            print(\"GOING TO REGISTER\")\n            let storyboard = UIStoryboard(name: \"Main\", bundle: nil)\n            let initialViewController = storyboard.instantiateViewController(withIdentifier: \"register\")\n            //loginRequest.instance.delegate = initialViewController as profileViewController\n            self.window?.rootViewController = initialViewController\n            self.window?.makeKeyAndVisible()\n        } \n    }\n</code></pre>\n\n<p>so what's done here is to check if user has birthdate and have all info. iscomplete is funcion in the model returning true in case all values are set. if is complete then no data is missing, in your case you should check if formdata is missing or not, TABBAR is a storyBoard idetntifier for a tabbar controller but you cand adjust to whatever viewcontroller your should set in aplication flow. and register is the storyBoard idetifier for the viewcontroller where the data is missing so in you case must be the identifier of the form viewcontroller</p>\n"}], "owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1571863123, "accepted_answer_id": 58526274, "answer_count": 1, "score": 0, "last_activity_date": 1572633782, "creation_date": 1571840147, "last_edit_date": 1572633782, "question_id": 58524911, "link": "https://stackoverflow.com/questions/58524911/how-to-block-user-by-navigating-user-in-one-screen", "closed_reason": "Needs more focus", "title": "How to block user by navigating user in one screen", "body": "<p>So here is the need I already have functions to check if user is logged in.</p>\n\n<p>So my need is to have an overlay that will popup if user is already logged in and will have a button that will navigate to particular screen which has some forms to fill.</p>\n\n<p>User should be blocked if he is logged in and doesn't have those information from the form screen.</p>\n\n<p>What is the best approach to call and use that overlay?</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller"], "comments": [{"owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571839471, "post_id": 58524077, "comment_id": 103374249, "body": "just read it again"}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571839994, "post_id": 58524077, "comment_id": 103374576, "body": "read the duplicated please in all form of passing data from one viewcontroller to another and the notification one is suitable for this purspose"}, {"owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571842519, "post_id": 58524077, "comment_id": 103376029, "body": "u said right, how about dismissing the sub-controllers."}, {"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571842687, "post_id": 58524077, "comment_id": 103376137, "body": "there are ways to do that but i guess you&#39;re using a navigation viewcontroller so you could call <code>self..navigationController.popToViewController</code>"}, {"owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571842959, "post_id": 58524077, "comment_id": 103376285, "body": "thanks, u read well my question, this is what I am missing, and  I am looking for pice of code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "edited": false, "score": 0, "creation_date": 1571842626, "post_id": 58525174, "comment_id": 103376093, "body": "how about dismissing the sub-controllers"}], "tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": false, "score": 0, "last_activity_date": 1571841048, "creation_date": 1571841048, "answer_id": 58525174, "question_id": 58524077, "link": "https://stackoverflow.com/questions/58524077/how-to-pass-data-to-root-controller-from-one-of-the-sub-controller-and-dismiss-a/58525174#58525174", "title": "How to pass data to root controller from one of the sub controller and dismiss all the sub controllers?", "body": "<p>In ViewController A, in ViewDidLoad create notification</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self\n                                            selector:@selector(getDictionaryFromD:)\n                                                 name:@\"getDictionaryFromD\" object:nil];\n</code></pre>\n\n<p>Next implement this method in View Controller A</p>\n\n<pre><code>-(void)getDictionaryFromD:(NSNotification*)notify {\n   [[[[self view]window]rootViewController] dismissViewControllerAnimated:false completion:nil];\n    NSDictionary *dict = [notify object];\n}\n</code></pre>\n\n<p>Now in view Controller D pass dict by calling this notification like this</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] postNotificationName:@\"deviceWidthChange\" object:WHDict];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1571861889, "answer_count": 1, "score": -1, "last_activity_date": 1571841048, "creation_date": 1571837510, "question_id": 58524077, "link": "https://stackoverflow.com/questions/58524077/how-to-pass-data-to-root-controller-from-one-of-the-sub-controller-and-dismiss-a", "closed_reason": "Duplicate", "title": "How to pass data to root controller from one of the sub controller and dismiss all the sub controllers?", "body": "<p>I have 4 view controllers lets say A, B, C, and D  and all these view controllers will be pushed as A->B->C->D.</p>\n\n<p>I have a Dictionary in 'D' and I need to pass this to Dictionary 'A' and I need to Dismiss all the controllers except 'A' Controller to do some action with that received data passed from 'D'.</p>\n\n<p>What are the approaches to pass data between view controllers and dismiss all sub controllers as per my requirement?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571836102, "post_id": 58523507, "comment_id": 103372146, "body": "<code>NSString *name = [[jsonDict valueForKeyPath:@&quot;users.fName&quot;] first];</code> doesn&#39;t work?"}, {"owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571836453, "post_id": 58523507, "comment_id": 103372396, "body": "@Larme no, I had tried that also."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571836529, "post_id": 58523507, "comment_id": 103372449, "body": "But what is creating the output <code>&lt;__NSSingleObjectArrayI 0x28205fc00&gt;(</code>?  Could you show the JSON initial?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1571836850, "post_id": 58523507, "comment_id": 103372673, "body": "<code>[dict valueForKeyPath:@&quot;users.fName&quot;][0]</code> should work though (previously I meant <code>firstObject</code>, not <code>first</code>, doing too much Swift). Reproduced with sample <code>NSDictionary *jsonDict = @{@&quot;users&quot;: @[@{@&quot;fName&quot;: @&quot;Name1&quot;}]};</code>"}, {"owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571837187, "post_id": 58523507, "comment_id": 103372870, "body": "@Larme, Thank you, that now makes sense...."}], "owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571836539, "creation_date": 1571835795, "last_edit_date": 1571836539, "question_id": 58523507, "link": "https://stackoverflow.com/questions/58523507/how-to-extract-nsstring-from-nsdictionary-that-contains-nested-json", "title": "How to extract NSString from NSDictionary that contains nested JSON", "body": "<p>I'm trying to get NSStrings from an dictionary but the extracted strings contain the following</p>\n\n<pre><code>&lt;__NSSingleObjectArrayI 0x28205fc00&gt;(\nAaron\n)\n</code></pre>\n\n<p>I expected s plain NSString.</p>\n\n<p>Code:</p>\n\n<pre><code>  NSString *name = [jsonDict valueForKeyPath:@\"users.fName\"];\n  NSLog(@\"name, %@\", name);\n</code></pre>\n\n<p>I though that using 'objectAtIndex' might work but it didn't.</p>\n\n<p>Structure of NSDictionary (JSON) that I'm working with.</p>\n\n<pre><code>{\n    TYPE = UPDATE;\n    keys =     (\n                {\n            calendarId = b306db7e1f924fdebade3813dd596f5d;\n            delFlag = 0;\n            editTime = \"2019-10-23T12:02:32.0857328\";\n            endTime = \"2019-10-24T10:35:00\";\n            insId = 20;\n            itemKeyId = 15;\n            keyId = ce71bc7ae3c145adad18a72e56cf0fab;\n            projectId = 950710ab2b96413cbfd186141e147b3e;\n            startTime = \"2016-05-23T21:10:00\";\n            updateStatus = 1;\n            validateCount = 6;\n        }\n    );\n    users =     (\n                {\n            calendarId = 0;\n            delFlag = 0;\n            editTime = \"2019-10-23T12:02:32.0794244\";\n            fName = Aaron;\n            insId = 20;\n            itemUserId = 15;\n            keyId = ce71bc7ae3c145adad18a72e56cf0fab;\n            keyMac = 50338B11E912;\n            lName = Joines;\n            operId = 30222e0b4b0e4df6b669c3cf69245422;\n            projectId = 950710ab2b96413cbfd186141e147b3e;\n            userId = 8be21d1690bb46979a04b4e45a1ba625;\n            userPin = 123456;\n        }\n    );\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview", "storyboard"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571831964, "post_id": 58520982, "comment_id": 103369846, "body": "You need to use it in a cell xib, and register the nib. That&#39;s how you link the &quot;UI&quot; and the &quot;code&quot; part."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571832654, "post_id": 58520982, "comment_id": 103370228, "body": "@Larme Actually, my real problem began when I updated my XCode to v.11. The existing project&#39;s storyboard is gonna get messed if I make any changes. Therefore I have to do everything programmatically! Are you familiar with this issue?"}, {"owner": {"reputation": 901, "user_id": 5301535, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1140720312622504/picture?type=large", "display_name": "Shahzaib Qureshi", "link": "https://stackoverflow.com/users/5301535/shahzaib-qureshi"}, "edited": false, "score": 0, "creation_date": 1572524138, "post_id": 58520982, "comment_id": 103591534, "body": "you should copy that cell in your view controller that u want to use it."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "reply_to_user": {"reputation": 901, "user_id": 5301535, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1140720312622504/picture?type=large", "display_name": "Shahzaib Qureshi", "link": "https://stackoverflow.com/users/5301535/shahzaib-qureshi"}, "edited": false, "score": 0, "creation_date": 1572528044, "post_id": 58520982, "comment_id": 103593785, "body": "@ShahzaibQureshi As you can see I described the main problem to <code>@Larme</code>, please read it"}, {"owner": {"reputation": 901, "user_id": 5301535, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/1140720312622504/picture?type=large", "display_name": "Shahzaib Qureshi", "link": "https://stackoverflow.com/users/5301535/shahzaib-qureshi"}, "edited": false, "score": 1, "creation_date": 1572528377, "post_id": 58520982, "comment_id": 103593984, "body": "If you want to do it programatically, you will have to add the views programatically in your cells awake from nib or you will have to design a nib if you do it with Interface designing."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1572531320, "post_id": 58520982, "comment_id": 103595620, "body": "@ArashEtemad - you cannot use a Storyboard Prototype cell in a different table.... To do it &quot;programmatically,&quot; you&#39;ll need to add the subviews and constrain them inside your cell class. If you show your current prototype layout, you can get more help."}], "answers": [{"comments": [{"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1571834612, "post_id": 58523046, "comment_id": 103371292, "body": "I didn&#39;t create Nib for the cell! I just added this as a prototype cell in another viewController."}], "tags": [], "owner": {"reputation": 1, "user_id": 12263008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAMAvvu49v8q7uUlYWSQOPR7MpcN8W_jSBWdgSFrQ=k-s128", "display_name": "Daniyel Gamit", "link": "https://stackoverflow.com/users/12263008/daniyel-gamit"}, "is_accepted": false, "score": -1, "last_activity_date": 1571834287, "creation_date": 1571834287, "answer_id": 58523046, "question_id": 58520982, "link": "https://stackoverflow.com/questions/58520982/reuse-custom-tableviewcell/58523046#58523046", "title": "Reuse custom TableViewCell", "body": "<p>You getting empty cell because custom tableview cell not registered, use<code>\n[self.numbersTableView registerNib:[UINib nibWithNibName:@\"AZGCountryCell\" bundle:nil] forCellReuseIdentifier:@\"NumbersTableViewCell\"];</code> </p>\n\n<p>instead of</p>\n\n<p><code>[self.numbersTableView registerClass:[AZGCountryCell class] forCellReuseIdentifier:@\"NumbersTableViewCell\"];\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 3136, "user_id": 659571, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5636dc6a8a882276e6afe1e757fa0c7e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/659571/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1572610224, "creation_date": 1572610224, "answer_id": 58659032, "question_id": 58520982, "link": "https://stackoverflow.com/questions/58520982/reuse-custom-tableviewcell/58659032#58659032", "title": "Reuse custom TableViewCell", "body": "<p>Unfortunately you can't reuse a table cell you've defined in a table view in a storyboard in your separate class.</p>\n\n<p>In order for you to be able to share your cell between the different views, you'll have to extract the view to a separate nib and register that nib go be used on both tables.</p>\n\n<p>Alternatively you can implement the cell's UI in code in the table view cell subclass.</p>\n"}], "owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1572610224, "creation_date": 1571827109, "question_id": 58520982, "link": "https://stackoverflow.com/questions/58520982/reuse-custom-tableviewcell", "title": "Reuse custom TableViewCell", "body": "<p>I have a <code>viewController</code> that contains a programmatically created <code>tableView</code>.</p>\n\n<pre><code>@property (strong, nonatomic) UITableView *numbersTableView;\n//...\nself.numbersTableView = [[UITableView alloc] initWithFrame:CGRectMake(0, -100, self.view.frame.size.width-20, 50)];\nself.numbersTableView.delegate = self;\nself.numbersTableView.dataSource = self;\nself.numbersTableView.tag = 1;\nself.numbersTableView.layer.cornerRadius = 5;\n[self.numbersTableView setBounces:false];\n[self.numbersTableView setHidden:true];\n[self.numbersTableView registerClass:[AZGCountryCell class] forCellReuseIdentifier:@\"NumbersTableViewCell\"];\n[self.view addSubview:self.numbersTableView];\n</code></pre>\n\n<p>For the prototype cell I want to use a prototype that I created somewhere else in another <code>viewController</code> and I designed It in storyboard.</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{\n    if (tableView.tag == 1) { //tableView == self.numbersTableView\n        NSString *cellID = @\"NumbersTableViewCell\";\n        AZGCountryCell *cell = [tableView dequeueReusableCellWithIdentifier:cellID];\n        if (cell == nil) {\n            cell = [[AZGCountryCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellID];\n        }\n        cell.countryName.text = self.numbersArray[indexPath.row].number;\n        cell.flagImageView.image = [UIImage imageNamed:self.numbersArray[indexPath.row].country];\n        return cell;\n    }\n}\n</code></pre>\n\n<p>And my custom cell contains one <code>UIImageView</code> and one <code>UILabel</code> but when I run the code the cells are empty and I can see the <code>UIImageView</code> and <code>UILabel</code> are nil!</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface AZGCountryCell : UITableViewCell\n\n@property (strong, nonatomic) IBOutlet UIImageView *flagImageView;\n@property (strong, nonatomic) IBOutlet UILabel *countryName;\n@property (strong, nonatomic) IBOutlet UILabel *countryCode;\n\n@end\n</code></pre>\n\n<hr>\n\n<pre><code>#import \"AZGCountryCell.h\"\n\n@implementation AZGCountryCell\n@synthesize flagImageView;\n@synthesize countryName;\n\n- (void)awakeFromNib {\n    [super awakeFromNib];\n    self.flagImageView.layer.cornerRadius = self.flagImageView.frame.size.width/2;\n    self.flagImageView.layer.masksToBounds = YES;\n}\n\n- (void)setSelected:(BOOL)selected animated:(BOOL)animated {\n    [super setSelected:selected animated:animated];\n}\n\n@end\n</code></pre>\n\n<p>Then what should I do to have properly filled cells in my <code>numbersTableView</code>?</p>\n"}, {"tags": ["objective-c", "nsurl"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1571832754, "post_id": 58520962, "comment_id": 103370291, "body": "<code>NSURL *hardCoded = [NSURL URLWithString:@&quot;&#47;api&#47;v3.1&#47;Follow&#47;Page&quot; relativeToURL:baseURL];</code> works. I coded this: <a href=\"https://pastebin.com/mx7J4njm\" rel=\"nofollow noreferrer\">pastebin.com/mx7J4njm</a> which is easier to read/modify. Problem is elsewhere: Start with &quot;/&quot;, end with no &quot;/&quot; which doesn&#39;t seems to be a case you have for &quot;User/Page&quot;..."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8673509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4900e577019bd79b5f7a8ae1ac225586?s=128&d=identicon&r=PG&f=1", "display_name": "sun chj", "link": "https://stackoverflow.com/users/8673509/sun-chj"}, "is_accepted": false, "score": 0, "last_activity_date": 1571883173, "last_edit_date": 1571883173, "creation_date": 1571882872, "answer_id": 58533157, "question_id": 58520962, "link": "https://stackoverflow.com/questions/58520962/ios-nsurl-urlwithstringrequesturl-relativetourlbaseurl-if-requesturl-contai/58533157#58533157", "title": "ios [NSURL URLWithString:requestUrl relativeToURL:baseUrl]. if requestUrl contains string &#39;/User/Page&#39; \uff0c return nil", "body": "<p>@Larme . Sorry, there is something wrong with my example. The third example is modified to \"/api/v3.1/user/page\". That's not true.</p>\n\n<p>Follow your code. Print as</p>\n\n<p>Error: <a href=\"http://appgateway.xxx.xx-xxx.xxx.com/\" rel=\"nofollow noreferrer\">http://appgateway.xxx.xx-xxx.xxx.com/</a> + /api/v3.1/user/page\nSuccess: <a href=\"http://appgateway.xxx.xx-xxx.xxx.com/api/v3.1/follow/page\" rel=\"nofollow noreferrer\">http://appgateway.xxx.xx-xxx.xxx.com/api/v3.1/follow/page</a></p>\n\n<p>But I found a problem by looping through the characters.</p>\n\n<pre><code>for (NSString *aRequestURL in requestURLs) {\n        for(int i=0; i&lt;aRequestURL.length; i++){\n            unichar ch = [aRequestURL characterAtIndex: i];\n            printf(\"%hu\", ch);\n        }\n        NSLog(@\"%@\", aRequestURL);\n}\n</code></pre>\n\n<p>There is a strange character '8203' between '/user' and '/page'. Thank you very much for the code. It broadened my thinking</p>\n\n<p>But I don't know why '8203' affects URL generation</p>\n"}], "owner": {"reputation": 1, "user_id": 8673509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4900e577019bd79b5f7a8ae1ac225586?s=128&d=identicon&r=PG&f=1", "display_name": "sun chj", "link": "https://stackoverflow.com/users/8673509/sun-chj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1866, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571883173, "creation_date": 1571827048, "last_edit_date": 1571827869, "question_id": 58520962, "link": "https://stackoverflow.com/questions/58520962/ios-nsurl-urlwithstringrequesturl-relativetourlbaseurl-if-requesturl-contai", "title": "ios [NSURL URLWithString:requestUrl relativeToURL:baseUrl]. if requestUrl contains string &#39;/User/Page&#39; \uff0c return nil", "body": "<pre><code>[NSURL URLWithString:requestUrl relativeToURL:baseUrl]\n</code></pre>\n\n<p>if requestUrl contains '/User/page', return nil.</p>\n\n<p><img src=\"https://user-images.githubusercontent.com/13481443/67383584-018d2a80-f5c2-11e9-8d18-48526c06816a.png\" alt=\"image:\"> </p>\n\n<p>If you want a test.</p>\n\n<pre><code>NSString *reqUrl1 = @\"/api/v3.1/User\u200b/Page/\";\n\nNSString *reqUrl2 = @\"api/v3.1/User\u200b/Page\";\n\nNSString *reqUrl3 = @\"/api/v3.1/User\u200b/Page/\";\n\nNSString *reqUrl4 = @\"/api/v3.1/Follow/Page\";\n\nNSString *reqUrl5 = @\"/api/v3.1/User/Follow\";\n\nNSString *reqUrl6 = @\"/api/v3.1/User/Pollow\";\n\nNSString *reqUrl7 = @\"api/v3.2/User\u200b/Page\";\n\nNSString *reqUrl8 = @\"api/v3.2/User\u200b/Page/aaa/bbb\";\n\nNSURL *url = [NSURL URLWithString:@\"http://appgateway.xxx.xx-xxx.xxx.com/\"];\n\nNSString *lastUrl1 = [NSURL URLWithString:reqUrl1 relativeToURL:url].absoluteString;\n\nNSString *lastUrl2 = [NSURL URLWithString:reqUrl2 relativeToURL:url].absoluteString;\n\nNSString *lastUrl3 = [NSURL URLWithString:reqUrl3 relativeToURL:url].absoluteString;\n\nNSString *lastUrl4 = [NSURL URLWithString:reqUrl4 relativeToURL:url].absoluteString;\n\nNSString *lastUrl5 = [NSURL URLWithString:reqUrl5 relativeToURL:url].absoluteString;\n\nNSString *lastUrl6 = [NSURL URLWithString:reqUrl6 relativeToURL:url].absoluteString;\n\nNSString *lastUrl7 = [NSURL URLWithString:reqUrl7 relativeToURL:url].absoluteString;\n\nNSString *lastUrl8 = [NSURL URLWithString:reqUrl8 relativeToURL:url].absoluteString;\n\nNSLog(@\"============\");\n\n// ------------------------------------------------------\n\n(lldb) po lastUrl1\n\n nil\n\n(lldb) po lastUrl2\n\n nil\n\n(lldb) po lastUrl3\n\n nil\n\n(lldb) po lastUrl4\n\nhttp://appgateway.xxx.xx-xxx.xxx.com/api/v3.1/Follow/Page\n\n(lldb) po lastUrl5\n\nhttp://appgateway.xxx.xx-xxx.xxx.com/api/v3.1/User/Follow\n\n(lldb) po lastUrl6\n\nhttp://appgateway.xxx.xx-xxx.xxx.com/api/v3.1/User/Pollow\n\n(lldb) po lastUrl7\n\n nil\n\n(lldb) po lastUrl8\n\n nil\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "keyboard", "macos-sierra", "macos-catalina"], "comments": [{"owner": {"reputation": 13, "user_id": 2042386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThC29.jpg?s=128&g=1", "display_name": "HongYiLin", "link": "https://stackoverflow.com/users/2042386/hongyilin"}, "edited": false, "score": 0, "creation_date": 1571821685, "post_id": 58519236, "comment_id": 103364352, "body": "<a href=\"https://stackoverflow.com/questions/58488965/macos-catalina-onscreen-virtual-keyboard-not-working\">Same question</a>"}, {"owner": {"reputation": 160, "user_id": 629559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4e87d2cee6e7eefda616c9bae3a64?s=128&d=identicon&r=PG", "display_name": "dparakh", "link": "https://stackoverflow.com/users/629559/dparakh"}, "edited": false, "score": 0, "creation_date": 1578938908, "post_id": 58519236, "comment_id": 105594347, "body": "They have a new application /System/Library/Input Methods/Assistive Control.app - but seems like you cannot launch it directly. It&#39;s configured to be launched as a LaunchAgent. Not sure how to trigger it programatically."}, {"owner": {"reputation": 160, "user_id": 629559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4e87d2cee6e7eefda616c9bae3a64?s=128&d=identicon&r=PG", "display_name": "dparakh", "link": "https://stackoverflow.com/users/629559/dparakh"}, "edited": false, "score": 0, "creation_date": 1579061649, "post_id": 58519236, "comment_id": 105637803, "body": "I just posted an answer to a similar question here: <a href=\"https://stackoverflow.com/questions/58488965/macos-catalina-onscreen-virtual-keyboard-not-working/59745030#59745030\" title=\"macos catalina onscreen virtual keyboard not working\">stackoverflow.com/questions/58488965/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 2042386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThC29.jpg?s=128&g=1", "display_name": "HongYiLin", "link": "https://stackoverflow.com/users/2042386/hongyilin"}, "is_accepted": false, "score": 0, "last_activity_date": 1611304463, "creation_date": 1611304463, "answer_id": 65841733, "question_id": 58519236, "link": "https://stackoverflow.com/questions/58519236/how-could-i-launch-keyboard-programmatically-on-catalina-10-15/65841733#65841733", "title": "How could I launch keyboard programmatically on Catalina (10.15)?", "body": "<p>There is no KeyboardViewer.app in OSX 10.15 up. You have to launch /System/Library/Input Methods/Assistive Control.app in OSX 10.15,</p>\n<p>The following is my solution.</p>\n<pre><code>- (void)launchKeyboard\n{\nNSString *theApplication = @&quot;\\&quot;Assistive Control\\&quot;&quot;;\nNSString *thePath = @&quot;\\&quot;/System/Library/Input Methods/Assistive Control.app\\&quot;&quot;;\n\nNSOperatingSystemVersion minimumSupportedOSVersion = { .majorVersion = 10, .minorVersion = 15, .patchVersion = 0 };\n\nBOOL isSupported = [NSProcessInfo.processInfo isOperatingSystemAtLeastVersion:minimumSupportedOSVersion];\n\n\nNSString *source = [NSString stringWithFormat:@&quot;set HFSPath to ((POSIX file %@) as string)\\n\\\n                    tell application \\&quot;System Events\\&quot; to \u00ac\\n\\\n                    set isRunning to 0 &lt; (count (application processes whose name is %@))\\n\\\n                    if isRunning then\\n\\\n                    tell application HFSPath to quit\\n\\\n                    else\\n\\\n                    ignoring application responses\\n\\\n                    tell application HFSPath to activate\\n\\\n                    end ignoring\\n\\\n                    end if&quot;,thePath,theApplication];\n\n\nif(isSupported==YES)\n{\n    source =\n    @&quot;activate application \\&quot;System Preferences\\&quot;\\n\\\n    tell application \\&quot;System Preferences\\&quot;\\n\\\n    reveal anchor \\&quot;Virtual_Keyboard\\&quot; in pane id \\&quot;com.apple.preference.universalaccess\\&quot;\\n\\\n    end tell\\n\\\n    tell application \\&quot;System Events\\&quot;\\n\\\n    tell process \\&quot;System Preferences\\&quot;\\n\\\n    if (exists checkbox \\&quot;Enable Accessibility Keyboard\\&quot; of tab group 1 of group 1 of window 1) then\\n\\\n    click checkbox \\&quot;Enable Accessibility Keyboard\\&quot; of tab group 1 of group 1 of window 1\\n\\\n    end if\\n\\\n    delay 1\\n\\\n    end tell\\n\\\n    end tell&quot;;\n}\n\nNSAppleScript *script = [[[NSAppleScript alloc] initWithSource:source] autorelease];\nNSDictionary  *dict   = nil;\n[script executeAndReturnError:&amp;dict];\n\n//////////////////////////////////////////////////\n\ndo\n{\n    if(dict==nil)\n    {\n        break;\n    }\n    \n    //////////////////////////////////////////////////\n    \n    NSString *message = [dict objectForKey:[[dict allKeys] firstObject]];\n    \n    if([message length]&lt;=0)\n    {\n        break;\n    }\n    \n    //////////////////////////////////////////////////\n    \n    NSAlert *alert = [[NSAlert alloc] init];\n    \n    if(alert==nil)\n    {\n        break;\n    }\n    \n    alert.messageText = @&quot;You have to allow automation for the app&quot;;\n    [alert runModal];\n    [alert release];\n    \n    //////////////////////////////////////////////////\n    \n    NSURL *url = [NSURL fileURLWithPath:@&quot;/System/Library/PreferencePanes/Security.prefPane&quot;];\n    \n    if(url==nil)\n    {\n        break;\n    }\n    \n    [[NSWorkspace sharedWorkspace] openURL:url];\n}\nwhile (0);\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 13, "user_id": 2042386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ThC29.jpg?s=128&g=1", "display_name": "HongYiLin", "link": "https://stackoverflow.com/users/2042386/hongyilin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1611304463, "creation_date": 1571821539, "last_edit_date": 1571828979, "question_id": 58519236, "link": "https://stackoverflow.com/questions/58519236/how-could-i-launch-keyboard-programmatically-on-catalina-10-15", "title": "How could I launch keyboard programmatically on Catalina (10.15)?", "body": "<p>I want to launch a screen(virtual) keyboard by NSAppleScript on macOS APP.</p>\n\n<p>The following code is work finely before macOS Catalina (10.15). All need </p>\n\n<p>permission is allowed.</p>\n\n<pre><code>NSString *theApplication = @\"\\\"KeyboardViewer\\\"\";\nNSString *thePath = @\"\\\"/System/Library/Input Methods/KeyboardViewer.app\\\"\";\n\nNSString *source = [NSString stringWithFormat:@\"set HFSPath to ((POSIX file %@) as string)\\n\\\n                    tell application \\\"System Events\\\" to \u00ac\\n\\\n                    set isRunning to 0 &lt; (count (application processes whose name is %@))\\n\\\n                    if isRunning then\\n\\\n                    tell application HFSPath to quit\\n\\\n                    else\\n\\\n                    ignoring application responses\\n\\\n                    tell application HFSPath to activate\\n\\\n                    end ignoring\\n\\\n                    end if\",thePath,theApplication];\n\nNSAppleScript *script = [[NSAppleScript alloc] initWithSource:source];\nNSDictionary  *dict   = nil;\n[script executeAndReturnError:&amp;dict];\n</code></pre>\n\n<p>I got an error message (file not found\u300cMacintosh HD:System:Library:Input Methods:KeyboardViewer.app)</p>\n\n<p>How could I fix it?</p>\n"}, {"tags": ["ios", "objective-c", "callkit"], "answers": [{"tags": [], "owner": {"reputation": 1095, "user_id": 1082528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a377b0d2e61c3c8224c56650baad4073?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/1082528/marco"}, "is_accepted": true, "score": 0, "last_activity_date": 1571826388, "creation_date": 1571826388, "answer_id": 58520772, "question_id": 58519228, "link": "https://stackoverflow.com/questions/58519228/callkit-reinitializing-causes-com-apple-callkit-error-requesttransaction-code-4/58520772#58520772", "title": "CallKit reinitializing causes com.apple.CallKit.error.requesttransaction Code=4 (UnknownCallUUID)", "body": "<p>The <a href=\"https://developer.apple.com/documentation/callkit/cxprovider\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>A VoIP app should create only one instance of <code>CXProvider</code> and store it for use globally.</p>\n</blockquote>\n\n<p>So, yes: you should avoid instantiating the <code>CXProvider</code> every time you want to reconfigure it. Just keep a global reference and reconfigure it if you need to.</p>\n"}], "owner": {"reputation": 33, "user_id": 12262024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7024c84158903d2ceabe15eed33f883c?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/12262024/ruslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 58520772, "answer_count": 1, "score": 0, "last_activity_date": 1571826388, "creation_date": 1571821523, "question_id": 58519228, "link": "https://stackoverflow.com/questions/58519228/callkit-reinitializing-causes-com-apple-callkit-error-requesttransaction-code-4", "title": "CallKit reinitializing causes com.apple.CallKit.error.requesttransaction Code=4 (UnknownCallUUID)", "body": "<p>My iOS VoIP app uses CallKit in order to support native call integration feature. At first launch everything is working fine, but if I reinitialize CXProvider and CXCallController (in order to disable/enable feature), after incoming call hangup I receive error \"com.apple.CallKit.error.requesttransaction Code=4\".</p>\n\n<pre><code>@implementation CallKitHandler\n- (void) configureCallKitWith\n{\n    ...\n    self.callKitProvider = [[CXProvider alloc]  initWithConfiguration:_cxpConfiguration];\n    [_callKitProvider setDelegate:self queue:nil];\n\n    self.callKitCallController = [CXCallController new];\n    [_callKitCallController.callObserver setDelegate:self      queue:nil];\n    ...\n}\n</code></pre>\n\n<pre><code>- (void) requestEndCallActionWithCall:(Call*) callEnded\n{\n    CXEndCallAction* endCallAction = [[CXEndCallAction alloc] initWithCallUUID:self.callUUId];\n    CXTransaction* transaction = [[CXTransaction alloc] initWithAction:endCallAction];\n    OTCLogVerbose (@\"requestEndCallActionWithCall '%@' : %@\", callEnded.reference, transaction);\n\n    [self.callKitCallController requestTransaction:transaction completion:^(NSError* error) {\n        if (error)\n        {\n            OTCLogWarn (@\"requestEndCallActionWithCall failed for '%@': %@\", _callUUId, [self errorDescriptionOf: error]);\n</code></pre>\n\n<p>I tried to make my CallKitHandler class as singleton, and it seems to be working, is it the only possible solution? Should you avoid reinitializing CallKit during app's runtime?</p>\n"}, {"tags": ["objective-c", "uiview", "appdelegate"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571818194, "post_id": 58517856, "comment_id": 103362596, "body": "<a href=\"https://stackoverflow.com/questions/3966532/unique-identifier-of-an-uiview-object/28667421\" title=\"unique identifier of an uiview object\">stackoverflow.com/questions/3966532/&hellip;</a> ? Why do you really need it? Seems like a bad idea. Why not testing if <code>[firstView isOfClass:[UILabel class]]</code> instead?"}], "answers": [{"tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": false, "score": 0, "last_activity_date": 1571825090, "last_edit_date": 1571825090, "creation_date": 1571824712, "answer_id": 58520241, "question_id": 58517856, "link": "https://stackoverflow.com/questions/58517856/how-to-get-name-or-identifier-for-a-uiview-component/58520241#58520241", "title": "How to get name or identifier for a UIView component", "body": "<p>Use <code>UIView.tag</code> to identify views in your app:</p>\n\n<pre><code>UIView* anotherView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 100, 100)];\nanotherView.tag = 100;\n[view addSubview:anotherView];\nUIView* anotherViewAgain = [view viewWithTag:100];\nNSLog(@\"anotherView and anotherViewAgain are %@the same objects\", anotherView == anotherViewAgain ? @\"\" : @\"not \"); // prints \"anotherView and anotherViewAgain are the same objects\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 4896548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34f7e1f3e5c71fb45198960e575f2ac6?s=128&d=identicon&r=PG&f=1", "display_name": "jups", "link": "https://stackoverflow.com/users/4896548/jups"}, "is_accepted": false, "score": 0, "last_activity_date": 1572003786, "creation_date": 1572003786, "answer_id": 58557897, "question_id": 58517856, "link": "https://stackoverflow.com/questions/58517856/how-to-get-name-or-identifier-for-a-uiview-component/58557897#58557897", "title": "How to get name or identifier for a UIView component", "body": "<p>you can give a try with accessibilityIdentifier of UIView. \nuiview tag, is not the best idea (or extend it with enum Int raw value). </p>\n\n<p>with accessibilityIdentifier you can do a lot more logic in nice way. </p>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572003786, "creation_date": 1571816448, "question_id": 58517856, "link": "https://stackoverflow.com/questions/58517856/how-to-get-name-or-identifier-for-a-uiview-component", "title": "How to get name or identifier for a UIView component", "body": "<p>In the below code I want to have any identifier to the -firstView- as shown below in the code.\nI attempted the following:</p>\n\n<pre><code>//NSLog(@\"_[uiviews[0] _description] = %@\" , [uiviews[0] _description]);\n  //NSLog(@\"[uiviews[0] nameLabel] = %@\" , [uiviews[0] nameLabel]);\n    //NSLog(@\"[uiviews[0] textLabel]= %@\" , [[uiviews[0] textLabel].text);\n NSString *r = [uiviews[0] textLabel].text;\n    NSLog(@\"[uiviews[0] textLabel]= %@\", r);a\n</code></pre>\n\n<p>But, on activating any of them, the App crashes. Would you please let me know how to have access to the name or any string identifies that UIView.</p>\n\n<p><strong>code</strong></p>\n\n<pre><code>        UIView *firstView = uiviews[0];\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571814745, "post_id": 58517313, "comment_id": 103360930, "body": "first of all you should not keep login profile on app delegate."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571814877, "post_id": 58517313, "comment_id": 103360996, "body": "@Lu_I agree with you but this is legacy code and right now I do not want to change it."}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571814939, "post_id": 58517313, "comment_id": 103361031, "body": "so the only way is to use app delegate on main thread, use blocks to return hashStr because it will be async, any way it will be a lot of refactor"}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571842955, "post_id": 58518032, "comment_id": 103376281, "body": "There is a much simpler solution than using semaphores. Get rid of the semaphore use and replace <code>dispatch_async</code> with <code>dispatch_sync</code>."}], "tags": [], "owner": {"reputation": 28, "user_id": 1012824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ac2f757874b0bc40ceca4f25381a59?s=128&d=identicon&r=PG", "display_name": "aipame", "link": "https://stackoverflow.com/users/1012824/aipame"}, "is_accepted": true, "score": 0, "last_activity_date": 1571817020, "creation_date": 1571817020, "answer_id": 58518032, "question_id": 58517313, "link": "https://stackoverflow.com/questions/58517313/warning-uiapplication-delegate-must-be-used-from-main-thread-only/58518032#58518032", "title": "WARNING-[UIApplication delegate] must be used from main thread only", "body": "<pre><code>+ (NSString *)accessTokenHashForDate:(NSDate *)date withParameters:(NSArray *)params{\n__block NSString *accessToken = NULL;\nif ([NSThread isMainThread]) {\n        accessToken = ((AppDelegate *)[[UIApplication sharedApplication] delegate]).loginProfile.accessToken;\n\n\n} else {\n    dispatch_semaphore_t semaphore = dispatch_semaphore_create(1);\n    dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);\n    dispatch_async(dispatch_get_main_queue(), ^{\n        accessToken = ((AppDelegate *)[[UIApplication sharedApplication] delegate]).loginProfile.accessToken;\n        dispatch_semaphore_signal(semaphore);\n    });\n    dispatch_semaphore_wait(semaphore, DISPATCH_TIME_FOREVER);\n    dispatch_semaphore_signal(semaphore);\n}\nNSString *paramsStr = [params componentsJoinedByString:@\"\"];\n           NSString *hashStr = [NSString stringWithFormat:@\"%@%@%@%@\", [CommonUtil IMEI], [date agileHashFormattedString], (!paramsStr) ? @\"\" : paramsStr, accessToken];\nreturn hashStr;\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 58518032, "answer_count": 1, "score": 0, "last_activity_date": 1571823056, "creation_date": 1571814663, "question_id": 58517313, "link": "https://stackoverflow.com/questions/58517313/warning-uiapplication-delegate-must-be-used-from-main-thread-only", "title": "WARNING-[UIApplication delegate] must be used from main thread only", "body": "<p>I am getting warning [UIApplication delegate] must be used from main thread only in the below line of code</p>\n\n<blockquote>\n  <p>((AppDelegate *)[[UIApplication sharedApplication]\n  delegate]).loginProfile.accessToken;</p>\n</blockquote>\n\n<p>Following is my code.</p>\n\n<pre><code>+ (NSString *)accessTokenHashForDate:(NSDate *)date withParameters:(NSArray *)params{\n\n    NSString *accessToken = ((AppDelegate *)[[UIApplication sharedApplication] delegate]).loginProfile.accessToken;\n\n    NSString *paramsStr = [params componentsJoinedByString:@\"\"];\n    NSString *hashStr = [NSString stringWithFormat:@\"%@%@%@%@\", [CommonUtil IMEI], [date agileHashFormattedString], (!paramsStr) ? @\"\" : paramsStr, accessToken];\n    return hashStr\n}\n</code></pre>\n\n<p>Can anyone tell me how to remove this warning message?</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3440762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec48739b486899aaf6e7b1672527a9d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3440762", "link": "https://stackoverflow.com/users/3440762/user3440762"}, "is_accepted": false, "score": 0, "last_activity_date": 1571970118, "creation_date": 1571970118, "answer_id": 58551369, "question_id": 58517310, "link": "https://stackoverflow.com/questions/58517310/objective-c-scrollview-screenshot-have-a-issue-in-ios-13/58551369#58551369", "title": "objective c scrollview screenshot have a issue in ios 13", "body": "<p>I found the answer to my problem.\nThe problem was that the frame did not change.</p>\n\n<pre><code>scrollview.frame = CGRectMake(0, 0, scrollview.contentSize.width,     scrollview.contentSize.height);\n</code></pre>\n\n<p>Instead of this using</p>\n\n<pre><code>scrollview.layer.frame = CGRectMake(0, 0, scrollview.contentSize.width, scrollview.contentSize.height);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3440762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec48739b486899aaf6e7b1672527a9d5?s=128&d=identicon&r=PG&f=1", "display_name": "user3440762", "link": "https://stackoverflow.com/users/3440762/user3440762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571970118, "creation_date": 1571814649, "question_id": 58517310, "link": "https://stackoverflow.com/questions/58517310/objective-c-scrollview-screenshot-have-a-issue-in-ios-13", "title": "objective c scrollview screenshot have a issue in ios 13", "body": "<p>Code that worked well before ios 13 has problems with ios 13.\nThe code below is the code that gets the same image as the screen capture of the entire scroll view.</p>\n\n<pre><code>    UIGraphicsBeginImageContext(scrollview.contentSize);\n\n    CGPoint savedContentOffset = scrollview.contentOffset;\n    CGRect savedFrame = scrollview.frame;\n\n    scrollview.contentOffset = CGPointZero;\n    scrollview.frame = CGRectMake(0, 0, scrollview.contentSize.width, scrollview.contentSize.height);\n\n    [scrollview.layer renderInContext: UIGraphicsGetCurrentContext()];\n    image = UIGraphicsGetImageFromCurrentImageContext();\n\n    scrollview.contentOffset = savedContentOffset;\n    scrollview.frame = savedFrame;\n\n    UIGraphicsEndImageContext();\n</code></pre>\n\n<p>But when I run that code in ios 13, the bottom part looks truncated.\nFrom the beginning of the scroll, the iPhone shows the normal image up to the bottom of the screen, but the bottom is not visible.</p>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "uicollectionviewlayout"], "owner": {"reputation": 2024, "user_id": 173244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0cca62fb577d3a6758022dc583d9af9?s=128&d=identicon&r=PG", "display_name": "adam.wulf", "link": "https://stackoverflow.com/users/173244/adam-wulf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572233701, "creation_date": 1571813944, "last_edit_date": 1572233701, "question_id": 58517116, "link": "https://stackoverflow.com/questions/58517116/uicollectionview-incorrectly-hides-cells-whiles-panning-and-scrolling", "title": "UICollectionView incorrectly hides cells whiles panning and scrolling", "body": "<p>I have a UICollectionView with a custom layout. The layout extends <code>UICollectionViewLayout</code>, not flow layout, and I override the following methods:</p>\n\n<ol>\n<li><code>collectionViewContentSize</code></li>\n<li><code>shouldInvalidateLayoutForBoundsChange:</code></li>\n<li><code>prepareLayout</code></li>\n<li><code>layoutAttributesForElementsInRect:</code></li>\n<li><code>layoutAttributesForItemAtIndexPath:</code></li>\n</ol>\n\n<p>The cells themselves are very large, each larger than the iPad's screen itself. When panning around the collection view, rarely a cell with disappear. It's very rare, so I've had to create a minimal example that always displays the problem, otherwise it can take minutes to manually reproduce with a fresh build.</p>\n\n<p>The code below has hard-coded frames and transforms for each index path. The paths with the added rotation transform seem to show the issue easiest (though i've reproduced on cells w/o a rotation transform before as well). All cells have translations/scale transforms.</p>\n\n<p>Importantly, <code>layoutAttributesForElementsInRect:</code> always returns valid attributes that should be displayed, but the collection view seems to ignore the attributes sometimes and doesn't display the cell?</p>\n\n<p>minimal example at: <a href=\"https://github.com/adamwulf/CollectionViewDisappearingCells\" rel=\"nofollow noreferrer\">https://github.com/adamwulf/CollectionViewDisappearingCells</a></p>\n\n<p>Is this a <code>UICollectionView</code> bug? Is this something else I'm overlooking? I've seen similar issues on stack overflow before, but they all seem to reference <code>UICollectionViewFlowLayout</code> as opposed to entirely custom layouts. Their solution is to return the correct attributes from <code>layoutAttributesForElementsInRect:</code> which i'm already doing.</p>\n\n<p><strong>Update:</strong>\nI've even tried returning <em>all</em> layout attributes from <code>layoutAttributesForElementsInRect:</code> since I only have ~20 objects. but returning everything all the time still doesn't solve the problem, so it's not an issue of the attributes not being returned when they should be.</p>\n\n<p><strong>Update:</strong>\nIt's looking more like a <code>UICollectionView</code> bug. If I adjust the <code>frame.origin.x</code> or <code>frame.size.width</code> of each item by adding as little as <code>0.0000000000001;</code>, then the cell no longer disappears.</p>\n\n<p>The original frame of the item is <code>(280.39666002633368, -220.39666002633371, 595.71428571428578, 834)</code>. I can only assume there's some calculation within the UICollectionView that has a rounding error that this particular frame (or other unique frames) that triggers the error. If anyone has a proper solution/explanation for this bug, I'd love to hear it. In the meantime, I'll simply round the values of each <code>frame</code> to workaround the problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/l1M4P.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l1M4P.gif\" alt=\"Demo application showing the bug\"></a></p>\n"}, {"tags": ["ios", "objective-c", "multithreading"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571811796, "post_id": 58516440, "comment_id": 103359511, "body": "and which exactly line is it? what is <code>computeHash</code>?"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571811978, "post_id": 58516440, "comment_id": 103359578, "body": "And most most importantly why are you returning asynchronously from synchronous function, how do you want it to work properly?"}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812118, "post_id": 58516440, "comment_id": 103359640, "body": "@Lu_ comuteHash is the class method which returns string. please check edited answer."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812258, "post_id": 58516440, "comment_id": 103359698, "body": "@Lu_ I got warning message like [[UIApplication sharedApplication] delegate] must be in main thread. So, I am trying to call that part in main thread."}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812261, "post_id": 58516440, "comment_id": 103359700, "body": "remove dispatching to make it work, you have to decide are you doing it synchronously or not"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812305, "post_id": 58516440, "comment_id": 103359719, "body": "so the problem is somewhere else in the code, use dispatch in a place where you call <code>accessTokenHashForDate</code>"}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812350, "post_id": 58516440, "comment_id": 103359740, "body": "@Lu_Ok let me try it."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812642, "post_id": 58516440, "comment_id": 103359860, "body": "@Lu_ NSString <i>hash = [AGMobileService accessTokenHashForDate:date withParameters:[NSArray new]];  accessTokenHashForDate method call from above code but if I put it in main thread then how can I assign it with NSString</i> hash variable?"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571812723, "post_id": 58516440, "comment_id": 103359892, "body": "I don&#39;t know your app, but there is a lot of ways to make it clean, you should read about dispatching and async blocks to understand how your app works"}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571813266, "post_id": 58516440, "comment_id": 103360155, "body": "@Lu_ I have edited my code.  please check it. I want to call accessTokenHashForDate:date method which returns NSString *hash. so how can I assign value to NSString using dispatch_get_main_queue()."}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571813352, "post_id": 58516440, "comment_id": 103360192, "body": "put <code>NSString *hash = [AGMobileS...</code> in dispatch block instead"}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571813470, "post_id": 58516440, "comment_id": 103360239, "body": "@Lu_I got your point but then How can I use NSString *hash outside dispatch block?"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571813663, "post_id": 58516440, "comment_id": 103360354, "body": "again, I don&#39;t know your code, you should not use it outside of dispatch block and in the end this warning: ` [[UIApplication sharedApplication] delegate] must be in main thread. ` is completely unrelated to all of this code so why are you trying to change it?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1571814683, "post_id": 58516440, "comment_id": 103360895, "body": "If you want the computed hash value in <code>accessTokenHashForDate</code> then why are you invoking it asynchronously at all?"}], "answers": [{"comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1571813588, "post_id": 58516494, "comment_id": 103360308, "body": "Not really.  The OP is calling a block that returns <code>NSString*</code> when the block is expected to return nothing (<code>void</code>).  While &quot;remove the return code&quot; might squash the error it doesn&#39;t help the OP with a working solution as the OP&#39;s code is clearly broken in its current form."}, {"owner": {"reputation": 1, "user_id": 5717016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZqPS.jpg?s=128&g=1", "display_name": "crazytom", "link": "https://stackoverflow.com/users/5717016/crazytom"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1571814736, "post_id": 58516494, "comment_id": 103360921, "body": "@trojanfoe  Yes, you are right, what I did could not fix the problem.  Thx for telling me about the reason. If  I want to retun the value asynchronously just like the poster want to do , what to do could solve this problem?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1571815212, "post_id": 58516494, "comment_id": 103361165, "body": "Generally you call a &quot;completion handler&quot; (another block) to deliver the result back to the caller in some way."}], "tags": [], "owner": {"reputation": 1, "user_id": 5717016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZqPS.jpg?s=128&g=1", "display_name": "crazytom", "link": "https://stackoverflow.com/users/5717016/crazytom"}, "is_accepted": false, "score": 0, "last_activity_date": 1571811148, "creation_date": 1571811148, "answer_id": 58516494, "question_id": 58516440, "link": "https://stackoverflow.com/questions/58516440/incompatible-block-pointer-types-objective-c/58516494#58516494", "title": "Incompatible block pointer types - Objective-c", "body": "<p>I have encountered things like this, I just remove the return code in the dispatch block, but I do not know the reason.So I also want to know the reason.</p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571813311, "creation_date": 1571810900, "last_edit_date": 1571813311, "question_id": 58516440, "link": "https://stackoverflow.com/questions/58516440/incompatible-block-pointer-types-objective-c", "title": "Incompatible block pointer types - Objective-c", "body": "<p>I want to call following code with return statement in main thread but I got below error.</p>\n\n<blockquote>\n  <p>Incompatible block pointer types passing 'NSString *(^)(void)' to\n  parameter of type 'dispatch_block_t _Nonnull' (aka 'void (^)(void)')</p>\n</blockquote>\n\n<p>Following is my code.</p>\n\n<pre><code>NSString *hash = [AGMobileService accessTokenHashForDate:date withParameters:[NSArray new]];\n\n\n+ (NSString *)accessTokenHashForDate:(NSDate *)date withParameters:(NSArray *)params{\n\n    dispatch_async(dispatch_get_main_queue(), ^{\n      NSString *accessToken = ((AppDelegate *)[[UIApplication sharedApplication] delegate]).loginProfile.accessToken;\n\n      NSString *paramsStr = [params componentsJoinedByString:@\"\"];\n      NSString *hashStr = [NSString stringWithFormat:@\"%@%@%@%@\", [CommonUtil IMEI], [date agileHashFormattedString], (!paramsStr) ? @\"\" : paramsStr, accessToken];\n      return [AGMobileService computeHash:hashStr usingHash:HASH_SALT];\n    });\n}\n\n+ (NSString *)computeHash:(NSString *)text usingHash:(NSString*)hashSalt {\n\n    NSString *textToEncode = [NSString stringWithFormat:@\"%@%@\", hashSalt, text];\n    NSData *data = [textToEncode dataUsingEncoding:NSUTF8StringEncoding];\n    unsigned char hash[CC_SHA256_DIGEST_LENGTH];\n    if ( CC_SHA256([data bytes], (int) [data length], hash) ) {\n        NSData *sha256 = [NSData dataWithBytes:hash length:CC_SHA256_DIGEST_LENGTH];\n        return [sha256 base64EncodedString];\n    }\n    return nil;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode11"], "comments": [{"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1571809293, "post_id": 58514687, "comment_id": 103358598, "body": "Show your code."}, {"owner": {"reputation": 11, "user_id": 12260602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44043cf482fcad17710d194bc652f4be?s=128&d=identicon&r=PG&f=1", "display_name": "jgalindom", "link": "https://stackoverflow.com/users/12260602/jgalindom"}, "reply_to_user": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1571866635, "post_id": 58514687, "comment_id": 103386394, "body": "unfortunately is not my code, the error is on NSURLSession.h under Foundation framework"}], "owner": {"reputation": 11, "user_id": 12260602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44043cf482fcad17710d194bc652f4be?s=128&d=identicon&r=PG&f=1", "display_name": "jgalindom", "link": "https://stackoverflow.com/users/12260602/jgalindom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1571846571, "creation_date": 1571798172, "last_edit_date": 1571846571, "question_id": 58514687, "link": "https://stackoverflow.com/questions/58514687/unknown-type-name-tls-protocol-version-t-on-the-class-nsurlsession", "title": "&quot;Unknown type name &#39;tls_protocol_version_t&#39; on the class NSURLSession&quot;", "body": "<p>In Xcode 11 the compiler show me \"Unknown type name 'tls_protocol_version_t' on the class NSURLSession\", i already tried deleting deriving data, cleaning and compiling, it's work fine in xcode 10, but not with 11. It seems very rare because is a class of Foundation.\nWhat should i do?\n<a href=\"https://i.stack.imgur.com/TQufX.jpg\" rel=\"nofollow noreferrer\">This is what happens</a></p>\n"}, {"tags": ["javascript", "ios", "objective-c", "swift", "webkit"], "comments": [{"owner": {"reputation": 105, "user_id": 9260947, "user_type": "registered", "profile_image": "https://graph.facebook.com/155347758582954/picture?type=large", "display_name": "Jersey", "link": "https://stackoverflow.com/users/9260947/jersey"}, "edited": false, "score": 0, "creation_date": 1574003662, "post_id": 58513792, "comment_id": 104067021, "body": "I have the same problem. Have you found the solution\uff1f"}, {"owner": {"reputation": 1656, "user_id": 4531087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5bb7b99484ef35f016af210e53989a1?s=128&d=identicon&r=PG", "display_name": "MadeByDouglas", "link": "https://stackoverflow.com/users/4531087/madebydouglas"}, "reply_to_user": {"reputation": 105, "user_id": 9260947, "user_type": "registered", "profile_image": "https://graph.facebook.com/155347758582954/picture?type=large", "display_name": "Jersey", "link": "https://stackoverflow.com/users/9260947/jersey"}, "edited": false, "score": 0, "creation_date": 1574108234, "post_id": 58513792, "comment_id": 104105908, "body": "Yeah, did you see my answer below? you have to setup listeners in js and then use WKScriptMessageHandler to listen to when they fire"}], "answers": [{"comments": [{"owner": {"reputation": 1656, "user_id": 4531087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5bb7b99484ef35f016af210e53989a1?s=128&d=identicon&r=PG", "display_name": "MadeByDouglas", "link": "https://stackoverflow.com/users/4531087/madebydouglas"}, "edited": false, "score": 0, "creation_date": 1571856347, "post_id": 58515379, "comment_id": 103382427, "body": "thats awesome! unfortunately doesn&#39;t answer my exact problem. The library you forked doesn&#39;t seem to have this component so its still not clear to me what the fix is. Also its hard to just use either of these swift libraries because they have code written in swift 3 I don&#39;t want to migrate everything to swift 5"}], "tags": [], "owner": {"reputation": 143, "user_id": 9246535, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xm5hHYrMNW8/AAAAAAAAAAI/AAAAAAAABJ8/lAxi-mMwTiw/photo.jpg?sz=128", "display_name": "Drashti Javiya", "link": "https://stackoverflow.com/users/9246535/drashti-javiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1571803957, "creation_date": 1571803957, "answer_id": 58515379, "question_id": 58513792, "link": "https://stackoverflow.com/questions/58513792/how-do-i-repurpose-jscontext-in-uiwebview-to-wkscriptmessage-for-wkwebview/58515379#58515379", "title": "How do I repurpose JSContext in UIWebView to WKScriptMessage for WKWebview", "body": "<p>I have converted <code>UIWebView</code> to <code>WKWebView</code> for Editor. I have created fork from this <a href=\"https://github.com/cjwirth/RichEditorView\" rel=\"nofollow noreferrer\">Github Link</a>. The link to my demo can be found <a href=\"https://github.com/DrashtiJaviya-Openxcell/RichEditorView\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1656, "user_id": 4531087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5bb7b99484ef35f016af210e53989a1?s=128&d=identicon&r=PG", "display_name": "MadeByDouglas", "link": "https://stackoverflow.com/users/4531087/madebydouglas"}, "is_accepted": true, "score": 0, "last_activity_date": 1571886174, "creation_date": 1571886174, "answer_id": 58533567, "question_id": 58513792, "link": "https://stackoverflow.com/questions/58513792/how-do-i-repurpose-jscontext-in-uiwebview-to-wkscriptmessage-for-wkwebview/58533567#58533567", "title": "How do I repurpose JSContext in UIWebView to WKScriptMessage for WKWebview", "body": "<p>Ok I figured it out. See the PR <a href=\"https://github.com/nnhubbard/ZSSRichTextEditor/pull/243\" rel=\"nofollow noreferrer\">https://github.com/nnhubbard/ZSSRichTextEditor/pull/243</a></p>\n\n<p>Basically you inject javascript to start the listeners. The key here is to pass the function which calls webkit using <code>postMessage</code> and use the same name, in my case <code>'jsm'</code> as what was setup when you create the <code>WKUserContentController</code> object</p>\n\n<pre><code>    NSString *pasteListener = @\"document.getElementById('zss_editor_content').addEventListener('paste', function() {window.webkit.messageHandlers.jsm.postMessage('paste');});\";\n\n    [self.editorView evaluateJavaScript:pasteListener completionHandler:^(NSString *result, NSError *error) {\n        if (error != NULL) {\n            NSLog(@\"%@\", error);\n        }\n    }];\n</code></pre>\n\n<p>and then you listen for the response in the <code>userContentController: didReceiveScript</code> delegate method from <code>WKScriptMessageHandler</code></p>\n\n<pre><code>- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message {\n\n    NSString *messageString = (NSString *)message.body;\n    if ([messageString isEqualToString:@\"paste\"]) {\n        self.editorPaste = YES;\n    }\n</code></pre>\n"}], "owner": {"reputation": 1656, "user_id": 4531087, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a5bb7b99484ef35f016af210e53989a1?s=128&d=identicon&r=PG", "display_name": "MadeByDouglas", "link": "https://stackoverflow.com/users/4531087/madebydouglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 58533567, "answer_count": 2, "score": 1, "last_activity_date": 1571886174, "creation_date": 1571789391, "last_edit_date": 1571867855, "question_id": 58513792, "link": "https://stackoverflow.com/questions/58513792/how-do-i-repurpose-jscontext-in-uiwebview-to-wkscriptmessage-for-wkwebview", "title": "How do I repurpose JSContext in UIWebView to WKScriptMessage for WKWebview", "body": "<p>I want to convert a UIWebView library to use WkWebview. The remaining piece is switching out JSContext because the <code>valueForKeyPath</code> doesn't work anymore. So how do I rewrite something like the following to use WKScriptMessage as the other SO link suggests? (swift or ObjC answer is fine) <a href=\"https://stackoverflow.com/questions/25792131/how-to-get-jscontext-from-wkwebview\">How to get JSContext from WKWebView</a></p>\n\n<pre><code>JSContext *ctx = [webView valueForKeyPath:@\"documentView.webView.mainFrame.javaScriptContext\"];\n\n\nctx[@\"contentPasteCallback\"] = ^(JSValue *msg) {\n    __weak typeof(weakSelf) StrongSelf = weakSelf;\n    StrongSelf.editorPaste = YES;\n};\n\n[ctx evaluateScript:@\"document.getElementById('zss_editor_content').addEventListener('paste', contentPasteCallback, false);\"];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsdictionary"], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 5, "last_activity_date": 1571779103, "creation_date": 1571779103, "answer_id": 58512447, "question_id": 58512412, "link": "https://stackoverflow.com/questions/58512412/nsdictionaryi-setobjectforkey-unrecognized-selector-sent-to-instance/58512447#58512447", "title": "[NSDictionaryI setObject:forKey:]: unrecognized selector sent to instance", "body": "<p>Your problem is on the line:</p>\n\n<pre><code>NSMutableDictionary *objects = [defaults objectForKey:@\"Objects\"];\n</code></pre>\n\n<p>You can't get a mutable collection from user defaults. You need to make it mutable:</p>\n\n<pre><code>NSMutableDictionary *objects = [[defaults objectForKey:@\"Objects\"] mutableCopy];\n</code></pre>\n\n<p>Also keep in mind that <code>objects</code> will be null the first time your app runs. So account for that too.</p>\n"}], "owner": {"reputation": 3110, "user_id": 4556409, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/004941bd916e99b7ab879887170b6390?s=128&d=identicon&r=PG&f=1", "display_name": "RileyDev", "link": "https://stackoverflow.com/users/4556409/rileydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 58512447, "answer_count": 1, "score": 0, "last_activity_date": 1571779103, "creation_date": 1571778939, "question_id": 58512412, "link": "https://stackoverflow.com/questions/58512412/nsdictionaryi-setobjectforkey-unrecognized-selector-sent-to-instance", "title": "[NSDictionaryI setObject:forKey:]: unrecognized selector sent to instance", "body": "<p>I get JSON data and store it in `NSUserDefaults' which then I am trying to retrieve to add or remove objects from the dictionary, however I get the error </p>\n\n<blockquote>\n  <p>unrecognized selector sent to instance</p>\n</blockquote>\n\n<p>when adding to the <code>NSMutableDictionary</code></p>\n\n<pre><code> // new dict\n    NSMutableDictionary *userTranslations = [NSMutableDictionary new];\n\n    for (NSString *key in keys) {\n        [userTranslations setObject:dicky[key] forKey:key];\n    };\n\n // then add that dictionary as the key for uid\n    [artworkTranslations setObject:userTranslations forKey:uid];\n</code></pre>\n\n<p><strong>JSON Data</strong></p>\n\n<pre><code>{\n  people =     {\n    \"title\" = \"Hello\";\n    \"details\" = \"Amet justo donec enim diam vulputate.&lt;br&gt;&lt;br&gt;Ut etiam sit amet nisl. Mattis vulputate enim nulla aliquet porttitor.&lt;br&gt;&lt;br&gt;Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Dis parturient montes nascetur ridiculus mus.\";\n  };\n}\n</code></pre>\n\n<p><strong>NSUserDefaults</strong></p>\n\n<pre><code>Objects: {\n  9ddfdd2d652c742 = {\n      first =     {\n        \"title\" = \"Hello\";\n        \"details\" = \"Amet justo donec enim diam vulputate.&lt;br&gt;&lt;br&gt;Ut etiam sit amet nisl. Mattis vulputate enim nulla aliquet porttitor.&lt;br&gt;&lt;br&gt;Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Dis parturient montes nascetur ridiculus mus.\";\n      };\n  };\n}\n</code></pre>\n\n<p><strong>Full Code</strong></p>\n\n<pre><code>NSDictionary * jsonData = [data objectForKey:@\"people\"];\n\nif (jsonData) {\n    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];\n    NSMutableDictionary *objects = [defaults objectForKey:@\"Objects\"];\n    NSArray *keys = [jsonData allKeys];\n\n    if (objects) {\n\n        // get people from UD\n        NSMutableDictionary *people = [objects objectForKey:uid];\n\n        if (people) {\n            NSLog(@\"there ARE in people in dictionary from UD\");\n\n            //get uid of person key and if exists then remove\n            [objects removeObjectForKey:uid]; // error here\n\n            // new dict\n            NSMutableDictionary *user = [NSMutableDictionary new];\n            for (NSString *key in keys) {\n                 [users setObject:jsonData[key] forKey:key]; // Crash Here\n            };\n\n            // then add that dictionary as the key for uid\n           [people setObject:user forKey:uid];\n\n        } else {\n           NSLog(@\"NO people dictionary in objects from UD\");\n            NSMutableDictionary *users = [NSMutableDictionary new];\n            NSMutableDictionary *people = [NSMutableDictionary new];\n\n            for (id key in keys) {\n               NSMutableDictionary *person = [jsonData objectForKey:key];\n               [people setObject:person forKey:key]; // Crash here\n           };\n\n            [user setObject:people forKey:uid];\n            [objects setObject:users forKey:uid];\n            [defaults setObject:objects forKey:@\"Objects\"];\n        }\n\n        [defaults synchronize];\n    } else if (!objects){\n        NSLog(@\"People NOT FOUND in UserDefaults\");\n        NSMutableDictionary *people = [NSMutableDictionary new];\n        NSMutableDictionary *user = [NSMutableDictionary new];\n\n        for (NSString *key in keys) {\n            [users setObject:jsonData[key] forKey:key];\n        };\n\n        [people setObject:user forKey:uid];\n        [defaults setObject:people forKey:@\"Objects\"];\n        [defaults synchronize];\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "uiimage"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571819720, "post_id": 58511072, "comment_id": 103363344, "body": "Which line? Which line exactly is causing the crash? It&#39;s a well known error, but you posted to many lines, it&#39;s hard to find where exactly (hidden calls)."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571820923, "post_id": 58511072, "comment_id": 103363942, "body": "Found: <code>for (NSString *url in imagesArr) {}</code>. So each object in <code>imagesArr</code> is a <code>NSString</code> object, right? <code>NSData *imageData = UIImageJPEGRepresentation(imagesArr[0], 0.5);</code> Here, you are saying that the first item is a <code>UIImage</code> object. Clearly it can&#39;t be at the same time a <code>UIImage</code> and a <code>NSString</code>. And that&#39;s the line causing the error."}], "owner": {"reputation": 54, "user_id": 12096221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fcb0ea288184602349330741178b7fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ios developer", "link": "https://stackoverflow.com/users/12096221/ios-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571772433, "creation_date": 1571772433, "question_id": 58511072, "link": "https://stackoverflow.com/questions/58511072/error-uploading-image-to-server-in-objective-c", "title": "Error uploading image to server in objective c", "body": "<p>I am trying to upload image to the server. But i am getting error like-</p>\n\n<p>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFString CGImage]: unrecognized selector sent to instance 0x281a1d050'\n*** First throw call stack:      </p>\n\n<p>libc++abi.dylib: terminating with uncaught exception of type NSException</p>\n\n<pre><code>*+(void)uploadImage: (NSArray *_Nullable)imagesArr productId: (NSString *_Nullable)productId featured:(BOOL)featured downloadProgress:(nullable void (^)(NSProgress * _Nullable downloadProgress))downloadProgressBlock completionHandler:(nullable void(^)(NSError * _Nullable error,id _Nullable response))completionHandler{\n    REQUEST_TYPE type = REQUEST_TYPE_JSON;\n    REQUEST_METHOD method = REQUEST_METHOD_POST;\n\n    NSMutableDictionary *headerDict = [[NSMutableDictionary alloc] init];\n    [headerDict setObject:[NSString stringWithFormat:@\"Bearer %@\",GET_TOKEN] forKey:@\"Authorization\"];\n    [headerDict setObject:[NSString stringWithFormat:@\"application/json\"] forKey:@\"Content-Type\"];\n    ServerConnection *connection = [ServerConnection getInstance];\n\n\n    NSString *createProducAPIURL = [NSString stringWithFormat:@\"%@%@\",URL_BASE,URL_PRODUCTIMAGE_UPLOAD];\n\n    NSMutableDictionary *parameters = [[NSMutableDictionary alloc] init];\n//\n    NSMutableArray *imageDictArr = [[NSMutableArray alloc] init];\n\n\n\n    int position = 0;\n\n    for (NSString *url in imagesArr) {\n\n        NSMutableDictionary *imageDict = [[NSMutableDictionary alloc] init];\n        [imageDict setObject:url forKey:@\"src\"];\n        [imageDict setObject:[NSNumber numberWithInt:position] forKey:@\"position\"];\n\n        [imageDictArr addObject:imageDict];\n\n        position++;\n    }\n    NSData *imageData = UIImageJPEGRepresentation(imagesArr[0], 0.5);\n    NSString *encodedString = [imageData base64EncodedStringWithOptions:kNilOptions];\n    NSLog(@\"image: %@\", imageData);\n    [parameters setObject:productId forKey:@\"product_id\"];\n    [parameters setObject:encodedString forKey:@\"file\"];\n    [connection dataTask:createProducAPIURL parameters:parameters requestType:type method:method headerDict:(NSDictionary *_Nullable)headerDict uploadProgress:^(NSProgress * _Nullable serveruploadProgress) {\n\n    } downloadProgress:^(NSProgress * _Nullable downloadProgress) {\n\n        downloadProgressBlock(downloadProgress);\n\n    } completionHandler:^(id  _Nullable jsonSerializedData, NSError * _Nullable error) {\n\n        completionHandler(error,jsonSerializedData);\n\n    }];\n\n}\n -(void) dataTask:(NSString *_Nullable)URLString parameters:(NSDictionary *_Nullable)parameters requestType:(REQUEST_TYPE)type method:(REQUEST_METHOD)method headerDict:(NSDictionary *_Nullable)headerDict uploadProgress:(nullable void (^)(NSProgress * _Nullable uploadProgress))uploadProgressBlock downloadProgress:(nullable void (^)(NSProgress * _Nullable downloadProgress))downloadProgressBlock completionHandler:(nullable void (^)(id _Nullable jsonSerializedData,  NSError * _Nullable error))completionHandler\n{\n\n    NSMutableURLRequest *request;\n\n//    URLString = [URLString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n    NSCharacterSet *set = [NSCharacterSet URLQueryAllowedCharacterSet];\n    URLString = [URLString stringByAddingPercentEncodingWithAllowedCharacters:set];\n\n    switch (type) {\n        case REQUEST_TYPE_NORMAL:\n            request = [[AFHTTPRequestSerializer serializer] requestWithMethod:[self requestMethod:method] URLString:URLString parameters:parameters error:nil];\n            break;\n\n        case REQUEST_TYPE_JSON:\n        {\n            request = [[AFJSONRequestSerializer serializer] requestWithMethod:[self requestMethod:method] URLString:URLString parameters:nil error:nil];\n\n            NSError *error;\n            NSData *jsonData = [NSJSONSerialization dataWithJSONObject:parameters options:NSJSONWritingPrettyPrinted error:&amp;error];\n            if(!error)\n            {\n                [request setHTTPBody:jsonData];\n\n                NSLog(@\"Request body %@\", [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding]);\n            }\n            else{\n\n                completionHandler(nil,error);\n                return;\n            }\n        }\n            break;\n\n        default:\n            request = [[AFHTTPRequestSerializer serializer] requestWithMethod:[self requestMethod:method] URLString:URLString parameters:parameters error:nil];\n            break;\n    }\n\n    if(!isNullObject(headerDict))\n    [request setAllHTTPHeaderFields:headerDict];\n\n    NSLog(@\"TOKEN:%@\",[USER_DEFAULTS objectForKey:kKeyToken]);\n    NSLog(@\"REQUEST URL:%@\",URLString);\n    NSLog(@\"Request body %@\", [[NSString alloc] initWithData:[request HTTPBody] encoding:NSUTF8StringEncoding]);\n\n    NSURLSessionDataTask *dataTask = [_manager dataTaskWithRequest:request uploadProgress:^(NSProgress * _Nonnull uploadProgress) {\n\n        NSLog(@\"Upload Progress: %f\",uploadProgress.fractionCompleted);\n        uploadProgressBlock(uploadProgress);\n\n    } downloadProgress:^(NSProgress * _Nonnull downloadProgress) {\n\n        NSLog(@\"downloadProgress : %f\",downloadProgress.fractionCompleted);\n        downloadProgressBlock(downloadProgress);\n\n    } completionHandler:^(NSURLResponse * _Nonnull response, id  _Nullable responseObject, NSError * _Nullable error) {\n\n        if(!error)\n        {\n            NSString *string = [[NSString alloc] initWithData:responseObject encoding:NSUTF8StringEncoding];\n            NSHTTPURLResponse *HTTPResponse = (NSHTTPURLResponse *)response;\n            //            NSInteger statusCode = [HTTPResponse statusCode];\n\n            NSLog(@\"URL:%@\",HTTPResponse.URL);\n            NSLog(@\"response:%@\",string);\n\n            if([string rangeOfString:@\"&lt;!DOCTYPE html&gt;\"].location != NSNotFound){\n                string = [self  stringByStrippingHTML:string];\n                NSData *resObj = [string dataUsingEncoding:NSUTF8StringEncoding];\n                id responseObject1 = [NSJSONSerialization JSONObjectWithData:resObj options:NSJSONReadingAllowFragments error:&amp;error];\n                completionHandler(responseObject1,error);\n            }\n            else{\n                id responseObject1 = [NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:&amp;error];\n                completionHandler(responseObject1,error);\n            }\n        }\n        else{\n\n            NSLog(@\"error:%@\",error);\n\n            id responseObject2 = nil;\n\n            if(responseObject!=nil)\n            {\n                NSString *string = [[NSString alloc] initWithData:responseObject encoding:NSUTF8StringEncoding];\n                NSLog(@\"response:%@\",string);\n                responseObject2 = [NSJSONSerialization JSONObjectWithData:responseObject options:NSJSONReadingAllowFragments error:&amp;error];\n            }\n\n\n            completionHandler(responseObject2,error);\n        }\n    }];\n\n    [dataTask resume];\n\n\n}*\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "watchkit"], "answers": [{"comments": [{"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 2, "creation_date": 1577091542, "post_id": 59452432, "comment_id": 105086844, "body": "As it is, this a clarification question and not an answer. You might be able to <a href=\"https://stackoverflow.com/posts/59452432/edit\">edit</a> this and turn this in to a conditional answer like &quot;If the problem is .... then the solution is ....&quot;. Otherwise you are risking flags and downvotes."}, {"owner": {"reputation": 134, "user_id": 2980481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-P7ccPjmKbtU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fJtaZ4wChEK6PhmCAD9t9XuSLjw/mo/photo.jpg?sz=128", "display_name": "iRestMyCaseYourHonor", "link": "https://stackoverflow.com/users/2980481/irestmycaseyourhonor"}, "edited": false, "score": 0, "creation_date": 1577219663, "post_id": 59452432, "comment_id": 105124797, "body": "Yes actually &quot;IOLWatchKitHelper.o&quot; hint in the error leaded me to the library that uses it. Thanks."}], "tags": [], "owner": {"reputation": 104, "user_id": 11630362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50e3f84a656d58d8b5e864049591b0c2?s=128&d=identicon&r=PG", "display_name": "user11630362", "link": "https://stackoverflow.com/users/11630362/user11630362"}, "is_accepted": true, "score": 4, "last_activity_date": 1577091256, "creation_date": 1577091256, "answer_id": 59452432, "question_id": 58506391, "link": "https://stackoverflow.com/questions/58506391/undefined-symbol-objc-class-wkinterfacecontroller-error-after-updating-xcode/59452432#59452432", "title": "Undefined symbol: _OBJC_CLASS_$_WKInterfaceController error after updating Xcode to version 11.1", "body": "<p>Please check \"Link Binary With Libraries\" in \"Build Phaes\". Is there any library that used still WKInterfaceController or is dependent on the Watchkit?</p>\n"}, {"tags": [], "owner": {"reputation": 2948, "user_id": 1890317, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/888748d5e5dfcdc5bebb8ead972a7542?s=128&d=identicon&r=PG", "display_name": "uplearnedu.com", "link": "https://stackoverflow.com/users/1890317/uplearnedu-com"}, "is_accepted": false, "score": 1, "last_activity_date": 1595401655, "creation_date": 1595401655, "answer_id": 63028680, "question_id": 58506391, "link": "https://stackoverflow.com/questions/58506391/undefined-symbol-objc-class-wkinterfacecontroller-error-after-updating-xcode/63028680#63028680", "title": "Undefined symbol: _OBJC_CLASS_$_WKInterfaceController error after updating Xcode to version 11.1", "body": "<p>I was getting the same error though with another framework.  You just have to make sure that error files have the required framework is in your <strong>Link Binary with Libraries</strong>.</p>\n<p>In my case I had the error <strong>Undefined symbol: <em>OBJC_CLASS</em>$_SKStoreProductViewController</strong> which is related to <strong>StoreKit</strong>.\nAll I had to do was add the StoreKit.framework into <strong>Link Binary with Libraries</strong></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2464822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23db7e539cd8df0e85fa9a149f6ea57b?s=128&d=identicon&r=PG", "display_name": "beria", "link": "https://stackoverflow.com/users/2464822/beria"}, "is_accepted": false, "score": 0, "last_activity_date": 1616063344, "creation_date": 1616063344, "answer_id": 66689229, "question_id": 58506391, "link": "https://stackoverflow.com/questions/58506391/undefined-symbol-objc-class-wkinterfacecontroller-error-after-updating-xcode/66689229#66689229", "title": "Undefined symbol: _OBJC_CLASS_$_WKInterfaceController error after updating Xcode to version 11.1", "body": "<p>I faced a similar error, but in my case it was probably some unclean library lying around after adding / removing dependencies. So I did <em>Xcode -&gt; Product -&gt; Clean Build Folder</em> , and rebuilt the project. It succeeded.</p>\n"}], "owner": {"reputation": 134, "user_id": 2980481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-P7ccPjmKbtU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3fJtaZ4wChEK6PhmCAD9t9XuSLjw/mo/photo.jpg?sz=128", "display_name": "iRestMyCaseYourHonor", "link": "https://stackoverflow.com/users/2980481/irestmycaseyourhonor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14804, "favorite_count": 0, "accepted_answer_id": 59452432, "answer_count": 3, "score": 6, "last_activity_date": 1616063344, "creation_date": 1571754098, "last_edit_date": 1577111006, "question_id": 58506391, "link": "https://stackoverflow.com/questions/58506391/undefined-symbol-objc-class-wkinterfacecontroller-error-after-updating-xcode", "title": "Undefined symbol: _OBJC_CLASS_$_WKInterfaceController error after updating Xcode to version 11.1", "body": "<p>I updated Xcode to version 11.1 and got this expected error:</p>\n\n<blockquote>\n  <p>WatchKit is not available when building for iOS Simulator.</p>\n</blockquote>\n\n<p>Then I deleted WatchKit from iOS app target as suggested. Since then I am having this error:</p>\n\n<blockquote>\n  <p>Undefined symbols for architecture x86_64:<br>\n  \"_OBJC_CLASS_$_WKInterfaceController\", referenced from:\n        objc-class-ref in INFOnlineLibrary(IOLWatchKitHelper.o) ld: symbol(s) not found for architecture x86_64 clang: error: linker\n  command failed with exit code 1 (use -v to see invocation)</p>\n  \n  <p>Undefined symbol: _OBJC_CLASS_$_WKInterfaceController</p>\n</blockquote>\n\n<p>PS: The x86_64 part is dependent on the device/simulator choice. If I choose a real device it gives the same error for arm64. So I don't think it is a architecture issue also because of the fact that the framework that includes  WKInterfaceController is just a standart watchOS framework which is Watchkit.</p>\n\n<p>PS_2: There is no use of WKInterfaceController or even WatchKit in the iOS app. It is only used in WatchAppExtension part</p>\n\n<p>What I have tried so far:</p>\n\n<ul>\n<li>First thing was to add WatchKit framework to WatchApp and\nWatchAppExtension targets.</li>\n<li>When I searched for <em>Undefined symbols for architecture x86_64</em> type of errors in general there were many different suggestions. Even though I think it is not architecture dependent thing, I tried setting building active architecture only no in all targets. The most suggested putting $(inherited) to the search paths was already done before.</li>\n<li>Checked the target of .m files. They are all fine.</li>\n<li>I even went far and commented all the code that is using WKInterfaceController. Nothing has changed after. I also deleted watch app, it still looked for _OBJC_CLASS_$_WKInterfaceController but I am not sure did it properly.</li>\n<li>I checked the WatchKit.framework Device Supporting Files with <code>file WatchKit.framework</code> command and saw that it supports arm64. Then added that library manually to libraries, ran on device but still didn't work.</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "uikit"], "comments": [{"owner": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571752497, "post_id": 58505887, "comment_id": 103339957, "body": "i dont remeber right now but i guess safearea was a thing in xcode 10 or ios 12, not sure at all"}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "reply_to_user": {"reputation": 1150, "user_id": 9472805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au3U0.jpg?s=128&g=1", "display_name": "Yoel Jimenez del valle", "link": "https://stackoverflow.com/users/9472805/yoel-jimenez-del-valle"}, "edited": false, "score": 0, "creation_date": 1571752604, "post_id": 58505887, "comment_id": 103340047, "body": "Hmm. Per the docs (<a href=\"https://developer.apple.com/documentation/uikit/uiview/2891103-safeareainsets?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/uikit/uiview/&hellip;</a>), safeAreaInsets is supported in iOS 11.0+. (Under &quot;SDKs&quot; on the right side of the linked page.)"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571759653, "post_id": 58505887, "comment_id": 103344107, "body": "It is even not implemented under iOS 11. How it returns something?"}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571760355, "post_id": 58505887, "comment_id": 103344460, "body": "@Cy-4AH Why do you think <code>safeAreaInsets</code> is not implemented under iOS 11? Is Apple&#39;s documentation (linked in my previous comment just above) inaccurate in this case?"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571818641, "post_id": 58505887, "comment_id": 103362795, "body": "It&#39;s implemented since iOS 11 not under"}, {"owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1572269671, "post_id": 58505887, "comment_id": 103496779, "body": "@Cy-4AH If you mouse over &quot;iOS 11.0+&quot; on the linked page, the text of the tool tip that appears is <code>Available on iOS 11 and later</code>."}], "owner": {"reputation": 21389, "user_id": 12484, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08f53f1d60bb079c102eb9738f24888d?s=128&d=identicon&r=PG", "display_name": "Jon Schneider", "link": "https://stackoverflow.com/users/12484/jon-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571752341, "creation_date": 1571752341, "question_id": 58505887, "link": "https://stackoverflow.com/questions/58505887/using-safeareainsets-get-the-top-edge-of-my-uiwindows-safe-area-works-in-ios-13", "title": "Using safeAreaInsets get the top edge of my UIWindow&#39;s safe area works in iOS 13, but not iOS 11?", "body": "<p>I have a method in my portrait-orientation iOS app that attempts to return the value in points of the top edge of the main window's safe area, using <a href=\"https://developer.apple.com/documentation/uikit/uiview/2891103-safeareainsets?language=objc\" rel=\"nofollow noreferrer\">safeAreaInsets</a>:</p>\n\n<pre><code>+ (double)screenTopEdge\n{\n    UIWindow *mainWindow = [[[UIApplication sharedApplication] delegate] window];\n    if (@available(iOS 11, *)) {\n        return mainWindow.safeAreaInsets.top;\n    } else {\n        // (Handle older iOS verisons)\n    }\n}\n</code></pre>\n\n<p>When I run this under <strong>iOS 13</strong>, it works as expected: It returns <code>44.0</code> when run on an iPhone X, and <code>20.0</code> when run on an iPhone 8 or an iPad Mini.</p>\n\n<p>However, when I run this under <strong>iOS 11</strong>, it returns <code>0.0</code>, on all of the aforementioned devices (even though the status bar is shown/visible -- not hidden).</p>\n\n<p>I get this behavior even if I call this method from late in the rendering pipeline for the current view controller, including from the <code>viewDidLayoutSubviews</code> or <code>viewDidAppear</code> methods.</p>\n\n<p>I've been able to reproduce this on a freshly-created iOS Storyboard-based project in XCode 11.1, so I don't think this behavior is due to any odd configuration in my project.</p>\n\n<p>I've been able to work around this by checking the height of the status bar instead:</p>\n\n<pre><code>return [UIApplication sharedApplication].statusBarFrame.size.height;\n</code></pre>\n\n<p>However, why doesn't the code that uses <code>safeAreaInsets.top</code> work as expected under iOS 11? What's the right way to get the top safe area inset of the main application window in iOS 11+?</p>\n"}, {"tags": ["objective-c", "swift", "realm"], "comments": [{"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1571767427, "post_id": 58505203, "comment_id": 103347668, "body": "Realm objects are code ignorant when they are stored in Realm. That allows your data to be accessed from a variety of different platforms and languages; data is data. If you use the ObjC API to write a Realm object and then write the same type of Realm object in Swift, in the Realm file - it&#39;s the same type of object. Swift Realm Objects are defined as <code>class MyRealmObjects: Object {</code> and reading realm objects is covered in the <a href=\"https://realm.io/docs/swift/latest/\" rel=\"nofollow noreferrer\">Swift Documentation</a>. Can you clarify what you&#39;re asking?"}], "owner": {"reputation": 49, "user_id": 11858217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9z1j.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11858217/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571757590, "creation_date": 1571750219, "last_edit_date": 1571757590, "question_id": 58505203, "link": "https://stackoverflow.com/questions/58505203/read-data-from-a-realm-object", "title": "Read Data from a Realm object", "body": "<p>I have a realm object written in objc, but I want to read data from it from a swift file. However, when I try to use RLMResults or let values = secondActivity.allObjects() it gives me an error. How can I retrieve data from an objc realm object in swift</p>\n\n<p>This is my realm object in objective c:</p>\n\n<pre><code>@interface activity: RLMObject\n @property NSInteger id;\n @property NSString *firstValues;\n\n@end\n\n@interface secondActivity: RLMObject\n @property NSInteger id;\n @property RLMArray&lt;activity&gt; *mainValues;\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "nsbutton"], "comments": [{"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1571750642, "post_id": 58504886, "comment_id": 103338906, "body": "That is just a text field for the title of the button.  You might want to edit your question to explain what you are wanting to do."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12257392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xc4WxTl3WqU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7WKQHOcng5g5C2ahWe64Tt1cCnA/photo.jpg?sz=128", "display_name": "Tyler McMartin", "link": "https://stackoverflow.com/users/12257392/tyler-mcmartin"}, "edited": false, "score": 0, "creation_date": 1571756332, "post_id": 58507008, "comment_id": 103342297, "body": "That did it, thanks! I couldn&#39;t figure this out from the xib so this was extremely helpful."}], "tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 1, "last_activity_date": 1571756027, "creation_date": 1571756027, "answer_id": 58507008, "question_id": 58504886, "link": "https://stackoverflow.com/questions/58504886/nsbutton-highlight-on-mouse-over-and-toggle-state-via-click/58507008#58507008", "title": "NSButton highlight on mouse over and toggle state via click", "body": "<p>Replace</p>\n\n<pre><code>scopeButton.bordered = YES;\n</code></pre>\n\n<p>by</p>\n\n<pre><code>scopeButton.showsBorderOnlyWhileMouseInside = YES;\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12257392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xc4WxTl3WqU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7WKQHOcng5g5C2ahWe64Tt1cCnA/photo.jpg?sz=128", "display_name": "Tyler McMartin", "link": "https://stackoverflow.com/users/12257392/tyler-mcmartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 58507008, "answer_count": 1, "score": 0, "last_activity_date": 1571756027, "creation_date": 1571749118, "last_edit_date": 1571750895, "question_id": 58504886, "link": "https://stackoverflow.com/questions/58504886/nsbutton-highlight-on-mouse-over-and-toggle-state-via-click", "title": "NSButton highlight on mouse over and toggle state via click", "body": "<p>In Xcode, there is an 'In My Scope' button which highlights when you mouse over and stays highlighted until its 'unclicked'.</p>\n\n<p>I can reproduce this via interface builder with the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CwZ0L.png\" rel=\"nofollow noreferrer\">Xcode 'In My Scope'</a></p>\n\n<p>But I can't get this working via Code. This is what I've come up with:</p>\n\n<pre><code>scopeButton = [NSButton buttonWithTitle: @\"In My Scope\"\n                                                   target: self\n                                                   action: @selector(onScopeButton:)];\n[scopeButton setButtonType: NSButtonTypeMomentaryLight];\nscopeButton.translatesAutoresizingMaskIntoConstraints = NO;\nscopeButton.bezelStyle = NSBezelStyleRecessed;\nscopeButton.bordered = YES;\n</code></pre>\n\n<p>And as far as I can tell, that matches the interface builder settings, but it works no where near the same. Any suggestions as to how I can get this to work via code?</p>\n"}, {"tags": ["ios", "objective-c", "charts", "ios-charts"], "answers": [{"tags": [], "owner": {"reputation": 996, "user_id": 350228, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c6fb230ea3578b02d552057e88efbd69?s=128&d=identicon&r=PG", "display_name": "xceph", "link": "https://stackoverflow.com/users/350228/xceph"}, "is_accepted": false, "score": 0, "last_activity_date": 1571746168, "creation_date": 1571746168, "answer_id": 58503981, "question_id": 58503831, "link": "https://stackoverflow.com/questions/58503831/how-can-i-make-a-line-chart-without-visible-axis-that-fully-fills-its-view/58503981#58503981", "title": "How can I make a line chart without visible axis that fully fills its view?", "body": "<p>I've figured it out with some trial and error.</p>\n\n<p>self.chartView.minOffset = 0; </p>\n"}], "owner": {"reputation": 996, "user_id": 350228, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c6fb230ea3578b02d552057e88efbd69?s=128&d=identicon&r=PG", "display_name": "xceph", "link": "https://stackoverflow.com/users/350228/xceph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571746168, "creation_date": 1571745632, "question_id": 58503831, "link": "https://stackoverflow.com/questions/58503831/how-can-i-make-a-line-chart-without-visible-axis-that-fully-fills-its-view", "title": "How can I make a line chart without visible axis that fully fills its view?", "body": "<p>I have a chart which is styled like so, but the chart does not fill the view, it seem to maintain a spacing between the edges, as if to allow for the axis labels to be drawn.  How can I force the chart portion to take the full size of the Charts view?</p>\n\n<p>When inspecting the view the LineChartViews size is expected, its just that there is a noticeable spacing between the graph and the view, its inset and I cant seem to figure out to to prevent that.</p>\n\n<pre><code>self.chartView = [[LineChartView alloc] init];\nself.chartView.delegate = self;\nself.chartView.chartDescription.enabled = NO;\n\nself.chartView.chartDescription.enabled = NO;\nself.chartView.dragEnabled = NO;\nself.chartView.pinchZoomEnabled = NO;\nself.chartView.drawGridBackgroundEnabled = NO;\n[self.chartView setScaleEnabled:NO];\n[self.chartView setUserInteractionEnabled:NO];\n\nChartYAxis *leftAxis = self.chartView.leftAxis;\nleftAxis.axisMaximum = minVal.doubleValue;\nleftAxis.axisMinimum = maxVal.doubleValue;\nleftAxis.drawGridLinesEnabled = NO;\nleftAxis.drawZeroLineEnabled = NO;\nleftAxis.drawLimitLinesBehindDataEnabled = NO;\nleftAxis.drawAxisLineEnabled = NO;\nleftAxis.drawLabelsEnabled = NO;\n\nself.chartView.xAxis.drawAxisLineEnabled = NO;\nself.chartView.xAxis.drawGridLinesEnabled = NO;\nself.chartView.xAxis.drawLabelsEnabled = NO;\n\nself.chartView.rightAxis.enabled = NO;\n\nself.chartView.legend.form = ChartLegendFormLine;\nself.chartView.legend.enabled = NO;\n</code></pre>\n"}, {"tags": ["c", "objective-c", "sockets", "redirect", "c-standard-library"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571746044, "post_id": 58503710, "comment_id": 103336226, "body": "Looks like you&#39;re being redirected from http to https, which uses a different port and of course TLS encryption that it&#39;s not clear if you&#39;re using. Easy thing is to use a library like libcurl for the requests, not try to do it manually. Wouldn&#39;t be surprised if Apple provides one."}, {"owner": {"reputation": 1, "user_id": 10911358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NUpay.jpg?s=128&g=1", "display_name": "Rom&#227;o Martines", "link": "https://stackoverflow.com/users/10911358/rom%c3%a3o-martines"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1571762505, "post_id": 58503710, "comment_id": 103345491, "body": "yep, I was trying to understand how to handle those HSTS redirections but I had never heard about libcurl. I&#39;ll try to use it, then. Thanks for your suggestion"}, {"owner": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1571772838, "post_id": 58503710, "comment_id": 103349849, "body": "@Rom&#227;oMartines Look at the 301 response&#39;s <code>Location</code> header, compare it to the original URL you are requesting. You are likely to see differences between them (HTTP vs HTTPS, missing trailing backlash vs required trailing backslash, etc). Why are you doing this manually instead of using <a href=\"https://developer.apple.com/library/archive/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/WorkingWithHTTPAndHTTPSRequests/WorkingWithHTTPAndHTTPSRequests.html\" rel=\"nofollow noreferrer\">Apple&#39;s HTTP APIs</a>? HTTP is <i>NOT</i> trivial to implement from scratch, it is quite complex when you really start digging into it."}, {"owner": {"reputation": 1, "user_id": 10911358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NUpay.jpg?s=128&g=1", "display_name": "Rom&#227;o Martines", "link": "https://stackoverflow.com/users/10911358/rom%c3%a3o-martines"}, "reply_to_user": {"reputation": 449289, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1571774186, "post_id": 58503710, "comment_id": 103350348, "body": "@RemyLebeau I have a scenario with a bunch of network tests and some of them already use Apple&#39;s HTTP APIs, but you&#39;re right about the complexity, I&#39;ll try to use other libraries to avoid this manual request. Thanks"}], "owner": {"reputation": 1, "user_id": 10911358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NUpay.jpg?s=128&g=1", "display_name": "Rom&#227;o Martines", "link": "https://stackoverflow.com/users/10911358/rom%c3%a3o-martines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571745729, "creation_date": 1571745190, "last_edit_date": 1571745729, "question_id": 58503710, "link": "https://stackoverflow.com/questions/58503710/c-standard-library-http-301-redirect-using-sockets-on-objective-c", "title": "C standard library HTTP 301 Redirect using sockets on Objective-C", "body": "<p>I'm a very beginner on using sockets with C standard library in Objective-C. I'm trying to make HTTP requests to fetch pages on a self-developed browser, to this we're using a query request such as follows:</p>\n\n<pre><code>+(NSData*)fetchWebPageForURL:(NSURL*)url error:(NSError **)anError {\n    //[...]\n    const char* query = [[NSString stringWithFormat:@\"GET /%s HTTP/1.1\\r\\nHost: %s\\r\\nUser-Agent: %@\\r\\nConnection: close\\r\\n\\r\\n\",\n                                page, hostname, userAgentAsNSString] cStringUsingEncoding:NSUTF8StringEncoding];\n    //[...]\n}\n</code></pre>\n\n<p>Where <em>page</em> is the path (if exists), <em>hostname</em> is the URL, and <em>user agent</em> is some device information such as iOS version, device name and so on. \nThe socket has been created with the following protocols and types: </p>\n\n<pre><code>+(NSData*)fetchWebPageForURL:(NSURL*)url error:(NSError **)anError {\n    //socket creation with TCP protocol and IPv4.\n    int sockfd = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n\n    //[...]\n\n    //send request query to the server\n    size_t sentSoFar = 0;\n    do {\n        size_t bytesSent = write(sockfd, query + sentSoFar, strlen(query) - sentSoFar);\n        if(bytesSent == -1)\n        {\n            //send error message\n\n            close(sockfd);\n            return nil;\n        }\n        else if (bytesSent == 0)\n        {\n            // All done.\n            break;\n        }\n\n        sentSoFar += bytesSent;\n\n    } while (sentSoFar &lt; strlen(query));\n\n    //[...]\n\n    // Read the response from the server.\n    int BUFFER_SIZE = 1024;\n    char response[BUFFER_SIZE];\n\n    fd_set rfds;\n    struct timeval tv;\n    bool htmlStarted = false;\n    int done = 0;;\n\n    size_t bytesRead = read(sockfd, response, BUFFER_SIZE);\n\n    //parsing response\n}\n</code></pre>\n\n<p>The problem is that no matter what kind of URL we sent (with <em>http</em> or <em>https</em> scheme) if the page does not support HTTP/1.1 the response status is always <code>HTTP/1.1 301 Moved Permanently</code>. Our solution shows the response body (<em>using stackoverflow's url as example</em>: <code>stackoverflow.com</code>):</p>\n\n<pre><code>&lt;HTML&gt;&lt;HEAD&gt;&lt;meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\"&gt;\n&lt;TITLE&gt;301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;\n&lt;H1&gt;301 Moved&lt;/H1&gt;\nThe document has moved\n&lt;A HREF=\"https://www.stackoverflow.com/\"&gt;here&lt;/A&gt;.\n&lt;/BODY&gt;&lt;/HTML&gt;\n</code></pre>\n\n<p>When we click on the link and send the new URL with HTTPS scheme, the response with status 301 still happens. We already tried to change our query to HTTP/2 but the same response (with HTTP/1.1) is still received.\nI think that can be a problem with my sockets configuration, but here enters the part that I'm not familiar with, so I don't know what to do.</p>\n"}, {"tags": ["ios", "objective-c", "facebook", "facebook-login", "ios13"], "comments": [{"owner": {"reputation": 5091, "user_id": 10955263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8352744d1489964dc9ea418be332ed?s=128&d=identicon&r=PG&f=1", "display_name": "04FS", "link": "https://stackoverflow.com/users/10955263/04fs"}, "edited": false, "score": 1, "creation_date": 1571744313, "post_id": 58503214, "comment_id": 103335250, "body": "Please go read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1571750673, "post_id": 58503214, "comment_id": 103338923, "body": "Although many things has changed since Ios 13 update im not sure why facebook &quot;Login&quot; is not working . , are you sure you are using the correct Facebook App Id . Also if you are getting any error or stacktrace could u provide it to us ."}, {"owner": {"reputation": 71, "user_id": 10070666, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_anX6Du8N-c/AAAAAAAAAAI/AAAAAAAAACc/iHTShdPla9k/photo.jpg?sz=128", "display_name": "Shankar Thorve", "link": "https://stackoverflow.com/users/10070666/shankar-thorve"}, "edited": false, "score": 0, "creation_date": 1571806923, "post_id": 58503214, "comment_id": 103358032, "body": "Yes, Facebook App Id is correct as it is working in iOS 12. In iOS 13 it returns isCancellation true"}], "answers": [{"tags": [], "owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "is_accepted": false, "score": 0, "last_activity_date": 1571872806, "creation_date": 1571872806, "answer_id": 58532140, "question_id": 58503214, "link": "https://stackoverflow.com/questions/58503214/facebook-login-not-working-in-ios-13-in-objective-c/58532140#58532140", "title": "Facebook Login not working in iOS 13 in Objective-C", "body": "<p>Upgrading to the current FBSDK should resolve the problem.</p>\n\n<p>FBSDKCoreKit/FBSDKCoreKit/Internal/BridgeAPI/FBSDKBridgeAPI.m was modified to support iOS 13's requirement to implement ASWebAuthenticationPresentationContextProviding in FBSDKCoreKit 5.4. The current version is 5.8. Versions prior will no longer work.</p>\n\n<p>The needed change is posted here: <a href=\"https://github.com/facebook/facebook-ios-sdk/commit/6b061099f339ef0e8bde2e2c2163ef5a3c1b8340#diff-72593591275d63edfb1bfad837e4c32f\" rel=\"nofollow noreferrer\">https://github.com/facebook/facebook-ios-sdk/commit/6b061099f339ef0e8bde2e2c2163ef5a3c1b8340#diff-72593591275d63edfb1bfad837e4c32f</a></p>\n"}, {"tags": [], "owner": {"reputation": 160, "user_id": 6785298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-81TYuxwFPkY/AAAAAAAAAAI/AAAAAAAAABc/3nML1i45jdw/photo.jpg?sz=128", "display_name": "Asad Jamil", "link": "https://stackoverflow.com/users/6785298/asad-jamil"}, "is_accepted": false, "score": -1, "last_activity_date": 1583329507, "creation_date": 1583329507, "answer_id": 60527522, "question_id": 58503214, "link": "https://stackoverflow.com/questions/58503214/facebook-login-not-working-in-ios-13-in-objective-c/60527522#60527522", "title": "Facebook Login not working in iOS 13 in Objective-C", "body": "<p>Just add the following code below 'didFinishLaunchingWithOptions' delegate method in AppDelegate. It works with latest Facebook SDK and iOS 13 as well. Comment if anyone gets an error. </p>\n\n<pre><code>func application(\n        _ app: UIApplication,\n        open url: URL,\n        options: [UIApplication.OpenURLOptionsKey : Any] = [:]\n    ) -&gt; Bool {\n        return ApplicationDelegate.shared.application(\n            app,\n            open: url,\n            options: options\n        )\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 11445789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UMG6o.jpg?s=128&g=1", "display_name": "Rohit Nishad", "link": "https://stackoverflow.com/users/11445789/rohit-nishad"}, "is_accepted": false, "score": 1, "last_activity_date": 1605263057, "creation_date": 1605263057, "answer_id": 64819238, "question_id": 58503214, "link": "https://stackoverflow.com/questions/58503214/facebook-login-not-working-in-ios-13-in-objective-c/64819238#64819238", "title": "Facebook Login not working in iOS 13 in Objective-C", "body": "<p>if you have created app in xCode 11 please follow me.</p>\n<p><strong>IMPORTANT-</strong> import FBSDKLoginKit   in sceneDelegate file.</p>\n<pre><code>func scene(_ scene: UIScene, openURLContexts URLContexts: Set&lt;UIOpenURLContext&gt;) {\nguard let url = URLContexts.first?.url else {\n    return\n}\n\nlet _ = ApplicationDelegate.shared.application(\n    UIApplication.shared,\n    open: url,\n    sourceApplication: nil,\n    annotation: [UIApplication.OpenURLOptionsKey.annotation])\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 71, "user_id": 10070666, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_anX6Du8N-c/AAAAAAAAAAI/AAAAAAAAACc/iHTShdPla9k/photo.jpg?sz=128", "display_name": "Shankar Thorve", "link": "https://stackoverflow.com/users/10070666/shankar-thorve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2246, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1605263057, "creation_date": 1571743565, "last_edit_date": 1583655459, "question_id": 58503214, "link": "https://stackoverflow.com/questions/58503214/facebook-login-not-working-in-ios-13-in-objective-c", "title": "Facebook Login not working in iOS 13 in Objective-C", "body": "<p>How to make Facebook Login work in iOS 13 in Objective-C? It's working in iOS 12 but not working in iOS 13 (it returns isCancellation true).</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "scope", "selector"], "comments": [{"owner": {"reputation": 2132, "user_id": 1931380, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/IF8tJ.jpg?s=128&g=1", "display_name": "jailani", "link": "https://stackoverflow.com/users/1931380/jailani"}, "edited": false, "score": 1, "creation_date": 1571741344, "post_id": 58502105, "comment_id": 103333645, "body": "where you create the instance for CustomCountKeyboard class?"}, {"owner": {"reputation": 2132, "user_id": 1931380, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/IF8tJ.jpg?s=128&g=1", "display_name": "jailani", "link": "https://stackoverflow.com/users/1931380/jailani"}, "edited": false, "score": 1, "creation_date": 1571741611, "post_id": 58502105, "comment_id": 103333798, "body": "Make sure, 1. Self is not nil at this point UIBarButtonItem *doneBtn=[[UIBarButtonItem alloc]initWithTitle:@&quot;Done&quot; style:UIBarButtonItemStylePlain target:self action:@selector(DoneSelectingValue)];   2. Instance of CustomCountKeyboard class is not deallocated"}, {"owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "reply_to_user": {"reputation": 2132, "user_id": 1931380, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/IF8tJ.jpg?s=128&g=1", "display_name": "jailani", "link": "https://stackoverflow.com/users/1931380/jailani"}, "edited": false, "score": 0, "creation_date": 1571744014, "post_id": 58502105, "comment_id": 103335085, "body": "@jailani Thanks for the help. I&#39;ll add the initialisation code. For the second comment: 1. According to XCode in the breakpoint, it&#39;s not null. 2. How do I tell if it&#39;s deallocated?"}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 1, "creation_date": 1571746177, "post_id": 58502105, "comment_id": 103336306, "body": "Please share complete code, you haven&#39;t shared code for methods <code>DoneSelectingValue</code> and <code>StartSelecting</code>. Have you added the method signature in the <code>.h</code> file of the <code>CustomCountKeyboard </code> class?"}, {"owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "reply_to_user": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 0, "creation_date": 1571747056, "post_id": 58502105, "comment_id": 103336848, "body": "@Kampai Okay, i&#39;ve added the <code>StartSelecting</code> code. Both <code>DoneSelectingValue</code> method just have one <code>NSLog</code> in, to tell them apart. I haven&#39;t put any content in yet. The <code>DoneSelectingValue</code> method signature is in the <code>.h</code> file for <code>CustomCountKeyboard</code>."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1571748811, "post_id": 58502105, "comment_id": 103337858, "body": "Can you show the declaration/definition of the <code>DoneSelectingValue</code> method?  I will say it&#39;s unusual for a delegate method to not receive parameters; for example the <i>what</i> that is done selecting values would be useful to the delegate."}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 1, "creation_date": 1571749439, "post_id": 58502105, "comment_id": 103338187, "body": "I think the issue is, you are not calling the selector using the instance of that class. Call selector from the class where you created CustomCountKeyboard. Follow this answer: <a href=\"https://stackoverflow.com/questions/21758245/how-to-call-selector-method-from-another-class\" title=\"how to call selector method from another class\">stackoverflow.com/questions/21758245/&hellip;</a>"}, {"owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1571758366, "post_id": 58502105, "comment_id": 103343359, "body": "@trojanfoe Thanks. Both <code>DoneSelectingValue</code> methods are as follows <code>-(void)DoneSelectingValue</code>. On your suggestion, I added a param to it <code>:(id)sender</code> and the <code>:</code> to the selector, but it made no difference."}, {"owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "reply_to_user": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 0, "creation_date": 1571758463, "post_id": 58502105, "comment_id": 103343416, "body": "@Kampai Thanks. I changed the <code>makeToolBarWithWidth</code> to be passed the target instead <code>-(void) makeToolBarWithWidth:(CGFloat)width withTarget:(id)target </code> and called that after instantiation, so I&#39;m definitely passing the correct class <code>CustomCountKeyboard *ff = [[CustomCountKeyboard alloc] initWithField:cell.countField];         [ff makeToolBarWithWidth:self.view.frame.size.width  withTarget:ff];</code> and it still doesn&#39;t work."}, {"owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "edited": false, "score": 0, "creation_date": 1571759351, "post_id": 58502105, "comment_id": 103343923, "body": "<code>If nil, the action message is passed up the responder chain where it may be handled by any object implementing a method corresponding to the selector held by the action property. The default value is nil.</code> That&#39;s from the documentation for the target property. I&#39;m assuming it&#39;s as you said, and somehow the reference is being deallocated somehow, I just can&#39;t work out how."}, {"owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "edited": false, "score": 0, "creation_date": 1571759625, "post_id": 58502105, "comment_id": 103344092, "body": "Solved it, by keeping a reference to the CustomCountKeyboard. It was clearly being deallocated, still don&#39;t know how though, thanks for all the help."}], "answers": [{"tags": [], "owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "is_accepted": false, "score": 0, "last_activity_date": 1571760347, "creation_date": 1571760347, "answer_id": 58508275, "question_id": 58502105, "link": "https://stackoverflow.com/questions/58502105/ios-objective-c-selector-using-the-wrong-scope/58508275#58508275", "title": "IOS objective C selector using the wrong scope", "body": "<p>So it turns out to be quite simple actually. On selecting of a table row I am instantiating a custom class of CustomCountKeyboard and using it to attach an inputAccessoryView to the field I pass to it. Unfortunately the target property on the UIBarButtonItem is weak, so doesn't stop the class being deallocated.</p>\n\n<p>So by the time the <code>Done</code> button is clicked, the method has completed and the instance has been garbage collected, and consequently is actually not there. The system then instead bubbles the action selector up and does it on the view controller instead.</p>\n\n<pre><code>-(void) tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n\n        TestSpeciesCell *cell = [tableView cellForRowAtIndexPath:indexPath];\n\n        CustomCountKeyboard *ff = [[CustomCountKeyboard alloc] initWithField:cell.countField];\n        [ff makeToolBarWithWidth:self.view.frame.size.width  withTarget:ff];\n\n        [ff StartSelecting];\n\n\n}\n</code></pre>\n\n<p>Changed to:</p>\n\n<p><code>@property CustomCountKeyboard *countPicker;</code></p>\n\n<pre><code>-(void) tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n\n\n        TestSpeciesCell *cell = [tableView cellForRowAtIndexPath:indexPath];\n\n        self.countPicker = [[CustomCountKeyboard alloc] initWithField:cell.countField];\n\n        [self.countPicker StartSelecting];\n\n}\n</code></pre>\n\n<p>Thanks to Kampai and trojanfoe for helping me to get there. I'd give you rep if I could.</p>\n"}], "owner": {"reputation": 2049, "user_id": 1616987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2dsU6.jpg?s=128&g=1", "display_name": "MasNotsram", "link": "https://stackoverflow.com/users/1616987/masnotsram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571760347, "creation_date": 1571739672, "last_edit_date": 1571746931, "question_id": 58502105, "link": "https://stackoverflow.com/questions/58502105/ios-objective-c-selector-using-the-wrong-scope", "title": "IOS objective C selector using the wrong scope", "body": "<p>I'm using a custom class to hold the initiation code for a particular set of UITextField settings and inputAccessoryView</p>\n\n<pre><code>@interface CustomCountKeyboard : NSObject\n</code></pre>\n\n<p>It has the below method for initialisation with a UITextField only</p>\n\n<pre><code>-(id) initWithField:(UITextField *)field {\n    self = [super init];\n    self.titleField = field;\n    self.titleLabel = nil;\n\n    self.titleField.inputAccessoryView = [self makeToolBarWithWidth:self.titleField.superview.frame.size.width];\n\n\n    return self;\n}\n</code></pre>\n\n<p>And the below method, used by the init method above, to add the accessory views. The doneBtn in the below code specifies a selector of DoneSelectingValue, which is defined elsewhere on the class. </p>\n\n<pre><code>-(UIToolbar *) makeToolBarWithWidth:(CGFloat) width {\n\n\n    UIToolbar *toolBar=[[UIToolbar alloc]initWithFrame:CGRectMake(0, 0, width, 44)];\n    [toolBar setTintColor:[UIColor blueColor]];\n\n\n\n    NSArray *segItemsArray = [NSArray arrayWithObjects: @\"\", @\"c\", @\"+\", nil];\n    UISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:segItemsArray];\n    segmentedControl.frame = CGRectMake(0, 0, 200, 30);\n    segmentedControl.selectedSegmentIndex = 0;\n    UIBarButtonItem *segmentedControlButtonItem = [[UIBarButtonItem alloc] initWithCustomView:(UIView *)segmentedControl];\n\n    self.segmentedControl = segmentedControl;\n\n    UIBarButtonItem *doneBtn=[[UIBarButtonItem alloc]initWithTitle:@\"Done\" style:UIBarButtonItemStylePlain target:self action:@selector(DoneSelectingValue)];\n\n    UIBarButtonItem *space=[[UIBarButtonItem alloc]initWithBarButtonSystemItem:UIBarButtonSystemItemFlexibleSpace target:nil action:nil];\n    [toolBar setItems:[NSArray arrayWithObjects:segmentedControlButtonItem,space,doneBtn, nil]];\n\n\n    return toolBar;\n}\n</code></pre>\n\n<p>XCode correctly warns me when this DoneSelectingValue method isn't defined on this class. This class has been used elsewhere and it correctly calls the DoneSelectingValue callback in this class.</p>\n\n<p>However, in this instance, it was failing to call this method in the class. Confused, I added the same method definition in the surrounding ViewController, and it called that successfully. This suggests the scope of the selector is wrong.</p>\n\n<p>The only difference between the usage of this code when it works, and this instance when it doesn't, is that the UITextField this time is in a UITableViewCell and the instantiation of the CustomCountKeyboard happens in the didSelectRowAtIndexPath method. If this code is needed, I can edit to provide.</p>\n\n<p>If I put in breakpoints, XCode inspector shows the correct value (The CustomCountKeyboard instance) for 'self' at instantiation time, so the target should be being set correctly.</p>\n\n<p>Any ideas?</p>\n\n<p>Edit: On request, below is the initialisation code for the CustomCountKeyboard</p>\n\n<pre><code>-(void) tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n\n    if( self.textField.text.length &gt; 0 )  {\n\n        NSDictionary *species =[self.filteredTableData objectAtIndex:indexPath.row];\n\n        [self.obs addObject:species];\n        [self.textField setText:@\"\"];\n        [self.textField resignFirstResponder];\n        self.filteredTableData = [self calculateFilteredResults:self.textField.text];\n        [self.speciesTable reloadData];\n\n    }\n    else {\n        TestSpeciesCell *cell = [tableView cellForRowAtIndexPath:indexPath];\n\n        CustomCountKeyboard *ff = [[CustomCountKeyboard alloc] initWithField:cell.countField];\n        [ff StartSelecting];\n\n    }\n\n}\n</code></pre>\n\n<p>StartSelecting content added</p>\n\n<pre><code>- (void)StartSelecting {\n\n    if( self.titleLabel != nil ) {\n        self.titleLabel.hidden = true;\n    }\n\n\n    if( self.titleField != nil ) {\n        self.titleField.hidden = false;\n        [self.titleField becomeFirstResponder];\n    }\n    else {\n        [self.titleView becomeFirstResponder];\n    }\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "touchesbegan", "touchesmoved", "touchesended"], "comments": [{"owner": {"reputation": 174, "user_id": 12199222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b183eb0e5df2bb1952ffa504e78b488b?s=128&d=identicon&r=PG&f=1", "display_name": "Code Farmer", "link": "https://stackoverflow.com/users/12199222/code-farmer"}, "edited": false, "score": 3, "creation_date": 1571738664, "post_id": 58501560, "comment_id": 103332287, "body": "UIGraphicsBeginImageContext(self.view.frame.size) , the size is not equal [mainImage.image drawInRect:CGRectMake(0, 0, 600, 400)]"}, {"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 174, "user_id": 12199222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b183eb0e5df2bb1952ffa504e78b488b?s=128&d=identicon&r=PG&f=1", "display_name": "Code Farmer", "link": "https://stackoverflow.com/users/12199222/code-farmer"}, "edited": false, "score": 0, "creation_date": 1571739167, "post_id": 58501560, "comment_id": 103332550, "body": "Yep, that&#39;s it, I put self.view.frame.size everywhere, and it works. Thanks."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571739660, "post_id": 58501560, "comment_id": 103332831, "body": "I do not think that is related to iOS 13, code was always wrong anyway"}, {"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571739719, "post_id": 58501560, "comment_id": 103332861, "body": "@matt it is strange, I don&#39;t understand why it worked before..."}], "owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571737844, "creation_date": 1571737844, "question_id": 58501560, "link": "https://stackoverflow.com/questions/58501560/ios-problem-with-my-drawing-popover-that-doesnt-display-well-since-ios13", "title": "iOS: Problem with my drawing popover that doesn&#39;t display well since iOS13", "body": "<p>I display a popover that's allows to draw inside.</p>\n\n<pre><code>- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event\n{\n    mouseSwiped = NO;\n    UITouch *touch = [touches anyObject];\n    lastPoint = [touch locationInView:self.view];\n}\n\n- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event\n{\n    mouseSwiped = YES;\n    UITouch *touch = [touches anyObject];\n    CGPoint currentPoint = [touch locationInView:self.view];\n\n     NSLog(@\"lastPoint: %@\", NSStringFromCGPoint(lastPoint));\n\n    UIGraphicsBeginImageContext(self.view.frame.size);\n    [mainImage.image drawInRect:CGRectMake(0, 0, 600, 400)];\n    CGContextMoveToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);\n    CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentPoint.x, currentPoint.y);\n    CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);\n    CGContextSetLineWidth(UIGraphicsGetCurrentContext(), brush );\n    CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), red, green, blue, 1.0);\n    CGContextSetBlendMode(UIGraphicsGetCurrentContext(),kCGBlendModeNormal);\n\n    CGContextStrokePath(UIGraphicsGetCurrentContext());\n    mainImage.image = UIGraphicsGetImageFromCurrentImageContext();\n    [mainImage setAlpha:opacity];\n    UIGraphicsEndImageContext();\n\n    lastPoint = currentPoint;\n}\n</code></pre>\n\n<p>My problem is that since the iOS13, it doesn't display well.</p>\n\n<p>How it should display:<br>\n<a href=\"https://i.stack.imgur.com/TsnxP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TsnxP.gif\" alt=\"enter image description here\"></a></p>\n\n<p>How it display now in iOS13:<br>\n<a href=\"https://i.stack.imgur.com/L5zDi.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L5zDi.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "is_accepted": true, "score": 1, "last_activity_date": 1571734741, "creation_date": 1571734741, "answer_id": 58500589, "question_id": 58500377, "link": "https://stackoverflow.com/questions/58500377/convert-objective-c-to-swift-to-mock-s3/58500589#58500589", "title": "Convert Objective-C to Swift to Mock S3", "body": "<pre><code>func listObjects(request: AWSS3ListObjectsRequest, completionHandler: ((AWSS3ListObjectsOutput?, Error?) -&gt; Void)?) {\n\n}\n</code></pre>\n"}], "owner": {"reputation": 819, "user_id": 11076699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3508ae42a58853a5a496d631a41f5fb?s=128&d=identicon&r=PG&f=1", "display_name": "WishIHadThreeGuns", "link": "https://stackoverflow.com/users/11076699/wishihadthreeguns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58500589, "answer_count": 1, "score": 0, "last_activity_date": 1571734741, "creation_date": 1571734021, "question_id": 58500377, "link": "https://stackoverflow.com/questions/58500377/convert-objective-c-to-swift-to-mock-s3", "title": "Convert Objective-C to Swift to Mock S3", "body": "<p>I want to mock S3, but I seem unable to come up with the Swift equivalent of the following:</p>\n\n<pre><code>- (void)listObjects:(AWSS3ListObjectsRequest *)request completionHandler:(void (^ _Nullable)(AWSS3ListObjectsOutput * _Nullable response, NSError * _Nullable error))completionHandler;\n</code></pre>\n\n<p>I've tried quite a few alternatives:</p>\n\n<pre><code>//    func listObjects(request: AWSS3ListObjectsRequest) -&gt; AWSTask&lt;AWSS3ListObjectsOutput&gt;\n//    func listObjects(request: AWSS3ListObjectsRequest, completionHandler: (AWSTask&lt;AWSS3ListObjectsOutput&gt;) -&gt; AnyObject?)\n    func listObjects(request: AWSS3ListObjectsRequest, completionHandler: () -&gt; AWSTask&lt;AWSS3ListObjectsOutput&gt;)\n//    - (void)listObjects:(AWSS3ListObjectsRequest *)request completionHandler:(void (^ _Nullable)(AWSS3ListObjectsOutput * _Nullable response, NSError * _Nullable error))completionHandler;\n</code></pre>\n\n<p>ButI can't seem to get one that AWSS3 conforms to. I need to do this to mock the function in Swift.</p>\n"}, {"tags": ["arrays", "objective-c", "xcode", "macos", "struct"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571735124, "post_id": 58498021, "comment_id": 103330202, "body": "You need to use objective-c&#39;s class with objective-c&#39;s array or use c&#39;s struct with c&#39;s array."}], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 7616030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73dc65a9a2133b6755cb6abe10ce4bee?s=128&d=identicon&r=PG&f=1", "display_name": "geeker", "link": "https://stackoverflow.com/users/7616030/geeker"}, "edited": false, "score": 1, "creation_date": 1571809830, "post_id": 58500780, "comment_id": 103358782, "body": "Thanks for making it clear , I&#39;ll first learn all the basic syntax before coding."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1571735356, "creation_date": 1571735356, "answer_id": 58500780, "question_id": 58498021, "link": "https://stackoverflow.com/questions/58498021/array-of-structure-in-objective-c/58500780#58500780", "title": "Array of structure in objective c", "body": "<p>You are mixing up Objective-C and C syntax. <code>@{ key:value, ... }</code> is an Objective-C dictionary literal, <code>@[ a, ... }</code> is an Objective-C array literal, and <code>abc-&gt;</code> is part of a C expression to access a field of a <code>struct</code> via a pointer to the struct.</p>\n\n<p>In C the syntax <code>{ a, ... }</code> serves dual purpose as both an array and struct literal determined by context. Your fragment can be written as:</p>\n\n<pre><code>struct Abc abc[] = { {@\"hello\", false},\n                     {@\"thank you\", true},\n                     {@\"welcome\", true}\n                   };\n</code></pre>\n\n<p>which declares <code>abc</code> as an array, rather than a pointer. Using an array type with empty bounds (<code>[]</code>) sizes the array based on the initializer and the declaration and assignment must be done together.</p>\n\n<p>If you want to stick with your pointer type rather than use an array type you can provided add a cast, producing what C terms a <em>compound literal</em>, and in this case you can seperate the declaration from the assignment:</p>\n\n<pre><code>struct Abc *abc;\nabc = (struct Abc []){ {@\"hello\", false},\n                       {@\"thank you\", true},\n                       {@\"welcome\", true}\n                     };\n</code></pre>\n\n<p>Note: You can't use the cast <code>(struct Abc *)</code> here... C initializer and compound literal syntax &amp; semantics are as quirky as is the C(++) way ;-)</p>\n\n<p>Note: It is more usual in Objective-C to use <code>YES</code> &amp; <code>NO</code> rather than <code>true</code> and <code>false</code> but the latter are accepted as <code>BOOL</code> literals.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 277, "user_id": 7616030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73dc65a9a2133b6755cb6abe10ce4bee?s=128&d=identicon&r=PG&f=1", "display_name": "geeker", "link": "https://stackoverflow.com/users/7616030/geeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58500780, "answer_count": 1, "score": -2, "last_activity_date": 1571735356, "creation_date": 1571724695, "last_edit_date": 1571725613, "question_id": 58498021, "link": "https://stackoverflow.com/questions/58498021/array-of-structure-in-objective-c", "title": "Array of structure in objective c", "body": "<p>I have trouble using struct like an array in objective c.</p>\n\n<p>The struct which I use is the following -</p>\n\n<pre><code>struct Abc{\n__unsafe_unretained NSString *textValue;\nBOOL value;\n};\n</code></pre>\n\n<p>And what I try to achieve is - </p>\n\n<pre><code> struct Abc *abc;\nabc = @{@{abc-&gt;textValue:@\"hello\",abc-&gt;value:false},\n        @{abc-&gt;textValue:@\"thank you \",abc-&gt;value:true},\n        @{abc-&gt;textValue:@\"welcome\",abc-&gt;value:true}\n      };\n</code></pre>\n\n<p>As I'm very new to objective-c, I needed some help regarding this.</p>\n\n<p>Please do let me know if my code is wrong. <strong>My main concern is to use that struct in an array</strong>. Thank You!</p>\n"}, {"tags": ["ios", "objective-c", "swift", "alamofire", "afnetworking"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1571725312, "post_id": 58497960, "comment_id": 103325303, "body": "Objective-C is old, there will be no updates"}], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 2914524, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000355394673/picture?type=large", "display_name": "Adnan Munir", "link": "https://stackoverflow.com/users/2914524/adnan-munir"}, "is_accepted": true, "score": 1, "last_activity_date": 1571727251, "creation_date": 1571727251, "answer_id": 58498601, "question_id": 58497960, "link": "https://stackoverflow.com/questions/58497960/afnetworking-for-ios-next-update-for-objective-c/58498601#58498601", "title": "AFNetworking for iOS Next Update for Objective-C", "body": "<p>For Objective-C there will be no further updates. Apple now recommends to use swift in every project so why go for objective-c now as its old. Alamofire is very good wrapper written for networking. \nI would suggest you to start migrating your project to Swift by using Bridging-Header which serves purpose of using Swift &amp; Objective-C in same project.</p>\n"}], "owner": {"reputation": 219, "user_id": 1039757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79a92b8c8e86a7f2e00dabb355df7b3b?s=128&d=identicon&r=PG", "display_name": "Kumaran", "link": "https://stackoverflow.com/users/1039757/kumaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1571756445, "accepted_answer_id": 58498601, "answer_count": 1, "score": 0, "last_activity_date": 1571727251, "creation_date": 1571724398, "question_id": 58497960, "link": "https://stackoverflow.com/questions/58497960/afnetworking-for-ios-next-update-for-objective-c", "closed_reason": "Opinion-based", "title": "AFNetworking for iOS Next Update for Objective-C", "body": "<p>Currently i am doing IOS App Development and my projects works under AFNetworking Lib V3.2.1 also i am slowly migrating my app into the Swift with AutoLayout.</p>\n\n<p>My clarification whether will get the AFNetworking Next version for Objective-C?. Because this lib last they was updated on May 2018 and its getting older now a days.</p>\n\n<p>Better can I switch over my project into Swift with alamofire network lib.?</p>\n\n<p>Suggestion require to proceed further.</p>\n"}, {"tags": ["ios", "objective-c", "avplayer", "mpnowplayinginfocenter", "mpremotecommandcenter"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571701629, "post_id": 58495393, "comment_id": 103320569, "body": "What you&#39;re describing is how video files work. Do you know of an app that behaves differently?"}, {"owner": {"reputation": 11, "user_id": 11721627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02dc620a3ab160cdff074c8e67e00af?s=128&d=identicon&r=PG&f=1", "display_name": "Amro", "link": "https://stackoverflow.com/users/11721627/amro"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571756702, "post_id": 58495393, "comment_id": 103342498, "body": "I have seen apps that are able to stream (rather than download audio files) and will still show the lock screen controls when it is paused. For example, the iPhone Podcast app can stream episodes. I assumed that these apps use AVPlayer because AVAudioPlayer doesn&#39;t allow streaming. Does this make sense?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571758079, "post_id": 58495393, "comment_id": 103343208, "body": "Those are audio files. I am asking you about video files. Have you seen an app that behaves the way you describe when streaming a video file?"}, {"owner": {"reputation": 11, "user_id": 11721627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02dc620a3ab160cdff074c8e67e00af?s=128&d=identicon&r=PG&f=1", "display_name": "Amro", "link": "https://stackoverflow.com/users/11721627/amro"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571758516, "post_id": 58495393, "comment_id": 103343445, "body": "So right now I am streaming video files but only using the audio (I&#39;m not creating an AVPlayerViewController and assigning its player). Are you saying if I use the same code but instead point to a pure audio file (eg mp3), then this problem with the lock screen controls will go away?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571758629, "post_id": 58495393, "comment_id": 103343508, "body": "I&#39;m not saying anything. I&#39;m asking you a question. I ask for the third time. Can you give an example of <i>any</i> app that streams a video file (I don&#39;t care what &quot;part&quot; of the file it plays) that does what you are saying your app should do?"}, {"owner": {"reputation": 11, "user_id": 11721627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02dc620a3ab160cdff074c8e67e00af?s=128&d=identicon&r=PG&f=1", "display_name": "Amro", "link": "https://stackoverflow.com/users/11721627/amro"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571758892, "post_id": 58495393, "comment_id": 103343651, "body": "No I can&#39;t. I am trying to mimic the behavior of the Podcast app which can stream audio and show lock screen controls even when it is paused. I thought perhaps you were getting at the point that this is not working because I am using a video file rather than an audio file."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571761645, "post_id": 58495393, "comment_id": 103345074, "body": "I <i>am</i> getting at that point, in a sense. I believe there would not be any trouble getting the your app to behave like the Podcast app, <i>if</i> you were doing what the Podcast app does. But you are not doing what the Podcast app does: you are streaming a video, even though you are just playing its audio track. So there is no comparison to be drawn. ="}, {"owner": {"reputation": 11, "user_id": 11721627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02dc620a3ab160cdff074c8e67e00af?s=128&d=identicon&r=PG&f=1", "display_name": "Amro", "link": "https://stackoverflow.com/users/11721627/amro"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571761741, "post_id": 58495393, "comment_id": 103345115, "body": "Thanks Matt! Not sure how I missed that, I will give that a try"}], "owner": {"reputation": 11, "user_id": 11721627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d02dc620a3ab160cdff074c8e67e00af?s=128&d=identicon&r=PG&f=1", "display_name": "Amro", "link": "https://stackoverflow.com/users/11721627/amro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571772327, "creation_date": 1571701146, "last_edit_date": 1571772327, "question_id": 58495393, "link": "https://stackoverflow.com/questions/58495393/iphone-lock-screen-controls-do-not-show-up-when-avplayer-is-paused-how-can-i-fi", "title": "iPhone lock screen controls do not show up when AVPlayer is paused, how can I fix this?", "body": "<p>I am streaming a video file but only playing the audio for it using AVPlayer. I am successfully able to play/pause, continue playing while in background, and interact with the lock screen controls to control the player. The only issue is if I pause the audio then I lock the phone, the lock screen controls do now show up. However, if I pause the audio from the lock screen, the controls remain showing.</p>\n\n<p>The codebase is extensive so here is some of the relevant code.</p>\n\n<pre><code>-(void)viewDidLoad {\n    ...\n    [[AVAudioSession sharedInstance] setCategory: AVAudioSessionCategoryPlayback error: nil];\n    [[AVAudioSession sharedInstance] setActive:YES error:nil];\n    [[AVAudioSession sharedInstance] setMode:AVAudioSessionModeMoviePlayback error:nil];\n    [[UIApplication sharedApplication] beginReceivingRemoteControlEvents];\n    ...\n}\n-(void) setUpAvPlayer {\n    ...\n    self.player = [AVPlayer playerWithPlayerItem:[AVPlayerItem playerItemWithAsset:mixComposition]];\n    self.player.automaticallyWaitsToMinimizeStalling = NO;\n    [self addObservers];\n    [self setUpRemoteCommandCenter];\n    [self.player.currentItem seekToTime:CMTimeMakeWithSeconds(videoSeekPosition, 60000)];\n    ...\n}\n\n-(void)setUpRemoteCommandCenter {\n    // Provides all audio data to be displayed to user in lock screen\n    self.lockScreenInfo = [[NSMutableDictionary alloc] initWithObjectsAndKeys:\n                           lecture.topicName, MPMediaItemPropertyTitle,\n                           [NSNumber numberWithDouble:CMTimeGetSeconds(self.player.currentItem.duration)], MPMediaItemPropertyPlaybackDuration,\n                           [NSNumber numberWithDouble:CMTimeGetSeconds(self.player.currentItem.currentTime)], MPNowPlayingInfoPropertyElapsedPlaybackTime,\n                           [NSNumber numberWithDouble:playerRate], MPNowPlayingInfoPropertyPlaybackRate, nil];\n    [[MPNowPlayingInfoCenter defaultCenter] setNowPlayingInfo:self.lockScreenInfo];\n\n    // For lock screen &amp; remote audio controls\n    MPRemoteCommandCenter *remoteCommandCenter = [MPRemoteCommandCenter sharedCommandCenter];\n\n    [remoteCommandCenter.playCommand setEnabled:YES];\n    [remoteCommandCenter.playCommand addTarget:self action:@selector(playPauseVideo)];\n\n    [remoteCommandCenter.pauseCommand setEnabled:YES];\n    [remoteCommandCenter.pauseCommand addTarget:self action:@selector(playPauseVideo)];\n\n    [remoteCommandCenter.skipBackwardCommand setEnabled:YES];\n    [remoteCommandCenter.skipBackwardCommand addTarget:self action:@selector(skipBackward)];\n    remoteCommandCenter.skipBackwardCommand.preferredIntervals = @[@(15)];\n\n    [remoteCommandCenter.skipForwardCommand setEnabled:YES];\n    [remoteCommandCenter.skipForwardCommand addTarget:self action:@selector(skipForward)];\n    remoteCommandCenter.skipForwardCommand.preferredIntervals = @[@(15)];\n\n    // Drag slider to change audio position\n    // Check for iOS version here (later than iOS 9.0)\n    if (floor(NSFoundationVersionNumber) &gt; NSFoundationVersionNumber_iOS_9_0) {\n        [remoteCommandCenter.changePlaybackPositionCommand setEnabled:YES];\n        [remoteCommandCenter.changePlaybackPositionCommand addTarget:self action:@selector(changedThumbSliderOnLockScreen:)];\n    }\n}\n</code></pre>\n\n<p>Update: I took Matt's advice in the comments and am now using an mp3 file for the audio. I am still having the same problem where when the audio is paused, lock screen controls do not show up. Any other ideas as to how I can fix this? As I said in the comments, I basically want to mimic Apple's Podcast app. Audio files are streamed (rather than downloaded) and lock screen controls show up even when it is paused.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1571695359, "post_id": 58494592, "comment_id": 103319078, "body": "Why not just expose this to Obj-C?"}, {"owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "reply_to_user": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1571695452, "post_id": 58494592, "comment_id": 103319101, "body": "Tbh if it were up to me I would change the whole project to swift but it doesn&#39;t depend on me :C sadly"}], "answers": [{"tags": [], "owner": {"reputation": 3667, "user_id": 212649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cbf4f4e28476c5413037cd8872c87bc?s=128&d=identicon&r=PG", "display_name": "Rudedog", "link": "https://stackoverflow.com/users/212649/rudedog"}, "is_accepted": true, "score": 2, "last_activity_date": 1571695661, "creation_date": 1571695661, "answer_id": 58494717, "question_id": 58494592, "link": "https://stackoverflow.com/questions/58494592/how-can-i-port-this-to-objective-c/58494717#58494717", "title": "How can I port this to objective c?", "body": "<p>The approximate idiom in objective-c would be to declare the property read-only in the <code>.h</code> file:</p>\n\n<pre><code>@property(nonatomic, strong, readonly) UIView* emptyStateView;\n</code></pre>\n\n<p>Then in the <code>.m</code> file, do something like</p>\n\n<pre><code>@synthesize emptyStateView = _emptyStateView;\n\n- (UIView*)emptyStateView {\n  if (_emptyStateView == nil) {\n    // Code to instantiate _emptyStateView\n  }\n  return _emptyStateView;\n}\n</code></pre>\n"}], "owner": {"reputation": 1015, "user_id": 7686460, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CE7EnnQK1cI/AAAAAAAAAAI/AAAAAAAABP0/8Yi6qCUnQ00/photo.jpg?sz=128", "display_name": "Jalil", "link": "https://stackoverflow.com/users/7686460/jalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58494717, "answer_count": 1, "score": -1, "last_activity_date": 1571695661, "creation_date": 1571694740, "question_id": 58494592, "link": "https://stackoverflow.com/questions/58494592/how-can-i-port-this-to-objective-c", "title": "How can I port this to objective c?", "body": "<p>I wanted to know if is it possible to port exactly this piece of code to objective-c. If that's the case how can I set the <code>fileprivate(set) lazy</code> in Objective C? I can't find anything about it, I'm expecting to replace the background of a UITableView when it is empty </p>\n\n<pre><code>fileprivate(set) lazy var emptyStateView: UIView = {\n        guard let view = Bundle.main.loadNibNamed(\"EmptyState\", owner: nil, options: [:])?.first as? UIView  else {\n            return UIView()\n        }\n        return view\n    }()\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "compilation", "xcode11", "macos-catalina"], "comments": [{"owner": {"reputation": 326, "user_id": 4248258, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wmZGxw2SStU/AAAAAAAAAAI/AAAAAAAAAFI/ZdsRv0gp6Vc/photo.jpg?sz=128", "display_name": "MMSousa", "link": "https://stackoverflow.com/users/4248258/mmsousa"}, "edited": false, "score": 0, "creation_date": 1585236233, "post_id": 58493676, "comment_id": 107695846, "body": "i have the same problem, I haven&#39;t resolved yet."}], "answers": [{"tags": [], "owner": {"reputation": 5581, "user_id": 904355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8b0db0ba4b627a2a8c2e00e2733851f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/904355/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1572555825, "creation_date": 1572555825, "answer_id": 58651139, "question_id": 58493676, "link": "https://stackoverflow.com/questions/58493676/objective-c-files-compile-slow-on-macos-catalina/58651139#58651139", "title": "Objective-C Files Compile Slow on macOS Catalina", "body": "<p>Looks like something was updated in Catalina and doesn't seem to be an issue anymore. My machine (and others on the team) were force restarted one morning outside of our control and the issue was mysteriously gone.</p>\n"}], "owner": {"reputation": 5581, "user_id": 904355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8b0db0ba4b627a2a8c2e00e2733851f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/904355/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1572555825, "creation_date": 1571689676, "question_id": 58493676, "link": "https://stackoverflow.com/questions/58493676/objective-c-files-compile-slow-on-macos-catalina", "title": "Objective-C Files Compile Slow on macOS Catalina", "body": "<p>After updating to Catalina, our Xcode project with both Swift and Objective-C files takes 4-5 times longer to compile than it did before the update. After digging into the build logs, we are seeing a huge increase on our Objective-C files. An example file went from ~0.4 seconds to 21.2 seconds. Swift seems to be consistent, it's just the Objective-C files that are now taking forever to compile.</p>\n\n<p>Any idea what could cause such a change in compilation for Objective-C after upgrading to Catalina?</p>\n\n<p>Using:</p>\n\n<ul>\n<li>Xcode 11.1</li>\n<li>macOS Catalina</li>\n<li>Swift 5.1</li>\n</ul>\n"}, {"tags": ["objective-c", "xcode", "macos", "cocoa", "macos-catalina"], "answers": [{"tags": [], "owner": {"reputation": 1804, "user_id": 109631, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0731ba7b48456c2a54f528c596eadbe7?s=128&d=identicon&r=PG", "display_name": "toastie", "link": "https://stackoverflow.com/users/109631/toastie"}, "is_accepted": true, "score": 8, "last_activity_date": 1571682122, "creation_date": 1571682122, "answer_id": 58492091, "question_id": 58491810, "link": "https://stackoverflow.com/questions/58491810/applicationshouldterminate-not-called-in-appdelegate-and-nsapplicationwilltermin/58492091#58492091", "title": "applicationShouldTerminate not called in AppDelegate and NSApplicationWillTerminateNotification not being sent", "body": "<p>Well, I figured it out and it's because it seems that NSSupportsSuddenTermination is on by default now.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2626090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786b5fa55dd50e58b601b46e44e8abd8?s=128&d=identicon&r=PG", "display_name": "hansen_m", "link": "https://stackoverflow.com/users/2626090/hansen-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1573760121, "creation_date": 1573760121, "answer_id": 58864505, "question_id": 58491810, "link": "https://stackoverflow.com/questions/58491810/applicationshouldterminate-not-called-in-appdelegate-and-nsapplicationwilltermin/58864505#58864505", "title": "applicationShouldTerminate not called in AppDelegate and NSApplicationWillTerminateNotification not being sent", "body": "<p>NSSupportsSuddenTermination is also called 'Application can be killed immediately when user is shutting down or logging out' within Xcode, and seems enabled by default.</p>\n\n<p>Thanks @toastie</p>\n"}], "owner": {"reputation": 1804, "user_id": 109631, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0731ba7b48456c2a54f528c596eadbe7?s=128&d=identicon&r=PG", "display_name": "toastie", "link": "https://stackoverflow.com/users/109631/toastie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 1, "accepted_answer_id": 58492091, "answer_count": 2, "score": 3, "last_activity_date": 1573760121, "creation_date": 1571680771, "last_edit_date": 1571733220, "question_id": 58491810, "link": "https://stackoverflow.com/questions/58491810/applicationshouldterminate-not-called-in-appdelegate-and-nsapplicationwilltermin", "title": "applicationShouldTerminate not called in AppDelegate and NSApplicationWillTerminateNotification not being sent", "body": "<p>I'm on XCode 11.1 on latest Catalina and none of my app's quit events are being called. applicationShouldTerminate in the AppDelegate nor do I get NSApplicationWillTerminateNotification if I observe it from anywhere. This is from the default quit behavior (Using the menu quit command, Command-Q, or closing the window with applicationShouldTerminateAfterLastWindowClosed returning YES) from the XCode app template using the default storyboard.</p>\n\n<p>This happens with a brand new Xcode project template (If I start a new macOS \"App\" template, then add the applicationShouldTerminate method to the app delegate).</p>\n\n<p>Other delegate methods like applicationShouldTerminateAfterLastWindowClosed are being called.</p>\n\n<p>Am I doing something horribly wrong or is something messed up with Catalina?</p>\n"}, {"tags": ["ios", "objective-c", "reactjs", "xcode", "react-native"], "comments": [{"owner": {"reputation": 10145, "user_id": 448292, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c3bffd0a440886f04f6864eaa43f54aa?s=128&d=identicon&r=PG", "display_name": "Tiago Gouv&#234;a", "link": "https://stackoverflow.com/users/448292/tiago-gouv%c3%aaa"}, "edited": false, "score": 3, "creation_date": 1571685452, "post_id": 58491649, "comment_id": 103315586, "body": "Having exactly the same here."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 1937008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a46378a4d32fa68bd8d4c1c83198d0?s=128&d=identicon&r=PG", "display_name": "Kirill Kunst", "link": "https://stackoverflow.com/users/1937008/kirill-kunst"}, "is_accepted": false, "score": 0, "last_activity_date": 1571681408, "creation_date": 1571681408, "answer_id": 58491955, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories/58491955#58491955", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>I don't know if you tried to update your pods or not but you could try to do following inside your <code>ios/</code> folder:</p>\n\n<p><code>pod repo update &amp;&amp; pod install</code></p>\n\n<p>It might help.</p>\n"}, {"comments": [{"owner": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1574412574, "post_id": 58497815, "comment_id": 104232089, "body": "I have changed as per above but it shows error as Fetching podspec for <code>BVLinearGradient</code> from <code>..&#47;node_modules&#47;react-native&#47;react-native-linear-gradient</code> [!] No podspec found for <code>BVLinearGradient</code> in <code>..&#47;node_modules&#47;react-native&#47;react-native-linear-gradient</code>"}, {"owner": {"reputation": 2475, "user_id": 5705408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35925dad32f715c478bd3f4ae26e8547?s=128&d=identicon&r=PG&f=1", "display_name": "Lenoarod", "link": "https://stackoverflow.com/users/5705408/lenoarod"}, "reply_to_user": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1574413934, "post_id": 58497815, "comment_id": 104232783, "body": "@sejn, it is the same, react-native-linear-gradient don not exist in Podfile. according to the API(<a href=\"https://www.npmjs.com/package/react-native-linear-gradient\" rel=\"nofollow noreferrer\">npmjs.com/package/react-native-linear-gradient</a>); add this <code>pod &#39;BVLinearGradient&#39;, :path =&gt; &#39;..&#47;node_modules&#47;react-native-linear-gradient&#39;</code>"}, {"owner": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1574414782, "post_id": 58497815, "comment_id": 104233222, "body": "[!] Unable to find a specification for <code>React-Core</code> depended upon by <code>rn-fetch-blob</code>  [!] Automatically assigning platform <code>ios</code> with version <code>8.0</code> on target <code>App</code> because no platform was specified. Please specify a platform for this target in your Podfile. See <code>https:&#47;&#47;guides.cocoapods.org&#47;syntax&#47;podfile.html#platform</code>."}, {"owner": {"reputation": 2475, "user_id": 5705408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35925dad32f715c478bd3f4ae26e8547?s=128&d=identicon&r=PG&f=1", "display_name": "Lenoarod", "link": "https://stackoverflow.com/users/5705408/lenoarod"}, "reply_to_user": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1574418274, "post_id": 58497815, "comment_id": 104235193, "body": "@sejn modify rn-fetch-blob.podspec: <code>s.dependency &#39;React-Core&#39;</code> .you can also run this <code>grep -rl &quot;s.dependency &#39;React&#47;Core&#39;&quot; node_modules&#47; | xargs sed -i &#39;&#39; &#39;s=React&#47;Core=React-Core=g&#39;</code> in termail"}, {"owner": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1574419825, "post_id": 58497815, "comment_id": 104236012, "body": "Shall I need to change in podfile as s.dependency &#39;React-Core&#39;"}, {"owner": {"reputation": 2475, "user_id": 5705408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35925dad32f715c478bd3f4ae26e8547?s=128&d=identicon&r=PG&f=1", "display_name": "Lenoarod", "link": "https://stackoverflow.com/users/5705408/lenoarod"}, "reply_to_user": {"reputation": 847, "user_id": 8936551, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ce6903d5a5f266ac871f92db733764a5?s=128&d=identicon&r=PG&f=1", "display_name": "sejn", "link": "https://stackoverflow.com/users/8936551/sejn"}, "edited": false, "score": 0, "creation_date": 1574421543, "post_id": 58497815, "comment_id": 104236850, "body": "@sejn, you should not change podfile."}], "tags": [], "owner": {"reputation": 2475, "user_id": 5705408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35925dad32f715c478bd3f4ae26e8547?s=128&d=identicon&r=PG&f=1", "display_name": "Lenoarod", "link": "https://stackoverflow.com/users/5705408/lenoarod"}, "is_accepted": true, "score": 0, "last_activity_date": 1571798205, "last_edit_date": 1571798205, "creation_date": 1571723502, "answer_id": 58497815, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories/58497815#58497815", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>last week, I also met the problem, it caused by the react path had changed.</p>\n\n<p>open your ios folder Podfile, edit the react path. it had moved into react-native</p>\n\n<pre><code> pod 'React', :path =&gt; '../node_modules/react-native/'\n pod 'React-Core', :path =&gt; '../node_modules/react-native/'\n</code></pre>\n\n<p>then cd ios folder and run pod install in the terminal</p>\n\n<p>expect above, if you had met other upgrade problems, you can go to <a href=\"https://react-native-community.github.io/upgrade-helper/\" rel=\"nofollow noreferrer\">this site</a> compare the related files</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10667500, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tUpeJwy8tM8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iRs96re1dtnIE7PZ6AQ2GuAOg74g/mo/photo.jpg?sz=128", "display_name": "Theodore Sevvos", "link": "https://stackoverflow.com/users/10667500/theodore-sevvos"}, "is_accepted": false, "score": 1, "last_activity_date": 1572466656, "creation_date": 1572466656, "answer_id": 58633040, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories/58633040#58633040", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>Try to delete both <code>Pod folder</code> and <code>Podfile.lock</code>, under <code>ios</code> directory. Then run <code>pod install</code> again.</p>\n\n<p>That worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 613, "user_id": 1225030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea949575459a900294d6dbd93fd6d9a7?s=128&d=identicon&r=PG", "display_name": "MattBooth", "link": "https://stackoverflow.com/users/1225030/mattbooth"}, "is_accepted": false, "score": 0, "last_activity_date": 1572953954, "creation_date": 1572953954, "answer_id": 58710590, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories/58710590#58710590", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>I know this isn't an optimal solution, however I spent over a week on this going down the rabbit hole to no avail. In the end I generated a new RN project, copied over my app folder and reinstalled about 20 packages which I use, and then copied my old App.js, index.js, AndroidManifest, Appdelegate.m, Info.plist, build.gradle x 2, icons and XIB, and some misc installation instructions for modules, i.e. FBSDK and Firebase. It now all works fine. It seems that something in the manual process of updating all those files to get from &lt;0.60 to >0.60 causes an issue for some. Note that this recreation took about 8 hours.</p>\n"}, {"comments": [{"owner": {"reputation": 1344, "user_id": 3142611, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zHwAJ.jpg?s=128&g=1", "display_name": "Bahu", "link": "https://stackoverflow.com/users/3142611/bahu"}, "edited": false, "score": 0, "creation_date": 1590852025, "post_id": 58746213, "comment_id": 109840349, "body": "Thanks, worked for me. Changed Cap R to small r in destination js file"}], "tags": [], "owner": {"reputation": 49, "user_id": 8836933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3682cfc3f66a2b117e3dd8e5836f2811?s=128&d=identicon&r=PG&f=1", "display_name": "Nimeet Shah", "link": "https://stackoverflow.com/users/8836933/nimeet-shah"}, "is_accepted": false, "score": 2, "last_activity_date": 1573120810, "creation_date": 1573120810, "answer_id": 58746213, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories/58746213#58746213", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>I was facing the same error when upgrading from v0.60.3 to v0.61.4. </p>\n\n<p>I needed to change </p>\n\n<pre><code>import React, { Component } from 'React';\n</code></pre>\n\n<p>to </p>\n\n<pre><code>import React, { Component } from 'react';\n</code></pre>\n\n<p>Notice the lowercase 'r'.</p>\n"}, {"tags": [], "owner": {"reputation": 1251, "user_id": 2576218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102b076b679b35a1063bd92955200bb0?s=128&d=identicon&r=PG", "display_name": "fhdhsni", "link": "https://stackoverflow.com/users/2576218/fhdhsni"}, "is_accepted": false, "score": 6, "last_activity_date": 1577632808, "creation_date": 1577632808, "answer_id": 59520656, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories/59520656#59520656", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>I fixed it by replacing </p>\n\n<pre><code>import Foobar from \"screens/foobar\";\n</code></pre>\n\n<p>with</p>\n\n<pre><code>import Foobar from \"./screens/foobar\";\n</code></pre>\n\n<p>note the beginning <code>./</code> in the path</p>\n"}], "owner": {"reputation": 543, "user_id": 2734492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a86a66c56f541b8d945ad8914c55604?s=128&d=identicon&r=PG", "display_name": "SimonEritsch", "link": "https://stackoverflow.com/users/2734492/simoneritsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6652, "favorite_count": 3, "accepted_answer_id": 58497815, "answer_count": 6, "score": 8, "last_activity_date": 1577632808, "creation_date": 1571680087, "question_id": 58491649, "link": "https://stackoverflow.com/questions/58491649/react-native-react-could-not-be-found-within-project-or-in-these-directories", "title": "React-Native: React could not be found within project or in these directories", "body": "<p>We have upgraded our react native project to the latest react native version (v0.61.2) with react (16.9.0) and it works perfectly fine on android.\nWhen we try to run it on ios thought, we get the message:</p>\n\n<pre><code>warning: the transform cache was reset. Loading dependency graph, done. error: bundling failed: Error: Unable to resolve module `React` from `ios/Pods/React/Libraries/react-native/react-native.js`: React could not be found within the project or in these directories:   node_modules\n\nIf you are sure the module exists, try these steps:\n 1. Clear watchman watches: watchman watch-del-all\n 2. Delete node_modules: rm -rf node_modules and run yarn install\n 3. Reset Metro's cache: yarn start --reset-cache\n 4. Remove the cache: rm -rf /tmp/metro-*\n</code></pre>\n\n<p>We have followed the upgrade guide, updated all dependencies to their latest version and updated the pods.\nI actually don't know where or how to start debugging this, since this seems to be coming from the Pods folder.</p>\n\n<p>This is the content of our Pods folder:</p>\n\n<pre><code>ls ios/Pods/\nAdjust              GoogleDataTransport\nCrashlytics         GoogleDataTransportCCTSupport\nDoubleConversion        GoogleUtilities\nFabric              Headers\nFirebase            Local Podspecs\nFirebaseABTesting       Manifest.lock\nFirebaseAnalytics       Pods.xcodeproj\nFirebaseAnalyticsInterop    Protobuf\nFirebaseCore            Pushwoosh\nFirebaseCoreDiagnostics     PushwooshInboxUI\nFirebaseCoreDiagnosticsInterop  React\nFirebaseDynamicLinks        Target Support Files\nFirebaseInstanceID      boost-for-react-native\nFirebaseRemoteConfig        glog\nFolly               nanopb\nGoogleAppMeasurement\n</code></pre>\n\n<p>and in our node_modules folder, we have (with a lot more other packages):</p>\n\n<pre><code>...\nreact\ndepd                        react-deep-force-update\ndes.js                      react-devtools-core\ndestroy                     react-is\ndetect-libc                 react-lifecycles-compat\ndetect-newline              react-native\n...\n</code></pre>\n\n<p>I have, of course, tried all the steps, like clearing caches, reset-cache, clearing DerivedData, Clean and build, ...\nI don't know where to start looking.</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch", "push-notification"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "edited": false, "score": 0, "creation_date": 1571685901, "post_id": 58492354, "comment_id": 103315758, "body": "I did not took that aproach in consideration, I really appreciate it."}], "tags": [], "owner": {"reputation": 141, "user_id": 1937008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a46378a4d32fa68bd8d4c1c83198d0?s=128&d=identicon&r=PG", "display_name": "Kirill Kunst", "link": "https://stackoverflow.com/users/1937008/kirill-kunst"}, "is_accepted": true, "score": 1, "last_activity_date": 1571683285, "creation_date": 1571683285, "answer_id": 58492354, "question_id": 58490251, "link": "https://stackoverflow.com/questions/58490251/adding-a-category-to-appdelegate-to-implement-a-method-from-uiaplicationdelegate/58492354#58492354", "title": "Adding a category to AppDelegate to implement a method from UIAplicationDelegate protocol", "body": "<p>I would say it's not needed. What you can do here is create some function in your with the same params as in <code>application:didReceiveRemoteNotification:fetchCompletionHandler:</code> and make it available for the possible developer to call from your Framework.</p>\n\n<p>Many frameworks are working that way like FacebookSDK.\nFor example, my code in AppDelegate for opening/handling URL:</p>\n\n<pre><code>func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -&gt; Bool {\n    let fbHandled: Bool = ApplicationDelegate.shared.application(app,\n                                                               open: url,\n                                                               sourceApplication: options[.sourceApplication] as? String,\n                                                               annotation: options[.annotation])\n    return fbHandled\n}\n</code></pre>\n\n<p>You could see that Facebook just provide me some public methods to handle links inside their SDK. It's a better solution than make implicit handling for something that the developer might be needed aware of and be available to change in his code.</p>\n"}], "owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 58492354, "answer_count": 1, "score": 0, "last_activity_date": 1571683285, "creation_date": 1571674439, "question_id": 58490251, "link": "https://stackoverflow.com/questions/58490251/adding-a-category-to-appdelegate-to-implement-a-method-from-uiaplicationdelegate", "title": "Adding a category to AppDelegate to implement a method from UIAplicationDelegate protocol", "body": "<p>I am developing a Cocoa Touch Framework, I want to receive remote notifications from APNS and I found that (after all the process it needs to establish communication with APNS) I have to catch notifications inside <code>application:didReceiveRemoteNotification:fetchCompletionHandler:</code> method. However, I want to let the less work possible to the IOS developer, so I been wondering.</p>\n\n<ul>\n<li>Is it possible to create a category of the AppDelegate inside my framework (Since it\nalready has an extension when a new app is created) in order to\nimplement this method ?.</li>\n</ul>\n"}, {"tags": ["objective-c", "macos", "macos-carbon", "macos-catalina"], "comments": [{"owner": {"reputation": 160, "user_id": 629559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4e87d2cee6e7eefda616c9bae3a64?s=128&d=identicon&r=PG", "display_name": "dparakh", "link": "https://stackoverflow.com/users/629559/dparakh"}, "edited": false, "score": 0, "creation_date": 1578957616, "post_id": 58488965, "comment_id": 105601394, "body": "Seems like Apple ditched the virtual keyboard completely, instead they now only have the Accessibility Keyboard. Not sure how this can be brought up programatically."}], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 629559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58f4e87d2cee6e7eefda616c9bae3a64?s=128&d=identicon&r=PG", "display_name": "dparakh", "link": "https://stackoverflow.com/users/629559/dparakh"}, "is_accepted": false, "score": 0, "last_activity_date": 1579061549, "creation_date": 1579061549, "answer_id": 59745030, "question_id": 58488965, "link": "https://stackoverflow.com/questions/58488965/macos-catalina-onscreen-virtual-keyboard-not-working/59745030#59745030", "title": "macOS Catalina - Onscreen (virtual) Keyboard not working", "body": "<p>With Catalina, Apple is now using the Accessibility Keyboard as the virtual keyboard (Keyboard Viewer). And the only way that I could figure out to show this programmatically seems to be with an Apple Script.</p>\n\n<p>Something like this should work(can be invoked with NSAppleScript or by executing osascript from C/C++ code):</p>\n\n<pre><code>activate application \"System Preferences\"\ntell application \"System Preferences\"\n    reveal anchor \"Virtual_Keyboard\" in pane id \"com.apple.preference.universalaccess\"\nend tell\n\ntell application \"System Events\"\n    tell process \"System Preferences\"\n        repeat 20 times\n            if (exists checkbox \"Enable Accessibility Keyboard\" of tab group 1 of group 1 of window 1) then\n                click checkbox \"Enable Accessibility Keyboard\" of tab group 1 of group 1 of window 1\n                exit repeat\n            end if\n            delay 1\n        end repeat\n    end tell\nend tell\ntell application \"System Preferences\" to quit\n</code></pre>\n\n<p>Note that to use this the user will need to authorize your app to use Automation and Accessibility. Further, your app should also declare a purpose string (NSAppleEventsUsageDescription) in the Info.plist</p>\n"}], "owner": {"reputation": 302, "user_id": 1034817, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/be9bec1a36f3ba6a2e4871a020782cc3?s=128&d=identicon&r=PG", "display_name": "M P", "link": "https://stackoverflow.com/users/1034817/m-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1579061549, "creation_date": 1571669791, "question_id": 58488965, "link": "https://stackoverflow.com/questions/58488965/macos-catalina-onscreen-virtual-keyboard-not-working", "title": "macOS Catalina - Onscreen (virtual) Keyboard not working", "body": "<p>I have been using below code to show the virtual onscreen keyboard and so far working good till 10.14 but it's no longer working on Catalina (10.15). On Catalina it is no longer able to create Input sources and it is always empty - </p>\n\n<pre><code>+ (void) showHideVirtualKeyboard:(BOOL) shouldShow {\n\n\n    NSDictionary *property = [NSDictionary dictionaryWithObject:(NSString*)kTISTypeKeyboardViewer\n                                                         forKey:(NSString*)kTISPropertyInputSourceType];\n    NSLog(@\"showHideVirtualKeyboard my dictionary is - %@\",property);\n    NSArray *sources = (__bridge NSArray*)TISCreateInputSourceList((__bridge CFDictionaryRef)property, false);\n    if([sources count] == 0) {\n        DBLogError(@\"ToggleKeyboard: no input keyboard source type found...\");\n        DBLogError(@\"ToggleKeyboard: Trying to create keyboard soruce type\");\n        sources = (__bridge NSArray*)TISCreateInputSourceList((__bridge CFDictionaryRef)property, true);\n        if ([sources count]==0) {\n            DBLogError(@\"ToggleKeyboard: Still can't find any input sources so nothing to...\");\n            if(sources)\n                CFRelease((CFTypeRef)sources);\n            return;\n        }\n    }\n\n    TISInputSourceRef keyboardViewer = (__bridge TISInputSourceRef)[sources objectAtIndex:0];\n    //DBLogInfo(@\"********** received sources are %@\",keyboardViewer);\n    int osStatus;\n    //let's show hide keyboard\n    if (shouldShow == YES){\n        CFBooleanRef enabled = TISGetInputSourceProperty(keyboardViewer, kTISPropertyInputSourceIsEnabled);\n        if (enabled == kCFBooleanFalse)\n            TISEnableInputSource(keyboardViewer);\n        // DBLogInfo(@\"kTISPropertyInputSourceIsEnabled = %@\",(enabled == kCFBooleanFalse)?@\"false\":@\"true\");\n        osStatus = TISSelectInputSource(keyboardViewer);\n    }\n    else\n        osStatus = TISDeselectInputSource(keyboardViewer);\n\n    if(osStatus !=noErr)\n        DBLogInfo(@\"ToggleKeyboard: Received errored OSStatus and it is (%d) \",osStatus);\n    if(sources)\n        CFRelease((CFTypeRef)sources);\n}\n\n</code></pre>\n\n<p>Please advise if anybody has faced similar issue and any solution / workaround is available.</p>\n\n<p>Thanks. </p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uicollectionview", "touch"], "comments": [{"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1571670729, "post_id": 58488857, "comment_id": 103308757, "body": "Did you set delegate and datasource of tableViews to each cell?"}, {"owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "reply_to_user": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1571671643, "post_id": 58488857, "comment_id": 103309262, "body": "I&#39;m unsure. I updated the question with some more information of what I set the delegate and dataSource to."}, {"owner": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1571671789, "post_id": 58488857, "comment_id": 103309340, "body": "you should set delegate and datasource of each tableView to its collectionViewCell in <code>cellForRowAt</code> method of <code>collectionView</code>"}, {"owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "reply_to_user": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1571673121, "post_id": 58488857, "comment_id": 103310052, "body": "I&#39;ve added a second update to my question based on your advice :)"}, {"owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "reply_to_user": {"reputation": 1575, "user_id": 7629882, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/jonoS.jpg?s=128&g=1", "display_name": "Arash Etemad", "link": "https://stackoverflow.com/users/7629882/arash-etemad"}, "edited": false, "score": 0, "creation_date": 1571673653, "post_id": 58488857, "comment_id": 103310323, "body": "I added a third update! The tableView now correctly populates, but tableView:didSelectRowAtIndexPath: is still not yet called."}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1571724808, "post_id": 58488857, "comment_id": 103325077, "body": "os this on ios 13?"}, {"owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "edited": false, "score": 0, "creation_date": 1571745139, "post_id": 58488857, "comment_id": 103335718, "body": "It is, yeah. I&#39;m running the app on an iPhone 8 Simulator which is running iOS 13.1"}, {"owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "edited": false, "score": 0, "creation_date": 1571745262, "post_id": 58488857, "comment_id": 103335793, "body": "This seems to be a classic case of subviews not being able to have their touches detected in iOS. It seems like this occurs for many people, and the only solutions are usually hack overrides of functions."}, {"owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1571873112, "post_id": 58488857, "comment_id": 103387979, "body": "i nest 3-4 collection views inside another collection view all the time and never had an experience like this. is there a reason why you&#39;re nesting a UITableView and not just nesting another UICollectionView? UITableViews are absolute trash. I&#39;d change it to a UICollectionView that is nested inside the other UICollectionVeiw first and then reassss."}, {"owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "edited": false, "score": 0, "creation_date": 1571916624, "post_id": 58488857, "comment_id": 103402633, "body": "I ended up just programatically coding my table-collectionview by having UIViews within UIViews to act as columns and rows, and calculating their positions using for-loops iterating through my array of array of data. I&#39;m leaving this question open for other people to offer potential solutions for people to try should they also come up with this challenge. Yours does sound elegant, I would have tried it if I had heard of it sooner!"}], "owner": {"reputation": 275, "user_id": 3825060, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/081ecd19ff7fa19a5416e52ff3407b2e?s=128&d=identicon&r=PG&f=1", "display_name": "djinne95", "link": "https://stackoverflow.com/users/3825060/djinne95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571674827, "creation_date": 1571669441, "last_edit_date": 1571674827, "question_id": 58488857, "link": "https://stackoverflow.com/questions/58488857/detect-touch-on-cell-of-uitableview-contained-in-uicollectionview", "title": "Detect touch on Cell of UITableView contained in UICollectionView", "body": "<p>I am creating a Chinese learning app, with a section for correctly pronouncing certain sounds. To organise these sounds into a table, I have created a <code>UICollectionView</code>, where each <code>UICollectionViewCell</code> contains a <code>UITableView</code>.</p>\n\n<p>Each <code>UICollectionViewCell</code> acts as a column, and contains a <code>UITableView</code>.</p>\n\n<p>Each <code>UITableViewCell</code> acts as a row in each column.</p>\n\n<p>This results in the following appearance.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GwRnz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GwRnz.png\" alt=\"UICollectionView containing UITableViews\"></a></p>\n\n<p>However, although I can easily detect taps on each <code>UICollectionViewCell</code> using <code>collectionView:didSelectItemAtIndexPath:</code> , I am unable to detect any touches at all on the <code>UITableViewCell</code>s within.</p>\n\n<p>Whether I convert the view in the Cell to be a button, or whether I as a <code>UITapGestureRecognizer</code>, or whether I use the function <code>tableView:didSelectItemAtIndexPath</code>, no touches at all are detected in the <code>UITableView</code>.</p>\n\n<p>How can I allow my code to correctly detect these touches on the <code>UITableViewCell</code>s within the <code>UICollectionView</code>?</p>\n\n<p>Thanks!</p>\n\n<p><strong>Update 1:</strong></p>\n\n<p>Here is the @interfact of the Column .h file (UICollectionViewCell)</p>\n\n<pre><code>@interface PronounciationColumn : UICollectionViewCell &lt;UITableViewDelegate, UITableViewDataSource&gt;\n</code></pre>\n\n<p>In the .m of the UICollectionViewCell, the delegate and dataSource of the tableView is set to self.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>Another user had a really neat idea of setting the delegate of the tableView to it's own collectionViewCell using the following code:</p>\n\n<pre><code>- (PronounciationColumn *)collectionView:(nonnull UICollectionView *)collectionView cellForItemAtIndexPath:(nonnull NSIndexPath *)indexPath {\n\n    PronounciationColumn *column;\n    NSString *columnIdentifier = [self getIdentifier:collectionView];\n    if (column == nil) {\n        column = (PronounciationColumn *)[collectionView dequeueReusableCellWithReuseIdentifier:columnIdentifier forIndexPath:indexPath];\n        column.arrayOfFinals = [[self getArrayOfPinyins:collectionView] objectAtIndex:indexPath.item];\n    }\n    column.tableOfFinals.delegate = column;\n    column.tableOfFinals.dataSource = column;\n    return column;\n}\n</code></pre>\n\n<p>The tableView continues to be populated correctly, however, the touches are still not detected on the cells, as <code>tableView:didSelectRowAtIndexPath:</code> is still not called.</p>\n"}, {"tags": ["ios", "objective-c", "nslayoutconstraint"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571667136, "post_id": 58488050, "comment_id": 103306754, "body": "Just set <code>.hidden = YES;</code>?"}, {"owner": {"reputation": 178, "user_id": 5393286, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lRZlf.jpg?s=128&g=1", "display_name": "Burak Akyal&#231;\u0131n", "link": "https://stackoverflow.com/users/5393286/burak-akyal%c3%a7%c4%b1n"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571667232, "post_id": 58488050, "comment_id": 103306815, "body": "@Cy-4AH But I want to move the tableView up"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571667464, "post_id": 58488050, "comment_id": 103306946, "body": "<code>multiplier</code> is read only property. How you managed to change it?"}, {"owner": {"reputation": 178, "user_id": 5393286, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lRZlf.jpg?s=128&g=1", "display_name": "Burak Akyal&#231;\u0131n", "link": "https://stackoverflow.com/users/5393286/burak-akyal%c3%a7%c4%b1n"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571667701, "post_id": 58488050, "comment_id": 103307063, "body": "created a new constraint with current values and changed the multiplier only."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571667816, "post_id": 58488050, "comment_id": 103307142, "body": "You should remove previous constraint with old multiplier."}, {"owner": {"reputation": 178, "user_id": 5393286, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lRZlf.jpg?s=128&g=1", "display_name": "Burak Akyal&#231;\u0131n", "link": "https://stackoverflow.com/users/5393286/burak-akyal%c3%a7%c4%b1n"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571667993, "post_id": 58488050, "comment_id": 103307251, "body": "yeah I remove it and then add another"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571668174, "post_id": 58488050, "comment_id": 103307348, "body": "Then we need your code to understand what is wrong."}, {"owner": {"reputation": 358, "user_id": 4028323, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-yi3Izoxi-Yo/AAAAAAAAAAI/AAAAAAAAAGU/afv5aAjeYnE/photo.jpg?sz=128", "display_name": "Rodrigo Morbach", "link": "https://stackoverflow.com/users/4028323/rodrigo-morbach"}, "edited": false, "score": 1, "creation_date": 1571673852, "post_id": 58488050, "comment_id": 103310444, "body": "An alternative is to embed your <code>view</code> in a <code>UIStackView</code>. When you hide the content inside a <code>UIStackView</code>, it automatically shrinks, moving your table view up."}], "answers": [{"tags": [], "owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "is_accepted": false, "score": 0, "last_activity_date": 1571873331, "creation_date": 1571873331, "answer_id": 58532197, "question_id": 58488050, "link": "https://stackoverflow.com/questions/58488050/objc-how-to-show-hide-view-that-has-proportional-height-constraint/58532197#58532197", "title": "ObjC - How to show/hide view that has proportional height constraint?", "body": "<p>first off, you shouldn't code a view like that above the UITableView that will be shrunk and then force the UITableView to resize. Doing it this way is prone to brokenness. The easist way to achieve this is make the view at the top a header of the UITableView. And when the button is pressed, you \"realoaddata\" on the UITableView which will then call the header view height delegate method where you then change the height based on a boolean value or something. Don't do what you're doing. also, use a collection view instead. good luck</p>\n"}], "owner": {"reputation": 178, "user_id": 5393286, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lRZlf.jpg?s=128&g=1", "display_name": "Burak Akyal&#231;\u0131n", "link": "https://stackoverflow.com/users/5393286/burak-akyal%c3%a7%c4%b1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571873331, "creation_date": 1571666905, "question_id": 58488050, "link": "https://stackoverflow.com/questions/58488050/objc-how-to-show-hide-view-that-has-proportional-height-constraint", "title": "ObjC - How to show/hide view that has proportional height constraint?", "body": "<p>I have a view that has a proportional height constraint of its superview and the multiplier is 0.09. And there is a UITableView below that view. </p>\n\n<p>When I press a button I want to hide the top view completely and when I tap that button again I want to display it again.</p>\n\n<p>Since it has a proportional height constraint and has a multiplier, I cannot directly change its constant. I need to create a new constraint and assign that constraint to that view. I have tried changing multiplier and assigning it, it worked and hidden the view but when I wanted to display it again and set the multiplier to 0.09 it didn't work.</p>\n\n<p>Do you have any solutions? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "char", "nsstring"], "comments": [{"owner": {"reputation": 5939, "user_id": 7074490, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/56kzw.jpg?s=128&g=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7074490/roy"}, "edited": false, "score": 0, "creation_date": 1571661822, "post_id": 58486328, "comment_id": 103303820, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3581532/convert-nsstring-into-char-array\">Convert NSString into char array</a>"}, {"owner": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "reply_to_user": {"reputation": 5939, "user_id": 7074490, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/56kzw.jpg?s=128&g=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7074490/roy"}, "edited": false, "score": 0, "creation_date": 1571662455, "post_id": 58486328, "comment_id": 103304141, "body": "i don&#39;t think so roy , i&#39;m doing same conversion any way i updated my question, Thank you"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571663060, "post_id": 58486328, "comment_id": 103304470, "body": "<code>UTF8String</code> returns <code>const char *</code>. What is it <code>UniCharT</code>?"}, {"owner": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "edited": false, "score": 0, "creation_date": 1571663236, "post_id": 58486328, "comment_id": 103304577, "body": "that  is typedef <code>uint16_t </code>"}, {"owner": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "edited": false, "score": 0, "creation_date": 1571663596, "post_id": 58486328, "comment_id": 103304829, "body": "and one morething is i have to pass <code>const UniCharT* insertString;</code> this is declared in library so i have to pass to <code>insertString</code>"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571664161, "post_id": 58486328, "comment_id": 103305168, "body": "<code>uint16_t s_learnWord[] = {&#39;H&#39;, &#39;e&#39;,&#39;l&#39;,&#39;\\0&#39;};</code> also shouldn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571663588, "post_id": 58487062, "comment_id": 103304823, "body": "Or <code>cStringUsingEncoding:</code>"}, {"owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1571663683, "post_id": 58487062, "comment_id": 103304883, "body": "@Cy-4AH <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1408489-cstringusingencoding?language=objc\" rel=\"nofollow noreferrer\">The documentation for <code>cStringUsingEncoding:</code></a> states &quot;<b>Special Considerations</b> UTF-16 and UTF-32 are not considered to be C string encodings, and should not be used with this method\u2014the results of passing NSUTF16StringEncoding, NSUTF32StringEncoding, or any of their variants are undefined.&quot; So no, don&#39;t use  <code>cStringUsingEncoding:</code> here."}, {"owner": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "edited": false, "score": 0, "creation_date": 1571663775, "post_id": 58487062, "comment_id": 103304941, "body": "i mean okay <code>static const UniCharT s_learnWord[] = {&#39;H&#39;, &#39;e&#39;,&#39;l&#39;,&#39;\\0&#39;};</code> if i pass this it is working fine, can you please suggest me how to convert like <code>s_learnWord</code> from <code>NSString</code>"}, {"owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "reply_to_user": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "edited": false, "score": 0, "creation_date": 1571664167, "post_id": 58487062, "comment_id": 103305175, "body": "@PraveenKumar I&#39;ve given an example that should help you get started."}, {"owner": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "edited": false, "score": 0, "creation_date": 1571726269, "post_id": 58487062, "comment_id": 103325713, "body": "@pmdj Thanks man you are right i need to convert <code>UTF16String</code>, working fine now"}], "tags": [], "owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "is_accepted": true, "score": 1, "last_activity_date": 1571664127, "last_edit_date": 1571664127, "creation_date": 1571663535, "answer_id": 58487062, "question_id": 58486328, "link": "https://stackoverflow.com/questions/58486328/how-do-i-convert-nsstring-to-an-encoding-other-than-utf-8/58487062#58487062", "title": "How do I convert NSString to an encoding other than UTF-8?", "body": "<p>Your question is a little ambiguous as the title says \"c type char[]\" but your code uses <code>typedef uint16_t UniCharT;</code> which is contradictory.</p>\n\n<p>For any string conversions other than UTF-8, you normally want to use the method <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1415702-getcstring?language=objc\" rel=\"nofollow noreferrer\"><code>getCString:maxLength:encoding:</code></a>.</p>\n\n<p>As you are using <code>uint16_t</code>, you probably are trying to use UTF-16? You'll want to pass <a href=\"https://developer.apple.com/documentation/foundation/1497293-anonymous/nsutf16stringencoding?language=objc\" rel=\"nofollow noreferrer\"><code>NSUTF16StringEncoding</code></a> as the encoding constant in that case. (Or possibly <code>NSUTF16BigEndianStringEncoding</code>/<code>NSUTF16LittleEndianStringEncoding</code>)</p>\n\n<p>Something like this should work:</p>\n\n<pre><code>include &lt;stdlib.h&gt;\n\n// ...\n\nNSString * string = @\"part\";\nNSUInteger stringBytes = [string maximumLengthOfBytesUsingEncoding];\nstringBytes += sizeof(UniCharT); // make space for \\0 termination\nUniCharT* convertedString = calloc(1, stringBytes);\n[string getCString:(char*)convertedString\n         maxLength:stringBytes\n          encoding:NSUTF16StringEncoding];\n\n// now use convertedString, pass it to library etc.\n\nfree(convertedString);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10663283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BBuvOmBoc2g/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iY3k7cRPTViSXykU8c9Xtudf6DxA/mo/photo.jpg?sz=128", "display_name": "Praveen Kumar", "link": "https://stackoverflow.com/users/10663283/praveen-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 58487062, "answer_count": 1, "score": 0, "last_activity_date": 1571664127, "creation_date": 1571660944, "last_edit_date": 1571663977, "question_id": 58486328, "link": "https://stackoverflow.com/questions/58486328/how-do-i-convert-nsstring-to-an-encoding-other-than-utf-8", "title": "How do I convert NSString to an encoding other than UTF-8?", "body": "<p>I'm working with <code>c</code> in iOS Project I'm trying to convert my string to respected type in c , below code is supposed to send to core Library </p>\n\n<pre><code>typedef uint16_t    UniCharT;\nstatic const UniCharT s_learnWord[] = {'H', 'e','l','\\0'};\n</code></pre>\n\n<p>what i have done till now is <code>string</code> is the one what I'm passing </p>\n\n<pre><code>NSString * string = @\"Hel\";\nstatic const UniCharT *a = (UniCharT *)[string UTF8String];\n</code></pre>\n\n<p>But it is failing to convert when more than one character , If i pass one character then working fine please let me where i miss, How can i pass like <code>s_learnWord ?</code></p>\n\n<p>and i tried in <code>google</code> and <code>StackOverFLow</code> none of the duplicates or answers didn't worked for me like this\n<a href=\"https://stackoverflow.com/questions/3581532/convert-nsstring-into-char-array\">Convert NSString into char array</a> I'm already doing same way only.</p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview", "uiwebview"], "comments": [{"owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1571684260, "post_id": 58484818, "comment_id": 103315085, "body": "this is rough. you&#39;re playing with fire trying to do this. depending on how complex this functionality needs to be, you&#39;re going to have to observe values of both scroll views at once in a master observer and tinker with the values of each while passing delegates back and forth to super classes and sub classes. i won&#39;t even go further than this because the task is too complex for SO Q/A format. i&#39;d rethink the design requirement."}, {"owner": {"reputation": 1, "user_id": 11962736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ca332d8cb22122ebe2fc2fbacb12c5d?s=128&d=identicon&r=PG&f=1", "display_name": "MSBS", "link": "https://stackoverflow.com/users/11962736/msbs"}, "reply_to_user": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "edited": false, "score": 0, "creation_date": 1572009920, "post_id": 58484818, "comment_id": 103437833, "body": "hello @Loxx can you explain more ?"}], "owner": {"reputation": 1, "user_id": 11962736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ca332d8cb22122ebe2fc2fbacb12c5d?s=128&d=identicon&r=PG&f=1", "display_name": "MSBS", "link": "https://stackoverflow.com/users/11962736/msbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571739611, "creation_date": 1571655275, "last_edit_date": 1571739611, "question_id": 58484818, "link": "https://stackoverflow.com/questions/58484818/uiwebview-inside-uitableview-and-scrolls-contrary-to-the-uitableviews-scroll", "title": "UIWebview inside uitableview and scrolls contrary to the uitableview&#39;s scroll", "body": "<p>I have UIWebview inside a UITableview. \nI want when my tableView scrolls to bottom of the screen and when we reach the cell of UIWebview, my webview scrolls content to top in order to show its content to the user.\nso the webview should scroll its content automatically when mytableview scrolls .</p>\n\n<p><strong>UPDATE : Explanation</strong></p>\n\n<p>In fact, this is my problem : \nI want that my webview (which is inside a cell indexpath = 2) scrolls to top so we will have its y negative value  in order to show its content while the tableview scrolls to bottom </p>\n"}, {"tags": ["ios", "objective-c", "swift", "unit-testing"], "answers": [{"tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": false, "score": 0, "last_activity_date": 1571653360, "creation_date": 1571653360, "answer_id": 58484274, "question_id": 58483198, "link": "https://stackoverflow.com/questions/58483198/swift-extensions-does-not-work-in-tests-when-sdk-is-in-objective-c/58484274#58484274", "title": "Swift extensions does not work in tests when SDK is in Objective-C", "body": "<p>Use <strong>@objc</strong> in front of your <code>extension</code> in <code>swift</code> file. like below</p>\n\n<pre><code>@objc extension A {\n    func myFun() {\n        sdkFun()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "reply_to_user": {"reputation": 256, "user_id": 2956217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3515e52faa0dee339e5e62740e7baded?s=128&d=identicon&r=PG", "display_name": "jczerski", "link": "https://stackoverflow.com/users/2956217/jczerski"}, "edited": false, "score": 0, "creation_date": 1571717055, "post_id": 58484563, "comment_id": 103323098, "body": "I updated my anwer @jczerski you need to add public access specifier as well. with your class and extension."}, {"owner": {"reputation": 256, "user_id": 2956217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3515e52faa0dee339e5e62740e7baded?s=128&d=identicon&r=PG", "display_name": "jczerski", "link": "https://stackoverflow.com/users/2956217/jczerski"}, "edited": false, "score": 0, "creation_date": 1571745070, "post_id": 58484563, "comment_id": 103335681, "body": "Still the same."}, {"owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "reply_to_user": {"reputation": 256, "user_id": 2956217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3515e52faa0dee339e5e62740e7baded?s=128&d=identicon&r=PG", "display_name": "jczerski", "link": "https://stackoverflow.com/users/2956217/jczerski"}, "edited": false, "score": 0, "creation_date": 1571745393, "post_id": 58484563, "comment_id": 103335859, "body": "Can share you codebase? Because it\u2019s working for me."}], "tags": [], "owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1571717010, "last_edit_date": 1571717010, "creation_date": 1571654384, "answer_id": 58484563, "question_id": 58483198, "link": "https://stackoverflow.com/questions/58483198/swift-extensions-does-not-work-in-tests-when-sdk-is-in-objective-c/58484563#58484563", "title": "Swift extensions does not work in tests when SDK is in Objective-C", "body": "<p>@objc with public function and extension and your class. like this way</p>\n\n<pre><code>@objc public class A {\n  @objc public func sdkFun() {\n    // do something\n  }\n}\n@objc public extension A {\n  @objc public func myFun() {\n    sdkFun()\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 256, "user_id": 2956217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3515e52faa0dee339e5e62740e7baded?s=128&d=identicon&r=PG", "display_name": "jczerski", "link": "https://stackoverflow.com/users/2956217/jczerski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1571717010, "creation_date": 1571649303, "question_id": 58483198, "link": "https://stackoverflow.com/questions/58483198/swift-extensions-does-not-work-in-tests-when-sdk-is-in-objective-c", "title": "Swift extensions does not work in tests when SDK is in Objective-C", "body": "<p>I have SDK <strong>A</strong> in Objective-C which works fine. I\u2019ve created extensions for it and it still works on production code. </p>\n\n<p>When I started test my code and I use SDK directly everything is fine. My tests fail when I call my extension with stacktrace:\n<code>file:///%3Cunknown%3E: test failure: SomeTests.testAExtension() failed: failed: caught \"NSInvalidArgumentException\", \u201c-[A myFun()]: unrecognized selector sent to instance 0x600001a8d3e0\u2026</code></p>\n\n<p>This is code which I use:</p>\n\n<pre><code>// sdk class in Objective-C\nclass A {\n    func sdkFun() {\n        // do something\n    }\n}\n\nextension A {\n    func myFun() {\n        sdkFun()\n    }\n}\n\nclass SomeTests {\n\n    // O.K.\n    func testAFun() {\n        let a = A()\n        a.sdkFun()\n    }\n\n    // Fails with error\n    func testA() {\n        let a = A()\n        a.myFun()\n    }\n}\n</code></pre>\n\n<p>What do I wrong?\nI use Swift 4.2</p>\n"}, {"tags": ["objective-c", "uilabel"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571644731, "post_id": 58481915, "comment_id": 103295672, "body": "Note that <code>drawAtPoint</code> can be used on <code>NSAttributedString</code>: [attrsString drawAtPoint:rect2.origin]` <a href=\"https://developer.apple.com/documentation/foundation/nsattributedstring/1529478-drawatpoint?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsattributedstr&zwnj;&#8203;ing/&hellip;</a> With <code>drawAtPoint:</code> of <code>NSString</code>, the effects will be the same for the whole text."}, {"owner": {"reputation": 11, "user_id": 10103158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf775e78a6b592f45f8d92f04bf7a7?s=128&d=identicon&r=PG&f=1", "display_name": "JMGC", "link": "https://stackoverflow.com/users/10103158/jmgc"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1571646223, "post_id": 58481915, "comment_id": 103296255, "body": "@Larme well that did the trick. thanks I spent a day and a half trying to find the solution to this. beginner problems -___-"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 12250012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ0UY.png?s=128&g=1", "display_name": "Jithin", "link": "https://stackoverflow.com/users/12250012/jithin"}, "is_accepted": false, "score": 2, "last_activity_date": 1571645403, "creation_date": 1571645403, "answer_id": 58482228, "question_id": 58481915, "link": "https://stackoverflow.com/questions/58481915/setting-uilabel-with-multiple-font-color-at-drawatpoint/58482228#58482228", "title": "Setting UILabel with multiple font color at drawatpoint", "body": "<p>Add a font attribute with font size.</p>\n\n<pre><code>NSString *string = @\"String1/String2\";\n\nNSMutableAttributedString *attrsString =  \n[[NSMutableAttributedString alloc] \ninitWithAttributedString:@\"String1/String2\"];\n\n// search for word occurrence\nNSRange prange = [lbl.text rangeOfString:@\"String1\"];\nNSRange lrange = [lbl.text rangeOfString:@\"String2\"];\n\n//Setting font \n[attrString addAttribute:NSFontAttributeName value:[UIFont systemFontOfSize:16] range:NSMakeRange(0, string.length)];\n\nif (prange.location != NSNotFound) {\n [attrsString addAttribute: NSForegroundColorAttributeName value: [UIColor greenColor] range:prange];\n}\nif (lrange.location != NSNotFound) {\n [attrsString addAttribute: NSForegroundColorAttributeName value: [UIColor redColor] range:lrange];\n}\nlbl.attributedText = attrsString;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10103158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cf775e78a6b592f45f8d92f04bf7a7?s=128&d=identicon&r=PG&f=1", "display_name": "JMGC", "link": "https://stackoverflow.com/users/10103158/jmgc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571653803, "creation_date": 1571644104, "last_edit_date": 1571653803, "question_id": 58481915, "link": "https://stackoverflow.com/questions/58481915/setting-uilabel-with-multiple-font-color-at-drawatpoint", "title": "Setting UILabel with multiple font color at drawatpoint", "body": "<p>How to set the multiple font color in UIlabel drawatpoint.</p>\n\n<p>I tried using below code to change the font attribute but I have no idea how to set a NSMutableAttributedString to this since it only accepts NSDictionary</p>\n\n<pre><code>[self.textColor setFill];\n[self.text drawAtPoint:rect2.origin withAttributes:attrName];\n</code></pre>\n\n<p>We use this to set the attribute</p>\n\n<pre><code>NSMutableAttributedString *attrsString =  \n[[NSMutableAttributedString alloc] \ninitWithAttributedString:\"String1/String2\"];\n\n// search for word occurrence\nNSRange prange = [lbl.text rangeOfString:@\"String1\"];\nNSRange lrange = [lbl.text rangeOfString:@\"String2\"];\n\nif (prange.location != NSNotFound) {\n     [attrsString addAttributes:attributeGreen range:prange];\n     [attrsString addAttributes:attributeRed range:lrange];\n}\nlbl.attributedText = attrsString;\n</code></pre>\n\n<p>Originally we use this in the UILabel subclass - this subclass is used to resize the text.</p>\n\n<pre><code>[self.textColor setFill];\n[self.text drawAtPoint:rect2.origin withFont:tmpfont];\n</code></pre>\n\n<p>I expect to have String1 in green font and String 2 in red font</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571622045, "post_id": 58478757, "comment_id": 103289878, "body": "This is not relevant to your question, but using UIWebView becomes an error in iOS 13. Plan ahead."}, {"owner": {"reputation": 11, "user_id": 482182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1028720c32f44db0bef954c47d20563e?s=128&d=identicon&r=PG", "display_name": "chrisgilpin", "link": "https://stackoverflow.com/users/482182/chrisgilpin"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571664152, "post_id": 58478757, "comment_id": 103305162, "body": "Thanks @matt - strangely my code ran fine with UIWebKit in iOS 13 (even with no deprecation warning). However, I have migrated the code to WKWebView and the issue still persists."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1571664227, "post_id": 58478757, "comment_id": 103305211, "body": "Yes, I said it wasn&#39;t relevant to the question. \u2014 You do not see the deprecation warning unless you set your deployment target to iOS 13."}], "owner": {"reputation": 11, "user_id": 482182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1028720c32f44db0bef954c47d20563e?s=128&d=identicon&r=PG", "display_name": "chrisgilpin", "link": "https://stackoverflow.com/users/482182/chrisgilpin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571664254, "creation_date": 1571621507, "last_edit_date": 1571664254, "question_id": 58478757, "link": "https://stackoverflow.com/questions/58478757/uiwebview-on-external-display-not-receiving-keyboard-input", "title": "UIWebView on external display not receiving keyboard input", "body": "<p>I am writing an application that loads a UIWebView on an external display when connected to an iOS device. The iOS device has a 'trackpad' component which moves a cursor and simulates clicks on the external display webview (using private frameworks, I am not pushing this to the App Store).</p>\n\n<p>When a text input field is selected in the webview, no keyboard events pass through. However, I am able to copy text and paste it into the input field using the on-screen iOS copy/paste functionality (here is a YouTube video of the behavior: <a href=\"https://www.youtube.com/watch?v=FHNx83Ao6DE\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=FHNx83Ao6DE</a>)</p>\n\n<p>For testing purposes I added another WebView on the main iOS device, and text input from the external keyboard works as expected.</p>\n\n<p>My thinking is that the external display webview is not the first responder - however when I run two different checks I get different results:</p>\n\n<p><em>Check 1</em></p>\n\n<p>Code:</p>\n\n<pre><code>UIView   *firstResponder = [externalDisplayWebView performSelector:@selector(firstResponder)];\nNSLog(@\"firstResponder: %@\", firstResponder);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>firstResponder: &lt;WKContentView: 0x7fe0cb028800; frame = (0 0; 1024 768); anchorPoint = (0, 0); gestureRecognizers = &lt;NSArray: 0x600002c605a0&gt;; layer = &lt;CALayer: 0x6000022eec60&gt;&gt;\n</code></pre>\n\n<p><em>Check 2</em></p>\n\n<p>Code:</p>\n\n<pre><code>if ([externalDisplayWebView isFirstResponder]){\n        NSLog(@\"Window is first responder\");\n    }\n    else {\n        NSLog(@\"Window is not first responder\");\n   }\n</code></pre>\n\n<p>Result:</p>\n\n<p><code>window is not first responder</code></p>\n\n<p>Does anyone have any ideas of ways I can force keyboard input to flow to the external display's webview? Private APIs are fine with me at this point.</p>\n\n<p>Thank you in advance for your time!</p>\n"}, {"tags": ["objective-c", "uitextfield", "ios13", "ios-darkmode"], "answers": [{"tags": [], "owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "is_accepted": true, "score": 18, "last_activity_date": 1588475873, "last_edit_date": 1588475873, "creation_date": 1571623505, "answer_id": 58478959, "question_id": 58478744, "link": "https://stackoverflow.com/questions/58478744/uitextfield-placeholder-text-is-unreadable-in-ios13-dark-mode/58478959#58478959", "title": "UITextField placeholder text is unreadable in iOS13 dark mode", "body": "<p>It turns out Apple has provided a way to override this on various elements (or even your entire app's UIWindow) with the following (Objective-C):</p>\n\n<pre><code>if (@available(iOS 13.0, *)) {\n    textField.overrideUserInterfaceStyle = UIUserInterfaceStyleLight;\n}\n</code></pre>\n\n<p>I applied it to all UITextFields via swizzle, to turn it off on EVERYTHING in your project, just use this in your appDelegate didFinishLaunching method but replace <code>textField</code> with <code>_window</code> </p>\n\n<p>(<strong>IMPORTANT EDIT:</strong> with the newest version of xCode _window seems to have been dropped and now app projects create something called a <code>SceneDelegate</code> and the <code>overrideUserInterfaceStyle</code> has to be applied to that somehow, but I'm new to scene delegates and don't know how they work so I can't offer much help there, to disable scenedelegate and return to traditional AppDelegate management of the UIWindow, see here: <a href=\"https://stackoverflow.com/a/57467270/2057171\">https://stackoverflow.com/a/57467270/2057171</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 6565, "user_id": 3338360, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/h2ISz.jpg?s=128&g=1", "display_name": "Kartheek", "link": "https://stackoverflow.com/users/3338360/kartheek"}, "edited": false, "score": 1, "creation_date": 1616087938, "post_id": 59226659, "comment_id": 117900200, "body": "Thanks! Saved my day"}], "tags": [], "owner": {"reputation": 2723, "user_id": 3938718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XRphh.png?s=128&g=1", "display_name": "Ananta Prasad", "link": "https://stackoverflow.com/users/3938718/ananta-prasad"}, "is_accepted": false, "score": 9, "last_activity_date": 1575726598, "creation_date": 1575726598, "answer_id": 59226659, "question_id": 58478744, "link": "https://stackoverflow.com/questions/58478744/uitextfield-placeholder-text-is-unreadable-in-ios13-dark-mode/59226659#59226659", "title": "UITextField placeholder text is unreadable in iOS13 dark mode", "body": "<p>in swift \nPaste the below code to appdelegate file\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>if #available(iOS 13.0, *) {\r\n            window!.overrideUserInterfaceStyle = .light\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It will work fine.</p>\n"}, {"comments": [{"owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1582510765, "post_id": 60368619, "comment_id": 106790433, "body": "For my specific project I have to have white but this is useful for others (and likely myself in the future) thanks for sharing!"}], "tags": [], "owner": {"reputation": 361, "user_id": 499588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bc812eba419c4556a15fe5a38638e86?s=128&d=identicon&r=PG", "display_name": "Albert Tong", "link": "https://stackoverflow.com/users/499588/albert-tong"}, "is_accepted": false, "score": 1, "last_activity_date": 1582509086, "creation_date": 1582509086, "answer_id": 60368619, "question_id": 58478744, "link": "https://stackoverflow.com/questions/58478744/uitextfield-placeholder-text-is-unreadable-in-ios13-dark-mode/60368619#60368619", "title": "UITextField placeholder text is unreadable in iOS13 dark mode", "body": "<p>I would consider not explicitly setting the text field background to white. </p>\n\n<p>You can more robustly support dark and light mode by using UI Element colors described here: <a href=\"https://developer.apple.com/documentation/uikit/uicolor/ui_element_colors\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uicolor/ui_element_colors</a></p>\n\n<p>For one of my text fields I did something like this:</p>\n\n<pre><code>if #available(iOS 13, *) {\n    self.searchBarTextField.textColor = UIColor.label\n    self.searchBarTextField.backgroundColor = UIColor.secondarySystemBackground\n} else {\n    self.searchBarTextField.backgroundColor = UIColor(white: 1.0, alpha: 1.0)\n}\n</code></pre>\n\n<p>From the code above, now the background of your textfield will dynamically change when the user changes their light vs dark mode setting. And the text color will change with it. And by placeholder text color will be handled by OS. You could override if you needed: <a href=\"https://developer.apple.com/documentation/uikit/uicolor/3173134-placeholdertext\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uicolor/3173134-placeholdertext</a> </p>\n"}, {"comments": [{"owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1582592413, "post_id": 60377310, "comment_id": 106822710, "body": "I can&#39;t seem to find <code>placeholderTextColor</code> in the built in frameworks. How are you using it?"}, {"owner": {"reputation": 34, "user_id": 12953990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDBnZAJqwt5cowQ3CbHCV-UhJ5Garj6o80w9Enj=k-s128", "display_name": "Rostyslav Broslavskyi", "link": "https://stackoverflow.com/users/12953990/rostyslav-broslavskyi"}, "reply_to_user": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1582642410, "post_id": 60377310, "comment_id": 106842842, "body": "<a href=\"https://reactnative.dev/docs/textinput#placeholdertextcolor\" rel=\"nofollow noreferrer\">reactnative.dev/docs/textinput#placeholdertextcolor</a>  Something like that, let me know if it help you) <code>&lt;TextInput placeholder=&quot;text here&quot; placeholderTextColor=&quot;red&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 34, "user_id": 12953990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDBnZAJqwt5cowQ3CbHCV-UhJ5Garj6o80w9Enj=k-s128", "display_name": "Rostyslav Broslavskyi", "link": "https://stackoverflow.com/users/12953990/rostyslav-broslavskyi"}, "reply_to_user": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1582651183, "post_id": 60377310, "comment_id": 106847938, "body": "Oh probably I was wrong I thought you talked about React Native"}], "tags": [], "owner": {"reputation": 34, "user_id": 12953990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDBnZAJqwt5cowQ3CbHCV-UhJ5Garj6o80w9Enj=k-s128", "display_name": "Rostyslav Broslavskyi", "link": "https://stackoverflow.com/users/12953990/rostyslav-broslavskyi"}, "is_accepted": false, "score": -1, "last_activity_date": 1582552649, "last_edit_date": 1582552649, "creation_date": 1582552188, "answer_id": 60377310, "question_id": 58478744, "link": "https://stackoverflow.com/questions/58478744/uitextfield-placeholder-text-is-unreadable-in-ios13-dark-mode/60377310#60377310", "title": "UITextField placeholder text is unreadable in iOS13 dark mode", "body": "<p>If you don't want to force your full app to light mode the easiest way</p>\n\n<p>You can just add <code>placeholderTextColor</code> to your <code>TextInput</code> component</p>\n\n<p>Works for me \u270c\ufe0f</p>\n"}], "owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5967, "favorite_count": 3, "accepted_answer_id": 58478959, "answer_count": 4, "score": 9, "last_activity_date": 1588475873, "creation_date": 1571621346, "last_edit_date": 1571622553, "question_id": 58478744, "link": "https://stackoverflow.com/questions/58478744/uitextfield-placeholder-text-is-unreadable-in-ios13-dark-mode", "title": "UITextField placeholder text is unreadable in iOS13 dark mode", "body": "<p>UITextField has a <code>.placeholder</code> text property, for showing info before text has been added to the field, up until now it's always been clear and visible, but in iOS13 dark mode was introduced and now placeholder text is practically unreadable in a white UITextField (I am explicitly making it white via <code>.backgroundColor = [UIColor whiteColor]</code>). </p>\n\n<p>My question is, what are some practical solutions to fix this throughout my project, I could manually change the placeholder color on any UITextField manually, by simply setting an <code>attributedPlaceholder</code> string, that may take a while, is there a way to disable dark mode settings just on UITextFields specifically but not for other elements?</p>\n"}, {"tags": ["ios", "objective-c", "onesignal"], "answers": [{"comments": [{"owner": {"reputation": 3046, "user_id": 3557485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/dzUaw.jpg?s=128&g=1", "display_name": "rihe", "link": "https://stackoverflow.com/users/3557485/rihe"}, "edited": false, "score": 0, "creation_date": 1571597421, "post_id": 58476063, "comment_id": 103285167, "body": "So if I want to make it work under ios 13 I have to do it from the App Delegate and for ios 13 I need the extension? Right?"}, {"owner": {"reputation": 47158, "user_id": 420303, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d128cffeaf768e0ad7c47488aaa95f13?s=128&d=identicon&r=PG", "display_name": "Daij-Djan", "link": "https://stackoverflow.com/users/420303/daij-djan"}, "reply_to_user": {"reputation": 3046, "user_id": 3557485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/dzUaw.jpg?s=128&g=1", "display_name": "rihe", "link": "https://stackoverflow.com/users/3557485/rihe"}, "edited": false, "score": 0, "creation_date": 1571605165, "post_id": 58476063, "comment_id": 103287027, "body": "Yeah you have to have a notification service extension. There are tutorials for it. It is a bit cumbersome but not too hard. There is nothing in appdelegate involved"}], "tags": [], "owner": {"reputation": 47158, "user_id": 420303, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d128cffeaf768e0ad7c47488aaa95f13?s=128&d=identicon&r=PG", "display_name": "Daij-Djan", "link": "https://stackoverflow.com/users/420303/daij-djan"}, "is_accepted": true, "score": 1, "last_activity_date": 1571596410, "creation_date": 1571596410, "answer_id": 58476063, "question_id": 58475900, "link": "https://stackoverflow.com/questions/58475900/displaying-push-notification-badges-without-notification-service-extension/58476063#58476063", "title": "Displaying Push Notification Badges Without Notification Service Extension", "body": "<p>ios13 doesn't allow PushKit for non VOIP scenarios. you will have to add a NSE as they advertise. It isnt just for images anymore.</p>\n"}], "owner": {"reputation": 3046, "user_id": 3557485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/dzUaw.jpg?s=128&g=1", "display_name": "rihe", "link": "https://stackoverflow.com/users/3557485/rihe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 58476063, "answer_count": 1, "score": 0, "last_activity_date": 1571596410, "creation_date": 1571595346, "last_edit_date": 1571595467, "question_id": 58475900, "link": "https://stackoverflow.com/questions/58475900/displaying-push-notification-badges-without-notification-service-extension", "title": "Displaying Push Notification Badges Without Notification Service Extension", "body": "<p>The origin of my problem is that I am not able to test push messages on real devices because of a problem that seems to be an Xcode bug, but this is not the subject now. I just added this to answer why I can't test my implementation normally. </p>\n\n<p>So I have the push notifications implemented in my iOS app with the OneSignal SDK. Based on their <a href=\"https://documentation.onesignal.com/docs/ios-sdk-setup\" rel=\"nofollow noreferrer\">setup guide</a> they recommend to create a <code>\"Notification Service Extension\"</code> which also caused issues (with the provisioning profile) in my app, that I couldn't fix yet. Therefore I decided to skip adding the extension that means I won't be able to use some specific features, like sending images and altering the badges. I don't care about sending images, but badges would be a must. </p>\n\n<p>My question is that adding a <code>\"Notification Service Extension\"</code> is really required to manipulate the badges for iOS 11/12/13? My goal is to just simply display <code>\"1\"</code> on the app icon when the client receives a push message. 2-3 years ago when I previously implemented push notifications I didn't need any magic except the below line:</p>\n\n<pre><code>    - (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\n{\n\n\n    [[UIApplication sharedApplication] setApplicationIconBadgeNumber:1]\n\n} \n</code></pre>\n\n<p>Did this change? Or will it display a badge with the number of <code>1</code> and I don't have to be afraid about it? </p>\n"}, {"tags": ["objective-c", "macos", "automator", "codesign"], "answers": [{"comments": [{"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "edited": false, "score": 0, "creation_date": 1584778634, "post_id": 58493451, "comment_id": 107545557, "body": "Important: You should click &quot;Copy only when installing&quot; in the copy files phase where you copy the automator workflow. Then it will only be included in an archive build. Otherwise it will be included in a debug build also. Then - for example if you sign debug builds different then archive codesign will fail (cause different certificates have been used)"}, {"owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "edited": false, "score": 0, "creation_date": 1584801379, "post_id": 58493451, "comment_id": 107551196, "body": "there is a bit better solution + better way to test <a href=\"https://developer.apple.com/library/archive/qa/qa1885/_index.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/qa/qa1885/_index.html</a>"}], "tags": [], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "is_accepted": true, "score": 1, "last_activity_date": 1578941193, "last_edit_date": 1578941193, "creation_date": 1571688636, "answer_id": 58493451, "question_id": 58475697, "link": "https://stackoverflow.com/questions/58475697/how-to-embed-automator-action-in-app-bundle-for-delivery/58493451#58493451", "title": "How to embed Automator Action in App Bundle for delivery", "body": "<p><strong>Automator action</strong></p>\n\n<ul>\n<li>Create an archive for distribution</li>\n<li>Codesign it with the same certificate as your main app</li>\n</ul>\n\n<p><strong>Main App</strong></p>\n\n<ul>\n<li>Copy the final product to your main app (in finder) and add it to your project</li>\n<li>Remove it from \"Copy resources\" build phase</li>\n<li>Create new copy files phase (right after the copy resources phase), select \"Resources\" and enter \"Library/Automator\"</li>\n<li>Add it to the new copy files phase</li>\n</ul>\n\n<p><strong>Test it</strong></p>\n\n<ul>\n<li>Create an archive of your main app</li>\n<li>Copy the product to the application folder (important - otherwise action won't be installed by OSX</li>\n<li>Open Automator, you should find your action there. If not - restart.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 4214, "user_id": 2648673, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/AvV1Y.jpg?s=128&g=1", "display_name": "Marek H", "link": "https://stackoverflow.com/users/2648673/marek-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1584801169, "creation_date": 1584801169, "answer_id": 60789051, "question_id": 58475697, "link": "https://stackoverflow.com/questions/58475697/how-to-embed-automator-action-in-app-bundle-for-delivery/60789051#60789051", "title": "How to embed Automator Action in App Bundle for delivery", "body": "<p>A bit better solution than <a href=\"https://stackoverflow.com/a/58493451/2648673\">Pat_Morita</a></p>\n\n<ol>\n<li>Add automator action as dependency</li>\n<li>Add New Copy Files phase</li>\n<li>Destination change to Products Directory</li>\n<li>Change subpath to <code>${CONTENTS_FOLDER_PATH}/Library/Automator</code> (example Pixelmator)</li>\n</ol>\n\n<p>For correct behaviour app bundle has to be place in /Applications</p>\n\n<p><a href=\"https://i.stack.imgur.com/NTLCS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NTLCS.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 58493451, "answer_count": 2, "score": 1, "last_activity_date": 1584801169, "creation_date": 1571594039, "question_id": 58475697, "link": "https://stackoverflow.com/questions/58475697/how-to-embed-automator-action-in-app-bundle-for-delivery", "title": "How to embed Automator Action in App Bundle for delivery", "body": "<p>I'm on Objective-c Xcode 11, macOS not iOS.</p>\n\n<p>I have a small app in objective-c, sandboxed. To make it more accessible i added script support and therefore developed some Automator actions.</p>\n\n<p>I want to embed them in the app bundle so the user doesn't need to install them seperately.</p>\n\n<p>Regarding the documentation this works by placing them in the app bundle like this:</p>\n\n<pre><code>myapp.app/Library/Automator/actionHere\n</code></pre>\n\n<p>What i tried:</p>\n\n<p>I created an archive and copied the finished product (automator action) to my app folder (in finder) and added it to the project (without copying). Then i added a copy files phase to copy it to the above folder (selected 'Wrapper' + 'Library/Automator'). I tried both with \"Sign on copy\" and without.</p>\n\n<p>Unfortunately, signing of the app fails with \"unsealed contents present in root directory\" - without the automator action it builds fine.</p>\n\n<p>Team ID for codesigning and certificates match for both apps.\nBase identifier is the same e.g. com.mycompany.product and com.mycompany.product.automator.action1</p>\n\n<p>Then i tried to embed the Automator project as subproject. But that failed at all....</p>\n\n<p>How can i either add the Automator project as subproject of the main app project and get the final automator ation in the above mentioned directory OR how can i add the already codesigned Automator action to the app properly so that codesigning doesn't fail.</p>\n\n<p>Regards\nPat</p>\n"}, {"tags": ["objective-c", "algorithm", "compare"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1571592692, "post_id": 58475466, "comment_id": 103284061, "body": "At least add a <code>break;</code> inside the <code>if</code>. No need to do any further checking once you find a match for the current value of <code>i</code>."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1571592830, "post_id": 58475466, "comment_id": 103284087, "body": "And between the two <code>for</code> loops, add a variable for the value of <code>[[array1 objectAtIndex:i] intValue]</code> and use that variable in the <code>if</code>. No need to call <code>[[array1 objectAtIndex:i] intValue]</code> more than once per iteration."}, {"owner": {"reputation": 612, "user_id": 1125629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e15655ffbac6cadb060a5cb9a49797?s=128&d=identicon&r=PG", "display_name": "MarioGT", "link": "https://stackoverflow.com/users/1125629/mariogt"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571593009, "post_id": 58475466, "comment_id": 103284132, "body": "sorry I forgot that, anyway this code is very slow."}, {"owner": {"reputation": 7290, "user_id": 4785110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1bae5c00f27770d807c943268438bb6?s=128&d=identicon&r=PG&f=1", "display_name": "maraca", "link": "https://stackoverflow.com/users/4785110/maraca"}, "edited": false, "score": 3, "creation_date": 1571602583, "post_id": 58475466, "comment_id": 103286448, "body": "It would be easy to do in O(n) if the arrays are sorted instead of O(n^2), e.g. by using &quot;pointers&quot;. But you can still get O(n) for unsorted arrays, e.g. by using a hash map with the value as key and the index as value. Put all items of one array into the hash map O(n), go through the other array and look if you find a match in the hash map O(n)."}, {"owner": {"reputation": 612, "user_id": 1125629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e15655ffbac6cadb060a5cb9a49797?s=128&d=identicon&r=PG", "display_name": "MarioGT", "link": "https://stackoverflow.com/users/1125629/mariogt"}, "edited": false, "score": 0, "creation_date": 1571618460, "post_id": 58475466, "comment_id": 103289330, "body": "Thanks rmaddy and maraca for your suggestions,"}], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 1125629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e15655ffbac6cadb060a5cb9a49797?s=128&d=identicon&r=PG", "display_name": "MarioGT", "link": "https://stackoverflow.com/users/1125629/mariogt"}, "edited": false, "score": 0, "creation_date": 1571670441, "post_id": 58479641, "comment_id": 103308599, "body": "Thanks Raunak, i will try that approach, I will be informing my results, thanks again !!"}], "tags": [], "owner": {"reputation": 2961, "user_id": 733168, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/80d591114c80a68aaa1b1992440a5352?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak", "link": "https://stackoverflow.com/users/733168/raunak"}, "is_accepted": false, "score": 2, "last_activity_date": 1571630555, "creation_date": 1571630555, "answer_id": 58479641, "question_id": 58475466, "link": "https://stackoverflow.com/questions/58475466/efficient-algorithm-for-comparing-and-iterate-through-two-large-arrays/58479641#58479641", "title": "Efficient Algorithm for comparing and iterate through two large arrays", "body": "<p>You can store the indices of array1 in a hashmap (NSDictionary) where the keys are the elements/values and the value is the index of that element (or array of indices if elements are allowed to repeat). Call it map_of_array1.</p>\n\n<p>Then iterate through array2 and find if map_of_array1[array2[[i]] is not null.</p>\n\n<p>This way your time complexity will be O(n+m) instead of O(n*m).</p>\n"}], "owner": {"reputation": 612, "user_id": 1125629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e15655ffbac6cadb060a5cb9a49797?s=128&d=identicon&r=PG", "display_name": "MarioGT", "link": "https://stackoverflow.com/users/1125629/mariogt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571630555, "creation_date": 1571592357, "question_id": 58475466, "link": "https://stackoverflow.com/questions/58475466/efficient-algorithm-for-comparing-and-iterate-through-two-large-arrays", "title": "Efficient Algorithm for comparing and iterate through two large arrays", "body": "<p>I have this problem: </p>\n\n<p>I want to iterate and compare each item of array1 against each item of array2, both arrays have the same lenght. When the value of both items coincide I store the value j in my indexOfInterest[] array for later use. </p>\n\n<p>This is the code that I use, works well but its extremely slow comparing large arrays (thousands of items), can anyone help me in implement an efficient algorithm for this task.</p>\n\n<pre><code>int i,j;\n\nint counter = [array1 count];\n\nint indexOfInterest[counter];\n\n\nfor (i = 0; i &lt; counter; i++) {\n\n    for (j = 0; j &lt; counter; j++) {\n\n        if ([[array1 objectAtIndex:i] intValue] == [[array2 objectAtIndex:j]intValue] ) {\n\n            indexOfInterest[i] = j;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "uitableview", "uistackview"], "answers": [{"tags": [], "owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1571653102, "creation_date": 1571653102, "answer_id": 58484205, "question_id": 58474920, "link": "https://stackoverflow.com/questions/58474920/how-to-adjust-stackview-with-child-view-and-add-constarint/58484205#58484205", "title": "How to adjust stackview with child view and add constarint", "body": "<p>Im not understanding your question very clearly but one thing i think you are missing is the understanding of how a stackview works .</p>\n\n<p>Stack views are given a defined size at the begining and depending on the views inside the stack view it has the ability to change its height and width. Thats the whole point of using a stack view . So if you are having a stack view inside a . table view what you should do is givena constraint to the stackview depending on which way you are adding the elements . </p>\n\n<p>If you are adding the elements in a verticle manner , you have to set the stack view positioning constraints from <code>leading</code> and <code>trailing</code>. The reason is if the elements within is added verticle there is no reason for the horizontal alignment to change hence you give a constraint horizontally .</p>\n\n<p>However if you add the elements horizontally , you give a constraint to the top and bottom of the stack since then there is no reason for that to change .</p>\n\n<p>and the stack will change its size (width or height) depending on the element sizes within.</p>\n\n<p><a href=\"https://i.stack.imgur.com/xjh47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xjh47.png\" alt=\"\"></a></p>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571653102, "creation_date": 1571588416, "question_id": 58474920, "link": "https://stackoverflow.com/questions/58474920/how-to-adjust-stackview-with-child-view-and-add-constarint", "title": "How to adjust stackview with child view and add constarint", "body": "<p><a href=\"https://i.stack.imgur.com/t9rnL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t9rnL.jpg\" alt=\"enter image description here\"></a>I am leaning iOS programming in objective-c. In Xcode, I am trying to add stack view that encompass a table view. However, the storyboard showed some warning or error that indicates I should set constraints to the stack view and the table view as well in the Y-axis as well as adding constraint.\nI spent some time to find out how to set that right, but at the end the stack view because distorted and appears as shown below in the image.</p>\n\n<p>Please advice and let me know how to adjust the constraint of stack view and its included table view.</p>\n\n<p><strong>imageView</strong></p>\n\n<pre><code>      [![attempt to add constarint to stack view][1]][1]\n\n\n       [1]: https://i.stack.imgur.com/UJdyn.jpg\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "macos"], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 1432710, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2f79b791ddd4d7d6ad5c90244bc31ee3?s=128&d=identicon&r=PG", "display_name": "Joe Habadas", "link": "https://stackoverflow.com/users/1432710/joe-habadas"}, "is_accepted": true, "score": 0, "last_activity_date": 1571701696, "creation_date": 1571701696, "answer_id": 58495450, "question_id": 58472650, "link": "https://stackoverflow.com/questions/58472650/xcode-adding-targets-settings-from-one-project-into-another/58495450#58495450", "title": "Xcode, Adding Targets + Settings From One Project Into Another", "body": "<p>I ended up adding everything manually and setting all the settings manually as well.</p>\n"}], "owner": {"reputation": 588, "user_id": 1432710, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2f79b791ddd4d7d6ad5c90244bc31ee3?s=128&d=identicon&r=PG", "display_name": "Joe Habadas", "link": "https://stackoverflow.com/users/1432710/joe-habadas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 58495450, "answer_count": 1, "score": 0, "last_activity_date": 1571701696, "creation_date": 1571571724, "last_edit_date": 1592644375, "question_id": 58472650, "link": "https://stackoverflow.com/questions/58472650/xcode-adding-targets-settings-from-one-project-into-another", "title": "Xcode, Adding Targets + Settings From One Project Into Another", "body": "<p>I've given the other questions and answers a good look and tried many things, although I'm still confused on how to import Targets along with their respective Build Settings and Build Phases from one project into another project.</p>\n<p><strong>Example</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/90odn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/90odn.png\" alt=\"Copy Targets with settings to another project\" /></a></p>\n<blockquote class=\"spoiler\">\n<p> <sub>Other questions focus on adding items as &quot;dependencies&quot; in the Build Phase, but that's not what I'm looking to do.</sub></p>\n</blockquote>\n<p>I'm simply wanting to copy the Targets from Project B into Project A and then I will link them from there, but how? I tried to create a Workspace, but that didn't really work. If someone has some updated information on how to go about this I would appreciate it, thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 4577504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80db7579675e8cb2c765fa59ed11b3f7?s=128&d=identicon&r=PG&f=1", "display_name": "wazowski", "link": "https://stackoverflow.com/users/4577504/wazowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1571568482, "creation_date": 1571568482, "answer_id": 58472211, "question_id": 58472157, "link": "https://stackoverflow.com/questions/58472157/lock-feature-when-n-taps-reached-per-day/58472211#58472211", "title": "Lock feature when N taps reached per day", "body": "<p>I have found the way of beautify the NSDate function like this:</p>\n\n<pre><code>NSDate *lastButtonDate = (NSDate *)[[NSUserDefaults standardUserDefaults] objectForKey:@\"YESTERDAY\"];\nif(![[NSCalendar currentCalendar] isDateInToday:lastButtonDate]){\n     // One day has passed away and we can store the new date\n     NSDate *today= [NSDate date];\n     [[NSUserDefaults standardUserDefaults] setObject:today forKey:@\"YESTERDAY\"];\n}\n</code></pre>\n\n<p>Now I need to add the button part, I mean, n times to lock the content I want to trigger.</p>\n"}, {"tags": [], "owner": {"reputation": 784, "user_id": 4577504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80db7579675e8cb2c765fa59ed11b3f7?s=128&d=identicon&r=PG&f=1", "display_name": "wazowski", "link": "https://stackoverflow.com/users/4577504/wazowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1571586108, "creation_date": 1571586108, "answer_id": 58474599, "question_id": 58472157, "link": "https://stackoverflow.com/questions/58472157/lock-feature-when-n-taps-reached-per-day/58474599#58474599", "title": "Lock feature when N taps reached per day", "body": "<p>This is my last try of the function, it returns YES if the limit of button taps was reached and NO if it is not already reached.</p>\n\n<pre><code>- (BOOL)isContentLockedByTaps\n{\n    NSInteger buttonTaps = (NSInteger)[[[NSUserDefaults standardUserDefaults] objectForKey:@\"buttonTaps\"] integerValue] + 1;\n    [[NSUserDefaults standardUserDefaults] setObject:[NSString stringWithFormat:@\"%ld\", buttonTaps] forKey:@\"buttonTaps\"];\n    NSLog(@\"#### buttonTaps: %ld\", (long)buttonTaps);\n\n    NSDate *lastTimeButtonTapDate = (NSDate *)[[NSUserDefaults standardUserDefaults] objectForKey:@\"lastTimeButtonTapDate\"];\n    if(![[NSCalendar currentCalendar] isDateInToday:lastTimeButtonTapDate]){\n        // Executed once per day. Save the first time the button is tapped.\n        // And resets the button taps once per day.\n        NSLog(@\"#### Executed once per day\");\n        NSDate *today= [NSDate date];\n        [[NSUserDefaults standardUserDefaults] setObject:today forKey:@\"lastTimeButtonTapDate\"];\n        // Reset &amp; Update button taps.\n        buttonTaps = 0;\n        [[NSUserDefaults standardUserDefaults] setObject:[NSString stringWithFormat:@\"%ld\", buttonTaps] forKey:@\"buttonTaps\"];\n        // Content not locked\n        return NO;\n\n    }else{\n        // Executed everytime except one time per day.\n        NSLog(@\"#### Executed everytime per day -1\");\n        if(buttonTaps &gt; 3){\n            NSLog(@\"#### buttonTaps reached daily limit\");\n            // Content locked\n            return YES;\n        }else{\n            NSLog(@\"#### buttonTaps allowed\");\n            // Content not locked\n            return NO;\n        }\n    }\n\n    // Content locked by default\n    return YES;\n}\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 4577504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80db7579675e8cb2c765fa59ed11b3f7?s=128&d=identicon&r=PG&f=1", "display_name": "wazowski", "link": "https://stackoverflow.com/users/4577504/wazowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571586108, "creation_date": 1571568000, "last_edit_date": 1571568632, "question_id": 58472157, "link": "https://stackoverflow.com/questions/58472157/lock-feature-when-n-taps-reached-per-day", "title": "Lock feature when N taps reached per day", "body": "<p>I am trying to add some code that locks or unlocks an app feature depending on the times a button is tapped per day.</p>\n\n<p>So I f user taps button, for example, 3 times the feature is locked until next day. I am using some code for time control like this:</p>\n\n<pre><code>// My dates:\nNSDate * today = [NSDate date];\nNSDate * yesterday = [[NSUserDefaults standardUserDefaults] objectForKey:@\"YESTERDAY\"];\nNSDate * refDate; // your reference date\n\n// 10 first characters of description is the calendar date:\nNSString * todayString = [[today description] substringToIndex:10];\nNSString * yesterdayString = [[yesterday description] substringToIndex:10];\nNSString * refDateString = [[refDate description] substringToIndex:10];\n\nif ([refDateString isEqualToString:todayString])  {\n    NSLog(@\"Today\");\n\n} else if ([refDateString isEqualToString:yesterdayString])  {\n    NSLog(@\"Yesterday\");\n\n} else  {\n    NSLog(@\"%@\", refDateString);\n}\n</code></pre>\n\n<p>Now I should add the button action, but it is going to be a very ugly function. Does any body knows a pod for this purposes? </p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "cell"], "answers": [{"tags": [], "owner": {"reputation": 2156, "user_id": 3736393, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dac8b43194c192d5ea704e5e1ce70d3e?s=128&d=identicon&r=PG&f=1", "display_name": "SGDev", "link": "https://stackoverflow.com/users/3736393/sgdev"}, "is_accepted": true, "score": 1, "last_activity_date": 1571564135, "creation_date": 1571564135, "answer_id": 58471676, "question_id": 58471660, "link": "https://stackoverflow.com/questions/58471660/take-information-writter-in-a-cell-when-button-on-a-cell-tapped/58471676#58471676", "title": "Take Information Writter In A Cell When Button On A Cell Tapped", "body": "<p>use sender.tag instead of likeBtn.</p>\n\n<pre><code>- (void) likeBtnTapped:(UIButton *)sender {\n    NSLog(@\"Like Button Tapped\");\n    NSLog(@\"tag %d\", sender.tag);\n\n    likeDataArray = [[NSMutableArray alloc] init];\n\n        [[[self.ref child:@\"user\"] child:[FIRAuth auth].currentUser.uid] observeSingleEventOfType:FIRDataEventTypeValue withBlock:^(FIRDataSnapshot * _Nonnull snapshot) {\n            if(snapshot.exists){\n                self-&gt;likeDataArray = snapshot.value[@\"liked\"];\n                NSLog(@\"logged: %@\", self-&gt;likeDataArray);\n            }\n\n\n        } withCancelBlock:^(NSError * _Nonnull error) {\n            NSLog(@\"%@\", error.localizedDescription);\n\n        }];\n\n}\n</code></pre>\n\n<p>or change cellForRowAtIndexPath method </p>\n\n<pre><code>- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n\n    static NSString *cellId = @\"cell\";\n    CustomTableViewCell *cell = (CustomTableViewCell*)[tableView dequeueReusableCellWithIdentifier:cellId];\n\n    if (cell == nil)\n    {\n        cell = [[CustomTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];\n    }\n\n    UIButton *likeButton  = [[UIButton alloc] initWithFrame:CGRectMake(10, cell.frame.origin.y+100, 80, 20)];\n    [likeButton setTitle:@\"be\u011fen\" forState:UIControlStateNormal];\n    self.likeBtn.backgroundColor = [UIColor blackColor];\n    [cell addSubview:likeButton];\n\n    cell.titleLabel.text = [dataArr[indexPath.row] objectForKey:@\"title\"];\n    cell.infoLabel.text = [dataArr[indexPath.row] objectForKey:@\"description\"];\n    likeButton.tag = indexPath.row;\n    [likeButton addTarget:self action:@selector(likeBtnTapped:) forControlEvents:UIControlEventTouchUpInside];\n\n    return cell;\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7646394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92b92e9b3e78d9ecf48ccd186cfac011?s=128&d=identicon&r=PG&f=1", "display_name": "OykuNehir", "link": "https://stackoverflow.com/users/7646394/oykunehir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58471676, "answer_count": 1, "score": 4, "last_activity_date": 1571564135, "creation_date": 1571563912, "question_id": 58471660, "link": "https://stackoverflow.com/questions/58471660/take-information-writter-in-a-cell-when-button-on-a-cell-tapped", "title": "Take Information Writter In A Cell When Button On A Cell Tapped", "body": "<pre><code>- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n\n    static NSString *cellId = @\"cell\";\n    CustomTableViewCell *cell = (CustomTableViewCell*)[tableView dequeueReusableCellWithIdentifier:cellId];\n\n    if (cell == nil)\n    {\n        cell = [[CustomTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellId];\n    }\n\n    self.likeBtn = [[UIButton alloc] initWithFrame:CGRectMake(10, cell.frame.origin.y+100, 80, 20)];\n    [self.likeBtn  setTitle:@\"be\u011fen\" forState:UIControlStateNormal];\n    self.likeBtn.backgroundColor = [UIColor blackColor];\n    [cell addSubview:likeBtn];\n\n    cell.titleLabel.text = [dataArr[indexPath.row] objectForKey:@\"title\"];\n    cell.infoLabel.text = [dataArr[indexPath.row] objectForKey:@\"description\"];\n    likeBtn.tag = indexPath.row;\n    //NSLog(@\"tag %d\", likeBtn.tag);\n    [likeBtn addTarget:self action:@selector(likeBtnTapped:) forControlEvents:UIControlEventTouchUpInside];\n\n    return cell;\n}\n</code></pre>\n\n<pre><code>- (void) likeBtnTapped:(id)sender {\n    NSLog(@\"Like Button Tapped\");\n    NSLog(@\"tag %d\", likeBtn.tag);\n\n    likeDataArray = [[NSMutableArray alloc] init];\n\n        [[[self.ref child:@\"user\"] child:[FIRAuth auth].currentUser.uid] observeSingleEventOfType:FIRDataEventTypeValue withBlock:^(FIRDataSnapshot * _Nonnull snapshot) {\n            if(snapshot.exists){\n                self-&gt;likeDataArray = snapshot.value[@\"liked\"];\n                NSLog(@\"logged: %@\", self-&gt;likeDataArray);\n            }\n\n\n        } withCancelBlock:^(NSError * _Nonnull error) {\n            NSLog(@\"%@\", error.localizedDescription);\n\n        }];\n\n}\n</code></pre>\n\n<p>Here's my code. I have a like button on every cell. When button tapped I want to get the cell information and write to Firebase Database. \nI try to define a tag for every like button, but if there are 8 button(or cell) e.g it define all the buttons tag as 8. \nIs there a way to achive this? </p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1571542290, "creation_date": 1571542290, "answer_id": 58469819, "question_id": 58469748, "link": "https://stackoverflow.com/questions/58469748/how-to-make-sure-threads-get-unlocked-properly/58469819#58469819", "title": "how to make sure threads get unlocked properly", "body": "<blockquote>\n  <p>What is the best synchronization scheme to make sure the threads get unlocked in the same order they get locked?</p>\n</blockquote>\n\n<p>The best synchronization scheme is not to use locks in the first place. Use Grand Central Dispatch instead. A serial queue does what locks do, coherently and simply and with vastly less chance of your making a mistake. </p>\n"}, {"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1571594543, "last_edit_date": 1592644375, "creation_date": 1571587501, "answer_id": 58474796, "question_id": 58469748, "link": "https://stackoverflow.com/questions/58469748/how-to-make-sure-threads-get-unlocked-properly/58474796#58474796", "title": "how to make sure threads get unlocked properly", "body": "<p>In answer to your question, locks are generally \u201cfair\u201d (where any given thread won\u2019t be starved). The notable exception is <a href=\"https://developer.apple.com/documentation/os/1646466-os_unfair_lock_lock?language=objc\" rel=\"nofollow noreferrer\"><code>os_unfair_lock</code></a> (and it\u2019s right there in the name). But unfair locks were introduced for a reason, namely their efficiency. The use of unfair locks for synchronization is illustrated in <a href=\"https://developer.apple.com/videos/play/wwdc2016/720/?time=1078\" rel=\"nofollow noreferrer\">Concurrent Programming With GCD in Swift 3</a> WWDC video. But generally, the fairness of the lock is not an issue in most synchronization scenarios.</p>\n<p>That having been said, Apple suggests shifting away from locks and instead synchronizing with GCD. Locks are \u201csignificantly easier to misuse.\u201d As that video goes on to say:</p>\n<blockquote>\n<p>With GCD, your code will run in a scoped way, which means that you cannot forget to unlock. The other thing is that queues actually are way better integrated with the run time in Xcode in debugging tools.</p>\n</blockquote>\n<p>GCD eliminates any ambiguity about the fairness of the synchronization, as it is obviously strictly FIFO.</p>\n<p>So, the simple solution is to use a GCD serial queue. The more advanced solution is to use the <a href=\"https://en.wikipedia.org/wiki/Readers%E2%80%93writer_lock\" rel=\"nofollow noreferrer\">reader-writer</a> pattern, achieved with concurrent GCD queue where one performs reads synchronously (but concurrently with respect to other reads on that queue), but perform writes asynchronously with a barrier (not concurrent with respect to anything else on that queue).</p>\n<p>Bottom line, while we often reach for GCD for simple synchronization, your locks are a perfectly adequate mechanism. The <code>@synchronized</code> directive is simple, but you don\u2019t see it used as much because it is slightly less efficient (albeit, only observable if performing millions of synchronizations).</p>\n<p>I might suggest the Mike Ash article <a href=\"https://www.mikeash.com/pyblog/friday-qa-2017-10-27-locks-thread-safety-and-swift-2017-edition.html\" rel=\"nofollow noreferrer\">Locks, Thread Safety, and Swift: 2017 Edition</a>. Again, don\u2019t get put off by the Swiftiness of the article or the aforementioned video, as much of it is equally applicable to Objective-C.</p>\n<hr />\n<p>Needless to say, if you can, you should minimize what synchronization altogether. As Apple points out in their <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/ThreadSafety/ThreadSafety.html#//apple_ref/doc/uid/10000057i-CH8-SW7\" rel=\"nofollow noreferrer\">Threading Programming Guide: Synchronization</a>:</p>\n<blockquote>\n<h3>Avoid Synchronization Altogether</h3>\n<p>For any new projects you work on, and even for existing projects, designing your code and data structures to avoid the need for synchronization is the best possible solution. Although locks and other synchronization tools are useful, they do impact the performance of any application. And if the overall design causes high contention among specific resources, your threads could be waiting even longer.</p>\n<p>The best way to implement concurrency is to reduce the interactions and inter-dependencies between your concurrent tasks. If each task operates on its own private data set, it does not need to protect that data using locks. Even in situations where two tasks do share a common data set, you can look at ways of partitioning that set or providing each task with its own copy. Of course, copying data sets has its costs too, so you have to weigh those costs against the costs of synchronization before making your decision.</p>\n</blockquote>\n"}], "owner": {"reputation": 39, "user_id": 11768062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbcacd3fa391de7029a622689806434?s=128&d=identicon&r=PG&f=1", "display_name": "umc", "link": "https://stackoverflow.com/users/11768062/umc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571594543, "creation_date": 1571541205, "question_id": 58469748, "link": "https://stackoverflow.com/questions/58469748/how-to-make-sure-threads-get-unlocked-properly", "title": "how to make sure threads get unlocked properly", "body": "<p>in this code based on my readings unlock does not make sure the threads<br>\nget unlocked in the same order they got locked. Is this statement right?.\nWhat is the best synchronization scheme to make sure the threads get unlocked \nin the same order they get locked?.</p>\n\n<pre><code>- (void)insert:(id)number\n{\n    [_lock lock];\n    [_numbers insertObject:number];\n    [_lock unlock];\n}\n\n- (void)insert\n{\n    @synchronized (self) {\n        [_numbers insertObject:number];\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1571532404, "post_id": 58468210, "comment_id": 103272534, "body": "NSTimer works with a run loop and isn&#39;t real-time, if that is what you are after.  A particular timer gets fired and/or rescheduled as needed when the run loop checks it."}, {"owner": {"reputation": 39, "user_id": 11768062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbcacd3fa391de7029a622689806434?s=128&d=identicon&r=PG&f=1", "display_name": "umc", "link": "https://stackoverflow.com/users/11768062/umc"}, "reply_to_user": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1571538998, "post_id": 58468210, "comment_id": 103273235, "body": "the timer uses scheduledTimerWithTimeInterval. if the timer gets fired every 0.02 sec, how to void overlapping timer calls?. is the lock as shown in the code indeed needed to prevent overlapping?. does &quot;Self.Mycount&quot; become 0 in middle of the for loop execution causing unexpected behaviors?. -thanks."}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 1, "last_activity_date": 1571550193, "creation_date": 1571550193, "answer_id": 58470362, "question_id": 58468210, "link": "https://stackoverflow.com/questions/58468210/how-to-make-sure-my-timer-run-is-race-free/58470362#58470362", "title": "How to make sure my timer run is race free", "body": "<p>You might be misunderstanding how <code>NSTimer</code> works.</p>\n\n<p><code>NSTimer</code> invocation is handled by a run loop, when a timer is scheduled it is attached to the current run loop. A run loop is, unsurprisingly, a <em>loop</em> and runs on a single thread. Each iteration of the run loop a check is made if any timer needs to be fired, and if so it is <em>called</em> and so the next operation the run loop will do cannot occur until that call returns...</p>\n\n<blockquote>\n  <p>the timer uses scheduledTimerWithTimeInterval. if the timer gets fired every 0.02 sec, how to void overlapping timer calls?</p>\n</blockquote>\n\n<p>Under normal circumstances calls simply cannot overlap as the next one cannot occur until the current one <em>returns</em>.</p>\n\n<p>Of course if you dispatch work asynchronously to another thread within your timer, start another run loop from within the timer and schedule the timer on that one as well, or any other creative way you come up with then it is possible to create the conditions for \"overlapping\" calls. Your <code>timerFireMethod:</code> is doing nothing like that and will simply be called, execute, and return.</p>\n\n<blockquote>\n  <p>does \"Self.Mycount\" become 0 in middle of the for loop execution causing unexpected behaviors?</p>\n</blockquote>\n\n<p>Probably \u2013\u00a0as your method isn't designed for that scenario. But unless you fire up another thread (using NSThread, GCD (dispatch), etc.), and have it set <code>Mycount</code> to zero its not going to happen.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 39, "user_id": 11768062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bbcacd3fa391de7029a622689806434?s=128&d=identicon&r=PG&f=1", "display_name": "umc", "link": "https://stackoverflow.com/users/11768062/umc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571550193, "creation_date": 1571520969, "question_id": 58468210, "link": "https://stackoverflow.com/questions/58468210/how-to-make-sure-my-timer-run-is-race-free", "title": "How to make sure my timer run is race free", "body": "<p>This is not the actual code, only to provide the idea behind the logic in actual code. Do I need a Mutex, mylock2 ,inside the timer function?. The timer runs every 0.02 seconds. Or, the timers are safe in that regard?. </p>\n\n<pre><code>Static NSTimer *mylock1 = nil;  //initialized and used for another purpose\nStatic NSTimer *mylock2 = nil   //initialized and used for the timer\n\n\n\n- (void)timerFireMethod:(NSTimer*)theTimer\n{\n    [mylock2  lock];\n     Self.Mycount = 0;\n     for (int j = 0; j &lt;n; j++)\n     {\n         if (b) NSLog(@\u201dHi\u201d);\n          else Self.Mycount = Self.Mycount + 1;\n     }\n     If (Self.Mycount == n)\n          [self stopMytimer];\n\n    [mylock2  unlock];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "localnotification"], "comments": [{"owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "edited": false, "score": 0, "creation_date": 1571533866, "post_id": 58467181, "comment_id": 103272724, "body": "For as long I been researching. I found that is not posible to open an app with URL schema from another if this is not in foreground"}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "is_accepted": false, "score": 0, "last_activity_date": 1571668193, "creation_date": 1571668193, "answer_id": 58488494, "question_id": 58467181, "link": "https://stackoverflow.com/questions/58467181/open-an-especific-app-from-notification-action-button-on-ios/58488494#58488494", "title": "open an especific app from notification Action Button on IOS?", "body": "<p>I just found the solution. At the moment you define the Notification action, you set the actionIdenfier, title and the options. The options arg needs to have <code>UNNotificationActionOptionForeground</code> option, which according to Apple documentation, will cause the app open in foreground, then in didReceiveNotificationResponse method if you have openURL you will be redirect to the app or safari according to the url schema.</p>\n"}], "owner": {"reputation": 107, "user_id": 10942821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e979f8e2c5489cd774ff00d99ba16b22?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/10942821/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571668193, "creation_date": 1571512594, "question_id": 58467181, "link": "https://stackoverflow.com/questions/58467181/open-an-especific-app-from-notification-action-button-on-ios", "title": "open an especific app from notification Action Button on IOS?", "body": "<p>I am working in a piece of functionality for an IOS app (with objective C) with local notifications using UserNotification framework.\nBy now, I was able to schedule a notification and It gets display properly. When I reach the issue with Actionable Notification Types (With Categories and Actions) I manage to display a notification with the Action. I actually could implement <code>UNUserNotificationCenterDelegate</code> correctly and verified if <code>didReceiveNotificationResponse</code> method was being call, and it was. But my problem is that I was trying to open maps app from there using URL scheme like this </p>\n\n<pre><code>- (void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void (^)(void))completionHandler{\n\nNSString * mapsURL = @\"http://maps.apple.com/?saddr=35.6813023,139.7640529&amp;daddr=33.4657901,132.6201192\";\n\n//if ( [response.actionIdentifier isEqualToString:@\"GoToMaps\" ]) {\n\n    //Display the map with URL\n    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:mapsURL] options:@{}  completionHandler:^(BOOL success) {\n        NSLog(@\"BOOL value: %d\",success);\n    }];\n//}\n\ncompletionHandler();\n}\n</code></pre>\n\n<p>NOTE: I am testing this app in a simulator.</p>\n\n<p>But this does not work because when the app is in background, this gives me 0 on <code>success</code> arg. But when I try this in a button that is in my app (application in foreground), this actually works.\nSo my question is:</p>\n\n<p>Is there a way I can open a different app (from where the notification was schedule) from Action buttons in the notification, not just maps, I mean, whatever app even if the app is closed or in background ?</p>\n\n<p>I said closed app but Apples documentation says that when a User selects and action, the system launches the app in the background and notifies the shared UNUserNotificationCenter object, which notifies its delegate. So it\u00b4s not going to be really closed (not running).</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nswindow", "nsalert"], "comments": [{"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1571488006, "post_id": 58462088, "comment_id": 103262755, "body": "The window can be moved differently depending on whether the Dock is always visible or auto-hides (it will move so that the sheet is out from under a currently visible Dock) - does it do the same thing on the left edge of the screen?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1571503223, "post_id": 58462088, "comment_id": 103266366, "body": "Is Reduce motion in the System Prefs switched on?"}, {"owner": {"reputation": 1, "user_id": 6931804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P-mzLn2TAXs/AAAAAAAAAAI/AAAAAAAAAI8/Afodt6IGV_M/photo.jpg?sz=128", "display_name": "stapoz", "link": "https://stackoverflow.com/users/6931804/stapoz"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1571506940, "post_id": 58462088, "comment_id": 103267396, "body": "Thank you @Willeke . That was it!!! When turn off the &quot;reduce motion&quot;, the window started to move when the alert is displayed."}], "owner": {"reputation": 1, "user_id": 6931804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P-mzLn2TAXs/AAAAAAAAAAI/AAAAAAAAAI8/Afodt6IGV_M/photo.jpg?sz=128", "display_name": "stapoz", "link": "https://stackoverflow.com/users/6931804/stapoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571476385, "creation_date": 1571475875, "last_edit_date": 1571476385, "question_id": 58462088, "link": "https://stackoverflow.com/questions/58462088/nsalert-not-visible-if-open-near-screen-edge-in-macos-catalina", "title": "NSAlert not visible if open near screen edge in macOS Catalina", "body": "<p>For windows located near the screen edges:</p>\n\n<p>On some monitors (or computers) NSAlert opened as a sheet on a window moves the window to make the alert sheet visible. But on some others monitors (or computers) windows near the screen edge are not moved and the sheet window is partially hidden beyond the screen edge. </p>\n\n<p>Below are two screenshots of the SAME program launched on MacBook(1) and mac mini (2). The main window of the program is very near to the screen edge:</p>\n\n<p><a href=\"https://i.stack.imgur.com/k3iew.jpg\" rel=\"nofollow noreferrer\">see: on MacBook the alert moves the window and its fully visible</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wxL9w.jpg\" rel=\"nofollow noreferrer\">see: on my mac mini with 4K display, the window is not moved and the alert is partially hidden</a></p>\n\n<p>This is how it looks on MacBook: <a href=\"https://youtu.be/CJQSvLWKyfM\" rel=\"nofollow noreferrer\">https://youtu.be/CJQSvLWKyfM</a>\nAnd the same program on Mac mini: <a href=\"https://youtu.be/Pfu6ODxubM0\" rel=\"nofollow noreferrer\">https://youtu.be/Pfu6ODxubM0</a></p>\n\n<p>Both computers have exactly same macOS (build level).\nAny settings to make the alert always fully visible?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "swiftui"], "comments": [{"owner": {"reputation": 2171, "user_id": 2553730, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zhW1V.jpg?s=128&g=1", "display_name": "guru", "link": "https://stackoverflow.com/users/2553730/guru"}, "edited": false, "score": 0, "creation_date": 1571495104, "post_id": 58461394, "comment_id": 103264351, "body": "If you are using SwiftUI then make sure your targeted user have ios13 or later"}, {"owner": {"reputation": 331, "user_id": 8350027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sJUz1.jpg?s=128&g=1", "display_name": "Y_Y", "link": "https://stackoverflow.com/users/8350027/y-y"}, "edited": false, "score": 0, "creation_date": 1572368753, "post_id": 58461394, "comment_id": 103534755, "body": "You can use the concept of bridging header to use objective c code in your swift code."}], "owner": {"reputation": 129, "user_id": 4716255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2259920a17b09c3be2427c20635176?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Jin", "link": "https://stackoverflow.com/users/4716255/ryan-jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 834, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1571476137, "creation_date": 1571469253, "question_id": 58461394, "link": "https://stackoverflow.com/questions/58461394/is-it-possible-to-merge-objective-c-project-with-swiftui-project", "title": "Is it Possible to Merge Objective-C Project with SwiftUI Project", "body": "<p>I am working on a project with a group of developers. They created a part of the app with objective-C, including UI, model, and controllers. I am using Swift on my end, and recently I've began using SwiftUI. The question, however, is</p>\n\n<p><strong>is it possible to integrate the Objective-C UI and code into my SwiftUI project. If so, how do I do it?</strong></p>\n\n<p>By integrating, I mean segueing between view controllers, passing data across view controllers. For example, if I'm creating a dairy app. I used Objective-C to create the table view consisting of daily entries and I used SwiftUI to create the individual daily entry creation page.</p>\n\n<p><strong>If merging Objective-C and SwiftUI is not possible. Is it possible between Objective-C and Swift?</strong></p>\n"}, {"tags": ["ios", "objective-c", "http", "networking"], "answers": [{"tags": [], "owner": {"reputation": 118981, "user_id": 12299030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hx4Fa.jpg?s=128&g=1", "display_name": "Asperi", "link": "https://stackoverflow.com/users/12299030/asperi"}, "is_accepted": false, "score": 0, "last_activity_date": 1578338138, "creation_date": 1578338138, "answer_id": 59617706, "question_id": 58458991, "link": "https://stackoverflow.com/questions/58458991/is-it-possible-to-interrupt-nsurlsessiondownloadtask-after-getting-headers-befo/59617706#59617706", "title": "Is it possible to interrupt NSURLSessionDownloadTask after getting headers, before start getting data?", "body": "<p>You need the following <code>delegate</code> method of <code>NSURLSession</code></p>\n\n<pre><code>@protocol NSURLSessionDataDelegate &lt;NSURLSessionTaskDelegate&gt;\n@optional\n/* The task has received a response and no further messages will be\n * received until the completion block is called. The disposition\n * allows you to cancel a request or to turn a data task into a\n * download task. This delegate message is optional - if you do not\n * implement it, you can get the response as a property of the task.\n *\n * This method will not be called for background upload tasks (which cannot be converted to download tasks).\n */\n- (void)URLSession:(NSURLSession *)session dataTask:(NSURLSessionDataTask *)dataTask\n                                 didReceiveResponse:(NSURLResponse *)response\n                                  completionHandler:(void (^)(NSURLSessionResponseDisposition disposition))completionHandler;\n</code></pre>\n\n<p>and the following cancelling method of <code>NSURLSessionDownloadTask</code></p>\n\n<pre><code>@interface NSURLSessionDownloadTask : NSURLSessionTask\n\n    /* Cancel the download (and calls the superclass -cancel).  If\n     * conditions will allow for resuming the download in the future, the\n     * callback will be called with an opaque data blob, which may be used\n     * with -downloadTaskWithResumeData: to attempt to resume the download.\n     * If resume data cannot be created, the completion handler will be\n     * called with nil resumeData.\n     */\n    - (void)cancelByProducingResumeData:(void (^)(NSData * _Nullable resumeData))completionHandler;\n</code></pre>\n\n<p>The mentioned delegate method is called right after complete response header has been received, so you can verify corresponding fields and make decision either to continue or to cancel.</p>\n"}], "owner": {"reputation": 479, "user_id": 730195, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/35e0f0d06c50d4d732cb2fc90a38943c?s=128&d=identicon&r=PG", "display_name": "darvin", "link": "https://stackoverflow.com/users/730195/darvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578338138, "creation_date": 1571438727, "question_id": 58458991, "link": "https://stackoverflow.com/questions/58458991/is-it-possible-to-interrupt-nsurlsessiondownloadtask-after-getting-headers-befo", "title": "Is it possible to interrupt NSURLSessionDownloadTask after getting headers, before start getting data?", "body": "<p>I have <code>NSURLSessionDownloadTask</code>, loading large file. Trying to check if it was modified since the specific timestamp on the server. Server (over which I have no control) doesnt seem to support <code>If-Modified-Since</code> header. </p>\n\n<p>I'd like to get Modification Date header, compare it with my value, and if its older - do not download. Is it possible to do that with <code>NSURLSessionDownloadTask</code> or I have to use <code>NSURLSessionDateTask</code> instead?</p>\n"}, {"tags": ["ios", "objective-c", "uitextview", "ios13"], "comments": [{"owner": {"reputation": 1504, "user_id": 8141336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p0wAi.jpg?s=128&g=1", "display_name": "kikiwora", "link": "https://stackoverflow.com/users/8141336/kikiwora"}, "edited": false, "score": 0, "creation_date": 1572601855, "post_id": 58456709, "comment_id": 103617590, "body": "I have another issue - for some reason, Text View does not automatically change its size on iPad running 13.2, but it does in on previous versions of iOS and Simulator with 13.2. The code is the same. It looks like a UIKit bug for me.  I&#39;ll answer if find something about this, but no much so far"}, {"owner": {"reputation": 1, "user_id": 3084779, "user_type": "registered", "profile_image": "https://graph.facebook.com/1749594798/picture?type=large", "display_name": "TwinDows", "link": "https://stackoverflow.com/users/3084779/twindows"}, "reply_to_user": {"reputation": 1504, "user_id": 8141336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p0wAi.jpg?s=128&g=1", "display_name": "kikiwora", "link": "https://stackoverflow.com/users/8141336/kikiwora"}, "edited": false, "score": 0, "creation_date": 1586372708, "post_id": 58456709, "comment_id": 108107896, "body": "Hi, did you already has a solution?"}], "owner": {"reputation": 1, "user_id": 3084779, "user_type": "registered", "profile_image": "https://graph.facebook.com/1749594798/picture?type=large", "display_name": "TwinDows", "link": "https://stackoverflow.com/users/3084779/twindows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571844507, "creation_date": 1571424997, "last_edit_date": 1571844507, "question_id": 58456709, "link": "https://stackoverflow.com/questions/58456709/uitextview-trimmed-in-ios-13", "title": "Uitextview trimmed in ios 13", "body": "<p>Since iOS 13.1.3 uitextview is trimmed ... this is not in iOS 12.2. </p>\n\n<p>Any help is welcome!</p>\n\n<p>See reports how uitextview presentation differs on iOS 12.2 and IOS 13.1.3\nHas it something todo with xcode versie 10.2 and 11?</p>\n\n<p>View in ios 12.2 with xcode 10.2\n(<a href=\"https://i.stack.imgur.com/2snbG.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2snbG.jpg</a>)</p>\n\n<p>View in ios 13 with xcode 11\n(<a href=\"https://i.stack.imgur.com/Zqudq.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Zqudq.jpg</a>)</p>\n\n<p>The text in the ios 13 report is trimmed... same code different xcode and ios versions</p>\n"}, {"tags": ["objective-c", "swift", "closures", "objective-c-blocks"], "comments": [{"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1571525502, "post_id": 58456380, "comment_id": 103271609, "body": "@Roman Podymov Did you give me answer. Could you please give me back?"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1571575725, "post_id": 58456380, "comment_id": 103279438, "body": "What is <code>BMErrors</code>?"}, {"owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1571575751, "post_id": 58456380, "comment_id": 103279445, "body": "That is my custom class"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 1, "creation_date": 1571576310, "post_id": 58456380, "comment_id": 103279597, "body": "Do you want to know how to call <code>completionData</code>? <code>self.completionData?(false, nil)</code>."}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1571669043, "post_id": 58456380, "comment_id": 103307848, "body": "Not at all. I will repost my previous comment as an answer."}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "edited": false, "score": 0, "creation_date": 1571669583, "post_id": 58456380, "comment_id": 103308142, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/201217/discussion-between-roman-podymov-and-reed\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": true, "score": 1, "last_activity_date": 1571686065, "creation_date": 1571686065, "answer_id": 58492955, "question_id": 58456380, "link": "https://stackoverflow.com/questions/58456380/pass-completion-block-from-swift-to-back-to-objective/58492955#58492955", "title": "pass completion block from swift to back to objective", "body": "<p>You can call <code>TestViewController.completionData</code> like this: <code>self.completionData?(false, error)</code> or <code>self.completionData?(false, nil)</code> if you don't want to pass <code>error</code>.</p>\n"}], "owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 58492955, "answer_count": 1, "score": 1, "last_activity_date": 1571686065, "creation_date": 1571423335, "last_edit_date": 1571670603, "question_id": 58456380, "link": "https://stackoverflow.com/questions/58456380/pass-completion-block-from-swift-to-back-to-objective", "title": "pass completion block from swift to back to objective", "body": "<p>Trying to get completion block back from swift code, but looks like I'm doing something wrong.</p>\n\n<p>My objC code which I want to replicate for my swift view controller <code>TestViewController</code></p>\n\n<p>I just need <code>Bool</code> and <code>BMError</code> back in completion block</p>\n\n<p>Code in which I'm doing wrong:</p>\n\n<pre><code>TestViewController *changeVC = [[TestViewController alloc] initWithCompletionData:completion ];\n</code></pre>\n\n<p>My swift code which I tried to replicate like objc function:</p>\n\n<pre><code>@objc public class TestViewController {\n\n    var completionData: ((Bool, BMErrors?) -&gt; Void)?\n\n    public required init?(coder aDecoder: NSCoder) {\n        fatalError(\"Not implemented\")\n    }\n\n    @objc public init(completionData completion: ((Bool, BMErrors?) -&gt; Void)?) {\n        super.init(nibName: nil, bundle: nil)\n        self.completionData = completion\n    }\n\n    func verifySuccess(result: QuestionResult, error: BMErrors?) {\n\n        if (result.success) {\n            // how to pass completionData\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11913180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176f5245c0e1a88f1afd7b21b18c5f5c?s=128&d=identicon&r=PG&f=1", "display_name": "iAmirhosein", "link": "https://stackoverflow.com/users/11913180/iamirhosein"}, "edited": false, "score": 0, "creation_date": 1571477655, "post_id": 58458628, "comment_id": 103260388, "body": "Thank you. But i said my question badly,I don&#39;t use storyboard.I want to use targetArray in myAR.m&#39;s function, I edited my question."}], "tags": [], "owner": {"reputation": 11, "user_id": 5578151, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002422475781/picture?type=large", "display_name": "Thiago Rios", "link": "https://stackoverflow.com/users/5578151/thiago-rios"}, "is_accepted": false, "score": 0, "last_activity_date": 1571509140, "last_edit_date": 1571509140, "creation_date": 1571435563, "answer_id": 58458628, "question_id": 58455951, "link": "https://stackoverflow.com/questions/58455951/add-objects-in-a-nsmutablearray-and-use-it-multiple-times-in-my-project-objecti/58458628#58458628", "title": "Add objects in a NSMutableArray and use it multiple times in my project (Objective C)", "body": "<p>If you working with storyboards and segues, follow these steps.</p>\n\n<ol>\n<li><p>After creating each Target1, just add it in a NSMutableArray variable like that:</p>\n\n<pre><code>NSMutableArray *targetArray = [NSMutableArray array];\nfor (NSDictionary *targetparameters in parsedJSONArray) {\n Target1 *target = [[Target1 alloc]init];\n\n  target.name = targetparameters[@\"name\"];\n  target.url = targetparameters[@\"url\"];\n  target.value = targetparameters[@\"value\"];\n  [targetArray addObject:target];\n}\n// step 3.1\n</code></pre></li>\n<li><p>So, in each ViewController as you need the targetArray, prepare a property to received it.</p>\n\n<pre><code>@interface ViewController2 : UIViewController\n\n@property (nonatomic, strong) NSMutableArray *targetArrayVC2;\n</code></pre></li>\n<li><p>Finally, in ViewController1, pass the targetArray via performSegue and prepareForSegue:segue:sender delegate.</p>\n\n<pre><code>// 3.1 \n[self performSegueWithIdentifier:@\"segueViewController2\" sender: targetArray];\n\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n        if ([[segue identifier] isEqualToString:@\"segueViewController2\"]){\n                ViewController2 *viewController2 = (ViewController2 *)[segue destinationViewController];\n                [viewController2 setTargetArrayVC2:sender]; // sender = targetArray\n        }\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 11913180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/176f5245c0e1a88f1afd7b21b18c5f5c?s=128&d=identicon&r=PG&f=1", "display_name": "iAmirhosein", "link": "https://stackoverflow.com/users/11913180/iamirhosein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571509140, "creation_date": 1571421502, "last_edit_date": 1571476578, "question_id": 58455951, "link": "https://stackoverflow.com/questions/58455951/add-objects-in-a-nsmutablearray-and-use-it-multiple-times-in-my-project-objecti", "title": "Add objects in a NSMutableArray and use it multiple times in my project (Objective C)", "body": "<p>I am new to Objective C, I'm trying to add objects to NSMutableArray and use it multiple times in my project. I have a Model class:</p>\n\n<p>MainTarget.h</p>\n\n<pre><code>@interface Target1 : NSObject\n\n@property (strong, nonatomic) NSString *name;\n@property (strong, nonatomic) NSString *url;\n@property (strong, nonatomic) NSString *value;\n\n\n\n- (instancetype) initWithTarget1: (NSString *)name andurl: (NSString *)url andvalue: (NSString *)value;\n\n\n\n@end\n</code></pre>\n\n<p>MainTarget.m</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n#import \"MainTarget.h\"\n\n@implementation Target1\n\n- (instancetype) initWithTarget1: (NSString *)name andurl: (NSString *)url andvalue: (NSString *)value {\n\n    self = [super init];\n\n    if (self) {\n        self.name = name;\n        self.url = url;\n        self.value = value;\n\n    }\n    return self;\n}\n\n\n@end\n</code></pre>\n\n<p>I get the results of my json in ViewController.m, and then create a object of Target1 and set Variables.</p>\n\n<pre><code>for (NSDictionary *targetparameters in parsedJSONArray) {\n Target1 *target = [[Target1 alloc]init];\n\n  target.name = targetparameters[@\"name\"];\n  target.url = targetparameters[@\"url\"];\n  target.value = targetparameters[@\"value\"];\n}\n</code></pre>\n\n<p>This is my json api.</p>\n\n<pre><code>[{\"id\":\"1\",\"cat_id\":\"0\",\"id_user\":\"0\",\"id_point\":\"1\",\"name\":\"\",\"phone\":\"\",\"url\":\"http:\\/\\/rsm.tours\\/api\\/folder\\/ar\\/aaaa19-07-09-5-13-38.png\",\"value\":\"http:\\/\\/rsm.tours\\/api\\/folder\\/ar\\/aaaa19-07-09-5-13-38.mp4\",\"state\":\"1\"},{\"id\":\"2\",\"cat_id\":\"0\",\"id_user\":\"0\",\"id_point\":\"1\",\"name\":\"\",\"phone\":\"\",\"url\":\"https:\\/\\/i.pinimg.com\\/736x\\/f9\\/24\\/43\\/f92443e14d3e08d773881aef156e55c2.jpg\",\"value\":\"https:\\/\\/hw20.cdn.asset.aparat.com\\/aparat-video\\/38888e829661bc305f7944b4f930c15515677561-144p__46889.mp4\",\"state\":\"1\"}]\n</code></pre>\n\n<p>I want to add target in a NSMutableArray and use it in a function (initialize) of myAR.m with a for loop.</p>\n\n<p>myAr.m </p>\n\n<pre><code>BOOL initialize()\n{\n      // for loop\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "error-handling", "cross-language"], "answers": [{"comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1571422283, "post_id": 58456013, "comment_id": 103249460, "body": "My comment to the other answer applies here as well: Apple documents that you should check the <i>return value</i> for success or failure, before attempting to do anything with the NSError object."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1571422318, "post_id": 58456013, "comment_id": 103249474, "body": "Yes @MartinR I&#39;m just about to add that. The OP has no return value which is another problem."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1571422402, "post_id": 58456013, "comment_id": 103249504, "body": "That is automatically translated: <code>@objc func requestHelloPage() throws</code> is imported to Obj-C as <code>- (BOOL)requestHelloPageAndReturnError:(NSError * *)error;</code>"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1571422524, "last_edit_date": 1571422524, "creation_date": 1571421771, "answer_id": 58456013, "question_id": 58455883, "link": "https://stackoverflow.com/questions/58455883/how-can-i-throw-an-nserror-from-a-swift-class-and-catch-it-in-an-objective-c-cla/58456013#58456013", "title": "How can I throw an NSError from a Swift class and catch it in an Objective-C class?", "body": "<p>The problem is that a Swift Error / Objective-C NSError is not an NSException. You are configured to catch NSExceptions but that is irrelevant.</p>\n\n<p>The way to \"catch\" an NSError in Objective-C when Swift throws an Error is by indirection with the <code>NSError**</code> parameter, just as it always has been.</p>\n\n<pre><code>NSError* err = nil;\nBOOL ok = [self.netServiceManager requestHelloPageAndReturnError:&amp;err];\nif (ok) {\n    // proceed normally\n} else {\n    // you got an error, it is sitting in `err`\n}\n</code></pre>\n\n<p>(Notice how Swift supplies a BOOL result exactly so you can implement the correct pattern.)</p>\n"}, {"comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1571421985, "post_id": 58456014, "comment_id": 103249336, "body": "This is not entirely correct. You <i>always</i> check the return value first. If that is <code>NO</code> (indicating a failure) <i>then</i> you can access  <code>serviceError</code>."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1571422146, "post_id": 58456014, "comment_id": 103249403, "body": "Reference: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ErrorHandlingCocoa/CreateCustomizeNSError/CreateCustomizeNSError.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>: Important: Success or failure is indicated by the return value of the method. Although Cocoa methods that indirectly return error objects in the Cocoa error domain are guaranteed to return such objects if the method indicates failure by directly returning nil or NO, you should always check that the return value is nil or NO before attempting to do anything with the NSError object."}, {"owner": {"reputation": 3196, "user_id": 6938357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7088513db0e85c841d99d4695717ba3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastin8", "link": "https://stackoverflow.com/users/6938357/procrastin8"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1571422155, "post_id": 58456014, "comment_id": 103249406, "body": "In what cases have you seen an error filled out but a successful operation?"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1571422542, "post_id": 58456014, "comment_id": 103249560, "body": "I haven&#39;t \u201cseen\u201d it because I always use the documented error checking pattern :)"}], "tags": [], "owner": {"reputation": 3196, "user_id": 6938357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7088513db0e85c841d99d4695717ba3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastin8", "link": "https://stackoverflow.com/users/6938357/procrastin8"}, "is_accepted": false, "score": 0, "last_activity_date": 1571421772, "creation_date": 1571421772, "answer_id": 58456014, "question_id": 58455883, "link": "https://stackoverflow.com/questions/58455883/how-can-i-throw-an-nserror-from-a-swift-class-and-catch-it-in-an-objective-c-cla/58456014#58456014", "title": "How can I throw an NSError from a Swift class and catch it in an Objective-C class?", "body": "<p>That's because you're using objective-c exceptions there, and not actually checking for an error. To check for errors in objective-c, you pass a reference to your pointer and your function will fill that error out if there was an issue.</p>\n\n<pre><code>NSError *serviceError = nil;\n[self.netServiceManager requestHelloPageAndReturnError:&amp;serviceError];\nif (serviceError) {\n    // there was a problem\n}\n</code></pre>\n\n<p>If this is an asynchronous call, you'll need to do this in a closure instead:</p>\n\n<pre><code>NSError *serviceError = nil;\n[self.netServiceManager requestHelloPage:^(NSError *error) {\n    if (error) {\n        // there was a problem\n    }\n}];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 848, "user_id": 5622224, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-76r67MNHX98/AAAAAAAAAAI/AAAAAAAAAOM/GIJbcKbo3vM/photo.jpg?sz=128", "display_name": "Pedro Trujillo", "link": "https://stackoverflow.com/users/5622224/pedro-trujillo"}, "is_accepted": false, "score": 0, "last_activity_date": 1571422815, "creation_date": 1571422815, "answer_id": 58456289, "question_id": 58455883, "link": "https://stackoverflow.com/questions/58455883/how-can-i-throw-an-nserror-from-a-swift-class-and-catch-it-in-an-objective-c-cla/58456289#58456289", "title": "How can I throw an NSError from a Swift class and catch it in an Objective-C class?", "body": "<p>In your Objective-C code you are Catching and NSException, not an NSError</p>\n\n<blockquote>\n  <p>Swift automatically bridges between the Error type and the NSError\n  class. Objective-C methods that produce errors are imported as Swift\n  methods that throw, and Swift methods that throw are imported as\n  Objective-C methods that produce errors, according to Objective-C\n  error conventions.</p>\n</blockquote>\n\n<p>for more information you can click <a href=\"https://www.uraimo.com/2015/11/03/error-handling-from-objective-c-to-swift-2-and-back/\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 21, "user_id": 12239883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e380966b451582865b73ee0827588025?s=128&d=identicon&r=PG&f=1", "display_name": "theCanabrava", "link": "https://stackoverflow.com/users/12239883/thecanabrava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "accepted_answer_id": 58456013, "answer_count": 3, "score": 1, "last_activity_date": 1571422815, "creation_date": 1571421126, "last_edit_date": 1571421571, "question_id": 58455883, "link": "https://stackoverflow.com/questions/58455883/how-can-i-throw-an-nserror-from-a-swift-class-and-catch-it-in-an-objective-c-cla", "title": "How can I throw an NSError from a Swift class and catch it in an Objective-C class?", "body": "<p>I need to implement a try-catch structure in Objective-C to handle Swift thrown NSErrors.</p>\n\n<p>I've written an NetService manager with Swift code and I am implementing it on an already existent Objective-C UI.</p>\n\n<p>However, whenever I throw an error from my Swift class, the try-catch structure fails to catch the error and proceeds to the finally block.</p>\n\n<p>Swift error definition:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>enum NEONetServiceErrors: Int\n{\n    case requestMadeWithoutIp\n}\n\nstruct NEONetServiceErrorStrings\n{\n    let requestMadeWithoutIp = [\"NEONetService Error: Request made without IP\": NEONetServiceErrors.requestMadeWithoutIp]\n}\n</code></pre>\n\n<p>Swift error throwing:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>@objc func requestHelloPage() throws\n{\n    if serviceiPAddress != nil\n    {\n        makeHelloRequest()\n    }\n    else\n    {\n        throw NSError(domain: errorStrings.domain, code: NEONetServiceErrors.requestMadeWithoutIp.rawValue, userInfo:errorStrings.requestMadeWithoutIp)\n    }\n}\n</code></pre>\n\n<p>Objective-C properties:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@property NEONetServiceManager* netServiceManager;\n@property NSError* _Nullable __autoreleasing * _Nullable netServiceError;\n</code></pre>\n\n<p>Objective-C error handling:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (IBAction)pressUpdateButton:(id)sender\n{\n    @try\n    {\n        [self.netServiceManager requestHelloPageAndReturnError: self.netServiceError];\n    }\n    @catch (NSException *exception)\n    {\n        NSLog(@\"Throwing\");\n    }\n    @finally\n    {\n        NSLog(@\"Finally\");\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2019-10-18 14:47:03.289268-0300 NEOFirmUpdate[16533:2389800] Start\n2019-10-18 14:47:03.292696-0300 NEOFirmUpdate[16533:2389800] Finally\n</code></pre>\n\n<p>Could you help me figure out what I am doing wrong with my error-handling?</p>\n"}, {"tags": ["objective-c", "swift", "macos"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1572016116, "post_id": 58453011, "comment_id": 103441278, "body": "From the FAQ of Witch: &quot;Witch uses a public API (Application Programming Interface) known as the Accessibility API to get information about open windows in other programs.&quot;"}, {"owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "edited": false, "score": 0, "creation_date": 1572103367, "post_id": 58453011, "comment_id": 103460815, "body": "Do you have a minimum working example that I could inspect and try to help you??"}], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "is_accepted": false, "score": 0, "last_activity_date": 1571937244, "creation_date": 1571937244, "answer_id": 58546206, "question_id": 58453011, "link": "https://stackoverflow.com/questions/58453011/separating-real-and-dummy-windows-returned-by-cgwindowlistcopywindowinfo/58546206#58546206", "title": "Separating real and dummy windows returned by CGWindowListCopyWindowInfo", "body": "<p>I'm not sure if this captures all the cases you're interested in, but if we take the array of dictionaries returned by <code>CGWindowListCopyWindowInfo()</code> and group the entries by <code>kCGWindowNumber</code> (the window ID), it looks like we'll end up with one of three cases:</p>\n\n<ul>\n<li>Only one dictionary entry has that window number (it's a simple widow, which may be on or off screen)</li>\n<li>Several dictionaries have that window id, and only one of them in the group has the key <code>kCGWindowIsOnscreen</code> set to 1: the others either lack the key or have it set to 0. This means we have a window with several tabs, and the entry with <code>kCGWindowIsOnscreen</code> set is the visible tab.</li>\n<li>Several dictionaries have that window id, and none have the key <code>kCGWindowIsOnscreen</code> set to 1 (it is missing or set to 0 in all cases). This means we have a window with several tabs that is currently off-screen.</li>\n</ul>\n\n<p>I'm assuming you're probably already filtering out anything that isn't in layer 0 (<code>kCGWindowLayer = 0</code>). It seems that most of the things that we visually perceive as a 'window' are in layer 0 (status menu items seem to be in layers with single or low double digits; widgets seem to be up around layer 100...).</p>\n\n<p>I don't see any simple, direct way to get at this, but you should be able to build this logic into something workable.</p>\n"}, {"tags": [], "owner": {"reputation": 2167, "user_id": 9497657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6iW6.png?s=128&g=1", "display_name": "AD Progress", "link": "https://stackoverflow.com/users/9497657/ad-progress"}, "is_accepted": false, "score": 0, "last_activity_date": 1572264049, "creation_date": 1572264049, "answer_id": 58590582, "question_id": 58453011, "link": "https://stackoverflow.com/questions/58453011/separating-real-and-dummy-windows-returned-by-cgwindowlistcopywindowinfo/58590582#58590582", "title": "Separating real and dummy windows returned by CGWindowListCopyWindowInfo", "body": "<p>How about using a different approach, by checking what apps are running and visible using the following:</p>\n\n<pre><code>let runningApps = NSWorkspace.shared.runningApplications.filter{ $0.activationPolicy == .regular }\n</code></pre>\n\n<p>If you <code>print(runningApps)</code> you will get a list of apps currently ran in your workspace.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 8267, "user_id": 1091378, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/611c4a6499f8d5a2938d773ea56e4edc?s=128&d=identicon&r=PG", "display_name": "Himanshu P", "link": "https://stackoverflow.com/users/1091378/himanshu-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1572264049, "creation_date": 1571409323, "last_edit_date": 1571499570, "question_id": 58453011, "link": "https://stackoverflow.com/questions/58453011/separating-real-and-dummy-windows-returned-by-cgwindowlistcopywindowinfo", "title": "Separating real and dummy windows returned by CGWindowListCopyWindowInfo", "body": "<p>I am creating a window switcher for macOS.</p>\n\n<p>I am using <a href=\"https://developer.apple.com/documentation/coregraphics/1455137-cgwindowlistcopywindowinfo\" rel=\"nofollow noreferrer\"><code>CGWindowListCopyWindowInfo</code></a> to get the list of open windows.</p>\n\n<pre><code>    let windows = CGWindowListCopyWindowInfo([.excludeDesktopElements], kCGNullWindowID)\n</code></pre>\n\n<p>I am not using the <a href=\"https://developer.apple.com/documentation/coregraphics/cgwindowlistoption/1454105-optiononscreenonly\" rel=\"nofollow noreferrer\"><code>optionOnScreenOnly</code></a> option along with <code>CGWindowListCopyWindowInfo</code> because that excludes off-<a href=\"https://support.apple.com/en-in/guide/mac-help/mh14112/mac\" rel=\"nofollow noreferrer\">space</a> windows.</p>\n\n<p>However, this leads to certain dummy windows also getting included in the list of windows. For example, there is a window present for each open tab on Xcode. There is also an additional invisible window for VLC player apart from the actual window. These windows aren't present if I use <code>optionOnScreenOnly</code>.</p>\n\n<p><strong>Is there a way to separate these dummy windows from actual windows?</strong> </p>\n\n<p>I have explored the <code>kCGWindowLayer</code> and <code>kCGWindowStoreType</code> keys in the dictionaries returned by <code>CGWindowListCopyWindowInfo</code> but couldn't tell the windows apart.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>I am open to both Swift and Objective-C solutions, as well as private API calls.</p>\n\n<p><strong>Edit 2</strong>:</p>\n\n<p>I know this is possible to do because the app <a href=\"https://manytricks.com/witch/\" rel=\"nofollow noreferrer\">Witch</a> handles these cases correctly.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uisearchbar", "uisearchbardelegate"], "owner": {"reputation": 13, "user_id": 11088916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f0522ec5f3050afe9d6c67f37d005fd?s=128&d=identicon&r=PG&f=1", "display_name": "O.Okmen", "link": "https://stackoverflow.com/users/11088916/o-okmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573548257, "creation_date": 1571408931, "last_edit_date": 1573548257, "question_id": 58452893, "link": "https://stackoverflow.com/questions/58452893/searchbar-disappears-from-tableview-header-after-cancel-button-click-tableview", "title": "Searchbar disappears from tableview header after Cancel button click / tableview reloadData function", "body": "<p>I've changed searchDisplayController with searchController for ios 8 support in my app where i use Objective-C.</p>\n\n<p>it works perfectly at the first try, but whenever i click on cancel button on search bar, after animation completes, my search bar disappears. I Do not want it to disappear, whenever i go back to main screen and come back to the search bar screen it appears perfectly.</p>\n\n<p>I've already tried to place search bar outside of the tableview in storyboard but doesn't work. I also tried almost every solution in the web that i can find.</p>\n\n<p>EDIT: i've tried same code block in another .m file and it worked fine within that screen, something overrides-reloads the tableview after cancel button i assume but i couldn't find what it is. What can it be? What am i missing?</p>\n\n<p>EDIT.2: tableview reloadData function makes it dissappear, still no solution for this.</p>\n\n<p>Here are the codes about the searchbar</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.searchController = [[UISearchController alloc] initWithSearchResultsController:nil];\n    self.searchController.searchResultsUpdater = self;\n    self.searchController.dimsBackgroundDuringPresentation = NO;\n    self.searchController.searchBar.delegate = self;\n    self.tableView.tableHeaderView =  self.searchController.searchBar;\n    self.definesPresentationContext = YES;\n    [self.searchController.searchBar sizeToFit];\n}\n\n-(void)viewWillAppear:(BOOL)animated{\n    [super viewWillAppear:animated];\n\n    [self.searchController.searchBar setTranslucent:NO];\n    [self.searchController.searchBar setBackgroundColor:_themeColor];\n}\n\n\n- (void)updateSearchResultsForSearchController:(UISearchController *)searchController\n{\n    NSString *searchString = searchController.searchBar.text;\n    [self searchForText:searchString];\n    [self.tableView reloadData];\n}\n- (void)searchBar:(UISearchBar *)searchBar selectedScopeButtonIndexDidChange:(NSInteger)selectedScope\n{\n  [self updateSearchResultsForSearchController:self.searchController];\n}\n\n- (void)searchForText:(NSString *)searchString\n{\n    [self filterContentForSearchText:searchString\n    scope:[[self.searchController.searchBar scopeButtonTitles]\n           objectAtIndex:[self.searchController.searchBar\n                          selectedScopeButtonIndex]]];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "ffmpeg"], "comments": [{"owner": {"reputation": 27067, "user_id": 210785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a561cd4d29738e18d9e565a6265d86ac?s=128&d=identicon&r=PG", "display_name": "szatmary", "link": "https://stackoverflow.com/users/210785/szatmary"}, "edited": false, "score": 0, "creation_date": 1571410341, "post_id": 58450311, "comment_id": 103244187, "body": "It depends on how you create the context. Please show that code."}, {"owner": {"reputation": 759, "user_id": 6852313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/njJN4.jpg?s=128&g=1", "display_name": "Darkwonder", "link": "https://stackoverflow.com/users/6852313/darkwonder"}, "reply_to_user": {"reputation": 27067, "user_id": 210785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a561cd4d29738e18d9e565a6265d86ac?s=128&d=identicon&r=PG", "display_name": "szatmary", "link": "https://stackoverflow.com/users/210785/szatmary"}, "edited": false, "score": 0, "creation_date": 1571668098, "post_id": 58450311, "comment_id": 103307315, "body": "Updated with creation code at the bottom of the Q."}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 1, "creation_date": 1586620780, "post_id": 58450311, "comment_id": 108196192, "body": "<code>avformat_close_input()</code> checks the pointer and the context for NULL. It will also fulush the streams for you. I would suggest to call <code>avformat_close_input(&amp;self.sessionContext))</code>: otherwise, you miss the purpose of the function that takes a pointer to context pointer and sets it to NULL."}], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 6852313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/njJN4.jpg?s=128&g=1", "display_name": "Darkwonder", "link": "https://stackoverflow.com/users/6852313/darkwonder"}, "edited": false, "score": 0, "creation_date": 1571727738, "post_id": 58489071, "comment_id": 103326407, "body": "Thank you. This was a mistake. Commenting on the avformat_close_input is correct but didn&#39;t solve the issue. However, I am coming closer to the proper solution. It is a threading issue. I don&#39;t understand what is going on. I will update the answer with the newly found knowledge."}], "tags": [], "owner": {"reputation": 27067, "user_id": 210785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a561cd4d29738e18d9e565a6265d86ac?s=128&d=identicon&r=PG", "display_name": "szatmary", "link": "https://stackoverflow.com/users/210785/szatmary"}, "is_accepted": false, "score": 3, "last_activity_date": 1571670170, "creation_date": 1571670170, "answer_id": 58489071, "question_id": 58450311, "link": "https://stackoverflow.com/questions/58450311/how-to-properly-close-a-ffmpeg-stream-and-avformatcontext-without-leaking-memory/58489071#58489071", "title": "How to properly close a FFmpeg stream and AVFormatContext without leaking memory?", "body": "<p>If you use av_format_open_input to open a file, you must use avformat_close_input to free it. Using free_context will leak all io related allocations. </p>\n"}], "owner": {"reputation": 759, "user_id": 6852313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/njJN4.jpg?s=128&g=1", "display_name": "Darkwonder", "link": "https://stackoverflow.com/users/6852313/darkwonder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1209, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576247609, "creation_date": 1571399472, "last_edit_date": 1571729264, "question_id": 58450311, "link": "https://stackoverflow.com/questions/58450311/how-to-properly-close-a-ffmpeg-stream-and-avformatcontext-without-leaking-memory", "title": "How to properly close a FFmpeg stream and AVFormatContext without leaking memory?", "body": "<p>I have built an app that uses <code>FFmpeg</code> to connect to remote IP cameras in order to receive video and audio frames via <code>RTSP 2.0</code>.</p>\n\n<p>The app is built using <code>Xcode 10-11</code> and <code>Objective-C</code> with a custom <code>FFmpeg</code> build config.</p>\n\n<p>The architecture is the following:</p>\n\n<pre><code>MyApp\n\n\nDocument_0\n\n    RTSPContainerObject_0\n        RTSPObject_0\n\n    RTSPContainerObject_1\n        RTSPObject_1\n\n    ...\nDocument_1\n...\n</code></pre>\n\n<p><strong>GOAL</strong>: </p>\n\n<ol>\n<li>After closing <code>Document_0</code> no <code>FFmpeg</code> objects should be leaked.</li>\n<li>The closing process should stop-frame reading and destroy all objects which use <code>FFmpeg</code>.</li>\n</ol>\n\n<p><strong>PROBLEM:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/u560L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u560L.png\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li>Somehow Xcode's memory debugger shows two instances of <code>MyApp</code>.</li>\n</ol>\n\n<p>FACTS: </p>\n\n<ul>\n<li><p>macOS'es Activity Monitor doesn't show two instances of <code>MyApp</code>.</p></li>\n<li><p>macOS'es Activity Monitor doesn't any instances of FFmpeg or other child processes.</p></li>\n<li><p>The issue is not related to some leftover memory due to a late memory snapshot since it can be reproduced easily.</p></li>\n<li><p>Xcode's memory debugger shows that the second instance only having <code>RTSPObject's</code> <code>AVFormatContext</code> and no other objects.</p>\n\n<ol start=\"2\">\n<li>The second instance has an <code>AVFormatContext</code> and the <code>RTPSObject</code> still has a pointer to the <code>AVFormatContext</code>.</li>\n</ol></li>\n</ul>\n\n<p>FACTS:</p>\n\n<ul>\n<li>Opening and closing the second document <code>Document_1</code> leads to the same problem and having two objects leaked. This means that there is a bug that creates scalable problems. More and more memory is used and unavailable.</li>\n</ul>\n\n<p>Here is my termination code:</p>\n\n<pre><code>   - (void)terminate\n{\n    // * Video and audio frame provisioning termination *\n    [self stopVideoStream];\n    [self stopAudioStream];\n    // *\n\n    // * Video codec termination *\n    avcodec_free_context(&amp;_videoCodecContext); // NULL pointer safe.\n    self.videoCodecContext = NULL;\n    // *\n\n// * Audio codec termination *\navcodec_free_context(&amp;_audioCodecContext); // NULL pointer safe.\nself.audioCodecContext = NULL;\n// *\n\nif (self.packet)\n{\n    // Free the packet that was allocated by av_read_frame.\n    av_packet_unref(&amp;packet); // The documentation doesn't mention NULL safety.\n    self.packet = NULL;\n}\n\nif (self.currentAudioPacket)\n{\n    av_packet_unref(_currentAudioPacket);\n    self.currentAudioPacket = NULL;\n}\n\n// Free raw frame data.\nav_freep(&amp;_rawFrameData); // NULL pointer safe.\n\n// Free the swscaler context swsContext.\nself.isFrameConversionContextAllocated = NO;\nsws_freeContext(scallingContext); // NULL pointer safe.\n\n[self.audioPacketQueue removeAllObjects];\n\nself.audioPacketQueue = nil;\n\nself.audioPacketQueueLock = nil;\nself.packetQueueLock = nil;\nself.audioStream = nil;\nBXLogInDomain(kLogDomainSources, kLogLevelVerbose, @\"%s:%d: All streams have been terminated!\", __FUNCTION__, __LINE__);\n\n// * Session context termination *\nAVFormatContext *pFormatCtx = self.sessionContext;\nBOOL shouldProceedWithInputSessionTermination = self.isInputStreamOpen &amp;&amp; self.shouldTerminateStreams &amp;&amp; pFormatCtx;\nNSLog(@\"\\nTerminating session context...\");\nif (shouldProceedWithInputSessionTermination)\n{\n    NSLog(@\"\\nTerminating...\");\n    //av_write_trailer(pFormatCtx);\n    // Discard all internally buffered data.\n    avformat_flush(pFormatCtx); // The documentation doesn't mention NULL safety.\n    // Close an opened input AVFormatContext and free it and all its contents.\n    // WARNING: Closing an non-opened stream will cause avformat_close_input to crash.\n    avformat_close_input(&amp;pFormatCtx); // The documentation doesn't mention NULL safety.\n    NSLog(@\"Logging leftovers - %p, %p  %p\", self.sessionContext, _sessionContext, pFormatCtx);\n    avformat_free_context(pFormatCtx);\n\n    NSLog(@\"Logging content = %c\", *self.sessionContext);\n    //avformat_free_context(pFormatCtx); - Not needed because avformat_close_input is closing it.\n    self.sessionContext = NULL;\n}\n// *\n\n}\n</code></pre>\n\n<p><strong>IMPORTANT:</strong> The termination sequence is:</p>\n\n<pre><code>    New frame will be read.\n-[(RTSPObject)StreamInput currentVideoFrameDurationSec]\n-[(RTSPObject)StreamInput frameDuration:]\n-[(RTSPObject)StreamInput currentCGImageRef]\n-[(RTSPObject)StreamInput convertRawFrameToRGB]\n-[(RTSPObject)StreamInput pixelBufferFromImage:]\n-[(RTSPObject)StreamInput cleanup]\n-[(RTSPObject)StreamInput dealloc]\n-[(RTSPObject)StreamInput stopVideoStream]\n-[(RTSPObject)StreamInput stopAudioStream]\n\nTerminating session context...\nTerminating...\nLogging leftovers - 0x109ec6400, 0x109ec6400  0x109ec6400\nLogging content = \\330\n-[Document dealloc]\n</code></pre>\n\n<p><strong>NOT WORKING SOLUTIONS:</strong></p>\n\n<ul>\n<li>Changing the order of object releases (The <code>AVFormatContext</code> has been freed first but it didn't lead to any change).</li>\n<li>Calling <code>RTSPObject's cleanup</code> method much sooner to give <code>FFmpeg</code> more time to handle object releases.</li>\n<li>Reading a lot of SO answers and <code>FFmpeg</code> documentation to find a clean cleanup process or newer code which might highlight why the object release doesn't happen properly.</li>\n</ul>\n\n<p>I am currently reading the documentation on <code>AVFormatContext</code> since I believe that I am forgetting to release something. This believe is based on the memory debuggers output that <code>AVFormatContext</code> is still around.</p>\n\n<p>Here is my creation code:</p>\n\n<pre><code>#pragma mark # Helpers - Start\n\n- (NSError *)openInputStreamWithVideoStreamId:(int)videoStreamId\n                                audioStreamId:(int)audioStreamId\n                                     useFirst:(BOOL)useFirstStreamAvailable\n                                       inInit:(BOOL)isInitProcess\n{\n    // NSLog(@\"%s\", __PRETTY_FUNCTION__); // RTSP\n    self.status = StreamProvisioningStatusStarting;\n    AVCodec *decoderCodec;\n    NSString *rtspURL = self.streamURL;\n    NSString *errorMessage = nil;\n    NSError *error = nil;\n\n    self.sessionContext = NULL;\n    self.sessionContext = avformat_alloc_context();\n\n    AVFormatContext *pFormatCtx = self.sessionContext;\n    if (!pFormatCtx)\n    {\n        // Create approp error.\n        return error;\n    }\n\n\n    // MUST be called before avformat_open_input().\n    av_dict_free(&amp;_sessionOptions);\n\n        self.sessionOptions = 0;\n        if (self.usesTcp)\n        {\n            // \"rtsp_transport\" - Set RTSP transport protocols.\n            // Allowed are: udp_multicast, tcp, udp, http.\n            av_dict_set(&amp;_sessionOptions, \"rtsp_transport\", \"tcp\", 0);\n        }\n        av_dict_set(&amp;_sessionOptions, \"rtsp_transport\", \"tcp\", 0);\n\n    // Open an input stream and read the header with the demuxer options.\n    // WARNING: The stream must be closed with avformat_close_input()\n    if (avformat_open_input(&amp;pFormatCtx, rtspURL.UTF8String, NULL, &amp;_sessionOptions) != 0)\n    {\n        // WARNING: Note that a user-supplied AVFormatContext (pFormatCtx) will be freed on failure.\n        self.isInputStreamOpen = NO;\n        // Create approp error.\n        return error;\n    }\n\n    self.isInputStreamOpen = YES;\n\n    // user-supplied AVFormatContext pFormatCtx might have been modified.\n    self.sessionContext = pFormatCtx;\n\n    // Retrieve stream information.\n    if (avformat_find_stream_info(pFormatCtx,NULL) &lt; 0)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    // Find the first video stream\n    int streamCount = pFormatCtx-&gt;nb_streams;\n\n    if (streamCount == 0)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    int noStreamsAvailable = pFormatCtx-&gt;streams == NULL;\n\n    if (noStreamsAvailable)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    // Result. An Index can change, an identifier shouldn't.\n    self.selectedVideoStreamId = STREAM_NOT_FOUND;\n    self.selectedAudioStreamId = STREAM_NOT_FOUND;\n\n    // Fallback.\n    int firstVideoStreamIndex = STREAM_NOT_FOUND;\n    int firstAudioStreamIndex = STREAM_NOT_FOUND;\n\n    self.selectedVideoStreamIndex = STREAM_NOT_FOUND;\n    self.selectedAudioStreamIndex = STREAM_NOT_FOUND;\n\n    for (int i = 0; i &lt; streamCount; i++)\n    {\n        // Looking for video streams.\n        AVStream *stream = pFormatCtx-&gt;streams[i];\n        if (!stream) { continue; }\n        AVCodecParameters *codecPar = stream-&gt;codecpar;\n        if (!codecPar) { continue; }\n\n        if (codecPar-&gt;codec_type==AVMEDIA_TYPE_VIDEO)\n        {\n            if (stream-&gt;id == videoStreamId)\n            {\n                self.selectedVideoStreamId = videoStreamId;\n                self.selectedVideoStreamIndex = i;\n            }\n\n            if (firstVideoStreamIndex == STREAM_NOT_FOUND)\n            {\n                firstVideoStreamIndex = i;\n            }\n        }\n        // Looking for audio streams.\n        if (codecPar-&gt;codec_type==AVMEDIA_TYPE_AUDIO)\n        {\n            if (stream-&gt;id == audioStreamId)\n            {\n                self.selectedAudioStreamId = audioStreamId;\n                self.selectedAudioStreamIndex = i;\n            }\n\n            if (firstAudioStreamIndex == STREAM_NOT_FOUND)\n            {\n                firstAudioStreamIndex = i;\n            }\n        }\n    }\n\n    // Use first video and audio stream available (if possible).\n\n    if (self.selectedVideoStreamIndex == STREAM_NOT_FOUND &amp;&amp; useFirstStreamAvailable &amp;&amp; firstVideoStreamIndex != STREAM_NOT_FOUND)\n    {\n        self.selectedVideoStreamIndex = firstVideoStreamIndex;\n        self.selectedVideoStreamId = pFormatCtx-&gt;streams[firstVideoStreamIndex]-&gt;id;\n    }\n\n    if (self.selectedAudioStreamIndex == STREAM_NOT_FOUND &amp;&amp; useFirstStreamAvailable &amp;&amp; firstAudioStreamIndex != STREAM_NOT_FOUND)\n    {\n        self.selectedAudioStreamIndex = firstAudioStreamIndex;\n        self.selectedAudioStreamId = pFormatCtx-&gt;streams[firstAudioStreamIndex]-&gt;id;\n    }\n\n    if (self.selectedVideoStreamIndex == STREAM_NOT_FOUND)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    // See AVCodecID for codec listing.\n\n    // * Video codec setup:\n    // 1. Find the decoder for the video stream with the gived codec id.\n    AVStream *stream = pFormatCtx-&gt;streams[self.selectedVideoStreamIndex];\n    if (!stream)\n    {\n        // Create approp error.\n        return error;\n    }\n    AVCodecParameters *codecPar = stream-&gt;codecpar;\n    if (!codecPar)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    decoderCodec = avcodec_find_decoder(codecPar-&gt;codec_id);\n    if (decoderCodec == NULL)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    // Get a pointer to the codec context for the video stream.\n    // WARNING: The resulting AVCodecContext should be freed with avcodec_free_context().\n    // Replaced:\n    // self.videoCodecContext = pFormatCtx-&gt;streams[self.selectedVideoStreamIndex]-&gt;codec;\n    // With:\n    self.videoCodecContext = avcodec_alloc_context3(decoderCodec);\n    avcodec_parameters_to_context(self.videoCodecContext,\n                                  codecPar);\n\n    self.videoCodecContext-&gt;thread_count = 4;\n    NSString *description = [NSString stringWithUTF8String:decoderCodec-&gt;long_name];\n\n    // 2. Open codec.\n    if (avcodec_open2(self.videoCodecContext, decoderCodec, NULL) &lt; 0)\n    {\n        // Create approp error.\n        return error;\n    }\n\n    // * Audio codec setup:\n    if (self.selectedAudioStreamIndex &gt; -1)\n    {\n        [self setupAudioDecoder];\n    }\n\n    // Allocate a raw video frame data structure. Contains audio and video data.\n    self.rawFrameData = av_frame_alloc();\n\n    self.outputWidth = self.videoCodecContext-&gt;width;\n    self.outputHeight = self.videoCodecContext-&gt;height;\n\n    if (!isInitProcess)\n    {\n        // Triggering notifications in init process won't change UI since the object is created locally. All\n        // objects which need data access to this object will not be able to get it. Thats why we don't notifiy anyone about the changes.\n        [NSNotificationCenter.defaultCenter postNotificationName:NSNotification.rtspVideoStreamSelectionChanged\n                                                          object:nil userInfo: self.selectedVideoStream];\n\n        [NSNotificationCenter.defaultCenter postNotificationName:NSNotification.rtspAudioStreamSelectionChanged\n                                                          object:nil userInfo: self.selectedAudioStream];\n    }\n\n    return nil;\n}\n</code></pre>\n\n<p><strong>UPDATE 1</strong></p>\n\n<p>The initial architecture allowed using any given thread. Most of the below code would mostly run on the main thread. This solution was not appropriate since the opening of the stream input can take several seconds for which the main thread is blocked while waiting for a network response inside <code>FFmpeg</code>. To solve this issue I have implemented the following solution:</p>\n\n<ul>\n<li>Creation and the initial setup are only allowed on the <code>background_thread</code> (see code snippet \"1\" below).</li>\n<li>Changes are allowed on the <code>current_thread(Any)</code>.</li>\n<li>Termination is allowed on the <code>current_thread(Any)</code>.</li>\n</ul>\n\n<p>After removing <code>main thread</code> checks and <code>dispatch_asyncs</code> to background threads, leaking has stopped and I can't reproduce the issue anymore:</p>\n\n<pre><code>// Code that produces the issue.   \ndispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n    // 1 - Create and do initial setup. \n    // This block creates the issue. \n[self.rtspObject = [[RTSPObject alloc] initWithURL: ... ];\n[self.rtspObject openInputStreamWithVideoStreamId: ...\n                                audioStreamId: ...\n                                     useFirst: ...\n                                       inInit: ...];\n});\n</code></pre>\n\n<p>I still don't understand why Xcode's memory debugger says that this block is retained?</p>\n\n<p>Any advice or idea is welcome.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "iboutlet"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1571394359, "post_id": 58448839, "comment_id": 103235676, "body": "Its possible but not the way you are doing it. Dont assing to <code>self</code> and use the <code>owner</code>"}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1571394479, "post_id": 58448839, "comment_id": 103235751, "body": "@Sulthan can you explain more? where should I make this change ?"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1571399882, "post_id": 58448839, "comment_id": 103238448, "body": "@taratandel - this looks like a pretty good step-by-step tutorial: <a href=\"https://medium.com/@brianclouser/creating-a-custom-view-using-a-xib-in-objective-c-6041140a16ca\" rel=\"nofollow noreferrer\">medium.com/@brianclouser/&hellip;</a>  ... If you want to see the buttons / content of your xib when laying out the views in Storyboard, you will also need to implement <code>IBDesignable</code>"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1571402354, "post_id": 58448839, "comment_id": 103239756, "body": "@taratandel In short, you cannot load a class <code>StatusBarView</code> from the initiazer of <code>StatusBarView</code>. Instead, you normally create <code>self</code> using <code>self = [super init...]</code> and then you load a <i>view</i> from the nib and add it as subview of the <code>StatusBarView</code> instance. That means that you have to pass <code>self</code> as the owner and in the xib the container view will have type <code>UIView</code> and the owner will have type <code>StatusBarView</code>."}, {"owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1571403736, "post_id": 58448839, "comment_id": 103240531, "body": "@DonMag thanks this tutorial was what I needed."}], "answers": [{"tags": [], "owner": {"reputation": 3981, "user_id": 3004003, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4e3c5f99203dce2ba12b9cc9ef2b4328?s=128&d=identicon&r=PG&f=1", "display_name": "schmidt9", "link": "https://stackoverflow.com/users/3004003/schmidt9"}, "is_accepted": true, "score": 0, "last_activity_date": 1571399805, "creation_date": 1571399805, "answer_id": 58450405, "question_id": 58448839, "link": "https://stackoverflow.com/questions/58448839/use-custom-uiview-as-iboutlet-in-xib/58450405#58450405", "title": "Use Custom UIView as IBOutlet in .xib", "body": "<p>Loading custom views from XIB is not as simple as it would seem to be. I created a custom class for that containing a bunch of convenience methods. So to make this work you have to let your custom view inherit from this class and set <code>bundle</code> property for it, also by default your class name should be the same as XIB name</p>\n\n<p><strong>Interface</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\n@interface MLSXibLoadingView : UIView\n\n- (instancetype)initWithWidth:(CGFloat)width;\n\n- (instancetype)initWithHeight:(CGFloat)height;\n\n- (instancetype)initWithXibClass:(Class)xibClass;\n\n- (instancetype)initFromXib;\n\n- (instancetype)commonInit;\n\n- (void)setup;\n\n- (void)layoutDone;\n\n- (void)localize;\n\n- (void)update;\n\n- (NSLayoutConstraint *)constraintWithIdentifier:(NSString *)identifier;\n\n- (void)setConstant:(CGFloat)constant forConstraintWithIdentifier:(NSString *)identifier;\n\n@property (nonatomic) NSBundle *bundle;\n@property (nonatomic) BOOL layoutIsDone;\n\n@end\n</code></pre>\n\n<p><strong>Implementation</strong></p>\n\n<pre><code>#import \"MLSXibLoadingView.h\"\n\n\n@implementation MLSXibLoadingView\n\n- (instancetype)init\n{\n    self = [super init];\n    if (self) {\n        self = [self commonInit];\n    }\n    return self;\n}\n\n- (instancetype)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        self = [self commonInit];\n    }\n    return self;\n}\n\n- (id)awakeAfterUsingCoder:(NSCoder *)aDecoder\n{\n    if (!self.subviews.count) {\n        return [self commonInit];\n    }\n\n    return self;\n}\n\n- (void)layoutSubviews\n{\n    [super layoutSubviews];\n\n    if (!_layoutIsDone) {\n        _layoutIsDone = YES;\n        [self layoutDone];\n    }\n}\n\n- (instancetype)initWithWidth:(CGFloat)width\n{\n    self = [self commonInitAssigningFrame:NO];\n    self.frame = [MLSUtils rect:self.frame scaledToWidth:width];\n    return self;\n}\n\n- (instancetype)initWithHeight:(CGFloat)height\n{\n    self = [self commonInitAssigningFrame:NO];\n    self.frame = [MLSUtils rect:self.frame scaledToHeight:height];\n    return self;\n}\n\n- (instancetype)initWithXibClass:(Class)xibClass\n{\n    return [self commonInitAssigningFrame:NO xibClass:xibClass];\n}\n\n- (instancetype)initFromXib\n{\n    return [self commonInitAssigningFrame:NO];\n}\n\n- (instancetype)commonInit\n{\n    return [self commonInitAssigningFrame:YES];\n}\n\n- (void)setup\n{\n}\n\n- (void)layoutDone\n{\n}\n\n- (void)localize\n{\n}\n\n- (void)update\n{\n}\n\n- (NSBundle *)bundle\n{\n    return nil; // implement in subclasses\n}\n\n- (instancetype)commonInitAssigningFrame:(BOOL)assignFrame\n{\n    return [self commonInitAssigningFrame:assignFrame xibClass:self.class];\n}\n\n- (instancetype)commonInitAssigningFrame:(BOOL)assignFrame xibClass:(Class)xibClass\n{\n    NSBundle *b = [self bundle];\n    assert(b);\n\n    NSString *xibName = NSStringFromClass(xibClass);\n    assert([b pathForResource:xibName ofType:@\"nib\"]);\n\n    MLSXibLoadingView *xibView = [b loadNibNamed:xibName owner:nil options:nil][0];\n    xibView.frame = assignFrame ? self.frame : xibView.frame;\n    xibView.autoresizingMask = self.autoresizingMask;\n    xibView.translatesAutoresizingMaskIntoConstraints = self.translatesAutoresizingMaskIntoConstraints;\n\n    for (NSLayoutConstraint *constraint in self.constraints) {\n        id firstItem = constraint.firstItem;\n\n        if (firstItem == self) {\n            firstItem = xibView;\n        }\n\n        id secondItem = constraint.secondItem;\n\n        if (secondItem == self) {\n            secondItem = xibView;\n        }\n\n        NSLayoutConstraint *newConstraint = [NSLayoutConstraint constraintWithItem:firstItem\n                                                                         attribute:constraint.firstAttribute\n                                                                         relatedBy:constraint.relation\n                                                                            toItem:secondItem\n                                                                         attribute:constraint.secondAttribute\n                                                                        multiplier:constraint.multiplier\n                                                                          constant:constraint.constant];\n\n        newConstraint.priority = constraint.priority;\n        newConstraint.identifier = constraint.identifier;\n\n        [xibView addConstraint:newConstraint];\n    }\n\n    return xibView;\n}\n\n- (NSLayoutConstraint *)constraintWithIdentifier:(NSString *)identifier\n{\n    for (NSLayoutConstraint *constraint in self.constraints) {\n        if ([constraint.identifier isEqualToString:identifier]) {\n            return constraint;\n        }\n    }\n\n    return nil;\n}\n\n/**\n * Use this method to change constraint constant with given identifier because constraints outlets get invalid\n * after view exchange in commonInitAssigningFrame: method\n */\n- (void)setConstant:(CGFloat)constant forConstraintWithIdentifier:(NSString *)identifier\n{\n    for (NSLayoutConstraint *constraint in self.constraints) {\n        if ([constraint.identifier isEqualToString:identifier]) {\n            constraint.constant = constant;\n            break;\n        }\n    }\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 3036449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kiul0.jpg?s=128&g=1", "display_name": "tara tandel", "link": "https://stackoverflow.com/users/3036449/tara-tandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58450405, "answer_count": 1, "score": 0, "last_activity_date": 1571399805, "creation_date": 1571394009, "question_id": 58448839, "link": "https://stackoverflow.com/questions/58448839/use-custom-uiview-as-iboutlet-in-xib", "title": "Use Custom UIView as IBOutlet in .xib", "body": "<p>I have a custom class inherited from <code>UIView</code> </p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>@interface StatusBarView : UIView\n\n@property (weak, nonatomic) id &lt;ActivationStatusDelegate&gt; delegate;\n\n\n//MARK: init\n- (id) initWithCustom: (struct WidgetCustom *) widget;\n- (id) initWithStatus:(ActivationBtnStatus) activeStatus;\n\n//MARK: Function\n- (void) setStatus: (ActivationBtnStatus) status;\n@end\n\n</code></pre>\n\n<p>and this is a part of implementation </p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>@interface StatusBarView ()\n@property (strong, nonatomic) IBOutlet UIButton *button1;\n@property (strong, nonatomic) IBOutlet UIButton *button2;\n\n- (void) createDefaultWidget;\n\n@end\n\n@implementation StatusBarView\n\nActivationBtnStatus status = noStatus;\nstruct WidgetCustom widget;\nbool isWidgetSet = false;\n- (void)awakeFromNib {\n    [super awakeFromNib];\n    if (!isWidgetSet) {\n        [self createDefaultWidget];\n    }\n    [self createButton];\n}\n- (instancetype)initWithCoder:(NSCoder *)coder\n{\n    self = [super initWithCoder:coder];\n    if (self) {\n\n        [self createDefaultWidget];\n        [self createButton];\n    }\n    return self;\n}\n\n- (void)layoutSubviews {\n    CAShapeLayer * maskLayer1 = [CAShapeLayer layer];\n    maskLayer1.path = [UIBezierPath bezierPathWithRoundedRect: self.bounds byRoundingCorners: UIRectCornerBottomRight | UIRectCornerTopRight cornerRadii: (CGSize){10.0, 10.}].CGPath;\n    CAShapeLayer * maskLayer2 = [CAShapeLayer layer];\n    maskLayer2.path = [UIBezierPath bezierPathWithRoundedRect: self.bounds byRoundingCorners: UIRectCornerBottomLeft | UIRectCornerTopLeft cornerRadii: (CGSize){10.0, 10.}].CGPath;\n\n    _button1.layer.mask = maskLayer1;\n    _button2.layer.mask = maskLayer2;\n\n}\n\n\n- (id)initWithCustom:(struct WidgetCustom *) widget {\n    self = [[[NSBundle mainBundle] loadNibNamed:@\"ActivationStatus\" owner:nil options:nil] lastObject];\n\n    if (self) {\n        isWidgetSet = true;\n        widget = widget;\n    }\n\n    return self;\n}\n\n- (id)initWithStatus:(ActivationBtnStatus)activeStatus {\n    self = [[[NSBundle mainBundle] loadNibNamed:@\"ActivationStatus\" owner:nil options:nil] lastObject];\n\n    if (self) {\n        status = activeStatus;\n    }\n\n    return self;\n}\n}\n</code></pre>\n\n<p>and this is how I managed the .xib file \nFile's Owner's class is empty and there is no outlet for that</p>\n\n<p><a href=\"https://i.stack.imgur.com/vJt7G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJt7G.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/4EWSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4EWSu.png\" alt=\"enter image description here\"></a></p>\n\n<p>The outlets are connected to the view instead and I set <code>StatusBarView</code> class for the .xib file's view like below </p>\n\n<p><a href=\"https://i.stack.imgur.com/uQxIh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQxIh.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/fB5KG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fB5KG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now In different ViewController I want to use this class as an IBOutlet like This without needing any more initialisation: \n<a href=\"https://i.stack.imgur.com/UK4cg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UK4cg.png\" alt=\"enter image description here\"></a></p>\n\n<p>but the result is just a gray view. \nis it possible to such do such things? if yes please tell me where I'm going wrong? </p>\n"}, {"tags": ["objective-c", "xcode", "precompiled-headers", "pch"], "comments": [{"owner": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "edited": false, "score": 1, "creation_date": 1571387381, "post_id": 58446046, "comment_id": 103231902, "body": "Please include the relevant detail in the question, not as links. Actual content is much more helpful than pictures, that may not render on some screens."}, {"owner": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "edited": false, "score": 0, "creation_date": 1571387538, "post_id": 58446046, "comment_id": 103231989, "body": "Please tag questions with the actual version of the language yo are using, not multiple ones."}, {"owner": {"reputation": 11, "user_id": 12236770, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mApyLe9ziP7cyXss5A49KAYQoOkuq7YBKxVPVL9=k-s128", "display_name": "aromahyang", "link": "https://stackoverflow.com/users/12236770/aromahyang"}, "reply_to_user": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "edited": false, "score": 0, "creation_date": 1571447491, "post_id": 58446046, "comment_id": 103256089, "body": "Sorry for u, but it&#39;s the first time to upload my question. I try to upload images, not links, but I don&#39;t know why the images are uploaded as links. I know it&#39;s uncomfortable to click links and see images.. Also, you can see which languages I use when you click the first link(image). Thanks for your commment."}], "owner": {"reputation": 11, "user_id": 12236770, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mApyLe9ziP7cyXss5A49KAYQoOkuq7YBKxVPVL9=k-s128", "display_name": "aromahyang", "link": "https://stackoverflow.com/users/12236770/aromahyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571946298, "creation_date": 1571384184, "last_edit_date": 1571946298, "question_id": 58446046, "link": "https://stackoverflow.com/questions/58446046/failed-to-emit-precompiled-header-opencv-xcode", "title": "Failed to emit precompiled header (opencv, xcode)", "body": "<p>My goal is to use <strong>opencv</strong> camera functions in react-native. Currently, I'm struggling to fix some errors.</p>\n\n<p>My project contains many files: <a href=\"https://i.stack.imgur.com/Ck4N5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ck4N5.png\" alt=\"file lists\"></a></p>\n\n<p>When I try to build the project, I got two errors. For me the second error is most important:</p>\n\n<blockquote>\n  <p>Failed to emit precompiled header</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/XaRPz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XaRPz.png\" alt=\"error messages\"></a></p>\n\n<p>(I have hidden my application name with black paint)</p>\n\n<p>Below is what I've tried to solve those issues:</p>\n\n<ol>\n<li>Clean project and rebuild.</li>\n<li>Remove frameworks and add them again.</li>\n<li>Product > Scheme > Edit Scheme > click \"Build\" and check \"Find Implicit Dependencies\"</li>\n<li>Check \"platform :ios, 9.0\" in podfile (Deployment Target in my project is 9.0)</li>\n<li>Check whether Targets > Build Settings > Objective-C Bridging Header is set to 'OpenCVprofject_second-Bridging-Header.h', not pch file.</li>\n</ol>\n\n<p>Unfortunately, I still get the same error messages.</p>\n\n<p>Is there any other possible way to fix the precompiled header issue? If you need further information, please ask me...</p>\n"}, {"tags": ["ios", "objective-c", "uikit", "wkwebview"], "comments": [{"owner": {"reputation": 2725, "user_id": 3145189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3b7992b5e5cbf3d0e7587f00f1bae5fa?s=128&d=identicon&r=PG&f=1", "display_name": "CMS Signage", "link": "https://stackoverflow.com/users/3145189/cms-signage"}, "edited": false, "score": 0, "creation_date": 1571370096, "post_id": 58443587, "comment_id": 103226181, "body": "make sure constraints are being applied on a parent(UIView) instead of WKWebView"}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "edited": false, "score": 0, "creation_date": 1571370959, "post_id": 58443682, "comment_id": 103226344, "body": "Thanks, it&#39;s my mistake. But the constrain also look wired."}, {"owner": {"reputation": 174, "user_id": 12199222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b183eb0e5df2bb1952ffa504e78b488b?s=128&d=identicon&r=PG&f=1", "display_name": "Code Farmer", "link": "https://stackoverflow.com/users/12199222/code-farmer"}, "reply_to_user": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "edited": false, "score": 0, "creation_date": 1571371325, "post_id": 58443682, "comment_id": 103226414, "body": "Where do you want the button to go?"}], "tags": [], "owner": {"reputation": 174, "user_id": 12199222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b183eb0e5df2bb1952ffa504e78b488b?s=128&d=identicon&r=PG&f=1", "display_name": "Code Farmer", "link": "https://stackoverflow.com/users/12199222/code-farmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1571370510, "creation_date": 1571370510, "answer_id": 58443682, "question_id": 58443587, "link": "https://stackoverflow.com/questions/58443587/how-to-add-uibutton-on-wkwebview/58443682#58443682", "title": "How to add UIButton on WKWebview?", "body": "<p>You should konw the constraint like this</p>\n\n<pre><code>item1.attribute1 = multiplier \u00d7 item2.attribute2 + constant\n</code></pre>\n\n<p>So the right constraint constant should be -20</p>\n\n<pre><code>NSLayoutConstraint *btnRight = [NSLayoutConstraint constraintWithItem:self.button attribute:NSLayoutAttributeRight relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeRight multiplier:1.0 constant:-20.0];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 8617761, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ryGs8k06xys/AAAAAAAAAAI/AAAAAAAAARw/qGsnzbMikfw/photo.jpg?sz=128", "display_name": "Patel", "link": "https://stackoverflow.com/users/8617761/patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1572071030, "last_edit_date": 1572071030, "creation_date": 1571393905, "answer_id": 58448796, "question_id": 58443587, "link": "https://stackoverflow.com/questions/58443587/how-to-add-uibutton-on-wkwebview/58448796#58448796", "title": "How to add UIButton on WKWebview?", "body": "<p>It might help you. Use these methods.</p>\n\n<pre><code>-(void)view.sendSubviewToBack(subview)\n\n-(void)view.bringSubviewToFront(subview)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>[self.view sendSubviewToBack:webview];\n\n[self.view bringSubviewToFront:button];\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572071030, "creation_date": 1571369670, "last_edit_date": 1571371037, "question_id": 58443587, "link": "https://stackoverflow.com/questions/58443587/how-to-add-uibutton-on-wkwebview", "title": "How to add UIButton on WKWebview?", "body": "<p>I have two viewcontrollers which the viewcontroller1 has a NSTimer countdown to 0 and present viewcontroller2.<br>\nThe viewcontroller2 has a wkwebview, and I also want to add UIButton on it.<br>\nBecause I want to create a close button to dismiss viewcontroller2.<br>\nI try adding the UIButton on wkwebview, but I can't control it's NSlayoutConstrain.<br>\nWhat's wrong with my code?<br>\nThanks.<br></p>\n\n<p><a href=\"https://i.stack.imgur.com/5woqJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5woqJm.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>red button is on right bottom.</p>\n</blockquote>\n\n<pre><code>//  ViewController1.m\n\n    -(void)timerFired {\n\n        NSLog(@\"===) self.count : %d\", self.count);\n\n            if (self.count == 0) {\n\n                [self.timer invalidate];\n                self.timer = nil;\n\n                ViewController2 *vc = [[ViewController2 alloc] init];\n                [self presentViewController:vc animated:YES completion:nil];\n\n            } else {\n                self.count -= 1;\n            }\n\n    }\n</code></pre>\n\n<pre><code>//  ViewController2.m\n\n#import \"ViewController2.h\"\n#import &lt;WebKit/WebKit.h&gt;\n\n@interface ViewController2 ()&lt;WKScriptMessageHandler, WKNavigationDelegate,WKUIDelegate&gt;\n\n@property (nonatomic,strong) WKWebView* webView;\n@property (nonatomic,strong) UIButton* button;\n@property (nonatomic, strong) WKWebViewConfiguration * webConfig;\n\n@end\n\n@implementation ViewController2\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:[self createWKWebApp]];\n    [self.view addSubview: self.webView];\n    [self.webView.configuration.preferences setValue:@YES forKey:@\"allowFileAccessFromFileURLs\"];\n    self.webView.scrollView.bounces = NO;\n    [self.webView setContentMode:UIViewContentModeScaleAspectFit];\n    self.webView.navigationDelegate = self;\n    self.webView.UIDelegate = self;\n\n    NSURL *url = [NSURL URLWithString:@\"https://stackoverflow.com/\"];\n    NSURLRequest *request = [NSURLRequest requestWithURL:url];\n    [self.webView loadRequest:request];\n\n    self.button = [UIButton buttonWithType: UIButtonTypeCustom];\n    self.button.translatesAutoresizingMaskIntoConstraints = false;\n    self.button.backgroundColor = UIColor.redColor;\n    [self.button setTitle:@\"CLOSE\" forState:UIControlStateNormal];\n    [self.button addTarget:self action:@selector(btnClicked:) forControlEvents:UIControlEventTouchUpInside];\n    [self.view addSubview:self.button];\n\n    NSLayoutConstraint *btnRight = [NSLayoutConstraint constraintWithItem:self.button attribute:NSLayoutAttributeRight relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeRight multiplier:1.0 constant:-20.0];\n    NSLayoutConstraint *btnTop = [NSLayoutConstraint constraintWithItem:self.button attribute:NSLayoutAttributeTop relatedBy:NSLayoutRelationEqual toItem:self.view attribute:NSLayoutAttributeBottom multiplier:1.0 constant:20.0];\n    NSLayoutConstraint *btnWidth = [NSLayoutConstraint constraintWithItem:self.button attribute:NSLayoutAttributeWidth relatedBy:NSLayoutRelationEqual toItem:nil attribute:NSLayoutAttributeWidth multiplier:1.0 constant:30.0];\n    NSLayoutConstraint *btnHeight = [NSLayoutConstraint constraintWithItem:self.button attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:nil attribute:NSLayoutAttributeHeight multiplier:1.0 constant:30.0];\n    [self.view addConstraints:@[btnRight, btnTop, btnWidth, btnHeight]];\n}\n\n- (void)btnClicked:(UIButton *)sender {\n\n    NSLog(@\"BTN CLICKED\");\n\n    [self dismissViewControllerAnimated:false completion:nil];\n}\n\n- (WKWebViewConfiguration *)createWKWebApp {\n    WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];\n    WKUserContentController *userContent = [[WKUserContentController alloc] init];\n\n    config.userContentController = userContent;\n\n    return config;\n}\n\n- (void)userContentController:(WKUserContentController*)userContentController didReceiveScriptMessage:(WKScriptMessage*)message {\n    NSString *name = message.name;\n    NSLog(@\"===) message name = %@\",name);\n    NSLog(@\"===) body class = %@\",[message.body class]);\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "wkwebview"], "comments": [{"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571332550, "post_id": 58437328, "comment_id": 103215377, "body": "@rmaddy even <code>decidePolicyForNavigationAction</code> is not raised on device while it is raised on simulator..."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571332571, "post_id": 58437328, "comment_id": 103215382, "body": "The only thing I can think of is to change <code>[self.webView loadFileURL:URL allowingReadAccessToURL:URL];</code> to <code>[self.webView loadFileURL:URL allowingReadAccessToURL:URL.URLByDeletingLastPathComponent];</code>&zwnj;&#8203;."}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571332733, "post_id": 58437328, "comment_id": 103215452, "body": "@rmaddy just tried this and it is the same behavior. It looks like there would be some kind of security thing that prevent this to work on device... My <code>info.plist</code> has: \t`\t&lt;key&gt;NSAppTransportSecurity&lt;/key&gt; \t&lt;dict&gt; \t\t&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt; \t\t&lt;true/&gt; \t\t&lt;key&gt;NSAllowsArbitraryLoadsInWebContent&lt;/key&gt; \t\t&lt;true/&gt; \t&lt;/dict&gt;`. Should I need more?"}, {"owner": {"reputation": 89867, "user_id": 1104384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KJcAb.png?s=128&g=1", "display_name": "Midhun MP", "link": "https://stackoverflow.com/users/1104384/midhun-mp"}, "edited": false, "score": 0, "creation_date": 1571333490, "post_id": 58437328, "comment_id": 103215800, "body": "@\u017babojad In your code, <code>NSString *subpath = hash ? [NSString stringWithFormat:@&quot;%@#%@&quot;, fileName, hash] : fileName;</code> there is a hash value and a <code>#</code> in the format specifier also. But I&#39;m not seeing those in your logs which you have provided (also the file name is different)"}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "reply_to_user": {"reputation": 89867, "user_id": 1104384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KJcAb.png?s=128&g=1", "display_name": "Midhun MP", "link": "https://stackoverflow.com/users/1104384/midhun-mp"}, "edited": false, "score": 0, "creation_date": 1571341147, "post_id": 58437328, "comment_id": 103218984, "body": "@MidhunMP this part can be ignored, the first file that is loaded is without any &quot;#&quot;. <code>hash</code> is nil if you prefer..."}], "answers": [{"comments": [{"owner": {"reputation": 4871, "user_id": 2308190, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2a9da794e76eb7f244c805380c5bf086?s=128&d=identicon&r=PG", "display_name": "Ben Wheeler", "link": "https://stackoverflow.com/users/2308190/ben-wheeler"}, "edited": false, "score": 0, "creation_date": 1598546141, "post_id": 58441063, "comment_id": 112501174, "body": "I can&#39;t find any documentation of NSFileUtility anywhere. Is that a standard part of the ios codebase?"}, {"owner": {"reputation": 333, "user_id": 938349, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/35ad956a03758d21c37baea6f88aa66e?s=128&d=identicon&r=PG", "display_name": "varun", "link": "https://stackoverflow.com/users/938349/varun"}, "edited": false, "score": 0, "creation_date": 1613224310, "post_id": 58441063, "comment_id": 117012659, "body": "Can you please share code of this method <code>pathRelativeToContentDirectoryForSubpath</code>?"}], "tags": [], "owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "is_accepted": true, "score": 2, "last_activity_date": 1571348452, "creation_date": 1571348452, "answer_id": 58441063, "question_id": 58437328, "link": "https://stackoverflow.com/questions/58437328/cannot-load-a-local-html-file-into-a-wkwebview-on-device-only-works-on-simulato/58441063#58441063", "title": "Cannot load a local html file into a WKWebView on device only (works on simulator)", "body": "<p>OK I have found \"why\" it was not working. I changed this:</p>\n\n<pre><code>[self.webView loadFileURL:URL allowingReadAccessToURL:URL];\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>[self.webView loadFileURL:URL.absoluteURL allowingReadAccessToURL:rootAppURL];\n</code></pre>\n\n<p>with <code>rootAppURL</code> being:</p>\n\n<pre><code>NSString *rootappPath = [NSFileUtility pathRelativeToContentDirectoryForSubpath:@\"/www\"];\nNSURL *rootAppURL = [NSURL fileURLWithPath:rootappPath isDirectory:YES];\n</code></pre>\n\n<p>And it now works on ios &lt; 13</p>\n"}], "owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1367, "favorite_count": 0, "accepted_answer_id": 58441063, "answer_count": 1, "score": 2, "last_activity_date": 1571348452, "creation_date": 1571330794, "last_edit_date": 1592644375, "question_id": 58437328, "link": "https://stackoverflow.com/questions/58437328/cannot-load-a-local-html-file-into-a-wkwebview-on-device-only-works-on-simulato", "title": "Cannot load a local html file into a WKWebView on device only (works on simulator)", "body": "<p>The local code below loads into a WKWebView a local HTML file (from the app container, not the app bundle).</p>\n<pre><code>- (void)loadIndexConteneurWithHash:(NSString *)hash\n{\n    NSString *fileName = @&quot;index.html&quot;;\n    NSString *subpath = hash ? [NSString stringWithFormat:@&quot;%@#%@&quot;, fileName, hash] : fileName;\n    NSString *rootContainerDirectoryPath = [NSFileUtility pathRelativeToContentDirectoryForSubpath:@&quot;/www/v2&quot;];\n\n    NSURL *URL = [NSURL URLWithString:subpath relativeToURL:[NSURL fileURLWithPath:rootContainerDirectoryPath]];\n\n    [[NSURLCache sharedURLCache] removeAllCachedResponses];\n\n    [self.webView loadFileURL:URL allowingReadAccessToURL:URL];\n\n\n\n    // This below has the same effect (works on simulator and not on device)\n\n    // NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:URL cachePolicy:NSURLRequestReloadIgnoringCacheData timeoutInterval:10.0f];\n\n    // [self.webView performSelectorOnMainThread:@selector(loadRequest:) withObject:request waitUntilDone:true];\n}\n</code></pre>\n<p>The file url on device is : <code>file:///var/mobile/Containers/Data/Application/3CF58895-866D-400A-B0E0-4CA98BF143F7/Library/Application%20Support/&lt;my.app.id&gt;/LocalContents/www/v2/indexConteneur.html</code></p>\n<p>And on simulator : <code>file:///Users/&lt;me&gt;/Library/Developer/CoreSimulator/Devices/4A5B9713-6589-4DCA-ABBD-F4FF1246AE43/data/Containers/Data/Application/717B54FD-1344-41D3-8B53-FC0767FFE892/Library/Application%20Support/&lt;my.app.id&gt;/LocalContents/www/v2/indexConteneur.html</code></p>\n<p>This code works fine on any simulator I've tried (<s>ios 12</s> / ios 13).</p>\n<p>It however does not load the HTML file on the device. When I use the Safari debugger, I see that the webview is on &quot;about:blank&quot;.</p>\n<p>I have no error at runtime, it just seem to stop executing the <code>loadFileURL</code> silently.</p>\n<p>What could I do to solve / investigate on this issue?</p>\n<h1>EDIT 1</h1>\n<p>Neither the didFailNavigation nor the didFinishNavigation are called on device...</p>\n<h1>EDIT 2</h1>\n<p>Adding this code:</p>\n<pre><code>NSFileManager *fileManager = [NSFileManager defaultManager];\nNSLog(@&quot;%@ exists? %d&quot;,URL.absoluteString,[fileManager fileExistsAtPath:URL.absoluteString]);\n</code></pre>\n<p>gives this on device:\n<code>2019-10-17 18:42:48.955588+0200 gall-app[881:230671] /var/mobile/Containers/Data/Application/3CF58895-866D-400A-B0E0-4CA98BF143F7/Library/Application%20Support/&lt;my.app.id&gt;/LocalContents/www/v2/indexConteneur.html exists? 1</code></p>\n<p>So it exists at the expected location. I've also downloaded the app container from the device with XCode and I see the file where it should be.</p>\n<h1>EDIT 3</h1>\n<p>After further testing, it seems that <code>[self.webView loadFileURL:...</code> is not working on ios 12 (simulator included) but works on ios 13...</p>\n<p>There might be some security rule difference between them?</p>\n<p>In my info.plist, I have:</p>\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;NSAllowsArbitraryLoadsInWebContent&lt;/key&gt;\n    &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n<p>And my webview is initialized with this code:</p>\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    \n    self.webView.UIDelegate = self;\n    self.webView.navigationDelegate = self;\n    \n    self.webView.configuration.preferences.javaScriptEnabled = YES;\n    self.webView.configuration.preferences.javaScriptCanOpenWindowsAutomatically = YES;\n    \n    [self.webView.configuration.preferences setValue:@YES forKey:@&quot;allowFileAccessFromFileURLs&quot;];\n    [self.webView.configuration setValue:@YES forKey:@&quot;allowUniversalAccessFromFileURLs&quot;];\n    \n    [self addUserScriptToUserContentController:self.webView.configuration.userContentController];\n    \n</code></pre>\n"}, {"tags": ["ios", "objective-c", "wkwebview"], "comments": [{"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1571327089, "post_id": 58436319, "comment_id": 103212850, "body": "What is this <code>[NSFileUtility pathRelativeToContentDirectoryForSubpath:@&quot;&#47;www&#47;v2&quot;]</code> method supposed to do ?"}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "reply_to_user": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "edited": false, "score": 0, "creation_date": 1571327232, "post_id": 58436319, "comment_id": 103212924, "body": "@CZ54 it gives the absolute path for given path relatively to <code>&#47;var&#47;mobile&#47;Containers&#47;Data&#47;Application&#47;&lt;...&gt;&#47;Library&#47;Applic&zwnj;&#8203;ation Support&#47;&lt;my app id&gt;&#47;LocalContents</code>"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571327261, "post_id": 58436319, "comment_id": 103212938, "body": "What delegate method tells? Ok or error?"}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571328055, "post_id": 58436319, "comment_id": 103213362, "body": "@Cy-4AH the <code>decidePolicyForNavigationAction</code> is raised and I allow it. But neither the <code>didFailNavigation</code> nor the <code>didFinishNavigation</code> are called..."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571328230, "post_id": 58436319, "comment_id": 103213461, "body": "When looking at the duplicate, note that the currently accepted answer shows that you need to call <code>loadFileURL</code> and <code>load</code>. That 2nd call to <code>load</code> is not needed. You just need <code>loadFileURL</code>."}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571328648, "post_id": 58436319, "comment_id": 103213669, "body": "great @rmaddy you&#39;ve marked that question as a duplicate when I&#39;ve already looked at the one you&#39;ve pointed and it does not resolve my problem... I&#39;ve tried <code>loadFileURL</code> and that does not work too... Please un-mark my question, it is not a duplicate."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571329295, "post_id": 58436319, "comment_id": 103213973, "body": "The use of <code>loadFileURL</code> is what works when loading a local file so it is a duplicate. The use of <code>loadFileURL</code> does not require the file to be from the bundle. It works with any local file when used correctly.  As shown in the close message: <i>&quot;This question has been asked before and already has an answer. If those answers do not fully address your question, please ask a new question.&quot;</i>. So please post a new question showing your attempt to use <code>loadFileURL</code> and clearly provide all relevant details about the URL you attempt to load and any other relevant details."}], "answers": [{"comments": [{"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 0, "creation_date": 1571327522, "post_id": 58436397, "comment_id": 103213074, "body": "It is not a ressource in the bundle, it is a ressource in the app container."}, {"owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "reply_to_user": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 0, "creation_date": 1571328053, "post_id": 58436397, "comment_id": 103213361, "body": "You mean a file created bu the app itself ? not embbed ?"}, {"owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "edited": false, "score": 0, "creation_date": 1571328527, "post_id": 58436397, "comment_id": 103213607, "body": "yes, I actually unzip a file into the container and try to load the unzipped html file into the WKWebView"}], "tags": [], "owner": {"reputation": 5174, "user_id": 1535128, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YPwHZ.png?s=128&g=1", "display_name": "CZ54", "link": "https://stackoverflow.com/users/1535128/cz54"}, "is_accepted": false, "score": -1, "last_activity_date": 1571327330, "creation_date": 1571327330, "answer_id": 58436397, "question_id": 58436319, "link": "https://stackoverflow.com/questions/58436319/cannot-load-local-html-file-into-wkwebview-on-ios-device-not-simulator/58436397#58436397", "title": "Cannot load local html file into WKWebView on ios device (not simulator)", "body": "<p>In order to access a Local ressource you have to use :\n<code>Bundle.main.url(forResource: \"MyFile\", withExtension: \"html\")</code></p>\n"}], "owner": {"reputation": 2505, "user_id": 1255091, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/56eaaf016c24ef32072d97379ab6513c?s=128&d=identicon&r=PG", "display_name": "\u017babojad", "link": "https://stackoverflow.com/users/1255091/%c5%bbabojad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "closed_date": 1571328168, "answer_count": 1, "score": 0, "last_activity_date": 1571328886, "creation_date": 1571326977, "last_edit_date": 1571328886, "question_id": 58436319, "link": "https://stackoverflow.com/questions/58436319/cannot-load-local-html-file-into-wkwebview-on-ios-device-not-simulator", "closed_reason": "Duplicate", "title": "Cannot load local html file into WKWebView on ios device (not simulator)", "body": "<p>I'm having troubles with the following code. It's supposed to load a local HTML file into a WKWebView. </p>\n\n<p>It works fine on any simulator I've tried (ios 12 / ios 13).</p>\n\n<p>For a reason I do not understand yet, it does not work on device.\nInstead, I get a blank screen. Debugging the webview with the Safari debugger shows that the page is \"about:blank\". It did not load my file... Why ?</p>\n\n<p>Note that I have checked the existence of the file by downloading the app container from the phone and the file is there...</p>\n\n<pre><code>- (void)loadIndexConteneurWithHash:(NSString *)hash\n{\n    NSString *fileName = @\"index.html\";\n    NSString *subpath = hash ? [NSString stringWithFormat:@\"%@#%@\", fileName, hash] : fileName;\n    NSString *rootContainerDirectoryPath = [NSFileUtility pathRelativeToContentDirectoryForSubpath:@\"/www/v2\"];\n\n    NSURL *URL = [NSURL URLWithString:subpath relativeToURL:[NSURL fileURLWithPath:rootContainerDirectoryPath]];\n\n    [[NSURLCache sharedURLCache] removeAllCachedResponses];\n\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:URL cachePolicy:NSURLRequestReloadIgnoringCacheData timeoutInterval:10.0f];\n\n    [self.webView performSelectorOnMainThread:@selector(loadRequest:) withObject:request waitUntilDone:true];\n}\n</code></pre>\n\n<p>Edit: this question is NOT a duplicate of <a href=\"https://stackoverflow.com/questions/49638653/load-local-web-files-resources-in-wkwebview\">Load local web files &amp; resources in WKWebView</a> </p>\n\n<p>I do not load my HTML file from the bundle but from the app container as noted originally in my question. I've also tried the <code>loadFileURL</code> method and it does not work either.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-authentication", "firebase-dynamic-links"], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1572608077, "post_id": 58658014, "comment_id": 103620061, "body": "please give option for iOS Application"}, {"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1572608316, "post_id": 58658014, "comment_id": 103620160, "body": "i have updated my question adding screenshot please check"}, {"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1572608612, "post_id": 58658014, "comment_id": 103620308, "body": "yes i want this only i am tired now A debug app (which is what you want)."}, {"owner": {"reputation": 1010, "user_id": 7370876, "user_type": "registered", "profile_image": "https://graph.facebook.com/1410113292341710/picture?type=large", "display_name": "Dhruvam Sharma", "link": "https://stackoverflow.com/users/7370876/dhruvam-sharma"}, "reply_to_user": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1572608831, "post_id": 58658014, "comment_id": 103620407, "body": "in the option where you select com.pdd, how many options are there?"}, {"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1572609057, "post_id": 58658014, "comment_id": 103620529, "body": "I have added screenshot please check as that are the only options."}, {"owner": {"reputation": 1010, "user_id": 7370876, "user_type": "registered", "profile_image": "https://graph.facebook.com/1410113292341710/picture?type=large", "display_name": "Dhruvam Sharma", "link": "https://stackoverflow.com/users/7370876/dhruvam-sharma"}, "reply_to_user": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1572609152, "post_id": 58658014, "comment_id": 103620571, "body": "That means you need to add another iOS app with Debug build. Can you do that?  Just go on this link and add the debug iOS app on Appstore."}, {"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1574248501, "post_id": 58658014, "comment_id": 104161935, "body": "hello i have edit my question please help me if you can as now i am able to redirect on my debug applicaton but when its redirect on safari directly through appstore but when i am open that link on chrome its redirect to my application now i want to redirect to my app using safari also how to do this...."}], "tags": [], "owner": {"reputation": 1010, "user_id": 7370876, "user_type": "registered", "profile_image": "https://graph.facebook.com/1410113292341710/picture?type=large", "display_name": "Dhruvam Sharma", "link": "https://stackoverflow.com/users/7370876/dhruvam-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1572605745, "creation_date": 1572605745, "answer_id": 58658014, "question_id": 58434660, "link": "https://stackoverflow.com/questions/58434660/firebase-dynamic-link-not-open-in-development-app-while-app-is-not-in-appstore/58658014#58658014", "title": "Firebase dynamic link not open in development app while app is not in appstore", "body": "<p>I have worked on Firebase dynamic links and this is what helped me.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>As you do not have the release app on app-store, this means you can redirect to</p>\n\n<ol>\n<li>A webpage, or a,</li>\n<li>A debug app (which is what you want).</li>\n</ol>\n\n<p>For the second option,\nYou need to add your debug app to Firebase console so that you can select your debug app to open when clicked on a dynamic link like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1ZhRc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZhRc.png\" alt=\"Firebase Dynamic links\"></a></p>\n\n<p>If you want to know how to add another app to your firebase console, click here: <a href=\"https://firebase.google.com/docs/ios/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/ios/setup</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/XALt8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XALt8.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1574248386, "post_id": 58766652, "comment_id": 104161873, "body": "hello i have edit my question please help me if you can as now i am able to redirect on my debug applicaton but when its redirect on safari directly through appstore but when i am open that link on chrome its redirect to my application now i want to redirect to my app using safari also how to do this...."}, {"owner": {"reputation": 77, "user_id": 11934990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zHOoHkpK2BI/AAAAAAAAAAI/AAAAAAAAAGE/YpZzOT248Ps/photo.jpg?sz=128", "display_name": "Andrei Jiroh Eugenio Halili", "link": "https://stackoverflow.com/users/11934990/andrei-jiroh-eugenio-halili"}, "reply_to_user": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1575287734, "post_id": 58766652, "comment_id": 104503718, "body": "Hi, @AkashRaghani ! The Objective-C code is provided for this answer. Maybe you missed it or forgot to read the full text, is it?"}, {"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1575361709, "post_id": 58766652, "comment_id": 104530325, "body": "Hi, Andrei i have edited my question as before i was not able to redirect on application but now I am able to redirect app while clicking on link but it&#39;s redirect on safari and not working.So every time i have to copy that link and open into google chrome.....so my question is why it is not working in safari directly???"}], "tags": [], "owner": {"reputation": 77, "user_id": 11934990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zHOoHkpK2BI/AAAAAAAAAAI/AAAAAAAAAGE/YpZzOT248Ps/photo.jpg?sz=128", "display_name": "Andrei Jiroh Eugenio Halili", "link": "https://stackoverflow.com/users/11934990/andrei-jiroh-eugenio-halili"}, "is_accepted": false, "score": 3, "last_activity_date": 1575287653, "last_edit_date": 1575287653, "creation_date": 1573216248, "answer_id": 58766652, "question_id": 58434660, "link": "https://stackoverflow.com/questions/58434660/firebase-dynamic-link-not-open-in-development-app-while-app-is-not-in-appstore/58766652#58766652", "title": "Firebase dynamic link not open in development app while app is not in appstore", "body": "<p>The options below are assumed that you created a Firebase project in any plan. If you don't have, check the docs</p>\n\n<h2>Option 1: Open in browser to a website (<a href=\"https://firebase.google.com/docs/dynamic-links/custom-domains\" rel=\"nofollow noreferrer\">see source guide</a>)</h2>\n\n<blockquote>\n  <p>If you are using Cloudflare for DNS records management, please <strong>DO NOT</strong> proxy the origin IP addresses to the domain (or the subdomain) you wish to use <strong>Dynamic Links</strong> for your domain, as Google might not verify your domain because they don't use TXT verification as GitLab Pages does.</p>\n</blockquote>\n\n<ol>\n<li><a href=\"https://console.firebase.google.com/project/_/hosting/\" rel=\"nofollow noreferrer\">Set up <strong>Firebase Hosting</strong> if you haven't done this after project creation</a>.</li>\n<li>After setting up, open <a href=\"https://console.firebase.google.com/project/_/durablelinks\" rel=\"nofollow noreferrer\"><strong>Dynamic Links</strong></a>.\n\n<ul>\n<li>New to Dynamic Links? Click <strong>Get started</strong>. Otherwise, click <strong>Add URL prefix</strong>. You can only add up to 5 URL prefixes per project.\n\n<blockquote>\n  <p>If you use a domain/subdomain for Hosting or Dynamic Links, you can't use it again for Dynamic Links and vice versa. Try link prefixes (for example, <code>demofirebaseproject.devhubcentral.ml/launchapp/insert-link-suffix-here</code>) or an special subdomain (for example, <code>demofirebaseproject.devhubcentral.ml/insert-link-suffix-here</code>) instead.</p>\n</blockquote></li>\n<li>A setup wizard pops out. Type the domain you want to use and Google will show suggestions for you based on what you type.  Choose wisely, then click <strong>Next</strong>. In our example project ID <code>nomadic-bedrock-257008</code>, I use <code>demofirebaseproject.devhubcentral.ml</code> for this tutorial</li>\n<li>Now, configure your options for the domain you want to use. The path prefix I use for the demo project is <code>/launchapp</code> because the devs at the Pins team want to use <code>demofirebaseporject.devhubcentral.ml/launchapp</code> to launch in the Pins' official app, but surely, this app will be available in App Store soon. For now, we redirect users to <code>contributors-program.recaptime.tk</code>. When ready, click <strong>Next</strong>.</li>\n<li>Then, fire up your DNS provider and add <code>151.101.1.195</code> and <code>151.101.65.195</code> as A records for the domain/subdomain you use. In our demo project, I am using Cloudflare to manage DNS records for <code>devhubcentral.ml</code>, so I need to change <strong>Proxy Status</strong> to <strong>DNS Only</strong> for ownership checks. <a href=\"https://i.stack.imgur.com/jA2pW.png\" rel=\"nofollow noreferrer\">See the screenshot</a> to see how I configured it. When done, click <strong>Finish</strong> and create your first Dynamic Link.\n\n<blockquote>\n  <p>DNS propagation usually takes 24 hours or longer, but some DNS provider/domain registrars propagate DNS records sooner.</p>\n</blockquote></li>\n</ul></li>\n<li><strong>For iOS only</strong>: Open <code>Info.plist</code> file in your Xcode project and add the following code below. Replace sample strings into the ones for your project and add more strings as needed.</li>\n</ol>\n\n<pre><code>&lt;key&gt;FirebaseDynamicLinksCustomDomains&lt;/key&gt;\n&lt;array&gt;\n  &lt;string&gt;demofirebaseproject.devhubcentral.ml/launchapp&lt;/string&gt;\n&lt;/array&gt;\n</code></pre>\n\n<blockquote>\n  <p>You add up to 10 prefixes per Firebase project. If you need more, remove prefixes that you don't use.</p>\n</blockquote>\n\n<h2>Option 2: Try in your debug app (and share to your other devs for testing)</h2>\n\n<ol>\n<li>Open your Firebase project overview and Xcode project.</li>\n<li>Click the plus icon then select an iOS icon.</li>\n<li>Register your app's basic info.</li>\n<li>Download the <code>GoogleService-Info.plist</code> file into your Xcode project root folder.</li>\n<li>Open a terminal, use <code>pod init</code> if you don't have a Podfile. Edit it to add the below. Save it and then run <code>pod install</code> to generate a <code>.xcworkspace</code> for your project. Use this file for all future development on your application.</li>\n</ol>\n\n<pre><code># add the Firebase pod for Google Analytics\npod 'Firebase/Analytics'\n# add pods for any other desired Firebase products\n# https://firebase.google.com/docs/ios/setup#available-pods\n</code></pre>\n\n<ol start=\"4\">\n<li>Add the init code to your app codebase using this below for Swift.</li>\n</ol>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import UIKit\nimport Firebase\n\n@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n\n  var window: UIWindow?\n\n  func application(_ application: UIApplication,\n    didFinishLaunchingWithOptions launchOptions:\n      [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool {\n    FirebaseApp.configure()\n    return true\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Have Objective-C project instead? Maybe use this code instead</p>\n  \n  <pre class=\"lang-c prettyprint-override\"><code>@import UIKit;\n@import Firebase;\n\n@implementation AppDelegate\n\n- (BOOL)application:(UIApplication *)application\n   didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n [FIRApp configure];\n return YES;\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li>Run your app to verify the installation. If you don't have a project yet, skip this step and try again later.</li>\n<li>Try option 1 above, but this time, we're using your iOS app for this one. </li>\n</ol>\n\n<h2>Option 3: Publish your production-ready app to App Store</h2>\n\n<blockquote>\n  <p><strong>Do not proceed</strong> if you won't comply with the license agreement or you can't pay the yearly membership fee</p>\n  \n  <p><strong>WARNING</strong>: Only publish your app to App Store when production-ready. If not yet, try deploying to <a href=\"https://testflight.apple.com\" rel=\"nofollow noreferrer\">TestFlight</a> first.</p>\n</blockquote>\n\n<p>This option is recommended, but you need to have an Apple ID protected by 2-factor authentication and:</p>\n\n<ul>\n<li>provide basic personal information about yourself if enrolling as an individual</li>\n<li>if enrolling as an organization, requires:\n\n<ul>\n<li>your org's D-U-N-S number (New to D-U-N-S numbers? See <a href=\"https://developer.apple.com/support/D-U-N-S/\" rel=\"nofollow noreferrer\">this help center article</a> to get started)</li>\n<li>has a legal entity status (not for DBAs, fictitious businesses, trade names, or branches)</li>\n<li>the person who enrolling your org must have the legal authority to fill and sign agreements with Apple and other companies.</li>\n<li>a public viewable website associated with your org</li>\n</ul></li>\n<li>prepare 99 USD (or local equivalent in your country after conversion) for the yearly membership fee.</li>\n</ul>\n\n<p>For FAQs about enrolling in Apple Developer Program, see <a href=\"https://developer.apple.com/support/enrollment\" rel=\"nofollow noreferrer\">https://developer.apple.com/support/enrollment</a>. To get started, visit <a href=\"https://developer.apple.com/programs/enroll/\" rel=\"nofollow noreferrer\">enrollment page</a>, click <strong>Start Your Enrollment</strong> when compliance checks are done (I mean when you met the requirements above), sign in your Apple ID and start filling up paperwork.</p>\n\n<blockquote>\n  <p><strong>IMPORTANT</strong>: Read the <a href=\"https://developer.apple.com/terms/\" rel=\"nofollow noreferrer\">license agreement</a> first with your org's legal department or your attorney if enrolling as an individual. You must not only read it but also understand it.</p>\n</blockquote>\n\n<p>When your app is published, then add your app and configure it as usual.</p>\n\n<h2>Troubleshooting Link doesn't work in Safari</h2>\n\n<blockquote>\n  <p><strong>QUICK NOTE</strong>: Like in <a href=\"https://stackoverflow.com/a/59066238/11934990\">this answer</a>, you need to add this code to your the configuration file, like this:</p>\n  \n  <pre><code>{\"applinks\": {\n  \"apps\":[],\n  \"details\":[{\n      \"appID\":\"495878282985.madebythepinsteam.publicofficialapp\", // Change it with your Apple Store ID.\n      \"paths\":[\"NOT /_/*\",\"/*\"]}\n  ]}\n}\n</code></pre>\n  \n  <p>If the code above is wrong, feel free to test and edit.</p>\n</blockquote>\n\n<ul>\n<li>Check whether you follow the instructions set herein.</li>\n<li>If the instructions I gave are not enough, then look <a href=\"https://duckduckgo.com/?q=link+not+working+in+safari&amp;atb=v196-3&amp;ia=web\" rel=\"nofollow noreferrer\">around the internet for troubleshooting</a>. Maybe you read some docs as a refresher. The documentation is the first place to look around for answers.</li>\n<li>Check whether your iOS device is up-to-date. If the issue was the OS itself, check the app code and debug.</li>\n<li>Test the app again. If not works, repeat the steps above until the problem solved.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1580210544, "post_id": 59066238, "comment_id": 106015175, "body": "my concern is that continueUserActivity method is not called can you please help me what is my problem"}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "reply_to_user": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1580374701, "post_id": 59066238, "comment_id": 106078684, "body": "@AkashRaghani did you add the <code>GoogleService-Info.plist</code> to your project? And did you add the Firebase url in the Info.plist&#39;s <code>CFBundleURLSchemes</code>?"}, {"owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1580453994, "post_id": 59066238, "comment_id": 106109832, "body": "yes google info.plist  CFBundleURLSchemes I didn&#39;t get you"}, {"owner": {"reputation": 388, "user_id": 7826293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0bYl.jpg?s=128&g=1", "display_name": "HelloTimo", "link": "https://stackoverflow.com/users/7826293/hellotimo"}, "reply_to_user": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "edited": false, "score": 0, "creation_date": 1580660781, "post_id": 59066238, "comment_id": 106161882, "body": "@AkashRaghani do you have a SceneDelegate? Try calling the new method mentioned here: <a href=\"https://stackoverflow.com/a/59483485/7826293\">link</a>. Only being called if the app is running in background already."}, {"owner": {"reputation": 7832, "user_id": 9607863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4yDcC.jpg?s=128&g=1", "display_name": "George_E", "link": "https://stackoverflow.com/users/9607863/george-e"}, "edited": false, "score": 0, "creation_date": 1580757497, "post_id": 59066238, "comment_id": 106194855, "body": "&quot;I remember that Firebase tells you that you need to insert a Team ID and AppStore ID to make dynamic links to work&quot; - you are most likely referring to <a href=\"https://www.youtube.com/watch?v=KLBjAg6HvG0&amp;t=204s\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1580829537, "post_id": 59066238, "comment_id": 106222111, "body": "You need to add the proper url in your <code>Info.plist</code> in section <code>CFBundleURLSchemes</code>."}], "tags": [], "owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "is_accepted": false, "score": 1, "last_activity_date": 1574844572, "last_edit_date": 1574844572, "creation_date": 1574844245, "answer_id": 59066238, "question_id": 58434660, "link": "https://stackoverflow.com/questions/58434660/firebase-dynamic-link-not-open-in-development-app-while-app-is-not-in-appstore/59066238#59066238", "title": "Firebase dynamic link not open in development app while app is not in appstore", "body": "<p>I assume you forgotten to do some configuration in Firebase. In my case during development, I just put a placeholder AppStore ID in my Firebase project. E.g. <code>1234567890</code> and my Team ID, which makes dynamic links in debug builds possible.</p>\n\n<p>I can't find the original text, but I remember that Firebase tells you that you need to insert a Team ID and AppStore ID to make dynamic links to work.</p>\n\n<p>Once you created the dynamic link, you need to check the <code>apple-app-site-association</code> endpoint of your dynamic link. E.g.</p>\n\n<p><a href=\"https://yourveryown.page.link/apple-app-site-association\" rel=\"nofollow noreferrer\">https://yourveryown.page.link/apple-app-site-association</a></p>\n\n<p>The result must be something like this (it might take some time to refresh):</p>\n\n<pre><code>{\"applinks\":{\"apps\":[],\"details\":[{\"appID\":\"YOURTEAMID.com.yourcompany.app\",\"paths\":[\"NOT /_/*\",\"/*\"]}]}}\n</code></pre>\n\n<p>So to summarize:</p>\n\n<ul>\n<li>Make sure that you have insert some Appstore ID;</li>\n<li>Make sure the Team ID is properly set and the same ID is being used during compilation of your app;</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/xZVpS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZVpS.png\" alt=\"enter image description here\"></a> </p>\n"}], "owner": {"reputation": 527, "user_id": 4590901, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/846524aca071f0ab13d54ca227578cce?s=128&d=identicon&r=PG", "display_name": "Akash Raghani", "link": "https://stackoverflow.com/users/4590901/akash-raghani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2865, "favorite_count": 2, "answer_count": 3, "score": 6, "last_activity_date": 1580210591, "creation_date": 1571321491, "last_edit_date": 1574846676, "question_id": 58434660, "link": "https://stackoverflow.com/questions/58434660/firebase-dynamic-link-not-open-in-development-app-while-app-is-not-in-appstore", "title": "Firebase dynamic link not open in development app while app is not in appstore", "body": "<p>My concern is as i have not upload on app store but when i click on deeplink url debug mode application is not open its redirect on Appstore </p>\n\n<p>I AM ABLR to redirect on my debug application.</p>\n\n<p>I am working on dynamic link objective c</p>\n\n<p>as i have tested my app is configure fine in firebase</p>\n\n<p>but when I am share my product with other user they tap on url its redirect on safari and link is not working </p>\n\n<p>every time i have to copy the link and past into chrome and also here poup u comes like your app is open another application then redirect to app ...</p>\n\n<p>I WANT THAT WHEN I CLICK ON LINK IT REDIRECT DIRECT ON APPLICATION RATHER THEN SAFARI OR MANUALLY COPY THAT LINK AND THEN OPENAPP</p>\n\n<p>Note: application is not live i want to open url my debug application.</p>\n\n<p>I have configure the application for getting appstoreid and teamid</p>\n\n<p>-(BOOL)application:(UIApplication *)application\n    continueUserActivity:(NSUserActivity *)userActivity\n      restorationHandler:</p>\n\n<p>My link not working in safari but its working on chrome how  to manage to work on safari as well...</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "xcode"], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 4, "creation_date": 1571326696, "post_id": 58434372, "comment_id": 103212646, "body": "Where &quot;always&quot; means &quot;since iOS 4.0&quot;."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571327689, "post_id": 58434372, "comment_id": 103213171, "body": "@rmaddy Which is pretty much where I came in. :) I did start writing for iOS 3.2 but it got unified with the iPad into iOS 4 before I got very far."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1571320506, "creation_date": 1571320506, "answer_id": 58434372, "question_id": 58434122, "link": "https://stackoverflow.com/questions/58434122/error-manually-adding-the-rootviewcontrollers-view-to-the-view-hierarchy-is-no/58434372#58434372", "title": "Error: Manually adding the rootViewController&#39;s view to the view hierarchy is no longer supported", "body": "<p>See the line <code>[self.window addSubview:nav.view];</code>? Delete it. It was always wrong. </p>\n"}], "owner": {"reputation": 31, "user_id": 7815658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff8a9d9414bb6474d67174204e4ce4a?s=128&d=identicon&r=PG&f=1", "display_name": "DanM", "link": "https://stackoverflow.com/users/7815658/danm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1946, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1571320506, "creation_date": 1571319792, "last_edit_date": 1571320096, "question_id": 58434122, "link": "https://stackoverflow.com/questions/58434122/error-manually-adding-the-rootviewcontrollers-view-to-the-view-hierarchy-is-no", "title": "Error: Manually adding the rootViewController&#39;s view to the view hierarchy is no longer supported", "body": "<p>I upgraded to Xcode 11.1 and trying to compile an older Objective C app that programmatically sets the <code>rootViewController</code>. </p>\n\n<p>How do I work around this error?</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // Override point for customization after application launch.\n\n    lvc = [[LoginViewController alloc] initWithNibName:nil bundle:nil];\n    nav = [[UINavigationController alloc] initWithRootViewController:lvc];\n\n    nav.navigationBar.barTintColor = [UIColor whiteColor];\n\n    self.window.rootViewController = nav;\n    [self.window addSubview:nav.view];\n\n    return YES;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa", "nstableview", "nstextfield"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1571317570, "post_id": 58432751, "comment_id": 103207219, "body": "Is the <code>NSTextFieldCell</code> inside a <code>NSTextField</code> inside a <code>NSTableCellView</code>? How is the context menu implemented? Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 4143, "user_id": 3900270, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1692742a01f1362b18a7afd627fb1d94?s=128&d=identicon&r=PG&f=1", "display_name": "strangetimes", "link": "https://stackoverflow.com/users/3900270/strangetimes"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1571355335, "post_id": 58432751, "comment_id": 103223380, "body": "@Willeke Yes that&#39;s how it is exactly, I&#39;m lazy recreating the setup but as I said, there&#39;s nothing non standard about this setup, standard stuff."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1571358958, "post_id": 58432751, "comment_id": 103224179, "body": "Is the context menu the default text editing context menu?"}], "answers": [{"comments": [{"owner": {"reputation": 4143, "user_id": 3900270, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1692742a01f1362b18a7afd627fb1d94?s=128&d=identicon&r=PG&f=1", "display_name": "strangetimes", "link": "https://stackoverflow.com/users/3900270/strangetimes"}, "edited": false, "score": 0, "creation_date": 1578061305, "post_id": 59563841, "comment_id": 105326544, "body": "I don&#39;t want to make it non-editable. The idea us to left-click and get into edit mode, and right click and only see the context menu. Right now it&#39;s putting it into Edit mode on a right-click too."}], "tags": [], "owner": {"reputation": 29, "user_id": 11502231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7192db88dad1d4e06444ebdcd41a1105?s=128&d=identicon&r=PG&f=1", "display_name": "Shiva_Kishore", "link": "https://stackoverflow.com/users/11502231/shiva-kishore"}, "is_accepted": false, "score": 0, "last_activity_date": 1577970162, "creation_date": 1577970162, "answer_id": 59563841, "question_id": 58432751, "link": "https://stackoverflow.com/questions/58432751/disable-editing-of-a-nstextfieldcell-on-right-clicking-on-a-row/59563841#59563841", "title": "Disable editing of a NSTextFieldCell on right clicking on a row", "body": "<p>You can change the textcell behaviour fron Editable to None, in the design, Or you can programatically try this, </p>\n\n<pre><code>[TableColumn setEditable:NO]; //to disble column editing\n[[TableView cell]setEditable:NO]; //to disable textcell editing\n</code></pre>\n"}], "owner": {"reputation": 4143, "user_id": 3900270, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1692742a01f1362b18a7afd627fb1d94?s=128&d=identicon&r=PG&f=1", "display_name": "strangetimes", "link": "https://stackoverflow.com/users/3900270/strangetimes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577970162, "creation_date": 1571315515, "question_id": 58432751, "link": "https://stackoverflow.com/questions/58432751/disable-editing-of-a-nstextfieldcell-on-right-clicking-on-a-row", "title": "Disable editing of a NSTextFieldCell on right clicking on a row", "body": "<p>I've got a view based <code>NSTableView</code> with a <code>NSTextFieldCell</code> inside. If I select a row and then right click on the same row, the table view puts the field into edit mode after a short delay! Right Clicking should only show the context menu (which it does) but ignore editing the field. </p>\n\n<p>How can I stop this behavior? I'm not doing anything non-standard. I can see in the debugger that the table seems to call <code>_delayMakeFirstResponder</code> when I right click on a row, which then seems to put the field into edit mode since it was already selected.</p>\n"}, {"tags": ["ios", "objective-c", "endianness", "metal", "metalkit"], "comments": [{"owner": {"reputation": 4060, "user_id": 763355, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dxAhW.jpg?s=128&g=1", "display_name": "MoDJ", "link": "https://stackoverflow.com/users/763355/modj"}, "edited": false, "score": 2, "creation_date": 1571337853, "post_id": 58432041, "comment_id": 103217611, "body": "If you define your shaders to work in terms of BGRA using bytes then you submit 32 bit values defined as XRGB where bits 0-&gt;7 define the B values. These 8 bit values are then converted to floating point, but they do not magically grow in precision so you can use half precision and avoid float. I would suggest that you start with an already working solution and build on top of that."}], "answers": [{"comments": [{"owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "edited": false, "score": 0, "creation_date": 1571345335, "post_id": 58437234, "comment_id": 103220736, "body": "so you mean that in the vertexShader &amp; fragmentShader colors are always in RGBA order ? in this way what the purpose to define a pixelformat via  pipelineDescriptor.colorAttachments?"}, {"owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "reply_to_user": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "edited": false, "score": 0, "creation_date": 1571348152, "post_id": 58437234, "comment_id": 103221704, "body": "The render pipeline state has to know the destination pixel format so it knows <i>how</i> to swizzle and convert the values returned by the fragment function."}], "tags": [], "owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "is_accepted": false, "score": 3, "last_activity_date": 1571330375, "creation_date": 1571330375, "answer_id": 58437234, "question_id": 58432041, "link": "https://stackoverflow.com/questions/58432041/why-sending-rgba-data-in-a-bgra-pipelinedescriptor-work/58437234#58437234", "title": "why sending RGBA data in a BGRA pipelineDescriptor work?", "body": "<p>The color(s) you return from a fragment function are assumed to be in RGBA order, regardless of the pixel format of your render target. They get swizzled and/or converted as necessary to match the format of the destination. The same thing happens when sampling/writing other textures: colors always arrive in RGBA order.</p>\n"}], "owner": {"reputation": 9675, "user_id": 1114043, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/EwPfY.jpg?s=128&g=1", "display_name": "zeus", "link": "https://stackoverflow.com/users/1114043/zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1571330375, "creation_date": 1571313232, "question_id": 58432041, "link": "https://stackoverflow.com/questions/58432041/why-sending-rgba-data-in-a-bgra-pipelinedescriptor-work", "title": "why sending RGBA data in a BGRA pipelineDescriptor work?", "body": "<p>My MTKView is in BGRA and I setup my pipelineDescriptor in BGRA like below :</p>\n\n<blockquote>\n  <p>pipelineDescriptor.colorAttachments.objectAtIndexedSubscript(0).setPixelFormat(MTLPixelFormatBGRA8Unorm);</p>\n</blockquote>\n\n<p>now the problem is that if I send data encoded in RGBA (I mean color is a 16 bytes encoded in <strong>R</strong>(4bytes)+<strong>G</strong>(4bytes)+<strong>B</strong>(4bytes)+<strong>A</strong>(4bytes)) to the shader below then it's work well!</p>\n\n<pre><code>RenderCommandEncoder.setVertexBuffer(LvertexBuffer{buffer}, 0{offset}, 0{atIndex})\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#include &lt;metal_stdlib&gt;                                                                                         \nusing namespace metal;                                                                                          \n\n#include &lt;simd/simd.h&gt;                                                                                          \n\nstruct VertexIn {                                                                                               \n    vector_float4 color;                                                                                        \n    vector_float2 pos;                                                                                          \n};                                                                                                              \n\nstruct VertexOut {                                                                                              \n    float4 color;                                                                                               \n    float4 pos [[position]];                                                                                    \n};                                                                                                              \n\nvertex VertexOut vertexShader(                                                                                  \n                              const device VertexIn *vertexArray [[buffer(0)]],                                 \n                              unsigned int vid [[vertex_id]],                                                    \n                              constant vector_uint2 *viewportSizePointer [[buffer(1)]] \n                             )                                                                                  \n{                                                                                                               \n    // Get the data for the current vertex.                                                                     \n    VertexIn in = vertexArray[vid];                                                                             \n    VertexOut out;\n\n    ...  \n    out.color = in.color;                                                                                       \n    ....                                                                                                                                                                                                                                     \n    return out;                                                                                                 \n}                                                                                                               \n\nfragment float4 fragmentShader(                                                                                 \n                                VertexOut interpolated [[stage_in]],                                             \n                                texture2d&lt;half&gt; colorTexture [[ texture(0) ]]                                             \n                              )                                                                                 \n{                                                                                                               \n    return interpolated.color;                                                                                  \n}\n</code></pre>\n\n<p>How it's possible? is it about little and big endian ?</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 787, "user_id": 7851805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1406efff90090b78f210c54cc9706536?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7851805/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1571317938, "last_edit_date": 1571317938, "creation_date": 1571317361, "answer_id": 58433336, "question_id": 58431720, "link": "https://stackoverflow.com/questions/58431720/how-to-function-dispatch-group/58433336#58433336", "title": "How to function dispatch_group?", "body": "<p>You can try this it always call block1 first then after call block2.</p>\n\n<p>Working fine on Xcode 11, iOS13</p>\n\n<pre><code>dispatch_group_t group = dispatch_group_create();\n\ndispatch_group_async(group,dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^ {\n    // block1\n    NSLog(@\"Block1\");\n});\n\n[NSThread sleepForTimeInterval:1.0];\ndispatch_group_async(group,dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^ {\n    // block2\n    NSLog(@\"Block2\");\n});\n</code></pre>\n\n<p>or </p>\n\n<pre><code>dispatch_group_t group = dispatch_group_create();\n\ndispatch_group_enter(group);\n    // Task is completed, so signal that it has finished\n    NSLog(@\"Block1\");\n    dispatch_group_leave(group);\n\n// Make the second task wait until group1 has completed before running\ndispatch_group_enter(group);\n    // Task is completed, so signal that it has finished\n    NSLog(@\"Block2\");\n    dispatch_group_leave(group);\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 6720843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cECUa.jpg?s=128&g=1", "display_name": "Md. Monir-Uz-Zaman", "link": "https://stackoverflow.com/users/6720843/md-monir-uz-zaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571317938, "creation_date": 1571312167, "question_id": 58431720, "link": "https://stackoverflow.com/questions/58431720/how-to-function-dispatch-group", "title": "How to function dispatch_group?", "body": "<p>I am using dispatch_group in my code, but it's functionality not cleared to me. </p>\n\n<p>I have used below code:</p>\n\n<pre><code>1.dispatch_group_t group = dispatch_group_create();\n2.dispatch_group_enter(group);\n3.[self exportVideoAsset:avAsset withRange:CMTimeRangeMake(start1, duration1) inGCDGroup:group];\n\n4.dispatch_group_enter(group);\n5.[self exportVideoAsset:avAsset withRange:CMTimeRangeMake(start2, duration2) inGCDGroup:group];\n</code></pre>\n\n<p>Here 2 and 4 line execute first and then execute exportVideoAsset function in line 3 and 5. But here in 3 and 5 line, function exportVideoAsset is execute without no sequential order. But I want exportVideoAsset function in line 3 will always execute first, then execute line 5.</p>\n"}, {"tags": ["objective-c", "url", "wkwebview", "mobile-website"], "comments": [{"owner": {"reputation": 1811, "user_id": 12062404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7672893c82da1651cc0a83bb1c54b623?s=128&d=identicon&r=PG&f=1", "display_name": "gst", "link": "https://stackoverflow.com/users/12062404/gst"}, "edited": false, "score": 0, "creation_date": 1571308496, "post_id": 58430445, "comment_id": 103201798, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1471201/how-to-validate-an-url-on-the-iphone\">How to validate an url on the iPhone</a>"}, {"owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "reply_to_user": {"reputation": 1811, "user_id": 12062404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7672893c82da1651cc0a83bb1c54b623?s=128&d=identicon&r=PG&f=1", "display_name": "gst", "link": "https://stackoverflow.com/users/12062404/gst"}, "edited": false, "score": 0, "creation_date": 1571310481, "post_id": 58430445, "comment_id": 103202935, "body": "hi, I am asking is their piece of the code snippet to validate the URL string by loading it in wkwebview and validating it based on responses with status code like 200...  rather than just validating the format of the URL string"}], "owner": {"reputation": 1, "user_id": 7348463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01290b0a134edf4163a9aa7b8dbfdcc2?s=128&d=identicon&r=PG&f=1", "display_name": "RAVITEJA KADALI", "link": "https://stackoverflow.com/users/7348463/raviteja-kadali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571312256, "creation_date": 1571308123, "last_edit_date": 1571312256, "question_id": 58430445, "link": "https://stackoverflow.com/questions/58430445/what-is-correct-way-of-validate-the-url-string-and-loading-it-in-wkwebview-based", "title": "What is correct way of validate the URL string and loading it in WKWEBVIEW based on responses with status code like 200... in IOS Objective-C?", "body": "<p>I have Strings like <a href=\"https://www.google.com,htpps://www.tempalate-name1\" rel=\"nofollow noreferrer\">https://www.google.com,htpps://www.tempalate-name1</a> and need to validate those strings are valid or not, loading it in wkwebview and validating it based on responses with status code like 200... rather than just validating the format of the URL string before loading in a wkwebview bypassing the URL.</p>\n"}, {"tags": ["ios", "objective-c", "tel"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1571309204, "post_id": 58430053, "comment_id": 103202174, "body": "Apple have changed the presentation to an action sheet. There&#39;s nothing you can do."}, {"owner": {"reputation": 15564, "user_id": 2057171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E9ThY.png?s=128&g=1", "display_name": "Albert Renshaw", "link": "https://stackoverflow.com/users/2057171/albert-renshaw"}, "edited": false, "score": 0, "creation_date": 1571500574, "post_id": 58430053, "comment_id": 103265665, "body": "I haven&#39;t tested because I don&#39;t have iOS13 but I found online that there is another [undocumented] URL scheme for this purpose, <code>telprompt:</code>, perhaps it would use the old behavior?"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 11290567, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j5BDn5z6288/AAAAAAAAAAI/AAAAAAAAATk/FtIhzr1-0S4/photo.jpg?sz=128", "display_name": "Abhishek Binniwale", "link": "https://stackoverflow.com/users/11290567/abhishek-binniwale"}, "is_accepted": false, "score": 0, "last_activity_date": 1571311129, "creation_date": 1571311129, "answer_id": 58431392, "question_id": 58430053, "link": "https://stackoverflow.com/questions/58430053/tel-url-scheme-showing-as-action-sheet-in-ios-13/58431392#58431392", "title": "tel: url scheme showing as action sheet in ios 13?", "body": "<p>Yes from iOS13 its showing as action sheet .\nyou observe in other applications which are making call are showing as action sheet only .</p>\n"}], "owner": {"reputation": 1, "user_id": 11966239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/236bebff5994680d951e36718c74e0db?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/11966239/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571326138, "creation_date": 1571306853, "last_edit_date": 1571326138, "question_id": 58430053, "link": "https://stackoverflow.com/questions/58430053/tel-url-scheme-showing-as-action-sheet-in-ios-13", "title": "tel: url scheme showing as action sheet in ios 13?", "body": "<p>How to show tel url scheme as alert in ios 13</p>\n\n<p>I want make a call from app so i am using te url scheme it is presenting as alert below ios 13 but from ios 13 it is displaying as action sheet</p>\n\n<pre><code>[[UIApplication sharedApplication] \n                    openURL:[NSURL URLWithString:@\"tel:%@\",number]];\n</code></pre>\n\n<p>Any suggestions ?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 12180889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hs7V7XOjYa4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTJmPGHk625umjuKMt88N9e4nxow/photo.jpg?sz=128", "display_name": "Gongra Mon", "link": "https://stackoverflow.com/users/12180889/gongra-mon"}, "edited": false, "score": 0, "creation_date": 1571303673, "post_id": 58428946, "comment_id": 103198934, "body": "Thank you I am getting name like <code>Asia&#47;Bangkok</code> can I get short code like <code>ICT</code>"}, {"owner": {"reputation": 570, "user_id": 6098786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1817418292ea19fd6c9d6f0465bdb42?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi Yaduwanshi", "link": "https://stackoverflow.com/users/6098786/abhi-yaduwanshi"}, "reply_to_user": {"reputation": 27, "user_id": 12180889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hs7V7XOjYa4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTJmPGHk625umjuKMt88N9e4nxow/photo.jpg?sz=128", "display_name": "Gongra Mon", "link": "https://stackoverflow.com/users/12180889/gongra-mon"}, "edited": false, "score": 1, "creation_date": 1571305184, "post_id": 58428946, "comment_id": 103199815, "body": "TimeZone.current.localizedName(for: .standard, locale: .current) , TimeZone.abbreviationDictionary will give you whole list"}, {"owner": {"reputation": 27, "user_id": 12180889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hs7V7XOjYa4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTJmPGHk625umjuKMt88N9e4nxow/photo.jpg?sz=128", "display_name": "Gongra Mon", "link": "https://stackoverflow.com/users/12180889/gongra-mon"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571380751, "post_id": 58428946, "comment_id": 103229011, "body": "@rmaddy It is working. So I accepted answer."}, {"owner": {"reputation": 61, "user_id": 11899898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d3GJO.png?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/11899898/ali"}, "edited": false, "score": 0, "creation_date": 1612262284, "post_id": 58428946, "comment_id": 116705646, "body": "thankyou @AbhiYaduwanshi"}], "tags": [], "owner": {"reputation": 570, "user_id": 6098786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1817418292ea19fd6c9d6f0465bdb42?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi Yaduwanshi", "link": "https://stackoverflow.com/users/6098786/abhi-yaduwanshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1571303462, "creation_date": 1571303462, "answer_id": 58428946, "question_id": 58428897, "link": "https://stackoverflow.com/questions/58428897/how-to-get-a-device-timezone-using-swift/58428946#58428946", "title": "How to get a device timezone using Swift", "body": "<p>Try This:</p>\n\n<pre><code> let timeZone = TimeZone.current.identifier\n print(timeZone)\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 12180889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hs7V7XOjYa4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTJmPGHk625umjuKMt88N9e4nxow/photo.jpg?sz=128", "display_name": "Gongra Mon", "link": "https://stackoverflow.com/users/12180889/gongra-mon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 0, "closed_date": 1571303515, "accepted_answer_id": 58428946, "answer_count": 1, "score": -1, "last_activity_date": 1571306281, "creation_date": 1571303299, "last_edit_date": 1571306281, "question_id": 58428897, "link": "https://stackoverflow.com/questions/58428897/how-to-get-a-device-timezone-using-swift", "closed_reason": "Duplicate", "title": "How to get a device timezone using Swift", "body": "<p>In my scenario, I am trying to get current device <code>timezone</code> name. I seen many enables related to Objective C but didn\u2019t get exact solution using <code>Swift</code>. I need to get a names like <code>ADT</code>, <code>IST</code>, <code>PST</code>.</p>\n\n<p><strong>Get TimeZone Code</strong></p>\n\n<pre><code>NSTimeZone* timeZone = [NSTimeZone timeZoneWithAbbreviation:@\"IST\"];\nNSString* timeZoneName = [timeZone localizedName:NSTimeZoneNameStyleStandard locale:[NSLocale currentLocale]];\nNSLog(@\"Name : %@\", timeZoneName);\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>2015-07-10 11:44:05.954 APP[1472:26120] {\n    ADT = \"America/Halifax\";\n    AKDT = \"America/Juneau\";\n    AKST = \"America/Juneau\";\n    ART = \"America/Argentina/Buenos_Aires\";\n    AST = \"America/Halifax\";\n    BDT = \"Asia/Dhaka\";\n    BRST = \"America/Sao_Paulo\";\n    BRT = \"America/Sao_Paulo\";\n    BST = \"Europe/London\";\n    CAT = \"Africa/Harare\";\n    CDT = \"America/Chicago\";\n    CEST = \"Europe/Paris\";\n    CET = \"Europe/Paris\";\n    CLST = \"America/Santiago\";\n    CLT = \"America/Santiago\";\n    COT = \"America/Bogota\";\n    CST = \"America/Chicago\";\n    EAT = \"Africa/Addis_Ababa\";\n    EDT = \"America/New_York\";\n    EEST = \"Europe/Istanbul\";\n    EET = \"Europe/Istanbul\";\n    EST = \"America/New_York\";\n    GMT = GMT;\n    GST = \"Asia/Dubai\";\n    HKT = \"Asia/Hong_Kong\";\n    HST = \"Pacific/Honolulu\";\n    ICT = \"Asia/Bangkok\";\n    IRST = \"Asia/Tehran\";\n    IST = \"Asia/Calcutta\";\n    JST = \"Asia/Tokyo\";\n    KST = \"Asia/Seoul\";\n    MDT = \"America/Denver\";\n    MSD = \"Europe/Moscow\";\n    MSK = \"Europe/Moscow\";\n    MST = \"America/Denver\";\n    NZDT = \"Pacific/Auckland\";\n    NZST = \"Pacific/Auckland\";\n    PDT = \"America/Los_Angeles\";\n    PET = \"America/Lima\";\n    PHT = \"Asia/Manila\";\n    PKT = \"Asia/Karachi\";\n    PST = \"America/Los_Angeles\";\n    SGT = \"Asia/Singapore\";\n    UTC = UTC;\n    WAT = \"Africa/Lagos\";\n    WEST = \"Europe/Lisbon\";\n    WET = \"Europe/Lisbon\";\n    WIT = \"Asia/Jakarta\";\n} \n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nstimer"], "answers": [{"comments": [{"owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "edited": false, "score": 0, "creation_date": 1571314121, "post_id": 58428683, "comment_id": 103205042, "body": "What do you mean by &quot;it&#39;s a nonstop timer&quot;?"}], "tags": [], "owner": {"reputation": 174, "user_id": 12199222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b183eb0e5df2bb1952ffa504e78b488b?s=128&d=identicon&r=PG&f=1", "display_name": "Code Farmer", "link": "https://stackoverflow.com/users/12199222/code-farmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1571302621, "creation_date": 1571302621, "answer_id": 58428683, "question_id": 58428511, "link": "https://stackoverflow.com/questions/58428511/nstimer-dont-stop-when-i-present-another-viewcontroller/58428683#58428683", "title": "NSTimer don&#39;t stop when I present another viewcontroller", "body": "<p>Before present a ViewController, stop the timer</p>\n\n<pre><code>[self.timer invalidate];\n self.timer = nil;\nViewController2 *vc = [[ViewController2 alloc] init];\n[self presentViewController:vc animated:false completion:nil];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 0, "creation_date": 1571306434, "post_id": 58429569, "comment_id": 103200551, "body": "From Review: Can you please provide some code for your suggestion? Otherwise this post does not seem to provide a <a href=\"https://stackoverflow.com/help/how-to-answer\">quality answer</a> to the question. Please either edit your answer and improve it, or just post it as a comment."}], "tags": [], "owner": {"reputation": 1, "user_id": 12231866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f391657b6349e496bd4cea16915efb39?s=128&d=identicon&r=PG&f=1", "display_name": "shravan kumar", "link": "https://stackoverflow.com/users/12231866/shravan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571305303, "creation_date": 1571305303, "answer_id": 58429569, "question_id": 58428511, "link": "https://stackoverflow.com/questions/58428511/nstimer-dont-stop-when-i-present-another-viewcontroller/58429569#58429569", "title": "NSTimer don&#39;t stop when I present another viewcontroller", "body": "<p>Invalidate the timer in viewWillDisappear delegate method and tigger again whenever view will appear again.</p>\n"}], "owner": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571305303, "creation_date": 1571302097, "last_edit_date": 1571303158, "question_id": 58428511, "link": "https://stackoverflow.com/questions/58428511/nstimer-dont-stop-when-i-present-another-viewcontroller", "title": "NSTimer don&#39;t stop when I present another viewcontroller", "body": "<p>I have a viewController1 setting a timer.<br>\nWhen the timer countdown to 0, I'll present viewController2.<br>\nThe timer also keeps going, although I call the timer function <code>invalidate</code><br>\nThen I mark present viewcontroller code, it seems stop correctly.<br></p>\n\n<pre><code>//ViewController2 *vc = [[ViewController2 alloc] init];\n//[self presentViewController:vc animated:false completion:nil];\n</code></pre>\n\n<p>What's wrong with code?<br></p>\n\n<pre><code>#import \"ViewController.h\"\n#import &lt;WebKit/WebKit.h&gt;\n#import \"ViewController2.h\"\n\n@interface ViewController ()&lt;WKScriptMessageHandler, WKNavigationDelegate,WKUIDelegate&gt;\n\n    @property (nonatomic,strong) WKWebView* webView;\n    @property (nonatomic, strong) WKWebViewConfiguration * webConfig;\n    @property (nonatomic, strong) NSTimer *timer;\n    @property (nonatomic) int count;\n\n    @end\n\n    @implementation ViewController\n\n    - (void)viewDidLoad {\n        [super viewDidLoad];\n\n        self.webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:[self createWKWebApp]];\n        [self.view addSubview: self.webView];\n        [self.webView.configuration.preferences setValue:@YES forKey:@\"allowFileAccessFromFileURLs\"];\n        self.webView.scrollView.bounces = NO;\n        [self.webView setContentMode:UIViewContentModeScaleAspectFit];\n        self.webView.navigationDelegate = self;\n        self.webView.UIDelegate = self;\n\n        NSURL *url = [NSURL URLWithString:@\"https://www.google.com.tw\"];\n        NSURLRequest *request = [NSURLRequest requestWithURL:url];\n        [self.webView loadRequest:request];\n\n        self.count = 5;\n\n        self.timer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(timerFired) userInfo:nil repeats:YES];\n    }\n\n    -(void)timerFired {\n\n        NSLog(@\"===) self.count : %d\", self.count);\n\n            if (self.count == 0) {\n\n                ViewController2 *vc = [[ViewController2 alloc] init];\n                [self presentViewController:vc animated:false completion:^{\n                    [self.timer invalidate];\n                    self.timer = nil;\n                }];\n\n            } else {\n                self.count -= 1;\n            }\n\n    }\n\n\n    - (WKWebViewConfiguration *)createWKWebApp {\n        WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];\n        WKUserContentController *userContent = [[WKUserContentController alloc] init];\n\n        config.userContentController = userContent;\n\n        return config;\n    }\n\n    - (void)userContentController:(WKUserContentController*)userContentController didReceiveScriptMessage:(WKScriptMessage*)message {\n\n\n    }\n\n    @end\n</code></pre>\n"}, {"tags": ["objective-c", "uiview", "constraints", "wkwebview"], "answers": [{"tags": [], "owner": {"reputation": 507, "user_id": 7239584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hdN7c.jpg?s=128&g=1", "display_name": "shubham", "link": "https://stackoverflow.com/users/7239584/shubham"}, "is_accepted": true, "score": 1, "last_activity_date": 1571304608, "creation_date": 1571304608, "answer_id": 58429330, "question_id": 58427704, "link": "https://stackoverflow.com/questions/58427704/why-wkwebview-doesnt-apear-in-screen-objective-c/58429330#58429330", "title": "Why WKWebView doesn&#39;t apear in screen ? ( objective c )", "body": "<p>If WKWebView is empty then it didn't show to the screen even if you set all the constraints.</p>\n"}], "owner": {"reputation": 103, "user_id": 3114369, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c2a297aa3564e31703092ca2e08e6cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Kargol", "link": "https://stackoverflow.com/users/3114369/kargol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58429330, "answer_count": 1, "score": 1, "last_activity_date": 1571304608, "creation_date": 1571299280, "question_id": 58427704, "link": "https://stackoverflow.com/questions/58427704/why-wkwebview-doesnt-apear-in-screen-objective-c", "title": "Why WKWebView doesn&#39;t apear in screen ? ( objective c )", "body": "<p>I'm trying to add a UIView and WKWebView in a ViewController , I added programmatically with constraints. </p>\n\n<p>UIView is showing and positioning well without any problem but WKWebView appear only for 0,5 seconds and then disappears. Is possible that if WKWebView is empty  don't appear at the screen even if I set a width and height ? </p>\n\n<p>Can you help me to find the error ?</p>\n\n<p>ths</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    NSMutableArray *arrayContraints = [[NSMutableArray alloc] init];\n\n    [super viewDidLoad];\n\n    self.dialogView = [[UIView alloc] initWithFrame:CGRectZero];\n    self.panelWebView = [[WKWebView alloc] initWithFrame:CGRectZero];\n\n    _dialogView.backgroundColor = UIColor.redColor;\n    _panelWebView.backgroundColor = UIColor.greenColor;\n\n    [self.view addSubview:_panelWebView];\n    [self.view addSubview:_dialogView];\n\n    [self.dialogView setTranslatesAutoresizingMaskIntoConstraints:NO];\n    [self.panelWebView setTranslatesAutoresizingMaskIntoConstraints:NO];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.dialogView\n                                                                        attribute: NSLayoutAttributeHeight\n                                                                        relatedBy: NSLayoutRelationEqual\n                                                                           toItem: nil\n                                                                        attribute: NSLayoutAttributeNotAnAttribute\n                                                                       multiplier: 1.0\n                                                                         constant: 200]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.dialogView\n                                                                        attribute: NSLayoutAttributeWidth\n                                                                        relatedBy: NSLayoutRelationEqual\n                                                                           toItem: nil\n                                                                        attribute: NSLayoutAttributeNotAnAttribute\n                                                                       multiplier: 1.0\n                                                                         constant: 100]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.dialogView\n                                                                        attribute: NSLayoutAttributeLeading\n                                                                        relatedBy: NSLayoutRelationEqual\n                                                                           toItem: self.dialogView.superview\n                                                                        attribute: NSLayoutAttributeLeading\n                                                                        multiplier: 1.0\n                                                                         constant: 80]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.dialogView\n                                                                        attribute: NSLayoutAttributeTop\n                                                                        relatedBy: NSLayoutRelationEqual\n                                                                           toItem: self.dialogView.superview\n                                                                        attribute: NSLayoutAttributeTop\n                                                                       multiplier: 1.0\n                                                                         constant: 80]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.panelWebView\n                                                             attribute: NSLayoutAttributeWidth\n                                                             relatedBy: NSLayoutRelationEqual\n                                                                toItem: nil\n                                                             attribute: NSLayoutAttributeNotAnAttribute\n                                                            multiplier: 1.0\n                                                              constant: 100]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.panelWebView\n                                                             attribute: NSLayoutAttributeHeight\n                                                             relatedBy: NSLayoutRelationEqual\n                                                                toItem: nil\n                                                             attribute: NSLayoutAttributeNotAnAttribute\n                                                            multiplier: 1.0\n                                                              constant: 100]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.panelWebView\n                                                             attribute: NSLayoutAttributeTop\n                                                             relatedBy: NSLayoutRelationEqual\n                                                                toItem: self.panelWebView.superview\n                                                             attribute: NSLayoutAttributeTop\n                                                            multiplier: 1.0\n                                                              constant: 80]];\n\n    [arrayContraints addObject: [NSLayoutConstraint constraintWithItem: self.panelWebView\n                                                             attribute: NSLayoutAttributeLeading\n                                                             relatedBy: NSLayoutRelationEqual\n                                                                toItem: self.panelWebView.superview\n                                                             attribute: NSLayoutAttributeLeading\n                                                            multiplier: 1.0\n                                                              constant: 260]];\n\n\n    [NSLayoutConstraint activateConstraints: arrayContraints];\n\n    [self.dialogView layoutIfNeeded];\n    [self.panelWebView layoutIfNeeded];\n    [self.dialogView.superview layoutIfNeeded];\n\n}\n@end\n</code></pre>\n"}, {"tags": ["objective-c"], "owner": {"reputation": 11, "user_id": 12040058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36fef8469460bde4126a1e29044e08ac?s=128&d=identicon&r=PG&f=1", "display_name": "Swapnali", "link": "https://stackoverflow.com/users/12040058/swapnali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1571292630, "creation_date": 1571292630, "question_id": 58425978, "link": "https://stackoverflow.com/questions/58425978/problems-with-launching-via-xpc-xpc-error-connection-interrupted", "title": "Problems with launching via XPC. XPC error : Connection interrupted", "body": "<p>I am trying to run my cocoa application from root with Objective-c, when I run it very first time after starting Xcode it runs properly, but as a stop the application and run again it show me error -\n\"Problems with launching via XPC. XPC error : Connection interrupted\" , though I haven't use XPC in my project.</p>\n\n<p>I am using Xcode version 11.1</p>\n\n<p>Error Details - \n\"Details</p>\n\n<p>Could not launch \u201ctest2\u201d\nDomain: IDEDebugSessionErrorDomain\nCode: 3</p>\n\n<h2>Failure Reason: Problems with launching via XPC. XPC error : Connection interrupted</h2>\n\n<p>Problems with launching via XPC. XPC error : Connection interrupted\nDomain: IDEDebugSessionErrorDomain</p>\n\n<h2>Code: 3</h2>\n\n<p>\"</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uipopoverpresentationcontroller"], "owner": {"reputation": 36, "user_id": 11643669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f843afbea4415a5fa270b843217b3e8e?s=128&d=identicon&r=PG&f=1", "display_name": "MDausch", "link": "https://stackoverflow.com/users/11643669/mdausch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571292199, "creation_date": 1571292199, "question_id": 58425892, "link": "https://stackoverflow.com/questions/58425892/animating-a-uipopoverpresentationcontroller-views-center-position", "title": "Animating a UIPopoverPresentationController view&#39;s center position", "body": "<p>Overall my goal is to present a custom UIViewController over the screen as a sort of \"widget\". The view would animate by starting out with its center at a starting point in my root view and then move the view until it is positioned at the center of the root view. This presented view should be able to animate its own height and width. </p>\n\n<p>Currently, I am using a ViewController along with a <code>UIPopoverPresentationController</code> that has a custom empty and transparent <code>popoverBackgroundViewClass</code> . I am using a popover controller so that I can use my viewController's <code>preferredContentSize</code> as a way to allow the \"popped\" in view to easily change its own height and width. (If a popover presentation controller isn't right for handling something like this, I'd love to know) </p>\n\n<p>The issue I have run into with using a <code>UIPopoverPresentationController</code> is that I can set its position with <code>self.popoverPresentationController.sourceRect = CGRectMake(point.x, point.y, 0,0);</code> where <code>point</code> refers to a CGPoint that determines the center of the popover view. If I could somehow animate this popover view's center from one point to another that would solve all of my problems, but I can't figure out anything that would make this work. </p>\n\n<p>I can't tell if it's my inexperience with this sort of thing but every approach I have tried just feels hacky, so any help on doing this the right way is very much so appreciated.</p>\n"}, {"tags": ["objective-c", "swift", "closures"], "answers": [{"tags": [], "owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "is_accepted": true, "score": 0, "last_activity_date": 1571281582, "creation_date": 1571281582, "answer_id": 58424302, "question_id": 58424123, "link": "https://stackoverflow.com/questions/58424123/how-to-convert-completion-viewcontroler-code-from-objc-into-swift/58424302#58424302", "title": "how to convert completion viewcontroler code from objc into swift", "body": "<p>Here's one solution:</p>\n\n<pre><code>init(formlyData json: NSDictionary, afterUpdatingProfile completion: ((Bool, BMErrors?)-&gt;Void)?)\n    {\n\n    }\n</code></pre>\n\n<p>I took the liberty of making the completion's BMErrors an optional, even though your ObjC didn't specify nullable.  You may have intended other parameters to be nullable too, so add optionals as needed.</p>\n\n<p>You might want to just simplify to:</p>\n\n<pre><code>init(json: NSDictionary, completion: ((Bool, BMErrors?)-&gt;Void)?)\n    {\n\n    }\n</code></pre>\n\n<p>And maybe consider switching to a Swift Dictionary if your caller doesn't mind.</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 730, "user_id": 12137030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb66aaa26e7dddb084dc8a62f2a4e29?s=128&d=identicon&r=PG&f=1", "display_name": "Reed", "link": "https://stackoverflow.com/users/12137030/reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58424302, "answer_count": 1, "score": -3, "last_activity_date": 1571281582, "creation_date": 1571280182, "question_id": 58424123, "link": "https://stackoverflow.com/questions/58424123/how-to-convert-completion-viewcontroler-code-from-objc-into-swift", "title": "how to convert completion viewcontroler code from objc into swift", "body": "<p>I need to make init for my view controller in swift. so how can I make similar init method in swift.</p>\n\n<pre><code>  - (instancetype)initWithFormlyData:(NSDictionary *)json afterUpdatingProfile:(void (^)(BOOL, BMErrors *))completion\n\n {\n\n        self = [super initWithFormlyData:json];\nif (self) {\n    self.updateCompletion = completion;\n}\nreturn self;\n\n }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "state-saving"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571281248, "post_id": 58423802, "comment_id": 103190479, "body": "Unrelated to your question but why are you posting a custom notification in <code>applicationWillResignActive</code> and <code>applicationDidEnterBackground</code>? iOS already provides standard notifications for those events that you can listed for."}, {"owner": {"reputation": 1, "user_id": 11282547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6dccd6e559214a9e1b498d333716726?s=128&d=identicon&r=PG&f=1", "display_name": "tj mclaughlin", "link": "https://stackoverflow.com/users/11282547/tj-mclaughlin"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571286231, "post_id": 58423802, "comment_id": 103191570, "body": "I was advised to do that for another project years ago."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1571288415, "post_id": 58423802, "comment_id": 103192078, "body": "There was never any reason to ever post your own notifications for something that already has its own notification. That was bad advice."}, {"owner": {"reputation": 1, "user_id": 11282547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6dccd6e559214a9e1b498d333716726?s=128&d=identicon&r=PG&f=1", "display_name": "tj mclaughlin", "link": "https://stackoverflow.com/users/11282547/tj-mclaughlin"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1580609832, "post_id": 58423802, "comment_id": 106152852, "body": "This delayed response is due to the fact that I&#39;ve been trying different things. One which saved the game for a month before crapping out. Also, when I remove those notifications nothing is saved from one session to the other. Again, the iPad saves it all. The iPhone 7 was saving but it crapped out as well. I also have scoring data saved to the cloud. Could that be a conflict since I&#39;m saving the game in appDelegate and saving just the scoring data in cloud???"}], "owner": {"reputation": 1, "user_id": 11282547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6dccd6e559214a9e1b498d333716726?s=128&d=identicon&r=PG&f=1", "display_name": "tj mclaughlin", "link": "https://stackoverflow.com/users/11282547/tj-mclaughlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1571281139, "creation_date": 1571276982, "last_edit_date": 1571281139, "question_id": 58423802, "link": "https://stackoverflow.com/questions/58423802/how-to-save-game-progress-for-different-devices", "title": "How to save game progress for different devices?", "body": "<p>I have a simple word game that I just put up on the App Store. The games progress is saved from session to session on my iPad and iPhone 7  plus but not on iPhone XS Max.</p>\n\n<p>So, the code is working for saving game progress except for XS Max. Other XS Max phones as well as mine.</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // Override point for customization after application launch.\n\n\n#if 0\n    NSArray *puzzlesArray;\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n\n    NSString *docFile = [documentsDirectory stringByAppendingPathComponent:@\"Puzzles.plist\"];\n\n    puzzlesArray = [[NSArray alloc] initWithContentsOfFile:docFile];\n    if (!puzzlesArray) {\n        NSString *thePath = [[NSBundle mainBundle] pathForResource:@\"puzzles\" ofType:@\"plist\"];\n\n        puzzlesArray = [[NSArray alloc] initWithContentsOfFile:thePath];\n    }\n#endif\n\n\n    return YES;\n}\n\n- (void)applicationWillResignActive:(UIApplication *)application {\n\n    [[NSNotificationCenter defaultCenter] postNotificationName:@\"applicationWillResignActive\" object:self];\n\n}\n\n- (void)applicationDidEnterBackground:(UIApplication *)application {\n\n    [[NSNotificationCenter defaultCenter] postNotificationName:@\"applicationDidEnterBackground\" object:self];\n}\n</code></pre>\n\n<p>Both of those with appropriate code in Game Controller.</p>\n\n<pre><code>- (BOOL)writeApplicationData:(NSData *) data toFile:(NSString *)docFile {\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n\n    if (!documentsDirectory) {\n\n        NSLog(@\"Documents directory not found!\");\n\n        return (NO);\n\n    }\n\n    NSString *appFile = [documentsDirectory stringByAppendingPathComponent:docFile];\n\n\n    return ([data writeToFile:appFile atomically:YES]);\n}\n\n- (void)applicationWillTerminate:(UIApplication *)application {\n\n#if 0\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n\n    NSString *docFile = [documentsDirectory stringByAppendingPathComponent:@\"puzzles.plist\"];\n\n    NSData *pData = [[[NSData alloc] initWithContentsOfFile:docFile] autorelease];\n\n    [self writeApplicationData:pData toFile:docFile];\n#endif // if 0\n\n}\n\n- (NSData *)applicationDataFromFile:(NSString *)docFile {\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n\n    NSString *appFile = [documentsDirectory stringByAppendingPathComponent:docFile];\n\n    NSData *pData = [[NSData alloc] initWithContentsOfFile:appFile];\n\n    return (pData);\n\n}\n\n@end\n</code></pre>\n\n<p>I have no code in <code>applicationDidEnterBackground</code> or <code>applicationWillEnterForeground</code>.</p>\n\n<p>For the XS Max the games are saved for two days or so before reverting back to entry point.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "swift-extensions"], "comments": [{"owner": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 0, "creation_date": 1571279297, "post_id": 58423761, "comment_id": 103190120, "body": "You should be extending <code>NSString</code> and btw your method is called <code>asImage</code> not <code>image</code>"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 0, "creation_date": 1571334990, "post_id": 58423761, "comment_id": 103216408, "body": "corrected the asImage"}], "answers": [{"comments": [{"owner": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 1, "creation_date": 1571280722, "post_id": 58424043, "comment_id": 103190368, "body": "<code>self as NSString</code> inside a <code>NSString</code> extension is pointless"}, {"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "reply_to_user": {"reputation": 196293, "user_id": 2303865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/varL9.jpg?s=128&g=1", "display_name": "Leo Dabus", "link": "https://stackoverflow.com/users/2303865/leo-dabus"}, "edited": false, "score": 0, "creation_date": 1571282696, "post_id": 58424043, "comment_id": 103190799, "body": "True, I forgot about that but I also didn&#39;t want to change much of OP&#39;s code, but I have changed it as it also improves readability."}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1571338006, "post_id": 58424043, "comment_id": 103217673, "body": "One issue came up. Extension is not respecting font size...I am sending attributes from Objc as follows:  NSMutableDictionary *attrs = [NSMutableDictionary dictionary]; [atts setObject: [UIFont boldSystemFontOfSize:12] forKey: NSFontAttributeName]; [attrs setObject: [UIColor whiteColor] forKey: NSForegroundColorAttributeName];[attrs setObject: [UIColor lightGrayColor] forKey: NSBackgroundColorAttributeName];  Colors work but not size..."}], "tags": [], "owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "is_accepted": true, "score": 1, "last_activity_date": 1571282718, "last_edit_date": 1571282718, "creation_date": 1571279440, "answer_id": 58424043, "question_id": 58423761, "link": "https://stackoverflow.com/questions/58423761/call-string-extension-including-function-written-in-swift-from-objective-c/58424043#58424043", "title": "Call String extension including function written in Swift from Objective-C", "body": "<p>A Swift class, extension, or protocol can only be represented in Objective-C if it's convertible or marked explicitly with <code>@objc</code>.. which means it requires all parameters to be convertible to Objective-C as well.</p>\n\n<p><code>struct</code> also cannot be converted so that leaves us with just classes alone (IE: extensions on classes and concrete classes) and to mark a class <code>@objc</code>, it must inherit <code>NSObject</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>@objc\nextension NSString {\n    func asImage(withAttributes attributes: [NSAttributedString.Key: Any]? = nil, size: CGSize = .zero) -&gt; UIImage? {\n        let size = size == .zero ? self.size(withAttributes: attributes!) : size\n       if #available(iOS 10.0, *) {\n           return UIGraphicsImageRenderer(size: size).image { _ in\n               self.draw(in: CGRect(origin: .zero, size: size),\n                                       withAttributes: attributes!)\n           }\n       } else {\n           // Fallback on earlier versions\n           return nil\n       }\n   }\n}\n</code></pre>\n\n<p>Notice that I changed the <code>CGSize</code> parameter to non-optional and compared against zero instead..</p>\n\n<p>Also note that I marked it <code>@objc</code> and changed it to an extension on <code>NSString</code> because <code>String</code> itself cannot be converted to Objective-C as it's a <code>struct</code>!</p>\n\n<p>Then in Objective-C you can call it like so:</p>\n\n<pre><code>[str asImageWithAttributes:@{....} size:CGSizeZero];\n</code></pre>\n\n<p>or whatever parameters you want..</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 58424043, "answer_count": 1, "score": 1, "last_activity_date": 1571334952, "creation_date": 1571276671, "last_edit_date": 1571334952, "question_id": 58423761, "link": "https://stackoverflow.com/questions/58423761/call-string-extension-including-function-written-in-swift-from-objective-c", "title": "Call String extension including function written in Swift from Objective-C", "body": "<p>When an extension in Swift just uses a variable as follows:</p>\n\n<pre><code> extension NSString   {\n        var isNumber: Bool {\n            return length &gt; 0 &amp;&amp; rangeOfCharacter(from: CharacterSet.decimalDigits.inverted).location == NSNotFound\n        }\n    }\n</code></pre>\n\n<p>I can call it from Objective-C using the very friendly syntax:</p>\n\n<pre><code>NSString *str = @\"twelve\";\nBOOL isNumber = str.isNumber;  \n</code></pre>\n\n<p>However I am struggling with the syntax when the extension uses a function as in:</p>\n\n<pre><code>extension String {\n func asImage(withAttributes attributes: [NSAttributedString.Key: Any]? = nil, size: CGSize? = nil) -&gt; UIImage? {\n        let size = size ?? (self as NSString).size(attributes: attributes as! [String : Any])\n        if #available(iOS 10.0, *) {\n            return UIGraphicsImageRenderer(size: size).image { _ in\n                (self as NSString).draw(in: CGRect(origin: .zero, size: size),\n                                        withAttributes: attributes as! [String : Any])\n            }\n        } else {\n            // Fallback on earlier versions\n            return nil\n        }\n    }\n</code></pre>\n\n<p>This can be called from Swift with as little as:</p>\n\n<pre><code> var image = \"Hello World\".asImage()\n</code></pre>\n\n<p>But I can't figure out how to call it from Objective-C.  </p>\n\n<p>In fact, autotype does not even recognize str.asImage and when I try various things, it leads me down a rabbit hole of errors and fix-its that lead to other errors.</p>\n\n<p>How would I call the above extension from Objective-C?</p>\n"}]