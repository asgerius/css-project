[{"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 0, "creation_date": 1567080043, "post_id": 57698407, "comment_id": 101861556, "body": "The thumb rule is you can not add primitive datatypes into the array. The arrays are pointers, can store objects. <code>CLLocationDistance</code> is a <code>double</code> (which is primitive datatype), so before adding to an array, you must have to convert it to object."}], "answers": [{"tags": [], "owner": {"reputation": 9371, "user_id": 196964, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/df6zG.jpg?s=128&g=1", "display_name": "Doug Richardson", "link": "https://stackoverflow.com/users/196964/doug-richardson"}, "is_accepted": true, "score": 0, "last_activity_date": 1567044478, "last_edit_date": 1567044478, "creation_date": 1567027030, "answer_id": 57700151, "question_id": 57698407, "link": "https://stackoverflow.com/questions/57698407/can-i-add-returned-cllocationdistance-into-an-nsmutablearray/57700151#57700151", "title": "Can I add returned CLLocationDistance into an NSMutableArray?", "body": "<p>You have to convert it to an <code>NSNumber</code>.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>NSMutableArray *a = [NSMutableArray new];\n[a addObject:[NSNumber numberWithDouble:self.kilometers]];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "is_accepted": false, "score": 0, "last_activity_date": 1567027121, "creation_date": 1567027121, "answer_id": 57700169, "question_id": 57698407, "link": "https://stackoverflow.com/questions/57698407/can-i-add-returned-cllocationdistance-into-an-nsmutablearray/57700169#57700169", "title": "Can I add returned CLLocationDistance into an NSMutableArray?", "body": "<p>The entries in an <code>NSArray</code> or <code>NSMutableArray</code> must all be object pointers. <code>nil</code> pointers and non-object types (e.g. <code>int</code>, <code>double</code>, <code>CGPoint</code>) are not allowed.</p>\n\n<ul>\n<li>To put a placeholder into a mutable array, use the <code>NSNull</code> class\n(instead of trying to put a <code>nil</code> into the array).</li>\n<li>To put things like <code>CGPoint</code> into a mutable array, use the <code>NSValue</code>\nclass.</li>\n<li>To put primitive types like <code>int</code> and <code>double</code> into a mutable array,\nuse the <code>NSNumber</code> class.</li>\n</ul>\n\n<p>So in your case, since <code>CLLocationDistance</code> is actually a <code>double</code>, you need to encapsulate the distance in a <code>NSNumber</code> object, and then add the <code>NSNumber</code> object to the array. To retrieve the distance, take the <code>NSNumber</code> object from the array, and extract the <code>double</code>.</p>\n\n<p>Here's an example that shows the whole process:</p>\n\n<pre><code>// create a mutable array\nNSMutableArray *array = [NSMutableArray new];\n\n// encapsulate a CLLocationDistance (actually a 'double') in a NSNumber, and add the NSNumber to the array\nCLLocationDistance distance1 = 2.1;\nNSNumber *number1 = [NSNumber numberWithDouble:distance1];\n[array addObject:number1];\nNSLog(@\"%@\", array);\n\n// get the NSNumber from the array and unpack the 'double' value\nNSNumber *number2 = [array firstObject];\nCLLocationDistance distance2 = [number2 doubleValue];\nNSLog(@\"the distance is %lf\", distance2);\n</code></pre>\n\n<p>Here's the output:</p>\n\n<blockquote>\n  <p>2019-08-28 14:02:32.197 TestSomething[1195:476743] (<br>\n      \"2.1\"<br>\n  )<br>\n  2019-08-28 14:02:32.198 TestSomething[1195:476743] the distance is 2.100000</p>\n</blockquote>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 57700151, "answer_count": 2, "score": 1, "last_activity_date": 1567044478, "creation_date": 1567017923, "question_id": 57698407, "link": "https://stackoverflow.com/questions/57698407/can-i-add-returned-cllocationdistance-into-an-nsmutablearray", "title": "Can I add returned CLLocationDistance into an NSMutableArray?", "body": "<p>I'm using the below body of code to find the distances between a logged in user and a list of other users in my app's database.</p>\n\n<p><strong>ViewController.h</strong></p>\n\n<pre><code>@property (nonatomic) CLLocationDistance kilometers;\n</code></pre>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>NSString *myLocation = self.currentUser[0][@\"street_address\"];\n                NSLog(@\"MY LOCATION %@\", myLocation);\n\n\n                CLGeocoder *geocoder = [[CLGeocoder alloc] init];\n                [geocoder geocodeAddressString:myLocation completionHandler:^(NSArray* placemarks2, NSError* error){\n                    for (CLPlacemark* aPlacemark in placemarks2)\n                    {\n\nfor (NSMutableDictionary *multiplelocationsFriend in self.closeByNeighbours) {\n\nNSString *location = [multiplelocationsFriend objectForKey:@\"address\"];\n\nCLGeocoder *geocoderFriend = [[CLGeocoder alloc] init];\n                            [geocoderFriend geocodeAddressString:location\n                                               completionHandler:^(NSArray* placemarks, NSError* error){\n                                                   if (placemarks &amp;&amp; placemarks.count &gt; 0) {\n                                                       CLPlacemark *topResult = [placemarks objectAtIndex:0];\n                                                       MKPlacemark *placemark = [[MKPlacemark alloc] initWithPlacemark:topResult];\n\n\n                                                         self.endLocation = [[CLLocation alloc] initWithLatitude:placemark.location.coordinate.latitude longitude:placemark.location.coordinate.longitude] ;\n\n\n                                                        NSString *myLocation = self.currentUser[0][@\"street_address\"];\n                                                        NSLog(@\"MY LOCATION %@\", myLocation);\n\nCLGeocoder *geocoder = [[CLGeocoder alloc] init];\n[geocoder geocodeAddressString:myLocation completionHandler:^(NSArray* placemarks2, NSError* error){\n                                                        for (CLPlacemark* aPlacemark in placemarks2)\n                                                        {\n self.startLocation = [[CLLocation alloc] initWithLatitude:aPlacemark.location.coordinate.latitude longitude:aPlacemark.location.coordinate.longitude] ;\n\n                                                       self.kilometers = [self.startLocation distanceFromLocation:self.endLocation] / 1000;\n\n\n                                                        }\n                                                        }];\n\n\n                                                   }\n                                               }\n                             ];\n                        }\n\n                    }\n                }];\n\n\n\n\n                dispatch_async(dispatch_get_main_queue(), ^{\n                    [self.neighboursView reloadData];\n                });\n\n\n\n            } failure:^(AFHTTPRequestOperation *operation, NSError *error) {\n                NSLog(@\"Failure: %@\", [error localizedDescription]);\n            }];\n</code></pre>\n\n<p>Is there any way to add self.kilometers into an NSMutableArray? When I try doing it, XCode throws me an error saying:</p>\n\n<blockquote>\n  <p>Sending 'CLLocationDistance' (aka 'double') to parameter of\n  incompatible type 'id _Nonnull'</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "swift", "multithreading", "instruments"], "comments": [{"owner": {"reputation": 870, "user_id": 9000214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81671108bc0838742fb4ca9c0daaea8?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/9000214/mike"}, "edited": false, "score": 1, "creation_date": 1567012448, "post_id": 57697148, "comment_id": 101838602, "body": "This is incredibly amusing to me. If you want to show him how not multithreading is a bad idea, do a network call to a slow API and let him watch your application freeze."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1567013605, "post_id": 57697148, "comment_id": 101839112, "body": "Instruments can do that.  I&#39;d start here.  <a href=\"https://developer.apple.com/videos/play/wwdc2019/411/\" rel=\"nofollow noreferrer\">developer.apple.com/videos/play/wwdc2019/411</a>.  And, yeah, that sounds like a recipe for nasty contention issues."}, {"owner": {"reputation": 61, "user_id": 11986462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1111a6693dd65bbbd08fbeb81f7a9f04?s=128&d=identicon&r=PG&f=1", "display_name": "oopo", "link": "https://stackoverflow.com/users/11986462/oopo"}, "reply_to_user": {"reputation": 870, "user_id": 9000214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81671108bc0838742fb4ca9c0daaea8?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/9000214/mike"}, "edited": false, "score": 1, "creation_date": 1567026360, "post_id": 57697148, "comment_id": 101844005, "body": "@Mike We&#39;re talking about someone who has done firmware programming, but who literally thinks that O(1) is an Emoji. He thinks sluggishness is caused by the backend."}, {"owner": {"reputation": 61, "user_id": 11986462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1111a6693dd65bbbd08fbeb81f7a9f04?s=128&d=identicon&r=PG&f=1", "display_name": "oopo", "link": "https://stackoverflow.com/users/11986462/oopo"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1567026451, "post_id": 57697148, "comment_id": 101844040, "body": "@bbum I was hoping for a programmatic way to get the total blocks on the main thread, because I also want to log that number."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 870, "user_id": 9000214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81671108bc0838742fb4ca9c0daaea8?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/9000214/mike"}, "edited": false, "score": 0, "creation_date": 1567061321, "post_id": 57697148, "comment_id": 101851678, "body": "@Mike The OP talks about network call backs. How can the speed of an API cause a freeze of the app?"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1567061377, "post_id": 57697148, "comment_id": 101851697, "body": "@oopo So, you do not see any disadvantages, when using the app, but you want to prove that there are disadvantages and get problems to do so?"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1567061626, "post_id": 57697148, "comment_id": 101851818, "body": "To your Q: The code to get the number of waiting blocks on the main thread is quite simple: <code>int numberOfWaitingBlocks = 0;</code>. A completion handler for a network call isn&#39;t waiting. It is triggered. The load and the &quot;stress&quot; equals 0."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1567102348, "post_id": 57697148, "comment_id": 101873299, "body": "@AminNegm-Awad Huh?  Pounding the main thread from callbacks most assuredly can cause hiccups in the UI&#39;s responsiveness.  The architecture OP describes is rife with risk of this.   In general, network callbacks should be handled on a background queue, then any UI updates are dispatched to the main thread once data processing is complete and appropriate set of updates have been coalesced into a single update operation."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1567449761, "post_id": 57697148, "comment_id": 101958947, "body": "Obviously the app does not suffer under this theoretical existing risk. Otherwise the OP doesn&#39;t need help to prove it. And if most of the work of the call back is updating the UI, making things more complex is a bad idea. However, I never said that there isn&#39;t the risk of UI blocking. I said that there is no block &quot;waiting&quot;. The Q seems to assume that the number of &quot;waiting&quot; blocks may do any harm. I wanted to clarify that this is not true. And a low speed of the API is definitely no risk."}], "owner": {"reputation": 61, "user_id": 11986462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1111a6693dd65bbbd08fbeb81f7a9f04?s=128&d=identicon&r=PG&f=1", "display_name": "oopo", "link": "https://stackoverflow.com/users/11986462/oopo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1567026945, "creation_date": 1567012164, "last_edit_date": 1567026945, "question_id": 57697148, "link": "https://stackoverflow.com/questions/57697148/how-to-quantify-number-of-waiting-blocks-on-main-thread", "title": "How to quantify number of waiting blocks on main thread?", "body": "<p>I've inherited some code that throws any operation it can onto the main UI thread. For instance, when a network operation returns, the completion blocks are automatically run on the main thread and the programmers mix UI code with network requests willy-nilly. </p>\n\n<p>How can I quantify the load or stress on the main UI thread, so that I can prove to a manager that putting everything on the main thread is a bad practice? I am hoping for a programmatic way to get this datum, because I also want to log it.</p>\n"}, {"tags": ["objective-c", "regex", "macos", "spinlock", "regexkitlite"], "answers": [{"tags": [], "owner": {"reputation": 3272, "user_id": 901417, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/836ld.png?s=128&g=1", "display_name": "Mr_Pouet", "link": "https://stackoverflow.com/users/901417/mr-pouet"}, "is_accepted": true, "score": 4, "last_activity_date": 1574482324, "creation_date": 1574482324, "answer_id": 59004450, "question_id": 57696275, "link": "https://stackoverflow.com/questions/57696275/how-to-migrate-from-osspinlock-to-os-unfair-lock/59004450#59004450", "title": "How to migrate from OSSpinLock to os_unfair_lock()?", "body": "<p>Seems like no one ever took the time to answer your question so here goes:</p>\n\n<pre><code>#include &lt;os/lock.h&gt;\n\nvoid foo() \n{\n    os_unfair_lock lock = OS_UNFAIR_LOCK_INIT;\n    os_unfair_lock_lock(&amp;lock);\n\n    /* Your critical section here */\n\n    os_unfair_lock_unlock(&amp;lock);\n}\n</code></pre>\n\n<p>Please refer to the <a href=\"https://developer.apple.com/documentation/os/1646466-os_unfair_lock_lock\" rel=\"nofollow noreferrer\">documentation</a> for more details on restrictions regarding where you should lock and unlock (tldr: it has to be same thread that locks and unlocks).</p>\n"}], "owner": {"reputation": 294, "user_id": 5260397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff1d6cd6a656c19429e91ce63f2fd1db?s=128&d=identicon&r=PG&f=1", "display_name": "Tritonal", "link": "https://stackoverflow.com/users/5260397/tritonal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1525, "favorite_count": 1, "accepted_answer_id": 59004450, "answer_count": 1, "score": 3, "last_activity_date": 1574482324, "creation_date": 1567008065, "last_edit_date": 1567060829, "question_id": 57696275, "link": "https://stackoverflow.com/questions/57696275/how-to-migrate-from-osspinlock-to-os-unfair-lock", "title": "How to migrate from OSSpinLock to os_unfair_lock()?", "body": "<p>As of macOS 10.12, <code>OSSpinLock</code> has been deprecated. The XCode error messages urge me to use <code>os_unfair_lock_unlock()</code> instead. </p>\n\n<p>As a legacy of some open source stuff I'm relying on, I'm using RegexKitLite from 2010. </p>\n\n<p>How can I convert the spin lock type? Simple unlocking and locking I can manage, but these comparisons are giving me headache:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>if(rkl_cacheSpinLock != (OSSpinLock)0) { ... }\n</code></pre>\n\n<p><code>rkl_cacheSpinLock</code> is of type <code>os_unfair_lock</code> and has been initialized. OSSpinLock seems to be of type <code>int</code>, so this if-statement obviously won't work.</p>\n\n<p>Could anyone point me towards the right way of approaching this? I'm not too familiar with C, and don't really understand arithmetics of pointers.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After learning a bit about C, I came to understood typecasting. I came up with a solution that <em>seems</em> to work. My understanding of OS functionality on this level is nonexistent. The os_unfair_lock is not too well documented for dummies, but it looks like I didn't break anything.</p>\n\n<p><code>if (rkl_cacheSpinLock._os_unfair_lock_opaque != 0) { ... }</code></p>\n"}, {"tags": ["ios", "objective-c", "animation", "nsnotificationcenter", "observers"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1567002833, "post_id": 57694770, "comment_id": 101833743, "body": "I would assume the issue is thread-related; i.e. ensure you make the changes on the UI thread from the observer."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1567003204, "post_id": 57694770, "comment_id": 101833958, "body": "still no animation after wrapping [self setCurrentDuration:[(NSNumber*)TRIM(data[@&quot;currentDuration&quot;]&zwnj;&#8203;) doubleValue]]; in dispatch_async(dispatch_get_main_queue(), ^() {}"}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1567055713, "post_id": 57701534, "comment_id": 101849841, "body": "TableView is not reloading and with [self.slider setValue:currentTime animated:NO]; no animation too as it&#39;s suppose to because NO"}], "tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1567038641, "creation_date": 1567038641, "answer_id": 57701534, "question_id": 57694770, "link": "https://stackoverflow.com/questions/57694770/observer-called-function-not-animating/57701534#57701534", "title": "Observer called function not animating", "body": "<p>TableView reload or update maybe stop the animation of cell.</p>\n\n<p>So, try change to use <code>[self.slider setValue:currentTime animated:NO];</code></p>\n\n<p>And if the setValue work, you need consider the animation implement.</p>\n"}], "owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567038641, "creation_date": 1567002691, "question_id": 57694770, "link": "https://stackoverflow.com/questions/57694770/observer-called-function-not-animating", "title": "Observer called function not animating", "body": "<p>I have a function </p>\n\n<pre><code> -(void)setCurrentDuration:(double)currentTime\n {\n     [self.slider setValue:currentTime animated:YES];\n }\n</code></pre>\n\n<p>in a UIPhilosophyViewCell cell.</p>\n\n<p>calling </p>\n\n<pre><code>for (UIPhilosophyViewCell* cell in [self.customTableView visibleCells])\n    {\n        if ([cell isKindOfClass:[UIPhilosophyViewCell class]])\n        {\n            if ([TRIM(cell.dicData[@\"id\"]) isEqualToString:self.currentPlayingID])\n            {\n                [cell.audioProgressViewController setCurrentDuration:[self.audioPlayer currentTime]];\n            }\n        }\n    }\n</code></pre>\n\n<p>animates slider value change but setCurrentDuration called from selector of notification observer doesn't. Any suggestions on what could be the issue?</p>\n\n<p>adding the cell to notification center</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(receiveTestNotification:) name:@\"playingProgress\" object:nil];\n</code></pre>\n\n<p>and selector </p>\n\n<pre><code>- (void) receiveTestNotification:(NSNotification *) notification\n{\n    NSDictionary* data = notification.object;\n    if (data == nil)\n    {\n        data = [NSDictionary dictionary];\n    }\n\n    if ([[notification name] isEqualToString:@\"playingProgress\"] &amp;&amp; [TRIM(self.dicData[@\"id\"]) isEqualToString:TRIM(data[@\"id\"])])\n    {\n        [self setCurrentDuration:[(NSNumber*)TRIM(data[@\"currentDuration\"]) doubleValue]];\n    }\n    else\n    {\n        [self setCurrentDuration:0];\n    }\n}\n</code></pre>\n\n<p>TRIM is function to get non nil object or string</p>\n"}, {"tags": ["ios", "objective-c", "multithreading", "grand-central-dispatch"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1567093183, "last_edit_date": 1567093183, "creation_date": 1567051077, "answer_id": 57702779, "question_id": 57693960, "link": "https://stackoverflow.com/questions/57693960/are-dispatch-get-specific-dispatch-queue-set-specific-thread-safe/57702779#57702779", "title": "Are dispatch_get_specific() &amp; dispatch_queue_set_specific() thread safe?", "body": "<blockquote>\n  <p>Are dispatch_get_specific() &amp; dispatch_queue_set_specific() thread safe?</p>\n</blockquote>\n\n<p>It would seem likely for routines in a concurrency library but the <a href=\"https://developer.apple.com/documentation/dispatch/1452967-dispatch_queue_set_specific\" rel=\"nofollow noreferrer\">documentation</a> isn't explicit on the point \u2013 just be thankful Apple actually provide any documentation at all, most if it is now relegated to their \"documentation archive\" ;-(</p>\n\n<p>Fortunately for you libdispatch is open source and a check of the <a href=\"https://opensource.apple.com/source/libdispatch/libdispatch-1008.250.7/src/queue.c.auto.html\" rel=\"nofollow noreferrer\">source</a> confirms that they are \u2013\u00a0they lock around the critical parts.</p>\n\n<p>HTH</p>\n\n<p>BTW lines 4-8 of your code snippet are better written:</p>\n\n<pre><code>return dispatch_get_specific(&amp;key) == &amp;data;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11706888, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w_xYSjcKUVc/AAAAAAAAAAI/AAAAAAAAMRM/VEUTtSB5I08/photo.jpg?sz=128", "display_name": "Kumar Saurav", "link": "https://stackoverflow.com/users/11706888/kumar-saurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 57702779, "answer_count": 1, "score": 4, "last_activity_date": 1567093183, "creation_date": 1566999976, "question_id": 57693960, "link": "https://stackoverflow.com/questions/57693960/are-dispatch-get-specific-dispatch-queue-set-specific-thread-safe", "title": "Are dispatch_get_specific() &amp; dispatch_queue_set_specific() thread safe?", "body": "<p>I am trying to use dispatch_queue_set_specific() and dispatch_get_specific() in combination in method to check if the current queue is same as the target queue. But since this method can be called from multiple threads, I need to ensure thread safety. So, my question is are these methods thread safe. If not, how can I ensure thread safety here? </p>\n\n<p>I am setting a data using dispatch_queue_set_specific() on the target queue and using dispatch_get_specific() to compare the data on current queue, if they are same I am on the same queue.</p>\n\n<pre><code>static inline (BOOL)is_current_queue(dispatch_queue_t queue) {\nint key, data;\ndispatch_queue_set_specific(queue, &amp;key, &amp;data, nil);\nif (dispatch_get_specific(&amp;key) == &amp;data) {\nreturn YES;\n}\nreturn NO;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "chromecast", "google-cast-sdk"], "comments": [{"owner": {"reputation": 903, "user_id": 4412106, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bt6GKZjXMYA/AAAAAAAAAAI/AAAAAAAAATg/nrEmRWrzgjY/photo.jpg?sz=128", "display_name": "Charly berthet", "link": "https://stackoverflow.com/users/4412106/charly-berthet"}, "edited": false, "score": 1, "creation_date": 1569665774, "post_id": 57693551, "comment_id": 102675626, "body": "I have the exact same error, react 0.60.0 + Google Cast SDK 4.4.4, how did you fix it?"}], "answers": [{"comments": [{"owner": {"reputation": 903, "user_id": 4412106, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bt6GKZjXMYA/AAAAAAAAAAI/AAAAAAAAATg/nrEmRWrzgjY/photo.jpg?sz=128", "display_name": "Charly berthet", "link": "https://stackoverflow.com/users/4412106/charly-berthet"}, "edited": false, "score": 0, "creation_date": 1569665901, "post_id": 58091033, "comment_id": 102675653, "body": "I tried, even deleting pods + pod.lock + workspace doesn&#39;t work"}, {"owner": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "edited": false, "score": 0, "creation_date": 1569700967, "post_id": 58091033, "comment_id": 102683781, "body": "Yep same, cleared everything. Issue does exist with both xCode 10 and xCode 11"}, {"owner": {"reputation": 903, "user_id": 4412106, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bt6GKZjXMYA/AAAAAAAAAAI/AAAAAAAAATg/nrEmRWrzgjY/photo.jpg?sz=128", "display_name": "Charly berthet", "link": "https://stackoverflow.com/users/4412106/charly-berthet"}, "edited": false, "score": 0, "creation_date": 1569753442, "post_id": 58091033, "comment_id": 102691807, "body": "Looks like a conflict of symbols with another lib because it works fine when you add GoogleCast SDK to a new empty project. In my case it is a conflict with Glog lib"}, {"owner": {"reputation": 903, "user_id": 4412106, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bt6GKZjXMYA/AAAAAAAAAAI/AAAAAAAAATg/nrEmRWrzgjY/photo.jpg?sz=128", "display_name": "Charly berthet", "link": "https://stackoverflow.com/users/4412106/charly-berthet"}, "reply_to_user": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "edited": false, "score": 0, "creation_date": 1569753892, "post_id": 58091033, "comment_id": 102691921, "body": "@Nieck issue already reported to Google, you can track here <a href=\"https://issuetracker.google.com/issues/113069508\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/113069508</a>"}, {"owner": {"reputation": 903, "user_id": 4412106, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bt6GKZjXMYA/AAAAAAAAAAI/AAAAAAAAATg/nrEmRWrzgjY/photo.jpg?sz=128", "display_name": "Charly berthet", "link": "https://stackoverflow.com/users/4412106/charly-berthet"}, "edited": false, "score": 0, "creation_date": 1569757897, "post_id": 58091033, "comment_id": 102692749, "body": "One workaround is to use the dynamic Google SDK framework. I was able to build my project with this last one. Unfortunately there is not pod available so you need to go through the manual install."}, {"owner": {"reputation": 111, "user_id": 1321159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XZY1.jpg?s=128&g=1", "display_name": "Pokotuz", "link": "https://stackoverflow.com/users/1321159/pokotuz"}, "edited": false, "score": 0, "creation_date": 1569910316, "post_id": 58091033, "comment_id": 102738081, "body": "I fixed my issue by remove &quot;-all_load&quot; in Build Settings &gt; Other Linker Flags (in case you have it there)"}], "tags": [], "owner": {"reputation": 111, "user_id": 1321159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0XZY1.jpg?s=128&g=1", "display_name": "Pokotuz", "link": "https://stackoverflow.com/users/1321159/pokotuz"}, "is_accepted": false, "score": 1, "last_activity_date": 1569910202, "last_edit_date": 1569910202, "creation_date": 1569384660, "answer_id": 58091033, "question_id": 57693551, "link": "https://stackoverflow.com/questions/57693551/ios-google-cast-sdk-4-4-4-duplicate-symbols-for-architecture-arm64/58091033#58091033", "title": "iOS Google Cast SDK 4.4.4 - Duplicate symbols for architecture arm64", "body": "<p>From your errors, Did you try to delete files in <strong>DerivedData</strong> folder?</p>\n\n<p>Edit : Few days later I fixed duplicate issue by remove \"-all_load\" in Build Settings > Other Linker Flags</p>\n"}, {"comments": [{"owner": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "edited": false, "score": 0, "creation_date": 1569767488, "post_id": 58154948, "comment_id": 102695022, "body": "I guess it&#39;s the only option. I&#39;m not a fan of the solution because you can&#39;t install it using cocoapods so I have to pack the framework with my app (which is about 100mb)."}], "tags": [], "owner": {"reputation": 903, "user_id": 4412106, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bt6GKZjXMYA/AAAAAAAAAAI/AAAAAAAAATg/nrEmRWrzgjY/photo.jpg?sz=128", "display_name": "Charly berthet", "link": "https://stackoverflow.com/users/4412106/charly-berthet"}, "is_accepted": false, "score": 0, "last_activity_date": 1569758039, "creation_date": 1569758039, "answer_id": 58154948, "question_id": 57693551, "link": "https://stackoverflow.com/questions/57693551/ios-google-cast-sdk-4-4-4-duplicate-symbols-for-architecture-arm64/58154948#58154948", "title": "iOS Google Cast SDK 4.4.4 - Duplicate symbols for architecture arm64", "body": "<p>As mentioned here <a href=\"https://issuetracker.google.com/issues/113069508\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/113069508</a> as a workaround you can use the dynamic SDK and go through the manual Setup <a href=\"https://developers.google.com/cast/docs/ios_sender\" rel=\"nofollow noreferrer\">https://developers.google.com/cast/docs/ios_sender</a></p>\n"}], "owner": {"reputation": 1499, "user_id": 6370502, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73a06898bf85575af0aa17af90cb7296?s=128&d=identicon&r=PG&f=1", "display_name": "Nieck", "link": "https://stackoverflow.com/users/6370502/nieck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1569910202, "creation_date": 1566998724, "question_id": 57693551, "link": "https://stackoverflow.com/questions/57693551/ios-google-cast-sdk-4-4-4-duplicate-symbols-for-architecture-arm64", "title": "iOS Google Cast SDK 4.4.4 - Duplicate symbols for architecture arm64", "body": "<p>Im trying to update the Google Cast SDK from version 4.3.0 to 4.4.4 this due to the fact that the new version contains some fixes for iOS 13.</p>\n\n<p>Since the update I get these build errors. It seems that both React and the cast SDK are using the same symbol and that's why is returns an error.</p>\n\n<p>I'm trying to understand how to fix this error. I am unable to delete one of these libraries because I need them both and I'm also unable to change the code since they are both third party libraries.</p>\n\n<p>I found <a href=\"https://issuetracker.google.com/issues/113069508\" rel=\"noreferrer\">this</a> issue tracker and it seems to be a common error starting SDK 4.3.1. It seems to be fixed when using the dynamic framework for the Google Cast SDK but it's not the best situation because it's not available on CocoaPods.</p>\n\n<p>Anyone who experienced a simular problem?</p>\n\n<p>Error:</p>\n\n<pre><code>duplicate symbol 'fLB::FLAGS_nosymbolize_stacktrace' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(examine_stack_7d30b36ef2bc773365435990abbc0852.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(utilities.o)\nduplicate symbol 'fLB::FLAGS_symbolize_stacktrace' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(examine_stack_7d30b36ef2bc773365435990abbc0852.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(utilities.o)\nduplicate symbol 'fLB::FLAGS_nolog_prefix' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLB::FLAGS_log_prefix' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLB::FLAGS_noalsologtostderr' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLB::FLAGS_alsologtostderr' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLB::FLAGS_nologtostderr' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLB::FLAGS_logtostderr' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLI::FLAGS_nostderrthreshold' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLI::FLAGS_stderrthreshold' in:\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(logging_1c50ea684ad2fde4aa9d3832c43a57ad.o)\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(logging.o)\nduplicate symbol 'fLI::FLAGS_nov' in:\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(vlog_is_on.o)\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(vlog_is_on_94102400bc1882a13cea0800c3a3a9ef.o)\nduplicate symbol 'fLI::FLAGS_v' in:\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(vlog_is_on.o)\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(vlog_is_on_94102400bc1882a13cea0800c3a3a9ef.o)\nduplicate symbol 'fLS::FLAGS_vmodule' in:\n    /Users/name/Library/Developer/Xcode/DerivedData/tcapp-fxwrsskmvzcadqerqdzaoopqzsqu/Build/Products/Debug-iphoneos/libReact.a(vlog_is_on.o)\n    /Users/name/Documents/projects/app_name/ios/Pods/google-cast-sdk/GoogleCastSDK-ios-4.4.4_static/GoogleCast.framework/GoogleCast(vlog_is_on_94102400bc1882a13cea0800c3a3a9ef.o)\n\nld: 13 duplicate symbols for architecture arm64\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 14756, "user_id": 4475605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Rnw9H.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4475605/adrian"}, "edited": false, "score": 1, "creation_date": 1566972874, "post_id": 57686013, "comment_id": 101817410, "body": "You&#39;d need to have an OS to match the version supported by the version of Xcode that you&#39;re using. Projects written in older versions of Xcode can be opened in the current version, but you&#39;ll likely need to squash compiler errors, etc. to get the project up to the current syntax."}, {"owner": {"reputation": 255, "user_id": 5549470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRgSS.jpg?s=128&g=1", "display_name": "Arun Basil Issac", "link": "https://stackoverflow.com/users/5549470/arun-basil-issac"}, "reply_to_user": {"reputation": 14756, "user_id": 4475605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Rnw9H.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4475605/adrian"}, "edited": false, "score": 0, "creation_date": 1566974323, "post_id": 57686013, "comment_id": 101817920, "body": "@Adrian Thank you for your support. The project which I need to handle is a pretty older one. When I opened the code using Xcode 10.3 it asked me to get 10.1  *****&#39;This workspace has projects that contain source code developed with Swift 3.x. This version of Xcode does not support building or migrating Swift 3.x targets.  Use Xcode 10.1 to migrate the code to Swift 4.&#39;*****"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1566998851, "post_id": 57686013, "comment_id": 101831181, "body": "Why then you need Xcode 8?"}, {"owner": {"reputation": 14756, "user_id": 4475605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Rnw9H.jpg?s=128&g=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/4475605/adrian"}, "edited": false, "score": 0, "creation_date": 1567003945, "post_id": 57686013, "comment_id": 101834374, "body": "Sounds like you should try downloading Xcode 10.1, then. Don&#39;t get in the habit of picking fights with the compiler LOL. Not sure how big the project is, but you may. be able to migrate it piecemeal into a new project if opening it doesn&#39;t get the job done. Try Xcode 10.1."}, {"owner": {"reputation": 467, "user_id": 11884405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTWuj.jpg?s=128&g=1", "display_name": "Prado", "link": "https://stackoverflow.com/users/11884405/prado"}, "edited": false, "score": 0, "creation_date": 1567060488, "post_id": 57686013, "comment_id": 101851355, "body": "If you must use an older Xcode which cannot be installed on your current system, the easier solution will be to install an older MacOS version inside a Virtual Machine on your macOS, and install the older Xcode on it. Eg: If you use Mojave, create a virtual machine of El Capitan and install the older Xcode on it. Use it to compile or migrate [if possible] your old code and work on it directly on your machine. You can do it with VM Ware for MacOS and Apple MacOS license permits you to create a VM and reinstall old versions and use both simultaneously."}], "answers": [{"comments": [{"owner": {"reputation": 2905, "user_id": 495319, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iyjw1.jpg?s=128&g=1", "display_name": "Wodin", "link": "https://stackoverflow.com/users/495319/wodin"}, "edited": false, "score": 1, "creation_date": 1595583292, "post_id": 57698565, "comment_id": 111531707, "body": "It&#39;s a pity that Xcode Releases doesn&#39;t tell you the <i>maximum</i> system requirements (i.e. the latest version of macOS that it will run on.)"}], "tags": [], "owner": {"reputation": 17014, "user_id": 752890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a275cc5487ff5c0b58d941bcde5bd020?s=128&d=identicon&r=PG", "display_name": "Mark Szymczyk", "link": "https://stackoverflow.com/users/752890/mark-szymczyk"}, "is_accepted": false, "score": 3, "last_activity_date": 1567018652, "creation_date": 1567018652, "answer_id": 57698565, "question_id": 57686013, "link": "https://stackoverflow.com/questions/57686013/can-we-install-old-xcode-versions-on-latest-mac-os-versions/57698565#57698565", "title": "Can we install old Xcode versions on latest mac os versions?", "body": "<p>Yes, you can download Xcode 10.1 on macOS 10.14. Xcode 10 is officially supported on macOS 10.14. Xcode 9 and older versions aren't officially supported on 10.14 by Apple.</p>\n\n<p>One thing to keep in mind for iOS development is that if your iOS device is running something newer than iOS 12.1, you won't be able to get the app on the device with Xcode 10.1. See the following question for additional information:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/53927290/ios-12-1-2-xcode-version-10-0-10a255-cant-load-build-into-iphone-six\">iOS 12.1.2 Xcode Version 10.0 (10A255) can't load build into iPhone six</a></p>\n\n<p>The site <a href=\"https://xcodereleases.com\" rel=\"nofollow noreferrer\">Xcode Releases</a> has a listing of every version of Xcode, the minimum system requirements, and download links.</p>\n"}, {"comments": [{"owner": {"reputation": 1060, "user_id": 1043793, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/56441218e829ce36b31c183d2283a7ea?s=128&d=identicon&r=PG", "display_name": "tutiplain", "link": "https://stackoverflow.com/users/1043793/tutiplain"}, "edited": false, "score": 0, "creation_date": 1605384131, "post_id": 57704787, "comment_id": 114635509, "body": "Downvote. There is no way to install a DMG file into a VMware Fusion VM. At least not from DMGs in the link provided here."}], "tags": [], "owner": {"reputation": 467, "user_id": 11884405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTWuj.jpg?s=128&g=1", "display_name": "Prado", "link": "https://stackoverflow.com/users/11884405/prado"}, "is_accepted": true, "score": 1, "last_activity_date": 1567063828, "last_edit_date": 1567063828, "creation_date": 1567062377, "answer_id": 57704787, "question_id": 57686013, "link": "https://stackoverflow.com/questions/57686013/can-we-install-old-xcode-versions-on-latest-mac-os-versions/57704787#57704787", "title": "Can we install old Xcode versions on latest mac os versions?", "body": "<p>In short, you can't install too older Xcode versions on the current MacOS versions, you can only install the most recent Xcode versions. </p>\n\n<p>But you need Xcode 8 (and I think it runs on El Capitan).</p>\n\n<p><strong>There is a good solution:</strong></p>\n\n<p>Considering you must use an older Xcode which cannot be installed on your current system (<em>I have the same situation, which you posted the Xcode Swift3 message</em>) , the easier solution is to install an older MacOS version inside a Virtual Machine on your current macOS, and install the older Xcode on it. </p>\n\n<p><em>Eg: If you use Mojave, create a virtual machine of El Capitan and install the older Xcode 8 on it. Use it to compile or migrate [if possible] your code to current/newer Xcode syntax, or keep working on it using the older Xcode directly inside the VM on your current MacOS Mojave machine.</em> </p>\n\n<p><strong>How to do it:</strong></p>\n\n<p>You can do it with VM Ware Fusion for MacOS. The good news is that Apple MacOS <strong>license permits</strong> you to create any VM and reinstall older MacOS/OSX versions inside the current version, and use both the older and the current simultaneously. </p>\n\n<p>You can download any older official MacOS version installations freely from Apple Support, and install the downloaded DMG image right on VMWare, very easy.</p>\n\n<hr>\n\n<p>Here is the Apple Support download link for MacOS installs, scroll down the page and click \"<strong>load more results</strong>\" button until you find the needed MacOS version (Sierra, El capitan, whatever). </p>\n\n<p><a href=\"https://support.apple.com/en_US/downloads/macos\" rel=\"nofollow noreferrer\">https://support.apple.com/en_US/downloads/macos</a></p>\n\n<p>VMWare Fusion for MacOS is also free, you can download it here:</p>\n\n<p><a href=\"https://my.vmware.com/web/vmware/details?downloadGroup=FUS-1111&amp;productId=798&amp;rPId=35313\" rel=\"nofollow noreferrer\">https://my.vmware.com/web/vmware/details?downloadGroup=FUS-1111&amp;productId=798&amp;rPId=35313</a></p>\n\n<p>After downloading, use the MacOS Install DMG on VMware Fusion (which has a wizard and installs the system just by dragging the DMG install file on it) </p>\n\n<p>Since it is a virtual machine, your current Mojave System will remain intact, and El Capitan will run on it like if it was any normal Application. (this is not dual boot, the VM runs like any application on your desktop).</p>\n\n<p>Considering you will choose El Capitan, after installation is completed, go through the normal Xcode installation process inside it, because it will get the correct and corresponding Xcode version for it from Apple. You can download Xcode via the AppStore icon of the El Capitan Virtual Machine. </p>\n\n<p>Thats all. </p>\n"}], "owner": {"reputation": 255, "user_id": 5549470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FRgSS.jpg?s=128&g=1", "display_name": "Arun Basil Issac", "link": "https://stackoverflow.com/users/5549470/arun-basil-issac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4623, "favorite_count": 0, "accepted_answer_id": 57704787, "answer_count": 2, "score": 4, "last_activity_date": 1567063828, "creation_date": 1566972476, "question_id": 57686013, "link": "https://stackoverflow.com/questions/57686013/can-we-install-old-xcode-versions-on-latest-mac-os-versions", "title": "Can we install old Xcode versions on latest mac os versions?", "body": "<p>Can I install <strong>Xcode 10.1</strong> on my mac having OS <strong>Mojave 10.14.6</strong>?</p>\n\n<p>I am have installed Mojave 10.14.6 on my mac. When I tried to install Xcode 8 on the system I got a message like the Xcode version is not supported by the OS. </p>\n\n<p>Is there any document available regarding which all versions of Xcode are supported by different OS versions?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "instagram", "uigesturerecognizer"], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1566970317, "post_id": 57685346, "comment_id": 101816628, "body": "Thanks for answer. but it&#39;s not fulfill my requirement."}, {"owner": {"reputation": 2265, "user_id": 1278177, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/JTmTi.jpg?s=128&g=1", "display_name": "Satish Azad", "link": "https://stackoverflow.com/users/1278177/satish-azad"}, "reply_to_user": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "edited": false, "score": 0, "creation_date": 1566986375, "post_id": 57685346, "comment_id": 101824091, "body": "What is your requirement, that is not fulfilled by above links?"}], "tags": [], "owner": {"reputation": 2265, "user_id": 1278177, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/JTmTi.jpg?s=128&g=1", "display_name": "Satish Azad", "link": "https://stackoverflow.com/users/1278177/satish-azad"}, "is_accepted": false, "score": 0, "last_activity_date": 1566968584, "creation_date": 1566968584, "answer_id": 57685346, "question_id": 57685224, "link": "https://stackoverflow.com/questions/57685224/pinch-pan-and-rotate-image-view-simultaneously-like-instagram-story-using-obje/57685346#57685346", "title": "Pinch, Pan, and Rotate Image view Simultaneously like Instagram story using Objective-C", "body": "<p>You can use <a href=\"https://github.com/twomedia/TMImageZoom\" rel=\"nofollow noreferrer\">https://github.com/twomedia/TMImageZoom</a></p>\n\n<p>If still you are looking for implementations part, please check following link:</p>\n\n<p><a href=\"https://blog.usejournal.com/ig-pinch-drag-swift-4-390da4f86ead\" rel=\"nofollow noreferrer\">https://blog.usejournal.com/ig-pinch-drag-swift-4-390da4f86ead</a></p>\n\n<p>I hope this will solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10076745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8ee02d226ed551920f8ce89bb1358c6?s=128&d=identicon&r=PG&f=1", "display_name": "OrajokNor", "link": "https://stackoverflow.com/users/10076745/orajoknor"}, "is_accepted": false, "score": 0, "last_activity_date": 1567868150, "creation_date": 1567868150, "answer_id": 57834815, "question_id": 57685224, "link": "https://stackoverflow.com/questions/57685224/pinch-pan-and-rotate-image-view-simultaneously-like-instagram-story-using-obje/57834815#57834815", "title": "Pinch, Pan, and Rotate Image view Simultaneously like Instagram story using Objective-C", "body": "<p>Inherit UIGestureRecognizerDelegate, set gestures delegate to the view controller.</p>\n\n<pre><code>func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer, \nshouldRecognizeSimultaneouslyWith otherGestureRecognizer: UIGestureRecognizer) -&gt; Bool{\n    return true\n}\n</code></pre>\n\n<p>read details here:\n<a href=\"https://developer.apple.com/documentation/uikit/uigesturerecognizerdelegate/1624208-gesturerecognizer\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uigesturerecognizerdelegate/1624208-gesturerecognizer</a></p>\n"}], "owner": {"reputation": 693, "user_id": 6617215, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/1Pq1J.jpg?s=128&g=1", "display_name": "Yogendra Patel", "link": "https://stackoverflow.com/users/6617215/yogendra-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567868150, "creation_date": 1566967738, "question_id": 57685224, "link": "https://stackoverflow.com/questions/57685224/pinch-pan-and-rotate-image-view-simultaneously-like-instagram-story-using-obje", "title": "Pinch, Pan, and Rotate Image view Simultaneously like Instagram story using Objective-C", "body": "<p>I am trying to make image view that work like instagram story post view. i have add UIPinchGestureRecognizer, UIPanGestureRecognizer and UIRotationGestureRecognizer gesture on UIImageView. Now i want to make that all gesture work at same time like instagram story post view.</p>\n\n<p>Thanks in adavance.</p>\n"}, {"tags": ["ios", "objective-c", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "edited": false, "score": 0, "creation_date": 1567799859, "post_id": 57790126, "comment_id": 102085882, "body": "The problem is that <code>setNetworkIndicator</code> is run inside the closed source function. This function runs a network call that takes ~5 seconds to return. This entire process has to be be wrapped in <code>dispatch...(dispatch...^{}))</code> in my code. If that function did not call <code>setNetworkIndicator</code> I could run it on a background thread, but because it does, iOS won&#39;t let me. I have no way to change that function. Is this impossible?"}, {"owner": {"reputation": 7635, "user_id": 4185269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/orGDl.jpg?s=128&g=1", "display_name": "Artal", "link": "https://stackoverflow.com/users/4185269/artal"}, "reply_to_user": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "edited": false, "score": 0, "creation_date": 1567843440, "post_id": 57790126, "comment_id": 102092974, "body": "I see. I probably missed the part where the actual calls to <code>setNetworkActivityIndicatorVisible</code> are performed by the closed source framework. You&#39;d expect that the library will provide a way to make this run asynchronously. In case they don&#39;t support it, you could use method swizzling as a last resort - you would replace <code>setNetworkActivityIndicatorVisible</code> with your own version and force it to get called on the main thread as necessary"}, {"owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "edited": false, "score": 0, "creation_date": 1567902190, "post_id": 57790126, "comment_id": 102104790, "body": "So it&#39;s possible to overwrite the native implementation of <code>setNetworkActivityIndicatorVisible</code> that the closed source framework runs; so potentially I could just make it do nothing? Obviously this seems sketchy, but it might be my only option until I can potentially get the library maintainers to modify their code for my purposes. If this is the case, please modify your answer with some more detail and I will accept it."}, {"owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "edited": false, "score": 0, "creation_date": 1567907343, "post_id": 57790126, "comment_id": 102105304, "body": "actually, I just found another solution. I extended <code>UIApplication</code> and overwrote <code>setNetworkActivityIndicatorVisible</code> in main.m and fed it to <code>UIApplicationMain()</code> see my answer."}], "tags": [], "owner": {"reputation": 7635, "user_id": 4185269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/orGDl.jpg?s=128&g=1", "display_name": "Artal", "link": "https://stackoverflow.com/users/4185269/artal"}, "is_accepted": false, "score": 1, "last_activity_date": 1567605671, "creation_date": 1567605671, "answer_id": 57790126, "question_id": 57679411, "link": "https://stackoverflow.com/questions/57679411/react-native-ios-native-module-calling-method-that-activates-network-indicator/57790126#57790126", "title": "react-native iOS native module: calling method that activates network indicator asynchronously", "body": "<p>You cannot make <code>UIKit</code> API calls on a background thread as it is not thread-safe. </p>\n\n<p>You can remove the RN module <code>methodQueue</code> setup so your module's method will get called once again on a background thread and will not block the main thread. Whenever you need to make a call to <code>[UIApplication setNetworkActivityIndicatorVisible:]</code> (or any other method that requires the main queue), you can dispatch it to the main thread, for example:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n    [UIApplication.sharedApplication setNetworkActivityIndicatorVisible:YES];\n});\n</code></pre>\n\n<p>In case you need to resolve the promise only after setting the activity indicator, you can also put your calls to resolve/reject inside the same block after changing the activity indicator visibility.</p>\n"}, {"tags": [], "owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "is_accepted": true, "score": 0, "last_activity_date": 1568138810, "last_edit_date": 1568138810, "creation_date": 1567908115, "answer_id": 57838666, "question_id": 57679411, "link": "https://stackoverflow.com/questions/57679411/react-native-ios-native-module-calling-method-that-activates-network-indicator/57838666#57838666", "title": "react-native iOS native module: calling method that activates network indicator asynchronously", "body": "<p>I found a solution by extending UIApplication.</p>\n\n<p>Create a <code>main.h</code> and declare a class <code>MyApplication</code> that extends <code>UIApplication</code>:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface MyApplication : UIApplication\n@end\n</code></pre>\n\n<p>Then implement it with an override of <code>setNetworkActivityIndicatorVisible</code> in <code>main.m</code> and pass it to <code>UIApplicationMain</code>:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"main.h\"\n#import \"AppDelegate.h\"\n\n@implementation MyApplication\n- (void)setNetworkActivityIndicatorVisible:(BOOL)setVisible {\n  // do nothing or something\n}\n@end\n\nint main(int argc, char * argv[]) {\n  @autoreleasepool {\n    return UIApplicationMain(\n                             argc,\n                             argv,\n                             NSStringFromClass([MyApplication class]),\n                             NSStringFromClass([AppDelegate class]));\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 0, "accepted_answer_id": 57838666, "answer_count": 2, "score": 8, "last_activity_date": 1568138810, "creation_date": 1566925821, "last_edit_date": 1567908311, "question_id": 57679411, "link": "https://stackoverflow.com/questions/57679411/react-native-ios-native-module-calling-method-that-activates-network-indicator", "title": "react-native iOS native module: calling method that activates network indicator asynchronously", "body": "<p>I am writing a native module that calls functions from a closed source framework binary that I don't have access to. It makes blocking network calls and activates the network indicator. I want to be able to run it in the background asyncronously, It kind of works out of the box, but when I do that I get this warning/error and the call stalls a bit:</p>\n\n<p><code>Main Thread Checker: UI API called on a background thread: -[UIApplication setNetworkActivityIndicatorVisible:]</code></p>\n\n<p>If I put it on the main queue using the following code in my In my RN Module, the calls block everything until they complete.</p>\n\n<pre><code>- (dispatch_queue_t)methodQueue\n{\n  return dispatch_get_main_queue();\n}\n</code></pre>\n\n<p>Here is an example of a method exposed to JS:</p>\n\n<pre><code>RCT_REMAP_METHOD(createSession,\n                 userIDtoken:(NSString *)userIDtoken\n                 createSessionWithResolver:(RCTPromiseResolveBlock)resolve\n                 rejecter:(RCTPromiseRejectBlock)reject)\n{\n    Boolean connected = [_networkController startSession:userIDtoken isTest:true];\n    NSString *success = @\"session created\";\n    if (connected){\n      resolve(success);\n    } else {\n      NSError *error = [NSError errorWithDomain:@\"ConnectionError\" code:1 userInfo:nil];\n      reject(@\"session_creation_failed\", @\"Cannot create sessions\", error);\n    }\n}\n</code></pre>\n\n<p><code>_networkController startSession</code> should run in the background without throwing the warning/error and without blocking the main thread. Is there a way to do this?</p>\n"}, {"tags": ["objective-c", "xcode", "square"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 8685847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a725cd2aa63d07a9ad65857765140de?s=128&d=identicon&r=PG&f=1", "display_name": "Roy Ganor", "link": "https://stackoverflow.com/users/8685847/roy-ganor"}, "is_accepted": false, "score": 1, "last_activity_date": 1574125493, "creation_date": 1574125493, "answer_id": 58925224, "question_id": 57676722, "link": "https://stackoverflow.com/questions/57676722/undefined-symbols-for-architecture-armv7-on-square-reader-sdk/58925224#58925224", "title": "Undefined symbols for architecture armv7 on Square Reader SDK", "body": "<p>What worked for me is to set the target (General > Deployment info) to 11.x</p>\n"}], "owner": {"reputation": 71, "user_id": 10110074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPA8G.jpg?s=128&g=1", "display_name": "Emre Ertan", "link": "https://stackoverflow.com/users/10110074/emre-ertan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574125493, "creation_date": 1566915539, "question_id": 57676722, "link": "https://stackoverflow.com/questions/57676722/undefined-symbols-for-architecture-armv7-on-square-reader-sdk", "title": "Undefined symbols for architecture armv7 on Square Reader SDK", "body": "<p>I am trying to add Square Reader SDK to the project. The valid architectures are arm64, armv7, armv7s, armv6 and x86. I can run the application on the simulators and physical devices, but when i try to archive the project i am facing with this error: </p>\n\n<pre><code>Undefined symbols for architecture armv7:\n  \"_OBJC_CLASS_$_SQRDCheckoutParameters\", referenced from:\n      objc-class-ref in PaymentMethodsViewController-817472c7033dfbe61688dbd48500041c161a14c9d0f9a59a4ed634edaa3b0f80.o\n  \"_OBJC_CLASS_$_SQRDCheckoutController\", referenced from:\n      objc-class-ref in PaymentMethodsViewController-817472c7033dfbe61688dbd48500041c161a14c9d0f9a59a4ed634edaa3b0f80.o\n  \"_OBJC_CLASS_$_SQRDReaderSettingsController\", referenced from:\n      objc-class-ref in SettingsViewController.o\n  \"_OBJC_CLASS_$_SQRDMoney\", referenced from:\n      objc-class-ref in PaymentMethodsViewController-817472c7033dfbe61688dbd48500041c161a14c9d0f9a59a4ed634edaa3b0f80.o\n  \"_OBJC_CLASS_$_SQRDReaderSDK\", referenced from:\n      objc-class-ref in Helper.o\n      objc-class-ref in AppDelegate.o\n      objc-class-ref in SettingsViewController.o\n      objc-class-ref in PaymentMethodsViewController-817472c7033dfbe61688dbd48500041c161a14c9d0f9a59a4ed634edaa3b0f80.o\n      objc-class-ref in SplashViewController.o\nld: symbol(s) not found for architecture armv7\n</code></pre>\n\n<p>I added libraries in the <em>Link Binary With Libraries</em> section of the <em>Build Phases</em>.</p>\n"}, {"tags": ["ios", "objective-c", "audiounit"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10650636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SItxF.jpg?s=128&g=1", "display_name": "Grayson", "link": "https://stackoverflow.com/users/10650636/grayson"}, "edited": false, "score": 0, "creation_date": 1568014987, "post_id": 57674379, "comment_id": 102126151, "body": "Thanks for your answer. I know how to do now."}], "tags": [], "owner": {"reputation": 67919, "user_id": 341750, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/JgAmt.png?s=128&g=1", "display_name": "hotpaw2", "link": "https://stackoverflow.com/users/341750/hotpaw2"}, "is_accepted": true, "score": 0, "last_activity_date": 1566907776, "creation_date": 1566907776, "answer_id": 57674379, "question_id": 57672233, "link": "https://stackoverflow.com/questions/57672233/how-to-modify-the-size-of-audiounit-buffer/57674379#57674379", "title": "How to modify the size of AudioUnit Buffer?", "body": "<p>You can't demand a specific input size in an Audio Unit recording callback bufferList. In fact, the Audio Unit API is allowed to change the number of samples per audio buffer at run time.  So your app has to support a differing number of frames than requested, each callback.</p>\n\n<p>Instead your app should save the samples in another temporary FIFO buffer, and the later remove some of the samples in your desired block size when that temporary FIFO buffer become full enough.  Typically a circular buffer is used to store the temporary amount until it gets filled to the size you need or larger.  They you can pull out exactly 882 or whatever number of samples you need.</p>\n"}], "owner": {"reputation": 39, "user_id": 10650636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SItxF.jpg?s=128&g=1", "display_name": "Grayson", "link": "https://stackoverflow.com/users/10650636/grayson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57674379, "answer_count": 1, "score": 0, "last_activity_date": 1566907776, "creation_date": 1566900069, "question_id": 57672233, "link": "https://stackoverflow.com/questions/57672233/how-to-modify-the-size-of-audiounit-buffer", "title": "How to modify the size of AudioUnit Buffer?", "body": "<p>I'm developing an app of recording, but I have a demand that the size of input buffer should be 882 bytes. I know that I can modify the mDataByteSize of buffList like <a href=\"https://i.stack.imgur.com/8T79E.png\" rel=\"nofollow noreferrer\">this picture</a>.\nBut it can only be modified to power of 2. When I tried to modify it to 882, it warned me that \"AudioUnitRender error:-50\". </p>\n\n<p>I hope somebody can help me because I have no way.</p>\n"}, {"tags": ["ios", "objective-c", "ipad", "icloud", "bundle-identifier"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566885881, "post_id": 57668424, "comment_id": 101784910, "body": "Are you saying that you want to access data with a new app that you have created under a different developer account?  If so, that doesn&#39;t make sense."}, {"owner": {"reputation": 1, "user_id": 11981947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCQUs5YLqMAwB5_I41-pTrTnpIZWcMlhhPErL1C=k-s128", "display_name": "Andy Phan", "link": "https://stackoverflow.com/users/11981947/andy-phan"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566886804, "post_id": 57668424, "comment_id": 101785187, "body": "Yes, the old app is build using Enterprise developer account, now the customer wants to distribution the app in Apple Store, and i no longer can use the Enterprise developer account."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566887155, "post_id": 57668424, "comment_id": 101785310, "body": "You cannot access data for an app that has been developed under a different developer account.  Or would you be willing to let anyone access your app&#39;s data by just using its bundle ID?  That simply does not make sense."}, {"owner": {"reputation": 1, "user_id": 11981947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCQUs5YLqMAwB5_I41-pTrTnpIZWcMlhhPErL1C=k-s128", "display_name": "Andy Phan", "link": "https://stackoverflow.com/users/11981947/andy-phan"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566887683, "post_id": 57668424, "comment_id": 101785506, "body": "I got what you meant. The issue I&#39;m facing here is both app is created by me and I&#39;m changing the distribution channel.   All the old app users will loss all their data when they switch to the new app downloaded from Apple Store."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566887884, "post_id": 57668424, "comment_id": 101785575, "body": "It does not matter who&#39;s created what.  The only approach you could take is to sell the old app to yourself under a new developer account."}, {"owner": {"reputation": 1, "user_id": 11981947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCQUs5YLqMAwB5_I41-pTrTnpIZWcMlhhPErL1C=k-s128", "display_name": "Andy Phan", "link": "https://stackoverflow.com/users/11981947/andy-phan"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566888123, "post_id": 57668424, "comment_id": 101785666, "body": "How do you sell the old app to a new developer account?"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566889518, "post_id": 57668424, "comment_id": 101786250, "body": "Why are you asking me?  Ask Apple or go to their developer forums."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1566889527, "post_id": 57668424, "comment_id": 101786256, "body": "That approach isn&#39;t open to you since the current distribution is via the enterprise program.  You can only transfer apps between App Store accounts.  There is no way that the new app can access the old data in place.   You could update the enterprise app to add a functionality to <i>export data</i> that can then be <i>imported</i> into the App Store version."}, {"owner": {"reputation": 1, "user_id": 11981947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCQUs5YLqMAwB5_I41-pTrTnpIZWcMlhhPErL1C=k-s128", "display_name": "Andy Phan", "link": "https://stackoverflow.com/users/11981947/andy-phan"}, "edited": false, "score": 0, "creation_date": 1566890793, "post_id": 57668424, "comment_id": 101786856, "body": "I already have this features to backup to iCLOUD. But the new app cannot locate the backup. That is my initial question of can the old app and new app access the same iCLOUD storage login with the same AppleID?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1566908130, "post_id": 57668424, "comment_id": 101795968, "body": "As I said, you need to provide the ability to export the data to a file that the user can store on iCloud Drive or any other provider that is available in the files app. This would require an update to your enterprise version. Your problem isn&#39;t the Apple ID it is the sandbox; your two apps are prevented from reading each other&#39;s data in iCloud"}], "owner": {"reputation": 1, "user_id": 11981947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCQUs5YLqMAwB5_I41-pTrTnpIZWcMlhhPErL1C=k-s128", "display_name": "Andy Phan", "link": "https://stackoverflow.com/users/11981947/andy-phan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566970561, "creation_date": 1566885448, "last_edit_date": 1566970561, "question_id": 57668424, "link": "https://stackoverflow.com/questions/57668424/can-i-access-icloud-storage-from-different-bundleid", "title": "Can i access iCloud storage from different BundleID?", "body": "<p>I have built an iOS application using the following bundleID com.XXX1234.a client using Enterprise Apple Account for internal distribution. The apps have the features of backup the application data to iCLOUD. </p>\n\n<p>Now I have to move the application to Apple Store, so I have to build compile the same application using Company Apple Account with a different bundleID com.xxx.client. </p>\n\n<p>My problem now is that the data backup from the old application (com.XXX1234.client) cannot be restored to the new application (com.xxx.client), is this because the new application cannot access to the CLOUD for the old bundleID?</p>\n"}, {"tags": ["ios", "objective-c", "algorithm", "trigonometry"], "comments": [{"owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "edited": false, "score": 0, "creation_date": 1568101464, "post_id": 57668135, "comment_id": 102157524, "body": "@hanshirse Hi I would appreciate it if you reopened this question as I&#39;ve edited it so it works better."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "edited": false, "score": 0, "creation_date": 1566886064, "post_id": 57668202, "comment_id": 101784969, "body": "Have to also get the initial angle between 0 and 2PI by subtracting or adding 2PI (depending on if negative or not). Yeah this is easy and I got downvoted but there is enough little detail in it that I&#39;d rather just obtain some tried and tested code instead of reinviting the wheel again."}], "tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1566888006, "last_edit_date": 1566888006, "creation_date": 1566884055, "answer_id": 57668202, "question_id": 57668135, "link": "https://stackoverflow.com/questions/57668135/objective-c-most-efficient-way-to-find-the-quadrant-of-an-angle-in-objective-c/57668202#57668202", "title": "Objective-C: most efficient way to find the quadrant of an angle in Objective-C", "body": "<p>You don't need any magic functions.<br>\nFull circle contains 2*Pi radians and 4 quadrants.<br>\nSo just divide angle by Pi/2 and make floor rounding to get 0..3 quadrant numbering (add 1 if 1..4 is needed)</p>\n\n<p>Python example. Note that integer modulo operation <code>% 4</code> provides \"angle normalisation\" so function works with large and negative angles<br>\n(Swift <code>%</code> does not work similar according to <a href=\"https://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">table here</a>, so you might need to make something like <code>return ((floor(2.0 * angle / math.pi) % 4 + 4)  %4</code>)</p>\n\n<pre><code>import math\ndef quadrant(angle):\n    return math.floor(2.0 * angle / math.pi) % 4\n\nprint(quadrant(math.pi/4))\nprint(quadrant(math.pi/4 + math.pi))\nprint(quadrant(math.pi/4 - math.pi))\n\n0\n2\n2\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 11576363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4436c7ae9179bcf3f9944809088dc19?s=128&d=identicon&r=PG&f=1", "display_name": "NSMoron", "link": "https://stackoverflow.com/users/11576363/nsmoron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1566886026, "accepted_answer_id": 57668202, "answer_count": 1, "score": -2, "last_activity_date": 1567915150, "creation_date": 1566883593, "last_edit_date": 1567915150, "question_id": 57668135, "link": "https://stackoverflow.com/questions/57668135/objective-c-most-efficient-way-to-find-the-quadrant-of-an-angle-in-objective-c", "closed_reason": "Needs more focus", "title": "Objective-C: most efficient way to find the quadrant of an angle in Objective-C", "body": "<p>What is the most efficient way to find the quadrant of an angle given in Objective-C (assuming that the boundary angles 0, 90, 270, 360 etc. all fall within a quadrant) ?</p>\n"}, {"tags": ["objective-c", "swift", "closures", "swift4"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1566842552, "post_id": 57662714, "comment_id": 101774467, "body": "Have a look at <a href=\"https://docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html\" rel=\"nofollow noreferrer\">docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html</a> ."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1566842766, "post_id": 57662714, "comment_id": 101774549, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24010569/error-handling-in-swift-language\">Error-Handling in Swift-Language</a>"}, {"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1566843143, "post_id": 57662714, "comment_id": 101774693, "body": "@MartinR - I started testing swift years ago. Then stopped using it because professionally no one cared about swift back then. A few weeks ago I started using swift professionally. So, yes, I am new to swift."}], "answers": [{"comments": [{"owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "edited": false, "score": 0, "creation_date": 1566844446, "post_id": 57662872, "comment_id": 101775208, "body": "BRILLIANT, THANKS!"}], "tags": [], "owner": {"reputation": 6079, "user_id": 907186, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/409d9fd7356a2876a35dcd461713d749?s=128&d=identicon&r=PG", "display_name": "daltonclaybrook", "link": "https://stackoverflow.com/users/907186/daltonclaybrook"}, "is_accepted": true, "score": 3, "last_activity_date": 1566843108, "creation_date": 1566843108, "answer_id": 57662872, "question_id": 57662714, "link": "https://stackoverflow.com/questions/57662714/how-to-force-a-catch-from-a-closure/57662872#57662872", "title": "How to force a catch from a closure?", "body": "<p>In Objective-C, you use <code>@try</code>/<code>@catch</code> blocks to handle ObjC exceptions such as the one you are raising. In Swift, you use <code>do</code>/<code>catch</code> blocks to catch Swift errors that are explicitly thrown from a \"throwing\" function. Only functions (and closures) marked with the \"throws\" keyword are allowed to throw an error, and if you call a function that can throw, you must handle the error.</p>\n\n<p>If you have an array of closures, the type signature of the closure must specify that it can throw, e.g.</p>\n\n<pre><code>let blocks: [() throws -&gt; Void] = // get some blocks\n</code></pre>\n\n<p>At this point, you can (and indeed must) handle any errors thrown by calling these blocks:</p>\n\n<pre><code>let block = blocks[0]\ndo {\n    try block()\n} catch let error {\n    print(error)\n}\n</code></pre>\n"}], "owner": {"reputation": 32649, "user_id": 316469, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b88514bd3cdfab33fa64342aa1fcdc9?s=128&d=identicon&r=PG", "display_name": "Duck", "link": "https://stackoverflow.com/users/316469/duck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 2, "accepted_answer_id": 57662872, "answer_count": 1, "score": 3, "last_activity_date": 1566843108, "creation_date": 1566842290, "question_id": 57662714, "link": "https://stackoverflow.com/questions/57662714/how-to-force-a-catch-from-a-closure", "title": "How to force a catch from a closure?", "body": "<p>Suppose the following situation in Objective-C: an array of blocks.</p>\n\n<p>So I want to run a block, I do:</p>\n\n<pre><code>myBlock block = blocks[0](); \n</code></pre>\n\n<p>Now imagine that this line runs inside a <code>try</code>:</p>\n\n<pre><code>myBlock block = blocks[0];\n@try {\n  block();\n} @catch {\n  // catch an error\n}\n</code></pre>\n\n<p>Now imagine that I want add a line inside a block to force the catch.</p>\n\n<p>What I did in objective-C was to add this line inside a block</p>\n\n<pre><code>[NSException raise:@\"Failed\" format:@\"Failed\", nil];\n</code></pre>\n\n<p>Now I want to do that in Swift</p>\n\n<pre><code>let myClousure = closures[0]\n\ndo {\n   myClosure!()\n} catch {\n}\n</code></pre>\n\n<p>The question is: what line should I add to a closure to force the same behavior, or in other words, to make the closure fail and the catch to be triggered?</p>\n\n<p>Sorry if the question is stupid but I am new to Swift.</p>\n"}, {"tags": ["objective-c", "timer", "background", "strava"], "owner": {"reputation": 31, "user_id": 4266629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee50555deddcfca13d936037415c152d?s=128&d=identicon&r=PG&f=1", "display_name": "Nir", "link": "https://stackoverflow.com/users/4266629/nir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566843836, "creation_date": 1566836512, "last_edit_date": 1566843836, "question_id": 57661575, "link": "https://stackoverflow.com/questions/57661575/how-to-do-what-strava-does-when-it-goes-to-background-while-recording-ios", "title": "How to do what strava does when it goes to background while recording iOS", "body": "<p>I am trying to do what strava does when going into background. When I put strava in background while recording, the clock on my iPhone on the top left goes blue and whenever you click on it strava opens up. I was wondering what is that feature called and how you do it programmatically. Currently I am using objective-c so it will be more helpful to have that in the answer instead of swift.</p>\n\n<p>Edit: I figured it out, it was locationManager setShowBackgroundLocationIndicator.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "replaykit"], "answers": [{"comments": [{"owner": {"reputation": 1709, "user_id": 7761488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/269b1437ab589a3528f1dae453c3dd77?s=128&d=identicon&r=PG&f=1", "display_name": "iSpain17", "link": "https://stackoverflow.com/users/7761488/ispain17"}, "edited": false, "score": 0, "creation_date": 1581581626, "post_id": 59786769, "comment_id": 106485126, "body": "As mentioned in the question, I have multi-plane image, but yes, this is the way I had to go, but had to read all planes&#39; bytes."}], "tags": [], "owner": {"reputation": 11, "user_id": 7809093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wrqta90pt0g/AAAAAAAAAAI/AAAAAAAAACo/7XBijMSOD7w/photo.jpg?sz=128", "display_name": "kutay", "link": "https://stackoverflow.com/users/7809093/kutay"}, "is_accepted": false, "score": 1, "last_activity_date": 1579261681, "creation_date": 1579261681, "answer_id": 59786769, "question_id": 57660662, "link": "https://stackoverflow.com/questions/57660662/is-there-a-method-that-uses-less-memory-than-nskeyedarchiver-to-archive-an-objec/59786769#59786769", "title": "Is there a method that uses less memory than NSKeyedArchiver to archive an object?", "body": "<p>I was able convert CMSampleBufferRef to NSData in following way. This method is using like 1-5~MB ram. I hope this will solve your problem.</p>\n\n<pre><code>CVImageBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBufferType);\nUInt8* bap0 = CVPixelBufferGetBaseAddressOfPlane(imageBuffer, 0); \nCVPixelBufferLockBaseAddress(imageBuffer,0);\n\nint byteperrow = CVPixelBufferGetBytesPerRowOfPlane(imageBuffer, 0);\nint height = CVPixelBufferGetHeight(imageBuffer);\nNSData *data = [NSData dataWithBytes:bap0 length:byteperrow * height];\n</code></pre>\n"}], "owner": {"reputation": 1709, "user_id": 7761488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/269b1437ab589a3528f1dae453c3dd77?s=128&d=identicon&r=PG&f=1", "display_name": "iSpain17", "link": "https://stackoverflow.com/users/7761488/ispain17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579261681, "creation_date": 1566832551, "question_id": 57660662, "link": "https://stackoverflow.com/questions/57660662/is-there-a-method-that-uses-less-memory-than-nskeyedarchiver-to-archive-an-objec", "title": "Is there a method that uses less memory than NSKeyedArchiver to archive an object?", "body": "<p>I have created a ReplayKit Broadcast Extension, so the maximum amount of memory I can use is 50 MB.</p>\n\n<p>I am taking samples of the broadcasted stream to send those images with a CFMessagePortSendRequest call. As that function accepts only CFData type, I need to convert my multi-plane image to Data.</p>\n\n<p>NSKeyedArchiver.archivedObject() seems to exceed this 50 MB. Breaking on the line before the call I can see a memory consumption of ~6 MB. Then, executing the archivedObject call, my extension crashes cause it exceeds the memory limit. </p>\n\n<p>Is there a less memory-eating way to convert the CIImage of a CVPixelBuffer to Data? And then back, of course. </p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 559, "user_id": 913747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Akvs9.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/913747/joseph"}, "edited": false, "score": 0, "creation_date": 1566857545, "post_id": 57659505, "comment_id": 101779784, "body": "You would be better off checking out Aware SDK for that from <a href=\"https://www.aware.com/biometrics/\" rel=\"nofollow noreferrer\">aware.com/biometrics</a> The WSQ (Wavelet scalar quantization algorithm) can be used on other platforms too besides Linux an MacOS."}, {"owner": {"reputation": 11, "user_id": 9014225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FMVsbaPor9E/AAAAAAAAAAI/AAAAAAAAABQ/ysN1eniF4sY/photo.jpg?sz=128", "display_name": "Vinoth Kumar", "link": "https://stackoverflow.com/users/9014225/vinoth-kumar"}, "reply_to_user": {"reputation": 559, "user_id": 913747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Akvs9.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/913747/joseph"}, "edited": false, "score": 0, "creation_date": 1566885105, "post_id": 57659505, "comment_id": 101784687, "body": "@JosephMuithi, Thank you, I have come across aware.com/biometrics it seems paid one is there any SDK which is available for free?"}, {"owner": {"reputation": 559, "user_id": 913747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Akvs9.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/913747/joseph"}, "edited": false, "score": 0, "creation_date": 1566941132, "post_id": 57659505, "comment_id": 101811323, "body": "I do not know of any other SDK that is opensource that supports WSQ on iOS."}], "owner": {"reputation": 11, "user_id": 9014225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FMVsbaPor9E/AAAAAAAAAAI/AAAAAAAAABQ/ysN1eniF4sY/photo.jpg?sz=128", "display_name": "Vinoth Kumar", "link": "https://stackoverflow.com/users/9014225/vinoth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1578647208, "creation_date": 1566828344, "question_id": 57659505, "link": "https://stackoverflow.com/questions/57659505/raw-image-data-to-wsq-compressed-image-in-ios-objective-c", "title": "Raw image data to WSQ compressed Image in iOS Objective C", "body": "<p>I Want to compress raw image data to wsq compressed in my iOS App, I refered <a href=\"https://www.nist.gov/services-resources/software/nist-biometric-image-software-nbis\" rel=\"nofollow noreferrer\">https://www.nist.gov/services-resources/software/nist-biometric-image-software-nbis</a> which has c library but it is creating library for linux and macOS is there any way use these library in iOS or is there any library which converts raw image data to wsq compressed image</p>\n\n<p>I have tried using libnbis.a which is created by nist library in my iOS project but i am getting \"lnbis(libz.a) is not an object file (not allowed in a library)\" Error</p>\n"}, {"tags": ["ios", "objective-c", "swift", "cocoa-touch"], "answers": [{"tags": [], "owner": {"reputation": 1501, "user_id": 4693817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SZnOg.jpg?s=128&g=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/4693817/anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1586848214, "creation_date": 1586848214, "answer_id": 61202394, "question_id": 57659030, "link": "https://stackoverflow.com/questions/57659030/ios-binary-framework-using-swift/61202394#61202394", "title": "iOS: Binary Framework using Swift", "body": "<p>Yes, <code>Binary frameworks</code> in Swift will support Obj-C projects. Please ensure Obj-C related settings in Build Settings of Framework project are enabled. It will be enabled by default to create bridging header to inter-operate with Obj-C.</p>\n\n<p><strong>Minimum supported OS Version</strong></p>\n\n<p>With Swift ABI stability achieved in Swift 5 and now, module stability in place, there is no need to ship Swift source code while sharing the frameworks. If we want to share the library, Binary framework (<code>xcframework</code>) can be created and shipped without worrying about Swift compiler version incompatibility errors. </p>\n\n<p>Since binary frameworks is dependent on module stability, and in turn, ABI stability, it needs Swift standard library in OS itself. Apple started including Swift standard library in OS when Xcode 10.2 was released, in which Swift 5 was supported. It means, iOS &lt; 12.2 will not have Swift standard library. So, in case of iOS version &lt; 12.2, all swift apps will have their own runtime library included in it. In case of pure Obj-C projects running in iOS &lt; 12.2, ensure \"<code>Always Embed Swift Standard Libraries</code>\" to Yes in Build settings. Otherwise, it will crash in runtime. So, with respect to OS versions, we see this as the only limitation.</p>\n\n<p>I was able to run a pure Obj-C project using Binary Framework in Swift, even in iOS 9 simulator.</p>\n\n<p><strong>Advantages of using Binary Framework</strong></p>\n\n<p>Binary Framework in swift can be created for all devices, simulators and for all platforms (iOS, MacOS, watchOS, tvOS). It's a single library for all platforms.</p>\n\n<p>We need not ship actual swift source code in framework.It has resolved Swift compiler incompatibility issues.</p>\n\n<p>Interoperability with Obj-C is simple and effortless and can't vouch same on vice-versa.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 440, "user_id": 3972134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7236080b7d40bf891618f66fcab259?s=128&d=identicon&r=PG&f=1", "display_name": "Rifat Monzur", "link": "https://stackoverflow.com/users/3972134/rifat-monzur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586848214, "creation_date": 1566826644, "last_edit_date": 1566847931, "question_id": 57659030, "link": "https://stackoverflow.com/questions/57659030/ios-binary-framework-using-swift", "title": "iOS: Binary Framework using Swift", "body": "<p>If I make binary framework using swift, will it support objective C projects and  what will be minimum supported version? is there any other drawbacks compare to objective c framework?</p>\n"}, {"tags": ["objective-c", "nsurlsession", "nscache", "nsurlsessionconfiguration", "nsurlrequestcachepolicy"], "comments": [{"owner": {"reputation": 8395, "user_id": 4415445, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/77NUM.jpg?s=128&g=1", "display_name": "Nazmul Hasan", "link": "https://stackoverflow.com/users/4415445/nazmul-hasan"}, "edited": false, "score": 0, "creation_date": 1566830521, "post_id": 57655166, "comment_id": 101769512, "body": "Yes! you can do it more complex worked by NSDiscardableContent protoco."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1566831780, "post_id": 57655166, "comment_id": 101770113, "body": "I&#39;m voting to close this question as off-topic because this is home task question,"}], "owner": {"reputation": 3, "user_id": 11327246, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hXxv9bcEawI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZjGaYVraArHz7D-6v7kglWotXJQ/mo/photo.jpg?sz=128", "display_name": "Khaliful Islam", "link": "https://stackoverflow.com/users/11327246/khaliful-islam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1566812809, "creation_date": 1566811561, "last_edit_date": 1566812809, "question_id": 57655166, "link": "https://stackoverflow.com/questions/57655166/is-data-coming-from-cache", "title": "Is data coming from cache?", "body": "<p>Requirement: Get the data from the cache if <code>NSMutableURLRequest</code> can not fetch data from the server.If internet available and i got the data from the server then function will return server data but if request fail to get the data from the server then function will return the <code>NSCache</code> data according to <code>cachePolicy</code>.</p>\n\n<p>To resolve this issue i changed the <code>cachePolicy</code> from <code>NSURLRequestReloadIgnoringLocalCacheData</code> to <code>NSURLRequestReturnCacheDataElseLoad</code>. Now I am getting the data from <code>NSCache</code>.</p>\n\n<pre><code>NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];\nconfiguration.timeoutIntervalForRequest=TimeOfRequestOut;\nNSURLSession *session = [NSURLSession sessionWithConfiguration:configuration];\nNSURL *url = [NSURL URLWithString:urlString];\nNSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url\n                                                       cachePolicy:NSURLRequestReturnCacheDataElseLoad //HERE IS THE CHANGE\n                                                   timeoutInterval:TimeOfRequestOut];\n</code></pre>\n\n<p>Now, I need to find out when this function returning <code>NSCache</code> data and when it's returning data from live server and It will also helpful, if someone tell me is it right approach to get cache data?</p>\n"}, {"tags": ["javascript", "objective-c", "cordova", "uiwebview", "cordova-plugins"], "answers": [{"tags": [], "owner": {"reputation": 504, "user_id": 1449513, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/17ee558d21fdeee7ba4641fb27c6e58d?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1449513/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1566825691, "creation_date": 1566825691, "answer_id": 57658772, "question_id": 57652528, "link": "https://stackoverflow.com/questions/57652528/cordova-plugin-stringbyevaluatingjavascriptfromstring-returning-empty-value/57658772#57658772", "title": "Cordova Plugin - stringByEvaluatingJavaScriptFromString returning empty value", "body": "<p>manage to solve it by changing to <code>document.activeElement.type</code> instead. </p>\n\n<p><code>stringByEvaluatingJavaScriptFromString</code> seems to not able to return object or javascript object.</p>\n"}], "owner": {"reputation": 504, "user_id": 1449513, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/17ee558d21fdeee7ba4641fb27c6e58d?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1449513/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57658772, "answer_count": 1, "score": 0, "last_activity_date": 1566825691, "creation_date": 1566799377, "last_edit_date": 1566818625, "question_id": 57652528, "link": "https://stackoverflow.com/questions/57652528/cordova-plugin-stringbyevaluatingjavascriptfromstring-returning-empty-value", "title": "Cordova Plugin - stringByEvaluatingJavaScriptFromString returning empty value", "body": "<p>i seems to be not able to receive any return value from <code>stringByEvaluatingJavaScriptFromString</code> function call at my cordova plugin</p>\n\n<p>Basically I am trying to get the active element in my page, and change my keyboard type based on the 'active element'</p>\n\n<p>I registered <code>UIKeyboardWillShowNotification</code> during the plugin initialise, and fire the javascript when the keyboard will be showing listener.</p>\n\n<p>Here is my code at plugin initialise</p>\n\n<pre><code>-(void)pluginInitialize{\n    NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];\n    [nc addObserver:self selector:@selector(onKeyboardWillShow:) name:UIKeyboardWillShowNotification object:nil];\n}\n</code></pre>\n\n<p>Here is my code when keyboard will show, inside my plugin</p>\n\n<pre><code>- (void)onKeyboardWillShow:(NSNotification *)note{\n    NSString *script = @\"document.activeElement\";\n\n    if ([self.webView isKindOfClass:[UIWebView class]]) {\n        NSString * result = [(UIWebView*)self.webView stringByEvaluatingJavaScriptFromString:script];\n        NSLog(@\"%@\",result);\n    }\n}\n</code></pre>\n\n<p>The result seems to always return empty string. Is there anything that i did wrong?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "alamofire"], "comments": [{"owner": {"reputation": 20846, "user_id": 5716829, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/356d9e8343b5696dca2a1a9788130c9a?s=128&d=identicon&r=PG&f=1", "display_name": "PGDev", "link": "https://stackoverflow.com/users/5716829/pgdev"}, "edited": false, "score": 0, "creation_date": 1566796294, "post_id": 57651776, "comment_id": 101754263, "body": "Show what you&#39;ve tried so far?"}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 0, "creation_date": 1566798949, "post_id": 57651776, "comment_id": 101754990, "body": "The question is too broad to answer, please provide further details like what was your approach, where you failed? what is the structure of the layer?"}, {"owner": {"reputation": 392, "user_id": 7397702, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a60140265fdbea314a5979180bee922f?s=128&d=identicon&r=PG&f=1", "display_name": "AppleBee", "link": "https://stackoverflow.com/users/7397702/applebee"}, "edited": false, "score": 0, "creation_date": 1566799152, "post_id": 57651776, "comment_id": 101755044, "body": "I did not fail i thought of using Alamofire and Promises for chaining. May be my question limited to how can I achieve this using only Alamofire."}], "owner": {"reputation": 392, "user_id": 7397702, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a60140265fdbea314a5979180bee922f?s=128&d=identicon&r=PG&f=1", "display_name": "AppleBee", "link": "https://stackoverflow.com/users/7397702/applebee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566793908, "creation_date": 1566793908, "question_id": 57651776, "link": "https://stackoverflow.com/questions/57651776/how-do-i-implement-networklayer-where-it-requires-chain-requests-first-request-f", "title": "How do I implement networklayer where it requires chain requests first request for token and then API always?", "body": "<p>I am implementing a network layer using Alamofire. \nI have requirement of requesting a token for all the APIs if it gets succeeded then need to do Actual API request. Can Some one suggest how to implement network layer with chain requests and all requests should go to background thread by default irrespective of the thread it called from. </p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1325, "user_id": 3292837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caf9d1295c3f1b06dfc401270aded3d6?s=128&d=identicon&r=PG", "display_name": "Ramon", "link": "https://stackoverflow.com/users/3292837/ramon"}, "edited": false, "score": 0, "creation_date": 1566770472, "post_id": 57649313, "comment_id": 101750584, "body": "I have a feeling you can&#39;t call <code>[self endEditing:YES];</code> before you return <code>shouldChangeTextInRange:</code>. Try delaying that using dispatch_async and see if that works. If that <i>does</i> work, try replacing <code>endEditing:</code> with <code>resignFirstResponder:</code> on your Textfield. See if that has any different behaviour."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4407637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GmL3U-PR3a0/AAAAAAAAAAI/AAAAAAAAAMs/ktSYB_-O21w/photo.jpg?sz=128", "display_name": "Semih Akbas", "link": "https://stackoverflow.com/users/4407637/semih-akbas"}, "edited": false, "score": 0, "creation_date": 1566814640, "post_id": 57651011, "comment_id": 101761637, "body": "Hi @Jaeda, I use UITapGestureRecognizer for debug purpose to find out if there is any transparent overlay or if the UI is somehow locked for some reason."}], "tags": [], "owner": {"reputation": 32, "user_id": 10158006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feafb4ed96a4404c8d1745cd079c6181?s=128&d=identicon&r=PG&f=1", "display_name": "Jaeda", "link": "https://stackoverflow.com/users/10158006/jaeda"}, "is_accepted": false, "score": 0, "last_activity_date": 1566784350, "creation_date": 1566784350, "answer_id": 57651011, "question_id": 57649313, "link": "https://stackoverflow.com/questions/57649313/keyboard-not-showing-for-uitextview-after-hiding-it-using-self-endeditingyes/57651011#57651011", "title": "Keyboard not showing for UITextView after hiding it using [self endEditing:YES]", "body": "<p>Your problem very strange in your code.You can explantion why use UITapGestureRecognizer to this UITextView control.How do you think this lead to conflict?</p>\n\n<p>I find your problem where in start,but I create new project to ensure.So I confirm that UITextView already has target with itself.Also you can't to add UITapGestureRecognizer.</p>\n"}, {"comments": [{"owner": {"reputation": 4440, "user_id": 994976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OnzzI.png?s=128&g=1", "display_name": "siburb", "link": "https://stackoverflow.com/users/994976/siburb"}, "edited": false, "score": 0, "creation_date": 1566794021, "post_id": 57651708, "comment_id": 101753812, "body": "The OP is using a <code>UITextView</code> not a <code>UITextField</code>. There&#39;s no <code>textViewShouldReturn:</code> method in the <code>UITextViewDelegate</code> protocol, and it is perfectly fine to use <code>shouldChangeTextInRange:</code> to intercept the enter key and <code>resignFirstResponder</code>."}], "tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1566872132, "last_edit_date": 1566872132, "creation_date": 1566793244, "answer_id": 57651708, "question_id": 57649313, "link": "https://stackoverflow.com/questions/57649313/keyboard-not-showing-for-uitextview-after-hiding-it-using-self-endeditingyes/57651708#57651708", "title": "Keyboard not showing for UITextView after hiding it using [self endEditing:YES]", "body": "<p>You did not use common way to hide/close the keyboard.</p>\n\n<p>Try this common way:</p>\n\n<pre><code>- (BOOL)textFieldShouldReturn:(UITextField *)textField {\n    return [textField resignFirstResponder];\n}\n</code></pre>\n\n<p>This is a method in the UITextFieldDelegate, use it and remove your code:</p>\n\n<pre><code>if([text isEqualToString:@\"\\n\"]) {\n        [self endEditing:YES];\n        return NO;\n}\n</code></pre>\n\n<p>Edit:\n@siburb You are right. My bad. \nUITapGestureRecognizer maybe the root cause.</p>\n\n<p>Edit:\n@Semih Akbas</p>\n\n<p>Repalce:\n[_optionsStackView addSubview:_answerTextView];</p>\n\n<p>To:\n[_optionsStackView addArrangedSubview:_answerTextView];</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 4407637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GmL3U-PR3a0/AAAAAAAAAAI/AAAAAAAAAMs/ktSYB_-O21w/photo.jpg?sz=128", "display_name": "Semih Akbas", "link": "https://stackoverflow.com/users/4407637/semih-akbas"}, "edited": false, "score": 0, "creation_date": 1566814748, "post_id": 57651739, "comment_id": 101761683, "body": "Will try this and let you know @siburp."}, {"owner": {"reputation": 43, "user_id": 4407637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GmL3U-PR3a0/AAAAAAAAAAI/AAAAAAAAAMs/ktSYB_-O21w/photo.jpg?sz=128", "display_name": "Semih Akbas", "link": "https://stackoverflow.com/users/4407637/semih-akbas"}, "edited": false, "score": 0, "creation_date": 1566835032, "post_id": 57651739, "comment_id": 101771578, "body": "Unfortunately did not work :(. I&#39;ve removed all tap definitions and methods and changed endEditing to resignFirstResponder, but no chance... I have the same sources in another view, but everything works fine there. The only difference is, here the UITextView is created programmatically."}], "tags": [], "owner": {"reputation": 4440, "user_id": 994976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OnzzI.png?s=128&g=1", "display_name": "siburb", "link": "https://stackoverflow.com/users/994976/siburb"}, "is_accepted": false, "score": 0, "last_activity_date": 1566793882, "last_edit_date": 1566793882, "creation_date": 1566793528, "answer_id": 57651739, "question_id": 57649313, "link": "https://stackoverflow.com/questions/57649313/keyboard-not-showing-for-uitextview-after-hiding-it-using-self-endeditingyes/57651739#57651739", "title": "Keyboard not showing for UITextView after hiding it using [self endEditing:YES]", "body": "<p>What you're doing is almost correct, but just try changing <code>endEditing:</code> to <code>[textView resignFirstResponder]</code>:</p>\n\n<pre><code>- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text {\n    if ([text isEqualToString:@\"\\n\"]) {\n        [textView resignFirstResponder];\n        return NO;\n    }\n    return YES;\n} \n</code></pre>\n\n<p>If that doesn't work, then it <em>could</em> be that one of your gestures is preventing the <code>UITextView</code>'s own <code>UITapGestureRecognizer</code> from receiving the tap. Try disabling (or comment out the creation of) both of your recognizers to verify that it is the issue. If it is, then you can fix it using the <code>UIGestureRecognizerDelegate</code> methods.</p>\n"}], "owner": {"reputation": 43, "user_id": 4407637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GmL3U-PR3a0/AAAAAAAAAAI/AAAAAAAAAMs/ktSYB_-O21w/photo.jpg?sz=128", "display_name": "Semih Akbas", "link": "https://stackoverflow.com/users/4407637/semih-akbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566872132, "creation_date": 1566763309, "last_edit_date": 1566838440, "question_id": 57649313, "link": "https://stackoverflow.com/questions/57649313/keyboard-not-showing-for-uitextview-after-hiding-it-using-self-endeditingyes", "title": "Keyboard not showing for UITextView after hiding it using [self endEditing:YES]", "body": "<p>I have a UITextView that is created programmatically on viewDidLoad using the method below. Keyboard is shown successfully right after  <code>[_answerTextView becomeFirstResponder]</code> is called. And hid if the user enters return(\\n) character.</p>\n\n<pre><code>- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text {\n    if([text isEqualToString:@\"\\n\"]) {\n        [self endEditing:YES];\n        return NO;\n    }\n    return YES;\n} \n</code></pre>\n\n<p>After the keyboard is hid by the code above, I'm not able to bring it back anymore by tapping the UITextView again. </p>\n\n<p>I tried showing the keyboard by calling <code>[_answerTextView becomeFirstResponder]</code> on Tap event for the parent UIView and it worked. But that's not what I want.</p>\n\n<p>UITextView is created by the method below;</p>\n\n<pre><code>-(UITextView*)createSurveyTextView{\n    _answerTextView = [[UITextView alloc]initWithFrame:CGRectMake(0, 0, _optionsStackView.frame.size.width, 200)];\n    _answerTextView.keyboardType = UIKeyboardTypeDefault;\n    _answerTextView.text = @\"\";\n    _answerTextView.editable = true;\n    _answerTextView.selectable = true;\n    _answerTextView.delegate = self;\n    [_answerTextView becomeFirstResponder];\n\n    _answerTextView.backgroundColor = [UIColor whiteColor];\n    _answerTextView.textColor = [UIColor blackColor];\n    _answerTextView.layer.cornerRadius = 5;\n    [_optionsStackView addSubview:_answerTextView];\n\n    _answerTextView.font = [UIFont systemFontOfSize:20];\n    [_answerTextView setReturnKeyType:UIReturnKeyDone];\n    [_optionsStackView bringSubviewToFront:_answerTextView];\n    [self bringSubviewToFront:_answerTextView];\n    [_answerTextView setUserInteractionEnabled:true];\n\n    UITapGestureRecognizer *mainViewTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTextViewTap:)];\n\n    UITapGestureRecognizer *tap2 = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTap2:)];\n\n    [_answerTextView addGestureRecognizer:mainViewTap];\n    [self addGestureRecognizer:tap2];\n\n    return _answerTextView;\n}\n</code></pre>\n\n<p>I want the UITextView to simply show the keyboard when the user taps on it self. What am I missing?</p>\n\n<p>Edit: I have the same sources in another view, but everything works fine there. The only difference is, here the UITextView is created programmatically.</p>\n\n<p>Edit 2: I got it worked. The <code>_optionsStackView</code> that the UITextView is added as a child is a UIStackView. I tried adding the <code>_answerTextView</code> to the parent UIView and everything works fine now. What would be the problem with the UIStackView?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "git", "branch"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1566779065, "creation_date": 1566779065, "answer_id": 57650646, "question_id": 57647125, "link": "https://stackoverflow.com/questions/57647125/does-branch-created-from-using-different-version-of-xcode-really-differ-in-git/57650646#57650646", "title": "does branch created from using different version of Xcode really differ in git?", "body": "<p>The SDK isn't \"in\" the branch, it is a setting in the project file. Your new branch may well have a different setting for the SDK, but you can change that setting so this \"does not matter\" in git terms.</p>\n"}], "owner": {"reputation": 388, "user_id": 4600808, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh3.googleusercontent.com/-B8D3SZ2lv5Y/AAAAAAAAAAI/AAAAAAAAAAA/0_M_yMr0uhs/photo.jpg?sz=128", "display_name": "cybergeeeek", "link": "https://stackoverflow.com/users/4600808/cybergeeeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566779065, "creation_date": 1566744987, "question_id": 57647125, "link": "https://stackoverflow.com/questions/57647125/does-branch-created-from-using-different-version-of-xcode-really-differ-in-git", "title": "does branch created from using different version of Xcode really differ in git?", "body": "<p>I'm not sure , this may be basic question but still asking it as I have doubt.\nI have branch named \"Rendering\" which was created using Xcode 10 version used for code changes.</p>\n\n<p>Now I created another branch named \"ShadowBaking\" from \"Rendering\" branch but used Xcode 11 beta 6 for code changes.</p>\n\n<p>My question is, does \"ShadowBaking\" branch will have SDK from Xcode beta 6 in this branch or it does not matter ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["objective-c", "swift", "ciimage", "easyar"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1566874281, "creation_date": 1566874281, "answer_id": 57667115, "question_id": 57646612, "link": "https://stackoverflow.com/questions/57646612/convert-easyar-image-to-ciimage/57667115#57667115", "title": "Convert easyar_Image to CIImage", "body": "<p>I'm not use EasyAR, so I just guess something here.</p>\n\n<p>As you say, pixel format is YUV_NV12.</p>\n\n<p>So I guess it is a imageBuffer or pixelBuffer.</p>\n\n<p>The way you can do is change imageBuffer/pixelBuffer to UIImage and than change it to CIImage.</p>\n"}], "owner": {"reputation": 1546, "user_id": 2979418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7c2fa49291e6811507b491743938c105?s=128&d=identicon&r=PG", "display_name": "Rinat Khanov", "link": "https://stackoverflow.com/users/2979418/rinat-khanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1566874281, "creation_date": 1566741023, "last_edit_date": 1566742273, "question_id": 57646612, "link": "https://stackoverflow.com/questions/57646612/convert-easyar-image-to-ciimage", "title": "Convert easyar_Image to CIImage", "body": "<p>I've embedded code from EasyAR's HelloARVideo demo app (which is written in Objective-C) in my Swift project. AR works great and now I need to add QR code scanning feature. QR scanning was removed from EasyAR in version 3 and so I am thinking to process image frames manually and using system CIDetector  for QR recognition. Can you explain how to convert easyar_Image object to CIImage for further use in CIDetector? It can be done in Objective-C or Swift. Pixel format is YUV_NV12.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "uicollectionview", "uicollectionviewcell"], "comments": [{"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566719306, "post_id": 57643915, "comment_id": 101739451, "body": "please any help would be appreciated..."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566725730, "post_id": 57644362, "comment_id": 101740858, "body": "[UIView setAnimationRepeatCount:3.0];   no i want finate times not infinite times"}, {"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566725846, "post_id": 57644362, "comment_id": 101740874, "body": "i am using same brother...   check                          cell.pricePlate.alpha = 0;                         [UIView animateWithDuration:1.0f                                               delay:0.1f                                             options:UIViewAnimationOptionCurveLinear                                          animations:^{                                              [UIView setAnimationRepeatCount:3.0];"}, {"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566725887, "post_id": 57644362, "comment_id": 101740882, "body": "problem is multiple animation synchronization .... like on multiple items if selected....."}, {"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566735903, "post_id": 57644362, "comment_id": 101742993, "body": "brother i checked it and could be this is the problem : Make sure that the reloadData method on the collection view is not called when not necessary now tell me one more thing like when firebase calling on runtime i have to call the reload data and thats why i think it is doing.... how can i resolve this like both things important for me 1) reload data 2) calling firebase"}, {"owner": {"reputation": 11084, "user_id": 2166050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc047b125ce1d69a0b57efab23a8fdf1?s=128&d=identicon&r=PG&f=1", "display_name": "User123335511231", "link": "https://stackoverflow.com/users/2166050/user123335511231"}, "reply_to_user": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566760253, "post_id": 57644362, "comment_id": 101748462, "body": "2) calling firebase should be first, but it depends if you have pagination or not(eg. you fetch just 20 items at a time and then the next 20 when needed) or all at once. The last one is simpler, and you can call it on viewDidLoad 1) only after the results are received from firebase you should reload the collectionView. You can use reloadItems(at: &lt;#T##[IndexPath]#&gt;) to reload just certain cells, not all of them"}, {"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566901143, "post_id": 57644362, "comment_id": 101792175, "body": "you understand my point now ... and i did work like call came from firestore and then  after every sorting i update the collectionview.... but just imagine if two calls came together one call update all cell and blink.... and then suddenly another call came which will blink and update the color on all cell label... which make it never be synchronize with other cell....  You understand my point?    check this:              if(self.cellIdToBlink &lt;= 0)             { }  this is the integer which i am setting .... and after every reload data this will decide the blink happen or not"}], "tags": [], "owner": {"reputation": 11084, "user_id": 2166050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fc047b125ce1d69a0b57efab23a8fdf1?s=128&d=identicon&r=PG&f=1", "display_name": "User123335511231", "link": "https://stackoverflow.com/users/2166050/user123335511231"}, "is_accepted": false, "score": 0, "last_activity_date": 1566721073, "creation_date": 1566721073, "answer_id": 57644362, "question_id": 57643915, "link": "https://stackoverflow.com/questions/57643915/uicollectionview-multiple-celluicollectionviewcell-blinking-synchronisation-in/57644362#57644362", "title": "UICollectionView multiple cell(UICollectionViewCell) blinking synchronisation in Objective-C", "body": "<p>If I understood correctly, if you want to do the animation on the label, for infinite times use: \nUIView.animate(withDuration: 2.0, delay: 0, options: [.repeat, .autoreverse], animations: {}</p>\n\n<p>Make sure that the reloadData method on the collection view is not called when not necessary.</p>\n\n<p>Also check that the UI operations on the collection view are done on the main thread.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566901359, "post_id": 57652808, "comment_id": 101792294, "body": "let me try it... dont u thnk it will be expensive?"}, {"owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "reply_to_user": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "edited": false, "score": 0, "creation_date": 1566961610, "post_id": 57652808, "comment_id": 101814844, "body": "Yes, it would be. But for 2 reasons, 1. If UI not very complicated or more than 100 cells, I think it would be fine. 2. Your cell/item need blink or other animation, if use reuse feature that should do other control for stop/start animation, and it maybe expensive."}], "tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1566801084, "creation_date": 1566801084, "answer_id": 57652808, "question_id": 57643915, "link": "https://stackoverflow.com/questions/57643915/uicollectionview-multiple-celluicollectionviewcell-blinking-synchronisation-in/57652808#57652808", "title": "UICollectionView multiple cell(UICollectionViewCell) blinking synchronisation in Objective-C", "body": "<p>Here is an workaround way.</p>\n\n<p>I assume you use the reuse cell/item now.</p>\n\n<p>The root cause of your problem is the reuse feature.</p>\n\n<p>So, you can try to NOT use the reuse way.</p>\n\n<p>Bellow code is used in UITableView, but I believe you can modify it easy.</p>\n\n<p>Replace your reuse cell code in the cellForRowAtIndexPath:</p>\n\n<pre><code>cell = [tableView dequeueReusableCellWithIdentifier:@\"YourCellIdentifier\"];\n</code></pre>\n\n<p>TO:</p>\n\n<pre><code>NSArray *nibObjs = [[NSBundle mainBundle] loadNibNamed:@\"YourCellNibName\" owner:nil options:nil];\nif(nibObjs)\n  cell = [nibObjs objectAtIndex:0];\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 1910912, "user_type": "registered", "profile_image": "https://graph.facebook.com/623656653/picture?type=large", "display_name": "Faisal Liaquat", "link": "https://stackoverflow.com/users/1910912/faisal-liaquat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1566801243, "creation_date": 1566716487, "last_edit_date": 1566801243, "question_id": 57643915, "link": "https://stackoverflow.com/questions/57643915/uicollectionview-multiple-celluicollectionviewcell-blinking-synchronisation-in", "title": "UICollectionView multiple cell(UICollectionViewCell) blinking synchronisation in Objective-C", "body": "<p>I have a question like in <code>UICollectionViewCell</code> I have to blink multiple cell together. But right now if one cell blink then if I select another cell simultaneously than the last item stop blinking and this item start blinking. And I want to blink the LABEL Text.  </p>\n\n<p>There are two problems:</p>\n\n<ol>\n<li>I want blinking if I even scroll up or down it should not effect or update the cell. It should keep on blinking.</li>\n<li>Multiple cells blinking </li>\n</ol>\n\n<p>Please I spend a-lot of time already and I have no idea how to resolve.</p>\n\n<p>Tried NOW:\nI have tried this now:</p>\n\n<p>It resolve my problem with wrong cell blinking issue. But now multiple cell blinking together how to resolve this I have no idea</p>\n\n<pre><code>cell.pricePlate.alpha = 0;\n[UIView animateWithDuration:1.0f delay:0.1f options:UIViewAnimationOptionCurveLinear animations:^{\n    [UIView setAnimationRepeatCount:3.0];\n    cell.pricePlate.alpha = 1;\n    cell.pricePlate.textColor = RED;\n} completion:^(BOOL finished) {\n    NSLog(@\"cell12 -&gt; %ld  %ld\",(long)cell.tag, (long)indexPath.row);\n    cell.pricePlate.alpha = 1;\n    if(self.cellIdToBlink &lt;= 0)\n    {\n        cell.pricePlate.textColor = BLACK;\n    }\n    else\n    { \n        cell.pricePlate.textColor = GREEN;\n    }\n}];\n</code></pre>\n\n<p>Tried Before:\nI have tried this before also:</p>\n\n<p>This is inside the cell class. calling like </p>\n\n<pre><code>[cell blinking];\n</code></pre>\n\n<p>The issue with this is if I scroll down and come up even with single blinking, it blink and update the wrong cell. with remove the blinking also. I thought its because while perform selector it cannot find out the correct cell. So it blink random.</p>\n\n<pre><code>int counter = 1;\nfor (int i = 0; i&lt;3 ; i++)\n{\n    if(i == 2)\n    {\n        [self performSelector:@selector(animateColor1234:) withObject:color afterDelay:1.5*counter];\n        ++counter;\n    }\n    else{\n        [self performSelector:@selector(animateColor1234:) withObject:BLACK afterDelay:1.5*counter];\n        ++counter;\n    }\n}\n\n-(void) animateColor1234:(UIColor *)color {\n\n    [UIView transitionWithView:_pricePlate duration:1 options: UIViewAnimationOptionTransitionCrossDissolve animations:^{\n        _pricePlate.textColor = RED;\n    }\n    completion:^(BOOL finished){\n        if (finished){\n            [UIView transitionWithView:_pricePlate duration:1 options:UIViewAnimationOptionTransitionCrossDissolve animations:^{\n                _pricePlate.textColor = BLACK;\n            }\n            completion:^(BOOL done){\n                if (done){\n                    // Do some program upkeep logic\n                    _pricePlate.textColor = color;\n                }\n            }];\n        }\n        else\n        {\n            _pricePlate.textColor = color;\n        }\n    }];\n</code></pre>\n\n<p>}</p>\n\n<p>last one animation I tested:</p>\n\n<p>CABASE ANIMATION:</p>\n\n<p>I donot know how to animate the text with it. its only for background and foreground</p>\n\n<p>This is how dequeuing cell</p>\n\n<pre><code>- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {\n\n    CustomCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@\"CarCellID\" forIndexPath:indexPath];\n\n    if(thisItemToBlink) \n    {\n\n        cell.pricePlate.alpha = 0;\n        [UIView animateWithDuration:1.0f delay:0.1f options:UIViewAnimationOptionCurveLinear animations:^{\n            [UIView setAnimationRepeatCount:3.0];\n            cell.pricePlate.alpha = 1;\n            cell.pricePlate.textColor = RED;\n        } completion:^(BOOL finished) {\n            NSLog(@\"cell12 -&gt; %ld  %ld\",(long)cell.tag, (long)indexPath.row);\n            cell.pricePlate.alpha = 1;\n            if(self.cellIdToBlink &lt;= 0)\n            {\n                cell.pricePlate.textColor = BLACK;\n            }\n            else\n            {\n                cell.pricePlate.textColor = GREEN;\n            }\n        }];\n    }\n\n}\nelse\n{\n    //just change text as not selected item\n}\n\nreturn cell;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "macos", "cocoa", "objective-c-blocks"], "comments": [{"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1567366445, "post_id": 57643577, "comment_id": 101935237, "body": "I don&#39;t see the variable <code>i</code> being declared anywhere. Do you mean <code>x</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1566727945, "post_id": 57644245, "comment_id": 101741354, "body": "How to copy correctly? [b0 copy] or Block_copy(b0)?"}, {"owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 1, "creation_date": 1566728089, "post_id": 57644245, "comment_id": 101741389, "body": "Actually, You must bridge like <code>dispatch_block_t b1 = (__bridge dispatch_block_t)(Block_copy((__bridge const void *)(b0)));</code>"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 3, "creation_date": 1566770349, "post_id": 57644245, "comment_id": 101750562, "body": "@ThanhVu Sorry but <code>Block_copy()</code>, or the <code>copy</code> method, is only guaranteed to give you a distinct instance of the block object if the original is a stack-optimised block \u2013 in which case it will return a standard heap allocated object. Block objects are essentially immutable (e.g. like <code>NSString</code> objects) so you don&#39;t need distinct instances of them. Also note that all the bridging has no real impact."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 2, "creation_date": 1566770449, "post_id": 57644245, "comment_id": 101750576, "body": "@BorisV You should rarely need to copy a block in ARC-enabled copy (passing them to variadic functions is one of the few places, probably due to a compiler &quot;feature&quot;), but if you do need to your first option <code>[b0 copy]</code> is the way to go."}, {"owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1566777540, "post_id": 57644245, "comment_id": 101751511, "body": "@CRD I know don\u2019t need distinct instance. But I try answer the question. Thank for your opinion."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1566839433, "post_id": 57644245, "comment_id": 101773257, "body": "<code>-copy</code> and <code>Block_copy()</code> are identical in functionality.  Just use the method."}], "tags": [], "owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "is_accepted": false, "score": -1, "last_activity_date": 1566719693, "creation_date": 1566719693, "answer_id": 57644245, "question_id": 57643577, "link": "https://stackoverflow.com/questions/57643577/objective-c-initialization-of-blocks-stored-in-collections/57644245#57644245", "title": "Objective-C: initialization of blocks stored in collections", "body": "<p><strong>First</strong>, The block store in both storage1 and storage2 is same block instance. Then, block store in <code>storage2</code> can update <code>i</code> variable.</p>\n\n<p><strong>Second</strong>, If you want to have 2 independent block instances. You must call <code>Block_copy</code> function.</p>\n\n<p><strong>Third</strong>, When you copy block, variable with <code>__block</code> specifier is same in both block. Impossible copy variable with __block specifier.\nFinal, If you copy block also, 2 block will can update variable <code>i</code>.</p>\n\n<p>According Apple document: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Blocks/Articles/bxVariables.html#//apple_ref/doc/uid/TP40007502-CH6-SW6\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Blocks/Articles/bxVariables.html#//apple_ref/doc/uid/TP40007502-CH6-SW6</a></p>\n\n<blockquote>\n  <p>__block variables live in storage that is shared between the lexical scope of the variable and all blocks and block copies declared or created within the variable\u2019s lexical scope. Thus, the storage will survive the destruction of the stack frame if any copies of the blocks declared within the frame survive beyond the end of the frame (for example, by being enqueued somewhere for later execution). Multiple blocks in a given lexical scope can simultaneously use a shared variable.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1566807805, "post_id": 57649963, "comment_id": 101758286, "body": "And how about static variables inside blocks? What is their lifetime and visibility?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 1, "creation_date": 1566810674, "post_id": 57649963, "comment_id": 101759679, "body": "@BorisV - see <a href=\"https://stackoverflow.com/questions/46402330/static-variable-inside-block/46403146#46403146\">this answer</a>"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1566769510, "creation_date": 1566769510, "answer_id": 57649963, "question_id": 57643577, "link": "https://stackoverflow.com/questions/57643577/objective-c-initialization-of-blocks-stored-in-collections/57649963#57649963", "title": "Objective-C: initialization of blocks stored in collections", "body": "<p>The answers to your questions lie in understanding <em>lifetime</em> \u2013\u00a0every variable and object created in a program has a lifetime which determines how long the variable or object survives. The <code>__block</code> attribute modified the lifetime of the variable it is applied to, potentially increasing it.</p>\n\n<p>To the gory details (there will be the dead carcases of variables and objects littering the answer ;-)) starting at the beginning with a variable declared within a simple function:</p>\n\n<pre><code>int answer1(void)\n{\n   int x = 21;    // variable x is created with a fixed lifetime of the end of the function\n                  // invocation \u2013\u00a0each function invocation creates a new distinct variable x\n   return x * 2;\n   // end of the function, x dies\n}\n</code></pre>\n\n<p>A call to <code>answer1()</code> returns <code>42</code>. During that call a variable is created and destroyed, after the call it no longer exists. Every call to <code>answer1()</code> creates a new distinct variable, and then destroys it when the invocation returns.</p>\n\n<p>The lifetime of standard local variables is tied to the function, method or block statement they are created in.</p>\n\n<p>Dynamically created objects have lifetimes not limited by the function/method/block statement they are created it but live as long as there exists a strong reference to them.</p>\n\n<pre><code>int answer2(void)\n{\n   NSMutableArray *x = [NSMutableArray new]; // variable x is created with a fixed lifetime\n                                             // of the end of the function\n                                             // an NSMutableArray object is created with an\n                                             // indeterminate lifetime \u2013 it will live as long\n                                             // as there exists a strong refernece to it\n                                             // a strong reference to this object is stored in x\n   [x addObject:@21];\n   return [x[0] intValue] * 2;\n   // end of the function, x dies\n   // as x contained the only strong reference to the array object\n   // so that object is now longer wanted and can now be culled\n   // \u2013 its lifetime is now over as well\n}\n</code></pre>\n\n<p>A call to <code>answer2()</code> also returns <code>42</code>. Important: the array object created during the call has died not because the call has returned, the reason for variable <code>x</code>'s demise, but because there is no longer any strong reference to it stored anywhere \u2013\u00a0unwanted it is culled.</p>\n\n<p>Now let's look at blocks. On creation a block object contains <em>copies</em> of the values in any local variables it references:</p>\n\n<pre><code>typedef int (^IntBlock)(void);   // for convenience\n\nint answer3(void)\n{\n   int x = 20;    // variable x is created with a fixed lifetime of the end of the function\n\n   IntBlock b1 = ^{ return x; }; // variable b1 is created with a fixed lifetime of the end\n                                 // of the function\n                                 // a block object is created with an indeterminate lifetime\n                                 // and a strong reference to it is stored in b1\n                                 // the block object contains a copy of the *value* in x,\n                                 // i.e. 20\n\n   x += 2;\n\n   IntBlock b2 = ^{ return x; }; // variable b2 is created with a fixed lifetime of the end\n                                 // of the function\n                                 // a block object is created with an indeterminate lifetime\n                                 // and a strong reference to it is stored in b1\n                                 // the block object contains a copy of the *value* in x,\n                                 // i.e. 22\n\n   return b1() + b2();\n   // end of function\n   // x, b1 and b2 all die\n   // as b1 &amp; b2 contained the only strong references to the two block objects\n   // they can now be culled \u2013\u00a0their lifetimes are over\n}\n</code></pre>\n\n<p>A call to <code>answer3()</code> returns <code>42</code> (what a surprise ;-)). During the invocation of <code>answer3()</code> two distinct blocks are created and though the code bodies are the same they contain <em>different</em> values for <code>x</code>.</p>\n\n<p>And finally we come to <code>__block</code>, the lifetime enhancing attribute for local variables, any local variable blessed with this attribute at birth is not consigned to die at the end of its creating function/method/block statement:</p>\n\n<pre><code>typedef void (^VoidBlock)(void);\n\nIntBlock answer4(void)\n{\n   __block int x = 42;  // variable x is created with a lifetime the longer of:\n                        //  * the lifetime of the current invocation of answer4()\n                        //  * the lifetime of the longest living block which\n                        //    uses x\n\n   VoidBlock b1 = ^{ x = x / 2; };     // variable b1 is created with a fixed lifetime of the end\n                                       // of the function\n                                       // a block object is created with an indeterminate lifetime\n                                       // and a strong reference to it is stored in b1\n                                       // the block object contains a reference to the *variable* in x\n\n   IntBlock b2 = ^{ return x * 2; };   // variable b2 is created with a fixed lifetime of the end\n                                       // of the function\n                                       // a block object is created with an indeterminate lifetime\n                                       // and a strong reference to it is stored in b1\n                                       // the block object contains a reference to the *variable* in x\n   b1();          // call b1(), alters the value in x\n   return b2;     // return a reference to the second block\n   // end of function\n   // b1 dies\n   // as b1 contained the only strong reference to the first block it can now be culled\n   // b2 also dies\n   // however a reference to the block it referenced is returned by the function, so\n   // that block lives\n   // the returned block references x so it to lives\n}\n\nvoid test4(void)\n{\n   IntBlock b1 = answer4();            // a reference to a block is returned by answer4() and stored in b1\n   NSLog(@\"The answer is %d\", b1());   // outputs 42\n   // end of function\n   // b1 dies\n   // as b1 contained the onlyt surviving reference to the block returned by answer4()\n   // that block may now be culled\n   // as that block contains the only surviving reference to the variable x\n   // that variable may now be culled\n}\n</code></pre>\n\n<p>A call to <code>test4()</code> outputs <code>The answer is 42</code>. Note how there is only one <code>x</code> shared by both <code>b1</code> &amp; <code>b2</code>.</p>\n\n<p>Further note how the lifetime of local variable <code>x</code> is extended past the invocation of <code>answer4()</code> as it is captured by the block object that is returned. However once the block object's time is up <code>x</code> is culled \u2013\u00a0like an object its lifetime is dependent on something holding an interest in it.</p>\n\n<p>Is it a coincidence that the conditions on the lifetime of <code>x</code> are rather similar to that on an object? No, the next example is <em>effectively</em> (i.e. precise details will differ, the visible behaviour is the same) how the compiler handles <code>answer4()</code>:</p>\n\n<pre><code>@interface LifetimeExtenderObject5 : NSObject\n@property int x;\n@end\n@implementation LifetimeExtenderObject5\n@end\n\nIntBlock answer5(void)\n{\n   LifetimeExtenderObject5 *leo = [LifetimeExtenderObject5 new];  // variable leo is created with a lifetime of\n                                                                  // the end of the function\n                                                                  // a LifetimeExtenderObject5 is created with\n                                                                  // an indeterminate lifetime and a reference\n                                                                  // to it stored in leo\n   leo.x = 42;\n\n   VoidBlock b1 = ^{ leo.x = leo.x / 2; };      // variable b1 is created with a fixed lifetime of the end\n                                                // of the function\n                                                // a block object is created with an indeterminate lifetime\n                                                // and a strong reference to it is stored in b1\n                                                // the block object contains a copy of the *value* in leo\n                                                // this value is a strong reference to the created\n                                                // LifetimeExtenderObject5, so now there are two strong\n                                                // references to that object\n\n   IntBlock b2 = ^{ return leo.x * 2; };        // variable b2 is created with a fixed lifetime of the end\n                                                // of the function\n                                                // a block object is created with an indeterminate lifetime\n                                                // and a strong reference to it is stored in b1\n                                                // the block object contains a copy of the *value* in leo\n                                                // this value is a strong reference to the created\n                                                // LifetimeExtenderObject5, so now there are three strong\n                                                // references to that object\n   b1();          // call b1(), alters the value in x\n   return b2;     // return a reference to the second block\n   // end of function\n   // leo dies, but the LifetimeExtenderObject5 object it references has other strong\n   // references so it lives\n   // b1 dies\n   // as b1 contained the only strong reference to the first block it can now be culled\n   // that block contained a string reference to created LifetimeExtenderObject5 object,\n   // but there are still remaining strong references to that object so it lives\n   // b2 also dies\n   // however a reference to the block it referenced is returned by the function, so\n   // that block lives\n   // that block contains a strong reference, the last one, to the created\n   // LifetimeExtenderObject5 object, so it still lives.\n}\n\nvoid test5(void)\n{\n   IntBlock b1 = answer5();            // a reference to a block is returned by answer5() and stored in b1\n   NSLog(@\"The answer is %d\", b1());   // outputs 42\n   // end of function\n   // b1 dies\n   // as b1 contained the only surviving reference to the block returned by answer5()\n   // that block may now be culled\n   // as that block contains the only surviving reference to the created\n   // LifetimeExtenderObject5 object that object may now be culled\n}\n</code></pre>\n\n<p>You asked:</p>\n\n<blockquote>\n  <p>Is it necessary to copy block before storing it in collection if I want to have 2 independent instances?</p>\n</blockquote>\n\n<p>The above hopefully tells you that copying won't get you two independent instances of the captured <code>__block</code> variable. For that you need <em>distinct</em> <code>__block</code> variables to capture, which you get from distinct invocations of the function they are declared in. Every call to <code>answer4()</code> above returns a block which has captured a distinct/\"independent instance\" of the <code>__block</code> attributed variable <code>x</code>.</p>\n\n<p>HTH more than it confuses!</p>\n"}, {"tags": [], "owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "is_accepted": false, "score": 0, "last_activity_date": 1567371064, "creation_date": 1567371064, "answer_id": 57749424, "question_id": 57643577, "link": "https://stackoverflow.com/questions/57643577/objective-c-initialization-of-blocks-stored-in-collections/57749424#57749424", "title": "Objective-C: initialization of blocks stored in collections", "body": "<p>First, in your code there is only one block instance created per call of <code>f1</code>, as there is only one <code>^{ }</code> expression which is only run once. Even if there were multiple blocks, created in a particular call of <code>f1</code>, they would reference the same <code>x</code> variable, since it is a <code>__block</code> variable, so it is captured by reference. Also, copying a block does not create multiple instances of the block -- it simply moves the block from stack to the heap if it is not already on the heap.</p>\n\n<p>It <em>is</em> necessary to copy the block before storing it in the collection, not because it will create multiple instances of the block (it doesn't), but because a block by default starts out on the stack as an optimization. If you will be storing it in a place that will outlive the scope where the block was created, you must \"copy\" the block which moves it from the stack to the heap (if it isn't there already). (The collection will \"retain\" the object that it needs to store, but retaining a block doesn't move it from the stack to the heap.) However, recent versions of the Clang compiler, when compiling in ARC, will implicitly add a copy when you pass a variable of block type into a function parameter of non-block object type (e.g. here, <code>-[NSMutableArray addObject:]</code>, which takes type <code>id</code>), so you don't have to do it yourself.</p>\n"}], "owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 57649963, "answer_count": 3, "score": 0, "last_activity_date": 1567371064, "creation_date": 1566712212, "last_edit_date": 1566712772, "question_id": 57643577, "link": "https://stackoverflow.com/questions/57643577/objective-c-initialization-of-blocks-stored-in-collections", "title": "Objective-C: initialization of blocks stored in collections", "body": "<p>I read this article : <a href=\"https://stackoverflow.com/questions/7997666/storing-blocks-in-an-array\">Storing Blocks in an Array</a> and want to clarify some moments.</p>\n\n<p>Consider next code:</p>\n\n<pre><code>NSMutableArray* storage1;\nNSMutableArray* storage2;\n-(id)init{\n    self=[super init];\n    if(self){\n        storage1=[NSMutableArray new];\n        storage2=[NSMutableArray new];\n    }\nreturn self;\n}\n-(void) f1{\n   __block int x=1;\n\n  dispatch_block_t b0=^{\n     i++;\n     i++;\n     sleep_indefinitely\n  };\n  [storage1 addObject:b0];\n  dispatch_async(global_concurrent_thread,b0());\n  [storage2 addObject:[storage1 objectAtIndex:0]];\n}\n</code></pre>\n\n<p>The question is: will <strong>storage2</strong> contain block with <em>updated</em> value of <strong>i</strong> or not? Is it necessary to copy block before storing it in collection if I want to have 2 independent instances? And if it is then how the variables with __block specifier are initialized during copying?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nstableview", "nsnotifications"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566599843, "post_id": 57631749, "comment_id": 101720579, "body": "Search for <code>NSTableView</code>.  You&#39;ll find lots of examples."}, {"owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1566600194, "post_id": 57631749, "comment_id": 101720648, "body": "Thanks for responding. Yes, I&#39;ve done quite a bit of searching, both here on stackoverflow, and elsewhere across the net, but have not yet found information that has helped (which is why, of course, I&#39;ve posted the question)."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1566655553, "post_id": 57631749, "comment_id": 101729388, "body": "See <a href=\"https://stackoverflow.com/questions/5210535/passing-data-between-view-controllers\">Passing Data between View Controllers</a>"}, {"owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "edited": false, "score": 0, "creation_date": 1566668721, "post_id": 57631749, "comment_id": 101732229, "body": "Thanks, the link is very helpful in describing data sharing between views. I&#39;m currently using prepareForSegue and notifications to pass data back and forth between the two view controllers. and that&#39;s working great. Where I&#39;m blocked is in calling the methods of NSTableView from the other view controller (i.e. selectRowIndexes). It&#39;s quite possible (and likely) that this is a mental block brought about by 40 years of straight C and assembly language programming where I could call anything at any time \u2014 so long as I knew what I was doing (ahem). This is my first application in objective-C."}, {"owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "edited": false, "score": 0, "creation_date": 1566713579, "post_id": 57631749, "comment_id": 101738456, "body": "I worked around the issue (though not in a way that makes me feel particularly comfortable) by making the NSTableView in the view controller public. It works, but... ick."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1566723559, "post_id": 57631749, "comment_id": 101740374, "body": "See the Lineup View Controller as a black box and talk to the View Controller intead of the table view. Add properties and/or methods to the View Controller to change the attributes of the table view so you can do  <code>homeLineupViewController.data = lineups</code>, <code>homeLineupViewController.selectedLineups = lineupsToSelect</code> or <code>homeLineupViewController.selectLineups(lineupsToSelect)</code>."}, {"owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "edited": false, "score": 0, "creation_date": 1567110169, "post_id": 57631749, "comment_id": 101876242, "body": "Thank you! This was a big help and got me past a conceptual hurdle."}], "owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566669767, "creation_date": 1566587107, "last_edit_date": 1566669767, "question_id": 57631749, "link": "https://stackoverflow.com/questions/57631749/selecting-rows-in-nstableview-inside-a-container-view", "title": "Selecting rows in NSTableView inside a container view", "body": "<p>In my interface I need to provide two NSTableViews in the same window that are structurally the same, but present different data to the user. I'm using storyboards and to do this, I've placed two Container Views in the view controller of the window. I then added a single view controller to the storyboard (outside of the window's view controller) and into that controller placed an NSTableView.</p>\n\n<p>A couple of storyboard screenshots to illustrate:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FHsOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FHsOz.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/TMbRc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMbRc.png\" alt=\"enter image description here\"></a></p>\n\n<p>The NSTableView is inside the Lineup View Controller, which has its own interface and implementation. The two Lineup View Controllers are binded to the container views within viewDidLoad of the Game Board View Controller like so (showing the code for only one of the attachments):</p>\n\n<pre><code>    homeLineupView = [self.storyboard instantiateControllerWithIdentifier:@\"Lineup View\"];\n    [self addChildViewController: homeLineupView];\n    [HomeLineupContainerView addSubview:homeLineupView.view];\n</code></pre>\n\n<p>I'm able to successfully populate the two table views using notifications to provide the data that is unique to each table. The table views are functioning independently, as expected, with no problems.</p>\n\n<p>Where I'm kind of stuck is how I now go about talking to the two table views from the view controller that manages everything else in the window (Game Board View Controller in the second figure). For example, how would I go about telling the table view inside Home Lineup Container View to select row 3? I have references to the Lineup View Controllers, but not the NSTableViews \u2014 unless there is a straightforward way to get those so I can call the methods directly. Or... do I need to set up notifications (or some other mechanism) for doing things like selecting a row, detecting a double click, etc?</p>\n\n<p>Thanks!!</p>\n\n<p><strong>Adding a little more information about where I am confused</strong></p>\n\n<p>When I step through my code in the debugger I can \"see\" the table view inside the NSViewController that references the enclosing container view (see below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/fqzng.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fqzng.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can also see my very incorrect attempt at using tableView directly to selectRowIndexes. 'visitorLineupView' is defined like so:</p>\n\n<pre><code>@interface GameBoardViewController : NSViewController &lt;NSOpenSavePanelDelegate&gt; {\n        :\n        :\n    NSViewController                *visitorLineupView;\n    NSViewController                *homeLineupView;\n        :\n        :\n}\n</code></pre>\n\n<p>And the tableview itself is defined like so:</p>\n\n<pre><code>@interface LineupViewController : NSViewController &lt;NSTableViewDataSource&gt; {\n        :\n        :\n    IBOutlet NSTableView    *tableView;\n        :\n        :\n}\n</code></pre>\n\n<p>So, the procedural C programmer in me sees all this and <em>wants</em> to grab that 'tableView' pointer and use it directly to send it 'selectRowIndexes' message. But I know that conceptual rules of MVC are throwing up roadblocks I'm having a difficult time scaling.</p>\n"}, {"tags": ["ios", "objective-c", "speech-recognition"], "answers": [{"tags": [], "owner": {"reputation": 29472, "user_id": 4253437, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bcBpJ.jpg?s=128&g=1", "display_name": "CodeBender", "link": "https://stackoverflow.com/users/4253437/codebender"}, "is_accepted": true, "score": 1, "last_activity_date": 1568068510, "last_edit_date": 1568068510, "creation_date": 1566587609, "answer_id": 57631844, "question_id": 57625782, "link": "https://stackoverflow.com/questions/57625782/when-is-the-speech-recognition-in-ios-restricted-i-e-requestauthorization-return/57631844#57631844", "title": "when is the speech recognition in iOS restricted i.e requestAuthorization returns `SFSpeechRecognizerAuthorizationStatusRestricted`", "body": "<p>Though no longer quite accurate, think of a restriction as a parental control that blocks a user from even having the option to enable a service controlled by device privacy settings.</p>\n\n<p><a href=\"https://support.apple.com/en-ca/HT201304\" rel=\"nofollow noreferrer\">https://support.apple.com/en-ca/HT201304</a></p>\n\n<p>This falls under <strong>\"Here are the things you can restrict:\"</strong></p>\n\n<blockquote>\n  <p>Speech Recognition: Prevent apps from accessing Speech Recognition or\n  Dictation</p>\n</blockquote>\n\n<p>How often will you encounter it? Who knows, but if your app targets minors, then that is likely an increased chance, but this is purely speculative. </p>\n\n<p>To answer your other question: </p>\n\n<blockquote>\n  <p>...is it due to some specific models not supporting speech\n  recognition...</p>\n</blockquote>\n\n<p>There is a different way to test for speech support on a device:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/speech/sfspeechrecognizer/1649885-isavailable\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/speech/sfspeechrecognizer/1649885-isavailable</a></p>\n\n<p>Using <code>isAvailable</code> (for Swift) or <code>available</code> (Obj-C), you can tell if the speech recognizer is available.</p>\n\n<p>Since you marked your question as Objective-C, then the following would work:</p>\n\n<pre><code>SFSpeechRecognizer *recognizer = [[SFSpeechRecognizer alloc] init];\nif (recognizer.available) {\n    // Do recognizer things\n}\n</code></pre>\n\n<p>The same in Swift:</p>\n\n<pre><code>let recognizer = SFSpeechRecognizer()\nif recognizer.isAvailable { }\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7918437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d642f8d0566921a468e0f80c535877?s=128&d=identicon&r=PG&f=1", "display_name": "lsampras", "link": "https://stackoverflow.com/users/7918437/lsampras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 57631844, "answer_count": 1, "score": 0, "last_activity_date": 1568068510, "creation_date": 1566560998, "last_edit_date": 1566576679, "question_id": 57625782, "link": "https://stackoverflow.com/questions/57625782/when-is-the-speech-recognition-in-ios-restricted-i-e-requestauthorization-return", "title": "when is the speech recognition in iOS restricted i.e requestAuthorization returns `SFSpeechRecognizerAuthorizationStatusRestricted`", "body": "<p>I'm making an app which will be using Speech Recognition and want to know how frequently or when will my app encounter this scenario</p>\n\n<p>I know that this related to device restricting Speech recognition rather than user but when exactly ??\nis it due to some specific models not supporting speech recognition or is iOS version specific\nor are there some settings that can restrict apps from using Speech recognition</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "answers": [{"tags": [], "owner": {"reputation": 2822, "user_id": 1754225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55b6e035c8585fc4e6b1ed681ee8125a?s=128&d=identicon&r=PG&f=1", "display_name": "Carl Lindberg", "link": "https://stackoverflow.com/users/1754225/carl-lindberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1566787976, "creation_date": 1566787976, "answer_id": 57651261, "question_id": 57623960, "link": "https://stackoverflow.com/questions/57623960/ios-int-names-ctl-hw-hw-physmem-the-return-hw-physmem-value-is-negative/57651261#57651261", "title": "iOS int names[] = {CTL_HW, HW_PHYSMEM} the return HW_PHYSMEM value is negative", "body": "<p>You are trying to get the memory size in a 32-bit signed integer.  If the memory is over 2 GB, you will get a negative value (and if over 4GB, it will be truncated and more-or-less random).</p>\n\n<p>Try using HW_MEMSIZE which uses a uint64_t value.</p>\n"}], "owner": {"reputation": 342, "user_id": 2809882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EUEKp.png?s=128&g=1", "display_name": "MackC", "link": "https://stackoverflow.com/users/2809882/mackc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566787976, "creation_date": 1566554493, "question_id": 57623960, "link": "https://stackoverflow.com/questions/57623960/ios-int-names-ctl-hw-hw-physmem-the-return-hw-physmem-value-is-negative", "title": "iOS int names[] = {CTL_HW, HW_PHYSMEM} the return HW_PHYSMEM value is negative", "body": "<p>My code is as follows, it's working fine on old device eg: iPhone 6, iPhone7, but it's not working on <strong>iPhone XS Max</strong>, it's return <strong>-378535936</strong> on my <strong>iPhone XS Max</strong>. Does anyone know the reason?</p>\n\n<p>any suggestion would be help, thanks.</p>\n\n<pre><code>+ (NSUInteger)getHWPHYSMEMValue {\n    size_t size = sizeof(int);\n    int results;\n    int mib[2] = {CTL_HW, HW_PHYSMEM};\n    sysctl(mib, 2, &amp;results, &amp;size, NULL, 0);\n    return (NSUInteger) results;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "avplayer", "amazon-signed-cookie"], "comments": [{"owner": {"reputation": 171, "user_id": 1446958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4c3f38ba40ddf5a8ec07a560384eee?s=128&d=identicon&r=PG", "display_name": "Nadilson Ferreira", "link": "https://stackoverflow.com/users/1446958/nadilson-ferreira"}, "edited": false, "score": 0, "creation_date": 1566519057, "post_id": 57618379, "comment_id": 101691390, "body": "Notice that the code is on objective-c by I also tried with swift, but unfortunately without success."}], "answers": [{"tags": [], "owner": {"reputation": 726, "user_id": 1419931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec2b943b3de520c35ff49d257c8e96c?s=128&d=identicon&r=PG", "display_name": "Dody Rachmat Wicaksono", "link": "https://stackoverflow.com/users/1419931/dody-rachmat-wicaksono"}, "is_accepted": false, "score": 0, "last_activity_date": 1572854528, "creation_date": 1572854528, "answer_id": 58689278, "question_id": 57618379, "link": "https://stackoverflow.com/questions/57618379/how-to-handle-cloudfront-signed-cookie-with-m3u8-files-on-ios/58689278#58689278", "title": "How to handle CloudFront Signed Cookie with .m3u8 files on iOS?", "body": "<p>You need to generate the cookies, unfortunately aws ios sdk doesn't have this function. My temporary solution for now is one the the following:</p>\n\n<p>1) Ask web server to generate the cookies (using aws php sdk). In this way you can set timeout in a few minutes or anytime you desire, so you can keep the data safe.</p>\n\n<p>2) Hardcoded the cookies inside the code. You can generate it locally using aws php sdk, and then set duration as long as possible. Maybe a year or more depend on your condition. However if someone can see it, your data will be exposed.</p>\n\n<p>3) Create our own cookies generator function in swift/obj-c. We can use aws php sdk for reference.</p>\n"}, {"tags": [], "owner": {"reputation": 1442, "user_id": 2280748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3daea5a18108c1a31caf20be03cdf5?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/2280748/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1594825428, "creation_date": 1594825428, "answer_id": 62917929, "question_id": 57618379, "link": "https://stackoverflow.com/questions/57618379/how-to-handle-cloudfront-signed-cookie-with-m3u8-files-on-ios/62917929#62917929", "title": "How to handle CloudFront Signed Cookie with .m3u8 files on iOS?", "body": "<p>It looks like would be a good way to handle it: <a href=\"https://github.com/ykying/Swift_Player_AWS_Cookie\" rel=\"nofollow noreferrer\">https://github.com/ykying/Swift_Player_AWS_Cookie</a></p>\n<p>You will likely need to generate the cookies on whatever server you have written for serving content and whenever the user opens the app or logs in, give them the cookies with a 24 hour expiration (or however long your current session TTL is).</p>\n<p>I hope this helps someone else, we're going to try this out in our app as well.</p>\n"}], "owner": {"reputation": 171, "user_id": 1446958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4c3f38ba40ddf5a8ec07a560384eee?s=128&d=identicon&r=PG", "display_name": "Nadilson Ferreira", "link": "https://stackoverflow.com/users/1446958/nadilson-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 834, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1594825428, "creation_date": 1566519007, "question_id": 57618379, "link": "https://stackoverflow.com/questions/57618379/how-to-handle-cloudfront-signed-cookie-with-m3u8-files-on-ios", "title": "How to handle CloudFront Signed Cookie with .m3u8 files on iOS?", "body": "<p>I have an App which is playing audio files stored on AWS.\nThe audio content is secured by AWS CloudFront signed cookies functionality. I had no problem in creating the signed cookies and set them in the original HTTP request using <code>AVURLAsset</code>, and everything works just fine for .mp3 content. Nevertheless, when accessing .m3u8 files, I get a 403 HTTP error. I noticed that the initial request is ok and the .m3u8 file is downloaded correctly, but the subsequent requests (for the audio fragments) do not work and receive a 403 as the cookie is not sent.</p>\n\n<p>I already tried using the <code>NSHTTPCookieStorage</code>, but it did not work ;-(</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString: @\"http://..../stream.m3u8\"]\n\n// Get the Cookie Storage\nNSHTTPCookieStorage *cookiesStorage = [NSHTTPCookieStorage sharedHTTPCookieStorage];\n\n// Create the array to store the cookies\nNSMutableArray *cookies = [NSMutableArray array];\n\n// Create the Cloud-Front-Policy Cookie\nNSHTTPCookie *cloudFrontPolicyCookie = ... \n[cookies addObject:cloudFrontPolicyCookie];\n\n// Create the Cloud-Front-Signature Cookie\nNSHTTPCookie *cloudFrontSignatureCookie = ... \n[cookies addObject:cloudFrontSignatureCookie];\n\n// Create the Cloud-Front-Key-Paid-Id Cookie\nNSHTTPCookie *cloudFrontKeyPairIdCookie = ... \n[cookies addObject:cloudFrontKeyPairIdCookie];\n\n// Create the HTTP Header Dictionary\nNSMutableDictionary * headers = [NSMutableDictionary dictionary];\n\n// I omitted the cookie creation, but it is ok! I tested using curl on the command line \nNSString *cookieAsHeader = ... \n\n// Set the header\n[headers setObject:cookieAsHeader forKey:@\"Cookie\"];\n\n// Create the AVURLAsset so that I can use the headers and the cookies\n// Notice that I tried using only the headers (which works)!\nAVURLAsset * asset = [AVURLAsset URLAssetWithURL:url options:@{@\"AVURLAssetHTTPHeaderFieldsKey\": headers, AVURLAssetHTTPCookiesKey : [cookiesStorage cookies] }];\n\n// For secured .mp3 files, it works just fine\n// but for .m3u8, the content does not play as the first file part receives 403. Notice that the first request (for the .m3u8) works just fine. \nAVPlayerItem *playerItem = [AVPlayerItem playerItemWithAsset:asset];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "keychain", "security-framework"], "answers": [{"tags": [], "owner": {"reputation": 6020, "user_id": 1965189, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kQn7F.jpg?s=128&g=1", "display_name": "Victor Laerte", "link": "https://stackoverflow.com/users/1965189/victor-laerte"}, "is_accepted": true, "score": 0, "last_activity_date": 1568126602, "creation_date": 1568126602, "answer_id": 57873238, "question_id": 57617499, "link": "https://stackoverflow.com/questions/57617499/update-keychain-ksecattraccessible-with-secitemupdate-returns-50/57873238#57873238", "title": "Update Keychain kSecAttrAccessible with SecItemUpdate returns -50", "body": "<p>The problem was because <code>dataTypeRef</code> is not the <code>NSData</code> it self, it is a <code>Dictionary</code> which contains the data.</p>\n\n<p>The complete code:</p>\n\n<pre><code>NSString *keyTag = @\"mykeytag\";\n\nNSDictionary *getQuery = @{\n                        (NSString *)kSecClass:              (NSString *)kSecClassKey,\n                        (NSString *)kSecAttrApplicationTag: keyTag,\n                        (NSString *)kSecAttrKeyType:        (NSString *)kSecAttrKeyTypeRSA,\n                        (NSString *)kSecReturnRef:          @YES,\n                        (NSString *)kSecAttrAccessible:     (NSString *)kSecAttrAccessibleWhenUnlocked,\n                        (NSString *)kSecReturnData:         @YES\n                        };\n\nCFDictionaryRef item = NULL;\nOSStatus status = SecItemCopyMatching((__bridge CFDictionaryRef)getQuery, (CFTypeRef *)&amp;item);\n\nif (status == errSecSuccess &amp;&amp; item != NULL) {\n    NSDictionary *itemDictionary = (__bridge_transfer NSDictionary *)item;\n\n    NSMutableDictionary *updateItem = [NSMutableDictionary dictionaryWithDictionary:itemDictionary];\n    [updateItem setObject:[getQuery objectForKey:(id)kSecClass] forKey:(id)kSecClass];\n\n    NSData *data = itemDictionary[(id)kSecValueData];\n\n    NSDictionary *attributesToUpdate = [NSDictionary dictionaryWithObjectsAndKeys:\n                                    (NSString *)kSecAttrAccessibleAfterFirstUnlock,\n                                    kSecAttrAccessible,\n                                    (CFDataRef)data,\n                                    kSecValueData,\n                                    nil];\n\n    OSStatus updateItemStatus = SecItemUpdate((__bridge CFDictionaryRef)updateItem,\n                                            (__bridge CFDictionaryRef)attributesToUpdate);\n}\n</code></pre>\n"}], "owner": {"reputation": 6020, "user_id": 1965189, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kQn7F.jpg?s=128&g=1", "display_name": "Victor Laerte", "link": "https://stackoverflow.com/users/1965189/victor-laerte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 57873238, "answer_count": 1, "score": 1, "last_activity_date": 1568126602, "creation_date": 1566511036, "last_edit_date": 1566569900, "question_id": 57617499, "link": "https://stackoverflow.com/questions/57617499/update-keychain-ksecattraccessible-with-secitemupdate-returns-50", "title": "Update Keychain kSecAttrAccessible with SecItemUpdate returns -50", "body": "<p>I'm trying to update the kSecAttrAccessible of my Keychain item based on <a href=\"https://stackoverflow.com/questions/5369238/is-it-possible-to-update-a-keychain-items-ksecattraccessible-value\">mbinna</a> question's.</p>\n\n<p>The problem is that the following code returns -50 for the <code>updateItemStatus</code> variable. I took I look in a <a href=\"https://stackoverflow.com/questions/30337083/ios-keychain-secitemupdate-returns-50-paramerr-when-updating-ksecattraccessi\">similar question about it</a> then removed the <code>kSecReturnRef</code> attribute from my query (<code>newQuery</code>), but its still not working and returning -50, which means \"One or more parameters passed to a function were not valid.\"</p>\n\n<p>What am I doing wrong?</p>\n\n<pre><code>NSString *privateKeyAttrTag = @\"mykeytag\";\n\nNSDictionary *getQuery = [NSDictionary dictionaryWithObjectsAndKeys:\n        kSecClassKey, kSecClass, \n        privateKeyAttrTag, kSecAttrApplicationTag, \n        kSecAttrKeyTypeRSA, kSecAttrKeyType, \n        @YES, kSecReturnRef, \n        kSecAttrAccessibleWhenUnlocked, kSecAttrAccessible, nil];\n\nCFTypeRef dataTypeRef = NULL;\nOSStatus status = SecItemCopyMatching(\n    (__bridge CFDictionaryRef)getQuery, &amp;dataTypeRef);\n\nif (status==errSecSuccess &amp;&amp; dataTypeRef != NULL) {\n    NSData *data = (__bridge NSData *)dataTypeRef;\n\n    NSDictionary *newQuery = [NSDictionary dictionaryWithObjectsAndKeys:\n        kSecClassKey, kSecClass,\n        privateKeyAttrTag, kSecAttrApplicationTag,\n        kSecAttrKeyTypeRSA, kSecAttrKeyType,\n        kSecAttrAccessibleWhenUnlocked, kSecAttrAccessible, nil];\n\n    NSDictionary *updateAttrs = [NSDictionary dictionaryWithObjectsAndKeys: \n        kSecAttrAccessibleAfterFirstUnlock, kSecAttrAccessible,\n        (CFDataRef)data, kSecValueData, nil];\n\n    OSStatus updateItemStatus = SecItemUpdate(\n            (__bridge CFDictionaryRef)newQuery, (__bridge CFDictionaryRef)updateAttrs);\n\n    // updateItemStatus == -50, which means \"One or more parameters passed to a function were not valid.\"\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "struct", "type-conversion"], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566828202, "post_id": 57615003, "comment_id": 101768314, "body": "Thanks for the answer.How could I assign value to struct member <code>c</code>?  When I try  <code>myStruct.c = value;</code> I get the following error <code>Array type &#39;UInt8 [15]&#39; is not assignable</code>. But I cn assign values to single <code>UInt8</code>&#39;s."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566830068, "post_id": 57615003, "comment_id": 101769260, "body": "Please look at here <a href=\"https://stackoverflow.com/questions/57659851/how-to-pack-struct-with-a-byte-array\" title=\"how to pack struct with a byte array\">stackoverflow.com/questions/57659851/&hellip;</a>"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566993805, "post_id": 57615003, "comment_id": 101828172, "body": "@AnonProgrammer Left a comment for you in this post."}], "tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": true, "score": 1, "last_activity_date": 1566553472, "last_edit_date": 1566553472, "creation_date": 1566497652, "answer_id": 57615003, "question_id": 57614983, "link": "https://stackoverflow.com/questions/57614983/type-conversion-to-uint8-from-uint8-gives-an-error/57615003#57615003", "title": "Type conversion to UInt8 [] from UInt8 gives an error", "body": "<p>I guess <code>packet</code> is declared as <code>myStruct packet;</code>. If so, <code>packet-&gt;c</code> is an array of <code>UInt8</code>, you can store up to 15 items in this member. That's why you cannot assign it's value to a single <code>UInt8</code>. Replace <code>UInt8 c = packet-&gt;c;</code> with <code>UInt8* c = packet-&gt;c;</code>. To get the first <code>c</code>'s item use the following code: <code>UInt8 firstC = c[0];</code>.</p>\n"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 57615003, "answer_count": 1, "score": 0, "last_activity_date": 1566553472, "creation_date": 1566497518, "last_edit_date": 1566542073, "question_id": 57614983, "link": "https://stackoverflow.com/questions/57614983/type-conversion-to-uint8-from-uint8-gives-an-error", "title": "Type conversion to UInt8 [] from UInt8 gives an error", "body": "<p>I've defined a struct like so:</p>\n\n<pre><code>typedef struct __attribute__((packed)) {\n    UInt8  a;\n    UInt16 b;\n    UInt8  c[15];\n} myStruct;\n</code></pre>\n\n<p>When I try to get value</p>\n\n<pre><code>UInt8  c = packet-&gt;c;\n</code></pre>\n\n<p>I receive the following error </p>\n\n<blockquote>\n  <p>Incompatible pointer to integer conversion initializing 'UInt8' (aka 'unsigned char') with an expression of type 'UInt8 [15]</p>\n</blockquote>\n\n<p>What type do I need to cast to in order to compile? I have tried adding [15] subscript in different places and could not solve it. Also an explanation of what <code>[15]</code> means in <code>UInt8  c[15];</code></p>\n\n<p>Thanks </p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1566490794, "post_id": 57613408, "comment_id": 101682075, "body": "Why not just use a Grouped table?"}, {"owner": {"reputation": 43, "user_id": 4173782, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ff47d0b9d06a1d7736469af5dc93745?s=128&d=identicon&r=PG&f=1", "display_name": "Jared P&#233;rez", "link": "https://stackoverflow.com/users/4173782/jared-p%c3%a9rez"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1566555541, "post_id": 57613408, "comment_id": 101702196, "body": "What do you mean @matt ?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1566596202, "post_id": 57613408, "comment_id": 101719773, "body": "You can use an existing solution like <a href=\"https://github.com/TimOliver/TORoundedTableView\" rel=\"nofollow noreferrer\">github.com/TimOliver/TORoundedTableView</a> but new in iOS 13 the <code>insetGrouped</code> table view just takes care of this for you."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4173782, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ff47d0b9d06a1d7736469af5dc93745?s=128&d=identicon&r=PG&f=1", "display_name": "Jared P&#233;rez", "link": "https://stackoverflow.com/users/4173782/jared-p%c3%a9rez"}, "edited": false, "score": 0, "creation_date": 1566555486, "post_id": 57617830, "comment_id": 101702178, "body": "Yes it works, but Im having the <b>same problem</b>. I mean, when I use your code it generate lines because it draws a rectangle of the cell. I just need to delimit this area without the lines of the rectangle. How can I make this? Thank you @R4N !"}, {"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "reply_to_user": {"reputation": 43, "user_id": 4173782, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ff47d0b9d06a1d7736469af5dc93745?s=128&d=identicon&r=PG&f=1", "display_name": "Jared P&#233;rez", "link": "https://stackoverflow.com/users/4173782/jared-p%c3%a9rez"}, "edited": false, "score": 0, "creation_date": 1566584137, "post_id": 57617830, "comment_id": 101716136, "body": "@JaredP&#233;rez I&#39;ve edited my response above to show modified code to draw two separate paths -- one for the white fillColor (closed path) and one of the tableview left and right borders"}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 2, "last_activity_date": 1566584073, "last_edit_date": 1566584073, "creation_date": 1566513696, "answer_id": 57617830, "question_id": 57613408, "link": "https://stackoverflow.com/questions/57613408/how-to-make-a-subpath-with-no-lines/57617830#57617830", "title": "How to make a subpath with no lines?", "body": "<p>The fill color for the layer won't work if you don't close the path (i.e. you need a closed path area to fill in).  It appears you're using <code>CGPathMoveToPoint</code> in certain spots where you really intending to be using <code>CGPathAddLineToPoint</code></p>\n\n<p>Here's what I believe you mean to do (which would close the path and allow the layer to fill it ):</p>\n\n<pre><code>            CGPoint topLeft = CGPointMake(CGRectGetMinX(bounds), CGRectGetMinY(bounds));\n            // start at top left\n            CGPathMoveToPoint(pathRef, nil, topLeft.x, topLeft.y);\n            CGPoint topRight = CGPointMake(CGRectGetMaxX(bounds), CGRectGetMinY(bounds));\n            // line to top right\n            CGPathAddLineToPoint(pathRef, nil, topRight.x, topRight.y);\n            CGPoint botRight = CGPointMake(CGRectGetMaxX(bounds), CGRectGetMaxY(bounds));\n            // line to bottom right\n            CGPathAddLineToPoint(pathRef, nil, botRight.x, botRight.y);\n            CGPoint botLeft = CGPointMake(CGRectGetMinX(bounds), CGRectGetMaxY(bounds));\n            // line to bottom left\n            CGPathAddLineToPoint(pathRef, nil, botLeft.x, botLeft.y);\n            // line back to top left now the path will be closed\n            CGPathAddLineToPoint(pathRef, nil, topLeft.x, topLeft.y);\n</code></pre>\n\n<p>Really, I feel like you may be doing a lot of extra unnecessary work though.  If you're targeting iOS 11+, you should be able to use the <code>cell.layer.maskedCorners</code> <a href=\"https://developer.apple.com/documentation/quartzcore/calayer/2877488-maskedcorners?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/quartzcore/calayer/2877488-maskedcorners?language=objc</a> property to mask the proper corners based on which cell number in the section it is:</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {\n    cell.clipsToBounds = YES;\n    cell.layer.cornerRadius = 25.0f;\n    // only one row in section\n    CACornerMask topCornerMask = kCALayerMinXMinYCorner | kCALayerMaxXMinYCorner;\n    CACornerMask bottomCornerMask = kCALayerMinXMaxYCorner | kCALayerMaxXMaxYCorner;\n    if (indexPath.row == 0 &amp;&amp; indexPath.row == [tableView numberOfRowsInSection:indexPath.section] - 1) {\n        // only one cell in section\n        cell.layer.maskedCorners = topCornerMask | bottomCornerMask;\n    } else if (indexPath.row == 0) {\n        // first cell in section\n        cell.layer.maskedCorners = topCornerMask;\n    } else if (indexPath.row == [tableView numberOfRowsInSection:indexPath.section] - 1) {\n        // last cell in section\n        cell.layer.maskedCorners = bottomCornerMask;\n    } else {\n        // middle cell, don't mask any corners\n        cell.layer.maskedCorners = 0;\n    }\n}\n</code></pre>\n\n<p>Then you can just inset your whole tableview by leading 10 and trailing 10 and set your view background to the same color as your tableview (instead of insetting the path layer you were drawing)</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>For the center cells, if you'd like to have one path/layer fill with white (with no lines and closed path) and one path/layer to draw the outside lines (left and right borders of the tableview) you're going to need to use two separate path/layers.  Here's a complete example of your willDisplayCell method creating two separate paths/layers:</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    if ([cell respondsToSelector:@selector(tintColor)]) {\n        CGColorRef strokeColor = [UIColor lightGrayColor].CGColor;\n        CGFloat cornerRadius = 25.f;\n        cell.backgroundColor = UIColor.clearColor;\n        CAShapeLayer *layer = [[CAShapeLayer alloc] init];\n        CGMutablePathRef pathRef = CGPathCreateMutable();\n        CGRect bounds = CGRectInset(cell.bounds, 10, 0);\n        if (indexPath.row == 0 &amp;&amp; indexPath.row == [tableView numberOfRowsInSection:indexPath.section]-1) {\n            CGPathAddRoundedRect(pathRef, nil, bounds, cornerRadius, cornerRadius);\n        } else if (indexPath.row == 0) {\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMaxY(bounds));\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMinY(bounds), CGRectGetMidX(bounds), CGRectGetMinY(bounds), cornerRadius);\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMinY(bounds), CGRectGetMaxX(bounds), CGRectGetMidY(bounds), cornerRadius);\n            CGPathAddLineToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMaxY(bounds));\n        } else if (indexPath.row == [tableView numberOfRowsInSection:indexPath.section]-1) {\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMinY(bounds));\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMaxY(bounds), CGRectGetMidX(bounds), CGRectGetMaxY(bounds), cornerRadius);\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMaxY(bounds), CGRectGetMaxX(bounds), CGRectGetMidY(bounds), cornerRadius);\n            CGPathAddLineToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMinY(bounds));\n        } else {\n            CGPoint topLeft = CGPointMake(CGRectGetMinX(bounds), CGRectGetMinY(bounds));\n            // start at top left\n            CGPathMoveToPoint(pathRef, nil, topLeft.x, topLeft.y);\n            CGPoint topRight = CGPointMake(CGRectGetMaxX(bounds), CGRectGetMinY(bounds));\n            // line to top right\n            CGPathAddLineToPoint(pathRef, nil, topRight.x, topRight.y);\n            CGPoint botRight = CGPointMake(CGRectGetMaxX(bounds), CGRectGetMaxY(bounds));\n            // line to bottom right\n            CGPathAddLineToPoint(pathRef, nil, botRight.x, botRight.y);\n            CGPoint botLeft = CGPointMake(CGRectGetMinX(bounds), CGRectGetMaxY(bounds));\n            // line to bottom left\n            CGPathAddLineToPoint(pathRef, nil, botLeft.x, botLeft.y);\n            // line back to top left now the path will be closed\n            CGPathAddLineToPoint(pathRef, nil, topLeft.x, topLeft.y);\n            // set the stroke path of our entire box to be clear (so it doesn't show lines)\n            strokeColor = [UIColor clearColor].CGColor;\n\n            // now setup a path for the left and right border of the tableview (this is a center cell)\n            CGMutablePathRef tableViewBorderPathRef = CGPathCreateMutable();\n            CAShapeLayer *tableViewBorderLayer = [[CAShapeLayer alloc] init];\n            CGPathMoveToPoint(tableViewBorderPathRef, nil, topLeft.x, topLeft.y);\n            CGPathAddLineToPoint(tableViewBorderPathRef, nil, botLeft.x, botLeft.y);\n            CGPathMoveToPoint(tableViewBorderPathRef, nil, topRight.x, topRight.y);\n            CGPathAddLineToPoint(tableViewBorderPathRef, nil, botRight.x, botRight.y);\n            tableViewBorderLayer.path = tableViewBorderPathRef;\n            tableViewBorderLayer.strokeColor = [UIColor lightGrayColor].CGColor;\n            tableViewBorderLayer.lineWidth = 1.0f;\n            [layer addSublayer:tableViewBorderLayer];\n        }\n        layer.path = pathRef;\n        CFRelease(pathRef);\n        //set the border color\n        layer.strokeColor = strokeColor;\n        //set the border width\n        layer.lineWidth = 1.0f;\n        layer.fillColor = [UIColor colorWithWhite:1.f alpha:1.0f].CGColor;\n\n        UIView *testView = [[UIView alloc] initWithFrame:bounds];\n        [testView.layer insertSublayer:layer atIndex:0];\n        testView.backgroundColor = UIColor.clearColor;\n        cell.backgroundView = testView;\n    }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4173782, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3ff47d0b9d06a1d7736469af5dc93745?s=128&d=identicon&r=PG&f=1", "display_name": "Jared P&#233;rez", "link": "https://stackoverflow.com/users/4173782/jared-p%c3%a9rez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57617830, "answer_count": 1, "score": 1, "last_activity_date": 1566584073, "creation_date": 1566490466, "last_edit_date": 1566494190, "question_id": 57613408, "link": "https://stackoverflow.com/questions/57613408/how-to-make-a-subpath-with-no-lines", "title": "How to make a subpath with no lines?", "body": "<p>I have this code to round sections in tableView:</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    if ([cell respondsToSelector:@selector(tintColor)]) {\n        CGFloat cornerRadius = 25.f;\n        cell.backgroundColor = UIColor.clearColor;\n        CAShapeLayer *layer = [[CAShapeLayer alloc] init];\n        CGMutablePathRef pathRef = CGPathCreateMutable();\n        CGRect bounds = CGRectInset(cell.bounds, 10, 0);\n        if (indexPath.row == 0 &amp;&amp; indexPath.row == [tableView numberOfRowsInSection:indexPath.section]-1) {\n            CGPathAddRoundedRect(pathRef, nil, bounds, cornerRadius, cornerRadius);\n        } else if (indexPath.row == 0) {\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMaxY(bounds));\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMinY(bounds), CGRectGetMidX(bounds), CGRectGetMinY(bounds), cornerRadius);\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMinY(bounds), CGRectGetMaxX(bounds), CGRectGetMidY(bounds), cornerRadius);\n            CGPathAddLineToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMaxY(bounds));\n        } else if (indexPath.row == [tableView numberOfRowsInSection:indexPath.section]-1) {\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMinY(bounds));\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMaxY(bounds), CGRectGetMidX(bounds), CGRectGetMaxY(bounds), cornerRadius);\n            CGPathAddArcToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMaxY(bounds), CGRectGetMaxX(bounds), CGRectGetMidY(bounds), cornerRadius);\n            CGPathAddLineToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMinY(bounds));\n        } else {\n            // \n            // HERE IS THE PROBLEM:\n            //\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMinY(bounds));\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMinY(bounds));\n            CGPathAddLineToPoint(pathRef, nil, CGRectGetMaxX(bounds), CGRectGetMaxY(bounds));\n            CGPathMoveToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMaxY(bounds));\n            CGPathAddLineToPoint(pathRef, nil, CGRectGetMinX(bounds), CGRectGetMinY(bounds));\n        }\n        layer.path = pathRef;\n        CFRelease(pathRef);\n        //set the border color\n        layer.strokeColor = [UIColor lightGrayColor].CGColor;\n        //set the border width\n        layer.lineWidth = 1;\n        layer.fillColor = [UIColor colorWithWhite:1.f alpha:1.0f].CGColor;\n\n        UIView *testView = [[UIView alloc] initWithFrame:bounds];\n        [testView.layer insertSublayer:layer atIndex:0];\n        testView.backgroundColor = UIColor.clearColor;\n        cell.backgroundView = testView;\n    }\n}\n</code></pre>\n\n<p>And this is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kBTTQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBTTQ.png\" alt=\"Search Cell is the problem\"></a></p>\n\n<p>In <strong>viewDidLoad</strong> I used:</p>\n\n<pre><code>self.tableView.backgroundColor = UIColor.redColor;\n</code></pre>\n\n<p>The problem is the red cell \"<strong>Search</strong>\" getting red color. It seems that when I create each borderLine in <strong>willDisplayCell</strong> that cell in the middle I just draw left and right lines using moving pointer. If I draw a rectangle it works, but I don't want a rectangle.. </p>\n\n<p>How can I draw all the cell path without draw extra lines?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["ios", "objective-c", "ios13", "xcode11"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1566472260, "post_id": 57607894, "comment_id": 101671446, "body": "actually <code>statusBarOrientation</code> is deprecated in iOS 13. so check and update your code. show your tried code"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1566472993, "post_id": 57607894, "comment_id": 101671849, "body": "how do we know which one you tried"}], "answers": [{"comments": [{"owner": {"reputation": 25252, "user_id": 940096, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/n4Vak.jpg?s=128&g=1", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/940096/praveenkumar"}, "edited": false, "score": 0, "creation_date": 1566896768, "post_id": 57608166, "comment_id": 101789773, "body": "Calling <code>[super viewDidLayoutSubViews];</code> after changing the frame is not good i feel."}], "tags": [], "owner": {"reputation": 1478, "user_id": 5264045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4GC9U.png?s=128&g=1", "display_name": "Thanh Vu", "link": "https://stackoverflow.com/users/5264045/thanh-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1573527788, "last_edit_date": 1573527788, "creation_date": 1566472668, "answer_id": 57608166, "question_id": 57607894, "link": "https://stackoverflow.com/questions/57607894/ios-13-uitabbar-reposition-to-top/57608166#57608166", "title": "iOS 13 UITabBar RePosition to Top", "body": "<p>I just test bellow code on iOS 13. It still work.</p>\n\n<pre><code>- (void)viewDidLayoutSubviews {\n  [super viewDidLayoutSubviews];\n  self.tabBarController.tabBar.frame = CGRectMake(0, 0, self.view.frame.size.width, self.tabBarController.tabBar.frame.size.height);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25252, "user_id": 940096, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/n4Vak.jpg?s=128&g=1", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/940096/praveenkumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1566896731, "creation_date": 1566896731, "answer_id": 57671201, "question_id": 57607894, "link": "https://stackoverflow.com/questions/57607894/ios-13-uitabbar-reposition-to-top/57671201#57671201", "title": "iOS 13 UITabBar RePosition to Top", "body": "<p>I found the solution with the help of @Thanh Vu mentioned in his/her answer. Below piece of code fixed my issue.</p>\n\n<pre><code>- (void) viewDidLayoutSubviews {\n    [super viewDidLayoutSubviews];\n\n    [self.tabBar invalidateIntrinsicContentSize];\n\n    CGRect tabFrame = self.tabBar.frame;\n    tabFrame.size.height = 44.0;\n    tabFrame.origin.y = 0;\n    self.tabBar.frame = tabFrame;\n\n    // Set the translucent property to NO then back to YES to\n    // force the UITabBar to reblur, otherwise part of the\n    // new frame will be completely transparent if we rotate\n    // from a landscape orientation to a portrait orientation.\n    self.tabBar.translucent = NO;\n    self.tabBar.translucent = YES;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4197213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8089ba028da3d422cb6f03ed73906405?s=128&d=identicon&r=PG&f=1", "display_name": "easy good bye", "link": "https://stackoverflow.com/users/4197213/easy-good-bye"}, "is_accepted": false, "score": 0, "last_activity_date": 1577968620, "creation_date": 1577968620, "answer_id": 59563466, "question_id": 57607894, "link": "https://stackoverflow.com/questions/57607894/ios-13-uitabbar-reposition-to-top/59563466#59563466", "title": "iOS 13 UITabBar RePosition to Top", "body": "<p>I get this solution after a lot struggle too, with Swift5 + IOS13.2Sdk. <a href=\"https://stackoverflow.com/questions/47328281/swift-placing-tabbar-on-top-of-the-screen-not-working-in-ios-11?rq=1\">Follow this answer</a>.</p>\n\n<pre><code>class MyUITabBarController:UITabBarController{\n    override func viewDidLayoutSubviews(){\n        super.viewDidLayoutSubviews()\n        var frame = self.tabBar.frame\n        frame.origin.y = 0\n        self.tabBar.frame = frame\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25252, "user_id": 940096, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/n4Vak.jpg?s=128&g=1", "display_name": "Praveenkumar", "link": "https://stackoverflow.com/users/940096/praveenkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 57671201, "answer_count": 3, "score": 0, "last_activity_date": 1577968620, "creation_date": 1566471761, "last_edit_date": 1566479902, "question_id": 57607894, "link": "https://stackoverflow.com/questions/57607894/ios-13-uitabbar-reposition-to-top", "title": "iOS 13 UITabBar RePosition to Top", "body": "<p>I have followed <a href=\"https://stackoverflow.com/a/29580094/940096\">this answer</a> to reposition my tabbar to top of the page. It was working perfect until iOS 13 release. In iOS 13 the tabbar is visible on bottom of the screen. Any other workaround should i have to use?</p>\n\n<p>Does anyone faced the same problem?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Below piece of code i have used in my app:</p>\n\n<pre><code>- (void) viewWillLayoutSubviews {\n    [super viewWillLayoutSubviews];\n    [self.tabBar invalidateIntrinsicContentSize];\n\n    // Just a quick fix for making this to happen for iOS versions between 11.0 to 11.1\n    // Updating the frame in Main queue.\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [self changeTabBarPosition];\n    });\n\n    // Set the translucent property to NO then back to YES to\n    // force the UITabBar to reblur, otherwise part of the\n    // new frame will be completely transparent if we rotate\n    // from a landscape orientation to a portrait orientation.\n\n    self.tabBar.translucent = NO;\n    self.tabBar.translucent = YES;\n}\n\n- (void)changeTabBarPosition {\n    CGFloat tabSize = 44.0;\n    UIInterfaceOrientation orientation = [UIApplication sharedApplication].statusBarOrientation;\n    if (UIInterfaceOrientationIsLandscape(orientation)) {\n        tabSize = 32.0;\n    }\n    CGRect tabFrame = self.tabBar.frame;\n    tabFrame.size.height = tabSize;\n    tabFrame.origin.y = [UIApplication sharedApplication].statusBarFrame.size.height;\n    self.tabBar.frame = tabFrame;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsundomanager"], "owner": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566475551, "creation_date": 1566470386, "last_edit_date": 1566475551, "question_id": 57607494, "link": "https://stackoverflow.com/questions/57607494/getting-problem-with-nsundomanager-undo-and-redo-actions", "title": "Getting problem with NSUndoManager undo and redo actions", "body": "<p>I am using <code>NSUndoManager</code> for undo and redo options. I drag a view from one place to another. Dragging done multiple times. Now if do undo its working fine. It moves to the first place. But if I do redo the last action is missing. I used a pan gesture for dragging. At starting of dragging I saved the previous location in undo manager. <strong>The problem is the last action is not saved in undo manager.</strong> If I do redo the first action is the current action of view. So the view is not moving, because the first action is already saved undo manager. How to handle these kinds of scenarios.</p>\n\n<p>This code is a call to do an undo manager.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>-(void)handlePan:(UIPanGestureRecognizer *)recognizer {\n     CGPoint translation = [recognizer translationInView:self.view];\n\n     if ([recognizer state] == UIGestureRecognizerStateBegan){\n        [self subviewMoved:recognizer.view center:recognizer.view.center];\n     }\n\n    UIView *subView = recognizer.view;\n    subView.center = CGPointMake(subView.center.x + translation.x, \n    subView.center.y + translation.y);\n    [recognizer setTranslation:CGPointZero inView:self.view];\n\n}\n</code></pre>\n\n<p>This is undo Method.</p>\n\n<pre><code>-(void)subviewMoved:(UIView*)view center:(CGPoint)origin{\n      view.center = origin;\n      [[undoManager prepareWithInvocationTarget:self]subviewMoved:view center:origin];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa", "nswindow", "objective-c++", "retain-cycle"], "comments": [{"owner": {"reputation": 22113, "user_id": 944634, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Pg6Fd.jpg?s=128&g=1", "display_name": "Parag Bafna", "link": "https://stackoverflow.com/users/944634/parag-bafna"}, "edited": false, "score": 2, "creation_date": 1566468082, "post_id": 57606034, "comment_id": 101669103, "body": "I am running your code via xcode and its showing [MyWindow dealloc] in log. Xcode 10, macOS 10.14.6"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1566490610, "post_id": 57606034, "comment_id": 101681976, "body": "Same here. I have Xcode 10.3 (10G8) and macOS 10.14.6 and it shows <code>[MyWindow dealloc]</code> just before <code>exit process</code>. I even used your compilation command in the shell. Is your system configuration different? What does <code>clang --version</code> say?"}, {"owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "edited": false, "score": 0, "creation_date": 1566496308, "post_id": 57606034, "comment_id": 101684388, "body": "Thanks for trying it--that&#39;s really odd. I&#39;m on macOS 10.14.15, Apple LLVM version 10.0.1 (clang-1001.0.46.4). This is gonna sound weird but--do you either of you have a Touch Bar? It&#39;s hard to tell because there&#39;s so much activity, but in Instruments it looks like something the system is doing automatically w/ the Touch Bar might be retaining and not subsequently releasing the window, but I&#39;m not 100% certain."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1566503351, "post_id": 57606034, "comment_id": 101687306, "body": "No <code>[MyWindow dealloc]</code> with the Xcode touchbar on macOS 10.13. Does it matter if the app quits?"}, {"owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "edited": false, "score": 0, "creation_date": 1566509291, "post_id": 57606034, "comment_id": 101689387, "body": "Interesting, so it&#39;s not just my machine. It should print <code>exit process</code> and then subsequently quit--is that what&#39;s happening for you?"}, {"owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "reply_to_user": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1566531253, "post_id": 57606034, "comment_id": 101693445, "body": "@Michael @Parag I went ahead and updated to macOS 10.14.6 and <code>Apple LLVM version 10.0.1 (clang-1001.0.46.4)</code> and I still experience the problem, so the only lead I have left atm would be if you both have macs that don&#39;t have a Touch Bar."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1566555137, "post_id": 57606034, "comment_id": 101702022, "body": "@Mason: I have no touch bar. Your theory seems still plausible."}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1566578433, "post_id": 57606034, "comment_id": 101713925, "body": "The way to answer this question is to set a breakpoint after you think the window should have been destroyed then use Xcode&#39;s memory graph tool or the allocation instrument to find out who still retains the window."}, {"owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "reply_to_user": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1566590060, "post_id": 57606034, "comment_id": 101718005, "body": "@James thanks for the tip, I didn&#39;t know about this tool! I went ahead and generated the graph, unfortunately none of the things retaining the window seem to originate from my code. <a href=\"https://gist.github.com/MasonRemaley/4d9983c6a51efe9dd8cfc436db6619de\" rel=\"nofollow noreferrer\">Here&#39;s an annotated text version of the graph</a> for anyone who wants to take a look."}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1566595218, "post_id": 57606034, "comment_id": 101719520, "body": "Ah, I just spotted this in your code: <code>window.releasedWhenClosed = NO;</code> Think about that a second ;) This property defaults to <code>YES</code>, and probably explains what you&#39;re seeing."}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 1, "creation_date": 1566598124, "post_id": 57606034, "comment_id": 101720221, "body": "It is difficult to tell from this graph what the source of the retains are. I&#39;ll often switch to using the allocation instrument, that way you can review every retain to your window and the stack trace it came from. I suspect it&#39;s something that has retained/autoreleased your window and it will/would get resolved on the next event loop."}, {"owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "reply_to_user": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1566953097, "post_id": 57606034, "comment_id": 101813534, "body": "@James Unfortunately that&#39;s intentional, <code>releasedWhenClosed</code> isn&#39;t compatible w/ using ARC + programmatically created windows, enabling it actually results in over-releasing the window. It doesn&#39;t appear to be the event queue either--at the bottom of my question I have a snippet I tried using to flush the event queue, assuming I&#39;m using that API correctly flushing it doesn&#39;t make a difference. I&#39;ll check out the allocation instrument again, but I think at this point sadly I&#39;m operating under the assumption that this is a macOS bug that I&#39;m probably not going to be able to solve. :\\"}, {"owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "edited": false, "score": 0, "creation_date": 1566953521, "post_id": 57606034, "comment_id": 101813598, "body": "When I find the time to switch back over to the macOS platform layer for this project I&#39;ll also go ahead and and make a variant of this example that /doesn&#39;t/ exit the process (or the event loop) after the window is closed, to rule out the possibility that the Window eventually gets freed after some time has passed. Who knows maybe that&#39;ll resolve it."}], "owner": {"reputation": 33, "user_id": 1539268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/629af9b9de088e158054d9dac1984720?s=128&d=identicon&r=PG", "display_name": "Mason", "link": "https://stackoverflow.com/users/1539268/mason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1566590258, "creation_date": 1566465765, "last_edit_date": 1566590258, "question_id": 57606034, "link": "https://stackoverflow.com/questions/57606034/nswindow-leak-in-minimal-example-arc-turned-on", "title": "NSWindow Leak in Minimal Example (ARC turned on)", "body": "<p>I'm trying to figure out why an <code>NSWindow</code> instance is never getting freed in a project I'm working on. </p>\n\n<p>I've managed to get the minimal repro case down to the following single file project that you can execute from the command line. As far as I can tell I'm not doing anything wrong here, but I'd love to be proven wrong!</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ clang main.m -fobjc-arc -xobjective-c++ -framework Cocoa &amp;&amp; ./a.out\n</code></pre>\n\n<pre class=\"lang-c prettyprint-override\"><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface Delegate: NSObject&lt;NSWindowDelegate&gt;\n@end\n\n@interface MyWindow: NSWindow\n@end\n\nint main() {\n    @autoreleasepool {\n        // Initialize the shared application\n        NSApplication* app = NSApplication.sharedApplication;\n\n        // Allow UI\n        app.activationPolicy = NSApplicationActivationPolicyRegular;\n\n        // Create the window and delegate\n        NSWindow *window = [[MyWindow alloc] init];\n        Delegate *delegate = [[Delegate alloc] init];\n        window.delegate = delegate;\n\n        // Have the window maintain normal refcount semantics\n        window.releasedWhenClosed = NO;\n\n        // Finish launching the app\n        [app finishLaunching];\n        [NSRunningApplication.currentApplication\n            activateWithOptions:NSApplicationActivateAllWindows];\n\n        // Show the window\n        [window orderFront:nil];\n\n        // Simulate the user clicking the x (canceled by the delegate). If we\n        // comment out this line, or don't cancel the close in the delegate, we\n        // don't get the leak.\n        [window performClose:nil];\n\n        // Actually close the window\n        [window close];\n    }\n\n    NSLog(@\"exit process\");\n}\n\n@implementation Delegate\n    - (instancetype)init {\n        NSLog(@\"[delegate init]\");\n        return [super init];\n    }\n\n    - (BOOL)windowShouldClose:(NSWindow *)sender {\n        NSLog(@\"[delegate windowShouldClose:] (returning NO to cancel)\");\n        return NO;\n    }\n\n    - (void)windowWillClose:(NSNotification *)notification {\n        NSLog(@\"[delegate windowWillClose:]\");\n    }\n\n    - (void)dealloc {\n        NSLog(@\"[delegate dealloc]\");\n    }\n@end\n\n@implementation MyWindow\n    - (instancetype)init {\n        NSLog(@\"[MyWindow init]\");\n        return [super\n            initWithContentRect:NSScreen.mainScreen.visibleFrame\n            styleMask:NSWindowStyleMaskTitled |\n                      NSWindowStyleMaskClosable |\n                      NSWindowStyleMaskMiniaturizable |\n                      NSWindowStyleMaskResizable\n            backing:NSBackingStoreBuffered\n            defer:NO\n        ];\n    }\n\n    - (void)dealloc {\n        NSLog(@\"[MyWindow dealloc]\");\n    }\n@end\n</code></pre>\n\n<p>When I run the above code, I see this output:</p>\n\n<pre><code>$ clang main.m -fobjc-arc -xobjective-c++ -framework Cocoa &amp;&amp; ./a.out\n[MyWindow init]\n[delegate init]\n[delegate windowShouldClose:] (returning NO to cancel)\n[delegate windowWillClose:]\n[delegate dealloc]\nexit process\n</code></pre>\n\n<p>I expected <code>[MyWindow dealloc]</code> to be called somewhere in there, but it was not. If I comment out the call to <code>performClose:</code> or return <code>YES</code> instead of <code>NO</code> from <code>windowShouldClose:</code>, then it does in fact deallocate as expected.</p>\n\n<p>NOTE: You may notice that I'm not giving Cocoa a chance to execute any events. My real project of course does, if you're concerned that there's some event queued up that's retaining the window, I tried to rule that out using this (and variations of this with different run loop modes):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>for (;;) {\n    NSEvent *event = [app nextEventMatchingMask:NSEventMaskAny\n        untilDate:nil\n        inMode:NSDefaultRunLoopMode\n        dequeue:YES];\n\n    if (event) {\n        [app sendEvent:event];\n    } else {\n        break;\n    }\n}\n</code></pre>\n\n<p>[EDIT]\nAs discovered in the comments and by having friends test it, on some machines the window is consistently freed as expected, on some it never is. As suggested in the comments, I generated a graph indicating who still retains the window in Xcode on a machine I experience the problem on: <a href=\"https://gist.github.com/MasonRemaley/4d9983c6a51efe9dd8cfc436db6619de\" rel=\"nofollow noreferrer\">an annotated text version of that graph can be found here.</a>.</p>\n"}, {"tags": ["objective-c", "struct", "hex", "packet", "bytestream"], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": true, "score": 2, "last_activity_date": 1566462641, "last_edit_date": 1566462641, "creation_date": 1566460743, "answer_id": 57604640, "question_id": 57602921, "link": "https://stackoverflow.com/questions/57602921/unpack-hex-encoded-nsdata/57604640#57604640", "title": "Unpack hex-encoded NSData", "body": "<p>The hex string representation of your <code>NSData</code> is apparently:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;79ca82c1 bcad530e 016a1435 127993ee 01ef7579&gt;\n</code></pre>\n\n<p>That translates to:</p>\n\n<ul>\n<li>The 0x79 is the PKT, 121 in decimal</li>\n<li>The 0xca is the CMD, 202 in decimal</li>\n<li>The 0x82 is the TXP, 130 in decimal</li>\n<li>The 0xbcc1 is the UUID, 48321 in decimal</li>\n<li>The PAYLOAD is ad 53 0e 01 6a 14 35 12 79 93 ee 01 ef 75 79</li>\n</ul>\n\n<p>So, you can use:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>typedef struct __attribute__((packed)) {\n    UInt8  pktNo;\n    UInt8  ctrlCmd;\n    UInt8  txPowerRequest;\n    UInt16 uuid;\n    UInt8  userPayload[15];\n} Packet;\n</code></pre>\n\n<p>Which you can populate with:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>Packet packet = {};\nassert(data.length == sizeof(Packet));\nmemcpy(&amp;packet, data.bytes, sizeof(Packet));\n</code></pre>\n\n<hr>\n\n<p>Note, I didn\u2019t just set the packet to a pointer to the <code>bytes</code> of the <code>NSData</code>, because if the <code>NSData</code> is deallocated, you don\u2019t want to use a pointer to that deallocated memory. Instead, copy the <code>bytes</code> to your <code>packet</code> struct (perhaps checking to make sure the two match in size).</p>\n\n<hr>\n\n<p>In the interest of full disclosure, the above makes a somewhat cavalier assumption that endianness of the payload matches that of device running your app. You theoretically might want to make the UUID a <code>UInt8 uuid[2]</code>, instead, and then if you need the UUID value, recalculate it from those two octets.</p>\n"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 57604640, "answer_count": 1, "score": -1, "last_activity_date": 1566973407, "creation_date": 1566453919, "last_edit_date": 1566973407, "question_id": 57602921, "link": "https://stackoverflow.com/questions/57602921/unpack-hex-encoded-nsdata", "title": "Unpack hex-encoded NSData", "body": "<p>on <code>peripheral:didReceiveWriteRequest</code> a <code>CBATTRequest</code> returns <code>hex-encoded</code> <code>NSData</code> via <code>request.value</code>. </p>\n\n<p><strong>This is what I have tried</strong></p>\n\n<pre><code>// Define struct\ntypedef struct __attribute__((packed)) {\n    UInt8  pktNo;\n    UInt8  ctrlCmd;\n    UInt8  txPowerRequest;\n    UInt16 uuid;\n    UInt16 userPayload; // how to store 15 octets?\n} Packet;\n\n   // Unpack \n   Packet *packet = (Packet *)request.value.bytes;\n    if (packet) {\n        UInt8  pktNo   = packet-&gt;pktNo;\n        UInt8  cmd     = packet-&gt;ctrlCmd;\n        UInt8  tx      = packet-&gt;txPowerRequest;\n        UInt16 uuid    = packet-&gt;uuid;\n        UInt16 payload = packet-&gt;userPayload;\n        NSLog(@\"pktNo: %hhu, cmd: %hhu, tx: %hhu, uuid: %hu, payload: %hu\", pktNo, cmd, tx, uuid, payload);\n    }\n</code></pre>\n\n<p><strong>Console</strong> </p>\n\n<p><code>pktNo: 121, cmd: 202, tx: 130, uuid: 48321, payload: 21421</code></p>\n\n<p>First, these numbers look inaccurate, and I'm uncertain about what format this is even in, since the following analogous values I got from debugging tool don't seem to match.</p>\n\n<p><strong>Default:</strong> raw strings? </p>\n\n<pre><code>packet          Packet *    0x281af0cc0 0x0000000281af0cc0\npktNo           UInt8       'y'\nctrlCmd         UInt8       '\\xca'\ntxPowerRequest  UInt8       '\\x82'\nuuid            UInt16      48321\nuserPayload     UInt16      21421\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "frameworks", "delegates"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1566453753, "post_id": 57602824, "comment_id": 101662185, "body": "why your protocol is not <code>@objc</code>? also where are you trying to access this delegate? I can&#39;t see it in your code"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1566454129, "post_id": 57602824, "comment_id": 101662331, "body": "You cant add @objc to delegate property as its type cannot be represented in Objective-C"}], "answers": [{"comments": [{"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566455256, "post_id": 57603096, "comment_id": 101662727, "body": "showing error: Method cannot be a member of an @objc protocol because the type of the parameter cannot be represented in Objective-C"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566459101, "post_id": 57603096, "comment_id": 101664552, "body": "Uploaded example repository of both. Please check"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "reply_to_user": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566459200, "post_id": 57603096, "comment_id": 101664609, "body": "@HarshalWani in your example you still did not add @objc to <code>protocol ListHandler</code>, please use our advices and then try to use your code"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566459941, "post_id": 57603096, "comment_id": 101664996, "body": "as I answered before in a comment, already tried. also in demo proj showing error: Use of undeclared type &#39;ListHandler&#39;"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566459982, "post_id": 57603096, "comment_id": 101665021, "body": "maybe I&#39;m doing something wrong. would appreciate your help to please try to make changes in repos, thanks"}, {"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "reply_to_user": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566464638, "post_id": 57603096, "comment_id": 101667232, "body": "@HarshalWani Line number 11 in this file <a href=\"https://github.com/harshal-wani/SwiftListFramework/blob/master/SwiftListFramework/ListViewController.swift\" rel=\"nofollow noreferrer\">github.com/harshal-wani/SwiftListFramework/blob/master/&hellip;</a> I can&#39;t see any <code>@objc</code> please use our advices"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566465045, "post_id": 57603096, "comment_id": 101667436, "body": "I think you are not getting my comment, I already tried your solution in local repo still didn&#39;t work. That&#39;s why I asked you to try and if works, please commit or suggest other way. Thanks for your efforts :)"}], "tags": [], "owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "is_accepted": false, "score": 0, "last_activity_date": 1566454914, "creation_date": 1566454914, "answer_id": 57603096, "question_id": 57602824, "link": "https://stackoverflow.com/questions/57602824/access-delegate-protocol-from-swift-framework-into-objective-c/57603096#57603096", "title": "Access delegate protocol from Swift framework into Objective C", "body": "<p>Continuing from comments, you should make protocol to work with objective-c \nStart by:</p>\n\n<pre><code>@objc public protocol ListHandler {\n    func submit(options: String)\n    func close()\n}\n</code></pre>\n\n<p>Then you will be able to make </p>\n\n<pre><code>@objc public var handler: ListHandler?\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566457104, "post_id": 57603181, "comment_id": 101663538, "body": "seems can&#39;t catch the submit/close action when user click in Objc class? how we can do?"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 0, "creation_date": 1566459113, "post_id": 57603181, "comment_id": 101664556, "body": "Uploaded example repository of both. Please check"}, {"owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "edited": false, "score": 1, "creation_date": 1566470462, "post_id": 57603181, "comment_id": 101670398, "body": "works perfectly! Actually, I was trying to avoid double delegate creation but seems can&#39;t work."}], "tags": [], "owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "is_accepted": true, "score": 1, "last_activity_date": 1566464879, "last_edit_date": 1566464879, "creation_date": 1566455318, "answer_id": 57603181, "question_id": 57602824, "link": "https://stackoverflow.com/questions/57602824/access-delegate-protocol-from-swift-framework-into-objective-c/57603181#57603181", "title": "Access delegate protocol from Swift framework into Objective C", "body": "<p>The wrapper class do the work for you. Let's add all the functions in wrapper class which can manage the internal framework class features.</p>\n\n<p>After viewing your source code, you required to do lot of changes in all the classes. Let's start with <code>ListViewController</code>.</p>\n\n<ol>\n<li>Provide protocol class type to protocol definition. You can use <code>NSObject</code>.</li>\n</ol>\n\n<p>So your protocol will be like:</p>\n\n<pre><code>public protocol ListHandler: NSObject {\n    func submit(options: String)\n    func close()\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><code>SwiftWrapper</code> class: Using this class you can not directly pass <code>handler</code> to Objective-C classes, so you need to create one delegate or protocol in this class which can communicate with the Objective-C classes.</li>\n</ol>\n\n<p>So create one delegate in this class:</p>\n\n<pre><code>@objc protocol SwiftWrapperDelgate {\n    func submit(options: String)\n    func close()\n}\n</code></pre>\n\n<p>Now, the <code>protocol</code> methods of <code>ListViewController</code> must be declared in this class so that we can pass it to Objective-C from here. Create an <code>extension</code> to listen for the protocol methods.</p>\n\n<pre><code>extension SwiftWrapper : ListHandler {\n    public func submit(options: String) {\n        self.delegate?.submit(options: options)\n    }\n\n    public func close() {\n        self.delegate?.close()\n    }\n}\n</code></pre>\n\n<p>And, don't forgot to assign delegate in <code>showListscreen()</code> function otherwise this method won't invoke.</p>\n\n<pre><code>@objc public func showListscreen() -&gt; UIViewController {\n    self.controller = ListViewController(title: \"Demo List\")\n    self.controller?.handler = self\n    return self.controller!\n}\n</code></pre>\n\n<ol start=\"3\">\n<li><p>Now in Objective-C <code>ViewController.m</code> file assign delegate of <code>SwiftWrapper</code> class</p>\n\n<pre><code>@interface ViewController () &lt;SwiftWrapperDelgate&gt;\n\n@property (nonatomic, strong) SwiftWrapper *wrapper;\n@property (nonatomic, strong) ListViewController *controller;\n\n@end\n</code></pre></li>\n</ol>\n\n<p>Here I have created global variables for <code>SwiftWrapper</code> &amp; <code>ListViewController</code></p>\n\n<p>In <code>viewDidLoad()</code> create object of <code>SwiftWrapper</code> class and assign it's delegate to <code>self</code>.</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.wrapper = [SwiftWrapper new];\n    self.wrapper.delegate = self;\n}\n</code></pre>\n\n<p>And, finally create delegate methods which will be called on action of <code>ListViewController</code> class.</p>\n\n<pre><code>- (void)submitWithOptions:(NSString *)options {\n    NSLog(@\"Submit button tapped\");\n}\n\n- (void) close {\n    NSLog(@\"Close button tapped\");\n}\n</code></pre>\n\n<p>Follow these steps to achieve your requirement. </p>\n"}], "owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 57603181, "answer_count": 2, "score": 2, "last_activity_date": 1566464879, "creation_date": 1566453412, "last_edit_date": 1566459019, "question_id": 57602824, "link": "https://stackoverflow.com/questions/57602824/access-delegate-protocol-from-swift-framework-into-objective-c", "title": "Access delegate protocol from Swift framework into Objective C", "body": "<p>I've created the <code>Swift</code> framework and integrated into <code>ObjC</code> project.</p>\n\n<p>Now, I want to pass/access delegate handler in <code>ObjC</code>.</p>\n\n<p>Swift Framework contains <code>UIViewController</code> with close and submit button.</p>\n\n<p><strong>ListViewController.swift</strong> <code>SwiftFramework</code></p>\n\n<pre><code>public protocol ListHandler {\n    func submit(options: String)\n    func close()\n}\n\npublic class ListViewController: UIViewController {\n\n    public var handler: ListHandler?\n\n    @objc func dismiss(_ sender: UIButton) {\n        handler?.close()\n    }\n\n    @objc func submit(_ sender: UIButton) {\n        handler?.submit(options: \"Done\")\n    }\n}\n</code></pre>\n\n<p>Created  <strong>MyApp-Bridginh-Header.h</strong>\nAnd <strong>SwiftWrapper.swift</strong> to show <code>ListViewController</code></p>\n\n<pre><code>import SwiftFramework\n\n@objc public class SwiftWrapper: NSObject {\n\n    @objc public var controller: ListViewController?\n\n    override init() {\n        print(\"Working\")\n    }\n\n    @objc public func showListScreen() -&gt; UIViewController {\n\n        self.controller = ListViewController(title: \"List\")\n\n        /*\n          IMPORTANT: How I can pass this to ObjC called controller?\n        */\n        // self.controller?.handler =\n        return self.controller!\n    }\n}\n</code></pre>\n\n<p>Finally in objC view controller, able to show List screen but can't pass delegate and handle submit/close button actions.</p>\n\n<p><strong>ProductListViewController.m</strong></p>\n\n<pre><code>#import \"MyApp-Swift.h\"\n\nSwiftWrapper *wrapper = [[SwiftWrapper  alloc] init];\n\nUINavigationController *navController = [[UINavigationController alloc] initWithRootViewController:[wrapper showListScreen]];\n[self presentViewController:navController animated:YES completion:nil];\n</code></pre>\n\n<p>How to access here?</p>\n\n<p>Example project repository:\nSwift Framework: <a href=\"https://github.com/harshal-wani/SwiftListFramework\" rel=\"nofollow noreferrer\">https://github.com/harshal-wani/SwiftListFramework</a>\nObjC project: <a href=\"https://github.com/harshal-wani/SwiftFrameworkDelegateExample\" rel=\"nofollow noreferrer\">https://github.com/harshal-wani/SwiftFrameworkDelegateExample</a></p>\n\n<p>Appreciate your help and suggestions.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 351, "user_id": 9389356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4adf98e3294009f2e51e5fd9a55ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Jacob", "link": "https://stackoverflow.com/users/9389356/vinu-jacob"}, "edited": false, "score": 0, "creation_date": 1566453671, "post_id": 57602442, "comment_id": 101662150, "body": "can you  add the entire error mesage that you are getting?"}, {"owner": {"reputation": 41, "user_id": 9641019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqIEH.png?s=128&g=1", "display_name": "Apple_Ninja", "link": "https://stackoverflow.com/users/9641019/apple-ninja"}, "reply_to_user": {"reputation": 351, "user_id": 9389356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4adf98e3294009f2e51e5fd9a55ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu Jacob", "link": "https://stackoverflow.com/users/9389356/vinu-jacob"}, "edited": false, "score": 0, "creation_date": 1566455216, "post_id": 57602442, "comment_id": 101662709, "body": "Dear Developer,  We identified one or more issues with a recent delivery for your app. Please correct the following issues, then upload again.  ITMS-90011: This bundle is invalid - The image file must be in the RGB colorspace.  Best regards,  The App Store Team"}, {"owner": {"reputation": 301, "user_id": 4474601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0626ee49c773e2aeb7e8ad02dee36e6?s=128&d=identicon&r=PG&f=1", "display_name": "PDG", "link": "https://stackoverflow.com/users/4474601/pdg"}, "edited": false, "score": 0, "creation_date": 1595873887, "post_id": 57602442, "comment_id": 111619567, "body": "Did anybody ever figure this out. I have thousands of images in my app all of which are RGB. I will try rebooting, Apple is so much like MS now, that is usually the solution."}], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 4474601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0626ee49c773e2aeb7e8ad02dee36e6?s=128&d=identicon&r=PG&f=1", "display_name": "PDG", "link": "https://stackoverflow.com/users/4474601/pdg"}, "is_accepted": false, "score": 1, "last_activity_date": 1595885019, "creation_date": 1595885019, "answer_id": 63123772, "question_id": 57602442, "link": "https://stackoverflow.com/questions/57602442/itms-90011-this-bundle-is-invalid-the-image-file-must-be-in-the-rgb-colorspac/63123772#63123772", "title": "ITMS-90011: This bundle is invalid - The image file must be in the RGB colorspace", "body": "<p>A file, probably an app Icon file is not using an RGB colorspace. There are a couple of ways you can tell this. I believe app icon files must be .png files. They cannot have a transparent background.</p>\n<p>Use finder, right click on the .png file and look for More Info. The key is to NOT have an alpha channel. If you do, you will receive this message. If you are using Photoshop, like I am, the only Alpha Channel you can have on a png file, is a transparency channel. Your .png file must not be transparent or you will receive this error message.</p>\n<p><a href=\"https://i.stack.imgur.com/P1nJh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P1nJh.png\" alt=\"enter image description here\" /></a></p>\n<p>When creating an image icon using Photoshop, it should look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/jvEd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jvEd7.png\" alt=\"enter image description here\" /></a></p>\n<p>Although, this is pretty much undocumented, I believe I received this error because I had a transparent background on a png file. I then converted my png to a jpg, which I saw on another Stackoverflow thread. That got rid of my alpha channel error but caused this error. I then went and created all of my original png files with no transparent alpha channel and the error went away.</p>\n<p>I am pretty disappointed with the Apple error message, which of course comes in an email after your submission to test flight succeeds. I assume it was telling me, not to use a jpg image for app icons.</p>\n"}], "owner": {"reputation": 41, "user_id": 9641019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kqIEH.png?s=128&g=1", "display_name": "Apple_Ninja", "link": "https://stackoverflow.com/users/9641019/apple-ninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1595885019, "creation_date": 1566450848, "question_id": 57602442, "link": "https://stackoverflow.com/questions/57602442/itms-90011-this-bundle-is-invalid-the-image-file-must-be-in-the-rgb-colorspac", "title": "ITMS-90011: This bundle is invalid - The image file must be in the RGB colorspace", "body": "<p>When I am submitting Application through Xcode Application validation successful but when submit to Appstore Then This error Occur.</p>\n\n<p><strong>ITMS-90011: This bundle is invalid</strong> - The image file must be in the RGB colorspace.</p>\n\n<p>Anyone know what this error really means?</p>\n"}]