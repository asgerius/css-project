[{"tags": ["ios", "objective-c", "swift", "xcode", "objc-bridging-header"], "comments": [{"owner": {"reputation": 3143, "user_id": 5512384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CFi4N.jpg?s=128&g=1", "display_name": "jvarela", "link": "https://stackoverflow.com/users/5512384/jvarela"}, "edited": false, "score": 0, "creation_date": 1542247268, "post_id": 53308682, "comment_id": 93503582, "body": "Clean your project and try again. I sometimes get these weird errors because of stale build data. Let me know how that goes."}, {"owner": {"reputation": 1614, "user_id": 4563329, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d9237808dc5f80f3d974c9a3c62e5c08?s=128&d=identicon&r=PG&f=1", "display_name": "Gaby Fitcal", "link": "https://stackoverflow.com/users/4563329/gaby-fitcal"}, "reply_to_user": {"reputation": 3143, "user_id": 5512384, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CFi4N.jpg?s=128&g=1", "display_name": "jvarela", "link": "https://stackoverflow.com/users/5512384/jvarela"}, "edited": false, "score": 0, "creation_date": 1542265151, "post_id": 53308682, "comment_id": 93508128, "body": "This not solve my problem. I already tried billion times. Also Analyze. Delete derivered data. Nothing works"}], "answers": [{"tags": [], "owner": {"reputation": 1614, "user_id": 4563329, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d9237808dc5f80f3d974c9a3c62e5c08?s=128&d=identicon&r=PG&f=1", "display_name": "Gaby Fitcal", "link": "https://stackoverflow.com/users/4563329/gaby-fitcal"}, "is_accepted": false, "score": 2, "last_activity_date": 1542301309, "creation_date": 1542301309, "answer_id": 53324501, "question_id": 53308682, "link": "https://stackoverflow.com/questions/53308682/framework-not-visible-in-auto-generated-swift-file/53324501#53324501", "title": "Framework not visible in auto-generated swift file", "body": "<p>The right answer is this: <a href=\"https://stackoverflow.com/a/24195188/4563329\">https://stackoverflow.com/a/24195188/4563329</a> </p>\n\n<p>That helped me to fix my problem. I will post my fixed file here:</p>\n\n<p>I created another header file in objective-c named <code>ModuleTargetName-Swift-Fixed.h</code>\nInside of it first I imported <code>StoreKit</code> and after I imported <code>ModuleTargetName-Swift.h</code>. In my objective-c classes I imported <code>ModuleTargetName-Swift-Fixed.h</code></p>\n\n<p>This is my class:</p>\n\n<pre><code>// Forward declarations for property classes\n#import &lt;StoreKit/StoreKit.h&gt;\n\n// Imports for superclasses\n#import \"ModuleTargetName-Swift.h\"\n</code></pre>\n"}], "owner": {"reputation": 1614, "user_id": 4563329, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d9237808dc5f80f3d974c9a3c62e5c08?s=128&d=identicon&r=PG&f=1", "display_name": "Gaby Fitcal", "link": "https://stackoverflow.com/users/4563329/gaby-fitcal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542301309, "creation_date": 1542229435, "question_id": 53308682, "link": "https://stackoverflow.com/questions/53308682/framework-not-visible-in-auto-generated-swift-file", "title": "Framework not visible in auto-generated swift file", "body": "<p>I want to import some swift classes in objective-c project.\nI added all classes, I created the bridging-header, I imported the MyTarget-swift.h file in my classes and everything seems working fine.</p>\n\n<p>When I'm building the project, I found a very strange error on generated swift.h file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZUOjA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZUOjA.png\" alt=\"enter image description here\"></a></p>\n\n<p>StoreKit framework is already added to project. I have no idea what is going on.\nAnybody has any idea?</p>\n"}, {"tags": ["ios", "objective-c", "uitabbarcontroller", "uitabbar"], "comments": [{"owner": {"reputation": 3650, "user_id": 4539192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/jPbqw.jpg?s=128&g=1", "display_name": "Rikh", "link": "https://stackoverflow.com/users/4539192/rikh"}, "edited": false, "score": 0, "creation_date": 1542226793, "post_id": 53305560, "comment_id": 93496970, "body": "As far as i can see, there is no navigation controller to the <code>UITabbarController</code> so the <code>self.navigationController</code> should actually be nil and the reason why nothing is being pushed. Kindly have a look."}], "answers": [{"comments": [{"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542217460, "post_id": 53305913, "comment_id": 93492753, "body": "I implemented your code but I am not able to load ContactRequestViewController."}, {"owner": {"reputation": 716, "user_id": 9064259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307639b9e9bc039ed0d85c6811dc05f?s=128&d=identicon&r=PG", "display_name": "Pranay", "link": "https://stackoverflow.com/users/9064259/pranay"}, "reply_to_user": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542219656, "post_id": 53305913, "comment_id": 93493708, "body": "@iPhone Okay, I created an example project. You can find it here: <a href=\"https://bitbucket.org/pranay_k/tabbarexample/commits/all\" rel=\"nofollow noreferrer\">bitbucket.org/pranay_k/tabbarexample/commits/all</a>. Check it out and let me know."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542220530, "post_id": 53305913, "comment_id": 93494106, "body": "I implemented this too but did not get success. Let me clear one thing my code is not written in appdelegate.m file but it is in MainTabController(UITabBarController) file which is bound to Main Tab Controller in storyboard."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542221478, "post_id": 53305913, "comment_id": 93494568, "body": "let me clear that my code is not written in appdelegate.m file but it is written in mainTabController(UITabController) which is bound to Main Tab Controller in storyboard file."}, {"owner": {"reputation": 716, "user_id": 9064259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307639b9e9bc039ed0d85c6811dc05f?s=128&d=identicon&r=PG", "display_name": "Pranay", "link": "https://stackoverflow.com/users/9064259/pranay"}, "reply_to_user": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542222284, "post_id": 53305913, "comment_id": 93494960, "body": "It doesn&#39;t matter where you set the delegate. Be it inside the AppDelegate or anywhere else."}, {"owner": {"reputation": 716, "user_id": 9064259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307639b9e9bc039ed0d85c6811dc05f?s=128&d=identicon&r=PG", "display_name": "Pranay", "link": "https://stackoverflow.com/users/9064259/pranay"}, "reply_to_user": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542225047, "post_id": 53305913, "comment_id": 93496154, "body": "@iPhone FWIW, I updated the example project to mimic what you described. Still works. Check it out and let me know"}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "edited": false, "score": 0, "creation_date": 1542262754, "post_id": 53305913, "comment_id": 93507318, "body": "Thanks a lot. I am able to achieve desired result after looking into your demo."}], "tags": [], "owner": {"reputation": 716, "user_id": 9064259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307639b9e9bc039ed0d85c6811dc05f?s=128&d=identicon&r=PG", "display_name": "Pranay", "link": "https://stackoverflow.com/users/9064259/pranay"}, "is_accepted": true, "score": 0, "last_activity_date": 1542219231, "last_edit_date": 1542219231, "creation_date": 1542217109, "answer_id": 53305913, "question_id": 53305560, "link": "https://stackoverflow.com/questions/53305560/call-different-viewcontrollers-on-click-of-tab-bar-of-uitabbarcontroller/53305913#53305913", "title": "Call different viewControllers on click of tab bar of UITabBarController", "body": "<p>If you want to replace the root view controller at that selected tab based on custom logic, try using <code>setViewControllers:animated:</code> method of the <code>UITabBarController</code>.</p>\n\n<p>You could do something like this:</p>\n\n<pre><code>- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController {\n    if (tabBarController.selectedIndex == 1 &amp;&amp; tabBarController.viewControllers.count &gt; tabBarController.selectedIndex) {\n        BOOL shouldShowContactVC = (BOOL)(rand() % 2);\n        NSMutableArray *viewControllers = [[tabBarController viewControllers] mutableCopy];\n        UIStoryboard *main = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\n        UIViewController *newVC = nil;\n        if (shouldShowContactVC) {\n            newVC = [main instantiateViewControllerWithIdentifier:@\"ContactUsVC\"];\n        } else {\n            newVC = [main instantiateViewControllerWithIdentifier:@\"AboutUsVC\"];\n        }\n        if (newVC) {\n            [viewControllers replaceObjectAtIndex:tabBarController.selectedIndex withObject:newVC];\n            newVC.tabBarItem = viewController.tabBarItem;\n            [tabBarController setViewControllers:viewControllers animated:YES];\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9407599, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zDRwI4df4bw/AAAAAAAAAAI/AAAAAAAAAEY/dl_-nr9CN1w/photo.jpg?sz=128", "display_name": "Kirinzer", "link": "https://stackoverflow.com/users/9407599/kirinzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1542248235, "creation_date": 1542248235, "answer_id": 53311492, "question_id": 53305560, "link": "https://stackoverflow.com/questions/53305560/call-different-viewcontrollers-on-click-of-tab-bar-of-uitabbarcontroller/53311492#53311492", "title": "Call different viewControllers on click of tab bar of UITabBarController", "body": "<p>In my experience , sometimes we don't use tabbarVC, because it's not flexible, such as <strong>hide</strong>, <strong>show</strong>, or <strong>change items number</strong>. So we set a navigationVC as rootVC, u can create a View, just make it's look like a tabbarVC. \nThis view is more easy to used.And u don't need to care any delegate method or something else. u can do anything u want. \nThat's all.</p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 53305913, "answer_count": 2, "score": 0, "last_activity_date": 1542248235, "creation_date": 1542215794, "last_edit_date": 1542217079, "question_id": 53305560, "link": "https://stackoverflow.com/questions/53305560/call-different-viewcontrollers-on-click-of-tab-bar-of-uitabbarcontroller", "title": "Call different viewControllers on click of tab bar of UITabBarController", "body": "<p>Below is the image of my <code>UITabBarController</code> structure in storyboard.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cMIgK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cMIgK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Right now in storyboard, <code>AboutUsViewController(UIViewController)</code> is bound with my tabBar button click event i.e. If I click on tabBar button, <code>AboutUsViewController</code> is opening but now my functionality is based on certain conditions. I want to call <code>ContactRequstViewController</code> instead of <code>AboutUsViewController</code> on same tabBar button click.</p>\n\n<p>Following is my code to open <code>ContactRequstViewController</code>.</p>\n\n<pre><code>-(void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController{\n      if (tabBarController.selectedIndex == 2){\n           UIStoryboard *story =  [UIStoryboard storyboardWithName:@\"iPhone\" bundle:nil];\n           ContactRequstViewController *contactVC = [story instantiateViewControllerWithIdentifier:@\"ContactUsView\"];\n          [self.navigationController pushViewController:contactVC animated:YES];\n      }\n}\n</code></pre>\n\n<p>After writing above code I am not able to load <code>ContactRequestViewController</code>. </p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uitableview", "layout"], "answers": [{"comments": [{"owner": {"reputation": 2025, "user_id": 1361598, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/677365130/picture?type=large", "display_name": "Ben Holness", "link": "https://stackoverflow.com/users/1361598/ben-holness"}, "edited": false, "score": 0, "creation_date": 1542228866, "post_id": 53307814, "comment_id": 93497871, "body": "i started out minimally, all of the things got added as ways to try and resolve the problem. I will go back to the minimal version and compare it to what you have to see if I can find the difference"}, {"owner": {"reputation": 2025, "user_id": 1361598, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/677365130/picture?type=large", "display_name": "Ben Holness", "link": "https://stackoverflow.com/users/1361598/ben-holness"}, "edited": false, "score": 0, "creation_date": 1542236855, "post_id": 53307814, "comment_id": 93500950, "body": "I found the difference. I had originally gone file -&gt; new, chosen view and XCode put a <code>UITableViewCell</code> inside of it. I noticed that your xib view was table cell sized and mine wasn&#39;t (you can kind of see it in my first screenshot). I moved it up to the top level and deleted the <code>UIView</code> and now it works. Thanks!"}], "tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": true, "score": 3, "last_activity_date": 1542225160, "creation_date": 1542225160, "answer_id": 53307814, "question_id": 53305319, "link": "https://stackoverflow.com/questions/53305319/uilabel-positions-not-adjusting-when-superview-changes-size/53307814#53307814", "title": "UILabel positions not adjusting when superview changes size", "body": "<p>I think you're over-complicating things a bit.</p>\n\n<p>For one, you don't need the \"cellWrapperView\" -- it's serving no purpose that the <code>contentView</code> can't do.</p>\n\n<p>Second, for cell layout, you shouldn't need <em>any</em> code in your cell class.</p>\n\n<p>I did a quick test, laying out the cell (approximately) as you have:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZQmBL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZQmBL.png\" alt=\"enter image description here\"></a></p>\n\n<p>and here are the results (I frequently use background colors to help see the element frames):</p>\n\n<p><a href=\"https://i.stack.imgur.com/0hJwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0hJwN.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/AakV7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AakV7.png\" alt=\"enter image description here\"></a></p>\n\n<p>That is accomplished with only this code...</p>\n\n<pre><code>//\n//  MeetingsTableViewCell.h\n//\n\n#import &lt;UIKit/UIKit.h&gt;\n\n@interface MeetingsTableViewCell : UITableViewCell\n\n@property (strong, nonatomic) IBOutlet UILabel *theTitleLabel;\n@property (strong, nonatomic) IBOutlet UILabel *theSubTitleLabel;\n@property (strong, nonatomic) IBOutlet UILabel *theDateLabel;\n@property (strong, nonatomic) IBOutlet UIImageView *theImageView;\n@property (strong, nonatomic) IBOutlet UILabel *theModeLabel;\n\n@end\n</code></pre>\n\n<hr>\n\n<pre><code>//\n//  MeetingsTableViewCell.m\n//\n\n#import \"MeetingsTableViewCell.h\"\n\n@implementation MeetingsTableViewCell\n\n@end\n</code></pre>\n\n<hr>\n\n<pre><code>//\n//  TableXIBViewController.h\n//\n\n#import &lt;UIKit/UIKit.h&gt;\n\n@interface TableXIBViewController : UIViewController &lt;UITableViewDelegate, UITableViewDataSource&gt;\n\n@end\n</code></pre>\n\n<hr>\n\n<pre><code>//\n//  TableXIBViewController.m\n//\n//  Created by Don Mag on 11/14/18.\n//\n\n#import \"TableXIBViewController.h\"\n#import \"MeetingsTableViewCell.h\"\n\n@interface TableXIBViewController ()\n\n@property UITableView *meetingsTable;\n@property UIView *tableWrapperView;\n\n@end\n\n@implementation TableXIBViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    self.view.backgroundColor = [UIColor redColor];\n\n    // inset the table wrapper view by 20-pts so we can see its frame\n    self.tableWrapperView = [[UIView alloc] initWithFrame:CGRectInset(self.view.frame, 20, 20)];\n    self.tableWrapperView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n\n    [self.view addSubview:self.tableWrapperView];\n\n    self.meetingsTable = [[UITableView alloc] initWithFrame:self.tableWrapperView.bounds];\n    self.meetingsTable.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n\n    self.meetingsTable.dataSource = self;\n    self.meetingsTable.delegate = self;\n\n    [self.tableWrapperView addSubview:self.meetingsTable];\n\n    UINib *cellNib = [UINib nibWithNibName:@\"MeetingCellView\" bundle:nil];\n    [self.meetingsTable registerNib:cellNib forCellReuseIdentifier:@\"MeetingsCell\"];\n\n}\n\n- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n    MeetingsTableViewCell *cell = [self.meetingsTable dequeueReusableCellWithIdentifier:@\"MeetingsCell\" forIndexPath:indexPath];\n\n    cell.theTitleLabel.text = [NSString stringWithFormat:@\"Meeting Title %li\", indexPath.row + 1];\n    cell.theSubTitleLabel.text = [NSString stringWithFormat:@\"Meeting SubTitle %li\", indexPath.row + 1];\n    cell.theDateLabel.text = [NSString stringWithFormat:@\"2018/01/0%li\", indexPath.row + 1];\n\n    return cell;\n}\n\n- (NSInteger)tableView:(nonnull UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return  5;\n}\n\n@end\n</code></pre>\n\n<hr>\n\n<p>And, to help get the cell xib laid-out correctly, here is the xib source:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;document type=\"com.apple.InterfaceBuilder3.CocoaTouch.XIB\" version=\"3.0\" toolsVersion=\"14109\" targetRuntime=\"iOS.CocoaTouch\" propertyAccessControl=\"none\" useAutolayout=\"YES\" useTraitCollections=\"YES\" useSafeAreas=\"YES\" colorMatched=\"YES\"&gt;\n    &lt;device id=\"retina4_7\" orientation=\"portrait\"&gt;\n        &lt;adaptation id=\"fullscreen\"/&gt;\n    &lt;/device&gt;\n    &lt;dependencies&gt;\n        &lt;deployment identifier=\"iOS\"/&gt;\n        &lt;plugIn identifier=\"com.apple.InterfaceBuilder.IBCocoaTouchPlugin\" version=\"14088\"/&gt;\n        &lt;capability name=\"Constraints to layout margins\" minToolsVersion=\"6.0\"/&gt;\n        &lt;capability name=\"documents saved in the Xcode 8 format\" minToolsVersion=\"8.0\"/&gt;\n    &lt;/dependencies&gt;\n    &lt;objects&gt;\n        &lt;placeholder placeholderIdentifier=\"IBFilesOwner\" id=\"-1\" userLabel=\"File's Owner\"/&gt;\n        &lt;placeholder placeholderIdentifier=\"IBFirstResponder\" id=\"-2\" customClass=\"UIResponder\"/&gt;\n        &lt;tableViewCell clipsSubviews=\"YES\" contentMode=\"scaleToFill\" preservesSuperviewLayoutMargins=\"YES\" selectionStyle=\"default\" indentationWidth=\"10\" rowHeight=\"97\" id=\"1hH-Nh-Uud\" customClass=\"MeetingsTableViewCell\"&gt;\n            &lt;rect key=\"frame\" x=\"0.0\" y=\"0.0\" width=\"407\" height=\"89\"/&gt;\n            &lt;autoresizingMask key=\"autoresizingMask\"/&gt;\n            &lt;tableViewCellContentView key=\"contentView\" opaque=\"NO\" clipsSubviews=\"YES\" multipleTouchEnabled=\"YES\" contentMode=\"center\" preservesSuperviewLayoutMargins=\"YES\" insetsLayoutMarginsFromSafeArea=\"NO\" tableViewCell=\"1hH-Nh-Uud\" id=\"mnL-wU-yle\"&gt;\n                &lt;rect key=\"frame\" x=\"0.0\" y=\"0.0\" width=\"407\" height=\"88.5\"/&gt;\n                &lt;autoresizingMask key=\"autoresizingMask\"/&gt;\n                &lt;subviews&gt;\n                    &lt;label opaque=\"NO\" userInteractionEnabled=\"NO\" contentMode=\"left\" horizontalHuggingPriority=\"251\" verticalHuggingPriority=\"252\" text=\"Meeting Title\" textAlignment=\"natural\" lineBreakMode=\"tailTruncation\" baselineAdjustment=\"alignBaselines\" adjustsFontSizeToFit=\"NO\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"6hb-sQ-pY3\"&gt;\n                        &lt;rect key=\"frame\" x=\"20\" y=\"11\" width=\"108\" height=\"21\"/&gt;\n                        &lt;color key=\"backgroundColor\" red=\"0.45138680930000002\" green=\"0.99309605359999997\" blue=\"1\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/&gt;\n                        &lt;fontDescription key=\"fontDescription\" type=\"boldSystem\" pointSize=\"17\"/&gt;\n                        &lt;nil key=\"textColor\"/&gt;\n                        &lt;nil key=\"highlightedColor\"/&gt;\n                    &lt;/label&gt;\n                    &lt;label opaque=\"NO\" userInteractionEnabled=\"NO\" contentMode=\"left\" horizontalHuggingPriority=\"251\" verticalHuggingPriority=\"251\" text=\"Meeting Subtitle\" textAlignment=\"natural\" lineBreakMode=\"tailTruncation\" baselineAdjustment=\"alignBaselines\" adjustsFontSizeToFit=\"NO\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"gfu-sY-NvS\"&gt;\n                        &lt;rect key=\"frame\" x=\"20\" y=\"57.5\" width=\"126\" height=\"20.5\"/&gt;\n                        &lt;color key=\"backgroundColor\" red=\"0.45138680930000002\" green=\"0.99309605359999997\" blue=\"1\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/&gt;\n                        &lt;fontDescription key=\"fontDescription\" type=\"italicSystem\" pointSize=\"17\"/&gt;\n                        &lt;nil key=\"textColor\"/&gt;\n                        &lt;nil key=\"highlightedColor\"/&gt;\n                    &lt;/label&gt;\n                    &lt;label opaque=\"NO\" userInteractionEnabled=\"NO\" contentMode=\"left\" horizontalHuggingPriority=\"251\" verticalHuggingPriority=\"251\" text=\"2018/01/01\" textAlignment=\"center\" lineBreakMode=\"tailTruncation\" baselineAdjustment=\"alignBaselines\" adjustsFontSizeToFit=\"NO\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"fgW-SS-i5C\"&gt;\n                        &lt;rect key=\"frame\" x=\"287\" y=\"11\" width=\"100\" height=\"22\"/&gt;\n                        &lt;color key=\"backgroundColor\" red=\"0.45009386540000001\" green=\"0.98132258650000004\" blue=\"0.4743030667\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/&gt;\n                        &lt;constraints&gt;\n                            &lt;constraint firstAttribute=\"width\" constant=\"100\" id=\"PgK-nv-uVx\"/&gt;\n                        &lt;/constraints&gt;\n                        &lt;fontDescription key=\"fontDescription\" type=\"italicSystem\" pointSize=\"17\"/&gt;\n                        &lt;nil key=\"textColor\"/&gt;\n                        &lt;nil key=\"highlightedColor\"/&gt;\n                    &lt;/label&gt;\n                    &lt;label opaque=\"NO\" userInteractionEnabled=\"NO\" contentMode=\"left\" horizontalHuggingPriority=\"251\" verticalHuggingPriority=\"252\" text=\"Meeting Mode\" textAlignment=\"natural\" lineBreakMode=\"tailTruncation\" baselineAdjustment=\"alignBaselines\" adjustsFontSizeToFit=\"NO\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"FBS-Cm-nZv\"&gt;\n                        &lt;rect key=\"frame\" x=\"293.5\" y=\"62\" width=\"87\" height=\"16\"/&gt;\n                        &lt;color key=\"backgroundColor\" red=\"0.45009386540000001\" green=\"0.98132258650000004\" blue=\"0.4743030667\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/&gt;\n                        &lt;fontDescription key=\"fontDescription\" type=\"system\" pointSize=\"13\"/&gt;\n                        &lt;nil key=\"textColor\"/&gt;\n                        &lt;nil key=\"highlightedColor\"/&gt;\n                    &lt;/label&gt;\n                    &lt;imageView userInteractionEnabled=\"NO\" contentMode=\"scaleToFill\" horizontalHuggingPriority=\"251\" verticalHuggingPriority=\"251\" image=\"clip\" translatesAutoresizingMaskIntoConstraints=\"NO\" id=\"fS2-U6-2dk\"&gt;\n                        &lt;rect key=\"frame\" x=\"326.5\" y=\"37\" width=\"21\" height=\"21\"/&gt;\n                        &lt;constraints&gt;\n                            &lt;constraint firstAttribute=\"height\" constant=\"21\" id=\"7U2-rp-N4R\"/&gt;\n                            &lt;constraint firstAttribute=\"width\" constant=\"21\" id=\"cKC-6E-uQn\"/&gt;\n                        &lt;/constraints&gt;\n                    &lt;/imageView&gt;\n                &lt;/subviews&gt;\n                &lt;color key=\"backgroundColor\" red=\"0.99953407049999998\" green=\"0.98835557699999999\" blue=\"0.47265523669999998\" alpha=\"1\" colorSpace=\"custom\" customColorSpace=\"sRGB\"/&gt;\n                &lt;constraints&gt;\n                    &lt;constraint firstItem=\"fS2-U6-2dk\" firstAttribute=\"top\" secondItem=\"fgW-SS-i5C\" secondAttribute=\"bottom\" constant=\"4\" id=\"546-Qt-aMZ\"/&gt;\n                    &lt;constraint firstItem=\"gfu-sY-NvS\" firstAttribute=\"top\" relation=\"greaterThanOrEqual\" secondItem=\"6hb-sQ-pY3\" secondAttribute=\"bottom\" constant=\"4\" id=\"5E7-Wh-Yzw\"/&gt;\n                    &lt;constraint firstAttribute=\"bottomMargin\" secondItem=\"gfu-sY-NvS\" secondAttribute=\"bottom\" id=\"9Bw-TS-gRW\"/&gt;\n                    &lt;constraint firstItem=\"FBS-Cm-nZv\" firstAttribute=\"centerX\" secondItem=\"fgW-SS-i5C\" secondAttribute=\"centerX\" id=\"G9b-b9-Ftn\"/&gt;\n                    &lt;constraint firstItem=\"FBS-Cm-nZv\" firstAttribute=\"top\" secondItem=\"fS2-U6-2dk\" secondAttribute=\"bottom\" constant=\"4\" id=\"GP1-mc-D7y\"/&gt;\n                    &lt;constraint firstItem=\"fS2-U6-2dk\" firstAttribute=\"centerX\" secondItem=\"fgW-SS-i5C\" secondAttribute=\"centerX\" id=\"SLu-6e-2Tb\"/&gt;\n                    &lt;constraint firstAttribute=\"bottomMargin\" secondItem=\"FBS-Cm-nZv\" secondAttribute=\"bottom\" id=\"TmX-2b-f5B\"/&gt;\n                    &lt;constraint firstAttribute=\"trailingMargin\" secondItem=\"fgW-SS-i5C\" secondAttribute=\"trailing\" id=\"V6K-33-cCn\"/&gt;\n                    &lt;constraint firstItem=\"6hb-sQ-pY3\" firstAttribute=\"top\" secondItem=\"mnL-wU-yle\" secondAttribute=\"topMargin\" id=\"VkG-AA-ghx\"/&gt;\n                    &lt;constraint firstItem=\"6hb-sQ-pY3\" firstAttribute=\"leading\" secondItem=\"mnL-wU-yle\" secondAttribute=\"leadingMargin\" id=\"osP-fz-3fL\"/&gt;\n                    &lt;constraint firstItem=\"fgW-SS-i5C\" firstAttribute=\"top\" secondItem=\"mnL-wU-yle\" secondAttribute=\"topMargin\" id=\"paN-Pg-Bzz\"/&gt;\n                    &lt;constraint firstItem=\"gfu-sY-NvS\" firstAttribute=\"leading\" secondItem=\"mnL-wU-yle\" secondAttribute=\"leadingMargin\" id=\"x4d-ek-CE0\"/&gt;\n                &lt;/constraints&gt;\n            &lt;/tableViewCellContentView&gt;\n            &lt;connections&gt;\n                &lt;outlet property=\"theDateLabel\" destination=\"fgW-SS-i5C\" id=\"33H-KL-zyk\"/&gt;\n                &lt;outlet property=\"theImageView\" destination=\"fS2-U6-2dk\" id=\"vgC-kz-BOU\"/&gt;\n                &lt;outlet property=\"theModeLabel\" destination=\"FBS-Cm-nZv\" id=\"BFI-rF-5c3\"/&gt;\n                &lt;outlet property=\"theSubTitleLabel\" destination=\"gfu-sY-NvS\" id=\"0bF-xI-U6a\"/&gt;\n                &lt;outlet property=\"theTitleLabel\" destination=\"6hb-sQ-pY3\" id=\"bRS-vo-UlK\"/&gt;\n            &lt;/connections&gt;\n            &lt;point key=\"canvasLocation\" x=\"-30.5\" y=\"19.5\"/&gt;\n        &lt;/tableViewCell&gt;\n    &lt;/objects&gt;\n    &lt;resources&gt;\n        &lt;image name=\"clip\" width=\"41\" height=\"42\"/&gt;\n    &lt;/resources&gt;\n&lt;/document&gt;\n</code></pre>\n"}], "owner": {"reputation": 2025, "user_id": 1361598, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/677365130/picture?type=large", "display_name": "Ben Holness", "link": "https://stackoverflow.com/users/1361598/ben-holness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53307814, "answer_count": 1, "score": 2, "last_activity_date": 1542225160, "creation_date": 1542214907, "last_edit_date": 1542215274, "question_id": 53305319, "link": "https://stackoverflow.com/questions/53305319/uilabel-positions-not-adjusting-when-superview-changes-size", "title": "UILabel positions not adjusting when superview changes size", "body": "<p>I am pretty new to iOS and Objective-C.</p>\n\n<p>I have been trying to get a programmatically generated <code>UITableView</code> to work correctly. The table uses a custom <code>UITableViewCell</code> that is in it's own xib file, <code>MeetingsTableViewCell</code>.</p>\n\n<p>Here is how the .xib looks:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pAay4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pAay4.png\" alt=\".xib file\"></a></p>\n\n<p>And the constraints for the date field:</p>\n\n<p><a href=\"https://i.stack.imgur.com/p1B56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p1B56.png\" alt=\"date field constraints\"></a></p>\n\n<p>Here is how it looks when run:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2HGTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2HGTN.png\" alt=\"simulation\"></a></p>\n\n<p>The date and Meeting Mode icon/label are 55 points(?) too far to the right in the simulation.</p>\n\n<p>The main view controller has a width of 320 (I don't seem to be able to change that). The .xib has a width of 375 (I don't seem to be able to change that either). 55 points. Coincidence? I am guessing not.</p>\n\n<p>When I used debug view hierarchy, I discovered that the Cell Wrapper View was 375 points. I added the following code (perhaps more than needed, but I was just trying everything to see if I could figure it out):</p>\n\n<pre><code>cell.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\ncell.autoresizesSubviews = true;\ncell.cellWrapperView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\ncell.cellWrapperView.autoresizesSubviews = true;\n</code></pre>\n\n<p>I also made sure that I had <code>layoutIfNeeded</code> in the <code>MeetingsTableCellView.m</code> file and added code to resize <code>cellWrapperView</code></p>\n\n<pre><code>-(void)layoutIfNeeded {\n    [super layoutIfNeeded];\n    self.cellWrapperView.frame=self.contentView.bounds;\n}\n</code></pre>\n\n<p>That resized the views correctly to 320, but didn't move the date and meeting mode icon/label.</p>\n\n<p>The debug view now looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OmeJA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmeJA.png\" alt=\"Debug View\"></a></p>\n\n<p>The TableCellView and every full-width thing inside it are 320 points wide. The date and meetings mode icon/label are (correctly) 68 points wide according to debug view. The X position is 297. I do not know how to get the date and meetings mode icon/label to be in the correct position.</p>\n\n<p>As a side note, if I turn the phone to landscape, those widths are all 375 instead of 320, but shouldn't they be 568 now? </p>\n\n<p>Thanks!</p>\n\n<p>EDIT: The code that creates the table.</p>\n\n<pre><code>self.meetings=meetings;\nself.meetingsTable=[[UITableView alloc] initWithFrame:self.tableWrapperView.bounds];\n self.meetingsTable.delegate = self;\n self.meetingsTable.dataSource = self;\n self.meetingsTable.autoresizesSubviews = true;\n self.meetingsTable.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;\n self.tableWrapperView.autoresizesSubviews = true;\n\n UINib *cellNib=[UINib nibWithNibName:@\"MeetingCellView\" bundle:nil];\n [self.meetingsTable registerNib:cellNib forCellReuseIdentifier:@\"MeetingsCell\"];\n [self.meetingsTable reloadData];\n [self.tableWrapperView addSubview:self.meetingsTable];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "core-data"], "answers": [{"comments": [{"owner": {"reputation": 3411, "user_id": 429763, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7c8ecb5e3066a0bccfc19ebcae95af9f?s=128&d=identicon&r=PG", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/429763/zsolt"}, "edited": false, "score": 0, "creation_date": 1542276762, "post_id": 53309625, "comment_id": 93514176, "body": "thanks @rodhan. I want to point out that the path has changed from <code>Documents</code> to <code>Library&#47;projectname</code> (iOS12). Indeed very hacky."}, {"owner": {"reputation": 3411, "user_id": 429763, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7c8ecb5e3066a0bccfc19ebcae95af9f?s=128&d=identicon&r=PG", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/429763/zsolt"}, "edited": false, "score": 0, "creation_date": 1542718599, "post_id": 53309625, "comment_id": 93662228, "body": "do you by any chance know how to force core data to make use of the <code>Allow External Storage</code> for testing? I tried adding a large image in the hope that core data logic will kick in and moves the file to external storage, but it does not seem to be the case."}], "tags": [], "owner": {"reputation": 550, "user_id": 2347353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf89a8321999968d6ac1d6f1c3d647d?s=128&d=identicon&r=PG", "display_name": "rodhan", "link": "https://stackoverflow.com/users/2347353/rodhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1542234185, "creation_date": 1542234185, "answer_id": 53309625, "question_id": 53300900, "link": "https://stackoverflow.com/questions/53300900/core-data-binary-data-with-allows-external-storage-crashes/53309625#53309625", "title": "Core data binary data with allows external storage crashes", "body": "<p>This is caused by a known bug in Core Data external storage in iOS 12.0.x as discussed here: <a href=\"https://stackoverflow.com/a/52628198/2347353\">https://stackoverflow.com/a/52628198/2347353</a>.  There is no workaround, but the bug appears to be fixed in iOS 12.1.</p>\n\n<p>To answer your question though, with a bit of hackery-pokery, you can get the filename where the data is <em>supposed</em> to be stored and check to see if it exists or not.  If the file is missing, then you know that the corruption has happened so you can avoid reading the attribute, and therefore prevent the app from crashing.</p>\n\n<p>None of this is documented, but the files seem to be stored in the <code>_EXTERNAL_DATA</code> hidden directory in your app\u2019s Documents folder with a filename that you can work out from a value that is saved to the data store. </p>\n\n<p>This answer shows how to do this in Objective-C and is where I got a lot of the details from: <a href=\"https://stackoverflow.com/a/13497992/2347353\">https://stackoverflow.com/a/13497992/2347353</a>.  But for anyone trying this at home, please do heed the warnings that this is all based on Apple\u2019s internal implementation details of Core Data and could stop working at any point in the future.</p>\n"}, {"tags": [], "owner": {"reputation": 5059, "user_id": 5131026, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ac66e297eaf7972fb8c619a76321e7a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ely", "link": "https://stackoverflow.com/users/5131026/ely"}, "is_accepted": false, "score": 0, "last_activity_date": 1575971323, "creation_date": 1575971323, "answer_id": 59264354, "question_id": 53300900, "link": "https://stackoverflow.com/questions/53300900/core-data-binary-data-with-allows-external-storage-crashes/59264354#59264354", "title": "Core data binary data with allows external storage crashes", "body": "<p>The crash can be caused by not having file access to the external storage folder. </p>\n\n<p>So before accessing an object value with <code>attribute.description?.allowsExternalBinaryDataStorage == true</code>, make sure you have access or get access to the folder where the Core Data SQLite database files are stored.</p>\n"}], "owner": {"reputation": 3411, "user_id": 429763, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7c8ecb5e3066a0bccfc19ebcae95af9f?s=128&d=identicon&r=PG", "display_name": "Zsolt", "link": "https://stackoverflow.com/users/429763/zsolt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 568, "favorite_count": 0, "accepted_answer_id": 53309625, "answer_count": 2, "score": 2, "last_activity_date": 1575971323, "creation_date": 1542200612, "last_edit_date": 1542213271, "question_id": 53300900, "link": "https://stackoverflow.com/questions/53300900/core-data-binary-data-with-allows-external-storage-crashes", "title": "Core data binary data with allows external storage crashes", "body": "<p>I have a crash with the following log on iOS 12.0.1:</p>\n\n<pre><code>ImageIO: CFDataGetBytes: data: 0x28539b2f0 size: 154262 offset: 8 count: 8 dst: 0x16dbf86f0\n    External data reference cant find underlying file.\n    Fatal Exception: NSInternalInconsistencyException\n        0  CoreFoundation                 0x23c2d7ef8 __exceptionPreprocess\n        1  libobjc.A.dylib                0x23b4a5a40 objc_exception_throw\n        2  CoreData                       0x23efd5fc8 -[_PFExternalReferenceData getBytes:range:]\n        3  ImageIO                        0x23e6c7178 IIOImageRead::getCFDataBytesAtOffset(void*, unsigned long, unsigned long)\n        4  ImageIO                        0x23e6c6c38 IIOImageRead::getBytesAtOffset(void*, unsigned long, unsigned long)\n        5  ImageIO                        0x23e711aa4 IIO_Reader_PNG::getImageCount(IIOImageReadSession*, IIODictionary*, int*, unsigned int*)\n        6  ImageIO                        0x23e54c5d8 IIO_Reader::callGetImageCount(CGImageReadSession*, IIODictionary*, int*)\n        7  ImageIO                        0x23e532194 IIOImageSource::updatedCount()\n        8  ImageIO                        0x23e5367b4 CGImageSourceGetCount\n        9  UIKitCore                      0x26960c1a4 _UIImageRefFromData\n        10 UIKitCore                      0x268d4e15c -[UIImage(UIImagePrivate) _initWithData:preserveScale:cache:]\n        11 UIKitCore                      0x268d48b7c +[UIImage imageWithData:]\n        12 MyApp                          0x102239570 __48-[InfoPreviewController bindToPatient:]_block_invoke_2 (InfoPreviewController.m:83)\n        13 ReactiveObjC                   0x1031f8004 -[RACSubscriber sendNext:] (RACSubscriber.m:72)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mSfhB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSfhB.png\" alt=\"enter image description here\"></a></p>\n\n<p>It seems that core data has the image, but when it tries to retrieve it, it fails.</p>\n\n<p>How can I verify the data integrity in this case?\nI would like to handle this failure in a user friendly way instead of crashing the app.</p>\n"}, {"tags": ["objective-c", "double", "nsdecimalnumber", "cgfloat"], "comments": [{"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1542196599, "post_id": 53299681, "comment_id": 93479941, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a>"}, {"owner": {"reputation": 1972, "user_id": 4177009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c85e085e7e8690bb0ebcd33d054c69?s=128&d=identicon&r=PG", "display_name": "Ture P&#229;lsson", "link": "https://stackoverflow.com/users/4177009/ture-p%c3%a5lsson"}, "edited": false, "score": 0, "creation_date": 1542197708, "post_id": 53299681, "comment_id": 93480539, "body": "Works  for me. I think we need an MCVE: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1542200574, "post_id": 53299681, "comment_id": 93482220, "body": "@luk2302 you&#39;re missing the point of <code>NSDecimalNumber</code>. &quot;An object for representing and performing arithmetic on base-10 numbers.&quot;"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 1972, "user_id": 4177009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c85e085e7e8690bb0ebcd33d054c69?s=128&d=identicon&r=PG", "display_name": "Ture P&#229;lsson", "link": "https://stackoverflow.com/users/4177009/ture-p%c3%a5lsson"}, "edited": false, "score": 0, "creation_date": 1542200666, "post_id": 53299681, "comment_id": 93482271, "body": "@TureP&#229;lsson which version of macOS are you using?"}, {"owner": {"reputation": 1972, "user_id": 4177009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c85e085e7e8690bb0ebcd33d054c69?s=128&d=identicon&r=PG", "display_name": "Ture P&#229;lsson", "link": "https://stackoverflow.com/users/4177009/ture-p%c3%a5lsson"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1542201331, "post_id": 53299681, "comment_id": 93482676, "body": "@Willeke I tested on Mojave, but I&#39;m getting some linker warnings about stub files being out of sync (???) so it&#39;s possible that my system is somehow falling back to an older library..."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1542213139, "post_id": 53299681, "comment_id": 93490427, "body": "@luk2302 The linked thread is about <i>binary</i> floating point numbers. The whole point with <code>NSDecimalNumber</code> is, that it is decimal to prevent that problem."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6858300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620893ffb0e95554d97abb7a9216a4e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sunson_alone", "link": "https://stackoverflow.com/users/6858300/sunson-alone"}, "edited": false, "score": 0, "creation_date": 1542259797, "post_id": 53300882, "comment_id": 93506317, "body": "you mean, the fin value is &quot;78.99&quot;(although the initial value is &quot;78.991&quot;)? NSLog makes it wrong?"}, {"owner": {"reputation": 3, "user_id": 6858300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620893ffb0e95554d97abb7a9216a4e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sunson_alone", "link": "https://stackoverflow.com/users/6858300/sunson-alone"}, "edited": false, "score": 0, "creation_date": 1542260388, "post_id": 53300882, "comment_id": 93506502, "body": "and why &quot;2128.123123&quot; worked ok ,&quot;78.991&quot; not correct?\u256e(\uffe3\u25bd\uffe3&quot;&quot;)\u256d"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 3, "user_id": 6858300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620893ffb0e95554d97abb7a9216a4e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sunson_alone", "link": "https://stackoverflow.com/users/6858300/sunson-alone"}, "edited": false, "score": 0, "creation_date": 1542297999, "post_id": 53300882, "comment_id": 93527375, "body": "<code>NSLog(@&quot;%@&quot;,fin)</code> does the same as <code>NSLog(@&quot;%0.16g&quot;, fin.doubleValue)</code>. This is the broken floating point math problem. Try <code>NSLog(@&quot;%0.24g&quot;, fin.doubleValue)</code>."}], "tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 2, "last_activity_date": 1542200530, "creation_date": 1542200530, "answer_id": 53300882, "question_id": 53299681, "link": "https://stackoverflow.com/questions/53299681/a-little-confused-about-nsdecimalnumber/53300882#53300882", "title": "A little confused about NSDecimalNumber?", "body": "<p><code>fin</code> is ok but <code>NSLog</code> calls <code>doubleValue</code>. In earlier versions of macOS, <code>NSLog</code> did call <code>description</code> which returns \"78.99\". Solution:\n<code>NSLog(@\"%@\", fin.description)</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 6858300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/620893ffb0e95554d97abb7a9216a4e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sunson_alone", "link": "https://stackoverflow.com/users/6858300/sunson-alone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 53300882, "answer_count": 1, "score": -1, "last_activity_date": 1542268730, "creation_date": 1542196500, "last_edit_date": 1542268730, "question_id": 53299681, "link": "https://stackoverflow.com/questions/53299681/a-little-confused-about-nsdecimalnumber", "title": "A little confused about NSDecimalNumber?", "body": "<p>there are a short code</p>\n\n<pre><code>    NSString *numString = @\"2128.123123\";\n    NSDecimalNumber *large = [NSDecimalNumber decimalNumberWithString:numString];\n    NSDecimalNumberHandler *decimalHandler = [NSDecimalNumberHandler decimalNumberHandlerWithRoundingMode:NSRoundPlain scale:2 raiseOnExactness:NO raiseOnOverflow:NO raiseOnUnderflow:NO raiseOnDivideByZero:YES];\n    NSDecimalNumber *fin = [large decimalNumberByRoundingAccordingToBehavior:decimalHandler];\n    NSLog(@\"%@\",fin);\n</code></pre>\n\n<p>seem ok, print \"2128.12\".</p>\n\n<p>.....</p>\n\n<p>but you can try numString = @\"78.991\";</p>\n\n<pre><code>NSLog(@\"%@\",fin)\n</code></pre>\n\n<p>print \"78.98999999999999\"....</p>\n\n<p>why scale is invalid? expect \"78.99\"</p>\n\n<hr>\n"}, {"tags": ["ios", "objective-c", "core-data", "database-migration", "versioning"], "answers": [{"tags": [], "owner": {"reputation": 2541, "user_id": 345014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb4e603323274d3510473954390313b?s=128&d=identicon&r=PG", "display_name": "Peter Pajchl", "link": "https://stackoverflow.com/users/345014/peter-pajchl"}, "is_accepted": false, "score": 0, "last_activity_date": 1542200978, "creation_date": 1542200978, "answer_id": 53301011, "question_id": 53298390, "link": "https://stackoverflow.com/questions/53298390/core-data-versioning-migration-after-deleting-entities/53301011#53301011", "title": "Core data versioning/migration after deleting entities", "body": "<p>As mentioned in Apple's documentation</p>\n\n<p><a href=\"https://developer.apple.com/documentation/coredata/using_lightweight_migration\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/coredata/using_lightweight_migration</a></p>\n\n<blockquote>\n  <p>You can add, remove, and rename entities in the hierarchy.</p>\n</blockquote>\n\n<p>So, yes, you need to provide migration (new version model) but can stick to a light-weight migration, hence it will be done automatically based on changes done between the 2 models.</p>\n"}], "owner": {"reputation": 1600, "user_id": 3307233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6696806313e6b7dcc35c364c4f613e5?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Gaikar", "link": "https://stackoverflow.com/users/3307233/pankaj-gaikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542200978, "creation_date": 1542192471, "question_id": 53298390, "link": "https://stackoverflow.com/questions/53298390/core-data-versioning-migration-after-deleting-entities", "title": "Core data versioning/migration after deleting entities", "body": "<p>I have a database which consists of 3 entities, say \n<em>'IronMan', 'CaptainAmerica' and 'SpiderMan'</em>.\nWith new changes, I want to delete all three entities and create another entity called 'Thanos'.</p>\n\n<p>I would not need to use any of the code and data stored earlier with entities <em>'IronMan', 'CaptainAmerica' and 'SpiderMan'</em>. Do I need to do core data versioning or migration in this case?</p>\n"}, {"tags": ["ios", "objective-c", "frameworks", "ios12", "idfa"], "comments": [{"owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "edited": false, "score": 0, "creation_date": 1542267728, "post_id": 53298053, "comment_id": 93509177, "body": "Have you tried the <code>@import AdSupport;</code> or link against the framework in project?"}, {"owner": {"reputation": 938, "user_id": 2480075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWQET.jpg?s=128&g=1", "display_name": "Andrey Gagan", "link": "https://stackoverflow.com/users/2480075/andrey-gagan"}, "reply_to_user": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "edited": false, "score": 0, "creation_date": 1542276922, "post_id": 53298053, "comment_id": 93514261, "body": "We have <code>#include &lt;AdSupport&#47;AdSupport.h&gt;</code>. And again - the same build works for iOS10, 11. But not for iOS12. Looks like client somehow exclude linking exactly for iOS12 - but how"}], "answers": [{"comments": [{"owner": {"reputation": 938, "user_id": 2480075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWQET.jpg?s=128&g=1", "display_name": "Andrey Gagan", "link": "https://stackoverflow.com/users/2480075/andrey-gagan"}, "edited": false, "score": 0, "creation_date": 1542622465, "post_id": 53333149, "comment_id": 93620743, "body": "Man, thank you so much for this answer! I really appreciate it. Could you point the sample code with <code>NSBundle</code> and <code>-(BOOL)load</code>?"}, {"owner": {"reputation": 938, "user_id": 2480075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWQET.jpg?s=128&g=1", "display_name": "Andrey Gagan", "link": "https://stackoverflow.com/users/2480075/andrey-gagan"}, "edited": false, "score": 0, "creation_date": 1542623617, "post_id": 53333149, "comment_id": 93621362, "body": "NSBundle *b = [NSBundle bundleWithPath:@&quot;/System/Library/Frameworks/AdSupport.framew&zwnj;&#8203;ork&quot;];     BOOL success = [b load];"}, {"owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "reply_to_user": {"reputation": 938, "user_id": 2480075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWQET.jpg?s=128&g=1", "display_name": "Andrey Gagan", "link": "https://stackoverflow.com/users/2480075/andrey-gagan"}, "edited": false, "score": 0, "creation_date": 1542681742, "post_id": 53333149, "comment_id": 93646811, "body": "Updated, you may need to enhance the compatibility of kinds of the device for products."}], "tags": [], "owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "is_accepted": true, "score": 2, "last_activity_date": 1542681872, "last_edit_date": 1542681872, "creation_date": 1542352747, "answer_id": 53333149, "question_id": 53298053, "link": "https://stackoverflow.com/questions/53298053/asidentifiermanager-is-not-found-in-ios12/53333149#53333149", "title": "ASIdentifierManager is not found in iOS12", "body": "<p>This may not answer your question completely, just text what I know and my guess.</p>\n\n<p><strong>First</strong>, the dynamic frameworks won't be loaded in your app process until you <strong>use</strong> it, such as the frameworks under the directory which are available in iOS with simulator device.</p>\n\n<pre><code>&gt; cd /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/CoreSimulator/Profiles/Runtimes/iOS.simruntime/Contents/Resources/RuntimeRoot/System/Library/Frameworks\n&gt; # Now there are plenty of frameworks here.\n&gt; file  AdSupport.framework/AdSupport\nMach-O 64-bit dynamically linked shared library x86_64\n</code></pre>\n\n<p>How to <strong>use</strong> it? TLDR, call it with <code>[ASIdentifierManager sharedManager]</code> in your app anywhere, link against the framework firstly and compile it successfully, of course.</p>\n\n<p><strong>Second</strong>, what's the difference between using <code>NSClassFromString()</code> directly and calling <code>[ASIdentifierManager sharedManager]</code> anywhere?</p>\n\n<p>For the former case, your application won't load the <code>AdSupport</code> framework bundle since there are not symbol named <code>ASIdentifierManager</code> in your executable program when the os kernel loads your program, it can be proved by print your app main bundle path and find the app executable file, try to <code>nm &lt;path/to/executable_app&gt; | grep \"ASIdentifierManager\"</code>, nothing will be found in result since you didn't <em>use</em> it.</p>\n\n<p>For the latter one, try to grep the same symbol in the executable program, there it is.</p>\n\n<blockquote>\n  <p>Note: it's not os kernel loads the frameworks by <code>nm</code> result list but the kernel loads the frameworks containing the symbols, check out more info about the dynamic loader <a href=\"https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man3/dyld.3.html\" rel=\"nofollow noreferrer\">dyld</a>.</p>\n</blockquote>\n\n<p><strong>Third</strong>, <code>NSClassFromString</code> only checks the loaded classes, if the <code>AdSupport</code> framework doesn't be loaded, it returns nil without trying to load the framework containing the target class.</p>\n\n<p><strong>Forth</strong>, it's impossible to recall the difference between in iOS 10/11 and iOS 12 until you paste out more context about the IDFA and <code>AdSupport</code> framework usage in your project. Here is my one guess, some of the dependent libraries <strong>use</strong> the <code>AdSupport</code> framework in the early version but iOS 12, you have to try to dump the symbol list between in iOS 11 and iOS 12 and compare the result.</p>\n\n<p><strong>Fifth</strong>, I'm not sure what you want, maybe you're trying to avoid importing <code>AdSupport</code> framework explicitly, how about initializing a <code>NSBundle</code> by framework path and call the <code>-(BOOL)load</code> of <code>NSBundle</code> class, then you could get the <code>Class</code> object with <code>NSClassFromString</code>.</p>\n\n<p><strong><em>UPDATE:</em></strong></p>\n\n<pre><code>NSString *strFrameworkPath = nil;\n\n#if TARGET_OS_SIMULATOR\nstrFrameworkPath = [[NSProcessInfo processInfo] environment][@\"DYLD_FALLBACK_FRAMEWORK_PATH\"];\n#else\n// Assume that the AdSupport and Foundation framework are in the same directory.\nstrFrameworkPath = [NSBundle bundleForClass:NSPredicate.class].bundlePath;\nstrFrameworkPath = [strFrameworkPath stringByDeletingLastPathComponent];\n#endif\n\nstrFrameworkPath = [strFrameworkPath stringByAppendingPathComponent:@\"AdSupport.framework\"];\nNSAssert([[NSFileManager defaultManager] fileExistsAtPath:strFrameworkPath], @\"Invalid framework bundle path!\");\n\nNSBundle *bundle = [NSBundle bundleWithPath:strFrameworkPath];\n\nif (!bundle.isLoaded) {\n    NSError *error = nil;\n\n    if (![bundle loadAndReturnError:&amp;error]) {\n        DDLogError(@\"Load framework bundle %@ with error %@\", bundle, error);\n    }\n}\n\nDDLogDebug(@\"bundle: %@\", bundle.bundlePath);\nDDLogDebug(@\"class: %@\", NSClassFromString(@\"ASIdentifierManager\"));\n</code></pre>\n\n<p>You may need to enhance the compatibility of kinds of the device for products, for more details about the <code>NSBundle</code> usage, check out <a href=\"https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFBundles/AccessingaBundlesContents/AccessingaBundlesContents.html\" rel=\"nofollow noreferrer\">the official documentation here</a>.</p>\n"}], "owner": {"reputation": 938, "user_id": 2480075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWQET.jpg?s=128&g=1", "display_name": "Andrey Gagan", "link": "https://stackoverflow.com/users/2480075/andrey-gagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 1, "accepted_answer_id": 53333149, "answer_count": 1, "score": 5, "last_activity_date": 1542681872, "creation_date": 1542191451, "last_edit_date": 1542194302, "question_id": 53298053, "link": "https://stackoverflow.com/questions/53298053/asidentifiermanager-is-not-found-in-ios12", "title": "ASIdentifierManager is not found in iOS12", "body": "<p>I m writing here cos I'm really stuck and can't find an answer.</p>\n\n<p>We have a small framework who can collect IDFA inside.\nFor IDFA collection first at all we checks <code>NSClassFromString(@\"ASIdentifierManager\")</code></p>\n\n<p>The problem is:</p>\n\n<p>Imagine we have a client and this client released version for iOS10-iOS12.\nAnd this client gets IDFA for iOS10 and iOS11, but for all iOS12 there is no IDFA at all! After logs checked we have found that <code>NSClassFromString(@\"ASIdentifierManager\")</code> is nil only for iOS12..</p>\n\n<p>How the client could add a framework for iOS10, 11 but not for iOS12?</p>\n\n<p>On the other hand, another client is doing well with iOS12.</p>\n"}, {"tags": ["objective-c", "xcode", "gnupg"], "answers": [{"tags": [], "owner": {"reputation": 2152, "user_id": 255968, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/019c9cdb8678f8749444d83b44ce07c9?s=128&d=identicon&r=PG", "display_name": "pfandrade", "link": "https://stackoverflow.com/users/255968/pfandrade"}, "is_accepted": false, "score": 0, "last_activity_date": 1542191005, "creation_date": 1542191005, "answer_id": 53297907, "question_id": 53297599, "link": "https://stackoverflow.com/questions/53297599/bulding-on-xcode-fails/53297907#53297907", "title": "Bulding on xcode fails", "body": "<p>The build process doesn't run in a sandbox. That script is trying to install GPGMail under <code>/Users/jamesbednell/Library/Mail/Bundles</code> but failing.</p>\n\n<p>Try creating that folder manually and then rebuild on Xcode.</p>\n"}], "owner": {"reputation": 2310, "user_id": 1928275, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/oOgrZ.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/1928275/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542191005, "creation_date": 1542190019, "question_id": 53297599, "link": "https://stackoverflow.com/questions/53297599/bulding-on-xcode-fails", "title": "Bulding on xcode fails", "body": "<p>I'm trying to build the latest version of GPGMail for MacOS Mojave, and within xCode when building the GPGMail module, I get an error in one of the last \"Build Phases\"</p>\n\n<p>All I simply did was downloaded the source code, and opened it with xcode.\nBut of what I understand, this has to do with the fact it's being executed under Apple Sandbox.</p>\n\n<p>I've tried disabling the entitlements list, but that had no effect;</p>\n\n<p>Any suggestion?\n<a href=\"https://i.stack.imgur.com/b5VLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b5VLM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "audio", "video"], "comments": [{"owner": {"reputation": 579, "user_id": 2458390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ghADX.png?s=128&g=1", "display_name": "Aanchal Chaurasia", "link": "https://stackoverflow.com/users/2458390/aanchal-chaurasia"}, "edited": false, "score": 0, "creation_date": 1542196283, "post_id": 53297565, "comment_id": 93479746, "body": "This might help you :  <a href=\"https://stackoverflow.com/questions/3440266/how-to-add-audio-to-video-file-on-iphone-sdk\" title=\"how to add audio to video file on iphone sdk\">stackoverflow.com/questions/3440266/&hellip;</a>"}, {"owner": {"reputation": 408, "user_id": 2831746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nHYKp.jpg?s=128&g=1", "display_name": "Chetan sharma", "link": "https://stackoverflow.com/users/2831746/chetan-sharma"}, "reply_to_user": {"reputation": 579, "user_id": 2458390, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/ghADX.png?s=128&g=1", "display_name": "Aanchal Chaurasia", "link": "https://stackoverflow.com/users/2458390/aanchal-chaurasia"}, "edited": false, "score": 0, "creation_date": 1542203825, "post_id": 53297565, "comment_id": 93484373, "body": "@AanchalChaurasia Thanks you for this answer, but this is an alternative solution, this is for if you all ready have a video file in your library, i need to merge the audio while user recording the video from camera."}], "owner": {"reputation": 408, "user_id": 2831746, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nHYKp.jpg?s=128&g=1", "display_name": "Chetan sharma", "link": "https://stackoverflow.com/users/2831746/chetan-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542189906, "creation_date": 1542189906, "question_id": 53297565, "link": "https://stackoverflow.com/questions/53297565/merge-external-audio-in-video-at-recoding-time-in-ios", "title": "Merge external audio in video at recoding time in ios", "body": "<p>I am developing an app which need to change the audio of camera recorded video, while the time time of recording, but i am only getting the code to change the audio after recording for merge the audio and video, while i want to merge the audio at the time of recording. If any one know how to achieve this feature please help me. Thanks in advance.  </p>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 504, "user_id": 5765434, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0062525af241000e37101b82738350e9?s=128&d=identicon&r=PG&f=1", "display_name": "kangarooChris", "link": "https://stackoverflow.com/users/5765434/kangaroochris"}, "edited": false, "score": 0, "creation_date": 1542165748, "post_id": 53292443, "comment_id": 93466810, "body": "maybe you can also tell me why this is always zero:  int dist = distanceBetweenPoints(middle, topLeft);      int factor = 450/dist;  ....factor is zero for some reason, whilst dist has a value of 350."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 504, "user_id": 5765434, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0062525af241000e37101b82738350e9?s=128&d=identicon&r=PG&f=1", "display_name": "kangarooChris", "link": "https://stackoverflow.com/users/5765434/kangaroochris"}, "edited": false, "score": 0, "creation_date": 1542167287, "post_id": 53292443, "comment_id": 93467074, "body": "If you have a new question please ask it as a <i>question</i> rather than &quot;leeching&quot; in the comments."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1542163437, "creation_date": 1542163437, "answer_id": 53292443, "question_id": 53292328, "link": "https://stackoverflow.com/questions/53292328/when-accessing-my-nsmutablearray-i-get-an-error-message-like-cannot-initialize/53292443#53292443", "title": "When accessing my NSMutableArray I get an error message like &quot;Cannot initialize a variable of type &#39;int&#39; with an rvalue of type &#39;id&#39;&quot;", "body": "<p>This line makes no sense:</p>\n\n<pre><code>int y = (int)pointsArray[i];\n</code></pre>\n\n<p>It is impossible for an NSArray to contain <code>int</code> values. It can contain only <em>objects</em>, and in Objective-C an <code>int</code> is not an object. </p>\n\n<p>Perhaps you mean</p>\n\n<pre><code>int y = [pointsArray[i] intValue];\n</code></pre>\n\n<p>(but I\u2019m just guessing that this NSArray contains NSNumber objects; I have no way of knowing, as you have given no information about that)</p>\n"}], "owner": {"reputation": 504, "user_id": 5765434, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0062525af241000e37101b82738350e9?s=128&d=identicon&r=PG&f=1", "display_name": "kangarooChris", "link": "https://stackoverflow.com/users/5765434/kangaroochris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53292443, "answer_count": 1, "score": -2, "last_activity_date": 1542163437, "creation_date": 1542162420, "question_id": 53292328, "link": "https://stackoverflow.com/questions/53292328/when-accessing-my-nsmutablearray-i-get-an-error-message-like-cannot-initialize", "title": "When accessing my NSMutableArray I get an error message like &quot;Cannot initialize a variable of type &#39;int&#39; with an rvalue of type &#39;id&#39;&quot;", "body": "<p>I have the following function and I am struggling to get the y value out as an int. </p>\n\n<pre><code>+ (NSMutableArray *) cleanPoints:(NSMutableArray *)pointsArray{\n\nNSMutableArray *mutableArray = [NSMutableArray array];\n\nfor(int i = 0; i&lt;pointsArray.count-1; i++){\n\n    CLog(@\"pointsArray %@\", pointsArray[i]);   /// here it gives me the correct number, like 345\n\n    int y = (int)pointsArray[i];    //// here seems to be the problem\n    CLog(@\"y = %d\", y);     ///// y is a weird number, like y = 384643392\n\n    if (y &lt; 4 || y &gt; -4){\n        y = 0;\n    }\n\n    //create Array\n    [mutableArray addObject:@(y)];\n\n    }\n    return mutableArray;\n}\n</code></pre>\n\n<p>If I take out the (int) from the int y = (int)pointsArray[I] line then I get the error \"Cannot initialize a variable of type 'int' with an rvalue of type 'id'</p>\n"}, {"tags": ["ios", "objective-c", "nsarray"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1542158931, "post_id": 53291656, "comment_id": 93465306, "body": "Wouldn&#39;t your ranges be 0-2, 3-4 and 5-7?  I don&#39;t think an <code>NSIndexSet</code> is what you want.  You want an array of <code>NSRange</code>. You would just need to iterate over the array, building the ranges."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542159428, "post_id": 53291656, "comment_id": 93465400, "body": "For an index set there&#39;s not really a distinction between (0-2 3-4 5-7) and (0-7). An index is either in the set or not. There&#39;s no &quot;grouping&quot;."}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1542159476, "post_id": 53291656, "comment_id": 93465408, "body": "@Paulw11 Youre correct. Ive fixed the question body and altered the question to allow other possible solutions."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542159616, "post_id": 53291656, "comment_id": 93465437, "body": "@KaneBuckthorpe you&#39;ve edited out the fact that you want the ranges to be delimited by <code>object1</code>."}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542159619, "post_id": 53291656, "comment_id": 93465439, "body": "@KenThomases There actually is some grouping as rangeAtIndex can be used on an NSIndexSet to return the range for the NSIndexSet index"}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542159735, "post_id": 53291656, "comment_id": 93465465, "body": "@KenThomases I&#39;m an idiot. Should be fixed now! Thank you!"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542159800, "post_id": 53291656, "comment_id": 93465482, "body": "There&#39;s no such method on <code>NSIndexSet</code>. If there were, I&#39;d expect it to either: a) expand to all adjacent included indexes, or b) simply reflect an internal implementation detail that clients can&#39;t reliably control or interpret as meaningful."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542159897, "post_id": 53291656, "comment_id": 93465496, "body": "You could certainly use <code>-indexesOfObjectsPassingTest:</code> with <code>return object == object1;</code> to learn the start of each range. The length is then the distance to the next index or, if there&#39;s no next index, the end."}], "answers": [{"comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542346909, "post_id": 53293238, "comment_id": 93543774, "body": "<code>NSRange</code> is not an object. It can&#39;t be added to an <code>NSArray</code>. You could wrap it in an <code>NSValue</code>, but that&#39;s cumbersome."}], "tags": [], "owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "is_accepted": false, "score": 1, "last_activity_date": 1542350346, "last_edit_date": 1592644375, "creation_date": 1542170006, "answer_id": 53293238, "question_id": 53291656, "link": "https://stackoverflow.com/questions/53291656/how-to-create-ranges-from-nsarray-by-filtering-matching-conditions/53293238#53293238", "title": "How to create ranges from NSArray by filtering matching conditions?", "body": "<p>An <code>NSIndexSet</code> won't really help, since you are after ranges, not indices.</p>\n<p>You could simply iterate over the array looking for your sentinel object <code>object1</code>, adding instances of <code>NSRange</code> to an array.</p>\n<p>Except, that <code>NSRange</code> is a struct, so you can't add instances directly to <code>NSMutableArray</code>.   There are a few options:</p>\n<ol>\n<li>(And this would be my first choice): Use Swift instead of Objective-C</li>\n<li>Create a custom object to wrap <code>NSRange</code></li>\n<li>Use <code>NSValue</code> to wrap <code>NSRange</code></li>\n<li>Use a C array rather than <code>NSArray</code></li>\n</ol>\n<p>I am going to use option 2, since option 3 involves messing around with the raw bytes of the underlying struct.</p>\n<h2>Range.h</h2>\n<pre><code>@interface Range : NSObject\n\n@property (readonly) NSRange range;\n\n- (id) initWithRange: (NSRange) range\n@end\n</code></pre>\n<h2>Range.m</h2>\n<h1>import &quot;Range.h&quot;</h1>\n<p>@implementation Range</p>\n<pre><code>- (id) initWithRange: (NSRange) range {\n    if (self = [super init]) {\n        _range = range;\n    }\n    \n    return self;\n}\n\n@end\n</code></pre>\n<h2>YourCode.m</h2>\n<pre><code>-(NSArray *) getRanges:(NSArray *)objects delimeter: (NSObject *)object1 \n{\n    int rangeStart = -1;\n    NSMutableArray *ranges = [[NSMutableArray alloc]init];\n    int index;\n    \n    for (index=0; index&lt;objects.count;index++) {\n        if (objects[index] == object1) {\n            if (rangeStart != -1) {\n                Range *range = [[Range alloc] initWithRange:NSMakeRange(rangeStart,index-rangeStart)];\n                [ranges addObject:range];\n            }\n            rangeStart = index;\n        }\n    }\n    \n    if (rangeStart != -1) {\n        Range *range = [[Range alloc] initWithRange:NSMakeRange(rangeStart,index-rangeStart)];\n        [ranges addObject:range];\n    }\n    return ranges;\n}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1542350346, "creation_date": 1542156910, "last_edit_date": 1542160506, "question_id": 53291656, "link": "https://stackoverflow.com/questions/53291656/how-to-create-ranges-from-nsarray-by-filtering-matching-conditions", "title": "How to create ranges from NSArray by filtering matching conditions?", "body": "<pre><code>NSArray *objects = @[object1, object2, object3, object1, object5, object1, object6, object7];\n</code></pre>\n\n<p>How would be best to get the ranges delimited by object1 like this:</p>\n\n<pre><code>(0-2 3-4 5-7)\n</code></pre>\n\n<p>I know of this method to create a NSIndexSet from an array, but im not sure how i could use it to achieve the above index set.</p>\n\n<pre><code>NSIndexSet*indexSet = [objects indexesOfObjectsPassingTest:^(id object, NSUInteger idx, BOOL *stop) {\n    return ; //Do some checks\n}];\n</code></pre>\n\n<p>Using objects.count may also be useful for the final range, but I am unsure of  the best way of doing this.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542143391, "post_id": 53289230, "comment_id": 93460815, "body": "1. What about <code>5-7</code>? 2. Please show your code for populating this <code>NSIndexSet</code>."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542143599, "post_id": 53289230, "comment_id": 93460886, "body": "Let&#39;s say the index set contains <code>0 3 8-9 10 15</code>. Should the result be <code>0-2, 3-7, 8-14, 15-25</code> or <code>0-2, 3-7, 8-9, 10-14, 15-25</code>?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542144185, "post_id": 53289230, "comment_id": 93461123, "body": "@rmaddy - Is not <code>NSIndexSet</code> a set of indices and the range notation just a way of describing it? So <code>0 3 8-9 10 15</code> is actually <code>0 3 8-10 15</code> and your question therefore moot? I think the OP wants to create ranges which start with the first index of a run of indices present in the set, such a run might have length 1, and end with the next index not in the set which immediately preceeds one which is (or immediately preceeds the end of the set)."}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542144600, "post_id": 53289230, "comment_id": 93461289, "body": "@rmaddy you&#39;re very right. Not sure what happened to 5-7 have edited it back in. Sorry about that!"}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542144791, "post_id": 53289230, "comment_id": 93461380, "body": "@rmaddy In that example it would be 0-2, 3-7, 8-9, 10-14, 15-25.  Noting that 9 will be ignored"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542145166, "post_id": 53289230, "comment_id": 93461542, "body": "You still need to update your question with the code that populates the <code>NSIndexSet</code> you want to process."}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542145570, "post_id": 53289230, "comment_id": 93461720, "body": "@rmaddy Have added the code used to populate the NSIndexSet. The Array used is filled by users and not by myself. There cant be multiple KBGroupCells in a row, but I need to remember any ignored ones when i populate my table later."}, {"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1542146432, "post_id": 53289230, "comment_id": 93462032, "body": "@CRD was correct also. It would have ended up being 8-10 rather then having 8-9 and 10. Due to 10 being incremental from 9"}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1542147127, "creation_date": 1542147127, "answer_id": 53290286, "question_id": 53289230, "link": "https://stackoverflow.com/questions/53289230/how-can-i-filter-and-create-ranges-from-nsindexset/53290286#53290286", "title": "How can i filter and create ranges from NSIndexSet?", "body": "<p>Here is a possible algorithm, coding and some error checks are left as exercises!</p>\n\n<pre><code>cursor &lt;- theSet first contained index\nresult &lt;- empty array\n\nwhile cursor &lt;= maxIndex\n   start &lt;- cursor\n   while cursor &lt;= maxIndex and theSet contains cursor do increment cursor\n   while cursor &lt;= maxIndex and theSet does not contain cursor do increment cursor\n   newRange &lt;- start to cursor-1\n   add newRange to result\nend\n\nreturn result\n</code></pre>\n\n<p>That algorithm uses just two methods of <code>NSIndexSet</code> - one to find the first index in the set and the other to test if an index is in the set. There are \"higher level\" methods which might speed up the algorithm, but with a range of 0-25 stepping through the indices should be sufficient.</p>\n\n<p>HTH</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "edited": false, "score": 0, "creation_date": 1542164269, "post_id": 53291075, "comment_id": 93466483, "body": "could you tell me how this ignores the values I dont want?  I would like to also add the ignored indexes to a separate array but im struggling to understand where exactly that happens."}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "reply_to_user": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "edited": false, "score": 1, "creation_date": 1542165935, "post_id": 53291075, "comment_id": 93466844, "body": "If any range\u2019s length in block &gt; 1, collect NSMakeRange(range.location +1, range.length-1)"}], "tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": true, "score": 1, "last_activity_date": 1542158956, "last_edit_date": 1542158956, "creation_date": 1542152314, "answer_id": 53291075, "question_id": 53289230, "link": "https://stackoverflow.com/questions/53289230/how-can-i-filter-and-create-ranges-from-nsindexset/53291075#53291075", "title": "How can i filter and create ranges from NSIndexSet?", "body": "<p>I assume you have the NSIndexSet:</p>\n\n<pre><code>    let original =   IndexSet(arrayLiteral: 0, 3, 5).union(IndexSet(integersIn: 8...9)).union( IndexSet.init(arrayLiteral: 12,14)).union(IndexSet(integersIn: 17...19)).union(IndexSet.init(arrayLiteral: 26,27))\n    let nsIndex = original as! NSIndexSet\n</code></pre>\n\n<p>After converting it to IndexSet and you can easily get two arrays. One is [NSRange] and the other is [closedRange]</p>\n\n<pre><code>    let index = nsIndex as! IndexSet\n    let rangeView = index.rangeView\n    print  ( Array(rangeView.enumerated().map{\n      NSRange.init(location:($0.element.first!) , length: ((rangeView[$0.offset + 1].first!  - ($0.element.first!))))\n    }.dropLast()))\n\n    print  ( Array(rangeView.enumerated().map{\n                ($0.element.first!)...(rangeView[$0.offset + 1].first!) - 1\n        }.dropLast()))\n</code></pre>\n\n<p>If it's objective-C. Just like this:</p>\n\n<pre><code>NSMutableIndexSet * nsIndex =    [[NSMutableIndexSet alloc] init];\n[nsIndex addIndex: 0];\n[nsIndex addIndex: 3];\n[nsIndex addIndex: 5];\n[nsIndex addIndexesInRange:NSMakeRange(8, 2)];\n[nsIndex addIndex: 12];\n[nsIndex addIndex: 14];\n[nsIndex addIndexesInRange:NSMakeRange(17, 3)];\n[nsIndex addIndex: 26];\n__block int count = 0;\n__block NSMutableArray * ranges = [NSMutableArray array];\n[nsIndex enumerateRangesUsingBlock:^(NSRange range, BOOL * _Nonnull stop) {\n    count ++;\n    [ranges addObject:[NSValue valueWithRange: range]];\n}];\nNSMutableArray * result  = [NSMutableArray array];\nfor (NSUInteger location = 0 ; location &lt; count - 1 ; location++) {\n    NSUInteger loc = ((NSValue *) ranges[location]).rangeValue.location;\n    [result addObject:[NSValue valueWithRange: (NSMakeRange( loc,  ((NSValue *) ranges[location + 1]).rangeValue.location -  loc))]];\n}\nNSLog(result.description);\n</code></pre>\n\n<p>or With one round:</p>\n\n<pre><code>__block NSUInteger temp = nsIndex.firstIndex;\n__block NSMutableArray * result = [NSMutableArray array];\n[nsIndex enumerateRangesWithOptions:NSEnumerationReverse usingBlock:^(NSRange range, BOOL * _Nonnull stop) {\n    [result insertObject: [NSValue valueWithRange: NSMakeRange(range.location, temp - range.location)] atIndex:0];\n    temp = range.location ;\n}];\n  result =  [result subarrayWithRange:NSMakeRange(0, result.count - 1)];\n  NSLog(result.description);\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8414142, "user_type": "registered", "profile_image": "https://graph.facebook.com/1916727561934741/picture?type=large", "display_name": "Kane Buckthorpe", "link": "https://stackoverflow.com/users/8414142/kane-buckthorpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 53291075, "answer_count": 2, "score": 1, "last_activity_date": 1599131671, "creation_date": 1542141914, "last_edit_date": 1599131671, "question_id": 53289230, "link": "https://stackoverflow.com/questions/53289230/how-can-i-filter-and-create-ranges-from-nsindexset", "title": "How can i filter and create ranges from NSIndexSet?", "body": "<p>I have an NSIndexSet created by</p>\n<pre><code>NSIndexSet* groups = [self.specifiers indexesOfObjectsPassingTest:^(PSSpecifier*specifier, NSUInteger idx, BOOL *stop) {\nreturn [(NSString*)[specifier.properties objectForKey:@&quot;cell&quot;] isEqualToString:@&quot;KBGroupCell&quot;]; }];\n</code></pre>\n<p>that could look something like this:</p>\n<p><code>(0 3 5 8-9 12 14 17-19)</code> and a given max of 25.</p>\n<p>Im hoping to filter and create ranges, so that I can achieve an output looking like:</p>\n<pre><code>0-2\n3-4\n5-7\n8-11\n12-13\n14-16\n17-25\n</code></pre>\n<p>The Array used is filled by users and not by myself. KBGroupCells are used to populate headers and footers in a table so there shouldn't be consecutive recognised. I need to remember the ignored numbers (9, 18 and 19) when I populate my table later.</p>\n<p>By using <code>rangeAtIndex</code> I can identify the the ranges in the set that contain more than one, so could possibly be used for finding the numbers to ignore.</p>\n<p>How can I achieve this?</p>\n"}, {"tags": ["ios", "objective-c", "timestamp", "gmt"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1542130338, "post_id": 53286456, "comment_id": 93455187, "body": "A user can set the time on their iOS device to anything they want."}, {"owner": {"reputation": 6020, "user_id": 4052193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6062c93ce987aa90ac59d06e758f03b6?s=128&d=identicon&r=PG&f=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/4052193/columbo"}, "edited": false, "score": 1, "creation_date": 1542130926, "post_id": 53286456, "comment_id": 93455444, "body": "You should generally not trust the client anyway, even the operating system made it hard to change the time (which it doesn&#39;t), it wouldn&#39;t prevent clients spoofing packets. Use the time that the server receives the message."}], "owner": {"reputation": 11, "user_id": 2562899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb4d981cdb4c3b176ebbf114f63b4bb?s=128&d=identicon&r=PG", "display_name": "user179549", "link": "https://stackoverflow.com/users/2562899/user179549"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542130429, "creation_date": 1542129794, "last_edit_date": 1542130429, "question_id": 53286456, "link": "https://stackoverflow.com/questions/53286456/is-it-possible-that-the-gmt-time-in-idevice-will-be-distorted", "title": "Is it possible that the GMT time in idevice will be distorted?", "body": "<p>I have developed a program in Objective-C which sends a GMT timestamp to the server for sorting the data first. I wonder if there is any way to send the time to the server that is not true.</p>\n\n<p>I use:</p>\n\n<pre><code>long long milliseconds = (long long)([[NSDate date] timeIntervalSince1970] * 1000.0);\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "metal", "xpc", "nsxpcconnection"], "comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542131040, "post_id": 53286138, "comment_id": 93455499, "body": "What happens if you just try treating the shared handle object as an XPC object? For example, storing it in an XPC dictionary or the like?"}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1542131693, "post_id": 53286138, "comment_id": 93455790, "body": "If I cast an MTLSharedTextureHandle to an <code>xpc_object_t</code> and then call <code>xpc_dictionary_set_value</code>, it just crashes when <code>xpc_connection_send_message</code> is called. The stack trace ends at <code>_xpc_dictionary_serialize_apply</code> with an EXC_BAD_ACCESS (code=EXC_I386_GPFLT)."}], "answers": [{"comments": [{"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1543230754, "post_id": 53476638, "comment_id": 93829469, "body": "Thanks for the insight Russ. If a shared texture is a wrapper around an IOSurface, do I gain anything by rendering to a shared texture in the service and then blit&#39;ing from that texture in the application versus rendering to an IOSurface in the service, sending that to the app, wrapping it in a new texture and then blit&#39;ing from that texture? The only extra step I see is having to wrap the IOSurface with a texture to use a blit encoder on the app side, but that seems to be pretty quick. (I&#39;m using Core Image in the service to render images that will get copied to a texture in the app.)"}, {"owner": {"reputation": 14860, "user_id": 551519, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/89e9af7c5754673419c8fac930319700?s=128&d=identicon&r=PG", "display_name": "russbishop", "link": "https://stackoverflow.com/users/551519/russbishop"}, "reply_to_user": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 1, "creation_date": 1543268750, "post_id": 53476638, "comment_id": 93849059, "body": "It shouldn&#39;t make much difference; the key is to get it into an IOSurface. If you&#39;re rendering for on-screen display somewhere else besides <code>CAMetalLayer</code> then I suggest setting a <code>CALayer.contents</code> property to the <code>IOSurface</code>, then call <code>setContentsChanged</code> whenever the surface is modified. Apply transforms via the layer if needed for on-screen display. That avoids any blitting; the pixels can stay on the GPU the entire time. (This depends on exactly what you&#39;re doing though)"}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1543270541, "post_id": 53476638, "comment_id": 93849814, "body": "I&#39;m building a custom &quot;Image View&quot; to display images using <code>MTKView</code>. I&#39;m using an XPC service to decode the images into a <code>CIImage</code>, then using a <code>CIContent</code> to render into an <code>IOSurface</code>. The surface is then sent to the application where it&#39;s wrapped in an <code>MTLTexture</code> so that I can blit its contents into a &quot;master&quot; texture. The surface is then recycled. I&#39;m trying to understand what the most efficient way is for me to get the rendered image data from the XPC service and into a texture on the app side, where I can then read from it in my shader."}, {"owner": {"reputation": 14860, "user_id": 551519, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/89e9af7c5754673419c8fac930319700?s=128&d=identicon&r=PG", "display_name": "russbishop", "link": "https://stackoverflow.com/users/551519/russbishop"}, "reply_to_user": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 1, "creation_date": 1543642063, "post_id": 53476638, "comment_id": 94001452, "body": "I would push all of that into the XPC service. The only thing the app needs is a reference to the surface it needs to put on screen. If you really need to blit then do that in the XPC service. One initial message to get the master surface, then a message each time the XPC service updates the content so the app can poke the layer."}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1543655837, "post_id": 53476638, "comment_id": 94003626, "body": "I had played around with putting everything in the service but I could never quite figure out how to properly do all the synchronization. If I&#39;m rendering to a surface in the service, then I eventually need to get that surface over to the app and wrap it in a texture so that I can sample from it in my fragment shader. If I immediately recycle that surface back to the service, then on my next render pass I might not have any data for the fragment shader to sample from. That&#39;s why I blit into a &quot;master&quot; texture so that the service always has something to sample from."}, {"owner": {"reputation": 14860, "user_id": 551519, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/89e9af7c5754673419c8fac930319700?s=128&d=identicon&r=PG", "display_name": "russbishop", "link": "https://stackoverflow.com/users/551519/russbishop"}, "reply_to_user": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1544743018, "post_id": 53476638, "comment_id": 94394692, "body": "@kennyc Oh I meant move all metal rendering into the XPC service, including your fragment shader. That may or may not be practical, it depends on what your app is doing."}], "tags": [], "owner": {"reputation": 14860, "user_id": 551519, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/89e9af7c5754673419c8fac930319700?s=128&d=identicon&r=PG", "display_name": "russbishop", "link": "https://stackoverflow.com/users/551519/russbishop"}, "is_accepted": true, "score": 2, "last_activity_date": 1543218327, "creation_date": 1543218327, "answer_id": 53476638, "question_id": 53286138, "link": "https://stackoverflow.com/questions/53286138/how-do-you-use-mtlsharedtexturehandle-or-mtlsharedeventhandle-with-the-c-xpc-int/53476638#53476638", "title": "How do you use MTLSharedTextureHandle or MTLSharedEventHandle with the C XPC interface on macOS?", "body": "<p><code>MTLSharedTextureHandle</code> only works with <code>NSXPCConnection</code>. If you're creating the texture from an IOSurface you can share the surface instead which is effectively the same thing. Make sure you are using the same GPU (same <code>id&lt;MTLDevice&gt;</code>) in both processes.</p>\n\n<p>There is no workaround for <code>MTLSharedEventHandle</code> using public API.</p>\n\n<p>I recommend switching to <code>NSXPCConnection</code> if you can. Unfortunately there isn't a good story for partially changing over using public API, you'll have to do it all at once or split your XPC service into two separate services.</p>\n"}], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 53476638, "answer_count": 1, "score": 0, "last_activity_date": 1543218327, "creation_date": 1542128681, "question_id": 53286138, "link": "https://stackoverflow.com/questions/53286138/how-do-you-use-mtlsharedtexturehandle-or-mtlsharedeventhandle-with-the-c-xpc-int", "title": "How do you use MTLSharedTextureHandle or MTLSharedEventHandle with the C XPC interface on macOS?", "body": "<p><strong>TL;DR:</strong> How do you encode and decode an <code>MTLSharedTextureHandle</code> and <code>MTLSharedEventHandler</code> such that it can be transported across an XPC connection inside an <code>xpc_dictionary</code>?</p>\n\n<hr>\n\n<p>A macOS application I'm working on makes extensive use of XPC services and was implemented using the C-based API. (i.e.: <code>xpc_main, xpc_connection, xpc_dictionary...</code>) This made sense at the time because certain objects, like <code>IOSurfaces</code>, did not support <code>NSCoding/NSSecureCoding</code> and had to be passed using <code>IOSurfaceCreateXPCObject</code>. </p>\n\n<p>In macOS 10.14, Apple introduced new classes for sharing Metal textures and events between processes: <code>MTLSharedTextureHandle</code> and <code>MTLSharedEventHandle</code>. These classes support <code>NSSecureCoding</code> but they don't appear to have a counter-part in the C-XPC interface for encoding/decoding them. </p>\n\n<p>I thought I could use something like <code>[NSKeyedArchiver archivedDataWithRootObject:requiringSecureCoding:error]</code> to just convert them to <code>NSData</code> objects, which can then be stored in an <code>xpc_dictionary</code>, but when I try and do that, I get the following exception: </p>\n\n<pre><code>Caught exception during archival: \nThis object may only be encoded by an NSXPCCoder.\n</code></pre>\n\n<p><em>(NSXPCCoder is a private class.)</em></p>\n\n<p>This happens for both <code>MTLSharedTextureHandle</code> and <code>MTLSharedEventHandle</code>.  I could switch over to using the new <code>NSXPCConnection</code> API but I've already got an extensive amount of code built on the C-interface, so I'd rather not have to make the switch. </p>\n\n<p>Is there any way to archive either of those two classes into a payload that can be stored in an <code>xpc_dictionary</code> for transfer between the service and the client? </p>\n"}, {"tags": ["ios", "objective-c", "jailbreak"], "comments": [{"owner": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 1, "creation_date": 1542557123, "post_id": 53284679, "comment_id": 93602261, "body": "You can just download an IPSW (links available <a href=\"https://www.theiphonewiki.com/wiki/Firmware/iPhone/12.x\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://ipsw.me/\" rel=\"nofollow noreferrer\">here</a>), unzip them, mount the biggest dmg file (the one that&#39;s multiple GB) and navigate to <code>&#47;System&#47;Library&#47;Caches&#47;com.apple.dyld&#47;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 0, "creation_date": 1542557033, "post_id": 53285308, "comment_id": 93602235, "body": "Note that for A12 devices, the cache file is named <code>dyld_shared_cache_arm64e</code>."}], "tags": [], "owner": {"reputation": 8880, "user_id": 2363866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToSkw.png?s=128&g=1", "display_name": "creker", "link": "https://stackoverflow.com/users/2363866/creker"}, "is_accepted": false, "score": 0, "last_activity_date": 1542126202, "creation_date": 1542126202, "answer_id": 53285308, "question_id": 53284679, "link": "https://stackoverflow.com/questions/53284679/how-to-extract-dyld-shared-cache-from-non-jailbroken-device/53285308#53285308", "title": "How to extract dyld_shared_cache from non-jailbroken device?", "body": "<p>You can write an application that, basically, does this:</p>\n\n<pre><code>NSString* documents = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0];\n[NSFileManager.defaultManager copyItemAtPath:@\"/System/Library/Caches/com.apple.dyld/dyld_shared_cache_arm64\" \n                              toPath:[documents stringByAppendingPathComponent:@\"cache\"]]\n</code></pre>\n\n<p>Enable iTunes file sharing in Info.plist of the application and you can grab the file using iTunes.</p>\n"}], "owner": {"reputation": 91, "user_id": 9038880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MstDg.png?s=128&g=1", "display_name": "jusun Lee", "link": "https://stackoverflow.com/users/9038880/jusun-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542126914, "creation_date": 1542124216, "last_edit_date": 1542126914, "question_id": 53284679, "link": "https://stackoverflow.com/questions/53284679/how-to-extract-dyld-shared-cache-from-non-jailbroken-device", "title": "How to extract dyld_shared_cache from non-jailbroken device?", "body": "<p>I want to Reversing the iOS 12 dyld_shared_cache file.\nBut, i don't know how to extract iOS 12 dyld_shared_cache file from non-jailbroken device.\nIs it some way to extract that file?</p>\n"}, {"tags": ["ios", "objective-c", "cllocationmanager"], "comments": [{"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 1, "creation_date": 1542173178, "post_id": 53281839, "comment_id": 93468461, "body": "if not accurate then maybe device is in building or there is storm."}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "reply_to_user": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1542198065, "post_id": 53281839, "comment_id": 93480755, "body": "@GeneCode the device is inside a park. But gps points a building opposite to park"}], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542181965, "post_id": 53281964, "comment_id": 93471545, "body": "Actually, I need to draw a polyline of the user who walks opening my app. While walking CLLocationManager gives wrong coordinates."}], "tags": [], "owner": {"reputation": 4911, "user_id": 5461400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/004O9.jpg?s=128&g=1", "display_name": "Harshal Valanda", "link": "https://stackoverflow.com/users/5461400/harshal-valanda"}, "is_accepted": false, "score": 1, "last_activity_date": 1542115311, "creation_date": 1542115311, "answer_id": 53281964, "question_id": 53281839, "link": "https://stackoverflow.com/questions/53281839/cllocationmanager-update-location-is-not-accurate/53281964#53281964", "title": "CLLocationManager update location is not accurate", "body": "<p>The accuracy of the location data.</p>\n\n<pre><code>locationManager.desiredAccuracy = kCLLocationAccuracyBestForNavigation\nlocationManager.distanceFilter = kCLLocationAccuracyHundredMeters\n</code></pre>\n\n<p>You should assign a value to this property that is appropriate for your usage scenario. </p>\n\n<p><strong>For example</strong> If you need the current location only within a kilometer, you should specify <code>kCLLocationAccuracyKilometer</code> and not <code>kCLLocationAccuracyBestForNavigation</code>. Determining a location with greater accuracy requires more time and more power.</p>\n"}, {"comments": [{"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542181960, "post_id": 53282210, "comment_id": 93471543, "body": "Actually, I need to draw a polyline of the user who walks opening my app. While walking CLLocationManager gives wrong coordinates."}, {"owner": {"reputation": 3734, "user_id": 2231063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/d665E.png?s=128&g=1", "display_name": "Vivek Molkar", "link": "https://stackoverflow.com/users/2231063/vivek-molkar"}, "reply_to_user": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 1, "creation_date": 1542182480, "post_id": 53282210, "comment_id": 93471767, "body": "<code>kCLLocationAccuracyBestForNavigation</code>  is the highest possible accuracy. you should try setting it. But even then I believe the location can&#39;t be perfect to the point. there will always be some scope for error"}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542182732, "post_id": 53282210, "comment_id": 93471858, "body": "Yes but this works in outdoor. But in indoor or the person when entering to a park the location is not accurate"}, {"owner": {"reputation": 3734, "user_id": 2231063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/d665E.png?s=128&g=1", "display_name": "Vivek Molkar", "link": "https://stackoverflow.com/users/2231063/vivek-molkar"}, "reply_to_user": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542183418, "post_id": 53282210, "comment_id": 93472180, "body": "I believe for this kind of tracking using only <code>CLLocation</code> won&#39;t suffice, I think you should explore NFC which may require additional hardware setup."}], "tags": [], "owner": {"reputation": 3734, "user_id": 2231063, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/d665E.png?s=128&g=1", "display_name": "Vivek Molkar", "link": "https://stackoverflow.com/users/2231063/vivek-molkar"}, "is_accepted": false, "score": 1, "last_activity_date": 1542116105, "creation_date": 1542116105, "answer_id": 53282210, "question_id": 53281839, "link": "https://stackoverflow.com/questions/53281839/cllocationmanager-update-location-is-not-accurate/53282210#53282210", "title": "CLLocationManager update location is not accurate", "body": "<p><a href=\"https://developer.apple.com/documentation/corelocation/cllocationmanagerdelegate/1423716-locationmanager?language=objc\" rel=\"nofollow noreferrer\"><code>locationManager:didUpdateToLocation:fromLocation:</code></a>\nis deprecated. It is recommended to use <a href=\"https://developer.apple.com/documentation/corelocation/cllocationmanagerdelegate/1423615-locationmanager?language=objc\" rel=\"nofollow noreferrer\"><code>locationManager:didUpdateLocations:</code></a>.\nIt tells the delegate that new location data is available. The most recent location update is at the end of the array <code>locations</code>.</p>\n\n<hr>\n\n<p>Following are the properties you can explore:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/corelocation/cllocationmanager/1423500-distancefilter\" rel=\"nofollow noreferrer\"><strong>distanceFilter:</strong></a> The minimum distance (measured in meters) a device must move horizontally before an update event is generated.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/corelocation/cllocationmanager/1423836-desiredaccuracy\" rel=\"nofollow noreferrer\"><strong>desiredAccuracy:</strong></a> The accuracy of the location data.</p>\n"}, {"comments": [{"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542184157, "post_id": 53295808, "comment_id": 93472543, "body": "See like if Am entering a park my current location points a building and it is moving nearby places when i wait in a place the current location still get updated. You are getting .. ?"}, {"owner": {"reputation": 1336, "user_id": 1673192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afef5444d5963f7f66b2ac7cd0b82433?s=128&d=identicon&r=PG&f=1", "display_name": "nitin.agam", "link": "https://stackoverflow.com/users/1673192/nitin-agam"}, "reply_to_user": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542199662, "post_id": 53295808, "comment_id": 93481691, "body": "Hmmm, if you have noticed on Google Map many locations do show location nearby road, not of exact place. Suppose you are in a part but Google Map will show get your location of the nearby road.   Got it???"}, {"owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "edited": false, "score": 0, "creation_date": 1542209036, "post_id": 53295808, "comment_id": 93487800, "body": "But i am not using gps option for navigation type"}], "tags": [], "owner": {"reputation": 1336, "user_id": 1673192, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afef5444d5963f7f66b2ac7cd0b82433?s=128&d=identicon&r=PG&f=1", "display_name": "nitin.agam", "link": "https://stackoverflow.com/users/1673192/nitin-agam"}, "is_accepted": false, "score": 0, "last_activity_date": 1542183943, "creation_date": 1542183943, "answer_id": 53295808, "question_id": 53281839, "link": "https://stackoverflow.com/questions/53281839/cllocationmanager-update-location-is-not-accurate/53295808#53295808", "title": "CLLocationManager update location is not accurate", "body": "<p>There are two cases to as you said \"Not accurate\".</p>\n\n<ol>\n<li>Not a current location which you are expecting.</li>\n<li>Little bit difference in latitude and longitude of your current location.</li>\n</ol>\n\n<p>Case 1: Change your current location in your iPhone and then try again to fetch your location.</p>\n\n<p>Case 2: In that case, you should set some values to the location manager's object like desired accuracy and distance filter. </p>\n\n<p>Also, share your code inside this method. Maybe you are doing something wrong.</p>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 1160, "user_id": 6726364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PIyjp.jpg?s=128&g=1", "display_name": "AJ Sanjay", "link": "https://stackoverflow.com/users/6726364/aj-sanjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1542183943, "creation_date": 1542114949, "last_edit_date": 1542115061, "question_id": 53281839, "link": "https://stackoverflow.com/questions/53281839/cllocationmanager-update-location-is-not-accurate", "title": "CLLocationManager update location is not accurate", "body": "<p>I am using <code>CLLocationManager</code> to access the user location the following delegate method return coordinates which are not accurate</p>\n\n<pre><code>-(void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 13444, "user_id": 775896, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/57a86060b65e0f05789f58d501a0aee1?s=128&d=identicon&r=PG", "display_name": "Mrunal", "link": "https://stackoverflow.com/users/775896/mrunal"}, "edited": false, "score": 1, "creation_date": 1542113567, "post_id": 53281371, "comment_id": 93444450, "body": "This is called Categories. It is used to add methods into existing (in-built) classes or for private methods in .mm files. Please refer this links: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>  <a href=\"https://medium.com/ios-os-x-development/an-introduction-to-categories-in-objective-c-d6d55d91569f\" rel=\"nofollow noreferrer\">medium.com/ios-os-x-development/&hellip;</a>  Search for the iOS Objective-C Categories for more details"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1542113633, "post_id": 53281371, "comment_id": 93444497, "body": "That&#39;s an &quot;unnamed&quot; extension. If you create yourself an extension, you chose Category (~Objective-C name for an Extension), a file, and your file should be named &quot;InitialClass+YourExtensionName&quot;, and <code>@interface InitialClass (YourExtensionName)</code> if I remember correctly. <a href=\"https://stackoverflow.com/questions/7136124/class-extension-vs-class-category\" title=\"class extension vs class category\">stackoverflow.com/questions/7136124/&hellip;</a> etc."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10607206"}, "edited": false, "score": 1, "creation_date": 1542114209, "post_id": 53281497, "comment_id": 93444835, "body": "Please Don&#39;t  suggest any link in answer. Give link in comment only."}, {"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1542114311, "post_id": 53281497, "comment_id": 93444889, "body": "Is it better if you copy the answer :? from somewhere? In end of the day I think the answer of the question is &quot;It is anonymous category&quot; and the link is to have more information."}, {"owner": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 3, "creation_date": 1542114452, "post_id": 53281497, "comment_id": 93444963, "body": "The problem is if the links becomes dead, then this answer will be useless."}, {"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1542114527, "post_id": 53281497, "comment_id": 93444999, "body": "okay, I will have it in mind."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1542138674, "post_id": 53281497, "comment_id": 93458966, "body": "It is not an anonymous category.   It is a <i>class extension</i> and it has a very specific purpose that is different from a category."}], "tags": [], "owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "is_accepted": false, "score": 1, "last_activity_date": 1542113723, "creation_date": 1542113723, "answer_id": 53281497, "question_id": 53281371, "link": "https://stackoverflow.com/questions/53281371/what-does-mean-after-interface-in-objective-c/53281497#53281497", "title": "what does () mean after @interface in objective c?", "body": "<p>It is anonymous category check <a href=\"https://useyourloaf.com/blog/objective-c-anonymous-categories/\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 9529, "user_id": 354459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/PoA5H.png?s=128&g=1", "display_name": "herbertD", "link": "https://stackoverflow.com/users/354459/herbertd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 3, "closed_date": 1542118676, "answer_count": 1, "score": -1, "last_activity_date": 1542114156, "creation_date": 1542113303, "question_id": 53281371, "link": "https://stackoverflow.com/questions/53281371/what-does-mean-after-interface-in-objective-c", "closed_reason": "Duplicate", "title": "what does () mean after @interface in objective c?", "body": "<p>Here are two <strong>@interface</strong> in on file, what does the second interface mean with a parentheses () after it ? </p>\n\n<pre><code>@interface JSMessagesViewController : UIViewController &lt;UITableViewDataSource, UITableViewDelegate, UITextViewDelegate, JSMessageInputViewDelegate&gt;\n\n@property (weak, nonatomic) id&lt;JSMessagesViewDelegate&gt; delegate;\n@property (weak, nonatomic) id&lt;JSMessagesViewDataSource&gt; dataSource;\n@property (weak, nonatomic) id&lt;DownloadXMGameDelegate&gt; downloadXMGameDelegate;\n\n@property (strong, nonatomic) UITableView *tableView;\n@property (strong, nonatomic) JSMessageInputView *inputToolBarView;\n@property (assign, nonatomic) CGFloat previousTextViewContentHeight;\n@property (assign, nonatomic, readonly) UIEdgeInsets originalTableViewContentInset;\n\n@property (nonatomic,strong) NSMutableArray *selectedMarks;\n\n#pragma mark - Initialization\n- (UIButton *)sendButton;\n\n#pragma mark - Actions\n- (void)sendPressed:(UIButton *)sender;\n\n#pragma mark - Messages view controller\n- (BOOL)shouldHaveTimestampForRowAtIndexPath:(NSIndexPath *)indexPath;\n- (BOOL)shouldHaveAvatarForRowAtIndexPath:(NSIndexPath *)indexPath;\n- (void)finishSend;\n- (void)setBackgroundColor:(UIColor *)color;\n- (void)scrollToBottomAnimated:(BOOL)animated;\n\n#pragma mark - Keyboard notifications\n- (void)handleWillShowKeyboard:(NSNotification *)notification;\n- (void)handleWillHideKeyboard:(NSNotification *)notification;\n- (void)keyboardWillShowHide:(NSNotification *)notification;\n\n@end\n\n\n@interface JSMessagesViewController () &lt;JSDismissiveTextViewDelegate&gt;\n\n- (void)setup;\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "automatic-ref-counting"], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 1883047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozp5j.jpg?s=128&g=1", "display_name": "Sunil aruru", "link": "https://stackoverflow.com/users/1883047/sunil-aruru"}, "edited": false, "score": 0, "creation_date": 1542134473, "post_id": 53283400, "comment_id": 93457084, "body": "Thanks for answering...from where do you got that countycode instance?"}, {"owner": {"reputation": 447, "user_id": 1883047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozp5j.jpg?s=128&g=1", "display_name": "Sunil aruru", "link": "https://stackoverflow.com/users/1883047/sunil-aruru"}, "edited": false, "score": 0, "creation_date": 1542135186, "post_id": 53283400, "comment_id": 93457408, "body": "Let a = modelclass(country, dialcode) / Let b = modelclass(country, dialcode)/ Let c = modelclass(country, dialcode) / let temparray = [a,b,c] now please write reference counting for each step?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 447, "user_id": 1883047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozp5j.jpg?s=128&g=1", "display_name": "Sunil aruru", "link": "https://stackoverflow.com/users/1883047/sunil-aruru"}, "edited": false, "score": 0, "creation_date": 1542141380, "post_id": 53283400, "comment_id": 93460061, "body": "@Sunilaruru - oops, fixed the <code>CountryCode</code> type, now correctly says <code>CountryModel</code>."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1542142943, "last_edit_date": 1542142943, "creation_date": 1542119916, "answer_id": 53283400, "question_id": 53280457, "link": "https://stackoverflow.com/questions/53280457/how-memory-management-will-work-in-model-classswift-or-objective-c/53283400#53283400", "title": "How memory management will work in Model class(Swift or objective C)", "body": "<p><strong>Simple answer:</strong> automatically (provided you haven't disable ARC)</p>\n\n<p><strong>Slightly longer answer (provided you haven't disabled ARC):</strong></p>\n\n<p>When you assign values to the properties <code>country</code> and <code>dialCode</code> of an instance of <code>CountryModel</code> then that instance will have strong references to the referenced <code>NSString</code> values. </p>\n\n<p>If you assign a new value to either of these properties then the previous strong reference will be dropped and replaced by a strong reference to the new value.</p>\n\n<p>When the instance of <code>CountryModel</code> is no longer strongly reference by anything then the strong references it contains will be dropped.</p>\n\n<p>When a strong reference is dropped if there are no other strong references to the reference object then that object becomes reclaimable and the memory it occupies returned to the available memory pool.</p>\n\n<p><em>Note: if an <code>NSString</code> reference refers to a literal string then the literal string itself is immortal and will never be reclaimed. If you are trying to gian an understanding of when memory is released by monitoring memory usage, tracking <code>dealloc</code> calls, etc. <strong>do not</strong> use literal strings as your test objects \u2013 it is best to use a user-defined type.</em></p>\n\n<p><strong>But I've disabled ARC...</strong> Then memory will get reclaimed when you manually instruct it to be. If you're getting leaks <strong>turning on ARC</strong> is your best choice, if you cannot then you've some debugging to do!</p>\n\n<p>HTH</p>\n\n<p><strong>Addendum after comment</strong></p>\n\n<p>Trying to follow reference counts and expecting them to match with actual executing code doesn't work well as there are often references you do not know about in compiled code. For this reason you will see many writers discouraging tracking reference counts.</p>\n\n<p>Instead think in terms of strong references making an ownership stake in an object, and as long as there is an owner the object survives.</p>\n\n<p>This might seem to be essentially the same thing, but there is a subtle difference in how the two are viewed: the reference count belongs to the <em>object</em>; while the <code>strong</code> reference attribute, which asserts an ownership stake, is part of the belongs to the <em>referencing variable</em>.</p>\n\n<p>In your comment example <code>a</code> has an ownership stake in the <code>CountryModel</code> object it references - the only ownership stake you have so far created to that object. The <code>CountryModel</code> object has ownership stakes in the objects that <code>country</code> and <code>dialcode</code> reference, but may not be the only such stakeholders \u2013 in that fragment we've no idea what other reference variables assert an ownership stake in the objects those two variables reference.</p>\n\n<p>Later when you create <code>temparray</code> the object reference stored in <code>a</code> is copied into the array and <code>temparray</code> claims and ownership stake in the referenced <code>CountryModel</code> object \u2013\u00a0while <code>a</code> continues to assert its own ownership stake as well. So now you have two variables you have created asserting an ownership stake in the <code>CountryModel</code> object.</p>\n\n<p>A similar explanation applies to <code>b</code> &amp; <code>c</code>.</p>\n\n<p>When there is no ownership stake claimed by any variable/property over an object then that object can be destroyed. As part of that destruction any variables/properties that are part of that object are destroyed and any ownership stakes they asserted over references stored in them are withdrawn.</p>\n\n<p>If that process results in more objects having no more ownership stakes asserted over them then those objects too can be destroyed; the process continuing to destroy unwanted objects until the only remaining objects are those where some variable/property asserts an ownership stake over them.</p>\n\n<p>HTH more than it confuses!</p>\n"}], "owner": {"reputation": 447, "user_id": 1883047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozp5j.jpg?s=128&g=1", "display_name": "Sunil aruru", "link": "https://stackoverflow.com/users/1883047/sunil-aruru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1542142943, "creation_date": 1542109908, "last_edit_date": 1542114354, "question_id": 53280457, "link": "https://stackoverflow.com/questions/53280457/how-memory-management-will-work-in-model-classswift-or-objective-c", "title": "How memory management will work in Model class(Swift or objective C)", "body": "<p>I have a model class which has below properties. </p>\n\n<pre><code>@interface CountryModel : NSObject\n@property (nonatomic) NSInteger id;\n@property (nonatomic, strong) NSString *country;\n@property (nonatomic, strong) NSString *dialCode;\n@property (nonatomic) BOOL isInEurope;\n@end\n</code></pre>\n\n<p>I'm getting the below data from web service.</p>\n\n<pre><code>{\n    \"id\": 123,\n    \"country_name\": \"India\",\n    \"dialCode\": \"+91\"\n\n}\n</code></pre>\n\n<p>Then I'm binding values to the array, Now my question is how memory management will work for the model class? Because there are few has a strong reference. Can anyone explain me.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 8922, "user_id": 4710527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ngyp9.jpg?s=128&g=1", "display_name": "Sohil R. Memon", "link": "https://stackoverflow.com/users/4710527/sohil-r-memon"}, "edited": false, "score": 0, "creation_date": 1542110496, "post_id": 53279885, "comment_id": 93442838, "body": "You are presenting all <code>UIViewController</code>&#39;s?"}, {"owner": {"reputation": 793, "user_id": 7820107, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Uhgd.jpg?s=128&g=1", "display_name": "hardik parmar", "link": "https://stackoverflow.com/users/7820107/hardik-parmar"}, "edited": false, "score": 0, "creation_date": 1542110555, "post_id": 53279885, "comment_id": 93442866, "body": "The flow you have used sounds good to me, but I suspect a memory leak here which is keeping the objects alive."}], "answers": [{"comments": [{"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542108495, "post_id": 53279987, "comment_id": 93441821, "body": "you mean rootviewController of my NavigationController? Or do you mean <code>initial ViewController</code>?"}, {"owner": {"reputation": 115, "user_id": 4829271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce731e28f1cc8445e6fed127d8c7e01?s=128&d=identicon&r=PG&f=1", "display_name": "Viren Malhan", "link": "https://stackoverflow.com/users/4829271/viren-malhan"}, "reply_to_user": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542108816, "post_id": 53279987, "comment_id": 93441999, "body": "window&#39;s rootViewController. which is present in your app delegate. so your AuthVC will become first screen on window. then you can again continue with your normal navigation flow."}, {"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542109008, "post_id": 53279987, "comment_id": 93442099, "body": "where in my AppDelegate do I set it as rootViewController?"}, {"owner": {"reputation": 115, "user_id": 4829271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce731e28f1cc8445e6fed127d8c7e01?s=128&d=identicon&r=PG&f=1", "display_name": "Viren Malhan", "link": "https://stackoverflow.com/users/4829271/viren-malhan"}, "reply_to_user": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542110257, "post_id": 53279987, "comment_id": 93442731, "body": "i have updated my answer. set rootViewController to AVC on logout action."}, {"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542110680, "post_id": 53279987, "comment_id": 93442935, "body": "My AppDelegate is in my Main.class. I set my AuthVC to rootviewcontroller there now. But this does not change anything. I need to do it when the logout button is pressed right? And do I even call dismissviewController anymore?"}, {"owner": {"reputation": 115, "user_id": 4829271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce731e28f1cc8445e6fed127d8c7e01?s=128&d=identicon&r=PG&f=1", "display_name": "Viren Malhan", "link": "https://stackoverflow.com/users/4829271/viren-malhan"}, "reply_to_user": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542111074, "post_id": 53279987, "comment_id": 93443135, "body": "don&#39;t make any change in appledelegate or main class. appdelegate is project level class provided to every ios app. it has a window property, which acts as your application&#39;s window. all your viewcontrollers are shown on that window only."}, {"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542111191, "post_id": 53279987, "comment_id": 93443210, "body": "Okay I will try this. Do I still need to call dismissViewController on logoutpress?"}, {"owner": {"reputation": 115, "user_id": 4829271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce731e28f1cc8445e6fed127d8c7e01?s=128&d=identicon&r=PG&f=1", "display_name": "Viren Malhan", "link": "https://stackoverflow.com/users/4829271/viren-malhan"}, "reply_to_user": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542111286, "post_id": 53279987, "comment_id": 93443245, "body": "no need to call dismissViewController, setting up rootviewcontroller will remove all existing viewcontroller."}], "tags": [], "owner": {"reputation": 115, "user_id": 4829271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce731e28f1cc8445e6fed127d8c7e01?s=128&d=identicon&r=PG&f=1", "display_name": "Viren Malhan", "link": "https://stackoverflow.com/users/4829271/viren-malhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1542110137, "last_edit_date": 1542110137, "creation_date": 1542108283, "answer_id": 53279987, "question_id": 53279885, "link": "https://stackoverflow.com/questions/53279885/dismiss-all-views-from-navigationviewcontroller/53279987#53279987", "title": "Dismiss all Views from NavigationViewController", "body": "<p>set AuthVC as your window's rootViewController.</p>\n\n<pre><code>let appDelegate = UIApplication.sharedApplication().delegate as! AppDelegate\n</code></pre>\n\n<p>instantiate AuthVC from storyboard and assign it to window's rootViewController</p>\n\n<pre><code>appDelegate.window?.rootViewController = AuthVC\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542110892, "post_id": 53280456, "comment_id": 93443039, "body": "I&#39;d still need to call dismissViewController right?"}], "tags": [], "owner": {"reputation": 92, "user_id": 3301750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKWWc.png?s=128&g=1", "display_name": "Gkolunia", "link": "https://stackoverflow.com/users/3301750/gkolunia"}, "is_accepted": false, "score": 0, "last_activity_date": 1542109906, "creation_date": 1542109906, "answer_id": 53280456, "question_id": 53279885, "link": "https://stackoverflow.com/questions/53279885/dismiss-all-views-from-navigationviewcontroller/53280456#53280456", "title": "Dismiss all Views from NavigationViewController", "body": "<p>Or you can set root view controller for the window by next code in your settingsVC:</p>\n\n<pre><code>//Did tap logout button\nself.view.window?.rootViewController = AuthVC\n</code></pre>\n\n<p>If it doesn't help you, please send how exactly you show NavigationViewController after AuthVC.</p>\n"}, {"comments": [{"owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542112607, "post_id": 53281020, "comment_id": 93443936, "body": "Yes correct. That is exactly my problem. Unfortunately I still don&#39;t understand why I got retained references and I thought that maybe I can force close the VC so it will not use old objects anymore."}, {"owner": {"reputation": 37, "user_id": 8760273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771e8ec6cf587bd3efa6c3fb94f74cb4?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo Alegre", "link": "https://stackoverflow.com/users/8760273/pablo-alegre"}, "reply_to_user": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "edited": false, "score": 0, "creation_date": 1542113802, "post_id": 53281020, "comment_id": 93444583, "body": "The typical case is a retained view controller property in the top level, that should be manually set to nil when it is dismissed. If everything is set to nil (try watch object variables debugging) and the problem persists you can also have some cross reference, something like a delegate declared as retained. You can also try to detect wich viewcontroller is not released, overriding dealloc function: -(void)dealloc{     NSLog( @&quot;class %@ -&gt; dealloc\\n&quot;, NSStringFromClass(self.class)); }&#39;"}], "tags": [], "owner": {"reputation": 37, "user_id": 8760273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771e8ec6cf587bd3efa6c3fb94f74cb4?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo Alegre", "link": "https://stackoverflow.com/users/8760273/pablo-alegre"}, "is_accepted": true, "score": 1, "last_activity_date": 1542112116, "creation_date": 1542112116, "answer_id": 53281020, "question_id": 53279885, "link": "https://stackoverflow.com/questions/53279885/dismiss-all-views-from-navigationviewcontroller/53281020#53281020", "title": "Dismiss all Views from NavigationViewController", "body": "<p><strong><em>\"... But after logging in again it opens my TabBarContr and there I got some issues loading ...\"</em></strong></p>\n\n<p>If I understood you are removing every view, but your problem is your viewcontrollers are not properly restarted. You may have some retained reference so you are reusing the vc objects and then you have some issue presenting them for the second time. Try reviewing what references are not released when you dismiss/pop.</p>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 3924352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a5d56aa72bec328f8c006b193588c09?s=128&d=identicon&r=PG&f=1", "display_name": "SAIF", "link": "https://stackoverflow.com/users/3924352/saif"}, "is_accepted": false, "score": 0, "last_activity_date": 1542114200, "creation_date": 1542114200, "answer_id": 53281625, "question_id": 53279885, "link": "https://stackoverflow.com/questions/53279885/dismiss-all-views-from-navigationviewcontroller/53281625#53281625", "title": "Dismiss all Views from NavigationViewController", "body": "<p>Try this</p>\n\n<pre><code>let maiStoryBoard = UIStoryboard(name: \"Main\", bundle: nil) //Storyboard in which AuthVC lies\n\nlet authVC = mainStoryBoard.instantiateViewControllerWithIdentifier(\"AuthVC\") as! AuthVC\n let appDelegate = UIApplication.sharedApplication().delegate as! AppDelegate\n appDelegate.window?.rootViewController = authVC\n</code></pre>\n"}], "owner": {"reputation": 2617, "user_id": 2813152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/474abb47c37cbac100efcae7b478ed66?s=128&d=identicon&r=PG&f=1", "display_name": "progNewbie", "link": "https://stackoverflow.com/users/2813152/prognewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 53281020, "answer_count": 4, "score": 1, "last_activity_date": 1542114200, "creation_date": 1542107964, "last_edit_date": 1592644375, "question_id": 53279885, "link": "https://stackoverflow.com/questions/53279885/dismiss-all-views-from-navigationviewcontroller", "title": "Dismiss all Views from NavigationViewController", "body": "<p>I have the following setup:</p>\n<blockquote>\n<p>AuthVC || Navigator =&gt; TabBarContr =&gt; MainVC/SecondVC</p>\n<pre><code>                               =&gt; SettingsVC\n</code></pre>\n</blockquote>\n<p>In my AuthVC I check if the user is logged in. If yes I just open my Navigator class which is a <code>NavigationViewController</code> and which has my &quot;TabBarContr&quot; as rootview. There I have two TabBarItems. In the Navigationbar of my <code>TabBarContr</code> I have a 'settings' button which opens my <code>SettingsVC</code>. In there I have a <code>logout</code> button. When pressed, I logout and want to kill everything except my <code>authVC</code>-Controller so that I can reopen my login-VC at that point.</p>\n<p>What I am doing:\nWhen <code>logout</code> is pressed I link back from my <code>SettingsVC</code> to my <code>TabBarContr</code>. There I call <code>dismissViewController</code>.</p>\n<p>I thought this would work because I really get back to my <code>AuthVC</code>. But after logging in again it opens my <code>TabBarContr</code> and there I got some issues loading stuff because some objects are still living from my previous logged-in session.</p>\n<p><strong>So what do I need to do to really kill everything except <code>AuthVC</code>?</strong></p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 7760, "user_id": 988769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eca82c4714118e73ace676a3ba39410?s=128&d=identicon&r=PG", "display_name": "Kreiri", "link": "https://stackoverflow.com/users/988769/kreiri"}, "edited": false, "score": 0, "creation_date": 1542106926, "post_id": 53279166, "comment_id": 93440852, "body": "<code>[[NSUUID UUID] UUIDString];</code> generates <b>a</b> UUID. Of course it&#39;s different every time! it&#39;s <i>supposed</i> to be different every time! <code>[[[UIDevice currentDevice] identifierForVendor] UUIDString];</code>, on the other hand, returns <b>the</b> identifier specific to <i>this</i> <code>[UIDevice currentDevice]</code>. It doesn&#39;t change because it&#39;s <i>stored</i> somewhere on device."}, {"owner": {"reputation": 21, "user_id": 10645537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95041a4bda72da34df5949fa65ebb09?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpal Singh Rajput", "link": "https://stackoverflow.com/users/10645537/gurpal-singh-rajput"}, "reply_to_user": {"reputation": 7760, "user_id": 988769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eca82c4714118e73ace676a3ba39410?s=128&d=identicon&r=PG", "display_name": "Kreiri", "link": "https://stackoverflow.com/users/988769/kreiri"}, "edited": false, "score": 0, "creation_date": 1542107978, "post_id": 53279166, "comment_id": 93441500, "body": "@Kreiri I want to access same for Mac OS X programming, how can I get device unique identifier in Mac OS X programming."}, {"owner": {"reputation": 3412, "user_id": 3344236, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003962689676/picture?type=large", "display_name": "ares777", "link": "https://stackoverflow.com/users/3344236/ares777"}, "edited": false, "score": 2, "creation_date": 1542113467, "post_id": 53279166, "comment_id": 93444404, "body": "You need to find Hardware UUID. Read here <a href=\"https://stackoverflow.com/questions/933460/unique-hardware-id-in-mac-os-x\" title=\"unique hardware id in mac os x\">stackoverflow.com/questions/933460/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1035, "user_id": 3260848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3Q2c.png?s=128&g=1", "display_name": "deevee", "link": "https://stackoverflow.com/users/3260848/deevee"}, "is_accepted": false, "score": 0, "last_activity_date": 1615242004, "creation_date": 1615242004, "answer_id": 66538068, "question_id": 53279166, "link": "https://stackoverflow.com/questions/53279166/how-to-get-uuid-in-mac-os-x-programming/66538068#66538068", "title": "How to get UUID in Mac OS X Programming", "body": "<p>In case somebody runs into this question looking for simple Objective-C solution - implementation like below worked for me (tested on macOS 11.2):</p>\n<pre><code>#import &lt;IOKit/IOKitLib.h&gt;\n\n- (NSString *) getUUID {\n    io_service_t platformExpert = IOServiceGetMatchingService(kIOMasterPortDefault,IOServiceMatching(&quot;IOPlatformExpertDevice&quot;));\n    if (!platformExpert) return nil;\n\n    CFTypeRef serialNumberAsCFString = IORegistryEntryCreateCFProperty(platformExpert,CFSTR(kIOPlatformUUIDKey),kCFAllocatorDefault, 0);\n    if (!serialNumberAsCFString) return nil;\n\n    IOObjectRelease(platformExpert);\n    return (__bridge NSString *)(serialNumberAsCFString);;\n}\n</code></pre>\n<p>For compiling add <code>IOKit</code> framework:</p>\n<pre><code>gcc -fobjc-arc -framework Cocoa -framework IOKit -x objective-c sources/** main.m -o app.bin\n</code></pre>\n<p>You can call this function with as simple as:</p>\n<pre><code>int main () {\n    ..\n    NSString *uuid = self.getUUID;\n    NSLog(@&quot;uuid: %@&quot;, uuid);\n    ..\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10645537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f95041a4bda72da34df5949fa65ebb09?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpal Singh Rajput", "link": "https://stackoverflow.com/users/10645537/gurpal-singh-rajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1583, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1615242004, "creation_date": 1542105553, "last_edit_date": 1542105600, "question_id": 53279166, "link": "https://stackoverflow.com/questions/53279166/how-to-get-uuid-in-mac-os-x-programming", "title": "How to get UUID in Mac OS X Programming", "body": "<p>I am trying to access Mac OS X UUID in cocoa programming using this code.</p>\n\n<pre><code>NSString *uuid = [[NSUUID UUID] UUIDString];\n</code></pre>\n\n<p>here uuid returns a unique id every time whenever I am accessing uuid, it keeps changing even I am not reinstalling app .I need to know how to access UUID in Mac OS X which will be same whether I am reinstalling app or recompiling, it should remain same.</p>\n\n<p>In Ios i am able to achieve the same by below code.</p>\n\n<pre><code>NSString *iosuuid = [[[UIDevice currentDevice] identifierForVendor] UUIDString];\n</code></pre>\n\n<p>Here iosuuid returns uuid which will remain same even when I am reinstalling and recompiling my app.</p>\n\n<p>Don't suggest me to use Mac address, which I don't want to access for some purpose in my app.</p>\n"}, {"tags": ["ios", "objective-c", "contacts", "addressbook"], "comments": [{"owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1542102985, "post_id": 53278239, "comment_id": 93438564, "body": "Have a look at <a href=\"https://stackoverflow.com/questions/47019095/contacts-and-microphone-request-access-does-not-work-on-ios-9\" title=\"contacts and microphone request access does not work on ios 9\">stackoverflow.com/questions/47019095/&hellip;</a>. It might help you."}, {"owner": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1542103132, "post_id": 53278239, "comment_id": 93438657, "body": "At first your Info.plist file must include string value NSContactsUsageDescription (see Apple docs)."}, {"owner": {"reputation": 6751, "user_id": 2290372, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/t7Plb.jpg?s=128&g=1", "display_name": "LorenzOliveto", "link": "https://stackoverflow.com/users/2290372/lorenzoliveto"}, "edited": false, "score": 0, "creation_date": 1542103500, "post_id": 53278239, "comment_id": 93438901, "body": "If you have already denied the permission iOS don&#39;t ask it again. You have to change it in the Settings app in the section of your app."}, {"owner": {"reputation": 61, "user_id": 3944725, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/af4e126816651be77c8dba07c42f7ee7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Scherady", "link": "https://stackoverflow.com/users/3944725/brian-scherady"}, "reply_to_user": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1542105136, "post_id": 53278239, "comment_id": 93439824, "body": "Thank you guys for your comments. @Eridana; a string value is added in NSContactsUsageDescription in my app. @ lorenzoliveto; My app is not visible in the Settings, actually the list is empty."}, {"owner": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1542106572, "post_id": 53278239, "comment_id": 93440663, "body": "Hmm.. if you are using simulator, try to reset it and reinstall the app. Sometimes it really helps"}, {"owner": {"reputation": 61, "user_id": 3944725, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/af4e126816651be77c8dba07c42f7ee7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Scherady", "link": "https://stackoverflow.com/users/3944725/brian-scherady"}, "reply_to_user": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1542107584, "post_id": 53278239, "comment_id": 93441230, "body": "@Eridana; I am testing my app directly on my iPad."}, {"owner": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1542108009, "post_id": 53278239, "comment_id": 93441518, "body": "@BrianScherady, check this answer <a href=\"https://stackoverflow.com/questions/39327158/my-app-keep-deny-the-access-to-contacts-ios-swift\" title=\"my app keep deny the access to contacts ios swift\">stackoverflow.com/questions/39327158/&hellip;</a>, check your string in Info.plist, delete the app and install it again. If app is not visible in settings - something got wrong, and usually it&#39;s somewhere in .plist."}, {"owner": {"reputation": 2175, "user_id": 2908082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba49ae2ab0b5d9c12a3168c37436b581?s=128&d=identicon&r=PG&f=1", "display_name": "Eridana", "link": "https://stackoverflow.com/users/2908082/eridana"}, "edited": false, "score": 0, "creation_date": 1542183845, "post_id": 53278239, "comment_id": 93472377, "body": "@BrianScherady I have tried your code on iPhone. 1) included Contacts.framework in &quot;General -&gt; Linked Frameworks &amp; Libs&quot; 2) Wrote value &quot;Use your contacts&quot; for key &quot;Privacy - Contacts Usage Description&quot; in .plist 3) wrote this code: import Contacts ...  let store = CNContactStore() store.requestAccess(for: .contacts) { (success, error) in  } 4) all is working."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 3944725, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/af4e126816651be77c8dba07c42f7ee7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Scherady", "link": "https://stackoverflow.com/users/3944725/brian-scherady"}, "edited": false, "score": 0, "creation_date": 1542121990, "post_id": 53278997, "comment_id": 93449808, "body": "On my iPad in Settings -&gt; Privacy -&gt; Contacts under &quot;Applications that have requested access to your contacts will appear here.&quot; there is nothing; no application is listed. Also I have never seen the prompt for request for access to the contacts. Furthermore, I deleted the app and restarted the iPad; it didn&#39;t help :("}], "tags": [], "owner": {"reputation": 1238, "user_id": 3965463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d13fd197cf73bda07f16e51aec7a0f?s=128&d=identicon&r=PG&f=1", "display_name": "pepsy", "link": "https://stackoverflow.com/users/3965463/pepsy"}, "is_accepted": false, "score": 1, "last_activity_date": 1542105091, "creation_date": 1542105091, "answer_id": 53278997, "question_id": 53278239, "link": "https://stackoverflow.com/questions/53278239/ios-objective-c-getting-contacts-not-working-no-request-prompt-access-deni/53278997#53278997", "title": "IOS Objective-c - Getting contacts not working - No request prompt - Access denied", "body": "<p>iOS will only present the modal access request prompt once. If you have denied the access the first time, the app will be unable to access it until the user changes the app's permissions in the iOS settings.</p>\n\n<p>One option is to present a custom prompt saying access is denied with a button to navigate directly to the app settings page, using <code>UIApplicationOpenSettingsURLString</code> as an URL.</p>\n\n<pre><code>//objc\nNSURL * url = [[NSURL alloc] initWithString:UIApplicationOpenSettingsURLString];\n[UIApplication.sharedApplication openURL:url];\n\n//swift\nif let url = URL(string: UIApplicationOpenSettingsURLString) {\n    UIApplication.shared.openURL(url)\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 3944725, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/af4e126816651be77c8dba07c42f7ee7?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Scherady", "link": "https://stackoverflow.com/users/3944725/brian-scherady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1594064631, "creation_date": 1542102771, "last_edit_date": 1594064631, "question_id": 53278239, "link": "https://stackoverflow.com/questions/53278239/ios-objective-c-getting-contacts-not-working-no-request-prompt-access-deni", "title": "IOS Objective-c - Getting contacts not working - No request prompt - Access denied", "body": "<p>I am using Objective-c to develop an app for iPad. I need to fetch the address book for the contacts. But I get no access request prompt and the access stays denied. The boolean \"granted\" is never true and the code to get the contacts array is never reached. Therefore the contacts array contactsArray stays empty.</p>\n\n<p>Following is the code I am using:</p>\n\n<pre><code>-(void) fetchAllContacts\n{\n    contactsArray = [[NSMutableArray alloc] init];\n\n    CNContactStore *store = [[CNContactStore alloc] init];\n\n    [store requestAccessForEntityType : CNEntityTypeContacts completionHandler : ^(BOOL granted, NSError * _Nullable error)\n    {\n        if (granted)\n        {\n             // Code to get the contacts array\n             // contactsArray = ....\n        }       \n    }];\n}\n</code></pre>\n\n<p>Any help?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["ios", "objective-c", "youtube-api", "ytplayerview"], "comments": [{"owner": {"reputation": 773, "user_id": 3654258, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1150773226/picture?type=large", "display_name": "I make my mark", "link": "https://stackoverflow.com/users/3654258/i-make-my-mark"}, "edited": false, "score": 0, "creation_date": 1542122354, "post_id": 53277339, "comment_id": 93450066, "body": "I&#39;m actually running into the same issue. The playerVars don&#39;t work properly or something."}, {"owner": {"reputation": 1054, "user_id": 1372394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6sO5P.jpg?s=128&g=1", "display_name": "Shamim Hossain", "link": "https://stackoverflow.com/users/1372394/shamim-hossain"}, "edited": false, "score": 0, "creation_date": 1542177219, "post_id": 53277339, "comment_id": 93469698, "body": "May be problem with notch area in iPhone X. Please attach screenshot so that we can see the differences."}, {"owner": {"reputation": 279, "user_id": 5291351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d620daa0925510bd53b69d94f2cfaeab?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/5291351/henning"}, "edited": false, "score": 0, "creation_date": 1542178787, "post_id": 53277339, "comment_id": 93470301, "body": "On an iPhone X it was ok. So it doesn&#39;t seem to be a general problem with the notch."}], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 5291351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d620daa0925510bd53b69d94f2cfaeab?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/5291351/henning"}, "edited": false, "score": 0, "creation_date": 1544434915, "post_id": 53674101, "comment_id": 94260574, "body": "I have removed both parameters. So I only have autoplay = 1 and playsinline = 0. Unfortunately, there is still no change to the automatic full screen. I get the full screen only when I press the corresponding button."}], "tags": [], "owner": {"reputation": 11, "user_id": 2256205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d87108b5163fca7d73988df1ccb8f?s=128&d=identicon&r=PG", "display_name": "Shenging", "link": "https://stackoverflow.com/users/2256205/shenging"}, "is_accepted": false, "score": 0, "last_activity_date": 1544202855, "creation_date": 1544202855, "answer_id": 53674101, "question_id": 53277339, "link": "https://stackoverflow.com/questions/53277339/ios-problem-with-youtube-api-and-fullscreen/53674101#53674101", "title": "iOS - Problem with YouTube api and fullscreen", "body": "<p>youtube is not supporting the \"rel\" nor \"showinfo\" parameters anymore, refer here : <a href=\"https://developers.google.com/youtube/player_parameters#rel\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/player_parameters#rel</a> , if you take out that parameters I think your code will work.</p>\n"}], "owner": {"reputation": 279, "user_id": 5291351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d620daa0925510bd53b69d94f2cfaeab?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/5291351/henning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1544202855, "creation_date": 1542099980, "last_edit_date": 1542182487, "question_id": 53277339, "link": "https://stackoverflow.com/questions/53277339/ios-problem-with-youtube-api-and-fullscreen", "title": "iOS - Problem with YouTube api and fullscreen", "body": "<p>In my app, I'm using the <code>YTPlayerView</code> to show a youtube video. I have set the parameters of the player so that the video is displayed in fullscreen. Now I have a new test device (iPhone XR with iOS 12.1) where the video is usually not displayed in full screen. I tested other parameters without any other result. On an other iOS 12.1 device or with older iOS-versions the video is displayed in fullscreen correctly.</p>\n\n<pre><code>self.playerView = [[YTPlayerView alloc] initWithFrame:CGRectMake(self.view.frame.origin.x, self.view.frame.origin.y, self.view.frame.size.width, f_frameHeight)];\n\nself.playerView.delegate = self;\n\n[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(exitedFullScreen:)  name:UIWindowDidBecomeHiddenNotification object:nil];\n\nNSDictionary *playerVars = @{\n                             @\"playsinline\" : @0,\n                             @\"autoplay\" : @1,\n                             @\"rel\" : @0,\n                             @\"showinfo\" : @0,\n                             };\n[self.playerView loadWithVideoId:ns_videoID playerVars:playerVars];\n\n[self.view addSubview:self.playerView];\n</code></pre>\n\n<p>Has anyone the same problem or an idea what's could be the problem?</p>\n"}, {"tags": ["ios", "objective-c", "twitter", "twitterkit"], "answers": [{"tags": [], "owner": {"reputation": 3491, "user_id": 5657569, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/916706101759946/picture?type=large", "display_name": "Salman Ghumsani", "link": "https://stackoverflow.com/users/5657569/salman-ghumsani"}, "is_accepted": true, "score": 0, "last_activity_date": 1542110383, "creation_date": 1542110383, "answer_id": 53280588, "question_id": 53275197, "link": "https://stackoverflow.com/questions/53275197/how-to-get-media-from-twitterkit/53280588#53280588", "title": "How to get media from TwitterKit?", "body": "<p>You can use private member and classes from the following code. </p>\n\n<pre><code>TWTRAPIClient *APIClient = TWTRAPIClient.clientWithCurrentUser;\n    //TWTRUserTimelineDataSource *newArray =  [[TWTRUserTimelineDataSource alloc] initWithScreenName:@\"TomCruise\" APIClient:APIClient];\n    TWTRUserTimelineDataSource *newArray= [[TWTRUserTimelineDataSource alloc] initWithScreenName:@\"TomCruise\" userID:nil APIClient:APIClient maxTweetsPerRequest:10 includeReplies:true includeRetweets:true];\n    [newArray loadPreviousTweetsBeforePosition:@\"0\" completion:^(NSArray&lt;TWTRTweet *&gt; * _Nullable tweets, TWTRTimelineCursor * _Nullable cursor, NSError * _Nullable error) {\n        for (int count=0; count&lt;tweets.count; count++) {\n            NSLog(@\"tweet text is == %@ \\n\",[tweets[count] text]);\n            NSLog(@\"media %@\",[[tweets[count] valueForKey:@\"media\"] valueForKey:@\"mediaUrl\"]);//_mediaUrl\n         }\n\n}];\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10570116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/113f5fbc62927c7fc4ecbd976b90ce80?s=128&d=identicon&r=PG&f=1", "display_name": "Surbhi", "link": "https://stackoverflow.com/users/10570116/surbhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 53280588, "answer_count": 1, "score": 0, "last_activity_date": 1542116174, "creation_date": 1542091214, "last_edit_date": 1542116174, "question_id": 53275197, "link": "https://stackoverflow.com/questions/53275197/how-to-get-media-from-twitterkit", "title": "How to get media from TwitterKit?", "body": "<p>I have used the following code to get the feeds of the public account, however, I am unable to get media such as images, videos, gifs etc.</p>\n\n<pre><code>TWTRAPIClient *APIClient = TWTRAPIClient.clientWithCurrentUser;\nTWTRUserTimelineDataSource *newArray = [[TWTRUserTimelineDataSource alloc] initWithScreenName:@\"TomCruise\" APIClient:APIClient];\n\n[newArray loadPreviousTweetsBeforePosition:@\"0\" completion:^(NSArray&lt;TWTRTweet *&gt; * _Nullable tweets, TWTRTimelineCursor * _Nullable cursor, NSError * _Nullable error) {\n    for (int count=0; count&lt;tweets.count; count++) {\n        NSLog(@\"tweet json is == \\n%@\",[tweets[count] tweetID]);\n        NSLog(@\"tweet text is == \\n%@\",[tweets[count] text]);\n        [self.twitterarray addObject:[tweets[count] text]];\n    }\n\n    [self reloadCollectionView];\n}];\n</code></pre>\n\n<p>Here I got the array of <code>TWTRTweet</code> array but it doesn't contain any media.</p>\n\n<p>Help me.</p>\n"}, {"tags": ["objective-c", "nsmutablearray", "swizzling"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1542139299, "post_id": 53274623, "comment_id": 93459243, "body": "Swizzling a Foundation method that is frequently?  That code, right there, would be enough for me to <b>suspect that the entire codebase is complete and utter trash that really really needs to be rewritten</b>."}], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1542112164, "post_id": 53275456, "comment_id": 93443686, "body": "<i>Who knows, accept the original author (hopefully!)</i> I would make a bet, that he didn&#39;t."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 1, "last_activity_date": 1542118890, "last_edit_date": 1542118890, "creation_date": 1542092336, "answer_id": 53275456, "question_id": 53274623, "link": "https://stackoverflow.com/questions/53274623/usage-of-autorelease-pool-in-objectatindex-swizzling-for-nsmutablearray/53275456#53275456", "title": "Usage of autorelease pool in objectAtindex swizzling for NSMutableArray", "body": "<p>Unless I'm missing the obvious, which is always possible, we can only guess:</p>\n\n<p>There is a stack of autorelease pools, the top of the stack being the one in use. When the <code>@autoreleasepool { ... }</code> construct is entered a new pool is created and pushed on the stack, on exit from the construct the pool is drained and popped off the stack.</p>\n\n<p>The reason to create local pools is given in the <code>NSAutoReleasePool</code> docs (<em>emphasis added</em>):</p>\n\n<blockquote>\n  <p>The Application Kit creates an autorelease pool on the main thread at the beginning of every cycle of the event loop, and drains it at the end, thereby releasing any autoreleased objects generated while processing an event. If you use the Application Kit, you therefore typically don\u2019t have to create your own pools. <em>If your application creates a lot of temporary autoreleased objects within the event loop, however, it may be beneficial to create \u201clocal\u201d autorelease pools to help to minimize the peak memory footprint.</em></p>\n</blockquote>\n\n<p>So what is the purpose in the code you are looking at? Some guesses:</p>\n\n<ul>\n<li><p>Either the original author knows/believes that the called methods <code>count</code> and <code>objectAtIndex</code> (post the swizzle) add a significant amount of objects to the autorelease pool and wishes to clean these up; or</p></li>\n<li><p>The original author was/is planning to add future code to <code>myObjectAtIndex</code> which will add a significant amount of objects to the autorelease pool and wishes to clean these up; or</p></li>\n<li><p>Wishes to be able to call <code>objectAtIndex</code> and ensure there is no impact on the memory used for live objects (e.g. maybe they were measuring memory use by something else); or</p></li>\n<li><p>Who knows, accept the original author (hopefully!)</p></li>\n</ul>\n\n<p>HTH</p>\n"}, {"comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1542143437, "post_id": 53280981, "comment_id": 93460837, "body": "A little harsh maybe. If you index a dictionary with a non-existent key you get <code>nil</code> back, if you index an array with a non-existent index you get an error \u2013 which isn&#39;t exactly consistent. The code as it stands fixes that inconsistency, so maybe the author just favours consistency more than you do. (That doesn&#39;t explain the autorelease pool, but that is a different issue.)"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1542169924, "post_id": 53280981, "comment_id": 93467620, "body": "Is this about consistency. You can expect consistency if you have similar cases two times. An index is a closed range. An array is for indexed access. If you choose to use an array, you choose to take care of the index. A dictionary has no closed range of values. That&#39;s for. If you choose a dictionary, you do not choose a closed range and have to deal with it on access level."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1542184601, "post_id": 53280981, "comment_id": 93472740, "body": "I did not say, that the key-range is fixed for arrays. I said, that it is closed, therefore a simple number describes all valid keys. This is not true for dictionaries. <i>This</i> is the difference I talked about."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1542193853, "post_id": 53280981, "comment_id": 93478382, "body": "No, the words finite and infinite does not appear in my comments."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1542255312, "post_id": 53280981, "comment_id": 93505242, "body": "Cleaned up the uninteresting and hence pointless thread. Consistency can clearly be in the mind of the beholder, in this case how they view the domains of two forms of discrete functions. I&#39;ll still give the original programmer the benefit of the doubt."}], "tags": [], "owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "is_accepted": false, "score": 1, "last_activity_date": 1542111959, "creation_date": 1542111959, "answer_id": 53280981, "question_id": 53274623, "link": "https://stackoverflow.com/questions/53274623/usage-of-autorelease-pool-in-objectatindex-swizzling-for-nsmutablearray/53280981#53280981", "title": "Usage of autorelease pool in objectAtindex swizzling for NSMutableArray", "body": "<p>There is no scientific reason. </p>\n\n<p>The whole code is an example of \"this app crashes and I do not know why\" panic code:</p>\n\n<p>Obviously the author had a problem with guaranteeing correct indexes, what would be the correct approach. Therefore he wrote a special method to \"repair\" it. The naming (\"my\") shows, that he thought: I can do it better (instead of insuring correct indexes). </p>\n\n<p>Moreover, adding an ARP to a piece of code, that obviously does not create an bigger amount of objects, is a sure sign for the fact, that he couldn't oversee his code anymore.</p>\n\n<p>Move the whole code to /dev/null.</p>\n"}], "owner": {"reputation": 11, "user_id": 10280178, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-f_c36isxOWw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMNiwpxGzf5QvU3qd8w1n9_lFueLg/mo/photo.jpg?sz=128", "display_name": "\u970dJohn", "link": "https://stackoverflow.com/users/10280178/%e9%9c%8djohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1542118890, "creation_date": 1542088287, "last_edit_date": 1542109892, "question_id": 53274623, "link": "https://stackoverflow.com/questions/53274623/usage-of-autorelease-pool-in-objectatindex-swizzling-for-nsmutablearray", "title": "Usage of autorelease pool in objectAtindex swizzling for NSMutableArray", "body": "<pre><code>- (nullable id)myObjectAtIndex:(NSUInteger)index{\n    @autoreleasepool {\n        id value = nil;\n        if (index &lt; self.count)\n        {\n            value = [self myObjectAtIndex:index];\n        }\n        return value;\n    }\n\n}\n</code></pre>\n\n<p>I have no idea about the purpose of using autoreleasepool here. Can someone give me a hand?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uiswitch"], "answers": [{"tags": [], "owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "is_accepted": true, "score": 1, "last_activity_date": 1542075523, "creation_date": 1542075523, "answer_id": 53272827, "question_id": 53272638, "link": "https://stackoverflow.com/questions/53272638/uitableview-cells-containing-a-uiswitch-update-inconsistently/53272827#53272827", "title": "UITableView cells containing a UISwitch update inconsistently", "body": "<p>Your problem is that you are using the switch <code>tag</code> property for two things:</p>\n\n<ol>\n<li>To identify it in the view hierarchy (You have assigned value '2')</li>\n<li>To determine in which row the switch was changed </li>\n</ol>\n\n<p>Because you are assigning <code>indexPath.row</code> to <code>tag</code>, in the case where the index path isn't 2 (i.e. the third row), <code>[cell.contentView viewWithTag:2];</code> will return <code>nil</code> when the cell is re-used.</p>\n\n<p>You also have an issue with cell re-use because you are adding the switch action handler multiple times.</p>\n\n<p>I would suggest that you adopt the following approach:</p>\n\n<ol>\n<li><p>Expose your cell's sub views using properties and cast the result of <code>dequeueReusableCell</code> to your <code>UITableViewCell</code> subclass so that you can access them without needing to use the tag</p></li>\n<li><p>Establish your <code>UITableViewCell</code> subclass as the switch action handler.</p></li>\n<li><p>Implement a delegation pattern between the cell and your view controller, so that the cell can notify the view controller that the switch changed.  The cell can pass <code>self</code> to the delegate method.  In the delegate method you can use <code>indexPathForCell</code> to determine the affected row.</p></li>\n<li><p>Don't reload the whole tableview just because one row has changed.  Only reload the affected row.</p></li>\n</ol>\n"}], "owner": {"reputation": 359, "user_id": 1507810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6943d9549e1b9bd6bffacd2a5e7623e?s=128&d=identicon&r=PG", "display_name": "Charlie Scott-Skinner", "link": "https://stackoverflow.com/users/1507810/charlie-scott-skinner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 53272827, "answer_count": 1, "score": 0, "last_activity_date": 1542075523, "creation_date": 1542073878, "question_id": 53272638, "link": "https://stackoverflow.com/questions/53272638/uitableview-cells-containing-a-uiswitch-update-inconsistently", "title": "UITableView cells containing a UISwitch update inconsistently", "body": "<p>I have a <code>UITableView</code> where each cell contains a <code>UISwitch</code>. The switch is supposed to toggle the content named in the cell as active or not, and it works perfectly when the user toggles the switch.</p>\n\n<p>However, then I got the bright idea of also doing the toggling when the entire table row is selected. Simple in theory right? And it was, in terms of updating the data model.</p>\n\n<p>However, for whatever reason that has had me stumped for the last 2 hours, only the switch in cell #3 updates to reflect the state change when I reload the table data.  No matter how many rows I have in the table, it is always only the third cell that works. If there are less than 3 cells, then no cells work.</p>\n\n<p>I've dumped a load of <code>NSLog</code> calls in there and they reflect the proper data states as I'd expect at all times, but they just aren't being reflected in the switch beyond the first load. If I leave the view controller then come back, the switches are all properly set...</p>\n\n<p>I just know this is going to be some stupid thing I've done somewhere, because it works in exactly one instance, but for the life of me I cannot see it :(</p>\n\n<p>Can you?</p>\n\n<pre><code>-(void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    [_tableAddPeople setDelegate:self];\n    [_tableAddPeople setDataSource:self];\n}\n\n-(void)viewWillAppear:(BOOL)animated\n{\n    [_tableAddPeople reloadData];\n}\n\n-(void)listSwitchChanged:(id)sender\n{\n    UISwitch * switchControl = sender;\n\n    Person * person = [SAVE_DATA getPersonWithIndex:(int)switchControl.tag];\n\n    if (switchControl.on)\n    {\n        [SAVE_DATA activePeopleAdd:person.tag];\n    }\n    else\n    {\n        [SAVE_DATA activePeopleRemove:person.tag];\n    }\n}\n\n\n#pragma mark UITableViewDataSource Delegate\n\n-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    return [SAVE_DATA peopleCount];\n}\n\n-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    UITableViewCell * cell = [_tableAddPeople dequeueReusableCellWithIdentifier:@\"AddPeopleCell\"];\n\n    UILabel * nameLabel = (UILabel *)[cell.contentView viewWithTag:1];\n    UISwitch * activeSwitch = (UISwitch *)[cell.contentView viewWithTag:2];\n\n    Person * person = [SAVE_DATA getPersonWithIndex:(int)[indexPath row]];\n\n    [nameLabel setText:[person name]];\n\n    BOOL active = [SAVE_DATA activePeopleContains:person.tag];\n    NSLog(@\"Row for %@ is %@\", person.name, (active? @\"ON\" : @\"OFF\"));\n    [activeSwitch setOn:active animated:YES];\n    [activeSwitch addTarget:self action:@selector(listSwitchChanged:) forControlEvents:UIControlEventValueChanged];\n    activeSwitch.tag = (int)[indexPath row];\n\n    return cell;\n}\n\n-(BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    return NO;\n}\n\n-(BOOL)tableView:(UITableView *)tableView canMoveRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    return NO;\n}\n\n\n#pragma mark UITableView Delegate\n\n-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    Person * person = [SAVE_DATA getPersonWithIndex:(int)[indexPath row]];\n\n    if ([SAVE_DATA activePeopleContains:person.tag])\n    {\n        NSLog(@\"Removing %@\", person.name);\n        [SAVE_DATA activePeopleRemove:person.tag];\n    }\n    else\n    {\n        NSLog(@\"Adding %@\", person.name);\n        [SAVE_DATA activePeopleAdd:person.tag];\n    }\n\n    [_tableAddPeople reloadData];\n    //dispatch_async(dispatch_get_main_queue(), ^{[tableView reloadData];});\n}\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "cocoa", "appkit"], "comments": [{"owner": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "edited": false, "score": 2, "creation_date": 1542128401, "post_id": 53272384, "comment_id": 93454057, "body": "Is it that it fails on Mojave? Or on that particular device? It is quite likely that most recent Apple notebooks (particularly those shipping with only SSD - not HDD - option) do not have the requisite hardware (SMS) anymore"}, {"owner": {"reputation": 349, "user_id": 1340324, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jAX91.jpg?s=128&g=1", "display_name": "ksh", "link": "https://stackoverflow.com/users/1340324/ksh"}, "reply_to_user": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "edited": false, "score": 0, "creation_date": 1542245170, "post_id": 53272384, "comment_id": 93503174, "body": "Oh, I see! It fails on SD device. I didn&#39;t know that SSD device doesn&#39;t have SMS. Thanks a lot !!"}], "owner": {"reputation": 349, "user_id": 1340324, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jAX91.jpg?s=128&g=1", "display_name": "ksh", "link": "https://stackoverflow.com/users/1340324/ksh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1542071837, "creation_date": 1542071837, "question_id": 53272384, "link": "https://stackoverflow.com/questions/53272384/smslib-sudden-motion-sensor-for-mac-is-not-working", "title": "smslib (Sudden Motion Sensor) for Mac is not working", "body": "<p>I'm trying to develope capture device orientation with <strong>smslib</strong> (<strong>Sudden Motion Sensor</strong>) on macOS <strong>mojave</strong>, but it seems not to be working.  </p>\n\n<p><strong>smslib</strong><br>\n<a href=\"http://www.suitable.com/tools/smslib.html\" rel=\"nofollow noreferrer\">http://www.suitable.com/tools/smslib.html</a></p>\n\n<p>I tried smsutil command on README, but output is 'Error: couldn't start SMS'</p>\n\n<pre><code>./smsutil -i0.01 -c1000 -atxyz -s09 &gt;capture.txt\n</code></pre>\n\n<p>Because this project is very old and may as well not support mojave.<br>\nDoes anyone know how can I work this on mojave or any other way to capture device orientation of mac?</p>\n"}, {"tags": ["objective-c", "macos", "plugins", "authorization", "macos-mojave"], "comments": [{"owner": {"reputation": 32394, "user_id": 528724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b428b7a4d372791efff952dafecd5782?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/528724/mahesh"}, "edited": false, "score": 0, "creation_date": 1545224907, "post_id": 53271308, "comment_id": 94551155, "body": "Works fine for me on Mojave. I have a custom button in the login view and it displays and catches on click event fine. I have tried it on a VM but wouldn&#39;t think there would be a difference in behavior on a real hardware."}, {"owner": {"reputation": 32394, "user_id": 528724, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b428b7a4d372791efff952dafecd5782?s=128&d=identicon&r=PG", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/528724/mahesh"}, "edited": false, "score": 0, "creation_date": 1545225309, "post_id": 53271308, "comment_id": 94551369, "body": "BTW, I tested on a clean installation of Mojave and not an upgrade from an earlier version of macOS."}, {"owner": {"reputation": 499, "user_id": 3776548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjpTU.png?s=128&g=1", "display_name": "eckenrod", "link": "https://stackoverflow.com/users/3776548/eckenrod"}, "edited": false, "score": 0, "creation_date": 1547825899, "post_id": 53271308, "comment_id": 95338315, "body": "Were you ever able to find a solution? I am experiencing the exact same problem, observing the same things you mention in EDIT and EDIT2."}, {"owner": {"reputation": 21, "user_id": 10643073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79846d653651f90e4f0f488803b90376?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Giles", "link": "https://stackoverflow.com/users/10643073/chris-giles"}, "edited": false, "score": 1, "creation_date": 1548009133, "post_id": 53271308, "comment_id": 95381073, "body": "We did find a solution, though not an explanation. All I did was resize the window so that it was smaller, and suddenly everything showed up. I have not figured out or read about any size restrictions, but in any case, that&#39;s what made it work for us."}, {"owner": {"reputation": 499, "user_id": 3776548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjpTU.png?s=128&g=1", "display_name": "eckenrod", "link": "https://stackoverflow.com/users/3776548/eckenrod"}, "edited": false, "score": 0, "creation_date": 1557771925, "post_id": 53271308, "comment_id": 98869087, "body": "@ChrisGiles thanks! I did some testing based on your findings and discovered that the width of my <code>designable.nib</code> needed to be less than roughly 395 to render correctly. Otherwise, it wold not display. I found no restrictions on the window&#39;s height."}], "answers": [{"comments": [{"owner": {"reputation": 655, "user_id": 1137670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xuxG0.png?s=128&g=1", "display_name": "Les Nie", "link": "https://stackoverflow.com/users/1137670/les-nie"}, "edited": false, "score": 0, "creation_date": 1548551567, "post_id": 53298043, "comment_id": 95581395, "body": "Please do not post additional questions as an answer but rather as a comment."}], "tags": [], "owner": {"reputation": 27, "user_id": 2060460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0bfe415339975adb5d419dac002873?s=128&d=identicon&r=PG", "display_name": "dhruv", "link": "https://stackoverflow.com/users/2060460/dhruv"}, "is_accepted": false, "score": -2, "last_activity_date": 1542191425, "creation_date": 1542191425, "answer_id": 53298043, "question_id": 53271308, "link": "https://stackoverflow.com/questions/53271308/osx-custom-authorization-plugin-breaks-with-upgrade-to-mojave/53298043#53298043", "title": "OSX custom authorization plugin breaks with upgrade to Mojave", "body": "<p>Do you have this flag enabled : self.window?.canBecomeVisibleWithoutLogin = true</p>\n"}], "owner": {"reputation": 21, "user_id": 10643073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79846d653651f90e4f0f488803b90376?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Giles", "link": "https://stackoverflow.com/users/10643073/chris-giles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542191425, "creation_date": 1542063426, "last_edit_date": 1542150881, "question_id": 53271308, "link": "https://stackoverflow.com/questions/53271308/osx-custom-authorization-plugin-breaks-with-upgrade-to-mojave", "title": "OSX custom authorization plugin breaks with upgrade to Mojave", "body": "<p>We have a custom authorization plugin for OSX, written using this as our base:</p>\n\n<p><a href=\"https://github.com/skycocker/NameAndPassword\" rel=\"nofollow noreferrer\">https://github.com/skycocker/NameAndPassword</a></p>\n\n<p>and referencing the official documentation where needed:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/security/authorization_plug-ins/using_authorization_plug-ins\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/security/authorization_plug-ins/using_authorization_plug-ins</a></p>\n\n<p>The plugin was working perfectly, until the Mojave release. With Mojave, our auth plugin UI does not draw and we only see the circular login arrow button. The only way to login is to ssh into the machine, uninstall our auth plugin and re-enable to default OSX login mechanism. </p>\n\n<p>We added additional logging and found that the plugin is indeed being loaded and runs normally. It's just the UI that is not displaying anymore. My guess is that they have changed some requirements for custom auth plugins but have not updated the documentation.</p>\n\n<p>Does anyone have any ideas as to why the UI might not be displaying in Mojave?</p>\n\n<p>EDIT:\nSome more information. We have found that we are able to tab through the controls that are part of our plugin. This implies that the controls are actually there, but are either off screen or maybe just not being drawn? Very strange indeed...</p>\n\n<p>EDIT 2:\nI tried building the NameAndPassword sample, and it displays fine in Mojave. This sample used a .nib for the interface, which I cannot edit in the recent version of xcode. So, I tried recreating the interface as a .xib and surprisingly, the UI for NameAndPassword is now gone as well! </p>\n\n<p>So, there is perhaps something happening behind the scenes when the .xib file is compiled which is causing the UI to not be drawn, which is NOT happening with a .nib based interface.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uitableview", "uiwebview"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1542063969, "post_id": 53271286, "comment_id": 93426262, "body": "Each cell should be its own web view delegate, then it can simply stop its own loading spinner"}], "answers": [{"comments": [{"owner": {"reputation": 2025, "user_id": 1361598, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/677365130/picture?type=large", "display_name": "Ben Holness", "link": "https://stackoverflow.com/users/1361598/ben-holness"}, "edited": false, "score": 1, "creation_date": 1542124521, "post_id": 53271543, "comment_id": 93451535, "body": "Thanks, this is basically how I did it, except only one <code>[super init]</code> (I presume that was a typo) and the webVirew allocation etc. are in the table view controller, with the webView delegate set to cell"}], "tags": [], "owner": {"reputation": 1274, "user_id": 7716468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Olgg5.jpg?s=128&g=1", "display_name": "Nordeast", "link": "https://stackoverflow.com/users/7716468/nordeast"}, "is_accepted": true, "score": 1, "last_activity_date": 1542127225, "last_edit_date": 1542127225, "creation_date": 1542064939, "answer_id": 53271543, "question_id": 53271286, "link": "https://stackoverflow.com/questions/53271286/how-do-i-find-an-activity-indicator-in-a-uitableviewcell-on-completion-of-multip/53271543#53271543", "title": "How do I find an activity indicator in a UITableViewCell on completion of multiple UIWebView requests?", "body": "<p>You want each of your <code>SummaryUITableViewCell</code> to implement <code>UIWebViewDelegate</code> and handle the <code>webViewDidFinishLoad</code> call themselves. Then you can easily hide the spinners each time the <code>UIWebView</code> loads. Here is one way you could implement the <code>SummaryUITableViewCell</code>.</p>\n\n<p>SummaryTableViewCell.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface SummaryTableViewCell : UITableViewCell &lt;UIWebViewDelegate&gt;\n\n@end\n</code></pre>\n\n<p>SummaryTableViewCell.m</p>\n\n<pre><code>#import \"SummaryTableViewCell.h\"\n\n@interface SummaryTableViewCell ()\n\n// Keep references to our spinner and webview here\n@property (nonatomic, strong) UIActivityIndicatorView *spinner;\n@property (nonatomic, strong) UIWebView *webView;\n\n@end\n\n@implementation SummaryTableViewCell\n\n- (instancetype)initWithUrl:(NSString *)url {\n    self = [super init];\n    if (self) {\n        [self setup:url];\n    }\n    return self;\n}\n\n- (void)setup:(NSString *)url {\n    // Add Webview\n    self.webView = [[UIWebView alloc] initWithFrame:[self frame]];\n    [self.webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:url]]];\n    [self.webView setAlpha:0];\n\n    // Set the cell as the delegate of the webview\n    [self.webView setDelegate:self];\n    [self addSubview:self.webView];\n\n    // Add Spinner\n    self.spinner = [[UIActivityIndicatorView alloc] init];\n    [self addSubview:self.spinner];\n}\n\n- (void)webViewDidFinishLoad:(UIWebView *)webView {\n    // The web view loaded the url so we can now hide the spinner and show the web view\n    [self.spinner setAlpha:0];\n    [self.webView setAlpha:1];\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 2025, "user_id": 1361598, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/677365130/picture?type=large", "display_name": "Ben Holness", "link": "https://stackoverflow.com/users/1361598/ben-holness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 53271543, "answer_count": 1, "score": 1, "last_activity_date": 1542127225, "creation_date": 1542063348, "question_id": 53271286, "link": "https://stackoverflow.com/questions/53271286/how-do-i-find-an-activity-indicator-in-a-uitableviewcell-on-completion-of-multip", "title": "How do I find an activity indicator in a UITableViewCell on completion of multiple UIWebView requests?", "body": "<p>I am pretty new to Objective-C and iOS programming.</p>\n\n<p>I have a <code>SummaryUITableViewCell</code> (a custom class inheriting from <code>UITableViewCell</code>) which contains an Activity Indicator (<code>loadingSpinner</code>) and a UIWebView (<code>webView</code>).</p>\n\n<p>My app gets a list of URLs to load, then presents the table view, one cell per URL.</p>\n\n<p>In <code>cellForRowAtIndexPath</code> I start the animation for the loading spinner and call <code>cell.webView loadRequest:URL</code>.</p>\n\n<p>Everything works fine and <code>webViewDidFinishLoad</code> gets called once per URL (it has just an <code>NSLog</code> statement in it for now). What I can't figure out is how to find the appropriate <code>loadingSpinner</code> so that I can stop the animation and hide it.</p>\n"}, {"tags": ["ios", "objective-c", "string"], "comments": [{"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1542062896, "post_id": 53271128, "comment_id": 93425939, "body": "That was a typo in my question now corrected.  The original has the placeholder."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1542063197, "post_id": 53271128, "comment_id": 93426028, "body": "The code is supposed to work."}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1542063330, "post_id": 53271128, "comment_id": 93426075, "body": "My xcode crashed.  I will try again when it reboots."}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1542065282, "post_id": 53271183, "comment_id": 93426625, "body": "Curious why this was accepted as the correct answer since the question (after fixing the typo) includes this same line of code already. So this doesn&#39;t actually fix anything."}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1542138648, "post_id": 53271183, "comment_id": 93458952, "body": "The answer is correct..literally. I think the real reason my code did not work was Xcode got corrupted as after xcode crashed and I restarted mac it worked properly.  You are not supposed to delete questions with answers otherwise I would have deleted this question."}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1542156797, "post_id": 53271183, "comment_id": 93464846, "body": "It is also possible the error in my app had to do with apostrophes in IOS 11 and onward. For my question, I wrote the string as a &#39; using the keyboard but in the app it comes from user input where apple substitutes smart apostrophes.  Here is a question you answered on this very topic.<a href=\"https://stackoverflow.com/questions/35304347/how-to-find-and-replace-a-particular-unicode-character-with-a-non-unicode-charac\" title=\"how to find and replace a particular unicode character with a non unicode charac\">stackoverflow.com/questions/35304347/&hellip;</a>"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 3, "last_activity_date": 1542062686, "creation_date": 1542062686, "answer_id": 53271183, "question_id": 53271128, "link": "https://stackoverflow.com/questions/53271128/stringbyreplacingocurrencesofstring-with-special-character-objective-c/53271183#53271183", "title": "stringByReplacingOcurrencesOfString with special character objective c", "body": "<p>You forgot the placeholder</p>\n\n<pre><code>NSLog(@\"newStr: %@\", newStr); \n</code></pre>\n\n<p>Don't you get the warning</p>\n\n<blockquote>\n  <p>Data argument not used by format string</p>\n</blockquote>\n"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 53271183, "answer_count": 1, "score": -2, "last_activity_date": 1542062937, "creation_date": 1542062384, "last_edit_date": 1542062937, "question_id": 53271128, "link": "https://stackoverflow.com/questions/53271128/stringbyreplacingocurrencesofstring-with-special-character-objective-c", "title": "stringByReplacingOcurrencesOfString with special character objective c", "body": "<p>I am trying to replace instances of 's with s or alternatively instances of s with 's.  However, the result of the code below is an empty string.  What could I be doing wrong?</p>\n\n<pre><code>NSString *myStr = @\"Eat at Joe's\";\n NSString *newStr = [myStr stringByReplacingOccurrencesOfString:@\"\\'s\" withString:@\"s\"];\n//edited as per Vadian\nNSLog(@\"newStr:%@\",newStr); //logs as newStr:\n</code></pre>\n"}, {"tags": ["objective-c", "oop", "memory-management"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 2, "last_activity_date": 1542051565, "last_edit_date": 1542051565, "creation_date": 1542051196, "answer_id": 53268914, "question_id": 53268444, "link": "https://stackoverflow.com/questions/53268444/how-does-compiler-allocate-memory-for-class-objects/53268914#53268914", "title": "How does compiler allocate memory for Class Objects?", "body": "<p>The line of code you've given doesn't allocate any memory. At most, it moves the stack pointer sufficiently to make room for a one-word value (though after optimization, it may not even do that).</p>\n\n<blockquote>\n  <p>A 32 bit number representing a memory address stored at foo [The pointer].</p>\n</blockquote>\n\n<p>By \"32 bit number\" I assume you mean \"a pointer-sized integer\" which is 64 bits on most modern processors. This may, if it's not optimized, be aliased to some location on the stack. </p>\n\n<blockquote>\n  <p>How exactly does the compiler mark or signal that the pointer is actually storing a reference to memory that is of type of Foo?</p>\n</blockquote>\n\n<p>It doesn't signal this, and it doesn't store a reference to memory that is of any type at all. The above line of code just (at most) makes room for a pointer. In ObjC, at runtime there are no object types. Every pointer to an object is considered <code>id</code>. ObjC absolutely does not promise that this represents a \"contiguous memory segment\" (there are plenty of cases where what you would think of as \"the data\" is not contiguous). At a deeper level, the processor does not care about \"types\" at all. There is just memory and pointers (<code>void *</code>) to memory. (At a deeper level than that, there isn't even \"memory.\" There's physical RAM, caches, registers, and many other things that are generally abstracted away, even in C. For more on that, see <a href=\"https://queue.acm.org/detail.cfm?id=3212479\" rel=\"nofollow noreferrer\">C is not a Low-Level Language</a>.)</p>\n\n<blockquote>\n  <p>A contiguous memory segment that is uninitialized and typed as Foo. How does it know how much memory to allocate? How does it mark the memory segment as being of type Foo?</p>\n</blockquote>\n\n<p>This isn't allocated at all by the above line. If you want to allocate memory for <code>Foo</code>, you must call <code>+[Foo alloc]</code>. Since it is a class method on <code>Foo</code>, it knows how much memory <code>Foo</code> requires. Nothing marks that memory of being of any type, and Objective-C does not actually care what type it is. All it cares is that theres a pointer in the right place called the <code>isa</code> pointer that it can use to lookup how to dispatch messages via <code>objc_msgSend</code>.</p>\n\n<p>There are plenty of cases where something called <code>*Foo</code> does not point to a <code>Foo</code>. It's very common that the actual thing pointed to is a toll-free-bridged type, which is a data structure for a completely different type (a CF structure) that happens to have an <code>isa</code> pointer in the right place so that it can pretend to be an ObjC object. All that is required for the system to work is for things to line up \"close enough\" that <code>objc_msgSend</code> can function. There is no need (or mechanism) for marking memory as being some particular type.</p>\n"}, {"comments": [{"owner": {"reputation": 644, "user_id": 3772726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3760f66f9b97635f3295624a8fe56fd0?s=128&d=identicon&r=PG&f=1", "display_name": "btomtom5", "link": "https://stackoverflow.com/users/3772726/btomtom5"}, "edited": false, "score": 0, "creation_date": 1543567403, "post_id": 53269248, "comment_id": 93973389, "body": "Wow. Thank you for that very in depth explanation. I just finished going through it all and it is sooooo beautiful. I love the simplicity of it all. Some follow up questions that I have now that I know that pnters are not actually typed in anyway at all. How is is possible for the program to properly calculate the stride on an array for a primitive data type? e.g. it knows that the stride is 8 for char* baseAddress; and that the stride is 32 for int* baseAddress; when doing an array access like baseAddress[i]. I see that primitive types like char and int aren&#39;t classes and have no isa pnter."}, {"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "reply_to_user": {"reputation": 644, "user_id": 3772726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3760f66f9b97635f3295624a8fe56fd0?s=128&d=identicon&r=PG&f=1", "display_name": "btomtom5", "link": "https://stackoverflow.com/users/3772726/btomtom5"}, "edited": false, "score": 1, "creation_date": 1543584028, "post_id": 53269248, "comment_id": 93982089, "body": "The compiler knows that a <code>char</code> is 1 byte and an <code>int</code> is 4 bytes, just like it knows a <code>Foo*</code> is either 4 or 8 bytes (depending on the target platform)."}], "tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1542053053, "last_edit_date": 1542053053, "creation_date": 1542052736, "answer_id": 53269248, "question_id": 53268444, "link": "https://stackoverflow.com/questions/53268444/how-does-compiler-allocate-memory-for-class-objects/53269248#53269248", "title": "How does compiler allocate memory for Class Objects?", "body": "<p>The size of a pointer like <code>Foo *</code> depends on the target platform. On most current Apple platforms, it is 64-bit, but Apple Watch prior to Series 4 is 32-bit.</p>\n\n<p>There are several contexts in which you might write this:</p>\n\n<pre><code>Foo *foo;\n</code></pre>\n\n<ol>\n<li><p>You could write this as a global variable, outside of any <code>@interface</code> or <code>@implementation</code> variable declaration and outside of any function. Then, each time the program is started, it allocates space for one pointer and sets that pointer to nil.</p></li>\n<li><p>You could write this in an <code>@implementation</code> variable declaration, like this:</p>\n\n<pre><code>@implementation MyObject {\n    Foo *foo;\n}\n</code></pre>\n\n<p>In this case, you have declared an instance variable (or \u201civar\u201d). Each time the program creates an instance of <code>MyObject</code>, the instance includes space for one pointer and sets the pointer to nil.</p></li>\n<li><p>You could write this as a local variable in a function or a method, like this:</p>\n\n<pre><code>- (void)doSomething {\n    Foo *foo;\n}\n</code></pre>\n\n<p>In this case, you have declared a local variable. Each time the function or method is called, it allocates one pointer in its stack frame and (assuming you compiled with ARC enabled, which is the default) it initializes the pointer to nil.</p></li>\n</ol>\n\n<p>Note that in all of these cases, <code>foo</code> does <strong>not</strong> point to an instance of <code>Foo</code>. It points to nil. To make <code>foo</code> point to an instance of <code>Foo</code>, you must set it to reference to <code>Foo</code> that you got from somewhere else. You could get that reference by calling a function or method, like this:</p>\n\n<pre><code>- (void)doSomething {\n    Foo *foo;\n    // foo is nil here.\n\n    foo = [[Foo alloc] init];\n    // If [[Foo alloc] init] succeeded, then foo now points to an\n    // instance of Foo. If [[Foo alloc] init] returned nil, which\n    // indicates failure, then foo is still nil.\n}\n</code></pre>\n\n<p>Or you could be passed a <code>Foo</code> reference as a function argument:</p>\n\n<pre><code>- (void)doSomethingWithFoo:(Foo *)incomingFoo {\n    Foo *foo;\n    // foo is nil here.\n\n    foo = incomingFoo;\n    // foo now points to whatever incomingFoo points to, which should be\n    // either an instance of Foo, or nil.\n}\n</code></pre>\n\n<p>Or you could get it from some other global, local, or instance variable.</p>\n\n<p>As to \u201cHow exactly does the compiler mark or signal that the pointer is actually storing a reference to memory that is of type of <code>Foo</code>\u201d: It doesn't. At compile-time, the compiler knows that <code>foo</code> should only point to a <code>Foo</code> (or nil), and tries to prevent you from assigning it to things that aren't a pointer to <code>Foo</code>. For example, the compiler will issue a warning or an error for this:</p>\n\n<pre><code>Foo *foo = @\"hello\";\n</code></pre>\n\n<p>because the compiler knows that an <code>NSString</code> is not a <code>Foo</code>. (I assume you didn't make <code>Foo</code> a <code>typedef</code> or subclass of <code>NSString</code>.)</p>\n\n<p>However, you can override the compiler's type concerns using a cast:</p>\n\n<pre><code>Foo *foo = (Foo *)@\"hello\";\n</code></pre>\n\n<p>or by using the <code>id</code> type:</p>\n\n<pre><code>id something = @\"hello\";\nFoo *foo = something;\n</code></pre>\n\n<p>This compiles, and it runs fine until you try to do something with <code>foo</code> that an <code>NSString</code> doesn't know how to do.</p>\n\n<p>So it's not the compiler that knows \u201cthe pointer is actually storing a reference to memory that is of type of <code>Foo</code>\u201d.</p>\n\n<p>The Objective-C runtime knows that the pointer is actually storing a reference to a <code>Foo</code>. To understand how the runtime tracks the type of an object, you first need to know about the <code>Foo</code> class object.</p>\n\n<p>For every Objective-C class in a program, there is, at runtime, one special object called the \u201cclass object\u201d. So for <code>NSObject</code>, there is a single <code>NSObject</code> class object, and for <code>NSString</code>, there is a single <code>NSString</code> class object, and for <code>Foo</code>, there is a single <code>Foo</code> class object. Note that in general, a class object is not an instance of itself! That is, the <code>NSString</code> class object is not itself an instance of <code>NSString</code>, and the <code>Foo</code> class object is not itself an instance of <code>Foo</code>.</p>\n\n<p>The <code>Foo</code> class object knows what makes up an instance of <code>Foo</code>:</p>\n\n<ul>\n<li>The superclass of <code>Foo</code> (maybe <code>NSObject</code>, maybe something else).</li>\n<li>The name, type, and size of each instance variable of a <code>Foo</code> (except those inherited from the super class of <code>Foo</code>).</li>\n<li>The name, type signature, and implementation address of each message understood by a <code>Foo</code> (except those inherited from the superclass of <code>Foo</code>).</li>\n</ul>\n\n<p>The first bytes of every Objective-C object contain a pointer to a class object.<sup>1</sup> This pointer is called the <code>isa</code> pointer, and it determines the type of the object. When you use the syntax that sends a message to an object, like <code>[foo length]</code>, the compiler generates a call to <code>objc_msgSend</code>. Recall that in <code>[foo length]</code>, the object referenced by <code>foo</code> is called the <em>receiver</em>. The <code>objc_msgSend</code> function uses the <code>isa</code> pointer of the receiver to find the receiver's class object. It looks through the class object's table of messages to find the implementation of <code>length</code> and jumps to it. If <code>Foo</code> doesn't define a <code>length</code> message, then <code>objc_msgSend</code> looks in <code>Foo</code>'s superclass for the message, and so on up the superclass chain.<sup>2</sup></p>\n\n<p>So, it is this <code>isa</code> pointer that determines the type of the object at runtime.</p>\n\n<p>So how does a <code>Foo</code> object get allocated? When you say <code>[[Foo alloc] init]</code>, that means \u201csend the <code>alloc</code> message to the <code>Foo</code> class object, and then send the <code>init</code> message to whatever comes back from <code>alloc</code>\u201d. So the <code>Foo</code> class object receives the <code>alloc</code> message. But the <code>Foo</code> class object probably doesn't implement <code>alloc</code> directly. It inherits the <code>NSObject</code> implementation of <code>alloc</code>.</p>\n\n<p>So <code>+[NSObject alloc]</code> actually allocates the memory for a new <code>Foo</code>. As you say, it allocates a \u201ccontiguous memory segment\u201d, but it is not \u201cuninitialized and typed as <code>Foo</code>\u201d. It is <strong>initialized</strong> and type as <code>Foo</code>. <a href=\"https://developer.apple.com/documentation/objectivec/nsobject/1571958-alloc?language=objc\" rel=\"nofollow noreferrer\">The <code>+[NSObject alloc]</code> documentation</a> says:</p>\n\n<blockquote>\n  <p>The <code>isa</code> instance variable of the new instance is initialized to a data structure that describes the class; memory for all other instance variables is set to 0.</p>\n</blockquote>\n\n<p>You can look at the implementation <a href=\"https://opensource.apple.com/source/objc4/objc4-723/runtime/NSObject.mm.auto.html\" rel=\"nofollow noreferrer\">here</a>. It's the <code>callAlloc</code> function. It uses the standard C library function <code>calloc</code> to allocate memory, and <code>calloc</code> fills the memory to 0. Then it sets the <code>isa</code> pointer.</p>\n\n<p>As to \u201cHow does it know how much memory to allocate\u201d: remember that each class object knows all of the instance variables of its instances. So to allocate a <code>Foo</code>, <code>+[NSObject alloc]</code> sums the sizes of all of the instance variables of a <code>Foo</code>, plus the sizes of all of the instance variables of <code>Foo</code>'s superclass, recursively to the end of the superclass chain. That tells it how many bytes to allocate. Except that it would be too slow to do that every time it allocates an object. So the program pre-computes the instance size for every class object at startup, and <code>+[NSObject alloc]</code> looks up the precomputed size of a <code>Foo</code> in the <code>Foo</code> class object.</p>\n\n<hr>\n\n<ol>\n<li><p>Unless the object is represented as a <a href=\"https://mikeash.com/pyblog/friday-qa-2012-07-27-lets-build-tagged-pointers.html\" rel=\"nofollow noreferrer\">tagged pointer</a>, but don't worry about that.</p></li>\n<li><p>If you want to know what happens when <code>objc_msgSend</code> reaches the end of the superclass chain without finding an implementation, read <a href=\"https://www.mikeash.com/pyblog/friday-qa-2009-03-27-objective-c-message-forwarding.html\" rel=\"nofollow noreferrer\">Objective-C Message Forwarding</a>.</p></li>\n</ol>\n"}], "owner": {"reputation": 644, "user_id": 3772726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3760f66f9b97635f3295624a8fe56fd0?s=128&d=identicon&r=PG&f=1", "display_name": "btomtom5", "link": "https://stackoverflow.com/users/3772726/btomtom5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 53269248, "answer_count": 2, "score": 0, "last_activity_date": 1542053053, "creation_date": 1542049126, "question_id": 53268444, "link": "https://stackoverflow.com/questions/53268444/how-does-compiler-allocate-memory-for-class-objects", "title": "How does compiler allocate memory for Class Objects?", "body": "<p>Given the following variable declaration,</p>\n\n<pre><code>Foo* foo;\n</code></pre>\n\n<p>how is memory actually being allocated?</p>\n\n<p>This is my guess. There are actually two pieces of memory being allocated here.</p>\n\n<ol>\n<li><p>A 32 bit number representing a memory address stored at <code>foo</code> [The pointer]. How exactly does the compiler mark or signal that the pointer is actually storing a reference to memory that is of type of <code>Foo</code>?</p></li>\n<li><p>A contiguous memory segment that is uninitialized and typed as Foo. How does it know how much memory to allocate? How does it mark the memory segment as being of type <code>Foo</code>?</p></li>\n</ol>\n"}, {"tags": ["objective-c", "variables", "if-statement"], "comments": [{"owner": {"reputation": 14702, "user_id": 1918561, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uRU2O.jpg?s=128&g=1", "display_name": "Gereon", "link": "https://stackoverflow.com/users/1918561/gereon"}, "edited": false, "score": 4, "creation_date": 1542038072, "post_id": 53265570, "comment_id": 93415456, "body": "You&#39;re creating three completely independent variables named <code>createUser</code> that aren&#39;t used within their scope, and the compiler warns you accordingly. These variables shadow your existing <code>createUser</code> variable, otherwise you&#39;d get an &quot;unknown identifier&quot; compiler error in the last line of your sample."}], "answers": [{"tags": [], "owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "is_accepted": true, "score": 2, "last_activity_date": 1542038550, "last_edit_date": 1542038550, "creation_date": 1542037816, "answer_id": 53265644, "question_id": 53265570, "link": "https://stackoverflow.com/questions/53265570/objective-c-variable-wont-get-used-if/53265644#53265644", "title": "Objective-C: Variable won&#39;t get used (if)", "body": "<p>Just move your variable declaration outside the scope of each <code>if</code> (right now the variable is created &amp; discarded immediately)</p>\n\n<pre><code>NSString *createUser;\n\nif ([salesPersonName isEqual: @\"XXX \"]) {\n    createUser = @\"1\";\n} else if ([salesPersonName isEqual: @\"XXXX\"]) {\n    createUser = @\"11\";\n} else if ([salesPersonName isEqual: @\"XXXXX\"]) {\n    createUser = @\"111\";\n} else {\n    createUser = @\"1111\";\n}\n</code></pre>\n\n<p>Also, instead of a multi-if statement, you could use a dictionary:</p>\n\n<pre><code>NSDictionary *dict = @{\n    @\"XXX \" : @\"1\",\n    @\"XXXX\" : @\"11\",\n    @\"XXXXX\" : @\"111\"\n};\n\nNSString *createUser = dict[salesPersonName] ?: @\"1111\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 297, "user_id": 6175465, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154139136117082/picture?type=large", "display_name": "Riley Steele Parsons", "link": "https://stackoverflow.com/users/6175465/riley-steele-parsons"}, "is_accepted": false, "score": 3, "last_activity_date": 1542079598, "last_edit_date": 1542079598, "creation_date": 1542037941, "answer_id": 53265687, "question_id": 53265570, "link": "https://stackoverflow.com/questions/53265570/objective-c-variable-wont-get-used-if/53265687#53265687", "title": "Objective-C: Variable won&#39;t get used (if)", "body": "<p>Just declare the <code>createUser</code> instance variable <strong>outside</strong> of the if-block scope (i.e. similar to your declaration of <code>salesPersonName</code>). This should reduce redundancy in your code and resolve the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8634981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jPKu5.jpg?s=128&g=1", "display_name": "efecto_dopler", "link": "https://stackoverflow.com/users/8634981/efecto-dopler"}, "is_accepted": false, "score": 1, "last_activity_date": 1542203904, "creation_date": 1542203904, "answer_id": 53301946, "question_id": 53265570, "link": "https://stackoverflow.com/questions/53265570/objective-c-variable-wont-get-used-if/53301946#53301946", "title": "Objective-C: Variable won&#39;t get used (if)", "body": "<p>Declare the instance variable outside of the if-block and init it with an empty value, because it could crash the program at bodyString variable line.</p>\n\n<pre><code>NSString *createUser = @\"\";\nif ([salesPersonName isEqual: @\"XXX \"]) {\n    createUser = @\"1\";\n} else if ([salesPersonName isEqual: @\"XXXX\"]) {\n    createUser = @\"11\";\n} else if ([salesPersonName isEqual: @\"XXXXX\"]) {\n    createUser = @\"111\";\n} else {\n    createUser = @\"1111\";\n}\n\n// Hier die keyvalues eintragen\nNSString *bodyString = [NSString stringWithFormat:@\"name=nachtelefonieren&amp;assigned[id]%@=&amp;assigned[objectName]=SevUser&amp;category[id]=31&amp;category[objectName]=Category&amp; createUser[id]=%@&amp;createUser[objectName]=SevUser&amp;noticeCreator=0&amp;deadline=%@&amp;status=100&amp;object[id]=28243&amp;object[objectName]=SevClient\",assignedUser,createUser,deadline];\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 10127274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27fab84362cd6ac24881f69ad1ece5b1?s=128&d=identicon&r=PG&f=1", "display_name": "Dogukan A", "link": "https://stackoverflow.com/users/10127274/dogukan-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53265644, "answer_count": 3, "score": 1, "last_activity_date": 1542203904, "creation_date": 1542037573, "question_id": 53265570, "link": "https://stackoverflow.com/questions/53265570/objective-c-variable-wont-get-used-if", "title": "Objective-C: Variable won&#39;t get used (if)", "body": "<p>I'm using a pretty simple if-clause which just checks a name an should give back a variable, but it doesnt get recognized.\nthe \"createUser\" variable is marked as unused.</p>\n\n<pre><code>NSString *salesPersonName = [[[SevdeskApiManager sharedManager] currentSevUser] firstName];\n    if ([salesPersonName isEqual: @\"XXX \"]) {\n        NSString *createUser = @\"1\";\n    } else if ([salesPersonName isEqual: @\"XXXX\"]) {\n        NSString *createUser = @\"11\";\n    } else if ([salesPersonName isEqual: @\"XXXXX\"]) {\n        NSString *createUser = @\"111\";\n    } else {\n        NSString *createUser = @\"1111\";\n    }\n    // Hier die keyvalues eintragen\n    NSString *bodyString = [NSString stringWithFormat:@\"name=nachtelefonieren&amp;assigned[id]%@=&amp;assigned[objectName]=SevUser&amp;category[id]=31&amp;category[objectName]=Category&amp; createUser[id]=%@&amp;createUser[objectName]=SevUser&amp;noticeCreator=0&amp;deadline=%@&amp;status=100&amp;object[id]=28243&amp;object[objectName]=SevClient\",assignedUser,createUser,deadline];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "ios12"], "comments": [{"owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "edited": false, "score": 0, "creation_date": 1542043687, "post_id": 53264692, "comment_id": 93418558, "body": "You better add some code. Then we might understand what you mean by <i>wrong bounds</i> and <i>real wrong bounds</i> and <i>nativeBounds</i>."}, {"owner": {"reputation": 2429, "user_id": 754328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ivVYg.png?s=128&g=1", "display_name": "Vlad Polyanskiy", "link": "https://stackoverflow.com/users/754328/vlad-polyanskiy"}, "reply_to_user": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "edited": false, "score": 0, "creation_date": 1542046504, "post_id": 53264692, "comment_id": 93419769, "body": "Fixed question a bit. I believe it should be easier to understand now."}, {"owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "edited": false, "score": 1, "creation_date": 1542051861, "post_id": 53264692, "comment_id": 93421897, "body": "You talk about <i>correct</i> and <i>wrong</i> values. You better specify what values you expect and what values you get. Otherwise the question is still too vague."}, {"owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "edited": false, "score": 0, "creation_date": 1542051951, "post_id": 53264692, "comment_id": 93421938, "body": "And by the way: to what value have you set the Base SDK in your project?"}], "answers": [{"comments": [{"owner": {"reputation": 2429, "user_id": 754328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ivVYg.png?s=128&g=1", "display_name": "Vlad Polyanskiy", "link": "https://stackoverflow.com/users/754328/vlad-polyanskiy"}, "edited": false, "score": 0, "creation_date": 1543574690, "post_id": 53370906, "comment_id": 93977199, "body": "Please read question carefully. It has correct launch images."}], "tags": [], "owner": {"reputation": 1, "user_id": 9567428, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aJ3CnO0mIKs/AAAAAAAAAAI/AAAAAAAAAAk/pVONcgz0boU/photo.jpg?sz=128", "display_name": "iNerv", "link": "https://stackoverflow.com/users/9567428/inerv"}, "is_accepted": false, "score": 0, "last_activity_date": 1542616430, "creation_date": 1542616430, "answer_id": 53370906, "question_id": 53264692, "link": "https://stackoverflow.com/questions/53264692/iphone-xr-returns-correct-nativebounds-but-has-wrong-screen-size-on-device/53370906#53370906", "title": "iPhone XR returns correct nativeBounds but has wrong screen size on device", "body": "<p>I faced the same question, and I found the reason. You could check the <strong>LaunchImage</strong> in the <strong>assets</strong>. Is there an image for the iPhone XR. If you don't have the <strong>iPhone XR LaunchImage</strong>, the screen size of XR will compute with the the iPhone X. So <strong>make a LaunchImage for XR</strong>.\nHope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 2429, "user_id": 754328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ivVYg.png?s=128&g=1", "display_name": "Vlad Polyanskiy", "link": "https://stackoverflow.com/users/754328/vlad-polyanskiy"}, "edited": false, "score": 0, "creation_date": 1543574979, "post_id": 53371398, "comment_id": 93977339, "body": "Interesting info, thanks. But in my case the trouble was in a specific user device settings. See my answer below."}], "tags": [], "owner": {"reputation": 380, "user_id": 9988514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mhgeo.png?s=128&g=1", "display_name": "Rainer Schwarz", "link": "https://stackoverflow.com/users/9988514/rainer-schwarz"}, "is_accepted": false, "score": 1, "last_activity_date": 1542618739, "creation_date": 1542618739, "answer_id": 53371398, "question_id": 53264692, "link": "https://stackoverflow.com/questions/53264692/iphone-xr-returns-correct-nativebounds-but-has-wrong-screen-size-on-device/53371398#53371398", "title": "iPhone XR returns correct nativeBounds but has wrong screen size on device", "body": "<p>The iPhone XR does not use the same size in (virtual) points than the iPhone X or iPhone XS does. It uses the same point dimensions like the new iPhone XS Max, but is rendered only with <code>@2x</code> instead of <code>@3x</code>, like the Max does (lower pixel per inch density). You can read more about screen sizes, points, rendered dimensions etc. for each iPhone model <a href=\"https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions\" rel=\"nofollow noreferrer\" title=\"PaintCode\">here</a>.</p>\n\n<p>The missing templates for launch images in XCAssets also affect the new generation of iPads, as e.g. the new iPad Pro 11\" slightly differs from the standard 3/4 aspect ratio, the other iPads have. Diving deeper into the missing templates issue brought me to this <a href=\"https://openradar.appspot.com/22915712\" rel=\"nofollow noreferrer\" title=\"OpenRadar\">radar post</a> from 2015 about missing iPad Pro App Icon and Launch Image templates, where the comment states:</p>\n\n<p><code>[...] and Developer relations reported in a radar comment that they no longer support launch images and will not be adding the iPad pro launch image size to asset catalogs.</code></p>\n\n<p>It seems like Apple is discouraging the use of launch images inside XCAssets and proposes to use <code>Launch Screen.storyboard</code> instead. It will \"auto-size\" to the correct dimensions (and respectively the outputs of <code>UIScreen.main.bounds</code> and <code>UIScreen.main.nativeBounds</code>) depending on the used device or simulator.</p>\n"}, {"tags": [], "owner": {"reputation": 2429, "user_id": 754328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ivVYg.png?s=128&g=1", "display_name": "Vlad Polyanskiy", "link": "https://stackoverflow.com/users/754328/vlad-polyanskiy"}, "is_accepted": true, "score": 0, "last_activity_date": 1543574889, "creation_date": 1543574889, "answer_id": 53556002, "question_id": 53264692, "link": "https://stackoverflow.com/questions/53264692/iphone-xr-returns-correct-nativebounds-but-has-wrong-screen-size-on-device/53556002#53556002", "title": "iPhone XR returns correct nativeBounds but has wrong screen size on device", "body": "<p>In my case the trouble was in the specific user device settings.\nSettings -> Display &amp; brightness -> Display zoom switch to ON.\nThis cause to return wrong </p>\n\n<pre><code>[UIScreen mainScreen].bounds.size\n</code></pre>\n\n<p>values runtime</p>\n"}], "owner": {"reputation": 2429, "user_id": 754328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ivVYg.png?s=128&g=1", "display_name": "Vlad Polyanskiy", "link": "https://stackoverflow.com/users/754328/vlad-polyanskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 730, "favorite_count": 1, "accepted_answer_id": 53556002, "answer_count": 3, "score": 0, "last_activity_date": 1543574889, "creation_date": 1542034415, "last_edit_date": 1542046463, "question_id": 53264692, "link": "https://stackoverflow.com/questions/53264692/iphone-xr-returns-correct-nativebounds-but-has-wrong-screen-size-on-device", "title": "iPhone XR returns correct nativeBounds but has wrong screen size on device", "body": "<p>My project target iOS - 11 and later. It has correct Launch images assets for XR and XS Max with appropriate dimensions. On simulator my app works as expected on both XR and XS Max.</p>\n\n<p>But, users reported UI issues on real devices. After some research it looks like on real device this </p>\n\n<pre><code>[UIScreen mainScreen].nativeBounds.size\n</code></pre>\n\n<p>returns correct values. But seems like device itself think that it has iPhone X screen size (like when i do not use correct launch screen images). And in my opinion it returns wrong values with</p>\n\n<pre><code>[UIScreen mainScreen].bounds.size\n</code></pre>\n\n<p>this one i believe returns values like it's not iPhone XR but iPhone X.</p>\n\n<p>Did someone face such an issue too?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "ocmock"], "comments": [{"owner": {"reputation": 317, "user_id": 4489133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1Iv7.jpg?s=128&g=1", "display_name": "harshith7823", "link": "https://stackoverflow.com/users/4489133/harshith7823"}, "edited": false, "score": 0, "creation_date": 1542090323, "post_id": 53261197, "comment_id": 93478096, "body": "This issue has been fixed in OCMock 3.4.3 release"}], "answers": [{"tags": [], "owner": {"reputation": 2021, "user_id": 579717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sTYmS.jpg?s=128&g=1", "display_name": "Francesco Puglisi", "link": "https://stackoverflow.com/users/579717/francesco-puglisi"}, "is_accepted": true, "score": 0, "last_activity_date": 1552302046, "creation_date": 1552302046, "answer_id": 55100340, "question_id": 53261197, "link": "https://stackoverflow.com/questions/53261197/how-to-partial-mock-objects-of-the-same-class-twice-in-ocmock-3-4-2/55100340#55100340", "title": "How to partial mock objects of the same class twice in OCMock 3.4.2?", "body": "<p>Your implementation is correct. There's a <a href=\"https://github.com/erikdoe/ocmock/issues/357\" rel=\"nofollow noreferrer\">bug</a> in version 3.4.1 of OCMock. The bug was fixed in version 3.4.3 - see <a href=\"https://github.com/erikdoe/ocmock/blob/master/Source/Changes.txt\" rel=\"nofollow noreferrer\">release notes</a>.</p>\n\n<p>I suggest using macros to stub methods because they are much more intuitive to write and easier to read.</p>\n\n<p>e.g. <code>OCMock([source1 sourceType]).andReturn(@(EKSourceTypeBirthdays))</code></p>\n"}], "owner": {"reputation": 317, "user_id": 4489133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R1Iv7.jpg?s=128&g=1", "display_name": "harshith7823", "link": "https://stackoverflow.com/users/4489133/harshith7823"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 55100340, "answer_count": 1, "score": 1, "last_activity_date": 1552302046, "creation_date": 1542022029, "last_edit_date": 1542025454, "question_id": 53261197, "link": "https://stackoverflow.com/questions/53261197/how-to-partial-mock-objects-of-the-same-class-twice-in-ocmock-3-4-2", "title": "How to partial mock objects of the same class twice in OCMock 3.4.2?", "body": "<pre><code>EKSource *source1 = [[EKSource alloc] init];\nEKSource *source2 = [[EKSource alloc] init];\n\nid source1Mock = OCMPartialMock(source1);\n[[[source1Mock stub] andReturnValue:@(EKSourceTypeBirthdays)] sourceType];\n\nid source2Mock = OCMPartialMock(source2);\n[[[source2Mock stub] andReturnValue:@(EKSourceTypeCalDAV)] sourceType];\n\nNSLog([source1 sourceType]); # Getting EKSourceTypeLocal instead of EKSourceTypeBirthdays\nNSLog([source2 sourceType]); # Getting EKSourceTypeCalDAV. Expected behaviour.\n</code></pre>\n\n<p>I'm trying to partial mock two objects of EKSource class as shown above. After mocking source2 object, source1Mock stops mocking. How to solve this problem ? I did not notice this issue in OCMock 3.4.1.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "is_accepted": true, "score": 0, "last_activity_date": 1542264982, "creation_date": 1542264982, "answer_id": 53313955, "question_id": 53261115, "link": "https://stackoverflow.com/questions/53261115/firebase-stoping-it-from-entering-firebase-auth-service-when-the-back-button-i/53313955#53313955", "title": "Firebase: Stoping it from entering Firebase auth service, when the back button is pressed on specific view", "body": "<p>Turns out there were two actions assigned to the <code>back</code> button i.e the <code>MoveNextPage</code> and <code>MoveBackPage</code> in storyboard (<em>rookie mistake as the next button was copied and pasted to back button position in storyboard)</em>, so the <strong>removal of next button action from storyboard</strong> corrected the problem.</p>\n"}], "owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 53313955, "answer_count": 1, "score": 0, "last_activity_date": 1542264982, "creation_date": 1542021699, "last_edit_date": 1542022702, "question_id": 53261115, "link": "https://stackoverflow.com/questions/53261115/firebase-stoping-it-from-entering-firebase-auth-service-when-the-back-button-i", "title": "Firebase: Stoping it from entering Firebase auth service, when the back button is pressed on specific view", "body": "<p>Using firebase to create user sign-in as follow,</p>\n\n<blockquote>\n  <p><strong>a)</strong> Sign-up view -> <strong>b)</strong> Email view -> <strong>c)</strong> userName view</p>\n</blockquote>\n\n<p>And have two button namely <code>back</code> and <code>next</code>, all of this can be seen below,</p>\n\n<p><a href=\"https://i.stack.imgur.com/bMBNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bMBNw.png\" alt=\"ImageToSee\"></a></p>\n\n<p>Problem occurs when <code>view b</code> has previously visited <code>view c</code> and upon clicking <code>back button</code> on <code>view b</code>, Firebase falsely goes into user auth function (checked using breakpoints),</p>\n\n<p><strong>Supporting code for <code>back button</code>,</strong></p>\n\n<pre><code>(IBAction)backButtonPressed:(id)sender {\n\n    if(page==0)\n    {\n\n        UIAlertController *alert = [UIAlertController alertControllerWithTitle:@\"Signup\" message:@\"Are you sure you want to quit signup?\" preferredStyle:UIAlertControllerStyleAlert];\n\n        UIAlertAction *ok = [UIAlertAction actionWithTitle:@\"Yes\" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action)\n                             {\n                                 [self.navigationController popViewControllerAnimated:YES];\n                                 //BUTTON OK CLICK EVENT\n                             }];\n        UIAlertAction *cancel = [UIAlertAction actionWithTitle:@\"Cancel\" style:UIAlertActionStyleDestructive handler:nil];\n        [alert addAction:cancel];\n        [alert addAction:ok];\n        [self presentViewController:alert animated:YES completion:nil];\n    }\nelse\n{\n\n    [self moveToPreviousStep];\n}\n    if (page==3){\n        self.skipButton.hidden=YES;\n    }\n}\n</code></pre>\n\n<p><strong>Supporting code for <code>next button with Firebase specific code</code>,</strong></p>\n\n<pre><code>[ARSLineProgress showWithPresentCompetionBlock:^{\n\n\n               [[FIRAuth auth] fetchProvidersForEmail:self.signUpEmail.text completion:^(NSArray&lt;NSString *&gt; * _Nullable providers, NSError * _Nullable error) {\n\n                    [ARSLineProgress hideWithCompletionBlock:^{\n                   if([providers count]==0)\n                   {\n                       NSLog(@\"email is valid for signup\");\n                       signingUpFromEmail = TRUE;\n\n\n                        [self moveToNextStep];\n                   }\n</code></pre>\n\n<p><strong>What should happen,</strong></p>\n\n<p>Upon clicking the <code>back button</code> in <code>view b</code> it should go into view a without getting into Firebase auth function, <em>(maybe it's a pending thread for firebase that needs to purged or it can be handled programatically)</em></p>\n"}, {"tags": ["ios", "objective-c", "avfoundation", "phphotolibrary", "slowmotion"], "owner": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1542014872, "creation_date": 1542014872, "question_id": 53259203, "link": "https://stackoverflow.com/questions/53259203/how-to-export-slow-motion-video-240-fps-from-camera-roll-in-objective-c", "title": "How to export slow motion video (240 fps) from camera roll in objective c?", "body": "<p>I am going to work with slow motion video (240fps) selected from camera roll.</p>\n\n<p>I've used following code to load asset from camera roll.</p>\n\n<pre><code>PHVideoRequestOptions *options = [PHVideoRequestOptions new];\n                options.version = PHVideoRequestOptionsVersionCurrent;\n[[PHImageManager defaultManager] requestAVAssetForVideo:phasset options:options resultHandler:^(AVAsset * _Nullable asset, AVAudioMix * _Nullable audioMix, NSDictionary * _Nullable info) {\n//use asset to check fps : exported asset's fps is not 240 fps for 240 fps I recorded using native iPhone camera. \n}\n</code></pre>\n\n<p>If I export asset's url to file then I can get slow motion effected video. But its fps is 30 or 43.33 fps.</p>\n\n<p>What's happened ? Is there any way to keep fps for exported slow motion asset ?</p>\n\n<p>I've tried to googling whole day but not solved this issue.</p>\n\n<p>Any help would be appreciated.\nThanks</p>\n"}, {"tags": ["c++", "ios", "objective-c", "objective-c++"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1542012387, "post_id": 53258343, "comment_id": 93401550, "body": "Add <code>CF_EXTERN</code> before to_base11 and from_base11 prototypes."}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1542013132, "post_id": 53258343, "comment_id": 93401902, "body": "@Cy-4AH after adding these in the header file, the same error persists."}, {"owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "edited": false, "score": 0, "creation_date": 1542023810, "post_id": 53258343, "comment_id": 93407558, "body": "Note that the C standard library contains (usually fast) base 11 string reading functions in <a href=\"https://linux.die.net/man/3/strtol\" rel=\"nofollow noreferrer\"><code>strtol</code></a>/<a href=\"https://linux.die.net/man/3/strtoul\" rel=\"nofollow noreferrer\"><code>strtoul</code></a>: <code>strtoul(string, NULL, 11)</code>. (This assumes that &quot;A&quot; = decimal 10)"}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "reply_to_user": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "edited": false, "score": 0, "creation_date": 1542023939, "post_id": 53258343, "comment_id": 93407644, "body": "@pmdj yes, thank you. However in our implementation we have replaced the <code>A</code> with <code>_</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1542015874, "post_id": 53259333, "comment_id": 93403305, "body": "Unfortenately, the same error persists. Thanks anyway."}, {"owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "edited": false, "score": 1, "creation_date": 1542023715, "post_id": 53259333, "comment_id": 93407492, "body": "This should fix the problem, are you sure the .mm file is being linked into your project? Find the Object file (.o) corresponding to your .mm file and check what symbols it exports using the <code>nm</code> command: <code>nm path&#47;to&#47;base11.o</code>; the path will be something like <code>&#47;Users&#47;USERNAME&#47;Library&#47;Developer&#47;Xcode&#47;DerivedData&#47;PROJECTN&zwnj;&#8203;AME-RANDOMSTRING&#47;Bui&zwnj;&#8203;ld&#47;Intermediates&#47;PRO&zwnj;&#8203;JECTNAME.build&#47;Debug&zwnj;&#8203;&#47;TARGETNAME.build&#47;Ob&zwnj;&#8203;jects-normal&#47;x86_64&#47;&zwnj;&#8203;base11.o</code> Check that <code>_from_base11</code> and <code>_to_base11</code> are listed as <code>T</code>."}, {"owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "reply_to_user": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 3, "creation_date": 1542024661, "post_id": 53259333, "comment_id": 93408044, "body": "@GiovanniTerlingen If they&#39;re there, you&#39;re not linking against the file. If they&#39;re missing, you&#39;ve got the extern &quot;C&quot; part wrong. To avoid pulling in CoreFoundation (or to rule out issues with your use of those macros), you can just wrap the declarations in <code>#ifdef __cplusplus</code> <code>extern &quot;C&quot; { </code>  <code>#endif</code> \u2026   <code>#ifdef __cplusplus</code>  <code>}</code>  <code>#endif</code>"}, {"owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "edited": false, "score": 0, "creation_date": 1542027855, "post_id": 53259333, "comment_id": 93409766, "body": "Your answer, in combination with adding the file to the build variant (it was not added -.-) worked! Thanks a lot and have a nice day."}], "tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": true, "score": 3, "last_activity_date": 1542015355, "creation_date": 1542015355, "answer_id": 53259333, "question_id": 53258343, "link": "https://stackoverflow.com/questions/53258343/linker-problem-using-objective-c-with-objective-c/53259333#53259333", "title": "Linker problem using Objective-C++ with Objective-C", "body": "<p>This is problem in function's symbol name.\nC++ allows functions with same name and different prototype.\nSo when functions compiled with C++/Objective-C++ it got symbol name that describes it prototype and makes it unique.</p>\n\n<p>So you need to force compiler use C's symbol name.\nYou can achieve that by adding <code>extern \"C\"</code> before function prototype.\nBut it's not very convenient if you use this header in both C and C++ source files, because C doesn't know what it is <code>extern \"C\"</code>.</p>\n\n<p>Luckily <code>CoreFoundation</code> already have solved this issue. You can peep how they declared their <code>CFString.h</code>, <code>CFArray.h</code>.</p>\n\n<p>So you just need use CoreFoundation's macro: <code>CF_EXTERN_C_BEGIN</code> and <code>CF_EXTERN_C_END</code>.</p>\n\n<pre><code>#ifndef base11_h\n#define base11_h\n\n#include &lt;stdio.h&gt;\n#include &lt;CoreFoundation/CFBase.h&gt;\n\nCF_IMPLICIT_BRIDGING_ENABLED\nCF_EXTERN_C_BEGIN\n\nconst char* to_base11(long n);\nlong from_base11(const char* input);\n\nCF_EXTERN_C_END\nCF_IMPLICIT_BRIDGING_DISABLED\n\n#endif /* base11_h */\n</code></pre>\n"}], "owner": {"reputation": 5955, "user_id": 5457878, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/b3uR6.jpg?s=128&g=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/5457878/giovanni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "accepted_answer_id": 53259333, "answer_count": 1, "score": 1, "last_activity_date": 1542015355, "creation_date": 1542011501, "question_id": 53258343, "link": "https://stackoverflow.com/questions/53258343/linker-problem-using-objective-c-with-objective-c", "title": "Linker problem using Objective-C++ with Objective-C", "body": "<p>Currently I have an iOS project which is using Objective-C. For performance reasons I have implemented Objective-C++ code which looks like the following:</p>\n\n<p><strong>base11.mm</strong></p>\n\n<pre><code>#include &lt;string&gt;\n#include \"base11.h\"\n\nstatic const std::string characters = \"0123456789_\";\n\nconst char* to_base11(long n) {\n    // some c++ code here\n}\n\nlong from_base11(const char* input) {\n    // some c++ code here\n}\n</code></pre>\n\n<p><strong>base11.h</strong></p>\n\n<pre><code>#ifndef base11_h\n#define base11_h\n\n#include &lt;stdio.h&gt;\n\nconst char* to_base11(long n);\nlong from_base11(const char* input);\n\n#endif /* base11_h */\n</code></pre>\n\n<p>Of course, I used the <code>.mm</code> extension for the class, and I am only using plain C function parameters and return types.</p>\n\n<p>Then I have an Objective-C class which wraps these C++ functions in the following methods:</p>\n\n<p><strong>Util.m</strong></p>\n\n<pre><code>#include \"base11.h\"\n\n+(NSString*) convertBase10ToBase11:(long) base10 {\n    const char* base11 = to_base11(base10);\n    return [NSString stringWithUTF8String:base11];\n}\n\n+(NSNumber*) convertBase11ToBase10:(NSString*) base11 {\n    const char* input = [base11 UTF8String];\n    return @(from_base11(input));\n}\n</code></pre>\n\n<p>And the <strong>Util.h</strong>:</p>\n\n<pre><code>@interface Util : NSObject\n    +(NSString*) convertBase10ToBase11:(long) base10;\n    +(NSNumber*) convertBase11ToBase10:(NSString*) base11;\n@end\n</code></pre>\n\n<p>However this gives the following compilation error: </p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"_from_base11\", referenced from:\n      +[Util convertBase11ToBase10:] in Util.o\n  \"_to_base11\", referenced from:\n      +[Util convertBase10ToBase11:] in Util.o\nld: symbol(s) not found for architecture x86_64\n</code></pre>\n\n<p>However, this is very weird. I have chosen to NOT use the <code>.mm</code> extension for the <code>Util.m</code> class since I don't use any C++ code there. Also note that the <code>base11.h</code> header file is not using any C++ code as well. So, why do I get this error? According to this post my approach should be correct:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9452343/how-to-call-a-method-on-mm-file-from-a-objective-c-class\">How to call a method on .mm file from a objective c class</a></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "comments": [{"owner": {"reputation": 2344, "user_id": 6061098, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NKLyk.jpg?s=128&g=1", "display_name": "Bohdan Savych", "link": "https://stackoverflow.com/users/6061098/bohdan-savych"}, "edited": false, "score": 2, "creation_date": 1542011323, "post_id": 53258258, "comment_id": 93401067, "body": "Can you, please, attach code?"}, {"owner": {"reputation": 9847, "user_id": 656600, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/3aseC.png?s=128&g=1", "display_name": "rptwsthi", "link": "https://stackoverflow.com/users/656600/rptwsthi"}, "edited": false, "score": 0, "creation_date": 1542014963, "post_id": 53258258, "comment_id": 93402849, "body": "How you call new ViewController and navigate back from it?"}, {"owner": {"reputation": 295, "user_id": 8541759, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9329fe979656ba653f9933536bf566bd?s=128&d=identicon&r=PG&f=1", "display_name": "Nupur Gupta", "link": "https://stackoverflow.com/users/8541759/nupur-gupta"}, "edited": false, "score": 0, "creation_date": 1542017020, "post_id": 53258258, "comment_id": 93403904, "body": "Maybe you are not pushing the view controllers properly and because of that when you get back you are getting a blank screens"}], "answers": [{"tags": [], "owner": {"reputation": 92, "user_id": 3301750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qKWWc.png?s=128&g=1", "display_name": "Gkolunia", "link": "https://stackoverflow.com/users/3301750/gkolunia"}, "is_accepted": false, "score": 0, "last_activity_date": 1542015264, "creation_date": 1542015264, "answer_id": 53259306, "question_id": 53258258, "link": "https://stackoverflow.com/questions/53258258/when-navigating-back-in-navigation-controller-view-doesnt-load/53259306#53259306", "title": "When navigating back in navigation controller view doesn&#39;t load", "body": "<p>Yep It's weird, There maybe some code which do something with your view on such events like:</p>\n\n<pre><code>override func viewDidDisappear(_ animated: Bool) {\n    super.viewDidDisappear(animated)\n    // remove some subviews or change constraints.\n}\n\noverride func viewWillDisappear(_ animated: Bool) {\n    super.viewWillDisappear(animated)\n    // remove some subviews or change constraints.\n\n}\n</code></pre>\n\n<p>Please send us a code of the view controller which has the problems and code how exactly you show the controller.</p>\n"}], "owner": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542015264, "creation_date": 1542011111, "question_id": 53258258, "link": "https://stackoverflow.com/questions/53258258/when-navigating-back-in-navigation-controller-view-doesnt-load", "title": "When navigating back in navigation controller view doesn&#39;t load", "body": "<p>I have weird situation and have no clue how to debug it. I load three viewControllers in navigation controller. When Im navigating back from there second and first ViewController doesn't display anything just white screen I added print methods everywhere in lifecycle methods and it seems that it loads views but anyway they not visible. What could be the problem?</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-dynamic-links"], "comments": [{"owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1542006038, "post_id": 53257230, "comment_id": 93398953, "body": "Try to reinstall pods again, clean and run the project."}, {"owner": {"reputation": 167, "user_id": 1025405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9db840d8cf9237113a273bf33fc056ff?s=128&d=identicon&r=PG", "display_name": "Siva Murugan", "link": "https://stackoverflow.com/users/1025405/siva-murugan"}, "reply_to_user": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1542011284, "post_id": 53257230, "comment_id": 93401052, "body": "i am not using cocopods.   added frameworks manually"}, {"owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1542011603, "post_id": 53257230, "comment_id": 93401202, "body": "Try to remove and add the framework, clean the build, run the project once."}, {"owner": {"reputation": 167, "user_id": 1025405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9db840d8cf9237113a273bf33fc056ff?s=128&d=identicon&r=PG", "display_name": "Siva Murugan", "link": "https://stackoverflow.com/users/1025405/siva-murugan"}, "reply_to_user": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "edited": false, "score": 0, "creation_date": 1542014534, "post_id": 53257230, "comment_id": 93402614, "body": "i am still having the same problem  &quot;Try to remove and add the framework, clean the build, run the project once&quot;"}, {"owner": {"reputation": 3315, "user_id": 1865424, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/XcQcP.jpg?s=128&g=1", "display_name": "Kundan", "link": "https://stackoverflow.com/users/1865424/kundan"}, "edited": false, "score": 0, "creation_date": 1573639536, "post_id": 53257230, "comment_id": 103944273, "body": "@SivaMurugan Did you find the solution? If yes, please let me know."}], "answers": [{"tags": [], "owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "is_accepted": false, "score": 0, "last_activity_date": 1542069955, "creation_date": 1542069955, "answer_id": 53272179, "question_id": 53257230, "link": "https://stackoverflow.com/questions/53257230/ios-problem-on-using-firebasedynamiclinks/53272179#53272179", "title": "IOS - Problem on using FirebaseDynamicLinks", "body": "<p>Those symbols are defined in FirebaseCore.framework. </p>\n\n<p>Make sure that the FirebaseCore.framework that is being linked comes from the same distribution as the FirebaseDynamicLinks.framework.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9191331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6801a86ef6357d6ea562be5f7014de1c?s=128&d=identicon&r=PG&f=1", "display_name": "Xiao yuxie", "link": "https://stackoverflow.com/users/9191331/xiao-yuxie"}, "is_accepted": false, "score": -1, "last_activity_date": 1543286503, "creation_date": 1543286503, "answer_id": 53491985, "question_id": 53257230, "link": "https://stackoverflow.com/questions/53257230/ios-problem-on-using-firebasedynamiclinks/53491985#53491985", "title": "IOS - Problem on using FirebaseDynamicLinks", "body": "<p>You can check the version of your firebaseCore framework and make sure the version is the same as the firebasedynamiclink framework.</p>\n"}, {"tags": [], "owner": {"reputation": 5456, "user_id": 5362410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYGbR.jpg?s=128&g=1", "display_name": "Gurjinder Singh", "link": "https://stackoverflow.com/users/5362410/gurjinder-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1547040427, "creation_date": 1547040427, "answer_id": 54111254, "question_id": 53257230, "link": "https://stackoverflow.com/questions/53257230/ios-problem-on-using-firebasedynamiclinks/54111254#54111254", "title": "IOS - Problem on using FirebaseDynamicLinks", "body": "<p>I had the same problem. I found that I didn't update my older Analytics framework and downloaded the new firebase SDK from google console and drag only the FirebaseDynamicLinks framework to my code.</p>\n\n<p>So, I removed the old Analytics framework and drag the new Analytics frameworks to my code. Don't combine old and updated frameworks. Here is screenshot of Analytics and Dynamiclink framework.</p>\n\n<p><a href=\"https://i.stack.imgur.com/irpZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/irpZg.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 167, "user_id": 1025405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9db840d8cf9237113a273bf33fc056ff?s=128&d=identicon&r=PG", "display_name": "Siva Murugan", "link": "https://stackoverflow.com/users/1025405/siva-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1547040427, "creation_date": 1542005954, "last_edit_date": 1542022970, "question_id": 53257230, "link": "https://stackoverflow.com/questions/53257230/ios-problem-on-using-firebasedynamiclinks", "title": "IOS - Problem on using FirebaseDynamicLinks", "body": "<p>I got the same problem on using FirebaseDynamicLinks\nAlso added -ObjC in build settings \"Other Linker Flag\"</p>\n\n<p>Imported in AppDelegate.m</p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"FirebaseCore/FIRApp.h\"\n#import \"FirebaseCore/FIROptions.h\"\n#import \"FirebaseDynamicLinks/FIRDynamicLinks.h\"\n</code></pre>\n\n<p>ERROR:</p>\n\n<pre><code>Undefined symbols for architecture armv7:\n\"OBJC_CLASS$_FIRComponent\", referenced from:\nobjc-class-ref in FirebaseDynamicLinks(FIRDynamicLinks.o)\n\"OBJC_CLASS$_FIRDependency\", referenced from:\nobjc-class-ref in FirebaseDynamicLinks(FIRDynamicLinks.o)\n\"OBJC_CLASS$_FIRComponentType\", referenced from:\nobjc-class-ref in FirebaseDynamicLinks(FIRDynamicLinks.o)\n\"OBJC_CLASS$_FIRComponentContainer\", referenced from:\nobjc-class-ref in FirebaseDynamicLinks(FIRDynamicLinks.o)\nld: symbol(s) not found for architecture armv7\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "charts", "ios-charts"], "comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1542017278, "post_id": 53254788, "comment_id": 93404054, "body": "Hey Jackson please add some more details or screen shot of your issue so we can help you on this."}, {"owner": {"reputation": 3456, "user_id": 524741, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/KvZQX.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/524741/jackson"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1542048529, "post_id": 53254788, "comment_id": 93420531, "body": "@CodeChanger I added more code showing how I set up my chart."}], "answers": [{"tags": [], "owner": {"reputation": 3456, "user_id": 524741, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/KvZQX.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/524741/jackson"}, "is_accepted": true, "score": 0, "last_activity_date": 1542171868, "creation_date": 1542171868, "answer_id": 53293486, "question_id": 53254788, "link": "https://stackoverflow.com/questions/53254788/ios-charts-does-not-show-value-labels-when-more-than-3-data-sets-are-plotted/53293486#53293486", "title": "iOS Charts does not show value labels when more than 3 data sets are plotted", "body": "<p>I fixed this with one line in viewDidLoad where I first set up my chart.</p>\n\n<pre><code>_chartView.maxVisibleCount = 500;\n</code></pre>\n\n<p>I guess after adding the 4th data set I had more than the default value of maxVisibleCount (whatever that is) and when that happens no data labels are drawn regardless of other settings.</p>\n\n<p>I figured this out when modifying my data set's drawValuesEnabled field and inside the auto complete text it said \"this value is ignored when maxVisibleCount is reached\".</p>\n"}], "owner": {"reputation": 3456, "user_id": 524741, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/KvZQX.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/524741/jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 53293486, "answer_count": 1, "score": 0, "last_activity_date": 1542171899, "creation_date": 1541984375, "last_edit_date": 1542171899, "question_id": 53254788, "link": "https://stackoverflow.com/questions/53254788/ios-charts-does-not-show-value-labels-when-more-than-3-data-sets-are-plotted", "title": "iOS Charts does not show value labels when more than 3 data sets are plotted", "body": "<p>I am using the charts framework for iOS in Objective-C.</p>\n\n<p>I am trying to plot data value labels (y values) on a chart which has 4 data sets. if there are 1, 2 or 3 data sets on my chart, the label values show up just fine. If I add a 4th data set, the label values do not show up at all.</p>\n\n<p>I am using a NSMutableArray of UIColor objects for each dataset. I set the label color to [UIColor clearColor] when I don't want the label to show up and I set it to [UIColor whiteColor] when I do want it to show up, for each data point.</p>\n\n<pre><code>NSMutableArray *labelColors = [[NSMutableArray alloc] init];\n\nfor (NSDictionary *data in dataArray )\n{\n    if (condition)\n    {\n        [labelColors addObject:UIColor.whiteColor];\n    }\n    else\n    {\n        [labelColors addObject:UIColor.clearColor];\n    }\n}\n    dataSet.valueColors = labelColors;\n</code></pre>\n\n<p>Again, this technique works fine if I plot 1, 2, or 3 data sets on my X axis, but if I plot a 4th data set, it stops drawing labels completely. The way I have my chart set up, two data sets are on the left Y axis and two data sets are on the right Y axis.</p>\n\n<p>Does anybody know why my labels are not showing?</p>\n"}, {"tags": ["objective-c", "time", "nstimer"], "comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 2, "creation_date": 1541978996, "post_id": 53254197, "comment_id": 93393085, "body": "That code in <code>startTimer</code> certainly will cause sendPosition to fire every 60s.  But, if you call startTimer twice, it can start two timers.  (It may also be leaking the first timer)."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1541979332, "post_id": 53254197, "comment_id": 93393157, "body": "show us who is calling startTimer."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1542212441, "post_id": 53254197, "comment_id": 93489976, "body": "It looks like the reasonable answer given doesn&#39;t solve the problem.  I think everyone who wants to help with this will be stuck unless you add some more information to the question.  Can you show more about the caller to startTimer? Can you add NSLog to the startTimer and paste the console output here?  Otherwise, I&#39;ll vote to close this question as lacking sufficient debug info."}], "answers": [{"comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 2, "creation_date": 1541986115, "post_id": 53254343, "comment_id": 93394414, "body": "This is a great answer, but a very common mistake is to have multiple instances of the object that contains <code>startTimer</code>. This won&#39;t protect against that mistake (because each instance has its own <code>self.timer</code>). The OP should make sure both that they are only calling <code>startTimer</code> once, and that there is only one instance of this class."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1544409950, "post_id": 53254343, "comment_id": 94252856, "body": "Show us who is self? And is there any chance that you may have created multiple instance of self?"}], "tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 3, "last_activity_date": 1541979482, "creation_date": 1541979482, "answer_id": 53254343, "question_id": 53254197, "link": "https://stackoverflow.com/questions/53254197/why-nstimer-sends-positions-every-5-seconds-instead-of-every-60/53254343#53254343", "title": "Why NSTimer sends positions every 5 seconds instead of every 60?", "body": "<p>I suspect that there are multiple timers created due to multiple firing of startTimer function. To ensure that there is only one instance of such timer, you can implement the following.</p>\n\n<pre><code>- (void)startTimer {\n\n// stop and remove timer first if it is already there\n   if(self.timer){\n        [self.timer invalidate];\n        self.timer = nil;\n    }\n\nself.timer = [NSTimer scheduledTimerWithTimeInterval:60.0\n                                 target:self\n                               selector:@selector(sendPosition)\n                               userInfo:nil\n                                repeats:YES];\n}\n</code></pre>\n\n<p>This way, no matter how many times the startTimer was called,there is only one instance of it.</p>\n"}], "owner": {"reputation": 33, "user_id": 10595407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e81e8ac4415e84c1b13b8c357f452cb?s=128&d=identicon&r=PG&f=1", "display_name": "user10595407", "link": "https://stackoverflow.com/users/10595407/user10595407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541979482, "creation_date": 1541978079, "question_id": 53254197, "link": "https://stackoverflow.com/questions/53254197/why-nstimer-sends-positions-every-5-seconds-instead-of-every-60", "title": "Why NSTimer sends positions every 5 seconds instead of every 60?", "body": "<p>Why NSTimer sends positions every 5 seconds instead of every 60?</p>\n\n<pre><code>- (void)startTimer {\nself.timer = [NSTimer scheduledTimerWithTimeInterval:60.0\n                                 target:self\n                               selector:@selector(sendPosition)\n                               userInfo:nil\n                                repeats:YES];\n}\n\n- (void)stopTimer {\n    if(self.timer){\n        [self.timer invalidate];\n        self.timer = nil;\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode"], "comments": [{"owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "edited": false, "score": 0, "creation_date": 1541954485, "post_id": 53250423, "comment_id": 93386549, "body": "You  need to give us more information. Is Project1 a framework or other type of dynamically loaded library? How is it packaged?"}, {"owner": {"reputation": 1074, "user_id": 3896616, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-c87OgJ2ELNM/AAAAAAAAAAI/AAAAAAAAA-0/jhy09eaLnSk/photo.jpg?sz=128", "display_name": "mauron85", "link": "https://stackoverflow.com/users/3896616/mauron85"}, "reply_to_user": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "edited": false, "score": 0, "creation_date": 1541955907, "post_id": 53250423, "comment_id": 93386971, "body": "Ok. I&#39;ve edited my question. Hopefully it&#39;s more understandable now."}, {"owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "edited": false, "score": 0, "creation_date": 1541956199, "post_id": 53250423, "comment_id": 93387053, "body": "I don&#39;t think you can use the <code>#import &lt;Foo&#47;Bar.h&gt;</code> syntax for static libraries. But <a href=\"https://stackoverflow.com/questions/4074871/how-to-include-a-static-library-and-have-its-import-paths-still-be-valid\">this answer</a> shows how to make <code>#import  &quot;Foo&#47;Bar.h&quot;</code> work."}, {"owner": {"reputation": 1074, "user_id": 3896616, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-c87OgJ2ELNM/AAAAAAAAAAI/AAAAAAAAA-0/jhy09eaLnSk/photo.jpg?sz=128", "display_name": "mauron85", "link": "https://stackoverflow.com/users/3896616/mauron85"}, "reply_to_user": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "edited": false, "score": 0, "creation_date": 1541956478, "post_id": 53250423, "comment_id": 93387120, "body": "It&#39;s working fine for sibling projects, but not for nested subprojects. Meaning if you have projects A,B,C-&gt;D. You can #import &lt;A/A.h&gt; from B,C, but not D (which is child of C). I can hack it with #ifdef macros and Header Search Paths, but looking for cleaner solution."}], "owner": {"reputation": 1074, "user_id": 3896616, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-c87OgJ2ELNM/AAAAAAAAAAI/AAAAAAAAA-0/jhy09eaLnSk/photo.jpg?sz=128", "display_name": "mauron85", "link": "https://stackoverflow.com/users/3896616/mauron85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541956194, "creation_date": 1541951357, "last_edit_date": 1541956194, "question_id": 53250423, "link": "https://stackoverflow.com/questions/53250423/xcode-import-library-header-in-subproject", "title": "Xcode import library header in subproject", "body": "<p>I've complex app with many subprojects.</p>\n\n<p>App Project Structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/UROIW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UROIW.png\" alt=\"App Project Structure\"></a></p>\n\n<p>All projects (and sub project) are compiled as static library. Resulting app is an iOS app.</p>\n\n<p>I would like to reference <strong>Lumberjack</strong> project in subproject <strong>BackgroundGeolocation</strong> with:</p>\n\n<pre><code>#import &lt;CocoaLumberjack/CocoaLumberjack.h&gt;\n</code></pre>\n\n<p>Above import works fine within sibling projects (like in <strong>RCTBackGroundGeolocation</strong>), but not in it's subproject <strong>BackgroundGeolocation</strong>.</p>\n\n<p>I get error: <strong>'CocoaLumberjack/Some CocoaLumberjack.h' cannot be found.</strong></p>\n\n<p>If I set <strong>\"Header Search Paths\"</strong> for <strong>BackgroundGeolocation</strong> project to include <strong>Lumberjack</strong> project path then I can:</p>\n\n<pre><code>#import \"CocoaLumberjack.h\"\n</code></pre>\n\n<p>But I really want to use first variant as I'm using same project on more then project. Will be thankful for any advice.</p>\n"}, {"tags": ["ios", "objective-c", "objective-c-runtime"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 8076137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1cJv5.jpg?s=128&g=1", "display_name": "dowZhang", "link": "https://stackoverflow.com/users/8076137/dowzhang"}, "edited": false, "score": 0, "creation_date": 1541997165, "post_id": 53251070, "comment_id": 93396551, "body": "Whether it means that the class would consume tremendous amounts of memory in swift. Your know the structure of Virtual table in swift."}], "tags": [], "owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "is_accepted": true, "score": 4, "last_activity_date": 1541955653, "creation_date": 1541955653, "answer_id": 53251070, "question_id": 53249744, "link": "https://stackoverflow.com/questions/53249744/dispatch-via-vtable-is-faster-than-a-hash-table-but-would-consume-tremendous-am/53251070#53251070", "title": "Dispatch via vtable is faster than a hash table, but would consume tremendous amounts of memory if used everywhere", "body": "<p>Obj-C is not C++.</p>\n\n<p>In C++, each class has a known (at compile time) set of virtual functions, which is typically <em>significantly</em> smaller than the complete set of functions defined for that class and all of its subclasses. (In C++ you must explicitly mark which functions are virtual, and by default they are not.)</p>\n\n<p>In Obj-C every method is \"virtual\" (in C++ speak), the selector list is variable, methods can be redefined at runtime (added and replaced), and the list is indefinite (technically, you can send any object any message, even one it doesn't respond do it).</p>\n\n<p>So in C++ it is pretty trivial to build a linear array of every virtual function an object will need to dispatch, assign an offset into that array for each function, and compile that into the code.</p>\n\n<p>If you wanted to use virtual dispatch tables in Obj-C you'd have to create an array for <em>every</em> class that contained <em>every possible</em> selector. For even modest programs, each list would be huge, and it would grow exponentially with project complexity. I mean, every class would have its own array of (what?) 20,000 different selectors, and there are thousands of classes...</p>\n\n<p>A hash table, on the other hand, contains a variable set of method function pointers defined for that class. The set is typically just the subset of the selectors that have actually been sent to those objects, so it is much (<em>much</em>) smaller than the complete set of selectors you could potentially send to an object of that class. This makes the hash table of methods efficient and self-optimizing, even if dispatching take a little longer.</p>\n"}], "owner": {"reputation": 380, "user_id": 8076137, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1cJv5.jpg?s=128&g=1", "display_name": "dowZhang", "link": "https://stackoverflow.com/users/8076137/dowzhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 53251070, "answer_count": 1, "score": 1, "last_activity_date": 1541955653, "creation_date": 1541946895, "question_id": 53249744, "link": "https://stackoverflow.com/questions/53249744/dispatch-via-vtable-is-faster-than-a-hash-table-but-would-consume-tremendous-am", "title": "Dispatch via vtable is faster than a hash table, but would consume tremendous amounts of memory if used everywhere", "body": "<p>I can't understand it \"Dispatch via vtable is faster than a hash table, but would consume tremendous amounts of memory if used everywhere.\" which is in this blog <a href=\"http://www.sealiesoftware.com/blog/archive/2011/06/17/objc_explain_objc_msgSend_vtable.html\" rel=\"nofollow noreferrer\">objc_explain_objc_msgSend_vtable</a></p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 3183872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySNg2.jpg?s=128&g=1", "display_name": "D V", "link": "https://stackoverflow.com/users/3183872/d-v"}, "edited": false, "score": 0, "creation_date": 1541935796, "post_id": 53248077, "comment_id": 93381422, "body": "But the methods in the extension can still be used by any other Objective-C code blocks."}, {"owner": {"reputation": 22954, "user_id": 1979882, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/N9wiX.jpg?s=128&g=1", "display_name": "Vyacheslav", "link": "https://stackoverflow.com/users/1979882/vyacheslav"}, "reply_to_user": {"reputation": 348, "user_id": 3183872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySNg2.jpg?s=128&g=1", "display_name": "D V", "link": "https://stackoverflow.com/users/3183872/d-v"}, "edited": false, "score": 0, "creation_date": 1541936070, "post_id": 53248077, "comment_id": 93381481, "body": "Nope. Have you tried? If you try this, you will see &#39;no visible interface forcdeclaresvthe selector&#39;"}, {"owner": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "edited": false, "score": 0, "creation_date": 1541936721, "post_id": 53248077, "comment_id": 93381663, "body": "I was hoping to avoid using swift code here because the class in question is part of an library which is purely objective-c and I&#39;d prefer it to stay that way if possible."}, {"owner": {"reputation": 22954, "user_id": 1979882, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/N9wiX.jpg?s=128&g=1", "display_name": "Vyacheslav", "link": "https://stackoverflow.com/users/1979882/vyacheslav"}, "reply_to_user": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "edited": false, "score": 0, "creation_date": 1541936751, "post_id": 53248077, "comment_id": 93381675, "body": "@KristianFox why?"}, {"owner": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "edited": false, "score": 0, "creation_date": 1542096964, "post_id": 53248077, "comment_id": 93435117, "body": "@Vyacheslav, I&#39;d rather not mix Swift code into a Objective-C library unless it is actually useful to an Objective-C project."}], "tags": [], "owner": {"reputation": 22954, "user_id": 1979882, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/N9wiX.jpg?s=128&g=1", "display_name": "Vyacheslav", "link": "https://stackoverflow.com/users/1979882/vyacheslav"}, "is_accepted": false, "score": 1, "last_activity_date": 1541934269, "creation_date": 1541934269, "answer_id": 53248077, "question_id": 53248014, "link": "https://stackoverflow.com/questions/53248014/can-i-mark-an-objective-c-method-as-only-being-available-to-swift-classes/53248077#53248077", "title": "Can I mark an Objective-C method as only being available to Swift classes?", "body": "<p>I suggest using an extension of ObjC class in Swift-file.</p>\n\n<p>I mean, in ObjC create your class <code>MyClass: NSObject</code> ...</p>\n\n<p>in Swift file use:</p>\n\n<p><code>extension MyClass { /* your methods */}</code></p>\n"}, {"comments": [{"owner": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "edited": false, "score": 0, "creation_date": 1542096779, "post_id": 53251707, "comment_id": 93435015, "body": "Yes I&#39;m looking for something like &#39;NS_OBJC_UNAVAILABLE&#39;, I figured it was a long shot - it would be strange if there was a way to hide Obj-C code from all other Obj-C code. As much as I love the evil genius-ness of the rest of the answer, I do have about 15 methods I need to deal with in the same way so that is definitely not an option. An NSObject category with that -(void); method could make for a good prank though."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "edited": false, "score": 0, "creation_date": 1542100812, "post_id": 53251707, "comment_id": 93437201, "body": "That would only require 15 U+200D in the last name, and I suspect other characters work so you probably only need at most 4 in every name (2^4 combos) ;-) But yes, I wouldn&#39;t recommend i. But go ahead and use it for a prank, opening an app source to find every variable name was invisible would certainly throw someone! :-)"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "edited": false, "score": 0, "creation_date": 1542101763, "post_id": 53251707, "comment_id": 93437798, "body": "BTW Though it won&#39;t address the &quot;clutter up&quot; issue your other option is to name the methods to indicate they shouldn&#39;t be used and use <code>NS_SWIFT_NAME</code> to give sensible names for Swift e.g. <code>__DO_NOT_USE_foo</code>, <code>__SWIFT_ONLY_foo</code> or even <code>______________________________foo</code> \u2013 they will appear in auto-complete but shouldn&#39;t cause confusion over whether they are valid choices."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 3, "last_activity_date": 1541959882, "creation_date": 1541959882, "answer_id": 53251707, "question_id": 53248014, "link": "https://stackoverflow.com/questions/53248014/can-i-mark-an-objective-c-method-as-only-being-available-to-swift-classes/53251707#53251707", "title": "Can I mark an Objective-C method as only being available to Swift classes?", "body": "<p>What you are looking for is the opposite of <code>NS_SWIFT_UNAVAILABLE</code> which Apple provide to make an Objective-C API unavailable to Swift. There is an <code>NS_UNAVAILABLE</code> which makes the API unavailable in both, bot not an <code>NS_OBJC_UNAVAILABLE</code>.</p>\n\n<p><em>End of Answer. I will deny posting the following ;-)</em></p>\n\n<p>In the following Objective-C sees <code>bar</code>, Swift sees <code>bar()</code> and <code>foo()</code>...</p>\n\n<pre><code>@interface Foo : NSObject\n\n- (void) bar;\n\n- (void) /*__*/\u200d/*__ between these comments there is a zero-wdith non-joiner character U+200D */ NS_SWIFT_NAME(foo());\n\n@end\n</code></pre>\n\n<p>Yes, it seems you can name a method in Objective-C using the zero-width non-joiner character. You won't see this in auto complete, you'll see a blank!</p>\n\n<p><em>I will now face the corner and repeat \"I will not give methods invisible weird names\" 1000 times ;-)</em></p>\n"}], "owner": {"reputation": 392, "user_id": 4082459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b694bab8b6f12b036b5fa62d08eaebff?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Fox", "link": "https://stackoverflow.com/users/4082459/christian-fox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1541959882, "creation_date": 1541933682, "last_edit_date": 1541936960, "question_id": 53248014, "link": "https://stackoverflow.com/questions/53248014/can-i-mark-an-objective-c-method-as-only-being-available-to-swift-classes", "title": "Can I mark an Objective-C method as only being available to Swift classes?", "body": "<p>I have an Objective-C class that I am trying to use in a Swift project. </p>\n\n<p>Some of the methods in this class are not suitable for Swift and the simplest solution in my opinion is to have slightly different alternatives that will work in Swift.</p>\n\n<p>eg. Current Method:</p>\n\n<pre><code>+(void)doSomethingWithFormat:(NSString*)format,...;\n</code></pre>\n\n<p>eg. New Method:</p>\n\n<pre><code>+(void)doSomethingWithString:(NSString*)string;\n</code></pre>\n\n<p>That works fine but my problem is the new method will then be available in Objective-C projects where it isn't really needed and just clutters up the code complete menu.</p>\n\n<p>My question:\nIs there a way to mark all of the new methods as only being available in Swift and not in Objective-C?</p>\n\n<p>EDIT:\nWhat I'm hoping for is something along the lines of</p>\n\n<pre><code>@available(swift,*)\n+(void)doSomethingWithString:(NSString*)string;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>#if SWIFT\n+(void)doSomethingWithString:(NSString*)string;\n#endif\n</code></pre>\n"}, {"tags": ["objective-c", "gcc", "codeblocks"], "comments": [{"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1541929249, "post_id": 53246084, "comment_id": 93379772, "body": "Somewhere beneath the <code>libexec</code> folder of your MinGW installation you will find a program called <code>cc1.exe</code>. (In my case, <code>C:\\MinGW\\libexec\\gcc\\mingw32\\6.3.0\\cc1.exe)</code>. In the same folder as <code>cc1.exe</code>, do you see a program called <code>cc1obj.exe</code>?"}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "reply_to_user": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1541934082, "post_id": 53246084, "comment_id": 93380925, "body": "@MikeKinghan there&#39;s only cc1.exe at <code>C:\\Program Files\\CodeBlocks\\MinGW\\libexec\\gcc\\mingw32\\4.9.2</code>"}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "reply_to_user": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1541934126, "post_id": 53246084, "comment_id": 93380933, "body": "does this mean i don&#39;t have the objective c compiler?"}], "answers": [{"comments": [{"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542026817, "post_id": 53248597, "comment_id": 93409190, "body": "hi could you please have a look my edit? I got the cc1obj.exe file, but it&#39;s still not working"}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542068088, "post_id": 53248597, "comment_id": 93427312, "body": "thank you for the update. I&#39;m not at that computer anymore so I will only be able to do detail tests later, but I have already checked that a C console &quot;hello world&quot; project compiles normally"}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "reply_to_user": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542115772, "post_id": 53248597, "comment_id": 93445757, "body": "Well your compiler is now being found and run :) - which solves the original problem and reveals some new one. Clean the project (Menubar -&gt; <b>Build</b> -&gt; <b>Clean</b>), then <b>Build</b> -&gt; <b>Build</b>; then post the complete contents of the <b>Build log</b> (not <b>Build messages</b>) tab if it is at all different from what you already posted. If <b>Clean</b> produces any errors, then post that log first."}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542116671, "post_id": 53248597, "comment_id": 93446344, "body": "Clean happens normally. &quot;-------------- Clean: Debug in test_prog_proj (compiler: GNU GCC Obj-C Compiler)---------------  Cleaned &quot;test_prog_proj - Debug&quot; Done.&quot;"}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542116697, "post_id": 53248597, "comment_id": 93446363, "body": "This is the &quot;Build log&quot; after Build:  &quot;-------------- Build: Debug in test_prog_proj (compiler: GNU GCC Obj-C Compiler)---------------  Linking stage skipped (build target has no object files to link) Nothing to be done (all items are up-to-date).  &quot;"}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "reply_to_user": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542116909, "post_id": 53248597, "comment_id": 93446491, "body": "@user13267 All I can say now is: It works for me. Whatever the new problem is it&#39;s probably simple but I&#39;d need to be sitting at your computer to see it. Sorry."}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542117322, "post_id": 53248597, "comment_id": 93446767, "body": "ok I understand. Just one more question. In Compiler Settings I have selected &quot;Full Command Line&quot; as the &quot;Compiler Logging&quot; setting, but it doesn&#39;t show the gcc command line in the Build Log when I click the build button. Do you have any idea on why that could be?"}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "reply_to_user": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1542117449, "post_id": 53248597, "comment_id": 93446868, "body": "@user13267 It should; I saw that it didn&#39;t and I have no idea why not."}], "tags": [], "owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "is_accepted": false, "score": 2, "last_activity_date": 1542034458, "last_edit_date": 1542034458, "creation_date": 1541938198, "answer_id": 53248597, "question_id": 53246084, "link": "https://stackoverflow.com/questions/53246084/how-do-i-compile-objective-c-in-code-blocks/53248597#53248597", "title": "How do I compile objective-C in code blocks?", "body": "<p>The GCC program we loosely call the \"the compiler\" - <code>[mingw32-](gcc|g++)</code> -\nis actually a compiler/linker frontend that invokes a <em>real</em> language\ncompiler and/or linker depending on what the input files and commandline options\nindicate you want it to do.</p>\n\n<p>Input files with an <code>.m</code> extension indicate they are Objective C source files\nthat are to be compiled with the GNU Objective C compiler, <code>cc1obj</code>. But you\nhaven't got it. Hence the failure you see.</p>\n\n<p>A GCC installation will include the C compiler <code>cc1</code> and, optionally, compilers\nfor other languages - C++, Fortran, Objective (C|C++), Go ... You say you got your MinGW GCC installation as\nbundled with Code::Blocks. That bundled MinGW omits the Objective C compiler, <code>cc1obj</code> , because the maintainers\nreckon it a niche language.</p>\n\n<p>Best remove your CB installation and bundled MinGW and then install MinGW GCC <em>independently</em> from\none of the rival projects:-</p>\n\n<pre><code>https://sourceforge.net/projects/mingw-w64/\nhttps://sourceforge.net/projects/mingw/\n</code></pre>\n\n<p>Run the installer and ensure that you get Objective C as well as any other compilers you\nwant.</p>\n\n<p>After that, replace your CB installation it with the <code>codeblocks-17.12-setup.exe</code> installer (<em>not</em> <code>codeblocks-17.12mingw-setup.exe</code>),\nfrom <code>https://sourceforge.net/projects/codeblocks/files/Binaries/17.12/Windows/</code>. This installer includes <em>no</em> compilers and\nwill auto-detect your MinGW installation.</p>\n\n<p>Then proceed as you already did to create a GNU GCC Obj-C compiler setup in the CB IDE.</p>\n\n<p><strong>Later ... still not working</strong></p>\n\n<p>Your <strong>GNU GCC Obj-C</strong> compiler-setup has persisted from your previous\nCB install and has been rendered out-of-date by the fact that your\nnew MinGW installation is no longer part of Code::Blocks. As you see,\nit still looks for the toolchain executables in <code>C:\\Program Files\\Codeblocks\\MinGW</code>,\nwhereas your new MinGW is somewhere else.</p>\n\n<p>When you reinstalled Code::Blocks you should have seen its attempt to auto-detect compilers,\nand that it detected your MinGW toolchain in (say) <code>C:\\MinGW</code>. It will have configured\na compiler setup for <strong>GNU GCC Compiler</strong> on that basis, with the correct path to\nthe toolchain executables. But it will not have modified any persisting compiler setups that\nyou created yourself, such as <strong>GNU GCC Obj-C</strong>.</p>\n\n<p>First check that the auto-detected setup <strong>GNU GCC Compiler</strong> is good just\nby creating a \"Hello world\" C console project and seeing that you can build it.\nI assume you'll be able to, but if not, then go into the <strong>GNU GCC Compiler</strong> setup\nyourself and manually set the <strong>Compiler's installation directory</strong> correctly.</p>\n\n<p>Then, set the same <strong>Compiler's installation directory</strong> for your <strong>GNU GCC Obj-C</strong>\ncompiler setup.</p>\n"}], "owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1233, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1542277625, "creation_date": 1541913947, "last_edit_date": 1542277625, "question_id": 53246084, "link": "https://stackoverflow.com/questions/53246084/how-do-i-compile-objective-c-in-code-blocks", "title": "How do I compile objective-C in code blocks?", "body": "<p>I downloaded Codeblocks bundled with GCC <a href=\"https://sourceforge.net/projects/codeblocks/files/Binaries/17.12/Windows/codeblocks-17.12mingw-setup.exe/download\" rel=\"nofollow noreferrer\">from here</a>  </p>\n\n<p>The C part is running fine  </p>\n\n<p>I read this <a href=\"http://wiki.codeblocks.org/index.php/Installing_Objective-C_Compiler\" rel=\"nofollow noreferrer\">wiki tutorial</a> which says having GCC will allow me to compile objective C by just adding -lobjc to the compiler options  </p>\n\n<p>However, I have followed the steps mentioned in this tutorial and added the -lobjc option, but it doesn't compile  </p>\n\n<p><a href=\"https://i.stack.imgur.com/Gk2YC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gk2YC.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>This is the build error message I get in codeblocks:  </p>\n\n<pre><code>-------------- Build: Debug in test_prog_proj (compiler: GNU GCC Obj-C Compiler)---------------\n\nmingw32-gcc.exe -Wall -g  -c D:\\backup\\cb_files\\objc_files\\test_prog_proj\\test_prog.m -o obj\\Debug\\test_prog.o\nmingw32-gcc.exe: error: CreateProcess: No such file or directory\nProcess terminated with status 1 (0 minute(s), 2 second(s))\n1 error(s), 0 warning(s) (0 minute(s), 2 second(s))\n</code></pre>\n\n<p>As shown above, it does not show the -lobjc option  </p>\n\n<p>I have also tried manually compiling the above program in Windows cmd by going into the folder containing the .m file. I gave the following command:  </p>\n\n<pre><code>mingw32-gcc.exe -Wall -g  -c D:\\backup\\cb_files\\objc_files\\test_prog_proj\\test_prog.m -o obj\\Debug\\test_prog.o -lobjc \n</code></pre>\n\n<p>But I get the same error in cmd  </p>\n\n<pre><code>mingw32-gcc.exe: error: CreateProcess: No such file or directory  \n</code></pre>\n\n<p>I also tried  </p>\n\n<pre><code>gcc -g -fgnu-runtime -O -c some_class.m  \n</code></pre>\n\n<p>that I got <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Objective-C-and-Objective-C_002b_002b-Dialect-Options.html\" rel=\"nofollow noreferrer\">from here</a>, but it gives me the same CreateProcess error. How do I start compiling Objective C code in Windows (preferably using GCC and Codeblocks) ?  </p>\n\n<p><strong>--- EDIT 1 ---</strong>  </p>\n\n<p>I did as <a href=\"https://stackoverflow.com/a/53248597/1693203\">suggested in Mike Kinghan's answer</a> below, and uninstalled my older Codeblocks instgallation, then reinstalled MinGW and codeblocks separately. The Codeblocks uninstall removed the Codeblocks folder in Program Files, but when I reinstalled Codeblocks again (version without MinGW bundled together), the \"GNU GCC Obj-C\" settings I made with the previous installation was still there, along with the -lobjc flag in the \"linker settings\" tab.  </p>\n\n<p>However, the problem is that it's still not working. I get the following error if I try to build from Codeblocks  </p>\n\n<pre><code>Goto \"Settings-&gt;Compiler...-&gt;Global compiler settings-&gt;GNU GCC Obj-C Compiler-&gt;Toolchain executables\" and fix the compiler's setup.\n\nTried to run compiler executable 'C:\\Program Files\\CodeBlocks\\MinGW/bin/mingw32-gcc.exe', but failed!\n\nSkipping... Nothing to be done (all items are up-to-date).  \n</code></pre>\n\n<p>This is what <code>Toolchains executable</code> looks like:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/xHenu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHenu.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>If I try to compile it from cmd by going in to the folder with the .m file and issuing the command   </p>\n\n<pre><code>mingw32-gcc.exe -Wall -g  -c D:\\backup\\cb_files\\objc_files\\test_prog_proj\\test_prog.m -o obj\\Debug\\test_prog.o -lobjc  \n</code></pre>\n\n<p>it gives the error  </p>\n\n<pre><code>mingw32-gcc.exe: error: CreateProcess: No such file or directory    \n</code></pre>\n\n<p>What is the problem here?  </p>\n\n<p><strong>--- EDIT 2 ---</strong>   </p>\n\n<p>Following the suggestion in Mike Kinghan's answer I deleted the old instance of \"GNU GCC Obj-C Compiler\" in the list of compiliers, and recreated with the current version of \"GNU GCC Compiler\"  </p>\n\n<p>However, the program still does not work. This is the message I get in the build log:  </p>\n\n<pre><code>-------------- Build: Debug in test_prog_proj (compiler: GNU GCC Obj-C Compiler)---------------\n\nLinking stage skipped (build target has no object files to link)\nNothing to be done (all items are up-to-date).  \n</code></pre>\n\n<p>Cleaning the project and then building it again gives the same message. Trying to run the project anyway gives me a dialog box saying the project is not built, and clicking on Yes to build the project just pops the same \"project not built yet\" dialog box up again. The file icons in the Workspace tree of the Projects tab also seem to be grayed out:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/t5TtT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t5TtT.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>This is what Toolchain Executable looks like:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/zbW6W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbW6W.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>I have added <code>-lobjc</code> in Linker Settings as <a href=\"http://wiki.codeblocks.org/index.php/Installing_Objective-C_Compiler#Setup_the_Compiler\" rel=\"nofollow noreferrer\">mentioned here</a> as well.  </p>\n\n<p>I right clicked the project icon in the Project tree, went to Build Options and added -lobjc in the Linker Settings as well:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/AXsYQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXsYQ.png\" alt=\"enter image description here\"></a>  </p>\n\n<p>What is the problem with this project at the moment?  </p>\n\n<p><strong>--- EDIT 3 ---</strong>  </p>\n\n<p>I ended up completely uninstalling Codeblocks (uninstall from windows start menu, delete codeblocks folder in %APPDATA%), uninstalling MinGW (deleting the c:\\MinGW folder) and reinstalling everything from scratch. I followed all the instructions in <a href=\"http://wiki.codeblocks.org/index.php/Installing_Objective-C_Compiler\" rel=\"nofollow noreferrer\">the Wiki</a> (except the <a href=\"http://wiki.codeblocks.org/index.php/Installing_Objective-C_Compiler#Shared_Library_Trouble\" rel=\"nofollow noreferrer\">Troubleshooting</a> section, but I think that part is irrelevant) and it still doesn't work (same problem as described in <strong>Edit 2</strong> in this post).  </p>\n\n<p>How do I get Codeblocks to detect and compile obj-C code? Also, it is not showing me the compiler command line arguments when I try to build it from the Codeblocks interface. Why is this and how can I get it to show me whatever the full command line it is using?</p>\n"}, {"tags": ["objective-c", "swift", "bridging-header"], "comments": [{"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541904775, "post_id": 53245390, "comment_id": 93376021, "body": "Bridging header is not something you write manually. How is your <code>OpenCVWrapper</code> is defined? Swift class or Objective-C class?"}, {"owner": {"reputation": 49, "user_id": 9628080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a924d4b624d3ff2260284de313d8875a?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Sun", "link": "https://stackoverflow.com/users/9628080/richard-sun"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1541987016, "post_id": 53245390, "comment_id": 93394628, "body": "Sorry, I&#39;m not sure I understand your question (I&#39;m still new to this). I think that OpenCVWrapper is an Objective-C <b>interface</b>. I&#39;m using the OpenCV framework, which I believe is in c++."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1542023400, "post_id": 53245390, "comment_id": 93407304, "body": "You write Objective-C interface in combination with Objective-C implementation. The interface is needed to write the implementation, not for the bridging header. Or else when you write a Swift class, Xcode generates a bridging header. Have you written that <code>OpenCVWrapper</code> is an Objective-C class in the text of your question?"}, {"owner": {"reputation": 49, "user_id": 9628080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a924d4b624d3ff2260284de313d8875a?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Sun", "link": "https://stackoverflow.com/users/9628080/richard-sun"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1542144153, "post_id": 53245390, "comment_id": 93461104, "body": "Yes, I understand what you mean. OpenCVWrapper is an Objective-C class"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9628080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a924d4b624d3ff2260284de313d8875a?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Sun", "link": "https://stackoverflow.com/users/9628080/richard-sun"}, "edited": false, "score": 0, "creation_date": 1541987334, "post_id": 53251873, "comment_id": 93394700, "body": "Thank you, this works perfectly. Also, I&#39;ve been seeing the asterisk symbol a lot in some sample code. I&#39;ve read that its a pointer, whose value is actually a reference to a location. Is this correct?"}, {"owner": {"reputation": 173, "user_id": 6246981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ec60a6843ef44b73b0f1476d2acda0?s=128&d=identicon&r=PG&f=1", "display_name": "cool_jb", "link": "https://stackoverflow.com/users/6246981/cool-jb"}, "reply_to_user": {"reputation": 49, "user_id": 9628080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a924d4b624d3ff2260284de313d8875a?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Sun", "link": "https://stackoverflow.com/users/9628080/richard-sun"}, "edited": false, "score": 0, "creation_date": 1541997526, "post_id": 53251873, "comment_id": 93396635, "body": "Yes thats correct. For more details on pointers you can go through this  <a href=\"https://stackoverflow.com/questions/897366/how-do-pointer-to-pointers-work-in-c/897414\" title=\"how do pointer to pointers work in c\">stackoverflow.com/questions/897366/&hellip;</a>.  Also please mark the answer as accepted, so that it may help others identify the right working solution"}], "tags": [], "owner": {"reputation": 173, "user_id": 6246981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ec60a6843ef44b73b0f1476d2acda0?s=128&d=identicon&r=PG&f=1", "display_name": "cool_jb", "link": "https://stackoverflow.com/users/6246981/cool-jb"}, "is_accepted": true, "score": 1, "last_activity_date": 1541961168, "creation_date": 1541961168, "answer_id": 53251873, "question_id": 53245390, "link": "https://stackoverflow.com/questions/53245390/bridging-header-method-parameter-issue/53251873#53251873", "title": "Bridging Header Method Parameter Issue", "body": "<p>Since you need to return an array of CGPoint, your array should hold a NSValue type, because the array cannot hold struct type</p>\n\n<pre><code>+ (NSArray&lt;NSValue *&gt; *)lineEdges:(NSArray&lt;NSValue *&gt; *)points;\n</code></pre>\n\n<p>and you should call your method as </p>\n\n<pre><code>NSArray *lineEdges = [OpenCVWrapper lineEdges:@[[NSValue valueWithCGPoint:CGPointMake(3.3, 4.4)]]];\n</code></pre>\n\n<p>The return value also should be in NSValue and extracting </p>\n\n<pre><code>NSValue *val = [lineEdges objectAtIndex:0];\nCGPoint p = [val CGPointValue];\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 9628080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a924d4b624d3ff2260284de313d8875a?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Sun", "link": "https://stackoverflow.com/users/9628080/richard-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 53251873, "answer_count": 1, "score": 1, "last_activity_date": 1541961168, "creation_date": 1541904098, "question_id": 53245390, "link": "https://stackoverflow.com/questions/53245390/bridging-header-method-parameter-issue", "title": "Bridging Header Method Parameter Issue", "body": "<p>I'm trying to learn how to use Bridging Headers in this test project. For this part, I want to have a method where it takes in and returns a CGPoint array.</p>\n\n<pre><code>    #import &lt;Foundation/Foundation.h&gt;\n    #import &lt;UIKit/UIKit.h&gt;\n    #import &lt;CoreGraphics/CoreGraphics.h&gt;\n\n    @interface OpenCVWrapper : NSObject\n\n    + (UIImage *)grayscaleImage:(UIImage *)image;\n    + (UIImage *)gaussianBlurImage:(UIImage *)image;\n    + (UIImage *)cannyEdgeImage:(UIImage *)image;\n\n    //Error says Expected a type\n    + ([CGPoint *])lineEdges:([CGPoint *])points;\n\n    @end\n</code></pre>\n\n<p>Because I'm new to this, I don't know where to even start looking for a problem.</p>\n"}, {"tags": ["objective-c", "macos", "wkwebview"], "comments": [{"owner": {"reputation": 1, "user_id": 10634621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f0744dd9c95e443f9718e39b221529d?s=128&d=identicon&r=PG&f=1", "display_name": "C.Sky", "link": "https://stackoverflow.com/users/10634621/c-sky"}, "edited": false, "score": 0, "creation_date": 1541894262, "post_id": 53244593, "comment_id": 93374471, "body": "Also, I am not that new with Xcode, but please, if you can, try to explain it in a simple &quot;copy-paste&quot; way. Thanks, again! \ud83d\ude4a"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 1, "creation_date": 1541894368, "post_id": 53244593, "comment_id": 93374491, "body": "Re: &quot;it doesn&#39;t work&quot;, c&#39;mon you can explain a little better than that. Please include details."}, {"owner": {"reputation": 1, "user_id": 10634621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f0744dd9c95e443f9718e39b221529d?s=128&d=identicon&r=PG&f=1", "display_name": "C.Sky", "link": "https://stackoverflow.com/users/10634621/c-sky"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1541894824, "post_id": 53244593, "comment_id": 93374560, "body": "Well, it just doesn\u2019t work. When I click, nothing happens! Like, nothing. I click on for example on \u201cchoose file\u201d or any other upload button, and the window that should appear to select a file or directory doesn\u2019t show up."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541943678, "post_id": 53244593, "comment_id": 93383464, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33059687/how-can-you-get-input-file-to-work-in-a-wkwebview\">How can you get input file to work in a WKWebView?</a>"}, {"owner": {"reputation": 1, "user_id": 10634621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f0744dd9c95e443f9718e39b221529d?s=128&d=identicon&r=PG&f=1", "display_name": "C.Sky", "link": "https://stackoverflow.com/users/10634621/c-sky"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541944292, "post_id": 53244593, "comment_id": 93383626, "body": "@Willeke I have seen that post, but I don&#39;t get Jeba&#39;s answer... I don&#39;t understand where to copy paste his code, and how to implement UIDelegate. I cant comment either because I just registered yesterday..."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541947601, "post_id": 53244593, "comment_id": 93384554, "body": "See <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/CocoaEncyclopedia/DelegatesandDataSources/DelegatesandDataSources.html#//apple_ref/doc/uid/TP40010810-CH11-SW1\" rel=\"nofollow noreferrer\">Delegates and Data Sources</a> and <a href=\"https://stackoverflow.com/questions/42947692/input-type-file-not-working-in-webview-of-os-x-application/42952247#42952247\">Input type=file not working in WebView of OS X application</a>."}], "owner": {"reputation": 1, "user_id": 10634621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f0744dd9c95e443f9718e39b221529d?s=128&d=identicon&r=PG&f=1", "display_name": "C.Sky", "link": "https://stackoverflow.com/users/10634621/c-sky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541944944, "creation_date": 1541894173, "last_edit_date": 1541944944, "question_id": 53244593, "link": "https://stackoverflow.com/questions/53244593/trouble-uploading-and-downloading-files-from-a-wkwebview", "title": "Trouble uploading and downloading files from a WKWebView", "body": "<p>Right now I am developing a macOS WebApp, this includes a WKWebview. </p>\n\n<p>However, when I want to upload or download a file, it doesn't work. When I click, nothing happens! Like, nothing. I click on for example on \u201cchoose file\u201d or any other upload button, and the window that should appear to select a file or directory doesn\u2019t show up.\nI have been struggling all day long, checking stackoverflow and many other resources and I found many posts related to my problem, but they are all out-dated.</p>\n\n<p>My code is really simple; </p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    // Load the url into the webview\n    NSURL *url = [NSURL URLWithString:@\"https://www.my-website-url.com\"];\n    [self.myView loadRequest:[NSURLRequest requestWithURL:url]];\n}\n</code></pre>\n\n<p>So basically all I want is that I can download and upload files to and from my WKWebView.</p>\n\n<hr>\n\n<p>It is <strong>NOT</strong> a duplicate question because I still don't get how to implement the code that Willeke is referring to in the comments.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541872027, "post_id": 53241710, "comment_id": 93369023, "body": "<code>@{@&quot;Key1&quot;: @{@&quot;key2: @[@(int1),@(int2),@(int3),@(int4) ]}}</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 5679920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152988de15c14c9aeb83cadbfafe9bee?s=128&d=identicon&r=PG&f=1", "display_name": "simsula", "link": "https://stackoverflow.com/users/5679920/simsula"}, "is_accepted": false, "score": 0, "last_activity_date": 1541880836, "last_edit_date": 1541880836, "creation_date": 1541880196, "answer_id": 53242927, "question_id": 53241710, "link": "https://stackoverflow.com/questions/53241710/2d-nsdictionary-with-nsarray/53242927#53242927", "title": "2D NSDictionary with NSArray", "body": "<p>So as far as I understand it, you're looking for an array within a nested dictionary - so an array, within a dictionary, within another dictionary.</p>\n\n<p>I would declare it like this:</p>\n\n<pre><code>NSMutableDictionary *firstDictionary    =   [[NSMutableDictionary alloc] init];\nNSMutableDictionary *secondDictionary   =   [[NSMutableDictionary alloc] init];\nNSArray             *array              =   @[@1, @2, @3, @4];\n\n[secondDictionary   setObject:array             forKey:@\"key2\"];\n[firstDictionary    setObject:secondDictionary  forKey:@\"key1\"];\n</code></pre>\n\n<p>Then you can access the contents of your data structure like this:</p>\n\n<pre><code>NSArray *results = firstDictionary[@\"key1\"][@\"key2\"];\n\nNSLog(@\"results: %@\", results);\n</code></pre>\n\n<p>And it will output:</p>\n\n<pre><code>results: (\n    1,\n    2,\n    3,\n    4\n)\n</code></pre>\n\n<p>Hope this helps :)</p>\n\n<p><em>Edit: just as an aside, if you're trying to create a 2d matrix, where you use 2 coordinates to access your data, then you should probably use a nested array, instead of a nested dictionary.</em> </p>\n"}], "owner": {"reputation": 1824, "user_id": 2086839, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xK91o.jpg?s=128&g=1", "display_name": "Simon.", "link": "https://stackoverflow.com/users/2086839/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1541880836, "creation_date": 1541871796, "question_id": 53241710, "link": "https://stackoverflow.com/questions/53241710/2d-nsdictionary-with-nsarray", "title": "2D NSDictionary with NSArray", "body": "<p>The data set i'm trying to declare would look something like,</p>\n\n<p><code>$results[@\"Key1\"][@\"Key2\"] = @[int, int, int, int];</code></p>\n\n<p>How would one declare this combination of <code>NSDictionary</code> &amp; <code>NSArray</code>?</p>\n"}, {"tags": ["objective-c", "macos", "usb", "hid", "nslog"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541877137, "post_id": 53241316, "comment_id": 93370453, "body": "Why can&#39;t you use an event tap?"}, {"owner": {"reputation": 87, "user_id": 5679920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152988de15c14c9aeb83cadbfafe9bee?s=128&d=identicon&r=PG&f=1", "display_name": "simsula", "link": "https://stackoverflow.com/users/5679920/simsula"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1541877284, "post_id": 53241316, "comment_id": 93370492, "body": "I could&#39;t find a way to block the system from receiving mouseMoved events using an eventTap. Even when you return nil from within the callback, the mouse pointer still moves..."}], "owner": {"reputation": 87, "user_id": 5679920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152988de15c14c9aeb83cadbfafe9bee?s=128&d=identicon&r=PG&f=1", "display_name": "simsula", "link": "https://stackoverflow.com/users/5679920/simsula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543808997, "creation_date": 1541869458, "last_edit_date": 1543808997, "question_id": 53241316, "link": "https://stackoverflow.com/questions/53241316/mac-trying-to-read-input-from-usb-device-with-a-callback-input-values-gettin", "title": "(Mac) trying to read input from USB Device with a Callback - Input values getting mixed up and needing to NSLog for code to work", "body": "<p>Context:</p>\n\n<p>I'm trying to write a script that can fully disable/customize mouse acceleration on Mac. I haven't found a way to block <code>mouseMoved</code> events using Quartz Event Services (<code>CGEventTap</code>), so I tried using the lower level IOHID APIs (<code>IOHIDManager</code> / <code>IOHIDDevice</code>) to gain exclusive access to the the device and then create and post my own <code>CGEvents</code> from within an input callback. I'm having some <em>very</em> weird problems...</p>\n\n<p>Stopping mouse input from being processed by the System (<code>kIOHIDOptionsTypeSeizeDevice</code>), receiving X and Y input from the mouse on a callback, and updating the cursor position based on that input worked okay, but then I tried fetching button input as well and everything fell apart.</p>\n\n<hr>\n\n<h1>Problem</h1>\n\n<p>When setting up the callback function for a device using <code>IOHIDDeviceRegisterInputValueCallback</code>, I specify that I want to receive <code>IOHIDValues</code> with a <code>\"Usage\"</code> of 48 and 49 (data fields for position deltas on the X and Y axis respectively) as well as <code>IOHIDValues</code> with a  <code>\"UsagePage\"</code> of 9 (data field for button input).</p>\n\n<p>The callback works fine in the sense that it reacts to these, and only these input events, but when I try to access the <code>\"Usage\"</code> <code>\"UsagePage\"</code> and <code>IntegerValue</code> of the <code>IOHIDElement</code> contained in the <code>IOHIDValue</code> that the callback provides things get weird. </p>\n\n<p>The <code>IntegerValue</code> of an <code>IOHIDElement</code> that the callback provides following the press of a mouse button is always zero. The <code>\"Usage\"</code> and <code>\"UsagePage\"</code> are 1 and 48/49 respectively - right now at least. Earlier I printed the same values and it was 48/49 for everything - even the <code>\"UsagePage\"</code> for button input...\n<em>(The \"UsagePage\" and \"Usage\" for Button input should be 0 and 9 respectively - you can look up the definitions of different \"Usage\" and \"UsagePage\" values <a href=\"http://www.freebsddiary.org/APC/usb_hid_usages.php\" rel=\"nofollow noreferrer\">here</a>)</em></p>\n\n<p>Also I need to <code>NSLog</code> something, anything, at certain spots in the callback function, in order to make mouse pointer movement on the Y-Axis work... The longer the string I print, the smoother the movement seems to be. When I print at other spots, it makes the movement on the Y-Axis more jerky...</p>\n\n<p>Thank you for your help. I'm at the end of my non existent wits.</p>\n\n<p>Oh and if you feel like critiquing my code, please do! I'm still learning.</p>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>Okay so I didn't solve the problem itself, but I found out the the \"proper\" way to change mouse acceleration and speed - the IORegistry. Take a look at <a href=\"https://stackoverflow.com/questions/49679753/replacement-for-deprecated-nxopeneventstatus\">this post</a> it might help you figure it out.</p>\n\n<hr>\n\n<hr>\n\n<p>This is the callback function, which also posts CGEvents:</p>\n\n<pre><code>static void Handle_InputValueCallback(void *context, IOReturn result, void *sender, IOHIDValueRef value) {\n\n    double _mouseSpeed = 0.5;\n\n    // getting Usage and UsagePage of the Input\n    IOHIDElementRef element = IOHIDValueGetElement(value);\n    uint32_t elementUsage = IOHIDElementGetUsage(element);\n    uint32_t elementUsagePage = IOHIDElementGetUsagePage(element);\n\n    // reading the current mouse position\n    CGEventRef eventForReadingMousePos = CGEventCreate(NULL);\n    CGPoint mouseLocation = CGEventGetLocation(eventForReadingMousePos);\n\n    // printing things\n\n    //NSLog(@\"value: %@\", value);\n    //NSLog(@\"element: %@\", element);\n    //int intValue = (int) IOHIDValueGetIntegerValue(value);\n    //NSLog(@\"intValue: %d\", intValue);\n\n    /*\n     intValue is 0 when you click a button\n     */\n\n    NSLog(@\"elementUsage: %d\", elementUsage);\n    NSLog(@\"elementUsagePage: %d\", elementUsagePage);\n    /*\n         ^\n     when you print here, it messes up mouse movement on the Y Axis....\n     */\n\n\n    // parsing input based on its Usage / UsagePage\n\n    if (elementUsagePage == 9) { // button\n\n        /*\n         This doesn't work. elementUsage and elementUsagePage are always 48 or 49 for any input (\"Usage\" should be 0 for button input and 48/49 for mouse-position-delta input, \"UsagePage\" should be 9 for button input and 1 for pos delta... but both fields are always 48/49...) (This is where I have these numbers from: http://www.freebsddiary.org/APC/usb_hid_usages.php )\n         */\n\n\n    } else if (elementUsage == 48) { // x input\n        double deltaX = IOHIDValueGetIntegerValue(value) * _mouseSpeed;\n        double newX = mouseLocation.x + deltaX;\n        CGEventRef event = CGEventCreateMouseEvent(NULL, kCGEventMouseMoved, CGPointMake(newX, mouseLocation.y), 0);\n        CGEventPost(kCGHIDEventTap, event);\n\n        CFRelease(event);\n\n    } else if (elementUsage == 49) { // y input\n        double deltaY = IOHIDValueGetIntegerValue(value) * _mouseSpeed;\n        double newY = mouseLocation.y + deltaY;\n        CGEventRef event = CGEventCreateMouseEvent(NULL, kCGEventMouseMoved, CGPointMake(mouseLocation.x, newY), 0);\n        CGEventPost(kCGHIDEventTap, event);\n\n        CFRelease(event);\n\n\n\n        NSLog(@\"some\");\n\n        /* You NEED to print something here to make Y input work... I'm so confused... */\n\n    }\n\n\n    NSLog(@\"thing\");\n\n    /* You need to print here, too, otherwise y movement is kind of jerky.. But if you print something more complex than some or thing at either one of these spots and don't print at the other, it seems to work fine as well. */\n\n\n\n    CFRelease(eventForReadingMousePos);\n\n}\n</code></pre>\n\n<p>This function registers the callback:</p>\n\n<pre><code>static void registerInputCallbackForDevice(IOHIDDeviceRef device) {\n\n    NSLog(@\"registering device: %@\", device);\n    NSCAssert(device != NULL, @\"tried to register a device which equals NULL\");\n\n    // create matching dicts\n    CFMutableDictionaryRef elementMatchDict1\n    = CFDictionaryCreateMutable(kCFAllocatorDefault,2,&amp;kCFTypeDictionaryKeyCallBacks,&amp;kCFTypeDictionaryValueCallBacks);\n\n    CFMutableDictionaryRef elementMatchDict2\n    = CFDictionaryCreateMutable(kCFAllocatorDefault,2,&amp;kCFTypeDictionaryKeyCallBacks,&amp;kCFTypeDictionaryValueCallBacks);\n\n    CFMutableDictionaryRef elementMatchDict3\n    = CFDictionaryCreateMutable(kCFAllocatorDefault,2,&amp;kCFTypeDictionaryKeyCallBacks,&amp;kCFTypeDictionaryValueCallBacks);\n\n    // creating values for the \"elementMatchDicts\" - definition of values for keys \"Usage\" and \"UsagePage\" here: http://www.freebsddiary.org/APC/usb_hid_usages.php\n    int fourtyEight = 48;\n    int fourtyNine = 49;\n    int nine = 9;\n    CFNumberRef UsageX = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &amp;fourtyEight); // \"Usage\" value for X input\n    CFNumberRef UsageY = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &amp;fourtyNine); // \"Usage\" value for Y input\n    CFNumberRef usagePageButton = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &amp;nine); // \"UsagePage\" for button input\n\n    // filling up the dictionaries\n    CFDictionarySetValue(elementMatchDict1, CFSTR(\"Usage\"), UsageX);\n    CFDictionarySetValue(elementMatchDict2, CFSTR(\"Usage\"), UsageY);\n    CFDictionarySetValue(elementMatchDict3, CFSTR(\"UsagePage\"), usagePageButton);\n    CFMutableDictionaryRef matchArrayPrimitive[3] = {elementMatchDict1, elementMatchDict2, elementMatchDict3};\n    CFArrayRef matchArray = CFArrayCreate(kCFAllocatorDefault, (const void **)matchArrayPrimitive, 2, NULL);\n    IOHIDDeviceSetInputValueMatchingMultiple(device, matchArray);\n\n    IOHIDDeviceRegisterInputValueCallback(device, &amp;Handle_InputValueCallback, NULL);\n\n    CFRelease(elementMatchDict1);\n    CFRelease(elementMatchDict2);\n    CFRelease(elementMatchDict3);\n\n}\n</code></pre>\n\n<hr>\n\n<p><code>AppDelegate.m</code> - for copy/pasting.</p>\n\n<p><em>You'll need to turn off App Sandbox, or it'll throw a runtime error (also remember that this will make your mouse unusable while its running - it should ignore trackpads and magic mice though)</em></p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"IOKit/hid/IOHIDManager.h\"\n\n@implementation AppDelegate\n\n\n// global variables\nIOHIDManagerRef HIDManager;\n\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    setupHIDManagerAndCallbacks();\n}\n\nstatic void setupHIDManagerAndCallbacks() {\n\n\n    // Create an HID Manager\n    HIDManager = IOHIDManagerCreate(kCFAllocatorDefault,\n                                    kIOHIDOptionsTypeNone);\n\n    // Create a Matching Dictionaries\n    CFMutableDictionaryRef matchDict1\n    = CFDictionaryCreateMutable(kCFAllocatorDefault, 2, &amp;kCFTypeDictionaryKeyCallBacks, &amp;kCFTypeDictionaryValueCallBacks);\n    CFMutableDictionaryRef matchDict2\n    = CFDictionaryCreateMutable(kCFAllocatorDefault, 2, &amp;kCFTypeDictionaryKeyCallBacks, &amp;kCFTypeDictionaryValueCallBacks);\n    CFMutableDictionaryRef matchDict3\n    = CFDictionaryCreateMutable(kCFAllocatorDefault, 2, &amp;kCFTypeDictionaryKeyCallBacks, &amp;kCFTypeDictionaryValueCallBacks);\n\n    // Specify properties of the devices which we want to add to the HID Manager in the Matching Dictionary\n    CFArrayRef matches;\n    CFDictionarySetValue(matchDict1, CFSTR(\"PrimaryUsage\"), (const void *)0x227);       // add USB mice\n    CFDictionarySetValue(matchDict1, CFSTR(\"Transport\"), CFSTR(\"USB\"));                 //\n    CFDictionarySetValue(matchDict2, CFSTR(\"PrimaryUsage\"), (const void *)0x227);       // add Bluetooth mice\n    CFDictionarySetValue(matchDict2, CFSTR(\"Transport\"), CFSTR(\"Bluetooth\"));           //\n    CFDictionarySetValue(matchDict3, CFSTR(\"PrimaryUsage\"), (const void *)0x227);       // add Bluetooth low energy mice (?)\n    CFDictionarySetValue(matchDict3, CFSTR(\"Transport\"), CFSTR(\"BluetoothLowEnergy\"));  //\n\n    CFMutableDictionaryRef matchesList[] = {matchDict1, matchDict2, matchDict3};\n    matches = CFArrayCreate(kCFAllocatorDefault, (const void **)matchesList, 3, NULL);\n\n\n    //Register the Matching Dictionary to the HID Manager\n    IOHIDManagerSetDeviceMatchingMultiple(HIDManager, matches);\n\n    CFRelease(matches);\n    CFRelease(matchDict1);\n    CFRelease(matchDict2);\n    CFRelease(matchDict3);\n\n\n    // Register the HID Manager on our app\u2019s run loop\n    IOHIDManagerScheduleWithRunLoop(HIDManager, CFRunLoopGetMain(), kCFRunLoopDefaultMode);\n\n    // Open the HID Manager\n    IOReturn IOReturn = IOHIDManagerOpen(HIDManager, kIOHIDOptionsTypeSeizeDevice);\n    if(IOReturn) NSLog(@\"IOHIDManagerOpen failed.\");  //  Couldn't open the HID manager! TODO: proper error handling\n\n\n    // Register callback for USB device detection with the HID Manager, this will invoke Handle_DeviceMatchingCallback for each matching device\n    IOHIDManagerRegisterDeviceMatchingCallback(HIDManager, &amp;Handle_DeviceMatchingCallback, NULL);\n}\n\n\nstatic void Handle_DeviceMatchingCallback (void *context, IOReturn result, void *sender, IOHIDDeviceRef device) {\n\n    if (devicePassesFiltering(device) ) {\n        registerInputCallbackForDevice(device);\n    }\n}\nstatic BOOL devicePassesFiltering(IOHIDDeviceRef HIDDevice) {\n    NSString *deviceName = [NSString stringWithUTF8String:\n       CFStringGetCStringPtr(IOHIDDeviceGetProperty(HIDDevice, CFSTR(\"Product\")), kCFStringEncodingMacRoman)];\n    NSString *deviceNameLower = [deviceName lowercaseString];\n\n    if ([deviceNameLower rangeOfString:@\"magic\"].location == NSNotFound) {\n        return TRUE;\n    } else {\n        return FALSE;\n    }\n}\n\n\nstatic void registerInputCallbackForDevice(IOHIDDeviceRef device) {\n\n    NSLog(@\"registering device: %@\", device);\n    NSCAssert(device != NULL, @\"tried to register a device which equals NULL\");\n\n    // create matching dicts\n    CFMutableDictionaryRef elementMatchDict1\n    = CFDictionaryCreateMutable(kCFAllocatorDefault,2,&amp;kCFTypeDictionaryKeyCallBacks,&amp;kCFTypeDictionaryValueCallBacks);\n\n    CFMutableDictionaryRef elementMatchDict2\n    = CFDictionaryCreateMutable(kCFAllocatorDefault,2,&amp;kCFTypeDictionaryKeyCallBacks,&amp;kCFTypeDictionaryValueCallBacks);\n\n    CFMutableDictionaryRef elementMatchDict3\n    = CFDictionaryCreateMutable(kCFAllocatorDefault,2,&amp;kCFTypeDictionaryKeyCallBacks,&amp;kCFTypeDictionaryValueCallBacks);\n\n    // values for keys \"Usage\" and \"UsagePage\" here http://www.freebsddiary.org/APC/usb_hid_usages.php\n    int fourtyEight = 48;\n    int fourtyNine = 49;\n    int nine = 9;\n    CFNumberRef UsageX = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &amp;fourtyEight); // \"Usage\" value for X input\n    CFNumberRef UsageY = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &amp;fourtyNine); // \"Usage\" value for Y input\n    CFNumberRef usagePageButton = CFNumberCreate(kCFAllocatorDefault, kCFNumberIntType, &amp;nine); // \"UsagePage\" for button input\n\n    CFDictionarySetValue (elementMatchDict1, CFSTR(\"Usage\"), UsageX);\n    CFDictionarySetValue (elementMatchDict2, CFSTR(\"Usage\"), UsageY);\n    CFDictionarySetValue (elementMatchDict3, CFSTR(\"UsagePage\"), usagePageButton);\n    CFMutableDictionaryRef matchArrayPrimitive[3] = {elementMatchDict1, elementMatchDict2, elementMatchDict3};\n    CFArrayRef matchArray = CFArrayCreate(kCFAllocatorDefault, (const void **)matchArrayPrimitive, 2, NULL);\n    IOHIDDeviceSetInputValueMatchingMultiple(device, matchArray);\n\n    IOHIDDeviceRegisterInputValueCallback(device, &amp;Handle_InputValueCallback, NULL);\n\n    CFRelease(elementMatchDict1);\n    CFRelease(elementMatchDict2);\n    CFRelease(elementMatchDict3);\n\n}\n\n\nstatic void Handle_InputValueCallback(void *context, IOReturn result, void *sender, IOHIDValueRef value) {\n\n    double _mouseSpeed = 0.5;\n\n    IOHIDElementRef element = IOHIDValueGetElement(value);\n    uint32_t elementUsage = IOHIDElementGetUsage(element);\n    uint32_t elementUsagePage = IOHIDElementGetUsagePage(element);\n    CGEventRef eventForReadingMousePos = CGEventCreate(NULL);\n    CGPoint mouseLocation = CGEventGetLocation(eventForReadingMousePos);\n\n    //NSLog(@\"value: %@\", value);\n    //NSLog(@\"element: %@\", element);\n    //int intValue = (int) IOHIDValueGetIntegerValue(value);\n    //NSLog(@\"intValue: %d\", intValue);\n\n    /*\n     intValue is 0 when you click a button\n     */\n\n    NSLog(@\"elementUsage: %d\", elementUsage);\n    NSLog(@\"elementUsagePage: %d\", elementUsagePage);\n\n    /*\n     when you print here, it messes up mouse movement on the Y Axis....\n     */\n\n\n\n    if (elementUsagePage == 9) { // button\n\n        /*\n         This doesn't work. elementUsage and elementUsagePage are always 48 or 49 for any input (\"Usage\" should be 0 for button input and 48/49 for mouse-position-delta input, \"UsagePage\" should be 9 for button input and 1 for pos delta... but both fields are always 48/49...) (This is where I have these numbers from: http://www.freebsddiary.org/APC/usb_hid_usages.php )\n         */\n\n\n    } else if (elementUsage == 48) { // x axis\n        double deltaX = IOHIDValueGetIntegerValue(value) * _mouseSpeed;\n        double newX = mouseLocation.x + deltaX;\n        CGEventRef event = CGEventCreateMouseEvent(NULL, kCGEventMouseMoved, CGPointMake(newX, mouseLocation.y), 0);\n        CGEventPost(kCGHIDEventTap, event);\n\n        CFRelease(event);\n\n    } else if (elementUsage == 49) { // y axis\n        double deltaY = IOHIDValueGetIntegerValue(value) * _mouseSpeed;\n        double newY = mouseLocation.y + deltaY;\n        CGEventRef event = CGEventCreateMouseEvent(NULL, kCGEventMouseMoved, CGPointMake(mouseLocation.x, newY), 0);\n        CGEventPost(kCGHIDEventTap, event);\n\n        CFRelease(event);\n\n\n\n        NSLog(@\"some\");\n\n        /* You NEED to print something here to make Y input work... I'm so confused... */\n\n    }\n\n\n    NSLog(@\"thing\");\n\n    /* You need to print here, too, otherwise y movement is kind of jerky.. But if you print something more complex than some or thing at either one of these spots and don't print at the other, it seems to work fine as well. */\n\n\n\n    CFRelease(eventForReadingMousePos);\n\n}\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "video", "avcapturesession"], "comments": [{"owner": {"reputation": 663, "user_id": 5873901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace100b267913b37d2d0b61ce626747f?s=128&d=identicon&r=PG&f=1", "display_name": "T. Pasichnyk", "link": "https://stackoverflow.com/users/5873901/t-pasichnyk"}, "edited": false, "score": 2, "creation_date": 1542367886, "post_id": 53237689, "comment_id": 93552724, "body": "1. Add your session configuration code. 2. Add the code of starting recording.  3. Did you create a separate DispatchGroup to work with AVCaptureSession?"}, {"owner": {"reputation": 902, "user_id": 1684518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679f943020866cd76c9f18c3786ab607?s=128&d=identicon&r=PG", "display_name": "jpbalarini", "link": "https://stackoverflow.com/users/1684518/jpbalarini"}, "edited": false, "score": 2, "creation_date": 1542760770, "post_id": 53237689, "comment_id": 93682453, "body": "I would say that might be related to not doing things in the background but we need more info first. Can you share the code?"}, {"owner": {"reputation": 619, "user_id": 2508260, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3fa38a686e8acb1adf6425e594816ca5?s=128&d=identicon&r=PG", "display_name": "hpp", "link": "https://stackoverflow.com/users/2508260/hpp"}, "edited": false, "score": 0, "creation_date": 1542870113, "post_id": 53237689, "comment_id": 93725043, "body": "Please refer this link it may help you. <a href=\"https://github.com/changsanjiang/SJRecordVideo\" rel=\"nofollow noreferrer\">github.com/changsanjiang/SJRecordVideo</a>"}], "owner": {"reputation": 132, "user_id": 6617087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3wwmt.png?s=128&g=1", "display_name": "MobileMatrix", "link": "https://stackoverflow.com/users/6617087/mobilematrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1542869629, "creation_date": 1541842735, "last_edit_date": 1542869629, "question_id": 53237689, "link": "https://stackoverflow.com/questions/53237689/how-to-start-video-recording-with-same-time-interval-when-click-on-start-recordi", "title": "How to start video recording with same time interval when click on start recording?", "body": "<p>I have implemented the video and audio recording with avcapturesession. It is taking some to start recording that usually ~1 or 2 seconds. </p>\n\n<p>If require more information feel free comments. \nSetup capture session doing below steps:</p>\n\n<ul>\n<li>add capture session</li>\n<li>add video input</li>\n<li>add audio input</li>\n<li>add video preview layer</li>\n<li>add movie output</li>\n<li>set up camera configuration for output connection</li>\n<li><p>start capture session</p>\n\n<p>-(void)setupCaptureSession {</p>\n\n<pre><code> // Set up capture session\n     captureSession = [AVCaptureSession new];\n\n//add video intput\nAVCaptureDevice *videoCaptureDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];\n\n   if (videoCaptureDevice) {\n    NSError *error;\n\n    videoInputDevice =  [AVCaptureDeviceInput deviceInputWithDevice:videoCaptureDevice error:&amp;error];\n    if(!error){\n        if ([captureSession canAddInput:videoInputDevice]) {\n            [captureSession addInput:videoInputDevice];\n        }else{\n            NSLog(@\"Failed to add video input\");\n        }\n    }else{\n        NSLog(@\"Failed to create video device\");\n    }\n}else{\n    NSLog(@\"Failed to create video capture device\");\n}\n\n// add audio input\nAVCaptureDevice *audioCaptureDevie = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeAudio];\n\nNSError *error = nil;\n\nAVCaptureDeviceInput *audioInputDevice = [AVCaptureDeviceInput deviceInputWithDevice:audioCaptureDevie error:&amp;error];\nif (audioInputDevice) {\n    [captureSession addInput:audioInputDevice];\n}\n\n// add outputs\n\n// add video preview layer\nNSLog(@\"Adding video preview layer\");\n\n[self setPreviewLayer:[[AVCaptureVideoPreviewLayer alloc] initWithSession:captureSession]];\n\n[[self previewLayer] setVideoGravity:AVLayerVideoGravityResizeAspectFill];\n\n//add movie ouput\nmovieFileOutput = [[AVCaptureMovieFileOutput alloc] init];\nmovieFileOutput.minFreeDiskSpaceLimit = 1024 * 1024;\n\nif ([captureSession canAddOutput:movieFileOutput])\n    [captureSession addOutput:movieFileOutput];\n\n// set up camera configuration for output connection\n[self setUpCameraConfiguration];\n\n[captureSession setSessionPreset:AVCaptureSessionPresetMedium];\nif ([captureSession canSetSessionPreset:AVCaptureSessionPreset640x480])\n    [captureSession setSessionPreset:AVCaptureSessionPreset640x480];\n\n\n\n//----- DISPLAY THE PREVIEW LAYER -----\n//Display it full screen under out view controller existing controls\nNSLog(@\"Display the preview layer\");\nCGRect layerRect = [[[self view] layer] bounds];\n[_previewLayer setBounds:layerRect];\n[_previewLayer setPosition:CGPointMake(CGRectGetMidX(layerRect),\n                                       CGRectGetMidY(layerRect))];\n//[[[self view] layer] addSublayer:[[self CaptureManager] previewLayer]];\n//We use this instead so it goes on a layer behind our UI controls (avoids us having to manually bring each control to the front):\nUIView *cameraView = [[UIView alloc] init];\n[[self view] addSubview:cameraView];\n[self.view sendSubviewToBack:cameraView];\n\n[[cameraView layer] addSublayer:_previewLayer];\n\n\n//----- START THE CAPTURE SESSION RUNNING -----\n[captureSession startRunning];\n</code></pre>\n\n<p>}</p></li>\n</ul>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 2, "last_activity_date": 1541823211, "creation_date": 1541823211, "answer_id": 53235931, "question_id": 53235608, "link": "https://stackoverflow.com/questions/53235608/how-do-you-call-a-swift-variadic-method-from-objective-c/53235931#53235931", "title": "How do you call a Swift variadic method from Objective-C?", "body": "<p>Swift methods with variadic parameters cannot be called from Objective-C.</p>\n"}], "owner": {"reputation": 23, "user_id": 10627349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vx1Ie.jpg?s=128&g=1", "display_name": "man", "link": "https://stackoverflow.com/users/10627349/man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 2, "closed_date": 1541867430, "accepted_answer_id": 53235931, "answer_count": 1, "score": -1, "last_activity_date": 1541863874, "creation_date": 1541818082, "last_edit_date": 1541863874, "question_id": 53235608, "link": "https://stackoverflow.com/questions/53235608/how-do-you-call-a-swift-variadic-method-from-objective-c", "closed_reason": "Duplicate", "title": "How do you call a Swift variadic method from Objective-C?", "body": "<p>How do you call a Swift variadic method from Objective-C?</p>\n\n<pre><code>class func printLog(msgToPrint: String, _ args: CVarArg...) -&gt; Void\n{\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "parse-platform", "nsmutablearray"], "answers": [{"tags": [], "owner": {"reputation": 1415, "user_id": 2118010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pBf1p.png?s=128&g=1", "display_name": "J2K", "link": "https://stackoverflow.com/users/2118010/j2k"}, "is_accepted": false, "score": 1, "last_activity_date": 1541828430, "creation_date": 1541828430, "answer_id": 53236306, "question_id": 53234501, "link": "https://stackoverflow.com/questions/53234501/why-is-my-nsmutable-not-being-populated-correctly-when-inserting-objects-from-an/53236306#53236306", "title": "Why is my NSMutable not being populated correctly when inserting objects from another NSArray?", "body": "<p>It\u2019s hard to say for sure since I can\u2019t see the structure of your data but are you sure the value held in</p>\n\n<pre><code>[[objects objectAtIndex:i]  valueForKey: @\u201cParticipants\u201d]\n</code></pre>\n\n<p>Is a single user and not itself an array of users? The plural key \u201cparticipants\u201d seems to suggest it\u2019s an array of users which would also explain the result you\u2019re getting.</p>\n"}, {"tags": [], "owner": {"reputation": 23673, "user_id": 1118321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a56b8390b7457739ed8cc7cbd52bf251?s=128&d=identicon&r=PG", "display_name": "user1118321", "link": "https://stackoverflow.com/users/1118321/user1118321"}, "is_accepted": true, "score": 0, "last_activity_date": 1541829051, "creation_date": 1541829051, "answer_id": 53236353, "question_id": 53234501, "link": "https://stackoverflow.com/questions/53234501/why-is-my-nsmutable-not-being-populated-correctly-when-inserting-objects-from-an/53236353#53236353", "title": "Why is my NSMutable not being populated correctly when inserting objects from another NSArray?", "body": "<p>If in fact the value returned for  the \"Participants\" key is an  array, you can add the objects in it to your mutable array  by doing  the following:</p>\n\n<pre><code>NSArray* participants  =  [[objects objectAtIndex:i] valueForKey:@\"Participants\"]\n[newParticipantsArray addObjectsInArray:participants];\n</code></pre>\n\n<p>This uses the <a href=\"https://developer.apple.com/documentation/foundation/nsmutablearray/1408963-addobjectsfromarray?language=objc\" rel=\"nofollow noreferrer\"><code>addObjectsInArray:</code></a> method of <code>NSMutableArray</code> to add the objects from  the old array into the new one.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8914795"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53236353, "answer_count": 2, "score": -1, "last_activity_date": 1541829051, "creation_date": 1541805778, "question_id": 53234501, "link": "https://stackoverflow.com/questions/53234501/why-is-my-nsmutable-not-being-populated-correctly-when-inserting-objects-from-an", "title": "Why is my NSMutable not being populated correctly when inserting objects from another NSArray?", "body": "<p>I have a <code>PFQuery</code> that gets the current participants of a particular event:</p>\n\n<pre><code>PFQuery *getcurrentparticipants = [PFQuery queryWithClassName:@\"Event\"];\n\n[getcurrentparticipants selectKeys:@[@\"Participants\"]];\n[getcurrentparticipants whereKey:@\"objectId\" equalTo:ObjectID];\n[getcurrentparticipants findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {\n    if (!error) {\n\n        NSMutableArray *newParticipantsArray = [[NSMutableArray alloc]init];\n\n        if([objects[0] valueForKey:@\"Participants\"] == nil){ // If object retrieved in objects is null. If there are 0 participants\n\n            [newParticipantsArray addObject:PFUser.currentUser.username];\n            PFQuery *query = [PFQuery queryWithClassName:@\"Event\"];\n            [query getObjectInBackgroundWithId:self.ObjectID\n                                         block:^(PFObject *Event, NSError *error) {\n                                             Event[@\"Participants\"] = newParticipantsArray;\n                                             [Event incrementKey:@\"Vacants\" byAmount:[NSNumber numberWithInt:-1]];\n                                             [Event saveInBackground];\n                                         }];\n\n        }else{ // STEP 5\n\n            for(int i=0;i&lt;objects.count;i++) {\n\n                [newParticipantsArray addObject:[[objects objectAtIndex:i] valueForKey:@\"Participants\"]];\n\n\n            }\n            [newParticipantsArray addObject:PFUser.currentUser.username];\n\n            NSLog(@\"Part to upload %@\", newParticipantsArray);\n\n            PFQuery *query = [PFQuery queryWithClassName:@\"Event\"];\n            [query getObjectInBackgroundWithId:self.ObjectID\n                                         block:^(PFObject *Event, NSError *error) {\n                                             Event[@\"Participants\"] = newParticipantsArray;\n                                             [Event incrementKey:@\"Vacants\" byAmount:[NSNumber numberWithInt:-1]];\n                                             [Event saveInBackground];\n                                         }];\n\n        }\n    } else { \n        // Log details of the failure\n        NSLog(@\"Error: %@ %@\", error, [error userInfo]);\n    }\n}];\n</code></pre>\n\n<p>This is how the method works: </p>\n\n<ol>\n<li>Create a <code>PFQuery</code> object</li>\n<li>Query the Participants Class for an specific <code>ObjectId</code></li>\n<li>If no error, then we create a <code>NSMutable array</code></li>\n<li>If no participants are in Parse then we insert the current user as participant.</li>\n<li>Else, insert all participants in the mutable array and add <code>currentuser</code> at the end of the array.</li>\n<li>Then upload it again to Parse</li>\n</ol>\n\n<p><strong>My problem is in step 5:</strong></p>\n\n<p>When I perform the tasks in the else, the column in Parse looks like this :</p>\n\n<blockquote>\n  <p>[[\"Participant 1\"],\"Participant 2\"]</p>\n</blockquote>\n\n<p>But I would like to have it like this:</p>\n\n<blockquote>\n  <p>[\"Participant 1\",\"Participant 2\"]</p>\n</blockquote>\n\n<p><strong>What I have tried:</strong></p>\n\n<p>I tried things like putting the arrays like this. <code>[newParticipantsArray addObject:[[objects objectAtIndex:i] valueForKey:@\"Participants\"]];</code> and similar combinations, of course without luck.</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 1, "creation_date": 1541802193, "post_id": 53234022, "comment_id": 93354828, "body": "There&#39;s probably more code here than the question needs. For clarity for future people who find this question via a search, can you remove the parts unrelated to the <code>memcpy</code> issue?"}, {"owner": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "reply_to_user": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 0, "creation_date": 1541802400, "post_id": 53234022, "comment_id": 93354896, "body": "@CharlesSrstka updated."}], "answers": [{"comments": [{"owner": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "edited": false, "score": 0, "creation_date": 1541803651, "post_id": 53234098, "comment_id": 93355179, "body": "To make things worse, all of the comments are in Chinese."}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "edited": false, "score": 1, "creation_date": 1541803758, "post_id": 53234098, "comment_id": 93355208, "body": "@temp_ Hang in there. Taking a kitten-video break every so often may help preserve your sanity."}], "tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 3, "last_activity_date": 1541803122, "last_edit_date": 1541803122, "creation_date": 1541802616, "answer_id": 53234098, "question_id": 53234022, "link": "https://stackoverflow.com/questions/53234022/converting-objective-c-memcpy-to-swift/53234098#53234098", "title": "Converting Objective-C memcpy to Swift", "body": "<p>My condolences, as the code you were given is a bit of a mess. First, it makes an <code>NSData</code> from <code>room_name</code>, converting the string to UTF-8 in the process, but then it doesn't use that <code>NSData</code> for anything other than to determine the size of a buffer, and then it converts the string to UTF-8 <em>again</em> and copies it into the new buffer. This is a lot more inefficient, both from a computational <em>and</em> a readability standpoint, than it needs to be.</p>\n\n<p>If we were leaving this in Objective-C, we'd already want to clean up the code. However, in Swift, we can make this even cleaner, because <code>String</code> has a really nice and simple method to get us a pointer to the string's UTF-8 representation:</p>\n\n<pre><code>filename.withCString { ptr in\n    // call whatever C-based functions expect a `const char *` pointer here\n}\n</code></pre>\n\n<p>Note that the pointer you get here is immutable. If the C functions you're calling expect to be able to modify the buffer, you'll want to make a copy instead. There are a few ways to do this, but the easiest is probably just to:</p>\n\n<pre><code>guard var data = filename.data(using: .utf8) else {\n    // handle this error somehow\n}\n\ndata.withUnsafeMutableBytes { (ptr: UnsafeMutablePointer&lt;Int8&gt;) in\n    // call whatever C-based functions expect a `char *` pointer here\n    // (if you need `unsigned char *`, use `UInt8` instead of `Int8`)\n}\n</code></pre>\n"}], "owner": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 53234098, "answer_count": 1, "score": 3, "last_activity_date": 1546503402, "creation_date": 1541802103, "last_edit_date": 1546503402, "question_id": 53234022, "link": "https://stackoverflow.com/questions/53234022/converting-objective-c-memcpy-to-swift", "title": "Converting Objective-C memcpy to Swift", "body": "<p>I am tasked with converting some functions from Objective-C to Swift. We are using a C file to transfer files to a bluetooth device. Here is the Objective-C code that needs to be converted.</p>\n\n<p>From the Objective-C file:</p>\n\n<pre><code>NSString *room_name = filename;\nNSData* bytes = [room_name dataUsingEncoding:NSUTF8StringEncoding];\nUInt8 buff_name[bytes.length+1];\nmemcpy(buff_name, [room_name UTF8String],[room_name lengthOfBytesUsingEncoding:NSUTF8StringEncoding] + 1);\n</code></pre>\n\n<p>I am stuck on <code>memcpy</code> for Swift and am not sure this is the safest method for what we are trying to do. Thank you.</p>\n"}, {"tags": ["ios", "objective-c", "uistatusbar"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 2493626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a2d7c01e5ed5560c6da42b25eb7eb76?s=128&d=identicon&r=PG", "display_name": "KWilk", "link": "https://stackoverflow.com/users/2493626/kwilk"}, "is_accepted": false, "score": 1, "last_activity_date": 1541799838, "creation_date": 1541799838, "answer_id": 53233618, "question_id": 53233326, "link": "https://stackoverflow.com/questions/53233326/status-bar-icons-disappear-and-then-slowly-reappear/53233618#53233618", "title": "Status bar icons disappear and then slowly reappear", "body": "<p>So I found that if I changed the <code>View controller-based status bar appearance</code> plist property to <code>YES</code> and called <code>[self setNeedsStatusBarAppearanceUpdate]</code> from the new rootVC the statusbar icons didn't change.</p>\n"}], "owner": {"reputation": 125, "user_id": 2493626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a2d7c01e5ed5560c6da42b25eb7eb76?s=128&d=identicon&r=PG", "display_name": "KWilk", "link": "https://stackoverflow.com/users/2493626/kwilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541799838, "creation_date": 1541797901, "question_id": 53233326, "link": "https://stackoverflow.com/questions/53233326/status-bar-icons-disappear-and-then-slowly-reappear", "title": "Status bar icons disappear and then slowly reappear", "body": "<p>I have found that the status bar will disappear when swapping the window's root view controller.</p>\n\n<ol>\n<li>I have <code>View controller-based status bar appearance</code> set to NO</li>\n<li>I am swapping between two different view controllers via \n<code>[UIApplication sharedApplication].delegate.window.rootViewController = rootVC;</code></li>\n</ol>\n\n<p>Immediately upon displaying the new rootVC the status bar icons all disappear and slowly (10 seconds) begin to reappear.  During this time the UI is responsive otherwise.  I am not otherwise setting the visibility of the status bar via any method that I know to set the status bar visibility.  Neither the old or the new rootVC are displayed as a modal.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 4, "creation_date": 1541796112, "post_id": 53232674, "comment_id": 93352919, "body": "That code will leak the malloc&#39;ed data. It should be using <code>dataWithBytesNoCopy</code> to create the <code>NSData</code> object instead of <code>dataWithBytes</code> so that the <code>NSData</code> object takes ownership of the <code>malloc</code>&#39;ed data buffer."}], "answers": [{"comments": [{"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 1, "creation_date": 1541795956, "post_id": 53232799, "comment_id": 93352876, "body": "Excellent answer (voted). You might want to expand on why the Objective-C code leaks."}, {"owner": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "edited": false, "score": 0, "creation_date": 1541801475, "post_id": 53232799, "comment_id": 93354581, "body": "@Charles Srstka I have one other section that I may need help on. It uses memcpy"}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "edited": false, "score": 1, "creation_date": 1541801532, "post_id": 53232799, "comment_id": 93354604, "body": "@temp_ Post a new question and I&#39;ll have a look at it."}], "tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 6, "last_activity_date": 1541801798, "last_edit_date": 1541801798, "creation_date": 1541794946, "answer_id": 53232799, "question_id": 53232674, "link": "https://stackoverflow.com/questions/53232674/converting-objective-c-malloc-to-swift/53232799#53232799", "title": "Converting Objective-C malloc to Swift", "body": "<p><code>malloc</code> and <code>free</code> actually work fine in Swift; however, the <code>UnsafeMutablePointer</code> API is more \"native\". I'd probably use <code>Data</code>'s <code>bytesNoCopy</code> for better performance. If you want, you can use <code>Data(bytes:count:)</code>, but that will make a copy of the data (and then you need to make sure to deallocate the pointer after making the copy, or you'll leak memory, which is actually a problem in the Objective-C code above since it fails to <code>free</code> the buffer).</p>\n\n<p>So, something like:</p>\n\n<pre><code>func prepareEndPacket() -&gt; Data {\n    let count = PACKET_SIZE + 5\n    let buf = UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity: count)\n\n    PrepareEndPacket(buf)\n\n    return Data(bytesNoCopy: buf, count: count, deallocator: .custom { ptr, _ in\n        ptr.deallocate()\n    })\n}\n</code></pre>\n\n<p>By using <code>bytesNoCopy</code>, the <code>Data</code> object returned is basically a wrapper around the original pointer, which will be freed by the deallocator when the <code>Data</code> object is destroyed.</p>\n\n<p>Alternatively, you can create the <code>Data</code> object from scratch and get a pointer to its contents to pass to <code>PrepareEndPacket()</code>:</p>\n\n<pre><code>func prepareEndPacket() -&gt; Data {\n    var data = Data(count: PACKET_SIZE + 5)\n\n    data.withUnsafeMutableBytes { (ptr: UnsafeMutablePointer&lt;UInt8&gt;) in\n        PrepareEndPacket(ptr)\n    }\n\n    return data\n}\n</code></pre>\n\n<p>This is <em>slightly</em> less efficient, since the <code>Data(count:)</code> initializer will initialize all the <code>Data</code>'s bytes to zero (similar to using <code>calloc</code> instead of <code>malloc</code>), but in many cases, that may not make enough of a difference to matter.</p>\n"}], "owner": {"reputation": 968, "user_id": 6553331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1lWip.png?s=128&g=1", "display_name": "temp_", "link": "https://stackoverflow.com/users/6553331/temp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 808, "favorite_count": 1, "accepted_answer_id": 53232799, "answer_count": 1, "score": 5, "last_activity_date": 1546503291, "creation_date": 1541794213, "last_edit_date": 1546503291, "question_id": 53232674, "link": "https://stackoverflow.com/questions/53232674/converting-objective-c-malloc-to-swift", "title": "Converting Objective-C malloc to Swift", "body": "<p>I am working on a project that was written in Objective-C and needs to be updated to Swift. We use a C file for transferring data. </p>\n\n<p>Here is the code I was given in Objective-C:</p>\n\n<pre><code>- (NSData *)prepareEndPacket {\n    UInt8 *buff_data;\n    buff_data = (uint8_t *)malloc(sizeof(uint8_t)*(PACKET_SIZE+5));\n    // Call to C File\n    PrepareEndPacket(buff_data);\n    NSData *data_first = [NSData dataWithBytes:buff_data length:sizeof(uint8_t)*(PACKET_SIZE+5)];\n    return data_first;\n}\n</code></pre>\n\n<p>In the C .h file I have this for reference: </p>\n\n<pre><code>#define PACKET_SIZE     ((uint32_t)128)\n</code></pre>\n\n<p>I can not seem to find a good way of converting this to Swift. Any help would be appreciated. </p>\n"}, {"tags": ["ios", "objective-c", "uiviewanimation"], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": false, "score": 0, "last_activity_date": 1541788948, "creation_date": 1541788948, "answer_id": 53231624, "question_id": 53229893, "link": "https://stackoverflow.com/questions/53229893/crossfade-transition-dips-to-black-when-transitioning-between-2-white-viewcontro/53231624#53231624", "title": "Crossfade transition dips to black when transitioning between 2 white ViewControllers", "body": "<p>Firstly, a good question should contain your code or simplified example code displaying the issue you're running into. The gif is helpful to display what you're seeing, but without the context of your code, you're going to get downvotes and receive a lot fewer answers (plus the answers you receive will mostly be speculation/assumptions, like mine's about to be).</p>\n\n<p>My guess is what you're seeing is the view's changing opacity near the beginning and end of the animation, so \"when the screen dips to black\" you're seeing the backing window. While it might not be perfect, a quick fix is to change the background color of your window to match the background color of your destination view controller (then set it back after the transition completes if needed).</p>\n\n<pre><code>// within your perform method for the transition\n// hold onto the previous window background color\nUIColor *previousWindowBackgroundColor = sourceViewController.view.window.backgroundColor;\n// switch the window background color to match the destinationController's background color temporarily\nsourceViewController.view.window.backgroundColor = destinationController.view.backgroundColor;\n...\n// perform the transition\n// switch the window color back after the transition duration from above\ndispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(animationDuration * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n    // make sure we still have a handle on the destination controller\n    if (destinationController) {\n        destinationController.view.window.backgroundColor = previousWindowBackgroundColor;\n    }\n});\n</code></pre>\n\n<h2>Recommendation instead of custom segue transitions:</h2>\n\n<p>Use a custom animation transition workflow by creating your own animators as outlined in my answer here: <a href=\"https://stackoverflow.com/a/52396398/7833793\">https://stackoverflow.com/a/52396398/7833793</a></p>\n\n<p>The answer shows a custom animator for a slide up/down animation, but it should give you a clear idea of how to do it for a cross fade as well.</p>\n"}], "owner": {"reputation": 57, "user_id": 3899561, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/9L5Ji.jpg?s=128&g=1", "display_name": "ALz", "link": "https://stackoverflow.com/users/3899561/alz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1541788948, "creation_date": 1541781716, "question_id": 53229893, "link": "https://stackoverflow.com/questions/53229893/crossfade-transition-dips-to-black-when-transitioning-between-2-white-viewcontro", "title": "Crossfade transition dips to black when transitioning between 2 white ViewControllers", "body": "<p>I'm presenting the next viewcontroller modally using a segue with transition set to cross dissolve, but although the source VC and the destination VC backgrounds are white, the screen dips to black at the end of the transition, Any way to make it dip to clear instead of black?\n<a href=\"https://i.stack.imgur.com/X38BJ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X38BJ.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "cryptography", "commoncrypto"], "comments": [{"owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541774467, "post_id": 53227711, "comment_id": 93342324, "body": "when it crashes, at what point in the above code does it crash?  does it seem to always crash at that point?  also, based on where it crashes, what have you tried to make it work that didn&#39;t solve the problem?  (that will save others the trouble of trying things you already tried)  thx"}, {"owner": {"reputation": 512, "user_id": 5685175, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wJxHE.jpg?s=128&g=1", "display_name": "Mukul More", "link": "https://stackoverflow.com/users/5685175/mukul-more"}, "reply_to_user": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541774572, "post_id": 53227711, "comment_id": 93342386, "body": "See it crashes in the for loop it never comes out of it. it crashes at different points in loop everytime like sometime startByte is around 200MB sometimes around 300mb, but it doesnt go beyond 315"}, {"owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541774997, "post_id": 53227711, "comment_id": 93342636, "body": "you&#39;ve answered where it crashes <i>in the input file</i>;  I&#39;m asking <i>what line of code is executing when it crashes?</i>"}, {"owner": {"reputation": 512, "user_id": 5685175, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wJxHE.jpg?s=128&g=1", "display_name": "Mukul More", "link": "https://stackoverflow.com/users/5685175/mukul-more"}, "reply_to_user": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541775881, "post_id": 53227711, "comment_id": 93343153, "body": "it&#39;s a memory issue right? So it&#39;s not possible to find the line where it crashes because the debugger stops with Memory Crash log"}, {"owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541776289, "post_id": 53227711, "comment_id": 93343400, "body": "it is certainly possible to find a line of code that is causing a memory-related crash; I&#39;ve done it hundreds of times; what you do is add log lines to your code that act as a trace of your code&#39;s execution; when the program crashes, you inspect the log to see the flow of execution, up to the last thing that was logged before the crash; often (but not always -- depends on the problem) this will be the same point in your code over successive test runs; you usually start with a few debug log lines, and then add more near where it is crashing until you get down to the exact line where it crashes"}, {"owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541776401, "post_id": 53227711, "comment_id": 93343452, "body": "once you have a firm indication of <i>where</i> the program crashes, you can focus your troubleshooting -- and your SO questions -- on that part of the code; Google for <code>trace level logging in computer programming</code> and similar for more info"}, {"owner": {"reputation": 512, "user_id": 5685175, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wJxHE.jpg?s=128&g=1", "display_name": "Mukul More", "link": "https://stackoverflow.com/users/5685175/mukul-more"}, "reply_to_user": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541834166, "post_id": 53227711, "comment_id": 93359857, "body": "I guess replaceBytesInRange:bytesRange is causing the crash."}, {"owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "edited": false, "score": 0, "creation_date": 1541877915, "post_id": 53227711, "comment_id": 93370652, "body": "if you still find yourself guessing, add more logging until you <i>know</i>; I have at times needed to put a debug log line before every code line; tedious, but effective; if you have a debugger, that can ease the process; as for possible causes, I&#39;ll post an answer based on your comment about <code>replaceBytesInRange:bytesRange</code> as the possible (likely?) candidate"}], "answers": [{"tags": [], "owner": {"reputation": 1544, "user_id": 7095433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69e608c3fba680f67e2997cae63cf626?s=128&d=identicon&r=PG", "display_name": "landru27", "link": "https://stackoverflow.com/users/7095433/landru27"}, "is_accepted": false, "score": 0, "last_activity_date": 1541879523, "creation_date": 1541879523, "answer_id": 53242826, "question_id": 53227711, "link": "https://stackoverflow.com/questions/53227711/ios-common-crypto-decrypt-rc4-encrypted-video-file-memory-crash/53242826#53242826", "title": "iOS Common Crypto Decrypt RC4 Encrypted video file Memory crash", "body": "<p>If <code>replaceBytesInRange:bytesRange</code> is causing the crash, then my first suggestion for how to avoid the crash is to add error checking for the preceding function calls that it depends upon.</p>\n\n<p>For example, in those cases where it crashes, maybe <code>bytesRange</code> is not a valid / useable value.  Maybe its <code>dataOut</code> that is not valid / usable.  Your code in your question sets those values from function calls, but does not check the return value for error conditions / error indicators / invalid values.</p>\n\n<p>It might be a related dependent function call.  e.g., <code>cryptStatus</code> is set with a call to <code>CCCryptorUpdate()</code>, which has <code>dataOut</code> as an input parameter.  I don't know Objective-C, and I'm not familiar with the function <code>CCCryptorUpdate()</code>, but it looks like it would affect / populate <code>dataOut</code>.  If it's actually returning an error, then <code>dataOut</code> is probably not in a usable state by the time you use it on the <code>replaceBytesInRange</code> line.  Checking the return value of <code>cryptStatus</code> might flag conditions when you should <em>not</em> proceed to use <code>dataOut</code> in later calls.</p>\n\n<p>Which brings me to another thing I noticed : you <em>do</em> check a couple things, but only log them.  The checks for <code>if (dataOutMoved != dataOutLength)</code> and for <code>(cryptStatus != kCCSuccess)</code> look like things that should stop execution, or break out of the loop, or something like that, not just log the occurrence.</p>\n\n<p>Another thing I see is that <code>dataOut</code> is <code>malloc()</code>'d once, not cleared, and used repeatedly.  This can be entirely valid in some circumstances, but it can also cause exactly the kind of error you are seeing.  Does anything in your code assume anything about the content of <code>dataOut</code>?  I'm thinking along the lines of C string operations that assume null-termination.  If one is not careful, null terminators that are assumed to be there (or maybe are in fact there at first) can be overwritten if, say, the entire buffer is filled.  Again, I don't know Objective-C and these functions so well, so this is not meant as a specific statement, but more of an analogy of the <em>kind</em> of thing that might be happening.</p>\n\n<p><strong>TL; DR</strong> : Add error checking to each of your function calls, and respond accordingly (break, exit, retry, whatever) so that no later function call attempts to use values that indicate errors or are otherwise invalid.</p>\n\n<p>I'll wager that with added error checking you will (1) stop the crashes, and (2) learn something specific about <em>why</em> it is that files larger than a certain amount yield these crashes.</p>\n"}], "owner": {"reputation": 512, "user_id": 5685175, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wJxHE.jpg?s=128&g=1", "display_name": "Mukul More", "link": "https://stackoverflow.com/users/5685175/mukul-more"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541879523, "creation_date": 1541774014, "last_edit_date": 1541774425, "question_id": 53227711, "link": "https://stackoverflow.com/questions/53227711/ios-common-crypto-decrypt-rc4-encrypted-video-file-memory-crash", "title": "iOS Common Crypto Decrypt RC4 Encrypted video file Memory crash", "body": "<p>I am decrypting a video file which works perfectly for small sizes files but for files above 300mb, there is memory crash. The code is as below :\nI checked the start byte value it goes uptill 315mb and then crashes, my file is sized at 350mb. </p>\n\n<p>It works for few iphones and crashes for few, The best solution was do it in chunks to avoid memory issue but it crashes doing that too. </p>\n\n<pre><code>#define kChunkSizeBytes (1024*1024) // 1 MB\n\n@implementation NSMutableData (Crypto)\n   -(BOOL) doCrypto:(NSString *)key operation: (CCOperation) operation\n{\n\n    //Keeping it 32 as per our key\n    char keyPtr[512 + 1]; // room for terminator (unused)\n    bzero(keyPtr, sizeof(keyPtr));     // fill with zeroes (for padding)\n\n    // Fetch key data\n\n    if (![key getCString:keyPtr maxLength:sizeof(keyPtr) encoding:NSUTF8StringEncoding]) {return FALSE;} // Length of 'key' is bigger than keyPtr\n\n    CCCryptorRef cryptor;\n\n\n\n\n    CCCryptorStatus cryptStatus = CCCryptorCreate(operation, kCCAlgorithmRC4, 0,\n                                                  keyPtr, key.length,\n                                                  NULL, // IV - needed?\n                                                  &amp;cryptor);\n\n    if (cryptStatus != kCCSuccess) { // Handle error here\n        return FALSE;\n    }\n\n    size_t dataOutMoved;\n    size_t dataInLength = kChunkSizeBytes; // #define kChunkSizeBytes (16)\n    size_t dataOutLength = CCCryptorGetOutputLength(cryptor, dataInLength, FALSE);\n    size_t totalLength = 0; // Keeps track of the total length of the output buffer\n    size_t filePtr = 0;   // Maintains the file pointer for the output buffer\n    NSInteger startByte; // Maintains the file pointer for the input buffer\n\n    char *dataIn = malloc(dataInLength);\n    char *dataOut = malloc(dataOutLength);\n    NSRange bytesRange = NSMakeRange((NSUInteger) 0, (NSUInteger) 0);\n\n    for (startByte = 0; startByte &lt;= [self length]; startByte += kChunkSizeBytes) {\n            if ((startByte + kChunkSizeBytes) &gt; [self length]) {\n                dataInLength = [self length] - startByte;\n            }\n            else {\n                dataInLength = kChunkSizeBytes;\n            }\n\n            // Get the chunk to be ciphered from the input buffer\n            bytesRange = NSMakeRange((NSUInteger) startByte, (NSUInteger) dataInLength);\n            [self getBytes:dataIn range:bytesRange];\n            cryptStatus = CCCryptorUpdate(cryptor, dataIn, dataInLength, dataOut, dataOutLength, &amp;dataOutMoved);\n\n            if (startByte &gt;= 203728200) {\n                NSLog(@\"%ld\",(long)startByte);\n            }\n            if (dataOutMoved != dataOutLength) {\n                NSLog(@\"dataOutMoved (%d) != dataOutLength (%d)\", dataOutMoved, dataOutLength);\n            }\n\n            if ( cryptStatus != kCCSuccess)\n            {\n                NSLog(@\"Failed CCCryptorUpdate: %d\", cryptStatus);\n            }\n\n            // Write the ciphered buffer into the output buffer\n            bytesRange = NSMakeRange(filePtr, (NSUInteger) dataOutMoved);\n            [self replaceBytesInRange:bytesRange withBytes:dataOut];\n            totalLength += dataOutMoved;\n\n            filePtr += dataOutMoved;\n\n    }\n\n    // Finalize encryption/decryption.\n    cryptStatus = CCCryptorFinal(cryptor, dataOut, dataOutLength, &amp;dataOutMoved);\n    totalLength += dataOutMoved;\n\n    if ( cryptStatus != kCCSuccess)\n    {\n        NSLog(@\"Failed CCCryptorFinal: %d\", cryptStatus);\n    }\n\n    // In the case of encryption, expand the buffer if it required some padding (an encrypted buffer will always be a multiple of 16).\n    // In the case of decryption, truncate our buffer in case the encrypted buffer contained some padding\n    [self setLength:totalLength];\n\n    // Finalize the buffer with data from the CCCryptorFinal call\n    NSRange bytesNewRange = NSMakeRange(filePtr, (NSUInteger) dataOutMoved);\n    [self replaceBytesInRange:bytesNewRange withBytes:dataOut];\n\n    CCCryptorRelease(cryptor);\n\n    free(dataIn);\n    free(dataOut);\n\n    return 1;\n}\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uikeyboard"], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1541771532, "creation_date": 1541771532, "answer_id": 53227017, "question_id": 53226866, "link": "https://stackoverflow.com/questions/53226866/uikeyboardwillshownotification-not-work-when-i-use-custom-textfield-inputview/53227017#53227017", "title": "UIKeyboardWillShowNotification not work when i use custom textField.inputView", "body": "<p>You need a non-zero height</p>\n\n<pre><code>CGRect rect = CGRectMake(0, 0, CGRectGetWidth(self.view.frame), 100);\n</code></pre>\n\n<p>Also don't forget to call</p>\n\n<pre><code>[self addObserver];\n</code></pre>\n\n<p>end of <code>viewDidLoad</code></p>\n"}], "owner": {"reputation": 1, "user_id": 9002901, "user_type": "registered", "profile_image": "https://graph.facebook.com/376636926113684/picture?type=large", "display_name": "Mariya Anikeyeva", "link": "https://stackoverflow.com/users/9002901/mariya-anikeyeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541771665, "creation_date": 1541770954, "last_edit_date": 1541771665, "question_id": 53226866, "link": "https://stackoverflow.com/questions/53226866/uikeyboardwillshownotification-not-work-when-i-use-custom-textfield-inputview", "title": "UIKeyboardWillShowNotification not work when i use custom textField.inputView", "body": "<p>In my program I create a custom view on xib and want use this view like <code>textField.inputView</code>. When <code>KeyboardWillShow</code> i want change inputView frame, but <code>UIKeyboardWillShowNotification</code> do not work when i tap on this textField. How i can change <code>textField.inputView</code> or to force work <code>UIKeyboardWillShowNotification</code>?</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad]; \n    CGRect rect = CGRectMake(0, 0, CGRectGetWidth(self.view.frame), 0);\n    self.actionView = [[ActionView alloc] initWithFrame:rect];            \n    self.actionView.delegate = self; \n    self.currencyTextField.inputView = self.actionView;\n    [self layout]; \n} \n- (void)addObserver{\n\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillShown:)\n                                                 name:UIKeyboardWillShowNotification\n                                               object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self\n                                             selector:@selector(keyboardWillHide:)\n                                                 name:UIKeyboardWillHideNotification\n                                               object:nil];\n}\n\n- (void)keyboardWillShown:(NSNotification *)notification{\n    NSDictionary* keyboardUserInfo = [notification userInfo];\n    CGSize keyboardSize = [[keyboardUserInfo objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue].size;\n    self.actionView.frame = CGRectMake(0, 0, keyboardSize.width, keyboardSize.height);\n    [self.currencyTextField reloadInputViews];\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "algolia"], "answers": [{"comments": [{"owner": {"reputation": 2888, "user_id": 3515033, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H5jqp.jpg?s=128&g=1", "display_name": "Arasuvel", "link": "https://stackoverflow.com/users/3515033/arasuvel"}, "edited": false, "score": 0, "creation_date": 1541768106, "post_id": 53225676, "comment_id": 93338971, "body": "Thanks. I need to achieve this with Instantsearch. like &#39;InstantSearch.shared.params&#39;"}, {"owner": {"reputation": 2203, "user_id": 347445, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/560f46254d487125ad71b636a72779e8?s=128&d=identicon&r=PG", "display_name": "gebirgsb&#228;rbel", "link": "https://stackoverflow.com/users/347445/gebirgsb%c3%a4rbel"}, "reply_to_user": {"reputation": 2888, "user_id": 3515033, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H5jqp.jpg?s=128&g=1", "display_name": "Arasuvel", "link": "https://stackoverflow.com/users/3515033/arasuvel"}, "edited": false, "score": 0, "creation_date": 1541770229, "post_id": 53225676, "comment_id": 93340073, "body": "What exactly is your problem then? Any particular point you are stuck at? InstantSearch mainly is a UIWrapper, so what is the UI you want to build? Other than that first maybe simply follow <a href=\"https://community.algolia.com/instantsearch-ios/getting-started.html\" rel=\"nofollow noreferrer\">community.algolia.com/instantsearch-ios/getting-started.html</a>&zwnj;&#8203;."}], "tags": [], "owner": {"reputation": 2203, "user_id": 347445, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/560f46254d487125ad71b636a72779e8?s=128&d=identicon&r=PG", "display_name": "gebirgsb&#228;rbel", "link": "https://stackoverflow.com/users/347445/gebirgsb%c3%a4rbel"}, "is_accepted": false, "score": -1, "last_activity_date": 1541766271, "creation_date": 1541766271, "answer_id": 53225676, "question_id": 53225304, "link": "https://stackoverflow.com/questions/53225304/algolia-instant-search-with-filter-and-query/53225676#53225676", "title": "Algolia instant search with filter and query", "body": "<p>First you need to create a query. On this query you then set your filter. Finally you call search on your index with the query you just created.</p>\n\n<pre><code>// search only with a numeric filter\nQuery* query = [Query new];\nquery.filters = @\"PracticeId=1002 AND NOT TestId=nil\";\n[index search:query completionHandler:^(NSDictionary* content, NSError* error) {\n    if (content == nil) {\n        NSLog(@\"Error: %@\", error);\n        return;\n    }\n    NSLog(@\"Results: %@\", content);\n}];\n</code></pre>\n\n<p>You can find several examples in the <a href=\"https://www.algolia.com/doc/tutorials/full-text-search/filtering-faceting/swift/?language=swift#filtering\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 2888, "user_id": 3515033, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H5jqp.jpg?s=128&g=1", "display_name": "Arasuvel", "link": "https://stackoverflow.com/users/3515033/arasuvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1541768142, "creation_date": 1541764640, "last_edit_date": 1541768142, "question_id": 53225304, "link": "https://stackoverflow.com/questions/53225304/algolia-instant-search-with-filter-and-query", "title": "Algolia instant search with filter and query", "body": "<p>Using Algolia instance search to display results.</p>\n\n<p>When using the index, getting all values as results. I need to filter results based on following query. Please let me know how to implement this in algolia using IndexSearch.</p>\n\n<p>Query : \"PracticeId=1002 AND TestId!=nil\"</p>\n\n<p>Thanks </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 18527, "user_id": 2331445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94bfb49e156193c0509c3a18e0f8923f?s=128&d=identicon&r=PG", "display_name": "Stephan Schlecht", "link": "https://stackoverflow.com/users/2331445/stephan-schlecht"}, "is_accepted": true, "score": 5, "last_activity_date": 1541801166, "creation_date": 1541801166, "answer_id": 53233851, "question_id": 53220682, "link": "https://stackoverflow.com/questions/53220682/how-to-create-a-short-modal-overlay-like-the-ios-share-sheet-menu/53233851#53233851", "title": "How to create a short modal overlay like the iOS Share Sheet menu?", "body": "<p>You could use a UIPresentationController and a UIViewControllerTransitioningDelegate. </p>\n\n<p>As a starting point here a few lines of code:</p>\n\n<p><strong>UIViewControllerTransitioningDelegate</strong></p>\n\n<pre><code>class OverlayTransitioningDelegate: NSObject, UIViewControllerTransitioningDelegate {\n\n    func presentationController(forPresented presented: UIViewController, presenting: UIViewController?, source: UIViewController) -&gt; UIPresentationController? {\n        return OverlayPresentationController(presentedViewController:presented, presenting:presenting)\n    }\n\n}\n</code></pre>\n\n<p><strong>UIPresentationController</strong> </p>\n\n<pre><code>class OverlayPresentationController: UIPresentationController {\n\n    private let dimmedBackgroundView = UIView()\n    private let height: CGFloat = 200.0\n\n    override init(presentedViewController: UIViewController, presenting presentingViewController: UIViewController?) {\n        super.init(presentedViewController: presentedViewController, presenting: presentingViewController)\n        let tapGestureRecognizer = UITapGestureRecognizer(target: self, action: #selector(backgroundTapped))\n        self.dimmedBackgroundView.addGestureRecognizer(tapGestureRecognizer)\n    }\n\n    override var frameOfPresentedViewInContainerView: CGRect {\n        var frame =  CGRect.zero\n        if let containerBounds = containerView?.bounds {\n            frame = CGRect(x: 0,\n                           y: containerBounds.height - height,\n                           width: containerBounds.width,\n                           height: height)\n        }\n        return frame\n    }\n\n    override func presentationTransitionWillBegin() {\n        if let containerView = self.containerView, let coordinator = presentingViewController.transitionCoordinator {\n            containerView.addSubview(self.dimmedBackgroundView)\n            self.dimmedBackgroundView.backgroundColor = .black\n            self.dimmedBackgroundView.frame = containerView.bounds\n            self.dimmedBackgroundView.alpha = 0\n            coordinator.animate(alongsideTransition: { _ in\n                self.dimmedBackgroundView.alpha = 0.5\n            }, completion: nil)\n        }\n    }\n\n    override func dismissalTransitionDidEnd(_ completed: Bool) {\n        self.dimmedBackgroundView.removeFromSuperview()\n    }\n\n    @objc private func backgroundTapped() {\n       self.presentedViewController.dismiss(animated: true, completion: nil)\n    }\n\n\n}\n</code></pre>\n\n<p><strong>How to call it</strong></p>\n\n<pre><code>let overlayTransitioningDelegate = OverlayTransitioningDelegate()\n\n@IBAction func onOpenModalOverlay(_ sender: Any) {\n    let overlayVC = OverlayViewController()\n    overlayVC.transitioningDelegate  = self.overlayTransitioningDelegate\n    overlayVC.modalPresentationStyle = .custom\n    self.present(overlayVC, animated: true, completion: nil)\n}\n</code></pre>\n\n<p><strong>Demo</strong></p>\n\n<p>The OverlayViewController is a normal ViewController. Here I used an ugly green background color to make it easier to recognize the overlay.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qoFv1.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qoFv1.gif\" alt=\"overlay demo\"></a></p>\n"}], "owner": {"reputation": 195223, "user_id": 48523, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c787bc735dbe80ec2f88824e1d10c6c?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/48523/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 2, "accepted_answer_id": 53233851, "answer_count": 1, "score": -1, "last_activity_date": 1541801166, "creation_date": 1541743855, "question_id": 53220682, "link": "https://stackoverflow.com/questions/53220682/how-to-create-a-short-modal-overlay-like-the-ios-share-sheet-menu", "title": "How to create a short modal overlay like the iOS Share Sheet menu?", "body": "<p>I\u2019m trying to create a custom, short menu that slides up from the bottom of the screen and stays at the bottom (like the iOS share sheet). I\u2019m having a hard time trying to figure out how to do it. I tried presenting a view controller as a modal and setting the preferred content size, but it still presents it as full screen. How can I present a short, modal-like overlay?</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1541743908, "post_id": 53220674, "comment_id": 93328308, "body": "Compare <a href=\"https://stackoverflow.com/questions/37993693/nslog-is-unavailable\" title=\"nslog is unavailable\">stackoverflow.com/questions/37993693/nslog-is-unavailable</a>."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1541801490, "post_id": 53220674, "comment_id": 93354587, "body": "@MartinR - If I understand correctly the OP wishes to call a Swift variadic function from Objective-C and your linked question does the reverse - call an Obj-C variadic from Swift. I don&#39;t know that it is possible to do what the OP is after, while you can declare a Swift function that takes a <code>va_list</code> value you cannot then pass that value to Swift&#39;s <code>NSLogv</code>, et al., as they take a <code>CVaListPointer</code>. Are you suggesting this is possible somehow?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10627349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vx1Ie.jpg?s=128&g=1", "display_name": "man", "link": "https://stackoverflow.com/users/10627349/man"}, "edited": false, "score": 0, "creation_date": 1542121010, "post_id": 53247907, "comment_id": 93449133, "body": "I just have one more question: how to use Objective-C macro if I used swift language <code>#define NSLog(fmt, ...) [SwiftLog method]</code>    @CRD THANKS!"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 1, "last_activity_date": 1541932666, "creation_date": 1541932666, "answer_id": 53247907, "question_id": 53220674, "link": "https://stackoverflow.com/questions/53220674/how-to-transfer-objective-c-language-va-list-va-start-va-end-to-swift/53247907#53247907", "title": "how to transfer objective-c language (`va_list`,`va_start `,`va_end ` ) to swift language\uff1f", "body": "<p>From @MartinR comment and reference to <a href=\"https://stackoverflow.com/questions/37993693/nslog-is-unavailable\">NSLog is unavailable</a> you know that Swift can call (Objective-)C functions &amp; methods that take <code>va_list</code> arguments through the use of the Swift types <code>CVarArg</code> and <code>CVaListPointer</code>.</p>\n\n<p>Many of the common (Objective-)C variadic functions &amp; methods have a sibling which takes a <code>va_list</code>, so this support in Swift provides access to them.</p>\n\n<blockquote>\n  <p>I also need to call this swift method in objective-c xxx.m file.</p>\n</blockquote>\n\n<p>However you wish to go the other way, and having written a Swift variadic function version of your Objective-C method you found you couldn't call it. You attempted to ask what the solution was, <a href=\"https://stackoverflow.com/questions/53235608/how-do-you-call-a-swift-variadic-method-from-objective-c\">How do you call a Swift variadic method from Objective-C?</a>, the indirect answer (your question was marked as duplicate) to that question provides a hint \u2013 to use an array \u2013 but doesn't handle the generality you require for your formatted-print type scenario. Let's see if we can get there...</p>\n\n<p><em>(Using Xcode 10/Swift 4.2, any other version of Swift is probably different.)</em></p>\n\n<p>We'll use the following Swift class as basis:</p>\n\n<pre><code>class SwiftLog : NSObject\n{\n   // Swift entry point\n   static func Log(_ format : String, args : CVarArg...)\n   {\n      withVaList(args) { LogV(format, $0)}\n   }\n\n   // Shared core\n   private static func LogV(_ format : String, _ args: CVaListPointer)\n   {\n      NSLogv(format, args)\n   }\n}\n</code></pre>\n\n<p>This provides Swift with a variadic function which will take all the Swift library types you are probably interested in, and a few more you not (3287 are listed in <a href=\"https://developer.apple.com/documentation/swift/cvararg\" rel=\"nofollow noreferrer\">Apple's <code>CVarArg</code> documentation</a>). The private core function here is trivial, you probably wish to do something a little more involved.</p>\n\n<p>Now you wish to call <code>Log()</code> from Objective-C but, as you've discovered, you cannot due to the <code>CVarArg</code>. However Objective-C can call Swift functions which take <code>NSObject</code> arguments, and <code>NSObject</code> implements <code>CVarArg</code>, which gets us to our first attempt:</p>\n\n<pre><code>   // Objective-C entry point\n   @objc static func Log(_ format : String, args : [NSObject])\n   {\n      withVaList(args) { LogV(format, $0) }\n   }\n</code></pre>\n\n<p>This works as-is but every argument must be an <em>object</em> and formatted with <code>%@</code>, switching to Objective-C:</p>\n\n<pre><code>[SwiftLog LogObjects:@\"%@|%@|%@|%@|%@|%@\" args:@[@\"42\", @4.2, @\"hello\", @31, @'c', NSDate.new]];\n</code></pre>\n\n<p>produces:</p>\n\n<pre><code>42|4.2|hello|31|99|Sun Nov 11 08:47:35 2018\n</code></pre>\n\n<p>It works within limits, we have lost the flexibility of formatting \u2013 no <code>%6.2f</code>, <code>%x</code> etc. \u2013 and the character has come out as <code>99</code>.</p>\n\n<p>Can we improve it? If you are prepared to sacrifice the ability to print <code>NSNumber</code> values as is, then yes. Over in Swift change the <code>Log()</code> function to:</p>\n\n<pre><code>   @objc static func Log(_ format : String, args : [NSObject])\n   {\n      withVaList(args.map(toPrintfArg)) { LogV(format, $0) }\n   }\n</code></pre>\n\n<p>Skipping <code>toPrintfArg</code> for the moment (its just large and ugly) over in Objective-C we can call this version as:</p>\n\n<pre><code>[SwiftLog Log:@\"%@|%4.2f|%10s|%x|%c|%@\" args:@[@\"42\", @4.2, @((intptr_t)\"hello\"), @31, @'c', NSDate.new]];\n</code></pre>\n\n<p>which produces:</p>\n\n<pre><code>42|4.20|     hello|1f|c|Sun Nov 11 08:47:35 2018\n</code></pre>\n\n<p>Much better, and the character is correct. So what does <code>toPrintfArg</code> do?</p>\n\n<p>In the above we had to pass an array of <em>objects</em> to Swift, and to do that all the primitive values are wrapped as <code>NSNumber</code> objects.</p>\n\n<p>In Objective-C an <code>NSNumber</code> object does not reveal much about what it wraps, the access methods (<code>.doubleValue</code>, <code>.integerValue</code> etc.) will <em>convert</em> whatever the wrapped value was into a value of the requested type and return it.</p>\n\n<p>However <code>NSNumber</code> is \"toll-free bridged\" to the the Core Foundation types <code>CFBoolean</code> and <code>CFNumber</code>; the former of these is for booleans (obviously!) and the latter for all the other numeric types and, unlike <code>NSNumber</code>, provides a function that returns the type of the wrapped value so it can be unwrapped without conversion. Using this information we can extract the original <em>(experts, yes, see below)</em> values from the <code>NSNumber</code> objects, all those extracted value in Swift will all implement <code>CVarArg</code>, here goes:</p>\n\n<pre><code>   private static func toPrintfArg(_ item : NSObject) -&gt; CVarArg\n   {\n      if let anumber = item as? NSNumber\n      {\n         if type(of:anumber) == CFBoolean.self { return anumber.boolValue }\n\n         switch CFNumberGetType(anumber)\n         {\n            case CFNumberType.sInt8Type:     return anumber.int8Value\n            case CFNumberType.sInt16Type:    return anumber.int16Value\n            case CFNumberType.sInt32Type:    return anumber.int32Value\n            case CFNumberType.sInt64Type:    return anumber.int64Value\n            case CFNumberType.float32Type:   return Float32(anumber.floatValue)\n            case CFNumberType.float64Type:   return Float64(anumber.doubleValue)\n            case CFNumberType.charType:      return CChar(anumber.int8Value)\n            case CFNumberType.shortType:     return CShort(anumber.int16Value)\n            case CFNumberType.intType:       return CInt(anumber.int32Value)\n            case CFNumberType.longType:      return CLong(anumber.int64Value)\n            case CFNumberType.longLongType:  return CLongLong(anumber.int64Value)\n            case CFNumberType.floatType:     return anumber.floatValue\n            case CFNumberType.doubleType:    return anumber.doubleValue\n            case CFNumberType.cfIndexType:   return CFIndex(anumber.int64Value)\n            case CFNumberType.nsIntegerType: return NSInteger(anumber.int64Value)\n            case CFNumberType.cgFloatType:   return CGFloat(anumber.doubleValue)\n         }\n      }\n\n      return item;\n   }\n</code></pre>\n\n<p>This function will unwrap <em>(experts, yes, most, see below)</em> <code>NSNumber</code> objects to the original value type while leaving all other objects as is to be formatted by <code>%@</code> (as shown by the <code>NSString</code> and <code>NSDate</code> objects in the example).</p>\n\n<p>Hope that helps, at least more than it confuses! Notes for the curious/experts follow.</p>\n\n<hr>\n\n<p><strong>Notes &amp; Caveats</strong></p>\n\n<p><em>Preserving C Pointers</em></p>\n\n<p>In the above example the C string <code>\"hello\"</code> was passed by converting it to <code>intptr_t</code>, a C integer type the same size as a pointer, rather than as a pointer value. In this context this is fine, a <code>va_list</code> is essentially an <em>untyped</em> bob of bytes and the format tells <code>NSLogv()</code> what type to interpret the next bytes as, converting to <code>intptr_t</code> keeps the same bytes/bits and allows the pointer to be wrapped as an <code>NSNumber</code>.</p>\n\n<p>However if you application needs to have an actual pointer on the Swift side you can instead wrap the C string as an <code>NSValue</code>:</p>\n\n<pre><code>[NSValue valueWithPointer:\"hello\"]\n</code></pre>\n\n<p>and unwrap it in <code>toPrintfArg</code> by adding:</p>\n\n<pre><code>      if let ptr = (item as? NSValue)?.pointerValue\n      {\n         return ptr.bindMemory(to: Int8.self, capacity: 1)\n      }\n</code></pre>\n\n<p>This produces a value of type <code>UnsafeMutablePointer&lt;Int8&gt;</code>, which implements <code>CVarArg</code> (and as the latter the <code>capacity</code> is irrelevant).</p>\n\n<p><em>Do You Always Get The Same Type Back?</em></p>\n\n<p>If you wrap a C type as an <code>NSNumber</code> and then unwrap it as above, could the type change due to <em>argument promotion</em> (which means that integer types smaller than <code>int</code> get passed as <code>int</code> values, <code>float</code> values as <code>double</code>) in C? The answer is <em>maybe</em> but the required type for the <code>CVarArg</code> value is the promoted type so it should not make any difference <em>in this context</em> \u2013 the type of the unwrapped value with suit the expected format specifier.</p>\n\n<p><em>What about <code>NSDecimalNumber</code>?</em></p>\n\n<p>Well spotted, if you try to print an <code>NSDecimalNumber</code>, which is a subclass of <code>NSNumber</code>, the above <code>toPrintfArg</code> will unpack it as a <code>double</code> and you must use a floating-point format and not <code>%@</code>. Handling this is left as an exercise.</p>\n"}], "owner": {"reputation": 23, "user_id": 10627349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vx1Ie.jpg?s=128&g=1", "display_name": "man", "link": "https://stackoverflow.com/users/10627349/man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 2, "accepted_answer_id": 53247907, "answer_count": 1, "score": 0, "last_activity_date": 1541932666, "creation_date": 1541743798, "last_edit_date": 1541744771, "question_id": 53220674, "link": "https://stackoverflow.com/questions/53220674/how-to-transfer-objective-c-language-va-list-va-start-va-end-to-swift", "title": "how to transfer objective-c language (`va_list`,`va_start `,`va_end ` ) to swift language\uff1f", "body": "<p>This is my codes. they are objective-c language:</p>\n\n<pre><code>- (void)objcMethod:(NSString *)format, ...\n{\nva_list args;\n\nva_start(args, format);\n\nNSString *msg = [[NSString alloc] initWithFormat:format arguments:args];\nNSLog(@\"%@\", msg);\n\nva_end(args);\n\nva_start(args, format);\n\nva_end(args);\n}\n</code></pre>\n\n<p>how to transfer objective-c language (<code>va_list</code>,<code>va_start</code>,<code>va_end</code> ) to swift language\uff1f</p>\n\n<p>I also need to call this swift method in objective-c xxx.m file.</p>\n\n<p>Need help. thanks!</p>\n\n<p>======================================================================</p>\n\n<p>update: </p>\n\n<p>I tried MartinR's answer <a href=\"https://stackoverflow.com/questions/37993693/nslog-is-unavailable\">NSLog is unavailable</a> , but something wrong, I can not add @objc in front of the method, need help.thanks.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hCAeb.png\" rel=\"nofollow noreferrer\">my codes...</a></p>\n"}, {"tags": ["ios", "objective-c", "ipad"], "owner": {"reputation": 247, "user_id": 4051145, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/99472d8e25426f77f5389c3cfcc829cc?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4051145/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1541716636, "creation_date": 1541711788, "last_edit_date": 1541716636, "question_id": 53216251, "link": "https://stackoverflow.com/questions/53216251/why-do-the-safeareainsets-and-safearealayoutguide-seem-wrong-on-the-new-ipad-wit", "title": "Why do the safeAreaInsets and safeAreaLayoutGuide seem wrong on the new iPad without status bar?", "body": "<p>If I create a new single view project and add the following code to ViewController.m</p>\n\n<pre><code>-(void)viewWillLayoutSubviews {\n    [super viewWillLayoutSubviews];\n    UIWindow *window = UIApplication.sharedApplication.windows[0];\n    NSLog(@\"%@, %@\", NSStringFromUIEdgeInsets(window.safeAreaInsets), NSStringFromCGRect([[window safeAreaLayoutGuide] layoutFrame]));\n}\n</code></pre>\n\n<p>I get the following results on the new iPad Pro (12.9 inch) (3rd generation) simulator.</p>\n\n<p>With status bar: <code>{24, 0, 20, 0}, {{0, 24}, {1024, 1322}}</code></p>\n\n<p>Without status bar: <code>{0, 0, 20, 0}, {{0, 0}, {1024, 1346}}</code></p>\n\n<p>Why is the top inset 0 or why is the frame y value 0 when there is no status bar? Shouldn't those values be equal to 20 like the bottom inset?</p>\n\n<p>I remove the status bar by setting <code>UIStatusBarHidden=YES</code> and <code>UIViewControllerBasedStatusBarAppearance=NO</code> in the info.plist.\nThe results I get on the iPhones always correctly account for the curved edges.</p>\n"}, {"tags": ["objective-c", "variables", "duplicates"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1541711323, "post_id": 53216130, "comment_id": 93320029, "body": "Show the relevant portions of your .h and .m files. Most likely you&#39;ve declared globals when you didn&#39;t intend to."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541820765, "post_id": 53226841, "comment_id": 93358080, "body": "Is this the same type of global variable as in java? Or does it mean something completely different."}, {"owner": {"reputation": 37, "user_id": 8760273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771e8ec6cf587bd3efa6c3fb94f74cb4?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo Alegre", "link": "https://stackoverflow.com/users/8760273/pablo-alegre"}, "reply_to_user": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541849086, "post_id": 53226841, "comment_id": 93362842, "body": "In Java you can not declare a variable outside the class. You can have same behavior using static variables. So no, this is like global variable in C / C++, reachable from anywhere in your program using only the variable name, for this is the reason you can not declare more than one with the same name because, linking, you will get a duplicate symbol error."}, {"owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "edited": false, "score": 0, "creation_date": 1541870653, "post_id": 53226841, "comment_id": 93368592, "body": "Oh! Thank you for clarifying (sorry for the bad question)"}], "tags": [], "owner": {"reputation": 37, "user_id": 8760273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/771e8ec6cf587bd3efa6c3fb94f74cb4?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo Alegre", "link": "https://stackoverflow.com/users/8760273/pablo-alegre"}, "is_accepted": true, "score": 0, "last_activity_date": 1541770864, "creation_date": 1541770864, "answer_id": 53226841, "question_id": 53216130, "link": "https://stackoverflow.com/questions/53216130/duplicate-variables-in-objective-c/53226841#53226841", "title": "Duplicate Variables in Objective C", "body": "<p>I guess you are writing the variable declaration in the class file, but outside @interface block, if you do this inside @implmentation block or anywhere else you are just declaring a global variable.</p>\n"}], "owner": {"reputation": 17, "user_id": 8336179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2737bd82d2b83d4f673fcea2d6eaa884?s=128&d=identicon&r=PG&f=1", "display_name": "Jatearoon Keene Boondicharern", "link": "https://stackoverflow.com/users/8336179/jatearoon-keene-boondicharern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 53226841, "answer_count": 1, "score": -4, "last_activity_date": 1541778566, "creation_date": 1541711134, "last_edit_date": 1541778566, "question_id": 53216130, "link": "https://stackoverflow.com/questions/53216130/duplicate-variables-in-objective-c", "title": "Duplicate Variables in Objective C", "body": "<p>Can I not have duplicate variables in objective-C classes? Whenever I have two classes and name variables/methods the same it throws me a linker command failed with exit code 1 (use -v to see invocation).</p>\n\n<p>How do I make two classes with each having a function of the same name?</p>\n"}, {"tags": ["ios", "objective-c", "macos", "cocoa", "objective-c++"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1541707518, "post_id": 53215266, "comment_id": 93318242, "body": "If the reference is not used, why it matters that it would be deallocated sooner?"}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1541707615, "post_id": 53215266, "comment_id": 93318278, "body": "If deallocating that array takes a long time, then I would prefer it be done on a background queue rather than on the main queue, where it would block the user interface."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1541708290, "post_id": 53215266, "comment_id": 93318638, "body": "I am not really sure what would take so much time during deallocation but in similar situations I would assume that allocation takes much more time. Have you thought about reusing the objects?"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 2, "creation_date": 1541709494, "post_id": 53215266, "comment_id": 93319225, "body": "The array deallocation takes no time.   It is the contents that may be problematic.   And if they are, then the costly part of deallocation needs to be separated from the actual call to <code>dealloc</code>.   In fact, if there is any kind of communication outside of the object during deallocation, then you really need to move that logic out of deallocation where the object graph is in a known inconsistent state."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1541724835, "post_id": 53215266, "comment_id": 93324208, "body": "So you&#39;re question regarding Edit 2 is whether you could get away with <code>(void)wrapper</code> instead of declaring <code>wrapper</code> with <code>__block</code> and clearing it in the block? It would certainly be safe to do <code>[wrapper self]</code>, but that&#39;s not much less &quot;silly&quot; but avoids <code>__block</code>."}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1541749096, "post_id": 53215266, "comment_id": 93329935, "body": "From a personal coding guideline, I try and minimize the use of <code>__block</code>. It&#39;s not a big deal, but something that led me to wanting to better understand how a block captures variables and whether it&#39;s allowed to not capture them in certain conditions. Your quote of the spec below clears up any confusion."}], "answers": [{"comments": [{"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1541712395, "post_id": 53216160, "comment_id": 93320469, "body": "Good points Ken, thank you. I&#39;ve added a second example to the original question that does away with GCD and execution order because that&#39;s not entirely what I was concerned about, though it is a very valid point I hadn&#39;t fully considered in the case of deallocating a large vector."}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1541748877, "post_id": 53216160, "comment_id": 93329858, "body": "Precisely what I was looking for yet failed to find on my own. Unsurprisingly it&#39;s right there in the docs. This was as much about personal knowledge regarding block semantics as it was anything else but does &quot;save me&quot; from having to use the <code>__block</code> attribute and allows me to remove the <code>= nil</code> code, which I&#39;ve preferred to do since ARC was introduced."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 4, "last_activity_date": 1541725234, "last_edit_date": 1541725234, "creation_date": 1541711303, "answer_id": 53216160, "question_id": 53215266, "link": "https://stackoverflow.com/questions/53215266/is-a-block-in-objective-c-always-guaranteed-to-capture-a-variable/53216160#53216160", "title": "Is a block in Objective-C always guaranteed to capture a variable?", "body": "<h3>Edit to address question edits:</h3>\n\n<p>From the Clang <a href=\"https://clang.llvm.org/docs/BlockLanguageSpec.html\" rel=\"nofollow noreferrer\">Language Specification for Blocks</a>:</p>\n\n<blockquote>\n  <p>Local automatic (stack) variables referenced within the compound\n  statement of a Block are imported and captured by the Block as const\n  copies. The capture (binding) is performed at the time of the Block\n  literal expression evaluation.</p>\n  \n  <p>The compiler is not required to capture a variable if it can prove\n  that no references to the variable will actually be evaluated.\n  <strong>Programmers can force a variable to be captured by referencing it in a\n  statement at the beginning of the Block, like so</strong>:</p>\n\n<pre><code>(void) foo;\n</code></pre>\n  \n  <p><strong>This matters when capturing the variable has side-effects, as it can\n  in Objective-C or C++</strong>.</p>\n</blockquote>\n\n<p>(Emphasis added.)</p>\n\n<p>Note that using this technique guarantees that the referenced object lives at least as long as the block, but does not guarantee it will be released with the block, nor by which thread.</p>\n\n<hr>\n\n<p>There's no guarantee that the block submitted to the background queue will be the last code to hold a strong reference to the array (even ignoring the question of whether the block captures the variable).</p>\n\n<p>First, the block may in fact run before the context which submitted it returns and releases its strong reference. That is, the code which called <code>dispatch_async()</code> could be swapped off the CPU and the block could run first.</p>\n\n<p>But even if the block runs somewhat later than that, a reference to the array may be in an autorelease pool somewhere and not released for some time. Or there may be a strong reference someplace else that will eventually be cleared but not under you explicit control.</p>\n"}], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 53216160, "answer_count": 1, "score": 2, "last_activity_date": 1541725234, "creation_date": 1541707159, "last_edit_date": 1541712310, "question_id": 53215266, "link": "https://stackoverflow.com/questions/53215266/is-a-block-in-objective-c-always-guaranteed-to-capture-a-variable", "title": "Is a block in Objective-C always guaranteed to capture a variable?", "body": "<p>Are there any conditions in Objective-C (Objective-C++) where the compiler can detect that a variable capture in a block is never used and thus decide to not capture the variable in the first place? </p>\n\n<p>For example, assume you have an <code>NSArray</code> that contains a large number of items which might take a long time to deallocate. You need to access the <code>NSArray</code> on the main thread, but once you're done with it, you're willing to deallocate it on a background queue. The background block only needs to capture the array and then immediately deallocate. It doesn't actually have to do anything with it. Can the compiler detect this and, \"erroneously\", skip the block capture altogether? </p>\n\n<p>Example:</p>\n\n<pre><code>// On the main thread...\nNSArray *outgoingRecords = self.records;\nself.records = incomingRecords;\n\ndispatch_async(background_queue, ^{\n  (void)outgoingRecords;\n\n  // After this do-nothing block exits, then outgoingRecords\n  // should be deallocated on this background_queue.  \n});\n</code></pre>\n\n<p>Am I guaranteed that <code>outgoingRecords</code> will always be captured in that block and that it will always be deallocated on the <code>background_queue</code>?</p>\n\n<p><strong>Edit #1</strong></p>\n\n<p>I'll add a bit more context to better illustrate my issue:</p>\n\n<p>I have an Objective-C++ class that contains a very large std::vector of immutable records. This could easily be 1+ million records. They are basic structs in a vector and accessed on the main thread to populate a table view. On a background thread, a different set of database records might be read into a separate vector, which could also be quite large. </p>\n\n<p>Once the background read has occurred, I jump over to the main thread to swap Objective-C objects and repopulate the table. </p>\n\n<p>At that point, I don't care at all about the contents of the older vector or its parent Objective-C class. There's no fancy destructors or object-graph to teardown, but deallocating hundreds of megabytes, maybe even gigabytes of memory is not instantaneous. So I'm willing to punt it off to a background_queue and have the memory deallocation occur there. In my tests, that appears to work fine and gives me a little bit more time on the main thread to do other stuff before 16ms elapses. </p>\n\n<p>I'm trying to understand if I can get away with simply capturing the object in an \"empty\" block or if I should do some sort of no-op operation (like call <code>count</code>) so that the compiler cannot optimize it away somehow. </p>\n\n<p><strong>Edit #2</strong></p>\n\n<p><em>(I originally tried to keep the question as simple as possible, but it seems like it's more nuanced then that. Based on Ken's answer below, I'll add another scenario.)</em></p>\n\n<p>Here's another scenario that doesn't use dispatch_queues but still uses blocks, which is the part I'm really interested in. </p>\n\n<pre><code>id&lt;MTLCommandBuffer&gt; commandBuffer = ...\n\n// A custom class that manages an MTLTexture that is backed by an IOSurface.\n__block MyTextureWrapper *wrapper = ... \n\n// Issue some Metal calls that use the texture inside the wrapper.\n\n// Wait for the buffer to complete, then release the wrapper.\n[commandBuffer addCompletedHandler:^(id&lt;MTLCommandBuffer&gt; cb) {\n  wrapper = nil;\n}];\n</code></pre>\n\n<p>In this scenario, the order of execution is guaranteed by Metal. Unlike the example above, in this scenario performance is not the issue. Rather, the IOSurface that is backing the <code>MTLTexture</code> is being recycled into a CVPixelBufferPool. The IOSurface is being shared between processes and, from what I can tell, <code>MTLTexture</code> does not appear to increase the useCount on the surface. My wrapper class does. When my wrapper class is deallocated, the useCount is decremented and the bufferPool is then free to recycling the IOSurface. </p>\n\n<p>This is all working as expected but I end up with silly code like above just out of uncertainty whether I need to \"use\" the wrapper instance in the block to ensure it's captured or not. If the wrapper is deallocated before the completion handler runs, then the IOSurface will be recycled and the texture will get overwritten. </p>\n"}, {"tags": ["objective-c", "macos", "metal", "metalkit"], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541703357, "creation_date": 1541703357, "question_id": 53214390, "link": "https://stackoverflow.com/questions/53214390/how-to-improve-mtkview-rendering-when-using-mpsimagescale-and-mtlblitcommandenco", "title": "How to improve MTKView rendering when using MPSImageScale and MTLBlitCommandEncoder", "body": "<p>TL;DR: From within my <code>MTKView</code>'s delegate <code>drawInMTKView:</code> method, part of my rendering pass involves adding an <code>MPSImageBilinearScale</code> performance shader and zero or more <code>MTLBlitCommandEncoder</code> requests for <code>generateMipmapsForTexture</code>. Is that a smart thing to do from within <code>drawInMTKView:</code>, which happens on the main thread? Do either of them block the main thread while running or are they only being encoded and then executed later and entirely on the GPU? </p>\n\n<p><strong>Longer Version:</strong></p>\n\n<p>I'm playing around with Metal within the context of an imaging application. I use Core Image to load an image and apply filters. The output image is displayed as a 2D plane in a metal view with a single texture. This works, but to improve performance I wanted to experiment with Core Image's ability to render out smaller tiles at a time. Each tile is rendered into its own <code>IOSurface</code>.</p>\n\n<p>On each render pass, I check if there are any tiles that have been recently rendered. For each rendered tile (which is now an <code>IOSurface</code>), I create a Metal texture from a <code>CVMetalTextureCache</code> that is backed by the surface. </p>\n\n<p>I think use a scaling <code>MPS</code> to copy from the tile-texture into the \"master\" texture. If a tile was copied over, then I issue a blit command to generate the mipmaps on the master texture. </p>\n\n<p>What I'm seeing is that if my master texture is quite large, then generate the mipmaps can take \"a bit of time\". The same is true if I have a lot of tiles. <em>It appears</em> this is blocking the main thread because my FPS drops significantly. (The <code>MTKView</code> is running at the standard 60fps.)</p>\n\n<p>If I play around with tile sizes, then I can improve performance in some areas but decrease it in others. For example, increasing the tile size that Core Image renders it creates less tiles, and thus less calls to generate mipmaps and blits, but at the cost of Core Image taking longer to render a region. </p>\n\n<p>If I decrease the size of my \"master\" texture, then mipmap generation goes faster since only the dirty textures are updates, but there appears to be a lower bounds on how small I should make the master texture because if I make it too small, then I need to pass in a large number of textures to the fragment shader. (And it looks like that limit might be 128?)</p>\n\n<p>What's not entirely clear to me is how much of this I can move off the main thread while still using MTKView. If part of the rendering pass is going to block the main thread, then I'd prefer to move it to a background through so that UI elements (like sliders and checkboxes) remain fully responsive. </p>\n\n<p>Or maybe this isn't the right strategy in the first place? Is there a better way to display really large images in Metal other than tiling? (i.e.: Images larger than Metal's texture size limit of 16384?)</p>\n"}, {"tags": ["objective-c", "nsattributedstring", "nsrange", "nsrangeexception"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541700878, "post_id": 53213683, "comment_id": 93315193, "body": "You need to compare <code>underlineRange</code> with <code>NSRange fullRange = NSMakeRange(0, mutableAttributedString.length)</code>. You can for instance use <code>NSUnionRange()</code> and check if the union is equal to <code>fullRange</code>."}], "answers": [{"tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 1, "last_activity_date": 1541709527, "last_edit_date": 1541709527, "creation_date": 1541700952, "answer_id": 53213819, "question_id": 53213683, "link": "https://stackoverflow.com/questions/53213683/nsattributedstring-check-if-nsrange-is-valid/53213819#53213819", "title": "NSAttributedString: check if NSRange is valid", "body": "<pre><code>NSRange underlineRange = ...;\n\nNSRange fullRange = NSMakeRange(0, mutableAttributedString.length);\nunderlineRange = NSIntersectionRange(underlineRange, fullRange);\nif (underlineRange.length == 0) {\n    // intersection is empty - underlineRange was entirely outside the string\n} else {\n    // underlineRange is now a valid range in mutableAttributedString\n}\n</code></pre>\n"}], "owner": {"reputation": 6395, "user_id": 145552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a359feb9da2dbfeb14aa644695fb61dc?s=128&d=identicon&r=PG", "display_name": "Z S", "link": "https://stackoverflow.com/users/145552/z-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 53213819, "answer_count": 1, "score": 1, "last_activity_date": 1541709527, "creation_date": 1541700376, "question_id": 53213683, "link": "https://stackoverflow.com/questions/53213683/nsattributedstring-check-if-nsrange-is-valid", "title": "NSAttributedString: check if NSRange is valid", "body": "<p>Given a NSRange and a NSAttributedString, what's the best way to verify that the range is valid, and won't exceed the bounds of the attributed string? </p>\n\n<p>I am trying to do this:</p>\n\n<pre><code>[mutableAttributedString enumerateAttribute:NSFontAttributeName inRange:underlineRange  options:NSAttributedStringEnumerationLongestEffectiveRangeNotRequired usingBlock:^(id  value, NSRange range, BOOL * _Nonnull stop) {\n....\n</code></pre>\n\n<p>However the <code>underlineRange</code> could be manipulated in a way that it falls outside the <code>mutableAttributedString</code> ranges. In that case, it ends up causing an exception.</p>\n\n<p>What's the best way to handle this case? I can't find any NSAttributedString method that lets you verify that a range is valid for a given attributed string.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1541684104, "post_id": 53208754, "comment_id": 93305538, "body": "create cells that wrap each unique view"}, {"owner": {"reputation": 6003, "user_id": 1012636, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/j898M.jpg?s=128&g=1", "display_name": "7heViking", "link": "https://stackoverflow.com/users/1012636/7heviking"}, "reply_to_user": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1541684524, "post_id": 53208754, "comment_id": 93305785, "body": "@Scriptable Do you have a good example of this?"}, {"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1541684557, "post_id": 53208754, "comment_id": 93305804, "body": "not to hand... its fairly easy to do, I&#39;ll give you a basic example.."}], "answers": [{"comments": [{"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 1, "creation_date": 1541684654, "post_id": 53208982, "comment_id": 93305861, "body": "It&#39;s generally not a good idea to it this way as you lose the reusability and caching that comes with the dequeueing system. by adding/removing views to a generic cell the only thing that is reused is an empty cell."}, {"owner": {"reputation": 2481, "user_id": 1392046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94e69a5649d13333302c0f4a5e9161a3?s=128&d=identicon&r=PG", "display_name": "Crazyrems", "link": "https://stackoverflow.com/users/1392046/crazyrems"}, "reply_to_user": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1541685111, "post_id": 53208982, "comment_id": 93306122, "body": "Of course the views itselves have to be managed properly, don&#39;t recreate them on the fly \ud83d\ude43"}], "tags": [], "owner": {"reputation": 2481, "user_id": 1392046, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94e69a5649d13333302c0f4a5e9161a3?s=128&d=identicon&r=PG", "display_name": "Crazyrems", "link": "https://stackoverflow.com/users/1392046/crazyrems"}, "is_accepted": false, "score": 0, "last_activity_date": 1541684578, "creation_date": 1541684578, "answer_id": 53208982, "question_id": 53208754, "link": "https://stackoverflow.com/questions/53208754/create-uicollectiionviewcell-based-on-uiview/53208982#53208982", "title": "Create UICollectiionViewCell based on UIView", "body": "<p>You have to return <code>UICollectionViewCell</code>s. <code>UICollectionView</code> don't accept <code>UIView</code>s.</p>\n\n<p>What you can do is create a generic <code>UICollectionViewCell</code> that can embed any <code>UIView</code>.\nThe reason is because collection view cells have specific composition for layout and recycling.</p>\n\n<p>Also, you add child in your <code>UIView</code> directly on the view itself, collection view cells have a <code>contentView</code>, like <code>UITableViewCell</code>s.</p>\n"}, {"comments": [{"owner": {"reputation": 6003, "user_id": 1012636, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/j898M.jpg?s=128&g=1", "display_name": "7heViking", "link": "https://stackoverflow.com/users/1012636/7heviking"}, "edited": false, "score": 0, "creation_date": 1541685350, "post_id": 53209125, "comment_id": 93306246, "body": "So the idea is to create a UICollectionViewCell and add the real content in a subview? It feels like cheating but i might be right :)"}, {"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "reply_to_user": {"reputation": 6003, "user_id": 1012636, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/j898M.jpg?s=128&g=1", "display_name": "7heViking", "link": "https://stackoverflow.com/users/1012636/7heviking"}, "edited": false, "score": 0, "creation_date": 1541685436, "post_id": 53209125, "comment_id": 93306293, "body": "pretty much yeah... but this way it&#39;s reusable in the collection view and will give better performance"}, {"owner": {"reputation": 6003, "user_id": 1012636, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/j898M.jpg?s=128&g=1", "display_name": "7heViking", "link": "https://stackoverflow.com/users/1012636/7heviking"}, "edited": false, "score": 0, "creation_date": 1541685457, "post_id": 53209125, "comment_id": 93306308, "body": "Thanks I will try this :)"}], "tags": [], "owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "is_accepted": true, "score": 1, "last_activity_date": 1541685105, "creation_date": 1541685105, "answer_id": 53209125, "question_id": 53208754, "link": "https://stackoverflow.com/questions/53208754/create-uicollectiionviewcell-based-on-uiview/53209125#53209125", "title": "Create UICollectiionViewCell based on UIView", "body": "<p>I don't have an objective-c example, but you should be able to get the concept from the code example below.</p>\n\n<p>An example how you can create a cell that wraps a UIView and is more reusable</p>\n\n<pre><code>class ProfileView: UIView {\n    var imageView: UIImageView!\n    var name: UILabel!\n}\n\nclass ProfileCollectionViewCell: UICollectionViewCell {\n\n     let profileView = ProfileView() \n\n     init() {\n         super.init()\n         configureConstraints()\n     }\n\n     func configureConstraints() {\n        // use a handy extension you've already built\n        contentView.addSubView(profileView)\n        profileView.pinToEdges(of: contentView)\n     }\n}\n\nfunc collectionView(_ collectionView: UICollectionView,\n                        cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell {\n    let row = self.objects[indexPath.row]\n    let cell = collectionView.dequeueReusableCell(withReuseIdentifier: \"someId\" for: indexPath) as? ProfileCollectionViewCell\n    cell?.profileView.imageView.image = row[\"image\"]\n    cell?.profileView.name.text = row[\"name\"]\n    return cell\n}\n</code></pre>\n\n<p>note: you may need to manage 'resetting the cells state' before it gets reused with something like:</p>\n\n<pre><code>override prepareForReuse() {\n    super.prepareForReuse() \n\n    profileView.imageView.image = nil\n    profileView.name.text = \"\"\n} \n</code></pre>\n"}], "owner": {"reputation": 6003, "user_id": 1012636, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/j898M.jpg?s=128&g=1", "display_name": "7heViking", "link": "https://stackoverflow.com/users/1012636/7heviking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 53209125, "answer_count": 2, "score": 0, "last_activity_date": 1541685105, "creation_date": 1541683797, "question_id": 53208754, "link": "https://stackoverflow.com/questions/53208754/create-uicollectiionviewcell-based-on-uiview", "title": "Create UICollectiionViewCell based on UIView", "body": "<p>I am trying to have a UICollectionView that holds different UIViews as its cells. Is this possible or do I have to make them UICollectionViewCells?       </p>\n"}, {"tags": ["ios", "objective-c", "video-watermarking"], "answers": [{"tags": [], "owner": {"reputation": 545, "user_id": 10407243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e020ba59400dc021ccf40d6ca51e191?s=128&d=identicon&r=PG&f=1", "display_name": "ivion", "link": "https://stackoverflow.com/users/10407243/ivion"}, "is_accepted": false, "score": 0, "last_activity_date": 1541696325, "last_edit_date": 1541696325, "creation_date": 1541695697, "answer_id": 53212419, "question_id": 53205149, "link": "https://stackoverflow.com/questions/53205149/how-to-add-watermark-to-any-oriented-video-in-ios/53212419#53212419", "title": "How to add watermark to any oriented video in iOS?", "body": "<p>I think it is an mistake in your calculation:</p>\n\n<p>Your watermark has landscape or watermark orientation.</p>\n\n<p>By calculating the width and height</p>\n\n<pre><code>layerCa.frame = CGRectMake(newX, newY, videosize.width*2, videosize.height*2);\n\nparentLayer.frame=CGRectMake(0, 0, videosize.width, videosize.height);\n</code></pre>\n\n<p>you are not preserving the original watermark ratio.</p>\n\n<p>In landscape you have to calculate an offset left and right to your frame to preserve the ratio.</p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 5347546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a791269976530ca2d1173010fe2ad952?s=128&d=identicon&r=PG&f=1", "display_name": "Subin", "link": "https://stackoverflow.com/users/5347546/subin"}, "is_accepted": false, "score": 0, "last_activity_date": 1541702822, "creation_date": 1541702822, "answer_id": 53214255, "question_id": 53205149, "link": "https://stackoverflow.com/questions/53205149/how-to-add-watermark-to-any-oriented-video-in-ios/53214255#53214255", "title": "How to add watermark to any oriented video in iOS?", "body": "<p>Before saving the file locally create a CATextLayer and attach it to the video. I believe this code will help you which I had written for one my application.</p>\n\n<pre><code>- (void)applyVideoEffectsToComposition:(AVMutableVideoComposition *)composition size:(CGSize)size\n{\n    NSArray *fieldsArray = overlayFieldsArray;\n    // 1 - Set up the text layer\n    CATextLayer *subtitle1Text = [[CATextLayer alloc] init];\n    subtitle1Text.wrapped=YES;\n    subtitle1Text.alignmentMode = kCAAlignmentLeft;\n    [subtitle1Text setFont:@\"Helvetica-Bold\"];\n    [subtitle1Text setFontSize:textSize];\n    [subtitle1Text setFrame:CGRectMake(0, 0, size.width, fieldsArray.count*textSize+20) ];\n\n\n    NSMutableString *layerText = [NSMutableString stringWithCapacity:0];\n\n    for(NSDictionary *fieldDictionary in fieldsArray){\n\n        [layerText appendFormat:@\" %@ :\",[[fieldDictionary allKeys] objectAtIndex:0]];\n\n        [layerText appendFormat:@\" %@ \\n\",[_candidateDictionary valueForKey:[[fieldDictionary allValues] objectAtIndex:0]]];\n    }\n\n\n    [subtitle1Text setString:layerText];\n\n    [subtitle1Text setForegroundColor:[[UIColor colorForText] CGColor]];\n\n    // 2 - The usual overlay\n    CALayer *overlayLayer = [CALayer layer];\n    overlayLayer.backgroundColor = [UIColor colorForLayer].CGColor;\n    overlayLayer.opacity=0.5f;\n    CGSize maximumSize = CGSizeMake(600, 600);\n    UIFont *myFont = [UIFont fontWithName:@\"Helvetica\" size:textSize];\n    CGSize layerTextSize = [layerText sizeWithFont:myFont\n                                 constrainedToSize:maximumSize\n                                     lineBreakMode:UILineBreakModeWordWrap];\n    overlayLayer.frame = CGRectMake(10, 0, layerTextSize.width*1.1, fieldsArray.count*textSize+20);\n    [overlayLayer setMasksToBounds:YES];\n\n    [overlayLayer addSublayer:subtitle1Text];\n\n    CALayer *parentLayer = [CALayer layer];\n\n    CALayer *videoLayer = [CALayer layer];\n    videoLayer.frame = CGRectMake(0, 0, size.width, size.height);\n    [parentLayer addSublayer:videoLayer];\n\n\n    parentLayer.frame = CGRectMake(10, 0, layerTextSize.width*1.1, fieldsArray.count*textSize+20);\n    [parentLayer addSublayer:overlayLayer];\n\n\n\n    composition.animationTool = [AVVideoCompositionCoreAnimationTool\n                                 videoCompositionCoreAnimationToolWithPostProcessingAsVideoLayer:videoLayer inLayer:parentLayer];\n\n}\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 6486893, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1033811113369962/picture?type=large", "display_name": "Saad", "link": "https://stackoverflow.com/users/6486893/saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541702822, "creation_date": 1541670515, "question_id": 53205149, "link": "https://stackoverflow.com/questions/53205149/how-to-add-watermark-to-any-oriented-video-in-ios", "title": "How to add watermark to any oriented video in iOS?", "body": "<p>I need to add watermark to video but different oriented videos. Below codes are working for me when i add watermark to portrait video, but this code is not working for landscape videos, watermark become stressed. </p>\n\n<pre><code> UIImage *myImage;\n myImage =[UIImage imageNamed:@\"twinbitWaterMark\"];\n CALayer *layerCa = [CALayer layer];\n layerCa.contents = (id)myImage.CGImage;\n\n float newX = videosize.width - imagesize.width;\nfloat newY = videosize.height - imagesize.height;\nlayerCa.frame = CGRectMake(newX, newY, videosize.width*2, videosize.height*2);\nlayerCa.opacity = 1.0;\n[layerCa setMasksToBounds:YES];\n\n CALayer *parentLayer=[CALayer layer];\nCALayer *videoLayer=[CALayer layer];\nparentLayer.frame=CGRectMake(0, 0, videosize.width, videosize.height);\n\nvideoLayer.frame=CGRectMake(0, 0, videosize.width, videosize.height);\n\n[parentLayer addSublayer:videoLayer];\n[parentLayer addSublayer:layerCa];\n\ncomposition.animationTool = [AVVideoCompositionCoreAnimationTool\n                             videoCompositionCoreAnimationToolWithPostProcessingAsVideoLayer:videoLayer inLayer:parentLayer];\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["ios", "objective-c", "avplayer"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541667585, "post_id": 53203741, "comment_id": 93296805, "body": "Check the <code>status</code> (<a href=\"https://developer.apple.com/documentation/avfoundation/avplayer/1388096-status?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/avfoundation/avplayer/&hellip;</a>), you might get a more explicit error. Also, did you allow the App Transport Security ? Is you video really compatible with <code>AVPlayer</code> (you can&#39;t play all video format)?"}, {"owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541672047, "post_id": 53203741, "comment_id": 93299278, "body": "@Larme ty for your comment. Video has mp4 format, its playing with big delay, but playing on iOS 12 (iPhone 7 128 gb). But on simulator - iPhone X iOS 11.4 has the same issue. I already allow App Transport Security and <code>status</code> show the same errors with one more - -1001 code error"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541672105, "post_id": 53203741, "comment_id": 93299310, "body": "And if you open that link into Safari?"}, {"owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1541675312, "post_id": 53203741, "comment_id": 93300961, "body": "@Larme on device where I can&#39;t play video - in Safari doesn&#39;t play (crossed play logo)"}, {"owner": {"reputation": 2541, "user_id": 345014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb4e603323274d3510473954390313b?s=128&d=identicon&r=PG", "display_name": "Peter Pajchl", "link": "https://stackoverflow.com/users/345014/peter-pajchl"}, "edited": false, "score": 0, "creation_date": 1542382755, "post_id": 53203741, "comment_id": 93560919, "body": "I am not familiar with the error but I would check the media - loading the video in a browser has following range request <code>0-27770619&#47;27770620</code> which means the client had to wait for download of the whole movie which is not optimal for streaming. I would check if the movie(s) are exported with <code>moov</code> atom shifted to the beginning of the mp4 file."}, {"owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "reply_to_user": {"reputation": 2541, "user_id": 345014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb4e603323274d3510473954390313b?s=128&d=identicon&r=PG", "display_name": "Peter Pajchl", "link": "https://stackoverflow.com/users/345014/peter-pajchl"}, "edited": false, "score": 0, "creation_date": 1542615167, "post_id": 53203741, "comment_id": 93617144, "body": "@PeterPajchl thanks for your comment! So, if I Understand right - Video doesnt start playback until it&#39;s full download... But on iOS 12 it&#39;s starts play after little slice is download... Can you told me more please"}, {"owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "reply_to_user": {"reputation": 2541, "user_id": 345014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb4e603323274d3510473954390313b?s=128&d=identicon&r=PG", "display_name": "Peter Pajchl", "link": "https://stackoverflow.com/users/345014/peter-pajchl"}, "edited": false, "score": 0, "creation_date": 1542615507, "post_id": 53203741, "comment_id": 93617260, "body": "@PeterPajchl also i discover that this issue only with video with length nearly 1 min and higher..."}, {"owner": {"reputation": 2541, "user_id": 345014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb4e603323274d3510473954390313b?s=128&d=identicon&r=PG", "display_name": "Peter Pajchl", "link": "https://stackoverflow.com/users/345014/peter-pajchl"}, "edited": false, "score": 0, "creation_date": 1542615913, "post_id": 53203741, "comment_id": 93617412, "body": "To be more clear - please check details of what the moov atom provides <a href=\"https://www.adobe.com/devnet/video/articles/mp4_movie_atom.html\" rel=\"nofollow noreferrer\">adobe.com/devnet/video/articles/mp4_movie_atom.html</a>. The atom can appear in at arbitrary place (often at the end) but without the information the client cannot start. Most packagers offer flag to move the atom to the beginning of the file to avoid this. I ca&#39;t confirm if this is causing the error though."}, {"owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "reply_to_user": {"reputation": 2541, "user_id": 345014, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cb4e603323274d3510473954390313b?s=128&d=identicon&r=PG", "display_name": "Peter Pajchl", "link": "https://stackoverflow.com/users/345014/peter-pajchl"}, "edited": false, "score": 0, "creation_date": 1542624407, "post_id": 53203741, "comment_id": 93621832, "body": "@PeterPajchl Thank you for your answer. I will check this!"}], "owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541665014, "creation_date": 1541665014, "question_id": 53203741, "link": "https://stackoverflow.com/questions/53203741/didnt-play-video-with-avplayer", "title": "Didn&#39;t play video with AVPLayer", "body": "<p>I use AVPlayer for playing video from URL. Below code that I use:</p>\n\n<pre><code>@implementation VideoPlayerController  {\n    IBOutlet UIWebView* webView;\n}\n\n-(void)viewDidLoad {\n    [super viewDidLoad];\n\n    self.navigationController.navigationBar.tintColor = [UIColor whiteColor];\n\n    NSString* urlString = [NSString stringWithFormat:@\"%@\", self.videoUrl];\n    NSURL *videoURL = [NSURL URLWithString:urlString];\n    [self startPlaybackForItemWithURL:videoURL];\n\n}\n\n-(void)startPlaybackForItemWithURL:(NSURL*)url {\n\n    // First create an AVPlayer\n    AVPlayer *player = [AVPlayer playerWithURL:url];\n    self.player = player;\n    // Begin playback\n    [player play];\n\n}\n\n- (void)viewWillDisappear:(BOOL)animated {\n    [super viewWillDisappear:YES];\n\n    [[UIDevice currentDevice] setValue:\n     [NSNumber numberWithInteger: UIInterfaceOrientationPortrait]\n                                forKey:@\"orientation\"];\n    [self.player pause];\n\n}\n\n@end\n</code></pre>\n\n<p>So on iOS 12 device video loading very long time, but after this is playing... But on some devices (on iOS 11.4, iPhone 7 32 Gb) there are some error:</p>\n\n<pre><code>Task &lt;7813A625-BBCF-4486-BC48-D6B066129F41&gt;.&lt;2&gt; finished with error - code: -999\nTask &lt;37ED66A3-0404-414D-969E-CB5E118BDE4B&gt;.&lt;1&gt; finished with error - code: -999\nTIC Read Status [40:0x0]: 1:57\nTask &lt;37ED66A3-0404-414D-969E-CB5E118BDE4B&gt;.&lt;1&gt; HTTP load failed (error code: 12 [1:12])\n</code></pre>\n\n<p>The example of video from media server that I must use to playing videos is <a href=\"https://krsk2019.ru/video/a/q5ctCuhICm\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I need help mb with code, or mb the video is bad for playing. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["ios", "objective-c", "uilocalnotification"], "comments": [{"owner": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "edited": false, "score": 0, "creation_date": 1541665415, "post_id": 53203015, "comment_id": 93295786, "body": "I think it&#39;s because app closes before your code running completed. Try prepare all stuff somewhere earlier and just call <code>addNotificationRequest</code> inside your method to boost execution time."}, {"owner": {"reputation": 899, "user_id": 877223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ae0d3fa1e01d79c6549fdc8eabff04?s=128&d=identicon&r=PG", "display_name": "Aleksey Shevchenko", "link": "https://stackoverflow.com/users/877223/aleksey-shevchenko"}, "reply_to_user": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "edited": false, "score": 0, "creation_date": 1541768783, "post_id": 53203015, "comment_id": 93339299, "body": "@MojtabaHosseini can you check my update?"}], "owner": {"reputation": 899, "user_id": 877223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ae0d3fa1e01d79c6549fdc8eabff04?s=128&d=identicon&r=PG", "display_name": "Aleksey Shevchenko", "link": "https://stackoverflow.com/users/877223/aleksey-shevchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541844070, "creation_date": 1541661527, "last_edit_date": 1541844070, "question_id": 53203015, "link": "https://stackoverflow.com/questions/53203015/local-notification-does-not-appear-after-second-close-of-app", "title": "Local notification does not appear after second close of app", "body": "<p>I need so show local notification right after user closes app (swipe up).</p>\n\n<p>For that purpose I have such code:</p>\n\n<pre><code>- (void)applicationWillTerminate:(UIApplication *)application {\n\n    [self showNotificationAboutClosingApp];\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>- (void) showNotificationAboutClosingApp {\n\n    UNMutableNotificationContent *content = [[UNMutableNotificationContent alloc] init];\n    content.title = @\"test title\";\n    content.body = @\"test body\";\n    content.sound = UNNotificationSound.defaultSound;\n\n    NSString *requestIdentifier = [[NSUUID UUID] UUIDString];\n    NSDate *fireDate = [NSDate dateWithTimeIntervalSinceNow:10.0];\n    NSDateComponents *components = [[NSCalendar calendarWithIdentifier:NSCalendarIdentifierGregorian] components:kCFCalendarUnitSecond fromDate:fireDate];\n    UNCalendarNotificationTrigger *trigger = [UNCalendarNotificationTrigger triggerWithDateMatchingComponents:components repeats:false];\n    UNNotificationRequest *request = [UNNotificationRequest requestWithIdentifier:requestIdentifier content:content trigger:trigger];\n\n    [[UNUserNotificationCenter currentNotificationCenter] addNotificationRequest:request withCompletionHandler:nil];\n}\n</code></pre>\n\n<p>There is strange behavior: \nFirst time I launch app, close it (swipe up) -> notification appears in 10 seconds. But after I reopen app and do the same, I mean close app through swipe up, there is no notification after 10 seconds. What I found - if I delete app from iPhone, turn off and turn on iPhone again, install app, close app through swipe up - notification appears.</p>\n\n<p>Any ideas what is wrong in my approach?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Following the advice of @MojtabaHosseini I led my code to this kind:</p>\n\n<pre><code>//This class is the place where I prepare all stuff.\n@objc class ClosingAppNotificationRequestProvider: NSObject {\n\n    @objc public static let shared = ClosingAppNotificationRequestProvider()\n    @objc public private(set) var closingAppNotificationRequest: UNNotificationRequest!\n    @objc public static var requestIdentifier: String {\n        get {\n            return UUID().uuidString\n        }\n    }\n\n    private override init() {}\n\n    @objc public func initialize() {\n\n        closingAppNotificationRequest = createClosingAppNotificationRequest()\n    }\n\n    private func createClosingAppNotificationRequest() -&gt; UNNotificationRequest {\n\n        let content = UNMutableNotificationContent()\n        content.title = \"some title\";\n        content.body = \"some body\";\n        content.sound = UNNotificationSound.default()\n        let trigger = UNTimeIntervalNotificationTrigger(timeInterval: 10, repeats: false)\n        let request = UNNotificationRequest(identifier: ClosingAppNotificationRequestProvider.requestIdentifier, content: content, trigger: trigger)\n\n        return request\n    }\n}\n</code></pre>\n\n<p>Then init request</p>\n\n<pre><code>-(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\n  [[ClosingAppNotificationRequestProvider shared] initialize];\n}\n</code></pre>\n\n<p>And when app terminates:</p>\n\n<pre><code>-(void)applicationWillTerminate:(UIApplication *)application {\n\n  UNNotificationRequest *closingAppNotificationRequest = [[ClosingAppNotificationRequestProvider shared] closingAppNotificationRequest];\n  [[UNUserNotificationCenter currentNotificationCenter] addNotificationRequest:closingAppNotificationRequest withCompletionHandler:nil];\n}\n</code></pre>\n\n<p>But indeed result the same.</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 8261, "user_id": 56581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/594bae9bad0d1c0952c1a9b0d427f445?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/56581/daniel"}, "edited": false, "score": 0, "creation_date": 1541658405, "post_id": 53202363, "comment_id": 93293203, "body": "The posted code does not show @objc tag on &#39;shared&#39; property or &#39;connect&#39; function. And there is no &#39;@objc public init()&#39;"}, {"owner": {"reputation": 206, "user_id": 5281431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJmsE.jpg?s=128&g=1", "display_name": "mrousavy", "link": "https://stackoverflow.com/users/5281431/mrousavy"}, "edited": false, "score": 0, "creation_date": 1614284250, "post_id": 53202363, "comment_id": 117346433, "body": "Facing the same issue rn, how did you &quot;import&quot; the Swift file in Objective-C++?"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 3239229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dU3p.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/3239229/jigar"}, "edited": false, "score": 0, "creation_date": 1541658867, "post_id": 53202410, "comment_id": 93293341, "body": "That I already did, but how to call a method using a static instance of class?"}, {"owner": {"reputation": 8261, "user_id": 56581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/594bae9bad0d1c0952c1a9b0d427f445?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/56581/daniel"}, "reply_to_user": {"reputation": 115, "user_id": 3239229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dU3p.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/3239229/jigar"}, "edited": false, "score": 0, "creation_date": 1541659428, "post_id": 53202410, "comment_id": 93293480, "body": "@harshal shows this in his updated answer: [DemoSDK getInstance]."}], "tags": [], "owner": {"reputation": 8261, "user_id": 56581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/594bae9bad0d1c0952c1a9b0d427f445?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/56581/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1541693680, "last_edit_date": 1541693680, "creation_date": 1541657929, "answer_id": 53202410, "question_id": 53202363, "link": "https://stackoverflow.com/questions/53202363/not-able-to-call-function-of-swift-from-objective-c-code/53202410#53202410", "title": "Not able to call function of swift from Objective-C++ code", "body": "<p>Mark all public classes, protocols, initializers, functions and properties with <code>@objc</code></p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 3239229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dU3p.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/3239229/jigar"}, "edited": false, "score": 0, "creation_date": 1541658616, "post_id": 53202442, "comment_id": 93293266, "body": "No known class method for selector &#39;getInstance&#39; . No known instance method for selector &#39;connect:&#39;"}, {"owner": {"reputation": 1027, "user_id": 7258827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRhbR.jpg?s=128&g=1", "display_name": "AppleCiderGuy", "link": "https://stackoverflow.com/users/7258827/appleciderguy"}, "reply_to_user": {"reputation": 115, "user_id": 3239229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dU3p.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/3239229/jigar"}, "edited": false, "score": 0, "creation_date": 1541659155, "post_id": 53202442, "comment_id": 93293419, "body": "i have edited my response. can you please take a look again ?"}], "tags": [], "owner": {"reputation": 1027, "user_id": 7258827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRhbR.jpg?s=128&g=1", "display_name": "AppleCiderGuy", "link": "https://stackoverflow.com/users/7258827/appleciderguy"}, "is_accepted": true, "score": 3, "last_activity_date": 1541659060, "last_edit_date": 1541659060, "creation_date": 1541658080, "answer_id": 53202442, "question_id": 53202363, "link": "https://stackoverflow.com/questions/53202363/not-able-to-call-function-of-swift-from-objective-c-code/53202442#53202442", "title": "Not able to call function of swift from Objective-C++ code", "body": "<p>Add getInstance Method in swift file:</p>\n\n<pre><code>@objc public class DemoSDK: NSObject {\n\nprivate static var shared = DemoSDK()\n\n@objc public static func getInstance() -&gt; DemoSDK {\n  return shared\n}\n\n@objc public func connect(delegate: DemoSDKDelegate?) {\n\n}\n\n}\n</code></pre>\n\n<hr>\n\n<p>obj-C code :</p>\n\n<pre><code>[[DemoSDK getInstance] connect: self];\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 3239229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6dU3p.jpg?s=128&g=1", "display_name": "Jigar", "link": "https://stackoverflow.com/users/3239229/jigar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 53202442, "answer_count": 2, "score": 0, "last_activity_date": 1541693680, "creation_date": 1541657628, "last_edit_date": 1541658122, "question_id": 53202363, "link": "https://stackoverflow.com/questions/53202363/not-able-to-call-function-of-swift-from-objective-c-code", "title": "Not able to call function of swift from Objective-C++ code", "body": "<p>In Swift, my class is something looks like below</p>\n\n<pre><code>@objc public class DemoSDK: NSObject {\n\npublic static var shared = DemoSDK()\n\npublic func connect(delegate: DemoSDKDelegate?) {\n}\n}\n</code></pre>\n\n<p>I call a method from the swift like below (I am trying to write an equivalent objective-c++ code of below line)</p>\n\n<pre><code>DemoSDK.shared.connect(delegate: self)\n</code></pre>\n\n<p>How can I call swift file function from objective-c++ code?\n<strong>I already imported header and all related classes into objective-c++ class, also all the required class and methods are marked with @objc</strong></p>\n\n<p><em>(Note: class in swift do not have constructor or initializer)</em></p>\n\n<pre><code>DemoSDK *obj = [[DemoSDK alloc] init]; // Error 'init' is unavailable \n</code></pre>\n"}]