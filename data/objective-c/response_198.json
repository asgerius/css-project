[{"tags": ["objective-c", "macos", "cocoa", "avfoundation", "avassetimagegenerator"], "answers": [{"tags": [], "owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "is_accepted": true, "score": 0, "last_activity_date": 1540558624, "creation_date": 1540558624, "answer_id": 53009279, "question_id": 52979497, "link": "https://stackoverflow.com/questions/52979497/avassetimagegenerator-copycgimageattimeactualtimeerror-generates-8-bit-images/53009279#53009279", "title": "AVAssetImageGenerator copyCGImageAtTime:actualTime:error: generates 8-bit images from 10-bit video", "body": "<p>Due to lack of any information about this, I've given up on <code>AVAssetImageGenerator</code> and went with embedding <code>ffmpeg</code> in my app and invoking that to extract 10-bit frames.</p>\n"}], "owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 53009279, "answer_count": 1, "score": 2, "last_activity_date": 1540558624, "creation_date": 1540425499, "question_id": 52979497, "link": "https://stackoverflow.com/questions/52979497/avassetimagegenerator-copycgimageattimeactualtimeerror-generates-8-bit-images", "title": "AVAssetImageGenerator copyCGImageAtTime:actualTime:error: generates 8-bit images from 10-bit video", "body": "<p>I've got a 10-bit video on my Mac that I want to extract frames <strong>in full 10-bit/channel</strong> data. I load my asset, and verify that it's 10-bit:</p>\n\n<pre><code>CMFormatDescriptionRef formatDescriptions = (__bridge CMFormatDescriptionRef)(track.formatDescriptions[0]);\nfloat frameRate = track.nominalFrameRate;     \nint bitDepth = ((NSNumber*)CMFormatDescriptionGetExtension(formatDescriptions, (__bridge CFStringRef)@\"BitsPerComponent\")).intValue;\n</code></pre>\n\n<p><code>bitDepth</code> is 8 for many videos, but 10 for this video (that I <em>know</em> that I recorded in 10-bit anyway), so <code>AVFoundation</code> recognizes the channel bit depth correctly.</p>\n\n<p>However, I want to generate single frames from the video using <code>AVAssetImageGenerator</code>'s <code>copyCGImageAtTime:actualTime:error:</code> method:</p>\n\n<pre><code>NSError *err;\nNSImage *img = [[NSImage alloc] initWithCGImage:[imageGenerator copyCGImageAtTime:time actualTime:NULL error:&amp;err] size:dimensions];\n</code></pre>\n\n<p>The image is generated successfully with no errors, but when I check it I see that it's 8 bits/channel:</p>\n\n<pre><code>(lldb) po img\n&lt;NSImage 0x600001793f80 Size={3840, 2160} Reps=(\n    \"&lt;NSCGImageSnapshotRep:0x6000017a5a40 cgImage=&lt;CGImage 0x100520800&gt; \n    (DP)\\n\\t&lt;&lt;CGColorSpace 0x60000261ae80&gt; (kCGColorSpaceICCBased; \n      kCGColorSpaceModelRGB; Composite NTSC)&gt;\\n\\t\\twidth = 3840, height = 2160,\n      bpc = 8, bpp = 32, row bytes = 15360 \n      \\n\\t\\tkCGImageAlphaPremultipliedFirst | kCGImageByteOrder32Big  |\n      kCGImagePixelFormatPacked \\n\\t\\tis mask? No, has masking color? No, \n      has soft mask? No, has matte? No, should interpolate? Yes&gt;\"\n)&gt;\n</code></pre>\n\n<p>How do I generate full, lossless 10-bit (or, for compatibility, 16-bit or 32-bit) frames from a 10-bit video?</p>\n\n<p>I'm on macOS 10.14.</p>\n"}, {"tags": ["objective-c", "null"], "comments": [{"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 1, "creation_date": 1540436447, "post_id": 52978809, "comment_id": 92867711, "body": "<code>nil</code> is nothing &amp; you cannot check the value of <code>nothing</code>, in contrast <code>NSNull</code> is literally an object &amp; its value is <code>nil</code>."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1540444780, "creation_date": 1540444780, "answer_id": 52981805, "question_id": 52978809, "link": "https://stackoverflow.com/questions/52978809/check-object-if-its-equal-to-nil-or-to-nsnull-null/52981805#52981805", "title": "Check object if it&#39;s equal to nil or to [NSNull null]", "body": "<p>If you want to make sure <code>object</code> isn't <code>nil</code> and it isn't <code>NSNull null</code> then do:</p>\n\n<pre><code>if (object &amp;&amp; object != [NSNull null]) {\n    // do something with object\n} // else it's either nil or NSNull null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": true, "score": 1, "last_activity_date": 1540447836, "creation_date": 1540447836, "answer_id": 52982423, "question_id": 52978809, "link": "https://stackoverflow.com/questions/52978809/check-object-if-its-equal-to-nil-or-to-nsnull-null/52982423#52982423", "title": "Check object if it&#39;s equal to nil or to [NSNull null]", "body": "<p>As others have pointed out, <code>object != nil &amp;&amp; object != NSNull.null</code> would give you the expected behaviour, however it might be tedious and error prone to write this pair of conditions every time.</p>\n\n<p>Alternatively you can use inverted logic, by adding an <code>nonNullValue</code> method to virtually almost all objects in the system:</p>\n\n<pre><code>// in some header file\n@interface NSObject(NullExtension)\n- (instancetype)nonNullValue;\n@end\n\n// in some implementation file    \n@implementation NSObject(NullExtension)\n\n// regular objects are not null (right?)\n- (instancetype)nonNullValue {\n    return self;\n}\n@end\n\n@implementation NSNull(NullExtension)\n\n// let's make NSNull report as being null\n- (instancetype)nonNullValue {\n    return nil;\n}\n@end\n\n// adding this just for the sake of completeness, it's highly unlikely\n// that JSON's will decode NSProxy instances\n@implementation NSProxy(NullExtension)\n\n- (instancetype)nonNullValue {\n    return self;\n}\n@end\n</code></pre>\n\n<p>you can then simply use it on your pointers:</p>\n\n<pre><code>// since we're in Objective-C, a nil pointer will always fail the check\n// and thanks to the NSNull extension, NSNull instances will behave the same\nif ([object nonNullValue] != nil) {\n    // NSNull won't get here\n    // nils won't get here\n    // other objects will get here\n}\n</code></pre>\n\n<p>This approach is a little bit invasive as it touches all <code>NSObject</code> subclasses, however it eliminates the need of writing multiple conditions.</p>\n"}, {"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1540482631, "post_id": 52983570, "comment_id": 92891837, "body": "<code>nil</code> is simply a pointer that points to no object. It it no <i>&quot;an empty object  that has completely disappeared from memory&quot;</i>."}, {"owner": {"reputation": 74, "user_id": 8607487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJNmD.jpg?s=128&g=1", "display_name": "JackySong", "link": "https://stackoverflow.com/users/8607487/jackysong"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540520343, "post_id": 52983570, "comment_id": 92905484, "body": "Yeah, I use NSLog(@&quot;nil=== %p&quot;,nil); NSLog(@&quot;null==== =%p&quot;,[NSNull null]) is printed on the console, resulting in nil====0x0, null====0x1022c2f08."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1575527938, "post_id": 52983570, "comment_id": 104598535, "body": "I downvoted this due to the &quot;nil is an empty object that has completely disappeared from memory&quot;, as others have pointed out this affirmation is incorrect . Once that part gets rephrased I will gladly retract my downvote."}], "tags": [], "owner": {"reputation": 74, "user_id": 8607487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJNmD.jpg?s=128&g=1", "display_name": "JackySong", "link": "https://stackoverflow.com/users/8607487/jackysong"}, "is_accepted": false, "score": 1, "last_activity_date": 1540452127, "creation_date": 1540452127, "answer_id": 52983570, "question_id": 52978809, "link": "https://stackoverflow.com/questions/52978809/check-object-if-its-equal-to-nil-or-to-nsnull-null/52983570#52983570", "title": "Check object if it&#39;s equal to nil or to [NSNull null]", "body": "<p>The difference between [NSNull null] and nil is that nil is an empty object that has completely disappeared from memory, and we use [NSNull null] when we want to express the idea that \"we need a container that has nothing in it,\" which is \"an object whose value is null.\" If you look up the development documentation you'll see that the class NSNull inherits NSObject and has only one \"+ (NSNull *) null;\" Class methods. This means that the NSNull object has a valid memory address, so any reference to it in the program will not cause the program to crash.</p>\n"}], "owner": {"reputation": 224, "user_id": 6667477, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/669346909896606/picture?type=large", "display_name": "Pavel  Bogart", "link": "https://stackoverflow.com/users/6667477/pavel-bogart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 52982423, "answer_count": 3, "score": 1, "last_activity_date": 1540452127, "creation_date": 1540420389, "last_edit_date": 1540421455, "question_id": 52978809, "link": "https://stackoverflow.com/questions/52978809/check-object-if-its-equal-to-nil-or-to-nsnull-null", "title": "Check object if it&#39;s equal to nil or to [NSNull null]", "body": "<p>if object set to nil and I want to check for its value.</p>\n\n<pre><code>if object != nil {\n  // do something\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if object != [NSNull null] {\n  // do something\n}\n</code></pre>\n\n<p>I guess the second condition will be triggered but I am not sure why.</p>\n\n<p>Can someone explain please?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "macos", "vpn"], "comments": [{"owner": {"reputation": 124, "user_id": 11004868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a0afcf49cece109582490be034569e?s=128&d=identicon&r=PG&f=1", "display_name": "jarvis12", "link": "https://stackoverflow.com/users/11004868/jarvis12"}, "edited": false, "score": 0, "creation_date": 1552914916, "post_id": 52978730, "comment_id": 97179263, "body": "have you fixed this issue ?"}, {"owner": {"reputation": 189, "user_id": 12218638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cIutA-rEFtA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZjBZu3gyrcKcvoMgpZy4JfKw7Cw/photo.jpg?sz=128", "display_name": "Bartu Akman", "link": "https://stackoverflow.com/users/12218638/bartu-akman"}, "reply_to_user": {"reputation": 124, "user_id": 11004868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9a0afcf49cece109582490be034569e?s=128&d=identicon&r=PG&f=1", "display_name": "jarvis12", "link": "https://stackoverflow.com/users/11004868/jarvis12"}, "edited": false, "score": 0, "creation_date": 1579852122, "post_id": 52978730, "comment_id": 105912249, "body": "@jarvis12 any answer  do u have ? I have same issue."}], "answers": [{"tags": [], "owner": {"reputation": 599, "user_id": 7561086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3SASY.jpg?s=128&g=1", "display_name": "Jordan Johnson", "link": "https://stackoverflow.com/users/7561086/jordan-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1540471696, "creation_date": 1540471696, "answer_id": 52989670, "question_id": 52978730, "link": "https://stackoverflow.com/questions/52978730/macos-vpn-error-no-shared-secret-was-provided-objective-c/52989670#52989670", "title": "MacOS VPN Error NO Shared Secret was Provided Objective-C", "body": "<p>Looks like <code>KeyChainHelper</code> is a wrapper for accessing the keychain. It isn't clear exactly what the <code>KeyChainHelper::load()</code> method returns, but my guess is either a <em>standard</em> reference or data.</p>\n\n<p><code>NEVPNProtocolIPSec::sharedSecretReference</code> is defined as:</p>\n\n<blockquote>\n  <p>A persistent keychain reference to a keychain item containing the IKE shared secret.</p>\n</blockquote>\n\n<p>You need to create a keychain item of type <code>kSecClassGenericPassword</code> to use as the shared secret, and provide a <strong><em>persistent reference</em></strong> to the keychain item. A persistent reference is critical here, as it can be stored to disk or passed between processes, which is required for <code>NEVPNManager</code> to access the shared secret and connect your VPN. Likewise for passwordReference.</p>\n\n<p>You will need to use <code>SecItemCopyMatching</code> with return type <code>kSecReturnPersistentRef</code> to achieve this. Your <code>KeyChainHelper</code> class may provide a method to return the persistent reference.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3236289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540471696, "creation_date": 1540419871, "question_id": 52978730, "link": "https://stackoverflow.com/questions/52978730/macos-vpn-error-no-shared-secret-was-provided-objective-c", "title": "MacOS VPN Error NO Shared Secret was Provided Objective-C", "body": "<p>I Face a big problem,I made a VPN for IOS Devices,it is on the appstore,it is working nicely,However i face problem with macos application,I use same codes.Same codes work for IOS Devices however they dont work for MacOS application.</p>\n\n<p>The Problem says ;\nNo VPN shared secret was provided. Verify your settings and try reconnecting.</p>\n\n<p>When i try to connect to vpn.</p>\n\n<p>Code that i use for connect vpn</p>\n\n<pre><code>    [[NEVPNManager sharedManager] loadFromPreferencesWithCompletionHandler: ^(NSError *error) {\n\n    NEVPNProtocolIPSec *p = [[NEVPNProtocolIPSec alloc] init];\n    p.serverAddress =ipAddress;\n    p.authenticationMethod = NEVPNIKEAuthenticationMethodSharedSecret;\n    NSLog(@\"vpn connecting to ip %@\",ipAddress);\n\n\n    p.username=@\"vpnuser\";\n    p.sharedSecretReference = [KeyChainHelper load:sharedSecret];\n    p.passwordReference = [KeyChainHelper load:password];\n   // NSData * data = [self searchKeychainCopyMatching:sharedSecret];\n\n    p.disconnectOnSleep = NO;\n\n\n\n\n    [NEVPNManager sharedManager].protocolConfiguration=p;\n\n    NSMutableArray *rules = [[NSMutableArray alloc] init];\n    NEOnDemandRuleConnect *connectRule = [NEOnDemandRuleConnect new];\n    [rules addObject:connectRule];\n    [[NEVPNManager sharedManager] setOnDemandRules:rules];\n    [[NEVPNManager sharedManager] setLocalizedDescription:@\"VPN Fire\"];\n\n\n    [[NEVPNManager sharedManager] setEnabled:YES];\n\n\n    [[NEVPNManager sharedManager] saveToPreferencesWithCompletionHandler: ^(NSError *error) {\n\n        NSLog(@\"Save VPN to preference complete\");\n        if (error) {\n            NSLog(@\"Save error: %@\", error);\n        }\n\n        NSError *startError;\n        [[NEVPNManager sharedManager].connection startVPNTunnelAndReturnError:&amp;startError];\n\n        delayStart(5)\n        NSLog(@\"%@\",[NEVPNManager sharedManager]);\n         NSLog(@\"%@\",[NEVPNManager sharedManager]);\n        delayEnd\n\n\n        if(startError) {\n            NSLog(@\"Start error: %@\", startError.localizedDescription);\n        }\n\n    }];\n\n\n\n}];\n</code></pre>\n\n<p>Here i put some screenshoots;</p>\n\n<p><a href=\"https://i.stack.imgur.com/CvBuV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CvBuV.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0QHZm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0QHZm.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mfcZX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mfcZX.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/dtW17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dtW17.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "swift", "memory-leaks", "closures", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1540414989, "post_id": 52977401, "comment_id": 92862273, "body": "Is this a Swift or Objective-C question and if you&#39;re trying to emphasise those all capital words there are better ways like <i>italic</i> or <b>bold</b>, see <a href=\"https://stackoverflow.com/help/formatting\">stackoverflow.com/help/formatting</a>"}, {"owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "reply_to_user": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 0, "creation_date": 1540416769, "post_id": 52977401, "comment_id": 92862917, "body": "For both languages.   This is merely an abstract question. Makes sense; normally I would have done that.  Done."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1540419949, "post_id": 52977401, "comment_id": 92863885, "body": "In ObjC, <code>weak</code> references are only valid for as long as the object remains viable.  That may be through the end of scope or it may not.   If you do <code>weakVar = [[NSObject alloc] init];</code> the object will be immediately deallocated and the compiler will warn, for example."}, {"owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "edited": false, "score": 0, "creation_date": 1540453559, "post_id": 52977401, "comment_id": 92873608, "body": "So a weak reference could be deallocated at any time, should the system needs to claim the storage; and hence the use of strong reference."}], "answers": [{"comments": [{"owner": {"reputation": 23627, "user_id": 5175709, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LGmTA.png?s=128&g=1", "display_name": "Honey", "link": "https://stackoverflow.com/users/5175709/honey"}, "edited": false, "score": 0, "creation_date": 1540427721, "post_id": 52979058, "comment_id": 92865829, "body": "<i>will make the future readers of this code worry that the authors didn&#39;t have a firm understanding of their own code</i> that or if it&#39;s a junior developer he/she might just think this is a must. The end result would be an incorrect paradigm shift!"}], "tags": [], "owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "is_accepted": false, "score": 2, "last_activity_date": 1540422124, "creation_date": 1540422124, "answer_id": 52979058, "question_id": 52977401, "link": "https://stackoverflow.com/questions/52977401/what-is-the-life-span-of-a-weak-vs-strong-object-reference/52979058#52979058", "title": "What is the life span of a weak (vs strong) object reference?", "body": "<blockquote>\n  <p>one organization has a policy of keeping blocks/closure 'weak' by\n  default to avoid accidental retain cycles.</p>\n</blockquote>\n\n<p>Probably, the organization has a policy of keeping <em>references captured by blocks</em> 'weak' to avoid retain cycles.  The blocks themselves, kept as properties, are copied.</p>\n\n<p>There's a very specific circumstance where a block causes a retain cycle: the block refers to an object (self, or some other object) and that object (directly or indirectly) retains the block.</p>\n\n<p>Most of the time, we know through examination what object will be retaining a block. Say that's \"objectA\".  The retain cycle question is: do any of the objects referred to in the block directly or indirectly retain \"objectA\"?  Those objects, <strong>and no others</strong>, must be declared weak for use within the block.</p>\n\n<p>Declaring them all weak all the time will do the job, but, IMO, will make the future readers of this code worry that the authors didn't have a firm understanding of their own code.</p>\n"}], "owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540427498, "creation_date": 1540412555, "last_edit_date": 1540427498, "question_id": 52977401, "link": "https://stackoverflow.com/questions/52977401/what-is-the-life-span-of-a-weak-vs-strong-object-reference", "title": "What is the life span of a weak (vs strong) object reference?", "body": "<p>It just occurred to me... \nThat I believe that the <strong>life</strong> of a weak reference is tied to the scope of that reference (within function or global).\n<p>\nSo I wonder, as long as I keep the processing of data within a particular scope, then I should be okay with using <strong>weak</strong> vs <strong>strong</strong> references.   Correct?\n<p>\nThe reason I'm asking... is that I was told that one organization has a policy of keeping blocks/closure 'weak' by default to avoid accidental retain cycles.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 45631, "user_id": 5623035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVGWt.jpg?s=128&g=1", "display_name": "Mojtaba Hosseini", "link": "https://stackoverflow.com/users/5623035/mojtaba-hosseini"}, "is_accepted": false, "score": 0, "last_activity_date": 1560552059, "last_edit_date": 1560552059, "creation_date": 1540409471, "answer_id": 52976629, "question_id": 52976513, "link": "https://stackoverflow.com/questions/52976513/objective-c-present-view-controller-with-its-navigation-controller/52976629#52976629", "title": "Objective-C Present View Controller with its Navigation Controller", "body": "<p>You <code>init</code> none of your controllers from storyboard! Those buttons belongs to <code>file</code> view controller. You should <code>init</code> that controller from <strong>storyboard</strong> instead of call <code>init</code>.</p>\n\n<pre><code>MyViewController *vc = [[self storyboard] instantiateViewControllerWithIdentifier: @\"MyViewControllerStoryBoardID\"];\n\nUINavigationController *navBar = [[UINavigationController alloc]initWithRootViewController:vc];\n\n[self presentViewController:navBar animated:YES completion:nil];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1746, "user_id": 1208191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OimI5.jpg?s=128&g=1", "display_name": "Sunil Chauhan", "link": "https://stackoverflow.com/users/1208191/sunil-chauhan"}, "is_accepted": true, "score": 2, "last_activity_date": 1540409580, "creation_date": 1540409580, "answer_id": 52976652, "question_id": 52976513, "link": "https://stackoverflow.com/questions/52976513/objective-c-present-view-controller-with-its-navigation-controller/52976652#52976652", "title": "Objective-C Present View Controller with its Navigation Controller", "body": "<p>Try instantiating your view controller with the storyboard. Something like:</p>\n\n<pre><code>UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"YourStoryboardName\" bundle:nil];\nLHPDFFile *vc = (LHPDFFile *)[storyboard instantiateViewControllerWithIdentifier:@\"&lt;id of your view controller in the storyboard&gt;\"];\n</code></pre>\n\n<p>Calling the empty <code>init</code> method leads to empty instantiation of the view, because you have never mentioned that it should use this storyboard's this view controller. More details <a href=\"https://www.raywenderlich.com/464-storyboards-tutorial-for-ios-part-1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 0, "accepted_answer_id": 52976652, "answer_count": 2, "score": 0, "last_activity_date": 1560552059, "creation_date": 1540408937, "question_id": 52976513, "link": "https://stackoverflow.com/questions/52976513/objective-c-present-view-controller-with-its-navigation-controller", "title": "Objective-C Present View Controller with its Navigation Controller", "body": "<p>I have a view controller like in the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m3pKF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m3pKF.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I am trying to present this view controller from another view controller like so:</p>\n\n<pre><code>LHPDFFile *vc = [[LHPDFFile alloc] init];\n\nvc.previewItemURL = self-&gt;_previewItemURL;\n\nUINavigationController *navBar=[[UINavigationController alloc]initWithRootViewController:vc];\n\n[self presentViewController:navBar animated:YES completion:nil];\n</code></pre>\n\n<p>This works, however my buttons are not appearing :(</p>\n\n<p>It appears that the code above is creating a Navigation Controller instead of using mine with the buttons. What am I doing wrong?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 2, "creation_date": 1540410472, "post_id": 52975420, "comment_id": 92860261, "body": "It sure looks a lot like the dictionary value is an NSNumber, not an NSString.  Can you see what happens with this <code>NSNumber *num = (__bridge NSNumber*)latitude;</code> then just log that and skip the formatter logic?"}, {"owner": {"reputation": 531, "user_id": 197199, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4039e926c02bb29ff0527c0212cc8ed7?s=128&d=identicon&r=PG", "display_name": "Indoor", "link": "https://stackoverflow.com/users/197199/indoor"}, "reply_to_user": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1540489598, "post_id": 52975420, "comment_id": 92895482, "body": "@danh yes, casting to NSNumber works, thank you. But it&#39;s hard to believe no one ever discovered <code>kCGImagePropertyGPSLatitude</code> is actually a number and not a string as documented. The image comes from iPhone, and its dictionary was written by iOS."}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1540489755, "post_id": 52975420, "comment_id": 92895564, "body": "Yeah, I don&#39;t understand that either.  That&#39;s why I commented rather than answering.  What happens when you do this: <code>id value = (__bridge id)latitude;</code> then log <code>[value class]</code>?"}, {"owner": {"reputation": 531, "user_id": 197199, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4039e926c02bb29ff0527c0212cc8ed7?s=128&d=identicon&r=PG", "display_name": "Indoor", "link": "https://stackoverflow.com/users/197199/indoor"}, "reply_to_user": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1540490081, "post_id": 52975420, "comment_id": 92895728, "body": "It logs <code>__NSCFNumber</code>"}, {"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1540490336, "post_id": 52975420, "comment_id": 92895851, "body": "Yes, weird. Also, that does make more sense for the type of a latitude value, doesn\u2019t it? And yet, you probably did the same thing I did: look at the docs, see the string type, rub your eyes and look again."}, {"owner": {"reputation": 531, "user_id": 197199, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4039e926c02bb29ff0527c0212cc8ed7?s=128&d=identicon&r=PG", "display_name": "Indoor", "link": "https://stackoverflow.com/users/197199/indoor"}, "reply_to_user": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1540490770, "post_id": 52975420, "comment_id": 92896042, "body": "I&#39;m still thinking I must be doing something wrong :) I don&#39;t understand how it went unnoticed if it was like that from the beginning. But if I&#39;m not the only one who see it, I&#39;ll report it to Apple and see what they&#39;ll say."}, {"owner": {"reputation": 531, "user_id": 197199, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4039e926c02bb29ff0527c0212cc8ed7?s=128&d=identicon&r=PG", "display_name": "Indoor", "link": "https://stackoverflow.com/users/197199/indoor"}, "reply_to_user": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1540492555, "post_id": 52975420, "comment_id": 92896899, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182524/discussion-between-indoor-and-danh\">continue this discussion in chat</a>."}], "owner": {"reputation": 531, "user_id": 197199, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4039e926c02bb29ff0527c0212cc8ed7?s=128&d=identicon&r=PG", "display_name": "Indoor", "link": "https://stackoverflow.com/users/197199/indoor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540404371, "creation_date": 1540404371, "question_id": 52975420, "link": "https://stackoverflow.com/questions/52975420/nsnumberformatter-numberfromstring-and-kcgimagepropertygpslatitude-give-an-erro", "title": "NSNumberFormatter numberFromString: and kCGImagePropertyGPSLatitude give an error of unrecognized selector", "body": "<p>I'm trying to get a latitude information from an image. According to docs <code>kCGImagePropertyGPSLatitude</code> returns <code>CFStringRef</code> type. But when I try to convert it to a number using <code>numberFromString:</code> it gives an error at runtime:</p>\n\n<blockquote>\n  <p>-[__NSCFNumber isEqualToString:]: unrecognized selector sent to instance 0x6000002261e0</p>\n</blockquote>\n\n<pre><code>CFStringRef latitude;\n\nif (CFDictionaryGetValueIfPresent(gpsDict, kCGImagePropertyGPSLatitude, (const void **)&amp;latitude))\n{\n    NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];\n    formatter.numberStyle = NSNumberFormatterDecimalStyle;\n    NSString *str = (__bridge NSString*)latitude;\n    NSLog(@\"str %@\", str);\n    NSNumber *number = [formatter numberFromString:str]; &lt;-- error here\n    ...\n}\n</code></pre>\n\n<p><code>latitude</code> and <code>str</code> exist and can be logged as <code>42.37637833333334</code>. </p>\n\n<p>If I create a string myself (<code>str = @\"42.37637833333334\"</code>) then NSNumberFormatter works as expected. For some reason it doesn't like the original latitude string. </p>\n\n<p>What's going on here, why this error?</p>\n"}, {"tags": ["python", "objective-c", "swift", "macos"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1540508800, "creation_date": 1540508800, "answer_id": 52999289, "question_id": 52975137, "link": "https://stackoverflow.com/questions/52975137/swift-task-open-file-descriptor-of-pipe/52999289#52999289", "title": "Swift task open file descriptor of pipe", "body": "<blockquote>\n  <p>Why can't python open the file descriptor I created in Swift?</p>\n</blockquote>\n\n<p>Short answer (fudging a little): because the file descriptor is a <em>process local</em> identifier which is used by the OS to link to the open file information it keeps for process. You cannot copy them between processes.</p>\n\n<p>Long answer:</p>\n\n<p>In macOS/Unix/Linux (*nix) a <em>file descriptor</em> is just a process-local value which is used by the OS to link to the appropriate open file information within the OS. Different processes can have exactly the same file descriptor values which identify completely different files. Therefore you cannot simply copy a file descriptor value between processes.</p>\n\n<p>In *nix a child process inherits the open files, and their associated descriptors, from its parent. This is the only way file descriptors get passed between processes. In outline the steps are:</p>\n\n<ol>\n<li>The parent process <em>forks</em>, creating a clone of itself</li>\n<li>The clone then closes any files the child should not access (usually all of them except the standard input, output and error files).</li>\n<li>If the parent has pre-opened files that should be the child's standard input, output or error the clone then reassigns the file descriptors for those files to the standard file descriptors for standard input, output and error.</li>\n<li>After all this file descriptor work is done the clone then replaces its code with the code the child needs to run - this keeps the open files and file descriptors.</li>\n<li>The child code now executes unaware of all this setup.</li>\n</ol>\n\n<p>In Swift all the above is handled by <code>Process</code>, in <code>Terminal</code> it is handled by the shell which uses it to set up file redirection, pipes etc.</p>\n\n<p>To get your pipe to your Python process you can (a) use the <code>Process</code> methods to attach it to the spawned processes standard input or output; (b) create a <em>named pipe</em>, that is one with a file path, and pass the file path to your python to open; or (c) go low-level and write some interfacing C code which does the <code>fork</code>/<code>dup(2)</code>/<code>exec</code> calls and starts up your python code with the pipe on a known descriptor other than standard input or output.</p>\n\n<p>(a) is easiest! (b) requires you to do some research on named pipes, its not hard but you'll need work with sandboxing if its enabled and create the pipe in a directory both process can access. (c) is best avoided.</p>\n\n<p>Have fun, and if you get stuck ask a new question showing what you've tried, where it goes wrong, etc. and someone will undoubtedly help you along.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 3650, "user_id": 822052, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3VAQv.jpg?s=128&g=1", "display_name": "gorootde", "link": "https://stackoverflow.com/users/822052/gorootde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540508800, "creation_date": 1540403242, "question_id": 52975137, "link": "https://stackoverflow.com/questions/52975137/swift-task-open-file-descriptor-of-pipe", "title": "Swift task open file descriptor of pipe", "body": "<p>I am trying to open a Swift <code>Pipe</code> from a python script that is executed via a Swift <code>Task</code> </p>\n\n<p><strong>Swift code</strong></p>\n\n<pre><code>let pipe=Pipe()\nlet task = Process()\nvar env=ProcessInfo.processInfo.environment\ntask.launchPath = \"/pythonscript.py\"\n\nlet fh=pipe.fileHandleForWriting\ntask.arguments = [\"\\(fh.fileDescriptor)\"]\ntask.launch()\n</code></pre>\n\n<p><strong>Python</strong></p>\n\n<pre><code>#!/usr/local/bin/python\n\nimport os\nimport sys\n\nfd=int(sys.argv[1])\nprint(os.fdopen(fd, u'w'))\n</code></pre>\n\n<p>What I get back from the python script is</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./test.py\", line 7, in &lt;module&gt;\n    print(os.fdopen(fd, u'w'))\nOSError: [Errno 9] Bad file descriptor\n</code></pre>\n\n<p>Why can't python open the file descriptor I created in Swift?</p>\n"}, {"tags": ["objective-c", "icloud", "game-center", "objective-c++", "gamekit"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 959338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ae8062463cf4e9e0eead05f653f80ea?s=128&d=identicon&r=PG", "display_name": "caochao", "link": "https://stackoverflow.com/users/959338/caochao"}, "edited": false, "score": 0, "creation_date": 1556183124, "post_id": 53360740, "comment_id": 98353362, "body": "how do you resolve savedgame conflicts with fetchSavedGamesWithCompletionHandler? that&#39;s mean more than one savedgame with same name"}], "tags": [], "owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "is_accepted": false, "score": 1, "last_activity_date": 1542543289, "creation_date": 1542543289, "answer_id": 53360740, "question_id": 52975069, "link": "https://stackoverflow.com/questions/52975069/how-to-share-saved-games-across-devices/53360740#53360740", "title": "How to share saved games across devices?", "body": "<p>The above sample in the question works just fine. It's mandatory that the user logs into iCloud and uses the same apple ID on the Game Center login, because the saved games will be stored in the iCloud.</p>\n\n<p>Unfortunately, I was testing the whole without iCloud, so it couldn't work.</p>\n"}], "owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1542543289, "creation_date": 1540402955, "last_edit_date": 1540462413, "question_id": 52975069, "link": "https://stackoverflow.com/questions/52975069/how-to-share-saved-games-across-devices", "title": "How to share saved games across devices?", "body": "<p>I implemented GameKit into my iOS game including the saved game feature.</p>\n\n<p>Here an example how I save and load a game:</p>\n\n<p><strong>MobSvcSavedGameData.h</strong></p>\n\n<pre><code>#ifndef MOBSVC_SAVEDGAMEDATA_H\n#define MOBSVC_SAVEDGAMEDATA_H\n\n#import &lt;Foundation/Foundation.h&gt;\n\n@interface MobSvcSavedGameData : NSObject &lt;NSCoding&gt;\n\n@property (readwrite, retain) NSString *data;\n\n+(instancetype)sharedGameData;\n-(void)reset;\n\n@end\n\n\n#endif /* MOBSVC_SAVEDGAMEDATA_H */\n</code></pre>\n\n<p><strong>MobSvcSavedGameData.m</strong></p>\n\n<pre><code>#import \"MobSvcSavedGameData.h\"\n#import &lt;Foundation/Foundation.h&gt;\n\n@interface MobSvcSavedGameData () &lt;NSObject, NSCoding&gt;\n\n@end\n\n@implementation MobSvcSavedGameData\n\n#pragma mark MobSvcSavedGameData implementation\n\nstatic NSString * const sgDataKey = @\"data\";\n\n+ (instancetype)sharedGameData {\n    static id sharedInstance = nil;\n\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedInstance = [[self alloc] init];\n    });\n\n    return sharedInstance;\n}\n\n- (void)reset\n{\n    self.data = nil;\n}\n\n- (void)encodeWithCoder:(NSCoder *)encoder\n{\n    [encoder encodeObject:self.data forKey: sgDataKey];\n}\n\n- (nullable instancetype)initWithCoder:(nonnull NSCoder *)decoder {\n    self = [self init];\n    if (self) {\n        self.data = [decoder decodeObjectForKey:sgDataKey];\n    }\n    return self;\n}\n\n@end\n</code></pre>\n\n<p>For simplicity my saved game object above has only a <code>NSString</code> which will be serialised and uploaded like so:</p>\n\n<pre><code>void MobSvc::uploadSavedGameDataAwait(const char *name, const char *data)\n{\n    GKLocalPlayer *mobSvcAccount = [GKLocalPlayer localPlayer];\n\n    if(mobSvcAccount.isAuthenticated)\n    {\n        MobSvcSavedGameData *savedGameData = [[MobSvcSavedGameData alloc] init];\n        savedGameData.data = [NSString stringWithUTF8String:data];\n        [mobSvcAccount saveGameData:[NSKeyedArchiver archivedDataWithRootObject:savedGameData] withName:[[NSString alloc] initWithUTF8String:name] completionHandler:^(GKSavedGame * _Nullable savedGame __unused, NSError * _Nullable error) {\n            if(error == nil)\n            {\n                NSLog(@\"Successfully uploaded saved game data\");\n            }\n            else\n            {\n                NSLog(@\"Failed to upload saved game data: %@\", error.description);\n            }\n        }];\n    }\n}\n</code></pre>\n\n<p>And this is how I download the most recent saved game on the next play session again:</p>\n\n<pre><code>void MobSvc::downloadSavedGameDataAwait(const char *name)\n{\n    GKLocalPlayer *mobSvcAccount = [GKLocalPlayer localPlayer];\n\n    if(mobSvcAccount.isAuthenticated)\n    {\n        [mobSvcAccount fetchSavedGamesWithCompletionHandler:^(NSArray&lt;GKSavedGame *&gt; * _Nullable savedGames, NSError * _Nullable error) {\n            if(error == nil)\n            {\n                GKSavedGame *savedGameToLoad = nil;\n                for(GKSavedGame *savedGame in savedGames) {\n                    const char *sname = savedGame.name.UTF8String;\n                    if(std::strcmp(sname, name) == 0)\n                    {\n                        if (savedGameToLoad == nil || savedGameToLoad.modificationDate &lt; savedGame.modificationDate) {\n                            savedGameToLoad = savedGame;\n                        }\n                    }\n                }\n                if(savedGameToLoad != nil) {\n                    [savedGameToLoad loadDataWithCompletionHandler:^(NSData * _Nullable data, NSError * _Nullable error) {\n                        if(error == nil)\n                        {\n                            MobSvcSavedGameData *savedGameData = [NSKeyedUnarchiver unarchiveObjectWithData:data];\n                            NSLog(@\"Successfully downloaded saved game data: %@\", [savedGameData.data cStringUsingEncoding:NSUTF8StringEncoding]);\n                        }\n                        else\n                        {\n                            NSLog(@\"Failed to download saved game data: %@\", error.description);\n                        }\n                    }];\n                }\n            }\n            else\n            {\n                NSLog(@\"Failed to prepare saved game data: %@\", error.description);\n            }\n        }];\n    }\n}\n</code></pre>\n\n<p>I tested this by uploading a random string and receiving it on the next session by using the same <code>name</code>. It works! However, as soon as I try to download the saved game from my second iPhone it does not work. On both phones I'm logged into the same Game-Center account, I could confirm this by comparing the <code>playerId</code> in the <code>GKLocalPlayer</code> instance. </p>\n\n<p>I've set up the proper iCloud container and linked my game to it, but the logs in the iCloud container backend remain empty.</p>\n\n<p>What is going on? How can I share the saved game across Apple devices? </p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1540394874, "post_id": 52972621, "comment_id": 92851885, "body": "I think you want <code>[userProfil loadMemberProfileCompletion:...]</code>"}, {"owner": {"reputation": 2702, "user_id": 3237899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B6HjX.jpg?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/3237899/harsh"}, "edited": false, "score": 0, "creation_date": 1540395147, "post_id": 52972621, "comment_id": 92852075, "body": "Instead of <code>@objc</code>, <code>@use objcMembers</code>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10494204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0dfc3963e78430ef5802a302410e2a?s=128&d=identicon&r=PG&f=1", "display_name": "GeekThuG", "link": "https://stackoverflow.com/users/10494204/geekthug"}, "edited": false, "score": 1, "creation_date": 1540395689, "post_id": 52972762, "comment_id": 92852403, "body": "ThX it&#39;s Work :)"}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 3, "last_activity_date": 1540394859, "creation_date": 1540394859, "answer_id": 52972762, "question_id": 52972621, "link": "https://stackoverflow.com/questions/52972621/call-swift-function-in-objective-c/52972762#52972762", "title": "Call Swift function in Objective C", "body": "<p>You need</p>\n\n<pre><code>@objcMembers class MySwiftClass: UIViewController { --- }\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>@objc func loadMemberProfil(completion: ((_ sub : [String: AnyObject]) -&gt; Void)!) { --- }\n</code></pre>\n\n<hr>\n\n<p>With this call</p>\n\n<pre><code>[userProfil loadMemberProfilWithCompletion:^(NSDictionary*dic ) {\n\n}];\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10494204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0dfc3963e78430ef5802a302410e2a?s=128&d=identicon&r=PG&f=1", "display_name": "GeekThuG", "link": "https://stackoverflow.com/users/10494204/geekthug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 52972762, "answer_count": 1, "score": 1, "last_activity_date": 1540395741, "creation_date": 1540394367, "last_edit_date": 1540395741, "question_id": 52972621, "link": "https://stackoverflow.com/questions/52972621/call-swift-function-in-objective-c", "title": "Call Swift function in Objective C", "body": "<p>I have a problem to use a method developed in Swift that I want to use in objective C.</p>\n\n<p><strong>Swift 4 Class:</strong> in this function I retrieve the information of the user (like userNumber, secretCode)</p>\n\n<pre><code>@objc class MySwiftClass: HPTableViewController {\n    func loadMemberProfil(completion: ((_ sub : [String: AnyObject]) -&gt; Void)!) {\n        //API get profile and Bearer token\n        let token = HPWSLoginManager.shared().saveSuccessResponse.token\n        let url = URL(string: \"http://51.38.36.76:40/api/v1/profile\")\n        var request = URLRequest(url: url!)\n        request.httpMethod = \"GET\"\n        request.addValue(\"Bearer \\(token!)\", forHTTPHeaderField: \"Authorization\")\n        //get information in token\n        URLSession.shared.dataTask(with: request) { (data, response, error) in\n            guard let data = data else { return }\n            do {\n                let json = try JSONSerialization.jsonObject(with: data, options: .mutableContainers) as! [String: AnyObject]\n                let sub = json[\"sub\"] as! [String: AnyObject]\n                if completion != nil{\n                    completion(sub)\n                }\n            } catch {\n                print(\"error\")\n            }\n            }.resume()\n    }\n}\n</code></pre>\n\n<p>for example at the end of the function I get</p>\n\n<pre><code>  sub[\"usernumber\"]! // print +224625259239\n  sub[\"secretcode\"]! // print $2a$08$DIrq1iKnjkkY4KgI3Mqy7.aWC39m2aFMncfJSkom9l0yaXhGlH35m\n</code></pre>\n\n<p><strong>Objective-C implementation (Objective-C.m)</strong> I want to display this information above </p>\n\n<pre><code>#import \"ProjectName-Swift.h\"\nMySwiftClass* userProfil = [[MySwiftClass alloc]init];\n[userProfil  loadMemberProfil: ^(NSDictionary *sub) { // No visible @interface for 'MySwiftClass' declares the selector 'loadMemberProfil:'\nuserNumber = sub[@\"usernumber\"];\nsecretCode = sub[@\"secretcode\"];\n}];\n</code></pre>\n\n<p>but I get this error message  No visible @interface for 'MySwiftClass' declares the selector 'loadMemberProfil:' could someone help me? please :)</p>\n"}, {"tags": ["objective-c", "iphone", "xcode", "ios12"], "comments": [{"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 2, "creation_date": 1540392998, "post_id": 52971678, "comment_id": 92850585, "body": "So the build you made for SDK iOS 11 is crashing in SDK iOS 12 before it enters to didFinishLaunchingWithOptions ? Where you see this ? Or its crashing while debugging ? Is it happening for a lot of users ? There are a lot of questions actually to get what is happening..."}, {"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1540393302, "post_id": 52971678, "comment_id": 92850798, "body": "Xcode debug navigator should be able to tell you at least something."}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "reply_to_user": {"reputation": 393, "user_id": 4160199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7VZ6.png?s=128&g=1", "display_name": "quant24", "link": "https://stackoverflow.com/users/4160199/quant24"}, "edited": false, "score": 0, "creation_date": 1540407812, "post_id": 52971678, "comment_id": 92858989, "body": "@quant24: please don&#39;t use code formatting (<code>`</code>) for highlighting or otherwise mark up things that are not code. This messes with screen readers and thus affects accessibility of the site. Thanks!"}, {"owner": {"reputation": 1237, "user_id": 2805597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YDLob.jpg?s=128&g=1", "display_name": "RyanB", "link": "https://stackoverflow.com/users/2805597/ryanb"}, "edited": false, "score": 0, "creation_date": 1540439405, "post_id": 52971678, "comment_id": 92868312, "body": "How could an app crashes if it isn&#39;t launching? No crashing logs even with <code>Device Logs</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 10342810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d56f420e1e656e79826b2431ffeeb68?s=128&d=identicon&r=PG&f=1", "display_name": "ScienceLover", "link": "https://stackoverflow.com/users/10342810/sciencelover"}, "is_accepted": false, "score": 0, "last_activity_date": 1540392371, "creation_date": 1540392371, "answer_id": 52971905, "question_id": 52971678, "link": "https://stackoverflow.com/questions/52971678/application-crash-immediately-when-deploy-to-iphone-running-ios-12-from-xcode-10/52971905#52971905", "title": "Application crash immediately when deploy to iPhone running iOS 12 from Xcode 10", "body": "<p>Have you correctly installed your XCode Update? Sometimes you have to install cli \n (that is needed e.g. by mtouch if XCode links your assemblies) or other components by hand. </p>\n\n<p>Are you're credentials (certificate) still valid? or otherwise asked: did you build another app since this happens?</p>\n\n<p>Have you set a breakpoint right in you app delegate and step throw until the app crashes? Can you show logs? If you don't have some, than create them by yourself. Do exception handling and log the exceptions. Or otherwise said: More information please.</p>\n"}], "owner": {"reputation": 43, "user_id": 4736856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/177f69264aaddd70fcbc7018a3eea472?s=128&d=identicon&r=PG&f=1", "display_name": "usha rao", "link": "https://stackoverflow.com/users/4736856/usha-rao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1554361314, "creation_date": 1540391715, "last_edit_date": 1554361314, "question_id": 52971678, "link": "https://stackoverflow.com/questions/52971678/application-crash-immediately-when-deploy-to-iphone-running-ios-12-from-xcode-10", "title": "Application crash immediately when deploy to iPhone running iOS 12 from Xcode 10", "body": "<p>App submitted to store one year ago. It worked fine up to iOS 11 but in iOS 12 the app is immediately crashing even without launching. I tried to debug the issue but I couldn't, because before <code>didFinishLaunchingWithOptions</code>, the app crashes and I did not find any error logs.</p>\n\n<p>It is happening in iOS 12 only, working fine with below iOS 12.</p>\n\n<p>How can I debug this issue?</p>\n"}, {"tags": ["ios", "objective-c", "keyboard", "speech-to-text", "iphone-x"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 840074, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/753dc129fa8c7385efe1d9c8ecab34f2?s=128&d=identicon&r=PG", "display_name": "parth vasavada", "link": "https://stackoverflow.com/users/840074/parth-vasavada"}, "edited": false, "score": 0, "creation_date": 1540449435, "post_id": 52978933, "comment_id": 92871418, "body": "thanks for your help. I&#39;ve added my sample code above kindly check it. Also, just would like to know that have you tested your code on a device?"}, {"owner": {"reputation": 105, "user_id": 840074, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/753dc129fa8c7385efe1d9c8ecab34f2?s=128&d=identicon&r=PG", "display_name": "parth vasavada", "link": "https://stackoverflow.com/users/840074/parth-vasavada"}, "edited": false, "score": 0, "creation_date": 1540531499, "post_id": 52978933, "comment_id": 92907989, "body": "Yes, it&#39;s working fine on all devices except full screen (iPhone X onwards)."}, {"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "reply_to_user": {"reputation": 105, "user_id": 840074, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/753dc129fa8c7385efe1d9c8ecab34f2?s=128&d=identicon&r=PG", "display_name": "parth vasavada", "link": "https://stackoverflow.com/users/840074/parth-vasavada"}, "edited": false, "score": 0, "creation_date": 1540564821, "post_id": 52978933, "comment_id": 92925577, "body": "I&#39;m curious if you override <code>- (void)viewSafeAreaInsetsDidChange {     [super viewSafeAreaInsetsDidChange]; }</code> whether you&#39;re getting that notification instead (i.e. maybe the safe area insets are changing, but the keyboard height is remaining the same on device)"}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": false, "score": 1, "last_activity_date": 1540478486, "last_edit_date": 1540478486, "creation_date": 1540421196, "answer_id": 52978933, "question_id": 52971379, "link": "https://stackoverflow.com/questions/52971379/uikeyboardwillchangeframenotification-doesnt-get-fired-while-dictation-speech/52978933#52978933", "title": "UIKeyboardWillChangeFrameNotification doesn&#39;t get fired while dictation (Speech to text) button pressed", "body": "<p>I just created a quick test project and it seems like the notification is coming through fine on my end when hitting the dictation button.  I can only speculate as to what could be going awry for you since you didn't include any of your code at all, but a couple of guesses are:</p>\n\n<ul>\n<li>The notification is coming through, but the calculations adjusting for the keyboard height aren't correct (perhaps not taking into account the safeAreaInsets.bottom?)</li>\n<li>You're removing yourself as an observer of the keyboard notifications at some point before the notification for the keyboard frame change for dictation comes through.</li>\n</ul>\n\n<p>Here's my sample code that worked for me:</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n@property (strong, nullable) IBOutlet UITextField *tf;\n@property (strong, nullable) IBOutlet UIView *redView;\n@property (strong, nullable) IBOutlet NSLayoutConstraint *redViewBottomConstraint;\n- (IBAction)resignActiveOnTF:(id)sender;\n- (void)keyboardWillChangeFrame:(NSNotification *)notification;\n- (void)keyboardWillHide:(NSNotification *)notification;\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillChangeFrame:) name:UIKeyboardWillChangeFrameNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];\n}\n\n- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n    // put the redView off the bottom of the screen initially (include safe area insets on the bottom\n    self.redViewBottomConstraint.constant = -(self.redView.frame.size.height + self.view.safeAreaInsets.bottom);\n}\n\n- (void)keyboardWillChangeFrame:(NSNotification *)notification {\n    [[NSOperationQueue mainQueue] addOperationWithBlock:^{\n        CGFloat keyboardHeight = [[[notification userInfo] objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue].size.height;\n        [self.view layoutIfNeeded];\n        // adjust the constraint by the keyboard height and account for the safe area insets on the bottom as well\n        self.redViewBottomConstraint.constant = keyboardHeight - self.view.safeAreaInsets.bottom;\n        [UIView animateWithDuration:0.4f animations:^{\n            self.redView.alpha = 1.0f;\n            [self.view layoutIfNeeded];\n        }];\n    }];\n}\n\n- (void)keyboardWillHide:(NSNotification *)notification {\n    [[NSOperationQueue mainQueue] addOperationWithBlock:^{\n        [self.view layoutIfNeeded];\n            self.redViewBottomConstraint.constant = -(self.redView.frame.size.height + self.view.safeAreaInsets.bottom);\n        [UIView animateWithDuration:0.25f animations:^{\n            self.redView.alpha = 0.0f;\n            [self.view layoutIfNeeded];\n        }];\n    }];\n}\n\n- (IBAction)resignActiveOnTF:(id)sender {\n    [self.tf resignFirstResponder];\n}\n\n- (void)dealloc {\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n}\n\n\n@end\n</code></pre>\n\n<p>And an example of it an action on simulator:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L0ywr.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0ywr.gif\" alt=\"Keyboard_Notification_Example\"></a></p>\n\n<p>If none of this is helpful for you, i'd highly recommend trying to reproduce this in a very simple example and post your code so others can help.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I copied your sample code into a new view controller, and it seems to be working fine for me.  I did make one minor modification on my end for the constraint constant calculation (my bottom constraint is the bottom of the view that's going over the keyboard down to the bottom of the safe area):</p>\n\n<pre><code>- (void)keyboardFrameChange:(NSNotification *)notification\n{\n    NSDictionary * userInfo = [notification userInfo];\n    CGRect keyboardRect = [userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    double duration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    // Anchor the bottom of the message view to the top of the keyboard.\n    [UIView animateWithDuration:duration animations:^{\n        self.bottomConstraints.constant = (CGRectGetHeight(keyboardRect) - self.view.safeAreaInsets.bottom);\n        [self.view layoutIfNeeded];\n    }];\n}\n</code></pre>\n\n<p>although I'm assuming yours is a different constraint in your xib?</p>\n\n<p>I've tried running this directly on an iPhone 6s and it works there as well.  I don't have an iPhone X physical device handy to test it on.</p>\n"}], "owner": {"reputation": 105, "user_id": 840074, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/753dc129fa8c7385efe1d9c8ecab34f2?s=128&d=identicon&r=PG", "display_name": "parth vasavada", "link": "https://stackoverflow.com/users/840074/parth-vasavada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540478486, "creation_date": 1540390897, "last_edit_date": 1540449287, "question_id": 52971379, "link": "https://stackoverflow.com/questions/52971379/uikeyboardwillchangeframenotification-doesnt-get-fired-while-dictation-speech", "title": "UIKeyboardWillChangeFrameNotification doesn&#39;t get fired while dictation (Speech to text) button pressed", "body": "<p>I am developing an app with a chat functionality, so my requirement is to show the textfield on top of keyboard. As it was required to not use scroll view I have taken a textfield on a UIView and I am using keyborad notifications (UIKeyboardWillChangeFrameNotification and UIKeyboardWillHideNotification) to scroll textfield accordingly. </p>\n\n<p>I am facing an issue for iPhone x device when \"predictive text\" is on and user press dictation button, there will be a gap between textfield and keyboard as dictation doesn't need \"predictive text\".</p>\n\n<p>I am trying to detect a keyboard height via UIKeyboardWillChangeFrameNotification but it doesn't get fire while dictation button get pressed.</p>\n\n<p>Adding my sample code below.</p>\n\n<pre><code>@interface ViewController ()\n@property (weak, nonatomic) IBOutlet NSLayoutConstraint *bottomConstraints;\n@property (weak, nonatomic) IBOutlet UITextField *chatTextField;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardFrameChange:) name:UIKeyboardWillChangeFrameNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keywindowResign:) name:UIKeyboardWillShowNotification object:nil];\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];\n    // Do any additional setup after loading the view, typically from a nib.\n}\n\n- (void)viewDidAppear:(BOOL)animated\n{\n    [super viewDidAppear:YES];\n}\n\n- (void)keyboardFrameChange:(NSNotification *)notification\n{\n    NSDictionary * userInfo = [notification userInfo];\n    CGRect keyboardRect = [userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];\n    double duration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    // Anchor the bottom of the message view to the top of the keyboard.\n    [UIView animateWithDuration:duration animations:^{\n        self.bottomConstraints.constant = 0 - CGRectGetHeight(keyboardRect) + self.view.safeAreaInsets.bottom;\n        [self.view layoutIfNeeded];\n    }];\n}\n\n- (void)keyboardWillHide:(NSNotification *)notification\n{\n    NSDictionary * userInfo = [notification userInfo];\n    double duration = [userInfo[UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n\n    // Anchor the bottom of the message view to the bottom of the screen.\n    [UIView animateWithDuration:duration animations:^{\n        self.bottomConstraints.constant = 0;\n        [self.view layoutIfNeeded];\n    }];\n}\n\n- (void)keywindowResign:(NSNotification *)notification\n{\n    NSLog(@\"%s\",\"Key window resign\");\n}\n\n\n- (void)touchesBegan:(NSSet&lt;UITouch *&gt; *)touches withEvent:(UIEvent *)event\n{\n    [self.view endEditing:true];\n}\n\n- (void)dealloc {\n    [[NSNotificationCenter defaultCenter] removeObserver:self];\n}\n</code></pre>\n\n<p>Please check screenshots to understand it more.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J5bJ9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J5bJ9.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/HJTgK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HJTgK.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "xcode", "unity3d", "swift4"], "owner": {"reputation": 453, "user_id": 5783417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jYFcint7c0k/AAAAAAAAAAI/AAAAAAAABNU/erUqqab5w-Y/photo.jpg?sz=128", "display_name": "Atul Vasudev A", "link": "https://stackoverflow.com/users/5783417/atul-vasudev-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1550189929, "creation_date": 1540382129, "last_edit_date": 1540382919, "question_id": 52968386, "link": "https://stackoverflow.com/questions/52968386/integrate-unity3d-project-with-xcode-as-a-framework-resulting-in-multiple-errors", "title": "Integrate Unity3D project with Xcode as a framework resulting in multiple errors", "body": "<p>Thanks to <a href=\"https://github.com/jiulongw/swift-unity\" rel=\"nofollow noreferrer\">this great tutorial on integrating Unity3D project to Xcode</a>, I have a Unity3D project working with in a UIViewController.</p>\n\n<p>On trying to make a framework out of this project or just a blank Unity3D exported Xcode project resulting in so many errors. Can anyone help how to deal with these errors? I am new to Xcode.</p>\n\n<pre><code>CompileC /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/Objects-normal/arm64/Il2CppCompilerCalculateTypeValues_0Table.o MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp normal arm64 c++ com.apple.compilers.llvm.clang.1_0.compiler\ncd /Users/atul109/MyDocuments/Projects/IosProjects/MyLib\nexport LANG=en_US.US-ASCII\nexport PATH=\"/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x c++ -arch arm64 -fmessage-length=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit=0 -std=gnu++14 -stdlib=libc++ -fmodules -gmodules -fmodules-cache-path=/Users/atul109/Library/Developer/Xcode/DerivedData/ModuleCache.noindex -fmodules-prune-interval=86400 -fmodules-prune-after=345600 -fbuild-session-file=/Users/atul109/Library/Developer/Xcode/DerivedData/ModuleCache.noindex/Session.modulevalidation -fmodules-validate-once-per-build-session -Wnon-modular-include-in-framework-module -Werror=non-modular-include-in-framework-module -fmodule-name=MyFrameWork -Wno-trigraphs -fpascal-strings -O0 -fno-common -Wno-missing-field-initializers -Wno-missing-prototypes -Werror=return-type -Wdocumentation -Wunreachable-code -Werror=deprecated-objc-isa-usage -Werror=objc-root-class -Wno-non-virtual-dtor -Wno-overloaded-virtual -Wno-exit-time-destructors -Wno-missing-braces -Wparentheses -Wswitch -Wunused-function -Wno-unused-label -Wno-unused-parameter -Wunused-variable -Wunused-value -Wempty-body -Wuninitialized -Wconditional-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wconstant-conversion -Wint-conversion -Wbool-conversion -Wenum-conversion -Wno-float-conversion -Wnon-literal-null-conversion -Wobjc-literal-conversion -Wshorten-64-to-32 -Wno-newline-eof -Wno-c++11-extensions -DDEBUG=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS11.4.sdk -fstrict-aliasing -Wdeprecated-declarations -Winvalid-offsetof -miphoneos-version-min=11.4 -g -fvisibility-inlines-hidden -Wno-sign-conversion -Winfinite-recursion -Wmove -Wcomma -Wblock-capture-autoreleasing -Wstrict-prototypes -Wrange-loop-analysis -Wunguarded-availability -fembed-bitcode-marker -index-store-path /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Index/DataStore -iquote /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/MyFrameWork-generated-files.hmap -I/Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/MyFrameWork-own-target-headers.hmap -I/Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/MyFrameWork-all-non-framework-target-headers.hmap -ivfsoverlay /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/all-product-headers.yaml -iquote /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/MyFrameWork-project-headers.hmap -I/Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Products/Debug-iphoneos/include -I/Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/DerivedSources/arm64 -I/Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/DerivedSources -F/Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Products/Debug-iphoneos -MMD -MT dependencies -MF /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/Objects-normal/arm64/Il2CppCompilerCalculateTypeValues_0Table.d --serialize-diagnostics /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/Objects-normal/arm64/Il2CppCompilerCalculateTypeValues_0Table.dia -c /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp -o /Users/atul109/Library/Developer/Xcode/DerivedData/MyLib-bhrfslgddrzmugfkihkdflsnlynw/Build/Intermediates.noindex/MyLib.build/Debug-iphoneos/MyFrameWork.build/Objects-normal/arm64/Il2CppCompilerCalculateTypeValues_0Table.o\n\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp:1:\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Libraries/libil2cpp/include/il2cpp-config.h:7:\n/Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Libraries/libil2cpp/include/icalls/mscorlib/System/String.h:19:5: error: expected expression\npublic:\n^\n/Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Libraries/libil2cpp/include/icalls/mscorlib/System/String.h:17:33: error: variable has incomplete type 'class LIBIL2CPP_CODEGEN_API'\nclass LIBIL2CPP_CODEGEN_API String\n                            ^\n/Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Libraries/libil2cpp/include/icalls/mscorlib/System/String.h:17:11: note: forward declaration of 'il2cpp::icalls::mscorlib::System::LIBIL2CPP_CODEGEN_API'\nclass LIBIL2CPP_CODEGEN_API String\n      ^\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp:10:\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:70:9: error: no member named 'memcpy' in the global namespace\nusing ::memcpy;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:71:9: error: no member named 'memmove' in the global namespace; did you mean 'remove'?\nusing ::memmove;\n  ~~^\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp:1:\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Libraries/libil2cpp/include/il2cpp-config.h:6:\nIn file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/stdio.h:108:\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS11.4.sdk/usr/include/stdio.h:174:6: note: 'remove' declared here\nint      remove(const char *);\n     ^\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp:10:\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:72:9: error: no member named 'strcpy' in the global namespace\nusing ::strcpy;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:73:9: error: no member named 'strncpy' in the global namespace\nusing ::strncpy;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:74:9: error: no member named 'strcat' in the global namespace\nusing ::strcat;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:75:9: error: no member named 'strncat' in the global namespace\nusing ::strncat;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:76:9: error: no member named 'memcmp' in the global namespace\nusing ::memcmp;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:77:9: error: no member named 'strcmp' in the global namespace\nusing ::strcmp;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:78:9: error: no member named 'strncmp' in the global namespace\nusing ::strncmp;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:79:9: error: no member named 'strcoll' in the global namespace; did you mean 'strtoll'?\nusing ::strcoll;\n  ~~^\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp:1:\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Libraries/libil2cpp/include/il2cpp-config.h:5:\nIn file included from /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/stdlib.h:94:\n/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS11.4.sdk/usr/include/stdlib.h:177:3: note: 'strtoll' declared here\n     strtoll(const char *__str, char **__endptr, int __base);\n     ^\nIn file included from /Users/atul109/MyDocuments/Projects/IosProjects/MyLib/MyFrameWork/Unity/Classes/Native/Il2CppCompilerCalculateTypeValues_0Table.cpp:10:\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:80:9: error: no member named 'strxfrm' in the global namespace\nusing ::strxfrm;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:81:9: error: no member named 'memchr' in the global namespace\nusing ::memchr;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:82:9: error: no member named 'strchr' in the global namespace\nusing ::strchr;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:83:9: error: no member named 'strcspn' in the global namespace\nusing ::strcspn;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:84:9: error: no member named 'strpbrk' in the global namespace\nusing ::strpbrk;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:85:9: error: no member named 'strrchr' in the global namespace\nusing ::strrchr;\n  ~~^\n/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1/cstring:86:9: error: no member named 'strspn' in the global namespace\nusing ::strspn;\n  ~~^\nfatal error: too many errors emitted, stopping now [-ferror-limit=]\n20 errors generated.\n</code></pre>\n\n<p>Steps done :</p>\n\n<p>1.Created a new project of type Framework in Objective-C</p>\n\n<p>2.Added a folder named Unity and drag and dropped Classes, Libraries and Data from Unity3D exported project (Data with create folder references option checked and others with copy and create groups checked)</p>\n\n<p>3.Added Header search paths and Library search paths.</p>\n\n<p>4.Corrected some missing header errors</p>\n\n<p>5.Added the frameworks which was present in the Unity3D exported project</p>\n\n<p><a href=\"https://i.stack.imgur.com/jSmot.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSmot.png\" alt=\"Screenshot of Xcode\"></a></p>\n"}, {"tags": ["objective-c", "macos", "core-data", "nsuserdefaults"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 1, "creation_date": 1540378479, "post_id": 52967026, "comment_id": 92840601, "body": "why don&#39;t you consider the save a <code>plist</code> into the <code>Documents&#47;</code> folder? no need for core-data nor user-defaults at all."}], "answers": [{"comments": [{"owner": {"reputation": 7126, "user_id": 679099, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4b28d1b32b4ef7385b42ac2c8e38502e?s=128&d=identicon&r=PG", "display_name": "YosiFZ", "link": "https://stackoverflow.com/users/679099/yosifz"}, "edited": false, "score": 1, "creation_date": 1540380098, "post_id": 52967296, "comment_id": 92841565, "body": "@CodeChanged Thanks! One of the main purposes of the array is to search for objects. is this will be faster with CodeData?"}, {"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "reply_to_user": {"reputation": 7126, "user_id": 679099, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4b28d1b32b4ef7385b42ac2c8e38502e?s=128&d=identicon&r=PG", "display_name": "YosiFZ", "link": "https://stackoverflow.com/users/679099/yosifz"}, "edited": false, "score": 0, "creation_date": 1540384104, "post_id": 52967296, "comment_id": 92844191, "body": "Yes much faster and easy to fetch data and filter based on your requirements."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1540409266, "post_id": 52967296, "comment_id": 92859683, "body": "It might be faster.  It might not.   You need to model the data correctly.   With that said, CoreData is probably a fantastic solution in that it is very well supported, quite flexible, and can grow with your storage needs quite readily."}, {"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "reply_to_user": {"reputation": 7126, "user_id": 679099, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4b28d1b32b4ef7385b42ac2c8e38502e?s=128&d=identicon&r=PG", "display_name": "YosiFZ", "link": "https://stackoverflow.com/users/679099/yosifz"}, "edited": false, "score": 0, "creation_date": 1540532677, "post_id": 52967296, "comment_id": 92908393, "body": "@MTA if above answer helped and solved your problem please accept it so other can find it helpful."}], "tags": [], "owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "is_accepted": true, "score": 3, "last_activity_date": 1540378832, "creation_date": 1540378832, "answer_id": 52967296, "question_id": 52967026, "link": "https://stackoverflow.com/questions/52967026/nsuserdefaults-with-big-array/52967296#52967296", "title": "NSUserDefaults with big array", "body": "<p>As per my exprience <code>NSUserDefaults</code> only use for light weight data like some preferences related data you can store in userDefaults.</p>\n\n<p>Also if you store heavy/large data it will slower your app as it will store in single plist file.</p>\n\n<p>And due to heavy data load on app it will create memory issue and as you are working on <code>MacOS</code> you will find memory issue rarely but in term of iOS it will definitely create problem.</p>\n\n<p>I found very good blog of <strong>Jeffrey fulton</strong> where he define in detail where we needs to use UserDefaults or where not.</p>\n\n<p>Link : <a href=\"https://jeffreyfulton.ca/blog/2018/02/userdefaults-limitations-and-alternatives\" rel=\"nofollow noreferrer\">UserDefaults Limitations and Alternatives</a></p>\n\n<p>Also adding to above UserDefault is not safe storage as data can be easily retrievable.</p>\n\n<p>In your case you can use Core Data or SQLIte both are very powerful and easy to use framework for storing data.</p>\n\n<p>Hope this will helps.</p>\n"}, {"tags": [], "owner": {"reputation": 435, "user_id": 6379504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wtOaF.jpg?s=128&g=1", "display_name": "Neal.Marlin", "link": "https://stackoverflow.com/users/6379504/neal-marlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1540379503, "creation_date": 1540379503, "answer_id": 52967493, "question_id": 52967026, "link": "https://stackoverflow.com/questions/52967026/nsuserdefaults-with-big-array/52967493#52967493", "title": "NSUserDefaults with big array", "body": "<p>The problem is that you store the image data instead of file path. Even using a database to store the image collection is not a good implementation. The big data block of image will cause database to work slow. The common implementation is to store the image data to file system first and then save the corresponding file path to the image index storage. In this case, whether using the UserDefaults or CoreData for persistent storage will be less influential.</p>\n"}], "owner": {"reputation": 7126, "user_id": 679099, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4b28d1b32b4ef7385b42ac2c8e38502e?s=128&d=identicon&r=PG", "display_name": "YosiFZ", "link": "https://stackoverflow.com/users/679099/yosifz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 52967296, "answer_count": 2, "score": 0, "last_activity_date": 1540396684, "creation_date": 1540377967, "last_edit_date": 1540396684, "question_id": 52967026, "link": "https://stackoverflow.com/questions/52967026/nsuserdefaults-with-big-array", "title": "NSUserDefaults with big array", "body": "<p>I'm building a macOS application.</p>\n\n<p>I'm currently using <code>NSUserDefaults</code> to save <code>NSMutableArray</code> data with this method:</p>\n\n<pre><code>-(void)addPhotoUrl:(NSString*)url {\n    [self.photosArray addObject:url];\n\n    [[NSUserDefaults standardUserDefaults] setObject:self.photosArray forKey:@\"kPhotos\"];\n    [[NSUserDefaults standardUserDefaults] synchronize];\n}\n</code></pre>\n\n<p>And every time the application start I run this code to load the <code>NSMutableArray</code>:</p>\n\n<pre><code>-(void)loadPhotosLike {\n    NSArray *myRepository = [[NSUserDefaults standardUserDefaults] arrayForKey:@\"kPhotos\"];\n    if(myRepository &amp;&amp; [myRepository count] != 0) {\n        [self.photosArray addObjectsFromArray:myRepository];\n    }\n}\n</code></pre>\n\n<p>Until now it's work perfectly, But since the array becomes really big(64,000 items), I start to think this solution was not good enough.</p>\n\n<p>There is the issue that the Array exists both in the local <code>NSMutableArray</code> and saved to the <code>NSUserDefaults</code> every time I add a new item to it, this is a good solution and not impact the local memory/app memory/writing problem to the disk?</p>\n\n<p>Should I start using Core Data instead?</p>\n\n<p>One of the main purposes of the array is to search for objects. Will this be faster with CoreData?</p>\n"}, {"tags": ["objective-c"], "owner": {"reputation": 23, "user_id": 3970864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iGwOd.png?s=128&g=1", "display_name": "David Wu", "link": "https://stackoverflow.com/users/3970864/david-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540389631, "creation_date": 1540377965, "last_edit_date": 1540389631, "question_id": 52967023, "link": "https://stackoverflow.com/questions/52967023/using-facebook-messenger-share-things", "title": "Using Facebook Messenger Share things", "body": "<p>When I use FBSDKShareKit to share specific string with Facebook Messenger, everything is fine, however, if I push the back button to original app, like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/DiWIa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DiWIa.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Next time I want to use Facebook Messenger to share specific string, the Facebook Messenger will show nothing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LfzMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LfzMz.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    FBSDKShareMessengerURLActionButton *urlButton = [[FBSDKShareMessengerURLActionButton alloc] init];\n    urlButton.title = @\"Free AD WiFi\";\n    urlButton.url = [NSURL URLWithString:@\"http://www.adwifi.com.tw/\"];\n\n    FBSDKShareMessengerGenericTemplateElement *element = [[FBSDKShareMessengerGenericTemplateElement alloc] init];\n    NSString *userShareCodeString = [[NSUserDefaults standardUserDefaults] objectForKey:@\"userInviteNum\"];\n    if ([userShareCodeString isEqualToString:@\"\"] | (userShareCodeString == nil)) {\n        element.title = [NSString stringWithFormat:@\"12673\"];\n    }else {\n        element.title = [NSString stringWithFormat:@\"%@\", userShareCodeString];\n    }\n    element.subtitle = @\"FreeADWiFi, Amazing!\";\n    element.imageURL = [NSURL URLWithString:@\"http://www.adwifi.com.tw/wp-content/uploads/2017/12/%E8%AA%A0%E5%93%81-01-1.png\"];\n    element.button = urlButton;\n\n    FBSDKShareMessengerGenericTemplateContent *content = [[FBSDKShareMessengerGenericTemplateContent alloc] init];\n    content.pageID = @\"\";\n    content.element = element;\n\n    FBSDKMessageDialog *messageDialog = [[FBSDKMessageDialog alloc] init];\n    messageDialog.delegate = self;\n    messageDialog.shareContent = content;\n\n    if ([messageDialog canShow]) {\n        [messageDialog show];\n    }\n\n\n    - (BOOL)application:(UIApplication *)app\n            openURL:(NSURL *)url\n            options:(NSDictionary&lt;NSString *, id&gt; *)options {\n\n    return [[GIDSignIn sharedInstance] handleURL:url\n                               sourceApplication:options[UIApplicationOpenURLOptionsSourceApplicationKey]\n                                      annotation:options[UIApplicationOpenURLOptionsAnnotationKey]] | [[FBSDKApplicationDelegate sharedInstance] application:app\n                                                                                                                                                     openURL:url\n                                                                                                                                           sourceApplication:options[UIApplicationOpenURLOptionsSourceApplicationKey]\n                                                                                                                                                  annotation:options[UIApplicationOpenURLOptionsAnnotationKey]\n                                                                                                       ];;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "sdwebimage"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1540377621, "post_id": 52966742, "comment_id": 92840096, "body": "Use the <code>sd_setImageWithURL:...</code> that have a completionBlock, you might get more info on why it&#39;s not working. Also, if <code>imageStr</code> is non-valid, you still can use <code>sd_setImageWithURL:</code> and set the <code>placeHolderImage</code>, not needs to do an if/else. Finally, are you sure that <code>imageStr1</code> &amp; <code>imageStr</code> are valid? Because, I&#39;d strongly recommend to NOT use <code>valueForKey:</code>, and printing the values could help in debug."}, {"owner": {"reputation": 3811, "user_id": 4377671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3721dbef6854b15c9ba3bbf07b153cb6?s=128&d=identicon&r=PG&f=1", "display_name": "Kuldeep", "link": "https://stackoverflow.com/users/4377671/kuldeep"}, "edited": false, "score": 1, "creation_date": 1540378124, "post_id": 52966742, "comment_id": 92840393, "body": "You code looks fine. Try to print value of <code>imageStr</code> and <code>imageStr1</code> and copy paste that url in browser. If image loads successfully then URL works well if not then there&#39;s some issue with URL."}, {"owner": {"reputation": 360, "user_id": 7022568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEHb8.jpg?s=128&g=1", "display_name": "santoshi", "link": "https://stackoverflow.com/users/7022568/santoshi"}, "edited": false, "score": 0, "creation_date": 1540378564, "post_id": 52966742, "comment_id": 92840651, "body": "hai kuldeep already I did that its loading successfully but in my image view its not displaying before image only showing."}, {"owner": {"reputation": 1204, "user_id": 6818278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90031ac7a87ffb3d9eecb77ed04c0d08?s=128&d=identicon&r=PG&f=1", "display_name": "Anuraj", "link": "https://stackoverflow.com/users/6818278/anuraj"}, "edited": false, "score": 0, "creation_date": 1540378767, "post_id": 52966742, "comment_id": 92840759, "body": "@santoshi For both the imageViews you are loading two different urls and you are getting same images for both, Is that the issue ?"}, {"owner": {"reputation": 360, "user_id": 7022568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEHb8.jpg?s=128&g=1", "display_name": "santoshi", "link": "https://stackoverflow.com/users/7022568/santoshi"}, "edited": false, "score": 0, "creation_date": 1540378927, "post_id": 52966742, "comment_id": 92840850, "body": "No Anuraj different images only one image loading fine but another image view its not displaying before image only showing"}, {"owner": {"reputation": 360, "user_id": 7022568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEHb8.jpg?s=128&g=1", "display_name": "santoshi", "link": "https://stackoverflow.com/users/7022568/santoshi"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540381097, "post_id": 52966742, "comment_id": 92842237, "body": "@Larme Thank you yours sollution is Working Perfect ."}], "owner": {"reputation": 360, "user_id": 7022568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEHb8.jpg?s=128&g=1", "display_name": "santoshi", "link": "https://stackoverflow.com/users/7022568/santoshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1540377426, "creation_date": 1540377149, "last_edit_date": 1540377426, "question_id": 52966742, "link": "https://stackoverflow.com/questions/52966742/how-to-display-two-different-images-coming-from-backend-in-different-image-views", "title": "How to display two different images coming from backend in different image views in iOS?", "body": "<p>I am trying to post two images in one URL I have two different buttons and two image views, both are uploading and both are coming from backend but only one image is changing if I uninstall and again installing the app the image is coming, and I'm using third party sd web image. If any Answers it would be appreciated.</p>\n\n<pre><code>NSString *imageStr = [NSString stringWithFormat:@\"%@\",[responseObject valueForKey:@\"Vendor_Image\"]];\nNSString *imageStr1 = [NSString stringWithFormat:@\"%@\",[responseObject valueForKey:@\"Vendor_Cover_Image\"]];\n\nif([imageStr isEqualToString:@\"\"])\n{\n\n    [_userImage setImage:[UIImage imageNamed:@\"default\"]];\n\n}\nelse\n{\n\n    [_userImage sd_setImageWithURL:[NSURL URLWithString:imageStr]\n        placeholderImage:[UIImage imageNamed:@\"default\"]];\n\n    _userImage.clipsToBounds = YES;\n\n}\n\nif([imageStr1 isEqualToString:@\"\"])\n{\n\n    [_coverImage setImage:[UIImage imageNamed:@\"default\"]];\n\n}\nelse\n{\n\n    [_coverImage sd_setImageWithURL:[NSURL URLWithString:imageStr1]\n        placeholderImage:[UIImage imageNamed:@\"default\"]];\n    _coverImage.clipsToBounds = YES;\n}\n</code></pre>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview", "autolayout"], "answers": [{"comments": [{"owner": {"reputation": 1017, "user_id": 816217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/94b6a640787803b10778776934644de9?s=128&d=identicon&r=PG", "display_name": "OXXY", "link": "https://stackoverflow.com/users/816217/oxxy"}, "edited": false, "score": 0, "creation_date": 1540376677, "post_id": 52966459, "comment_id": 92839495, "body": "so you mean I can remove the first line in my code?, also I have a problem with width and leading/trailing constraints. Aren&#39;t they conflicted ?!"}, {"owner": {"reputation": 464, "user_id": 3647156, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m49wK.png?s=128&g=1", "display_name": "eric long", "link": "https://stackoverflow.com/users/3647156/eric-long"}, "reply_to_user": {"reputation": 1017, "user_id": 816217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/94b6a640787803b10778776934644de9?s=128&d=identicon&r=PG", "display_name": "OXXY", "link": "https://stackoverflow.com/users/816217/oxxy"}, "edited": false, "score": 1, "creation_date": 1540377016, "post_id": 52966459, "comment_id": 92839711, "body": "Yes, you can remove first line."}, {"owner": {"reputation": 464, "user_id": 3647156, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m49wK.png?s=128&g=1", "display_name": "eric long", "link": "https://stackoverflow.com/users/3647156/eric-long"}, "reply_to_user": {"reputation": 1017, "user_id": 816217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/94b6a640787803b10778776934644de9?s=128&d=identicon&r=PG", "display_name": "OXXY", "link": "https://stackoverflow.com/users/816217/oxxy"}, "edited": false, "score": 0, "creation_date": 1540377139, "post_id": 52966459, "comment_id": 92839773, "body": "Width and lead/trailing may have conflict in some cases, like UIView."}], "tags": [], "owner": {"reputation": 464, "user_id": 3647156, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m49wK.png?s=128&g=1", "display_name": "eric long", "link": "https://stackoverflow.com/users/3647156/eric-long"}, "is_accepted": true, "score": 2, "last_activity_date": 1540376610, "last_edit_date": 1540376610, "creation_date": 1540376249, "answer_id": 52966459, "question_id": 52965860, "link": "https://stackoverflow.com/questions/52965860/understanding-uiscrollview-constraints/52966459#52966459", "title": "Understanding UIScrollView Constraints", "body": "<p>With your layout constraints, View's frame size is now become ScrollView's contentSize.\nSo if you change _contentViewWidthLayoutcontraint's constant, it is same as you change ScrollView contentSize.width. </p>\n\n<p>Note that ScrollView.frame.size and ScrollView.contentSize are totally different.</p>\n"}], "owner": {"reputation": 1017, "user_id": 816217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/94b6a640787803b10778776934644de9?s=128&d=identicon&r=PG", "display_name": "OXXY", "link": "https://stackoverflow.com/users/816217/oxxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52966459, "answer_count": 1, "score": 1, "last_activity_date": 1540376610, "creation_date": 1540374336, "question_id": 52965860, "link": "https://stackoverflow.com/questions/52965860/understanding-uiscrollview-constraints", "title": "Understanding UIScrollView Constraints", "body": "<p>I have a <code>UIScrollView</code> with a <code>UIView</code> inside it and 3 <code>UITableViews</code> inside the view and I have the following constraints for the view : </p>\n\n<p><a href=\"https://i.stack.imgur.com/2TueM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TueM.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my code, exactly in <code>ViewDidLayoutSubviews</code> I have the following code </p>\n\n<pre><code>- (void)viewDidLayoutSubviews {\n    [_containerScrollView setContentSize:CGSizeMake(SCREEN_WIDTH * 3, [_containerScrollView frame].size.height)];\n\n    [_contentViewWidthLayoutcontraint setConstant:SCREEN_WIDTH * 3];\n    [[self view] layoutIfNeeded];\n}\n</code></pre>\n\n<p>Which change the view width realtivly to the screen width.</p>\n\n<p>My question is <strong>why there is no conflict between the width constraint and the leading/trailing constraints ?</strong></p>\n"}, {"tags": ["ios", "objective-c", "xml", "soap"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540372304, "post_id": 52964983, "comment_id": 92836745, "body": "Did you look at any XML parser? Like <code>NSXMLParser</code>?"}, {"owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540372371, "post_id": 52964983, "comment_id": 92836802, "body": "@Larme my xml is stored as NSString"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540372497, "post_id": 52964983, "comment_id": 92836881, "body": "That&#39;s not answering the question. Your response is XML. So you need to parse XML. So did you look how to parse XML in Objective-C?"}, {"owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540372612, "post_id": 52964983, "comment_id": 92836956, "body": "@Larme yes of course, and I can&#39;t get it work"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540372701, "post_id": 52964983, "comment_id": 92836997, "body": "And what are your attempts then? I&#39;m not familiar with XML parsing, but if someone whom is and sees your question, he/she might spot your error, but might be lazy in parsing the whole XML for you. Also your question seems to be &quot;code for me&quot;."}, {"owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "edited": false, "score": 0, "creation_date": 1540377333, "post_id": 52964983, "comment_id": 92839909, "body": "@ChefTraian Please check my answer and let me know if you have any confusion"}], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 1376400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6a91e1fa4dbd15c054ddd0406a6327?s=128&d=identicon&r=PG", "display_name": "user1376400", "link": "https://stackoverflow.com/users/1376400/user1376400"}, "is_accepted": false, "score": 0, "last_activity_date": 1540372667, "creation_date": 1540372667, "answer_id": 52965272, "question_id": 52964983, "link": "https://stackoverflow.com/questions/52964983/soap-response-stored-into-nsstring-need-to-be-parsed/52965272#52965272", "title": "SOAP response stored into NSString need to be parsed", "body": "<p>You have to use NSXMLParser</p>\n\n<p><a href=\"https://developer.apple.com/documentation/foundation/nsxmlparser\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/foundation/nsxmlparser</a></p>\n\n<p>Please find some example code explains below</p>\n\n<p><a href=\"https://www.ioscreator.com/tutorials/parsing-xml-tutorial\" rel=\"nofollow noreferrer\">https://www.ioscreator.com/tutorials/parsing-xml-tutorial</a></p>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1540380143, "post_id": 52966744, "comment_id": 92841593, "body": "Thank that solved my problem, now I just need an hint I&#39;m storing this data into a session. NSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];     [[session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) { ... How can I use this variable outside the session?"}, {"owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "reply_to_user": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1540380407, "post_id": 52966744, "comment_id": 92841772, "body": "Thanks for accepting my answer You can do two things one is call this function which returns this block for that you can refer to <a href=\"https://medium.com/@amyjoscelyn/blocks-and-closures-in-objective-c-2b763e9e0dc8\" rel=\"nofollow noreferrer\">medium.com/@amyjoscelyn/&hellip;</a>"}, {"owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "reply_to_user": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "edited": false, "score": 0, "creation_date": 1540380425, "post_id": 52966744, "comment_id": 92841787, "body": "Or you can use NSURLSessionDelegate <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiondelegate?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "is_accepted": true, "score": 1, "last_activity_date": 1540379362, "last_edit_date": 1540379362, "creation_date": 1540377151, "answer_id": 52966744, "question_id": 52964983, "link": "https://stackoverflow.com/questions/52964983/soap-response-stored-into-nsstring-need-to-be-parsed/52966744#52966744", "title": "SOAP response stored into NSString need to be parsed", "body": "<p>Well you can refer to this <a href=\"https://stackoverflow.com/a/20161072/5807290\">SO Answer</a>. You have to copy the <a href=\"https://www.dropbox.com/s/uzkfckggditaupa/XMLParser.m?dl=0\" rel=\"nofollow noreferrer\">XMLParser.h</a> and <a href=\"https://www.dropbox.com/s/2xk0jin3f6l2veb/XMLParser.h?dl=0\" rel=\"nofollow noreferrer\">XMLParser.m</a> files and use as follows:</p>\n\n<pre><code>NSString *xmlString = [[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];\nNSDictionary *xmlDoc = [NSDictionary dictionaryWithXMLString:xmlString];\nNSInteger value = [[xmlDoc valueForKeyPath:@\"soap:Body.ReadDataResponse.Data.values.ArrayOfCpFieldAndValue.cpFieldAndValue.Value\"] integerValue];\nNSLog(@\"%d\", value);\n</code></pre>\n\n<p><strong>Output:</strong> </p>\n\n<pre><code>0\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 10341913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEfuA.jpg?s=128&g=1", "display_name": "washedev", "link": "https://stackoverflow.com/users/10341913/washedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 52966744, "answer_count": 2, "score": 1, "last_activity_date": 1540379362, "creation_date": 1540371844, "question_id": 52964983, "link": "https://stackoverflow.com/questions/52964983/soap-response-stored-into-nsstring-need-to-be-parsed", "title": "SOAP response stored into NSString need to be parsed", "body": "<p>I have this SOAP Request and my response has been stored into a NSString, I need to read this response and get data stored into a field. This is an example of my response: </p>\n\n<p><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;&lt;soap:Body&gt;&lt;ReadDataResponse xmlns=\"http://sysman.it/webservices/\"&gt;&lt;ReadDataResult&gt;success&lt;/ReadDataResult&gt;&lt;Data&gt;&lt;TableName&gt;V_CP_NOTIFICATIONS_DEVICEID&lt;/TableName&gt;&lt;values&gt;&lt;ArrayOfCpFieldAndValue&gt;&lt;cpFieldAndValue&gt;&lt;Name /&gt;&lt;Value&gt;0&lt;/Value&gt;&lt;Type&gt;IntegerType&lt;/Type&gt;&lt;CompOperator&gt;=&lt;/CompOperator&gt;&lt;/cpFieldAndValue&gt;&lt;/ArrayOfCpFieldAndValue&gt;&lt;/values&gt;&lt;keys&gt;&lt;cpFieldAndValue&gt;&lt;Name&gt;DEVICE_ID&lt;/Name&gt;&lt;Value&gt;1006be49b73a98af&lt;/Value&gt;&lt;Type&gt;VarcharType&lt;/Type&gt;&lt;CompOperator&gt;=&lt;/CompOperator&gt;&lt;/cpFieldAndValue&gt;&lt;cpFieldAndValue&gt;&lt;Name&gt;PUSH_READCNT&lt;/Name&gt;&lt;Value&gt;0&lt;/Value&gt;&lt;Type&gt;IntegerType&lt;/Type&gt;&lt;CompOperator&gt;=&lt;/CompOperator&gt;&lt;/cpFieldAndValue&gt;&lt;/keys&gt;&lt;orClause&gt;false&lt;/orClause&gt;&lt;/Data&gt;&lt;/ReadDataResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;</code></p>\n\n<p><code>&lt;cpFieldAndValue&gt;&lt;Name /&gt;&lt;Value&gt;0&lt;/Value&gt;</code> I need that number to be stored into a variable. This is my code at the moment:</p>\n\n<pre><code>NSData *postData = [sSOAPMessage dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];\n\nNSString *postLength = [NSString stringWithFormat:@\"%lu\", [postData length]];\n\nNSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n[request setURL:[NSURL URLWithString:@\"----\"]];\n[request setHTTPMethod:@\"POST\"];\n[request addValue:@\"text/xml\" forHTTPHeaderField:@\"Content-Type\"];\n[request setHTTPBody:postData];\n\nNSURLSession *session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\n[[session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n    NSString *requestReply = [[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];\n    NSLog(@\"Request reply: %@\", requestReply);\n\n}] resume];\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["objective-c", "iphone", "ios12"], "comments": [{"owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "edited": false, "score": 1, "creation_date": 1540373092, "post_id": 52964370, "comment_id": 92837266, "body": "Looks like memory management issue, try enabling &quot;Zombie Objects&quot; and running again to see what it reveals. (Product-&gt;Scheme-&gt; Edit Scheme -&gt; &quot;Run&quot; -&gt; Diagnostics sub tab"}, {"owner": {"reputation": 485, "user_id": 2813740, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a156419e2568b780b30eea823a7fc9fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2813740", "link": "https://stackoverflow.com/users/2813740/user2813740"}, "reply_to_user": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "edited": false, "score": 0, "creation_date": 1540376478, "post_id": 52964370, "comment_id": 92839366, "body": "i did but same thing , app crash at same line .                                                                  NSURLSessionDataTask *task = [sessionMnger dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) with message    [__NSURLSessionLocal dataTaskWithRequest:completionHandler:]: message sent to deallocated instance 0x100c878c0"}, {"owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "edited": false, "score": 2, "creation_date": 1540377729, "post_id": 52964370, "comment_id": 92840148, "body": "Ok, thats good (sort of, enabling &quot;Zombie Objects&quot; should not fix it, but reveal the reason for the crash). So your sessionMnger is released prematurely. I can&#39;t see how that could happen from your code. Are you sure you are not missing something relevant from your code snippets? Does those two lines (the one where you get sessionMnger and use it) follow each other without anything in between?"}, {"owner": {"reputation": 485, "user_id": 2813740, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a156419e2568b780b30eea823a7fc9fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2813740", "link": "https://stackoverflow.com/users/2813740/user2813740"}, "reply_to_user": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "edited": false, "score": 0, "creation_date": 1540379387, "post_id": 52964370, "comment_id": 92841116, "body": "hello, thank you so much for help i had added -fno-objc-arc (Build Phases) to SessionManager Class. once i have deleted it is retaining global session(will just down basic test working fine now.). Thank you so much. can you please add as Answer i will vote it so that it will help others."}], "answers": [{"tags": [], "owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "is_accepted": true, "score": 1, "last_activity_date": 1540379918, "last_edit_date": 1540379918, "creation_date": 1540377705, "answer_id": 52966929, "question_id": 52964370, "link": "https://stackoverflow.com/questions/52964370/nsurlsessiondatatask-datataskwithrequestcompletionhandler-issue-in-ios12/52966929#52966929", "title": "NSURLSessionDataTask, dataTaskWithRequest:completionHandler Issue in IOS12", "body": "<p>Usually when you get \"unrecognized selector sent to instance\" error with unrelated class name (<code>NSConcreteMapTable</code> in this case) this signals memory management issue. Most likely original object is already released, memory is corrupted and runtime gets confused.</p>\n\n<p>To diagnose, try enabling \"Zombie Objects\" from Scheme menu, that should help identify the crash cause. Look for clues why memory corruption might be happening.</p>\n"}], "owner": {"reputation": 485, "user_id": 2813740, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a156419e2568b780b30eea823a7fc9fc?s=128&d=identicon&r=PG&f=1", "display_name": "user2813740", "link": "https://stackoverflow.com/users/2813740/user2813740"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 52966929, "answer_count": 1, "score": 0, "last_activity_date": 1540382531, "creation_date": 1540370035, "last_edit_date": 1540382531, "question_id": 52964370, "link": "https://stackoverflow.com/questions/52964370/nsurlsessiondatatask-datataskwithrequestcompletionhandler-issue-in-ios12", "title": "NSURLSessionDataTask, dataTaskWithRequest:completionHandler Issue in IOS12", "body": "<p>In my Objective-C, iPhone App I was using NSURLSession successfully, my App started crashing with below error from iOS 12:</p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[NSConcreteMapTable dataTaskWithRequest:completionHandler:]: unrecognized selector sent to instance</p>\n</blockquote>\n\n<p>To fetch Token ==></p>\n\n<pre><code>+ (NSURLSession *)sharedSessionManager\n{\n    static NSURLSession *session = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n    NSURLSessionConfiguration *sessionConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];\n    [sessionConfiguration setHTTPAdditionalHeaders:@{\n                                                  @\"Accept\": @\"application/json\"\n                                                  }\n         ];\nsession = [NSURLSession sessionWithConfiguration:sessionConfiguration delegate:nil delegateQueue:nil];\n    });\n    return session;\n}\n</code></pre>\n\n<p>Get saved token for All future calls ==> </p>\n\n<pre><code>+ (NSURLSession *)sharedAsyncSessionManager\n{\n    NSString *authToken = [NSString stringWithFormat: @\"Bearer %@\", m_strToken];\n    static NSURLSession *session = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n    NSURLSessionConfiguration *sessionConfiguration =[NSURLSessionConfiguration defaultSessionConfiguration];\n    [sessionConfiguration setHTTPAdditionalHeaders:@{\n                                                         @\"Content-Type\": @\"application/json\",\n                                                         @\"Authorization\": authToken}\n         ];\n        session = [NSURLSession sessionWithConfiguration:sessionConfiguration delegate:nil delegateQueue:nil];\n    });\n    return session;\n}\n</code></pre>\n\n<p>Call API's ==></p>\n\n<pre><code>NSURLSession *sessionMnger = [SessionManager sharedAsyncSessionManager];\n\nNSURLSessionDataTask *task = [sessionMnger dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error)\n  {\n      NSMutableArray *arrTemp = [[NSMutableArray alloc]init];\n  }\n</code></pre>\n\n<p>App crashes for dataTaskWithRequest in IOS 12.  error message i can read as below:</p>\n\n<p><strong>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[NSConcreteMapTable dataTaskWithRequest:completionHandler:]: unrecognized selector sent to instance</strong></p>\n\n<p>when ever i wanted to call API with above sessionMnger App crash....</p>\n\n<p>anything missing from iOS 12 ?</p>\n"}, {"tags": ["ios", "objective-c", "nsdateformatter"], "comments": [{"owner": {"reputation": 3072, "user_id": 1151887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/M61JV.jpg?s=128&g=1", "display_name": "Dhaval Bhadania", "link": "https://stackoverflow.com/users/1151887/dhaval-bhadania"}, "edited": false, "score": 0, "creation_date": 1540364947, "post_id": 52962763, "comment_id": 92832423, "body": "You set wrong format : yyyy-MM-ss instead of yyyy-MM-dd"}, {"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "reply_to_user": {"reputation": 3072, "user_id": 1151887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/M61JV.jpg?s=128&g=1", "display_name": "Dhaval Bhadania", "link": "https://stackoverflow.com/users/1151887/dhaval-bhadania"}, "edited": false, "score": 0, "creation_date": 1540365379, "post_id": 52962763, "comment_id": 92832674, "body": "thats one is a typo when i asking a question in stackoverflow."}, {"owner": {"reputation": 10067, "user_id": 7734643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Q8g6Y.jpg?s=128&g=1", "display_name": "Rakesha Shastri", "link": "https://stackoverflow.com/users/7734643/rakesha-shastri"}, "edited": false, "score": 0, "creation_date": 1540365437, "post_id": 52962763, "comment_id": 92832705, "body": "@joey <a href=\"https://stackoverflow.com/posts/52962763/edit\">edit</a> the question and copy paste the exact code."}], "answers": [{"tags": [], "owner": {"reputation": 3227, "user_id": 4896949, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/o3BDf.jpg?s=128&g=1", "display_name": "Arnab", "link": "https://stackoverflow.com/users/4896949/arnab"}, "is_accepted": false, "score": 1, "last_activity_date": 1540364934, "creation_date": 1540364934, "answer_id": 52962884, "question_id": 52962763, "link": "https://stackoverflow.com/questions/52962763/objective-c-dateformatter-yyyy-mm-dd-hhmmss-change-to-yyyy-mm-dd/52962884#52962884", "title": "Objective-C dateformatter. yyyy-MM-dd hh:mm:ss change to yyyy-MM-dd", "body": "<p>Convert the string to date with proper format then change that date to string with the format you need.</p>\n\n<p>Change the code as follows:</p>\n\n<pre><code>NSString *dateValue = self.selectedReward.expires_at;\nNSLog(@\"Date value --- %@\", dateValue);\nNSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n[formatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"]; //change the format\nNSDate *date = [formatter dateFromString:dateValue];\n//add this:\n[formatter setDateFormat:@\"yyyy-MM-ss\"];\nNSString *dateStr = [formatter stringFromDate:date];\n[cell.lblExpire setText:[NSString stringWithFormat:@\"%@ %@\",NSLocalizedString(@\"lbl_Expired_On\", nil),dateStr]];\nNSLog(@\"date %@\", dateStr);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "edited": false, "score": 0, "creation_date": 1540365465, "post_id": 52962890, "comment_id": 92832729, "body": "thank you. its exactly what i want. try to change string to date with different format isn&#39;t working."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "reply_to_user": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "edited": false, "score": 1, "creation_date": 1540365499, "post_id": 52962890, "comment_id": 92832752, "body": "@joey - which line you mentioned <code>try to change string to string is not working.</code>"}], "tags": [], "owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "is_accepted": true, "score": 1, "last_activity_date": 1540366272, "last_edit_date": 1540366272, "creation_date": 1540364944, "answer_id": 52962890, "question_id": 52962763, "link": "https://stackoverflow.com/questions/52962763/objective-c-dateformatter-yyyy-mm-dd-hhmmss-change-to-yyyy-mm-dd/52962890#52962890", "title": "Objective-C dateformatter. yyyy-MM-dd hh:mm:ss change to yyyy-MM-dd", "body": "<p>In your question, you have clearly mentioned the date format also then why are used the wrong format</p>\n\n<pre><code>NSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n//2018-10-15 15:37:00   \n[formatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\nNSDate *date = [formatter dateFromString:dateValue];\nNSLog(@\"date %@\", date);\n[formatter setDateFormat:@\"yyyy-MM-dd\"];\nNSString *getFinalDate = [formatter stringFromDate:dateValue];\nNSLog(@\"final Date %@\", getFinalDate);\n</code></pre>\n\n<p>for more info see this sample <a href=\"https://stackoverflow.com/questions/42524651/convert-nsdate-to-string-in-ios-swift/42524767#42524767\">output</a></p>\n"}], "owner": {"reputation": 73, "user_id": 9719709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "joey", "link": "https://stackoverflow.com/users/9719709/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 52962890, "answer_count": 2, "score": 0, "last_activity_date": 1552288778, "creation_date": 1540364507, "last_edit_date": 1552288778, "question_id": 52962763, "link": "https://stackoverflow.com/questions/52962763/objective-c-dateformatter-yyyy-mm-dd-hhmmss-change-to-yyyy-mm-dd", "title": "Objective-C dateformatter. yyyy-MM-dd hh:mm:ss change to yyyy-MM-dd", "body": "<p>How to getting Dateformat yyyy-MM-dd from string yyyy-MM-dddd hh:mm:ss</p>\n\n<pre><code>NSString *dateValue = self.selectedReward.expires_at;\nNSLog(@\"Date value --- %@\", dateValue);\nNSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n[formatter setDateFormat:@\"yyyy-MM-dd\"];\nNSDate *date = [formatter dateFromString:dateValue];\n[cell.lblExpire setText:[NSString stringWithFormat:@\"%@ %@\",NSLocalizedString(@\"lbl_Expired_On\", nil),dateValue]];\nNSLog(@\"date %@\", date);\n</code></pre>\n\n<blockquote>\n  <p>2018-10-24 14:58:02.141296+0800 TKBakery[21601:277978] Date value ---2018-10-15 15:37:00 </p>\n  \n  <p>2018-10-24 14:58:02.141878+0800 TKBakery[21601:277978] date---- (null)</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1540364052, "post_id": 52962588, "comment_id": 92831912, "body": "I think this is a private library and you cant upload build with private library"}, {"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1540364118, "post_id": 52962588, "comment_id": 92831944, "body": "<a href=\"https://github.com/davidmurray/wifi/issues/16\" rel=\"nofollow noreferrer\">github.com/davidmurray/wifi/issues/16</a>  this may help you"}, {"owner": {"reputation": 31, "user_id": 7477629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b43a8ba81a9f4f30f7255e22a5977e?s=128&d=identicon&r=PG&f=1", "display_name": "sathya", "link": "https://stackoverflow.com/users/7477629/sathya"}, "reply_to_user": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1540372984, "post_id": 52962588, "comment_id": 92837198, "body": "While am using this (<a href=\"https://github.com/davidmurray/wifi/issues/16\" rel=\"nofollow noreferrer\">github.com/davidmurray/wifi/issues/16</a>) am getting below error. This is not even compiling.  Error : Undefined symbols for architecture x86_64: &quot;_WiFiManagerClientCopyNetworks&quot;, referenced from: -[HomeScreenViewController scanWifiClick] in HomeScreenViewController.o &quot;_WiFiManagerClientCreate&quot;, referenced from: -[HomeScreenViewController scanWifiClick] in HomeScreenViewController.o ld: symbol(s) not found for architecture x86_64 clang: error: linker command failed with exit code 1 (use -v to see invocation)"}], "owner": {"reputation": 31, "user_id": 7477629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b43a8ba81a9f4f30f7255e22a5977e?s=128&d=identicon&r=PG&f=1", "display_name": "sathya", "link": "https://stackoverflow.com/users/7477629/sathya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540367877, "creation_date": 1540363821, "last_edit_date": 1540367877, "question_id": 52962588, "link": "https://stackoverflow.com/questions/52962588/how-to-use-mobilewifi-framework-in-xcode-6-4", "title": "How to use MobileWifi framework in xcode 6.4?", "body": "<p>How can I import <code>mobilewifi framework</code> to my <code>objective c</code> class. While importing <code>mobilewifi framework</code> it contains <code>command tool</code>, there is no header files. Please advise.</p>\n"}, {"tags": ["ios", "objective-c", "metal", "metalkit"], "answers": [{"tags": [], "owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "is_accepted": false, "score": 0, "last_activity_date": 1540409041, "creation_date": 1540409041, "answer_id": 52976538, "question_id": 52961303, "link": "https://stackoverflow.com/questions/52961303/rendering-2-separate-mtkview-with-1-draw-call/52976538#52976538", "title": "Rendering 2 separate MtkView with 1 Draw call", "body": "<p>How have you come to the conclusion that parallel command encoding is a solution?</p>\n\n<p>The purpose of parallel command encoding is to distribute the CPU-side encoding work across threads. It has nothing to do with how that work is eventually scheduled and performed on the GPU. If you're CPU-bound, you might have a case for using parallel encoding, but each parallel render command encoder can only encode commands that affect one view.</p>\n\n<p>It's not possible to render to two <code>MTKView</code>s simultaneously with one draw call, because each draw call is encoded with a render command encoder that is affiliated with its corresponding view's current drawable.</p>\n\n<p>You seem to be under the misapprehension that the work you encode will necessarily be executed sequentially on the GPU. This isn't the case. If it's possible to schedule independent work to execute concurrently, the GPU driver will do so, but that's out of your control.</p>\n"}, {"tags": [], "owner": {"reputation": 2294, "user_id": 1443038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/AoHgd.png?s=128&g=1", "display_name": "Ol Sen", "link": "https://stackoverflow.com/users/1443038/ol-sen"}, "is_accepted": false, "score": 0, "last_activity_date": 1567472114, "last_edit_date": 1567472114, "creation_date": 1567471573, "answer_id": 57763814, "question_id": 52961303, "link": "https://stackoverflow.com/questions/52961303/rendering-2-separate-mtkview-with-1-draw-call/57763814#57763814", "title": "Rendering 2 separate MtkView with 1 Draw call", "body": "<p>Clever use of ViewportSize per Encoder and UIView layering make it possible to render at 'once'.</p>\n\n<pre><code>- (void)drawInMTKView:(nonnull MTKView *)view {\n    id&lt;MTLCommandBuffer&gt; commandBuffer = [_commandQueue commandBuffer];\n\n    MTLRenderPassDescriptor *renderPassDescriptor = view.currentRenderPassDescriptor;\n    if(renderPassDescriptor != nil) {\n\n        // allows for transparent layering\n        renderPassDescriptor.colorAttachments[0].clearColor = MTLClearColorMake(0,0,0,0);\n\n        // allowes the encoders to work on different threads\n        id&lt;MTLParallelRenderCommandEncoder&gt; parallelRenderEnc = [commandBuffer parallelRenderCommandEncoderWithDescriptor:renderPassDescriptor];\n\n        // so we need to get the renderEncoders from the parallelRenderEncoder\n        id&lt;MTLRenderCommandEncoder&gt; renderEncoder1 = [parallelRenderEnc renderCommandEncoder];\n        id&lt;MTLRenderCommandEncoder&gt; renderEncoder2 = [parallelRenderEnc renderCommandEncoder];\n\n        // each of which need their own viewport settings, they dont need to be equaly\n        [renderEncoder1 setViewport:(MTLViewport){0.0, 0.0, _viewportSize.x, _viewportSize.y, -1.0, 1.0 }];\n        [renderEncoder2 setViewport:(MTLViewport){0.0, 0.0, _viewportSize.x, _viewportSize.y, -1.0, 1.0 }];\n\n        [renderEncoder1 setRenderPipelineState:_renderPipeLine1];\n        //do your Metal SharedBuffer stuff for encoder1 here\n        //renderEncoder1 set uniform buffer/bytes\n        //renderEncoder1 set vertex buffer/bytes\n        //renderEncoder1 drawPrimitives with the MTLPrimitiveType you want\n\n        [renderEncoder2 setRenderPipelineState:_renderPipeLine2];\n        //do your Metal SharedBuffer stuff for encoder2 here\n        //renderEncoder2 set uniform buffer/bytes\n        //renderEncoder2 set vertex buffer/bytes\n        //renderEncoder2 drawPrimitives with the MTLPrimitiveType you want\n\n        [renderEncoder1 endEncoding];\n        [renderEncoder2 endEncoding];\n\n       [parallelRenderEnc endEncoding]\n       [commandBuffer presentDrawable:view.currentDrawable];\n    }\n    [commandBuffer commit];\n}\n</code></pre>\n\n<p>You can decide which of the commandEncoders are allowed to run on the same thread or on their own thread.\nNow you could go for tripleBuffering to make CPU and GPU work not on the same buffer at the same time.</p>\n"}], "owner": {"reputation": 2294, "user_id": 1443038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/AoHgd.png?s=128&g=1", "display_name": "Ol Sen", "link": "https://stackoverflow.com/users/1443038/ol-sen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1567472114, "creation_date": 1540356766, "last_edit_date": 1540482272, "question_id": 52961303, "link": "https://stackoverflow.com/questions/52961303/rendering-2-separate-mtkview-with-1-draw-call", "title": "Rendering 2 separate MtkView with 1 Draw call", "body": "<p>Having <strong>two</strong> different (not overlapping each other) <code>MtkViews</code> running properly. Each with different Uniforms, Vertices and different Primitive Types. Already made one of both Views a combination of different pipelines rendering with one RenderCommandEncoder. Works fine.\nTo lower energy impact on iOS devices i reduced the <code>mtkview.preferredFramesPerSecond = 24;</code> on each View. </p>\n\n<p>Is there a way to process them in parallel on GPU so they do not sum up rendering after each other?</p>\n\n<p>Assuming i have to use </p>\n\n<pre><code>id&lt;MTLParallelRenderCommandEncoder&gt; renderEncoder = \n[commandBuffer parallelRenderCommandEncoderWithDescriptor:renderPassDescriptor];\n</code></pre>\n\n<p>but this Encoder does <strong>not</strong> know about ...</p>\n\n<pre><code>[renderEncoder setViewport:(MTLViewport){0.0, 0.0, _viewportSize.x, _viewportSize.y, -1.0, 1.0 }];\n</code></pre>\n\n<p>... wich i used of course with the normal RenderCommandEncoder.</p>\n\n<p>So how to properly setup <strong>MTLParallelRenderCommandEncoder</strong></p>\n\n<pre><code>- (void)drawInMTKView:(nonnull MTKView *)view {\n    id&lt;MTLCommandBuffer&gt; commandBuffer = [_commandQueue commandBuffer];\n    //commandBuffer.label = @\"CombiCommand\";\n\n    MTLRenderPassDescriptor *renderPassDescriptor = view.currentRenderPassDescriptor;\n    if(renderPassDescriptor != nil) {\n        renderPassDescriptor.colorAttachments[0].clearColor = MTLClearColorMake(0,0,0,0);\n\n\n        id&lt;MTLRenderCommandEncoder&gt; renderEncoder = [commandBuffer renderCommandEncoderWithDescriptor:renderPassDescriptor];\n        //renderEncoder.label = @\"CombiRenderEncoder\";\n        [renderEncoder setViewport:(MTLViewport){0.0, 0.0, _viewportSize.x, _viewportSize.y, -1.0, 1.0 }];\n\n\n        //----CHART----\n        [renderEncoder setRenderPipelineState:_chartPipelineState];\n        if (_pat-&gt;infoCC.needsDisplay ) {\n            [CCChartMetalRenderer changeChartDataWithBuffer:_chartVertexBuffer];\n            _chartUniform.statisch = somedata.isStatic;\n            _pat-&gt;infoCC.needsDisplay=false;\n        }\n        [renderEncoder setVertexBytes:&amp;_viewportSize length:sizeof(_viewportSize) atIndex:IndexViewportSize];\n        [renderEncoder setVertexBytes:&amp;_chartUniform length:sizeof(_chartUniform) atIndex:IndexUniforms];\n        [renderEncoder setVertexBuffer:_chartVertexBuffer offset:0 atIndex:IndexVertices];\n        [renderEncoder drawPrimitives:MTLPrimitiveTypeLineStrip vertexStart:0 vertexCount:_chartVerticesCount];\n\n\n        //----NOTE----\n        [renderEncoder setRenderPipelineState:_notePipelineState];\n        if (_pat-&gt;infoNotePatch.needsDisplay ) {\n            [NoteMetalRenderer changeVertexDataWithMtlBuffer:_noteVertexBuffer];\n            _noteUniform.color = simd_make_float4(1.0, 0.0, 1.0, 1.0);\n            _noteUniform.isOn = somedata.isOn;\n            _pat-&gt;infoNotePatch.needsDisplay=false;\n        }\n        [renderEncoder setVertexBytes:&amp;_viewportSize length:sizeof(_viewportSize) atIndex:IndexViewportSize];\n        [renderEncoder setVertexBytes:&amp;_noteUniform length:sizeof(_noteUniform) atIndex:IndexUniforms];\n        [renderEncoder setVertexBuffer:_noteVertexBuffer offset:0 atIndex:IndexVertices];\n        [renderEncoder drawPrimitives:MTLPrimitiveTypeTriangle vertexStart:0 vertexCount:_notesCount * sizeof(NoteVertex)];\n\n\n        //----POS----\n        [renderEncoder setRenderPipelineState:_posPipelineState];\n        _posUniform.statischValue = somedata.value;\n        _posUniform.statisch = somedata.isStatic;\n        [renderEncoder setVertexBytes:&amp;_viewportSize length:sizeof(_viewportSize) atIndex:IndexViewportSize];\n        [renderEncoder setVertexBytes:&amp;_posUniform length:sizeof(_posUniform) atIndex:IndexUniforms];\n        [renderEncoder drawPrimitives:MTLPrimitiveTypeLine vertexStart:0 vertexCount:16];\n\n        //---ENDENCODIG---\n        [renderEncoder endEncoding];\n        [commandBuffer presentDrawable:view.currentDrawable];\n    }\n    [commandBuffer commit];\n}\n</code></pre>\n\n<p>and the second mtkView</p>\n\n<pre><code>- (void)drawInMTKView:(nonnull MTKView *)view {\n    id&lt;MTLCommandBuffer&gt; commandBuffer = [_commandQueue commandBuffer];\n    //commandBuffer.label = @\"CCTableCommand\";\n\n    MTLRenderPassDescriptor *renderPassDescriptor = view.currentRenderPassDescriptor;\n    if(renderPassDescriptor != nil) {\n        renderPassDescriptor.colorAttachments[0].clearColor = MTLClearColorMake(0,0,0,0);\n\n        id&lt;MTLRenderCommandEncoder&gt; renderEncoder =\n        [commandBuffer renderCommandEncoderWithDescriptor:renderPassDescriptor];\n        //renderEncoder.label = @\"CCTableRenderEncoder\";\n        [renderEncoder setViewport:(MTLViewport){0.0, 0.0, _viewportSize.x, _viewportSize.y, -1.0, 1.0 }];\n\n        [renderEncoder setRenderPipelineState:_pipelineState];\n        [self.class changeVertexDataWithPatch:_pat Ch:_viewCH Quantize:_quantized mtlBuffer:_vertexBuffer];\n        _tableUniform.isOn = somedata.isOn;\n        [renderEncoder setVertexBytes:&amp;_viewportSize length:sizeof(_viewportSize) atIndex:IndexViewportSize];\n        [renderEncoder setVertexBytes:&amp;_tableUniform length:sizeof(_tableUniform) atIndex:IndexUniforms];\n        [renderEncoder setVertexBuffer:_vertexBuffer offset:0 atIndex:IndexVertices];\n\n        [renderEncoder drawPrimitives:MTLPrimitiveTypeTriangle vertexStart:0 vertexCount:_numVertices];\n\n        [renderEncoder endEncoding];\n        [commandBuffer presentDrawable:view.currentDrawable];\n    }\n    [commandBuffer commit];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "constraints", "height"], "comments": [{"owner": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540356087, "post_id": 52960667, "comment_id": 92829097, "body": "it might be happen due to conflict of constrain when you change self.view1heightConstraints.constant=0.0, you can check conflict by changing constrain constant value from storyboard.  you can set  priority value to resolve conflict."}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540356360, "post_id": 52960667, "comment_id": 92829158, "body": "@JatinKathrotiya do you mean changing the priority value 1000 to something else?"}, {"owner": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540356926, "post_id": 52960667, "comment_id": 92829319, "body": "Did you get conflict?"}, {"owner": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540357084, "post_id": 52960667, "comment_id": 92829361, "body": "change Priority (750) of constrain which is conflicted with heigh constrain"}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540357315, "post_id": 52960667, "comment_id": 92829440, "body": "@JatinKathrotiya I changed the priority to 750 for the height constraint which is conflicting but still it didn&#39;t work."}, {"owner": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540358818, "post_id": 52960667, "comment_id": 92829875, "body": "Do not change priority of height it should be 1000. but need to change priority of bottom constrain"}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540359931, "post_id": 52960667, "comment_id": 92830207, "body": "@JatinKathrotiya do u mean bottom space to constraint of view which is not getting hidden properly?"}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 489, "user_id": 4665854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kMgGB.jpg?s=128&g=1", "display_name": "Jatin Kathrotiya", "link": "https://stackoverflow.com/users/4665854/jatin-kathrotiya"}, "edited": false, "score": 0, "creation_date": 1540360136, "post_id": 52960667, "comment_id": 92830270, "body": "I have set the priority to 750 for the bottom space to constraint of view which is not getting hidden properly but that didn&#39;t work."}], "owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540351631, "creation_date": 1540351631, "question_id": 52960667, "link": "https://stackoverflow.com/questions/52960667/the-layout-of-the-view-is-not-hiding-properly-using-height-constraint-in-ios-obj", "title": "The layout of the view is not hiding properly using Height Constraint in IOS objective C", "body": "<p>I'm hiding and showing my view by modifying the height constraint. As you can see below</p>\n\n<p><a href=\"https://i.stack.imgur.com/vZrwt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZrwt.png\" alt=\"enter image description here\"></a> </p>\n\n<p>So I tried the same step for two of my views. One view hides properly but other one doesn't hide properly. This is the screenshot of layout of view which <strong>hides properly</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Z3PpD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3PpD.png\" alt=\"\"></a></p>\n\n<p>These are the constraints of the Layout:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UjIIf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UjIIf.png\" alt=\"\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/tkDOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tkDOf.png\" alt=\"\"></a></p>\n\n<p>This is the code which is used to hide and show the view which <strong>hides properly</strong></p>\n\n<pre><code>- (IBAction)NFASnewclick:(id)sender {\n    if(_NFASFormB.isOn)\n    {\n        self.FormHeightConstraint.constant=0.0;\n         NSLog(@\"Hide Form\");\n    }\n    else\n    {\n        self.FormHeightConstraint.constant=270;\n         NSLog(@\"show form\");\n    }\n}\n</code></pre>\n\n<p>This is the screenshot of layout of view which <strong>doesn't hides properly</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/gLkEs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLkEs.png\" alt=\"\"></a></p>\n\n<p>These are the constraints of the Layout:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XYXZ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XYXZ3.png\" alt=\"\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/7LEsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7LEsC.png\" alt=\"\"></a></p>\n\n<p>This is the code which is used to hide and show the view which <strong>does not hide properly</strong></p>\n\n<pre><code>- (IBAction)NFASoldclick:(id)sender {\n    if(_NFASDD.isOn)\n    {\n        self.view1heightConstraints.constant=0.0;\n       // [self.view1 setNeedsUpdateConstraints];\n        NSLog(@\"HIDE layout\");\n    }\n    else\n    {\n         self.view1heightConstraints.constant=730;\n       // [self.view1 setNeedsUpdateConstraints];\n        NSLog(@\"show layout\");\n    }\n}\n</code></pre>\n\n<p>I don't know what is wrong with my code. Because its exactly same as the view which is hiding properly. Maybe there is some problem with the constraint of the view. Which is hiding the view but brings big spaces. No clue how to fix that.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "base64"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540351574, "post_id": 52960651, "comment_id": 92828137, "body": "Do you get a base64 string? It&#39;s unclear what you are really asking."}, {"owner": {"reputation": 4964, "user_id": 1915320, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/4yzot.jpg?s=128&g=1", "display_name": "Ravindhiran", "link": "https://stackoverflow.com/users/1915320/ravindhiran"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540352152, "post_id": 52960651, "comment_id": 92828245, "body": "@rmaddy Yeah I&#39;m getting encrypted base64 string but I&#39;m not sure that is valid base64 string or not"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540352444, "post_id": 52960651, "comment_id": 92828303, "body": "It&#39;s definitely not encrypted. The only way to know if it is valid is to use it. You must have some reason to convert to base64. Keep moving forward and see if your result works."}, {"owner": {"reputation": 4964, "user_id": 1915320, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/4yzot.jpg?s=128&g=1", "display_name": "Ravindhiran", "link": "https://stackoverflow.com/users/1915320/ravindhiran"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540352707, "post_id": 52960651, "comment_id": 92828364, "body": "@rmaddy can you share me the sample code where I am mistaken?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540353213, "post_id": 52960651, "comment_id": 92828454, "body": "Your not mistaken. The code you posted is fine. It creates a base64 string."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1540409391, "post_id": 52960651, "comment_id": 92859742, "body": "This is almost assuredly not going to work, in the long run.   At the least, you&#39;re going to end up consuming A TON of memory doing this.  It is a bit odd to encode a video in such a format to start with, but.. ok... if you are going to do that with videos of any size, you&#39;ll really need to use some kind of buffered approach that reads N bytes of video data, encodes it, sends it and then moves on to the next chunk."}], "owner": {"reputation": 4964, "user_id": 1915320, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/4yzot.jpg?s=128&g=1", "display_name": "Ravindhiran", "link": "https://stackoverflow.com/users/1915320/ravindhiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540352341, "creation_date": 1540351491, "last_edit_date": 1540352341, "question_id": 52960651, "link": "https://stackoverflow.com/questions/52960651/how-to-convert-video-file-to-base64-string-in-ios", "title": "How to convert video file to Base64 string in IOS?", "body": "<p>I want to convert local resource folder video file(12345.mp4) to base64 encoding string and then send into the server side from API but web team telling invalid base64 encoded string. Is this correct?</p>\n\n<p>This is my code :</p>\n\n<pre><code> NSString *base64String = @\"\";\n NSError *error;\n NSData *videoData;\n\n NSString *strVideoPath = [[NSBundle mainBundle] pathForResource:@\"12345\" ofType:@\"mp4\"];\n\n videoData = [[NSData alloc]initWithContentsOfFile:strVideoPath options:NSDataReadingMappedIfSafe error:&amp;error];\n base64String = [videoData base64EncodedStringWithOptions:0];\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "protocols"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1540316691, "post_id": 52954907, "comment_id": 92817603, "body": "Please delete your other identity <a href=\"https://stackoverflow.com/users/10355502/vish-desh\">stackoverflow.com/users/10355502/vish-desh</a>  <i>now</i> before a moderator comes along and shuts you down completely."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540316814, "post_id": 52954907, "comment_id": 92817656, "body": "&quot;Getting error while calling protocol methods&quot; Yes but you need to show the context in which you perform that call. Presumably it is in the <i>.m</i> file for SStreamManager. That file needs to <code>#import</code> the Swift generated header, as you were already told in the comment on your other question."}, {"owner": {"reputation": 313, "user_id": 8290785, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ipydM.png?s=128&g=1", "display_name": "Latenec", "link": "https://stackoverflow.com/users/8290785/latenec"}, "edited": false, "score": 0, "creation_date": 1540317021, "post_id": 52954907, "comment_id": 92817762, "body": "I had the same issue try to delete DerivedData of Xcode (make sure your xcode is closed and when its deleted, open xcode). If it helped let me know. Path: <code>~&#47;Library&#47;Developer&#47;Xcode&#47;DerivedData</code>"}, {"owner": {"reputation": 521, "user_id": 1000942, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7b90a75fb5b3533e205680240c311ef5?s=128&d=identicon&r=PG", "display_name": "Vishwanath Deshmukh", "link": "https://stackoverflow.com/users/1000942/vishwanath-deshmukh"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540318679, "post_id": 52954907, "comment_id": 92818577, "body": "I deleted @matt."}, {"owner": {"reputation": 521, "user_id": 1000942, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7b90a75fb5b3533e205680240c311ef5?s=128&d=identicon&r=PG", "display_name": "Vishwanath Deshmukh", "link": "https://stackoverflow.com/users/1000942/vishwanath-deshmukh"}, "edited": false, "score": 0, "creation_date": 1540318949, "post_id": 52954907, "comment_id": 92818687, "body": "Deleted all derived data but still getting error as : No known instance method for selector &#39;lostConnection&#39;"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540319313, "post_id": 52954907, "comment_id": 92818861, "body": "Also please show only real code. The code you are showing would never compile in the first place."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 4485, "user_id": 1015258, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/oTTVU.png?s=128&g=1", "display_name": "koen", "link": "https://stackoverflow.com/users/1015258/koen"}, "edited": false, "score": 1, "creation_date": 1540325334, "post_id": 52954907, "comment_id": 92821672, "body": "@Koen rollback please. The language is <i>crucial</i> to the question."}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1540319533, "creation_date": 1540319533, "answer_id": 52955703, "question_id": 52954907, "link": "https://stackoverflow.com/questions/52954907/unable-to-access-protocol-methods-via-delegate/52955703#52955703", "title": "Unable to access protocol methods via delegate", "body": "<p>This is becoming ridiculous, as you keep refusing to show any real code. So I'll show <em>you</em> some real code. Here are three files in an iOS app project:</p>\n\n<p><em>ViewController.swift</em></p>\n\n<pre><code>import UIKit\n@objc protocol GameDelegate {\n    func lostConnection()\n}\nclass ViewController: UIViewController {\n}\n</code></pre>\n\n<p><em>Thing.h</em></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n@protocol GameDelegate;\n@interface Thing : NSObject\n@property (assign) id&lt;GameDelegate&gt; delegate;\n@end\n</code></pre>\n\n<p><em>Thing.m</em></p>\n\n<pre><code>#import \"Thing.h\"\n#import \"MyApp-Swift.h\"\n@implementation Thing\n- (void) test {\n    [self.delegate lostConnection];\n}\n@end\n</code></pre>\n\n<p>That compiles. Go ye and do likewise.</p>\n"}], "owner": {"reputation": 521, "user_id": 1000942, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7b90a75fb5b3533e205680240c311ef5?s=128&d=identicon&r=PG", "display_name": "Vishwanath Deshmukh", "link": "https://stackoverflow.com/users/1000942/vishwanath-deshmukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52955703, "answer_count": 1, "score": -1, "last_activity_date": 1540326614, "creation_date": 1540316448, "last_edit_date": 1540326614, "question_id": 52954907, "link": "https://stackoverflow.com/questions/52954907/unable-to-access-protocol-methods-via-delegate", "title": "Unable to access protocol methods via delegate", "body": "<p>While accessing protocol methods via delegate I'm getting following error:\n\"No known instance method for selector 'lostConnection'\"</p>\n\n<p>Swift Protocol:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>@objc protocol GameDelegate {\n    func lostConnection()\n}\n</code></pre>\n\n<p>Objective C game file</p>\n\n<pre class=\"lang-Objective-c prettyprint-override\"><code>//game.h\n\n@protocol GameDelegate;\n@interface SSStreamManager : NSObject \n\n@property (assign) id&lt;GameDelegate&gt; delegate\n\n@end\n</code></pre>\n\n<p>Getting error while calling protocol methods</p>\n\n<pre class=\"lang-Objetive-C prettyprint-override\"><code>[self.delegate lostConnection]; // No known instance method for selector 'lostConnection'\n</code></pre>\n"}, {"tags": ["objective-c", "nsstring", "macos-high-sierra", "string-length", "maxlength"], "comments": [{"owner": {"reputation": 40268, "user_id": 1298400, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ee2c2af01b6b83f8010ccde5032947b0?s=128&d=identicon&r=PG", "display_name": "Jeffery Thomas", "link": "https://stackoverflow.com/users/1298400/jeffery-thomas"}, "edited": false, "score": 0, "creation_date": 1540315388, "post_id": 52954525, "comment_id": 92816962, "body": "How big is the file? What error do you get back from the error parameter?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3313512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d8844ed22d19caebd61b734972ed0e?s=128&d=identicon&r=PG&f=1", "display_name": "Max Colla", "link": "https://stackoverflow.com/users/3313512/max-colla"}, "edited": false, "score": 0, "creation_date": 1540334018, "post_id": 52954799, "comment_id": 92824655, "body": "Hi Matt, thanks for your reply. Yes you are right! myString object isn&#39;t truncated. I assume that NSlog has changed from Xcode 5 to Xcode 8.3, because in the 5 version I could read the whole text in the NSlog response without truncation. Anyway I could solve my problem!"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1540315966, "creation_date": 1540315966, "answer_id": 52954799, "question_id": 52954525, "link": "https://stackoverflow.com/questions/52954525/length-limit-in-nsstring-on-osx-10-13/52954799#52954799", "title": "Length limit in NSString on OSX 10.13", "body": "<p>The problem is not that <code>myString</code> is truncated. The problem is that (in code you have not shown) you are using NSLog to examine <code>myString</code>. It is NSLog that is truncated, not <code>myString</code>.</p>\n"}], "owner": {"reputation": 63, "user_id": 3313512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d8844ed22d19caebd61b734972ed0e?s=128&d=identicon&r=PG&f=1", "display_name": "Max Colla", "link": "https://stackoverflow.com/users/3313512/max-colla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1540334202, "accepted_answer_id": 52954799, "answer_count": 1, "score": -1, "last_activity_date": 1540315966, "creation_date": 1540314995, "question_id": 52954525, "link": "https://stackoverflow.com/questions/52954525/length-limit-in-nsstring-on-osx-10-13", "closed_reason": "Duplicate", "title": "Length limit in NSString on OSX 10.13", "body": "<p>I have a file with a very long text inside. I want to put this text in a NSString with this code:</p>\n\n<pre><code>NSString *myString=[[NSString alloc]initWithContentsOfFile:percorsoFile encoding:NSUTF8StringEncoding error:nil];\n</code></pre>\n\n<p>This code works fine on Mac OSX 10.8 with Xcode 5, but on my new Mac OSX 10.13 with Xcode 8.3.3, the object myString contains only the first part of the long text.</p>\n\n<p>Is it a NSString problem, or something has changed in the new OSX system which I don\u2019t know?\nIs there a length limit in NSString object on either OSX 10.13 or Xcode 8.3.3?</p>\n"}, {"tags": ["ios", "objective-c", "siri", "sirikit"], "comments": [{"owner": {"reputation": 474, "user_id": 1351327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cb11ecce9025461f0ba8f81dc879c5f0?s=128&d=identicon&r=PG", "display_name": "ondermerol", "link": "https://stackoverflow.com/users/1351327/ondermerol"}, "edited": false, "score": 0, "creation_date": 1540476827, "post_id": 52954246, "comment_id": 92888090, "body": "You can define your own custom response class with success, failure and other results messages. <a href=\"https://medium.com/@pietropizzi/a-beginners-guide-to-developing-custom-intent-siri-shortcuts-for-ios-12-a3627b7011af\" rel=\"nofollow noreferrer\">medium.com/@pietropizzi/&hellip;</a>"}, {"owner": {"reputation": 533, "user_id": 7534872, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e70189482894331511190d6f4127d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "Hikaru Watanabe", "link": "https://stackoverflow.com/users/7534872/hikaru-watanabe"}, "reply_to_user": {"reputation": 474, "user_id": 1351327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cb11ecce9025461f0ba8f81dc879c5f0?s=128&d=identicon&r=PG", "display_name": "ondermerol", "link": "https://stackoverflow.com/users/1351327/ondermerol"}, "edited": false, "score": 0, "creation_date": 1540487181, "post_id": 52954246, "comment_id": 92894273, "body": "OMG thanks I will look into it. For some reason, I was not able to find it. Very very appreciated"}, {"owner": {"reputation": 533, "user_id": 7534872, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e70189482894331511190d6f4127d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "Hikaru Watanabe", "link": "https://stackoverflow.com/users/7534872/hikaru-watanabe"}, "reply_to_user": {"reputation": 474, "user_id": 1351327, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cb11ecce9025461f0ba8f81dc879c5f0?s=128&d=identicon&r=PG", "display_name": "ondermerol", "link": "https://stackoverflow.com/users/1351327/ondermerol"}, "edited": false, "score": 0, "creation_date": 1540565196, "post_id": 52954246, "comment_id": 92925812, "body": "It looks like custom intent can be only used for shortcut"}], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 723276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50e498e8db63fad7ce08935d41ad19dd?s=128&d=identicon&r=PG", "display_name": "vilmosk&#246;rte", "link": "https://stackoverflow.com/users/723276/vilmosk%c3%b6rte"}, "is_accepted": false, "score": 0, "last_activity_date": 1542576385, "creation_date": 1542576385, "answer_id": 53365626, "question_id": 52954246, "link": "https://stackoverflow.com/questions/52954246/siri-custom-response/53365626#53365626", "title": "Siri - custom response", "body": "<p>Returning nil is a problem, a class instance is required. Also you should handle the test for charging in the confirm intent method.   </p>\n"}], "owner": {"reputation": 533, "user_id": 7534872, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e70189482894331511190d6f4127d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "Hikaru Watanabe", "link": "https://stackoverflow.com/users/7534872/hikaru-watanabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542603237, "creation_date": 1540313786, "last_edit_date": 1542603237, "question_id": 52954246, "link": "https://stackoverflow.com/questions/52954246/siri-custom-response", "title": "Siri - custom response", "body": "<p>I am working on a Siri extension and I am wondering if it is possible to change Siri's response based on the situation.</p>\n\n<p>For example, if the application is supported while iPhone is charging and if the user asks for some actions from Siri while it is not charging, I want Siri to answer \"'App Name' requires iPhone to be charging in order to handle the action.\"</p>\n\n<pre><code>- (id)handlerForIntent:(INIntent *)intent {\n    if(charging){\n        //Phone is charging; pass corresponding handler\n        ...\n    }else{\n        //Phone is not charging; tell user to charge phone\n        return nil;\n    }\n}\n</code></pre>\n\n<p>At this point, if I return nil in the <code>handleForIntent</code>, Siri just shows<a href=\"https://i.stack.imgur.com/DD9IH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DD9IH.png\" alt=\"Siri error message in simulator\"></a></p>\n\n<p>Basically I want to change the \"Sorry, there was a problem with the app.\" with my own error message.</p>\n\n<p>Some answer suggested to use <code>AVSpeechSynthesizer</code> to convey my error message but it has a couple of issues.</p>\n\n<ol>\n<li><code>AVSpeechSynthesizer</code> overlaps with Siri response.</li>\n<li>Cannot change the displayed message on the Siri screen.</li>\n</ol>\n\n<p>If anyone knows how to modify Siri's response (both text and speech), please provide me with some advice.</p>\n"}, {"tags": ["ios", "objective-c", "uidatepicker"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540314120, "post_id": 52954225, "comment_id": 92816338, "body": "When you select a date in the <code>secondPicker</code>, then set the <code>maximumDate</code> for the <code>firstPicker</code>."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1540318382, "post_id": 52954225, "comment_id": 92818430, "body": "Show the code where you handle the selection in the second date picker."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1540339334, "post_id": 52954225, "comment_id": 92825851, "body": "UIPicker is a little weird that way. I think you need to reload the picker somehow after you set the maxDate. [picker reload]; try it"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 10368353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PoQ_xl_-x0A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMDbsBqEVlynwj5FrmB_OUwA2-k2w/mo/photo.jpg?sz=128", "display_name": "Abner P", "link": "https://stackoverflow.com/users/10368353/abner-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1540318497, "creation_date": 1540318497, "answer_id": 52955396, "question_id": 52954225, "link": "https://stackoverflow.com/questions/52954225/objective-c-set-datepicker-maximun-date-from-another-date-picker/52955396#52955396", "title": "Objective-c Set datepicker maximun date from another date picker", "body": "<p>SOLUTION</p>\n\n<pre><code>[self.picker addTarget:self action:@selector(updateLabelFromPicker:) forControlEvents:UIControlEventValueChanged];\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>- (IBAction)updateLabelFromPicker:(id)sender {\n    [_firstPicker setMaximumDate:_secondPicker.date];\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10368353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PoQ_xl_-x0A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMDbsBqEVlynwj5FrmB_OUwA2-k2w/mo/photo.jpg?sz=128", "display_name": "Abner P", "link": "https://stackoverflow.com/users/10368353/abner-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 52955396, "answer_count": 1, "score": 0, "last_activity_date": 1540318497, "creation_date": 1540313736, "last_edit_date": 1540318345, "question_id": 52954225, "link": "https://stackoverflow.com/questions/52954225/objective-c-set-datepicker-maximun-date-from-another-date-picker", "title": "Objective-c Set datepicker maximun date from another date picker", "body": "<p>I want to <code>setMaximumDate</code> with the second <code>datepicker</code> to the first date picker as the maximum date.\nEven when I change the second <code>datepicker</code> I want it to be updated and put as maximum in the first <code>datepicker</code></p>\n\n<pre><code>UIDatePicker firstPicker;\nUIDatePicker secondPicker;\n</code></pre>\n\n<p>I tried this </p>\n\n<pre><code>[firstPicker setMaximumDate:[secondPicker date]];\n</code></pre>\n\n<p>But when I change the second datepicker the first is not limited to the second date.</p>\n"}, {"tags": ["ios", "objective-c", "nsurlsession"], "comments": [{"owner": {"reputation": 9499, "user_id": 1564391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eafb9405cdf21e483492852ffc35d590?s=128&d=identicon&r=PG", "display_name": "dgatwood", "link": "https://stackoverflow.com/users/1564391/dgatwood"}, "edited": false, "score": 0, "creation_date": 1541921301, "post_id": 52954102, "comment_id": 93378294, "body": "No chance this is a Mac app and the temp file is on a different volume, is there?  Because that could explain why moving the file would fail, where writing it at that location succeeds."}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "reply_to_user": {"reputation": 9499, "user_id": 1564391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eafb9405cdf21e483492852ffc35d590?s=128&d=identicon&r=PG", "display_name": "dgatwood", "link": "https://stackoverflow.com/users/1564391/dgatwood"}, "edited": false, "score": 0, "creation_date": 1541967100, "post_id": 52954102, "comment_id": 93390179, "body": "that...could absolutely explain it. I will look into this after my midterms hah"}], "owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 703, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540315093, "creation_date": 1540313236, "last_edit_date": 1540315093, "question_id": 52954102, "link": "https://stackoverflow.com/questions/52954102/nsurlsession-cfnetworkdownload-tmp-couldn-t-be-moved-to-images", "title": "NSURLSession: \u201cCFNetworkDownload.tmp\u201d couldn\u2019t be moved to \u201cimages\u201d", "body": "<p>I have an old app that uses NSURLConnection to download an image to the app. Today I tried to replace that old code with NSURLSession:</p>\n\n<p>New Code:</p>\n\n<pre><code>/*download the images one by one in a for loop*/\n-(void)downloadSingleSpecieImagesFromServer{\n    [self generateImageURLList:NO];\n\n    [leafletImageLoaderQueue removeAllObjects];\n    numberOfHiResImageLeft = [uncachedHiResImageArray count];\n    numberTotalToDownload = numberOfHiResImageLeft;\n\n    for ( LeafletURL* aLeafletURL in uncachedHiResImageArray)\n        {\n            //// Do the same thing again, except set isThumb = NO. ////\n            LeafletImageLoader* hiResImageLoader = [[LeafletImageLoader alloc] initWithDelegate:self];\n            [leafletImageLoaderQueue addObject:hiResImageLoader]; // do this before making connection!! //\n\n            [hiResImageLoader loadImage:aLeafletURL isThumbnail:NO   isBatchDownload:YES];\n\n            //// Adding object to array already retains it, so it's safe to release it here. ////\n            [hiResImageLoader release];\n            uncachedHiResIndex++;\n            NSLog(@\"uncached hi res index: %ld, un cached hi res image array size: %lu\", (long)uncachedHiResIndex, (unsigned long)\n            [uncachedHiResImageArray count]);\n    }\n}\n\n/*LeafletImageLoader.m */\n- (void)loadImage:(LeafletURL*)leafletURLInput isThumbnail:(BOOL)isThumbnailInput isBatchDownload:(BOOL)isBatchDownload\n{\n    [self loadImage:leafletURLInput isThumbnail:isThumbnailInput isBatchDownload:isBatchDownload isRetina:NO];\n}\n\n- (void)loadImage:(LeafletURL*)leafletURLInput isThumbnail:(BOOL)isThumbnailInput isBatchDownload:(BOOL)isBatchDownload isRetina:(BOOL)isRetina\n{\n\n    isRetina_ = isRetina;\n\n    self.leafletURL = leafletURLInput;\n    self.isThumbnail = isThumbnailInput;\n    NSString* location;\n    if(self.isThumbnail){\n        location = leafletURL.thumbnailLocation;\n    }else{\n        location = leafletURL.hiResImageLocation;\n    }\n\n    if ( ([location isEqualToString:kLocationServer] || (isBatchDownload &amp;&amp; [location isEqualToString:kLocationResource])) &amp;&amp; self.leafletURL.rawURL != nil )\n    {\n        NSLog(@\"location: final loadimage called server\");\n        //// tell the delegate to get ride of the old image while waiting. ////\n        if([delegate respondsToSelector:@selector(leafletImageLoaderWillBeginLoadingImage:)])\n        {\n            [delegate leafletImageLoaderWillBeginLoadingImage:self];\n        }\n\n        NSURL *url = [NSURL URLWithString:[leafletURL pathForImageOnServerUsingThumbnail:self.isThumbnail isRetina:isRetina]];\n        NSURLSessionConfiguration * config = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:@\"myQueue\"];\n        NSURLSession *session = [NSURLSession sessionWithConfiguration:config delegate:self delegateQueue:[NSOperationQueue mainQueue]];\n\n        NSURLSessionDownloadTask *downloadTask = [session downloadTaskWithURL:url];\n\n        [downloadTask resume];\n\n    }\n\n    //// if not, tell the delegate that the image is already cached. ////\n    else\n    {\n        if([delegate respondsToSelector:@selector(leafletImageLoaderDidFinishLoadingImage:)])\n        {\n\n            [delegate leafletImageLoaderDidFinishLoadingImage:self];\n\n        }\n    }\n}\n-(void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didFinishDownloadingToURL:(NSURL *)location{\n\n        //// save the downloaded image to disk ////\n        NSFileManager *fileManager = [NSFileManager defaultManager];\n\n        if (isThumbnail)\n        {\n            leafletURL.thumbnailLocation = kLocationCache;\n        }\n        else\n        {\n            leafletURL.hiResImageLocation = kLocationCache;\n        }\n\n        // Filename to write to\n        NSString* filePath = [leafletURL pathForImageAtLocation:kLocationCache isThumbnail:isThumbnail isRetina:NO];\n\n        // If it's a retina image, append the \"@2x\"\n        if (isRetina_) {\n            filePath = [filePath stringByReplacingOccurrencesOfString:@\".jpg\" withString:@\"@2x.jpg\"];\n        }\n\n        NSString* dir = [filePath stringByDeletingLastPathComponent];\n\n        [managedObjectContext save:nil];\n\n        NSError* error;\n        [[NSFileManager defaultManager] createDirectoryAtPath:dir withIntermediateDirectories:YES attributes:nil error:&amp;error];\n\n\n    if ([fileManager fileExistsAtPath:filePath]){\n\n        [fileManager replaceItemAtURL:[NSURL fileURLWithPath:filePath] withItemAtURL:location backupItemName:nil options:NSFileManagerItemReplacementUsingNewMetadataOnly resultingItemURL:nil error:&amp;error];\n\n    }else{\n\n        if([fileManager moveItemAtPath:location.path toPath:filePath error:&amp;error])\n        {\n            if([delegate respondsToSelector:@selector(leafletImageLoaderDidFinishLoadingImage:)])\n            {\n                [delegate leafletImageLoaderDidFinishLoadingImage:self];\n            }\n        }\n        else\n        {\n            if( [delegate respondsToSelector:@selector(leafletImageLoader:didFailWithError:)] )\n            {\n                [delegate leafletImageLoader:self didFailWithError:error];\n            }\n        }\n    }\n}\n-(void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didResumeAtOffset:(int64_t)fileOffset expectedTotalBytes:(int64_t)expectedTotalBytes{\n    NSLog(@\"download task resumed!\");\n}\n\n-(void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didCompleteWithError:(NSError *)error{\n    NSLog(@\"this is the error: %@\", error.description);\n    if( [delegate respondsToSelector:@selector(leafletImageLoader:didFailWithError:)] )\n    {\n        [delegate leafletImageLoader:self didFailWithError:error];\n    }\n}\n\n/*LeafletImageManager.m */\n- (void)leafletImageLoader:(LeafletImageLoader*)leafletImageLoader didFailWithError:(NSError*)error\n{\n\n    NSLog(@\"ERROR Code %d: %@ for %@\", error.code, [error localizedDescription], leafletImageLoader.leafletURL.rawURL);\n    numberFailedToDownload++;\n\n    if ( error.domain == NSURLErrorDomain &amp;&amp; error.code == NSURLErrorNotConnectedToInternet )\n    {\n        [self cancel];\n        //// Tell delegate to show error message. ////\n        if([delegate respondsToSelector:@selector(request:didFailWithError:)])\n        {\n            [delegate request:self didFailWithError:&amp;error];\n        }\n    }\n    else if ( error.domain == NSURLErrorDomain &amp;&amp; error.code == NSURLErrorTimedOut )\n    {\n        NSLog(@\"NSURLErrorTimedOut\");\n        UIAlertView* alert = [[[UIAlertView alloc] initWithTitle:@\"Slow Connection: Single Species Download Recommended\"\n                                                         message:@\"Hi-Resolution images requires 250Mb of content to be downloaded, which cannot be completed. Do you wish to download only this species in Hi-Resolution?\"\n                                                        delegate:self\n                                               cancelButtonTitle:@\"Cancel\"\n                                               otherButtonTitles:@\"Download\", nil] autorelease];\n        [alert show];\n\n    }\n    else \n    {\n        //// Remove bad loader, and continue. ////\n\n        if (leafletImageLoader.isThumbnail)\n        {\n            numberOfThumbnailLeft--;\n        }\n        else\n        {\n            numberOfHiResImageLeft--;\n        }\n        [leafletImageLoaderQueue removeObject:leafletImageLoader];\n        numberRemovedFromQueue++;\n\n        if ( [leafletImageLoaderQueue count] == 0 &amp;&amp; numberRemovedFromQueue == numberTotalToDownload) {\n            if([delegate respondsToSelector:@selector(requestDidBatchDownloadImages:)])\n            {\n                [delegate requestDidBatchDownloadImages:self];\n            }\n        }\n\n        if ( [leafletImageLoaderQueue count] == 0 )\n        {\n            [self batchDownloadImagesFromServer:TRUE];\n        }\n\n        if([delegate respondsToSelector:@selector(requestdownloading:progress:thumbnailCount:hiResCount:)])\n        {\n            float progress = 1 - (float)[leafletImageLoaderQueue count] / numberOfImagesToDownload;\n            NSInteger tc = numberOfImages - numberOfThumbnailLeft;\n            NSInteger hc = numberOfImages - numberOfHiResImageLeft;\n            [delegate requestdownloading:self progress:progress thumbnailCount:tc hiResCount:hc];\n        }\n    }\n}\n</code></pre>\n\n<p>Currently, it finishes the download task, calling <code>didFinishDownloadingToURL</code> and then <code>didCompleteWithError</code> gets called, which of course calls <code>didCompleteWithError</code> in <code>LeafletImageManager.m</code></p>\n\n<p>The error code and message from <code>LeafletImageManager.m</code> is:</p>\n\n<blockquote>\n  <p>ERROR Code 4: \u201cCFNetworkDownload_vAMuqX.tmp\u201d couldn\u2019t be moved to\n  \u201cimages\u201d because either the former doesn\u2019t exist, or the folder\n  containing the latter doesn\u2019t exist. for /species/Robinia\n  pseudoacacia/images/SAFV-RBD-01970.jpg</p>\n</blockquote>\n\n<p>I added code to check that an image exists in <code>didFinishDownloadingToURL</code> and it indeed does. I'm assuming then that the issue is that the folder doesn't exist. I'm confused why that would be when I create the directory with <code>fileManager</code></p>\n\n<p>My old code:</p>\n\n<pre><code>- (void)connectionDidFinishLoading:(NSURLConnection *)connection\n{   \n    //// Check if it's valid image. ////\n    //// If not, UIImage will be nil.////\n    UIImage* theImage = [[UIImage alloc] initWithData:mImageData];\n\n    if(theImage)\n    {       \n        //// save the downloaded image to disk ////\n\n        if (isThumbnail)\n        {\n            leafletURL.thumbnailLocation = kLocationCache;\n        }\n        else\n        {\n            leafletURL.hiResImageLocation = kLocationCache;\n        }\n\n        // Filename to write to\n        NSString* filePath = [leafletURL pathForImageAtLocation:kLocationCache isThumbnail:isThumbnail isRetina:NO];\n\n        // If it's a retina image, append the \"@2x\"\n        if (isRetina_) {\n            filePath = [filePath stringByReplacingOccurrencesOfString:@\".jpg\" withString:@\"@2x.jpg\"];           \n        }\n\n        NSString* dir = [filePath stringByDeletingLastPathComponent];\n\n        [managedObjectContext save:nil];\n\n        NSError* error;\n        [[NSFileManager defaultManager] createDirectoryAtPath:dir withIntermediateDirectories:YES attributes:nil error:&amp;error];\n\n        if ( [mImageData writeToFile:filePath atomically:YES] )\n        {\n            if([delegate respondsToSelector:@selector(leafletImageLoaderDidFinishLoadingImage:)])\n            {\n                [delegate leafletImageLoaderDidFinishLoadingImage:self];\n            }\n        }\n        else\n        {\n            if( [delegate respondsToSelector:@selector(leafletImageLoader:didFailWithError:)] )\n            {\n                [delegate leafletImageLoader:self didFailWithError:error];\n            }\n        }\n    }\n\n\n    else\n    {\n        if( [delegate respondsToSelector:@selector(leafletImageLoader:didFailWithError:)] )\n        {\n            NSError* error = [NSError errorWithDomain:kLeafletErrorDomain code:kErrorImageNotFound userInfo:nil];\n            [delegate leafletImageLoader:self didFailWithError:error];\n        }\n    }\n\n    [theImage release];\n\n    [mImageData release];\n    mImageData = nil;\n\n    [mConnection release];\n    mConnection = nil;\n}\n\n- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error\n{\n    NSLog(@\"leafletimageloader connection did fail with the error: %@\", error);\n    [mImageData release];\n    mImageData = nil;\n\n    [mConnection release];\n    mConnection = nil;\n\n    if( [delegate respondsToSelector:@selector(leafletImageLoader:didFailWithError:)] )\n    {\n        [delegate leafletImageLoader:self didFailWithError:error];\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "protocols"], "answers": [{"comments": [{"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 1, "creation_date": 1540311446, "post_id": 52953649, "comment_id": 92815015, "body": "\u2026 and put <code>#import &quot;SimpliSafe-Swift.h&quot;</code> in your <code>.m</code> file."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540314217, "post_id": 52953649, "comment_id": 92816389, "body": "No doubt, but that&#39;s not the same question, is it? I answered <i>this</i> question, the question you asked. You got a &quot;Can not find protocol declaration&quot; error; now that error has gone away. Done. If you have a new question, ask it as a new question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10355502"}, "edited": false, "score": 0, "creation_date": 1540314874, "post_id": 52953649, "comment_id": 92816724, "body": "Thanks @matt. It helped to go away above error. I may need to open new ticket for accessing protocol methods since I am getting error as &quot;No known instance method for selector &#39;lostConnection&#39;&quot;"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1540311526, "last_edit_date": 1540311526, "creation_date": 1540311422, "answer_id": 52953649, "question_id": 52953553, "link": "https://stackoverflow.com/questions/52953553/getting-error-for-declaring-swift-protocol-delegate-variable-in-objective-c/52953649#52953649", "title": "Getting error for declaring swift protocol delegate variable in objective c", "body": "<p>Don\u2019t import the Swift generated header into a header file! Replace</p>\n\n<pre><code>#import \"SimpliSafe-Swift.h\"\n</code></pre>\n\n<p>With</p>\n\n<pre><code>@protocol GameDelegate;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10355502"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52953649, "answer_count": 1, "score": 0, "last_activity_date": 1540311526, "creation_date": 1540311120, "question_id": 52953553, "link": "https://stackoverflow.com/questions/52953553/getting-error-for-declaring-swift-protocol-delegate-variable-in-objective-c", "title": "Getting error for declaring swift protocol delegate variable in objective c", "body": "<p>Error: Can not find protocol declaration for 'GameDelegate';</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>//Swift protocol\nimport AVFoundation\nimport UIKit;\n\n@objc protocol GameDelegate {\n    func lostConnection()\n}\n</code></pre>\n\n<p>Objective C class:</p>\n\n<pre class=\"lang-Objective-C prettyprint-override\"><code>//play.h file\n#import \"SimpliSafe-Swift.h\"\n\n@interface SSStreamManager : NSObject \n\n@property (assign) id&lt;GameDelegate&gt; delegate\n\n@end\n</code></pre>\n\n\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 2, "creation_date": 1540310892, "post_id": 52953444, "comment_id": 92814721, "body": "Use <code>NSURLComponents</code> if you need parse URL"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540310956, "post_id": 52953444, "comment_id": 92814755, "body": "The test should be instead: <code>if ([listItems count] &gt; 1) { } else {}</code>"}, {"owner": {"reputation": 2702, "user_id": 3237899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B6HjX.jpg?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/3237899/harsh"}, "edited": false, "score": 0, "creation_date": 1540310958, "post_id": 52953444, "comment_id": 92814756, "body": "<a href=\"https://nshipster.com/nsurl/\" rel=\"nofollow noreferrer\">nshipster.com/nsurl</a> . &lt;-- NSURLComponents"}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1540311146, "creation_date": 1540311146, "answer_id": 52953561, "question_id": 52953444, "link": "https://stackoverflow.com/questions/52953444/ios-objective-c-check-if-object-exists-at-index/52953561#52953561", "title": "iOS Objective C Check if Object Exists at Index", "body": "<p>It is an error to say</p>\n\n<pre><code>[listItems objectAtIndex:1]\n</code></pre>\n\n<p>if there is no such index. So your first step should be to examine <code>listItems.count</code>. If your proposed index is greater than or equal to that number, don\u2019t use it. </p>\n"}], "owner": {"reputation": 4750, "user_id": 2650407, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/1172460015/picture?type=large", "display_name": "Tom Hammond", "link": "https://stackoverflow.com/users/2650407/tom-hammond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52953561, "answer_count": 1, "score": -2, "last_activity_date": 1540311146, "creation_date": 1540310690, "question_id": 52953444, "link": "https://stackoverflow.com/questions/52953444/ios-objective-c-check-if-object-exists-at-index", "title": "iOS Objective C Check if Object Exists at Index", "body": "<p>So I have some code to grab an item from an index:</p>\n\n<pre><code>        NSString *fullUrl = [NSString stringWithFormat:@\"%@\",[webView.URL absoluteURL]];\n        NSArray *listItems = [fullUrl componentsSeparatedByString:@\"?url=\"];\n\n        NSString *urlString = [listItems objectAtIndex:1];\n        if (urlString != (id)[NSNull null]) {\n            NSURL *url = [NSURL URLWithString:urlString];\n            [[UIApplication sharedApplication] openURL:url];\n        } else {\n            //fallback just in case\n            [self loadBaseURL];\n        }\n</code></pre>\n\n<p>It ended up erroring on this line:</p>\n\n<pre><code>NSString *urlString = [listItems objectAtIndex:1];\n</code></pre>\n\n<p>Which I thought I was checking for in the following line for null. It seems like I need some check beforehand to ensure that the objectAtIndex:1 exists before grabbing it. What's the best format to write this in?</p>\n"}, {"tags": ["ios", "objective-c", "deprecated"], "answers": [{"tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": true, "score": 6, "last_activity_date": 1540310817, "creation_date": 1540310817, "answer_id": 52953487, "question_id": 52950552, "link": "https://stackoverflow.com/questions/52950552/can-i-add-fix-it-for-my-own-deprecations-in-objective-c/52953487#52953487", "title": "Can I add fix-it for my own deprecations in Objective-C?", "body": "<p>You can use the <code>deprecated</code> attribute:</p>\n\n<pre><code>@interface MyObject: NSObject\n- (void)oldMethod\n    __attribute__((deprecated(\"Don't use this\", \"newMethod\")))\n    ;\n- (void)newMethod;\n@end\n</code></pre>\n\n<p>If you want to deprecate as of a specific OS version, you can use <a href=\"https://clang.llvm.org/docs/AttributeReference.html#availability\" rel=\"noreferrer\">clang's <code>availability</code> attribute</a>. Note that you can only deprecate based on OS version, not on your own library's version.</p>\n\n<p>Example:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface MyObject: NSObject\n- (void)oldMethod\n    __attribute__((availability(ios,deprecated=12.0,replacement=\"newMethod\")))\n    ;\n- (void)newMethod;\n@end\n\n@implementation MyObject\n\n- (void)oldMethod { }\n- (void)newMethod { }\n\n@end\n\nint main(int argc, const char * argv[]) {\n    @autoreleasepool {\n        MyObject *o = [[MyObject alloc] init];\n        [o oldMethod]; // Xcode offers a fix-it to use newMethod instead.\n    }\n    return 0;\n}\n</code></pre>\n\n<p>You can use the <code>API_DEPRECATED_WITH_REPLACEMENT</code> macro defined in <code>&lt;os/availability.h&gt;</code> instead of directly using the clang attribute, if you want. There are comments in that header file explaining its use.</p>\n"}], "owner": {"reputation": 4147, "user_id": 1015049, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/42b938253f502e32bef8642c2d61cf17?s=128&d=identicon&r=PG", "display_name": "raistlin", "link": "https://stackoverflow.com/users/1015049/raistlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 52953487, "answer_count": 1, "score": 2, "last_activity_date": 1540310817, "creation_date": 1540301935, "question_id": 52950552, "link": "https://stackoverflow.com/questions/52950552/can-i-add-fix-it-for-my-own-deprecations-in-objective-c", "title": "Can I add fix-it for my own deprecations in Objective-C?", "body": "<p>Trying to find if I can create my own \"fix it\" suggestion for my own deprecations? Is it possible at all? If yes, then any resource would be much appreciated!</p>\n"}, {"tags": ["ios", "objective-c", "string", "validation"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8872388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdf5be3b3fa960092697deddfaf1f30?s=128&d=identicon&r=PG&f=1", "display_name": "John JS", "link": "https://stackoverflow.com/users/8872388/john-js"}, "edited": false, "score": 0, "creation_date": 1540372338, "post_id": 52950182, "comment_id": 92836778, "body": "Thanks @Sviatoslav Yakymiv .. This is what i am expecting."}], "tags": [], "owner": {"reputation": 7637, "user_id": 2486394, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/208cc771e31adbc2755df9075a6b989e?s=128&d=identicon&r=PG", "display_name": "Sviatoslav Yakymiv", "link": "https://stackoverflow.com/users/2486394/sviatoslav-yakymiv"}, "is_accepted": true, "score": 2, "last_activity_date": 1540300806, "creation_date": 1540300806, "answer_id": 52950182, "question_id": 52949996, "link": "https://stackoverflow.com/questions/52949996/userdefaults-data-validation-in-objective-c/52950182#52950182", "title": "UserDefaults data validation in objective c", "body": "<p>In order to avoid boilerplate you can use <code>NSDictionary</code> with all valid options.</p>\n\n<pre><code>NSDictionary *colors = @{@\"black\", [UIColor blackColor], @\"pink\": [UIColor purpleColor], @\"blue\": [UIColor blueColor], @\"red\": [UIColor redColor], @\"yellow\": [UIColor yellowColor]};\n</code></pre>\n\n<p>With this dictionary your code should look as follows:</p>\n\n<pre><code>NSString *savedValue = [[NSUserDefaults standardUserDefaults]\n                            stringForKey:@\"colordatafromthisvc\"];\nUIColor *color = colors[savedValue] ?: [UIColor orangeColor];\n_imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n[_imglet setTintColor:color];\n_btnlet.tintColor = color;\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 8872388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bdf5be3b3fa960092697deddfaf1f30?s=128&d=identicon&r=PG&f=1", "display_name": "John JS", "link": "https://stackoverflow.com/users/8872388/john-js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 52950182, "answer_count": 1, "score": 2, "last_activity_date": 1540338448, "creation_date": 1540300329, "last_edit_date": 1540318602, "question_id": 52949996, "link": "https://stackoverflow.com/questions/52949996/userdefaults-data-validation-in-objective-c", "title": "UserDefaults data validation in objective c", "body": "<p>I want to validate my NSUserDefaults string value by using <code>if</code> condition. I have done the following code but I am looking for better way to validate.</p>\n\n<pre><code>NSString *savedValue = [[NSUserDefaults standardUserDefaults]\n                            stringForKey:@\"colordatafromthisvc\"];\n\nNSLog(@\"%@colorValue---\", savedValue);\n\nif ([savedValue isEqualToString:@\"black\"]) {\n    _imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n    [_imglet setTintColor:[UIColor blackColor]];\n\n    _btnlet.tintColor = [UIColor blackColor];\n} else if ([savedValue isEqualToString:@\"pink\"]) {\n    _imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n    [_imglet setTintColor:[UIColor purpleColor]];\n\n    _btnlet.tintColor = [UIColor purpleColor];\n} else if ([savedValue isEqualToString:@\"blue\"]) {\n    _imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n    [_imglet setTintColor:[UIColor blueColor]];\n\n    _btnlet.tintColor = [UIColor blueColor];\n} else if ([savedValue isEqualToString:@\"red\"]) {\n    _imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n    [_imglet setTintColor:[UIColor redColor]];\n\n    _btnlet.tintColor = [UIColor redColor];\n} else if ([savedValue isEqualToString:@\"yellow\"]) {\n    _imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n    [_imglet setTintColor:[UIColor yellowColor]];\n\n    _btnlet.tintColor = [UIColor yellowColor];\n} else {\n    _imglet.image = [_imglet.image imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\n    [_imglet setTintColor:[UIColor orangeColor]];\n\n    _btnlet.tintColor = [UIColor orangeColor];\n}\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1540298180, "post_id": 52949225, "comment_id": 92806324, "body": "probably a duplicate of <a href=\"https://stackoverflow.com/a/11478172/1214122\">stackoverflow.com/a/11478172/1214122</a>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1540299061, "post_id": 52949225, "comment_id": 92806926, "body": "What is the purpose of <code>var1</code>?"}, {"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1540299260, "post_id": 52949225, "comment_id": 92807075, "body": "@Willeke it is an example. I just want to learn it. Why should not use with first way?"}, {"owner": {"reputation": 54742, "user_id": 608157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Li27g.jpg?s=128&g=1", "display_name": "David R&#246;nnqvist", "link": "https://stackoverflow.com/users/608157/david-r%c3%b6nnqvist"}, "edited": false, "score": 0, "creation_date": 1540299478, "post_id": 52949225, "comment_id": 92807202, "body": "Is your question how an instance variable is different from a property (which you ask in the question itself) or reasons to use one over the other (which you ask in your comment above)?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 1, "creation_date": 1540299624, "post_id": 52949225, "comment_id": 92807301, "body": "@holex @DavidR&#246;nnqvist the first <code>var1</code> is a global variable, not an ivar."}, {"owner": {"reputation": 54742, "user_id": 608157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Li27g.jpg?s=128&g=1", "display_name": "David R&#246;nnqvist", "link": "https://stackoverflow.com/users/608157/david-r%c3%b6nnqvist"}, "edited": false, "score": 0, "creation_date": 1540299660, "post_id": 52949225, "comment_id": 92807330, "body": "Note that the answer to &quot;how an instance variable is different from a property&quot; will depend slightly on the variables type (if it&#39;s a primitive\u2014like <code>BOOL</code> or <code>NSInteger</code>\u2014or if it&#39;s an Objective-C object\u2014like <code>NSString</code>, <code>NSArray</code>, or <code>UIView</code>). Consider updating your question to mention if this difference matters to you."}, {"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "reply_to_user": {"reputation": 54742, "user_id": 608157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Li27g.jpg?s=128&g=1", "display_name": "David R&#246;nnqvist", "link": "https://stackoverflow.com/users/608157/david-r%c3%b6nnqvist"}, "edited": false, "score": 0, "creation_date": 1540299717, "post_id": 52949225, "comment_id": 92807380, "body": "@DavidR&#246;nnqvist Thanks. Yes. and could you please look at this problem <a href=\"https://stackoverflow.com/questions/52947759/why-value-of-property-is-kept-when-viewdidload-is-called-again\" title=\"why value of property is kept when viewdidload is called again\">stackoverflow.com/questions/52947759/&hellip;</a>"}, {"owner": {"reputation": 54742, "user_id": 608157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Li27g.jpg?s=128&g=1", "display_name": "David R&#246;nnqvist", "link": "https://stackoverflow.com/users/608157/david-r%c3%b6nnqvist"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1540299728, "post_id": 52949225, "comment_id": 92807389, "body": "@Willeke I&#39;m wasn&#39;t sure if that was the OP&#39;s intention or if the OP meant to declare an instance variable instead."}, {"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1540299891, "post_id": 52949225, "comment_id": 92807517, "body": "@ Willeke you mean that with first way I created a global variable which is not related to a specific class?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1540302042, "post_id": 52949225, "comment_id": 92808998, "body": "Yes, an ivar is declared inside <code>{}</code>."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1540303617, "post_id": 52949225, "comment_id": 92810068, "body": "@Willeke, soooo, is that question about why one should do <i>encapsulation</i> rather than <i>polluting the global namespace</i>...?"}, {"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1540303771, "post_id": 52949225, "comment_id": 92810183, "body": "@helex I actually didn&#39;t know that with first way I declare a global variable"}], "answers": [{"tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": true, "score": 1, "last_activity_date": 1540338748, "creation_date": 1540338748, "answer_id": 52959272, "question_id": 52949225, "link": "https://stackoverflow.com/questions/52949225/different-between-defining-variable-with-property-and-in-implementation-in-obje/52959272#52959272", "title": "different between defining variable with @property and in implementation in objective c", "body": "<p>First way is global. That means you have potential to disturb other library or framework that you use in your app.</p>\n\n<p>Second way is the correct way to do it but of course it limits to only your class. Also memorywise, is better.</p>\n\n<p>Also, if you want \"global\" variable, use singleton. :D</p>\n"}], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52959272, "answer_count": 1, "score": 1, "last_activity_date": 1540338748, "creation_date": 1540298052, "last_edit_date": 1540299799, "question_id": 52949225, "link": "https://stackoverflow.com/questions/52949225/different-between-defining-variable-with-property-and-in-implementation-in-obje", "title": "different between defining variable with @property and in implementation in objective c", "body": "<p>I want to deffine a bool variable and set default value for it. I can do this </p>\n\n<h2>First</h2>\n\n<pre><code>@implementation ViewController1\n\nBOOL var1 = false;\n</code></pre>\n\n<h2>Second</h2>\n\n<p>And I can add it in ViewController1.h file</p>\n\n<pre><code>@property (nonatomic, assign) BOOL var1\n</code></pre>\n\n<p>Is it possible to set default value in second way<br/></p>\n\n<p>What is difference between these two?</p>\n"}, {"tags": ["ios", "objective-c", "nsurlconnection", "wkwebview", "nsurlrequest"], "answers": [{"comments": [{"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "edited": false, "score": 0, "creation_date": 1540309816, "post_id": 52953127, "comment_id": 92814085, "body": "Wow I could spend hours and hours on that... Thanks it works."}], "tags": [], "owner": {"reputation": 994, "user_id": 1532975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GNVIh.jpg?s=128&g=1", "display_name": "dt dino", "link": "https://stackoverflow.com/users/1532975/dt-dino"}, "is_accepted": true, "score": 1, "last_activity_date": 1540309713, "creation_date": 1540309713, "answer_id": 52953127, "question_id": 52948999, "link": "https://stackoverflow.com/questions/52948999/ios-how-to-load-local-files-not-in-the-bundle-in-a-wkwebview/52953127#52953127", "title": "iOS: How to load local files (not in the bundle) in a WKWebView?", "body": "<p>You have to use the root of the directory to allow the webview to read the file</p>\n\n<pre><code>NSURL *nsurl = [NSURL fileURLWithPath:[[[self documentsDirectory] stringByAppendingPathComponent:user_appli] stringByAppendingPathComponent:@\"index.html\"]]; //locally\nNSURL *readAccessToURL = [[nsurl URLByDeletingLastPathComponent] URLByDeletingLastPathComponent];\n\n[self.webView loadFileURL:nsurl allowingReadAccessToURL:readAccessToURL];\n</code></pre>\n"}], "owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1497, "favorite_count": 0, "accepted_answer_id": 52953127, "answer_count": 1, "score": 0, "last_activity_date": 1540309852, "creation_date": 1540297398, "last_edit_date": 1540309852, "question_id": 52948999, "link": "https://stackoverflow.com/questions/52948999/ios-how-to-load-local-files-not-in-the-bundle-in-a-wkwebview", "title": "iOS: How to load local files (not in the bundle) in a WKWebView?", "body": "<p>I would like to use a WKWebView (not a UIWebView) and load some html files in it. I precise that I put the ArbitraryLoads to YES in info.plist.</p>\n\n<p><strong>(For info, it works on simulator but not on device).</strong>  </p>\n\n<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n      &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n        &lt;true/&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>Here is my code:  </p>\n\n<pre><code>       WKWebViewConfiguration *theConfiguration = [[WKWebViewConfiguration alloc] init];\n    [theConfiguration setMediaPlaybackAllowsAirPlay:YES];\n    [theConfiguration setAllowsInlineMediaPlayback:YES];\n    [theConfiguration setAllowsPictureInPictureMediaPlayback:YES];\n    [theConfiguration setAllowsAirPlayForMediaPlayback:YES];\n       [theConfiguration.preferences setValue:@YES forKey:@\"allowFileAccessFromFileURLs\"];\n[theConfiguration setValue:@YES forKey:@\"_allowUniversalAccessFromFileURLs\"];\n       self.webView.navigationDelegate = self; \n       self.webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration:theConfiguration];\n\n      NSURL *nsurl2 = [NSURL fileURLWithPath:[[[self documentsDirectory] stringByAppendingPathComponent:user_appli] stringByAppendingPathComponent:@\"index.html\"]];//locally\n\n\n [self.webView loadFileURL:nsurl2 allowingReadAccessToURL:nsurl2]; //=&gt; doesn't work  \n\n [self.webView loadRequest:[NSURLRequest requestWithURL:nsurl2]]; //=&gt; doesn't work\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["objective-c", "xcode", "cocoa", "cocoa-touch", "xcode-command-line-tools"], "comments": [{"owner": {"reputation": 5942, "user_id": 1970896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/90b66438cd00fdc7fbdc44d9df2fad96?s=128&d=identicon&r=PG", "display_name": "BonanzaDriver", "link": "https://stackoverflow.com/users/1970896/bonanzadriver"}, "edited": false, "score": 1, "creation_date": 1540392251, "post_id": 52948110, "comment_id": 92850081, "body": "An interesting idea ..."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11133047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLLNO.jpg?s=128&g=1", "display_name": "CodingLamb", "link": "https://stackoverflow.com/users/11133047/codinglamb"}, "is_accepted": false, "score": 3, "last_activity_date": 1551391862, "creation_date": 1551391862, "answer_id": 54935074, "question_id": 52948110, "link": "https://stackoverflow.com/questions/52948110/xcode-how-to-change-files-target-membership-via-command-line/54935074#54935074", "title": "Xcode - how to change file&#39;s target membership via command line?", "body": "<p>I also had to do this for CI. After lots of digging, I do not believe this is common enough for anyone to have written a tool to help with doing.</p>\n\n<p>The only conclusion I came to was to edit the project.pbxproj file directly, which is never a great thing to do.  None of the tools which claim to do this were of any help until I found <a href=\"https://stackoverflow.com/questions/32133576/what-tools-support-editing-project-pbxproj-files/46929480#46929480\">this stackoverflow answer on editing the project.pbxproj file</a>.  Essentially, you can convert the project.pbxproj file into a JSON format using <code>plutil -convert json project.pbxproj</code> and use a JSON manipulation tool to make those files as headers then point them to be headers of whichever target you would like.</p>\n\n<p>When converting the project.pbxproj into JSON format, be aware that Xcode will no longer be able to show you the project navigator for that project.  It will still build and run, however, so this is really only useful if you're planning to do this right before building (such as for CI).</p>\n\n<p>The format project.pbxproj as JSON has nearly all the important data under the \"objects\" key.  The file you want to be a header already has an entry with the key being <a href=\"https://stackoverflow.com/questions/22648347/project-pbxproj-hashing-for-files-what-hash-is-used-and-how\">the UUID for the file</a> and a path value you can use to relate the UUID to your file.  Here's an example for that format:</p>\n\n<pre><code>   // UUID for your file\n   \"65TYSSDXHSLP4UUOAD9D40C322AAGHM9\": {\n      \"path\": \"MyHeader.h\", // Your file's name\n      \"isa\": \"PBXFileReference\",\n      \"includeInIndex\": \"1\",\n      \"lastKnownFileType\": \"sourcecode.c.h\",\n      \"sourceTree\": \"&lt;group&gt;\"\n    }\n</code></pre>\n\n<p>There's another entry to declare this file as a header, which has its own UUID and a reference to the UUID of your file:</p>\n\n<pre><code>    // UUID for your file as a header\n    \"YU3BSD39O9PT5RESDFV741D1\": {\n      \"isa\": \"PBXBuildFile\",\n      \"fileRef\": \"65TYSSDXHSLP4UUOAD9D40C322AAGHM9\", // UUID for your file MyHeader.h\n      \"settings\": {\n        \"ATTRIBUTES\": [\n          \"Public\" // could also be Project or Private\n        ]\n      }\n    }\n</code></pre>\n\n<p>Then finally, your target has a list of header files where you will want the UUID for the header reference to go.</p>\n\n<pre><code>    \"A82GAE9A5HUIO063IOPQAAQIUFGSNXZ\": {\n      \"isa\": \"PBXHeadersBuildPhase\",\n      \"buildActionMask\": \"2147483647\",\n      \"files\": [\n        \"YU3BSD39O9PT5RESDFV741D1\" // UUID for your file as a header\n      ],\n      \"runOnlyForDeploymentPostprocessing\": \"0\"\n    }\n</code></pre>\n\n<p>Again, changing the project.pbxproj file directly is never a great idea, but until there's a better tool for making these changes without using the Xcode, its the best I could find.  If anyone else is aware of something I'm not, please let me know.</p>\n"}], "owner": {"reputation": 1426, "user_id": 1226304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb4b6d3ac8680fcc9041fa467dcee606?s=128&d=identicon&r=PG", "display_name": "derpoliuk", "link": "https://stackoverflow.com/users/1226304/derpoliuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1551391862, "creation_date": 1540294797, "question_id": 52948110, "link": "https://stackoverflow.com/questions/52948110/xcode-how-to-change-files-target-membership-via-command-line", "title": "Xcode - how to change file&#39;s target membership via command line?", "body": "<p>Is there a way to change file's target membership in Xcode project via command line?</p>\n\n<p>Here's what I'm trying to do via Xcode's UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nKdIt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nKdIt.png\" alt=\"target membership\"></a></p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 0, "creation_date": 1540294092, "post_id": 52947759, "comment_id": 92803827, "body": "If you want to reset all values then you should create new instance for the view controller. Calling viewdidload again wont reset all values."}, {"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "reply_to_user": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 0, "creation_date": 1540294540, "post_id": 52947759, "comment_id": 92804098, "body": "@RajeshKumarR Thanks. I added some details for how I initialize it"}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1540312961, "creation_date": 1540312961, "answer_id": 52954018, "question_id": 52947759, "link": "https://stackoverflow.com/questions/52947759/why-value-of-property-is-kept-when-viewdidload-is-called-again/52954018#52954018", "title": "Why value of property is kept when viewDidLoad is called again", "body": "<p>That isn't a property (or an instance variable) in a class. That is a global variable in the file.</p>\n\n<p>Instance variables need to be in curly braces:</p>\n\n<pre><code>@implementation viewController1 {\n    BOOL variable1 = false;\n}\n\n- (void)viewDidLoad {\n    // code\n}\n\n@end\n</code></pre>\n\n<p>Without the curly braces, <code>variable1</code> is just a global variable that has nothing to do with instances of the class. This is why it seems to keep its old value when you create a new view controller.</p>\n"}], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 52954018, "answer_count": 1, "score": -2, "last_activity_date": 1540312961, "creation_date": 1540293639, "last_edit_date": 1540294504, "question_id": 52947759, "link": "https://stackoverflow.com/questions/52947759/why-value-of-property-is-kept-when-viewdidload-is-called-again", "title": "Why value of property is kept when viewDidLoad is called again", "body": "<p>I have a property in class which default value is false </p>\n\n<pre><code>@implementation viewController1\n\nBOOL variable1 = false;\n</code></pre>\n\n<p>When <code>viewDidLoad</code> first calls. Its value is false. Then I change it to true in a method. The next time viewDidLoad called the value of <code>variable1</code> was true.<br/>\nbut the default value is false. This means that it kept the value?\nI can fix it but initializing this in viewDidLoad but I want to know the reason.</p>\n\n<p>I initialize it again with these codes:</p>\n\n<pre><code>UINavigationController *nc1;\n\nViewController1 * viewController1 = [[ViewController1 alloc] init];\n    UITabBarItem *tab1 = [[UITabBarItem alloc] init];\n    [tab1 setTitle: @\u201dtab1\u201d;\n    nc1 = [[UINavigationController alloc] init];\n    [viewController1 setTabBarItem:tab1];\n    nc1.viewControllers = [NSArray arrayWithObjects: viewController1, nil];\n\n\n[navigations addObject:nc1];\n\ntabController.viewControllers = navigations;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "veracode"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10545674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uOHyKAGRGgM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAaB3y2llklrokkkeJ6pVR5vn7iUg/mo/photo.jpg?sz=128", "display_name": "Ashique Puliyakkode", "link": "https://stackoverflow.com/users/10545674/ashique-puliyakkode"}, "edited": false, "score": 0, "creation_date": 1540292882, "post_id": 52947187, "comment_id": 92803073, "body": "Can you explain how can I call calloc() ? because someone else created the code and I have to edit it... I don&#39;t understand it.. Do you mean before I assign it to a variable, I should call it and check whether the result is not Null ?"}, {"owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "reply_to_user": {"reputation": 9, "user_id": 10545674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uOHyKAGRGgM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAaB3y2llklrokkkeJ6pVR5vn7iUg/mo/photo.jpg?sz=128", "display_name": "Ashique Puliyakkode", "link": "https://stackoverflow.com/users/10545674/ashique-puliyakkode"}, "edited": false, "score": 0, "creation_date": 1540294742, "post_id": 52947187, "comment_id": 92804207, "body": "Yes, thats right. You have to check if the result is not NULL"}], "tags": [], "owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "is_accepted": true, "score": 0, "last_activity_date": 1540291785, "creation_date": 1540291785, "answer_id": 52947187, "question_id": 52947091, "link": "https://stackoverflow.com/questions/52947091/calloc-call-result-is-not-captured-objective-c-ios/52947187#52947187", "title": "calloc() call result is not captured - Objective C-IOS", "body": "<p>1) You do not check the result of <code>calloc</code> call to see if it did succeed. It might fail if memory is constrained.</p>\n\n<p>2) <code>rand()</code> function is not sufficiently secure, replace it with more appropriate one for your use case (probably <code>arc4random()</code> )</p>\n"}], "owner": {"reputation": 9, "user_id": 10545674, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uOHyKAGRGgM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAaB3y2llklrokkkeJ6pVR5vn7iUg/mo/photo.jpg?sz=128", "display_name": "Ashique Puliyakkode", "link": "https://stackoverflow.com/users/10545674/ashique-puliyakkode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52947187, "answer_count": 1, "score": 0, "last_activity_date": 1540291785, "creation_date": 1540291546, "question_id": 52947091, "link": "https://stackoverflow.com/questions/52947091/calloc-call-result-is-not-captured-objective-c-ios", "title": "calloc() call result is not captured - Objective C-IOS", "body": "<p>I uploaded my IOS application in Veracode for vulnerability scanning and got two vulnerabilities.</p>\n\n<p><strong><em>First One</em></strong></p>\n\n<p><strong>\"The result of this call to calloc() is not captured, so it cannot be checked for success. This can result in application instability or crashing if memory is not available.\"</strong></p>\n\n<p>This is the calloc() line:</p>\n\n<pre><code>currentElementBuffer-&gt;elements = (TBLElement*)calloc(1,sizeof(TBLElement)*100);\n</code></pre>\n\n<p><strong><em>Second</em></strong> </p>\n\n<p><strong>\"Standard random number generators do not provide a sufficient amount of entropy when used for security purposes. Attackers can brute force the output of pseudorandom number generators such as rand().\"</strong></p>\n\n<p>I couldn't figure it out, as Iam new to this.\nAnyone have any Idea how to fix this, or what is the issue ?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 1, "creation_date": 1540291402, "post_id": 52946502, "comment_id": 92802183, "body": "For me your code is working fine. Make your code clean , delete derived data, restart xcode"}], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1540297318, "creation_date": 1540297318, "answer_id": 52948973, "question_id": 52946502, "link": "https://stackoverflow.com/questions/52946502/error-while-assigning-swift-delegate-to-objective-c-object/52948973#52948973", "title": "Error while assigning Swift delegate to Objective-C object", "body": "<p>The only missing part is you need to include this class inside the bridging file</p>\n\n<pre><code>#import \"MPInAppMessagesController.h\"\n</code></pre>\n\n<p>Look here to a <a href=\"https://github.com/ShKhan9/SwiftObjc2\" rel=\"nofollow noreferrer\">SwiftObjc</a></p>\n"}], "owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540297318, "creation_date": 1540289565, "last_edit_date": 1540291552, "question_id": 52946502, "link": "https://stackoverflow.com/questions/52946502/error-while-assigning-swift-delegate-to-objective-c-object", "title": "Error while assigning Swift delegate to Objective-C object", "body": "<p>This is my Swift class :  </p>\n\n<pre><code>class MyClass : NSObject {\n    public var inAppMessagesController: MPInAppMessagesController!\n\nfun myFunction() {\n    self.inAppMessagesController.inAppInteractionDelegate = self    // Error in this line - Cannot assign value of type 'MyClass' to type 'MPInAppMessageControllerDelegate?'\n}\n\n}  \n\nextension MyClass : MPInAppMessageControllerDelegate {\n  // Functions \n}   \n</code></pre>\n\n<p>As stated in comments, this is the error - </p>\n\n<blockquote>\n  <p>Cannot assign value of type 'MyClass' to type\n  'MPInAppMessageControllerDelegate?'</p>\n</blockquote>\n\n<p><strong>inAppInteractionDelegate</strong> in <code>Objective-C</code> class <strong>MPInAppMessagesController</strong> :  </p>\n\n<pre><code>@interface MPInAppMessagesController : NSObject\n\n@property (nonatomic, weak, nullable) id &lt;MPInAppMessageControllerDelegate&gt; inAppInteractionDelegate;\n\n@end   \n</code></pre>\n\n<p><strong>MPInAppMessageControllerDelegate</strong> declared in <strong>MPInAppMessagesController.h</strong> :  </p>\n\n<pre><code>@protocol MPInAppMessageControllerDelegate&lt;NSObject&gt;\n\n// Functions\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "xcode", "unrecognized-selector", "initializer"], "comments": [{"owner": {"reputation": 1411, "user_id": 3899770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgBfq.png?s=128&g=1", "display_name": "Aris", "link": "https://stackoverflow.com/users/3899770/aris"}, "edited": false, "score": 0, "creation_date": 1540294408, "post_id": 52945711, "comment_id": 92804019, "body": "I think <code>GAD_SUBCLASSING_RESTRICTED</code> is the problem, its a macro that restricts subclassing, although I am not sure how it works"}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "edited": false, "score": 0, "creation_date": 1540296784, "post_id": 52945711, "comment_id": 92805485, "body": "It does: <code>#define GAD_SUBCLASSING_RESTRICTED __attribute__((objc_subclassing_restricted))</code>. I&#39;d say this is a no go."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "edited": false, "score": 0, "creation_date": 1543496360, "post_id": 52945711, "comment_id": 93946283, "body": "Maybe you could achieve the same with a <code>category</code>"}, {"owner": {"reputation": 910, "user_id": 816537, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/VIWEc.jpg?s=128&g=1", "display_name": "ratsimihah", "link": "https://stackoverflow.com/users/816537/ratsimihah"}, "edited": false, "score": 0, "creation_date": 1547569999, "post_id": 52945711, "comment_id": 95233057, "body": "That&#39;s weird, it used to work and then broke out of nowhere. I don&#39;t see why GAD_SUBCLASSING_RESTRICTED would&#39;ve changed."}], "owner": {"reputation": 910, "user_id": 816537, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/VIWEc.jpg?s=128&g=1", "display_name": "ratsimihah", "link": "https://stackoverflow.com/users/816537/ratsimihah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1540287483, "creation_date": 1540287131, "last_edit_date": 1540287483, "question_id": 52945711, "link": "https://stackoverflow.com/questions/52945711/swift-subclassing-objc-class-initializer-gets-recognized-selector", "title": "Swift subclassing ObjC Class, initializer gets recognized selector", "body": "<p>The problem is simple. I have a Swift class that subclasses an Objective-C class:</p>\n\n<pre><code>class CJGADSearchBannerView: GADSearchBannerView {\n    ...\n}\n</code></pre>\n\n<p>Then I initialize my class as:</p>\n\n<pre><code>let searchBanner = CJGADSearchBannerView(adSize: kGADAdSizeFluid)\n</code></pre>\n\n<p>The inherited Objective-C class comes from the <a href=\"https://cocoapods.org/pods/Google-Mobile-Ads-SDK\" rel=\"nofollow noreferrer\">GoogleMobileAdsSDK pod</a>.</p>\n\n<p>It all compiles fine and I can trace the initializer back to its original class in the code:</p>\n\n<pre><code>@interface GADSearchBannerView : GADBannerView\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>GAD_SUBCLASSING_RESTRICTED\n@interface GADBannerView : UIView\n\n#pragma mark Initialization\n\n/// Initializes and returns a banner view with the specified ad size and origin relative to the\n/// banner's superview.\n- (instancetype)initWithAdSize:(GADAdSize)adSize origin:(CGPoint)origin;\n\n/// Initializes and returns a banner view with the specified ad size placed at its superview's\n/// origin.\n- (instancetype)initWithAdSize:(GADAdSize)adSize;\n</code></pre>\n\n<p>But at runtime I get:</p>\n\n<pre><code>-[CJGADSearchBannerView initWithAdSize:]: unrecognized selector sent to instance 0x7f87cbe88710\n</code></pre>\n\n<p>It used to work, then at some point I built in Xcode 10 and it just broke.</p>\n\n<p>I tried adding <code>@ObjcMembers</code> to the new class in case it was an inference issue, I tried deleting <code>DerivedData</code> in case it was linking to old code,\nI deleted <code>Pods</code> and ran <code>pod install</code> again, I tried switching between Swift 3 and Swift 4, I tried building in Xcode 9.4 and Xcode 10, but nothing worked.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 4396, "user_id": 499351, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/FfUze.jpg?s=128&g=1", "display_name": "Ankit Thakur", "link": "https://stackoverflow.com/users/499351/ankit-thakur"}, "edited": false, "score": 0, "creation_date": 1540282195, "post_id": 52944065, "comment_id": 92796308, "body": "share example of how you are handling NSFileHandle write operation."}, {"owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "reply_to_user": {"reputation": 4396, "user_id": 499351, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/FfUze.jpg?s=128&g=1", "display_name": "Ankit Thakur", "link": "https://stackoverflow.com/users/499351/ankit-thakur"}, "edited": false, "score": 0, "creation_date": 1540282655, "post_id": 52944065, "comment_id": 92796527, "body": "@AnkitThakur , edited my question with the code."}, {"owner": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540293791, "post_id": 52944065, "comment_id": 92803631, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52943056/nsfilehandle-writedata-synchronously-delaying-main-thread-operations\">NSFileHandle writeData synchronously delaying main thread operations</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "edited": false, "score": 0, "creation_date": 1540294628, "post_id": 52947558, "comment_id": 92804142, "body": "Is it required to get the main queue again if I am bot doing anything in that? Just wondering..."}, {"owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "reply_to_user": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "edited": false, "score": 0, "creation_date": 1540294715, "post_id": 52947558, "comment_id": 92804191, "body": "No its not required I just added it just in case you needed to get the main Thread after the task is done. Have updated the answer and removed it"}], "tags": [], "owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1540294731, "last_edit_date": 1540294731, "creation_date": 1540293041, "answer_id": 52947558, "question_id": 52944065, "link": "https://stackoverflow.com/questions/52944065/handle-writedata-method-on-nsfilehandle-on-main-thread/52947558#52947558", "title": "Handle writeData method on NSFileHandle on main thread", "body": "<p>You can do the saving part in a BackGround thread</p>\n\n<pre><code>- (void) writeToFile: (NSString *) targetString\n{\n\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n    NSString *oldString = [_loggingString copy];\n\n    _loggingString = [oldString stringByAppendingString:targetString];\n\n    if (![[NSFileManager defaultManager]fileExistsAtPath:@\"somePath\"])\n    {\n        [[NSFileManager defaultManager]createFileAtPath:@\"somePath\" contents:nil attributes:nil];\n    }\n\n    NSFileHandle *fileHandle =  [NSFileHandle fileHandleForWritingAtPath:@\"somePath\"];\n\n    [fileHandle seekToEndOfFile];\n\n    [fileHandle writeData:[_loggingString dataUsingEncoding:NSUTF8StringEncoding]];\n\n    _loggingString = @\"\";\n\n});\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4396, "user_id": 499351, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/FfUze.jpg?s=128&g=1", "display_name": "Ankit Thakur", "link": "https://stackoverflow.com/users/499351/ankit-thakur"}, "is_accepted": false, "score": 0, "last_activity_date": 1540379412, "creation_date": 1540379412, "answer_id": 52967467, "question_id": 52944065, "link": "https://stackoverflow.com/questions/52944065/handle-writedata-method-on-nsfilehandle-on-main-thread/52967467#52967467", "title": "Handle writeData method on NSFileHandle on main thread", "body": "<p>It is not preferred to do file write operation in main thread. Also, there will be issue in performance with default global queue, as the system cannot prioritize the task.</p>\n\n<p>So try to create 4 types of background queues:</p>\n\n<pre><code>dispatch_queue_t GlobalUserInteractiveQueue(void) {\n    return dispatch_get_global_queue(QOS_CLASS_USER_INTERACTIVE, 0);\n}\n\ndispatch_queue_t GlobalUserInitiatedQueue(void) {\n    return dispatch_get_global_queue(QOS_CLASS_USER_INITIATED, 0);\n}\n\ndispatch_queue_t GlobalUtilityQueue(void) {\n    return dispatch_get_global_queue(QOS_CLASS_UTILITY, 0);\n}\n\ndispatch_queue_t GlobalBackgroundQueue(void) {\n    return dispatch_get_global_queue(QOS_CLASS_BACKGROUND, 0);\n}\n</code></pre>\n\n<p>In your code just do this:</p>\n\n<p>create custom queue.\n<code>\nqueue = dispatch_queue_create(\"customQueueName\", NULL);\n</code></p>\n\n<p>then write code in dispatch async</p>\n\n<pre><code>dispatch_async( queue ,\n                   ^ {\n                       // execute asynchronously\n                       [fileHandle seekToEndOfFile];\n                       [fileHandle writeData:[_loggingString dataUsingEncoding:NSUTF8StringEncoding]];\n\n                   }); \n</code></pre>\n\n<p>Check the working process of each queue here:\n<a href=\"https://gist.github.com/ankitthakur/dd945a66924fbd697169\" rel=\"nofollow noreferrer\">https://gist.github.com/ankitthakur/dd945a66924fbd697169</a></p>\n"}], "owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1540379412, "creation_date": 1540281954, "last_edit_date": 1540282638, "question_id": 52944065, "link": "https://stackoverflow.com/questions/52944065/handle-writedata-method-on-nsfilehandle-on-main-thread", "title": "Handle writeData method on NSFileHandle on main thread", "body": "<p>Since <code>writeData</code> call is synchronous, what is the best way to use it when we call writeData from a different thread other than main queue?</p>\n\n<p>For instance, a web service is called to fetch some data and the completionHandler is assigned to the web service call. Now this completion handler will be executed on a different thread (not on main queue).</p>\n\n<p>I have seen my app getting stuck, on <code>writeData</code> method for 5 to 6 mins. This is the only thing I can suspect right now.</p>\n\n<p>I tried wrapping around my <code>writeData</code> call with <code>dispatch_async(mainQueue)</code> but it did not work.</p>\n\n<pre><code>- (void) writeToFile: (NSString *) targetString\n{\n    //_loggingString holds the data, which keeps on accumulating as the user performs operations. At some point of time (callbacks from API's I call this method, to actually, write this string in the file and clear this string afterwards.)\n    NSString *oldString = [_loggingString copy];\n\n    _loggingString = [oldString stringByAppendingString:targetString];\n\n    if (![[NSFileManager defaultManager]fileExistsAtPath:@\"somePath\"])\n    {\n        [[NSFileManager defaultManager]createFileAtPath:@\"somePath\" contents:nil attributes:nil];\n    }\n\n    NSFileHandle *fileHandle =  [NSFileHandle fileHandleForWritingAtPath:@\"somePath\"];\n\n    [fileHandle seekToEndOfFile];\n\n    [fileHandle writeData:[_loggingString dataUsingEncoding:NSUTF8StringEncoding]];\n\n    _loggingString = @\"\";\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "uiviewcontroller", "global-variables"], "comments": [{"owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1540318489, "post_id": 52943763, "comment_id": 92818485, "body": "<i>Swift Tips:</i> Swift variables and function names are <code>lowerCamelCase</code>, so <code>firstViewControllerisVisible</code>  and <code>playAgainfunc</code>. Also, don&#39;t add <code>func</code> to the end of a function name\u2026 so just <code>playAgain</code>. And no need to include <code>the == true</code>, so <code>if firstViewControllerisVisible {</code> etc."}, {"owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1540318578, "post_id": 52943763, "comment_id": 92818532, "body": "Also\u2026  <code>[(FirstViewControllerisVisible) == true];</code> is all wrong. <code>==</code> is a comparison, not an assignment, and why surround in <code>[ ]</code>?"}, {"owner": {"reputation": 49, "user_id": 9264403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4D7a.jpg?s=128&g=1", "display_name": "Adem", "link": "https://stackoverflow.com/users/9264403/adem"}, "reply_to_user": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1540328648, "post_id": 52943763, "comment_id": 92823029, "body": "I need to put the == true because firstViewControllerisVisible is a global variable Boolean I made up. By default it\u2019s false and when viewdidappear is triggered the flag gets set to true. Also, I guess the Objective-C is wrong, I\u2019m not as well versed in that as Swift. I\u2019m trying to do in Objective-C what I\u2019ve been doing in Swift, but global variables declared in swift can\u2019t be used by ObjC. That\u2019s what I\u2019m trying to figure out, how to set a flag in Objective-C to read if the VC is visible or not and then execute a function based on that in Swift."}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 725553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dmafH.png?s=128&g=1", "display_name": "John McDowall", "link": "https://stackoverflow.com/users/725553/john-mcdowall"}, "is_accepted": false, "score": 0, "last_activity_date": 1540281512, "creation_date": 1540281512, "answer_id": 52943942, "question_id": 52943763, "link": "https://stackoverflow.com/questions/52943763/how-do-i-check-the-currently-loaded-view-controller-objc-swift/52943942#52943942", "title": "How do I check the currently loaded view controller ? (ObjC + Swift)", "body": "<p>After the view controller has loaded, you can    </p>\n\n<pre><code>if let viewController = UIApplication.shared.keyWindow?.rootViewController {\n    print(type(of: viewController))\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 490, "user_id": 1284338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHaQE.jpg?s=128&g=1", "display_name": "Rishi Chaurasia", "link": "https://stackoverflow.com/users/1284338/rishi-chaurasia"}, "is_accepted": false, "score": 0, "last_activity_date": 1540282482, "creation_date": 1540282482, "answer_id": 52944215, "question_id": 52943763, "link": "https://stackoverflow.com/questions/52943763/how-do-i-check-the-currently-loaded-view-controller-objc-swift/52944215#52944215", "title": "How do I check the currently loaded view controller ? (ObjC + Swift)", "body": "<p>add below mentioned extension. you will get the desired result.   </p>\n\n<pre><code>extension UIApplication {\n        /// will return currently showing view controller\n        static var topMostViewController: UIViewController? {\n            return UIApplication.shared.keyWindow?.rootViewController?.visibleViewController\n        }\n    }\n\n    extension UIViewController {\n        /// The visible view controller from a given view controller\n        var visibleViewController: UIViewController? {\n            if let navigationController = self as? UINavigationController {\n                return navigationController.topViewController?.visibleViewController\n            } else if let tabBarController = self as? UITabBarController {\n                return tabBarController.selectedViewController?.visibleViewController\n            } else if let presentedViewController = presentedViewController {\n                return presentedViewController.visibleViewController\n            } else {\n                return self\n            }\n        }\n    }\n</code></pre>\n\n<p>and access it like: </p>\n\n<pre><code>let viewController = UIApplication.topMostViewController\n</code></pre>\n\n<p><strong>Happy Coding</strong></p>\n"}], "owner": {"reputation": 49, "user_id": 9264403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4D7a.jpg?s=128&g=1", "display_name": "Adem", "link": "https://stackoverflow.com/users/9264403/adem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540313171, "creation_date": 1540280850, "last_edit_date": 1540313171, "question_id": 52943763, "link": "https://stackoverflow.com/questions/52943763/how-do-i-check-the-currently-loaded-view-controller-objc-swift", "title": "How do I check the currently loaded view controller ? (ObjC + Swift)", "body": "<p>In my app I have a function where I want it to print something depending on the current view controller that is loaded. I do this by setting a global variable (Bool) and then toggling the flags in the view controller classes. From my main class I have something like this:</p>\n\n<pre><code>var FirstViewControllerisVisible: Bool = false\nvar SecondViewControllerisVisible: Bool = false\nvar ThirdViewControllerisVisible: Bool = false\n\n@objc func PlayAgainfunc(_ sender: Any) {\n    if counter % 15 == 0 {\n        if FirstViewControllerisVisible == true {\n            print(\"First View Controller is visible\")\n        } else if SecondViewControllerisVisible == true {\n            print(\"Second View Controller is visible\")\n        } else if ThirdViewControllerisVisible == true {\n            print(\"Third View Controller is visible\")\n        }\n    }\n    counter += 1\n}\n</code></pre>\n\n<p>Then, in those classes I can set the flags like this:</p>\n\n<pre><code>override func viewDidAppear(_ animated: Bool) {\n    FirstViewControllerisVisible = true\n}\n\noverride func viewDidDisappear(_ animated: Bool) {\n    FirstViewControllerisVisible = false\n}\n</code></pre>\n\n<p>This worked great when it was exclusively Swift, but the problem with global variables is that they can't be accessed by Objective-C. I can't find a way to set flags in my ObjC classes and then check if true or false. For instance, If I tried:</p>\n\n<pre><code>- (void)viewDidAppear:(BOOL)animated; {\n    [(FirstViewControllerisVisible) == true];\n}\n\n- (void)viewDidDisappear:(BOOL)animated; {\n    [(FirstViewControllerisVisible) == false];\n}\n</code></pre>\n\n<p>I would get the error 'use of undeclared identifier' because my global vars declared in Swift are Swift only.</p>\n"}, {"tags": ["ios", "objective-c", "cordova", "ionic-framework", "cordova-plugins"], "comments": [{"owner": {"reputation": 1276, "user_id": 4680556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/E0zeh.jpg?s=128&g=1", "display_name": "iPeter", "link": "https://stackoverflow.com/users/4680556/ipeter"}, "edited": false, "score": 0, "creation_date": 1540280856, "post_id": 52943655, "comment_id": 92795605, "body": "Your webview&#39;s frame is same as your native view so it is getting hidden."}, {"owner": {"reputation": 3524, "user_id": 543224, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e23b2a1e5582bf8fb06bcbfa5f49190?s=128&d=identicon&r=PG", "display_name": "andlin", "link": "https://stackoverflow.com/users/543224/andlin"}, "edited": false, "score": 0, "creation_date": 1540281081, "post_id": 52943655, "comment_id": 92795740, "body": "Use Xcode to debug the view hierarchy. This should tell you the size and position of all the views in your app, which should help you figure out why you only see the webview."}, {"owner": {"reputation": 455, "user_id": 5575434, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UQlAPn2aF-k/AAAAAAAAAAI/AAAAAAAAABU/LE-9T3dPoMc/photo.jpg?sz=128", "display_name": "Zabih Ullah", "link": "https://stackoverflow.com/users/5575434/zabih-ullah"}, "reply_to_user": {"reputation": 3524, "user_id": 543224, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e23b2a1e5582bf8fb06bcbfa5f49190?s=128&d=identicon&r=PG", "display_name": "andlin", "link": "https://stackoverflow.com/users/543224/andlin"}, "edited": false, "score": 0, "creation_date": 1540361864, "post_id": 52943655, "comment_id": 92830916, "body": "@andlin , I have used Xcode to debug view hierarchy. Lemme explain my problem , View 1 is native ios view which I have developed in objective-C in iOS Platform of my Project. View 2 is ionic View . Now I am playing a video in view 1 (Native iOS) and all of sudden I got a popup which I am showing in ionic, comes. Now it is making 2 views , native iOS view or ionic view and when one view is on top, the other goes behind and invisible automatically.  What I want is my native view remains there , and ionic view which just has to show in center just comes over native view and keep it visible."}], "owner": {"reputation": 455, "user_id": 5575434, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UQlAPn2aF-k/AAAAAAAAAAI/AAAAAAAAABU/LE-9T3dPoMc/photo.jpg?sz=128", "display_name": "Zabih Ullah", "link": "https://stackoverflow.com/users/5575434/zabih-ullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540280505, "creation_date": 1540280505, "question_id": 52943655, "link": "https://stackoverflow.com/questions/52943655/opening-a-webview-hides-my-native-ios-view-behing-it", "title": "Opening a webView hides my native iOS View behing it", "body": "<p>I am building a plugin for my ionic 1 app. I am showing native iOS view on one screen. On centre of that native view I am trying to add a webview. But When I add it, the native view gets hide and only I can see a webview.</p>\n\n<p>I am adding webview as </p>\n\n<p><code>[topcontroller.view addSubView self.webView];</code></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 4405, "user_id": 8192960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TEQKl.jpg?s=128&g=1", "display_name": "Mohmmad S", "link": "https://stackoverflow.com/users/8192960/mohmmad-s"}, "edited": false, "score": 0, "creation_date": 1540278837, "post_id": 52943085, "comment_id": 92794581, "body": "isn&#39;t that a problem solved by Targets ? <a href=\"https://www.appcoda.com/using-xcode-targets/\" rel=\"nofollow noreferrer\">appcoda.com/using-xcode-targets</a>"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540278852, "post_id": 52943085, "comment_id": 92794591, "body": "You can build and sign apps on the command line using <code>xcodebuild</code>. What have you tried?  You could also look at using fastlane"}, {"owner": {"reputation": 2399, "user_id": 2776008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee51c7bce8881c84ddecb2e2f27af353?s=128&d=identicon&r=PG&f=1", "display_name": "Quoc Nguyen", "link": "https://stackoverflow.com/users/2776008/quoc-nguyen"}, "edited": false, "score": 0, "creation_date": 1540278915, "post_id": 52943085, "comment_id": 92794624, "body": "I didn&#39;t test it. But you can try <a href=\"https://medium.com/ios-os-x-development/dynamically-change-the-app-icon-7d4bece820d2\" rel=\"nofollow noreferrer\">medium.com/ios-os-x-development/&hellip;</a> . You can detect your app&#39;s bundle id for auto call the <code>changeIcon</code> function"}, {"owner": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "edited": false, "score": 0, "creation_date": 1540283279, "post_id": 52943085, "comment_id": 92796888, "body": "Use Fastlane for resigning your app. very easy with Fastlane."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1540284938, "post_id": 52943085, "comment_id": 92797984, "body": "You should edit your question to show the command you are using and describe your problem more clearly than &quot;it does not work&quot;"}, {"owner": {"reputation": 19, "user_id": 9533157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ab73a480799caec71b36a0da9e70f5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9533157/nick"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540292645, "post_id": 52943085, "comment_id": 92802929, "body": "And I confirm that the icons have the identical name with the name which are in the general setting. Should I set something in the plist? Or is there any else method to solve my problem? Thank you. @Paulw11"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540293030, "post_id": 52943085, "comment_id": 92803167, "body": "You should edit your question to include that detail"}, {"owner": {"reputation": 19, "user_id": 9533157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ab73a480799caec71b36a0da9e70f5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9533157/nick"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540296115, "post_id": 52943085, "comment_id": 92805088, "body": "ok, I&#39;m sorry wait a minute. @Paulw11"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10544640, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vf_B3BbiAP0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB5HwCPzUHPw6fStcsujroYqN48Wg/mo/photo.jpg?sz=128", "display_name": "\u95eb\u901a\u4eae", "link": "https://stackoverflow.com/users/10544640/%e9%97%ab%e9%80%9a%e4%ba%ae"}, "is_accepted": false, "score": -1, "last_activity_date": 1540279120, "creation_date": 1540279120, "answer_id": 52943250, "question_id": 52943085, "link": "https://stackoverflow.com/questions/52943085/ios-how-to-replace-my-app-icon-in-app-file-and-resign/52943250#52943250", "title": "iOS how to replace my app icon in .app file and resign?", "body": "<p>its seems must archive 20 times\nin your project => General => TARGETS, you can create 20 targets with ,\nset target different icons and different names.\nthen archive them with auto script(use xcodebuild) </p>\n"}, {"tags": [], "owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "is_accepted": false, "score": 1, "last_activity_date": 1540361975, "creation_date": 1540361975, "answer_id": 52962155, "question_id": 52943085, "link": "https://stackoverflow.com/questions/52943085/ios-how-to-replace-my-app-icon-in-app-file-and-resign/52962155#52962155", "title": "iOS how to replace my app icon in .app file and resign?", "body": "<p>You'll have to re-build the app to get the icons into the bundle; re-signing is not sufficient.</p>\n\n<p>I would suggest the following:</p>\n\n<ol>\n<li>In the asset catalog, you create App Icon assets for each target and give them an individual name, e.g. <code>AppIconTaget1</code> and so on</li>\n<li>In the <em>build settings</em> of each target, you create a variable named e.g. <code>TargetAppIconName</code> and assign it accordingly to <code>AppIconTarget1</code> and so on (so in the second target, <code>TargetAppIconName == AppIconTarget2</code>)</li>\n<li>In the <em>Info.plist</em> file, you assign the <code>CFBundleIconName</code> entry to the <em>value</em> of this variable, e.g. <code>$(TargetAppIconName)</code></li>\n</ol>\n\n<p>Then, without any pre/post copying and so on, you should get individual icons after building each and every target.</p>\n"}], "owner": {"reputation": 19, "user_id": 9533157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ab73a480799caec71b36a0da9e70f5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9533157/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1599637264, "creation_date": 1540278472, "last_edit_date": 1540296074, "question_id": 52943085, "link": "https://stackoverflow.com/questions/52943085/ios-how-to-replace-my-app-icon-in-app-file-and-resign", "title": "iOS how to replace my app icon in .app file and resign?", "body": "<p>Now, I have a project that has to distribute in 20 or more 'ipa' files according In-house distribution. However, these files are totally identical. They are divided into different 'ipa' files by different icons and different names. \nIt is my question that I rename the icon file into same name with my icon file in Xcode project. And build it to be a .app file, resign it after I replaced different icons in this .app file. But it doesn't works. So what should I do? \nI don't want to archive it over 20 times to get the ipa files!!That's painful and boring. </p>\n\n<p>detail: \nFirst, I use a command <code>xcodebuild</code> to get a .app file.<br>\n<code>xcodebuild -workspace ${projectDir}/xxxxx.xcworkspace -scheme ${schemeName} -configuration Release clean -sdk iphoneos build CODE_SIGN_IDENTITY=\"${CODE_SIGN_IDENTITY}\" PROVISIONING_PROFILE=\"${PROVISIONING_PROFILE}\" SYMROOT=\"${projectDir}/build\"</code>\nBefore I do this, I've set <a href=\"https://i.stack.imgur.com/sGq3I.png\" rel=\"nofollow noreferrer\">this</a> in Xcode. \nThen, I open the app file and I found <a href=\"https://i.stack.imgur.com/C9QK5.png\" rel=\"nofollow noreferrer\">this</a>.<br>\nSo I decide to change the icon so that I don't have to re-archive many times. So I replace this by else <a href=\"https://i.stack.imgur.com/MNv34.png\" rel=\"nofollow noreferrer\">icon</a>. They have same names.\nAfter that, I resign this .app file according using this command<br>\n<code>xattr -cr $ipaPath/Payload/myproject.app\ncodesign -f -s \"xxxxxx\" --entitlements $Entitlements $ipaPath/Payload/myproject.app</code>. And I upload to a platform and download from there. The icon was not changed(is the first <a href=\"https://i.stack.imgur.com/C9QK5.png\" rel=\"nofollow noreferrer\">one</a> not <a href=\"https://i.stack.imgur.com/MNv34.png\" rel=\"nofollow noreferrer\">second</a>). So why did it happen? and how could I solve it.\nBy the way, I also re-write the plist file to change the <code>DisplayName</code>, it works.</p>\n"}, {"tags": ["ios", "objective-c", "multithreading", "grand-central-dispatch", "nsfilemanager"], "comments": [{"owner": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540285434, "post_id": 52943056, "comment_id": 92798296, "body": "I use a even simpler version of this logging function, which always logs the passed string to a file (no <code>rightNow</code> parameter), and I have no problems logging from many threads concurrently (other than mixed output from different threads). So, the problem is not caused by which thread is writing to the file. Please provide the actual code you&#39;re executing and we&#39;ll see (the code shown right now doesn&#39;t even have the <code>rightNow</code> parameter, and it&#39;s copying <code>_loggingString</code> but never using the copy!)"}, {"owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "reply_to_user": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540288260, "post_id": 52943056, "comment_id": 92800197, "body": "@gog edited my question with the code. <code>_loggingString</code> is copied to <code>olderString</code> variable."}], "answers": [{"comments": [{"owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "edited": false, "score": 0, "creation_date": 1540294518, "post_id": 52946852, "comment_id": 92804085, "body": "Is it required to make loggingQueue as a strong prperty? just wondering since this method can be called frequently"}, {"owner": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "reply_to_user": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "edited": false, "score": 0, "creation_date": 1540295104, "post_id": 52946852, "comment_id": 92804430, "body": "You can make it a property, or you can make it a private instance variable, like <a href=\"https://stackoverflow.com/a/13263345/6059640\">this answer</a> explains. If you make it an instance variable, you should declare another method <code>logToFile</code> in your logger singleton class which performs the <code>dispatch_async</code> call"}], "tags": [], "owner": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "is_accepted": false, "score": 1, "last_activity_date": 1540291324, "last_edit_date": 1540291324, "creation_date": 1540290695, "answer_id": 52946852, "question_id": 52943056, "link": "https://stackoverflow.com/questions/52943056/nsfilehandle-writedata-synchronously-delaying-main-thread-operations/52946852#52946852", "title": "NSFileHandle writeData synchronously delaying main thread operations", "body": "<p>Since your logging takes 5/6 mins, and halts subsequent operations in your app, simply move the logging to another queue with GCD:</p>\n\n<pre><code>dispatch_queue_t loggingQueue = dispatch_queue_create(\"MyLoggingQueue\", DISPATCH_QUEUE_SERIAL);\n</code></pre>\n\n<p>and then, perform the logging always on that queue:</p>\n\n<pre><code>dispatch_async(loggingQueue, ^(void){\n    [TheLoggerSingleton writeToFile:@\"LogMe\" rightNow:YES];\n});\n</code></pre>\n\n<p>At this point, it doesn't make any difference calling <code>writeToFile</code> with <code>YES</code> or <code>NO</code> as <code>rightNow</code> parameter; you could always use <code>YES</code></p>\n"}], "owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540291324, "creation_date": 1540278319, "last_edit_date": 1540288021, "question_id": 52943056, "link": "https://stackoverflow.com/questions/52943056/nsfilehandle-writedata-synchronously-delaying-main-thread-operations", "title": "NSFileHandle writeData synchronously delaying main thread operations", "body": "<p>I have a custom implementation of a logger, which logs the actions and operations in my app.</p>\n\n<p>A strong <code>NSString</code> reference is living in one of my Singleton Classes.</p>\n\n<p>I call a method named \"<code>-(void)writeToFile: (BOOL) rightNow</code>\", whenever I need to log something. This method also lives in that Singleton class.</p>\n\n<p>Yes passed to <code>rightNow</code>, will trigger the immediate call to <code>writeData:</code> on NSFileHandle, forcing the NSString to be written to the file and emptying the NSString afterwards.</p>\n\n<p>No, will only append the string and wait for a <code>Yes</code> value in <code>rightNow</code> to do the write operation.</p>\n\n<p>Whenever I call <code>writeToFile</code> from a method which is being called through a timer, with <code>rightNow</code> param as <code>YES</code>, my app halts for 5/6 mins.</p>\n\n<p>Similarly, If I call <code>writeToFile</code> from a block (let's say a web service returned some data on a block), the app halts again.</p>\n\n<p>To my understanding, since <code>writeData</code> works synchronously, for some reason, it breaks when called from block or timers (which I am assuming are called on different threads).</p>\n\n<p>Is this the expected behavior? I could wrap my <code>writeToFile</code> call around GCD, but what if the thread I am requesting (main/global), the current state is that only? Wouldn't it create a deadlock calling main thread on main thread?</p>\n\n<p>Code:</p>\n\n<pre><code>- (void) writeToFile: (NSString *) targetString rightNow: (BOOL) rightNow\n{\n    //_loggingString holds the data, which keeps on accumulating as the user performs operations. At some point of time (callbacks from API's I call this method, to actually, write this string in the file and clear this string afterwards.)\n    NSString *oldString = [_loggingString copy];\n\n    _loggingString = [oldString stringByAppendingString:targetString];\n\n    if (rightNow)\n    {\n        if (![[NSFileManager defaultManager]fileExistsAtPath:@\"somePath\"])\n        {\n            [[NSFileManager defaultManager]createFileAtPath:@\"somePath\" contents:nil attributes:nil];\n        }\n\n        NSFileHandle *fileHandle =  [NSFileHandle fileHandleForWritingAtPath:@\"somePath\"];\n\n        [fileHandle seekToEndOfFile];\n\n        [fileHandle writeData:[_loggingString dataUsingEncoding:NSUTF8StringEncoding]];\n\n        _loggingString = @\"\";\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "google-maps"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1540277842, "post_id": 52942591, "comment_id": 92794042, "body": "see this for help pa : <a href=\"https://stackoverflow.com/questions/40210145/google-maps-ios-sdk-custom-icons-to-be-used-as-markers\" title=\"google maps ios sdk custom icons to be used as markers\">stackoverflow.com/questions/40210145/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2626, "user_id": 8079610, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/k5Wrb.png?s=128&g=1", "display_name": "Ramprasath Selvam", "link": "https://stackoverflow.com/users/8079610/ramprasath-selvam"}, "is_accepted": false, "score": 0, "last_activity_date": 1540277501, "creation_date": 1540277501, "answer_id": 52942837, "question_id": 52942591, "link": "https://stackoverflow.com/questions/52942591/ios-google-map-marker-with-a-photo-inside-round-bubble-with-arrow/52942837#52942837", "title": "iOS Google Map Marker with a photo inside round bubble with arrow", "body": "<p>Try this <br></p>\n\n<pre><code>CLLocationCoordinate2D position = CLLocationCoordinate2DMake(51.5, -0.127);\nGMSMarker *london = [GMSMarker markerWithPosition:position];\nlondon.title = @\"London\";\nlondon.icon = [UIImage imageNamed:@\"house\"];\nlondon.map = mapView;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3439, "user_id": 5519329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0649f74abd19c2e774dd6184aab5c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Sateesh Yemireddi", "link": "https://stackoverflow.com/users/5519329/sateesh-yemireddi"}, "is_accepted": false, "score": 1, "last_activity_date": 1540278152, "last_edit_date": 1540278152, "creation_date": 1540277697, "answer_id": 52942885, "question_id": 52942591, "link": "https://stackoverflow.com/questions/52942591/ios-google-map-marker-with-a-photo-inside-round-bubble-with-arrow/52942885#52942885", "title": "iOS Google Map Marker with a photo inside round bubble with arrow", "body": "<p>Use <code>iconView</code> property of <code>GMSMarker</code> to render the customized view as marker.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>UIImage *picture = [UIImage imageNamed:@\"Your Picture\"];\npicture = [picture imageWithRenderingMode:UIImageRenderingModeAlwaysTemplate];\nUIImageView *pictureView = [[UIImageView alloc] initWithImage: picture];\npictureView.tintColor = [UIColor redColor];\n\nCLLocationCoordinate2D position = CLLocationCoordinate2DMake(51.5, -0.127);\nGMSMarker *marker = [GMSMarker markerWithPosition:position];\nmarker.iconView = pictureView;\nmarker.tracksViewChanges = YES;\nmarker.map = self.mapView;\n</code></pre>\n\n<p>For more, please visit <a href=\"https://developers.google.com/maps/documentation/ios-sdk/marker\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/ios-sdk/marker</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/o4mzk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4mzk.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 762, "user_id": 4373074, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/560005b3cae7af747134b2489c549529?s=128&d=identicon&r=PG&f=1", "display_name": "Shangari C", "link": "https://stackoverflow.com/users/4373074/shangari-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540278884, "creation_date": 1540276631, "last_edit_date": 1540278884, "question_id": 52942591, "link": "https://stackoverflow.com/questions/52942591/ios-google-map-marker-with-a-photo-inside-round-bubble-with-arrow", "title": "iOS Google Map Marker with a photo inside round bubble with arrow", "body": "<p>I need a custom marker in google maps,I found a link which is in Android <a href=\"https://stackoverflow.com/questions/50143203/how-to-make-a-google-map-marker-with-a-photo-inside-round-speech-bubble\">How to make a Google Map Marker with a photo inside round speech-bubble?</a>.\nCan anyone give me idea how I can do in objective - c.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "code-migration"], "comments": [{"owner": {"reputation": 1365, "user_id": 428240, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b980d152e581a4762e13089ff8922c27?s=128&d=identicon&r=PG", "display_name": "Syed Faraz Haider Zaidi", "link": "https://stackoverflow.com/users/428240/syed-faraz-haider-zaidi"}, "edited": false, "score": 1, "creation_date": 1540277008, "post_id": 52942575, "comment_id": 92793630, "body": "if it is running properly in objective C then the best thing is to leave it as it is and continue with objectiveC but if the requirement is to go for swift than you can do one thing while adding new module create it using swift."}, {"owner": {"reputation": 1365, "user_id": 428240, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b980d152e581a4762e13089ff8922c27?s=128&d=identicon&r=PG", "display_name": "Syed Faraz Haider Zaidi", "link": "https://stackoverflow.com/users/428240/syed-faraz-haider-zaidi"}, "edited": false, "score": 0, "creation_date": 1540277046, "post_id": 52942575, "comment_id": 92793646, "body": "another thing you can do is to break your project in module and start changing it to swift by module approach"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 2, "creation_date": 1540277735, "post_id": 52942575, "comment_id": 92793987, "body": "Don&#39;t convert it to Swift. Converting to Swift cannot be done automatically if it&#39;s done properly, you would have to implement everything again instead. Convert files when you are updating them and do that manually. That way your project will be converted to Swift one file at a time. There is nothing wrong with using legacy Obj-C."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540278786, "post_id": 52942575, "comment_id": 92794552, "body": "Keep both Objective-C &amp; Swift. Create your new files in Swift. Redoing/convert Objective-C to Swift implies another bug fixes on each conversion. Do you have unit tests to do so? If the Objective-C code works, let it as such. Don&#39;t break to break code."}, {"owner": {"reputation": 5673, "user_id": 4977661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etkBe.png?s=128&g=1", "display_name": "onCompletion", "link": "https://stackoverflow.com/users/4977661/oncompletion"}, "edited": false, "score": 0, "creation_date": 1540279047, "post_id": 52942575, "comment_id": 92794697, "body": "Worst thing is - You can not simply/directly convert the Objc Syntax to Swift Syntax. Best thing is - There are lots of projects running successfully which are gigantic like yours with mix of both the languages. Leave it as it is for now and start working on new modules using Swift. Later on start writing all the syntaxes of Objc files one by one if required. Figure out external dependency replacements of existing Objc version in Swift. Hopefully you will be able to build the entire project in Swift very soon..:)"}, {"owner": {"reputation": 2815, "user_id": 671060, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ea8b261a6e02873eab5a616f1bf62ef0?s=128&d=identicon&r=PG", "display_name": "Aleem", "link": "https://stackoverflow.com/users/671060/aleem"}, "reply_to_user": {"reputation": 1365, "user_id": 428240, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b980d152e581a4762e13089ff8922c27?s=128&d=identicon&r=PG", "display_name": "Syed Faraz Haider Zaidi", "link": "https://stackoverflow.com/users/428240/syed-faraz-haider-zaidi"}, "edited": false, "score": 0, "creation_date": 1540795987, "post_id": 52942575, "comment_id": 92979578, "body": "@SyedFarazHaiderZaidi Thanks for your comment, as you suggested to leave it as it is in Obj-C, project is keep updating and will run many years in future IA. So I want to convert it to Swift before Apple stop update Obj-C."}], "answers": [{"comments": [{"owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 1, "creation_date": 1540277714, "post_id": 52942824, "comment_id": 92793972, "body": "You might start by separating the class hierarchy, and convert one &quot;subtree&quot; after the other. Fun fact: A module that doesn&#39;t affect the app can simply be kicked out without being converted to anything :-)"}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "edited": false, "score": 0, "creation_date": 1540296297, "post_id": 52942824, "comment_id": 92805210, "body": "An obvious starting point would be converting the custom frameworks."}, {"owner": {"reputation": 983, "user_id": 1531236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e4bdd4aaad478b3d26cf970e94ca477?s=128&d=identicon&r=PG", "display_name": "Crulex", "link": "https://stackoverflow.com/users/1531236/crulex"}, "edited": false, "score": 0, "creation_date": 1540453493, "post_id": 52942824, "comment_id": 92873578, "body": "IMO, custom frameworks are the least feasible as the starting point for the conversion, since they are (usually) rarely modified, and thus can be safely left in Objective-C. If you convert your project gradually, it makes sense to start with converting classes that you work with most. For a typical MVC project that will be View Controller, View and Model classes."}, {"owner": {"reputation": 2815, "user_id": 671060, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ea8b261a6e02873eab5a616f1bf62ef0?s=128&d=identicon&r=PG", "display_name": "Aleem", "link": "https://stackoverflow.com/users/671060/aleem"}, "edited": false, "score": 0, "creation_date": 1540796772, "post_id": 52942824, "comment_id": 92979939, "body": "@Sohil Thanks for your answer, my objective is to Convert my project in Swift before Apple stop updating Objective-C, and we don&#39;t know when Apple is going to stop updating Obj-C, I read few news and forums which have mixed thoughts on Obsoleting Obj-C, our project is keep updating every month with new requirements, so looking for some solution for conversion."}, {"owner": {"reputation": 8922, "user_id": 4710527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ngyp9.jpg?s=128&g=1", "display_name": "Sohil R. Memon", "link": "https://stackoverflow.com/users/4710527/sohil-r-memon"}, "reply_to_user": {"reputation": 2815, "user_id": 671060, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ea8b261a6e02873eab5a616f1bf62ef0?s=128&d=identicon&r=PG", "display_name": "Aleem", "link": "https://stackoverflow.com/users/671060/aleem"}, "edited": false, "score": 0, "creation_date": 1540796853, "post_id": 52942824, "comment_id": 92979970, "body": "@Aleem I think it&#39;s quite not feasible to convert giant project in a day or weeks until and unless you have a big developer&#39;s team ;)"}], "tags": [], "owner": {"reputation": 8922, "user_id": 4710527, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ngyp9.jpg?s=128&g=1", "display_name": "Sohil R. Memon", "link": "https://stackoverflow.com/users/4710527/sohil-r-memon"}, "is_accepted": false, "score": 10, "last_activity_date": 1540279336, "last_edit_date": 1540279336, "creation_date": 1540277458, "answer_id": 52942824, "question_id": 52942575, "link": "https://stackoverflow.com/questions/52942575/how-to-convert-giant-project-objective-c-to-swift/52942824#52942824", "title": "How to convert Giant project Objective C to Swift", "body": "<p>Your approach of converting Objective-C to Swift is wrong! Apple also took time to adopt Swift completely in their frameworks and the news is in 2018, 85% of the frameworks are converted to Swift, so the point is they has also taken nearly 3 years to get it done!</p>\n\n<p>The biggest problem is that Swift is still evolving and probably next year we might see \"Swift 5.0\". So what I suggest you to go via following way:</p>\n\n<ol>\n<li>Pick the latest version of Swift (i.e. 4.2).</li>\n<li>Rather than start converting complete project, adapt modular way.</li>\n<li>From your project, first of all start picking up smaller modules which don't affect app in any way and see that the \"Swift\" file works well with Objective-C (Your old code). Reference: <a href=\"https://stackoverflow.com/questions/24102104/how-can-i-import-swift-code-to-objective-c\">How can I import Swift code to Objective-C?</a></li>\n<li>Once you are done with smaller ones, slowly start picking up big modules also you may find open source Swift libraries which are in Objective-C in your project.</li>\n<li>Besides, you can also build modules from scratch in the form of smaller projects and then just drag and drop in Objective-C project.</li>\n<li><a href=\"https://stackoverflow.com/users/1646335/andreas-oetjen\">Andreas Oetjen</a> Suggestion: You might start by separating the class hierarchy, and convert one \"subtree\" after the other. </li>\n</ol>\n\n<blockquote>\n  <p>How the above Points help?</p>\n</blockquote>\n\n<ol>\n<li>You may find some unusual code or libraries lying around.</li>\n<li>You may end-up having clean code under proper structure</li>\n<li>You can use \"Swift + Objective-C\" as of now to make your app running smoothly and also giving updates regularly rather than waiting for the months to convert it completely.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 354, "user_id": 315142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46a2885e221eea30d8e046ca08a78e85?s=128&d=identicon&r=PG", "display_name": "pixelrevision", "link": "https://stackoverflow.com/users/315142/pixelrevision"}, "edited": false, "score": 1, "creation_date": 1544125997, "post_id": 53658275, "comment_id": 94175629, "body": "This is great.  In addition I would suggest starting at the highest level (generally UI) you can and start working your way inward as obj-c can be called from swift."}, {"owner": {"reputation": 51110, "user_id": 106435, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/11155673de94185c4ea775c87d2c8aeb?s=128&d=identicon&r=PG", "display_name": "vikingosegundo", "link": "https://stackoverflow.com/users/106435/vikingosegundo"}, "edited": false, "score": 1, "creation_date": 1554982054, "post_id": 53658275, "comment_id": 97953928, "body": "I would add a step &quot;make sure the class is under unit test&quot; before the &quot;Convert or refactor class&quot;"}], "tags": [], "owner": {"reputation": 4633, "user_id": 5807290, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/vu8NZ.jpg?s=128&g=1", "display_name": "Md. Ibrahim Hassan", "link": "https://stackoverflow.com/users/5807290/md-ibrahim-hassan"}, "is_accepted": false, "score": 10, "last_activity_date": 1586337970, "last_edit_date": 1586337970, "creation_date": 1544124108, "answer_id": 53658275, "question_id": 52942575, "link": "https://stackoverflow.com/questions/52942575/how-to-convert-giant-project-objective-c-to-swift/53658275#53658275", "title": "How to convert Giant project Objective C to Swift", "body": "<p>I recently converted <a href=\"https://github.com/SVProgressHUD/SVProgressHUD\" rel=\"nofollow noreferrer\">SVProgressHUD</a> to swift using <a href=\"https://swiftify.com/#/converter/code/\" rel=\"nofollow noreferrer\">Swiftify</a>. The converted code can be found at <a href=\"https://github.com/Swiftify-Corp/IHProgressHUD\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>The major takeaways would be:</p>\n\n<ol>\n<li>To start the code conversion one file at a time maintaining\ninteroperability with Objective C, that is the converted swift file\nshould be interoperable with your existing Objective-C code.</li>\n<li>Pick a class which does not have subclasses and is simple.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/Q37fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q37fz.png\" alt=\"Conversion Strategy Flowchart\"></a></p>\n\n<p>The detailed conversion strategy can be found <a href=\"https://medium.com/swiftify/converting-svprogresshud-to-swift-using-swiftify-27be1817b7f6\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 7595, "user_id": 462162, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KJvIV.jpg?s=128&g=1", "display_name": "arlomedia", "link": "https://stackoverflow.com/users/462162/arlomedia"}, "is_accepted": false, "score": 0, "last_activity_date": 1611797125, "last_edit_date": 1611797125, "creation_date": 1611782315, "answer_id": 65927556, "question_id": 52942575, "link": "https://stackoverflow.com/questions/52942575/how-to-convert-giant-project-objective-c-to-swift/65927556#65927556", "title": "How to convert Giant project Objective C to Swift", "body": "<p>Here's a different perspective from the other answers. I have a project of similar size to the original poster (250 classes, 7 MB of source code). I don't want the mental load of maintaining a hybrid of two different programming languages long-term. And after converting about 30 classes, I found myself spending most of my time tweaking code for interoperability between Objective-C and Swift. Issues included:</p>\n<ul>\n<li><p>Some types like Array and NSMutableArray aren't automatically interchangable, so I had to insert a lot of extra type casting. Even Objc-C int and Swift Int require casting.</p>\n</li>\n<li><p>Other types like enums have limited support in Obj-C -- for example, Swift enums can't be used as a function parameter type -- so I was limited in what new Swift features I could use. I found myself doing a lot of temporary coding and documenting what could change once Obj-C was gone.</p>\n</li>\n<li><p>Xcode automatically generates a bridging header to expose Objc-C classes to Swift, but it makes assumptions about naming conventions that can create mismatches. The file can't be manually edited and sometimes took several clean/build cycles to get it to update.</p>\n</li>\n<li><p>A Swift class can inherit from an Obj-C class, but an Obj-C class can't inherit from a Swift class. This meant I'd have to convert all the subclasses of a superclass first, then convert the superclass, then go back and make adjustments to all the subclasses, and repeat that cycle as I work up the tree.</p>\n</li>\n</ul>\n<p>This finally felt like too much time to spend on a temporary setup, and I decided just to push toward a complete conversion without further attention to interoperability. Not far into that, Xcode's real-time error checking (the red and yellow icons) gave up and left me with no help from the compiler ... so when everything was converted and I was able to try building again, I had 8000 compiler errors to deal with. But that's finally done and now I'm running and testing my 98% Swift app (I have a few small third-party utilities that I left alone for now).</p>\n<p>The original poster compared his project to walking across the Sahara. I kept imagining my project as a 500 mile hike. The compiler giving up was like running out of water and then fixing all those errors was like doing the last 50 miles uphill in the mud. But I like hiking, so this metaphor kept me motivated. :-)</p>\n<p>I have some small projects and when I convert those, I will do them all at once. I would say the smaller your project is, the less reason there is to mess with interoperability between the two languages.</p>\n<p>By the way, my process was to convert a few files at a time with Swiftify, then manually clean them up line-by-line, sometimes at a rate of only 200 lines per hour. With all the cleanup, I'd estimate Swiftify cut the conversion time in half -- not amazing but still worthwhile. I have an Android version of the same project in Kotlin, and it was sometimes faster to copy and paste Kotlin code and tweak it to Swift than to convert from Objective-C, because Kotlin and Swift are so similar.</p>\n"}], "owner": {"reputation": 2815, "user_id": 671060, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/ea8b261a6e02873eab5a616f1bf62ef0?s=128&d=identicon&r=PG", "display_name": "Aleem", "link": "https://stackoverflow.com/users/671060/aleem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6247, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1611797125, "creation_date": 1540276581, "last_edit_date": 1554981493, "question_id": 52942575, "link": "https://stackoverflow.com/questions/52942575/how-to-convert-giant-project-objective-c-to-swift", "title": "How to convert Giant project Objective C to Swift", "body": "<p>I've running project and its really gigantic, it contain almost 1000 files and 4 Custom (own built) framework and almost 10 others added via Pods. \nI've gone through <a href=\"https://developer.apple.com/documentation/swift/migrating_your_objective-c_code_to_swift\" rel=\"nofollow noreferrer\">Migrating Your Objective-C Code to Swift</a> and also <a href=\"https://medium.com/swiftify/migrating-your-objective-c-project-to-swift-ccb0afac8191\" rel=\"nofollow noreferrer\">Migrate with Swiftify</a>. </p>\n\n<p>I started to converting each file one by one as Apple suggest but first Conversion isn't successfully done by Swiftify and also dependency issues.</p>\n\n<p>So at this position its looks like that I start walking in Sahara Desert, where I can't see any end point. </p>\n\n<p>So I need some suggestion how to convert to Swift this kinda huge scale project?</p>\n"}, {"tags": ["ios", "objective-c", "uiwebview", "ios-universal-links"], "comments": [{"owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "edited": false, "score": 0, "creation_date": 1540282980, "post_id": 52942433, "comment_id": 92796701, "body": "for wkwebview how you prevent ?"}, {"owner": {"reputation": 1009, "user_id": 5620447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0kjhy.jpg?s=128&g=1", "display_name": "Shruti Thombre", "link": "https://stackoverflow.com/users/5620447/shruti-thombre"}, "edited": false, "score": 0, "creation_date": 1540284148, "post_id": 52942433, "comment_id": 92797467, "body": "You can get help here : <a href=\"https://stackoverflow.com/questions/38450586/prevent-universal-links-from-opening-in-wkwebview-uiwebview?rq=1\" title=\"prevent universal links from opening in wkwebview uiwebview\">stackoverflow.com/questions/38450586/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 7134703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67b0c8ddbc50b28f4524bd1f6ab6f3a?s=128&d=identicon&r=PG&f=1", "display_name": "Medivh.xiong", "link": "https://stackoverflow.com/users/7134703/medivh-xiong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540280505, "creation_date": 1540276062, "last_edit_date": 1540280505, "question_id": 52942433, "link": "https://stackoverflow.com/questions/52942433/how-to-prevent-universal-link-in-uiwebview", "title": "How to prevent universal link in `UIWebView`", "body": "<p>How to prevent universal link in <code>UIWebView</code>,<code>WKWebView</code>i know how to prevent,but <code>UIWebView</code> can prevent universal link?</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1540274780, "post_id": 52941938, "comment_id": 92792642, "body": "You have explained what you want, but not what your question is; What isn&#39;t working? It would also help if you indented your code and added newlines where appropriate.  You certainly don&#39;t want to add an action handler in <code>cellForRowAt</code> as you will end up with multiple handlers when the cell is re-used."}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540275445, "post_id": 52941938, "comment_id": 92792915, "body": "@Paulw11 than what have to do?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540275504, "post_id": 52941938, "comment_id": 92792939, "body": "Normally you would have the cell act as the button tap handler and advise the view controller about the button tap via a delegation pattern. It is probably even nicer to just use the <code>didSelect</code> table delegate method; that way the user can tap anywhere on the cell to select/deselect"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540275816, "post_id": 52941938, "comment_id": 92793062, "body": "but select/deselect only working on cell not button"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540275898, "post_id": 52941938, "comment_id": 92793107, "body": "Correct. I would use a <code>UIImageView</code> to show the checkbox and just use the <code>didSelect</code> function (call <code>deselect</code> in your <code>didSelect</code> handler so that the cell is immediately deselected), otherwise put the button tap handler in the subclass and use a delegation pattern as I suggested"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540275997, "post_id": 52941938, "comment_id": 92793151, "body": "yaa i also put in tap but its not working here link <a href=\"https://stackoverflow.com/questions/3666629/how-to-add-checkboxes-to-uitableviewcell\" title=\"how to add checkboxes to uitableviewcell\">stackoverflow.com/questions/3666629/&hellip;</a>"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1540276165, "post_id": 52941938, "comment_id": 92793252, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182318/discussion-between-paulw11-and-krishna-kushwaha\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2066, "user_id": 3807336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NzuuH.jpg?s=128&g=1", "display_name": "Adeel", "link": "https://stackoverflow.com/users/3807336/adeel"}, "edited": false, "score": 0, "creation_date": 1540276168, "post_id": 52941938, "comment_id": 92793255, "body": "You may also disable user&#39;s interaction with the button. That way the touches will go to the cell and not the button."}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1540279302, "post_id": 52942956, "comment_id": 92794820, "body": "thanks for quickly response but previously i told i unable to delegate bcz i get error is i write same this code"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1540279351, "post_id": 52942956, "comment_id": 92794852, "body": "What is the error?  This is a perfectly standard delegation pattern implementation"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1540280519, "post_id": 52942956, "comment_id": 92795455, "body": "if i write [self.delegate checkBoxTapped:self]; in button than method is not found"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 1, "creation_date": 1540281600, "post_id": 52942956, "comment_id": 92795992, "body": "Not in the button, in the cell"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1540284868, "post_id": 52942956, "comment_id": 92797930, "body": "@Pauw11 sorry i missed something but i unable to find out"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541047299, "post_id": 52942956, "comment_id": 93086921, "body": "hey bro i made two section prob is that if i click first section 1 row than why are select second section first row ?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541050739, "post_id": 52942956, "comment_id": 93087662, "body": "If you have more than one section then you will need an array of <code>NSMutableIndexSet</code> - one for each section"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541051938, "post_id": 52942956, "comment_id": 93087935, "body": "yaa i taken another indexset array but im little confused that how to determine this line - NSIndexPath *indexPath = [tableView indexPathForCell:cell]; . its auto get in two different indexset or not  (yaa maybe we need to any condition )"}, {"owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541052854, "post_id": 52942956, "comment_id": 93088220, "body": "i tried bro but it is unable to determine section so its not working. i take another index set array but none of get."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "edited": false, "score": 0, "creation_date": 1541053777, "post_id": 52942956, "comment_id": 93088517, "body": "The section is just <code>indexPath.section</code>.  You should ask another question, showing the relevant code"}], "tags": [], "owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "is_accepted": true, "score": 1, "last_activity_date": 1540277969, "creation_date": 1540277969, "answer_id": 52942956, "question_id": 52941938, "link": "https://stackoverflow.com/questions/52941938/how-to-add-checkboxes-button-in-uitableviewcell-objective-c/52942956#52942956", "title": "how to add checkboxes button in UITableViewCell objective c", "body": "<p>If you are going to use a button in the cell, I would suggest using a delegation pattern so that the cell itself handles the button tap and sends a message to the view controller.</p>\n\n<p>In <strong>SceneTableViewCell.h</strong></p>\n\n<pre><code>@protocol SceneTableViewCellDelegate &lt;NSObject&gt;\n@optional\n    - (void)checkBoxTapped:(SceneTableViewCell *)cell;\n@end\n\n@interface SceneTableViewCell : NSObject\n    @property (nonatomic, weak) id &lt;SceneTableViewCellDelegate&gt; delegate;\n@end\n</code></pre>\n\n<p>In <strong>SceneTableViewCell.m</strong></p>\n\n<pre><code>-(IBAction)checkboxTapped:(UIButton *)sender {\n    [self.delegate checkBoxTapped:self];\n}\n</code></pre>\n\n<p>In your <strong>ViewController.m</strong></p>\n\n<pre><code>@property (nonatomic,strong) NSMutableIndexSet *checkedRows;\n\n- (void) viewDidLoad {\n    self.checkedRows = [[NSMutableIndexSet alloc]init];\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    static NSString *CellIdentifier = @\"SceneTableViewCell\";\n\n    SceneTableViewCell *cell = (SceneTableViewCell*)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n\n    if (cell == nil) {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];\n        cell.delegate = self\n    }\n\n\n    if([self.checkedRows contains:indexPath.row]) { \n         [cell.btnRadio setBackgroundImage:[UIImage imageNamed:@\"checked\"] forState:UIControlStateNormal];\n    } else {\n         [cell.btnRadio setBackgroundImage:[UIImage imageNamed:@\"unchecked\"] forState:UIControlStateNormal];\n    }\n\n    cell.lblName.text =[[_arrApplnc valueForKey:@\"applianceName\"] objectAtIndex:indexPath.row];\n\n    return cell;\n}\n\n- (void) checkBoxTapped:(SceneTableView Cell *)cell {\n\n    NSIndexPath *indexPath = [tableView indexPathForCell:cell];\n    if ([self.checkedRows contains: indexPath.row]) {\n        [self.checkedRows removeIndex: indexPath.row];\n    } else {\n        [self.checkedRows addIndex: indexPath.row];\n    }\n\n    [tableView reloadRowsAt:@[indexPath], withRowAnimation: UITableViewRowAnimationAutomatic];\n}\n</code></pre>\n\n<p>Another approach would be to simply to use a <code>UIImageView</code> in the cell rather than a <code>UIButton</code> and use the <code>didSelect</code> handler to toggle the checked state.  That way the user can tap anywhere in the cell.  </p>\n"}], "owner": {"reputation": 255, "user_id": 9506864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_1_pk-JTonQ/AAAAAAAAAAI/AAAAAAAABYQ/gp_rOwpOX6Y/photo.jpg?sz=128", "display_name": "Krishna kushwaha", "link": "https://stackoverflow.com/users/9506864/krishna-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 52942956, "answer_count": 1, "score": 0, "last_activity_date": 1540277969, "creation_date": 1540273752, "last_edit_date": 1540274966, "question_id": 52941938, "link": "https://stackoverflow.com/questions/52941938/how-to-add-checkboxes-button-in-uitableviewcell-objective-c", "title": "how to add checkboxes button in UITableViewCell objective c", "body": "<p>I know here so many answers of this question but i unable to get proper meaning to all. </p>\n\n<p>I want to button selection not cell. by default button is unchecked  and if some one click or press button than button is changed to checked(only presses button) not a all.</p>\n\n<p>I mentioned my screenshot and code there is button , array's values (appliances's name) and something with switch button </p>\n\n<p><strong>code</strong>   </p>\n\n<pre><code>-(IBAction)SelectAppliance:(id)sender {\n    UIButton *btn=(UIButton*)sender;\n    NSLog(@\"button tag is :%ld\",(long)btn.tag);\n    NSLog(@\"click button\"); \n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return [_arrApplnc count];\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    static NSString *CellIdentifier = @\"SceneTableViewCell\";\n\n    SceneTableViewCell *cell = (SceneTableViewCell*)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n\n    if (cell == nil) {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];\n    }\n\n    if(checked) { \n         [cell.btnRadio setBackgroundImage:[UIImage imageNamed:@\"checked\"] forState:UIControlStateNormal];\n    } else {\n         [cell.btnRadio setBackgroundImage:[UIImage imageNamed:@\"unchecked\"] forState:UIControlStateNormal];\n    }\n\n    cell.btnRadio.tag = indexPath.row;\n    cell.lblName.text =[[_arrApplnc valueForKey:@\"applianceName\"] objectAtIndex:indexPath.row];\n    [cell.btnRadio addTarget:self action:@selector(SelectAppliance:) forControlEvents:UIControlEventTouchUpInside];\n    return cell;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/c20Ir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c20Ir.png\" alt=\"UI Screenshort\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "edited": false, "score": 0, "creation_date": 1540261902, "post_id": 52940315, "comment_id": 92789460, "body": "I think you have some problem with constraints in the first cell. Try to show in without the second cell."}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "reply_to_user": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "edited": false, "score": 0, "creation_date": 1540262272, "post_id": 52940315, "comment_id": 92789539, "body": "@AndrewRomanov It works completely fine without the addition of the cell w the static height (212). Any idea what sort of constraint could be messing things up?"}, {"owner": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "edited": false, "score": 0, "creation_date": 1540262410, "post_id": 52940315, "comment_id": 92789565, "body": "It is strange. Do you implement estimatedSize method?  As quick solution, you can add height constraint for the  second cell and return UITableViewAutomaticDimension in heightForRowAtIndexPath:."}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "reply_to_user": {"reputation": 4018, "user_id": 1155948, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2bee0b6f83531af2fc85516f25616913?s=128&d=identicon&r=PG", "display_name": "Andrew Romanov", "link": "https://stackoverflow.com/users/1155948/andrew-romanov"}, "edited": false, "score": 0, "creation_date": 1540263539, "post_id": 52940315, "comment_id": 92789784, "body": "Ahhh yep. Found the constraint error @AndrewRomanov in my static cell. Thanks so much :)"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540261752, "creation_date": 1540261752, "question_id": 52940315, "link": "https://stackoverflow.com/questions/52940315/obj-c-two-different-tableview-cells-overlapping-eachother", "title": "Obj-c - Two different tableView cells overlapping eachother?", "body": "<p>I have two different custom tableview cells inside my tableview. That said, one of the cells is set to be sized according to how much text is placed in it (E.g. if the user types 5 lines of text, the cell should size to fit all 5 lines). The other cell should always return at height 212. When I execute this however, sometimes my cells are returned overlapping each other in the tableview?</p>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n\n    NSDictionary *data = self.messages[indexPath.row];\n\n    id swaptime = data[@\"swaptime\"];\n\n    if ([swaptime isKindOfClass:[NSString class]]) {\n\n        return 212;\n\n    } else {\n\n       return tableView.rowHeight = UITableViewAutomaticDimension;\n\n\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "service-management", "nspreferencepane"], "comments": [{"owner": {"reputation": 1093, "user_id": 3743602, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/owiDw.jpg?s=128&g=1", "display_name": "Trygve", "link": "https://stackoverflow.com/users/3743602/trygve"}, "edited": false, "score": 0, "creation_date": 1564012133, "post_id": 52939854, "comment_id": 100894455, "body": "I have the same problem. Is it possible to run a background only app that runs full time and can contain the Contents/Library/LoginItems? This could be used to launch the helper app. When opening the System Pref Pane, the background app can be launched if it is not already running."}], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 3871414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3066e35efc21e2e1401066db78b353cf?s=128&d=identicon&r=PG&f=1", "display_name": "user47712", "link": "https://stackoverflow.com/users/3871414/user47712"}, "edited": false, "score": 0, "creation_date": 1565055213, "post_id": 57218179, "comment_id": 101221498, "body": "oh man, I&#39;ve just come down the same path updating my popular extension Cursorcerer to work cleanly in Mojave/Catalina and had the same problem with SMLoginItemSetEnabled()... I can&#39;t believe Apple no longer has a simple way to do this for developers that make PreferencePanes... This is going to be a terrible headache, but thank you for going through this and posting."}], "tags": [], "owner": {"reputation": 130, "user_id": 10601702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TiKsbjbW8sI/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDdFw-lcPhhubfrjVwx-Azd_Ej1HA/mo/photo.jpg=k-s128", "display_name": "Noah Nuebling", "link": "https://stackoverflow.com/users/10601702/noah-nuebling"}, "is_accepted": false, "score": 1, "last_activity_date": 1564139588, "last_edit_date": 1564139588, "creation_date": 1564137002, "answer_id": 57218179, "question_id": 52939854, "link": "https://stackoverflow.com/questions/52939854/best-way-to-register-a-login-item-from-a-preference-pane/57218179#57218179", "title": "Best way to Register a Login Item from a Preference Pane?", "body": "<p>OP here</p>\n\n<p>I couldn't get it to work the easy way using <code>SMLoginItem</code>, and ended up resorting to the extremely tedious method of calling the command line tool launchctl via NSTask to tell <a href=\"https://en.wikipedia.org/wiki/Launchd\" rel=\"nofollow noreferrer\">launchd</a> to treat my helper app as a startup item. </p>\n\n<p>Basically, you'll need to create and maintain a helper.launchd.plist in an appropriate library folder (<a href=\"https://www.launchd.info\" rel=\"nofollow noreferrer\">appropriate folders</a>) which contains the path to the executable of your helper app and some other configurations most importantly <code>KeepAlive</code> which will tell launchd to automatically reopen your app should it ever crash or be closed by the user, and <code>RunAtLoad</code> which will lead to your app to be started at login. <a href=\"https://i.stack.imgur.com/TsLH7.png\" rel=\"nofollow noreferrer\">This is what my helper.launchd.plist looks like:</a></p>\n\n<p>You can then register your helper app via the terminal with the commands:</p>\n\n<pre><code>launchctl bootstrap gui/$UID [path to your helper.launchd.plist]\n</code></pre>\n\n<p>to activate your helper as login item</p>\n\n<p>and </p>\n\n<pre><code>launchctl bootout gui/$UID [path to your helper.launchd.plist]\n</code></pre>\n\n<p>to deactivate your helper as a login item.</p>\n\n<p>You can use these terminal commands from within your code. I did it using NSTask, but I think there might be better ways of doing it.</p>\n\n<hr>\n\n<p>Note that $UID is an <code>internal variable</code>, which the terminal automatically expands into the user id of the current user before it feeds the gui/$UID argument to the launchctl command line tool. My UID is 501, so launchctl actually gets the input \"gui/501\", not \"gui/$UID\". I use <code>[NSString stringWithFormat:@\"gui/%d\", geteuid()]</code> to create an appropriate user domain argument for launchctl with Objective-C.</p>\n\n<hr>\n\n<p>Random tips:</p>\n\n<ul>\n<li><p>Note that the my.prefpane can be in different locations depending on\nwhether the prefpane is installed for all or just for a specific\nuser.</p></li>\n<li><p>I recommend you put a helper.launchd.plist template into your\nproject. Then you only have to edit the <code>Program</code> field depending on\nthe user and where the prefpane is installed and not create the whole\nplist file programmatically.</p></li>\n<li><p>I put my helper.launchd.plist into\n/Users/[User]/Library/LaunchAgents and I have noticed, that that\nfolder does not exist on a fresh install, so you might have to check\nwhether the library folder supposed to contain your helper.launchd.plist actually exists and create it if necessary.</p></li>\n<li><p>Apple rewrote launchctl in macOS 10.10 Yosemite, they added <code>launchctl bootstrap</code> and <code>launchctl bootout</code> as replacements for the now deprecated <code>launchctl load</code> and <code>launchctl unload</code>. If you want to be backwards compatible you might have to fallback to <code>load</code> and <code>unload</code> on older versions of macOS</p></li>\n</ul>\n\n<p>Hope this helps and good luck with your project!</p>\n"}], "owner": {"reputation": 87, "user_id": 5679920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152988de15c14c9aeb83cadbfafe9bee?s=128&d=identicon&r=PG&f=1", "display_name": "simsula", "link": "https://stackoverflow.com/users/5679920/simsula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564139588, "creation_date": 1540258174, "last_edit_date": 1540318430, "question_id": 52939854, "link": "https://stackoverflow.com/questions/52939854/best-way-to-register-a-login-item-from-a-preference-pane", "title": "Best way to Register a Login Item from a Preference Pane?", "body": "<p>I'm trying to make a Preference Pane which registers a helper app as a login item.</p>\n\n<p>I have both apps in the same project and I managed to add <strong>helper.app</strong> to <strong>my.prefpane</strong>'s App Bundle, but I can't figure out how to enable <strong>helper.app</strong> as a login item...</p>\n\n<hr>\n\n<p>I tried using <code>SMLoginItemSetEnabled</code> cause it seems to be the most elegant solution - but I can't get it to work...</p>\n\n<p>I get this error: </p>\n\n<p>\"Could not locate login item <em>[bundle identifier]</em> in the caller's bundle\"</p>\n\n<p>I think the problem is that this function <em>only</em> works if <strong>helper.app</strong> is located in the main application bundle\u2019s <code>\u201cContents/Library/LoginItems\u201d</code> directory, but the \"main application\" which calls this function seems to be <strong>System Preferences.app</strong>, and not <strong>my.prefpane</strong>, which contains <strong>helper.app</strong>. I can't write <strong>helper.app</strong> into <strong>System Preferences.app</strong>'s Bundle of course...</p>\n\n<hr>\n\n<p>Is there a workaround for this? Could you maybe extend the functionality of the <code>SMLoginItemSetEnabled</code> function or something like that? Or should I use a completely different approach?</p>\n\n<p>Edit; Is there a tag for login items? I feel like my tags are really bad..</p>\n"}, {"tags": ["objective-c", "core-image", "ios12"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540257247, "post_id": 52939593, "comment_id": 92788364, "body": "I suppose you could treat the buffer as a CIImage and desaturate or similar."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540257650, "post_id": 52939593, "comment_id": 92788451, "body": "By the way, I wonder whether this is related in some way to the new iOS 12 feature where a graphics context self-configures its depth depending on what you draw into it. That new feature has caused me quite a bit of trouble too."}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540266014, "post_id": 52940734, "comment_id": 92790274, "body": "You know much more about this than I do but I can&#39;t help feeling we&#39;re not getting at why this supposedly worked in iOS 11."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540266997, "post_id": 52940734, "comment_id": 92790468, "body": "@matt My guess is in my third paragraph, but we can&#39;t be sure without a) more info and b) some testing of source and resulting images, etc. It&#39;s an interesting mystery, but\u2026 *shrug*"}, {"owner": {"reputation": 139, "user_id": 1144011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yAVsq.jpg?s=128&g=1", "display_name": "David Gagnon", "link": "https://stackoverflow.com/users/1144011/david-gagnon"}, "edited": false, "score": 0, "creation_date": 1540670342, "post_id": 52940734, "comment_id": 92953347, "body": "Thanks for responding to my question! My data is probably ok, because it has been working for a long time, currently data is kCVPixelFormatType_32BGRA. And yes, it is possible that one of the color channel was used for black and white conversion."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": false, "score": 0, "last_activity_date": 1540265272, "creation_date": 1540265272, "answer_id": 52940734, "question_id": 52939593, "link": "https://stackoverflow.com/questions/52939593/cgimagecreate-with-cgcolorspacecreatedevicegray-on-ios12/52940734#52940734", "title": "CGImageCreate with CGColorSpaceCreateDeviceGray on iOS12", "body": "<p>According to the list of <a href=\"https://developer.apple.com/library/archive/documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_context/dq_context.html#//apple_ref/doc/uid/TP30001066-CH203-BCIBHHBB\" rel=\"nofollow noreferrer\">Supported Pixel Formats in the Quartz 2D Programming Guide</a>, iOS doesn't support 32 bits per pixel with gray color spaces. And even on macOS, 32 bpp gray requires the use of <code>kCGBitmapFloatComponents</code> (and float data).</p>\n\n<p>Is your data really 32 bpp? If so, is it float? What are you using for <code>bitmapInfo</code>?</p>\n\n<p>I would not expect <code>CGImageCreate()</code> to \"convert\" a buffer, including to grayscale. The parameters you're supplying are telling it how to <em>interpret</em> the data. If you're not using floating-point components, I suspect it was just taking one of the color channels and interpreting that as the gray level and ignoring the other components. So, it wasn't a proper grayscale conversion.</p>\n\n<p>Apple's advice is to create an image that properly represents the image; create a bitmap context with the colorspace, pixel layout, and bitmap info you desire; draw the former into the latter; and create the final image from the context.</p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 1144011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yAVsq.jpg?s=128&g=1", "display_name": "David Gagnon", "link": "https://stackoverflow.com/users/1144011/david-gagnon"}, "is_accepted": false, "score": 0, "last_activity_date": 1546828295, "last_edit_date": 1546828295, "creation_date": 1546825183, "answer_id": 54067624, "question_id": 52939593, "link": "https://stackoverflow.com/questions/52939593/cgimagecreate-with-cgcolorspacecreatedevicegray-on-ios12/54067624#54067624", "title": "CGImageCreate with CGColorSpaceCreateDeviceGray on iOS12", "body": "<p>I finally found a workaround for my purpose. Note that the CVPixelBuffer is coming from the video camera.</p>\n\n<ul>\n<li>Changed camera output pixel format to<br>\nkCVPixelFormatType_420YpCbCr8BiPlanarFullRange\n(AVCaptureVideoDataOutput)</li>\n<li>Extract the Y plane from YpCbCr</li>\n<li>Build a CGImage with the Y plane</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>// some code\n\ncolorSpace = CGColorSpaceCreateDeviceGray();\nsourceRowBytes = CVPixelBufferGetBytesPerRowOfPlane(i_PixelBuffer, 0);\nsourceBaseAddr = (unsigned char*)CVPixelBufferGetBaseAddressOfPlane(i_PixelBuffer,0);\nbitmapInfo = kCGImageByteOrderDefault;\n\n// some code\n\nCGContextRef context = CGBitmapContextCreate(sourceBaseAddr,\n                                             width,\n                                             height,\n                                             8,\n                                             sourceRowBytes,\n                                             colorSpace,\n                                             bitmapInfo);\nretImage = CGBitmapContextCreateImage(context);\n\n// some code\n</code></pre>\n\n<p>You can also look at this related post:\n<a href=\"https://stackoverflow.com/questions/6314966/420ypcbcr8biplanarvideorange-to-yuv420-how-to-copy-y-and-cbcr-plane-to-singl/6315159#6315159\">420YpCbCr8BiPlanarVideoRange To YUV420 ?/How to copy  Y and Cbcr  plane to Single plane?</a></p>\n"}], "owner": {"reputation": 139, "user_id": 1144011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yAVsq.jpg?s=128&g=1", "display_name": "David Gagnon", "link": "https://stackoverflow.com/users/1144011/david-gagnon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 591, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546828295, "creation_date": 1540255764, "last_edit_date": 1540670074, "question_id": 52939593, "link": "https://stackoverflow.com/questions/52939593/cgimagecreate-with-cgcolorspacecreatedevicegray-on-ios12", "title": "CGImageCreate with CGColorSpaceCreateDeviceGray on iOS12", "body": "<p>I was using CGImageCreate with CGColorSpaceCreateDeviceGray to convert a buffer (CVPixelBufferRef) to grayscale image. It was very fast and did work well until iOS 12... now the returned image is empty.</p>\n\n<p>The code look like this:</p>\n\n<pre><code>bitmapInfo = kCGBitmapByteOrder32Little | kCGImageAlphaNoneSkipFirst;\n\nCGDataProviderRef provider = CGDataProviderCreateWithData((void *)i_PixelBuffer,\n                                                              sourceBaseAddr,\n                                                              sourceRowBytes * height,\n                                                              ReleaseCVPixelBuffer);\n    retImage = CGImageCreate(width,\n                             height,\n                             8,\n                             32,\n                             sourceRowBytes,\n                             CGColorSpaceCreateDeviceGray(),\n                             bitmapInfo,\n                             provider,\n                             NULL,\n                             true,\n                             kCGRenderingIntentDefault);\n    CGDataProviderRelease(provider);\n</code></pre>\n\n<p>This is a known bug in iOS 12? If device gray is no supported anymore in this function, can you suggest me another way to do it?</p>\n\n<p>Note that conversion should take less than 0.1 seconds for a 4K image.</p>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["python", "objective-c", "pythonista", "haptic-feedback"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 10199783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d4d81ceb887d374aea9d92b5088670?s=128&d=identicon&r=PG", "display_name": "skrohmer", "link": "https://stackoverflow.com/users/10199783/skrohmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1560582975, "creation_date": 1560582975, "answer_id": 56608238, "question_id": 52939450, "link": "https://stackoverflow.com/questions/52939450/use-uinotificationfeedbackgenerator-in-pythonista-objc-util/56608238#56608238", "title": "Use UINotificationFeedbackGenerator in pythonista Objc_util", "body": "<p>Maybe a little late ;-), but: You are overwriting feedbackGenerator which will cause the crash:</p>\n\n<pre><code>feedbackGenerator = feedbackGenerator.alloc().init()\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>f = feedbackGenerator.alloc().init()\nf.notificationOccurred(0)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 8746647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510fee6be4a43c836774966f85926537?s=128&d=identicon&r=PG&f=1", "display_name": "hao wang", "link": "https://stackoverflow.com/users/8746647/hao-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560582975, "creation_date": 1540254489, "question_id": 52939450, "link": "https://stackoverflow.com/questions/52939450/use-uinotificationfeedbackgenerator-in-pythonista-objc-util", "title": "Use UINotificationFeedbackGenerator in pythonista Objc_util", "body": "<p>I'm trying to use UINotifcationFeedbackGenerator in pythonista, </p>\n\n<pre><code>from objc_util import *\nfeedbackGenerator = ObjCClass('UINotifcationFeedbackGenerator')\n\nfeedbackGenerator = feedbackGenerator.alloc().init()\nfeedbackGenerator.notificationOccurred(0)\n</code></pre>\n\n<p>but running this causes the app to crash, with the error file saying</p>\n\n<pre><code>called more times than the feedback engine was activated\n</code></pre>\n\n<p>so searching it up, it seems the feedback Generator isn't tread safe, but using on_main_thread() didn't work either (or i'm just using it wrong). Through strangely enough, adding it to a method called by ui works <a href=\"https://github.com/shaun-h/Tutorial-Haptic-Feedback-in-Pythonista/blob/master/stage3.py\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1540249209, "post_id": 52938796, "comment_id": 92786681, "body": "post the context you use them in"}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1540249229, "post_id": 52938796, "comment_id": 92786685, "body": "Have you tried doing what the error is telling you to do?"}, {"owner": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "edited": false, "score": 2, "creation_date": 1540249335, "post_id": 52938796, "comment_id": 92786704, "body": "<code>UIInterfaceOrientation orientation = UIApplication.sharedApplication.statusBarOrientation</code> is <i>not</i> being called on the main thread and it must be."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1540250296, "post_id": 52938796, "comment_id": 92786888, "body": "You have a thread violation - <code>statusBarOrientation</code> can only be called from within the context of the main thread.  You need to do some digging and find out how this method is been called and determine, if you can, which thread it&#39;s been called and make changes so that the call ends up in the main thread"}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1540252713, "post_id": 52938796, "comment_id": 92787380, "body": "to call a method in main thread, use the Grand Central Dispatch (GCD), google it up bruv."}, {"owner": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540286291, "post_id": 52938796, "comment_id": 92798812, "body": "Is the second code snippet coming from an Objective-C .m file too?? It doesn&#39;t look like Swift code..."}, {"owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "reply_to_user": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540311886, "post_id": 52938796, "comment_id": 92815238, "body": "@gog yes it is used in objective-C code. I tried below code and it&#39;s not working:"}, {"owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "reply_to_user": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540311906, "post_id": 52938796, "comment_id": 92815252, "body": "@gog dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIO&zwnj;&#8203;RITY_DEFAULT, 0)) {         dispatch_async(dispatch_get_main_queue()) {             label.stringValue = result         }     }"}, {"owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "reply_to_user": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "edited": false, "score": 0, "creation_date": 1540311928, "post_id": 52938796, "comment_id": 92815259, "body": "@gog This is sample code ^^"}, {"owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1540313342, "post_id": 52938796, "comment_id": 92815940, "body": "@MadProgrammer This is the scenario where i&#39;m using statusBarOrientation :  #if !defined(SV_APP_EXTENSIONS) &amp;&amp; TARGET_OS_IOS     self.frame = [[[UIApplication sharedApplication] delegate] window].bounds;     UIInterfaceOrientation orientation = UIApplication.sharedApplication.statusBarOrientation;"}, {"owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1540313423, "post_id": 52938796, "comment_id": 92815982, "body": "@MadProgrammer I tried objective-C NSoperational Queue code to run it on Main thread. It&#39;s not working. Please suggest any approach to run it on main thread."}, {"owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1540313495, "post_id": 52938796, "comment_id": 92816014, "body": "@Sh_Khan There is the context mentioned above ^^"}], "answers": [{"tags": [], "owner": {"reputation": 881, "user_id": 6059640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268e5edb931aa3d38121037ed351eaff?s=128&d=identicon&r=PG&f=1", "display_name": "gog", "link": "https://stackoverflow.com/users/6059640/gog"}, "is_accepted": false, "score": 1, "last_activity_date": 1540367913, "creation_date": 1540367913, "answer_id": 52963723, "question_id": 52938796, "link": "https://stackoverflow.com/questions/52938796/getting-a-runtime-error-in-swift-4-2-for-an-existing-objective-c-code/52963723#52963723", "title": "Getting a runtime error in Swift 4.2 for an existing Objective-C code", "body": "<p>It is unlikely that the problem is coming from (1); the error is likely coming from you reading the <code>statusBarOrientation</code> member from a thread other than the main one.</p>\n\n<p>This is how you can read the <code>statusBarOrientation</code> from the main thread:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^(void){\n    // Now, we are in the context of the main (GUI) thread. You can perform any GUI updates here.\n    self.frame = [[[UIApplication sharedApplication] delegate] window].bounds;\n    UIInterfaceOrientation orientation = UIApplication.sharedApplication.statusBarOrientation;\n    // Put any other code that makes use of the \"orientation\" variable inside here\n\n});\n</code></pre>\n\n<p>From here on, it all depends on what you want to do with the <code>orientation</code> variable.</p>\n"}], "owner": {"reputation": 1, "user_id": 10376125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8bb2002e2cc1282bb88b961ff03ef00?s=128&d=identicon&r=PG&f=1", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/10376125/rakesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1540367913, "creation_date": 1540249046, "last_edit_date": 1540249376, "question_id": 52938796, "link": "https://stackoverflow.com/questions/52938796/getting-a-runtime-error-in-swift-4-2-for-an-existing-objective-c-code", "title": "Getting a runtime error in Swift 4.2 for an existing Objective-C code", "body": "<p>This is the error: </p>\n\n<blockquote>\n  <p>-[UIApplication statusBarOrientation] must be used from a main thread only</p>\n</blockquote>\n\n<p>statusBarOrientation is used in two places in my code.</p>\n\n<ol>\n<li><pre><code>[[NSNotificationCenter defaultCenter] addObserver:self  selector:@selector(positionHUD:) \n                      name:UIApplicationDidChangeStatusBarOrientationNotification\n                      object:nil];\n</code></pre></li>\n</ol>\n\n<p>This one is in Objective-C .m file ^^</p>\n\n<ol start=\"2\">\n<li><pre><code>UIInterfaceOrientation orientation = UIApplication.sharedApplication.statusBarOrientation;\n</code></pre></li>\n</ol>\n\n<p>Please help with any clue or work around for this. Thanks!</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2418, "user_id": 356818, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f489291d70a0ae4158d809ba28a26b68?s=128&d=identicon&r=PG", "display_name": "leftspin", "link": "https://stackoverflow.com/users/356818/leftspin"}, "edited": false, "score": 0, "creation_date": 1540246351, "post_id": 52938265, "comment_id": 92785943, "body": "Are <code>colorButton</code> and <code>textButton</code> the same object? Are you forgetting to assign textButton to <code>colorButton</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6851792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c35eaa2938ec49f8b280fff70812991?s=128&d=identicon&r=PG&f=1", "display_name": "olx", "link": "https://stackoverflow.com/users/6851792/olx"}, "is_accepted": false, "score": 0, "last_activity_date": 1540246924, "creation_date": 1540246924, "answer_id": 52938514, "question_id": 52938265, "link": "https://stackoverflow.com/questions/52938265/how-to-change-titletextattributes-of-uibarbuttonitem-after-its-pressed/52938514#52938514", "title": "How to change titleTextAttributes of UIBarButtonItem after it&#39;s pressed?", "body": "<p>The easiest way to accomplish this I can think of is using a custom view. Meaning, create a separate <code>UIButton</code> and make a reference to it in your class (e.g., <code>let yourButton = UIButton()</code>). Initialize your bar button item with <code>UIBarButtonItem(customView: yourButton)</code> and then use it however you want to.</p>\n\n<p>Just note that you'll need to add your <code>action</code>/<code>target</code> pair on <code>yourButton</code>, not on the bar button item. Then in your <code>action</code> handler, <code>showColors</code> in your case, you can change the appearance of <code>yourButton</code>. </p>\n\n<p>You can either toggle <code>alpha</code> directly or if it's just text we're talking about, you could do:\n<code>yourButton.setTitleColor(yourColor, for: .normal)</code>\nand \n<code>yourButton.setTitleColor(yourColorHalfAlpha, for: .selected)</code>. </p>\n\n<p>Then in your <code>showColors</code>, just call <code>yourButton.isSelected = !yourButton.isSelected</code> to toggle the appearance. </p>\n"}, {"tags": [], "owner": {"reputation": 11496, "user_id": 665456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47e1090931681a149afbc87e72170f7?s=128&d=identicon&r=PG", "display_name": "NRitH", "link": "https://stackoverflow.com/users/665456/nrith"}, "is_accepted": false, "score": 0, "last_activity_date": 1540248225, "creation_date": 1540248225, "answer_id": 52938696, "question_id": 52938265, "link": "https://stackoverflow.com/questions/52938265/how-to-change-titletextattributes-of-uibarbuttonitem-after-its-pressed/52938696#52938696", "title": "How to change titleTextAttributes of UIBarButtonItem after it&#39;s pressed?", "body": "<p>A <code>UIButton</code> contains a <code>UILabel</code> as the <code>titleLabel</code> property. Just set its attributes the usual way instead of setting them via the button\u2019s pass-through functions. </p>\n"}], "owner": {"reputation": 1, "user_id": 6120912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b82eab8c926057563b7bdfcaed42bbab?s=128&d=identicon&r=PG&f=1", "display_name": "paulathekoala", "link": "https://stackoverflow.com/users/6120912/paulathekoala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540248225, "creation_date": 1540245200, "question_id": 52938265, "link": "https://stackoverflow.com/questions/52938265/how-to-change-titletextattributes-of-uibarbuttonitem-after-its-pressed", "title": "How to change titleTextAttributes of UIBarButtonItem after it&#39;s pressed?", "body": "<p>I have a navigation bar with several UIBarButtons that I initially display with an alpha of 0.5, and would like to display with an alpha of 1 after pressed. I am storing these attributes in normalAttributes and highlightedAttributes.</p>\n\n<p>I set up the buttons in the following manner:</p>\n\n<pre><code>colorButton = UIBarButtonItem(title: \"Colors\", style: .plain, target: self, action: #selector(showColors))\ncolorButton.setTitleTextAttributes(normalAttributes, for: .normal)\ncolorButton.setTitleTextAttributes(highlightedAttributes, for: .selected)\n</code></pre>\n\n<p>This leads to the button briefly switching to the highlightedAttributes, which is expected. However, within the button's action showColors I then perform the following: </p>\n\n<pre><code>textButton.setTitleTextAttributes(highlightedAttributes, for:[])\n</code></pre>\n\n<p>I have also tried using .normal instead of []. Neither method seems to have any sort of effect on the button. Any help with this would be really appreciated.</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1540242485, "post_id": 52937758, "comment_id": 92784705, "body": "try <b>@objcMembers class TokenModel:NSObject, NSCoding, Codable</b>"}, {"owner": {"reputation": 4447, "user_id": 1215715, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/fEGz9.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1215715/ryan"}, "edited": false, "score": 1, "creation_date": 1540243924, "post_id": 52937758, "comment_id": 92785209, "body": "add @objc to infront of class definition and initializer definition"}, {"owner": {"reputation": 4447, "user_id": 1215715, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/fEGz9.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1215715/ryan"}, "edited": false, "score": 0, "creation_date": 1540243982, "post_id": 52937758, "comment_id": 92785226, "body": "Also the param <code>PaisModel</code> should be available in obj-c as well."}, {"owner": {"reputation": 319, "user_id": 7959062, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--_uXUe9xotc/AAAAAAAAAAI/AAAAAAAADng/hzMiSDc7aSQ/photo.jpg?sz=128", "display_name": "JESERRANO", "link": "https://stackoverflow.com/users/7959062/jeserrano"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1540251359, "post_id": 52937758, "comment_id": 92787109, "body": "@Sh_Khan i tried, but is still not working. Is my objective c code right?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540257908, "post_id": 52937758, "comment_id": 92788529, "body": "Please show declaration for PaisModel."}], "owner": {"reputation": 319, "user_id": 7959062, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--_uXUe9xotc/AAAAAAAAAAI/AAAAAAAADng/hzMiSDc7aSQ/photo.jpg?sz=128", "display_name": "JESERRANO", "link": "https://stackoverflow.com/users/7959062/jeserrano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 638, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540251441, "creation_date": 1540242319, "last_edit_date": 1540251441, "question_id": 52937758, "link": "https://stackoverflow.com/questions/52937758/swift-init-is-not-visible-from-objective-c", "title": "Swift init is not visible from Objective-C", "body": "<p>I'm taking as base this thread:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26470771/swift-init-not-visible-in-objective-c\">swift init not visible in objective-C</a></p>\n\n<p>And I have the next class:</p>\n\n<p><strong>TokenModel.swift</strong></p>\n\n<pre><code>public class TokenModel: NSObject, NSCoding, Codable {\n\n    required public init(usuario:String?, tokenSesion:String?, nombreCompleto:String?, cliente:String?, paises:[PaisModel]?) {\n        Usuario = usuario\n        TokenSesion = tokenSesion\n        NombreCompleto = nombreCompleto\n        Cliente = cliente\n        Paises = paises\n    }\n\n    public init(coder aDecoder: NSCoder) {\n        Usuario = aDecoder.decodeObject(forKey: \"Usuario\") as? String\n        TokenSesion = aDecoder.decodeObject(forKey: \"TokenSesion\") as? String\n        NombreCompleto = aDecoder.decodeObject(forKey: \"NombreCompleto\") as? String\n        Cliente = aDecoder.decodeObject(forKey: \"Cliente\") as? String\n        Paises = aDecoder.decodeObject(forKey: \"Paises\") as? [PaisModel]\n    }\n\n    public func encode(with aCoder: NSCoder) {\n        aCoder.encode(Usuario, forKey: \"Usuario\")\n        aCoder.encode(TokenSesion, forKey: \"TokenSesion\")\n        aCoder.encode(NombreCompleto, forKey: \"NombreCompleto\")\n        aCoder.encode(Cliente, forKey: \"Cliente\")\n        aCoder.encode(Paises, forKey: \"Paises\")\n    }\n\n    public var Usuario:String?\n    public var TokenSesion:String?\n    public var NombreCompleto:String?\n    public var Cliente:String?\n    public var Paises:[PaisModel]?\n}\n</code></pre>\n\n<p><strong>MyObjective.m</strong></p>\n\n<p><code>TokenModel * tm =  [[TokenModel alloc] init];</code></p>\n\n<blockquote>\n  <p>There no methods (except aDecoder) are displayed</p>\n</blockquote>\n\n<p>There, I have defined a simple method, who are implemented on <code>Swift</code>.\nBut, at the moment to use it on my <code>Objective-C</code> project, the only visible method is <code>encode(with aCoder: NSCoder)</code>.</p>\n\n<p>What other things I tried?</p>\n\n<ul>\n<li>I tried creating a <code>required public init()</code> (without parameters).</li>\n<li>Deleting the <code>aDecoder</code>.</li>\n<li>Creating a method <code>init(demo:NSString)</code></li>\n</ul>\n\n<p>But, those methods are not appearing on my <code>Objective C</code> class.</p>\n\n<p>Does anyone know how I can import my custom init using <code>Objective-C</code>?</p>\n"}, {"tags": ["objective-c", "swift", "mapkit", "bridging-header"], "owner": {"reputation": 352, "user_id": 6915040, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3951ffeb00827aaaee0a4f80785f86fb?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Chang", "link": "https://stackoverflow.com/users/6915040/jeffrey-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540236866, "creation_date": 1540236866, "question_id": 52936585, "link": "https://stackoverflow.com/questions/52936585/unknown-type-name-appear-after-i-bridged-my-objective-c-code", "title": "Unknown type name appear after I bridged my objective c code", "body": "<p>Issue:</p>\n\n<p>Xcode complaint about Unknown type name 'MKUserLocation' in my ViewController.h after I added <code>#import \"ViewController.h\"</code> to my bridging header. This error will go away after I remove it from bridging header</p>\n\n<p>Question:</p>\n\n<ol>\n<li>what's the work around for this issue or what am I doing wrong?</li>\n<li>why am I getting this error since MKUserLocation is part of Apple's MapKit?</li>\n</ol>\n\n<p>Resource I read:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24099210/unknown-type-name-for-swift-property\">Unknown type name for swift property</a></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode", "cocoa-touch"], "comments": [{"owner": {"reputation": 1880, "user_id": 1792699, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/YVLCx.jpg?s=128&g=1", "display_name": "Alejandro Cotilla", "link": "https://stackoverflow.com/users/1792699/alejandro-cotilla"}, "edited": false, "score": 1, "creation_date": 1540233147, "post_id": 52935612, "comment_id": 92780343, "body": "Is it possible to capture the phone unlock event from within your app? -&gt; <b>YES</b> | Is it possible to open your app from the springboard? -&gt; <b>NO</b> (assuming you are not looking to use private APIs)"}, {"owner": {"reputation": 1581, "user_id": 4932528, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ba454a8dd2a47a55a085e1fd65e8010d?s=128&d=identicon&r=PG&f=1", "display_name": "Do2", "link": "https://stackoverflow.com/users/4932528/do2"}, "edited": false, "score": 2, "creation_date": 1540248670, "post_id": 52935612, "comment_id": 92786542, "body": "Even if you could you shouldn&#39;t implement such feature, it would have been rather intrusive and annoying and got you nothing but angry users. Think about it, would you like a salesman waiting for you everytime you went home?"}], "answers": [{"tags": [], "owner": {"reputation": 2702, "user_id": 3237899, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B6HjX.jpg?s=128&g=1", "display_name": "Harsh", "link": "https://stackoverflow.com/users/3237899/harsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1540233228, "creation_date": 1540233228, "answer_id": 52935690, "question_id": 52935612, "link": "https://stackoverflow.com/questions/52935612/ios-app-detects-unlock-event-while-app-is-running-in-background/52935690#52935690", "title": "iOS app detects unlock event while App is running in background", "body": "<p>Sorry mate... This is not possible.. iOS doesn't allow opening apps automatically .. </p>\n\n<p>You have to add all the custom logics in your AppDelegate which will have your application life cycle delegate methods. </p>\n\n<p>You can learn more about this on the <a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate\" rel=\"nofollow noreferrer\">Apple Documentation Page</a></p>\n"}], "owner": {"reputation": 332, "user_id": 6234154, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jAVXZ.png?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6234154/gaurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540233228, "creation_date": 1540232939, "question_id": 52935612, "link": "https://stackoverflow.com/questions/52935612/ios-app-detects-unlock-event-while-app-is-running-in-background", "title": "iOS app detects unlock event while App is running in background", "body": "<p>I am trying to create an app like an Ads every time the user unlocks the phone.</p>\n\n<p>The user unlocks the phone -> open customized ads.</p>\n\n<p>Is this possible to capture the phone unlock event and open your app?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["objective-c", "xcode10", "swift4.2"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1540229557, "post_id": 52934401, "comment_id": 92778723, "body": "If you revert to the Legacy Build System does that solve it?"}, {"owner": {"reputation": 287, "user_id": 511400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf2b45061d72d0a1e19a8774a3709136?s=128&d=identicon&r=PG", "display_name": "RedRoses", "link": "https://stackoverflow.com/users/511400/redroses"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540302401, "post_id": 52934401, "comment_id": 92809262, "body": "Thanks for this suggestion. Actually yeah the warnings go away when I use the legacy build system. Hmm does that mean it&#39;s a bug with the new build system? And that there is no way to get rid of it? I have already tried to clean and delete derived folder."}, {"owner": {"reputation": 13615, "user_id": 725628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c848c87c01526357853be188d02759d?s=128&d=identicon&r=PG", "display_name": "EmilioPelaez", "link": "https://stackoverflow.com/users/725628/emiliopelaez"}, "edited": false, "score": 0, "creation_date": 1540303764, "post_id": 52934401, "comment_id": 92810179, "body": "Whenever I see <code>DerivedData</code> in an error, and sometimes if I don&#39;t, I go to <code>~&#47;Library&#47;Developer&#47;Xcode&#47;DerivedData</code> and clear it&#39;s contents. It works more often than not."}, {"owner": {"reputation": 85, "user_id": 1020409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c75621bc5b492b991eca7732659ca8b?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/1020409/brad"}, "edited": false, "score": 0, "creation_date": 1602988637, "post_id": 52934401, "comment_id": 113892559, "body": "I&#39;ve started getting this issue with Xcode 12 and it&#39;s driving me insane.  I have 3 Obj C files that are showing up as Resource Files in my package, but I don&#39;t have them in the Copy Bundle Resources section.  Any thoughts?"}], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 3377825, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/962120037d7356d3b7f47b80b5f6f404?s=128&d=identicon&r=PG&f=1", "display_name": "AceN", "link": "https://stackoverflow.com/users/3377825/acen"}, "edited": false, "score": 0, "creation_date": 1602088478, "post_id": 52955333, "comment_id": 113611804, "body": "i am getting the same warning. i have core data model, xibs and storyboards listed there. and also Assets.xcassets. can any of these be a problem?"}], "tags": [], "owner": {"reputation": 287, "user_id": 511400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf2b45061d72d0a1e19a8774a3709136?s=128&d=identicon&r=PG", "display_name": "RedRoses", "link": "https://stackoverflow.com/users/511400/redroses"}, "is_accepted": true, "score": 4, "last_activity_date": 1540318227, "creation_date": 1540318227, "answer_id": 52955333, "question_id": 52934401, "link": "https://stackoverflow.com/questions/52934401/xcode-10-warning-unexpected-c-compiler-invocation-with-specified-output/52955333#52955333", "title": "Xcode 10 warning &quot;unexpected C compiler invocation with specified output&quot;", "body": "<p>Figured out the issue:\nI have some of my source files accidentally listed under \"Copy Bundle Resources\" in Build Phases.\nFixed by removing those files from \"Copy Bundle Resources\". </p>\n"}], "owner": {"reputation": 287, "user_id": 511400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf2b45061d72d0a1e19a8774a3709136?s=128&d=identicon&r=PG", "display_name": "RedRoses", "link": "https://stackoverflow.com/users/511400/redroses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 52955333, "answer_count": 1, "score": 4, "last_activity_date": 1540357616, "creation_date": 1540227971, "last_edit_date": 1540357616, "question_id": 52934401, "link": "https://stackoverflow.com/questions/52934401/xcode-10-warning-unexpected-c-compiler-invocation-with-specified-output", "title": "Xcode 10 warning &quot;unexpected C compiler invocation with specified output&quot;", "body": "<p>I have a project with both Swift and Objective-C code.</p>\n\n<p>After upgrading to Xcode 10 and Swift 4.2, I get the following warning for two of my objective-C .m files:</p>\n\n<blockquote>\n  <p>:-1: unexpected C compiler invocation with specified output:\n  '/Users/[username]/Library/Developer/Xcode/DerivedData/[filepath]'\n  (for input: '/Users/[username]/Documents/Projects/[filepath]') (in\n  target [targetName])</p>\n</blockquote>\n\n<p>How can I debug this?</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 2550548, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/71260731c5c32080b72e232d65fb3ca0?s=128&d=identicon&r=PG", "display_name": "Umer Afzal", "link": "https://stackoverflow.com/users/2550548/umer-afzal"}, "edited": false, "score": 0, "creation_date": 1540223174, "post_id": 52933063, "comment_id": 92775531, "body": "yes but not calling this method  - (UIPrintPaper *)printInteractionController:(UIPrintInteractionController *)printInteractionController choosePaper:(NSArray *)paperList {     CGSize pageSize = CGSizeMake(6 * 72, 4 * 72);     return [UIPrintPaper bestPaperForPageSize:pageSize withPapersFromArray:paperList]; }"}], "tags": [], "owner": {"reputation": 11496, "user_id": 665456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47e1090931681a149afbc87e72170f7?s=128&d=identicon&r=PG", "display_name": "NRitH", "link": "https://stackoverflow.com/users/665456/nrith"}, "is_accepted": false, "score": 0, "last_activity_date": 1540222854, "creation_date": 1540222854, "answer_id": 52933063, "question_id": 52932880, "link": "https://stackoverflow.com/questions/52932880/how-can-we-set-print-size-uiprintinteractioncontroller/52933063#52933063", "title": "How can we set print size UIPrintInteractionController", "body": "<p>You can implement <a href=\"https://developer.apple.com/documentation/uikit/uiprintinteractioncontrollerdelegate/1618160-printinteractioncontroller?language=objc\" rel=\"nofollow noreferrer\"><code>UIPrintInteractionControllerDelegate.printInteractionController:choosePaper:</code></a> to return <a href=\"https://developer.apple.com/documentation/uikit/uiprintpaper#bestPaperForPageSize\" rel=\"nofollow noreferrer\"><code>UIPrintPaper.bestPaperForPageSize</code></a> or some other desired size.</p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/37551137/665456\">this SO answer</a>.</p>\n"}], "owner": {"reputation": 337, "user_id": 2550548, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/71260731c5c32080b72e232d65fb3ca0?s=128&d=identicon&r=PG", "display_name": "Umer Afzal", "link": "https://stackoverflow.com/users/2550548/umer-afzal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540222854, "creation_date": 1540222208, "question_id": 52932880, "link": "https://stackoverflow.com/questions/52932880/how-can-we-set-print-size-uiprintinteractioncontroller", "title": "How can we set print size UIPrintInteractionController", "body": "<p>I want to set A6 Page For Print. i'm using below code for print. but i can't find how i set pageSize and page formate that my print look better.</p>\n\n<pre><code>void (^completionHandler)(UIPrintInteractionController *, BOOL, NSError *) =\n^(UIPrintInteractionController *pic, BOOL completed, NSError *error) {\n    if (!completed &amp;&amp; error) NSLog(@\"Print error: %@\", error);\n};\n\nUIPrintInfo *printInfo = [UIPrintInfo printInfo];\nprintInfo.outputType = UIPrintInfoOutputGeneral;\nprintInfo.orientation = UIPrintInfoOrientationPortrait;\n\nNSData *pdfData = [self generatePDFDataForPrinting];\nprintController.printingItem = pdfData;\n\n\nif (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPad) {\n    [printController presentFromRect:sender.frame inView:self.view\n                            animated:YES completionHandler:completionHandler];\n} else {\n    [printController presentAnimated:YES completionHandler:completionHandler];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 2, "creation_date": 1540221656, "post_id": 52932391, "comment_id": 92774631, "body": "By default, a <code>UIImageView</code> <code>isUserInteractionEnabled </code>property is <code>false</code> and should then block user action."}, {"owner": {"reputation": 25, "user_id": 2932473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4e10db654960f42c29fee0f402748b?s=128&d=identicon&r=PG&f=1", "display_name": "user2932473", "link": "https://stackoverflow.com/users/2932473/user2932473"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540224926, "post_id": 52932391, "comment_id": 92776478, "body": "That seemed to do the trick, many thanks."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 2932473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4e10db654960f42c29fee0f402748b?s=128&d=identicon&r=PG&f=1", "display_name": "user2932473", "link": "https://stackoverflow.com/users/2932473/user2932473"}, "is_accepted": true, "score": 1, "last_activity_date": 1540225025, "creation_date": 1540225025, "answer_id": 52933659, "question_id": 52932391, "link": "https://stackoverflow.com/questions/52932391/uitapgesturerecognizer-for-image-picker-not-working/52933659#52933659", "title": "UITapGestureRecognizer for image picker not working", "body": "<p>As Larme said, I needed to add this line:</p>\n\n<pre><code>_toyImage.userInteractionEnabled = YES;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 2932473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4e10db654960f42c29fee0f402748b?s=128&d=identicon&r=PG&f=1", "display_name": "user2932473", "link": "https://stackoverflow.com/users/2932473/user2932473"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 52933659, "answer_count": 1, "score": 0, "last_activity_date": 1540225025, "creation_date": 1540220530, "question_id": 52932391, "link": "https://stackoverflow.com/questions/52932391/uitapgesturerecognizer-for-image-picker-not-working", "title": "UITapGestureRecognizer for image picker not working", "body": "<p>Trying to create an image picker with a tap gesture, so when the default picture is tapped it allows the user to pick an image from the device's photo library. For some reason when I click the view in the iOS simulator it simply doesn't do anything and I can't figure out why.</p>\n\n<p>This is what I have so far. I'm pretty new to Objective-C</p>\n\n<p>ViewController.m :</p>\n\n<pre><code>#import \"ViewController.h\"\n\ninterface ViewController ()\n@property (weak, nonatomic) IBOutlet UITextField *nameField;   \n@property (weak, nonatomic) IBOutlet UITextField *brandField;\n@property (weak, nonatomic) IBOutlet UITextField *priceField;\n@property (weak, nonatomic) IBOutlet UITextField    *additionalNotesField;\n@property (weak, nonatomic) IBOutlet UIButton *addItem;\n@property (weak, nonatomic) IBOutlet UIButton *cancelAdditem;\n@property (weak, nonatomic) IBOutlet UIImageView *toyImage;\n- (IBAction)imageSelect:(UITapGestureRecognizer *)sender;\n\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n [super viewDidLoad];\n\n_nameField.delegate = self;\n_brandField.delegate = self;\n_priceField.delegate = self;\n_additionalNotesField.delegate = self;\n\n// Do any additional setup after loading the view, typically from a nib.\n}\n\n -(BOOL) textFieldShouldReturn:(UITextField *) textField {\n\n    textField.resignFirstResponder;\n\n    return true;\n}\n\n-(void) textFieldDidEndEditing:( UITextField *) textField {\n    _nameField.text = textField.text;\n    _brandField.text = textField.text;\n    _priceField.text = textField.text;\n    _additionalNotesField.text = textField.text;\n}\n\n- (IBAction)imageSelect:(UITapGestureRecognizer *)sender {\n\n// Hide the keyboard\n  _nameField.resignFirstResponder;\n  _brandField.resignFirstResponder;\n  _priceField.resignFirstResponder;\n\nUIImagePickerController *imagePicker = [[UIImagePickerController alloc]init]; // Creates image picker\n\nimagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary; // Source for picker is saved photos. Only allow photos to be picked, not taken\n\n// Make sure the picker is notified when the user picks an image\nimagePicker.delegate = self;\n[self presentViewController:imagePicker animated:true completion:nil];\n\n}\n\n// UIImagePickerControllerDelegete\n\n-(void) imagePickerDidCancel:(UIImagePickerController *) imagePicker {\n\n[self dismissViewControllerAnimated:true completion:nil]; // Dimiss the picker if the user canceled\n}\n\n-(void) imagePicker:(UIImagePickerController *) picker didFinishPickingMediaWithInfo:(NSDictionary *)info{\n\n UIImage* selectedImage = info[UIImagePickerControllerOriginalImage];\n\n _toyImage.image = selectedImage; // Set the image view to display the selected image \n\n// Dimiss the picker\n[self dismissViewControllerAnimated:true completion:nil];\n}\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 4353196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/762735ba9e0b9e03020c3ad2a1da82bb?s=128&d=identicon&r=PG&f=1", "display_name": "mapof", "link": "https://stackoverflow.com/users/4353196/mapof"}, "is_accepted": false, "score": -1, "last_activity_date": 1540210049, "creation_date": 1540210049, "answer_id": 52928975, "question_id": 52928923, "link": "https://stackoverflow.com/questions/52928923/cellforrowatindexpath-ignores-sections/52928975#52928975", "title": "cellForRowAtIndexPath ignores sections", "body": "<p>Funny! I fixed it for myself. I had to fill the numberOfRowsInSection method.</p>\n\n<pre><code>- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n   if (section == 0) {\n       return 3;\n   }\n   if (section == 1) {\n       return 5;\n   }\n   else {\n       return 0;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 401, "user_id": 4353196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/762735ba9e0b9e03020c3ad2a1da82bb?s=128&d=identicon&r=PG&f=1", "display_name": "mapof", "link": "https://stackoverflow.com/users/4353196/mapof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1540210049, "creation_date": 1540209911, "question_id": 52928923, "link": "https://stackoverflow.com/questions/52928923/cellforrowatindexpath-ignores-sections", "title": "cellForRowAtIndexPath ignores sections", "body": "<p>in my UITableViewController I defined 3 sections. But if I want to access more sections in the cellForRowAtIndexPath method than the first one, this is ignored. For example, if I want to add a row in the second section. Does anyone have a solution to the problem? </p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView\n{\n   return 3;\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n\nif (indexPath.section == 0) {\n    if (indexPath.row == 0) {\n        ..\n        return cell;\n    }\n    if (indexPath.row == 1) {\n        ..\n        return cell;\n    }\n    if (indexPath.row == 2) {\n        ..\n        return cell;\n    }\n}\nif (indexPath.section == 1) {\n            UITableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:aufgabe];\n    if (cell == nil) {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:aufgabe];\n    }\n    [cell.textLabel setText:@\"Test\"];\n    }\n}\nelse if (indexPath.section == 2) {\n    UITableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:geraet];\n    return cell;\n}\n   return nil;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsnotificationcenter", "avaudiosession"], "comments": [{"owner": {"reputation": 1087, "user_id": 10165733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eteVk.jpg?s=128&g=1", "display_name": "Lutz", "link": "https://stackoverflow.com/users/10165733/lutz"}, "edited": false, "score": 0, "creation_date": 1540210899, "post_id": 52928798, "comment_id": 92767555, "body": "I have no direct answer for your question - but there&#39;s a different way of detecting volume changes based on key-value-coding. It&#39;s described here: <a href=\"https://stackoverflow.com/a/22601280\">stackoverflow.com/a/22601280</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2135, "user_id": 836850, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/eFVb6.png?s=128&g=1", "display_name": "joan", "link": "https://stackoverflow.com/users/836850/joan"}, "is_accepted": false, "score": 0, "last_activity_date": 1540220468, "creation_date": 1540220468, "answer_id": 52932372, "question_id": 52928798, "link": "https://stackoverflow.com/questions/52928798/not-responding-to-volume-buttons-objective-c/52932372#52932372", "title": "Not responding to volume buttons - objective c", "body": "<p>Try using KV0, it works for me:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\n    [[AVAudioSession sharedInstance] setActive:YES error:nil];\n   [[AVAudioSession sharedInstance] addObserver:self forKeyPath:@\"outputVolume\" options:0 context:nil];\n\n\n    return YES;\n}\n- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {\n    NSLog(@\"Volumechanged\");\n}\n</code></pre>\n\n<p>Note that you need the line:\n [[AVAudioSession sharedInstance] setActive:YES error:nil];</p>\n\n<p>if omitted you will not get notifications.\nAlso import AVFoundation.</p>\n\n<p>As stated here:\n <a href=\"https://developer.apple.com/documentation/avfoundation/avaudiosession/1616533-outputvolume?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/avfoundation/avaudiosession/1616533-outputvolume?language=objc</a></p>\n\n<p><strong>\"You can observe changes to the value of this property by using Key-value observing.\"</strong></p>\n"}, {"tags": [], "owner": {"reputation": 9177, "user_id": 1341180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/949cc365b88f6b777472614a816ca364?s=128&d=identicon&r=PG", "display_name": "Luda", "link": "https://stackoverflow.com/users/1341180/luda"}, "is_accepted": false, "score": 2, "last_activity_date": 1540275287, "creation_date": 1540275287, "answer_id": 52942256, "question_id": 52928798, "link": "https://stackoverflow.com/questions/52928798/not-responding-to-volume-buttons-objective-c/52942256#52942256", "title": "Not responding to volume buttons - objective c", "body": "<p>Apparently, my code worked ok. The problem was with my laptop - it had some volume issue, some when I was changing the volume on the simulator, the volume didn't really changed. When I switched to a real device, everything worked properly </p>\n"}], "owner": {"reputation": 9177, "user_id": 1341180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/949cc365b88f6b777472614a816ca364?s=128&d=identicon&r=PG", "display_name": "Luda", "link": "https://stackoverflow.com/users/1341180/luda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1540275287, "creation_date": 1540209497, "question_id": 52928798, "link": "https://stackoverflow.com/questions/52928798/not-responding-to-volume-buttons-objective-c", "title": "Not responding to volume buttons - objective c", "body": "<p>I've created a Class to show an alert when the volume is 0. It should hide if the user changes the volume. But it doesn't react to volume changes. I have added the UISlider and started the AVAudioSession. What is missing?</p>\n\n<pre><code>#import \"VolumeToast.h\"\n#import &lt;MediaPlayer/MediaPlayer.h&gt;\n#import \"MBProgressHUD.h\"\n\n@interface VolumeToast()\n\n@property (strong, nonatomic) MBProgressHUD *volumeHud;\n@property (strong, nonatomic) UISlider *volumeViewSlider; //Added for volume observations\n\n@end\n\n@implementation VolumeToast\n\n- (void)showVolumeAlertIfNeededOnView:(UIView *)view {\n    if ([[AVAudioSession sharedInstance] outputVolume] == 0)\n    {\n        [self showToast:[NSString stringWithFormat:@\"Increase volume to enjoy this game\"] removeAfter:6.f shouldDisableScreen:FALSE onView:view];\n        [self setupVolumeObserver];\n    }\n}\n\n-(void)showToast:(NSString*)message removeAfter:(NSTimeInterval)timeout shouldDisableScreen: (BOOL)shouldDisableScreen onView: (UIView *)view\n{\n    self.volumeHud = [MBProgressHUD showHUDAddedTo:view animated:YES];\n\n    self.volumeHud.mode = MBProgressHUDModeText;\n    self.volumeHud.labelText = message;\n    self.volumeHud.yOffset = view.frame.size.height/2 - 50;\n    [self.volumeHud hide:YES afterDelay:timeout];\n    self.volumeHud.userInteractionEnabled = shouldDisableScreen;\n}\n\n- (void)setupVolumeObserver\n{\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(volumeChanged:) name:@\"AVSystemController_SystemVolumeDidChangeNotification\" object:nil];\n\n    MPVolumeView *volumeView = [[MPVolumeView alloc] init];\n    for (UIView *view in [volumeView subviews]) {\n        if ([view.class.description isEqualToString:@\"MPVolumeSlider\"]) {\n            self.volumeViewSlider = (UISlider *)view;\n            [self addSubview:volumeView];\n            break;\n        }\n    }\n\n    AVAudioSession *audioSession = [AVAudioSession sharedInstance];\n    [audioSession setCategory:AVAudioSessionCategoryPlayback withOptions:AVAudioSessionCategoryOptionMixWithOthers error:nil];\n    NSError *error;\n    BOOL success = [audioSession setActive:YES error:&amp;error];\n    if (!success) {\n        NSLog(@\"Error activating audiosession: %@\", error);\n    }\n}\n</code></pre>\n\n<p><strong>This function is never called \u2193\u2193\u2193\u2193\u2193\u2193</strong> </p>\n\n<pre><code>- (void)volumeChanged:(NSNotification *)notification\n{\n    [self.volumeHud hide:YES];\n}\n</code></pre>\n\n<p><strong>\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191</strong></p>\n\n<pre><code>-(void)hide\n{\n    [self.volumeHud hide:YES];\n    [self stopTrackingVolumeChanges];\n}\n\n- (void)stopTrackingVolumeChanges\n{\n    [[NSNotificationCenter defaultCenter] removeObserver:self name:@\"AVSystemController_SystemVolumeDidChangeNotification\" object:nil];\n\n    dispatch_async(dispatch_get_main_queue(), ^{\n        NSError *error;\n        BOOL success = [[AVAudioSession sharedInstance] setActive:NO error:&amp;error];\n        if (!success) {\n            NSLog(@\"Error deactivating audiosession: %@\", error);\n        }\n    });\n\n    self.volumeViewSlider = nil;\n}\n\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "calendar"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1540209699, "post_id": 52927751, "comment_id": 92766917, "body": "Is it your app that is accessing the calendar? If so, it should get a 403 http status if the credentials aren&#39;t valid"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5934498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-QHekV6a-MN0/AAAAAAAAAAI/AAAAAAAABIY/gPQ11nBZCco/photo.jpg?sz=128", "display_name": "Ion Verdes", "link": "https://stackoverflow.com/users/5934498/ion-verdes"}, "edited": false, "score": 0, "creation_date": 1540206864, "post_id": 52927847, "comment_id": 92765265, "body": "Yes but how could I access the subscribed calendar in order to change the password?"}], "tags": [], "owner": {"reputation": 4704, "user_id": 875943, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UjIkv.jpg?s=128&g=1", "display_name": "Sandy", "link": "https://stackoverflow.com/users/875943/sandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1540206358, "creation_date": 1540206358, "answer_id": 52927847, "question_id": 52927751, "link": "https://stackoverflow.com/questions/52927751/updating-password-for-an-online-subscribed-calendar-programmatically/52927847#52927847", "title": "Updating password for an online subscribed calendar programmatically", "body": "<p>You need to observe those changes if any happens or as soon as change happen it must notified to you so that you can update the same.</p>\n"}], "owner": {"reputation": 37, "user_id": 5934498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-QHekV6a-MN0/AAAAAAAAAAI/AAAAAAAABIY/gPQ11nBZCco/photo.jpg?sz=128", "display_name": "Ion Verdes", "link": "https://stackoverflow.com/users/5934498/ion-verdes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540206358, "creation_date": 1540206057, "question_id": 52927751, "link": "https://stackoverflow.com/questions/52927751/updating-password-for-an-online-subscribed-calendar-programmatically", "title": "Updating password for an online subscribed calendar programmatically", "body": "<p>I have an application where the user can subscribe to an online calendar, which is done by opening an URL with username and password as components. The problem that I have is that when the user changes the password, the local subscribed calendar is not notified in any way, therefore it uses the old credentials which eventually block user's account due to too many falling attempts.</p>\n\n<p>I was unable to find any substantial solution for this issue. Is there anything that could fix it?</p>\n"}, {"tags": ["objective-c", "xctest", "xcode10", "ios-frameworks"], "comments": [{"owner": {"reputation": 13499, "user_id": 498796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oJqos.jpg?s=128&g=1", "display_name": "dasdom", "link": "https://stackoverflow.com/users/498796/dasdom"}, "edited": false, "score": 0, "creation_date": 1541335760, "post_id": 52927124, "comment_id": 93173740, "body": "Did you already tried all the Voodoo? (delete Derived-Date, remove build folder, restart Xcode, restart Mac, reinstall Xcode 10)"}], "owner": {"reputation": 2573, "user_id": 1635031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a867defc23ff47bf53596a6f845e1a3?s=128&d=identicon&r=PG", "display_name": "Prasad Devadiga", "link": "https://stackoverflow.com/users/1635031/prasad-devadiga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1541039595, "creation_date": 1540203898, "last_edit_date": 1540204199, "question_id": 52927124, "link": "https://stackoverflow.com/questions/52927124/facing-issue-while-running-test-cases-in-xcode10", "title": "Facing issue while running test cases in xcode10", "body": "<p>I am facing <strong>xctest encountered error</strong> while executing test cases in xcode 10. </p>\n\n<p>The error says</p>\n\n<blockquote>\n  <p>Showing All Messages\n  xctest (5571) encountered an error (Early unexpected exit, the operation never finished bootstrapping - no restart will be attempted. Underlying error: Test session exited(82) without checking in. The executable cannot be loaded for some other reason, such as a problem with a library it depends on or a code signature/entitlements mismatch. Retry after a Clean build.)</p>\n</blockquote>\n\n<p>The same code works fine in Xcode <strong>9.4.1</strong> or below. \nTried all possible solutions over the internet but the issue still exists. The project is in objective C and its a <strong>framework</strong> project.</p>\n\n<p>Please help me to fix the issue.</p>\n\n<p>Attached the screenshot of the error</p>\n\n<p><a href=\"https://i.stack.imgur.com/SfGxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SfGxz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "uitableview", "mapkit"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540226764, "post_id": 52925542, "comment_id": 92777371, "body": "<code>_tableViewController = [[TableViewController alloc]init];</code> That&#39;s creating a whole new <code>TableViewController</code> object, not the one you think of. If you do <code>NSLog(@&quot;Table in MapVC: %@&quot;, _tableViewController);</code> just after it, and do <code>NSLog(@&quot;Table in MainVC: %@&quot;, tableViewVC&quot;);</code> in the <code>viewDidLoad</code> of <code>MainViewController</code> you&#39;ll see that the address are different (the &quot;0xaaaa&quot; stuff printed)."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540226797, "post_id": 52925542, "comment_id": 92777390, "body": "Remove your two lines in <code>viewDidLoad</code> of <code>MapViewController.m</code>. Instead, just after <code>mapViewVC = [self.storyboard instantiateViewControllerWithIdentifier:@&quot;TopChildVC&quot;];</code>, do <code>tableViewVC.delegate = mapViewVC</code>"}, {"owner": {"reputation": 178, "user_id": 6496288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7694676766b9e7fbfa7f26f880e3db0?s=128&d=identicon&r=PG&f=1", "display_name": "ACAkgul", "link": "https://stackoverflow.com/users/6496288/acakgul"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540274719, "post_id": 52925542, "comment_id": 92792617, "body": "@Larme I removed those 2 lines from didLoad of MapViewController.m and added those 2 lines you wrote, but this time <code>Table in MainVC: &lt;TableViewController: 0x7ff2a9a107e0&gt;</code> and <code>Table in MapVC: (null)</code> logged. I didn&#39;t understand how could <code>tableViewVC.delegate = mapViewVC</code> work, before we instantiate <code>tableViewVC</code>, because <code>tableViewVC</code> is null already. I don&#39;t know how to receive same TableViewVC addresses by instantiate it from 2  different view controllers."}], "owner": {"reputation": 178, "user_id": 6496288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7694676766b9e7fbfa7f26f880e3db0?s=128&d=identicon&r=PG&f=1", "display_name": "ACAkgul", "link": "https://stackoverflow.com/users/6496288/acakgul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540206567, "creation_date": 1540198390, "last_edit_date": 1540206567, "question_id": 52925542, "link": "https://stackoverflow.com/questions/52925542/obj-c-using-mapkitview-and-tableview-together-with-delegation", "title": "Obj-C / Using MapKitView and TableView together with delegation", "body": "<p>I am a very beginner of objective c and I wanted to create a scene about using 2 child view controller in a master view controller which includes MapKit and TableView. I ve searched it on internet for 1 day and but I couldn't make any of solutions since I failed in different steps of each suggestions. I know that there are a lot of way to pass data between View Controllers and I thought the best way is using delegation logic in this situation. (let me know if I am wrong please). By the way, I can update or move the cursor onto specific location WHEN I set a dummy button on MapKitViewController, so MapKit part is not where I am failing at. I am pretty sure that the problem is about communication between 2 View Controllers which are active at the same time. </p>\n\n<p><strong>Problem:</strong> </p>\n\n<ul>\n<li>Updating MapView by clicking a table row of TableView which includes location coordinate detail. Both children view are set on a MasterViewController by 2 container views.</li>\n</ul>\n\n<p><strong>Tried so far:</strong></p>\n\n<ul>\n<li>Created a method \"<em><code>goToLocation:(Location*) location</code></em>\" in MapViewController and sent parameters to this method from TableViewController. =>(<strong><em>Lat and Long parameters received by goToLocation() but MapKitView doesn't get updated</em></strong>)</li>\n<li>Tried to create a delegate logic between MapView and TableView.=>(<strong><em>Probably I couldn't create it properly. Please see below</em></strong>)</li>\n</ul>\n\n<p><strong>What I want :</strong></p>\n\n<ul>\n<li>I want to know what part I am doing wrong. Is there a easy or proper way to achieve that ?</li>\n</ul>\n\n<p><strong>TableViewController.h</strong></p>\n\n<pre><code>@class TableViewController;                 //define class\n\n@protocol TableViewDelegate &lt;NSObject&gt;      //define delegate protocol\n\n//define delegate method to be implemented within another class\n- (void) locationSelected: (TableViewController *) sender object:(Location *) location;\n\n@end\n\n@property (nonatomic, weak) id &lt;TableViewDelegate&gt; delegate; //define TableViewVCDelegate as delegate\n</code></pre>\n\n<p><strong>TableViewController.m</strong></p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    [self notifyNow:[_locations objectAtIndex:indexPath.row]];\n}\n\n- (void) notifyNow:(Location *) location {\n    //this will call the method implemented in your other class\n    [self.delegate locationSelected:self object:(Location *) location];\n\n    NSLog(@\"Selected: %@\",[location name]);    \n}\n</code></pre>\n\n<p><strong>MapViewController.h</strong></p>\n\n<pre><code>//make it a delegate for TableViewVCDelegate\n@interface MapViewController : UIViewController &lt;TableViewDelegate&gt; \n</code></pre>\n\n<p><strong>MapViewController.m</strong></p>\n\n<pre><code>- (void)viewDidLoad {\n\n    _tableViewController = [[TableViewController alloc]init];\n    _tableViewController.delegate = self; //set its delegate to self somewhere\n}\n\n!!_ This Method Doesn't Get Triggered _!!\n- (void)locationSelected:(TableViewController *)sender object:(Location *)location {\n    NSLog(@\"%@ is great!\", [location name]);\n}\n</code></pre>\n\n<p><strong>MainViewController.m (Master/Root View Controller)</strong></p>\n\n<pre><code>#import \"MainViewController.h\"\n#import \"MapViewController.h\"\n#import \"TableViewController.h\"\n\n@interface MainViewController ()\n\n@property (strong, nonatomic) IBOutlet UIView *topCont;\n@property (strong, nonatomic) IBOutlet UIView *bottomCont;\n@property (strong, nonatomic) IBOutlet UIView *safeArea;\n\n\n@end\n\n@implementation MainViewController\n\nMapViewController *mapViewVC;\nTableViewController *tableViewVC;\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n    [self.navigationController setNavigationBarHidden:YES animated:YES];\n    tableViewVC = [self.storyboard instantiateViewControllerWithIdentifier:@\"TableViewController\"];\n    mapViewVC = [self.storyboard instantiateViewControllerWithIdentifier:@\"TopChildVC\"];\n\n    [self addChildViewController:tableViewVC];\n    [tableViewVC.view setFrame:CGRectMake(0.0f,\n                                         0.0f,\n                                         self.safeArea.frame.size.width,\n                                         self.safeArea.frame.size.height/2)];\n    [self.bottomCont addSubview:tableViewVC.view];\n    [tableViewVC didMoveToParentViewController:self];\n\n    [self addChildViewController:mapViewVC];\n    [mapViewVC.view setFrame:CGRectMake(0.0f,\n                                         0.0f,\n                                         self.safeArea.frame.size.width,\n                                         self.safeArea.frame.size.height/2)];\n    [self.topCont addSubview:mapViewVC.view];\n    [mapViewVC didMoveToParentViewController:self];\n}\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "reverse-engineering", "ida"], "comments": [{"owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1540192645, "post_id": 52923564, "comment_id": 92757312, "body": "Interesting. Expecially, that it has two different signatures <code>(id,SEL)</code> and <code>(int,int)</code>. Maybe objc_release is a kind-of preprocessor macro in your case? Can you jump to / show us the definition of that function?"}, {"owner": {"reputation": 435, "user_id": 6379504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wtOaF.jpg?s=128&g=1", "display_name": "Neal.Marlin", "link": "https://stackoverflow.com/users/6379504/neal-marlin"}, "reply_to_user": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1540360645, "post_id": 52923564, "comment_id": 92830452, "body": "@AndreasOetjen This code snippet is not the source code, but the IDA disassembled pseudo code. So I cannot get the definition of this function. Thank you, Andreas."}, {"owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1540363849, "post_id": 52923564, "comment_id": 92831814, "body": "I guess it is just something the disassembler cannot determine, due to some weired Objective C / ARC secrets. See also: <a href=\"https://www.mikeash.com/pyblog/friday-qa-2012-01-06-the-hopper-disassembler.html\" rel=\"nofollow noreferrer\">mikeash.com/pyblog/&hellip;</a> (near the end)"}, {"owner": {"reputation": 435, "user_id": 6379504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wtOaF.jpg?s=128&g=1", "display_name": "Neal.Marlin", "link": "https://stackoverflow.com/users/6379504/neal-marlin"}, "reply_to_user": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1540369188, "post_id": 52923564, "comment_id": 92834853, "body": "@AndreasOetjen I&#39;m sorry to tell you that I just cannot open the link you drop me and I don&#39;t know why. I tried to use <code>curl</code> to access the link and got this error message <code>curl: (35) LibreSSL SSL_connect: SSL_ERROR_SYSCALL in connection to www.mikeash.com:443</code>"}, {"owner": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1540369742, "post_id": 52923564, "comment_id": 92835195, "body": "I also do not know why. Just use a web search engine and search for &quot;mikeash The Hopper Disassembler&quot;, and you&#39;ll find the web site."}, {"owner": {"reputation": 435, "user_id": 6379504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wtOaF.jpg?s=128&g=1", "display_name": "Neal.Marlin", "link": "https://stackoverflow.com/users/6379504/neal-marlin"}, "reply_to_user": {"reputation": 8296, "user_id": 1646335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SLH9.jpg?s=128&g=1", "display_name": "Andreas Oetjen", "link": "https://stackoverflow.com/users/1646335/andreas-oetjen"}, "edited": false, "score": 0, "creation_date": 1540369877, "post_id": 52923564, "comment_id": 92835270, "body": "@AndreasOetjen Ok, I&#39;ll figure it out. Thanks again."}], "owner": {"reputation": 435, "user_id": 6379504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wtOaF.jpg?s=128&g=1", "display_name": "Neal.Marlin", "link": "https://stackoverflow.com/users/6379504/neal-marlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540360811, "creation_date": 1540190280, "last_edit_date": 1540360811, "question_id": 52923564, "link": "https://stackoverflow.com/questions/52923564/why-objc-retain-has-two-parameters-in-ida-disassembled-pseudo-code", "title": "why objc_retain has two parameters in IDA disassembled pseudo code?", "body": "<p>Since I'm a newbie to reverse engineering, I can't understand why, in <code>v8 = objc_retain(a3, a2);</code> sentence, the <code>objc_retain()</code> function has two parameters and even a return value! As far as I know, the function <code>objc_retain</code> in runtime library just gets one parameter and no return value. how does this <code>objc_retain</code> work with its two parameters?</p>\n\n<pre><code>char __cdecl -[NSString writeToAppFile:tag:userInfo:error:](NSString *self, SEL a2, id a3, id a4, id a5, id *a6)\n{\n  NSString *v6; // r10\n  id v7; // r5\n  int v8; // r8\n  int v9; // r1\n  int v10; // r11\n  int v11; // r1\n  int v12; // r6\n  void *v13; // r0\n  void *v14; // r4\n\n  v6 = self;\n  v7 = a4;\n  v8 = objc_retain(a3, a2);\n  v10 = objc_retain(v7, v9);\n  v12 = objc_retain(a5, v11);\n  v13 = objc_msgSend(v6, \"dataUsingEncoding:\", 4);\n  v14 = (void *)objc_retainAutoreleasedReturnValue(v13);\n  LOBYTE(v7) = (unsigned int)objc_msgSend(v14, \"writeToAppFile:tag:userInfo:error:\", v8, v10, v12, a6);\n  objc_release(v12);\n  objc_release(v10);\n  objc_release(v8);\n  objc_release(v14);\n  return (char)v7;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "uitableview", "asynchronous"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540227083, "post_id": 52923505, "comment_id": 92777546, "body": "Could you check <code>cell.textLabel</code> or <code>cell.detailTextLabel</code>?, print them, this should also give their frame. Not related but <code>PostModel *post = [[PostModel alloc]init]; post =[arr objectAtIndex:indexPath.row];</code>should be <code>PostModel *post = [arr objectAtIndex:indexPath.row];</code>, because there is not need in allocating/init one object if you replace it just after."}, {"owner": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540229240, "post_id": 52923505, "comment_id": 92778585, "body": "thank you for the tips, but in this case the issue lies elsewhere. the NSLog output wast from the cellForRowAtIndexPath method. in fact, the itemsDownloaded:(NSMutableArray *)items function is never called, so ive been working with an empty array."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540231123, "post_id": 52923505, "comment_id": 92779430, "body": "That\u2019s different info. Lokal needs to be a strong property. I thought of it, but your question and code implied cellFoRow was called (the comment on the NSLog)."}, {"owner": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540231789, "post_id": 52923505, "comment_id": 92779721, "body": "yes i agree, im not sure what stackoverflow wants in this situation. should i create a new thread later after i investigate some more?  i made lokal a strong property but still have the same issue"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "edited": false, "score": 0, "creation_date": 1540219244, "post_id": 52931721, "comment_id": 92773131, "body": "That did not work for me. a little side note. if i change numberOfRowsInSection to return a constant, the app crashes due to null pointer. but setting it to [arr count] gives me an empty tableview"}, {"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "reply_to_user": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "edited": false, "score": 0, "creation_date": 1540220444, "post_id": 52931721, "comment_id": 92773894, "body": "Did you check arr count? Isn\u2019t it Zero? Also did you check your array after copt items in itemsDownloaded?"}, {"owner": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "edited": false, "score": 0, "creation_date": 1540228021, "post_id": 52931721, "comment_id": 92777986, "body": "ok so i just checked and the count was zero, then i found a mistake in my problem definition. the output i see in the console was not coming from the cellForRowAtIndexPath. so this means that as of now i dont know if the data is being passed correctly. i might just be working with empty arrays. thanks i will update soon"}], "tags": [], "owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "is_accepted": false, "score": 0, "last_activity_date": 1540218408, "creation_date": 1540218408, "answer_id": 52931721, "question_id": 52923505, "link": "https://stackoverflow.com/questions/52923505/empty-uitableviewcontroller-with-async-calls/52931721#52931721", "title": "Empty UITableViewController with async calls", "body": "<p>Before return your cell add try to add this code in cellForRowIndexPath</p>\n\n<p>[cell layoutIfneeded];</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "edited": false, "score": 0, "creation_date": 1540227185, "post_id": 52933707, "comment_id": 92777595, "body": "i dont think this is the case because if i create a dummy array of numbers for example, the data is displayed correctly. but in my code, since i fetch data asynchronously, im guessing the issue is that the numberOfRows and cellForRowAtIndexPath methods are completed before i even get data in the array. but i cant figure out how to fix it."}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": false, "score": 0, "last_activity_date": 1540225216, "creation_date": 1540225216, "answer_id": 52933707, "question_id": 52923505, "link": "https://stackoverflow.com/questions/52923505/empty-uitableviewcontroller-with-async-calls/52933707#52933707", "title": "Empty UITableViewController with async calls", "body": "<p>I believe you have to add a <code>registerNib:forCellReuseIdentifier:</code> or <code>registerClass:forCellReuseIdentifier:</code> prior to using <code>dequeueReusableCellWithIdentifier:forIndexPath:</code> (in viewDidLoad for example)</p>\n\n<p>From the documentation: <a href=\"https://developer.apple.com/documentation/uikit/uitableview/1614878-dequeuereusablecellwithidentifie?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uitableview/1614878-dequeuereusablecellwithidentifie?language=objc</a></p>\n\n<blockquote>\n  <p>Important\n  You must register a class or nib file using the registerNib:forCellReuseIdentifier: or registerClass:forCellReuseIdentifier: method before calling this method.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 8179182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40713f00475c731a730f0f159e80c366?s=128&d=identicon&r=PG&f=1", "display_name": "Haitian Guy", "link": "https://stackoverflow.com/users/8179182/haitian-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540252940, "creation_date": 1540189950, "last_edit_date": 1540252940, "question_id": 52923505, "link": "https://stackoverflow.com/questions/52923505/empty-uitableviewcontroller-with-async-calls", "title": "Empty UITableViewController with async calls", "body": "<p>I am working on using NSURLSession and JSON serialization to fetch content from my site. The async calls and getting the JSON data work perfectly. My issue is, when it comes to displaying the data in the TableviewController, I put an NSLog statement to see if there is data and there is, but that cell.textlable.text never updates. I'm guessing the issue is the threads but I can't figure it out. Can you help?</p>\n\n<pre><code>@interface MainTableViewController : \nUITableViewController&lt;LokalModelProtocol&gt;\n\n\n@property (strong,nonatomic) NSMutableArray* arr;\n\n@end\n\n@implementation MainTableViewController\n @synthesize arr;\n\n- (void)viewDidLoad {\n[super viewDidLoad];\narr = [[NSMutableArray alloc]init];\nLokalModel *lokal = [[LokalModel alloc]init];\nlokal.delegate=self;\n[lokal downloadItems];\n\n}\n\n-(void)itemsDownloaded:(NSMutableArray *)items\n{\narr=items;\n//NSLog(@\"%@\", items);\n[self.tableView reloadData];\n}\n\n#pragma mark - Table view data source\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n#warning Incomplete implementation, return the number of sections\nreturn 1;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection: (NSInteger)section {\n#warning Incomplete implementation, return the number of rows\n// return 1;\n\nreturn [arr count];\n}\n\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n  UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"mainCell\" forIndexPath:indexPath];\n\nPostModel *post = [[PostModel alloc]init];\npost =[arr objectAtIndex:indexPath.row];\n\n\nNSLog(@\"%@\", post.postTitle); ////this outputs the correct strings///////\n\ncell.textLabel.text =[NSString stringWithFormat:@\"%@\", post.postTitle];\ncell.detailTextLabel.text = post.postTitle;///neither of these do//////\n\nreturn cell;\n}\n\n@end\n\n\n\n\n\n@protocol LokalModelProtocol &lt;NSObject,NSURLSessionDelegate&gt;\n\n+(void)itemsDownloaded:(NSMutableArray*)items;\n\n@end\n\n@interface LokalModel : NSObject\n\n-(void)downloadItems;\n@property (strong, nonatomic) NSMutableData* thedata;\n@property (strong, nonatomic) NSString* urlString;\n@property (strong, nonatomic) NSURL* theUrl;\n@property (strong,nonatomic) id&lt;LokalModelProtocol&gt;delegate;\n+(void)parseJson:(NSData*)data;\n\n@end\n\n\n\n\n\nid&lt;LokalModelProtocol&gt;delegate;\n\n@implementation LokalModel;\n@synthesize thedata,urlString,theUrl,delegate;\n\n-(void)downloadItems{\nNSURL *theUrl = nil;\nstatic NSString* urlString = @\"https://balalatet.com/wp-json/wp/v2/posts\";\ntheUrl=[NSURL URLWithString:urlString];\n\nNSURLSession *currentSession= [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\nNSURLSessionDataTask *task = [currentSession dataTaskWithURL:theUrl completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n    if (error){\n        [NSException raise:@\"error\" format:@\"%@\",error.localizedDescription];\n        NSLog(@\"error1\");\n    }\n    else{\n        NSLog(@\"success\");\n        [LokalModel parseJson:data];\n\n    }\n\n\n}];\n[task resume];\n\n}\n\n+(void)parseJson:(NSData*)data{\n\nNSArray *jsonResults = [[NSArray alloc]init];\nNSError *jsonerror;\njsonResults =[NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:&amp;jsonerror];\n\nif (jsonerror)\n    [NSException raise:@\"json error\" format:@\"%@\",jsonerror.localizedDescription];\n\nNSMutableArray *posts = [[NSMutableArray alloc] init];\nNSMutableDictionary *jsonElenent =[NSMutableDictionary dictionary];\n\nfor (NSMutableDictionary *d in jsonResults)\n{\n    jsonElenent=d;\n    PostModel *thePost=[[PostModel alloc]init];\n    thePost.postId= jsonElenent[@\"id\"];\n    thePost.postDate= jsonElenent[@\"date\"];\n    thePost.postDategmt= jsonElenent[@\"date_gmt\"];\n    thePost.postGuid= jsonElenent[@\"guid\"];\n    thePost.postSlug= jsonElenent[@\"slug\"];\n    thePost.postStatus= jsonElenent[@\"status\"];\n    thePost.postSticky= jsonElenent[@\"sticky\"];\n    thePost.postPingStatus= jsonElenent[@\"ping_status\"];\n    thePost.postType= jsonElenent[@\"type\"];\n    thePost.postCommentStatus= jsonElenent[@\"comment_status\"];\n    thePost.postTags= jsonElenent[@\"tags\"];\n    thePost.postTitle= jsonElenent[@\"title\"];\n    thePost.postTemplate= jsonElenent[@\"template\"];\n    thePost.postLink= jsonElenent[@\"link\"];\n    thePost.postMeta= jsonElenent[@\"meta\"];\n    thePost.postModified= jsonElenent[@\"modified\"];\n    thePost.postModifiedgmt= jsonElenent[@\"modified_gmt\"];\n    thePost.postFeaturedMedia= jsonElenent[@\"featured_media\"];\n    thePost.postFormat= jsonElenent[@\"format\"];\n    thePost.postLinks= jsonElenent[@\"links\"];\n    thePost.postAuthor= jsonElenent[@\"author\"];\n    thePost.postContent= jsonElenent[@\"content\"];\n    thePost.postCategory= jsonElenent[@\"category\"];\n    thePost.postExcerpt= jsonElenent[@\"excerpt\"];\n    NSLog(@\"%@\", thePost.postTitle);\n    [posts addObject:thePost];\n}\ndispatch_async(dispatch_get_main_queue(), ^{\n    [delegate itemsDownloaded:posts];\n});\n}\n@end\n</code></pre>\n\n<h1>Update</h1>\n\n<p>my apologies as part of my debugging info is incorrect. the nslog output did not come from the cellForRowAtIndexPath method. in fact the arr array remains empty because the \n    (void)itemsDownloaded:(NSMutableArray *)items\nis never called. im sure i setup the protocol correctly. any thoughts on why the MainTableViewControllerClass cant get the data?</p>\n\n<h1>update</h1>\n\n<p>so i realized that i forgot to remove the line </p>\n\n<pre><code>id&lt;LokalModelProtocol&gt;delegate;\n</code></pre>\n\n<p>that i put right before the @implementation in LokalModel. but now doing so causes an error \"unrecognized selector sent to instance\" at the line </p>\n\n<pre><code>[delegate itemsDownloaded:posts];\n</code></pre>\n\n<p>I aslo tried</p>\n\n<pre><code>[self.delegate itemsDownloaded:posts];\n</code></pre>\n\n<p>but it throws the same exception.</p>\n\n<h1>Solved</h1>\n\n<p>My protocol method had to be an instance method, and i had it set as a class method.</p>\n"}, {"tags": ["objective-c", "uibezierpath", "iphone-x"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 2, "creation_date": 1540171559, "post_id": 52921156, "comment_id": 92752049, "body": "I&#39;m not understanding your strategy. What is the &quot;square path&quot; for? Why don&#39;t you just draw the entire pill shape as a single path?"}, {"owner": {"reputation": 56, "user_id": 2848801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17046cc8026ebf5b86885d68c8e017b6?s=128&d=identicon&r=PG", "display_name": "user63868", "link": "https://stackoverflow.com/users/2848801/user63868"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540178530, "post_id": 52921156, "comment_id": 92753226, "body": "Thanks, I guess I didn&#39;t know you could do that."}, {"owner": {"reputation": 56, "user_id": 2848801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17046cc8026ebf5b86885d68c8e017b6?s=128&d=identicon&r=PG", "display_name": "user63868", "link": "https://stackoverflow.com/users/2848801/user63868"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540258037, "post_id": 52921156, "comment_id": 92788560, "body": "I think I found out what the actual problem was. The resolution on the iPhone X is higher but the width is odd (i.e. 375). So in creating the middle label, the width was even creating a width with .5 in it which  wasn&#39;t resolving properly. I fixed this by calculating the label based on  the screen width being even (8 Plus) or odd (XS) and now it looks right."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540258218, "post_id": 52921156, "comment_id": 92788608, "body": "Well again this is why I prefer a solution where the view draws itself and all you have to do is use constraints as usual to size/position the view. The solution I give cannot fail because it doesn&#39;t depend on any assumptions about resolution, size, or anything else."}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1540180440, "creation_date": 1540180440, "answer_id": 52922190, "question_id": 52921156, "link": "https://stackoverflow.com/questions/52921156/uibezierpath-arc-and-rectangle-problem-on-iphone-x-family-but-not-on-earlier-pho/52922190#52922190", "title": "UIBezierPath arc and rectangle problem on iPhone X family but not on earlier phones", "body": "<p>What I would do is just draw the entire pill shape as a single path, and fill it. Here is a UIView subclass that draws itself as a pill shape:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MUJD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MUJD6.png\" alt=\"enter image description here\"></a></p>\n\n<p>So you see it's just a matter of setting the size and proportions of that view the way you want them, and the pill will just appear, no matter what device you're running on. </p>\n\n<p>Here's the code for the pill view:</p>\n\n<pre><code>class PillView : UIView {\n    required init?(coder aDecoder: NSCoder) {\n        super.init(coder:aDecoder)\n        self.isOpaque = false\n    }\n    override func draw(_ rect: CGRect) {\n        let ins : CGFloat = 2\n        let r = self.bounds.insetBy(dx: ins, dy: ins)\n        let radius : CGFloat = r.size.height / 2\n        let d90 = CGFloat.pi/2\n        let path = CGMutablePath()\n        path.move(to:CGPoint(x:r.maxX - radius, y:ins))\n        path.addArc(center:CGPoint(x:radius+ins, y:radius+ins), radius: radius, \n            startAngle: -d90, endAngle: d90, clockwise: true)\n        path.addArc(center:CGPoint(x:r.maxX - radius, y:radius+ins), radius: radius, \n            startAngle: d90, endAngle: -d90, clockwise: true)\n        path.closeSubpath()\n        let bez = UIBezierPath()\n        bez.cgPath = path\n        UIColor.green.setFill()\n        bez.fill()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 56, "user_id": 2848801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17046cc8026ebf5b86885d68c8e017b6?s=128&d=identicon&r=PG", "display_name": "user63868", "link": "https://stackoverflow.com/users/2848801/user63868"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540180440, "creation_date": 1540168979, "last_edit_date": 1540170131, "question_id": 52921156, "link": "https://stackoverflow.com/questions/52921156/uibezierpath-arc-and-rectangle-problem-on-iphone-x-family-but-not-on-earlier-pho", "title": "UIBezierPath arc and rectangle problem on iPhone X family but not on earlier phones", "body": "<p>I have created a Objective-C category for UIView to draw rounded corners. I am trying to implement a Pill button and the function is working except on iPhone X family. Because the Arc is at the end of the UIView, I think I have to draw the rest of the view as a rectangle to fill in. If there is a better way to do this I would love to know. Here is the function.</p>\n\n<pre><code>- (void)setRounded:(BOOL)clockwise borderColor:(UIColor *)borderColor {\n    CGRect rect = self.bounds;\n\n    CGFloat offset = CGRectGetMidY(rect);\n    NSAssert(rect.size.width-rect.origin.x &gt;= offset, @\"width too small %f &lt; %f\", rect.size.width, offset);\n\n    UIBezierPath *maskPath = [UIBezierPath bezierPathWithArcCenter:CGPointMake(clockwise?rect.size.width-rect.origin.x-offset:rect.origin.x+offset, offset) radius:offset startAngle:GLKMathDegreesToRadians(270) endAngle:GLKMathDegreesToRadians(90) clockwise:clockwise];\n    DLog(@\"(clockwise: %@) maskPath: %@\", clockwise?@\"true\":@\"false\", NSStringFromCGRect([maskPath bounds]));\n    [maskPath setUsesEvenOddFillRule:NO];\n    UIBezierPath *squarePath = [UIBezierPath bezierPath];\n\n    if (clockwise) {\n        [squarePath moveToPoint:CGPointMake(rect.origin.x, rect.origin.y)];\n        [squarePath addLineToPoint:CGPointMake(rect.size.width-rect.origin.x-offset, rect.origin.y)];\n        [squarePath addLineToPoint:CGPointMake(rect.size.width-rect.origin.x-offset, rect.origin.y+rect.size.height)];\n        [squarePath addLineToPoint:CGPointMake(rect.origin.x, rect.origin.y+rect.size.height)];\n        [squarePath addLineToPoint:CGPointMake(rect.origin.x, rect.origin.y)];\n    } else {        \n        [squarePath moveToPoint:CGPointMake(rect.origin.x+offset, rect.origin.y)];\n        [squarePath addLineToPoint:CGPointMake(rect.size.width-rect.origin.x, rect.origin.y)];\n        [squarePath addLineToPoint:CGPointMake(rect.size.width-rect.origin.x, round(rect.origin.y+rect.size.height))];\n        [squarePath addLineToPoint:CGPointMake(rect.origin.x+offset, round(rect.origin.y+rect.size.height))];\n        //[squarePath addLineToPoint:CGPointMake(rect.origin.x+offset, rect.origin.y)];\n        [squarePath closePath];\n    }\n    DLog(@\"squarePath: %@\", NSStringFromCGRect([squarePath bounds]));\n    [maskPath appendPath:squarePath];\n\n    CAShapeLayer *maskLayer = [CAShapeLayer layer];\n    maskLayer.frame = rect;\n    maskLayer.path = maskPath.CGPath;\n\n    self.layer.mask = maskLayer;\n\n    CAShapeLayer *shape = [CAShapeLayer layer];\n    shape.frame = self.frame;\n    shape.path = maskPath.CGPath;\n    shape.lineWidth = 1.0;\n    shape.strokeColor = borderColor.CGColor;\n    shape.fillColor = borderColor.CGColor;\n    [self.layer addSublayer:shape];\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/dpjPR.png\" alt=\"iPhoneX extra line\"></p>\n"}, {"tags": ["objective-c", "grand-central-dispatch", "dispatch-async"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 4672331, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a68376974bd0bcb0c4c735f2c50389df?s=128&d=identicon&r=PG&f=1", "display_name": "user287474", "link": "https://stackoverflow.com/users/4672331/user287474"}, "edited": false, "score": 0, "creation_date": 1540158100, "post_id": 52920065, "comment_id": 92749733, "body": "So I tired running your solution, and it does hit the jobSch function, but it doesn&#39;t execute aBlock"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 315, "user_id": 4672331, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a68376974bd0bcb0c4c735f2c50389df?s=128&d=identicon&r=PG&f=1", "display_name": "user287474", "link": "https://stackoverflow.com/users/4672331/user287474"}, "edited": false, "score": 1, "creation_date": 1540159642, "post_id": 52920065, "comment_id": 92750070, "body": "See the end of my answer. You need to use <code>queue</code> instead of <code>dispatch_get_main_queue()</code>. This is because the call to <code>dispatch_group_wait</code> is already on the main queue. So any attempt to run any other code on the main queue will block forever."}, {"owner": {"reputation": 315, "user_id": 4672331, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a68376974bd0bcb0c4c735f2c50389df?s=128&d=identicon&r=PG&f=1", "display_name": "user287474", "link": "https://stackoverflow.com/users/4672331/user287474"}, "edited": false, "score": 0, "creation_date": 1540160305, "post_id": 52920065, "comment_id": 92750218, "body": "That was it, I completely overlooked that, thank you!"}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1540160395, "last_edit_date": 1540160395, "creation_date": 1540157384, "answer_id": 52920065, "question_id": 52918728, "link": "https://stackoverflow.com/questions/52918728/implement-a-job-scheduler-using-dispatch-queues/52920065#52920065", "title": "Implement a Job Scheduler using Dispatch Queues", "body": "<p>The problem is that <code>main</code> is exiting long before your enqueued block is run. And that is because your call to <code>dispatch_group_wait</code> isn't waiting. And that is because your dispatch group is empty.</p>\n\n<p>In order for a dispatch group and a call to <code>dispatch_group_wait</code> to be useful, you need to make paired calls to <code>dispatch_group_enter</code> and <code>dispatch_group_leave</code>.</p>\n\n<p>You need to call <code>dispatch_group_enter</code> before you start any async call and you need to call <code>dispatch_group_leave</code> after the block has finished (<code>aBlock</code> in this case).</p>\n\n<p>Your code is not setup to make this easy. You would need to make <code>group</code> a global variable. Then you can call <code>dispatch_group_enter</code> and <code>dispatch_group_leave</code> where needed.</p>\n\n<p>Something like this should work:</p>\n\n<pre><code>dispatch_group_t group;\n\nvoid jobSch(dispatch_queue_t queue, int64_t n, dispatch_block_t f)\n{\n    NSLog(@\"%d\\n\", n);\n    dispatch_group_enter(group);\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, n * NSEC_PER_SEC), queue, f);\n}\n\nvoid (^aBlock)(void) = ^(){\n    NSDateFormatter *dateFormatter=[[NSDateFormatter alloc] init];\n    [dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\n    NSLog(@\"%@\",[dateFormatter stringFromDate:[NSDate date]]);\n    dispatch_group_leave(group);\n};\n\nint main(int argc, const char * argv[])\n{\n    @autoreleasepool {\n        dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);\n        group = dispatch_group_create();\n\n        // no need for dispatch_group_async here\n        jobSch(queue, 10, aBlock);\n        jobSch(queue, 3, aBlock);\n\n        dispatch_group_wait(group, DISPATCH_TIME_FOREVER);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Also note that you never actually make use of <code>queue</code> inside <code>jobSch</code>.</p>\n\n<p>You need to change:</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, n * NSEC_PER_SEC), dispatch_get_main_queue(), f);\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>dispatch_after(dispatch_time(DISPATCH_TIME_NOW, n * NSEC_PER_SEC), queue, f);\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 4672331, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a68376974bd0bcb0c4c735f2c50389df?s=128&d=identicon&r=PG&f=1", "display_name": "user287474", "link": "https://stackoverflow.com/users/4672331/user287474"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 52920065, "answer_count": 1, "score": 0, "last_activity_date": 1540160395, "creation_date": 1540147864, "question_id": 52918728, "link": "https://stackoverflow.com/questions/52918728/implement-a-job-scheduler-using-dispatch-queues", "title": "Implement a Job Scheduler using Dispatch Queues", "body": "<p>Question: Implement a job scheduler which takes in function f and int n and calls f after n seconds.</p>\n\n<p>Since im using Obj C to answer this question, I should probably use dispatch queues instead of selectors or function pointers.</p>\n\n<p>Here's my attempt to implement the answer, but it's not returning a time stamp: </p>\n\n<pre><code>void jobSch(dispatch_queue_t queue, int64_t n, dispatch_block_t f)\n{\n    NSLog(@\"%d\\n\", n);\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, n * NSEC_PER_SEC), dispatch_get_main_queue(), f);\n}\n\nvoid (^aBlock)(void) = ^(){\n    NSDateFormatter *dateFormatter=[[NSDateFormatter alloc] init];\n    [dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\n    NSLog(@\"%@\",[dateFormatter stringFromDate:[NSDate date]]);\n};\n\nint main(int argc, const char * argv[])\n{\n    @autoreleasepool {\n        dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);\n        dispatch_group_t group = dispatch_group_create();\n        dispatch_group_async(group, queue, ^{\n            jobSch(queue, 3, aBlock);\n        });\n        dispatch_group_wait(group, DISPATCH_TIME_FOREVER);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>What could I be doing wrong?</p>\n\n<p>Also my intended implementation would be able to call jobSch(queue, 10, aBlock) at runtime 0 and jobSch(queue, 3, aBlock) at runtime 2, so that would mean the second call would print before the first.</p>\n"}, {"tags": ["ios", "objective-c", "uitextview", "sizetofit"], "comments": [{"owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1540154154, "post_id": 52917894, "comment_id": 92748829, "body": "Look at the <code>textContainerInset</code> property"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "is_accepted": false, "score": 0, "last_activity_date": 1540182100, "creation_date": 1540182100, "answer_id": 52922384, "question_id": 52917894, "link": "https://stackoverflow.com/questions/52917894/ios-uitextview-sizetofit-make-height-doubled-of-content-text-in-ipad/52922384#52922384", "title": "iOS UITextView sizeToFit make height doubled of content text in iPad", "body": "<p>Try using NSLayout constraints to frame the UITextview instead of initwithframe.\nyou may get the content sized height for textview properly</p>\n"}], "owner": {"reputation": 73, "user_id": 6835635, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QOiXGRWJyZo/AAAAAAAAAAI/AAAAAAAAFts/N3ws6SewGkQ/photo.jpg?sz=128", "display_name": "Shiv Pogra", "link": "https://stackoverflow.com/users/6835635/shiv-pogra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540182100, "creation_date": 1540142142, "last_edit_date": 1540153865, "question_id": 52917894, "link": "https://stackoverflow.com/questions/52917894/ios-uitextview-sizetofit-make-height-doubled-of-content-text-in-ipad", "title": "iOS UITextView sizeToFit make height doubled of content text in iPad", "body": "<p>Below is my code of textView, but <code>sizeToFit</code> makes textView's height more than doubled of it's content text. Please provide any solution</p>\n\n<pre><code>UITextView *paragraphView  = [[UITextView alloc] initWithFrame: CGRectMake(10, 10, 295, 30)];\n[paragraphView setContentMode: UIViewContentModeScaleToFill];\n[paragraphView setScrollEnabled: NO];\n[paragraphView setEditable: NO];\n[paragraphView setText: @\"hello there ..........hii i am here.....\"];\n[paragraphView setFont: [UIFont systemFontOfSize: 30]];\n\n[self.view addSubview: paragraphView];\n\n[paragraphView sizeToFit];\n</code></pre>\n"}, {"tags": ["objective-c", "uiwebview", "wkwebview", "ios12"], "comments": [{"owner": {"reputation": 393, "user_id": 4160199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7VZ6.png?s=128&g=1", "display_name": "quant24", "link": "https://stackoverflow.com/users/4160199/quant24"}, "edited": false, "score": 0, "creation_date": 1540400063, "post_id": 52915772, "comment_id": 92855031, "body": "check this out <a href=\"https://nshipster.com/wkwebview/\" rel=\"nofollow noreferrer\">nshipster.com/wkwebview</a>"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1770, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562429094, "creation_date": 1540128285, "question_id": 52915772, "link": "https://stackoverflow.com/questions/52915772/ios12-uiwebview-problems", "title": "iOS12: UIWebView problems", "body": "<p>Our app uses intensely UIWebView for login and downloading of stuff from intranet portals. However immediately with the upgrade it stopped working since as far as I have found out, our previously used method webviewDidFinishLoad gets called, however a necessary distinction we have by using if(webview.isLoading) return; always stops the execution. So somehow since iOS 12 the webview doesn't stop loading content..or the variable isn't set. Any idea why?</p>\n\n<p>And I've read UIWebView is deprecated now and you should use WKWebView. But as far as I understand I cannot simply switch and all the same methods exists, but it is much more complicated than that?</p>\n"}, {"tags": ["ios", "objective-c", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 1, "creation_date": 1540125639, "post_id": 52913397, "comment_id": 92740786, "body": "It&#39;s not going to deallocate until it goes out of scope.. <code>NSBlock</code> can be allocated on the stack OR heap (when copied).. but a local block is stack allocated and will only deallocate when it goes out of scope."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 0, "creation_date": 1540133543, "post_id": 52913397, "comment_id": 92742997, "body": "@Brandon&#39;s comment is correct, in general, but in this particular example, that block will be a global and will be &quot;live&quot; well beyond that scope."}], "answers": [{"comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1540219596, "post_id": 52916128, "comment_id": 92773379, "body": "&quot;It crashes, as expected&quot; \u2013 do you slander the Obj-C compiler? ;-) I think what your sample shows is a corner-case bug in the compiler. Eons ago now Apple finally said you didn&#39;t need to put <code>copy</code> on block properties any longer as finally the compiler moves stack blocks to the heap as needed automatically; and assigning to an outer-scope variable is one where the move is needed. Change that weak property to a strong one and the move occurs, leave it as weak and change the assignment to: <code>void (^block)(void) = ^void{...}; _weakBlock = block;</code> and the move occurs. (cont...)"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1540220414, "post_id": 52916128, "comment_id": 92773872, "body": "(...cont) When the compiler is figuring out it needs to throw out the warning it should also notice its about to store a stack block reference somewhere it shouldn&#39;t and handle it but it misses this corner case. Compiler bug, please report. (And please no-one don&#39;t claim this isn&#39;t a bug, <code>localvar temp = a; b = temp;</code> should have the same observable semantics as <code>b = a;</code>)"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1540227942, "post_id": 52916128, "comment_id": 92777955, "body": "&quot;no-one don&#39;t&quot; oops :-("}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1540307250, "post_id": 52916128, "comment_id": 92812456, "body": "@CRD I filed a bug when I wrote this capturing that particular corner case."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1540307547, "post_id": 52916128, "comment_id": 92812644, "body": "Without some serious shenanigans, I don&#39;t see an obvious path via which the block gains a strong reference in that code path.   An object?  Sure;  internally, it could create a strong reference to self, causing the weak assignment to remain valid beyond the scope.   I suppose because the stack block survives beyond the weak assignment, one might play shenanigans internally to cause the block to become strongly referenced, but that&#39;d imply a copy which would mean the value weakly assigned is invalid."}, {"owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "edited": false, "score": 0, "creation_date": 1541050381, "post_id": 52916128, "comment_id": 93087567, "body": "@bbum What I could get out of your answer is, even if it is a weak reference to the block, its life will stay intact until the <code>init&#39;s</code> scope or <code>didload</code> scope in my case. Similar to your <code>squarePants</code> method I called the <code>weakBlock</code> on another method. But it still executes the NSLog statement without any crash. Am I missing something?"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "edited": false, "score": 0, "creation_date": 1541054472, "post_id": 52916128, "comment_id": 93088738, "body": "@nr5 Your block isn&#39;t on the stack or heap at all.  That is the first part of this answer&#39;s discussion.  Like <code>@&quot;foo&quot;</code> constant strings, blocks that are immutable at runtime-- don&#39;t capture state-- actually statically compiled and will be valid for the entire app session."}], "tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": false, "score": 6, "last_activity_date": 1540133492, "last_edit_date": 1540133492, "creation_date": 1540130733, "answer_id": 52916128, "question_id": 52913397, "link": "https://stackoverflow.com/questions/52913397/objective-c-creating-weak-block-to-check-memory-release/52916128#52916128", "title": "Objective-C creating weak block to check memory release", "body": "<p>You aren't actually allocating a block in that code.   The body of the block is all static content;  nothing changes post compilation.</p>\n\n<p>If you do this:</p>\n\n<pre><code>    _weakBlock = ^void{\n        NSLog(@\"Execution inside a weakBlock\");\n    };\n    NSLog(@\"%@\", [_weakBlock class]);\n</code></pre>\n\n<p>You'll see this:</p>\n\n<pre><code>2018-10-21 09:33:48.827423-0500 kdkdkdkds[9367:1777827] __NSGlobalBlock__\n</code></pre>\n\n<p>The compiler recognized the block doesn't capture anything that might change at runtime and, accordingly, created a global static block which will never be allocated.</p>\n\n<p>As @Brandon said in a comment, if you declared a local variable in your scope and caused a stack block to be allocated, that wouldn't go away until the end of the scope.  </p>\n\n<pre><code>@autoreleasepool {\n    void __weak (^_weakBlock)(void);\n    int k = 2;\n    _weakBlock = ^void{\n        NSLog(@\"Execution inside a weakBlock (%d)\", k);\n    };\n    NSLog(@\"C; %@\", [_weakBlock class]);\n    NSLog(@\"P; %p\", _weakBlock);\n}\n2018-10-21 09:36:31.585458-0500 kdkdkdkds[9392:1780803] C; __NSStackBlock__\n2018-10-21 09:36:31.586291-0500 kdkdkdkds[9392:1780803] P; 0x7ffeefbff4c0\n</code></pre>\n\n<p>Now, instance variable assignment changes the rules slightly because you are assigning out of scope.</p>\n\n<pre><code>@interface SpongeBob:NSObject\n@end\n\n@interface SpongeBob ()\n{\n}\n@property (nonatomic, weak) void (^weakBlock)(void);\n@end\n\n@implementation SpongeBob\n- (instancetype)init\n{\n    self = [super init];\n    if (self) {\n        int k = 2;\n        _weakBlock = ^void{\n            NSLog(@\"Execution inside a weakBlock (%d)\", k);\n        };\n        NSLog(@\"C; %@\", [_weakBlock class]);\n        NSLog(@\"P; %p\", _weakBlock);\n    }\n    return self;\n}\n@end\n\n\nint main(int argc, const char * argv[]) {\n    @autoreleasepool {\n        [[SpongeBob alloc] init];\n    }\n    return 0;\n}\n\n2018-10-21 09:43:39.518545-0500 kdkdkdkds[9480:1787889] C; __NSStackBlock__\n2018-10-21 09:43:39.518883-0500 kdkdkdkds[9480:1787889] P; 0x7ffeefbff488\n</code></pre>\n\n<p>Wait.  What?  If that value is really being assigned to the ivar, then this is a ticking time bomb.   So, let's try something:</p>\n\n<p>If we add:</p>\n\n<pre><code>- (void)squarePants\n{\n    NSLog(@\"C; %@\", [_weakBlock class]);\n    NSLog(@\"P; %p\", _weakBlock);\n}\n</code></pre>\n\n<p>And then call it:</p>\n\n<pre><code>    SpongeBob *bob = [[SpongeBob alloc] init];\n    [bob squarePants];\n</code></pre>\n\n<p>It crashes, as expected, because the stack block is no longer valid as <code>init</code>'s scope </p>\n\n<p>(This seems rather mean.   Then again, if you eliminate the warning, the crash goes away.)</p>\n\n<p>Now, if you copy the block on assignment, then the immediate deallocation on assignment <em>does</em> kick in:</p>\n\n<pre><code>    _weakBlock = [^void{\n        NSLog(@\"Execution inside a weakBlock (%d)\", k);\n    } copy];\n\n2018-10-21 09:48:04.295762-0500 kdkdkdkds[9510:1792549] C; (null)\n2018-10-21 09:48:04.296167-0500 kdkdkdkds[9510:1792549] P; 0x0\n</code></pre>\n"}], "owner": {"reputation": 3773, "user_id": 1364053, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/KACnF.png?s=128&g=1", "display_name": "nr5", "link": "https://stackoverflow.com/users/1364053/nr5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540133492, "creation_date": 1540110340, "question_id": 52913397, "link": "https://stackoverflow.com/questions/52913397/objective-c-creating-weak-block-to-check-memory-release", "title": "Objective-C creating weak block to check memory release", "body": "<p>I have read that If you assign a new object to a weak property, the object will be released after the assignment. Even the warning from the compiler is same.</p>\n\n<pre><code>@interface RetainCycleObjCViewController ()\n{\n}\n@property (nonatomic, weak) void (^weakBlock)(void);\n@end\n\n@implementation RetainCycleObjCViewController\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n _weakBlock = ^void{\n        NSLog(@\"Execution inside a weakBlock\");\n    };\n\n_weakBlock();\n}\n@end\n</code></pre>\n\n<p>I get the same warning for weakBlock: <strong>Assigning block literal to a weak variable; object will be released after assignment</strong></p>\n\n<p>But when I execute the _weakBlock() in next line, it still prints the statement. How is it possible? because the newly created block object should have been removed from memory by now, given the 0 reference count?</p>\n"}, {"tags": ["ios", "objective-c", "firebase"], "answers": [{"tags": [], "owner": {"reputation": 4369, "user_id": 999770, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fd03785e3d628d867220cfe3e130f41e?s=128&d=identicon&r=PG", "display_name": "Ignacio Oron&#225;", "link": "https://stackoverflow.com/users/999770/ignacio-oron%c3%a1"}, "is_accepted": true, "score": 0, "last_activity_date": 1540058019, "creation_date": 1540058019, "answer_id": 52908517, "question_id": 52908441, "link": "https://stackoverflow.com/questions/52908441/cant-save-nsdictionary-to-firebasedatabase/52908517#52908517", "title": "Can&#39;t save NSDictionary to FirebaseDatabase", "body": "<p>The problem actually was that there was a hidden character (\\x) in some of the keys of the dictionary. Erased those wrong hidden characters that came from only god knows where, and it worked like charm.</p>\n"}], "owner": {"reputation": 4369, "user_id": 999770, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fd03785e3d628d867220cfe3e130f41e?s=128&d=identicon&r=PG", "display_name": "Ignacio Oron&#225;", "link": "https://stackoverflow.com/users/999770/ignacio-oron%c3%a1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52908517, "answer_count": 1, "score": 0, "last_activity_date": 1540058019, "creation_date": 1540057524, "question_id": 52908441, "link": "https://stackoverflow.com/questions/52908441/cant-save-nsdictionary-to-firebasedatabase", "title": "Can&#39;t save NSDictionary to FirebaseDatabase", "body": "<p>I am trying to save the following dictionary to my Firebase Database from an iOS/Objective-C application: </p>\n\n<pre><code>NSMutableDictionary* enrollmentDicc = {\n\"cleaning_tasks\" = 3;\n\"eat_drink_dairy\" = 2;\n\"eat_gluten\" = 1;\n\"eat_meat\" = 1;\n\"flor_lay_on_mat\" = 2;\n\"garden\" = 1;\n\"hours_spend_standing\" = 1;\n\"level_of_flexibilitity\" = 2;\n\"lift_or_carry\" = \"3,4,5\";\n\"sit_bed_propped\" = 3;\n\"strech_excercise\" = \"4,5,6\";\n\"tight_calves\" = 2;\n\"type_shoes\" = \"4,5,6\";\n\"cause_back_pain\" = \"3,4\";\n\"chill_sitting_room\" = 1;\n\"cross_legs_sit_down\" = 2;\ndiagnosis = \"3,4\";\n\"drive_everyday_hours\" = 1;\nemail = \"ignacio.orona+tw@gmail.com\";\n\"has_diagnosis\" = 1;\n\"hours_sitting_down\" = 2;\n\"how_did_you_hear\" = 3;\nname = ignacio;\npainLevelthisMoment = 10;\n\"pain_location\" = 2;\nprocessed = 0;\n\"sit_soft_couch\" = 2;\n\"sleep_position\" = 1;\ntreatments = \"4,10\";\n</code></pre>\n\n<p>For that purpose I use the following code:</p>\n\n<pre><code>-(void) apiPostEnrollment:(NSDictionary*)enrollmentDicc withCompletion:(SingleResponseCompletionBlock)completionBlock\n{\n    _dbNodeRef = [[[FIRDatabase database] referenceWithPath:@\"enrolledUsers\"] childByAutoId];\n\n    [_dbNodeRef setValue:enrollmentDicc withCompletionBlock:^(NSError * _Nullable error, FIRDatabaseReference * _Nonnull ref){\n        completionBlock(ref,error);\n    }];\n}\n</code></pre>\n\n<p>My problem is that the Dictionary does not get saved in Firebase, and I don't even have the response from the callback function (which ideally would give me some clue of why my data is not being stored. I've also turned on the <a href=\"https://firebase.google.com/docs/analytics/debugview\" rel=\"nofollow noreferrer\">Firebase debug mode</a> with no luck either.</p>\n"}, {"tags": ["ios", "objective-c", "nsstring"], "comments": [{"owner": {"reputation": 438, "user_id": 8810022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bb06b61170efbb219c92e2636f812e?s=128&d=identicon&r=PG&f=1", "display_name": "Harjot Singh", "link": "https://stackoverflow.com/users/8810022/harjot-singh"}, "edited": false, "score": 2, "creation_date": 1540047298, "post_id": 52906456, "comment_id": 92724582, "body": "If your ultimate goal is to prevent crashing, please do checks for null values for JSON."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1540047569, "post_id": 52906456, "comment_id": 92724651, "body": "Does the API send such inconsistent data? \ud83d\ude09"}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 438, "user_id": 8810022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8bb06b61170efbb219c92e2636f812e?s=128&d=identicon&r=PG&f=1", "display_name": "Harjot Singh", "link": "https://stackoverflow.com/users/8810022/harjot-singh"}, "edited": false, "score": 0, "creation_date": 1540047583, "post_id": 52906456, "comment_id": 92724658, "body": "@HarjotSingh <code>isKindOfClass</code> is enough for checking null values"}, {"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1540051374, "post_id": 52906456, "comment_id": 92725825, "body": "@vadian. No, it&#39;s been consistent. However, after programming in swift, it seems best practice to never use the bang operator and make sure the object is what you expect."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1540051661, "post_id": 52906456, "comment_id": 92725908, "body": "Objective-C is not Swift. And even in Swift you can force unwrap if the data is consistent. <i>Never use the bang operator</i> is wrong. There is more than black and white."}], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1540049987, "post_id": 52906942, "comment_id": 92725391, "body": "Sorry, I changed the name because validateString makes more sense."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1540051425, "post_id": 52906942, "comment_id": 92725841, "body": "Added <code>nullable</code> attribute just in case you ever wanted to call this from Swift. :)"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1540051406, "last_edit_date": 1540051406, "creation_date": 1540047318, "answer_id": 52906942, "question_id": 52906456, "link": "https://stackoverflow.com/questions/52906456/ios-is-this-a-good-way-to-check-if-json-dictionary-object-is-an-nsstring/52906942#52906942", "title": "iOS: Is this a good way to check if JSON dictionary object is an NSString?", "body": "<p>It makes no sense, and is very bad practice, to cast <code>(NSString *)aString</code> and then ask if this is in fact an NSString. </p>\n\n<p>Also, what if it is nil?</p>\n\n<p>All you know when you fetch from a dictionary is that you get an <code>id</code>. Do not assume more than that. </p>\n\n<p>I would suggest writing very plainly: say what you mean, and mean what you say. That is the best practice in Objective-C. Otherwise, dynamic typing and \"nil trickery\" can lead you into subtle errors. You might not have any trouble in this particular case, but bad habits are bad habits, and it is best not to let them form in the first place. I'd rewrite like this:</p>\n\n<pre><code>+ (NSString *) checkType:(nullable id)obj defaultString:(NSString *)def {\n    if (obj == nil || ![obj isKindOfClass:[NSString class]]) {\n        return def;\n    }\n    return obj;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1540050143, "post_id": 52907145, "comment_id": 92725443, "body": "The link in your question doesn&#39;t say that <code>this leads to lots of errors</code>. He said <code>it&#39;s not an error</code>. I can call it like <b>an Objective-C feature</b>. <code>aString != nil</code> is useless in this case."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1540050167, "post_id": 52907145, "comment_id": 92725455, "body": "I still don&#39;t like your advising him to say <code>(NSObject*)aString</code>. First of all, <code>id</code> will do. Second, the name <code>aString</code> is assuming exactly what we don&#39;t know. I would advise something more like <code>(id) obj</code>."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 1, "creation_date": 1540050273, "post_id": 52907145, "comment_id": 92725485, "body": "@trungduc The OP asked about &quot;best practices&quot;. Opinions can differ. In my opinion, assuming the behavior of <code>nil</code> is bad practice, just like assuming the type of something without checking it when using dynamic typing. I&#39;ve certainly run into trouble when behaving that way. So I don&#39;t think you should advise the OP to use that sort of trickery, even if it is standard trickery."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540050596, "post_id": 52907145, "comment_id": 92725589, "body": "@matt So we should discuss about what is &quot;best practices&quot;.  With me, &quot;best practices&quot; is which everyone uses widely and effectively. If you said it&#39;s trickery, do you think he should have an <code>else statement</code> for <code>return defaultString;</code>?"}, {"owner": {"reputation": 972, "user_id": 2215652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb864c1c7ab014294994aa5159d96b36?s=128&d=identicon&r=PG", "display_name": "VitorMM", "link": "https://stackoverflow.com/users/2215652/vitormm"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540138413, "post_id": 52907145, "comment_id": 92744461, "body": "@matt Yeah, I guess your suggestion is pretty reasonable. In fact, I just used <code>aString</code> because it was already there. I will update my answer."}, {"owner": {"reputation": 972, "user_id": 2215652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb864c1c7ab014294994aa5159d96b36?s=128&d=identicon&r=PG", "display_name": "VitorMM", "link": "https://stackoverflow.com/users/2215652/vitormm"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1540139928, "post_id": 52907145, "comment_id": 92744950, "body": "@trungduc assuming <code>nil</code> behavior is as much a bad practice as taking use of the fact that <code>BOOL</code> is an 8 bit variable. It&#39;s part of the language, but someone might have to migrate your code in the future, and that someone may not be aware of the language peculiarities. You may not make a mistake, but you need to worry about other people using your code as well."}], "tags": [], "owner": {"reputation": 972, "user_id": 2215652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb864c1c7ab014294994aa5159d96b36?s=128&d=identicon&r=PG", "display_name": "VitorMM", "link": "https://stackoverflow.com/users/2215652/vitormm"}, "is_accepted": false, "score": 0, "last_activity_date": 1540138578, "last_edit_date": 1540138578, "creation_date": 1540048759, "answer_id": 52907145, "question_id": 52906456, "link": "https://stackoverflow.com/questions/52906456/ios-is-this-a-good-way-to-check-if-json-dictionary-object-is-an-nsstring/52907145#52907145", "title": "iOS: Is this a good way to check if JSON dictionary object is an NSString?", "body": "<p>Like mentioned in other comments: if you want to prevent crashes, you also need to check if it's <code>nil</code>, specially if there is a chance to port your code to Swift in the future.</p>\n\n<p>Just to clarify my last sentence, the line below works in Objective-C even if <code>aString</code> is <code>nil</code>:</p>\n\n<pre><code>if ([aString isKindOfClass:[NSString class]]) {\n</code></pre>\n\n<p>That's because, in the way Objective-C was made, calling a function on a <code>nil</code> object returns <code>nil</code>, so the <code>if</code> will be considered <code>false</code>, and the function will return <code>defaultString</code>. Yeah... that's certainly a bad idea when they created Objetive-C, since this leads to lots of errors. More details about that behaviour below:</p>\n\n<p><a href=\"https://stackoverflow.com/a/2696909\">https://stackoverflow.com/a/2696909</a></p>\n\n<p>Anyway, it's also a good practice to only cast an object after checking its type, so I would recommend adapting your function to this:</p>\n\n<pre><code>+ (NSString *)validateString:(id)obj defaultString:(NSString *)defaultString {\n    if (obj != nil &amp;&amp; [obj isKindOfClass:[NSString class]]) {\n        return (NSString*)obj;\n    }\n    return defaultString;\n}\n</code></pre>\n\n<p>Every object that implements <code>NSObject*</code> has <code>isKindOfClass:</code> (and <code>NSDictionary*</code> only stores objects that implement <code>NSObject*</code>), so we don't need to check if the object responds to it. Also, even if we wanted, <code>respondsToSelector:</code> is also an <code>NSObject*</code> function.</p>\n\n<p>Still, the method that you are using still works. The revised function above is just adapted to better practices and to avoid problems in case you ever need to port this code to Swift (or any other language) in the future.</p>\n\n<p>EDIT: Updated code based in @matt's suggestion.</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 52906942, "answer_count": 2, "score": 0, "last_activity_date": 1540138578, "creation_date": 1540043907, "last_edit_date": 1540049804, "question_id": 52906456, "link": "https://stackoverflow.com/questions/52906456/ios-is-this-a-good-way-to-check-if-json-dictionary-object-is-an-nsstring", "title": "iOS: Is this a good way to check if JSON dictionary object is an NSString?", "body": "<p>I want to check if a JSON object is an NSString and if it isn't, assign it a default string. My ultimate goal is to prevent crashing and assign the properties a proper value no matter what. This is an example of a data model I am using where <code>dict</code>  is the JSON dictionary the API returns.</p>\n\n<pre><code> Data *data = [[self alloc] init];\n data.name =  [NSString validateString:dict[@\"name\"] defaultString:@\"\"];\n data.status = [NSString validateString:dict[@\"status\"] defaultString:@\"OPEN\"];\n</code></pre>\n\n<p>Here is the category method <code>validateString</code> I am using.</p>\n\n<pre><code>+ (NSString *)validateString:(NSString *)aString defaultString:(NSString *)defaultString {\n    if ([aString isKindOfClass:[NSString class]]) {\n        return aString;\n    }\n    return defaultString;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "macos", "codesign", "osx-gatekeeper"], "answers": [{"comments": [{"owner": {"reputation": 3616, "user_id": 3196753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/28ruV.jpg?s=128&g=1", "display_name": "tresf", "link": "https://stackoverflow.com/users/3196753/tresf"}, "edited": false, "score": 1, "creation_date": 1540128819, "post_id": 52915661, "comment_id": 92741686, "body": "How does this fullfil the hardening requirements?"}, {"owner": {"reputation": 903, "user_id": 2624765, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KVT41.jpg?s=128&g=1", "display_name": "SuperBerry", "link": "https://stackoverflow.com/users/2624765/superberry"}, "reply_to_user": {"reputation": 3616, "user_id": 3196753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/28ruV.jpg?s=128&g=1", "display_name": "tresf", "link": "https://stackoverflow.com/users/3196753/tresf"}, "edited": false, "score": 5, "creation_date": 1540129108, "post_id": 52915661, "comment_id": 92741776, "body": "I think it would be &quot;--options runtime&quot;. Since I signed the command tool by this, it works."}, {"owner": {"reputation": 3616, "user_id": 3196753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/28ruV.jpg?s=128&g=1", "display_name": "tresf", "link": "https://stackoverflow.com/users/3196753/tresf"}, "edited": false, "score": 1, "creation_date": 1540129327, "post_id": 52915661, "comment_id": 92741818, "body": "Thanks for clarification.  Where did you find this information/parameter(s)?  I assume it will coincide with this? <a href=\"https://help.apple.com/xcode/mac/current/en.lproj/Art/ca_enablehardenedruntime.png\" rel=\"nofollow noreferrer\">help.apple.com/xcode/mac/current/en.lproj/Art/&hellip;</a>"}, {"owner": {"reputation": 903, "user_id": 2624765, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KVT41.jpg?s=128&g=1", "display_name": "SuperBerry", "link": "https://stackoverflow.com/users/2624765/superberry"}, "reply_to_user": {"reputation": 3616, "user_id": 3196753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/28ruV.jpg?s=128&g=1", "display_name": "tresf", "link": "https://stackoverflow.com/users/3196753/tresf"}, "edited": false, "score": 1, "creation_date": 1540129806, "post_id": 52915661, "comment_id": 92741954, "body": "@tresf <a href=\"https://forum.xojo.com/49408-10-14-hardened-runtime-and-app-notarization/0\" rel=\"nofollow noreferrer\">forum.xojo.com/&hellip;</a>"}, {"owner": {"reputation": 412, "user_id": 2301806, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/z1OTQ.jpg?s=128&g=1", "display_name": "Tushar", "link": "https://stackoverflow.com/users/2301806/tushar"}, "edited": false, "score": 0, "creation_date": 1582209436, "post_id": 52915661, "comment_id": 106705194, "body": "Adding &quot;--options runtime&quot; to codesign solved the problem. Thanks."}, {"owner": {"reputation": 1463, "user_id": 1097603, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/8e7a6d23b647288fcc8ecd2428d2ab22?s=128&d=identicon&r=PG", "display_name": "iamcrypticcoder", "link": "https://stackoverflow.com/users/1097603/iamcrypticcoder"}, "edited": false, "score": 0, "creation_date": 1584012125, "post_id": 52915661, "comment_id": 107308084, "body": "My app&#39;s mac executable developed via maven (java project). Then I used codesign command with <code>--option=runtime</code> for notarization. But if I sign with <code>--option=runtime</code>my app doesn&#39;t run.  Showing <code>The [APP_NAME] executable launcher was unable to locate its  companion shared library.</code>"}], "tags": [], "owner": {"reputation": 903, "user_id": 2624765, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KVT41.jpg?s=128&g=1", "display_name": "SuperBerry", "link": "https://stackoverflow.com/users/2624765/superberry"}, "is_accepted": true, "score": 19, "last_activity_date": 1540127541, "creation_date": 1540127541, "answer_id": 52915661, "question_id": 52905940, "link": "https://stackoverflow.com/questions/52905940/how-to-codesign-and-enable-the-hardened-runtime-for-a-3rd-party-cli-on-xcode/52915661#52915661", "title": "How to codesign and enable the hardened runtime for a 3rd-party CLI on Xcode?", "body": "<p>I found the solution finally. Sign the CLI this way:</p>\n\n<pre><code>codesign --force --options runtime --sign \"Developer ID Application: COMPANYNAME\" ./CLITool\n</code></pre>\n\n<p>Then I successfully archived the Application and uploaded to Apple to notarize.</p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 9829651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SPa4Z.jpg?s=128&g=1", "display_name": "Edgardo Rodr&#237;guez", "link": "https://stackoverflow.com/users/9829651/edgardo-rodr%c3%adguez"}, "is_accepted": false, "score": 1, "last_activity_date": 1617822880, "creation_date": 1617822880, "answer_id": 66992744, "question_id": 52905940, "link": "https://stackoverflow.com/questions/52905940/how-to-codesign-and-enable-the-hardened-runtime-for-a-3rd-party-cli-on-xcode/66992744#66992744", "title": "How to codesign and enable the hardened runtime for a 3rd-party CLI on Xcode?", "body": "<p>The enable hardened runtime is achieved via <code>--options runtime</code>.</p>\n<p>I found <a href=\"https://lessons.livecode.com/m/4071/l/1122100-codesigning-and-notarizing-your-lc-standalone-for-distribution-outside-the-mac-appstore\" rel=\"nofollow noreferrer\">this guide</a> to be very helpful with the notarization and code signing process for app distribution outside the mac store.</p>\n<p>I had an issue with my app crashing after enabling hardened runtime for it tho. This <a href=\"https://github.com/pyinstaller/pyinstaller/issues/4629#issuecomment-574375331\" rel=\"nofollow noreferrer\">comment</a> and this <a href=\"https://github.com/pyinstaller/pyinstaller/issues/4629#issuecomment-583785114\" rel=\"nofollow noreferrer\">other one</a> helped me with my issue at the time.</p>\n"}], "owner": {"reputation": 903, "user_id": 2624765, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KVT41.jpg?s=128&g=1", "display_name": "SuperBerry", "link": "https://stackoverflow.com/users/2624765/superberry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7670, "favorite_count": 6, "accepted_answer_id": 52915661, "answer_count": 2, "score": 8, "last_activity_date": 1617822880, "creation_date": 1540040488, "last_edit_date": 1540065831, "question_id": 52905940, "link": "https://stackoverflow.com/questions/52905940/how-to-codesign-and-enable-the-hardened-runtime-for-a-3rd-party-cli-on-xcode", "title": "How to codesign and enable the hardened runtime for a 3rd-party CLI on Xcode?", "body": "<p>My project needs the Ghostscript to do lots of tasks, so I have added the gs CLI tool into my project resource. However when I tried to notarize the project application, Xcode shows me this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5N7jc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5N7jc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I assume that might because the ghostscript portable CLI is a 3rd-party program from the internet and which doesn't have a codesign, also it has not been enabled the hardened runtime. On the latest MacOS Mojave I have to notarize applications to avoid the gatekeeper shows warnings during the user opens the DMG file. But it seems the notarizing is hard to pass if the application contains a 3rd-party CLI.</p>\n\n<p>Is there a solution for this?</p>\n"}, {"tags": ["objective-c", "api", "nsurlsession"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1540214814, "post_id": 52921587, "comment_id": 92770164, "body": "NSError __block *err = NULL;     NSData __block *data;     BOOL __block reqProcessed = false;     NSURLResponse __block *resp;      [[[NSURLSession sharedSession] dataTaskWithRequest:request completionHandler:^(NSData * _Nullable _data, NSURLResponse * _Nullable _response, NSError * _Nullable _error) {         resp = _response;         err = _error;         data = _data;              }]  Using it like that shouldn&#39;t tie the thread ?"}, {"owner": {"reputation": 9499, "user_id": 1564391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eafb9405cdf21e483492852ffc35d590?s=128&d=identicon&r=PG", "display_name": "dgatwood", "link": "https://stackoverflow.com/users/1564391/dgatwood"}, "reply_to_user": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1540243052, "post_id": 52921587, "comment_id": 92784928, "body": "What&#39;s tying up a thread is the while loop that repeatedly sleeps for zero time and then checks the value."}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1540362873, "post_id": 52921587, "comment_id": 92831349, "body": "Ok got it, for NSJSONSerialization, I could pass NSDictionary* json = [NSJSONSerialization JSONObjectWithData:data                                                               options:kNilOptions                                                                error:&amp;error];  , if the the data is nil I could avoid running the code. As it would pass nil as dict object? or you think @try block is better approach ?"}, {"owner": {"reputation": 9499, "user_id": 1564391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eafb9405cdf21e483492852ffc35d590?s=128&d=identicon&r=PG", "display_name": "dgatwood", "link": "https://stackoverflow.com/users/1564391/dgatwood"}, "reply_to_user": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1540412060, "post_id": 52921587, "comment_id": 92860971, "body": "Off the top of my head, I don&#39;t recall what NSJSONSerialization does when it gets corrupted or truncated data; it might throw then, too.  If so, an \\@try block would catch that case, whereas a nil check won&#39;t.  I tend to favor \\@try, but it&#39;s entirely up to you."}], "tags": [], "owner": {"reputation": 9499, "user_id": 1564391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eafb9405cdf21e483492852ffc35d590?s=128&d=identicon&r=PG", "display_name": "dgatwood", "link": "https://stackoverflow.com/users/1564391/dgatwood"}, "is_accepted": false, "score": 0, "last_activity_date": 1540174406, "creation_date": 1540174406, "answer_id": 52921587, "question_id": 52905878, "link": "https://stackoverflow.com/questions/52905878/error-handling-objective-c-during-no-response/52921587#52921587", "title": "Error Handling Objective C during no response", "body": "<p>A couple of general points:</p>\n\n<ul>\n<li>Don't do requests synchronously.  Pass in a block with code that should run when the request completes.  There's no reason to tie up a thread waiting for a completion handler to run, and it is even worse if that thread is basically continuously running as yours is.</li>\n<li>If you absolutely <em>must</em> do that (why?), at least use a semaphore and wait on the semaphore.  That way, you aren't burning a CPU core continuously while you wait.</li>\n</ul>\n\n<p>The way you avoid crashing is to sanity check the data you get back, e.g.</p>\n\n<ul>\n<li>Check the length of the data and make sure you didn't get nil/empty response data.</li>\n<li>Assuming the server sends a JSON response, wrap your NSJSONSerialization parsing in an @try block, and if it fails or throws an exception, handle the error in some useful way.</li>\n<li>Generally assume that all data is invalid until proven otherwise.  Check to make sure the data makes sense.</li>\n<li>If you're in charge of the server side, consider passing an API version as an argument, and as you modify things in the future, make sure that incompatible changes occur only when responding to clients that request a newer API version (or, alternatively, send a response that tells the client that it needs to be upgraded, and then refuse to provide data).</li>\n</ul>\n"}], "owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540174406, "creation_date": 1540040109, "question_id": 52905878, "link": "https://stackoverflow.com/questions/52905878/error-handling-objective-c-during-no-response", "title": "Error Handling Objective C during no response", "body": "<p>In my app I use following methods to POST/GET data from a remote server.</p>\n\n<pre><code>     postData = [self sendSynchronousRequest:request returningResponse:&amp;response error:&amp;error];\n\n    - (NSData *)sendSynchronousRequest:(NSURLRequest *)request returningResponse:(NSURLResponse **)response error:(NSError **)error\n{\n\n    NSError __block *err = NULL;\n    NSData __block *data;\n    BOOL __block reqProcessed = false;\n    NSURLResponse __block *resp;\n\n    [[[NSURLSession sharedSession] dataTaskWithRequest:request completionHandler:^(NSData * _Nullable _data, NSURLResponse * _Nullable _response, NSError * _Nullable _error) {\n        resp = _response;\n        err = _error;\n        data = _data;\n        reqProcessed = true;\n    }] resume];\n\n    while (!reqProcessed) {\n        [NSThread sleepForTimeInterval:0];\n    }\n\n*response = resp;\n*error = err;\nreturn data;\n</code></pre>\n\n<p>}</p>\n\n<p>I have basic error handling for no network connectivity, and app directs users to no network connectivity viewController. But I would like to account for situations when for instance server is down or data format of api has changed, Just wondering how would I catch such errors and prevent the app from crashing.</p>\n"}, {"tags": ["ios", "objective-c", "react-native"], "comments": [{"owner": {"reputation": 1404, "user_id": 167026, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/QWBKd.png?s=128&g=1", "display_name": "Sneha", "link": "https://stackoverflow.com/users/167026/sneha"}, "edited": false, "score": 0, "creation_date": 1553241718, "post_id": 52904892, "comment_id": 97318666, "body": "did you get solution for the problem ?"}], "owner": {"reputation": 11, "user_id": 4041223, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001010694326/picture?type=large", "display_name": "Callan", "link": "https://stackoverflow.com/users/4041223/callan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540032928, "creation_date": 1540032928, "question_id": 52904892, "link": "https://stackoverflow.com/questions/52904892/error-setting-uitextview-inputview-in-react-native-ios-native-component", "title": "Error setting UITextView inputView in React Native iOS Native Component", "body": "<p>I'm attempting to use a react native library which seems to be unmaintained to display a custom keyboard when a text input is clicked.</p>\n\n<p>The library works fine on Android but the iOS native code throws an error executing the function:</p>\n\n<pre><code>RCT_EXPORT_METHOD(install:(nonnull NSNumber *)reactTag withType:(nonnull NSString *)keyboardType)\n{\n  UIView* inputView = [[RCTRootView alloc] initWithBridge:((RCTCxxBridge *)_bridge).parentBridge moduleName:@\"CustomKeyboard\" initialProperties:\n    @{\n      @\"tag\": reactTag,\n      @\"type\": keyboardType\n    }\n  ];\n\n  UITextView *view = (UITextView*)[_bridge.uiManager viewForReactTag:reactTag];\n\n  view.inputView = inputView;\n  [view reloadInputViews];\n}\n</code></pre>\n\n<p>Debugging shows that both inputView and view are initialised and not null</p>\n\n<p>The iPhone simulator gives the error:</p>\n\n<pre><code>Exception '- [RCTSingleLineTextInputView setInputView:]: unrecognised selector sent to instance &lt;instance id&gt; was thrown while invoking install on target CustomKeyboard with params {1653, NumInput}\n</code></pre>\n\n<p>NumInput is the correct name for the keyboard I'm trying to install.</p>\n\n<p>What is it about inputView that is causing an issue when trying to set it as the inputView for the UITextView?</p>\n\n<p>My object c skills are poor so I apologise if the fix is obvious.</p>\n\n<p>React Native version 0.57.2</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "linker-errors"], "comments": [{"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540042806, "post_id": 52903791, "comment_id": 92723178, "body": "@matt why I get negative not understand! To the digital Question do have lot of multiple answers. not easy to navigate for correct one!"}], "answers": [{"comments": [{"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1540039063, "post_id": 52903922, "comment_id": 92722070, "body": "No its does not work!"}], "tags": [], "owner": {"reputation": 710, "user_id": 9287710, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MtOmhkaoyOo/AAAAAAAAAAI/AAAAAAAAAHg/ewygQv2eBvI/photo.jpg?sz=128", "display_name": "Mohsen Sedaghat Fard", "link": "https://stackoverflow.com/users/9287710/mohsen-sedaghat-fard"}, "is_accepted": false, "score": 2, "last_activity_date": 1540025066, "creation_date": 1540025066, "answer_id": 52903922, "question_id": 52903791, "link": "https://stackoverflow.com/questions/52903791/3531-duplicate-symbols-for-architecture-arm64/52903922#52903922", "title": "3531 Duplicate Symbols for architecture arm64", "body": "<p><strong>Modify the version of these :</strong></p>\n\n<pre><code>pod 'Fabric', '~&gt; 1.7.11'\npod 'Crashlytics', '~&gt; 3.10.7'\n</code></pre>\n\n<p>Be sure to have the version</p>\n"}, {"tags": [], "owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1540041929, "creation_date": 1540041929, "answer_id": 52906155, "question_id": 52903791, "link": "https://stackoverflow.com/questions/52903791/3531-duplicate-symbols-for-architecture-arm64/52906155#52906155", "title": "3531 Duplicate Symbols for architecture arm64", "body": "<p>Find out why its like this! </p>\n\n<p>I had another X-code 10 beta. When run with beta version got this error.\nThe same project try to open in X-Code 10. Then try to run the application in device bingo.  Its just worked.</p>\n"}], "owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "closed_date": 1540042574, "answer_count": 2, "score": -1, "last_activity_date": 1540041929, "creation_date": 1540023914, "question_id": 52903791, "link": "https://stackoverflow.com/questions/52903791/3531-duplicate-symbols-for-architecture-arm64", "closed_reason": "Duplicate", "title": "3531 Duplicate Symbols for architecture arm64", "body": "<p>App run successfully on simulator when connected device trying to run application, got following error.</p>\n\n<p><strong>ld: 3531 duplicate symbols for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)</strong></p>\n\n<p>Assuming duplicate framework added.</p>\n\n<p>Here is my pod file</p>\n\n<pre><code>pod 'Firebase/Core'\npod 'Firebase/AdMob'\npod 'Fabric'\npod 'Crashlytics'\npod 'SDWebImage', '~&gt;3.6'\npod 'FlexibleGauge', '~&gt; 0.1'\n</code></pre>\n\n<p>No more extra framework added in project.</p>\n\n<p>I have no clue why its happening like this.\nPlease let me know your inputs for the duplicate symbols error message.</p>\n"}, {"tags": ["objective-c", "swift", "uitableview", "row", "indexpath"], "comments": [{"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "edited": false, "score": 0, "creation_date": 1540011677, "post_id": 52902537, "comment_id": 92716656, "body": "I believe, something is wrong with this line.<code>ContactsViewController *viewController = [self.navigationController.storyboard instantiateViewControllerWithIdentifier:@&quot;the&quot;]; </code>. Why are you creating <code>ContactsViewController</code> again when it is already being shown? I think it should be <code>ExistingContactViewController</code>"}, {"owner": {"reputation": 11, "user_id": 10531690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93497db18311b9389ae8e157aa1f7003?s=128&d=identicon&r=PG&f=1", "display_name": "Micle84", "link": "https://stackoverflow.com/users/10531690/micle84"}, "reply_to_user": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "edited": false, "score": 0, "creation_date": 1540050564, "post_id": 52902537, "comment_id": 92725581, "body": "I just tried changing ContactsViewController to ExistingContactViewController with no success. The index path is still not being passed to the swift file. But the change still pushed the other view controller so it didn&#39;t do any damage either..."}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 2761304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c1f3b51d78c140d7a7c00cad7ef46b?s=128&d=identicon&r=PG&f=1", "display_name": "gulyashki", "link": "https://stackoverflow.com/users/2761304/gulyashki"}, "is_accepted": false, "score": 0, "last_activity_date": 1540235988, "creation_date": 1540235988, "answer_id": 52936378, "question_id": 52902537, "link": "https://stackoverflow.com/questions/52902537/not-able-to-obtain-correct-indexpath-row-value-from-objective-c-file-in-swift-fi/52936378#52936378", "title": "Not able to obtain correct indexPath.row value from objective C file in Swift file", "body": "<p>Seems that in your <code>didSelectRowAtIndexPath:</code> you are pushing a <code>ContactsViewController</code> to the navigation stack and if I understand correctly it should be instance of <code>ExistingContactViewController</code>. Also you should set the <code>contactsObject</code> property of the <code>ExistingContactViewController</code> before pushing it in the navigation stack (before <code>viewDidLoad</code> is executed) otherwise it's value will always be a new  <code>ContactsViewController</code> which, probably, is causing the issue.\nI hope this helps!</p>\n"}], "owner": {"reputation": 11, "user_id": 10531690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93497db18311b9389ae8e157aa1f7003?s=128&d=identicon&r=PG&f=1", "display_name": "Micle84", "link": "https://stackoverflow.com/users/10531690/micle84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1540235988, "creation_date": 1540010984, "last_edit_date": 1592644375, "question_id": 52902537, "link": "https://stackoverflow.com/questions/52902537/not-able-to-obtain-correct-indexpath-row-value-from-objective-c-file-in-swift-fi", "title": "Not able to obtain correct indexPath.row value from objective C file in Swift file", "body": "<p>File: ContactsViewController.m</p>\n<p>In this file I am using the didSelectRowAtIndexPath method to push a new View Controller to show information about the name that was pressed on the Table View Controller. The View Controller that will be displaying the information about the name is being implemented in Swift. The part that I am referring to in this code is in the didSelectRowAtIndexPath method, line:</p>\n<pre><code>_myIndex = indexPath.row;\n</code></pre>\n<p>I believe indexPath.row should return the index of the name that was tapped in the Table View Controller.</p>\n<pre><code>#import &quot;ContactsViewController.h&quot;\n#import &quot;Contacts-Swift.h&quot;\n\n@interface ContactsViewController ()\n\n@property (nonatomic, readwrite, strong) NSMutableArray* contacts;\n\n@property (nonatomic, readwrite) NSInteger myIndex;\n\n@end\n\n@implementation ContactsViewController\n\n\n\n-(id)initWithCoder:(NSCoder *)aDecoder {\n    self = [super initWithCoder:aDecoder];\n    if (self) {\n        /*NSArray *contactArray = @[@&quot;Johnny Appleseed&quot;, @&quot;Paul Bunyan&quot;, @&quot;Calamity Jane&quot;];\n        _contacts = [NSMutableArray arrayWithArray:contactArray];*/\n        /*Contact *c1 = [[Contact alloc] initWithName: @&quot;Johnny&quot;];\n        Contact *c2 = [[Contact alloc] initWithName: @&quot;Paul Bunyan&quot;];\n        Contact *c3 = [[Contact alloc] initWithName: @&quot;Calamity Jane&quot;];*/\n       // _contacts = [NSMutableArray arrayWithArray: @[c1, c2, c3]];\n        self.contacts = [NSMutableArray array];\n    }\n    return self;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n    [self.tableView registerClass: [UITableViewCell class]\n           forCellReuseIdentifier:@&quot;UITableViewCell&quot;];\n}\n\n- (NSInteger)tableView:(UITableView *)tableView\nnumberOfRowsInSection:(NSInteger)section\n{\n    return self.contacts.count;\n}\n\n-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@&quot;UITableViewCell&quot; forIndexPath:indexPath];\n    Contact *contact = self.contacts[indexPath.row];\n    cell.textLabel.text = contact.name;\n    return cell;\n}\n\n-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    ContactsViewController *viewController = [self.navigationController.storyboard instantiateViewControllerWithIdentifier:@&quot;the&quot;];\n    [self.navigationController pushViewController:viewController animated:YES];\n    _myIndex = indexPath.row;\n}\n</code></pre>\n<p>File: ContactsViewController.h</p>\n<p>This is the header file that I am using in order to have access to the objective C methods and variables when working in the swift file. (I am not very familiar with objective C so there is a strong possibility that this implementation is what is causing my problems).</p>\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface ContactsViewController : UITableViewController &lt;UITableViewDelegate&gt;\n\n@property (nonatomic, readonly) NSInteger myIndex;\n\n@property (nonatomic, readonly, strong) NSMutableArray* contacts;\n\n@end\n</code></pre>\n<p>File: ExistingContactViewController.swift</p>\n<p>In the ExistingContactViewController I am just trying to set the firstName label equal to the text that is present in the contacts array at indexPath.row (in the ContactsViewController.m file).</p>\n<pre><code>import UIKit\n\n@objc class ExistingContactViewController: UIViewController {\n\n    var contactsObject = ContactsViewController()\n    @IBOutlet weak var firstName: UILabel!\n    @IBOutlet weak var lastName: UILabel!\n    \n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        print(&quot;\\(contactsObject.myIndex)&quot;)\n        firstName.text = contactsObject.contacts[contactsObject.myIndex] as? String\n    }\n</code></pre>\n<p>When clicking names that are added to the Table View Controller the only index that is ever printed</p>\n<pre><code>print(&quot;\\(contactsObject.myIndex)&quot;)\n</code></pre>\n<p>is 0. Which tells me that I am not capturing the index of the name that is tapped.</p>\n<p><a href=\"https://i.stack.imgur.com/cnQ3P.png\" rel=\"nofollow noreferrer\">Image of myStoryboard</a> The bottom most scene is the one that I am trying to change the First Name label to display the name of the cell that was tapped.</p>\n<p>I have not yet been able change the title of this label when clicking on a cell. I have been able to implement this functionality when using just swift files (through watching numerous videos). I am sure that there is a key concept I am missing in the objective C files so any suggestions and/or pointers are much appreciated. If any additional details are needed let me know!</p>\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "cashapelayer"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539989906, "post_id": 52900876, "comment_id": 92713864, "body": "It\u2019s easy. Add a transform to rotate the shape layer."}], "answers": [{"tags": [], "owner": {"reputation": 481, "user_id": 3557350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c496a97273f90746092a497425f79e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Nguyen", "link": "https://stackoverflow.com/users/3557350/tony-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1539991811, "creation_date": 1539991811, "answer_id": 52901073, "question_id": 52900876, "link": "https://stackoverflow.com/questions/52900876/change-cashapelayer-stroke-position/52901073#52901073", "title": "Change CAShapeLayer stroke position", "body": "<p>You can create a path by using a general arc path: (Swift 4.2)</p>\n\n<pre><code>UIBezierPath(arcCenter: view.center, radius: view.frame.width / 2, startAngle: -CGFloat.pi / 2.0, endAngle: CGFloat.pi / 2.0, clockwise: true)\n</code></pre>\n\n<p>Set your shape's path by this path.</p>\n"}], "owner": {"reputation": 935, "user_id": 3983419, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/ewYUS.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3983419/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539991811, "creation_date": 1539989795, "question_id": 52900876, "link": "https://stackoverflow.com/questions/52900876/change-cashapelayer-stroke-position", "title": "Change CAShapeLayer stroke position", "body": "<p>I have a collectionviewcell <code>cell</code> and I am adding a <code>CAShapeLayer</code> to give my <code>frontImageView</code> a half border. The code I have now successfully creates a half border but not where I want it. Setting <code>stokeEnd=0.5</code> creates a half border on the bottom of my imageView. I would like the border to be on the right side of the imageView. From the top center to bottom center (right side).</p>\n\n<p>Can I draw the stroke line from the top center of my imageView to the bottom center, along the right side?</p>\n\n<pre><code>CAShapeLayer *shape = [CAShapeLayer layer];\nUIBezierPath *path=[UIBezierPath bezierPathWithOvalInRect:cell.frontImageView.frame];\n[shape setPath:path.CGPath];\n\nshape.strokeColor=[UIColor purpleColor].CGColor;\nshape.fillColor=[UIColor clearColor].CGColor;\nshape.lineWidth = 5.0f;\nshape.lineCap = kCALineCapRound;\n[shape setStrokeEnd:0.5];\n[cell.layer addSublayer:shape];\n</code></pre>\n"}, {"tags": ["html", "objective-c", "xcode", "uitextview", "nsattributedstring"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1540200390, "post_id": 52897785, "comment_id": 92761576, "body": "Previously (but can&#39;t find it now) it was stated that <code>NSCharacterEncodingDocumentAttribute</code>accepted only UTF8 encoding, it might be linked."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5668781, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156278859090371/picture?type=large", "display_name": "SJDenny", "link": "https://stackoverflow.com/users/5668781/sjdenny"}, "edited": false, "score": 0, "creation_date": 1540204923, "post_id": 52898432, "comment_id": 92764158, "body": "Thanks for your reply. I&#39;ve amended the options as per your suggestion and it&#39;s still not working. I&#39;ve tried exactly the same in a third app and it also seems fine so I am at a loss why it doesn&#39;t work in the intended project yet it works in all the other projects I have tried in. Do you know if there is anything I may be missing?"}, {"owner": {"reputation": 33, "user_id": 5668781, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156278859090371/picture?type=large", "display_name": "SJDenny", "link": "https://stackoverflow.com/users/5668781/sjdenny"}, "edited": false, "score": 0, "creation_date": 1540227364, "post_id": 52898432, "comment_id": 92777667, "body": "I&#39;ve done some more research into this and it seems to be a library that I use - DTCoreText - even though I don&#39;t call anything to do with this library it seems to be still intercepting and causing this issue.   I will update this if I find a fix."}], "tags": [], "owner": {"reputation": 9247, "user_id": 1244597, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d927eef460680a02a1d551e390f80ee?s=128&d=identicon&r=PG&f=1", "display_name": "AamirR", "link": "https://stackoverflow.com/users/1244597/aamirr"}, "is_accepted": false, "score": 0, "last_activity_date": 1539976059, "last_edit_date": 1539976059, "creation_date": 1539975496, "answer_id": 52898432, "question_id": 52897785, "link": "https://stackoverflow.com/questions/52897785/uitextview-nsatstypesetter-0x2819a9ec0-exception/52898432#52898432", "title": "UITextView &lt;NSATSTypesetter: 0x2819a9ec0&gt;: Exception", "body": "<p>Your HTML seems to be fine, i can turn it into <code>NSAttributedString</code> with no issue, I am using <code>NSUTF8StringEncoding</code> which works fine in most of the cases:</p>\n\n<pre><code>NSString *html = @\"&lt;table style=\\\"width:100%\\\"&gt; &lt;tr&gt; &lt;th&gt;Firstname&lt;/th&gt; &lt;th&gt;Lastname&lt;/th&gt; &lt;th&gt;Age&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Jill&lt;/td&gt; &lt;td&gt;Smith&lt;/td&gt; &lt;td&gt;50&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt;\";\n\nNSData *data = [html dataUsingEncoding:NSUTF8StringEncoding];\n\ntextView.attributedText = [[NSAttributedString alloc] initWithData: data\n                                                  options:@{NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType,NSCharacterEncodingDocumentAttribute: @(NSUTF8StringEncoding)}\n                                       documentAttributes:nil error:nil];\n</code></pre>\n\n<p>Also tested successfully in a Swift playground.</p>\n\n<p>Here is the result</p>\n\n<p><a href=\"https://i.stack.imgur.com/zxIRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zxIRr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Swift playground below:</p>\n\n<pre><code>import UIKit\nimport PlaygroundSupport\n\nextension NSAttributedString {\n\n    convenience init(html: String) throws {\n        let options: [NSAttributedString.DocumentReadingOptionKey : Any] = [\n            .documentType: NSAttributedString.DocumentType.html,\n            .characterEncoding: String.Encoding.utf8.rawValue\n        ]\n        let data = html.data(using: .utf8, allowLossyConversion: true)\n        try self.init(data: data ?? Data(html.utf8), options: options, documentAttributes: nil)\n    }\n\n}\n\nlet textView = UITextView(frame: CGRect(x: 0, y: 0, width: 320, height: 500))\ntextView.attributedText = try? NSAttributedString(html: \"&lt;table style=\\\"width:100%\\\"&gt; &lt;tr&gt; &lt;th&gt;Firstname&lt;/th&gt; &lt;th&gt;Lastname&lt;/th&gt; &lt;th&gt;Age&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Jill&lt;/td&gt; &lt;td&gt;Smith&lt;/td&gt; &lt;td&gt;50&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt;\")\n\nPlaygroundPage.current.liveView = textView\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5668781, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156278859090371/picture?type=large", "display_name": "SJDenny", "link": "https://stackoverflow.com/users/5668781/sjdenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539976059, "creation_date": 1539972252, "question_id": 52897785, "link": "https://stackoverflow.com/questions/52897785/uitextview-nsatstypesetter-0x2819a9ec0-exception", "title": "UITextView &lt;NSATSTypesetter: 0x2819a9ec0&gt;: Exception", "body": "<p>I'm having an issue with setting HTML attributed text in a UITextView.</p>\n\n<p>Basically I am testing with a very simple html text which works in one project but not in a newer project. The HTML string is as below:</p>\n\n<pre><code>&lt;table style=\\\"width:100%\\\"&gt; &lt;tr&gt; &lt;th&gt;Firstname&lt;/th&gt; &lt;th&gt;Lastname&lt;/th&gt; &lt;th&gt;Age&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Jill&lt;/td&gt; &lt;td&gt;Smith&lt;/td&gt; &lt;td&gt;50&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt;\n</code></pre>\n\n<p>I set this string to the attributedText value as follows:</p>\n\n<pre><code>textView.attributedText =\n[[NSAttributedString alloc]\n initWithData: [html dataUsingEncoding:NSUTF16StringEncoding]\n options: @{ NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType }\n documentAttributes: nil\n error: &amp;err];\n</code></pre>\n\n<p>On one project this displays perfectly as I'd expect whereas on a new project I just get a blank TextView with the following error:</p>\n\n<pre><code>    &lt;NSATSTypesetter: 0x2819a9ec0&gt;: Exception *** -[NSConcreteTextStorage attribute:atIndex:effectiveRange:]: Range or index out of bounds raised during typesetting layout manager &lt;NSLayoutManager: 0x2810a1000&gt;\n    1 containers, text backing has 38 characters\n    Currently holding 38 glyphs.\n    Glyph tree contents:  38 characters, 38 glyphs, 3 nodes, 192 node bytes, 128 storage bytes, 320 total bytes, 8.42 bytes per character, 8.42 bytes per glyph\n    Layout tree contents:  38 characters, 38 glyphs, 1 laid glyphs, 1 laid line fragments, 3 nodes, 192 node bytes, 1712 storage bytes, 1904 total bytes, 50.11 bytes per character, 50.11 bytes per glyph, 1.00 laid glyphs per laid line fragment, 1904.00 bytes per laid line fragment\n, glyph range {0 9}. Ignoring...\n</code></pre>\n\n<p>If anybody has ideas why this may be happening it would be much appreciated as I am at a loss with this now as I can't see any difference in setup between the two projects.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "avfoundation", "core-audio"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539970475, "post_id": 52897067, "comment_id": 92707026, "body": "Since you yourself made the graph, how can you not know what it is?"}, {"owner": {"reputation": 407, "user_id": 2946782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTg7q.jpg?s=128&g=1", "display_name": "Enrico Cupellini", "link": "https://stackoverflow.com/users/2946782/enrico-cupellini"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539971828, "post_id": 52897067, "comment_id": 92707631, "body": "Yes I can find a workaround and save a temporary variable with the nodes I need to initialize once the engine is running. I was looking for a more straightforward way, to manage the complexity of my audioUnits host. It seems to me strange there is not a property / method exposed by AVAudioEngine or AVAudioNode to get the connected objects. After all the log has all the information I need, it would be enough to get the AudioComponentDescription"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540038305, "post_id": 52897067, "comment_id": 92721879, "body": "If you have a good use case, file an enhancement request with Apple."}, {"owner": {"reputation": 407, "user_id": 2946782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTg7q.jpg?s=128&g=1", "display_name": "Enrico Cupellini", "link": "https://stackoverflow.com/users/2946782/enrico-cupellini"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540063594, "post_id": 52897067, "comment_id": 92729316, "body": "thank you @matt I addressed the problem in a different way. I guess what I needed is possible by using AUGraph instead of AVAudioEngine but it required the complete refactoring of my audio objects, and of course much more pain :)"}, {"owner": {"reputation": 407, "user_id": 2946782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTg7q.jpg?s=128&g=1", "display_name": "Enrico Cupellini", "link": "https://stackoverflow.com/users/2946782/enrico-cupellini"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540064315, "post_id": 52897067, "comment_id": 92729547, "body": "I think to trash this question to allow a better search on stackoverflow"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1540069489, "post_id": 52897067, "comment_id": 92731030, "body": "You should answer your own question and give your solution! Perfectly legal on SO."}], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 2946782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTg7q.jpg?s=128&g=1", "display_name": "Enrico Cupellini", "link": "https://stackoverflow.com/users/2946782/enrico-cupellini"}, "is_accepted": true, "score": 0, "last_activity_date": 1540636084, "last_edit_date": 1540636084, "creation_date": 1540635707, "answer_id": 53020907, "question_id": 52897067, "link": "https://stackoverflow.com/questions/52897067/get-avaudioenginegraph-programmatically/53020907#53020907", "title": "Get AVAudioEngineGraph programmatically", "body": "<p>In order to manage custom initializations I created audioUnit wrappers for each category (or specific) audioUnits I am going to load. These wrappers are provided by a factory and referenced by a business object of my app.</p>\n\n<p>The wrapper I mainly worked on up to now, is the so called AUMIDISynth</p>\n\n<pre><code>componentType = kAudioUnitType_MusicDevice;\ncomponentSubType = kAudioUnitSubType_MIDISynth;\ncomponentManufacturer = kAudioUnitManufacturer_Apple;\n</code></pre>\n\n<p>which allows to load and play different patches from a soundBank file at the same time.</p>\n\n<p>The subclass wrapper for AUMIDISynth exposes a method called</p>\n\n<pre><code>-(NSError*)loadProgramChange:(uint8_t)programChange channel:(uint8_t)channel;\n</code></pre>\n\n<p>Other objects (SynthPlayers) observe the notifications sent from the AudioEngine start, and respond to this notification by calling the above method to their own audioUnit wrapper implemented as follows</p>\n\n<pre><code>-(NSError*)loadProgramChange:(uint8_t)programChange channel:(uint8_t)channel{  \n    NSError *error;\n    if (!self.audioUnit.engine || !self.audioUnit.engine.isRunning) {\n        error = [NSError errorWithDomain:NSURLErrorDomain code:-1 userInfo:nil];\n    }\n    uint32_t enabled = 1;\n    OSStatus status = AudioUnitSetProperty(\n                                           self.audioUnit.audioUnit,\n                                           kAUMIDISynthProperty_EnablePreload,\n                                           kAudioUnitScope_Global,\n                                           0,\n                                           &amp;enabled,\n                                           sizeof(enabled));\n    if (status != noErr) {\n        NSLog(@\"error %d\",status);\n        error = [NSError errorWithDomain:NSURLErrorDomain code:-1 userInfo:nil];\n    }\n    uint8_t pcCommand = 0xC0 | channel;\n    status = MusicDeviceMIDIEvent(self.audioUnit.audioUnit, pcCommand, programChange, 0, 0);\n    if (status != noErr) {\n        NSLog(@\"error %d\",status);\n        error = [NSError errorWithDomain:NSURLErrorDomain code:-1 userInfo:nil];\n    }\n\n    enabled = 0;\n    status = AudioUnitSetProperty(\n                                  self.audioUnit.audioUnit,\n                                  kAUMIDISynthProperty_EnablePreload,\n                                  kAudioUnitScope_Global,\n                                  0,\n                                  &amp;enabled,\n                                  sizeof(enabled));\n    if (status != noErr) {\n        NSLog(@\"error %d\",status);\n        error = [NSError errorWithDomain:NSURLErrorDomain code:-1 userInfo:nil];\n    }\n    return error;\n}\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 2946782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTg7q.jpg?s=128&g=1", "display_name": "Enrico Cupellini", "link": "https://stackoverflow.com/users/2946782/enrico-cupellini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 53020907, "answer_count": 1, "score": 0, "last_activity_date": 1540636084, "creation_date": 1539969181, "question_id": 52897067, "link": "https://stackoverflow.com/questions/52897067/get-avaudioenginegraph-programmatically", "title": "Get AVAudioEngineGraph programmatically", "body": "<p>In my app I created an AVAudioEngine and attached AVAudioNodes on it.</p>\n\n<ul>\n<li>Is it possible to get the attached nodes programmatically? </li>\n<li>Is it possible to get the nodes connected to a given AVAudioNode?</li>\n</ul>\n\n<p>When I log the engine's description I can see all the AVAudioEngineGraph, but I cannot find the way to get this information programmatically, can someone give me a solution?</p>\n\n<pre><code>(lldb) po _engine\n\n________ GraphDescription ________\nAVAudioEngineGraph 0x7fb04541ac60: initialized = 1, running = 1, number of nodes = 4\n\n ******** output chain ********\n\n node 0x600002448c00 {'auou' 'rioc' 'appl'}, 'I'\n     inputs = 1\n         (bus0, en1) &lt;- (bus0) 0x60000244cd00, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n node 0x60000244cd00 {'aumx' 'mcmx' 'appl'}, 'I'\n     inputs = 1\n         (bus0, en1) &lt;- (bus0) 0x600002473680, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n     outputs = 1\n         (bus0, en1) -&gt; (bus0) 0x600002448c00, {'auou' 'rioc' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n node 0x600002473680 {'aumx' 'mcmx' 'appl'}, 'I'\n     inputs = 1\n         (bus0, en1) &lt;- (bus1) 0x600002462580, {'auou' 'rioc' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n     outputs = 1\n         (bus0, en1) -&gt; (bus0) 0x60000244cd00, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n node 0x600002462580 {'auou' 'rioc' 'appl'}, 'I'\n     outputs = 2\n         (bus0, en0) -&gt; (bus0) 0x0, {}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n         (bus1, en1) -&gt; (bus0) 0x600002473680, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n ******** input chain ********\n\n node 0x600002462580 {'auou' 'rioc' 'appl'}, 'I'\n     outputs = 2\n         (bus0, en0) -&gt; (bus0) 0x0, {}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n         (bus1, en1) -&gt; (bus0) 0x600002473680, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n node 0x600002473680 {'aumx' 'mcmx' 'appl'}, 'I'\n     inputs = 1\n         (bus0, en1) &lt;- (bus1) 0x600002462580, {'auou' 'rioc' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n     outputs = 1\n         (bus0, en1) -&gt; (bus0) 0x60000244cd00, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n node 0x60000244cd00 {'aumx' 'mcmx' 'appl'}, 'I'\n     inputs = 1\n         (bus0, en1) &lt;- (bus0) 0x600002473680, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n     outputs = 1\n         (bus0, en1) -&gt; (bus0) 0x600002448c00, {'auou' 'rioc' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n\n node 0x600002448c00 {'auou' 'rioc' 'appl'}, 'I'\n     inputs = 1\n         (bus0, en1) &lt;- (bus0) 0x60000244cd00, {'aumx' 'mcmx' 'appl'}, [ 2 ch,  44100 Hz, 'lpcm' (0x00000029) 32-bit little-endian float, deinterleaved]\n</code></pre>\n\n<hr>\n"}, {"tags": ["ios", "objective-c", "nsurl"], "answers": [{"comments": [{"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539972124, "post_id": 52897033, "comment_id": 92707790, "body": "Thanks this did the job.  If you thing this was a reasonable question, please upvote.  For some reason, someone is downvoting every question I post."}, {"owner": {"reputation": 3092, "user_id": 6330448, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MeC1c.png?s=128&g=1", "display_name": "tryKuldeepTanwar", "link": "https://stackoverflow.com/users/6330448/trykuldeeptanwar"}, "edited": false, "score": 0, "creation_date": 1540009672, "post_id": 52897033, "comment_id": 92716397, "body": "great to know that!"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 5, "last_activity_date": 1539968978, "creation_date": 1539968978, "answer_id": 52897033, "question_id": 52896920, "link": "https://stackoverflow.com/questions/52896920/2018-way-to-add-a-querystring-to-an-nsurl-in-objective-c/52897033#52897033", "title": "2018 way to add a querystring to an NSURL in Objective-C", "body": "<p>A modern way is <code>NSURLComponents</code> and <code>NSURLQueryItem</code>, it even applies percent encoding if needed.</p>\n\n<pre><code>NSURLComponents *components = [NSURLComponents componentsWithString: @\"https://api.openweathermap.org/data/2.5/weather\"];\nNSArray&lt;NSURLQueryItem *&gt; *queryItems = @[[NSURLQueryItem queryItemWithName:@\"units\" value:@\"imperial\"],\n                                          [NSURLQueryItem queryItemWithName:@\"APPID\" value:@\"xxxxxxx\"],\n                                          [NSURLQueryItem queryItemWithName:@\"lat\" value:@\"35\"],\n                                          [NSURLQueryItem queryItemWithName:@\"lon\" value:@\"139\"]];\ncomponents.queryItems = queryItems;\nNSURL *dataUrl = components.URL;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1539968979, "creation_date": 1539968979, "answer_id": 52897034, "question_id": 52896920, "link": "https://stackoverflow.com/questions/52896920/2018-way-to-add-a-querystring-to-an-nsurl-in-objective-c/52897034#52897034", "title": "2018 way to add a querystring to an NSURL in Objective-C", "body": "<p>The correct way to form any kind of NSURL is to use NSURLComponents. Manipulating a string directly is always wrong.</p>\n"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 52897033, "answer_count": 2, "score": 0, "last_activity_date": 1539968979, "creation_date": 1539968450, "question_id": 52896920, "link": "https://stackoverflow.com/questions/52896920/2018-way-to-add-a-querystring-to-an-nsurl-in-objective-c", "title": "2018 way to add a querystring to an NSURL in Objective-C", "body": "<p>The best way to add a querystring to an NSURL seems to have changed over the years.  Here is one from <a href=\"https://stackoverflow.com/questions/6309698/objective-c-how-to-add-query-parameter-to-nsurl\">2009</a> and here they are from <a href=\"https://stackoverflow.com/questions/6309698/objective-c-how-to-add-query-parameter-to-nsurl\">2014</a>. All of the approaches seem rather heavy for such a seemingly simple task.</p>\n\n<p>The following code is not working for me:</p>\n\n<pre><code>#define kWeatherStemURL [NSURL URLWithString: @\"https://api.openweathermap.org/data/2.5/weather?units=imperial&amp;APPID=xxxxxxx\"];\nNSURL* startingUrl = kWeatherStemURL;\nNSString *querystring = @\"&amp;lat=35&amp;lon=139\";\nNSURL *dataUrl = [NSURL URLWithString:[startingUrl.path stringByAppendingString:querystring]];\n</code></pre>\n\n<p>What is the best way to do it today?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 6423, "user_id": 110315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdceba5404ea259ccb28e261f3e22c0?s=128&d=identicon&r=PG", "display_name": "raidfive", "link": "https://stackoverflow.com/users/110315/raidfive"}, "edited": false, "score": 0, "creation_date": 1539965001, "post_id": 52895608, "comment_id": 92704689, "body": "Do you have multiple plist files in your project? Which one are you editing?"}, {"owner": {"reputation": 29, "user_id": 480911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db3b5b031eeef8bac0a6413d6fd6a1e?s=128&d=identicon&r=PG", "display_name": "new2code", "link": "https://stackoverflow.com/users/480911/new2code"}, "reply_to_user": {"reputation": 6423, "user_id": 110315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdceba5404ea259ccb28e261f3e22c0?s=128&d=identicon&r=PG", "display_name": "raidfive", "link": "https://stackoverflow.com/users/110315/raidfive"}, "edited": false, "score": 0, "creation_date": 1540135591, "post_id": 52895608, "comment_id": 92743628, "body": "There are actually 3 plist files.  One in the main directory, one in the Tests directory, and one in the UITests directory.  I was unintentionally editing the one in the Tests directory."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 480911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db3b5b031eeef8bac0a6413d6fd6a1e?s=128&d=identicon&r=PG", "display_name": "new2code", "link": "https://stackoverflow.com/users/480911/new2code"}, "edited": false, "score": 0, "creation_date": 1539965680, "post_id": 52896007, "comment_id": 92705013, "body": "Turns out I was editing the Info.plist that belongs to the tests.  If it was a snake it would have bit me.  Thanks"}], "tags": [], "owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "is_accepted": true, "score": 1, "last_activity_date": 1539964629, "creation_date": 1539964629, "answer_id": 52896007, "question_id": 52895608, "link": "https://stackoverflow.com/questions/52895608/ios-11-location-services-authorization-fails-even-though-keys-exist/52896007#52896007", "title": "IOS 11+ Location Services Authorization fails even though keys exist", "body": "<p>Check to make sure you've edited the correct Info.plist - the one truly used by your app.  Is it the one pointed to in your build settings for that app target?</p>\n"}], "owner": {"reputation": 29, "user_id": 480911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db3b5b031eeef8bac0a6413d6fd6a1e?s=128&d=identicon&r=PG", "display_name": "new2code", "link": "https://stackoverflow.com/users/480911/new2code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52896007, "answer_count": 1, "score": 0, "last_activity_date": 1539964629, "creation_date": 1539963138, "question_id": 52895608, "link": "https://stackoverflow.com/questions/52895608/ios-11-location-services-authorization-fails-even-though-keys-exist", "title": "IOS 11+ Location Services Authorization fails even though keys exist", "body": "<p>How do I get location services to work on iPhone with IOS 12 installed and the target build set to 11?  I am working on a prototype since I remember location services being a bit of a hassle.  I have the following code:</p>\n\n<pre><code>-(id) init {\nif (self = [super init]) {\n    manager = [[CLLocationManager alloc] init];\n    [manager setDelegate:self];\n    [manager setDesiredAccuracy:kCLLocationAccuracyNearestTenMeters];\n    [manager setDistanceFilter:50];\n    [manager requestWhenInUseAuthorization];\n    switch ([CLLocationManager authorizationStatus]) {\n        case kCLAuthorizationStatusNotDetermined:\n            [self presentAlertForLocationServices];\n            break;\n        case kCLAuthorizationStatusRestricted:\n            NSLog(@\"Location restricted\");\n            break;\n        case kCLAuthorizationStatusDenied:\n            NSLog(@\"Location Denied\");\n            break;\n        case kCLAuthorizationStatusAuthorizedAlways:\n            [manager startUpdatingLocation];\n            NSLog(@\"Updating locations...\");\n            break;\n        case kCLAuthorizationStatusAuthorizedWhenInUse:\n            [manager startUpdatingLocation];\n            NSLog(@\"Updating locations...\");\n            break;\n    }\n}\nreturn self;\n</code></pre>\n\n<p>I have the following keys:</p>\n\n<pre><code>&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;$(PRODUCT_NAME) always uses location &lt;/string&gt;\n\n&lt;key&gt;NSLocationAlwaysAndWhenInUseUsageDescription&lt;/key&gt;\n&lt;string&gt;$(PRODUCT_NAME) needs location in order to find nearby points of interest&lt;/string&gt;\n</code></pre>\n\n<p>However, I get the following error when running the application:<code>This app has attempted to access privacy-sensitive data without a usage description. The app's Info.plist must contain an \u201cNSLocationWhenInUseUsageDescription\u201d key with a string value explaining to the user how the app uses this data</code>.</p>\n\n<p>I have tried the 3 different keys (NSLocationWhenInUseUsageDescription, NSLocationAlwaysAndWhenInUseUsageDescription, NSLocationAlwaysInUseUsageDescription) in various combinations along with the 2 different authorization requests with no luck.  I'm using XCode 10.0 (10A255).  Any guidance would be appreciated.  I did find that Apple had an issue with keys not working properly, but it was over a year ago and I am sure the matter was resolved although I do not know the answer for it.</p>\n"}, {"tags": ["objective-c", "xcode", "instagram", "instagram-api"], "answers": [{"tags": [], "owner": {"reputation": 520, "user_id": 9313289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VifGe.jpg?s=128&g=1", "display_name": "adrgrondin", "link": "https://stackoverflow.com/users/9313289/adrgrondin"}, "is_accepted": true, "score": 1, "last_activity_date": 1540221441, "creation_date": 1540221441, "answer_id": 52932677, "question_id": 52892907, "link": "https://stackoverflow.com/questions/52892907/instagram-story-share-cant-get-through-login-page/52932677#52932677", "title": "Instagram story share can&#39;t get through login page", "body": "<p>This is a bug with the current version of the Instagram app. You have to wait for an update, even their apps like Boomerang are broken when sharing to Instagram.</p>\n"}], "owner": {"reputation": 2510, "user_id": 1654245, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/E84c0.png?s=128&g=1", "display_name": "birdcage", "link": "https://stackoverflow.com/users/1654245/birdcage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 52932677, "answer_count": 1, "score": 1, "last_activity_date": 1540221441, "creation_date": 1539954117, "last_edit_date": 1539954220, "question_id": 52892907, "link": "https://stackoverflow.com/questions/52892907/instagram-story-share-cant-get-through-login-page", "title": "Instagram story share can&#39;t get through login page", "body": "<p>I have an app and users are sharing screenshots with it from the app. The app is live and it was working correctly. Nowadays, I realized that when user clicks instagram story share, it goes to login page only. Even the user logins to instagram and re-clicks from my app to share story, it still goes to instagram login page. What is that issue?</p>\n\n<pre><code>- (IBAction)instagramClicked:(id)sender\n{\n    [FIRAnalytics logEventWithName:@\"instagram_share\"\n                        parameters:@{\n                                     @\"name\": @\"instagram_share\",\n                                     @\"full_text\": @\"instagram_share\"\n                                     }];\n\n    [self backgroundImage:UIImagePNGRepresentation([self getScreenshot])\n           attributionURL:@\"abcapp://\"];\n}\n\n//Get image of the view\n- (UIImage *)getScreenshot {\n    CGRect rect = [_shareView bounds];\n    UIGraphicsBeginImageContextWithOptions(rect.size,NO,2.0f);\n    CGContextRef context = UIGraphicsGetCurrentContext();\n    [_shareView.layer renderInContext:context];\n\n    UIImage *capturedScreen = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n\n    return capturedScreen;\n}\n\n- (void)backgroundImage:(NSData *)backgroundImage\n         attributionURL:(NSString *)attributionURL {\n\n    // Verify app can open custom URL scheme, open if able\n    NSURL *urlScheme = [NSURL URLWithString:@\"instagram-stories://share\"];\n    if ([[UIApplication sharedApplication] canOpenURL:urlScheme]) {\n\n        // Assign background image asset and attribution link URL to pasteboard\n        NSArray *pasteboardItems = @[@{@\"com.instagram.sharedSticker.backgroundImage\" : backgroundImage,\n                                       @\"com.instagram.sharedSticker.contentURL\" : attributionURL}];\n        NSDictionary *pasteboardOptions = @{UIPasteboardOptionExpirationDate : [[NSDate date] dateByAddingTimeInterval:60 * 5]};\n        // This call is iOS 10+, can use 'setItems' depending on what versions you support\n        [[UIPasteboard generalPasteboard] setItems:pasteboardItems options:pasteboardOptions];\n\n        [[UIApplication sharedApplication] openURL:urlScheme options:@{} completionHandler:nil];\n    } else {\n        // Handle older app versions or app not installed case\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "notifications", "local"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9756726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkG9v.jpg?s=128&g=1", "display_name": "Jana iOS", "link": "https://stackoverflow.com/users/9756726/jana-ios"}, "edited": false, "score": 0, "creation_date": 1539959411, "post_id": 52893305, "comment_id": 92701521, "body": "hi @user987698.so the notification will be lost once i crossed the deliver date and time.but in android once the switched off the mobile before the scheduled date and time and after turning on the deliver date and time, they can able to get the notification."}, {"owner": {"reputation": 197, "user_id": 987698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9de160bea54f1815fd783a1009afa302?s=128&d=identicon&r=PG", "display_name": "KevinSkyba", "link": "https://stackoverflow.com/users/987698/kevinskyba"}, "reply_to_user": {"reputation": 3, "user_id": 9756726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkG9v.jpg?s=128&g=1", "display_name": "Jana iOS", "link": "https://stackoverflow.com/users/9756726/jana-ios"}, "edited": false, "score": 0, "creation_date": 1539964048, "post_id": 52893305, "comment_id": 92704160, "body": "Do not mix the behaviour of Android and iOS. They are both completely different and different behaviour regarding notifications is expected!"}], "tags": [], "owner": {"reputation": 197, "user_id": 987698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9de160bea54f1815fd783a1009afa302?s=128&d=identicon&r=PG", "display_name": "KevinSkyba", "link": "https://stackoverflow.com/users/987698/kevinskyba"}, "is_accepted": true, "score": 1, "last_activity_date": 1539955557, "creation_date": 1539955557, "answer_id": 52893305, "question_id": 52892622, "link": "https://stackoverflow.com/questions/52892622/local-notification-in-iosobjective-c/52893305#52893305", "title": "Local Notification in iOS(Objective C)", "body": "<p>Could you please rephrase your question?</p>\n\n<p>From what I understand you say that your local notification is not delivered if the device was not turned on at the scheduled time.</p>\n\n<p>In general, your local notifications are not handled by your app. When you register a local notifiction, iOS is responsible for delivering it. This also means that your app does not have to be running when your local notification is scheduled to be delivered.</p>\n\n<p>When your local notification was meant to be delivered at 10 AM, but your device was turned off from 9:50 to 10:10 AM, your local notification will be lost!</p>\n\n<p>Your app should not rely on delivering that local notification. Your only way of knowing whether a user received your local notification is when he opens your app by clicking on the notification or using one of its actions. Your app will then be called by <code>application:didReceiveLocalNotification</code> when it is in the background, or regular by <code>application:didFinishLaunchingWithOptions:</code> when it was killed before.</p>\n\n<p>TL;DR: You should not care whether a user received a local notification, as there is no way to make sure he receives it under certain conditions.</p>\n"}], "owner": {"reputation": 3, "user_id": 9756726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkG9v.jpg?s=128&g=1", "display_name": "Jana iOS", "link": "https://stackoverflow.com/users/9756726/jana-ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 52893305, "answer_count": 1, "score": 0, "last_activity_date": 1539955557, "creation_date": 1539953142, "last_edit_date": 1539953263, "question_id": 52892622, "link": "https://stackoverflow.com/questions/52892622/local-notification-in-iosobjective-c", "title": "Local Notification in iOS(Objective C)", "body": "<p>I have scheduled the local notification on tomorrow 10 AM and i switched off the mobile and then turn on my mobile day after tomorrow.At this time the notification is not receiving.But I can able to receive the notification, once i meeting the scheduled date and time.So this is possible, to get the notification once crossed the scheduled date and time in iOS?</p>\n"}, {"tags": ["ios", "objective-c", "sqlite", "core-data", "nsmanagedobject"], "comments": [{"owner": {"reputation": 8318, "user_id": 763546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9WXnH.jpg?s=128&g=1", "display_name": "Mike Taverne", "link": "https://stackoverflow.com/users/763546/mike-taverne"}, "edited": false, "score": 2, "creation_date": 1539998734, "post_id": 52892616, "comment_id": 92715219, "body": "Good question. I think a better approach is to use lightweight migrations. Then  create a new version of your data model whenever you change it. Core Data will seamlessly migrate your data into the new model. As a bonus, you don&#39;t lose data. See <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreDataVersioning/Articles/vmLightweightMigration.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>"}], "owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539953902, "creation_date": 1539953122, "last_edit_date": 1539953902, "question_id": 52892616, "link": "https://stackoverflow.com/questions/52892616/ios-this-nspersistentstorecoordinator-has-no-persistent-stores-how-to-check", "title": "iOS: This NSPersistentStoreCoordinator has no persistent stores =&gt; How to check if the sqlite database in the app correspond to the model?", "body": "<p>I would like to check if an old sqlite is present in the app and doesn't match to the new model. For example if I added some tables in the coredata model, I would like to avoid a crash if the app sqlite database doesn't match.</p>\n\n<p>The goal is to delete the data base, and let coredata create another database with the good model.  </p>\n\n<pre><code>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'This NSPersistentStoreCoordinator has no persistent stores (schema mismatch or migration failure).  It cannot perform a save operation.'  \n\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x000000010daed1e6 __exceptionPreprocess + 294\n    1   libobjc.A.dylib                     0x000000010c6c1031 objc_exception_throw + 48\n    2   CoreData                            0x000000010d5cc6c3 -[NSPersistentStoreCoordinator _coordinator_you_never_successfully_opened_the_database_schema_mismatch:] + 51\n    3   CoreData                            0x000000010d5ccd55 -[NSPersistentStoreCoordinator _introspectLastErrorAndThrow] + 165\n    4   CoreData                            0x000000010d5cd101 __65-[NSPersistentStoreCoordinator executeRequest:withContext:error:]_block_invoke + 593\n    5   CoreData                            0x000000010d5c57a8 -[NSPersistentStoreCoordinator _routeHeavyweightBlock:] + 360\n    6   CoreData                            0x000000010d4cbc02 -[NSPersistentStoreCoordinator executeRequest:withContext:error:] + 642\n    7   CoreData                            0x000000010d4cbc2b -[NSPersistentStoreCoordinator executeRequest:withContext:error:] + 683\n    8   CoreData                            0x000000010d4f469b -[NSManagedObjectContext save:] + 1579\n    9   Formbox_Webbox                      0x000000010b853aaf -[DB_ListOfValue_manage removeLinesInTable:] + 1055\n    10  Formbox_Webbox                      0x000000010b850add -[DB_ListOfValue_manage removeAllDB] + 2125\n    11  Formbox_Webbox                      0x000000010b79d99d -[ViewController sync:] + 141\n    12  Formbox_Webbox                      0x000000010b7a0080 __35-[ViewController checkFirstSynchro]_block_invoke + 128\n    13  Formbox_Webbox                      0x000000010b83da0a __63+[Reachability checkInternetConnectivityWithSuccessCompletion:]_block_invoke + 346\n    14  CFNetwork                           0x0000000113178f4f __67+[NSURLConnection sendAsynchronousRequest:queue:completionHandler:]_block_invoke_2 + 161\n    15  Foundation                          0x000000010c0d7363 __NSBLOCKOPERATION_IS_CALLING_OUT_TO_A_BLOCK__ + 7\n    16  Foundation                          0x000000010c0d71ca -[NSBlockOperation main] + 68\n    17  Foundation                          0x000000010c0d56b2 -[__NSOperationInternal _start:] + 766\n    18  libdispatch.dylib                   0x00000001128dc7ec _dispatch_client_callout + 8\n    19  libdispatch.dylib                   0x00000001128e1db8 _dispatch_block_invoke_direct + 592\n    20  libdispatch.dylib                   0x00000001128dc7ec _dispatch_client_callout + 8\n    21  libdispatch.dylib                   0x00000001128e1db8 _dispatch_block_invoke_direct + 592\n    22  libdispatch.dylib                   0x00000001128e1b48 dispatch_block_perform + 109\n    23  Foundation                          0x000000010c0d175b __NSOQSchedule_f + 337\n    24  libdispatch.dylib                   0x00000001128dc7ec _dispatch_client_callout + 8\n    25  libdispatch.dylib                   0x00000001128e2ad9 _dispatch_continuation_pop + 967\n    26  libdispatch.dylib                   0x00000001128e0f54 _dispatch_async_redirect_invoke + 780\n    27  libdispatch.dylib                   0x00000001128e836c _dispatch_root_queue_drain + 664\n    28  libdispatch.dylib                   0x00000001128e8076 _dispatch_worker_thread3 + 132\n    29  libsystem_pthread.dylib             0x0000000112dc4169 _pthread_wqthread + 1387\n    30  libsystem_pthread.dylib             0x0000000112dc3be9 start_wqthread + 13\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "bridging-header"], "comments": [{"owner": {"reputation": 366, "user_id": 272766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/405865fdf657fd1296ee800129643627?s=128&d=identicon&r=PG", "display_name": "dosi", "link": "https://stackoverflow.com/users/272766/dosi"}, "edited": false, "score": 0, "creation_date": 1539951952, "post_id": 52891836, "comment_id": 92697135, "body": "Yes, I think your second update is the reason of the issue."}], "answers": [{"comments": [{"owner": {"reputation": 6384, "user_id": 5999975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TgFrI.jpg?s=128&g=1", "display_name": "Tung Fam", "link": "https://stackoverflow.com/users/5999975/tung-fam"}, "edited": false, "score": 0, "creation_date": 1539951346, "post_id": 52891922, "comment_id": 92696830, "body": "Thanks for the response! Yeah, I understand it. I use bridging header only to put the Obj-C files that I want to use in Swift. But please note (update2), those Obj-C files also import <code>ProjName-Swift.h</code> inside them. So I think there is like a connected dependency where objc file needs swift, and swift needs objc. I think the problem lays there."}, {"owner": {"reputation": 1400, "user_id": 4816590, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8fa5a126eba3fbde91a8ae572f25c961?s=128&d=identicon&r=PG", "display_name": "Ramon Vasconcelos", "link": "https://stackoverflow.com/users/4816590/ramon-vasconcelos"}, "reply_to_user": {"reputation": 6384, "user_id": 5999975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TgFrI.jpg?s=128&g=1", "display_name": "Tung Fam", "link": "https://stackoverflow.com/users/5999975/tung-fam"}, "edited": false, "score": 0, "creation_date": 1539951922, "post_id": 52891922, "comment_id": 92697117, "body": "In this case maybe you&#39;re importing the headers twice, you can take a look at this answer <a href=\"https://stackoverflow.com/a/26216852/4816590\">stackoverflow.com/a/26216852/4816590</a> to avoid duplicate imports."}], "tags": [], "owner": {"reputation": 1400, "user_id": 4816590, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8fa5a126eba3fbde91a8ae572f25c961?s=128&d=identicon&r=PG", "display_name": "Ramon Vasconcelos", "link": "https://stackoverflow.com/users/4816590/ramon-vasconcelos"}, "is_accepted": false, "score": 0, "last_activity_date": 1539950377, "creation_date": 1539950377, "answer_id": 52891922, "question_id": 52891836, "link": "https://stackoverflow.com/questions/52891836/myprojectname-swift-h-not-found-after-clean-build/52891922#52891922", "title": "myProjectName-Swift.h not found after clean build", "body": "<p>From Swift to Objective C you just have to use <code>#import \"ProjectName-Swift.h\"</code> on your Objective C classes that needs access to Swift code. There's no need to add on the bridging header file. For the other way Objective C to Swift then you need to declare in the bridging header file.</p>\n"}, {"tags": [], "owner": {"reputation": 366, "user_id": 272766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/405865fdf657fd1296ee800129643627?s=128&d=identicon&r=PG", "display_name": "dosi", "link": "https://stackoverflow.com/users/272766/dosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1539953254, "creation_date": 1539953254, "answer_id": 52892655, "question_id": 52891836, "link": "https://stackoverflow.com/questions/52891836/myprojectname-swift-h-not-found-after-clean-build/52892655#52892655", "title": "myProjectName-Swift.h not found after clean build", "body": "<p>You must not use <code>#import \"ProjectName-Swift.h\"</code> in the header files. </p>\n\n<p>If you need Swift classes or protocols in the Obj-C code, you may forward declare them in the related Obj-C header. Here's <a href=\"https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_swift_into_objective-c\" rel=\"nofollow noreferrer\">more information</a> about that:</p>\n\n<blockquote>\n  <p>When declarations in an Objective-C header file refer to a Swift class or protocol that comes from the same target, importing the generated header creates a cyclical reference. To avoid this, use a forward declaration of the Swift class or protocol to reference it in an Objective-C interface.</p>\n</blockquote>\n\n<pre><code>// MyObjcClass.h\n@class MySwiftClass;\n@protocol MySwiftProtocol;\n\n@interface MyObjcClass : NSObject\n- (MySwiftClass *)returnSwiftClassInstance;\n- (id &lt;MySwiftProtocol&gt;)returnInstanceAdoptingSwiftProtocol;\n// ...\n@end\n</code></pre>\n\n<p>Also, please note, you may have issues with importing Swift Enums and Protocols and Classes into ObjC, so you may need to explicitly define items which you want to be available to ObjC code with <code>@objc</code> keyword.</p>\n\n<p>And you won't be able to use Swift structs in Obj-C.</p>\n"}], "owner": {"reputation": 6384, "user_id": 5999975, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TgFrI.jpg?s=128&g=1", "display_name": "Tung Fam", "link": "https://stackoverflow.com/users/5999975/tung-fam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1497, "favorite_count": 0, "accepted_answer_id": 52892655, "answer_count": 2, "score": 0, "last_activity_date": 1539953254, "creation_date": 1539950034, "question_id": 52891836, "link": "https://stackoverflow.com/questions/52891836/myprojectname-swift-h-not-found-after-clean-build", "title": "myProjectName-Swift.h not found after clean build", "body": "<p>Spent a lot of time on finding the solution on google and SO but no success. Very hope someone can point out what can be the problem.</p>\n\n<p>So I have <strong>objc+swift project</strong>. I have a <code>Bridging Header</code> file with <code>imports</code> of Objc header files that I need to use in Swift.</p>\n\n<p>To explain the issue I'll share 2 scenarios. In the 1st scenario, everything works fine. In 2nd it shows an error.</p>\n\n<p><strong>Please note: Both scenarios have the same code base.</strong></p>\n\n<p>Scenario 1. Doesn't work, shows error.</p>\n\n<ol>\n<li>I open the project.</li>\n<li>Hard Clean it.</li>\n<li>Build </li>\n<li>Shows error: <code>'myProjectName-Swift.h' file not found</code></li>\n<li>It also shows such error:</li>\n</ol>\n\n<blockquote>\n  <p>failed to emit precompiled header\n  '/Users/tungfam/Library/Developer/Xcode/DerivedData/myProjectName-ctxxkwqtckhvyoawavmuzmdxqaml/Build/Intermediates.noindex/PrecompiledHeaders/myProjectName-Bridging-Header-swift_1UP5PCPCLBPHP-clang_18PVO5108TD8S.pch'\n  for bridging header\n  '/Users/tungfam/Developer/myProjectName/myProjectName/App/myProjectName-Bridging-Header.h'</p>\n</blockquote>\n\n<p>Scenario 2. How to make it work.</p>\n\n<ol>\n<li>I take the same code from Scenario 1.</li>\n<li>Hard Clean it</li>\n<li>Comment the <code>imports</code> in <code>Bridging Header</code> file</li>\n<li>Comment the Swift code where I used Obc files (that were declared in bridging header that I just commented in previous step)</li>\n<li>I build the project. It succeeds. </li>\n<li>Since some parts in the app are broken cuz I commented stuff. I uncomment the <code>imports</code> in <code>Bridging Header</code> file and the Swift code where I used Objc classes.</li>\n<li>Run again (without hard clean) and everything works.</li>\n</ol>\n\n<p>Will really appreciate any help on this issue. Please share anything you think that may help to fix this issue.</p>\n\n<p>I'm using Xcode 10.0; Swift 4.2</p>\n\n<p><strong><code>UPDATE1</code></strong>: I think it has to do something with the 2nd error I placed above. Maybe it can't generate that bridging file.</p>\n\n<p><strong><code>UPDATE2</code></strong>: I read something like: \"If you are importing the Objc file named ABC into Bridging Header. And if this ABC imports into himself the file myProjectName-Swift.h. Then this case may have some problems. Do you think it can be true?</p>\n"}, {"tags": ["ios", "objective-c", "generics", "ios7", "clang++"], "owner": {"reputation": 11, "user_id": 8057695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24f2f11d67380d7adc54540cf6f4e5e?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad yousaf", "link": "https://stackoverflow.com/users/8057695/muhammad-yousaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539950335, "creation_date": 1539948065, "last_edit_date": 1539950335, "question_id": 52891391, "link": "https://stackoverflow.com/questions/52891391/expected-language-defined-in-or-generated-declaration-while-archiving-th", "title": "Expected &#39;language&#39;, &#39;defined_in&#39;, or &#39;generated_declaration&#39; while archiving the build", "body": "<p>I have objective c project which have Swift ACTabScrollView library in it.\nproject is working fine on simulator and device.But when i try to archive the build \nXcode generate some code automatically and shows the following error</p>\n\n<p><strong>Expected 'language', 'defined_in', or 'generated_declaration'</strong> </p>\n\n<pre><code>   # pragma clang attribute \n   push(__attribute__((external_source_symbol(language=\"Swift\", \n   defined_in=\"Sallati\",generated_declaration))), \n   apply_to=any(function,enum,objc_interface,objc_category,objc_protocol))\n   # pragma pop_macro(\"any\")\n   #endif\n</code></pre>\n\n<p><strong>#pragma clang attribute pop' with no matching '#pragma clang attribute push'</strong></p>\n\n<pre><code>#if __has_attribute(external_source_symbol)\n# pragma clang attribute pop\n#endif\n#pragma clang diagnostic pop\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yxs3W.jpg\" rel=\"nofollow noreferrer\">Please see the image for more detail</a></p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview"], "comments": [{"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 1, "creation_date": 1539931766, "post_id": 52887114, "comment_id": 92687190, "body": "Variable names begin with lowercase letters. Doing otherwise is just confusing."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539931877, "post_id": 52887114, "comment_id": 92687237, "body": "What is <code>NFAScrollviewCGSizeMake</code>?"}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539931937, "post_id": 52887114, "comment_id": 92687265, "body": "@Fogmeister K I&#39;ll remember that."}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539932131, "post_id": 52887114, "comment_id": 92687342, "body": "@Fogmeister NFAScrollviewCGSizeMake returns the size of the scroll view."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539932161, "post_id": 52887114, "comment_id": 92687354, "body": "can you show the code in that function."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539932230, "post_id": 52887114, "comment_id": 92687393, "body": "Also, you are using auto layout. You shouldn\u2019t need to set the content height manually. It will be calculated automatically. Have you set constraints on all the views inside the scroll view?"}, {"owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "reply_to_user": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539932553, "post_id": 52887114, "comment_id": 92687535, "body": "Yes I have set constraints on all the views inside the scroll view."}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1539935816, "post_id": 52887114, "comment_id": 92688940, "body": "if you have used constraints then you cannot set content size  like  you are setting."}, {"owner": {"reputation": 642, "user_id": 3918769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y5BHi.jpg?s=128&g=1", "display_name": "Pedro Pinho", "link": "https://stackoverflow.com/users/3918769/pedro-pinho"}, "edited": false, "score": 0, "creation_date": 1539939045, "post_id": 52887114, "comment_id": 92690579, "body": "You are loading frames on ViewDidLoad. Sometimes on ViewDidLoad you don&#39;t have yet the correct frame that you need, so you should try on ViewWillAppear."}, {"owner": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539950278, "post_id": 52887114, "comment_id": 92696317, "body": "Where are you calling <code>setContentOffset</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 74, "user_id": 8607487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJNmD.jpg?s=128&g=1", "display_name": "JackySong", "link": "https://stackoverflow.com/users/8607487/jackysong"}, "reply_to_user": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "edited": false, "score": 0, "creation_date": 1540172244, "post_id": 52889400, "comment_id": 92752160, "body": "Actually, I&#39;m not the final answer here, but just a correction of the constraints of Autolayout setting frame."}], "tags": [], "owner": {"reputation": 74, "user_id": 8607487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJNmD.jpg?s=128&g=1", "display_name": "JackySong", "link": "https://stackoverflow.com/users/8607487/jackysong"}, "is_accepted": false, "score": 0, "last_activity_date": 1539940707, "creation_date": 1539940707, "answer_id": 52889400, "question_id": 52887114, "link": "https://stackoverflow.com/questions/52887114/the-uiscrollview-always-bounces-back-to-top-in-ios-objective-c/52889400#52889400", "title": "The UIScrollview always bounces back to top in IOS Objective C", "body": "<p>Before you get the frame of <strong>NFASscrollview</strong>, try using <code>[self.view layoutIfNeeded]</code>. Because this allows you to get the current accurate frame of <strong>NFASscrollview</strong> from the constraints of Autolayout.</p>\n"}, {"tags": [], "owner": {"reputation": 359, "user_id": 9218131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tfce7.jpg?s=128&g=1", "display_name": "Judson Abraham", "link": "https://stackoverflow.com/users/9218131/judson-abraham"}, "is_accepted": true, "score": 0, "last_activity_date": 1540017318, "creation_date": 1540017318, "answer_id": 52903089, "question_id": 52887114, "link": "https://stackoverflow.com/questions/52887114/the-uiscrollview-always-bounces-back-to-top-in-ios-objective-c/52903089#52903089", "title": "The UIScrollview always bounces back to top in IOS Objective C", "body": "<p>Check for <strong>negative value</strong> in <strong>constraints</strong> of your <strong>super view</strong> and <strong>scrollview</strong> and set it as <strong>0</strong>. Even I faced the same issue I fixed it by setting the <strong>bottom space to</strong> constraint of my <strong>Super View</strong> to <strong>0</strong>.</p>\n"}], "owner": {"reputation": 329, "user_id": 9934805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8efebfd2751d74903979780f4ed57bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3452", "link": "https://stackoverflow.com/users/9934805/user3452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 2, "accepted_answer_id": 52903089, "answer_count": 2, "score": 1, "last_activity_date": 1540017318, "creation_date": 1539931664, "last_edit_date": 1539943705, "question_id": 52887114, "link": "https://stackoverflow.com/questions/52887114/the-uiscrollview-always-bounces-back-to-top-in-ios-objective-c", "title": "The UIScrollview always bounces back to top in IOS Objective C", "body": "<p>I have a scrollview which always bounces to top after I scroll to bottom. I have tried numerous ways to fix this. I know there has been asked same kind of question but none of that helped me.\nThese are the code I have used</p>\n\n<pre><code>[self.nfaSscrollview setContentOffset:CGPointMake(0,3185)];\n</code></pre>\n\n<p>also</p>\n\n<pre><code>[self.NFASscrollview setContentSize:CGSizeMake(self.NFASscrollview.frame.size.width,3185)];\n</code></pre>\n\n<p>This I have written in <strong>viewDidLoad</strong></p>\n\n<pre><code>- (void)viewDidLoad {\n\n    [super viewDidLoad];\n\n    [self.NFASscrollview setContentSize:CGSizeMake(self.NFASscrollview.frame.size.width,3185)];\n    _NFASscrollview.scrollEnabled=YES;\n\n    _View3.hidden=YES;\n\n    self.view1HeightConstraint.constant = 0.0;\n    [self.view layoutIfNeeded];\n</code></pre>\n\n<p>3185  is just the (height+origin of Y) of the last content inside my Scroll view.</p>\n\n<p><img src=\"https://i.stack.imgur.com/zs2HU.png\" alt=\"This is the screenshot of my Layout\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/jaYna.png\" alt=\"This is the screenshot of my Layout\"></p>\n\n<p>Screenshot of constraints of view</p>\n\n<p><img src=\"https://i.stack.imgur.com/bINNB.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/DzYW5.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/07V7z.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/W1yiX.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/hXAIM.png\" alt=\"enter image description here\"></p>\n\n<p>I think there might some problem with my constraints. I have no clue how to fix this.</p>\n"}, {"tags": ["ios", "objective-c", "xib", "objective-c-runtime"], "comments": [{"owner": {"reputation": 471, "user_id": 1567770, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/pJTAM.jpg?s=128&g=1", "display_name": "nikBhosale", "link": "https://stackoverflow.com/users/1567770/nikbhosale"}, "edited": false, "score": 1, "creation_date": 1539923986, "post_id": 52885903, "comment_id": 92684893, "body": "I think what you can do is, use same textfield and set &#39;keyboardType&#39; property of it dynamically which can resolve your issue instead of having 2 different types for textfield."}, {"owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "edited": false, "score": 0, "creation_date": 1539924122, "post_id": 52885903, "comment_id": 92684919, "body": "I second nikBhosale&#39;s comment."}, {"owner": {"reputation": 11038, "user_id": 347339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fc2d95ead171970045d6bcddab5ed85?s=128&d=identicon&r=PG", "display_name": "Stunner", "link": "https://stackoverflow.com/users/347339/stunner"}, "edited": false, "score": 0, "creation_date": 1539925243, "post_id": 52885903, "comment_id": 92685162, "body": "Yeah, I was considering doing that but I have a custom text field that I already use all over the app for dates. If I go with checking the \u2018keyboardType\u2019 property it would require a lot of additional setup that I don\u2019t want to replicate considering I already have it implemented in \u2018CustomDateTextField\u2019. I imagine what I am asking should be possible with the help of the ObjC runtime, I am asking here to see if anyone has already done this before I research how to go about it myself."}], "owner": {"reputation": 11038, "user_id": 347339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fc2d95ead171970045d6bcddab5ed85?s=128&d=identicon&r=PG", "display_name": "Stunner", "link": "https://stackoverflow.com/users/347339/stunner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539923132, "creation_date": 1539923132, "question_id": 52885903, "link": "https://stackoverflow.com/questions/52885903/dynamically-changing-the-type-of-a-textfield-after-being-setup-via-xib", "title": "Dynamically Changing the Type of a TextField After Being Setup via Xib", "body": "<p>I have a <code>UITableViewCell</code> subclass (<code>CustomTableViewCell</code>) which has a custom text field <code>CustomTextField</code> specified from within the xib file.</p>\n\n<p>I now would like to use <code>CustomTableViewCell</code> from a table view that requires a date text field. However, <code>CustomTextField</code> is intended to be used as an alpha-numeric text field. I would like to re-instantiate it as a <code>CustomDateTextField</code> during runtime (after instructing the <code>CustomTableViewCell</code> what type of text field instance to use).</p>\n\n<p>I would like to merely instantiate a different instance type while leaving all other settings and auto layout constraints in place. Is this possible? How would I go about doing this?</p>\n"}, {"tags": ["ios", "objective-c", "nsarray", "nspredicate"], "answers": [{"comments": [{"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1539911921, "post_id": 52884375, "comment_id": 92682377, "body": "Yup, that should work. However, that will create a new array <code>results</code> rather than modifying the array <code>stories</code>. If you want to remove the objects from the <code>stories</code> array &quot;in place&quot; you&#39;d use <code>[stories filterUsingPredicate: predicate]</code>."}, {"owner": {"reputation": 33, "user_id": 10365433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2e402a0ac0cee50a315a815d9e61dbb?s=128&d=identicon&r=PG&f=1", "display_name": "J. Moss", "link": "https://stackoverflow.com/users/10365433/j-moss"}, "edited": false, "score": 0, "creation_date": 1539924278, "post_id": 52884375, "comment_id": 92684955, "body": "Thanks - these suggestions helped - especially passing the number as a string.  Where I got hung up was that the array I was updating was already in use, and it was not updating after I filtered it.  I eventually was able to get it updated by doing this: @synchronized(stories)             {                 NSArray *results = [stories filteredArrayUsingPredicate:predicate];                 stories = [results mutableCopy];             }"}], "tags": [], "owner": {"reputation": 17454, "user_id": 117167, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/maGMw.png?s=128&g=1", "display_name": "zpasternack", "link": "https://stackoverflow.com/users/117167/zpasternack"}, "is_accepted": true, "score": 2, "last_activity_date": 1539909426, "creation_date": 1539909426, "answer_id": 52884375, "question_id": 52884282, "link": "https://stackoverflow.com/questions/52884282/how-do-i-remove-objects-from-an-nsmutablearray-matching-an-nsnumber/52884375#52884375", "title": "How do I remove objects from an NSMutableArray matching an NSNumber", "body": "<p>I don't think this:</p>\n\n<pre><code>NSNumber *removeThis =  '8281'; \n</code></pre>\n\n<p>...is even valid Objective-C. Use <code>@(number)</code> to make an <code>NSNumber</code> literal, like:</p>\n\n<pre><code>NSNumber *removeThis =  @(8281); \n</code></pre>\n\n<p>From there, it should work exactly as you typed it:</p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"id != %@\", removeThis];\nNSArray *results = [stories filteredArrayUsingPredicate:predicate];\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10365433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2e402a0ac0cee50a315a815d9e61dbb?s=128&d=identicon&r=PG&f=1", "display_name": "J. Moss", "link": "https://stackoverflow.com/users/10365433/j-moss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 52884375, "answer_count": 1, "score": 0, "last_activity_date": 1539909426, "creation_date": 1539908532, "question_id": 52884282, "link": "https://stackoverflow.com/questions/52884282/how-do-i-remove-objects-from-an-nsmutablearray-matching-an-nsnumber", "title": "How do I remove objects from an NSMutableArray matching an NSNumber", "body": "<p>I have an array like this:</p>\n\n<pre><code>    {\n    id = 8281;\n    name = \u201cJohn\u201d;\n    title = \u201cTitle One\u201c;\n     },\n    {\n    id = 8729;\n    name = \u201cBob\u201d;\n    title = \u201cTitle Two\u201c;\n    },\n    {\n    id = 8499;\n    name = \u201cDave\u201d;\n    title = \u201cTitle Three\u201c;\n    }\n</code></pre>\n\n<p>I want to remove the array containing a specific ID.  </p>\n\n<p>As an example, let's say I have:</p>\n\n<pre><code>NSNumber *removeThis =  '8281' ; \n</code></pre>\n\n<p>And my array above is named \"stories\". </p>\n\n<p>I have tried:</p>\n\n<pre><code>[stories removeObject:removeThis];\n</code></pre>\n\n<p>but that does not work.</p>\n\n<p>I have also tried:</p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"id != %@\", removeThis];\nNSArray *results = [stories filteredArrayUsingPredicate:predicate];\n</code></pre>\n\n<p>But the data is never removed from the array.  </p>\n\n<p>Can someone point me in the right direction?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 4, "creation_date": 1539892184, "post_id": 52881393, "comment_id": 92676564, "body": "The error says that <code>model</code> is BOOL and in ObjC BOOL is not an object."}, {"owner": {"reputation": 3673, "user_id": 2641262, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KOhWT.jpg?s=128&g=1", "display_name": "danialzahid94", "link": "https://stackoverflow.com/users/2641262/danialzahid94"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539892456, "post_id": 52881393, "comment_id": 92676678, "body": "@vadian are you sure this means the <code>model</code> is a BOOL, and not the <code>value</code>?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 2, "creation_date": 1539892505, "post_id": 52881393, "comment_id": 92676704, "body": "I&#39;m quite sure."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 1, "creation_date": 1539892659, "post_id": 52881393, "comment_id": 92676772, "body": "@danialzahid94 In the debugger, what&#39;s the type of <code>model</code> and <code>value</code>? I suspect the correct code should be <code>[model isKindOfClass: NSNull.class]</code>"}, {"owner": {"reputation": 3673, "user_id": 2641262, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KOhWT.jpg?s=128&g=1", "display_name": "danialzahid94", "link": "https://stackoverflow.com/users/2641262/danialzahid94"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1539893660, "post_id": 52881393, "comment_id": 92677242, "body": "@Alexander I&#39;m actually not able to capture this in the debugger. This is constantly reported by Crashlytics. Hence the uncertainty. But I understand your point. Will try it out."}, {"owner": {"reputation": 166928, "user_id": 137350, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/59175bf9aa1c9273b57947f8ff742aac?s=128&d=identicon&r=PG", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/137350/vladimir"}, "edited": false, "score": 2, "creation_date": 1539893662, "post_id": 52881393, "comment_id": 92677244, "body": "It means that your model object is an instance of __NSCFBoolean class for some reason instead of your object class. __NSCFBoolean is one of the classes that back up NSNumber class cluster, so you should look in your code where you might assign model to a NSNumber instance especially to a boolean, e.g. model = @(YES). Probably serialization/deserialization went wrong somewhere"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539894940, "post_id": 52881393, "comment_id": 92677849, "body": "You should be showing us a lot more of the crash log."}, {"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539895220, "post_id": 52881393, "comment_id": 92677972, "body": "@vadian <code>BOOL</code> is not an object, that&#39;s right, but <code>_NSCFBoolean</code> is absolutely not the same type as <code>BOOL</code>, and is actually an object. Simply the wrong type."}], "answers": [{"comments": [{"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1539895315, "post_id": 52882059, "comment_id": 92678014, "body": "You should also suggest to enable zombie objects to help diagnose this crash."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1539895400, "post_id": 52882059, "comment_id": 92678052, "body": "@Macmade Can&#39;t enable zombies on the customer&#39;s machine! If he can&#39;t reproduce it, he&#39;s not going to reproduce it with zombies."}, {"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1539895709, "post_id": 52882059, "comment_id": 92678189, "body": "Right, but worth a try IMHO. A <code>nil</code> value won&#39;t crash, and if he&#39;s testing with a debug build, memory won&#39;t be the same, and the crash might not occur for this reason."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1539894876, "last_edit_date": 1539894876, "creation_date": 1539894537, "answer_id": 52882059, "question_id": 52881393, "link": "https://stackoverflow.com/questions/52881393/nscfboolean-value-unrecognized-selector-sent-to-instance/52882059#52882059", "title": "[__NSCFBoolean value]: unrecognized selector sent to instance", "body": "<blockquote>\n  <p>Due to generic types, this variable can contain values of all sorts including NSString, NSNumber, and also Bool.</p>\n</blockquote>\n\n<p>I don't know what you mean by \"due to generic types\". And I also don't know what you mean by Bool, which is not an Objective-C type; you might mean bool or Boolean or BOOL.</p>\n\n<p>But it should be impossible to assign a boolean of <em>any</em> ilk to an <code>id</code> property, because an <code>id</code> is an object, and a boolean is a scalar. The only way I can think of that this might happen is if this is a non-ARC file; under ARC, the compiler will stop you.</p>\n\n<p>So one possibility is that this is a non-ARC file and you are making a terrible mistake here by trying to treat an <code>id</code> as if it could hold a scalar.</p>\n\n<p>However, let's leave that, because the error indicates that it is <code>model</code>, not its <code>value</code> property, that's the problem.</p>\n\n<p>A more insidious possibility is that you have a threading / memory management issue and the <code>model</code> pointer has dangled, leaving you pointing at something else entirely. The fact that you can't reproduce this yourself is suggestive that that's the case; such issues are difficult to track down, especially when the crash is purely diagnostic of a problem that has already happened some time earlier.</p>\n"}], "owner": {"reputation": 3673, "user_id": 2641262, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/KOhWT.jpg?s=128&g=1", "display_name": "danialzahid94", "link": "https://stackoverflow.com/users/2641262/danialzahid94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1539894876, "creation_date": 1539891817, "last_edit_date": 1539893935, "question_id": 52881393, "link": "https://stackoverflow.com/questions/52881393/nscfboolean-value-unrecognized-selector-sent-to-instance", "title": "[__NSCFBoolean value]: unrecognized selector sent to instance", "body": "<p>I have a model in Objective-C with a variable as follows:</p>\n\n<pre><code>@property (nullable, nonatomic, strong) id value;\n</code></pre>\n\n<p>Due to generic types, this variable can contain values of all sorts including NSString, NSNumber, and also Bool.</p>\n\n<p>Now, for some reason, the following code:</p>\n\n<pre><code>[model.value isKindOfClass:[NSNull class]];\n</code></pre>\n\n<p>crashes. The message in the crash is the what I mentioned in the title. This crash is rarely reproducible, but has resulted in a major amount of my users to face a crash (reported by Crashlytics).</p>\n\n<p>Any ideas why this might be happening?</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1539883941, "post_id": 52879202, "comment_id": 92672401, "body": "Objective C doesn&#39;t distinguish been escaping and non-escaping blocks, so it wouldn&#39;t surprise me if all ObjC interfaces imported into Swift as escaping."}, {"owner": {"reputation": 16280, "user_id": 408390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9c31d32e2b91a8b6559f95db3163bd27?s=128&d=identicon&r=PG", "display_name": "Warren Burton", "link": "https://stackoverflow.com/users/408390/warren-burton"}, "edited": false, "score": 0, "creation_date": 1539883967, "post_id": 52879202, "comment_id": 92672425, "body": "It would be manual but does NS_SWIFT_NAME allow you to pass that info across"}], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539885032, "post_id": 52879799, "comment_id": 92673009, "body": "This probably goes back to before the time when we had <code>@escaping</code> and we had <code>@noescape</code> instead. So that got baked into Objective-C and now there&#39;s no point changing it even though Swift has switched polarities, as it were."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1539888415, "post_id": 52879799, "comment_id": 92674773, "body": "Just a remark (because that bit me): You&#39;ll see the @escaping in the Swift generated interface only if the Objective-C block parameter is marked as _Nonnull. Otherwise it is imported as IUO, and those are escaping by default."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1539889445, "post_id": 52879799, "comment_id": 92675286, "body": "@MartinR Yes, I see that a <code>(^ __nullable)</code> block lacks the <code>@escaping</code> parameter even though it does in fact escape. Hmmm."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1539889778, "post_id": 52879799, "comment_id": 92675449, "body": "Optional closures are \u201cimplicitly escaping:\u201d <a href=\"https://bugs.swift.org/browse/SR-2324\" rel=\"nofollow noreferrer\">bugs.swift.org/browse/SR-2324</a>, <a href=\"https://stackoverflow.com/a/39846519/1187415\">stackoverflow.com/a/39846519/1187415</a>, <a href=\"https://oleb.net/blog/2016/10/optional-non-escaping-closures/\" rel=\"nofollow noreferrer\">oleb.net/blog/2016/10/optional-non-escaping-closures</a>."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1539889897, "post_id": 52879799, "comment_id": 92675501, "body": "@MartinR So weird. - I&#39;ve added &quot;nonnullable&quot; into my statement of the rule."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 22, "last_activity_date": 1539889862, "last_edit_date": 1539889862, "creation_date": 1539884905, "answer_id": 52879799, "question_id": 52879202, "link": "https://stackoverflow.com/questions/52879202/does-objective-c-have-an-equivalent-to-swifts-escaping-annotation/52879799#52879799", "title": "Does Objective-C have an equivalent to Swift&#39;s @escaping annotation?", "body": "<p>Yes, but it's backwards from what you suggest in your question. The rule is that an Objective-C nonnullable block is translated into Swift as an <code>@escaping</code> function <em>automatically</em>, unless it is explicitly marked <code>(NS_NOESCAPE ^)</code>.</p>\n"}], "owner": {"reputation": 9274, "user_id": 42484, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/e6ee53651624f055ff4b0a6cbabb02b2?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/42484/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3517, "favorite_count": 2, "accepted_answer_id": 52879799, "answer_count": 1, "score": 14, "last_activity_date": 1539889862, "creation_date": 1539882451, "last_edit_date": 1539883723, "question_id": 52879202, "link": "https://stackoverflow.com/questions/52879202/does-objective-c-have-an-equivalent-to-swifts-escaping-annotation", "title": "Does Objective-C have an equivalent to Swift&#39;s @escaping annotation?", "body": "<p>In Swift, escaping closure parameters are annotated with <code>@escaping</code>. Is there any equivalent in Objective-C so that the generated Swift interfaces will be marked as <code>@escaping</code>?</p>\n"}, {"tags": ["objective-c", "swift", "initialization", "xcode10"], "comments": [{"owner": {"reputation": 2862, "user_id": 9325833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f0b6edf85489faa93bd34ef60fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Kharabet", "link": "https://stackoverflow.com/users/9325833/ilya-kharabet"}, "edited": false, "score": 1, "creation_date": 1539866710, "post_id": 52873866, "comment_id": 92662060, "body": "I also encountered this problem. Looks like a bug in the Xcode 10"}, {"owner": {"reputation": 2108, "user_id": 483375, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/nETAN.png?s=128&g=1", "display_name": "Petar", "link": "https://stackoverflow.com/users/483375/petar"}, "reply_to_user": {"reputation": 2862, "user_id": 9325833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f0b6edf85489faa93bd34ef60fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Kharabet", "link": "https://stackoverflow.com/users/9325833/ilya-kharabet"}, "edited": false, "score": 0, "creation_date": 1539870673, "post_id": 52873866, "comment_id": 92664641, "body": "@IlyaKharabet Have you filed a bug report for this ?"}, {"owner": {"reputation": 2862, "user_id": 9325833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f0b6edf85489faa93bd34ef60fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Kharabet", "link": "https://stackoverflow.com/users/9325833/ilya-kharabet"}, "edited": false, "score": 0, "creation_date": 1539871668, "post_id": 52873866, "comment_id": 92665253, "body": "No I didn&#39;t, but I hope this will fixed in the future release"}, {"owner": {"reputation": 2108, "user_id": 483375, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/nETAN.png?s=128&g=1", "display_name": "Petar", "link": "https://stackoverflow.com/users/483375/petar"}, "reply_to_user": {"reputation": 2862, "user_id": 9325833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00f0b6edf85489faa93bd34ef60fef9?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Kharabet", "link": "https://stackoverflow.com/users/9325833/ilya-kharabet"}, "edited": false, "score": 2, "creation_date": 1539877753, "post_id": 52873866, "comment_id": 92669219, "body": "I&#39;ve added an issue <a href=\"https://bugs.swift.org/browse/SR-9036\" rel=\"nofollow noreferrer\">bugs.swift.org/browse/SR-9036</a>"}], "owner": {"reputation": 2108, "user_id": 483375, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/nETAN.png?s=128&g=1", "display_name": "Petar", "link": "https://stackoverflow.com/users/483375/petar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1540066000, "creation_date": 1539865153, "last_edit_date": 1540066000, "question_id": 52873866, "link": "https://stackoverflow.com/questions/52873866/xcode-10-swift-objc-dictionary-compatibility", "title": "Xcode 10 Swift-ObjC Dictionary compatibility", "body": "<p>Weird situation I've stumbled upon once upgrading to Xcode 10.</p>\n\n<p>I have an Objective-C class which I initialize in Swift. The initializer accepts <code>NSDictionary</code> as a parameter. If I pass in the dictionary directly into the initializer like so:</p>\n\n<pre><code>let car = Car(parts: [myKey : myValue])\n</code></pre>\n\n<p>Then, back in ObjC world, when printing the contents of the dictionary it shows the value as <code>\"(null)\"</code>.</p>\n\n<p>Everything works fine if I do:</p>\n\n<pre><code>let parts = [myKey : myValue]\nlet car = Car(parts: parts)\n</code></pre>\n\n<p>This issue exists on any version of Swift on Xcode 10. The issue doesn't exist on Xcode 9.</p>\n\n<p>I am attaching a <a href=\"https://drive.google.com/open?id=1eq10Noj6LrawpErBNXXKVe_cNeMFKV_k\" rel=\"nofollow noreferrer\">sample project</a> where this is illustrated.</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "comments": [{"owner": {"reputation": 4369, "user_id": 1159240, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/6XCc0.jpg?s=128&g=1", "display_name": "Jerry Krinock", "link": "https://stackoverflow.com/users/1159240/jerry-krinock"}, "edited": false, "score": 0, "creation_date": 1539869406, "post_id": 52873678, "comment_id": 92663832, "body": "Are you sure the code you posted running every <i>x</i> seconds?  If so, then you should post the code of <code>-[CoreDataManager saveContext:]</code> and <code>-[SENTCoreDataManager saveContext:]</code>.  Also, how do you know that the context is <i>not saving anymore</i> after the first save?"}, {"owner": {"reputation": 817, "user_id": 3032917, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/637414582/picture?type=large", "display_name": "David Chelidze", "link": "https://stackoverflow.com/users/3032917/david-chelidze"}, "reply_to_user": {"reputation": 4369, "user_id": 1159240, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/6XCc0.jpg?s=128&g=1", "display_name": "Jerry Krinock", "link": "https://stackoverflow.com/users/1159240/jerry-krinock"}, "edited": false, "score": 0, "creation_date": 1539876566, "post_id": 52873678, "comment_id": 92668566, "body": "this code is to show is it possible to save double two times Context in this way?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539877558, "post_id": 52873678, "comment_id": 92669123, "body": "Most likely the reason of the issue is the semaphore. What is the purpose to make this code synchronous? Consider to use <code>NSOperation</code> which can be cancelled."}], "answers": [{"comments": [{"owner": {"reputation": 817, "user_id": 3032917, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/637414582/picture?type=large", "display_name": "David Chelidze", "link": "https://stackoverflow.com/users/3032917/david-chelidze"}, "edited": false, "score": 0, "creation_date": 1539953874, "post_id": 52881974, "comment_id": 92698214, "body": "Thanks for detailed reply! When I did pure [self.managedObjectContext save:&amp;error]; it worked and during retrieving I&#39;ve got full object."}], "tags": [], "owner": {"reputation": 4369, "user_id": 1159240, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/6XCc0.jpg?s=128&g=1", "display_name": "Jerry Krinock", "link": "https://stackoverflow.com/users/1159240/jerry-krinock"}, "is_accepted": true, "score": 1, "last_activity_date": 1539894197, "creation_date": 1539894197, "answer_id": 52881974, "question_id": 52873678, "link": "https://stackoverflow.com/questions/52873678/savecontext-multiple-times-inside-performblock/52881974#52881974", "title": "SaveContext multiple times inside performBlock", "body": "<p>OK, I understand what you are trying to test now.  The answer is that it works perfectly for me.  I pasted the following code into the tail end of <code>-readFromURL:::</code> in the document subclass of my document-based Core Data app:</p>\n\n<pre><code>[self.managedObjectContext performBlock:^{\n    Stark* stark = [NSEntityDescription insertNewObjectForEntityForName:@\"Stark_entity\"\n                                                 inManagedObjectContext:self.managedObjectContext];\n\n    BOOL ok ;\n    NSError* error = nil;\n    NSLog(@\"Testing two saves in %@\", self);\n\n    stark.name = @\"David\";\n    stark.rating = @(3);\n    ok = [self.managedObjectContext save:&amp;error];\n    NSLog(@\"First Save ok=%hhd error = %@\", ok, error);\n\n    stark.url = @\"http://example.com\";\n    stark.comments = @\"Did it work?\";\n    ok = [self.managedObjectContext save:&amp;error];\n    NSLog(@\"Second Save ok=%hhd error = %@\", ok, error);\n}];\n</code></pre>\n\n<p>Upon running this code, the NSLogs printed:</p>\n\n<pre><code>Testing two saves in BkmxDoc 0x100d308f0 \"Test.bmco\"\nFirst Save ok=1 error = (null)\nSecond Save ok=1 error = (null)\n</code></pre>\n\n<p>And, upon examining the SQLite file, I found that indeed the new object had been inserted and had all four properties values assigned by the above code.</p>\n\n<p>I agree with @vadian that using the dispatch_semaphore in there is strange, although I don't see any reason it would cause saving to fail.  Just to prove that, in a subsequent test I added those three lines using dispatch_semaphore, retested, and it still worked.</p>\n\n<p>The most likely source of the trouble is in your use of <code>CoreDataManager</code>.  Notice that in my code, I simply used the raw `-[NSManagedObjectContext save:].</p>\n"}], "owner": {"reputation": 817, "user_id": 3032917, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/637414582/picture?type=large", "display_name": "David Chelidze", "link": "https://stackoverflow.com/users/3032917/david-chelidze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 52881974, "answer_count": 1, "score": 1, "last_activity_date": 1539894197, "creation_date": 1539864564, "last_edit_date": 1539876518, "question_id": 52873678, "link": "https://stackoverflow.com/questions/52873678/savecontext-multiple-times-inside-performblock", "title": "SaveContext multiple times inside performBlock", "body": "<p>I have flow where I should create object save it in CoreData. But by the flow I need to update object every X seconds and update it with saving context. And because there is possibility of terminating the app in coredata should be \"last updated version\" of the object.\nProblem is that after saving context, core data not saving anymore.\nExample with double saving not working:</p>\n\n<pre><code>dispatch_semaphore_t waitTodoA = dispatch_semaphore_create(0);\nNSManagedObjectContext *contextA = [CoreDataManager backgroundObjectContext];\n[contextA performBlock:^{\n\n    PlaceObject* placeObject  = [NSEntityDescription insertNewObjectForEntityForName:@\"Places\" inManagedObjectContext:contextA];\n    placeObject.type = @\"Flat\";\n    placeObject.timestamp = [[NSDate date] timeIntervalSince1970];\n    [CoreDataManager saveContext:contextA];\n\n    placeObject.address = @\"Sunny beach ave. 1\";\n    placeObject.coordinates = @\"0.0,0.0\";\n    [CoreDataManager saveContext:contextA];\n\n    dispatch_semaphore_signal(waitTodoA);\n}];\ndispatch_semaphore_wait(waitTodoA, dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2 * NSEC_PER_SEC)));\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone"], "answers": [{"tags": [], "owner": {"reputation": 3811, "user_id": 4377671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3721dbef6854b15c9ba3bbf07b153cb6?s=128&d=identicon&r=PG&f=1", "display_name": "Kuldeep", "link": "https://stackoverflow.com/users/4377671/kuldeep"}, "is_accepted": true, "score": 3, "last_activity_date": 1539858812, "creation_date": 1539858812, "answer_id": 52872090, "question_id": 52872027, "link": "https://stackoverflow.com/questions/52872027/in-tableview-how-to-get-the-textview-value-of-selected-row-in-objective-c/52872090#52872090", "title": "In Tableview, How to get the textview value of selected row in Objective C", "body": "<p>You can get get the textview value of selected row inside <code>didSelectRowAtIndexPath</code> like this.</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n    SecondTableViewCell *cell = [self.tableView cellForRowAtIndexPath:indexPath];\n    NSLog(cell.textview1.text);\n\n    // If you want to get selected row data from your array then you can access it like this.\n    NSString *txtDetailStr = [arr objectAtIndex:indexPath.row];\n    NSLog(txtDetailStr);\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "is_accepted": false, "score": 0, "last_activity_date": 1560511133, "last_edit_date": 1560511133, "creation_date": 1540182894, "answer_id": 52922470, "question_id": 52872027, "link": "https://stackoverflow.com/questions/52872027/in-tableview-how-to-get-the-textview-value-of-selected-row-in-objective-c/52922470#52922470", "title": "In Tableview, How to get the textview value of selected row in Objective C", "body": "<p>Here i try with custom <code>UITableViewCell</code> </p>\n\n<pre><code>UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];\n\nif (cell == nil) {\n    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:cellIdentifier];\n}\n\n    cell.textLabel.text = [self.tabledata objectAtIndex:indexPath.row];\nreturn cell;\n</code></pre>\n\n<p>//<code>indexPath.row</code> indicates which row is selected and it is set as label text</p>\n"}], "owner": {"reputation": 225, "user_id": 8854782, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JTgC_wjdJ1w/AAAAAAAAAAI/AAAAAAAAAOM/JlhflUgPlhA/photo.jpg?sz=128", "display_name": "Arvind Patel", "link": "https://stackoverflow.com/users/8854782/arvind-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 52872090, "answer_count": 2, "score": 0, "last_activity_date": 1560511133, "creation_date": 1539858554, "last_edit_date": 1539859268, "question_id": 52872027, "link": "https://stackoverflow.com/questions/52872027/in-tableview-how-to-get-the-textview-value-of-selected-row-in-objective-c", "title": "In Tableview, How to get the textview value of selected row in Objective C", "body": "<p>How to get the textview value of selected row, i have search about this in google but not got proper solution.</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    arr = [[NSArray alloc]initWithObjects:@\"Apple\",@\"ms-dynamicsxrm://?etn=thk_store&amp;pagetype=entityrecord&amp;id=7b74df21-e5a0-e711-810a-5065f38a9b71\",@\"Micromax\",@\"Nokia\", nil];\n} \n\n#pragma mark - Table View Data source\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:  (NSInteger)section {\n    return arr.count;\n}\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    return 1;\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView  cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    static NSString *cellIdentifier = @\"cell_id\";\n\n    SecondTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier: cellIdentifier];\n    cell.label1.text = @\"label\";\n\n    NSString *txtDetailStr = [arr objectAtIndex:indexPath.row];\n\n    if ([txtDetailStr containsString:@\"ms-dynamicsxrm://\"]) {\n        NSAttributedString *attributedString = [[NSAttributedString alloc] initWithString:txtDetailStr attributes:@{ NSLinkAttributeName: [NSURL URLWithString:txtDetailStr] }];\n        cell.textview1.attributedText = attributedString;\n    } \n    else {\n        cell.textview1.text = txtDetailStr;\n    }\n    return cell;\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {\n    return 100;\n}\n\n- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {\n\n}\n</code></pre>\n\n<p>How to get the textview value of selected row, i have search about this in google but not got proper solution.</p>\n"}, {"tags": ["ios", "objective-c", "uibutton"], "answers": [{"tags": [], "owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "is_accepted": false, "score": 2, "last_activity_date": 1539859324, "last_edit_date": 1539859324, "creation_date": 1539857932, "answer_id": 52871855, "question_id": 52871636, "link": "https://stackoverflow.com/questions/52871636/click-through-uibutton-ios/52871855#52871855", "title": "Click through UIButton - ios", "body": "<p>Subclassing <code>UIButton</code> is not suggested to start with :) If you need to have a Visual Feedback effect, you can have a <code>UIView</code> and add a <code>tapGesture</code> recogniser. And on detecting tap you can do</p>\n\n<p><strong>Swift</strong></p>\n\n<pre><code>    let touchPoint = tapGestureRecognizer.location(in: your_view)\n    if your_inner_button.frame.contains(touchPoint) {\n        your_inner_button.sendActions(for: .touchUpInside)\n    }\n</code></pre>\n\n<p><strong>Objective-C</strong></p>\n\n<pre><code>    CGPoint point = [self.tapGesture locationInView:self];\n    if (CGRectContainsPoint(self.frame, point)) {\n        [self sendActionsForControlEvents:UIControlEventTouchUpInside];\n    }\n</code></pre>\n\n<p>Above one does not make much sense, because if you have already detected the tap and figured out that touch is inside the frame of your requirement, why would you even trigger button click, call <code>performSelector</code> directly.That way you don't need a button n a view rather all you need is just a <code>View</code></p>\n\n<p>Just to clarify that it is possible to do what you want,</p>\n\n<p>If for some unknown reasons, you can't do it and you are forced (at gun point I guess :P) to use two buttons on top of each other, you can always handover touch to button below by using <code>hitTest</code></p>\n\n<p><strong>Swift</strong></p>\n\n<pre><code>class MyButton: UIButton {\n    override func hitTest(_ point: CGPoint, with event: UIEvent?) -&gt; UIView? {\n        if your_inner_button.frame.contains(point) {\n               return your_inner_button\n        }\n        return nil\n    }\n}\n</code></pre>\n\n<p><strong>Objective-C</strong></p>\n\n<pre><code>- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event {\n    if (CGRectContainsPoint(your_inner_button.frame, point)) {\n        return your_inner_button\n    }\n    return nil;\n}\n</code></pre>\n\n<p>For this to work you will have to pass the below button reference to top button, which shouldn't be a problem because you anyway have a subclass for top button :) Is that code smell? For me yes, but will it serve your need? Yes it does :)</p>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 428, "user_id": 9623224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWK8f.jpg?s=128&g=1", "display_name": "Student", "link": "https://stackoverflow.com/users/9623224/student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539859324, "creation_date": 1539857125, "question_id": 52871636, "link": "https://stackoverflow.com/questions/52871636/click-through-uibutton-ios", "title": "Click through UIButton - ios", "body": "<p>I have two UIButtons one on top of the other. The first one has a custom class which implements a visual feedback and the other button has an onClick event method which calls a function. </p>\n\n<p>How can I get the onClick event of the second button which is under the first button?</p>\n\n<p><em>I need to have two buttons so I can customise the touch area and the size of the visual feedback.</em> </p>\n"}, {"tags": ["objective-c", "sip", "pjsip", "pjsua2"], "owner": {"reputation": 11, "user_id": 10522581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83f5e6ede0077294a9de6690b01c5f06?s=128&d=identicon&r=PG&f=1", "display_name": "shahzaib", "link": "https://stackoverflow.com/users/10522581/shahzaib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539874214, "creation_date": 1539852049, "last_edit_date": 1539874214, "question_id": 52870149, "link": "https://stackoverflow.com/questions/52870149/use-pjsip-to-make-sip-calls", "title": "USE PJSIP to make SIP Calls", "body": "<blockquote>\n  <p>I used PJSIP Library and able to register user with server but i<br>\n  cannot make a call </p>\n  \n  <p>is it possible to make call without sip-client</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>to make to itself ,, cannot make calls with server and return SIP<br>\n  outbound status for acc 0 is not active</p>\n  \n  <p>can we make calls using PJSIP or we have to integrate some other\n  libraries</p>\n</blockquote>\n\n<pre><code>-(void)testSIP {\n\n        pjsua_create();\n\n        pj_status_t status;\n        pjsua_config ua_cfg;\n        pjsua_logging_config log_cfg;\n        pjsua_media_config media_cfg;\n\n        pjsua_config_default(&amp;ua_cfg);\n        pjsua_logging_config_default(&amp;log_cfg);\n        pjsua_media_config_default(&amp;media_cfg);\n\n        pjsua_logging_config_default(&amp;log_cfg);\n        log_cfg.console_level = 4;\n\n        status = pjsua_init(&amp;ua_cfg, &amp;log_cfg, &amp;media_cfg);\n        if (status != PJ_SUCCESS) NSLog(@\"Error in pjsua_init()%d\", status);\n        pjsua_transport_config transportConfig;\n        pjsua_transport_config_default(&amp;transportConfig);\n        transportConfig.port = 5090;\n\n        status = pjsua_transport_create(PJSIP_TRANSPORT_UDP, &amp;transportConfig, NULL);\n        if (status != PJ_SUCCESS){ NSLog(@\"Error creating transport%@\", status);}\n\n        //pjsua_transport_create(PJSIP_TRANSPORT_TCP, &amp;transportConfig, NULL);\n\n        pjsua_start();\n\n        // Register to SIP server by creating SIP account.\n\n        pjsua_acc_config acc_config;\n\n        pjsua_call_id call_id = 0;\n        pj_bool_t pj_bool_t = 0;\n\n\n        pjsua_call_setting call_setting;\n        pjsua_call_setting_default(&amp;call_setting);\n\n        pjsua_acc_config_default(&amp;acc_config);\n\n\n        acc_config.id = pj_str((char *)\"sipuser\");  \n\n        acc_config.reg_uri = pj_str((char *)\"sip:sipDomain\");\n\n        acc_config.cred_count = 1;\n        acc_config.cred_info[0].realm =pj_str((char *)\"*\")\n        acc_config.cred_info[0].scheme = pj_str((char *)\"digest\");\n        acc_config.cred_info[0].username=pj_str((char *)\"sipuser\");\n        acc_config.cred_info[0].data_type=PJSIP_CRED_DATA_PLAIN_PASSWD ;\n        acc_config.cred_info[0].data = pj_str((char *)\"sippassword\");\n\n        pjsip_endpoint* endpoint = pjsua_get_pjsip_endpt();\n        pj_dns_resolver* resolver;\n\n\n\n        status = pjsua_acc_add(&amp;acc_config, pj_bool_t, &amp;acc_id);\n        NSLog(@\"%@\",status);\n        if (status!=PJ_SUCCESS){\n            NSLog(@\"Error ADDING ACCOUNT %d\",status);\n        }else{\n            pjsua_acc_info *test;\n            status = pjsua_acc_get_info(acc_id, &amp;test);\n            NSLog(@\"%@\",status);\n\n            pjsua_call_get_info(call_id, &amp;call_info);\n\n\n            dispatch_async(dispatch_get_main_queue(), ^{\n                [self makeCallTo:\"sip:sipuser@sipdomain\"];\n\n            });\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xmpp", "xmppframework"], "comments": [{"owner": {"reputation": 1, "user_id": 10522093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec000c1563e757b5a22800a494dadf06?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/10522093/prasad"}, "edited": false, "score": 0, "creation_date": 1539842267, "post_id": 52867660, "comment_id": 92649102, "body": "Can some one help me on this. Thanks in advance."}, {"owner": {"reputation": 471, "user_id": 1567770, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/pJTAM.jpg?s=128&g=1", "display_name": "nikBhosale", "link": "https://stackoverflow.com/users/1567770/nikbhosale"}, "edited": false, "score": 0, "creation_date": 1539842367, "post_id": 52867660, "comment_id": 92649133, "body": "Are you sure you are doing xmpp processing on background queue?"}, {"owner": {"reputation": 1, "user_id": 10522093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec000c1563e757b5a22800a494dadf06?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/10522093/prasad"}, "reply_to_user": {"reputation": 471, "user_id": 1567770, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/pJTAM.jpg?s=128&g=1", "display_name": "nikBhosale", "link": "https://stackoverflow.com/users/1567770/nikbhosale"}, "edited": false, "score": 0, "creation_date": 1539843165, "post_id": 52867660, "comment_id": 92649408, "body": "Hi nikBhosale. Where should I do background queue in the framework itself or in the usage of class."}, {"owner": {"reputation": 471, "user_id": 1567770, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/pJTAM.jpg?s=128&g=1", "display_name": "nikBhosale", "link": "https://stackoverflow.com/users/1567770/nikbhosale"}, "edited": false, "score": 0, "creation_date": 1539843397, "post_id": 52867660, "comment_id": 92649504, "body": "it&#39;s when you are creating xmpp stream add it on separate queue instead of main queue. But based on your screenshot I suspect there can be infinite recursive loop happening which is causing this crash."}, {"owner": {"reputation": 1, "user_id": 10522093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec000c1563e757b5a22800a494dadf06?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/10522093/prasad"}, "reply_to_user": {"reputation": 471, "user_id": 1567770, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/pJTAM.jpg?s=128&g=1", "display_name": "nikBhosale", "link": "https://stackoverflow.com/users/1567770/nikbhosale"}, "edited": false, "score": 0, "creation_date": 1539855172, "post_id": 52867660, "comment_id": 92655616, "body": "Hi nikBhosale, Yes it is going to infinite loop but how to come out of that loop."}], "owner": {"reputation": 1, "user_id": 10522093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec000c1563e757b5a22800a494dadf06?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/10522093/prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1539874232, "creation_date": 1539841335, "last_edit_date": 1539874232, "question_id": 52867660, "link": "https://stackoverflow.com/questions/52867660/how-to-reduce-the-cpu-usage-in-xmpp-framework", "title": "How to reduce the CPU Usage in XMPP Framework", "body": "<p>I have used XMPP framework for chat using openfire. But when I do ping activity in the XMPP framework the CPU usage goes over 200%. I have attached the timeprofile using Instruments.\nAny suggestion how to decrease the CPU Usage. </p>\n\n<p><a href=\"https://i.stack.imgur.com/EBca6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBca6.png\" alt=\"enter image description here\"></a></p>\n"}]