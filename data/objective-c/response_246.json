[{"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 6599, "user_id": 426959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a23b084cd826836df25c3c4ff58b42?s=128&d=identicon&r=PG", "display_name": "Lucas Derraugh", "link": "https://stackoverflow.com/users/426959/lucas-derraugh"}, "edited": false, "score": 0, "creation_date": 1569967865, "post_id": 58103088, "comment_id": 102764998, "body": "Very strange. If you don&#39;t set a target (<code>target: nil</code>) the responder chain will work correctly to forward the message along, but for some reason it seems the target doesn&#39;t get called with the action."}, {"owner": {"reputation": 507, "user_id": 314306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de425a00f8905b2b373ea1868e2f7f57?s=128&d=identicon&r=PG", "display_name": "AndyTang", "link": "https://stackoverflow.com/users/314306/andytang"}, "reply_to_user": {"reputation": 6599, "user_id": 426959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a23b084cd826836df25c3c4ff58b42?s=128&d=identicon&r=PG", "display_name": "Lucas Derraugh", "link": "https://stackoverflow.com/users/426959/lucas-derraugh"}, "edited": false, "score": 0, "creation_date": 1569968683, "post_id": 58103088, "comment_id": 102765218, "body": "@LucasDerraugh I noticed that too. Unfortunately, this is a simplified version - if you replaced NSButton with NSView with multiple controls, setting target to nil doesn&#39;t help. Seems like a very odd behaviour."}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1570039723, "post_id": 58103088, "comment_id": 102792065, "body": "Is this view a full window or is this like a pop up modal ? and does this occur in both ios 13 and earlier versions"}, {"owner": {"reputation": 507, "user_id": 314306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de425a00f8905b2b373ea1868e2f7f57?s=128&d=identicon&r=PG", "display_name": "AndyTang", "link": "https://stackoverflow.com/users/314306/andytang"}, "edited": false, "score": 0, "creation_date": 1570041623, "post_id": 58103088, "comment_id": 102792916, "body": "It is a popup modal, and it&#39;s on macOS not iOS. I probably should have made that more clear!"}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1570044172, "post_id": 58103088, "comment_id": 102794033, "body": "Not sure if this is gnna help , but i am working on IOS and following the release pop ups had a issue with rendering since they tweaked the full page view . So once the page goes fullview and viewDidLoad is not called as we though it did anymore . So i had to change the story board property to full page. Now im not sure if this has any usage for MacOS but might be worth taking alook"}, {"owner": {"reputation": 586, "user_id": 10021979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d301f62fba6aaa0ca338f3b17163ecbb?s=128&d=identicon&r=PG&f=1", "display_name": "Anjula S.", "link": "https://stackoverflow.com/users/10021979/anjula-s"}, "edited": false, "score": 0, "creation_date": 1570044829, "post_id": 58103088, "comment_id": 102794338, "body": "I Fixed something similar by going to the storyboard of that modal and changing the presentation to &quot;Full Screen&quot; from automatic in the attribute inspector of that certain controller"}], "answers": [{"tags": [], "owner": {"reputation": 18527, "user_id": 2331445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94bfb49e156193c0509c3a18e0f8923f?s=128&d=identicon&r=PG", "display_name": "Stephan Schlecht", "link": "https://stackoverflow.com/users/2331445/stephan-schlecht"}, "is_accepted": true, "score": 9, "last_activity_date": 1570135832, "creation_date": 1570135832, "answer_id": 58226713, "question_id": 58103088, "link": "https://stackoverflow.com/questions/58103088/nsmenu-with-views-in-a-modal-nswindow/58226713#58226713", "title": "NSMenu with views in a modal NSWindow", "body": "<p>The documention <a href=\"https://developer.apple.com/documentation/appkit/nsmenuitem/1514843-target?language=objc\" rel=\"noreferrer\">https://developer.apple.com/documentation/appkit/nsmenuitem/1514843-target?language=objc</a> states:</p>\n\n<blockquote>\n  <p>To ensure that a menu item\u2019s target can receive commands while a modal\n  dialog is open, the target object should return YES in worksWhenModal.</p>\n</blockquote>\n\n<p>And indeed if one adds:</p>\n\n<pre><code>- (BOOL)worksWhenModal {\n    return YES;\n}\n</code></pre>\n\n<p>then it works and your method menuButtonClicked gives out something like:</p>\n\n<pre><code>2019-10-03 22:47:27.892005+0200 MenuTest[12876:454071] &lt;NSButton: 0x600003505760&gt;\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 314306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de425a00f8905b2b373ea1868e2f7f57?s=128&d=identicon&r=PG", "display_name": "AndyTang", "link": "https://stackoverflow.com/users/314306/andytang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 1, "accepted_answer_id": 58226713, "answer_count": 1, "score": 7, "last_activity_date": 1570135832, "creation_date": 1569429961, "last_edit_date": 1570129589, "question_id": 58103088, "link": "https://stackoverflow.com/questions/58103088/nsmenu-with-views-in-a-modal-nswindow", "title": "NSMenu with views in a modal NSWindow", "body": "<p>I have an issue with selectors not being performed for custom views inside an NSMenuItem when they are displayed from a button within a modal NSWindow.</p>\n\n<p>This appears to be a reproducible issue and I've simplified the issue as much as I can.</p>\n\n<p>Modal window is displayed via.</p>\n\n<pre><code>   [NSApp runModalForWindow:_modalWindow];\n</code></pre>\n\n<p>The modal window only has a button, and the button is attached to the following selector.</p>\n\n<pre><code>- (IBAction)modalButtonClicked:(id)sender\n{\n    NSMenu* aMenu = [[NSMenu alloc] initWithTitle:@\"Menu\"];\n\n    NSMenuItem* aItemA = [[NSMenuItem alloc] initWithTitle:@\"\" action:nil keyEquivalent:@\"\"];\n    NSMenuItem* aItemB = [[NSMenuItem alloc] initWithTitle:@\"\" action:nil keyEquivalent:@\"\"];\n    NSMenuItem* aItemC = [[NSMenuItem alloc] initWithTitle:@\"\" action:nil keyEquivalent:@\"\"];\n\n    [aItemA setView:[NSButton buttonWithTitle:@\"Item A\" target:self action:@selector(menuButtonClicked:)]];\n    [aItemB setView:[NSButton buttonWithTitle:@\"Item B\" target:self action:@selector(menuButtonClicked:)]];\n    [aItemC setView:[NSButton buttonWithTitle:@\"Item C\" target:self action:@selector(menuButtonClicked:)]];\n\n    [aMenu addItem:aItemA];\n    [aMenu addItem:aItemB];\n    [aMenu addItem:aItemC];\n\n    [NSMenu popUpContextMenu:aMenu withEvent:[NSApp currentEvent] forView:sender];\n}\n</code></pre>\n\n<p>and the menu click event with a breakpoint:</p>\n\n<pre><code>- (void)menuButtonClicked:(id)sender\n{\n    NSLog(@\"%@\", sender);\n}\n</code></pre>\n\n<p>Clicking on the button will display a menu with 3 buttons, however nothing happens when you click any of those buttons. @(menuButtonClicked:) is never called. This is only an issue with modal windows but there's no obvious reason why.</p>\n"}, {"tags": ["ios", "objective-c", "ios13", "uinavigationbarappearance"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569426322, "post_id": 58102134, "comment_id": 102595839, "body": "Show how you apply this <code>appearance</code> variable to the nav bar."}, {"owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569426546, "post_id": 58102134, "comment_id": 102595954, "body": "That&#39;s what I&#39;m confused about. The documentation indicates just to make an object and set the properties."}], "answers": [{"comments": [{"owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1569427112, "post_id": 58102307, "comment_id": 102596211, "body": "Ok, thank you. How exactly do I do <code>UINavigationBar.appearance</code> in Objective-C?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1569427315, "post_id": 58102307, "comment_id": 102596302, "body": "See my updated answer. Naming your variable <code>appearance</code> makes that code a little confusing."}, {"owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1569427425, "post_id": 58102307, "comment_id": 102596362, "body": "Ok, that seems to work! The only problem is it&#39;s not keeping my font size during animation for pushing and popping views. Is font size not supported anymore with appearance?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1569427564, "post_id": 58102307, "comment_id": 102596425, "body": "Maybe you have different settings for different nav bars. Note that if you want the whole app to use the same settings and you use the <code>UINavigationBar.appearance</code> proxy, make sure you set that in the app delegate before any code is run or any UI is created. The appearance proxy only applies to UI elements created after it is set."}, {"owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "edited": false, "score": 0, "creation_date": 1569450915, "post_id": 58102307, "comment_id": 102605270, "body": "Thanks, yes that&#39;s what I&#39;m doing but it&#39;s not working. Thanks for helping me get this far at least."}, {"owner": {"reputation": 2521, "user_id": 1343140, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/GHjYG.jpg?s=128&g=1", "display_name": "lewis", "link": "https://stackoverflow.com/users/1343140/lewis"}, "edited": false, "score": 0, "creation_date": 1570806202, "post_id": 58102307, "comment_id": 103043037, "body": "If you have <code>prefersLargeTitles</code> enabled, you&#39;ll also want to call <code>setLargeTitleTextAttributes</code>"}, {"owner": {"reputation": 562, "user_id": 1060526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/655e07900b71a32c67814e3d8edc1eb0?s=128&d=identicon&r=PG", "display_name": "Zack", "link": "https://stackoverflow.com/users/1060526/zack"}, "edited": false, "score": 0, "creation_date": 1580401328, "post_id": 58102307, "comment_id": 106093863, "body": "I think this needs to be updated; <code>UINavigationBar.appearance</code> is failing to compile with an &quot;ambiguous reference&quot; error in iOS 13 + Swift 5"}, {"owner": {"reputation": 171, "user_id": 10192774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GKsQf.jpg?s=128&g=1", "display_name": "Eray Alparslan", "link": "https://stackoverflow.com/users/10192774/eray-alparslan"}, "edited": false, "score": 0, "creation_date": 1615583414, "post_id": 58102307, "comment_id": 117745890, "body": "You saved my night dude."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 6, "last_activity_date": 1569427279, "last_edit_date": 1569427279, "creation_date": 1569426872, "answer_id": 58102307, "question_id": 58102134, "link": "https://stackoverflow.com/questions/58102134/how-to-use-uinavigationbarappearance-in-ios-13/58102307#58102307", "title": "How to use UINavigationBarAppearance in iOS 13", "body": "<p>It isn't enough to just create an instance of <code>UINavigationBarAppearance</code>. You have to actually set it on a <code>UINavigationBar</code> instance (or its appearance proxy).</p>\n\n<pre><code>// Setup the nav bar appearance\nUINavigationBarAppearance *appearance = [UINavigationBarAppearance new];\nappearance.titleTextAttributes = @{NSFontAttributeName: font};\n\n// Apply it to a specific nav bar\nsomeNavBarInstance.standardAppearance = appearance;\n// There are also the compactAppearance and scrollEdgeAppearance properties that can be set as needed.\n</code></pre>\n\n<p>If you want this same customization on all nav bars in the app, apply it to the <code>UINavigationBar.appearance</code> proxy.</p>\n\n<pre><code>UINavigationBar.appearance.standardAppearance = appearance;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1389, "user_id": 6108739, "user_type": "registered", "profile_image": "https://graph.facebook.com/1074591505952618/picture?type=large", "display_name": "Vladyslav Panchenko", "link": "https://stackoverflow.com/users/6108739/vladyslav-panchenko"}, "is_accepted": false, "score": -1, "last_activity_date": 1586524913, "creation_date": 1586524913, "answer_id": 61141195, "question_id": 58102134, "link": "https://stackoverflow.com/questions/58102134/how-to-use-uinavigationbarappearance-in-ios-13/61141195#61141195", "title": "How to use UINavigationBarAppearance in iOS 13", "body": "<p>in iOS13 you need to set the title color on the UINavigationBarAppearance object like here (Objective C version):</p>\n\n<pre><code>UINavigationBarAppearance *appearance = [[UINavigationBarAppearance alloc] init];\nappearance.titleTextAttributes = @{NSForegroundColorAttributeName: [UIColor whiteColor]};\nself.navigationController.navigationBar.standardAppearance = appearance;\nself.navigationController.navigationBar.scrollEdgeAppearance = appearance;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1531, "user_id": 4527913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/53d38f67bf07c3de1e57fa331dbf3d38?s=128&d=identicon&r=PG", "display_name": "ph1lb4", "link": "https://stackoverflow.com/users/4527913/ph1lb4"}, "is_accepted": false, "score": 2, "last_activity_date": 1588064473, "creation_date": 1588064473, "answer_id": 61476416, "question_id": 58102134, "link": "https://stackoverflow.com/questions/58102134/how-to-use-uinavigationbarappearance-in-ios-13/61476416#61476416", "title": "How to use UINavigationBarAppearance in iOS 13", "body": "<p>For me, even though I correctly set the appearance to the current UINavigationBar, it was still not working.</p>\n\n<p>I found out that you need to call <code>navigationBar?.setNeedsLayout()</code>, if you set an updated appearance on a UINavigationBar that is already being displayed.</p>\n"}], "owner": {"reputation": 12940, "user_id": 284714, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a45c3f3d52ee26a5237541d95fbe468b?s=128&d=identicon&r=PG", "display_name": "Berry Blue", "link": "https://stackoverflow.com/users/284714/berry-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2200, "favorite_count": 0, "accepted_answer_id": 58102307, "answer_count": 3, "score": 1, "last_activity_date": 1588064473, "creation_date": 1569426203, "question_id": 58102134, "link": "https://stackoverflow.com/questions/58102134/how-to-use-uinavigationbarappearance-in-ios-13", "title": "How to use UINavigationBarAppearance in iOS 13", "body": "<p>How do you use this new object to customize the navigation bar in iOS 13? I tried the following code in Objective-C but it's not working correctly. It only shows my title text attributes while a view controller is being pushed or popped on to the navigation stack.</p>\n\n<pre><code>UINavigationBarAppearance *appearance = [UINavigationBarAppearance new];\nappearance.titleTextAttributes = @{NSFontAttributeName: font};\n</code></pre>\n\n<p>Here is the documentation for this object.\n<a href=\"https://developer.apple.com/documentation/uikit/uinavigationbarappearance?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uinavigationbarappearance?language=objc</a></p>\n"}, {"tags": ["ios", "objective-c", "ios13", "xcode11"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569424522, "post_id": 58101629, "comment_id": 102594805, "body": "It was not initially broken. iOS 13 changes the default presentation of modals. Don&#39;t fight it, embrace it."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1569425508, "post_id": 58101629, "comment_id": 102595385, "body": "First thing you should do is add a proper Launch Screen Storyboard to your app to eliminate the black bars at the top and bottom of your screen."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569425591, "post_id": 58101629, "comment_id": 102595426, "body": "Unrelated but there&#39;s no need to check for iOS 13 to set the presentation style to full screen. That code is valid on earlier versions of iOS too."}, {"owner": {"reputation": 3972, "user_id": 1758335, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e3c688181d59645bf5252b2d6ebc200b?s=128&d=identicon&r=PG", "display_name": "coder", "link": "https://stackoverflow.com/users/1758335/coder"}, "edited": false, "score": 0, "creation_date": 1583153824, "post_id": 58101629, "comment_id": 107008990, "body": "@maddy I think you better put it as an answer to be accepted, thank you for your contribution."}], "answers": [{"tags": [], "owner": {"reputation": 4532, "user_id": 5007855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38efb181380bf77bd30a7036bb153d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Larry Pickles", "link": "https://stackoverflow.com/users/5007855/larry-pickles"}, "is_accepted": false, "score": 5, "last_activity_date": 1569655797, "creation_date": 1569655797, "answer_id": 58144281, "question_id": 58101629, "link": "https://stackoverflow.com/questions/58101629/ios-13-1-objective-c-modalpresentation-fullscreen/58144281#58144281", "title": "iOS 13.1 Objective-C ModalPresentation Fullscreen", "body": "<p>try removing this</p>\n\n<pre><code> if (@available(iOS 13.0, *)) {\n     [termsVC setModalPresentationStyle: UIModalPresentationFullScreen];\n  }\n</code></pre>\n\n<p>then just adding this</p>\n\n<pre><code>  termsVC.modalPresentationStyle = UIModalPresentationCustom;\n</code></pre>\n\n<p>this nullifies the iOS 13 presentation wackiness</p>\n"}], "owner": {"reputation": 1357, "user_id": 6613482, "user_type": "registered", "profile_image": "https://graph.facebook.com/796708247064976/picture?type=large", "display_name": "swift2geek", "link": "https://stackoverflow.com/users/6613482/swift2geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1716, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569655797, "creation_date": 1569424420, "last_edit_date": 1569425403, "question_id": 58101629, "link": "https://stackoverflow.com/questions/58101629/ios-13-1-objective-c-modalpresentation-fullscreen", "title": "iOS 13.1 Objective-C ModalPresentation Fullscreen", "body": "<p>found next strange bug in iOS 13 presenting modally over fullscreen viewcontroller. Initially it was broken, it was opened in not a full screen so I tried next method described on\n<a href=\"https://stackoverflow.com/questions/56435510/presenting-modal-in-ios-13-fullscreen\">this link</a>\nNow it loads and awaits touch to anywhere on the screen. \nCurrently this is Parent viewController, which should modally show TermsVC</p>\n\n<pre><code>mainView.hidden = YES;\n        IDTermsViewController *termsVC = [[self storyboard] instantiateViewControllerWithIdentifier:@\"IDTermsViewController\"];\n        termsVC.delegate = self;\n        if (@available(iOS 13.0, *)) {\n            [termsVC setModalPresentationStyle: UIModalPresentationFullScreen];\n        }\n        [self presentViewController:termsVC animated:YES completion:nil];\n</code></pre>\n\n<p>Currently after presenting this termsVC, i've got the next state like on the screenshot below. If i do any action - shake the phone, make screenshot, tap anywhere - TermsVC will appear!</p>\n\n<p>On previous ios version works fine.\n<a href=\"https://i.stack.imgur.com/vzws6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vzws6.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "bash", "gcc"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1569419603, "post_id": 58099894, "comment_id": 102591779, "body": "No, set-up <code>%PATH%</code> or <code>$PATH</code>.  That&#39;s what it&#39;s for."}, {"owner": {"reputation": 1, "user_id": 11788364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y_mmkepAhSg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZ6OkG5o1L7DTn-gz8DIRqxhpuYA/photo.jpg?sz=128", "display_name": "abracadabra", "link": "https://stackoverflow.com/users/11788364/abracadabra"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569420363, "post_id": 58099894, "comment_id": 102592297, "body": "@trojanfoe Sorry, can you explain in detail? I don&#39;t quite get it: where should I set the PATH variable?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569420771, "post_id": 58099894, "comment_id": 102592538, "body": "It&#39;s a very basic computer user question."}, {"owner": {"reputation": 10260, "user_id": 7939871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1199ba5dde05e4083823a058c5ac6bed?s=128&d=identicon&r=PG", "display_name": "L&#233;a Gris", "link": "https://stackoverflow.com/users/7939871/l%c3%a9a-gris"}, "edited": false, "score": 0, "creation_date": 1569421717, "post_id": 58099894, "comment_id": 102593102, "body": "Maybe using a <code>makefile</code> would be a more appropriate build method."}, {"owner": {"reputation": 1, "user_id": 11788364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y_mmkepAhSg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZ6OkG5o1L7DTn-gz8DIRqxhpuYA/photo.jpg?sz=128", "display_name": "abracadabra", "link": "https://stackoverflow.com/users/11788364/abracadabra"}, "reply_to_user": {"reputation": 10260, "user_id": 7939871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1199ba5dde05e4083823a058c5ac6bed?s=128&d=identicon&r=PG", "display_name": "L&#233;a Gris", "link": "https://stackoverflow.com/users/7939871/l%c3%a9a-gris"}, "edited": false, "score": 0, "creation_date": 1569579544, "post_id": 58099894, "comment_id": 102651968, "body": "@L&#233;aGris I write <code>include $(GNUSTEP_MAKEFILES)&#47;common.make  TOOL_NAME=hello_world hello_world_OBJC_FILES=hello.m  include $(GNUSTEP_MAKEFILES)&#47;tool.make</code> into a GNUmakefile, but the compiler cannot find headers. And $PATH is like this:<code>&#47;home&#47;...&#47;GNUstep&#47;Tools:&#47;GNUstep&#47;Local&#47;Tools:&#47;GNUstep&#47;S&zwnj;&#8203;ystem&#47;Tools:&#47;mnt&#47;f&#47;G&zwnj;&#8203;NU&#47;GNUstep&#47;GNUstep&#47;S&zwnj;&#8203;ystem&#47;Tools:&#47;mnt&#47;f&#47;G&zwnj;&#8203;NU&#47;GNUstep&#47;mingw&#47;bin&zwnj;&#8203;:</code>.. Is it still a problem of path now?"}], "owner": {"reputation": 1, "user_id": 11788364, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y_mmkepAhSg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZ6OkG5o1L7DTn-gz8DIRqxhpuYA/photo.jpg?sz=128", "display_name": "abracadabra", "link": "https://stackoverflow.com/users/11788364/abracadabra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569419190, "creation_date": 1569419190, "question_id": 58099894, "link": "https://stackoverflow.com/questions/58099894/how-should-i-write-the-bash-file-to-run-gcc-from-different-directory", "title": "How should I write the bash file to run gcc from different directory?", "body": "<p>I want to run objective-c under GNU through Windows.\nSay I want to compile <code>hello.m</code> saved under <code>GNUstep/myfolder/</code>, while the compiler <code>gcc.exe</code> is stored in <code>GNUstep/bin/</code>.</p>\n\n<p>Under the path <code>GNUstep/myfolder/</code>, I wrote a file like this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\n\nif [ $# -ne 1 ]; then\necho \"Usage: $0 name\"\nexit 1\nfi\n\n\n../../mingw/bin/gcc.exe -o $i $i.m \\\n-fconstant-string-class=NSConstantString \\\n-I ../../GNUstep/System/Library/Headers/ \\\n-L ../../GNUstep/System/Library/Libraries/ \\\n-lobjc -fobjc-exceptions -lgnustep-base \\\n-enable-auto-import \n\nexit 0\n</code></pre>\n\n<p>And I make the file executable using <code>chmod u+x</code>;\nThen I do <code>$ sh run.sh hello</code>, and get output as</p>\n\n<pre><code>F:/GNU/GNUstep/mingw/bin/../lib/gcc/mingw32/3.4.5/../../../libmingw32.a(main.o):main.c:(.text+0xbd): undefined reference to `_WinMain@16'\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>But if I type the main body written in the bash file, the <code>hello.m</code> could be compiled.</p>\n\n<p>How should I compile without typing the crazy long sentence each time?</p>\n"}, {"tags": ["objective-c", "encryption", "aes", "ios13", "xcode11"], "comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1569419041, "post_id": 58098958, "comment_id": 102591461, "body": "When you say &quot;CryptLib&quot; here, I believe you mean CommonCrypto, correct?"}, {"owner": {"reputation": 19817, "user_id": 1784011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5QrkA.png?s=128&g=1", "display_name": "Woodstock", "link": "https://stackoverflow.com/users/1784011/woodstock"}, "edited": false, "score": 0, "creation_date": 1569490171, "post_id": 58098958, "comment_id": 102616930, "body": "I&#39;d take a look at libSodium, pretty easy to use compared with CommonCrypto.  That said, <a href=\"https://developer.apple.com/documentation/cryptokit/aes\" rel=\"nofollow noreferrer\">CryptoKit</a> is making things better in iOS 13"}], "answers": [{"comments": [{"owner": {"reputation": 1077, "user_id": 1793222, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TpOcg.jpg?s=128&g=1", "display_name": "Abdu", "link": "https://stackoverflow.com/users/1793222/abdu"}, "edited": false, "score": 0, "creation_date": 1569486447, "post_id": 58099795, "comment_id": 102614861, "body": "Thanks for your answer, I have found solution and it worked fine."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 1, "last_activity_date": 1569418870, "creation_date": 1569418870, "answer_id": 58099795, "question_id": 58098958, "link": "https://stackoverflow.com/questions/58098958/aes-encryption-cryptlib-in-ios-13-not-working/58099795#58099795", "title": "AES Encryption CryptLib in iOS 13 not working", "body": "<p>I suspect that your key is longer than 32 UTF-8 bytes. In that case, this code is incorrect. Your <code>patchNeeded</code> conditional is basically creating a garbage key. The contents of <code>buffer</code> aren't promised if this function return returns false, but you're relying on them.</p>\n\n<p>There is no secure way to truncate a key you were given, so I'm not really certain what behavior you want here. It depends on what kinds of strings you're passing.</p>\n\n<p>This code is also incorrect if <code>iv</code> is shorter than 16 UTF-8 bytes. You'll wind up including random values from the stack. That part can be fixed with:</p>\n\n<pre><code>bzero(ivPointer, sizeof(ivPointer));\n</code></pre>\n\n<p>But if your previous version relied on random values, this will still be different.</p>\n\n<p>Assuming you need to match the old behavior, the best way to debug this is to run your previous version in a debugger and see what <code>keyPointer</code> and <code>ivPointer</code> wind up being.</p>\n\n<p>(Note that this approach to creating a key is very insecure. It's drastically shrinking the AES keyspace. How much depends on what kind of strings you're passing, but it's dramatic. You also should never reuse the same key+iv combination in two messages when using CBC, which this looks like it probably does. If possible, I recommend moving to a correct AES implementation. You can look at <a href=\"https://github.com/RNCryptor/RNCryptor-objc\" rel=\"nofollow noreferrer\">RNCryptor</a> for one example of how to do that, or use RNCryptor directly if you prefer.)</p>\n"}, {"comments": [{"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1569500706, "post_id": 58112496, "comment_id": 102622567, "body": "This relies on undocumented behavior of <code>debugDescription</code>, which can break exactly the same way that relying on <code>description</code> did. See <a href=\"https://stackoverflow.com/questions/16521164/how-can-i-convert-nsdata-to-hex-string\" title=\"how can i convert nsdata to hex string\">stackoverflow.com/questions/16521164/&hellip;</a> (or search &quot;convert nsdata to hex&quot;) for a correct implementation."}, {"owner": {"reputation": 1077, "user_id": 1793222, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TpOcg.jpg?s=128&g=1", "display_name": "Abdu", "link": "https://stackoverflow.com/users/1793222/abdu"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 2, "creation_date": 1569502621, "post_id": 58112496, "comment_id": 102623626, "body": "@RobNapier converting nsdata to hex is also working fine for me I tested using your link. now we have 2 solution. thanks for your suggestion."}], "tags": [], "owner": {"reputation": 1077, "user_id": 1793222, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TpOcg.jpg?s=128&g=1", "display_name": "Abdu", "link": "https://stackoverflow.com/users/1793222/abdu"}, "is_accepted": true, "score": 16, "last_activity_date": 1569502891, "last_edit_date": 1569502891, "creation_date": 1569486126, "answer_id": 58112496, "question_id": 58098958, "link": "https://stackoverflow.com/questions/58098958/aes-encryption-cryptlib-in-ios-13-not-working/58112496#58112496", "title": "AES Encryption CryptLib in iOS 13 not working", "body": "<p>Inside:</p>\n\n<pre><code>- (NSString*) sha256:(NSString *)key length:(NSInteger) length\n</code></pre>\n\n<p>I replaced</p>\n\n<pre><code>NSString *hash=[out description];\n</code></pre>\n\n<p>To</p>\n\n<pre><code>NSString *hash=[out debugDescription];\n</code></pre>\n\n<p>And everything got back to normal. Cheers Happy coding.</p>\n\n<p><strong>Alternative Solution as per @Rob Napier</strong></p>\n\n<p>create separate function for converting NSData to Hex</p>\n\n<pre><code>#pragma mark - String Conversion\n-(NSString*)hex:(NSData*)data{\n     NSMutableData *result = [NSMutableData dataWithLength:2*data.length];\n     unsigned const char* src = data.bytes;\n     unsigned char* dst = result.mutableBytes;\n     unsigned char t0, t1;\n\n     for (int i = 0; i &lt; data.length; i ++ ) {\n          t0 = src[i] &gt;&gt; 4;\n          t1 = src[i] &amp; 0x0F;\n\n          dst[i*2] = 48 + t0 + (t0 / 10) * 39;\n          dst[i*2+1] = 48 + t1 + (t1 / 10) * 39;\n     }\n\n     return [[NSString alloc] initWithData:result encoding:NSASCIIStringEncoding];\n}\n</code></pre>\n\n<p>After that Inside:</p>\n\n<pre><code>- (NSString*) sha256:(NSString *)key length:(NSInteger) length\n</code></pre>\n\n<p>I replaced</p>\n\n<pre><code>NSString *hash=[out description];\n</code></pre>\n\n<p>To</p>\n\n<pre><code>NSString *hash = [self hex:out];\n</code></pre>\n"}], "owner": {"reputation": 1077, "user_id": 1793222, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TpOcg.jpg?s=128&g=1", "display_name": "Abdu", "link": "https://stackoverflow.com/users/1793222/abdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1460, "favorite_count": 1, "accepted_answer_id": 58112496, "answer_count": 2, "score": 6, "last_activity_date": 1569502891, "creation_date": 1569416172, "last_edit_date": 1569485992, "question_id": 58098958, "link": "https://stackoverflow.com/questions/58098958/aes-encryption-cryptlib-in-ios-13-not-working", "title": "AES Encryption CryptLib in iOS 13 not working", "body": "<p>My application uses AES 256 encryption to encrypt a string. The same code that was used before is generating a different result. This problem started when iOS 13 was released. And it happens only to applications that are shipped to the store or built with Xcode 11.</p>\n\n<p>Here is the code used for the encryption:</p>\n\n<h2> </h2>\n\n<hr>\n\n<pre><code>- (NSData *)encrypt:(NSData *)plainText key:(NSString *)key  iv:(NSString *)iv {  \n    char keyPointer[kCCKeySizeAES256+2],// room for terminator (unused) ref: https://devforums.apple.com/message/876053#876053  \n    ivPointer[kCCBlockSizeAES128+2];  \n    BOOL patchNeeded;  \n    bzero(keyPointer, sizeof(keyPointer)); // fill with zeroes for padding  \n\n    patchNeeded= ([key length] &gt; kCCKeySizeAES256+1);  \n    if(patchNeeded)  \n    {  \n        NSLog(@\"Key length is longer %lu\", (unsigned long)[[self md5:key] length]);  \n        key = [key substringToIndex:kCCKeySizeAES256]; // Ensure that the key isn't longer than what's needed (kCCKeySizeAES256)  \n    }  \n\n    //NSLog(@\"md5 :%@\", key);  \n    [key getCString:keyPointer maxLength:sizeof(keyPointer) encoding:NSUTF8StringEncoding];  \n    [iv getCString:ivPointer maxLength:sizeof(ivPointer) encoding:NSUTF8StringEncoding];  \n\n    if (patchNeeded) {  \n        keyPointer[0] = '\\0';  // Previous iOS version than iOS7 set the first char to '\\0' if the key was longer than kCCKeySizeAES256  \n    }  \n\n    NSUInteger dataLength = [plainText length];  \n\n    //see https://developer.apple.com/library/ios/documentation/System/Conceptual/ManPages_iPhoneOS/man3/CCryptorCreateFromData.3cc.html  \n    // For block ciphers, the output size will always be less than or equal to the input size plus the size of one block.  \n    size_t buffSize = dataLength + kCCBlockSizeAES128;  \n    void *buff = malloc(buffSize);  \n\n    size_t numBytesEncrypted = 0;  \n    //refer to http://www.opensource.apple.com/source/CommonCrypto/CommonCrypto-36064/CommonCrypto/CommonCryptor.h  \n    //for details on this function  \n    //Stateless, one-shot encrypt or decrypt operation.  \n    CCCryptorStatus status = CCCrypt(kCCEncrypt, /* kCCEncrypt, etc. */  \n                                     kCCAlgorithmAES128, /* kCCAlgorithmAES128, etc. */  \n                                     kCCOptionPKCS7Padding, /* kCCOptionPKCS7Padding, etc. */  \n                                     keyPointer, kCCKeySizeAES256, /* key and its length */  \n                                     ivPointer, /* initialization vector - use random IV everytime */  \n                                     [plainText bytes], [plainText length], /* input  */  \n                                     buff, buffSize,/* data RETURNED here */  \n                                     &amp;numBytesEncrypted);  \n    if (status == kCCSuccess) {  \n        return [NSData dataWithBytesNoCopy:buff length:numBytesEncrypted];  \n    }  \n\n    free(buff);  \n    return nil;  \n}  \n\n\n- (NSString *) encryptPlainTextWith:(NSString *)plainText key:(NSString *)key iv:(NSString *)iv {  \n    return [[[[CryptLib alloc] init] encrypt:[plainText dataUsingEncoding:NSUTF8StringEncoding] key:[[CryptLib alloc] sha256:key length:32] iv:iv] base64EncodedStringWithOptions:0];  \n} \n/** \n\n* This function computes the SHA256 hash of input string \n* @param key input text whose SHA256 hash has to be computed \n* @param length length of the text to be returned \n* @return returns SHA256 hash of input text \n*/  \n- (NSString*) sha256:(NSString *)key length:(NSInteger) length{  \n    const char *s=[key cStringUsingEncoding:NSASCIIStringEncoding];  \n    NSData *keyData=[NSData dataWithBytes:s length:strlen(s)];  \n\n    uint8_t digest[CC_SHA256_DIGEST_LENGTH]={0};  \n    CC_SHA256(keyData.bytes, (CC_LONG)keyData.length, digest);  \n    NSData *out=[NSData dataWithBytes:digest length:CC_SHA256_DIGEST_LENGTH];  \n    NSString *hash=[out description];  \n    hash = [hash stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];  \n    hash = [hash stringByReplacingOccurrencesOfString:@\"&lt;\" withString:@\"\"];  \n    hash = [hash stringByReplacingOccurrencesOfString:@\"&gt;\" withString:@\"\"];  \n\n    if(length &gt; [hash length])  \n    {  \n        return  hash;  \n    }  \n    else  \n    {  \n        return [hash substringToIndex:length];  \n    }  \n}\n</code></pre>\n\n<p>##</p>\n\n<p>I would like to know if something in the code path has changed in the way it works. The method called to do the encryptions is \"encryptPlainTextWith\". Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1772, "user_id": 9046550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea568a8fae3a61492df7b3784c4a3f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Shreeram Bhat", "link": "https://stackoverflow.com/users/9046550/shreeram-bhat"}, "edited": false, "score": 0, "creation_date": 1569415455, "post_id": 58098519, "comment_id": 102589245, "body": "requiringSecureCoding takes in BOOL but you are giving nil. Is that OK?"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569415577, "post_id": 58098519, "comment_id": 102589319, "body": "Where did you get archived <code>UIButton</code>?"}, {"owner": {"reputation": 848, "user_id": 2207137, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xaTP3.jpg?s=128&g=1", "display_name": "TomV", "link": "https://stackoverflow.com/users/2207137/tomv"}, "reply_to_user": {"reputation": 1772, "user_id": 9046550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea568a8fae3a61492df7b3784c4a3f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Shreeram Bhat", "link": "https://stackoverflow.com/users/9046550/shreeram-bhat"}, "edited": false, "score": 0, "creation_date": 1569415628, "post_id": 58098519, "comment_id": 102589355, "body": "@Shreeram Bhat - requiringSecureCoding:NO doesn&#39;t make any difference."}, {"owner": {"reputation": 848, "user_id": 2207137, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xaTP3.jpg?s=128&g=1", "display_name": "TomV", "link": "https://stackoverflow.com/users/2207137/tomv"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569415695, "post_id": 58098519, "comment_id": 102589397, "body": "@Cy-4AH for (UIButton *btn in btnsReferencesArray){ - but should that matter? The deprecated code works fine."}], "answers": [{"comments": [{"owner": {"reputation": 848, "user_id": 2207137, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xaTP3.jpg?s=128&g=1", "display_name": "TomV", "link": "https://stackoverflow.com/users/2207137/tomv"}, "edited": false, "score": 0, "creation_date": 1569416809, "post_id": 58098872, "comment_id": 102590113, "body": "requiringSecureCoding:YES does not make any difference. The same error remains."}], "tags": [], "owner": {"reputation": 1772, "user_id": 9046550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea568a8fae3a61492df7b3784c4a3f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Shreeram Bhat", "link": "https://stackoverflow.com/users/9046550/shreeram-bhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1569415912, "creation_date": 1569415912, "answer_id": 58098872, "question_id": 58098519, "link": "https://stackoverflow.com/questions/58098519/copying-a-uibutton-using-unarchivedobjectofclass-object-cannot-be-nil/58098872#58098872", "title": "Copying a UIButton using unarchivedObjectOfClass - object cannot be nil", "body": "<p>From <a href=\"https://developer.apple.com/documentation/foundation/nskeyedunarchiver/2962884-unarchivedobjectofclass?language=objc\" rel=\"nofollow noreferrer\">docs</a>,</p>\n\n<blockquote>\n  <p>Make sure you have adopted NSSecureCoding in the types you decode. If\n  any call to a decode-prefixed method fails, the default\n  decodingFailurePolicy sets the error rather than throwing an\n  exception. In this case, the current and all subsequent decode calls\n  return 0 or nil.</p>\n</blockquote>\n\n<p>For decoding to work you need to adapt secure coding by specifying <strong>requiringSecureCoding</strong> YES.</p>\n"}], "owner": {"reputation": 848, "user_id": 2207137, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xaTP3.jpg?s=128&g=1", "display_name": "TomV", "link": "https://stackoverflow.com/users/2207137/tomv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569415912, "creation_date": 1569414881, "question_id": 58098519, "link": "https://stackoverflow.com/questions/58098519/copying-a-uibutton-using-unarchivedobjectofclass-object-cannot-be-nil", "title": "Copying a UIButton using unarchivedObjectOfClass - object cannot be nil", "body": "<p>To copy a UIButton this works:</p>\n\n<pre><code>NSData *archivedData = [NSKeyedArchiver archivedDataWithRootObject: btn];\nUIButton *newButton = [NSKeyedUnarchiver unarchiveObjectWithData: archivedData];\n[originalBtnsArray addObject:newButton];\n</code></pre>\n\n<p>However, since iOS 12.0, the NSKeyedUnarchiver is deprecated. But when trying the below, the newButton is nil.</p>\n\n<pre><code>NSData *archivedData = [NSKeyedArchiver archivedDataWithRootObject:btn requiringSecureCoding:nil error:nil];    \n// unarchivedObjectOfClass shows error - couldn't be read because it isn't in correct format?\nNSError *error = nil;\nUIButton *newButton = [NSKeyedUnarchiver unarchivedObjectOfClass:[UIButton class] fromData:archivedData error:&amp;error];    \n[originalBtnsArray addObject:newButton]; // Fails here as newButton is nil\n</code></pre>\n\n<p>Please note, (before any consideration of duplication), that the class of an object is not an array, and therefore unarchivedObjectOfClass (singular) method is desired. There is no special encoding either!</p>\n\n<p>How can I use unarchivedObjectOfClass to copy a UIButton?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "cocoapods", "afnetworking"], "comments": [{"owner": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "edited": false, "score": 0, "creation_date": 1569410309, "post_id": 58097101, "comment_id": 102586345, "body": "It can be dependency of AFNetworking pod from your listed pod list."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "edited": false, "score": 0, "creation_date": 1569410495, "post_id": 58097101, "comment_id": 102586432, "body": "@PratikSodha:Would you tell me how to remove it?"}, {"owner": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "edited": false, "score": 0, "creation_date": 1569411365, "post_id": 58097101, "comment_id": 102586858, "body": "AFOAuth2Manager is extension of AFNetworking So, on installing AFOAuth2Manager AFNetworking also install automatically."}], "answers": [{"comments": [{"owner": {"reputation": 4861, "user_id": 1980105, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/7kpuv.jpg?s=128&g=1", "display_name": "IKKA", "link": "https://stackoverflow.com/users/1980105/ikka"}, "edited": false, "score": 0, "creation_date": 1588864727, "post_id": 58097267, "comment_id": 109070197, "body": "how to fix this iisue?"}], "tags": [], "owner": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "is_accepted": true, "score": 3, "last_activity_date": 1569414348, "last_edit_date": 1569414348, "creation_date": 1569410642, "answer_id": 58097267, "question_id": 58097101, "link": "https://stackoverflow.com/questions/58097101/pod-not-listed-in-pods-file-but-it-installing-on-pod-install-command/58097267#58097267", "title": "Pod not listed in Pods file but it installing on pod install command", "body": "<blockquote>\n  <p>Check <strong><code>.podspec</code></strong> file for all listed pods. It's mentioned\n  <strong><code>.dependency</code></strong> for in pod specification file.</p>\n</blockquote>\n\n<p>Check in your case <em>AFOAuth2Manager</em> pod specification in\n<strong>AFOAuth2Manager.podspec</strong> their dependency of <strong>AFNetworking/NSURLSession', '~>3.0'</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EgPMk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EgPMk.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Example -</strong> <a href=\"https://github.com/AFNetworking/AFOAuth2Manager/blob/master/AFOAuth2Manager.podspec\" rel=\"nofollow noreferrer\">Check here</a></p>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 11290567, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j5BDn5z6288/AAAAAAAAAAI/AAAAAAAAATk/FtIhzr1-0S4/photo.jpg?sz=128", "display_name": "Abhishek Binniwale", "link": "https://stackoverflow.com/users/11290567/abhishek-binniwale"}, "is_accepted": false, "score": 0, "last_activity_date": 1569476491, "creation_date": 1569476491, "answer_id": 58110238, "question_id": 58097101, "link": "https://stackoverflow.com/questions/58097101/pod-not-listed-in-pods-file-but-it-installing-on-pod-install-command/58110238#58110238", "title": "Pod not listed in Pods file but it installing on pod install command", "body": "<p>If your listed any pod having dependency on other pod then it will get install .\nThis will be mentioned in git repository comment .</p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 58097267, "answer_count": 2, "score": 0, "last_activity_date": 1594411779, "creation_date": 1569410088, "last_edit_date": 1594411779, "question_id": 58097101, "link": "https://stackoverflow.com/questions/58097101/pod-not-listed-in-pods-file-but-it-installing-on-pod-install-command", "title": "Pod not listed in Pods file but it installing on pod install command", "body": "<p>Following is the screenshot of <strong>pods</strong> file which does not include AFNetworking library. When I run command <code>pod install</code> in my terminal it installed AFNetworking library version 3.0.1. I am not able to understand why this happens.</p>\n<p><a href=\"https://i.stack.imgur.com/TfL6A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TfL6A.png\" alt=\"enter image description here\" /></a></p>\n<p>Moreover, I also checked <strong>Podfile.lock</strong> file. I can check AFNetworking listed in this file. See the following screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/ZTXH4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZTXH4.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not want to include AFNetworking in my project.</p>\n"}, {"tags": ["ios", "objective-c", "apple-watch", "watchconnectivity", "wcsession"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 1294854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2k33.jpg?s=128&g=1", "display_name": "Austin Conlon", "link": "https://stackoverflow.com/users/1294854/austin-conlon"}, "is_accepted": false, "score": 0, "last_activity_date": 1569585173, "last_edit_date": 1569585173, "creation_date": 1569561159, "answer_id": 58128222, "question_id": 58095417, "link": "https://stackoverflow.com/questions/58095417/trouble-sending-data-from-iphone-to-watchos-using-application-context/58128222#58128222", "title": "Trouble sending data from iPhone to WatchOS using Application Context", "body": "<p>You'll need to move your session configuration and activation code</p>\n\n<pre><code>if ([WCSession isSupported]) {\n   WCSession* session = [WCSession defaultSession];\n   session.delegate = self;\n   [session activateSession];\n}\n</code></pre>\n\n<p>to somewhere early in the iOS app's lifecycle, rather than in the <code>sendData</code> message.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7121208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axNbt.png?s=128&g=1", "display_name": "Reece Reynolds", "link": "https://stackoverflow.com/users/7121208/reece-reynolds"}, "is_accepted": true, "score": 0, "last_activity_date": 1572435538, "creation_date": 1572435538, "answer_id": 58624553, "question_id": 58095417, "link": "https://stackoverflow.com/questions/58095417/trouble-sending-data-from-iphone-to-watchos-using-application-context/58624553#58624553", "title": "Trouble sending data from iPhone to WatchOS using Application Context", "body": "<p>To fix this I had to re-write the Objective-C code in typescript using the tns-platform-declarations plugin. The WCSession now has a delegate and is sending data to my companion WatchOS app.</p>\n"}], "owner": {"reputation": 21, "user_id": 7121208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axNbt.png?s=128&g=1", "display_name": "Reece Reynolds", "link": "https://stackoverflow.com/users/7121208/reece-reynolds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 58624553, "answer_count": 2, "score": 0, "last_activity_date": 1572435538, "creation_date": 1569404025, "last_edit_date": 1569408850, "question_id": 58095417, "link": "https://stackoverflow.com/questions/58095417/trouble-sending-data-from-iphone-to-watchos-using-application-context", "title": "Trouble sending data from iPhone to WatchOS using Application Context", "body": "<p>I am trying to send data from my iOS app to a companion WatchOS app using WCSession. The iOS app was created with NativeScript, thus the need for Objective-C.</p>\n\n<p>When running the apps on both simulators and real devices I receive the following error message:</p>\n\n<blockquote>\n  <p>[WC] WCSession is missing its delegate</p>\n</blockquote>\n\n<p>I've been messing around with this for a few days but unable to fix this issue.</p>\n\n<p>iOS Objective-C Code (This is being called in Typescript):</p>\n\n<pre><code>#import \"SendToWatch.h\"\n#import &lt;WatchConnectivity/WatchConnectivity.h&gt;\n\n@interface SendToWatch () &lt;WCSessionDelegate&gt;\n\n@end\n\n@implementation SendToWatch\n\n- (void)sendData: (double)value {\n    if (WCSession.isSupported) {\n        WCSession *session = [WCSession defaultSession];\n        session.delegate = self;\n        [session activateSession];\n\n        NSError *error = nil;\n        NSDictionary *applicationDict = @{@\"data\":[NSString stringWithFormat:@\"%0.2f\", value]};\n        [session updateApplicationContext:applicationDict error:nil];\n\n        if (error) {\n            NSLog(@\"%@\", error.localizedDescription);\n\n        }\n\n    }\n}\n\n//MARK: - WCSessionDelegate\n\n- (void)session:(WCSession *)session\nactivationDidCompleteWithState:(WCSessionActivationState)activationState\n          error:(NSError *)error {\n}\n\n- (void)sessionDidBecomeInactive:(WCSession *)session {\n    NSLog(@\"Session Did Become Inactive\");\n}\n\n- (void)sessionDidDeactivate:(WCSession *)session {\n    NSLog(@\"-- Session Did Deactivate --\");\n    [session activateSession];\n}\n\n@end\n</code></pre>\n\n<p>WatchOS (InterfaceController.m):</p>\n\n<pre><code>#import \"InterfaceController.h\"\n#import &lt;WatchConnectivity/WatchConnectivity.h&gt;\n\n@interface InterfaceController () &lt;WCSessionDelegate&gt;\n\n@end\n\n@implementation InterfaceController\n\n- (void)awakeWithContext:(id)context {\n    [super awakeWithContext:context];\n\n    // Creates a WCSession to allow iPhone connectivity\n    if ([WCSession isSupported]) {\n        WCSession *session = [WCSession defaultSession];\n        session.delegate = self;\n        [session activateSession];\n        NSLog(@\"-- WCSession Active --\");\n    }\n}\n\n- (void)willActivate {\n    [super willActivate];\n    NSLog(@\"-- Controller Activated --\");\n}\n\n- (void)didDeactivate {\n    [super didDeactivate];\n    NSLog(@\"-- Controller Deactive --\");\n}\n\n//MARK: - WCSessionDelegate\n\n// Receieves the data sent from the iPhone app\n- (void)session:(nonnull WCSession *)session didReceiveApplicationContext:(nonnull NSDictionary *)applicationContext {\n    NSString *receivedData = [applicationContext objectForKey:@\"data\"];\n\n    NSLog(@\"-- APPLICATION CONTEXT RECEIVED --\");\n    NSLog(@\"-- Received from iOS App: %@\", applicationContext);\n\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [self.dataLabel setText:receivedData];\n        NSLog(@\"-- DATA UPDATED --\");\n    });\n}\n\n- (void)session:(WCSession *)session activationDidCompleteWithState:(WCSessionActivationState)activationState error:(NSError *)error {\n}\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "uitableview", "ios13", "uigraphicscontext"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1569387014, "post_id": 58091105, "comment_id": 102575293, "body": "I\u2019m a little surprised that this worked at all (that <code>renderInContext</code> would trigger all of the necessary <code>UITableViewDataSource</code> calls seems unlikely). I might try temporarily adjusting the <code>frame</code> (resetting it when you\u2019re done) of the table view to encompass the whole <code>contentSize</code> and then call <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622589-drawviewhierarchyinrect?language=objc\" rel=\"nofollow noreferrer\"><code>drawviewhierarchyinrect:afterScreenUpdates:</code></a>. And even that will only work if the cells are fixed sized."}, {"owner": {"reputation": 560, "user_id": 1187692, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fXkYV.jpg?s=128&g=1", "display_name": "lorenzop", "link": "https://stackoverflow.com/users/1187692/lorenzop"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1569388985, "post_id": 58091105, "comment_id": 102575805, "body": "It worked really smooth until iOS 13. One of these things that you don&#39;t even ask why! Will try your solution"}, {"owner": {"reputation": 560, "user_id": 1187692, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fXkYV.jpg?s=128&g=1", "display_name": "lorenzop", "link": "https://stackoverflow.com/users/1187692/lorenzop"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1569393325, "post_id": 58091105, "comment_id": 102577417, "body": "I used this solution and seems to work, but it is quite ugly <a href=\"https://stackoverflow.com/a/36028210/1187692\">stackoverflow.com/a/36028210/1187692</a>"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1569449089, "post_id": 58091105, "comment_id": 102604824, "body": "Yeah, that answer, as ugly as it appears, is precisely the sort of thing that one should do. Cells are reused and you can\u2019t just, for example, draw a tableview and expect the rows for cells off screen to be rendered correctly (because the cells for those have been reused for the cells that are currently visible). You really need to iterate through the cells and manually draw them. By the way, even this is an over simplification if, for example, the cells are of dynamic sizes because the <code>contentSize</code> is using the estimated row height for rows that haven\u2019t been rendered yet."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1569449171, "post_id": 58091105, "comment_id": 102604853, "body": "One other caveat: If on retina device, this will render a low resolution, non-retina, sized image. Perhaps that\u2019s OK, but just to warn you. Generally you\u2019d use <code>UIGraphicsBeginImageContextWithOptions</code>, passing <code>0</code> for the scale, to capture the full resolution. It depends upon the intended purpose of the resulting image."}], "answers": [{"tags": [], "owner": {"reputation": 3587, "user_id": 4384775, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9dd6074fd9d12dca9b2700542bbc8142?s=128&d=identicon&r=PG&f=1", "display_name": "McDonal_11", "link": "https://stackoverflow.com/users/4384775/mcdonal-11"}, "is_accepted": false, "score": 0, "last_activity_date": 1577005856, "creation_date": 1577005856, "answer_id": 59442933, "question_id": 58091105, "link": "https://stackoverflow.com/questions/58091105/code-to-make-screenshot-of-an-entire-uitableview-doesnt-work-anymore-in-ios-13/59442933#59442933", "title": "Code to make screenshot of an entire UITableView doesn&#39;t work anymore in iOS 13", "body": "<p>I have faced this issue. Due to cell Reuse, <code>UIGraphicsGetImageFromCurrentImageContext</code> cannot produce full <code>UITableView</code> structure.</p>\n\n<p><strong>One Way</strong> [Not Efficient Way]:</p>\n\n<ul>\n<li>In <code>cellForRowAtIndexPath</code>, we can able to get which <code>UITableViewCell</code> using. Store that cell in <code>[Int: UITableViewCell]</code>.</li>\n<li>Get screenshot from <code>UITableViewCell.contentView</code>.</li>\n<li>Add that screenshot's image as subview to <code>UIView</code> one by one.</li>\n<li>Now, <code>UIView</code> having <code>UITableView</code>'s <code>contentView</code> as <code>Images</code>. </li>\n<li>Get screenshot from <code>UIView</code>.</li>\n</ul>\n"}], "owner": {"reputation": 560, "user_id": 1187692, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fXkYV.jpg?s=128&g=1", "display_name": "lorenzop", "link": "https://stackoverflow.com/users/1187692/lorenzop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 798, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1598021669, "creation_date": 1569385286, "question_id": 58091105, "link": "https://stackoverflow.com/questions/58091105/code-to-make-screenshot-of-an-entire-uitableview-doesnt-work-anymore-in-ios-13", "title": "Code to make screenshot of an entire UITableView doesn&#39;t work anymore in iOS 13", "body": "<p>I used the code below for years to be able to capture a screenshot of an UITableView (including hidden rows) and save it to the user's phone gallery or share it.</p>\n\n<p>Since they updated to iOS 13 it doesn't work anymore, it captures only the visible part of the table leaving it blank on the bottom part.</p>\n\n<pre><code>-(UIImage *)imageFromCurrentTable\n{\n    CGRect frame = self.tableView.frame;\n    frame.size.height = self.tableView.contentSize.height;\n    self.tableView.frame = frame;\n        UIGraphicsBeginImageContext(self.tableView.bounds.size);\n    [self.tableView.layer renderInContext:UIGraphicsGetCurrentContext()];\n    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();    \n    NSData * data = UIImagePNGRepresentation(image);\n    return [UIImage imageWithData:data];\n}\n</code></pre>\n\n<p>What changed in iOS 13? How this code can be updated? (the code is Obj-C but I will accept also swift answers!)</p>\n"}, {"tags": ["objective-c", "date", "padding", "nsdateformatter", "leading-zero"], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1569366287, "creation_date": 1569366287, "answer_id": 58089141, "question_id": 58089067, "link": "https://stackoverflow.com/questions/58089067/remove-leading-zero-with-date-formatter/58089141#58089141", "title": "Remove leading zero with date formatter", "body": "<p>There is no built in support to get something like <code>15:30</code> for 3:30pm and just <code>15</code> for 3:00pm. That would be pretty non-standard.</p>\n\n<p>If you really want such behavior, use <code>H:mm</code> for your format. Then remove any trailing <code>:00</code> from the result.</p>\n"}, {"tags": [], "owner": {"reputation": 1184, "user_id": 2188892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DU8VC.png?s=128&g=1", "display_name": "Craig Pickering", "link": "https://stackoverflow.com/users/2188892/craig-pickering"}, "is_accepted": false, "score": 0, "last_activity_date": 1575809728, "creation_date": 1575809728, "answer_id": 59235580, "question_id": 58089067, "link": "https://stackoverflow.com/questions/58089067/remove-leading-zero-with-date-formatter/59235580#59235580", "title": "Remove leading zero with date formatter", "body": "<p>The DateComponentsFormatter has a property zeroFormattingBehavior to achieve this sort of thing.</p>\n\n<blockquote>\n  <p>When the value for a particular unit is 0, the zero formatting\n  behavior determines whether that value is retained or omitted from any\n  resulting strings. For example, when the formatting behavior is\n  dropTrailing, the value of one hour, ten minutes, and zero seconds\n  would omit the mention of seconds.</p>\n</blockquote>\n"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575809728, "creation_date": 1569365631, "question_id": 58089067, "link": "https://stackoverflow.com/questions/58089067/remove-leading-zero-with-date-formatter", "title": "Remove leading zero with date formatter", "body": "<p>If 24hr format, if date has no minutes, there shouldn't be any zeros padding.</p>\n\n<p>example <code>where time == 3:00pm</code>:</p>\n\n<pre><code>dateFormatter.dateFormat = @\"H:m\" \n</code></pre>\n\n<p>result: 15:0</p>\n\n<p>expected: 15</p>\n"}, {"tags": ["javascript", "html", "objective-c", "wkwebview"], "comments": [{"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 1, "creation_date": 1569360486, "post_id": 58084239, "comment_id": 102570050, "body": "I didn&#39;t notice any elements with id=&quot;id2&quot; in either of your html samples, did you happen to leave those off?"}, {"owner": {"reputation": 3015, "user_id": 755094, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d50e32f04ab40db234466f8879f215b7?s=128&d=identicon&r=PG", "display_name": "ios developer", "link": "https://stackoverflow.com/users/755094/ios-developer"}, "reply_to_user": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1569364616, "post_id": 58084239, "comment_id": 102571143, "body": "I am not good with the javascript. I am not sure which parameter to pass and where."}, {"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1569364993, "post_id": 58084239, "comment_id": 102571250, "body": "Give an example of what exactly you&#39;re trying to remove from the html -- it&#39;s not clear from the question"}], "owner": {"reputation": 3015, "user_id": 755094, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d50e32f04ab40db234466f8879f215b7?s=128&d=identicon&r=PG", "display_name": "ios developer", "link": "https://stackoverflow.com/users/755094/ios-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569341009, "creation_date": 1569341009, "question_id": 58084239, "link": "https://stackoverflow.com/questions/58084239/javascript-to-remove-div-tags-from-html-in-wkwebview-objective-c", "title": "javascript to remove div tags from HTML in wkwebview objective c", "body": "<p>I have HTML string like below</p>\n\n<pre><code> &lt;header&gt;&lt;meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'&gt;&lt;/header&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;style&gt;    * {    word-wrap: break-word;    }    &lt;/style&gt;    &lt;/head&gt;    &lt;body&gt;&lt;div style=\"box-sizing: border-box; font-family: 'Segoe UI', 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', Helvetica, Arial, sans-serif; font-size: 14px;\"&gt;&lt;div data-tid=\"messageBodyContainer\"&gt;&lt;div data-tid=\"messageBodyContent\"&gt;&lt;div&gt;Thanks for agreeing n.&amp;nbsp; I'm xyz at The &amp;nbsp;&amp;nbsp;and I'll serve as the moderator for the board.&amp;nbsp; We'll be discussing your interactions with each other :&lt;/div&gt;&lt;div&gt;1) The class will be open for 2 days April 24 and April 25.&amp;nbsp; Please ask questions each day, and read book.2) The approximate time commitment to the books is 30 minutes each day.&lt;/div&gt;&lt;div&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>or like this</p>\n\n<pre><code>&lt;header&gt;&lt;meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'&gt;&lt;/header&gt;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;style&gt;    * {    word-wrap: break-word;    }    &lt;/style&gt;    &lt;/head&gt;    &lt;body&gt;&lt;div&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-size: 16px; font-family: Arial;\"&gt;Hello and welcome to XXXXXXX bulletin board session!&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.&lt;/span&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s&lt;/span&gt;&lt;span style=\"font-family: Arial;\"&gt;Over the next 3 days...&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;ul&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s&amp;nbsp;&lt;/span&gt;    &lt;/span&gt;&lt;/li&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.&amp;nbsp;&lt;/span&gt;    &lt;/span&gt;&lt;/li&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s&lt;/span&gt;    &lt;/span&gt;&lt;/li&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and type setting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s&amp;nbsp;&lt;/span&gt;    &lt;/span&gt;&lt;/li&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s&lt;/span&gt;    &lt;/span&gt;&lt;/li&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px; font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Div or span tags which give extra space in wkwebview.I want to minimize that space\nI am using below javascript but not able to remove the specific tags but it is not working.</p>\n\n<pre><code>   - (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation {\n\n    NSString *jsCommand = [NSString stringWithFormat:\n                           @\"var element = document.getElementById('%@'); element.parentElement.removeChild(element);\",\n                           @\"id2\"];\n\n\n    [webView evaluateJavaScript:jsCommand completionHandler:^(id _Nullable stringresult, NSError * _Nullable error) {\n        NSLog(@\"result=&gt;%@ error-&gt;%@\",stringresult,error);\n    }];\n}\n</code></pre>\n\n<p>Please help</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "preprocessor-directive"], "comments": [{"owner": {"reputation": 14761, "user_id": 290072, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ITEsv.png?s=128&g=1", "display_name": "Almo", "link": "https://stackoverflow.com/users/290072/almo"}, "edited": false, "score": 0, "creation_date": 1569337857, "post_id": 58083310, "comment_id": 102560733, "body": "<a href=\"https://stackoverflow.com/questions/28765740/xcode-version-preprocessor\" title=\"xcode version preprocessor\">stackoverflow.com/questions/28765740/xcode-version-preproces&zwnj;&#8203;sor</a>"}, {"owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "reply_to_user": {"reputation": 14761, "user_id": 290072, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ITEsv.png?s=128&g=1", "display_name": "Almo", "link": "https://stackoverflow.com/users/290072/almo"}, "edited": false, "score": 0, "creation_date": 1569338484, "post_id": 58083310, "comment_id": 102561086, "body": "@Almo I&#39;ve seen <code>__apple_build_version__</code> in the link you provided, but there&#39;re no examples how to use it"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569338806, "post_id": 58083310, "comment_id": 102561256, "body": "Application build with Xcode 10.3 will not support <code>MTLGPUFamilyApple3</code> anyway. Are you sure you need support project compilation on both Xcodes?"}, {"owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569339157, "post_id": 58083310, "comment_id": 102561427, "body": "@Cy-4AH <code>Xcode 10.3 will not support MTLGPUFamilyApple3</code> - yes, but it will compile the code with <code>#ifdef Xcode11</code>.  Part of my team works in Xcode11, another part works with Appium for automated tests, Appium&#39;s support for real devices isn&#39;t good yet for Xcode 11."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569339495, "post_id": 58083310, "comment_id": 102561619, "body": "@OlhaPavliuk, Appium&#39;s support for real devices isn&#39;t good for applications build with Xcode 11 or with installed iOS version 13?"}, {"owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569339578, "post_id": 58083310, "comment_id": 102561668, "body": "@Cy-4AH It seems with Xcode 11, because the device&#39;s iOS version is 12.4.1 :)"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1569340096, "post_id": 58083310, "comment_id": 102561918, "body": "@OlhaPavliuk in that case I think problem is in builded with Xcode 11 binary. For example I have seen broken UI, but if I build with Xcode 10.1 all if fine. I think you are going to distribute binary builded with Xcode 11 and tests performed with binary builded with 10.3 can&#39;t be trusted."}], "answers": [{"tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": true, "score": 2, "last_activity_date": 1569339599, "creation_date": 1569339599, "answer_id": 58083853, "question_id": 58083310, "link": "https://stackoverflow.com/questions/58083310/if-availableios-13-0-doesnt-compile-in-xcode-10-3/58083853#58083853", "title": "&quot;if (@available(iOS 13.0, *))&quot; doesn&#39;t compile in Xcode 10.3", "body": "<pre><code>#ifdef __IPHONE_13_0\nif (@available(iOS 13.0, *)) {\n    if([getMetalDevice() supportsFamily:MTLGPUFamilyApple3])\n        pixelFormat = MTLPixelFormatBGRA10_XR;\n    else\n#else\n{\n#endif\n        pixelFormat =  MTLPixelFormatBGRA8Unorm;\n}\n</code></pre>\n\n<p>But you should use this code only if you provide some opensource library that support several Xcodes.</p>\n\n<p>If this is part of yours project, you should just migrate to new Xcode and\ndoesn't overcomplicate yours code with preprocessor operators.</p>\n\n<p>Better to solve problems with Appium instead of this.</p>\n"}], "owner": {"reputation": 1571, "user_id": 2567725, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/BndRm.jpg?s=128&g=1", "display_name": "Olha", "link": "https://stackoverflow.com/users/2567725/olha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1307, "favorite_count": 0, "accepted_answer_id": 58083853, "answer_count": 1, "score": 1, "last_activity_date": 1569339599, "creation_date": 1569337707, "question_id": 58083310, "link": "https://stackoverflow.com/questions/58083310/if-availableios-13-0-doesnt-compile-in-xcode-10-3", "title": "&quot;if (@available(iOS 13.0, *))&quot; doesn&#39;t compile in Xcode 10.3", "body": "<p>I have such code: </p>\n\n<pre><code>if (@available(iOS 13.0, *)) {\n    if([getMetalDevice() supportsFamily:MTLGPUFamilyApple3])\n        pixelFormat = MTLPixelFormatBGRA10_XR;\n    else\n        pixelFormat =  MTLPixelFormatBGRA8Unorm;\n}\n</code></pre>\n\n<p>It works in Xcode 11, but doesn't work in Xcode 10.3. \nA preprocessor says it doesn't know what is <code>MTLGPUFamilyApple3</code> (which was introduced in iOS 13).</p>\n\n<p>I tried to use a preprocessor macro:</p>\n\n<pre><code>#define isIOS13 (floor(NSFoundationVersionNumber) &gt;= NSFoundationVersionNumber_iOS_13_0)  \n</code></pre>\n\n<p>but a preprocessor complains <code>Function-like macro 'floor' is not defined</code>. </p>\n\n<p>The same for </p>\n\n<pre><code>#define isIOS13 (int(NSFoundationVersionNumber) &gt;= NSFoundationVersionNumber_iOS_13_0)\n</code></pre>\n\n<p>I need to use both Xcode 10.3 ( iOS 12.4 ) and Xcode 11 ( iOS 13.0 ) because of stability reasons.</p>\n\n<p>What can I do to make my code work in both Xcodes?</p>\n"}, {"tags": ["javascript", "objective-c", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 2955, "user_id": 192694, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/24157024446fccea5b94c7b9a0d5c86a?s=128&d=identicon&r=PG", "display_name": "Bill Dami", "link": "https://stackoverflow.com/users/192694/bill-dami"}, "edited": false, "score": 0, "creation_date": 1569352452, "post_id": 58085657, "comment_id": 102567303, "body": "this looks like it works, thanks! It appears the main mistake I made was following apple&#39;s Swift documentation when converting the APIs, instead of the Objective-C docs, which is what nativescript supports."}], "tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": true, "score": 1, "last_activity_date": 1569346978, "creation_date": 1569346978, "answer_id": 58085657, "question_id": 58082795, "link": "https://stackoverflow.com/questions/58082795/converting-avvideocomposition-initializer-to-nativescript/58085657#58085657", "title": "Converting AVVideoComposition initializer to Nativescript", "body": "<p>It should look something like this with JavaScript / Typescript,</p>\n\n<pre><code>let blurRadius = 6.0;\nlet asset = AVAsset.assetWithURL(streamURL);\nlet item = AVPlayerItem.alloc().initWithAsset(asset);\nitem.videoComposition = AVVideoComposition.videoCompositionWithAssetApplyingCIFiltersWithHandler(asset, request =&gt; {\n    let blurred = request.sourceImage.imageByClampingToExtent().imageByApplyingGaussianBlurWithSigma(blurRadius);\n    let output = blurred.imageByClampingToRect(request.sourceImage.extent);\n    request.finishWithImageContext(output, null);\n});\n</code></pre>\n\n<p><strong>Note:</strong> The code is untested and merely a translation of given native code. Make use of <a href=\"https://www.npmjs.com/package/tns-platform-declarations\" rel=\"nofollow noreferrer\">tns-platform-declarations</a> for IntelliSense support.</p>\n"}], "owner": {"reputation": 2955, "user_id": 192694, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/24157024446fccea5b94c7b9a0d5c86a?s=128&d=identicon&r=PG", "display_name": "Bill Dami", "link": "https://stackoverflow.com/users/192694/bill-dami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58085657, "answer_count": 1, "score": 0, "last_activity_date": 1569346978, "creation_date": 1569335967, "question_id": 58082795, "link": "https://stackoverflow.com/questions/58082795/converting-avvideocomposition-initializer-to-nativescript", "title": "Converting AVVideoComposition initializer to Nativescript", "body": "<p>Looking for some help on porting this objective-c class method to JS/nativescript.. every variation I've tried has resulted in a <code>TypeError: undefined is not a function...</code></p>\n\n<p><a href=\"https://developer.apple.com/documentation/avfoundation/avvideocomposition/1389556-init\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/avfoundation/avvideocomposition/1389556-init</a></p>\n\n<p>Which I've tried to write in JS as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const videoComp = AVVideoComposition.alloc().initWithAssetApplyingCIFiltersWithHandler(asset, (request) =&gt; { ... });\n\n//OR\nconst videoComp = AVVideoComposition.alloc().initAssetApplyingCIFiltersWithHandler(asset, (request) =&gt; { ... });\n\n//OR\nconst videoComp = AVVideoComposition.alloc().initAssetApplyingCIFiltersWithHandlerApplier(asset, (request) =&gt; { ... });\n\n//OR\nconst videoComp = new AVVideoComposition(asset, (request) =&gt; { ... });\n</code></pre>\n\n<p>to name a few. essentially, I am trying to port this code to nativescript/JS:</p>\n\n<pre><code>let blurRadius = 6.0\nlet asset = AVAsset(url: streamURL)\nlet item = AVPlayerItem(asset: asset)\nitem.videoComposition= AVVideoComposition(asset: asset) { request in\n    let blurred = request.sourceImage.clampedToExtent().applyingGaussianBlur(sigma: blurRadius)\n    let output = blurred.clampedToRect(request.sourceImage.extent)\n    request.finish(with: output, context: nil)\n}\n</code></pre>\n\n<p>found in this blog post: <a href=\"https://willowtreeapps.com/ideas/how-to-apply-a-filter-to-a-video-stream-in-ios\" rel=\"nofollow noreferrer\">https://willowtreeapps.com/ideas/how-to-apply-a-filter-to-a-video-stream-in-ios</a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "nsmutablearray", "nsdictionary"], "comments": [{"owner": {"reputation": 637, "user_id": 4673180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hCIMugnCBQg/AAAAAAAAAAI/AAAAAAAAADQ/OVW8Z0cG5rI/photo.jpg?sz=128", "display_name": "kishor soneji", "link": "https://stackoverflow.com/users/4673180/kishor-soneji"}, "edited": false, "score": 0, "creation_date": 1569331531, "post_id": 58081303, "comment_id": 102557028, "body": "In NSDictionary you can not append any element @kAin, so runninfAnimators is array of [UIViewPropertyAnimator] object."}], "answers": [{"comments": [{"owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "edited": false, "score": 0, "creation_date": 1569331964, "post_id": 58081424, "comment_id": 102557329, "body": "perfect... Thanks"}], "tags": [], "owner": {"reputation": 1029, "user_id": 12063370, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Br6hpbePu-g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdI1Wreh0-N0-45kKfVPhaQygUL0A/photo.jpg?sz=128", "display_name": "Marina Aguilar", "link": "https://stackoverflow.com/users/12063370/marina-aguilar"}, "is_accepted": true, "score": 1, "last_activity_date": 1569332504, "last_edit_date": 1569332504, "creation_date": 1569331694, "answer_id": 58081424, "question_id": 58081303, "link": "https://stackoverflow.com/questions/58081303/uiviewpropertyanimation-objective-c-question/58081424#58081424", "title": "UIViewPropertyAnimation Objective C question", "body": "<p>It's an Array of <code>UIViewPropertyAnimator</code> objects. This can be \"translated\" as <code>NSMutableArray</code>. You can see the use of <code>.append</code> which is a method to add elements to an Array in Swift.</p>\n\n<p>Check <a href=\"https://developer.apple.com/documentation/swift/array/3126937-append\" rel=\"nofollow noreferrer\">this link</a> for more info about it.</p>\n"}], "owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58081424, "answer_count": 1, "score": 1, "last_activity_date": 1569332504, "creation_date": 1569331308, "question_id": 58081303, "link": "https://stackoverflow.com/questions/58081303/uiviewpropertyanimation-objective-c-question", "title": "UIViewPropertyAnimation Objective C question", "body": "<p>I'm following WWDC 2017 where explains how to use <code>UIViewPropertyAnimation</code> to manage <code>UIPanGesture</code> on a <code>ViewController</code>.</p>\n\n<p>My project is entirely <strong>Objective C</strong> not <strong>Swift</strong>.</p>\n\n<p>I wanted to have a clarification about this Swift feature:</p>\n\n<pre><code>func animateTransitionIfNeeded(forState state: State, duration: TimeInterval) {\nlet blurAnimator = UIViewPropertyAnimator(duration: duration, dampingRatio: 1) { switch state {\n        case .Expanded:\n            self.blurEffectView.effect = UIBlurEffect(style: .dark)\n        }\n        case .Collapsed:\n            self.blurEffectView.effect = nil\n        }\n    }\n    blurAnimator.startAnimation()\n    runningAnimators.append(blurAnimator)\n}\n</code></pre>\n\n<p>At the end of the function it is called:</p>\n\n<pre><code>runningAnimators.append(blurAnimator)\n</code></pre>\n\n<p><code>runningAnimators</code> in objective C is it a NSMutableArray or an NSDictionary?</p>\n\n<p>Sorry for the stupid question. Thank you</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 3653, "user_id": 456242, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/5367f6e6267323f95652e4ee11d0db1d?s=128&d=identicon&r=PG", "display_name": "Peter Johnson", "link": "https://stackoverflow.com/users/456242/peter-johnson"}, "is_accepted": false, "score": 1, "last_activity_date": 1581081317, "last_edit_date": 1581081317, "creation_date": 1569330429, "answer_id": 58081032, "question_id": 58081031, "link": "https://stackoverflow.com/questions/58081031/how-can-i-get-ios-to-show-a-delete-button-on-a-tableview-but-not-allow-a-full-s/58081032#58081032", "title": "How can I get iOS to show a delete button on a tableView, but not allow a full swipe from the right to delete", "body": "<p>Do this by replacing the usual delete button behaviour with your own copy, with performsFirstActionWithFullSwipe set to FALSE</p>\n\n<pre><code>    - (UISwipeActionsConfiguration *) tableView:(UITableView *)tableView\n    trailingSwipeActionsConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath {\n        //optional- returns previous behaviour when table is in edit mode\n        if (tableView.editing ) {\n            return nil;\n        }\n\n        UIContextualAction *deleteAction = [UIContextualAction contextualActionWithStyle:UIContextualActionStyleDestructive title:@\"Delete\" \nhandler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {\n                 // call your existing delete code\n                [self tableView:tableView commitEditingStyle:UITableViewCellEditingStyleDelete forRowAtIndexPath:indexPath ];\n        }];\n\n        UISwipeActionsConfiguration *config = [UISwipeActionsConfiguration configurationWithActions:@[deleteAction]];\n        config.performsFirstActionWithFullSwipe=FALSE; // this is why we are replacing the delete button!\n        return config;\n    }\n</code></pre>\n"}], "owner": {"reputation": 3653, "user_id": 456242, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/5367f6e6267323f95652e4ee11d0db1d?s=128&d=identicon&r=PG", "display_name": "Peter Johnson", "link": "https://stackoverflow.com/users/456242/peter-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581081317, "creation_date": 1569330429, "question_id": 58081031, "link": "https://stackoverflow.com/questions/58081031/how-can-i-get-ios-to-show-a-delete-button-on-a-tableview-but-not-allow-a-full-s", "title": "How can I get iOS to show a delete button on a tableView, but not allow a full swipe from the right to delete", "body": "<p>A full swipe from the right to delete from a tableView is too dangerous for my app, as my users are reporting accidentally losing data.</p>\n\n<p>I COULD add an \"are you sure?\" prompt, but instead I'd like to allow the delete button to appear, but disable the full swipe behaviour. </p>\n\n<p>How can I do that?</p>\n"}, {"tags": ["objective-c", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569327537, "post_id": 58078641, "comment_id": 102554594, "body": "I don&#39;t think it knows what <code>objectID</code> is supposed to return.  Can&#39;t you provide a more concrete type other than <code>id</code> for <code>relative</code>?"}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569327874, "post_id": 58078641, "comment_id": 102554802, "body": "HI @trojanfoe, I update my question and added complete code."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569327922, "post_id": 58078641, "comment_id": 102554833, "body": "No, you don&#39;t need to provide more information to me, but to the compiler :)  <code>id</code> doesn&#39;t tell it much."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569328054, "post_id": 58078641, "comment_id": 102554914, "body": "Ah sorry, I didn&#39;t read it well :), the problem is, I don&#39;t know the type what return, I need to use id..."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569328324, "post_id": 58078641, "comment_id": 102555054, "body": "There is no other class or subclass you can cast <code>relative</code> to in that block?"}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569329191, "post_id": 58078641, "comment_id": 102555510, "body": "It&#39;s not feasible for casting since there are around 1000s places to be changed...Any other suggestion?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569329283, "post_id": 58078641, "comment_id": 102555558, "body": "I don&#39;t think you understand what <i>casting</i> means.  It would be one line at the start of that block (and whereever <code>object</code> is defined) and you would use the cast value in that block instead."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330017, "post_id": 58078641, "comment_id": 102556000, "body": "Thank you @trojanfoe, do you know, what is the reason in coding developer use id?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330071, "post_id": 58078641, "comment_id": 102556054, "body": "It&#39;s the most generic type in Objective-C that describes a class instance.  It&#39;s like <code>void *</code> would be in C++."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330187, "post_id": 58078641, "comment_id": 102556134, "body": "So if I don&#39;t what class instance I should use, I can&#39;t cast it...."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330212, "post_id": 58078641, "comment_id": 102556142, "body": "I don&#39;t see how you cannot know what type it is."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330324, "post_id": 58078641, "comment_id": 102556217, "body": "Do you know, what type is it?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330363, "post_id": 58078641, "comment_id": 102556244, "body": "No!  It&#39;s input data in <i>your</i> code.  Come on man!"}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330466, "post_id": 58078641, "comment_id": 102556308, "body": "If knew what type of instance it is, I could resolved without asking question, however thank you."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330489, "post_id": 58078641, "comment_id": 102556320, "body": "No, I doubt that actually."}, {"owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569330620, "post_id": 58078641, "comment_id": 102556405, "body": "Since it is external library, it takes time to understand it the instance type, I wanted to ask someone if they have other solution. if you think that you can understand it very fast, please download from here <a href=\"https://github.com/project-imas/encrypted-core-data/blob/master/Incremental%20Store/EncryptedStore.h\" rel=\"nofollow noreferrer\">github.com/project-imas/encrypted-core-data/blob/master/&hellip;</a>. and write the right answer."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569497168, "post_id": 58078641, "comment_id": 102620653, "body": "I can&#39;t find your code in the linked code. Which <code>objectID</code> method do you want to use?"}], "owner": {"reputation": 490, "user_id": 4396229, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/03a036866b0c808e89d8d891a62e440f?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4396229/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569327832, "creation_date": 1569322181, "last_edit_date": 1569327832, "question_id": 58078641, "link": "https://stackoverflow.com/questions/58078641/multiple-methods-named-objectid-found-with-mismatched-result-parameter-type-o", "title": "Multiple methods named &#39;objectID&#39; found with mismatched result, parameter type or attributes after upgraded to Xcode 11", "body": "<p>I have upgraded my Xcode from 10.3 to Xcode 11 version, after upgrading my project not compiling and it shows the error :</p>\n\n<h2>Multiple methods named 'objectID' found with mismatched result, parameter type or attributes##</h2>\n\n<p>I use the EncryptedStore library for coredata. \nwhen I compile with 10.3 it works but with Xcode 11 it shows the error. </p>\n\n<p>Any idea?</p>\n\n<pre><code>- (BOOL)handleInsertedRelationInSaveRequest:(NSRelationshipDescription *)desc forObject:(NSManagedObject *)object error:(NSError **)error {\n   BOOL __block success = YES;\n\n   NSNumber __block *one, *two;\n   NSArray *names = [@[[desc name],[[desc inverseRelationship] name]] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)];\n   NSString *string = [NSString stringWithFormat:@\"INSERT INTO %@ VALUES (?, ?);\",\n                       [self tableNameForRelationship:desc]];\n\n   [[object valueForKey:[desc name]] enumerateObjectsUsingBlock:^(id relative, NSUInteger idx, BOOL *stop) {\n\n       sqlite3_stmt *statement = [self preparedStatementForQuery:string];\n\n       if ([[names objectAtIndex:0] isEqualToString:[desc name]]) {\n           one = [self referenceObjectForObjectID:[relative objectID]];\n           two = [self referenceObjectForObjectID:[object objectID]];\n       } else {\n           one = [self referenceObjectForObjectID:[object objectID]];\n           two = [self referenceObjectForObjectID:[relative objectID]];\n       }\n\n       sqlite3_bind_int64(statement, 1, [one unsignedLongLongValue]);\n       sqlite3_bind_int64(statement, 2, [two unsignedLongLongValue]);\n\n       sqlite3_step(statement);\n\n       int finalize = sqlite3_finalize(statement);\n       if (finalize != SQLITE_OK &amp;&amp; finalize != SQLITE_CONSTRAINT) {\n           if (error != nil) { *error = [self databaseError]; }\n           success = NO;\n       }\n\n   }];\n\n   return success;\n}\n</code></pre>\n\n<p>Specifically I get the error on this part of the code:</p>\n\n<pre><code>one = [self referenceObjectForObjectID:[relative objectID]];\n</code></pre>\n\n<p>and </p>\n\n<pre><code>two = [self referenceObjectForObjectID:[relative objectID]];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "macos", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 13124, "user_id": 3441734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/45c3ad8f37b8f5df5a1fc01891e18119?s=128&d=identicon&r=PG&f=1", "display_name": "user3441734", "link": "https://stackoverflow.com/users/3441734/user3441734"}, "edited": false, "score": 1, "creation_date": 1569388701, "post_id": 58077759, "comment_id": 102575732, "body": "Shortest answer: NO"}, {"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "reply_to_user": {"reputation": 13124, "user_id": 3441734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/45c3ad8f37b8f5df5a1fc01891e18119?s=128&d=identicon&r=PG&f=1", "display_name": "user3441734", "link": "https://stackoverflow.com/users/3441734/user3441734"}, "edited": false, "score": 0, "creation_date": 1569397949, "post_id": 58077759, "comment_id": 102579634, "body": "Ok. Now to the second question: is there some SDK-level mean to guarantee that property?"}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1569430424, "post_id": 58077759, "comment_id": 102597653, "body": "The first guarantee of Grand Central Dispatch is that there are no guarantees, unless specifically stated. :)"}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1569430446, "post_id": 58077759, "comment_id": 102597663, "body": "Why, oh why, would you call <code>sleepForInterval:</code>?"}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1569430538, "post_id": 58077759, "comment_id": 102597715, "body": "You need to state what your goal is. Do you need one block to finished before another starts? Do you need all of the blocks to finish before something else begins? Do you need one block to collect the results of another block? There are literally dozens of thread coordination and synchronization tools, but you need to explain what you&#39;re trying to accomplish."}, {"owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "edited": false, "score": 0, "creation_date": 1569431099, "post_id": 58077759, "comment_id": 102597991, "body": "I want to build kind of threadpool that can accept unlimited number of tasks, run them concurrently and accept result only from first completed task. And I want to consider 2 different scenarios - when tasks allowed to sleep and when  they are not."}], "owner": {"reputation": 616, "user_id": 1243615, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8d9873a29a26f0e7a8bc8d77f4c5b3?s=128&d=identicon&r=PG", "display_name": "BorisV", "link": "https://stackoverflow.com/users/1243615/borisv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569431252, "creation_date": 1569319266, "last_edit_date": 1569431252, "question_id": 58077759, "link": "https://stackoverflow.com/questions/58077759/gcd-shortest-job-termination-with-dispatch-apply", "title": "GCD: shortest job termination with dispatch_apply", "body": "<p>Want to clarify some nuance regarding <em>dispatch_apply()</em> function. Let's suppose there are 100 blocks which I want to execute using <em>dispatch_apply()</em>. There are 2 cases:</p>\n\n<ol>\n<li><p>Each block calls <em>[NSThread sleepForInterval:X]</em> method where X is unique number in range [1..100];</p></li>\n<li><p>Each block executes some heavy mathematical computation, while the shortest takes 1 second, and the heaviest 100 seconds.</p></li>\n</ol>\n\n<p>There are 8 active processors in the computer.\nThe jobs are deployed using <em>dispatch_apply(100, global_concurrent_queue);</em></p>\n\n<p><strong>Therefore the question: is it guaranteed that in both cases the shortest task will terminate first?</strong></p>\n\n<p><strong>Update</strong>: this is my goal - I want to build kind of threadpool that can accept unlimited number of tasks, run them concurrently and accept result only from first completed task. And I want to consider 2 different scenarios - when tasks allowed to sleep and when they are not.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 17680, "user_id": 386738, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VfaLu.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/386738/daniel"}, "edited": false, "score": 0, "creation_date": 1569315103, "post_id": 58076370, "comment_id": 102547591, "body": "You could calculate the position and dimensions on your own in the code pre-constraints time style"}, {"owner": {"reputation": 93, "user_id": 11492093, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kD0acsOTBwE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOQm_Tgnf7PfsNpAaMLj3ME0arlg/mo/photo.jpg?sz=128", "display_name": "Shahzad Ali", "link": "https://stackoverflow.com/users/11492093/shahzad-ali"}, "reply_to_user": {"reputation": 17680, "user_id": 386738, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VfaLu.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/386738/daniel"}, "edited": false, "score": 0, "creation_date": 1569315351, "post_id": 58076370, "comment_id": 102547762, "body": "can u give me some example how to do this please"}, {"owner": {"reputation": 17680, "user_id": 386738, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VfaLu.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/386738/daniel"}, "edited": false, "score": 0, "creation_date": 1569322943, "post_id": 58076370, "comment_id": 102552115, "body": "Create your view (you may already have it), set an @IBOutlet in code and connect, calculate the size and position of the view taking as reference the UIViewController&#39;s <code>.view.frame</code>, set the new <code>.frame</code> of your view."}, {"owner": {"reputation": 93, "user_id": 11492093, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kD0acsOTBwE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOQm_Tgnf7PfsNpAaMLj3ME0arlg/mo/photo.jpg?sz=128", "display_name": "Shahzad Ali", "link": "https://stackoverflow.com/users/11492093/shahzad-ali"}, "reply_to_user": {"reputation": 17680, "user_id": 386738, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VfaLu.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/386738/daniel"}, "edited": false, "score": 0, "creation_date": 1569323992, "post_id": 58076370, "comment_id": 102552700, "body": "but all these work fine without launch screen only space on top and bottom"}], "owner": {"reputation": 93, "user_id": 11492093, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kD0acsOTBwE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcOQm_Tgnf7PfsNpAaMLj3ME0arlg/mo/photo.jpg?sz=128", "display_name": "Shahzad Ali", "link": "https://stackoverflow.com/users/11492093/shahzad-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569314700, "creation_date": 1569314700, "question_id": 58076370, "link": "https://stackoverflow.com/questions/58076370/how-to-fix-constraint-problem-on-iphone-x", "title": "how to fix constraint problem on iphone x?", "body": "<p>i have very old project its working fine till iPhone se 6 it has no constraint set but it work perfectly , when ever i am trying to use this on iPhone x it shows some white space on top and bottom but work perfect , when ever i add launch image it removes white space but shows little screen like lot of space on right side etc , is there are any way to fix this without adding constraint on all .xib file, this is very big project if add constraint on all screens it take time  so i want to find some middle way please guide me</p>\n"}, {"tags": ["objective-c", "xcode", "firebase", "crashlytics"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569315105, "post_id": 58075232, "comment_id": 102547597, "body": "If you can predict the crash, then just fix it :) You just need to think about which application states you should know, to be able to fix crashes."}, {"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569316912, "post_id": 58075232, "comment_id": 102548672, "body": "@Cy-4AH I can&#39;t predict it really. It happens for a few users a handful of times. I haven&#39;t been able to replicate it. I have just thrown in a few nil checks and CLS_LOGS that will hopefully patch things up and add a bit more information."}], "owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569310378, "creation_date": 1569310378, "question_id": 58075232, "link": "https://stackoverflow.com/questions/58075232/should-the-cls-log-be-placed-before-or-after-the-crash-either-way-it-wont-rec", "title": "Should the CLS_LOG be placed before or after the crash? Either way, it won&#39;t record the data", "body": "<p>I'm using <code>Crashlytics</code> and <code>CLS_LOGS</code> to send additional information about the crash to <code>firebase</code>. The logs are send when I simulate a crash, so things seems to be working.</p>\n\n<p>My dilemma however is that I don't understand how to send the data correctly when the crash occur. If I place the <code>CLS_LOG</code> before the crash it won't have the data that is initialized where the app crashes, and if I place the <code>CLS_LOG</code> after the crash, the <code>CLS_LOG</code> isn't send at all to <code>firebase</code>.</p>\n\n<p>To illustrate, here I place the <code>CLS_LOG</code> <strong>before</strong> the crash:</p>\n\n<pre><code>for(id index in phoneDicts) {\n    CLS_LOG(@\"phoneDicts:%@\", index);\n}\n//Crashes below\nNSArray* phoneDicts = [currentPerson objectForKey:@\"phones\"];\n</code></pre>\n\n<p>Since the crash occur at the initialization there isn't any data to send to firebase.</p>\n\n<p>And here I place the <code>CLS_LOG</code> <strong>after</strong> the crash:</p>\n\n<pre><code>//Crashes below\nNSArray* phoneDicts = [currentPerson objectForKey:@\"phones\"];\n\nfor(id index in phoneDicts) {\n    CLS_LOG(@\"phoneDicts:%@\", index);\n}\n</code></pre>\n\n<p>Here the <code>CLS_LOG</code> isn't sent at all since the app crash before it has a chance to send the data.</p>\n\n<p>So, how do I get it to send the data?</p>\n"}, {"tags": ["c#", "ios", "objective-c", "swift", "xamarin"], "comments": [{"owner": {"reputation": 844, "user_id": 7887963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPAWz.jpg?s=128&g=1", "display_name": "Prakash Shaiva", "link": "https://stackoverflow.com/users/7887963/prakash-shaiva"}, "edited": false, "score": 0, "creation_date": 1569307207, "post_id": 58074286, "comment_id": 102543865, "body": "Xamarin forum has an example for this, check <a href=\"https://github.com/xamarin/ios-samples/tree/master/StreamingAudio\" rel=\"nofollow noreferrer\">github.com/xamarin/ios-samples/tree/master/StreamingAudio</a>"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1569307466, "post_id": 58074286, "comment_id": 102543958, "body": "<a href=\"https://stackoverflow.com/a/19791333/4984832\">stackoverflow.com/a/19791333/4984832</a>"}, {"owner": {"reputation": 2156, "user_id": 2941906, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xqttv.jpg?s=128&g=1", "display_name": "puko", "link": "https://stackoverflow.com/users/2941906/puko"}, "reply_to_user": {"reputation": 844, "user_id": 7887963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZPAWz.jpg?s=128&g=1", "display_name": "Prakash Shaiva", "link": "https://stackoverflow.com/users/7887963/prakash-shaiva"}, "edited": false, "score": 0, "creation_date": 1569307711, "post_id": 58074286, "comment_id": 102544053, "body": "@PrakashShaiva i find that one but i want to use AvPlayer if it is possible."}, {"owner": {"reputation": 2156, "user_id": 2941906, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xqttv.jpg?s=128&g=1", "display_name": "puko", "link": "https://stackoverflow.com/users/2941906/puko"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1569307750, "post_id": 58074286, "comment_id": 102544078, "body": "@SushiHangover it is an seven years old answer. Is that still valid ?"}], "answers": [{"tags": [], "owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "is_accepted": true, "score": 2, "last_activity_date": 1569319412, "creation_date": 1569319412, "answer_id": 58077810, "question_id": 58074286, "link": "https://stackoverflow.com/questions/58074286/avplayer-is-downloading-mp3-instead-of-streaming/58077810#58077810", "title": "AvPlayer is downloading mp3 instead of streaming", "body": "<p>Start from iOS 10, set the <code>AutomaticallyWaitsToMinimizeStalling</code> to <code>false</code> or custom the time to delay:</p>\n\n<pre><code>public override void ViewDidLoad ()\n{\n    base.ViewDidLoad ();\n    // Perform any additional setup after loading the view, typically from a nib.\n\n    AVPlayerItem item = new AVPlayerItem(new NSUrl(\"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3\"));\n    AVPlayer _player = new AVPlayer(item);\n    _player.AutomaticallyWaitsToMinimizeStalling = false;\n    _player.Play();\n}\n</code></pre>\n\n<p>Refer: <a href=\"https://stackoverflow.com/questions/50554270/avplayer-stops-playing-video-after-buffering\">avplayer-stops-playing-video-after-buffering</a></p>\n"}], "owner": {"reputation": 2156, "user_id": 2941906, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xqttv.jpg?s=128&g=1", "display_name": "puko", "link": "https://stackoverflow.com/users/2941906/puko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 58077810, "answer_count": 1, "score": 2, "last_activity_date": 1569319412, "creation_date": 1569306626, "last_edit_date": 1569308854, "question_id": 58074286, "link": "https://stackoverflow.com/questions/58074286/avplayer-is-downloading-mp3-instead-of-streaming", "title": "AvPlayer is downloading mp3 instead of streaming", "body": "<p>Im creating an application when i want to stream mp3 files. Im using AvPlayer class. \nWhen i create avplayer instance i put file uri in constructor like: </p>\n\n<pre><code>_player = AVPlayer.FromUrl(NSUrl.FromString(\"Url\");\n_player.Play();\n</code></pre>\n\n<p>It is an c# code but i think its very similar to swift. \nWhen i call play method the mp3 file is downloading instead of streaming. I try to play long mp3 file (something about 50 minutes) and loading did takes to much time. When loading ends, mp3 play, but when i turn internet connection off and seek to the end, playback continue. </p>\n\n<p>How can i tell to avplayer that he have to streaming.\nI found a SO question <a href=\"https://stackoverflow.com/questions/41542841/why-avplayer-downloading-first-instead-live-streaming\">Why AVPlayer downloading first instead live streaming?</a> but there is no solution.</p>\n\n<p>Android MediaPlayer stream this mp3 without any problems.</p>\n"}, {"tags": ["objective-c", "firebase", "xcode11", "firebase-remote-config"], "comments": [{"owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1569716389, "post_id": 58073614, "comment_id": 102686208, "body": "Try building to update the ModuleCache."}, {"owner": {"reputation": 11, "user_id": 12040041, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDqD9skuBFmje6ZNaYsnmMJTxLJXeklfdpw9WTUxQ=k-s128", "display_name": "Anatoly Gurbanov", "link": "https://stackoverflow.com/users/12040041/anatoly-gurbanov"}, "reply_to_user": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1571042789, "post_id": 58073614, "comment_id": 103095535, "body": "@PaulBeusterien doesn&#39;t help"}], "owner": {"reputation": 11, "user_id": 12040041, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDqD9skuBFmje6ZNaYsnmMJTxLJXeklfdpw9WTUxQ=k-s128", "display_name": "Anatoly Gurbanov", "link": "https://stackoverflow.com/users/12040041/anatoly-gurbanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569313742, "creation_date": 1569302964, "last_edit_date": 1569313742, "question_id": 58073614, "link": "https://stackoverflow.com/questions/58073614/xcode-11-how-to-fix-module-firebaseremoteconfig-not-found", "title": "Xcode 11, how to fix &#39;Module &quot;FirebaseRemoteConfig&quot; not found&#39;?", "body": "<p>After I updated Xcode to version 11, appeared errors \"Could not build module 'Firebase'\" or \"Module 'FirebaseRemoteConfig' not found\". Anyone has the same problem with Xcode 11? How to fix this?</p>\n\n<p>I tried to update cocoapods, gem and firebase pod. \nAlso I tried deintegrate and install pods again, removed DerivedData and reset Xcode.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dJRUF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dJRUF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "codenameone"], "answers": [{"comments": [{"owner": {"reputation": 5565, "user_id": 1277576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FwWWe.jpg?s=128&g=1", "display_name": "Francesco Galgani", "link": "https://stackoverflow.com/users/1277576/francesco-galgani"}, "edited": false, "score": 0, "creation_date": 1569323868, "post_id": 58072663, "comment_id": 102552631, "body": "Thank you Shai, I confirm that removing the <code>file:</code> prefix and adding the <code>dispatch_sync</code> solve the issue: now I can see the preview of the video. About your suggestion to make the API asynchronous, if the purpose of this advice is to don&#39;t block the calling thread (that in this example is the Codename One EDT), is it the same if I call the native code from an EasyThread? In other words, if the caller thread is not the EDT, is there no requirement to use an async call?"}, {"owner": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "reply_to_user": {"reputation": 5565, "user_id": 1277576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FwWWe.jpg?s=128&g=1", "display_name": "Francesco Galgani", "link": "https://stackoverflow.com/users/1277576/francesco-galgani"}, "edited": false, "score": 1, "creation_date": 1569378616, "post_id": 58072663, "comment_id": 102573658, "body": "If you use a separate thread it&#39;s better because calling a blocking native thread API from the EDT is a deadlock waiting to happen. However, async calls are generally slower. If it&#39;s one image you can probably get away with it. But if you&#39;re making a thumbnail directory you might be better off with an API based on a callback or something like that."}], "tags": [], "owner": {"reputation": 49574, "user_id": 756809, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jFZnE.jpg?s=128&g=1", "display_name": "Shai Almog", "link": "https://stackoverflow.com/users/756809/shai-almog"}, "is_accepted": true, "score": 1, "last_activity_date": 1569295553, "creation_date": 1569295553, "answer_id": 58072663, "question_id": 58071366, "link": "https://stackoverflow.com/questions/58071366/ios-native-interface-to-get-preview-of-a-saved-video/58072663#58072663", "title": "iOS native interface to get preview of a saved video", "body": "<p>Make sure the URL for native doesn't include the <code>file:</code> prefix. Also wrap the native code in the iOS native thread as explained <a href=\"https://www.codenameone.com/blog/tip-use-native-edt.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>dispatch_sync(dispatch_get_main_queue(), ^{\n    // your native code here...\n});\n</code></pre>\n\n<p>I would recommend <code>dispatch_async</code> which is better but for that you would need to make the API asynchronous. E.g. <code>convetVideo(file, target)</code> and <code>isFinished()</code> which you can monitor in a thread.</p>\n"}], "owner": {"reputation": 5565, "user_id": 1277576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FwWWe.jpg?s=128&g=1", "display_name": "Francesco Galgani", "link": "https://stackoverflow.com/users/1277576/francesco-galgani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 58072663, "answer_count": 1, "score": 1, "last_activity_date": 1569295553, "creation_date": 1569282135, "question_id": 58071366, "link": "https://stackoverflow.com/questions/58071366/ios-native-interface-to-get-preview-of-a-saved-video", "title": "iOS native interface to get preview of a saved video", "body": "<p><em>Note for the readers: I tag this question as \"codenameone\" and \"objective-c\" because it refers to the use of a native interface, which implementation is in Objective-C, inside a Java application. If you don't know what is a native interface, it's explained here: <a href=\"https://www.codenameone.com/how-do-i---access-native-device-functionality-invoke-native-interfaces.html\" rel=\"nofollow noreferrer\">https://www.codenameone.com/how-do-i---access-native-device-functionality-invoke-native-interfaces.html</a> - I don't know if my code doesn't work because it have issues in the Java part or in the Objective-C part</em></p>\n\n<hr>\n\n<p>In my previous question \"<a href=\"https://stackoverflow.com/questions/58052585/from-video-to-image-in-codename-one\">From video to image in Codename One</a>\", the answer was that \"the only way to do that is through native code\".</p>\n\n<p>I tried to write a native interface (for iOS, at the moment) to do that, but the preview is not shown. I merged some code that I found on Stack Overflow, because I'm not an Objective-C programmer. It compiles without errors, I attach the code and the native log.</p>\n\n<p>Could you help me to fix my code, please? Thank you</p>\n\n<p>main class:</p>\n\n<pre><code>Form hi = new Form(\"Video editing test\", BoxLayout.y());\n        Button previewBtn = new Button(\"Extract preview of video\");\n        Label label = new Label(\"\") {\n            public Dimension calcPreferredSize() {\n                Dimension dim = super.calcPreferredSize();\n                dim.setHeight(CN.convertToPixels(50, false));\n                return dim;\n            }\n        };\n        hi.addAll(previewBtn, label);\n        hi.show();\n\n        previewBtn.addActionListener(l -&gt; {\n            CN.openGallery(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent ev) {\n                    if (ev.getSource() != null) {\n                        try {\n                            Log.p(\"Source video (temp file): \" + ev.getSource(), Log.DEBUG);\n                            String extension = ((String) ev.getSource()).substring(((String) ev.getSource()).lastIndexOf('.') + 1);\n                            String videoFile = getAppHomePath() + \"myFunVideo\" + \".\" + extension;\n                            String jpegFile = getAppHomePath() + \"myFunVideoPreview\" + \".\" + \"jpeg\";\n                            Util.copy(FileSystemStorage.getInstance().openInputStream((String) ev.getSource()), FileSystemStorage.getInstance().openOutputStream(videoFile));\n                            Log.p(\"Video copied into app home path: \" + videoFile, Log.DEBUG);\n                            VideoEditing videoEditing = NativeLookup.create(VideoEditing.class);\n                            if (videoEditing != null &amp;&amp; videoEditing.isSupported()) {\n                                videoEditing.getImageFromVideo(videoFile, jpegFile);\n                                Log.p(\"Native code executed, the jpeg file is: \" + jpegFile, Log.DEBUG);\n                                EncodedImage encodedImg = EncodedImage.create(FileSystemStorage.getInstance().openInputStream(jpegFile));\n                                label.getAllStyles().setBackgroundType(Style.BACKGROUND_IMAGE_SCALED_FIT);\n                                label.getAllStyles().setBgImage(encodedImg);\n                                label.repaint();\n                                Log.p(\"Preview image shown fitted inside a Label which height is 5 cm\", Log.DEBUG);\n                            } else {\n                                Log.p(\"Native code cannot be executed!!!\", Log.WARNING);\n                                FontImage warning = FontImage.createMaterial(FontImage.MATERIAL_WARNING, \"Label\", 50);\n                                label.getAllStyles().setBackgroundType(Style.BACKGROUND_IMAGE_SCALED_FIT);\n                                label.getAllStyles().setBgImage(warning);\n                                label.repaint();\n                            }\n                        } catch (IOException ex) {\n                            Log.e(ex);\n                        }\n                    }\n                }\n            }, CN.GALLERY_VIDEO);\n        });\n</code></pre>\n\n<p>native interface:</p>\n\n<pre><code>public interface VideoEditing extends NativeInterface {\n\n    /**\n     * Extract the first frame from the given video file and saves it to the given jpeg file\n     * @param videoFile FileSystemStorage path of the video file\n     * @param jpegFile FileSystemStorage path of the jpeg image file, \n     */\n    public void getImageFromVideo(String videoFile, String jpegFile);\n\n}\n</code></pre>\n\n<p>native interface implementation:</p>\n\n<pre><code>#import \"net_informaticalibera_videoediting_VideoEditingImpl.h\"\n#import &lt;AVFoundation/AVAsset.h&gt;\n#import &lt;AVFoundation/AVAssetImageGenerator.h&gt;\n\n@implementation net_informaticalibera_videoediting_VideoEditingImpl\n\n-(void)getImageFromVideo:(NSString*)param param1:(NSString*)param1{\n    NSLog(@\"Called iOS native code, method \\\"getImageFromVideo\\\"\");\n    NSString* videoFile = param;\n    NSString* jpegFile = param1;\n    NSLog(@\"The video file is: %@\\nThe jpeg file is: %@\", videoFile, jpegFile);\n\n    NSURL* contentURL = [NSURL fileURLWithPath:videoFile];\n\n    // https://stackoverflow.com/a/10677003\n    AVURLAsset *asset = [[AVURLAsset alloc] initWithURL:contentURL options:nil];\n    AVAssetImageGenerator *generator = [[AVAssetImageGenerator alloc] initWithAsset:asset];\n    generator.appliesPreferredTrackTransform = YES;\n    NSError *err = NULL;\n    CMTime time = CMTimeMake(1, 60);\n    CGImageRef imgRef = [generator copyCGImageAtTime:time actualTime:NULL error:&amp;err];\n\n    UIImage *theImage = [[[UIImage alloc] initWithCGImage:imgRef] autorelease];\n    // Save image.\n    [UIImageJPEGRepresentation(theImage, 0.9) writeToFile:jpegFile atomically:YES];\n\n    CGImageRelease(imgRef);\n    [asset release];\n    [generator release];\n}\n\n-(BOOL)isSupported{\n    return YES;\n}\n\n@end\n</code></pre>\n\n<p>native log:</p>\n\n<pre><code>Sep 24 00:32:47 iPhone MyApplication(libAccessibility.dylib)[1545] &lt;Notice&gt;: Retrieving resting unlock: 0\nSep 24 00:32:47 iPhone MyApplication(FrontBoardServices)[1545] &lt;Notice&gt;: [FBSDisplaySource 1-1] silently connecting &lt;FBSDisplayConfiguration: 0x281d6c380; Main; mode: \"375x812@3x 60Hz p3 SDR\"&gt;\nSep 24 00:32:47 iPhone MyApplication(FrontBoardServices)[1545] &lt;Notice&gt;: [FBSDisplaySource 1-1] initialized &lt;FBSDisplayConfiguration: 0x281d6c380; Main; mode: \"375x812@3x 60Hz p3 SDR\"&gt;\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; {strength 1, tls 8, ct 0, sub 0, sig 0, ciphers 1, bundle 0, builtin 0}\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC Enabling TLS [1:0x2811436c0]\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TCP Conn Start [1:0x2811436c0]\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: [C1 Hostname#82a7f361:443 tcp, url hash: fe9d5b61, tls] start\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_connection_report_state_with_handler_locked [C1] reporting state preparing\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; setting up Connection 1\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Sending CFNA PAC query\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Received CFNA PAC response\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_endpoint_flow_protocol_connected [C1.1 IPv4#ab6e0ca5:48083 in_progress channel-flow (satisfied)] Transport protocol connected\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_endpoint_flow_protocol_connected [C1.1 IPv4#ab6e0ca5:48083 in_progress channel-flow (satisfied)] Output protocol connected\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_connection_report_state_with_handler_locked [C1] reporting state ready\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TCP Conn Connected [1:0x2811436c0]: Err(16)\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TCP Conn Event [1:0x2811436c0]: 1\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC Enabling TLS [1:0x2811436c0]\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_connection_report_state_with_handler_locked [C1] reporting state preparing\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_endpoint_flow_protocol_connected [C1.1 IPv4#ab6e0ca5:48083 in_progress channel-flow (satisfied)] Transport protocol connected\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Event [1:0x2811436c0]: 1, Pending(0)\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Event [1:0x2811436c0]: 11, Pending(0)\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Event [1:0x2811436c0]: 14, Pending(0)\nSep 24 00:32:47 iPhone MyApplication(HangTracer)[1545] &lt;Notice&gt;: HTHangEventCreate: HangTracing is disabled. Not creating a new event.\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: System Trust Evaluation yielded status(0)\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Trust Result [1:0x2811436c0]: 0\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Event [1:0x2811436c0]: 2, Pending(0)\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_endpoint_flow_protocol_connected [C1.1 IPv4#ab6e0ca5:48083 in_progress channel-flow (satisfied)] Output protocol connected\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_connection_report_state_with_handler_locked [C1] reporting state ready\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Event [1:0x2811436c0]: 20, Pending(0)\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TCP Conn Event [1:0x2811436c0]: 8\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TLS Handshake Complete [1:0x2811436c0]\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; now using Connection 1\nSep 24 00:32:47 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_endpoint_flow_protocol_connected [C1.1 IPv4#ab6e0ca5:48083 ready channel-flow (satisfied)] Output protocol connected\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; sent request, body N\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; received response, status 200 content K\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; response ended\nSep 24 00:32:47 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: Task &lt;20C63C46-4F13-4D86-8115-28DA44623E13&gt;.&lt;0&gt; done using Connection 1\nSep 24 00:32:47 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Will reevaluate code items and load any needed ax code items now\nSep 24 00:32:47 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: found 45 axbundle(s) requiring load\nSep 24 00:32:47 iPhone MyApplication(QuickLook)[1545] &lt;Notice&gt;: Loading PDFKit\nSep 24 00:32:47 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Finished loading ax code items\nSep 24 00:32:48 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Will reevaluate code items and load any needed ax code items now\nSep 24 00:32:48 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: found 0 axbundle(s) requiring load\nSep 24 00:32:48 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Finished loading ax code items\nSep 24 00:33:15 iPhone MyApplication(AXRuntime)[1545] &lt;Error&gt;: Unknown client: MyApplication\nSep 24 00:33:15 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Will reevaluate code items and load any needed ax code items now\nSep 24 00:33:15 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: found 1 axbundle(s) requiring load\nSep 24 00:33:15 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Finished loading ax code items\nSep 24 00:33:17 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TCP Conn Cancel [1:0x2811436c0]\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: [C1 Hostname#82a7f361:443 tcp, url hash: fe9d5b61, tls] cancel\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: [C1 Hostname#82a7f361:443 tcp, url hash: fe9d5b61, tls] cancelled\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;:  [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083]\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;:  Connected Path: satisfied (Path is satisfied), interface: en2, ipv4, dns\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;:  Duration: 30.474s, , TCP @0.039s took 0.000s, TLS took 0.038s\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;:  bytes in/out: 3500/910, packets in/out: 6/4, rtt: 0.000s, retransmitted packets: 0, out-of-order packets: 0\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.000s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] path:start\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.000s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] proxy:start_process\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.000s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] proxy:finish_process\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.000s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] proxy:start_resolve\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.009s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] proxy:finish_resolve\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.009s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] path:start\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.009s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] path:satisfied\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.009s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:start_nexus\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.009s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:receive_nexus\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.009s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:start_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.010s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:finish_transport\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.010s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:finish_transport\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.010s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:finish_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.010s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:finish_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.010s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:changed_viability\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.010s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:changed_viability\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.039s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:start_secondary_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.039s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:start_secondary_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.039s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:start_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.039s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:start_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.039s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:finish_transport\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.077s [C1.1 &lt;private&gt; 192.168.2.9:52264&lt;-&gt;IPv4#ab6e0ca5:48083 channel-flow] flow:finish_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 0.077s [C1 &lt;private&gt; Hostname#82a7f361:443 proxy] flow:finish_connect\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: 30.474s [C1] path:cancel\nSep 24 00:33:17 iPhone MyApplication(libusrtcp.dylib)[1545] &lt;Notice&gt;: nw_protocol_tcp_log_summary [C1.1:2] \nSep 24 00:33:17 iPhone MyApplication(libusrtcp.dylib)[1545] &lt;Notice&gt;:   Init: 1, Conn_Time: 0.494ms, Syn's: 1, WR_T: 0/0, RD_T: 0/0, TFO: 0/0/0, ECN: 0/1/1, TS: 1\nSep 24 00:33:17 iPhone MyApplication(libusrtcp.dylib)[1545] &lt;Notice&gt;:   RTT_Cache: kernel, rtt_upd: 5, rtt: 0.468ms, rtt_var: 0.562ms rtt_nc: 0.000ms, rtt_var_nc: 0.000ms\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_endpoint_flow_protocol_disconnected [C1.1 IPv4#ab6e0ca5:48083 cancelled channel-flow (null)] Output protocol disconnected\nSep 24 00:33:17 iPhone MyApplication(libnetwork.dylib)[1545] &lt;Notice&gt;: nw_connection_report_state_with_handler_locked [C1] reporting state cancelled\nSep 24 00:33:17 iPhone MyApplication(CFNetwork)[1545] &lt;Notice&gt;: TIC TCP Conn Destroyed [1:0x2811436c0]\nSep 24 00:33:18 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Will reevaluate code items and load any needed ax code items now\nSep 24 00:33:18 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: found 0 axbundle(s) requiring load\nSep 24 00:33:18 iPhone MyApplication(AccessibilityUtilities)[1545] &lt;Notice&gt;: Finished loading ax code items\nSep 24 00:33:28 iPhone MyApplication(Foundation)[1545] &lt;Error&gt;: errors encountered while discovering extensions: Error Domain=PlugInKit Code=13 \"query cancelled\" UserInfo={NSLocalizedDescription=query cancelled}\nSep 24 00:33:28 iPhone MyApplication(Foundation)[1545] &lt;Error&gt;:     owner = &lt;BSProcessHandle: 0x147f25890; PhotoPicker:1548; valid: YES&gt;;\nSep 24 00:33:28 iPhone MyApplication(Foundation)[1545] &lt;Error&gt;:     flags = preventSuspend, preventIdleSleep, preventSuspendOnSleep;\nSep 24 00:33:28 iPhone MyApplication(Foundation)[1545] &lt;Error&gt;: }\n</code></pre>\n"}, {"tags": ["javascript", "html", "objective-c", "wkwebview", "wkwebviewconfiguration"], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": false, "score": 1, "last_activity_date": 1569279589, "creation_date": 1569279589, "answer_id": 58071135, "question_id": 58070588, "link": "https://stackoverflow.com/questions/58070588/change-margin-for-br-div-and-span-in-wkwebview-kit-in-objective-c/58071135#58071135", "title": "change margin for &lt;br&gt; &lt;div&gt; and &lt;span&gt; in wkwebview kit in objective c", "body": "<p>I think you may be slightly confused about <code>&lt;br&gt;</code> tags.  <code>&lt;br&gt;</code> or <code>&lt;br /&gt;</code> are self-closing/void elements/empty tags:</p>\n\n<p><a href=\"https://www.w3schools.com/html/html_elements.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/html/html_elements.asp</a> (under the empty html section)\n<a href=\"http://xahlee.info/js/html5_non-closing_tag.html\" rel=\"nofollow noreferrer\">http://xahlee.info/js/html5_non-closing_tag.html</a></p>\n\n<blockquote>\n  <p><code>&lt;br&gt;</code> is an empty element without a closing tag (the <code>&lt;br&gt;</code> tag defines a line break):</p>\n</blockquote>\n\n<p>So when you're subbing in <code>&lt;br&gt;&lt;br /&gt;</code> you're actually subbing in two line breaks.  From your description it sounds as if you only want one line break, so you'll want to remove one of them.</p>\n"}], "owner": {"reputation": 3015, "user_id": 755094, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d50e32f04ab40db234466f8879f215b7?s=128&d=identicon&r=PG", "display_name": "ios developer", "link": "https://stackoverflow.com/users/755094/ios-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569279589, "creation_date": 1569275146, "question_id": 58070588, "link": "https://stackoverflow.com/questions/58070588/change-margin-for-br-div-and-span-in-wkwebview-kit-in-objective-c", "title": "change margin for &lt;br&gt; &lt;div&gt; and &lt;span&gt; in wkwebview kit in objective c", "body": "<p>I wanted to reduce the space in the HTML string.\nbelow is the code is am using</p>\n\n<pre><code>  NSString *headerString = @\"&lt;header&gt;&lt;meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'&gt;&lt;/header&gt;\";\n    headerString = [headerString stringByAppendingString:htmlstring];\n    headerString = [headerString stringByReplacingOccurrencesOfString:@\"&lt;br&gt;&lt;br/&gt;&lt;br/&gt;&lt;br&gt;&lt;br/&gt;&lt;br/&gt;\" withString:@\"&lt;br&gt;&lt;br/&gt;\"];\n    headerString = [headerString stringByReplacingOccurrencesOfString:@\"&lt;br&gt;&lt;br/&gt;&lt;br&gt;&lt;br/&gt;\" withString:@\"&lt;br&gt;&lt;br/&gt;\"];\n [webviewkit loadHTMLString:headerString baseURL:nil];\n</code></pre>\n\n<p>I had also tried using Javascript but i am not sure what exactly the java script i should passed which will only give 1line spacing instead of mulitple line spacing :</p>\n\n<pre><code>- (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation {\n [webView evaluateJavaScript:@\"document.open();document.close()\" completionHandler:^(id _Nullable stringresult, NSError * _Nullable error) {\n        NSLog(@\"result=&gt;%@ error-&gt;%@\",stringresult,error);\n    }];\n}\n</code></pre>\n\n<p>But i am not able to remove the spacing properly.</p>\n\n<pre><code>&lt;header&gt;&lt;meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'&gt;&lt;/header&gt;&lt;div&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-size: 16px; font-family: Arial;\"&gt;Hello and welcome to XYZ session!&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;br/&gt;&lt;span style=\"font-family: Arial;\"&gt;Over the next three Hello world.&amp;nbsp; Spacing takes alot of spaces over here due to span , br and div tags.&lt;/span&gt;&lt;br&gt;&lt;br/&gt;&lt;span style=\"font-family: Arial;\"&gt;Thank you again for agreeing to participate and helping the discussion....&lt;/span&gt;&lt;br&gt;&lt;br/&gt;&lt;span style=\"font-family: Arial;\"&gt;Over here,&lt;/span&gt;&lt;br&gt;&lt;br/&gt;&lt;/span&gt;&lt;/div&gt;&lt;br/&gt;&lt;ul&gt;&lt;br/&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;I will be posting questions over here in stack overflow&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;br/&gt;    &lt;/span&gt;&lt;/li&gt;&lt;br/&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Throughout the day I will read everyone's responses and sometimes respond with my own follow-up questions.&amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;br/&gt;    &lt;/span&gt;&lt;/li&gt;&lt;br/&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Please be i request to provide the code in objective c&lt;/span&gt;&lt;br&gt;&lt;br/&gt;    &lt;/span&gt;&lt;/li&gt;&lt;br/&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. &amp;nbsp;&lt;/span&gt;&lt;br&gt;&lt;br/&gt;    &lt;/span&gt;&lt;/li&gt;&lt;br/&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px;\"&gt;&lt;span style=\"font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. &lt;/span&gt;&lt;br&gt;&lt;br/&gt;    &lt;/span&gt;&lt;/li&gt;&lt;br/&gt;    &lt;li&gt;&lt;span style=\"font-size: 16px; font-family: Arial;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. &lt;/span&gt;&lt;/li&gt;&lt;br/&gt;&lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "react-native", "azure-notificationhub"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 3366361, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/528f1a30e6c4c22630cc79852c0b0260?s=128&d=identicon&r=PG", "display_name": "Talut Tasgiran", "link": "https://stackoverflow.com/users/3366361/talut-tasgiran"}, "is_accepted": true, "score": 0, "last_activity_date": 1569307538, "creation_date": 1569307538, "answer_id": 58074501, "question_id": 58070124, "link": "https://stackoverflow.com/questions/58070124/notificationhub-register-issue-at-ios-react-native/58074501#58074501", "title": "NotificationHub Register issue at IOS (React Native)", "body": "<p>Finally I found the answer. </p>\n\n<p>At first when <strong>deviceToken</strong> is generated I'm storing at <strong>NSUserDefaults</strong> </p>\n\n<pre><code>NSUserDefaults *userPreferences = [NSUserDefaults standardUserDefaults];\n[userPreferences setObject:deviceToken forKey:@\"deviceToken\"];\n[userPreferences synchronize];\n</code></pre>\n\n<p>And when user login I'm getting the deviceToken from NSUserDefault in NativeModules and sending to NotificationHub.</p>\n\n<pre><code>NSData *token = [[NSUserDefaults standardUserDefaults] objectForKey:@\"deviceToken\"];\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 3366361, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/528f1a30e6c4c22630cc79852c0b0260?s=128&d=identicon&r=PG", "display_name": "Talut Tasgiran", "link": "https://stackoverflow.com/users/3366361/talut-tasgiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 58074501, "answer_count": 1, "score": 0, "last_activity_date": 1569307538, "creation_date": 1569272274, "last_edit_date": 1569304897, "question_id": 58070124, "link": "https://stackoverflow.com/questions/58070124/notificationhub-register-issue-at-ios-react-native", "title": "NotificationHub Register issue at IOS (React Native)", "body": "<p>I'm trying to register <strong>notificationHub</strong> from React Native. I created a <strong>NativeModule</strong> and I'm sending <strong>connectionString</strong>, <strong>hubName</strong>, <strong>tags</strong> and <strong>deviceToken</strong> - deviceToken was saved to <strong>AsyncStorage</strong> (I'm getting deviceToken before user logged and I can't register Notification Hub without user tag (ex: scholarshipID) so I'm saving deviceToken for later usage. Because I can't send user tags to <code>didRegisterForRemoteNotificationsWithDeviceToken</code> from RN )</p>\n\n<p>After user login I'm getting user scholarshipID &amp; deviceToken and sending to native module for NotificationHub register. </p>\n\n<pre><code> // deviceToken:(NSString *)tokenForLaterUsage\n\n [hub\n   registerNativeWithDeviceToken:tokenForLaterUsage\n   tags:self-&gt;_tags\n   completion:^(NSError* error)\n   {\n     if (error != nil) {\n       NSLog(@\"Error registering for notifications: %@\", error);\n     }else{\n       NSLog(@\"Success\");\n     }\n   }];\n</code></pre>\n\n<p>My <strong>tokenForLaterUsage</strong> is string and if I try use directly app is crashing. Because <strong>NotificationHub</strong> register function is waiting <strong>NSData</strong> so I'm  converting <strong>NSString</strong> to <strong>NSData</strong> like this way:</p>\n\n<pre><code>    NSData* data = [tokenForLaterUsage dataUsingEncoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>After this I'm going Azure Portal and trying to send notification but system saying no device found.</p>\n\n<p>BTW : When I try to register to NotificationHub in here: <code>didRegisterForRemoteNotificationsWithDeviceToken</code> <strong>it's work well</strong> but I can't set tags so this is not for me. From here I'm just getting deviceToken for later usage.</p>\n\n<p>-- </p>\n\n<p><em>note: I'm thinking 2 workaround to solve this issue (But I'm not sure if works.):</em></p>\n\n<ol>\n<li><em>Workaround</em>: I don't know but if I can I'll not register at first and when user will be login I'll get deviceToken on IOS and I'll try to register to NotificationHub. </li>\n<li><em>Workaround</em>: I'll send my deviceToken to directly backend with restApi and backEnd will pair user tags and deviceToken.</li>\n</ol>\n\n<p><em>Sorry things mixed but I need to solve this. Also sorry for my English :).</em></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569272544, "post_id": 58066110, "comment_id": 102535984, "body": "Please <a href=\"https://stackoverflow.com/posts/58066110/edit\">edit</a> your question to include the complete error message. Also add the complete output of the <code>NSLog</code> statement."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569272606, "post_id": 58066110, "comment_id": 102536016, "body": "<i>&quot;Technically, the initial View Controller is the Navigation Controller&quot;</i> - well there&#39;s your problem. <code>rootViewController</code> is a <code>UINavigationController</code>, not the view controller inside the nav controller."}, {"owner": {"reputation": 387, "user_id": 3088956, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8wK8o.png?s=128&g=1", "display_name": "Branch", "link": "https://stackoverflow.com/users/3088956/branch"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569277292, "post_id": 58066110, "comment_id": 102537216, "body": "@rmaddy NSLog and error have been added. I&#39;ve tried various examples to set the root correctly, but all either cause Xcode errors or bugs in the app."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1569280175, "last_edit_date": 1569280175, "creation_date": 1569277679, "answer_id": 58070910, "question_id": 58066110, "link": "https://stackoverflow.com/questions/58066110/issues-with-rootviewcontroller-and-home-screen-quick-actions/58070910#58070910", "title": "Issues with rootViewController and Home Screen Quick Actions", "body": "<p>The problem is this:</p>\n\n<pre><code>ViewController *rootViewController = (ViewController *)[self.window rootViewController];\n</code></pre>\n\n<p>But you have stated that the root view controller is a UINavigationController. You need to get your <code>ViewController</code> from the nav controller.</p>\n\n<pre><code>UINavigationController *rootViewController = (UINavigationController *)self.window.rootViewController;\nViewController *viewController = (ViewController *)rootViewController.topViewController;\n</code></pre>\n\n<p>Then update the rest of the code to work on <code>viewController</code>.</p>\n"}], "owner": {"reputation": 387, "user_id": 3088956, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8wK8o.png?s=128&g=1", "display_name": "Branch", "link": "https://stackoverflow.com/users/3088956/branch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 58070910, "answer_count": 1, "score": 0, "last_activity_date": 1569280175, "creation_date": 1569254231, "last_edit_date": 1569277212, "question_id": 58066110, "link": "https://stackoverflow.com/questions/58066110/issues-with-rootviewcontroller-and-home-screen-quick-actions", "title": "Issues with rootViewController and Home Screen Quick Actions", "body": "<p>I have the below Objective-C code to launch my app with Home Screen Quick Actions:</p>\n\n<pre><code>- (void)applyShortcutItem:(UIApplicationShortcutItem *)shortcutItem\n{\n    ViewController *rootViewController = (ViewController *)[self.window rootViewController];\n\n    NSLog(@\"Here %@ - %@\", rootViewController, shortcutItem);\n\n    if([shortcutItem.type isEqualToString:@\"LaunchMode0\"])\n    {\n        [rootViewController setShortcutAction:LaunchMode0];\n    }\n    else if([shortcutItem.type isEqualToString:@\"LaunchMode1\"])\n    {\n        [rootViewController setShortcutAction:LaunchMode1];\n    }\n}\n</code></pre>\n\n<p>However, I keep getting runtime errors (unrecognized selected sent to instance) when I try to launch with the quick actions. Notably, it's these two lines where the app seems to trip up:</p>\n\n<p><code>[rootViewController setShortcutAction:LaunchMode0];</code> and <code>[rootViewController setShortcutAction:LaunchMode1];</code></p>\n\n<p>It doesn't seem to like the rootViewController. Technically, the initial View Controller is the Navigation Controller, however the app launches to my main view controller (the app only has two views, the main one, and an about page).</p>\n\n<p>There is more code above that code in my project, but this is the part that's giving me the error-- but let me know if seeing the other code would help (I didn't want the post to be too code heavy).</p>\n\n<p>Thanks so much!</p>\n\n<p>EDIT: as requested, here is the complete NSLog.</p>\n\n<pre><code>2019-09-23 18:18:01.317271-0400 AppName[1719:200993] Here &lt;UINavigationController: 0x108802200&gt; - &lt;UIApplicationShortcutItem: 0x282bd1500; type: Mode1Shortcut, title: Mode 1&gt;\n2019-09-23 18:18:01.321819-0400 AppName[1719:200993] -[UINavigationController setShortcutAction:]: unrecognized selector sent to instance 0x108802200\n2019-09-23 18:18:01.323462-0400 AppName[1719:200993] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[UINavigationController setShortcutAction:]: unrecognized selector sent to instance 0x108802200'\n*** First throw call stack:\n(0x2045aa98c 0x2037839f8 0x2044c71c8 0x231033220 0x2045b01d4 0x2045b1e6c 0x102c14af0 0x102c148ec 0x230ffdf90 0x2308cc468 0x2308cd150 0x2308cc224 0x2308d0f24 0x230c012b0 0x206f275d8 0x102fecc78 0x102ff0840 0x206f61040 0x206f60cdc 0x206f61294 0x20453c728 0x20453c6a8 0x20453bf90 0x204536ecc 0x2045367c0 0x20673779c 0x231007c38 0x102c076d0 0x203ffa8e0)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n(lldb) \n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "nsarray"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569245057, "post_id": 58063245, "comment_id": 102523254, "body": "Looks to me like <code>currentPerson</code> is an <code>NSString</code>, possibly in JSON format."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 1, "creation_date": 1569245097, "post_id": 58063245, "comment_id": 102523273, "body": "This doesn&#39;t look like <code>NSLog</code> output. Where is &quot;line 318&quot; coming from? Perhaps you&#39;ve aliased <code>NSLog</code> to something nonstandard (possibly something that doesn&#39;t handle newlines)? Typically the output would be something like <code>2019-09-23 09:24:23.651776-0400 test[87523:24793248] Hello, World!</code>"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 2, "creation_date": 1569245198, "post_id": 58063245, "comment_id": 102523342, "body": "Fo me it&#39;s look&#39;s like that you have some parameters in log filter."}, {"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "reply_to_user": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 0, "creation_date": 1569248073, "post_id": 58063245, "comment_id": 102525129, "body": "@RobNapier Sorry, I was just shortening it. I have updated now."}, {"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569248076, "post_id": 58063245, "comment_id": 102525131, "body": "@Cy-4AH Yes, I filter the emoji to find it easier, or did you mean something else?"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1569249245, "post_id": 58063245, "comment_id": 102525805, "body": "Yes. Exactly. You have filtered the rest of the log message."}, {"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1569249678, "post_id": 58063245, "comment_id": 102526054, "body": "@Cy-4AH Holy cow, you are right! It must have removed the data from the log to because there was so much of it. Removing my search filter and just looking through my log I can now find all the data! Big thanks!!! Write a real response if you want me to accept the answer."}], "owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569247993, "creation_date": 1569244242, "last_edit_date": 1569247993, "question_id": 58063245, "link": "https://stackoverflow.com/questions/58063245/how-do-i-log-the-correct-type-of-an-nsarray", "title": "How do I Log the correct type of an NSArray?", "body": "<p>I have an <code>array</code> that looks like this: </p>\n\n<pre><code>NSArray* phoneDicts = [currentPerson objectForKey:@\"phones\"];\n</code></pre>\n\n<p>And to Log the result I use a loop like this:</p>\n\n<pre><code>for(id index in phoneDicts) {\n        NSLog(@\"\ud83d\ude0e phoneDicts:%@\", index);\n    }\n</code></pre>\n\n<p>But the only output I get is this:</p>\n\n<pre><code>2019-09-23 16:11:41.142931+0200 Mi[13183:468712] -[CurrentPerson phoneStatuses] line 315 $ \ud83d\ude0e phoneDicts:{\n</code></pre>\n\n<p>It ends with <code>{</code> and I'm not sure what that means.\nI did a nil check to make sure it wasn't void of data. I also did a count on phoneDicts and it returned 4, so there is definitely data on the array. </p>\n\n<p>I also tried: </p>\n\n<pre><code>NSLog(@\"\ud83d\ude48 phoneDicts object for key: %@\", [phoneDicts valueForKey:@\"phones\"]);\n</code></pre>\n\n<p>But this gave me similar results, this time ending with <code>(</code>: </p>\n\n<pre><code>2019-09-23 16:11:41.142609+0200 Mi[13183:468712] -[CurrentPerson phoneStatuses] line 313 $ \ud83d\ude48 phoneDicts object for key: (\n</code></pre>\n\n<p>So, what am I missing? New to objective-c, so I'm not sure if I'm logging the result the right way.</p>\n"}, {"tags": ["ios", "objective-c", "uidatepicker"], "comments": [{"owner": {"reputation": 3065, "user_id": 4397361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zX07a.jpg?s=128&g=1", "display_name": "Pratik Sodha", "link": "https://stackoverflow.com/users/4397361/pratik-sodha"}, "edited": false, "score": 0, "creation_date": 1569231987, "post_id": 58059667, "comment_id": 102516320, "body": "Please share more detail about your code."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569232334, "post_id": 58059667, "comment_id": 102516487, "body": "What&#39;s your locale?"}, {"owner": {"reputation": 6959, "user_id": 1023074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YqZO0.png?s=128&g=1", "display_name": "Sunil Targe", "link": "https://stackoverflow.com/users/1023074/sunil-targe"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1569233409, "post_id": 58059667, "comment_id": 102516974, "body": "@Larme I already asked user to provide more information. But seems its locale issue, So I&#39;ll try to fix it."}], "answers": [{"comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569232938, "post_id": 58059868, "comment_id": 102516766, "body": "Georgen? Don&#39;t you mean Gregorian?"}, {"owner": {"reputation": 786, "user_id": 4530069, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/967c7bde269d3e7c2b69ed446bf2dc4d?s=128&d=identicon&r=PG&f=1", "display_name": "Kushal Maniyar", "link": "https://stackoverflow.com/users/4530069/kushal-maniyar"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1569233163, "post_id": 58059868, "comment_id": 102516862, "body": "Yes! , Apologies for the typo."}], "tags": [], "owner": {"reputation": 786, "user_id": 4530069, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/967c7bde269d3e7c2b69ed446bf2dc4d?s=128&d=identicon&r=PG&f=1", "display_name": "Kushal Maniyar", "link": "https://stackoverflow.com/users/4530069/kushal-maniyar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569233173, "last_edit_date": 1569233173, "creation_date": 1569232652, "answer_id": 58059868, "question_id": 58059667, "link": "https://stackoverflow.com/questions/58059667/getting-incorrect-yyyy-format-in-uidatepicker/58059868#58059868", "title": "Getting incorrect yyyy format in UIDatePicker", "body": "<p>Please check your locale it's different than Gregorian. If you want your <code>DateFormatter</code> should always Gregorian calender please check the below extension. </p>\n\n<pre><code>extension DateFormatter {\n\nprivate static var dateFormatter = DateFormatter()\n\nclass func initWithSafeLocale(withDateFormat dateFormat: String? = nil) -&gt; DateFormatter {\n\n    dateFormatter = DateFormatter()\n    dateFormatter.locale = Locale.init(identifier: \"en_US_POSIX\")\n    if dateFormat != nil, let format = dateFormat {\n        dateFormatter.dateFormat = format\n    }else{\n        dateFormatter.dateFormat = \"yyyy-MM-dd HH:mm:ss\"\n    }\n    return dateFormatter\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>extension Date {\n\nvar dateFormatted: String {\n    let formatter = DateFormatter.initWithSafeLocale(withDateFormat: DateFormatorEnum.yyyyMMDD.rawValue)\n    return  formatter.string(from: self as Date)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Usage:</p>\n\n<pre><code>self.txtDateOfBirth.text = datePicker.date.dateFormatted\n</code></pre>\n\n<p>It will display date picker on local but text filed always have Georgen date.</p>\n\n<p>Cheers!   </p>\n"}], "owner": {"reputation": 6959, "user_id": 1023074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/YqZO0.png?s=128&g=1", "display_name": "Sunil Targe", "link": "https://stackoverflow.com/users/1023074/sunil-targe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569233173, "creation_date": 1569231852, "question_id": 58059667, "link": "https://stackoverflow.com/questions/58059667/getting-incorrect-yyyy-format-in-uidatepicker", "title": "Getting incorrect yyyy format in UIDatePicker", "body": "<p>One of my user facing Date picker issue and it looks like this. I don't why yyyy format is like this.</p>\n\n<p>Does anyone face this before?</p>\n\n<p><a href=\"https://i.stack.imgur.com/TLjf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TLjf5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "xcode", "dictionary", "for-loop"], "comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1569245746, "post_id": 58059665, "comment_id": 102523688, "body": "According to your recent Qs: Are you aware of the possibility to print out a whole collection with <code>NSLog( &quot;a collection: %@&quot;, dictOrArrayOrWhateverCollection )</code>. Usually you do not have to iterate."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "edited": false, "score": 0, "creation_date": 1569236394, "post_id": 58059713, "comment_id": 102518498, "body": "Thanks, that worked great! Could you just elaborate a bit on what you just did? Objective-C seems so... confusing to me"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "edited": false, "score": 0, "creation_date": 1569236776, "post_id": 58059713, "comment_id": 102518692, "body": "@WhipperSnapper I tested if the value was of type <code>NSNumber</code> and used the method it provides to provide a string representation."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569243507, "post_id": 58059713, "comment_id": 102522323, "body": "Why do you need to call <code>stringValue</code> on <code>NSNumber</code> values? <code>NSLog(@&quot;value:%@&quot;, value)</code> will log <code>NSNumber</code>s."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569244568, "post_id": 58059713, "comment_id": 102522932, "body": "@Willeke You might be onto something; <code>NSLog()</code> will call the object&#39;s <code>description</code> method which will generate a string anyway..."}], "tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1569244711, "last_edit_date": 1569244711, "creation_date": 1569232007, "answer_id": 58059713, "question_id": 58059665, "link": "https://stackoverflow.com/questions/58059665/how-do-i-loop-through-a-dictionary-to-see-its-values/58059713#58059713", "title": "How do I loop through a dictionary to see its values?", "body": "<p><strong>Updated</strong></p>\n\n<p><code>NSLog()</code> will call the <code>[NSObject description]</code> method of any object you pass it, so this will work fine for you:</p>\n\n<pre><code>NSLog(@\"value:%@\", dictionary[key]);\n</code></pre>\n\n<p>There is no <code>string</code> method, so that's why you are getting the <em>unrecognized selector</em> exception.</p>\n"}], "owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58059713, "answer_count": 1, "score": 1, "last_activity_date": 1569244711, "creation_date": 1569231838, "question_id": 58059665, "link": "https://stackoverflow.com/questions/58059665/how-do-i-loop-through-a-dictionary-to-see-its-values", "title": "How do I loop through a dictionary to see its values?", "body": "<p>I'm trying to get the hang of objective-c and how to use dictionaries. I tried a small example, but it keeps crashing for me. Here is my dictionary and an attempt to loop the dictionary keys.</p>\n\n<pre><code>NSDictionary *dictionary = @{\n                             @\"anObject\" : @\"@hej\",\n                             @\"helloString\" : @\"Hello, World!\",\n                             @\"magicNumber\" : @42,\n                             @\"aValue\" : @33\n                             };\n\nfor(NSString *key in dictionary) {\n    NSLog(@\"key:%@\", key);\n    NSLog(@\"value:%@\", [[dictionary valueForKey:key] string]);\n}\n</code></pre>\n\n<p>It crashes with a <code>Thread 1: signal SIGABRT</code> </p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception >'NSInvalidArgumentException', reason: '-[__NSCFConstantString string]: >unrecognized selector sent to instance 0x1078590a8'</p>\n</blockquote>\n\n<p>Here on the return line:</p>\n\n<pre><code>int main(int argc, char * argv[]) {\n    @autoreleasepool {\n        return UIApplicationMain(argc, argv, nil,     \n        NSStringFromClass([AppDelegate class]));\n    }\n</code></pre>\n"}, {"tags": ["objective-c", "printing"], "comments": [{"owner": {"reputation": 1772, "user_id": 9046550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea568a8fae3a61492df7b3784c4a3f1b?s=128&d=identicon&r=PG&f=1", "display_name": "Shreeram Bhat", "link": "https://stackoverflow.com/users/9046550/shreeram-bhat"}, "edited": false, "score": 0, "creation_date": 1569213305, "post_id": 58055675, "comment_id": 102508936, "body": "Hey. It&#39;s iOS 4.2+ and Mac Catalyst 13.0+(which is iPad app running on Mac)."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569243099, "post_id": 58055675, "comment_id": 102522075, "body": "Is the number of pages not visible in the default print panel?"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569470101, "post_id": 58055675, "comment_id": 102608663, "body": "@Willeke, I am trying to create a custom print dialog."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1569485678, "post_id": 58055675, "comment_id": 102614514, "body": "Has <code>printOperation.pageRange</code> a valid value?"}], "owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569212871, "creation_date": 1569212871, "question_id": 58055675, "link": "https://stackoverflow.com/questions/58055675/get-the-page-count-for-printing-in-objective-c-cocoa", "title": "Get the page count for printing in Objective-C Cocoa", "body": "<p>ALL,</p>\n\n<p>Is there a simple way to query printer from Cocoa to get a number of pages that will be printed with default settings, so that I can present this to the user in the printing panel?</p>\n\n<p>Apple documentation has <a href=\"https://developer.apple.com/documentation/uikit/uiprintformatter/1621843-pagecount?language=objc\" rel=\"nofollow noreferrer\">this page</a>, but it says that it is available in <code>iOS</code> and <code>Mac Catalyst 13.0+</code>.</p>\n\n<p>I need something to be useful in a regular Cocoa application starting with 10.9+.</p>\n"}, {"tags": ["ios", "objective-c", "tableview"], "comments": [{"owner": {"reputation": 2346, "user_id": 2301271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21a9746e3ccddab5d82e1c5b97dff4a?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/2301271/joshua"}, "edited": false, "score": 1, "creation_date": 1569202006, "post_id": 58054080, "comment_id": 102507091, "body": "Why do you want to return 2 cells for a given indexpath?"}, {"owner": {"reputation": 6062, "user_id": 2788608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RlZuI.png?s=128&g=1", "display_name": "Stonz2", "link": "https://stackoverflow.com/users/2788608/stonz2"}, "edited": false, "score": 0, "creation_date": 1569252141, "post_id": 58054080, "comment_id": 102527388, "body": "Not clear what you mean by &quot;I want the other returned immediately after.&quot; Once a method hits a <code>return</code>, that&#39;s it. No code after that will run, which you seem to know. Can you clarify what you&#39;re asking?"}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1569201277, "creation_date": 1569201277, "answer_id": 58054618, "question_id": 58054080, "link": "https://stackoverflow.com/questions/58054080/obj-c-return-two-custom-cells-at-the-same-time/58054618#58054618", "title": "Obj-c - Return two custom cells at the same time", "body": "<p>You can only return one specific type at a time. Use the <code>indexPath</code> parameter to decide which one to return.</p>\n\n<p>The following code is a rough idea of what you need. It's up to you to adapt the <code>if</code> statement based on your actual needs.</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    if (indexPath.section == 0) {\n        ChatTableViewCell *cell = (ChatTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifier forIndexPath:indexPath];\n\n        // configure cell based on data from your data model for this indexPath\n\n        return cell;\n    } else {\n        UniversalAlertTableViewCell *cell = (UniversalAlertTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifierUni forIndexPath:indexPath];\n\n        // configure cell based on data from your data model for this indexPath\n\n        return cell;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 11822156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3dZ2.png?s=128&g=1", "display_name": "Nullable", "link": "https://stackoverflow.com/users/11822156/nullable"}, "is_accepted": false, "score": 0, "last_activity_date": 1569204820, "creation_date": 1569204820, "answer_id": 58054904, "question_id": 58054080, "link": "https://stackoverflow.com/questions/58054080/obj-c-return-two-custom-cells-at-the-same-time/58054904#58054904", "title": "Obj-c - Return two custom cells at the same time", "body": "<p>Your question is very interesting. First clarify your needs.</p>\n\n<p>I guess your demand is probably like this, and once the layout is displayed, switch to another layout. Let me talk about my habit of using tables. I am used to using data to control display and animation behavior. For your needs, I can use two data sources, corresponding to two kinds of cells. After one data source is displayed, immediately switch to another data source, and finally refresh the table.</p>\n\n<p>The code is probably like this, you need a data source array <code>models</code>, and then each <code>cell</code> corresponds to a data source.</p>\n\n<pre><code>@property (strong, nonatomic) NSArray *models;\n</code></pre>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    ChatModel *model = ChatModel.new;\n    self.models = @[model];\n    [self.tableView reloadData];\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n        UniversalAlertModel *universalModel = UniversalAlertModel.new;\n        self.models = @[universalModel];\n        [self.tableView reloadData];\n    });\n}\n</code></pre>\n\n<pre><code>\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{\n    return self.models.count;\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{\n\n    id model = self.models[indexPath.row];\n    if ([model isMemberOfClass:ChatModel.class]) {\n        ChatTableViewCell *cell = (ChatTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifier forIndexPath:indexPath];\n        // Set UI display according to model\n        return cell;\n    }else if ([model isMemberOfClass:UniversalAlertModel.class]){\n        UniversalAlertTableViewCell *cellUni = (UniversalAlertTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifierUni forIndexPath:indexPath];\n        // Set UI display according to model\n        return cellUni;\n    }\n}\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11970730, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDl6dgNtnjVk_isg7L-kPhw81OFv1HYCly_9L_z=k-s128", "display_name": "Kevin", "link": "https://stackoverflow.com/users/11970730/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1569223498, "last_edit_date": 1569223498, "creation_date": 1569204989, "answer_id": 58054916, "question_id": 58054080, "link": "https://stackoverflow.com/questions/58054080/obj-c-return-two-custom-cells-at-the-same-time/58054916#58054916", "title": "Obj-c - Return two custom cells at the same time", "body": "<p>You cannot return two custom cells at the same time. It is not possible, because the delegate only runs one time per row. You can return a different cell on a different row or section.</p>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569223498, "creation_date": 1569194714, "question_id": 58054080, "link": "https://stackoverflow.com/questions/58054080/obj-c-return-two-custom-cells-at-the-same-time", "title": "Obj-c - Return two custom cells at the same time", "body": "<p>I have two different custom TableView Cells. That said, when the first cell type is returned, I want the other returned immediately after. Technically, the below code is what I want to occur:</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n\n        ChatTableViewCell *cell = (ChatTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifier forIndexPath:indexPath];\n\n        UniversalAlertTableViewCell *cellUni = (UniversalAlertTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifierUni forIndexPath:indexPath];\n\n        return cell;\n        return cellUni;\n    }\n</code></pre>\n\n<p>However, as we know, code stops executing after the first return cell. How can I accomplish this? </p>\n"}, {"tags": ["objective-c", "protocol-buffers", "google-protocol-buffer"], "comments": [{"owner": {"reputation": 391, "user_id": 6324550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8d3842b185f3230407f36f2243f793?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberbeni", "link": "https://stackoverflow.com/users/6324550/cyberbeni"}, "edited": false, "score": 0, "creation_date": 1569187701, "post_id": 58053272, "comment_id": 102504956, "body": "Why do you want to convert it to string? The HTTPBody property of NSURLRequest is NSData."}, {"owner": {"reputation": 31, "user_id": 1736132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2760696b11e1357d2f58e246c70f31?s=128&d=identicon&r=PG", "display_name": "Soha Adel", "link": "https://stackoverflow.com/users/1736132/soha-adel"}, "reply_to_user": {"reputation": 391, "user_id": 6324550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8d3842b185f3230407f36f2243f793?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberbeni", "link": "https://stackoverflow.com/users/6324550/cyberbeni"}, "edited": false, "score": 0, "creation_date": 1569189587, "post_id": 58053272, "comment_id": 102505319, "body": "I want to send it to another app which is implemented with other languages and decode it using protocol buffer also."}, {"owner": {"reputation": 391, "user_id": 6324550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de8d3842b185f3230407f36f2243f793?s=128&d=identicon&r=PG&f=1", "display_name": "Cyberbeni", "link": "https://stackoverflow.com/users/6324550/cyberbeni"}, "edited": false, "score": 0, "creation_date": 1569256234, "post_id": 58053272, "comment_id": 102529403, "body": "How do you want to send it to the other app? Is the other app also released with the same developer account?"}], "owner": {"reputation": 31, "user_id": 1736132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa2760696b11e1357d2f58e246c70f31?s=128&d=identicon&r=PG", "display_name": "Soha Adel", "link": "https://stackoverflow.com/users/1736132/soha-adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569185200, "creation_date": 1569185200, "question_id": 58053272, "link": "https://stackoverflow.com/questions/58053272/serialize-protocol-buffer-objects-to-a-string-in-objectivec", "title": "Serialize protocol buffer objects to a string in ObjectiveC", "body": "<p>I'm trying to serialize objects generated from protocol buffer for objective C.</p>\n\n<p>I used the method:</p>\n\n<pre><code>[protocObj data] \n</code></pre>\n\n<p>to serialize data but it returns an NSData object which contains many zero bytes so when I try to convert it to string to send, it's not converted with it's full size.\nExample: </p>\n\n<pre><code>NSData: &lt;09000000 00000040 40110000 00000080 40401900 00000000 00414021 00000000 00804140 28013500 00a04038 2b407b&gt;\n\nstring:  \"\\t\" \n</code></pre>\n\n<p>I understand that 00 is translated to \\0 (string null termination) in UTF8.</p>\n\n<p>So how to convert it properly ?</p>\n"}, {"tags": ["ios", "objective-c", "react-native", "push-notification", "firebase-cloud-messaging"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8477422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf324f3dae200375e36885bd47a5d386?s=128&d=identicon&r=PG&f=1", "display_name": "Hippolyte Robichon", "link": "https://stackoverflow.com/users/8477422/hippolyte-robichon"}, "edited": false, "score": 0, "creation_date": 1571138839, "post_id": 58391469, "comment_id": 103132951, "body": "Thanks for your answer ! react-native-fcm seems to be deprecated, anyway I&#39;m going to try the sample app this evening and see if it can help me."}], "tags": [], "owner": {"reputation": 742, "user_id": 2725195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6bc04c8c8892a440ede0e68250d94f?s=128&d=identicon&r=PG", "display_name": "Florent Morin", "link": "https://stackoverflow.com/users/2725195/florent-morin"}, "is_accepted": false, "score": 0, "last_activity_date": 1571131728, "creation_date": 1571131728, "answer_id": 58391469, "question_id": 58050537, "link": "https://stackoverflow.com/questions/58050537/didreceivelocalnotification-didreceiveremotenotification-and-willpresentnotific/58391469#58391469", "title": "didReceiveLocalNotification, didReceiveRemoteNotification and willPresentNotification never triggered when notifications show up, React Native App", "body": "<p>Local notifications are sent by device.</p>\n\n<p>Remote notifications (APNS) are sent by your server, delivered by Apple server.\nYou send a notification to Apple, who send a notification to device, if allowed.</p>\n\n<p>If you are using a service like Firebase, you send notification to Firebase, Firebase send notification to Apple, Apple send notification to user.</p>\n\n<p>Firebase Cloud Messaging use method swizzling in ObjC, <a href=\"https://firebase.google.com/docs/cloud-messaging/ios/client\" rel=\"nofollow noreferrer\">as explained in documentation</a>. So, <code>onNotification</code> is not called.</p>\n\n<p>I suggest <a href=\"https://github.com/evollu/react-native-fcm\" rel=\"nofollow noreferrer\">using this component for React Native</a>. There's a sample app in source code with a configured <code>AppDelegate.m</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8477422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf324f3dae200375e36885bd47a5d386?s=128&d=identicon&r=PG&f=1", "display_name": "Hippolyte Robichon", "link": "https://stackoverflow.com/users/8477422/hippolyte-robichon"}, "is_accepted": true, "score": 1, "last_activity_date": 1571594744, "creation_date": 1571594744, "answer_id": 58475800, "question_id": 58050537, "link": "https://stackoverflow.com/questions/58050537/didreceivelocalnotification-didreceiveremotenotification-and-willpresentnotific/58475800#58475800", "title": "didReceiveLocalNotification, didReceiveRemoteNotification and willPresentNotification never triggered when notifications show up, React Native App", "body": "<p>I've a way to do it.</p>\n\n<p>I didn't exactly figure out why the events are not called in AppDelegate.m, but i've noticed that the same events implemented by Firebase Messaging (went to the code in Pods/Development Pods/RNFirebase/messaging and notifications) are called when notification shows up. So I assume that this code override mine in AppDelegate.m.</p>\n\n<p>In fact i wasn't listening the good Javascript events. The events specified here <a href=\"https://rnfirebase.io/docs/v5.x.x/messaging/receiving-messages\" rel=\"nofollow noreferrer\">https://rnfirebase.io/docs/v5.x.x/messaging/receiving-messages</a> and here <a href=\"https://rnfirebase.io/docs/v5.x.x/notifications/receiving-notifications\" rel=\"nofollow noreferrer\">https://rnfirebase.io/docs/v5.x.x/notifications/receiving-notifications</a> work for me in iOS. But these events are not called on android...</p>\n\n<p>So I ended handling notifications differently on Android and on iOS, using: </p>\n\n<ul>\n<li><p>\"onNotification\" of react-native-push-notification for Android</p></li>\n<li><p>\"onNotification\" and \"onNotificationOpened\" of react-native-firebase for iOS.</p></li>\n</ul>\n"}], "owner": {"reputation": 31, "user_id": 8477422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf324f3dae200375e36885bd47a5d386?s=128&d=identicon&r=PG&f=1", "display_name": "Hippolyte Robichon", "link": "https://stackoverflow.com/users/8477422/hippolyte-robichon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "accepted_answer_id": 58475800, "answer_count": 2, "score": 2, "last_activity_date": 1571594744, "creation_date": 1569165107, "last_edit_date": 1569406694, "question_id": 58050537, "link": "https://stackoverflow.com/questions/58050537/didreceivelocalnotification-didreceiveremotenotification-and-willpresentnotific", "title": "didReceiveLocalNotification, didReceiveRemoteNotification and willPresentNotification never triggered when notifications show up, React Native App", "body": "<p>I'm trying to implement notifications in a react-native app, on iOS, and I'm facing a strange issue. The app is able to show local notifications, and to show remote notifications coming from firebase, but it does not trigger the event \"onNotification\" of react-native-push-notification as expected. I have been through many forums looking for a solution but I still haven't found one yet, that's why I request your help.</p>\n\n<p>After investigating, i realized that the objective-c functions \"didReceiveLocalNotification\" and \"didReceiveRemoteNotification\" are never triggered, so i supposed it is the reason why \"onNotification\" does not trigger either. Unfortunately I'm a total beginner in this language so I can't understand the cause of the problem.</p>\n\n<p>Looking at the \"didReceiveLocalNotification\" documentation, I read that this function is deprecated, and that I should use \"willPresentNotification\" instead, but like the others it's never triggered.</p>\n\n<p>For the record, I've followed this guide to handle notification in iOS : \n<a href=\"https://firebase.google.com/docs/cloud-messaging/ios/client\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/cloud-messaging/ios/client</a>. I'm testing on iOS 13, react-native 0.60.5, push-notifiaction-ios ^1.0.2, react-native-push-notification ^3.1.3 and react-native-firebase ^5.5.6.</p>\n\n<p>AppDelegate.m</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n  if ([FIRApp defaultApp] == nil) {\n    [FIRApp configure];\n    [FIRMessaging messaging].delegate = self;\n  }\n  if ([UNUserNotificationCenter class] != nil) {\n    // iOS 10 or later\n    // For iOS 10 display notification (sent via APNS)\n    [UNUserNotificationCenter currentNotificationCenter].delegate = self;\n    UNAuthorizationOptions authOptions = UNAuthorizationOptionAlert |\n        UNAuthorizationOptionSound | UNAuthorizationOptionBadge;\n    [[UNUserNotificationCenter currentNotificationCenter]\n        requestAuthorizationWithOptions:authOptions\n        completionHandler:^(BOOL granted, NSError * _Nullable error) {\n          // ...\n        }];\n  } else {\n    // iOS 10 notifications aren't available; fall back to iOS 8-9 notifications.\n    UIUserNotificationType allNotificationTypes =\n    (UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge);\n    UIUserNotificationSettings *settings =\n    [UIUserNotificationSettings settingsForTypes:allNotificationTypes categories:nil];\n    [application registerUserNotificationSettings:settings];\n  }\n\n  [application registerForRemoteNotifications];\n\n  // Load RootView ...\n\n  return YES;\n}\n// sourceURLForBridge function ...\n\n// Required to register for notifications\n- (void)application:(UIApplication *)application didRegisterUserNotificationSettings:(UIUserNotificationSettings *)notificationSettings\n{\n  [RNCPushNotificationIOS didRegisterUserNotificationSettings:notificationSettings];\n}\n// Required for the register event.\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken\n{\n  [RNCPushNotificationIOS didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n}\n// Required for the notification event. You must call the completion handler after handling the remote notification.\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\nfetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler\n{\n  // Never called\n  [RNCPushNotificationIOS didReceiveRemoteNotification:userInfo fetchCompletionHandler:completionHandler];\n}\n// Required for the registrationError event.\n- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error\n{\n  [RNCPushNotificationIOS didFailToRegisterForRemoteNotificationsWithError:error];\n}\n// Required for the localNotification event.\n- (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification\n{\n  // Never called\n  [RNCPushNotificationIOS didReceiveLocalNotification:notification];\n}\n\n//Called when a notification is delivered to a foreground app.\n-(void)userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(UNNotification *)notification withCompletionHandler:(void (^)(UNNotificationPresentationOptions options))completionHandler\n{\n  // Never called\n  completionHandler(UNAuthorizationOptionSound | UNAuthorizationOptionAlert | UNAuthorizationOptionBadge);\n  //completionHandler(UNNotificationPresentationOptionAlert);\n}\n\n</code></pre>\n\n<p>PushNotification and firebase configuration</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nfunction configurePushNotification(){\n  PushNotification.configure({\n    onRegister: function(token) {\n      console.warn(\"TOKEN:\", token);\n    },\n    onNotification: function(notification) {\n      console.warn(\"NOTIFICATION:\", notification);\n\n      // Never called\n\n      notification.finish(PushNotificationIOS.FetchResult.NoData);\n    },\n    permissions: {\n      alert: true,\n      badge: true,\n      sound: true\n    },\n    popInitialNotification: true,\n    requestPermissions: true\n  });\n}\nasync function checkPermission(onReady) {\n  const enabled = await firebase.messaging().hasPermission();\n  if (enabled) {\n    console.warn('checkPermission enabled');\n    getToken(onReady);\n  } else {\n    console.warn('checkPermission disabled');\n    requestPermission(onReady);\n  }\n}\n\nasync function requestPermission(onReady) {\n  try {\n    await firebase.messaging().requestPermission();\n        // User has authorised\n        console.warn('requestPermission try');\n        getToken(onReady);\n  } catch (error) {\n        // User has rejected permissions\n        console.error(error)\n        console.warn('requestPermission rejected');\n    }\n}\n\nasync function getToken(onReady) {\n  fcmToken = await AsyncStorage.getItem('fcmToken');\n  if (!fcmToken) {\n    fcmToken = await firebase.messaging().getToken();\n    if (fcmToken) {\n          // user has a device token\n          await AsyncStorage.setItem('fcmToken', fcmToken);\n      }\n  }\n  console.warn(fcmToken)\n  if(onReady) onReady()\n}\n\nclass App extends React.Component {\n\n  async componentDidMount() {\n    checkPermission()\n    configurePushNotification()\n  }\n\n  render(){\n    return (\n      // View ...\n    )\n  }\n};\n\n</code></pre>\n\n<p>Thank you for your help !</p>\n\n<p><strong>EDIT</strong>: After investigating, I realized that these events stop working after i added Firebase/Messaging to my podfile. But according to the firebase documentation, it is not the normal behaviour. Any Idea about the reason of this ?</p>\n"}, {"tags": ["objective-c", "xcode", "uisearchcontroller"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 1872522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jez09.jpg?s=128&g=1", "display_name": "magero", "link": "https://stackoverflow.com/users/1872522/magero"}, "edited": false, "score": 0, "creation_date": 1569152981, "post_id": 58047972, "comment_id": 102496431, "body": "Hi thx. for help, i found the problem, problem was in  - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 1, "last_activity_date": 1569145254, "creation_date": 1569145254, "answer_id": 58047972, "question_id": 58047553, "link": "https://stackoverflow.com/questions/58047553/uisearchcontroller-search-result-show-different-records/58047972#58047972", "title": "UISearchController \u2013 Search result show different records", "body": "<p>If you are using <code>NSFetchedResultsController</code> apply an <code>NSPredicate</code> to filter the records for example</p>\n\n<pre><code>if (self.searchController.active) {\n    self.fetchedResultsController.fetchRequest.predicate = [NSPredicate predicateWithBlock: ^BOOL(id obj, NSDictionary *bind){\n        return [[(Airport *)obj name] rangeOfString:searchText options:NSCaseInsensitiveSearch].location != NSNotFound;\n    }];\n} else {\n    self.fetchedResultsController.fetchRequest.predicate = nil\n}\n// reload data\n</code></pre>\n\n<p>This is more efficient than filtering in code into an extra array</p>\n"}], "owner": {"reputation": 53, "user_id": 1872522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jez09.jpg?s=128&g=1", "display_name": "magero", "link": "https://stackoverflow.com/users/1872522/magero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569145254, "creation_date": 1569142088, "last_edit_date": 1569143532, "question_id": 58047553, "link": "https://stackoverflow.com/questions/58047553/uisearchcontroller-search-result-show-different-records", "title": "UISearchController \u2013 Search result show different records", "body": "<p>When i type \"stefanik\" in searchbar the result is one record (but different look), when i tap on this, is the right record, see screenshots.\nI think problem is in these methods, but i cant find the problem.</p>\n\n<pre><code>- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView\n{\n    if (self.searchController.active)\n    {\n        return 1;\n    }\n    else\n    {\n        return [[self.fetchedResultsController sections] count];\n    }\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n\n    if (self.searchController.active)\n    {\n        return [self.filteredList count];\n    }\n    else\n    {\n        id &lt;NSFetchedResultsSectionInfo&gt; sectionInfo = [[self.fetchedResultsController sections] objectAtIndex:section];\n        return [sectionInfo numberOfObjects];\n    }\n\n}\n</code></pre>\n\n<p>Have you seen this problem before?\nScreenshots</p>\n\n<p><a href=\"https://i.stack.imgur.com/snhrR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/snhrR.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/aZwIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZwIa.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "macos", "debugging", "otool"], "comments": [{"owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "edited": false, "score": 0, "creation_date": 1569144201, "post_id": 58047419, "comment_id": 102494435, "body": "I think it&#39;s not possible: <a href=\"https://stackoverflow.com/a/17129004/10900045\">stackoverflow.com/a/17129004/10900045</a>"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1569148573, "post_id": 58047419, "comment_id": 102495388, "body": "Correct, not possible to extract from the compiled framework/executable. That\u2019s why Objective-C frameworks are distributed with header (<code>.h</code>) files, which declare those constants that are exposed to application developers."}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1569148480, "answer_count": 0, "score": 1, "last_activity_date": 1569140980, "creation_date": 1569140980, "question_id": 58047419, "link": "https://stackoverflow.com/questions/58047419/is-there-a-way-to-get-exported-constants-from-an-objective-c-framework", "closed_reason": "Duplicate", "title": "Is there a way to get exported constants from an Objective-C framework?", "body": "<p>Is there a way to extract the exported constants' name and value from an Objective-c framework? For example, from Foundation framework, there is an enum <code>NSEnumerationReverse</code>. How to extract such enum as well as any constants with the corresponding value?</p>\n\n<p>I am looking from something like a file which will output the name-value mapping</p>\n\n<pre><code>NSEnumerationReverse = (1UL &lt;&lt; 1)\n</code></pre>\n\n<p>I am only able to get the exported classes and method using otool.</p>\n"}, {"tags": ["java", "c++", "objective-c", "unity3d"], "comments": [{"owner": {"reputation": 23, "user_id": 9441214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "s.ahmad parkhid", "link": "https://stackoverflow.com/users/9441214/s-ahmad-parkhid"}, "edited": false, "score": 0, "creation_date": 1569140124, "post_id": 58046852, "comment_id": 102493587, "body": "any comments or answers ?"}, {"owner": {"reputation": 23, "user_id": 9441214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "s.ahmad parkhid", "link": "https://stackoverflow.com/users/9441214/s-ahmad-parkhid"}, "edited": false, "score": 0, "creation_date": 1569246699, "post_id": 58046852, "comment_id": 102524293, "body": ":( :( :( :( :( :("}], "owner": {"reputation": 23, "user_id": 9441214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "s.ahmad parkhid", "link": "https://stackoverflow.com/users/9441214/s-ahmad-parkhid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569135607, "creation_date": 1569135607, "question_id": 58046852, "link": "https://stackoverflow.com/questions/58046852/creating-c-object-in-unity3d", "title": "Creating C++ Object in Unity3D", "body": "<p>using native plugins is an easy process in Unity3D, for example we can call a function defined in jar/aar plugin from unity3D like this :</p>\n\n<pre><code>int speed=120;\nAndroidJavaObject class_Car = new AndroidJavaObject(\"my.native.plugin.Car\");\nclass_Car.Call(\"Drive\", new object[] {speed });\n</code></pre>\n\n<p>Now Iam wondering how to do this for a objective(c/c++) plugin. I know that I can use the extern keyword to overcome this, but I would not use static methods and I want to create an object from a objective-c/c++ class.(like above code)</p>\n\n<p>Also can anyone explain to me that what is <code>__Internal</code> identinfer in <code>DLLImport</code> function and how can I can change that while I'm developing native iOS plugins?</p>\n\n<p>Objective-C sample car class:</p>\n\n<pre><code>//Car.h\n@interface Car\n-(void) Drive:(int);\n@end\n\n\n#import \"Car.h\"\n@implementation  Car\n-(void) Drive:(int) speed{\n    //drive with speed\n}\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "mouseevent", "appkit", "ios13", "xcode11"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1569183655, "post_id": 58051216, "comment_id": 102504122, "body": "Thank you for your insightful reply. It&#39;s a bit disappointing that there is no public API and especially that there is no way to check for the source of the events. My app is designed to use two mice in tandem and getting the source ID is critical. Could anyone suggest a possible work around, please? As for the fact that this is an accessibility feature, I assume that I can always ask the user upfront to enable it. Anything wrong with that?!?"}, {"owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1569204132, "post_id": 58051216, "comment_id": 102507385, "body": "I was able to get the &quot;mouse&quot; events using UITouch and UIEvent,  but nothing in the descriptions of the touch and event gives me info about the source of the event. All I need to determine is: 1) The ID of the mouse that was clicked. 2) Which mouse button was clicked (left or right). Any suggestion on how to accomplish that?"}, {"owner": {"reputation": 14, "user_id": 9549832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NICU4.gif?s=128&g=1", "display_name": "Ominousness", "link": "https://stackoverflow.com/users/9549832/ominousness"}, "reply_to_user": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1569274496, "post_id": 58051216, "comment_id": 102536546, "body": "@ValNenov It&#39;s not possible to check for the mouse that resulted in said event. As for buttons, I believe it depends on how the user sets their own buttons, and can vary from device to device."}, {"owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1569275025, "post_id": 58051216, "comment_id": 102536684, "body": "I wonder if anyone from the Apple iOS 13 development team is reading these posts?!? It will be nice to hear back from them. Access to this functionality is easily available on Android 9, API 28."}, {"owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1573576405, "post_id": 58051216, "comment_id": 103922696, "body": "It&#39;s been more than a month since I posted this question and so far there has been NO satisfactory answer. How can I convince the Apple iOS 13 development team to consider adding this seamingly basic functionality to the iOS 13 API? Namely: 1) Get the ID of the mouse that was clicked especially when more than one mouse is connected at the same time. 2) Which mouse button was clicked (left or right) - UP and DOWN events. I have sent this suggestion through the official online channels for recommendations to Apple but no reply. Any suggestions?"}], "tags": [], "owner": {"reputation": 14, "user_id": 9549832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NICU4.gif?s=128&g=1", "display_name": "Ominousness", "link": "https://stackoverflow.com/users/9549832/ominousness"}, "is_accepted": false, "score": 0, "last_activity_date": 1569169773, "creation_date": 1569169773, "answer_id": 58051216, "question_id": 58045402, "link": "https://stackoverflow.com/questions/58045402/how-to-handle-mouse-events-in-ios-13-objective-c/58051216#58051216", "title": "How to handle mouse events in iOS 13 objective-c", "body": "<p>There seem to be no public APIs for this feature.</p>\n\n<p>All \"mouse\" events on iOS 13 register as regular touch events, just like events produced by AssistiveTouch. You're unable to check for the source of these events.</p>\n\n<p>Note: This is an accessibility feature, you shouldn't rely on it being enabled, and there is no way to detect if it's enabled or to force the user to enable it.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1593225368, "post_id": 62581713, "comment_id": 110712907, "body": "Thank you @moseley for your detailed reply. I tried to use the code snippets shown in the videos and the definitions in the provided documentation and have 2 additional questions:  1) Where is GCMouse defined? It does not appear to be part of the GameConrtoller.framework How do I access this class? <b>import GCMouse</b> gives me an error: No such module &#39;GCMouse&#39;. I added the GameController.framework to my project but there is no GCMouse framework:-)  2) Is there a way to set the pointer position programmatically to some screen coordinates, say the center of the screen?"}, {"owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "edited": false, "score": 0, "creation_date": 1593315299, "post_id": 62581713, "comment_id": 110734637, "body": "My mistake: I overlooked the fact that GCMouse is only available in iOS 14.0+ and macOS 11.0+ while I am currently using iOS 13.5.1 and macOS 10.15.5"}], "tags": [], "owner": {"reputation": 1, "user_id": 13814376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWVKO.jpg?s=128&g=1", "display_name": "moseley", "link": "https://stackoverflow.com/users/13814376/moseley"}, "is_accepted": false, "score": 0, "last_activity_date": 1593112462, "last_edit_date": 1593112462, "creation_date": 1593108575, "answer_id": 62581713, "question_id": 58045402, "link": "https://stackoverflow.com/questions/58045402/how-to-handle-mouse-events-in-ios-13-objective-c/62581713#62581713", "title": "How to handle mouse events in iOS 13 objective-c", "body": "<blockquote>\n<p>There seem to be no public APIs for this feature.</p>\n</blockquote>\n<p>For some of what you want here, there is starting in iPadOS 13.4!</p>\n<blockquote>\n<p>All &quot;mouse&quot; events on iOS 13 register as regular touch events, just\nlike events produced by AssistiveTouch. You're unable to check for the\nsource of these events.</p>\n</blockquote>\n<p>This is correct. Lets dig in...</p>\n<h2>Background and links</h2>\n<p>On iPad, starting with iPadOS 13.4, trackpads and mice are supported <em>without</em> any accessibility features enabled. Note that iPhone does <em>not</em> get this native support. The API I discuss below still applies, but will only work on the iPhone with pointing device support for AssistiveTouch enabled.</p>\n<p>We go over the event and gesture API here:\n<a href=\"https://developer.apple.com/videos/play/wwdc2020/10094/\" rel=\"nofollow noreferrer\">https://developer.apple.com/videos/play/wwdc2020/10094/</a></p>\n<p>If you check out that video in the Developer app, there are code snippets from the video included.</p>\n<p>And some of the compatibility mode affordances I describe below are detailed here:\n<a href=\"https://developer.apple.com/documentation/bundleresources/information_property_list/uiapplicationsupportsindirectinputevents\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/bundleresources/information_property_list/uiapplicationsupportsindirectinputevents</a></p>\n<p><em>(edit)</em>\nGameController.framework does show all the connected mice as I mention below, and you can set up change handlers for each.  However, there's no way to see the ID from these devices there:</p>\n<p><a href=\"https://developer.apple.com/documentation/gamecontroller/gcmouse/3626182-mice\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/gamecontroller/gcmouse/3626182-mice</a>\n<a href=\"https://developer.apple.com/videos/play/wwdc2020/10617/\" rel=\"nofollow noreferrer\">https://developer.apple.com/videos/play/wwdc2020/10617/</a></p>\n<h2>Pointer movement and clicks</h2>\n<p>Pointer movement is driven by <code>UIEvent.EventType.hover</code>. You handle that with a <code>UIHoverGestureRecognizer</code>.</p>\n<p>Clicks on a pointing device are transformed into a <code>UITouch</code> instances.  As a compatibility affordance, these are all <code>UITouch.TouchType.direct</code> by default. That's the same as a finger-based touch.</p>\n<p>If you opt into UIApplicationSupportsIndirectInputEvents in your application's info.plist key, clicks on pointing devices are transformed into <code>UITouch.TouchType.indirectPointer</code>. That will allow you to distinguish these touches from finger-based touches, and you can target these touches specifically using API like <code>UIGestureRecognizer.allowedTouchTypes</code>.</p>\n<h2>Button mask</h2>\n<p>With UIApplicationSupportsIndirectInputEvents, you'll be able to recognize that a touch from a pointing device happened.  To recognize the specific button, you'll want to look at either <code>UIEvent.buttonMask</code> or <code>UIGestureRecognizer.buttonMask</code>. Note that <code>UIGestureRecognizer</code>'s property is from the last event processed.</p>\n<p><code>.buttonMask</code> will show you the set of buttons pressed during an event.</p>\n<h2>Conclusion</h2>\n<p>As I understand it you wanted to accomplish the following:</p>\n<ol>\n<li>Recognize clicks from a pointing device</li>\n<li>Determine which button was pressed</li>\n<li>Determine <em>which</em> device the click came from.</li>\n</ol>\n<p>For #1, you can use UIApplicationSupportsIndirectInputEvents to get the new <code>UITouch.TouchType.indirectPointer</code>, which will allow you to distinguish these touches.</p>\n<p>For #2, you can use <code>.buttonMask</code> on either <code>UIEvent</code> or <code>UIGestureRecognizer</code>.</p>\n<p>For #3, there is not currently API to achieve this on iOS.</p>\n<p><em>(edit)</em>\nA co-worker mentioned that GameController.framework might help with some of this.</p>\n<p><a href=\"https://developer.apple.com/documentation/gamecontroller\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/gamecontroller</a></p>\n<p>You'll be able to see all the connected mice with <code>GCMouse.mice()</code> and be notified when they connect:</p>\n<p><a href=\"https://developer.apple.com/documentation/gamecontroller/gcmouse/3626182-mice\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/gamecontroller/gcmouse/3626182-mice</a></p>\n<p>Unfortunately, you won't be able to see the ID of the mouse here either. Still, it gives you something to consider.</p>\n<p>Check out this video that dives into more of the details on GameController.framework support for pointing devices and keyboards:</p>\n<p><a href=\"https://developer.apple.com/videos/play/wwdc2020/10617/\" rel=\"nofollow noreferrer\">https://developer.apple.com/videos/play/wwdc2020/10617/</a></p>\n"}], "owner": {"reputation": 43, "user_id": 9210950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214846909348950/picture?type=large", "display_name": "Val Nenov", "link": "https://stackoverflow.com/users/9210950/val-nenov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 815, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1593112462, "creation_date": 1569116361, "last_edit_date": 1569166233, "question_id": 58045402, "link": "https://stackoverflow.com/questions/58045402/how-to-handle-mouse-events-in-ios-13-objective-c", "title": "How to handle mouse events in iOS 13 objective-c", "body": "<p>iOS 13 finally introduced support for the mouse. I have been searching in vain for documentation on how to handle mouse events. In macOS 10+ there is NSEvent class <a href=\"https://developer.apple.com/documentation/appkit/nsevent\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/appkit/nsevent</a> as part of AppKit. What is the corresponding class in iOS 13? Can someone point me to some documentation/examples, please? I have tried the code in <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/EventOverview/HandlingMouseEvents/HandlingMouseEvents.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/EventOverview/HandlingMouseEvents/HandlingMouseEvents.html</a> but it does not work in iOS 13. I am using Xcode 11. I am particularly interested in getting the mouse event information (e.g., pressedMouseButtons, mouseLocation, buttonNumber).</p>\n\n<pre><code>- (void)mouseDown:(NSEvent *)theEvent {\n    [self setFrameColor:[NSColor redColor]];\n    [self setNeedsDisplay:YES];\n}\n- (void)mouseUp:(NSEvent *)theEvent {\n    [self setFrameColor:[NSColor greenColor]];\n    [self setNeedsDisplay:YES];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "augmented-reality", "scenekit", "arkit"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569186930, "post_id": 58050226, "comment_id": 102504812, "body": "it&#39;s clear that doesn&#39;t matter the value i use, they have no effect.. the attenuation is just the same.."}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569266622, "post_id": 58050226, "comment_id": 102533591, "body": "Yes, and it doesn&#39;t make any difference. Like i said before, it woks but you need at least 4 meters to notice any lowering of the volume, the same way it was with the default Spatial Audio setup. I wanted something that would lower the volume close to zero in 1 meter = 1."}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569269778, "post_id": 58050226, "comment_id": 102534922, "body": "Wait a minute.. i think i got this.. just another test"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 1, "creation_date": 1569270971, "post_id": 58050226, "comment_id": 102535390, "body": "MAN IT DID IT!!.. that&#39;s awesome. One thing i found out is that if you use a number out of their precision (not accepted) like referenceDistance = 0.01; it will reset to default (without any warning) and it will work but like i said before.. And you never know what actually went wrong."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569271031, "post_id": 58050226, "comment_id": 102535408, "body": "It sounds nice)) with decay))"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569272002, "post_id": 58050226, "comment_id": 102535797, "body": "it sounds awesome.. way more real.. it&#39;s a space game i&#39;m building for AR"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569617652, "post_id": 58050226, "comment_id": 102668657, "body": "Hey @ARGeo i have a question for you.. are you there?"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569617721, "post_id": 58050226, "comment_id": 102668673, "body": "Yep. What&#39;s the question?"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569617789, "post_id": 58050226, "comment_id": 102668695, "body": "how do you stop and re-play an audio when it&#39;s in a node using spatial audio like that? i know how to do it by removing the player and re-loading the audio source to a new player but it&#39;s not practical in a high-end game with hundreds of elements moving around and dozens of sound effects at the same time being played"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569617884, "post_id": 58050226, "comment_id": 102668725, "body": "example: i have this .mp3 i pre-load on audio source.. but multiple nodes will be playing it back and forth (imagine lazer shots everywhere).. and some with different volume levels (but using the same audio source)"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569618013, "post_id": 58050226, "comment_id": 102668763, "body": "the problem: i even tried to run with a single node playing the same audio multiple times by hitting &quot;BURN&quot; multiple times per second.. and it crashes..not exactly playing audio but it affects everything i guess.. Seems to me ARKit is not quite advanced to deal with complex scenarios .. yet some games managed to do it like &quot;Machines&quot; (yet, they keep it a very small map."}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569618149, "post_id": 58050226, "comment_id": 102668812, "body": "deleting the audio node is even worse.. even if i do it on renderer:updateAtTime:.. when i hit the button pretty fast it crashes EXC_BAD_ACCESS, even tho i do all the pre-check before deleting.. it crashed once on AddChildName.. even tho the parent node always exists.. it&#39;s never deleted.. it&#39;s always there"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569618252, "post_id": 58050226, "comment_id": 102668842, "body": "Have you tried using multiple sound effects being played and stopped pretty fast almost at the same time?"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569618833, "post_id": 58050226, "comment_id": 102668985, "body": "i know how to play using avfoundation.. i&#39;ve done it many times before.. my problem here is with this ARkit Spatial Way of playing by adding in a node.. there&#39;s not stop option.. so far people tell you to just remove the node.. or the players.. but it works for very simples trivial apps. unfortunately, i never develop trivial ones lol"}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569618958, "post_id": 58050226, "comment_id": 102669012, "body": "i can stop by getting the playing engine.. cool BUT for some reason you can not play it again.. you need to re-load again the Audio Source to the player.. and it&#39;s just the same as deleting and adding again the audio node.. if you try to do it dozens of times per second (multiple elements shooting) it crashes... EXC_BAD_ACCESS without a real reason.."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569619016, "post_id": 58050226, "comment_id": 102669028, "body": "There&#39;s stop option in that post. It&#39;s good for nodal hierarchy too."}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "reply_to_user": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569619125, "post_id": 58050226, "comment_id": 102669055, "body": "Ok, I see now. Sorry but I know only this method. Suppose, there&#39;s something else but I don&#39;t know other ones.(("}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 0, "creation_date": 1569619336, "post_id": 58050226, "comment_id": 102669105, "body": "I know.. i&#39;ve used it before. SCNAudioPlayer there&#39;s none.. and even if you get the engine or player inside it, it doesn&#39;t have a PLAYBACK.. the startaudiowitherror also doesn&#39;t work after you stopped.. you have to runaction playAudio over again and for that you need to reload the AudioSource on it.. which is just the same as deleting the node and re-adding it over.. which is not practical in very active scenes.."}, {"owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "edited": false, "score": 1, "creation_date": 1569619442, "post_id": 58050226, "comment_id": 102669138, "body": "yeah :/ i think it is not documents on PURPOSE .. really.. i got some friends in the valley who worked with apple before.. he used to tell me how big companies used to take advantage of getting documentation on things all the rest wouldn&#39;t get.. so they can make the best games before anyone could have time and money to catch up with them"}, {"owner": {"reputation": 113, "user_id": 13745120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b73779f1dc5be7e4823795fc7d4954d?s=128&d=identicon&r=PG&f=1", "display_name": "skynard", "link": "https://stackoverflow.com/users/13745120/skynard"}, "edited": false, "score": 1, "creation_date": 1597016373, "post_id": 58050226, "comment_id": 111988978, "body": "Trying to use the code to see what the sound experience is like but having some trouble.  Getting a Fatal error: Unexpectedly found nil while unwrapping an Optional value.   in reference to myURL"}, {"owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "edited": false, "score": 0, "creation_date": 1597044623, "post_id": 58050226, "comment_id": 111994953, "body": "I checked it before publishing, the code worked fine. Try using <code>guard let</code> optional binding then... What&#39;s your path? It found nil in case your path (or name) is wrong."}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": true, "score": 2, "last_activity_date": 1616343671, "last_edit_date": 1616343671, "creation_date": 1569163034, "answer_id": 58050226, "question_id": 58044242, "link": "https://stackoverflow.com/questions/58044242/arkit-spatial-audio-barely-changes-the-volume-over-distance/58050226#58050226", "title": "ARKit \u2013 Spatial Audio barely changes the volume over distance", "body": "<p><strong>Updated</strong>.</p>\n<p>Here's a working code for controlling sound's decay (works in iOS and macOS):</p>\n<pre><code>import AVFoundation\nimport ARKit\n\nclass ViewController: UIViewController, AVAudioMixing {\n\n    @IBOutlet var sceneView: SCNView!\n    // @IBOutlet var sceneView: ARSCNView!\n    \n    func destination(forMixer mixer: AVAudioNode,\n                                bus: AVAudioNodeBus) -&gt; AVAudioMixingDestination? {\n        return nil\n    }\n    var volume: Float = 0.0\n    var pan: Float = 0.0\n    \n    var sourceMode: AVAudio3DMixingSourceMode = .bypass\n    var pointSourceInHeadMode: AVAudio3DMixingPointSourceInHeadMode = .bypass\n    \n    var renderingAlgorithm = AVAudio3DMixingRenderingAlgorithm.sphericalHead\n    var rate: Float = 1.2\n    var reverbBlend: Float = 40.0\n    var obstruction: Float = -100.0\n    var occlusion: Float = -100.0\n    var position = AVAudio3DPoint(x: 0, y: 0, z: 10)\n    let audioNode = SCNNode()\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n        let myScene = SCNScene()\n        let cameraNode = SCNNode()\n        cameraNode.camera = SCNCamera()\n        cameraNode.position = SCNVector3(0, 0, 0)\n        myScene.rootNode.addChildNode(cameraNode)\n        \n        // let sceneView = view as! SCNView\n        sceneView.scene = myScene\n        sceneView.backgroundColor = UIColor.orange\n        \n        let myPath = Bundle.main.path(forResource: &quot;Mono_Audio&quot;, ofType: &quot;mp3&quot;)           \n        let myURL = URL(fileURLWithPath: myPath!)\n        let mySource = SCNAudioSource(url: myURL)!\n        mySource.loops = true\n        mySource.isPositional = true           // Positional Audio\n        mySource.shouldStream = false          // FALSE for Positional Audio\n        mySource.volume = volume\n        mySource.reverbBlend = reverbBlend\n        mySource.rate = rate\n\n        mySource.load()\n        \n        let player = SCNAudioPlayer(source: mySource)\n        let sphere: SCNGeometry = SCNSphere(radius: 0.1)\n        let sphereNode = SCNNode(geometry: sphere)\n        sphereNode.addChildNode(audioNode)\n        myScene.rootNode.addChildNode(sphereNode)\n        audioNode.addAudioPlayer(player)            \n\n        sceneView.audioEnvironmentNode.distanceAttenuationParameters.maximumDistance = 2\n        sceneView.audioEnvironmentNode.distanceAttenuationParameters.referenceDistance = 0.1   \n        sceneView.audioEnvironmentNode.renderingAlgorithm = .auto\n\n        // sceneView.audioEnvironmentNode.reverbParameters.enable = true\n        // sceneView.audioEnvironmentNode.reverbParameters.loadFactoryReverbPreset(.plate)\n        \n        let hither = SCNAction.moveBy(x: 0, y: 0, z: 1, duration: 2)\n        let thither = SCNAction.moveBy(x: 0, y: 0, z: -1, duration: 2)\n        \n        let sequence = SCNAction.sequence([hither, thither])\n        let loop = SCNAction.repeatForever(sequence)\n        sphereNode.runAction(loop) \n    }\n}\n</code></pre>\n<blockquote>\n<p>And, yes, you're absolutely right \u2013 there are some obligatory settings.</p>\n</blockquote>\n<p><strong>But there are 7 of them</strong>:</p>\n<ul>\n<li><p>use <code>AVAudioMixing</code> protocol with its stubs (properties and methods).</p>\n</li>\n<li><p>use <code>MONO</code> audio file.</p>\n</li>\n<li><p>use <code>source.isPositional = true</code>.</p>\n</li>\n<li><p>use <code>source.shouldStream = false</code>.</p>\n</li>\n<li><p>assign <code>maximumDistance</code> value to <code>distanceAttenuationParameters</code> property.</p>\n</li>\n<li><p>assign <code>referenceDistance</code> value to <code>distanceAttenuationParameters</code> property.</p>\n</li>\n<li><p>and location of <code>mySource.load()</code> is very important in your code.</p>\n</li>\n</ul>\n<blockquote>\n<p><strong><code>P.S. If the aforementioned tips didn't help you, then use additional instance properties to make your sound even quieter using a graph, obstacles and orientation of implicit listener:</code></strong></p>\n</blockquote>\n<pre><code>var rolloffFactor: Float { get set }      // attenuation's graph, default = 1 \n\nvar obstruction: Float { get set }        // default = 0.0\n\nvar occlusion: Float { get set }          // default = 0.0\n\nvar listenerAngularOrientation: AVAudio3DAngularOrientation { get set } //(0,0,0)\n</code></pre>\n<p><strong>It definitely works if you'll write it in Objective-C</strong>.</p>\n<p>In this example the distance of <code>audioNode</code> is 1 meter away from a <code>listener</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7992741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpaQs.jpg?s=128&g=1", "display_name": "Nachos and Cheetos", "link": "https://stackoverflow.com/users/7992741/nachos-and-cheetos"}, "is_accepted": false, "score": 0, "last_activity_date": 1593526120, "creation_date": 1593526120, "answer_id": 62659350, "question_id": 58044242, "link": "https://stackoverflow.com/questions/58044242/arkit-spatial-audio-barely-changes-the-volume-over-distance/62659350#62659350", "title": "ARKit \u2013 Spatial Audio barely changes the volume over distance", "body": "<p>If none of the above answers seem to work, try the following code:</p>\n<p><code>sceneView.audioEnvironmentNode.reverbParameters.enable = true</code></p>\n<p>And if even these seem to barely work, or if you wanna optimal performance, there is a property called <code>level</code> where you can set the level of how spatial the code can be.</p>\n<p><code>sceneView.audioEnvironmentNode.reverbParameters.level = 40</code></p>\n<p>(the level of the reverbParameters ranges between -40 to 40 parameters)</p>\n"}], "owner": {"reputation": 73, "user_id": 1738502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OqpLE.jpg?s=128&g=1", "display_name": "Alan Cruz", "link": "https://stackoverflow.com/users/1738502/alan-cruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 1, "accepted_answer_id": 58050226, "answer_count": 2, "score": 2, "last_activity_date": 1616343671, "creation_date": 1569101148, "last_edit_date": 1586153711, "question_id": 58044242, "link": "https://stackoverflow.com/questions/58044242/arkit-spatial-audio-barely-changes-the-volume-over-distance", "title": "ARKit \u2013 Spatial Audio barely changes the volume over distance", "body": "<p>I created a SCNNode and added an Audio to it.</p>\n\n<p>It is a Mono audio. Everything is set up correctly.</p>\n\n<p>It is working as Spatial Audio, that's not the problem.</p>\n\n<p>The problem is that as i get closer or far away it barely changes the volume. I know it changes if i get very very far away, but it's nothing like Apple demonstrated here:</p>\n\n<p><a href=\"https://youtu.be/d9kb1LfNNU4?t=23\" rel=\"nofollow noreferrer\">https://youtu.be/d9kb1LfNNU4?t=23</a></p>\n\n<p>Some other games i see the audio volume really changing from one step distance.</p>\n\n<p>With mine, with one step you can't even tell the volume changed. You need at least 4 steps.</p>\n\n<p>Anyone has any clue why?</p>\n\n<p>Code bellow:</p>\n\n<pre><code>SCNNode *audioNode = [[SCNNode alloc] init];\nSCNAudioSource *audioSource = [[SCNAudioSource alloc] initWithFileNamed:audioFileName];\naudioSource.loops = YES;\n[audioSource load];\naudioSource.volume = 0.05; // &lt;-- i used different values. won't change much either\naudioSource.positional = YES;\n//audioSource.shouldStream = NO; // &lt;-- makes no difference\n[audioNode addAudioPlayer:[SCNAudioPlayer audioPlayerWithSource:audioSource]];\n\n[audioNode runAction:[SCNAction playAudioSource:audioSource waitForCompletion:NO] completionHandler:nil];\n[massNode addChildNode:audioNode];\n</code></pre>\n\n<p>Maybe scale of the nodes?</p>\n\n<p>The whole scene is the size of around 4 feet.</p>\n\n<p>When i add an object i usually scale it to 0.005 (otherwise it gets way too big). \nBut i also tried with one that was already in the right size from .scn file.</p>\n\n<p>It shouldn't affect anything tho, since the result is a coffee table size scene and i can see the objects alright.</p>\n"}, {"tags": ["ios", "objective-c", "nscoder", "nsarchiving"], "answers": [{"comments": [{"owner": {"reputation": 4083, "user_id": 1139730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d244ce08c17f8593ef9ba4ddd2ad48ac?s=128&d=identicon&r=PG", "display_name": "wayneh", "link": "https://stackoverflow.com/users/1139730/wayneh"}, "edited": false, "score": 1, "creation_date": 1569159479, "post_id": 58043846, "comment_id": 102497873, "body": "Thanks for the code/research, however after implementing, I still get a null unarchived object when reading existing data - which is the real issue here. I could delete existing data for this app update and start fresh, however existing users of the app will lose their data which I would prefer not to do."}, {"owner": {"reputation": 3218, "user_id": 297201, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/N63k0.jpg?s=128&g=1", "display_name": "David van Dugteren", "link": "https://stackoverflow.com/users/297201/david-van-dugteren"}, "reply_to_user": {"reputation": 4083, "user_id": 1139730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d244ce08c17f8593ef9ba4ddd2ad48ac?s=128&d=identicon&r=PG", "display_name": "wayneh", "link": "https://stackoverflow.com/users/1139730/wayneh"}, "edited": false, "score": 0, "creation_date": 1592790357, "post_id": 58043846, "comment_id": 110541264, "body": "@wayneh Did you find a solution?"}, {"owner": {"reputation": 4083, "user_id": 1139730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d244ce08c17f8593ef9ba4ddd2ad48ac?s=128&d=identicon&r=PG", "display_name": "wayneh", "link": "https://stackoverflow.com/users/1139730/wayneh"}, "reply_to_user": {"reputation": 3218, "user_id": 297201, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/N63k0.jpg?s=128&g=1", "display_name": "David van Dugteren", "link": "https://stackoverflow.com/users/297201/david-van-dugteren"}, "edited": false, "score": 0, "creation_date": 1592829652, "post_id": 58043846, "comment_id": 110555902, "body": "@DavidvanDugteren No, I have not resolved this yet. At this time I have pulled my Apps from the App Store."}], "tags": [], "owner": {"reputation": 10646, "user_id": 3231194, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UwiSe.jpg?s=128&g=1", "display_name": "Glenn Posadas", "link": "https://stackoverflow.com/users/3231194/glenn-posadas"}, "is_accepted": false, "score": 1, "last_activity_date": 1569097503, "creation_date": 1569097503, "answer_id": 58043846, "question_id": 58043107, "link": "https://stackoverflow.com/questions/58043107/how-to-update-nskeyedunarchiver-unarchiveobjectwithdata-to-nskeyedunarchiver-una/58043846#58043846", "title": "How to update NSKeyedUnarchiver unarchiveObjectWithData to NSKeyedUnarchiver unarchivedObjectOfClass:[fromData:error:", "body": "<p>Interesting question! I've been supporting iOS 10.0 so I haven't encountered such issue until I saw this. I was tinkering for an hour and I successfully found the issue.</p>\n\n<blockquote>\n  <p>What could be causing the IF statement to return FALSE using the newer\n  code?</p>\n</blockquote>\n\n<p>It's because your <code>unarchivedObject</code> object is <strong>nil</strong>!</p>\n\n<p>If you use the parameter <code>error</code> in the new method, you would see an error like this:</p>\n\n<blockquote>\n  <p>Error Domain=NSCocoaErrorDomain Code=4864 \"This decoder will only\n  decode classes that adopt NSSecureCoding. Class 'QTPerson' does not\n  adopt it.\" UserInfo={NSDebugDescription=This decoder will only decode\n  classes that adopt NSSecureCoding. Class 'QTPerson' does not adopt it.</p>\n</blockquote>\n\n<p>But how do we get the correct value for this <code>unarchivedObject</code> and not nil? It would take a couple of steps.</p>\n\n<p>First off, make your model/class conform to <code>&lt;NSCoding, NSSecureCoding&gt;</code></p>\n\n<p>Example:\n<strong>QTPerson.h</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@class QTPerson;\n\nNS_ASSUME_NONNULL_BEGIN\n\n#pragma mark - Object interfaces\n\n@interface QTPerson : NSObject &lt;NSCoding, NSSecureCoding&gt;\n@property (nonatomic, copy) NSString *text;\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>And then implement the protocol methods:</p>\n\n<p><strong>QTPerson.m</strong></p>\n\n<pre><code>#import \"QTPerson.h\"\n\n@implementation QTPerson\n\n+ (BOOL)supportsSecureCoding {\n    return YES;\n}\n\n- (void)encodeWithCoder:(NSCoder *)coder {\n    [coder encodeObject:_text forKey:@\"text\"];\n}\n\n- (instancetype)initWithCoder:(NSCoder *)coder {\n    self = [super init];\n    if (self) {\n        _text = [coder decodeObjectOfClass:[NSString class] forKey:@\"text\"];\n    }\n    return self;\n}\n\n@end\n</code></pre>\n\n<hr>\n\n<p>And then when archiving an object, you would want to pass <code>YES</code> to the parameter <code>requiringSecureCoding</code>, like so:</p>\n\n<pre><code>QTPerson *person = [[QTPerson alloc] init];\nperson.text = @\"Glenn\";\n\nNSData *codedData1 = [NSKeyedArchiver archivedDataWithRootObject:person requiringSecureCoding:YES error:nil];\n[[NSUserDefaults standardUserDefaults] setValue:codedData1 forKey:@\"boom\"];\n</code></pre>\n\n<hr>\n\n<p>Lastly, when unarchiving, just do what you did correctly, like so:</p>\n\n<pre><code>NSData *codedData = [[NSUserDefaults standardUserDefaults] dataForKey:@\"boom\"];\n\nNSError *er;\nid unarchivedObject=[NSKeyedUnarchiver unarchivedObjectOfClass:[QTPerson class] fromData:codedData error:&amp;er];\n\nif([unarchivedObject isKindOfClass:[QTPerson class]]){\n    NSLog(@\"TRUE!\");\n} else {\n    NSLog(@\"FALSE!\");\n}\n</code></pre>\n\n<p>Voila! You'll get nonnull object <code>unarchivedObject</code>, hence the TRUE/YES value you're looking for!</p>\n"}], "owner": {"reputation": 4083, "user_id": 1139730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d244ce08c17f8593ef9ba4ddd2ad48ac?s=128&d=identicon&r=PG", "display_name": "wayneh", "link": "https://stackoverflow.com/users/1139730/wayneh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1585649884, "creation_date": 1569091174, "last_edit_date": 1585649884, "question_id": 58043107, "link": "https://stackoverflow.com/questions/58043107/how-to-update-nskeyedunarchiver-unarchiveobjectwithdata-to-nskeyedunarchiver-una", "title": "How to update NSKeyedUnarchiver unarchiveObjectWithData to NSKeyedUnarchiver unarchivedObjectOfClass:[fromData:error:", "body": "<p>My app currently uses this deprecated function:</p>\n\n<pre><code>id unarchivedObject=[NSKeyedUnarchiver unarchiveObjectWithData:codedData];\nif([unarchivedObject isKindOfClass:[NSDictionary class]]){\n    // currently returns TRUE when reading existing user data.\n} \n</code></pre>\n\n<p>To update, I've converted to this:</p>\n\n<pre><code>id unarchivedObject=[NSKeyedUnarchiver unarchivedObjectOfClass:[NSDictionary class] fromData:codedData error:nil];\nif([unarchivedObject isKindOfClass:[NSDictionary class]]){\n    // currently returns FALSE when reading existing user data.\n}\n</code></pre>\n\n<p>The data was originally encoded like this:</p>\n\n<pre><code>-(void)encodeWithCoder:(NSCoder*)encoder{\n    [encoder encodeObject:text forKey:@\"text\"];\n}\n-(instancetype)initWithCoder:(NSCoder*)decoder{\n    if(self=[super init]){\n        text=[decoder decodeObjectForKey:@\"text\"];\n}\n</code></pre>\n\n<p>What could be causing the IF statement to return FALSE using the newer code?</p>\n\n<p>Please note that I am concerned primarily with reading existing data stored prior to deprecating the Archiving functions. Simply changing to the newer functions does not resolve the issue.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1569097780, "post_id": 58042346, "comment_id": 102487972, "body": "There is no way to share data between developers directly on the device. Your options are to store the data on the network somewhere or use URLs to pass the data between apps"}, {"owner": {"reputation": 534, "user_id": 2894790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af02f13fe4e143eab5ae3543ecb9f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Christos Koninis", "link": "https://stackoverflow.com/users/2894790/christos-koninis"}, "edited": false, "score": 0, "creation_date": 1569134597, "post_id": 58042346, "comment_id": 102492715, "body": "If you can coordinate with the other developer you can use the iCloud to share data. If the two apps have the same iCloud identifier in their entitlements they can write/read files in the same space. Btw this question has been asked again you can see relevant and more complete answers here <a href=\"https://stackoverflow.com/questions/8882682/sharing-icloud-data-between-two-apps\" title=\"sharing icloud data between two apps\">stackoverflow.com/questions/8882682/&hellip;</a> and here <a href=\"https://stackoverflow.com/questions/8882682/sharing-icloud-data-between-two-apps\" title=\"sharing icloud data between two apps\">stackoverflow.com/questions/8882682/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12087677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a21e7e252983c8e30337ff8c23122be?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby X", "link": "https://stackoverflow.com/users/12087677/bobby-x"}, "is_accepted": false, "score": -1, "last_activity_date": 1569131037, "creation_date": 1569131037, "answer_id": 58046378, "question_id": 58042346, "link": "https://stackoverflow.com/questions/58042346/ios-storage-across-developers/58046378#58046378", "title": "iOS Storage across Developers", "body": "<p>This would violate iOS security policies and is therefore not possible on device. The only way to enable this is on a jailbroken device.</p>\n"}, {"tags": [], "owner": {"reputation": 7019, "user_id": 1032372, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JDjul.jpg?s=128&g=1", "display_name": "shim", "link": "https://stackoverflow.com/users/1032372/shim"}, "is_accepted": true, "score": 0, "last_activity_date": 1569131626, "last_edit_date": 1592644375, "creation_date": 1569131626, "answer_id": 58046421, "question_id": 58042346, "link": "https://stackoverflow.com/questions/58042346/ios-storage-across-developers/58046421#58046421", "title": "iOS Storage across Developers", "body": "<p>May not work for your specific needs, but note you can share documents between apps using <a href=\"https://developer.apple.com/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/setting_up_a_document_browser_app\" rel=\"nofollow noreferrer\">UISupportsDocumentBrowser</a>. See also <a href=\"https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW37\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>UISupportsDocumentBrowser (Boolean - iOS) Specifies that the app is a document-based app and uses the UIDocumentBrowserViewController class.</p>\n<p>If this key is set to YES, the user can set the document browser\u2019s default save location in Settings. Additionally, the local file provider grants access to all the documents in the app\u2019s Documents directory. These documents appear in the Files app, and in a Document Browser. Users can open and edit these document in place.</p>\n<p>This key is supported in iOS 11 and later.</p>\n</blockquote>\n"}], "owner": {"reputation": 2083, "user_id": 3459721, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a4985d416454ba24dd9e7d3fa3142c7e?s=128&d=identicon&r=PG&f=1", "display_name": "lvoelk", "link": "https://stackoverflow.com/users/3459721/lvoelk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58046421, "answer_count": 2, "score": 0, "last_activity_date": 1570116063, "creation_date": 1569085076, "last_edit_date": 1570116063, "question_id": 58042346, "link": "https://stackoverflow.com/questions/58042346/ios-storage-across-developers", "title": "iOS Storage across Developers", "body": "<p>I need to create an integration between my app and apps by another developer.  There are several ways to store data for an app, some that allow only your app to access it, some that allow other apps by the same developer to access it.  But is there an iOS API that allows you store data publicly on the device so that any other app can access it? This data is not secure and cannot be used maliciously.</p>\n"}, {"tags": ["objective-c", "nsstring"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1569083679, "post_id": 58042146, "comment_id": 102484685, "body": "It seems your issue isn&#39;t with comparing strings. It&#39;s with using <code>[[NSString alloc] initWithCharacters:&amp;uchar length:ucharLen]</code> and not getting the expected result. You should update your question showing all of the relevant code used to create the string."}, {"owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569084194, "post_id": 58042146, "comment_id": 102484798, "body": "@rmaddy Right, the problem was with the length in the initializer. I have updated the question."}, {"owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1569084455, "post_id": 58042146, "comment_id": 102484866, "body": "Got it. The <code>initWithCharacters:</code> takes a C array."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1569084482, "creation_date": 1569084482, "answer_id": 58042281, "question_id": 58042146, "link": "https://stackoverflow.com/questions/58042146/comparing-strings-is-giving-false-in-objective-c/58042281#58042281", "title": "Comparing strings is giving false in Objective-C", "body": "<p>The problem is with:</p>\n\n<pre><code>unichar uchar = [string characterAtIndex:0];\nsize_t ucharLen = sizeof(uchar);\nNSString *str = [[NSString alloc] initWithCharacters:&amp;uchar length:ucharLen];\n</code></pre>\n\n<p>You are creating a string from a single <code>unichar</code> which means the length needs to be <code>1</code>. But the <code>sizeof(unichar)</code> returns 2 since <code>unichar</code> is a 16-bit (2-byte) value so you end up telling the string you are passing 2 characters, not 1.</p>\n\n<p>So the resulting string contains two characters - the one you actually want and a second, random bit of garbage that happens to be at that memory address.</p>\n\n<p>Just hardcode 1:</p>\n\n<pre><code>unichar uchar = [string characterAtIndex:0];\nNSString *str = [[NSString alloc] initWithCharacters:&amp;uchar length:1];\n</code></pre>\n"}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58042281, "answer_count": 1, "score": 0, "last_activity_date": 1569084482, "creation_date": 1569083470, "last_edit_date": 1569084159, "question_id": 58042146, "link": "https://stackoverflow.com/questions/58042146/comparing-strings-is-giving-false-in-objective-c", "title": "Comparing strings is giving false in Objective-C", "body": "<p>I am comparing two strings using <code>isEqual</code> method and it is giving <code>NO</code>.</p>\n\n<pre><code>if ([trie.name isEqual:string]) {\n    isFound = YES;\n    break;\n}\n</code></pre>\n\n<p>The <code>trie.name</code> is a string initialized using <code>[[NSString alloc] initWithCharacters:&amp;uchar length:ucharLen]</code>, where <code>uchar</code> is a <code>unichar</code>. The <code>string</code> is a constant string <code>@\"N\"</code>. I have checked the hash values and both differ. I am not sure why creating a string using different initializer gives different hash for the same string value. In this case, how to check for string equality?</p>\n\n<p>Please see the attached screenshot of the debug variables.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ll3BM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ll3BM.png\" alt=\"string equal error\"></a></p>\n\n<hr>\n\n<p>Currently, I am using the code:</p>\n\n<pre><code>NSString *string = @\"Pirates\";\nunichar uchar = [string characterAtIndex:0];\nsize_t ucharLen = sizeof(uchar);\nNSString *str = [[NSString alloc] initWithCharacters:&amp;uchar length:ucharLen];\nXCTAssertTrue([str isEqual:@\"P\"]);\n</code></pre>\n\n<p>If I given the <code>length:</code> as 1, it works properly. How to get the length of the <code>unichar</code>. Will it always be <code>1</code> so that I can hardcode <code>1</code> in this case?</p>\n"}, {"tags": ["objective-c", "tvos", "tvos13"], "answers": [{"tags": [], "owner": {"reputation": 190, "user_id": 2877248, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/77ee11b4c5a5e516feddfaac09a12548?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/2877248/sebastian"}, "is_accepted": false, "score": 0, "last_activity_date": 1569099997, "last_edit_date": 1569099997, "creation_date": 1569095347, "answer_id": 58043599, "question_id": 58039234, "link": "https://stackoverflow.com/questions/58039234/how-to-access-tvposterview-inside-uicollectionviewcell/58043599#58043599", "title": "How to access TVPosterView inside UICollectionViewCell", "body": "<p>OK I found solution by accident.</p>\n\n<p>This</p>\n\n<pre><code>FilmCelkaCollectionViewCell *celka = [collectionView dequeueReusableCellWithReuseIdentifier:@\"filmCela\" forIndexPath:indexPath];\n</code></pre>\n\n<p>will work while typecasting will not</p>\n\n<pre><code>UICollectionViewCell *celka = (FilmCelkaCollectionViewCell *)[collectionView dequeueReusableCellWithReuseIdentifier:@\"filmCela\" forIndexPath:indexPath];\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 2877248, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/77ee11b4c5a5e516feddfaac09a12548?s=128&d=identicon&r=PG", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/2877248/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569099997, "creation_date": 1569060382, "question_id": 58039234, "link": "https://stackoverflow.com/questions/58039234/how-to-access-tvposterview-inside-uicollectionviewcell", "title": "How to access TVPosterView inside UICollectionViewCell", "body": "<p>As usual I encountered problem it is not well explained in internet and Apple documentation is limited.</p>\n\n<p>I have UICollectionView with cells. I wanted to present movie poster inside each cell.I imported TVUIkit and addedd framework inside project settings.</p>\n\n<p>My FilmCelkaCollectionViewCell.h contains</p>\n\n<pre><code>    API_AVAILABLE(tvos(12.0))\n@interface FilmCelkaCollectionViewCell : UICollectionViewCell \n@property (strong, nonatomic) IBOutlet TVPosterView *widokPlakatu;\n\n@end\n</code></pre>\n\n<p><code>FilmCelkaCollectionViewCell.m</code> does not contain any methods.</p>\n\n<p>And in my collectionviewcontroller cell definition is as follow:</p>\n\n<pre><code>- (nonnull __kindof UICollectionViewCell *)collectionView:(nonnull UICollectionView *)collectionView cellForItemAtIndexPath:(nonnull NSIndexPath *)indexPath {\n    UICollectionViewCell *celka = (FilmCelkaCollectionViewCell*)[collectionView dequeueReusableCellWithReuseIdentifier:@\"filmCela\" forIndexPath:indexPath];\n\n    celka.backgroundColor =[UIColor greenColor];\n\n    return celka;\n}\n</code></pre>\n\n<p>I added green background to see better area in simulator. But problem is I don't know how to access property <code>TVPosterView *widokPlakatu</code> - the only thing I can access is <code>celka.contentView</code>. I watched WWDC2018 video about \"What's new in tvos12\" and still have questions:  </p>\n\n<ol>\n<li>Does TVPosterView acts like CollectionViewCell and I can use it with UICollectionView without cells?  </li>\n<li>Is TVPosterView some special @property that cannot be accessed and must be initialized somewhere,somehow? I defined property in storyboard.</li>\n<li>Is it forbidden to put views inside the CollectionViewCell?</li>\n</ol>\n"}, {"tags": ["objective-c", "nsnumber", "ios13", "nsnumberformatter"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1569049987, "post_id": 58037732, "comment_id": 102477240, "body": "To be honest, I am not sure what exactly is rounding increment because the documentation says nothing about it. Are you sure. Wouldn&#39;t it be enough to set <code>minimumFractionDigits = 2</code> and <code>maximumFractionDigits = 2</code>?"}, {"owner": {"reputation": 744, "user_id": 918357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c27ce2d30754a7af50b3a660da82238?s=128&d=identicon&r=PG", "display_name": "Yauheni Shauchenka", "link": "https://stackoverflow.com/users/918357/yauheni-shauchenka"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1569076520, "post_id": 58037732, "comment_id": 102483044, "body": "@Sulthan just tried - same result"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1569079906, "post_id": 58037732, "comment_id": 102483828, "body": "@Sulthan You should not set the fraction digits for a currency formatter. Not all currencies use the same number of digits."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1569249472, "post_id": 58037732, "comment_id": 102525928, "body": "@YauheniShauchenka You failed setting <code>.minimumFractionDigits</code> <i>without</i> setting <code>.roundingIncrement</code>? However, using floating point numbers for currencies is wrong by design. Using float as floating pointer numbers for currencies is wronger by design. At least try it with doubles."}, {"owner": {"reputation": 744, "user_id": 918357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c27ce2d30754a7af50b3a660da82238?s=128&d=identicon&r=PG", "display_name": "Yauheni Shauchenka", "link": "https://stackoverflow.com/users/918357/yauheni-shauchenka"}, "reply_to_user": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1569251977, "post_id": 58037732, "comment_id": 102527301, "body": "@AminNegm-Awad by the way we just tried and faced the same code written in swift working well. Float is not an issue here as we do need just 2 digits after comma, that is price."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1569273306, "post_id": 58037732, "comment_id": 102536238, "body": "Swift might encode this as double. In C floating point literals are double, too. But you force the compiler to convert it to a float by using <code>-numberWithFloat:</code>. You might not force the Swift compiler. <i>Float is not an issue here as we do need just 2 digits after comma, that is price.</i> Before you continue using floating pint numbers, you should really, really, really get informed how floating point numbers work, This statement is highly erroneous: Standard Floating point numbers store fractions in binary values (0.5, 0.25, \u2026) You have 2 digit of <i>decimal</i> fractions. This does not always map."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1569273612, "post_id": 58037732, "comment_id": 102536314, "body": "What do you think, why <code>NSDecimal</code> exists?"}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1569273803, "post_id": 58037732, "comment_id": 102536367, "body": "Just tested it. <code>0.7</code> isn&#39;t storable in <code>float</code> and <code>double</code>:  <code>(lldb) p 0.7 (double) $6 = 0.69999999999999996 (lldb) p 0.7f (float) $7 = 0.699999988</code>"}], "owner": {"reputation": 744, "user_id": 918357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c27ce2d30754a7af50b3a660da82238?s=128&d=identicon&r=PG", "display_name": "Yauheni Shauchenka", "link": "https://stackoverflow.com/users/918357/yauheni-shauchenka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1569244195, "creation_date": 1569046124, "last_edit_date": 1569244195, "question_id": 58037732, "link": "https://stackoverflow.com/questions/58037732/nsnumberformatter-for-ios-13-users-ignore-setroundingincrement", "title": "NSNumberFormatter for iOS 13 users ignore setRoundingIncrement", "body": "<pre><code>NSLocale *locale = [NSLocale currentLocale];\nNSNumberFormatter *currencyStyle = [[NSNumberFormatter alloc] init];\n[currencyStyle setLocale:locale];\n[currencyStyle setNumberStyle:NSNumberFormatterCurrencyStyle];\n[currencyStyle setFormatterBehavior:NSNumberFormatterBehavior10_4];\n[currencyStyle setCurrencySymbol:[countriesCurrency objectForKey:currency]];\n[currencyStyle setRoundingIncrement:[NSNumber numberWithFloat:0.01]];\n</code></pre>\n\n<p>Since 2012 code like below returned \"0.70\u00a0\u20ac\" and that was great as it's exactly what is expected. </p>\n\n<pre><code>po [currencyStyle stringFromNumber:[NSNumber numberWithFloat:0.70]]\n</code></pre>\n\n<p>BUT since iOS 13 (app build with xCode 10.3, just users with iOS 13 on their iPhones installed app from the AppStore. Same for build throw xCode 11 on iOS 13.0 and 13.1 beta) exactly same code returns \"0,69999998435378074\u00a0\u20ac\"</p>\n\n<p>After quick midnight investigations found that if add</p>\n\n<pre><code>currencyStyle.usesSignificantDigits = YES;\n</code></pre>\n\n<p>then result will be \"0.7\u00a0\u20ac\" - much better but still not exactly what was expected (\"0.70\u00a0\u20ac\").</p>\n\n<p>Any ideas how to make setRoundingIncrement great again?</p>\n\n<p>[UPDATE]:\nRewriting the same code to swift solve the problem but this sounds like temp solution in the case all the rest app is in Obj-C.</p>\n"}, {"tags": ["c++", "objective-c", "app-bundle"], "answers": [{"comments": [{"owner": {"reputation": 2221, "user_id": 272642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6cd5090839b1021f85bd329e1ed09264?s=128&d=identicon&r=PG", "display_name": "Vortico", "link": "https://stackoverflow.com/users/272642/vortico"}, "edited": false, "score": 0, "creation_date": 1571028135, "post_id": 58369256, "comment_id": 103090104, "body": "Can you post some example C++ of how to use <code>CFURLCopyResourcePropertyForKey()</code>? The documentation doesn&#39;t say how to use it, and one of its arguments is a <code>void*</code>."}, {"owner": {"reputation": 2221, "user_id": 272642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6cd5090839b1021f85bd329e1ed09264?s=128&d=identicon&r=PG", "display_name": "Vortico", "link": "https://stackoverflow.com/users/272642/vortico"}, "edited": false, "score": 0, "creation_date": 1571042978, "post_id": 58369256, "comment_id": 103095617, "body": "Thanks, this works! For future readers, the header <code>#include &lt;CoreServices&#47;CoreServices.h&gt;</code> is needed for <code>kUTTypeApplicationBundle</code>."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1571039675, "last_edit_date": 1571039675, "creation_date": 1571018705, "answer_id": 58369256, "question_id": 58036928, "link": "https://stackoverflow.com/questions/58036928/check-if-c-program-is-running-as-an-app-bundle-or-command-line-on-mac/58369256#58369256", "title": "Check if C++ program is running as an app bundle or command-line on Mac", "body": "<p>You can query the Uniform Type Identifier (UTI) of the URL (using <code>CFURLCopyResourcePropertyForKey()</code> with <code>kCFURLTypeIdentifierKey</code>) and see if it conforms to <code>kUTTypeApplicationBundle</code> (using <code>UTTypeConformsTo()</code>).</p>\n\n<pre><code>CFStringRef uti;\nif (CFURLCopyResourcePropertyForKey(bundleUrl, kCFURLTypeIdentifierKey, &amp;uti, NULL) &amp;&amp;\n    uti &amp;&amp;\n    UTTypeConformsTo(uti, kUTTypeApplicationBundle))\n{\n    // Is bundled application\n}\n</code></pre>\n\n<p>Using Objective-C, you can use the <code>NSWorkspace</code> methods <code>-typeOfFile:error:</code> and <code>-type:conformsToType:</code> for the same purpose.</p>\n"}], "owner": {"reputation": 2221, "user_id": 272642, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6cd5090839b1021f85bd329e1ed09264?s=128&d=identicon&r=PG", "display_name": "Vortico", "link": "https://stackoverflow.com/users/272642/vortico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58369256, "answer_count": 1, "score": 0, "last_activity_date": 1571039675, "creation_date": 1569034815, "question_id": 58036928, "link": "https://stackoverflow.com/questions/58036928/check-if-c-program-is-running-as-an-app-bundle-or-command-line-on-mac", "title": "Check if C++ program is running as an app bundle or command-line on Mac", "body": "<p>Is there a way for a C++ or Objective-C program to tell whether is it being run as a command-line application (e.g. with <code>./myprog</code> in a shell) or as an app bundle (e.g. by double-clicking on a .app in Finder or running <code>open myprog.app/</code> in Terminal)?</p>\n\n<p>Currently I'm using the following.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>CFBundleRef bundle = CFBundleGetMainBundle();\nCFURLRef bundleUrl = CFBundleCopyBundleURL(bundle);\nchar bundleBuf[PATH_MAX];\nCFURLGetFileSystemRepresentation(bundleUrl, TRUE, (UInt8*) bundleBuf, sizeof(bundleBuf));\n</code></pre>\n\n<p>At this point, <code>bundleBuf</code> now holds the path to the .app bundle <em>or</em> the directory containing the command-line executable. I can check whether the string ends with <code>\".app\"</code>, but this is hacky. Is there a better way to do this?</p>\n"}, {"tags": ["ios", "objective-c", "uinavigationbar", "uistackview"], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1569004061, "creation_date": 1569004061, "answer_id": 58033523, "question_id": 58033384, "link": "https://stackoverflow.com/questions/58033384/how-can-you-display-a-list-of-images-as-a-navigation-bars-title/58033523#58033523", "title": "How can you display a list of images as a navigation bar&#39;s title?", "body": "<p>You can display anything you like in the center of the navigation bar as its <code>titleView</code>. So create your containing view with the horizontally arranged image views as its subviews, set up all the needed constraints, and use your containing view as the title view.</p>\n"}, {"tags": [], "owner": {"reputation": 1549, "user_id": 8475638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Upwjr.jpg?s=128&g=1", "display_name": "Ankur Lahiry", "link": "https://stackoverflow.com/users/8475638/ankur-lahiry"}, "is_accepted": false, "score": 1, "last_activity_date": 1569010602, "creation_date": 1569010602, "answer_id": 58034660, "question_id": 58033384, "link": "https://stackoverflow.com/questions/58033384/how-can-you-display-a-list-of-images-as-a-navigation-bars-title/58034660#58034660", "title": "How can you display a list of images as a navigation bar&#39;s title?", "body": "<p>Yes you can do using your stackView </p>\n\n<p>let you will add 3 imageViews, <code>imageView1</code>, <code>imageView2</code>, <code>imageView3</code></p>\n\n<pre><code>stackView.addArrangedSubViews([imageView1, imageView2, imageView3])\n\nself.navigationItem.titleView = stackView\n\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11002769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b355a5d442f258d1b686a8ec7b90a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Wallace", "link": "https://stackoverflow.com/users/11002769/wallace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1569010602, "creation_date": 1569003405, "last_edit_date": 1569003427, "question_id": 58033384, "link": "https://stackoverflow.com/questions/58033384/how-can-you-display-a-list-of-images-as-a-navigation-bars-title", "title": "How can you display a list of images as a navigation bar&#39;s title?", "body": "<p>From stackoverflowing, I understand that to set the title of a navigation bar to an image, we use the following code:</p>\n\n<pre><code>UIImage *image = [UIImage imageNamed:@\"image.png\"];\nself.navigationItem.titleView = [[UIImageView alloc] initWithImage:image];\n</code></pre>\n\n<p>However, I want to display a list of images CENTERED on the navigation bar. It's for a chat application where I display the images of all the participants! So I do need some space between the UIImages.  </p>\n\n<p>I was thinking horizontal stackviews but I'm not sure how to properly implement them programmatically. Or even if it's possible to do so in the navigation bar. </p>\n\n<p>Does anyone know how to do this effectively?</p>\n\n<p>Thanks in advance! </p>\n\n<p>PS: As an aside, would anyone happen to know how to increase the height of the navigation bar? I've tried the following code in viewDidAppear:</p>\n\n<pre><code>self.navigationController.navigationBar.prefersLargeTitles = YES;\nself.navigationController.navigationItem.largeTitleDisplayMode = UINavigationItemLargeTitleDisplayModeAlways;\nself.navigationController.navigationBar sizeToFit];\n</code></pre>\n\n<p>But the result is NOT static. I have a tableview underneath to display the chat messages and if I scroll to a certain point, the big navigation bar CONDENSES. Moreover, the font is magnified. Is there a way to statically set the height of a navigation bar in iOS 11+ without affecting any other properties of the navigation bar?</p>\n"}, {"tags": ["objective-c", "xcode", "queue"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1568986580, "post_id": 58029345, "comment_id": 102461259, "body": "Did you modified a Framework file which is named <code>queue.h</code>? Like a &quot;internal file&quot;, and you can&#39;t really modify it..."}, {"owner": {"reputation": 608, "user_id": 4790297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0rks7dm3ngI/AAAAAAAAAAI/AAAAAAAAAIg/Eh0FsghpKWA/photo.jpg?sz=128", "display_name": "Rakshitha Muranga Rodrigo", "link": "https://stackoverflow.com/users/4790297/rakshitha-muranga-rodrigo"}, "edited": false, "score": 0, "creation_date": 1577190926, "post_id": 58029345, "comment_id": 105116931, "body": "I have a similar situation and even I cannot close Xcode, I have Xcode 11.3.."}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 12323871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAtiwrv8KNWpajFjRKUUczgjs_AlRxFoyZKG-95Ig=k-s128", "display_name": "George Hamilton", "link": "https://stackoverflow.com/users/12323871/george-hamilton"}, "reply_to_user": {"reputation": 297, "user_id": 10927635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JoFG0J-g544/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaoK__JQj5YjpzEA3FsuyhMbVmClw/mo/photo.jpg?sz=128", "display_name": "vishal", "link": "https://stackoverflow.com/users/10927635/vishal"}, "edited": false, "score": 0, "creation_date": 1572938423, "post_id": 58704270, "comment_id": 103707041, "body": "Accept my answer? This isn&#39;t my post."}, {"owner": {"reputation": 608, "user_id": 4790297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0rks7dm3ngI/AAAAAAAAAAI/AAAAAAAAAIg/Eh0FsghpKWA/photo.jpg?sz=128", "display_name": "Rakshitha Muranga Rodrigo", "link": "https://stackoverflow.com/users/4790297/rakshitha-muranga-rodrigo"}, "edited": false, "score": 0, "creation_date": 1577477026, "post_id": 58704270, "comment_id": 105183518, "body": "I have this issue on Xcode 11.3 / 11.2 but could not resolve yet, any idea ?"}, {"owner": {"reputation": 26, "user_id": 12323871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAtiwrv8KNWpajFjRKUUczgjs_AlRxFoyZKG-95Ig=k-s128", "display_name": "George Hamilton", "link": "https://stackoverflow.com/users/12323871/george-hamilton"}, "reply_to_user": {"reputation": 608, "user_id": 4790297, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0rks7dm3ngI/AAAAAAAAAAI/AAAAAAAAAIg/Eh0FsghpKWA/photo.jpg?sz=128", "display_name": "Rakshitha Muranga Rodrigo", "link": "https://stackoverflow.com/users/4790297/rakshitha-muranga-rodrigo"}, "edited": false, "score": 0, "creation_date": 1578382943, "post_id": 58704270, "comment_id": 105410692, "body": "@RakshithaMurangaRodrigo I saw from your comment on the main post that you couldn&#39;t even close Xcode. Are you unable even to force quit it? When I had the problem, normal quitting didn&#39;t work but force quitting did."}], "tags": [], "owner": {"reputation": 26, "user_id": 12323871, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAtiwrv8KNWpajFjRKUUczgjs_AlRxFoyZKG-95Ig=k-s128", "display_name": "George Hamilton", "link": "https://stackoverflow.com/users/12323871/george-hamilton"}, "is_accepted": true, "score": 1, "last_activity_date": 1572938370, "last_edit_date": 1572938370, "creation_date": 1572926121, "answer_id": 58704270, "question_id": 58029345, "link": "https://stackoverflow.com/questions/58029345/the-document-queue-h-could-not-be-saved/58704270#58704270", "title": "The document \u201cqueue.h\u201d could not be saved", "body": "<p>I have a similar issue but for queue in C++. I caused mine by accidentally applying the fix suggestion \"Fix in 'queue' \" offered by the compiler\u2014I assume that that is how yours happened too. I force quit X Code, thus losing any unsaved changes, and then reopened the app. That seems to have fixed the problem.</p>\n"}], "owner": {"reputation": 27, "user_id": 7850893, "user_type": "registered", "profile_image": "https://graph.facebook.com/1674121305937230/picture?type=large", "display_name": "Andranik Abbat Alajajyan", "link": "https://stackoverflow.com/users/7850893/andranik-abbat-alajajyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 1, "accepted_answer_id": 58704270, "answer_count": 1, "score": 1, "last_activity_date": 1572938370, "creation_date": 1568986145, "last_edit_date": 1568991681, "question_id": 58029345, "link": "https://stackoverflow.com/questions/58029345/the-document-queue-h-could-not-be-saved", "title": "The document \u201cqueue.h\u201d could not be saved", "body": "<p>I am working/learning on my project (Objective C, Xcode). At that time I was working with:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue() \n</code></pre>\n\n<p>Now, when I want to run or debug my program. I see this window during each run:</p>\n\n<p><img src=\"https://i.stack.imgur.com/HIKWC.png\" alt=\"window\"> </p>\n\n<p>How to undo all changes in this file and make this window no longer show.</p>\n"}, {"tags": ["ios", "objective-c", "database", "performance", "core-data"], "comments": [{"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1568986261, "post_id": 58028874, "comment_id": 102461079, "body": "The &quot;save&quot; method inserts data in memory into database files so it is expected to be the time-consuming one. Still 8min really seems absurd. Maybe you could play with some settings on your model; some indexing may be going on that is hard to resolve. Otherwise (if possible) you could do without relations: Just store IDs of each others."}, {"owner": {"reputation": 3175, "user_id": 1883707, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IXq2g.jpg?s=128&g=1", "display_name": "andrewbuilder", "link": "https://stackoverflow.com/users/1883707/andrewbuilder"}, "edited": false, "score": 0, "creation_date": 1569015364, "post_id": 58028874, "comment_id": 102472634, "body": "You are adding a project to the customer object <code>[customer addProjectsObject:project];</code>, then adding the customer to the project object <code>project.customer = customer;</code>. Is this not the same process repeated? Why do you call <code>refreshObject</code>?"}, {"owner": {"reputation": 43, "user_id": 3327987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365743aa8e166dcd6338abad90c5c901?s=128&d=identicon&r=PG&f=1", "display_name": "keriackus", "link": "https://stackoverflow.com/users/3327987/keriackus"}, "reply_to_user": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1569242272, "post_id": 58028874, "comment_id": 102521595, "body": "@MaticOblak I ended up saving ids, and depending on custom getters to get the actual object when needed. Still feels it can be done without this hack, it can&#39;t be that CoreData can&#39;t handle such common usecase."}, {"owner": {"reputation": 43, "user_id": 3327987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365743aa8e166dcd6338abad90c5c901?s=128&d=identicon&r=PG&f=1", "display_name": "keriackus", "link": "https://stackoverflow.com/users/3327987/keriackus"}, "reply_to_user": {"reputation": 3175, "user_id": 1883707, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IXq2g.jpg?s=128&g=1", "display_name": "andrewbuilder", "link": "https://stackoverflow.com/users/1883707/andrewbuilder"}, "edited": false, "score": 0, "creation_date": 1569242493, "post_id": 58028874, "comment_id": 102521714, "body": "@andrewbuilder from my understanding you have to set the relationship and the inverse relationship yourself. - The fault for the customer managedObject fires at line  [customer addProjectsObject:project]  so I&#39;m calling refreshObject to set the customer object back to fault as I no longer need it&#39;s attributes to be loaded in the memory."}, {"owner": {"reputation": 3175, "user_id": 1883707, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IXq2g.jpg?s=128&g=1", "display_name": "andrewbuilder", "link": "https://stackoverflow.com/users/1883707/andrewbuilder"}, "edited": false, "score": 0, "creation_date": 1569243353, "post_id": 58028874, "comment_id": 102522232, "body": "1. You set the relationship and inverse relationship only in the model (editor); 2. In code, you need only set the relationship once, usually from whatever entity you\u2019re working with; 3. I\u2019d recommend you do some more reading on faults; 4. Use <code>print()</code> to terminal and set breakpoints to actually interrogate your <code>Customer</code> entity - line by line - to see how it\u2019s attribute and relationship values change after each of those 3 lines of code. You\u2019ll also be able to observe whether the relationship/s are faulted or not. I\u2019d be very surprised if you need the call to <code>refreshObject</code>."}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1569243886, "post_id": 58028874, "comment_id": 102522532, "body": "@keriackus I just tried to simulate your situation. I created a fresh project with core data model of 2 items having one-to-many relation. I created 100 containers and then distributed 150000 items between them. The whole process took 5.439 seconds (includes generating objects, assigning stuff and random accessing...). I then fetched the containers back to do the sanity check and all looks OK. Maybe you should start the same way and see what is a minimum requirement to get the result you are seeing."}, {"owner": {"reputation": 43, "user_id": 3327987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365743aa8e166dcd6338abad90c5c901?s=128&d=identicon&r=PG&f=1", "display_name": "keriackus", "link": "https://stackoverflow.com/users/3327987/keriackus"}, "reply_to_user": {"reputation": 3175, "user_id": 1883707, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IXq2g.jpg?s=128&g=1", "display_name": "andrewbuilder", "link": "https://stackoverflow.com/users/1883707/andrewbuilder"}, "edited": false, "score": 1, "creation_date": 1569248559, "post_id": 58028874, "comment_id": 102525417, "body": "@andrewbuilder I actually used refreshObject method after reading throughly about faulting, and doing extensive debugging. The impact on memory was reduced significantly from 900 MB to 23 MB. As I mentioned in my last response to you the customer object is faulted until [customer addProject:] is executed. Check <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/FaultingandUniquing.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a>  Regarding setting the inverse relationship you might be right. I anyways commented that line out and it&#39;s not the reason behind [context save] taking forever."}, {"owner": {"reputation": 3175, "user_id": 1883707, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IXq2g.jpg?s=128&g=1", "display_name": "andrewbuilder", "link": "https://stackoverflow.com/users/1883707/andrewbuilder"}, "edited": false, "score": 0, "creation_date": 1569274502, "post_id": 58028874, "comment_id": 102536547, "body": "Very interesting re <code>refreshObject</code>. Regarding setting the inverse relationship, I am right. Surely you must see this during debugging? Regarding the duration of `save, why I have written comments and not an answer. It\u2019s an attempt to help, not a criticism."}, {"owner": {"reputation": 3175, "user_id": 1883707, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/IXq2g.jpg?s=128&g=1", "display_name": "andrewbuilder", "link": "https://stackoverflow.com/users/1883707/andrewbuilder"}, "edited": false, "score": 0, "creation_date": 1569275470, "post_id": 58028874, "comment_id": 102536779, "body": "PS you should update your question with that information about <code>refreshObject</code> as it may help others better understand and/or figure out your problem with the call to save."}], "owner": {"reputation": 43, "user_id": 3327987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365743aa8e166dcd6338abad90c5c901?s=128&d=identicon&r=PG&f=1", "display_name": "keriackus", "link": "https://stackoverflow.com/users/3327987/keriackus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569331343, "creation_date": 1568984365, "last_edit_date": 1569331343, "question_id": 58028874, "link": "https://stackoverflow.com/questions/58028874/save-method-in-nsmanagedobjectcontext-takes-a-long-time-if-i-assign-the-relation", "title": "Save method in NSManagedObjectContext takes a long time if I assign the relationship", "body": "<p>I have two different <code>NSManagedObjects</code> that I am trying to save to core data (100k-200k records each). List one has customers, and list two has projects. There is a to-many relationship between a customer and a project. </p>\n\n<blockquote>\n  <p>If I loop on the projects and assign the customer relationship the\n  <code>[context save:]</code> method it takes forever (more than 8 minutes,\n  usually the app crashes out of memory before it finishes.)</p>\n</blockquote>\n\n<p>If I comment the relationship assignment (for testing purpose, I need the relationship to be assigned at that point of the code.) then the <code>[context save:]</code> method would take an only couple of seconds. I am pretty sure core data can handle it in a better way, so what am I missing?</p>\n\n<p>**Note: I put each object back to fault right after the assignment by calling [context refreshObject:] check <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/FaultingandUniquing.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreData/FaultingandUniquing.html</a> for further details **</p>\n\n<pre><code>NSManagedObjectContext* context = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];\n    context.parentContext = [self moc];\n\n    [projectsJSON enumerateKeysAndObjectsUsingBlock:^(id key, id projectJSON, BOOL *stop) {\n\n        Project* project = [self Project* project = projectManagedObjectFromJSON:projectJSON inContext:context];\n\n        //there's a dictionary of loaded customers in memory\n        Customer *customer = customers[projectJSON[@\"customer_primary_key\"]];\n\n        [customer addProjectsObject:project];\n        project.customer = customer;\n        [context refreshObject:customer mergeChanges:NO];\n    }];\n    /*if you comment the last three lines, save will take 1-2 seconds for 100k projects. It currently takes 8+ minutes*/\n    [context save:&amp;err];\n</code></pre>\n\n<p>I expect the <code>[context save:]</code> method not to but what happens is that it takes forever if I assign the relationship.</p>\n"}, {"tags": ["objective-c", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 2285738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5644b3ea7a930f6bb3947f50a6be40?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2285738/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1568986486, "creation_date": 1568986486, "answer_id": 58029458, "question_id": 58028439, "link": "https://stackoverflow.com/questions/58028439/how-do-i-solve-error-invalid-update-invalid-number-of-rows-in-section-0-in-th/58029458#58029458", "title": "How do I solve error &#39;Invalid update: invalid number of rows in section 0&#39; in this particular case?", "body": "<p>I assume you inserted some rows in to your tableView, but forget to add them in to your dataSource (<code>sectionsArray</code> or <code>sectionsArraySAEs</code> or some other).</p>\n\n<p>First add item in to dataSource, then - insert row in to tableview.</p>\n"}], "owner": {"reputation": 145, "user_id": 12079118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l59aysx1smk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdC-Jsy01aFYM3qQxmK1nNkBvqiZQ/photo.jpg?sz=128", "display_name": "Whipper Snapper", "link": "https://stackoverflow.com/users/12079118/whipper-snapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568991702, "creation_date": 1568982589, "last_edit_date": 1568991702, "question_id": 58028439, "link": "https://stackoverflow.com/questions/58028439/how-do-i-solve-error-invalid-update-invalid-number-of-rows-in-section-0-in-th", "title": "How do I solve error &#39;Invalid update: invalid number of rows in section 0&#39; in this particular case?", "body": "<p>In my <code>TableViewController</code> I get the following <code>error</code>:</p>\n\n<blockquote>\n  <p>Fatal Exception: NSInternalInconsistencyException Invalid update:\n  invalid number of rows in section 0. The number of rows contained in\n  an existing section after the update (500) must be equal to the number\n  of rows contained in that section before the update (459), plus or\n  minus the number of rows inserted or deleted from that section (1\n  inserted, 1 deleted) and plus or minus the number of rows moved into\n  or out of that section (0 moved in, 0 moved out).</p>\n</blockquote>\n\n<p>Now, this issue has been brought up in a number of cases here on <code>SO</code>, but since I'm not the least bit experienced with <code>objective-c</code> I find it hard to apply to my own code. </p>\n\n<p>There's a tread here: <a href=\"https://stackoverflow.com/questions/30516970/error-invalid-update-invalid-number-of-rows-in-section-0-attempting-to-delete\">Error &#39;Invalid update: invalid number of rows in section 0&#39; attempting to delete row in table</a></p>\n\n<p>and here for example: <a href=\"https://stackoverflow.com/questions/21870680/invalid-update-invalid-number-of-rows-in-section-0\">&#39;Invalid update: invalid number of rows in section 0</a></p>\n\n<p>Now my own code looks like this:</p>\n\n<pre><code>-(void)updateContactsStatusOnMainThread:(NSArray*)rowsToReload{\n\n    if([sectionsArray count] &gt; 0 &amp;&amp; [sectionsArraySAEs count] &gt; 0){\n        //It crashes on the line below\n        [self.tableView reloadRowsAtIndexPaths:rowsToReload withRowAnimation:UITableViewRowAnimationNone];  \n    }\n}\n</code></pre>\n\n<p>Having read similar threads, I still can't seem to understand what I'm supposed to do. Could someone point me in the right direction. I do understand the problem, as the error message is easy enough to follow. But how does it apply to my code? Does this concern <code>sectionsArray</code> and <code>sectionsArraySAEs</code> and how do I stop the error from happen?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "orientation", "uiwindow"], "comments": [{"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1568981393, "post_id": 58027841, "comment_id": 102458471, "body": "here you go for your similar scenario <a href=\"https://stackoverflow.com/questions/6697605/iphone-uiwindow-rotating-depending-on-current-orientation\" title=\"iphone uiwindow rotating depending on current orientation\">stackoverflow.com/questions/6697605/&hellip;</a> check @Mecki solution he have given an simple way out,"}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1568983841, "post_id": 58027841, "comment_id": 102459790, "body": "@AbuUlHassan I have tried all solutions of this link. but did not work."}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1568984368, "post_id": 58027841, "comment_id": 102460100, "body": "@AbuUlHassan I have used (<a href=\"https://github.com/rdhiggins/ExternalScreenDemo\" rel=\"nofollow noreferrer\">github.com/rdhiggins/ExternalScreenDemo</a>) this demo. And used (<a href=\"https://www.airsquirrels.com/reflector\" rel=\"nofollow noreferrer\">airsquirrels.com/reflector</a>) this software, it is work as projector. We just have to connect our app using &quot;screen mirroring&quot;. If u have time please check and let me know if u can help in that. thanks"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569230306, "post_id": 58027841, "comment_id": 102515431, "body": "sorry i was out i have not gone through this kind of issue so may be i have no idea even i could have tested it on but i dont have a projector ;)"}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569231469, "post_id": 58027841, "comment_id": 102516038, "body": "@AbuUlHassan Okay no prob. but If it is just about u don&#39;t have projector then I said u before that u can use (<a href=\"https://www.airsquirrels.com/reflector\" rel=\"nofollow noreferrer\">airsquirrels.com/reflector</a>) this software. you just need to download this software, it will give u 7 days trial period. so when will u install this it will be work as projector."}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569232864, "post_id": 58027841, "comment_id": 102516728, "body": "okay let me try"}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569232921, "post_id": 58027841, "comment_id": 102516757, "body": "@AbuUlHassan thanks .. I will wait for your reply."}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569233208, "post_id": 58027841, "comment_id": 102516880, "body": "okay now how i can connect it with my ipad ? or how i can use it with? mac?"}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569233528, "post_id": 58027841, "comment_id": 102517025, "body": "you just need to start that reflector software and then turn on &quot;Screen mirroring&quot; from your iPad."}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569234673, "post_id": 58027841, "comment_id": 102517616, "body": "okay but <a href=\"https://github.com/rdhiggins/ExternalScreenDemo\" rel=\"nofollow noreferrer\">github.com/rdhiggins/ExternalScreenDemo</a> is in swift and your code is in objective-c can place your code somewhere?"}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569234738, "post_id": 58027841, "comment_id": 102517649, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199833/discussion-between-monika-patel-and-abu-ul-hassan\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569235756, "post_id": 58027841, "comment_id": 102518159, "body": "see chat please."}, {"owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569238193, "post_id": 58027841, "comment_id": 102519434, "body": "<a href=\"https://drive.google.com/file/d/1JUrLD4UybaOuwjanFbl4MWzwDZKfjaUW/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1JUrLD4UybaOuwjanFbl4MWzwDZKfjaUW/vi&zwnj;&#8203;ew</a>"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1569390868, "post_id": 58027841, "comment_id": 102576414, "body": "So second window which is external window created on basis of external screen&#39;s display  Result you have to work in current window, you can add external window as place holder window select your image and then  hide external window from external screen after image processing is done you can add that window again so that external viewer should not be able to see your internal app what you say?"}], "answers": [{"tags": [], "owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1569403860, "last_edit_date": 1569403860, "creation_date": 1569403108, "answer_id": 58095126, "question_id": 58027841, "link": "https://stackoverflow.com/questions/58027841/uiwindow-does-not-rotate-when-device-orientation-change/58095126#58095126", "title": "UIWindow does not rotate when device orientation change", "body": "<p>Here you go with your Rotational window now you have to Rotate image too when window rotates Do your other changes as you want i have given you a rotated window with device rotation just replac ExternalVC.m with following code </p>\n\n<pre><code>    //\n//  ExternalVC.m\n//  Sketch\n//\n//  Created by mac on 21/07/18.\n//  Copyright \u00a9 2018 mac. All rights reserved.\n//\n\n#import \"ExternalVC.h\"\n\n@interface ExternalVC ()\n\n@end\n\n@implementation ExternalVC\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.updatedImg.image = (AppObj).updatedImg;\n    NSLog(@\"External window bounds:%lu\",(unsigned long)self.supportedInterfaceOrientations);\n    NSNotificationCenter* center = [NSNotificationCenter defaultCenter];\n    [center addObserver:self selector:@selector(orientationDidChange:)\n                   name:UIDeviceOrientationDidChangeNotification object:nil];\n\n}\n\n- (void)orientationDidChange:(NSNotification*)aNotification\n{\n      NSLog(@\"orientation did change :%@\",aNotification);\n    UIDeviceOrientation orientation = [[UIDevice currentDevice] orientation];\n   // [self transformForOrientation:orientation];\n    [self.view.window setTransform:[self transformForOrientation:orientation]];\n}\n\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n- (UIInterfaceOrientationMask)supportedInterfaceOrientations{\n    if ([UIScreen mainScreen] == (AppObj).externalWindow.screen || !(AppObj).externalWindow) {\n        return UIInterfaceOrientationMaskAll;\n    }else {\n        return UIInterfaceOrientationMaskPortrait;\n    }\n}\n\n- (void)viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id&lt;UIViewControllerTransitionCoordinator&gt;)coordinator\n{\n    [super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n\n    [coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt; context)\n     {\n//         UIInterfaceOrientation orientation = [[UIApplication sharedApplication] statusBarOrientation];\n     } completion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt; context)\n     {\n//\n//         NSLog(@\"External window bounds:%f || %f\",(AppObj).externalWindow.bounds.size.width,(AppObj).externalWindow.bounds.size.height);\n//    //     UIInterfaceOrientation orientation = [[UIApplication sharedApplication] statusBarOrientation];\n//     //    [(AppObj).externalWindow setValue:@(orientation) forKey:@\"orientation\"];\n////         [[UIDevice currentDevice] setValue:@(orientation) forKey:@\"orientation\"];\n////\n////\n////         [UINavigationController attemptRotationToDeviceOrientation];\n//         [UIViewController attemptRotationToDeviceOrientation];\n//          UIDeviceOrientation orientation = [[UIDevice currentDevice] orientation];\n//        [self transformForOrientation:orientation];\n\n     }];\n\n\n}\n\n#define DegreesToRadians(degrees) (degrees * M_PI / 180)\n\n- (CGAffineTransform)transformForOrientation:(UIDeviceOrientation)orientation {\n\n\n//        [self.view.window setFrame:CGRectMake(0, self.view.window.frame.size.height-50, self.view.window.frame.size.width, [UIScreen mainScreen].bounds.size.height)];\n//        [self.view.window makeKeyAndVisible];\n\n\n    switch (orientation) {\n\n        case UIInterfaceOrientationLandscapeLeft:\n            NSLog(@\"UIInterfaceOrientationLandscapeLeft****\");\n            return CGAffineTransformMakeRotation(DegreesToRadians(90));\n\n\n        case UIInterfaceOrientationLandscapeRight:\n            NSLog(@\"UIInterfaceOrientationLandscapeRightt****\");\n            return CGAffineTransformMakeRotation(-DegreesToRadians(90));\n\n        case UIInterfaceOrientationPortraitUpsideDown:\n            NSLog(@\"UIInterfaceOrientationUpSideDownPortrait****\");\n            return CGAffineTransformMakeRotation(DegreesToRadians(180));\n\n        case UIInterfaceOrientationPortrait:\n        default:\n            NSLog(@\"UIInterfaceOrientationPortait****\");\n            return CGAffineTransformMakeRotation(DegreesToRadians(0));\n    }\n}\n\n- (void)statusBarDidChangeFrame:(NSNotification *)notification {\n\n    UIDeviceOrientation orientation = [[UIDevice currentDevice] orientation];\n    NSLog(@\"status bar orientation :%ld\",(long)orientation);\n  //  [self.view setTransform:[self transformForOrientation:orientation]];\n\n}\n-(BOOL)shouldAutorotate{\n    return YES;\n}\n\n/*\n#pragma mark - Navigation\n\n// In a storyboard-based application, you will often want to do a little preparation before navigation\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    // Get the new view controller using [segue destinationViewController].\n    // Pass the selected object to the new view controller.\n}\n*/\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 2019, "user_id": 4972038, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/NyIi2.jpg?s=128&g=1", "display_name": "Monika Patel", "link": "https://stackoverflow.com/users/4972038/monika-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569403860, "creation_date": 1568980232, "question_id": 58027841, "link": "https://stackoverflow.com/questions/58027841/uiwindow-does-not-rotate-when-device-orientation-change", "title": "UIWindow does not rotate when device orientation change", "body": "<p>My project has a functionality, I have connected my app with external display like projector. My application is working in both orientation. There are 2 window in my app. window1 is our default window. I have created window2, his name is external window. I have created external window, because I do not want to show my entire application on projector, so I just added view controller on window2 and then display window2 on external display(projector).</p>\n\n<p>Now problem is that, when I change orientation of my application its working fine, but window2 does not rotate. Window2 is always displayed on landscape mode. I just want to set orientation of window2 same as window1. I have tried a lot but could not find any solution. </p>\n\n<p>Please check my code. I have added code how to connect app with external display. please do check and help me if i have done any thing wrong. </p>\n\n<p>AppDelegate.m</p>\n\n<pre><code> -(void)initExternalWindow\n    {\n        //Setup external screen window\n        (AppObj).externalWindow = [[UIWindow alloc]initWithFrame:[[UIScreen mainScreen] bounds]];\n        UIStoryboard *sb = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\n        (AppObj).externalScreen = [sb instantiateViewControllerWithIdentifier:@\"ExternalVC\"];\n        UINavigationController *navController=[[UINavigationController alloc] initWithRootViewController:(AppObj).externalScreen];\n\n        navController.navigationBarHidden=YES;\n        (AppObj).externalWindow.opaque = NO;\n\n        (AppObj).externalWindow.rootViewController = navController;\n\n        (AppObj).externalWindow.backgroundColor = view_bg_color;\n        (AppObj).externalWindow.hidden = NO;\n        (AppObj).externalWindow.opaque = NO;\n        [(AppObj).externalWindow makeKeyAndVisible];\n    }\n</code></pre>\n\n<p>ViewController.m</p>\n\n<pre><code>- (void)viewDidLoad {\n     [self setupScreenConnectionNotificationHandlers];\n }\n#pragma mark- External dispaly detections (Add Notifications)\n- (void)setupScreenConnectionNotificationHandlers\n{\n    NSNotificationCenter* center = [NSNotificationCenter defaultCenter];\n\n    [center addObserver:self selector:@selector(handleScreenConnectNotification:)\n                   name:UIScreenDidConnectNotification object:nil];\n    [center addObserver:self selector:@selector(handleScreenDisconnectNotification:)\n                   name:UIScreenDidDisconnectNotification object:nil];\n}\n- (void)handleScreenConnectNotification:(NSNotification*)aNotification\n{\n    [self setupExternalScreen];\n}\n\n- (void)handleScreenDisconnectNotification:(NSNotification*)aNotification\n{\n    if ((AppObj).externalWindow)\n    {\n        (AppObj).externalWindow.hidden = YES;\n        (AppObj).externalWindow = nil;\n\n    }\n}\n-(UIInterfaceOrientationMask)supportedInterfaceOrientations\n{\n    return UIInterfaceOrientationMaskAll;\n}\n\n- (BOOL)shouldAutorotate\n{\n    return YES;\n}\n</code></pre>\n\n<p>ExternalVC.m</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.updatedImg.image = (AppObj).updatedImg;\n}\n- (void)viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id&lt;UIViewControllerTransitionCoordinator&gt;)coordinator\n{\n    [super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n\n    [coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt; context)\n     {\n//         UIInterfaceOrientation orientation = [[UIApplication sharedApplication] statusBarOrientation];\n     } completion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt; context)\n     {\n        UIInterfaceOrientation orientation = [[UIApplication sharedApplication] statusBarOrientation];\n         [[UIDevice currentDevice] setValue:@(orientation) forKey:@\"orientation\"];\n\n\n         [UINavigationController attemptRotationToDeviceOrientation];\n         [UIViewController attemptRotationToDeviceOrientation];\n}];\n\n\n}\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 2, "creation_date": 1568977646, "post_id": 58027029, "comment_id": 102456587, "body": "<code>[ ... ]</code> and <code>{ ... }</code> are different things in JSON. Put the stuff into a dictionary, not an array and try that."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1568983741, "post_id": 58027029, "comment_id": 102459732, "body": "I&#39;m voting to close this question as off-topic because this is home task question."}, {"owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1568984209, "post_id": 58027029, "comment_id": 102460012, "body": "@Cy-4AH &quot;home task question&quot;, would you be so kind as to give me the English translation? cheers"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1568984386, "post_id": 58027029, "comment_id": 102460107, "body": "Looks like I have forgot about article. A home task question. Is it clear now?"}], "answers": [{"tags": [], "owner": {"reputation": 13431, "user_id": 2169762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nns8w.png?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/2169762/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1568978416, "last_edit_date": 1568978416, "creation_date": 1568977341, "answer_id": 58027130, "question_id": 58027029, "link": "https://stackoverflow.com/questions/58027029/how-to-format-brackets-of-nested-json/58027130#58027130", "title": "How to format brackets of nested JSON", "body": "<p>Instead of using an array to store the JSON id and value parameters, use a <code>NSDictionary</code>:</p>\n\n<pre><code>NSDictionary *d1 = [NSDictionary dictionaryWithObjectsAndKeys:\n                    @\"eventtime\", @\"2019-09-20 09:52:47\",\n                    @\"keyid\", @\"15\", nil];\n[event_array  addObject:d1];\n\n...\n\nNSData* jsonData = [NSJSONSerialization dataWithJSONObject:event_array \n                    options:NSJSONWritingPrettyPrinted error:&amp;error];\nNSString *eventsString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];\nNSLog(@\"%@\", eventsString);\n</code></pre>\n\n<p>You will need to obviously replace the hardcoded values I have put on the dictionary in the example with your values.</p>\n\n<p>This will output:</p>\n\n<pre><code>[\n    {\n        \"eventtime\":\"2019-09-20 09:52:47\",\n        \"keyid\":\"15\",\n    }, \n    {\n        \"eventtime\":\"2019-09-20 09:52:47\",\n        \"keyid\":\"15\",\n    }\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 3, "last_activity_date": 1568978559, "creation_date": 1568978559, "answer_id": 58027434, "question_id": 58027029, "link": "https://stackoverflow.com/questions/58027029/how-to-format-brackets-of-nested-json/58027434#58027434", "title": "How to format brackets of nested JSON", "body": "<p>Don't create a JSON string <em>manually</em>, create dictionaries, this is a simplified example for the keys <code>eventtime</code> and <code>keyid</code></p>\n\n<p>The code uses modern Objective-C syntax (introduced at least 6 years ago)</p>\n\n<pre><code>NSMutableArray *array = [[NSMutableArray alloc] init];\nfor (NSDictionary * dataDict in eventArray) {\n    NSString *eventTime = [self eventTimeConversion: dataDict[@\"event_time\"]];\n    NSString *keyID = dataDict[@\"key_id\"];\n    [array addObject:@{@\"eventtime\":eventTime, @\"keyid\":keyID}];\n}\nNSError *error;\nNSData *jsonnData = [NSJSONSerialization dataWithJSONObject: array options:NSJSONWritingPrettyPrinted error:&amp;error];\nNSString *eventsString = [[NSString alloc] initWithData:jsonnData encoding:NSUTF8StringEncoding];\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 4179062, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1338562116/picture?type=large", "display_name": "Aaron Strickland", "link": "https://stackoverflow.com/users/4179062/aaron-strickland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 58027434, "answer_count": 2, "score": 1, "last_activity_date": 1568978559, "creation_date": 1568976984, "last_edit_date": 1568977906, "question_id": 58027029, "link": "https://stackoverflow.com/questions/58027029/how-to-format-brackets-of-nested-json", "title": "How to format brackets of nested JSON", "body": "<p>I'm trying to create a string which holds JSON data.  I'm having an issue formatting the inner nested data, it currently has square brackets '[]' and I'm trying to change it to '{}', so it is valid JSON.    Are there better approaches/solutions to parsing this data? </p>\n\n<p>Actual Results:</p>\n\n<pre><code>[\n    [\n        \"eventtime\":\"2019-09-20 09:52:47\",\n        \"keyid\":\"15\",\n    ], \n    [\n        \"eventtime\":\"2019-09-20 09:52:47\",\n        \"keyid\":\"15\",\n    ]\n]\n</code></pre>\n\n<p>Desired Results</p>\n\n<pre><code>[\n    {\n        \"eventtime\":\"2019-09-20 09:52:47\",\n        \"keyid\":\"15\",\n    }, \n    {\n        \"eventtime\":\"2019-09-20 09:52:47\",\n        \"keyid\":\"15\",\n    }\n]\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>    // Parse and loop through the JSON\n    for (NSDictionary * dataDict in eventArray) {\n        NSMutableArray *array = [[NSMutableArray alloc] init];\n\n        eventTime = [NSString stringWithFormat:@\"%@%@\",@\"eventtime\\\":\\\"\",[self eventTimeConversion:[dataDict objectForKey:@\"event_time\"]]];\n        keyID =  [NSString stringWithFormat:@\"%@%@\",@\"keyid\\\":\\\"\",[dataDict objectForKey:@\"key_id\"]];\n        editTime = [NSString stringWithFormat:@\"%@%@\",@\"edittime\\\":\\\"\",[self eventTimeConversion:[dataDict objectForKey:@\"event_time\"]]];\n        projectID = [NSString stringWithFormat:@\"%@%@\",@\"projectid\\\":\\\"\",[gotHeaders objectAtIndex:0]];\n        lockID =  [NSString stringWithFormat:@\"%@%@\",@\"doorid\\\":\\\"\",[dataDict objectForKey:@\"lock_id\"]];\n        eventType = [NSString stringWithFormat:@\"%@%@\",@\"eventid\\\":\\\"\",[dataDict objectForKey:@\"event_type\"]];\n\n        [array addObject:eventTime];\n        [array addObject:keyID];\n        [array addObject:editTime];\n        [array addObject:projectID];\n        [array addObject:lockID];\n        [array addObject:eventType];\n\n        [event_array  addObject:array];\n    }\n}\n\nNSData *jsonnData = [NSJSONSerialization dataWithJSONObject:event_array options:NSJSONWritingPrettyPrinted error:&amp;error];\nNSString *eventsString = [[NSString alloc] initWithData:jsonnData encoding:NSUTF8StringEncoding];\n</code></pre>\n"}, {"tags": ["objective-c", "memory-management"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1568976197, "post_id": 58026735, "comment_id": 102455924, "body": "May be just turn-on ARC?"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1568976757, "post_id": 58026735, "comment_id": 102456151, "body": "Do you have arguments why some sites suggests releasing first? In your&#39;s second snippet <code>release</code> also called after <code>retain</code>"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1569121008, "post_id": 58026735, "comment_id": 102490994, "body": "ARC follows the second snippet (including the test as mentioned in another answer). Decide for yourself whether that makes it &quot;preferred&quot;."}, {"owner": {"reputation": 21, "user_id": 9923574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ec70af4e4e65b9dc5f74c1cf877e15?s=128&d=identicon&r=PG&f=1", "display_name": "doit", "link": "https://stackoverflow.com/users/9923574/doit"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1571278949, "post_id": 58026735, "comment_id": 103190062, "body": "@Cy-4AH Here is a website which suggest release first. <a href=\"https://stackoverflow.com/questions/5040702/when-declare-a-propertyretain-in-objective-c-whats-the-default-implementatio\" title=\"when declare a propertyretain in objective c whats the default implementatio\">stackoverflow.com/questions/5040702/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9923574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ec70af4e4e65b9dc5f74c1cf877e15?s=128&d=identicon&r=PG&f=1", "display_name": "doit", "link": "https://stackoverflow.com/users/9923574/doit"}, "edited": false, "score": 0, "creation_date": 1568993215, "post_id": 58026977, "comment_id": 102464947, "body": "So we need check if count != _count first?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 21, "user_id": 9923574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ec70af4e4e65b9dc5f74c1cf877e15?s=128&d=identicon&r=PG&f=1", "display_name": "doit", "link": "https://stackoverflow.com/users/9923574/doit"}, "edited": false, "score": 0, "creation_date": 1568994776, "post_id": 58026977, "comment_id": 102465668, "body": "@doit That would probably work, but normally just using the first implementation in your question is simpler."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 21, "user_id": 9923574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ec70af4e4e65b9dc5f74c1cf877e15?s=128&d=identicon&r=PG&f=1", "display_name": "doit", "link": "https://stackoverflow.com/users/9923574/doit"}, "edited": false, "score": 0, "creation_date": 1569145270, "post_id": 58026977, "comment_id": 102494665, "body": "@doit \u2013 That is exactly what the second snippet (and ARC) does."}], "tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": false, "score": 3, "last_activity_date": 1568976714, "creation_date": 1568976714, "answer_id": 58026977, "question_id": 58026735, "link": "https://stackoverflow.com/questions/58026735/whats-the-difference-of-the-set-method-that-set-a-retain-declared-property-in-o/58026977#58026977", "title": "What&#39;s the difference of the set method that set a retain declared property in Objective C?", "body": "<p>The difference is subtle, but if you assign a value to itself then you could release the object:</p>\n\n<pre><code>id x = self.thing;\nself.thing = x;\n</code></pre>\n\n<p>So the ethos was always to retain the <em>new</em> first and release the <em>old</em> after.</p>\n\n<p>Turn on ARC and this nonsense all goes away.</p>\n"}, {"tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": false, "score": 0, "last_activity_date": 1568988887, "creation_date": 1568988887, "answer_id": 58030079, "question_id": 58026735, "link": "https://stackoverflow.com/questions/58026735/whats-the-difference-of-the-set-method-that-set-a-retain-declared-property-in-o/58030079#58030079", "title": "What&#39;s the difference of the set method that set a retain declared property in Objective C?", "body": "<p>I don't really see any argument of why retain would be called after release. I could however find arguments why not to release it first.</p>\n\n<p>If you release the old object first it might happen that the new object will be released and deallocated with it. It would be a very specific situation but it could happen. Not with <code>NSNumber</code> obviously but think for instance that this is a <code>UIView</code> and a new value is a subview of the old value. Now old value has a reference to the new value and it retains it. By releasing the old value you surely reduce retain count on the new value. For the retain count to fall to zero and object be released must be a bit special situation as well but again, it could make sense.</p>\n\n<p>So in general when you get an object you must first retain it. After that you can start modifying any other data.</p>\n"}], "owner": {"reputation": 21, "user_id": 9923574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ec70af4e4e65b9dc5f74c1cf877e15?s=128&d=identicon&r=PG&f=1", "display_name": "doit", "link": "https://stackoverflow.com/users/9923574/doit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1569381918, "creation_date": 1568975871, "last_edit_date": 1569381918, "question_id": 58026735, "link": "https://stackoverflow.com/questions/58026735/whats-the-difference-of-the-set-method-that-set-a-retain-declared-property-in-o", "title": "What&#39;s the difference of the set method that set a retain declared property in Objective C?", "body": "<p>According to Apple developer site:<a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html#//apple_ref/doc/uid/TP40004447-SW1\" rel=\"nofollow noreferrer\">Practical Memory Management</a>, in the implementation of custom set method of the retain property is as follows:</p>\n\n<pre><code>@interface Counter : NSObject\n@property (nonatomic, retain) NSNumber *count;\n@end;\n\n- (void)setCount:(NSNumber *)newCount {\n    [newCount retain];\n    [_count release];\n    // Make the new assignment.\n    _count = newCount;\n}\n</code></pre>\n\n<p>But many website suggest the first step should be release. For example, in this question:<a href=\"https://stackoverflow.com/questions/21802069/explicit-getters-setters-for-properties-mrc\">objective c - Explicit getters/setters for @properties (MRC) - Stack Overflow</a>, the answer gives another implementation. </p>\n\n<pre><code> - (void)setCount:(NSNumber *)count {\n    if (count != _count) {\n        NSNumber *oldCount = _count;\n        // retain before releasing the old one, in order to avoid other threads to\n        // ever accessing a released object through the `_count` pointer.\n        _count = [count retain];\n        // safely release the old one.\n        [oldCount release];\n    }\n}\n</code></pre>\n\n<p>So I'm doubt the <strong>difference</strong> between these two implementation.\n<strong>Which one is preferred and why?</strong></p>\n\n<p>Thanks for your attention and answer.</p>\n"}, {"tags": ["objective-c", "xcode", "dtcoretext"], "owner": {"reputation": 75, "user_id": 12094747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04cc7e87ca306b8da2bd328b29794105?s=128&d=identicon&r=PG&f=1", "display_name": "LionKamado", "link": "https://stackoverflow.com/users/12094747/lionkamado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568972688, "creation_date": 1568972688, "question_id": 58025876, "link": "https://stackoverflow.com/questions/58025876/dtcoretext-no-such-file-or-directory-libdtcoretext-a", "title": "DTCoreText No such file or directory libDTCoreText.a", "body": "<p>I am using DTCoreText ver. 1.0.1.<br />\nI installed it manually without using CocoaPods.<br>\nInstalled with reference to here.<br />\n<a href=\"https://docs.cocoanetics.com/DTCoreText/docs/Setup%20Guide.html\" rel=\"nofollow noreferrer\">Setup Guide Document</a>\n<br />\nWhen building the project, the following error appears and the build cannot be performed.</p>\n\n<pre><code>No such file or directory: '/*****/Build/Products/Release-iphoneos/libDTCoreText.a'\n</code></pre>\n\n<p>LibDTCoreText.a is added to <strong>Link Binary With Libraries</strong> of <strong>Build Phases</strong>.<br />\nDo you know what's wrong?<br /><br /></p>\n\n<ul>\n<li>Xcode : 10.3</li>\n<li>Language : Objective-C</li>\n<li>Deployment Target : 9.3</li>\n</ul>\n"}, {"tags": ["objective-c", "macos", "screenshot"], "comments": [{"owner": {"reputation": 2381, "user_id": 1649988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sl40K.jpg?s=128&g=1", "display_name": "w0mbat", "link": "https://stackoverflow.com/users/1649988/w0mbat"}, "edited": false, "score": 0, "creation_date": 1597437426, "post_id": 58024747, "comment_id": 112143037, "body": "This is the most useful un-answered question on StackOverflow, given all the working code in your question which has been helpful to me.  I&#39;m afraid I don&#39;t know the solution for grabbing the screen buffer just as it is - you understand there are security measures against looking at the raw screen buffer as you could be reading data from other apps&#39; windows."}, {"owner": {"reputation": 2381, "user_id": 1649988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sl40K.jpg?s=128&g=1", "display_name": "w0mbat", "link": "https://stackoverflow.com/users/1649988/w0mbat"}, "edited": false, "score": 1, "creation_date": 1597437430, "post_id": 58024747, "comment_id": 112143039, "body": "I&#39;ve tried all your methods, but just to grab an NSImage to draw elsewhere, not to write to a file. I have found that method 1 never works for me, method 2 works in 10.14 &amp; 10.15 but not 10.13, method 3 is too slow, and method 4 is perfect (for my use case the window is always totally onscreen. although it is obscured)."}], "owner": {"reputation": 2622, "user_id": 1256878, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3fcee70c8495e58083da0dd877f7e207?s=128&d=identicon&r=PG", "display_name": "Kibernetik", "link": "https://stackoverflow.com/users/1256878/kibernetik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 295, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1568968439, "creation_date": 1568968439, "question_id": 58024747, "link": "https://stackoverflow.com/questions/58024747/take-nsview-or-nswindow-screenshot-programmatically", "title": "Take NSView or NSWindow screenshot programmatically?", "body": "<p>I need to capture my NSView to an image. Making a capture of NSWindow will be also fine - I can just crop out the necessary view later.</p>\n\n<p>I have two requirements:\n(1) I have semi-transparent buttons on the view;\n(2) I need to get a capture even if the view is partially out of the screen.</p>\n\n<p>This is the view I want to capture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L1ZWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1ZWU.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried these four methods, and none of them can do what I want.</p>\n\n<p>Method 1.</p>\n\n<pre><code>NSImage *image = [[NSImage alloc] initWithData:[view dataWithPDFInsideRect:viewRect]];\nNSData *imageData = [image TIFFRepresentation];\n[imageData writeToFile:fName atomically:NO];\n</code></pre>\n\n<p>This method preserves button transparency but ignores its layer additions like a fancy border:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qqq73.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qqq73.png\" alt=\"enter image description here\"></a></p>\n\n<p>Method 2.</p>\n\n<p>This is a recommended method to capture NSView contents:</p>\n\n<pre><code>NSBitmapImageRep *imageRep = [view bitmapImageRepForCachingDisplayInRect:viewRect];\n[view cacheDisplayInRect:viewRect toBitmapImageRep:imageRep];\nNSImage *image = [[NSImage alloc] initWithSize:viewRect.size];\n[image addRepresentation:imageRep];\nNSData *imageData = [image TIFFRepresentation];\n[imageData writeToFile:fName atomically:NO];\n</code></pre>\n\n<p>This method preserves layer features but ignores button transparency:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xHMSv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHMSv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Method 3.</p>\n\n<p>This method just renders the view layer into an image:</p>\n\n<pre><code>NSImage *image = [[NSImage alloc] initWithSize:viewRect.size];\n[image lockFocus];\nCGContextRef ctx = [NSGraphicsContext currentContext].graphicsPort;\n[view.layer renderInContext:ctx];\n[image unlockFocus];\nNSData *imageData = [image TIFFRepresentation];\n[imageData writeToFile:fName atomically:NO];\n</code></pre>\n\n<p>This method also preserves layer features but ignores button transparency:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d4zrW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d4zrW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Method 4.</p>\n\n<pre><code>CGImageRef cgimg = CGWindowListCreateImage(CGRectZero, kCGWindowListOptionIncludingWindow, (int)self.window.windowNumber, kCGWindowImageBoundsIgnoreFraming);\nNSImage *image = [[NSImage alloc] initWithCGImage:cgimg size:viewRect.size];\nNSData *imageData = [image TIFFRepresentation];\n[imageData writeToFile:fName atomically:NO];\n</code></pre>\n\n<p>This methods preserves both layer features and button transparency, but if the view is partially out of the screen then it does not render that part which is out of the screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rLu0g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLu0g.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, what am I doing wrong? How can I get a screenshot just as the system screen capture utility does?</p>\n"}, {"tags": ["ios", "objective-c", "react-native", "react-native-ios"], "comments": [{"owner": {"reputation": 1477, "user_id": 903564, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b8fec5003b5293b197fd0824dc04f92?s=128&d=identicon&r=PG", "display_name": "Mika Andrianarijaona", "link": "https://stackoverflow.com/users/903564/mika-andrianarijaona"}, "edited": false, "score": 0, "creation_date": 1571047282, "post_id": 58022324, "comment_id": 103097966, "body": "Have you found the solution for your issue? Otherwise can you post your .h file where you should find something like <code>@interface AppDelegate : UIResponder &lt;UIApplicationDelegate&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1477, "user_id": 903564, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b8fec5003b5293b197fd0824dc04f92?s=128&d=identicon&r=PG", "display_name": "Mika Andrianarijaona", "link": "https://stackoverflow.com/users/903564/mika-andrianarijaona"}, "is_accepted": true, "score": 3, "last_activity_date": 1571047486, "creation_date": 1571047486, "answer_id": 58374456, "question_id": 58022324, "link": "https://stackoverflow.com/questions/58022324/warning-while-setting-up-pushnotificationios-on-foreground-in-react-native/58374456#58374456", "title": "Warning while setting up PushNotificationIOS on foreground in React Native", "body": "<p>I had the same issue and solved it by adding <code>UNUserNotificationCenterDelegate</code> to my AppDelegate interfaces:</p>\n\n<pre><code>@interface AppDelegate : UIResponder &lt;UIApplicationDelegate,UNUserNotificationCenterDelegate&gt;\n</code></pre>\n"}], "owner": {"reputation": 764, "user_id": 7502752, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PHRkayctpCE/AAAAAAAAAAI/AAAAAAAACfE/CqvsG6XBv2Q/photo.jpg?sz=128", "display_name": "Vinicius", "link": "https://stackoverflow.com/users/7502752/vinicius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 58374456, "answer_count": 1, "score": 1, "last_activity_date": 1571047486, "creation_date": 1568957642, "question_id": 58022324, "link": "https://stackoverflow.com/questions/58022324/warning-while-setting-up-pushnotificationios-on-foreground-in-react-native", "title": "Warning while setting up PushNotificationIOS on foreground in React Native", "body": "<p>I am getting the following warning on Xcode while <a href=\"https://facebook.github.io/react-native/docs/pushnotificationios\" rel=\"nofollow noreferrer\">setting up foreground push notification on IOS</a>:</p>\n\n<pre><code>Assigning to 'id&lt;UNUserNotificationCenterDelegate&gt; _Nullable' \nfrom incompatible type 'AppDelegate *const __strong'\n</code></pre>\n\n<p>this warning appears on the last line of this snippet:</p>\n\n<pre><code>// Define UNUserNotificationCenter\n  UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];\n  center.delegate = self;\n</code></pre>\n\n<p>My app compiles and runs as expected. I have no experience with objective-c, so I have no idea what this is about. How can I solve it?</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "configuration"], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 3447064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c10070612301ed9676be94f4a60f8c29?s=128&d=identicon&r=PG&f=1", "display_name": "Mitesh", "link": "https://stackoverflow.com/users/3447064/mitesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1568948325, "creation_date": 1568948325, "answer_id": 58021207, "question_id": 58020554, "link": "https://stackoverflow.com/questions/58020554/possible-to-partition-analytics-into-debug-and-release/58021207#58021207", "title": "Possible to Partition Analytics into DEBUG and RELEASE?", "body": "<p>You can add two plist files and configure using the appropriate file as per mode</p>\n\n<pre><code>if (LIVE_RELEASE &amp;&amp; !TARGET_IPHONE_SIMULATOR) {\n    NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"GoogleService-Info_Dev\" ofType:@\"plist\"];\n    FIROptions *options = [[FIROptions alloc] initWithContentsOfFile:filePath];\n    [FIRApp configureWithOptions:options];\n} else {\n    NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"GoogleService-Info_Prod\" ofType:@\"plist\"];\n    FIROptions *options = [[FIROptions alloc] initWithContentsOfFile:filePath];\n    [FIRApp configureWithOptions:options];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11038, "user_id": 347339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fc2d95ead171970045d6bcddab5ed85?s=128&d=identicon&r=PG", "display_name": "Stunner", "link": "https://stackoverflow.com/users/347339/stunner"}, "edited": false, "score": 0, "creation_date": 1568960766, "post_id": 58022398, "comment_id": 102448367, "body": "Right, so I should follow what <a href=\"https://stackoverflow.com/a/58021207/347339\">Mitesh Prajapati&#39;s answer</a> proposes?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 11038, "user_id": 347339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fc2d95ead171970045d6bcddab5ed85?s=128&d=identicon&r=PG", "display_name": "Stunner", "link": "https://stackoverflow.com/users/347339/stunner"}, "edited": false, "score": 0, "creation_date": 1568961425, "post_id": 58022398, "comment_id": 102448645, "body": "You can do whatever you want to configure your app to point to different projects.  I don&#39;t think there is just one implementation path for that.  Whatever you think is best."}, {"owner": {"reputation": 11038, "user_id": 347339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fc2d95ead171970045d6bcddab5ed85?s=128&d=identicon&r=PG", "display_name": "Stunner", "link": "https://stackoverflow.com/users/347339/stunner"}, "edited": false, "score": 1, "creation_date": 1568961994, "post_id": 58022398, "comment_id": 102448872, "body": "If there is another method of doing this that you are aware of that hasn&#39;t been presented as an answer already could you please post it?"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1568958175, "creation_date": 1568958175, "answer_id": 58022398, "question_id": 58020554, "link": "https://stackoverflow.com/questions/58020554/possible-to-partition-analytics-into-debug-and-release/58022398#58022398", "title": "Possible to Partition Analytics into DEBUG and RELEASE?", "body": "<p>The recommendation is always to use separate Firebase projects to isolate the data from each app that runs in a different environment.  For apps that don't share data at all, putting them in the same project leads to complications.</p>\n"}], "owner": {"reputation": 11038, "user_id": 347339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fc2d95ead171970045d6bcddab5ed85?s=128&d=identicon&r=PG", "display_name": "Stunner", "link": "https://stackoverflow.com/users/347339/stunner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58021207, "answer_count": 2, "score": 1, "last_activity_date": 1568958175, "creation_date": 1568941931, "question_id": 58020554, "link": "https://stackoverflow.com/questions/58020554/possible-to-partition-analytics-into-debug-and-release", "title": "Possible to Partition Analytics into DEBUG and RELEASE?", "body": "<p>I have been using Google Analytics since 2010, and am being forced to migrate to Firebase. Something I have always done and is critical to me is have 2 versions of the app on the developer console. 1 for <code>DEBUG</code> and 1 for <code>RELEASE</code>. I have set preprocessor flags and configuration flags in place to determine when to send logging data to one or another. Now that Firebase requires that the key be present in a <code>GoogleService-Info.plist</code> file (and no longer configured via code) I am wondering how I would go about doing what I previously had done.</p>\n\n<p>Previously I would use the following:</p>\n\n<pre><code>if (LIVE_RELEASE &amp;&amp; !TARGET_IPHONE_SIMULATOR) {\n    [[GAI sharedInstance] trackerWithTrackingId:UA_NUM_LIVE];\n} else {\n    [[GAI sharedInstance] trackerWithTrackingId:UA_NUM_BETA];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "real-time", "audiokit", "avaudioengine"], "comments": [{"owner": {"reputation": 4090, "user_id": 4840476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynugb.jpg?s=128&g=1", "display_name": "Aurelius Prochazka", "link": "https://stackoverflow.com/users/4840476/aurelius-prochazka"}, "edited": false, "score": 1, "creation_date": 1569177762, "post_id": 58020268, "comment_id": 102502663, "body": "Taps are relatively slow and unpredictable, I wouldn&#39;t use them for any audio.  In AudioKit we use them to show data on plots."}, {"owner": {"reputation": 303, "user_id": 2398552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d22d4941c75323d677a991f7b706653e?s=128&d=identicon&r=PG", "display_name": "jcr", "link": "https://stackoverflow.com/users/2398552/jcr"}, "reply_to_user": {"reputation": 4090, "user_id": 4840476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynugb.jpg?s=128&g=1", "display_name": "Aurelius Prochazka", "link": "https://stackoverflow.com/users/4840476/aurelius-prochazka"}, "edited": false, "score": 1, "creation_date": 1569246802, "post_id": 58020268, "comment_id": 102524360, "body": "Thanks @AureliusProchazka, I guess I found a solution, I edited my post."}, {"owner": {"reputation": 981, "user_id": 1218464, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/2245b6550cf6da79ef0c5b7183fde262?s=128&d=identicon&r=PG", "display_name": "user1218464", "link": "https://stackoverflow.com/users/1218464/user1218464"}, "edited": false, "score": 0, "creation_date": 1573629407, "post_id": 58020268, "comment_id": 103939268, "body": "I&#39;m trying to do the same thing. Any chance you&#39;d post a gist of your class @jcr?"}, {"owner": {"reputation": 303, "user_id": 2398552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d22d4941c75323d677a991f7b706653e?s=128&d=identicon&r=PG", "display_name": "jcr", "link": "https://stackoverflow.com/users/2398552/jcr"}, "reply_to_user": {"reputation": 981, "user_id": 1218464, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/2245b6550cf6da79ef0c5b7183fde262?s=128&d=identicon&r=PG", "display_name": "user1218464", "link": "https://stackoverflow.com/users/1218464/user1218464"}, "edited": false, "score": 0, "creation_date": 1579858732, "post_id": 58020268, "comment_id": 105915110, "body": "@user1218464 I didn&#39;t do much than the code above honestly. It was just a test. AudioKit looks great, but I switched to a more low level audio programming."}], "owner": {"reputation": 303, "user_id": 2398552, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d22d4941c75323d677a991f7b706653e?s=128&d=identicon&r=PG", "display_name": "jcr", "link": "https://stackoverflow.com/users/2398552/jcr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1569246689, "creation_date": 1568938967, "last_edit_date": 1569246689, "question_id": 58020268, "link": "https://stackoverflow.com/questions/58020268/audiokit-how-to-playback-a-modified-buffer-in-a-tap", "title": "Audiokit, how to playback a modified buffer in a tap?", "body": "<p>I use Audiokit (in Objective-C) for realtime audio processing. I feed a C++ algorithm through a tap or lazy tap where the buffer is being modified.\nI thought that would be obvious but...how can I playback the modified buffer in the output? Are taps only for analysis? </p>\n\n<pre><code>[self-&gt;microphoneGain.avAudioNode installTapOnBus:0 bufferSize:1024 format:format block:^(AVAudioPCMBuffer * _Nonnull buffer, AVAudioTime * _Nonnull when) {  \n    if (buffer.frameLength == 0) {  \n        return;\n    }\n    // Process data -&gt; return modified buffer\n    processData(buffer.floatChannelData[0], buffer.floatChannelData[1], buffer.frameLength);\n    // -&gt; How to play back buffer?\n}];\n</code></pre>\n\n<p>Furthermore, I can't get taps buffer size lower than 4800 samples. What would be my best option to get a better latency? I read about AUAudioUnit subclassing, render callback or realtime mode for AudioEngine, but I'm quite lost when trying to implement one of these with AudioKit. Thanks!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I managed to set a render callback which has apparently solved both of my problems.</p>\n\n<pre><code>AURenderCallbackStruct processingCallback;\nprocessingCallback.inputProc = processingCalbackProc;\nprocessingCallback.inputProcRefCon = (__bridge void *)(self);\nOSStatus status = AudioUnitSetProperty(AudioKit.engine.outputNode.audioUnit,\n    kAudioUnitProperty_SetRenderCallback,\n    kAudioUnitScope_Input,\n    0,\n    &amp;processingCallback,\n    sizeof(processingCallback));\nif(status != noErr) {\n    return false;\n}\n\nOSStatus processingCalbackProc (void *inRefCon,\n                           AudioUnitRenderActionFlags *ioActionFlags,\n                           const AudioTimeStamp *inTimeStamp,\n                           UInt32 inBusNumber,\n                           UInt32 inNumberFrames,\n                           AudioBufferList *ioData)\n{\n    __unsafe_unretained MyClass *self = (__bridge MyClass *)inRefCon;\n    printf(\"%u, \", (unsigned int)inNumberFrames); // -&gt; low latency!\n\n    if (!ioData) ioData = self-&gt;audioBufferList;\n    OSStatus status = AudioUnitRender(AudioKit.engine.outputNode.audioUnit,\n                                      ioActionFlags,\n                                      inTimeStamp,\n                                      1,\n                                      inNumberFrames,\n                                      ioData);\n    if(status != noErr) { return status; }\n\n    // Get buffers\n    unsigned int inputChannels = 2;\n    float *buffer[inputChannels];\n    for (int i = 0; i &lt; inputChannels; i++) {\n        buffer[i] = (float *)ioData-&gt;mBuffers[i].mData;\n    }\n\n    // Process data\n    processData(buffer[0], buffer[1], inNumberFrames);\n\n    return noErr;\n}\n</code></pre>\n\n<p>Now I can easily get buffers as low as 256samples (probably even less but not needed in my case) and when <code>buffer[n]</code>are modified, it outputs the modified buffers.\nEverything seems to be fine, I just hope this is the right approach.</p>\n"}, {"tags": ["objective-c", "swift", "apple-push-notifications"], "comments": [{"owner": {"reputation": 2129, "user_id": 2797944, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUDWs.jpg?s=128&g=1", "display_name": "Shauket Sheikh", "link": "https://stackoverflow.com/users/2797944/shauket-sheikh"}, "edited": false, "score": 0, "creation_date": 1568948309, "post_id": 58020221, "comment_id": 102445569, "body": "date recording is not binding with push notification, Yes in push notification permission denied callback you can setup date recording function."}], "answers": [{"tags": [], "owner": {"reputation": 2290, "user_id": 7551807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BLFSP.jpg?s=128&g=1", "display_name": "Mussa Charles", "link": "https://stackoverflow.com/users/7551807/mussa-charles"}, "is_accepted": true, "score": 1, "last_activity_date": 1568942157, "creation_date": 1568942157, "answer_id": 58020581, "question_id": 58020221, "link": "https://stackoverflow.com/questions/58020221/is-there-any-way-to-record-the-date-when-user-denies-permission/58020581#58020581", "title": "Is there any way to record the date when user denies permission?", "body": "<p>Try calling this in <code>application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool</code> </p>\n\n<pre><code>    func requestAuthorization(application: UIApplication) {\n        if #available(iOS 10.0, *) {\n             let authOptions: UNAuthorizationOptions = [.alert, .badge, .sound]\n            UNUserNotificationCenter.current().requestAuthorization(options: authOptions) { (permmitted, error) in\n                if !permmitted {\n                    // User denied, save your date\n                    //----------\n                }\n            }\n        }else {\n            let settings: UIUserNotificationSettings =\n                UIUserNotificationSettings(types: [.alert, .badge, .sound], categories: nil)\n            application.registerUserNotificationSettings(settings)\n            if application.!isRegisteredForRemoteNotifications {\n                // User denied, save your date.\n\n            }\n\n        }\n\n    }\n\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11206038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/itz5l.jpg?s=128&g=1", "display_name": "Yash Shelatkar", "link": "https://stackoverflow.com/users/11206038/yash-shelatkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58020581, "answer_count": 1, "score": 0, "last_activity_date": 1568942157, "creation_date": 1568938403, "question_id": 58020221, "link": "https://stackoverflow.com/questions/58020221/is-there-any-way-to-record-the-date-when-user-denies-permission", "title": "Is there any way to record the date when user denies permission?", "body": "<p>If a user denies permission for push notifications is there anyway we can record the date/time when he denied and record it in UserDefaults.</p>\n"}, {"tags": ["objective-c", "bundle"], "comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1568915145, "post_id": 58015110, "comment_id": 102436534, "body": "Have you tried it? What happens when you pass <code>@&quot;&#47;tmp&quot;</code> as <code>myPath</code>?"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1568926477, "post_id": 58015110, "comment_id": 102441143, "body": "@CRD, I didn&#39;t try it yet, but hoping that there is better solution..."}], "answers": [{"comments": [{"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1568995664, "post_id": 58023087, "comment_id": 102466020, "body": "I am trying to rewrite old Carbon code. There all those sanity checks was performed. Now I presume that in case of failure <code>openApplicationAtURL</code> or <code>launchApplicationAtURL</code> will just return <code>nil</code>, right?"}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "reply_to_user": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1568996681, "post_id": 58023087, "comment_id": 102466430, "body": "Then this is a great opportunity to jettison old crusty code! ;) From the documentation: &quot;If the application could not be launched, <code>nil</code> is returned and the error is specified in <code>error</code>.&quot;"}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1572457779, "post_id": 58023087, "comment_id": 103569298, "body": "please see my edit to the question. Any suggestions?"}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "reply_to_user": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "edited": false, "score": 0, "creation_date": 1572497604, "post_id": 58023087, "comment_id": 103580646, "body": "I doubt there&#39;s any guarantee of particular PID value if the application couldn&#39;t be opened. If you want to know if there was a problem launching the app, I&#39;d suggest examining the <code>NSError</code> returned ... ;)"}], "tags": [], "owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "is_accepted": false, "score": 0, "last_activity_date": 1568961884, "creation_date": 1568961884, "answer_id": 58023087, "question_id": 58015110, "link": "https://stackoverflow.com/questions/58015110/verify-that-the-directory-is-a-bundle/58023087#58023087", "title": "Verify that the directory is a bundle", "body": "<p>If you want to know that a given URL is an application, get and check the <code>NSURLIsApplicationKey</code> resource of the <code>NSURL</code>.</p>\n\n<p>However, there's really no need to do this: <code>-openApplicationAtURL:configuration:completionHandler:</code> will perform whatever sanity checks are appropriate and fail if there's a problem. So pre-flighting it will just do this preliminary work twice.</p>\n"}], "owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572457742, "creation_date": 1568909540, "last_edit_date": 1572457742, "question_id": 58015110, "link": "https://stackoverflow.com/questions/58015110/verify-that-the-directory-is-a-bundle", "title": "Verify that the directory is a bundle", "body": "<p>ALL,</p>\n\n<p>I'm trying to rewrite some old code with the new OSX Cocoa API.</p>\n\n<p>I got a suggestion to use</p>\n\n<p><code>-[NSWorkspace openApplicationAtURL:configuration:completionHandler:]</code></p>\n\n<p>to open and execute a bundle, however I'd like to do some sanity check first.</p>\n\n<p>So my code will look like this:</p>\n\n<pre><code>NSURL *url = [NSURL fileURLWithPath:myPath isDirectory:YES];\nNSBundle *bundle = [NSBundle bundleWithURL:url];\nif( bundle == nil )\n{\n    printf( \"Not a bundle!!\";\n    return -1;\n}\nNSWorkspace *ws = [NSWorkspace sharedWorkspace];\nNSRunningApplication *app = [ws ...];\n</code></pre>\n\n<p>Am I right? Or there is a better way to do that?</p>\n\n<p>Also, I think I don't need to delete NSBundle object, right?</p>\n\n<p>TIA!</p>\n\n<p>[EDIT]</p>\n\n<p>I tried to produce the following code:</p>\n\n<pre><code>NSWorkspace *ws = [NSWorkspace sharedWorkspace];\nNSRunningApplication *app = [ws launchApplicationAtURL:url options:NSWorkspaceLaunchAsync\n                                         configuration:[NSDictionary dictionaryWithObject:params forKey:NSWorkspaceLaunchConfigurationArguments]\n                                         error:&amp;error];\n[params release];\n\nif( app != nil )\n    pid = [app processIdentifier];\n</code></pre>\n\n<p>However when I tried to supply <code>/bin/ls</code> I git <code>pid</code> as <code>-1</code>.</p>\n\n<p>Can I successfully rely on the fact that this method will return -1 on non-bundle application?</p>\n\n<p>[/EDIT]</p>\n"}, {"tags": ["objective-c", "uiimage", "ios13"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 5873005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abd5af2d64f9e05fed56e8dacad3f266?s=128&d=identicon&r=PG&f=1", "display_name": "Rotem Yakov", "link": "https://stackoverflow.com/users/5873005/rotem-yakov"}, "is_accepted": true, "score": 0, "last_activity_date": 1569148552, "creation_date": 1569148552, "answer_id": 58048339, "question_id": 58012911, "link": "https://stackoverflow.com/questions/58012911/uiimagejpegrepresentation-and-uiimagepngrepresentation-returns-nil-in-ios-13/58048339#58048339", "title": "UIImageJPEGRepresentation and UIImagePNGRepresentation returns nil in iOS 13", "body": "<p>This issue is solved in beta 13.1.</p>\n"}], "owner": {"reputation": 101, "user_id": 5873005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abd5af2d64f9e05fed56e8dacad3f266?s=128&d=identicon&r=PG&f=1", "display_name": "Rotem Yakov", "link": "https://stackoverflow.com/users/5873005/rotem-yakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 58048339, "answer_count": 1, "score": 1, "last_activity_date": 1569148552, "creation_date": 1568902088, "last_edit_date": 1568905155, "question_id": 58012911, "link": "https://stackoverflow.com/questions/58012911/uiimagejpegrepresentation-and-uiimagepngrepresentation-returns-nil-in-ios-13", "title": "UIImageJPEGRepresentation and UIImagePNGRepresentation returns nil in iOS 13", "body": "<p>In my app I'm using the image picker to select an image on an iPhone. After the image was selected, I do:</p>\n\n<pre><code>data = UIImageJPEGRepresentation(image, 1.0);\n</code></pre>\n\n<p>On iOS 12.4.1 and below, everything works fine, if I pick either PNG or JPEG image.</p>\n\n<p>On iOS 13, JPG works fine, but PNG does not.</p>\n\n<p>If I pick a JPG:</p>\n\n<pre><code>data = UIImageJPEGRepresentation(image, 1.0); // works\ndata = UIImagePNGRepresentation(image); // works\n</code></pre>\n\n<p>But if I pick a PNG:</p>\n\n<pre><code>data = UIImageJPEGRepresentation(image, 1.0); // data is nil\ndata = UIImagePNGRepresentation(image); // data is nil\n</code></pre>\n\n<p>I looked at some other questions here and tried copying the image:</p>\n\n<pre><code>UIGraphicsBeginImageContext(image.size);\n[image drawInRect:CGRectMake(0, 0, image.size.width, image.size.height)];\nUIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();\nUIGraphicsEndImageContext();\n</code></pre>\n\n<p>Then, when I do</p>\n\n<pre><code>data = UIImageJPEGRepresentation(newImage, 1.0);\n</code></pre>\n\n<p>it's not nil, but I get an all-white image.</p>\n\n<p>Does anyone have an idea for a workaround for this?</p>\n"}, {"tags": ["objective-c", "xcode", "tls1.2", "ios13"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 4, "creation_date": 1568899051, "post_id": 58011737, "comment_id": 102428034, "body": "Something suspicious about this question.  The &quot;non-answers&quot; are being upvoted which suggests collusion of some sort."}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1568899138, "post_id": 58011737, "comment_id": 102428086, "body": "@trojanfoe and the answers are from &quot;new&quot; users - it is unlikely that they just accidentally find this question and decide to post a non-answer, did you flag for mod attention yet?"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 1, "creation_date": 1568899193, "post_id": 58011737, "comment_id": 102428147, "body": "@luk2302 I did, yes."}], "answers": [{"comments": [{"owner": {"reputation": 756, "user_id": 5383429, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a090cf74d283cf4e9487ad31a8d499d6?s=128&d=identicon&r=PG&f=1", "display_name": "Hussain Chhatriwala", "link": "https://stackoverflow.com/users/5383429/hussain-chhatriwala"}, "edited": false, "score": 3, "creation_date": 1571752586, "post_id": 58011922, "comment_id": 103340032, "body": "is there any way we can validate our old Certificates and understand which all pointers are going wrong."}, {"owner": {"reputation": 1051, "user_id": 1425931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJYME.jpg?s=128&g=1", "display_name": "Shubhendu", "link": "https://stackoverflow.com/users/1425931/shubhendu"}, "edited": false, "score": 1, "creation_date": 1572025817, "post_id": 58011922, "comment_id": 103445484, "body": "Please help on this.  How to validate self signed certificates we are using."}, {"owner": {"reputation": 11451, "user_id": 118562, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a3796816c40c74d83f57d150f19451b6?s=128&d=identicon&r=PG", "display_name": "Bagusflyer", "link": "https://stackoverflow.com/users/118562/bagusflyer"}, "edited": false, "score": 0, "creation_date": 1572947094, "post_id": 58011922, "comment_id": 103711203, "body": "I have an application which is running fine until iOS 13. I got this TLS issue. Is there anyway to bypass this in iOS side because I can&#39;t change anything in my server now."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 756, "user_id": 5383429, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a090cf74d283cf4e9487ad31a8d499d6?s=128&d=identicon&r=PG&f=1", "display_name": "Hussain Chhatriwala", "link": "https://stackoverflow.com/users/5383429/hussain-chhatriwala"}, "edited": false, "score": 0, "creation_date": 1573452733, "post_id": 58011922, "comment_id": 103873612, "body": "@HussainChhatriwala Check my answer, please."}, {"owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "reply_to_user": {"reputation": 1051, "user_id": 1425931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJYME.jpg?s=128&g=1", "display_name": "Shubhendu", "link": "https://stackoverflow.com/users/1425931/shubhendu"}, "edited": false, "score": 0, "creation_date": 1573452741, "post_id": 58011922, "comment_id": 103873616, "body": "@Shubhendu Check my answer, please."}], "tags": [], "owner": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "is_accepted": true, "score": 30, "last_activity_date": 1568899041, "last_edit_date": 1592644375, "creation_date": 1568899041, "answer_id": 58011922, "question_id": 58011737, "link": "https://stackoverflow.com/questions/58011737/ios-13-tls-issue/58011922#58011922", "title": "iOS 13 TLS issue", "body": "<p>Apple has defined <a href=\"https://support.apple.com/en-us/HT210176\" rel=\"noreferrer\">stricter rules</a> for TLS server certificates, starting from iOS 13 and macOS 10.15.</p>\n<blockquote>\n<p>All TLS server certificates must comply with these new security requirements in iOS 13 and macOS 10.15:</p>\n<p>TLS server certificates and issuing CAs using RSA keys must use <strong>key sizes greater than or equal to 2048 bits</strong>. Certificates using RSA key sizes smaller than 2048 bits are no longer trusted for TLS.</p>\n<p>TLS server certificates and issuing CAs must <strong>use a hash algorithm from the SHA-2 family in the signature algorithm</strong>. SHA-1 signed certificates are no longer trusted for TLS.</p>\n<p>TLS server certificates <strong>must present the DNS name of the server in the Subject Alternative Name extension of the certificate</strong>. DNS names in the CommonName of a certificate are no longer trusted.</p>\n<p>Additionally, <strong>all TLS server certificates issued after July 1, 2019</strong> (as indicated in the NotBefore field of the certificate) <strong>must follow these guidelines</strong>:</p>\n<p><strong>TLS server certificates must contain an ExtendedKeyUsage (EKU) extension containing the id-kp-serverAuth OID</strong>.</p>\n<p>TLS server certificates <strong>must have a validity period of 825 days or fewer</strong> (as expressed in the NotBefore and NotAfter fields of the certificate).</p>\n</blockquote>\n<p>And the final note:</p>\n<blockquote>\n<p>Connections to TLS servers violating these new requirements will fail and may cause network failures, apps to fail, and websites to not load in Safari in iOS 13 and macOS 10.15.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 12706473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f688558a77caaafea82988e663e9429?s=128&d=identicon&r=PG&f=1", "display_name": "frank61003", "link": "https://stackoverflow.com/users/12706473/frank61003"}, "edited": false, "score": 1, "creation_date": 1586252612, "post_id": 58795770, "comment_id": 108053773, "body": "I can not find self-signed root certificate in my Keychain, how to create new one? Please help."}], "tags": [], "owner": {"reputation": 5696, "user_id": 3908065, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002559418634/picture?type=large", "display_name": "Igor Kharakhordin", "link": "https://stackoverflow.com/users/3908065/igor-kharakhordin"}, "is_accepted": false, "score": 8, "last_activity_date": 1573448513, "creation_date": 1573448513, "answer_id": 58795770, "question_id": 58011737, "link": "https://stackoverflow.com/questions/58011737/ios-13-tls-issue/58795770#58795770", "title": "iOS 13 TLS issue", "body": "<p>I'm going to add some additional information. To check that your certificate is valid you can open it in Keychain Access and check that it contains correct information:</p>\n\n<ul>\n<li>It expires in less than 825 days;</li>\n<li>Signature algorithm isn't SHA-1 (SHA-256, probably);</li>\n<li>Public key size isn't smaller than 2048 bits;</li>\n<li>There's Extended Key Usage extension with \"Server Authentication\" purpose;</li>\n<li>There's Subject Alternative Name extension that contains server's DNS.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ovq0R.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ovq0R.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Config example for OpenSSL:</p>\n\n<pre><code>[ ca ]\ndefault_ca = CA_default\n[ CA_default ]\ndefault_md = sha256\ndefault_days = 825\n[ req ]\nprompt             = no\ndefault_bits       = 4096\ndistinguished_name = req_distinguished_name\nx509_extensions     = req_ext\n[ req_distinguished_name ]\ncountryName                = ...\nstateOrProvinceName        = ...\nlocalityName               = ...\norganizationName           = ...\ncommonName                 = google.com\n[ req_ext ]\nextendedKeyUsage = serverAuth\nsubjectAltName = @alt_names\n[alt_names]\nDNS.1 = google.com\nDNS.2 = www.google.com\n</code></pre>\n\n<p>To generate new key-certificate pair run this command:</p>\n\n<pre><code>openssl req -newkey rsa:4096 -nodes -keyout key.pem -x509 -out certificate.crt -days 825 -config config.cnf\n</code></pre>\n"}], "owner": {"reputation": 609, "user_id": 8052783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3888bbe0bfb09017a322ad3b181e835b?s=128&d=identicon&r=PG&f=1", "display_name": "Dragisa Dragisic", "link": "https://stackoverflow.com/users/8052783/dragisa-dragisic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20777, "favorite_count": 8, "accepted_answer_id": 58011922, "answer_count": 2, "score": 28, "last_activity_date": 1573448513, "creation_date": 1568898534, "last_edit_date": 1568899169, "question_id": 58011737, "link": "https://stackoverflow.com/questions/58011737/ios-13-tls-issue", "title": "iOS 13 TLS issue", "body": "<p>I have installed iOS 13 beta version and run my framework which contains a lot of network requests, but I got this error:</p>\n\n<pre><code>2019-09-19 15:01:33.566811+0200 ---[395:25439] Connection 4: default TLS Trust evaluation failed(-9814)\n2019-09-19 15:01:33.567022+0200 ---[395:25439] Connection 4: TLS Trust encountered error 3:-9814\n2019-09-19 15:01:33.567110+0200 ---[395:25439] Connection 4: encountered error(3:-9814)\n2019-09-19 15:01:33.569824+0200 ---[395:25439] Connection 4: unable to determine interface type without an established connection\n2019-09-19 15:01:33.584952+0200 ---[395:25439] Task &lt;D97FD611-0B48-4DCE-99C9-6A971E5E6524&gt;.&lt;4&gt; HTTP load failed, 0/0 bytes (error code: -1202 [3:-9814])\n</code></pre>\n\n<p>I tried to find out what cause that problem with no success. Can anyone help me?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "nsurlconnection", "sdwebimage"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1568908472, "post_id": 58011673, "comment_id": 102433591, "body": "-1003 is NSURLErrorCannotFindHost error. Common error when there is no internet connection."}, {"owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1568958297, "post_id": 58011673, "comment_id": 102447520, "body": "I&#39;m sure the device has a stable connection"}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "is_accepted": true, "score": 0, "last_activity_date": 1569240534, "creation_date": 1569240534, "answer_id": 58062122, "question_id": 58011673, "link": "https://stackoverflow.com/questions/58011673/setting-image-through-sdwebimage-gives-error-code-1003-and-using-cfnetwork-di/58062122#58062122", "title": "Setting image through SdWebImage gives \u201cError code=-1003\u201d and using CFNetwork Diagnostics log &quot;Err(-65554)&quot;", "body": "<p>Turns out it was an issue of using cooperate Wifi ISP which had these reservations with some URLs that were been test, only thing that was needed -- reconnect to new different Wifi or use cellular.</p>\n\n<p>It was never related to SDWebimage</p>\n"}], "owner": {"reputation": 142, "user_id": 5484311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sc2JN.jpg?s=128&g=1", "display_name": "Frostmourne", "link": "https://stackoverflow.com/users/5484311/frostmourne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58062122, "answer_count": 1, "score": 0, "last_activity_date": 1569240534, "creation_date": 1568898308, "question_id": 58011673, "link": "https://stackoverflow.com/questions/58011673/setting-image-through-sdwebimage-gives-error-code-1003-and-using-cfnetwork-di", "title": "Setting image through SdWebImage gives \u201cError code=-1003\u201d and using CFNetwork Diagnostics log &quot;Err(-65554)&quot;", "body": "<p>Generating a tableCell's image part using <code>SDWebimage</code> block:</p>\n\n<pre><code>    [cell.i_imageView \nsd_setImageWithURL:[NSURL URLWithString: item.imageUrl] \n    placeholderImage:[UIImage imageNamed:@\"no-image\"] \n    options: SDWebImageRefreshCached \n    completed:^(UIImage * _Nullable image, NSError * _Nullable error, SDImageCacheType cacheType, NSURL * _Nullable imageURL) {\n\n           if(!image)\n               NSLog(@\"image not loaded %@\", error.description);\n</code></pre>\n\n<p>In most cases the image loads fine, but sometimes in SDwebimage's completion handler when it fails, it gives these error messages \"Error code=-1003\" and upon using CFNetwork Diagnostics log it gives \"Err(-65554)\".</p>\n\n<p>After much research I have found out it's a DNS-related issue and have tested this theory out by using the following methods,</p>\n\n<ul>\n<li>Use VPN on an actual device</li>\n<li>Disconnect the WIFI and use Cellular data</li>\n</ul>\n\n<p>To these aforementioned techniques the images reloads again, but I can't be betting on both these above mentioned methods while shipping the product, so any NSURLSession calls, SdWebImage methods that I might missing here that solves the problem, or maybe a way to turn cellular data on for these specific URLs</p>\n"}, {"tags": ["objective-c", "iphone", "user-interface", "ios13"], "comments": [{"owner": {"reputation": 101, "user_id": 3409665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3950155ac51715b59135405073b0be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jrjian", "link": "https://stackoverflow.com/users/3409665/jrjian"}, "reply_to_user": {"reputation": 22099, "user_id": 3202193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iljvd.jpg?s=128&g=1", "display_name": "Ashish Kakkad", "link": "https://stackoverflow.com/users/3202193/ashish-kakkad"}, "edited": false, "score": 4, "creation_date": 1568885522, "post_id": 58007671, "comment_id": 102420285, "body": "@AshishKakkad. It isn&#39;t a same issue. My problem is focused on the viewController height."}], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 3060347, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/037a93db8b0897c12ebf1eab291e9dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/3060347/drew"}, "edited": false, "score": 0, "creation_date": 1602177481, "post_id": 59325682, "comment_id": 113645284, "body": "Your <code>CardViewController</code> will also need <code>let swipeThreshold: CGFloat = 200</code> and <code>var viewTranslation = CGPoint(x: 0, y: 0)</code>"}], "tags": [], "owner": {"reputation": 445, "user_id": 8036351, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wse--X8_zdI/AAAAAAAAAAI/AAAAAAAAAC0/Az3cTyeHviM/photo.jpg?sz=128", "display_name": "Nikita Alexander", "link": "https://stackoverflow.com/users/8036351/nikita-alexander"}, "is_accepted": false, "score": 6, "last_activity_date": 1576251595, "creation_date": 1576251595, "answer_id": 59325682, "question_id": 58007671, "link": "https://stackoverflow.com/questions/58007671/presenting-modal-in-ios-13-with-custom-height/59325682#59325682", "title": "Presenting modal in iOS 13 with custom height", "body": "<p><b>Answer in Swift</b></p>\n\n<p>I was looking for a way to replicate that type of ViewController behaviour, albeit with basic UI and have found a rather simple solution.\nBasically, you create a ViewController (<code>CardViewContoller</code>) with a transparent background and then add to it a card-like view with a <code>UIPanGestureReconizer</code>, that will enable you to drag it around and dismiss it with the ViewController.</p>\n\n<p>To present you simply call <code>present</code>, setting the <code>modalPresentationStyle</code> to <code>.overCurrentContext</code> and <code>modalTransitionStyle</code> to <code>.coverVertical</code>:</p>\n\n<pre><code>let cardVC = CardViewController()\ncardVC.modalPresentationStyle = .overCurrentContext\ncardVC.modalTransitionStyle = .coverVertical\npresent(cardVC, animated: true, completion: nil)\n</code></pre>\n\n<p>The in <code>CardViewController</code>, which can be created programmatically or using Interface Builder, you add a <code>UIPanGestureRecognizer</code> to your card view (<code>contentView</code>):</p>\n\n<pre><code>let panGestureRecognizer = UIPanGestureRecognizer(target: self, action: #selector(handleDismiss(recognizer:)))\npanGestureRecognizer.cancelsTouchesInView = false\ncontentView.addGestureRecognizer(panGestureRecognizer)\n\n</code></pre>\n\n<p>Then just add an <code>@objc</code> function that will respond to the UIPanGestureRecognizer:</p>\n\n<pre><code>    @objc\n    func handleDismiss (recognizer: UIPanGestureRecognizer) {\n        switch recognizer.state {\n        case .changed:\n            viewTranslation = recognizer.translation(in: view)\n            UIView.animate(withDuration: 0.5, delay: 0, usingSpringWithDamping: 0.7, initialSpringVelocity: 1, options: .curveEaseOut, animations: {\n                guard self.viewTranslation.y &gt; 0 else {return}\n                self.view.transform = CGAffineTransform(translationX: 0, y: self.viewTranslation.y)\n            })\n        case .ended:\n            if viewTranslation.y &lt; swipeThreshold {\n                UIView.animate(withDuration: 0.5, delay: 0, usingSpringWithDamping: 0.7, initialSpringVelocity: 1, options: .curveEaseOut, animations: {\n                    self.view.transform = .identity\n                })\n            } else {\n                dismiss(animated: true, completion: nil)\n            }\n        default:\n            break\n        }\n    }\n</code></pre>\n\n<p>The <code>swipeThreshold</code> is a <code>CGFloat</code> variable with a value of your choosing (<i>200 works great for me</i>), that if the <code>UIPanGestureRecognizer</code> y translation exceeds, will trigger the dismissal of the ViewController along with all the elements.\nLikewise, you can add a simple button that will dismiss the ViewController on <code>.touchUpInside</code> calling <code>dismiss()</code></p>\n\n<p>If you want, you can have a look at <a href=\"https://github.com/Taopath/CardViewController\" rel=\"noreferrer\">this repo</a>, in which I have a sample project that exhibits this behaviour. That way you can build your own totally customisable cards.</p>\n"}, {"tags": [], "owner": {"reputation": 225, "user_id": 8854782, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JTgC_wjdJ1w/AAAAAAAAAAI/AAAAAAAAAOM/JlhflUgPlhA/photo.jpg?sz=128", "display_name": "Arvind Patel", "link": "https://stackoverflow.com/users/8854782/arvind-patel"}, "is_accepted": false, "score": 2, "last_activity_date": 1609407649, "creation_date": 1609407649, "answer_id": 65519127, "question_id": 58007671, "link": "https://stackoverflow.com/questions/58007671/presenting-modal-in-ios-13-with-custom-height/65519127#65519127", "title": "Presenting modal in iOS 13 with custom height", "body": "<p>Yes it is possible Presenting modal in iOS 13 with custom height.\nYou just need to add the below code into your Presenting modal</p>\n<pre><code> override func updateViewConstraints() {\n        self.view.frame.size.height = UIScreen.main.bounds.height - 150\n        self.view.frame.origin.y =  150\n        self.view.roundCorners(corners: [.topLeft, .topRight], radius: 10.0)\n        super.updateViewConstraints()\n }\n\n extension UIView {\n   func roundCorners(corners: UIRectCorner, radius: CGFloat) {\n        let path = UIBezierPath(roundedRect: bounds, byRoundingCorners: corners, cornerRadii: CGSize(width: radius, height: radius))\n        let mask = CAShapeLayer()\n        mask.path = path.cgPath\n        layer.mask = mask\n    }\n }\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3409665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3950155ac51715b59135405073b0be6c?s=128&d=identicon&r=PG&f=1", "display_name": "jrjian", "link": "https://stackoverflow.com/users/3409665/jrjian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4031, "favorite_count": 3, "answer_count": 2, "score": 10, "last_activity_date": 1609407649, "creation_date": 1568884663, "last_edit_date": 1568885646, "question_id": 58007671, "link": "https://stackoverflow.com/questions/58007671/presenting-modal-in-ios-13-with-custom-height", "title": "Presenting modal in iOS 13 with custom height", "body": "<p>In iOS 13 there is a new behaviour for modal view controller when being presented.And I found the build-in App Photo presents a smaller model view controller.</p>\n\n<p>How can I present a viewController with a custom size like this\uff0cand can slide up to a larger height?</p>\n\n<p><img src=\"https://i.stack.imgur.com/eudr0.png\" alt=\"smaller height\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/clhgY.png\" alt=\"larger height\"></p>\n\n<p>Picture screenshots from system photo app.</p>\n"}, {"tags": ["ios", "objective-c", "atomic", "apfs"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1568879150, "post_id": 58006103, "comment_id": 102417022, "body": "Why would you write to a file using multiple threads anyway?"}, {"owner": {"reputation": 1052, "user_id": 4805355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c429ce26c5a5065a0e199f4dcede7b71?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Rusu", "link": "https://stackoverflow.com/users/4805355/vlad-rusu"}, "edited": false, "score": 0, "creation_date": 1568880611, "post_id": 58006103, "comment_id": 102417709, "body": "It is thread-safe, but you&#39;ll get only the contents of the last write. I don&#39;t see any practical use case where you would be concerned by thread safety in this case."}, {"owner": {"reputation": 227, "user_id": 3456547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48a0a5e1065b3465d227209fafabf13?s=128&d=identicon&r=PG&f=1", "display_name": "byohay", "link": "https://stackoverflow.com/users/3456547/byohay"}, "edited": false, "score": 0, "creation_date": 1568882618, "post_id": 58006103, "comment_id": 102418709, "body": "A possible scenario can be a network library that was requested to download the same file from two threads, and each thread copies the file to the same directory when it finishes. Of course, it is redundant to invoke the same request multiple times, but I don&#39;t want to assume that it won&#39;t happen."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1568886921, "post_id": 58006103, "comment_id": 102421063, "body": "If it&#39;s possible the multiple threads can write to the same file then you should provide functionality to manage it.  This would allow you to deny the action, for example, rather than trampling over another thread&#39;s data."}, {"owner": {"reputation": 227, "user_id": 3456547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48a0a5e1065b3465d227209fafabf13?s=128&d=identicon&r=PG&f=1", "display_name": "byohay", "link": "https://stackoverflow.com/users/3456547/byohay"}, "edited": false, "score": 0, "creation_date": 1569136171, "post_id": 58006103, "comment_id": 102492967, "body": "Thanks! Eventually I decided to go with your advice and manage it."}], "owner": {"reputation": 227, "user_id": 3456547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48a0a5e1065b3465d227209fafabf13?s=128&d=identicon&r=PG&f=1", "display_name": "byohay", "link": "https://stackoverflow.com/users/3456547/byohay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568879024, "creation_date": 1568879024, "question_id": 58006103, "link": "https://stackoverflow.com/questions/58006103/ios-is-nsdata-writetofileatomicallyyes-thread-safe", "title": "iOS: Is [NSData writeToFile:atomically:YES] thread safe?", "body": "<p>I'm trying to figure out what happens if I write to the same file using the method <code>[NSData writeToFile:atomically:YES]</code> from multiple threads. Is there a guarantee that the file will be uncorrupted after the threads finish writing to it?</p>\n\n<p>For simplicity you can assume the file system is APFS (iOS 11+).</p>\n\n<p>The question is also relevant for <code>NSFileManager</code>'s\n<code>[replaceItemAtURL:withItemAtURL:backupItemName:options:resultingItemURL:error:]</code></p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1568862437, "post_id": 58003116, "comment_id": 102411595, "body": "This is really far from valid code. <code>typealias</code> is misspelt, <code>Foundation</code> is not imported, and your declaration of the <code>var t: T</code> property is missing the <code>{ get }</code> or <code>{ get set }</code> qualifier."}, {"owner": {"reputation": 3511, "user_id": 1920368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/j1Nnt.jpg?s=128&g=1", "display_name": "Micah", "link": "https://stackoverflow.com/users/1920368/micah"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1568862551, "post_id": 58003116, "comment_id": 102411615, "body": "apologize, updated."}, {"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1568866285, "post_id": 58003116, "comment_id": 102412230, "body": "I think that question is an exact match for yours. Let me know if you still have any questions. BTW, though formatting is objective, yours is quite strange (compared to the broader conventions in the Swift community). At least drop the semicolons. They&#39;re completely pointless."}], "owner": {"reputation": 3511, "user_id": 1920368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/j1Nnt.jpg?s=128&g=1", "display_name": "Micah", "link": "https://stackoverflow.com/users/1920368/micah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1568866269, "answer_count": 0, "score": 0, "last_activity_date": 1568864034, "creation_date": 1568861974, "last_edit_date": 1568864034, "question_id": 58003116, "link": "https://stackoverflow.com/questions/58003116/how-create-a-objc-representable-type-in-swift", "closed_reason": "Duplicate", "title": "How create a @objc representable type in swift?", "body": "<p>I am having hard to find how I can create a custom Type can use inside @objc.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44203538/enum-defined-in-objc-declared-in-swift-to-be-used-in-objc\">enum defined in Objc &gt; Declared in Swift &gt; to be used in Objc</a></p>\n\n<p>Above looks similar, but I still cannot understand.</p>\n\n<p>For example.</p>\n\n<pre><code>import Foundation ;\n\ntypealias T = ()-&gt; Void ;\n\n@objc\nprotocol A {\n\n     var t : [ String : T ] { get set } ;\n\n}\n\nProperty cannot be a member of an @objc protocol because its type cannot be represented in Objective-C\n</code></pre>\n\n<p>How can I get rid of this error? Do I have to define something in Objective-C? How can I do it? Will be very appreciate if you can give me am example.</p>\n\n<hr>\n\n<p>The problem look like if you place a custom type inside Dictionary or Array, this error will appear, how can I resolve it?</p>\n"}, {"tags": ["c++", "objective-c", "macos", "cocoa"], "answers": [{"comments": [{"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 0, "creation_date": 1568900749, "post_id": 58004148, "comment_id": 102429085, "body": "Thanks, your suggestion set me off in the right path and I managed to write a sample program to create a menu and display it on the desktop. However, I had to create a view (which required a host window) and pass it as inView: argument to trap item selection (OnMenuSelection method of the view). My challenge now is to make the whole code work from a worker thread :)"}, {"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 0, "creation_date": 1568902636, "post_id": 58004148, "comment_id": 102430307, "body": "Apparently, getting it work from a background thread is probably not possible if my research so far is right. It seems Cocoa UI stuff is to be handled from the main thread of the app. So I have to figure out a way to handle it from the main thread (some form of signalling from the worker thread)."}, {"owner": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "reply_to_user": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 1, "creation_date": 1568920763, "post_id": 58004148, "comment_id": 102438903, "body": "The canonical way to do that on Cocoa is to use <a href=\"https://developer.apple.com/documentation/dispatch/1453057-dispatch_async\" rel=\"nofollow noreferrer\">dispatch_a/sync</a>, passing the main queue (<code>dispatch_get_main_queue()</code>)"}, {"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 0, "creation_date": 1568948483, "post_id": 58004148, "comment_id": 102445589, "body": "Thanks, for throwing the little treats/teasers to the dog ! :-)"}, {"owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "edited": false, "score": 0, "creation_date": 1568969732, "post_id": 58004148, "comment_id": 102452463, "body": "That worked perfectly! It seems the dispatch*() API marshalls the code block to the specified thread and executes it there. It&#39;s a no brainer, but still have to be highlighted -- that the onus is on the programmer to manage the lifetime of the referred objects in the marshalled code block and that locals (from outside the code block) are to be avoided. Anyway, nifty stuff!"}], "tags": [], "owner": {"reputation": 11609, "user_id": 233944, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/231ea4f1017c30d4fabcda7671c91f27?s=128&d=identicon&r=PG", "display_name": "TheNextman", "link": "https://stackoverflow.com/users/233944/thenextman"}, "is_accepted": true, "score": 0, "last_activity_date": 1568870373, "creation_date": 1568870373, "answer_id": 58004148, "question_id": 58002721, "link": "https://stackoverflow.com/questions/58002721/trackpopupmenu-equivalent-in-os-x/58004148#58004148", "title": "TrackPopupMenu equivalent in OS X", "body": "<p>You can try to use <a href=\"https://developer.apple.com/documentation/appkit/nsmenu/1518212-popupmenupositioningitem?language=objc\" rel=\"nofollow noreferrer\">popUpMenuPositioningItem:atLocation:inView:</a>. </p>\n\n<p>The documentation says:</p>\n\n<blockquote>\n  <p>If view is nil, the location is interpreted in the screen coordinate system. This allows you to pop up a menu disconnected from any window.</p>\n</blockquote>\n\n<p>So, for example:</p>\n\n<pre><code>[myMenu popUpMenuPositioningItem:nil atLocation:[NSEvent mouseLocation] inView:nil];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "is_accepted": false, "score": 0, "last_activity_date": 1568901700, "creation_date": 1568901700, "answer_id": 58012784, "question_id": 58002721, "link": "https://stackoverflow.com/questions/58002721/trackpopupmenu-equivalent-in-os-x/58012784#58012784", "title": "TrackPopupMenu equivalent in OS X", "body": "<p>For the record here's the code that I wrote that displays the menu on the desktop (I'm not a Mac programmer, so there could be errors or my implementation need not be the most optimal):</p>\n\n<pre><code>// Dummy View class used to receive Menu Events\n@interface DummyView : NSView\n{\n    NSMenuItem* nsMenuItem;\n}\n- (void) OnMenuSelection:(id)sender;\n- (NSMenuItem*)MenuItem;\n@end\n\n@implementation DummyView\n- (NSMenuItem*)MenuItem\n{\n    return nsMenuItem;\n}\n\n- (void)OnMenuSelection:(id)sender\n{\n    nsMenuItem = sender;\n}\n@end\n\nstatic void HandleRButtonDown()\n{\n@autoreleasepool {\n    NSRect    graphicsRect;  // contains an origin, width, height\n    graphicsRect = NSMakeRect(200, 200, 50, 100);\n\n\n    [NSApplication sharedApplication];\n        // Style flags:\n    NSUInteger windowStyle = NSWindowStyleMaskTitled | NSWindowStyleMaskClosable | NSWindowStyleMaskResizable;\n\n    // Window bounds (x, y, width, height).\n    NSRect windowRect = NSMakeRect(0, 0, 0, 0);\n    NSWindow * window = [[NSWindow alloc] initWithContentRect:windowRect\n                                          styleMask:windowStyle\n                                          backing:NSBackingStoreBuffered\n                                          defer:NO];\n\n    // Window controller:\n    NSWindowController * windowController = [[NSWindowController alloc] initWithWindow:window];\n\n    DummyView *nsView = [[DummyView alloc] initWithFrame:graphicsRect];\n    [window setContentView:nsView];\n\n    // Create Menu and Dummy View\n    NSMenu *nsMenu = [[NSMenu alloc] initWithTitle:@\"Contextual Menu\"];\n    [nsMenu setAutoenablesItems:NO];\n\n    NSMenuItem* item1 = [nsMenu addItemWithTitle:@\"Menu Item #1\" action:@selector(OnMenuSelection:) keyEquivalent:@\"\"];\n\n    [item1 setTag:100];\n    [item1 setTarget:nsView];\n    [item1 setEnabled:YES];\n\n    NSMenuItem *item2 = [nsMenu addItemWithTitle:@\"Menu Item #2\" action:@selector(OnMenuSelection:) keyEquivalent:@\"\"];\n\n    [item2 setTag:200];\n    [item2 setTarget:nsView];\n    [item2 setEnabled:YES];\n\n    [nsMenu popUpMenuPositioningItem:item1 atLocation:[NSEvent mouseLocation] inView:nsView];\n\n    printf(\"Selected item: %d\\n\", (int)[[nsView MenuItem] tag]);\n}\n\n}\n</code></pre>\n\n<p>Call HandleRButtonDown() from main and you should get a popup menu on the screen.</p>\n\n<p>Hope this helps someone.</p>\n"}], "owner": {"reputation": 811, "user_id": 744769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LJouN.jpg?s=128&g=1", "display_name": "Hari Mahadevan", "link": "https://stackoverflow.com/users/744769/hari-mahadevan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 58004148, "answer_count": 2, "score": 0, "last_activity_date": 1568901700, "creation_date": 1568858419, "question_id": 58002721, "link": "https://stackoverflow.com/questions/58002721/trackpopupmenu-equivalent-in-os-x", "title": "TrackPopupMenu equivalent in OS X", "body": "<p>Windows has this nifty little API to create &amp; display a popup menu on the desktop even from a background hidden application. Is there something similar in Mac?</p>\n\n<p>I've a background process started by launcher (in user context) and would like to display a popup menu, with a few options for user to select, when it receives a command from the network. Possible?</p>\n\n<p>The background process itself is a plain C++ command line program.</p>\n"}]