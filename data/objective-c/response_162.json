[{"tags": ["objective-c", "uiscrollview", "uicollectionview"], "comments": [{"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518697565, "post_id": 48797744, "comment_id": 84617208, "body": "Does it have to be based on <code>UICollectionView</code>?"}, {"owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518718754, "post_id": 48797744, "comment_id": 84631257, "body": "Yes.   I assume it would be easier if it was based on UITableView or purely UIScrollView.  But my whole design is based on UICollectionView."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518766037, "post_id": 48797744, "comment_id": 84647129, "body": "Have you made the <code>UICollectionView</code> so that it fills photos to the right? Do you want &quot;true&quot; endless scrolling, that can be scrolled in both directions, filling up from start when reaching end? Or are you after a regular collection view that is dynamically loaded as the user scrolls?"}, {"owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518810780, "post_id": 48797744, "comment_id": 84672217, "body": "Yes.  Infinite scrolling left &lt;--&gt; right.  However, it would be nice to know the best way to dynamically lazy load as the user scrolls.   I believe can can figure that out via delegation."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518811048, "post_id": 48797744, "comment_id": 84672338, "body": "Have you made the <code>UICollectionView</code> to fill cells left and right instead of top &amp; bottom?"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518811152, "post_id": 48797744, "comment_id": 84672390, "body": "I am asking because I have made several &quot;endless&quot; scrolling views, but none of them based on <code>UICollectionView</code>, although I have used <code>UICollectionView</code> also, for other purposes."}, {"owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518813098, "post_id": 48797744, "comment_id": 84673383, "body": "...that&#39;s the problem.  I&#39;ve been requested to perform an endless scroll.   I got it to &#39;work&#39;, but with obvious jerking as the photos reposition themselves."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518813302, "post_id": 48797744, "comment_id": 84673485, "body": "Are you sure the jerkiness is from repositioning and not from slow loading times of the photos?"}, {"owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518824276, "post_id": 48797744, "comment_id": 84677531, "body": "I&#39;m not doing a lazy load.   I&#39;ve merely loaded the entire load and would like to do an infinite load of the existing data (i.e., cycle around to the first image...etc.)"}], "owner": {"reputation": 7501, "user_id": 715747, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/4b4dc8485a99d2d6cf4886ef1a84825d?s=128&d=identicon&r=PG", "display_name": "Frederick C. Lee", "link": "https://stackoverflow.com/users/715747/frederick-c-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518649969, "creation_date": 1518649797, "last_edit_date": 1518649969, "question_id": 48797744, "link": "https://stackoverflow.com/questions/48797744/how-do-i-avoid-the-jerking-when-i-do-an-infinite-horizontal-scroll", "title": "How do I avoid the jerking when I do an Infinite Horizontal Scroll?", "body": "<p>Platform: iOS 10+ \n<p>\nI'm able to make a crude infinite scrolling loop via watching WWDC11.\n<br/>  However I can't figure out the algorithm to smooth out the jerking effect.\n<br/>\nAny ideas would be appreciated.\n<p>\nHere's the collection view, to be scrolled horizontally:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ORzw0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ORzw0.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><p>\nHere's the UICollectionView where I'm attempting to create an infinite horizontal scroll effect (allowing for the initial scroll to trigger it):\n<p></p>\n\n<pre><code>@implementation PhotoCollectionView\n\n- (void)recenterIfNecessary {\n    CGPoint currentOffset = self.contentOffset;\n    CGFloat contentWidth = self.contentSize.width;\n    CGFloat centerOffsetX = (contentWidth - self.bounds.size.width) / 2.0;\n    CGFloat distanceFromCenter = fabs(currentOffset.x - centerOffsetX);\n\n    if (contentWidth &gt; 0 &amp;&amp; (distanceFromCenter &gt; (contentWidth / 2.5))) {\n        self.contentOffset = CGPointMake(centerOffsetX, currentOffset.y);\n        // Move content by the same amount so it appears to stay still.\n        // Note: Need to determine correct algorithm.\n        //       Ran out-of-time on this one.\n    }\n}\n\n- (void)layoutSubviews {\n    [super layoutSubviews];\n    [self recenterIfNecessary];\n}\n\n@end\n</code></pre>\n\n<p><p>\nHow do I provide a SMOOTH scroll vs the cell-replenish jerk?\n<br/>\n...I want to also use this within Swift 4+ as well as Objective-C.</p>\n"}, {"tags": ["c++", "objective-c", "objective-c-blocks", "objective-c++", "objective-c-runtime"], "comments": [{"owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "edited": false, "score": 0, "creation_date": 1518808585, "post_id": 48797078, "comment_id": 84671268, "body": "The problem here is that your runtime-generated class doesn&#39;t have a destructor that releases the ivar! There&#39;s no ivar in the parent <code>StoreBridge</code> class, so it doesn&#39;t know to call <code>release</code> on it.  You&#39;ll need to have a smarter <code>dealloc</code> method that can iterate through those ivars and release them (probably by setting to <code>nil</code>, because that sounds safe)."}], "answers": [{"comments": [{"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1518821801, "post_id": 48833536, "comment_id": 84676844, "body": "Excellent answer, thank you. I had overlooked the compiler&#39;s contribution to an object&#39;s dealloc method when ARC is enabled. Naively, I had just assumed that when the ObjC instance was deallocated, its ivars would &quot;just go away&quot; and that that, in turn, would be enough to release the shared_ptr. Modifying the dealloc method, as you suggested, was enough to release the shared_ptr."}], "tags": [], "owner": {"reputation": 53155, "user_id": 427309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/JYj7w.png?s=128&g=1", "display_name": "Richard J. Ross III", "link": "https://stackoverflow.com/users/427309/richard-j-ross-iii"}, "is_accepted": true, "score": 2, "last_activity_date": 1518809012, "creation_date": 1518809012, "answer_id": 48833536, "question_id": 48797078, "link": "https://stackoverflow.com/questions/48797078/leaking-c-shared-ptr-in-objective-c-block/48833536#48833536", "title": "Leaking C++ shared_ptr in Objective-C Block", "body": "<p>Let's jump in a time machine real quick, C.A. 2010. It's a simpler time, before having to deal with multi-architecture slices, 64 bits, and other fancy things, like importantly ARC.</p>\n\n<p>In this seemingly distant world to today, when you had memory, you had to release it yourself <em>gasp</em>. This meant, that if you had an iVar on your class, you had to explicitly, inside <code>dealloc</code> call <code>release</code> on it.</p>\n\n<p>Well, this doesn't actually change with ARC. The only thing that changes is that the <strong>compiler</strong> generates all of those nice <code>release</code> calls for you inside of <code>dealloc</code>, even if you don't define the method. How nice.</p>\n\n<p>The problem here, however, is that the compiler doesn't actually know about your iVar containing the block - it's completely defined at runtime. So how could the compiler release the memory?</p>\n\n<p>The answer is it doesn't. You'll need to do some magic to make sure that you release this stuff at run-time. My suggestion would be to iterate over the iVars of the class, and set them to <code>nil</code>, rather than call objc_release directly (as it causes much weeping and gnashing of teeth if you're using ARC).</p>\n\n<p>Something like this:</p>\n\n<pre><code>for (ivar in class) {\n   if ivar_type == @encode(id) {\n       objc_setIvar(self, ivar, nil)\n   }\n}\n</code></pre>\n\n<p>Now, if you ever go in and add an intentionally __unsafe_unretained ivar to this class you'll possibly have more issues. But you really shouldn't be inheriting from classes like this, mmkay?</p>\n"}], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 0, "accepted_answer_id": 48833536, "answer_count": 1, "score": 3, "last_activity_date": 1518809012, "creation_date": 1518646235, "last_edit_date": 1518650306, "question_id": 48797078, "link": "https://stackoverflow.com/questions/48797078/leaking-c-shared-ptr-in-objective-c-block", "title": "Leaking C++ shared_ptr in Objective-C Block", "body": "<p><strong>Summary:</strong></p>\n\n<p>In the example application below, a <code>shared_ptr</code> is being captured in an Objective-C block. The Objective-C block is being assigned to an <code>ivar</code> of a dynamically created class using the Objective-C runtime API <code>object_setIvarWithStrongDefault</code>. When the Objective-C object is deallocated, the <code>shared_ptr</code> is leaking and the C++ object that it is retaining is not deleted. Why is that? </p>\n\n<p>When <code>object_setIvar</code> is used instead, then the leak is prevented but the <code>ivar</code> points to garbage once the block goes out of scope as <code>object_setIvar</code> assumes an assignment of <code>unsafe_unretained</code>.</p>\n\n<p>I <em>assume</em> this has to do with how Objective-C captures C++ objects, copies blocks and how <code>shared_ptr</code> handles being copied, but I was hoping someone could shed some light on this more than the documentation listed below.</p>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><p><a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Blocks/Articles/bxVariables.html\" rel=\"nofollow noreferrer\">Apple's Blocks and Variables Documentation</a> contains a brief section on C++ objects but it's not entirely clear to me how it affects shared pointers.</p></li>\n<li><p><a href=\"https://clang.llvm.org/docs/Block-ABI-Apple.html#c-support\" rel=\"nofollow noreferrer\">LLVM's Documentation on Blocks &amp; C++ Support</a> is a bit more detailed than Apple's...</p></li>\n<li><p><a href=\"https://opensource.apple.com/source/objc4/objc4-709/runtime/objc-class.mm.auto.html\" rel=\"nofollow noreferrer\">objc-class.mm</a> contains the implementation for <code>object_setIvarWithStrongDefault</code></p></li>\n</ul>\n\n<p><strong>Backstory:</strong></p>\n\n<p>This sample code is extracted from a much larger project and has been significantly reduced to the minimum required to show the issue. The project is an Objective-C macOS application. The application contains several monolithic C++ objects that are glorified key/value stores. Each object is an instance of the same class, but templated on the key type. I want to dynamically create an Objective-C class that contains typed property getters which are backed by the C++ class. </p>\n\n<p><em>(Yes, this could all be done manually by just writing lots-and-lots of getters myself, but I'd prefer not to. The C++ class has enough information to know the names of the properties and their types, thus I'd like to use some meta-programming techniques to \"solve\" this.)</em> </p>\n\n<p><strong>Notes:</strong></p>\n\n<p>In an ideal world, I'd just be able to define an <code>iVar</code> on an Objective-C class of the appropriate <code>shared_ptr</code> type but I can't figure out how to do that using the Objective-C runtime APIs. </p>\n\n<p>Given this:</p>\n\n<p><code>std::shared_ptr&lt;BackingStore&lt;T&gt;&gt; backingStore</code></p>\n\n<p>How do you use this:</p>\n\n<p><code>class_addIvar</code> and <code>object_setIvar</code></p>\n\n<p>Since I couldn't figure that out, I decided to just wrap the shared_ptr into an Objective-C block since blocks are first-class objects and can be passed around where an <code>id</code> is expected. </p>\n\n<p><strong>Sample Application:</strong></p>\n\n<p><em>(Copy/paste into something like <code>CodeRunner</code> to see output)</em></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;objc/runtime.h&gt;\n#import &lt;memory&gt;\n\ntypedef NSString* (^stringBlock)();\n\n/**\n  *  StoreBridge\n  *\n  *  Objective-C class that exposes Objective-C properties\n  *  which are \"backed\" by a C++ object (Store). The implementations\n  *  for each property on this class are dynamically added.\n  */\n@interface StoreBridge : NSObject\n\n@property(nonatomic, strong, readonly) NSString *storeName;\n\n@end\n\n@implementation StoreBridge\n\n@dynamic storeName;\n\n- (void)dealloc {\n  NSLog(@\"StoreBridge DEALLOC\");\n}\n\n@end\n\n/**\n  *  BackingStore\n  *\n  *  C++ class that for this example just exposes a single,\n  *  hard-coded getter function. In reality this class is\n  *  much larger.\n  */\nclass BackingStore {\n  public:\n    BackingStore()  { \n      NSLog(@\"BackingStore constructor.\"); \n    }\n\n    ~BackingStore() { \n      NSLog(@\"BackingStore destructor.\");  \n    }\n\n    NSString *name() const { \n      return @\"Amazon\"; \n    }\n\n    // Given a shared_ptr to a BackingStore instance, this method\n    // will dynamically create a new Objective-C class. The new\n    // class will contain Objective-C properties that are backed\n    // by the given BackingStore. \n    //\n    // Much of this code is hard-coded for this example. In reality,\n    // a much larger number of properties are dynamically created\n    // with different return types and a new class pair is\n    // only created if necessary.\n\n    static id makeBridge(std::shared_ptr&lt;BackingStore&gt; storePtr) {\n\n      // For this example, just create a new class pair each time.\n\n      NSString *klassName = NSUUID.UUID.UUIDString;\n      Class klass = objc_allocateClassPair(StoreBridge.class, klassName.UTF8String, 0);\n\n      // For this example, use hard-coded values and a single iVar definition. The\n      // iVar will store an Objective-C block as an 'id'.\n\n      size_t ivarSize = sizeof(id);\n      NSString *ivarName = @\"_storeNameIvar\";\n      NSString *encoding = [NSString stringWithFormat:@\"%s@\", @encode(id)];\n      SEL selector = @selector(storeName);\n\n      // Implementation for @property.storeName on StoreBridge. This \n      // implementation will read the block stored in the instances \n      // iVar named \"_storeNameIvar\" and call it. Fixed casting to \n      // type 'stringBlock' is used for this example only.\n\n      IMP implementation = imp_implementationWithBlock((id) ^id(id _self) { \n        Ivar iv = class_getInstanceVariable([_self class], ivarName.UTF8String);\n        id obj = object_getIvar(_self, iv);\n\n        return ((stringBlock)obj)();\n      });\n\n      // Add iVar definition and property implementation to newly created class pair.\n\n      class_addIvar(klass, ivarName.UTF8String, ivarSize, rint(log2(ivarSize)), @encode(id));\n      class_addMethod(klass, selector, implementation, encoding.UTF8String);\n\n      objc_registerClassPair(klass);\n\n      // Create instance of the newly defined class.\n\n      id bridge = [[klass alloc] init];\n\n      // Capture storePtr in an Objective-C block. This is the block that\n      // will be stored in the instance's iVar. Each bridge instance has\n      // its own backingStore, therefore the storePtr must be set on the\n      // instance's iVar and not captured in the implementation above.\n\n      id block = ^NSString* { return storePtr-&gt;name(); };\n      Ivar iva = class_getInstanceVariable(klass, ivarName.UTF8String);\n\n      // Assign block to previously declared iVar. When the strongDefault\n      // method is used, the shared_ptr will leak and the BackingStore\n      // will never get deallocated. When object_setIvar() is used,\n      // the BackingStore will get deallocated but crashes at\n      // runtime as 'block' is not retained anywhere. \n      //\n      // The documentation for object_setIvar() says that if 'strong'\n      // or 'weak' is not used, then 'unretained' is used. It might\n      // \"work\" in this example, but in a larger program it crashes\n      // as 'block' goes out of scope.\n\n      #define USE_STRONG_SETTER 1\n\n      #if USE_STRONG_SETTER\n        object_setIvarWithStrongDefault(bridge, iva, block);\n      #else \n        object_setIvar(bridge, iva, block);\n      #endif\n\n      return bridge;\n    }\n};\n\nint main(int argc, char *argv[]) {\n  @autoreleasepool {\n    std::shared_ptr&lt;BackingStore&gt; storePtr = std::make_shared&lt;BackingStore&gt;();\n    StoreBridge *bridge = BackingStore::makeBridge(storePtr);\n\n    NSLog(@\"bridge.storeName: %@\", bridge.storeName);\n\n    // When USE_STRONG_SETTER is 1, output is:\n    //\n    //   &gt; BackingStore constructor.\n    //   &gt; bridge.storeName: Amazon\n    //   &gt; StoreBridge DEALLOC\n\n    // When USE_STRONG_SETTER is 0, output is:\n    //\n    //  &gt; BackingStore constructor.\n    //  &gt; bridge.storeName: Amazon\n    //  &gt; BackingStore destructor.\n    //  &gt; StoreBridge DEALLOC\n  }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "zip", "nsdata"], "comments": [{"owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "edited": false, "score": 0, "creation_date": 1518644469, "post_id": 48796527, "comment_id": 84595841, "body": "You can refer to <a href=\"https://stackoverflow.com/questions/679104/the-easiest-way-to-write-nsdata-to-a-file\" title=\"the easiest way to write nsdata to a file\">stackoverflow.com/questions/679104/&hellip;</a>"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518646109, "post_id": 48796527, "comment_id": 84596555, "body": "FYI - there are zip libraries that will work with data without the need for a file on the filesystem."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518662448, "post_id": 48796527, "comment_id": 84601282, "body": "Incidentally, you say you have this in JSON. JSON cannot hold binary objects. Or did you also base-64 encode it in order to represent it in JSON? If so, you might consider another approach because it&#39;s a shame to zip something to make it smaller, only to turn around and do a base-64 representation, which then makes it 33% bigger."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518662760, "post_id": 48796527, "comment_id": 84601349, "body": "Also, if it&#39;s so big as to warrant the computational overhead of zipping, are you sure you are OK with the peak memory usage to hold this zip file in RAM? If it&#39;s so big as to justify zipping, then I would have thought that you do <i>not</i> want to try to hold it in a <code>NSData</code>. You can, but RAM is one of the most limited resources on a device, and there are significant advantages to downloading this directly to disk (e.g. a download <code>URLSession</code> with a very modest &quot;high-water mark&quot;) and then use a &quot;disk&quot;-based unzipping process."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518662916, "post_id": 48796527, "comment_id": 84601385, "body": "Finally, are you looking for Swift or Objective-C answers? I&#39;m assuming you&#39;re looking for Objective-C answers, given that you referenced <code>NSData</code>, rather than the Swift equivalent, <code>Data</code>, but I thought I&#39;d ask."}, {"owner": {"reputation": 1886, "user_id": 1593689, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5ab21264ecd61f417e7545e30f7559a9?s=128&d=identicon&r=PG&f=1", "display_name": "tentmaking", "link": "https://stackoverflow.com/users/1593689/tentmaking"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518703950, "post_id": 48796527, "comment_id": 84621713, "body": "@rmaddy Could you reference some of them? I have not been able to find any."}, {"owner": {"reputation": 1886, "user_id": 1593689, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5ab21264ecd61f417e7545e30f7559a9?s=128&d=identicon&r=PG&f=1", "display_name": "tentmaking", "link": "https://stackoverflow.com/users/1593689/tentmaking"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518704141, "post_id": 48796527, "comment_id": 84621842, "body": "@Rob All good comments and questions. Thanks for your thoroughness. Rest assured we have done our homework and found that zipping is the right choice. Our impact on memory usage will be quite minimal. I am looking for Objective-C answers."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518721215, "post_id": 48796527, "comment_id": 84632592, "body": "\u201chow to convert the NSData to a file that I can unzip\u201d ... OK, then <a href=\"https://stackoverflow.com/questions/679104/the-easiest-way-to-write-nsdata-to-a-file\">the answer that jokeman shared</a> shows you how to save the <code>NSData</code> to a file. Or <a href=\"https://github.com/samsoffes/ssziparchive\" rel=\"nofollow noreferrer\">SSZipArchive</a> is based upon ZipArchive and appears to include a method to save <code>NSData</code> as a file."}], "owner": {"reputation": 1886, "user_id": 1593689, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5ab21264ecd61f417e7545e30f7559a9?s=128&d=identicon&r=PG&f=1", "display_name": "tentmaking", "link": "https://stackoverflow.com/users/1593689/tentmaking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 596, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518704150, "creation_date": 1518643682, "last_edit_date": 1518704150, "question_id": 48796527, "link": "https://stackoverflow.com/questions/48796527/convert-nsdata-to-zip-file-then-unzip-zip-file", "title": "Convert NSData to Zip File then Unzip Zip File", "body": "<p>I have a JSON object that contains some <code>NSData</code>. The <code>NSData</code> is a zip file that I have to unzip and store and utilize the files locally in my app.</p>\n\n<p>I think I can use something like <a href=\"https://github.com/ZipArchive/ZipArchive\" rel=\"nofollow noreferrer\">ZipArchive</a> for the unzipping, but I'm not sure how to convert the <code>NSData</code> to a file that I can unzip.</p>\n\n<p>Does anyone know how to handle this sort of issue?</p>\n"}, {"tags": ["ios", "objective-c", "nsuserdefaults"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518646231, "post_id": 48796283, "comment_id": 84596596, "body": "1. You do not need <code>synchronize</code>. 2. Why do you use <code>NSInteger</code> for a <code>float</code> value?"}], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1518645589, "last_edit_date": 1518645589, "creation_date": 1518645220, "answer_id": 48796872, "question_id": 48796283, "link": "https://stackoverflow.com/questions/48796283/how-to-send-a-float-value-in-today-etension/48796872#48796872", "title": "How to send a Float value in Today etension?", "body": "<p>Declare defaults</p>\n\n<pre><code> NSUserDefaults *defaults= [[NSUserDefaults alloc] initWithSuiteName:@\"group.mywidge\"];\n</code></pre>\n\n<p>Set</p>\n\n<pre><code>[defaults setFloat:50.5 forKey:\"thisKey\"];\n</code></pre>\n\n<p>Read</p>\n\n<pre><code>float myfloat = [defaults floatForKey:\"thisKey\"];\n</code></pre>\n\n<p>Also you should note that there should be app group named <code>group.mywidge</code> in capabilities of the main app and the extension </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7275929"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 48796872, "answer_count": 1, "score": 0, "last_activity_date": 1518646156, "creation_date": 1518642657, "last_edit_date": 1518646156, "question_id": 48796283, "link": "https://stackoverflow.com/questions/48796283/how-to-send-a-float-value-in-today-etension", "title": "How to send a Float value in Today etension?", "body": "<p>I would like to know how can I send a Float value in a UIlabel in Today extension ?\nI try this code:</p>\n\n<pre><code> NSUserDefaults *sharedDefaults = [[NSUserDefaults standardUserDefaults] initWithSuiteName:@\"group.mywidget\"];\n myfloat = [[sharedDefaults objectForKey:@\"float_widget\"]floatValue];\n [sharedDefaults synchronize];\n</code></pre>\n\n<p>And to receive the value i use this code:</p>\n\n<pre><code> NSUserDefaults *defaults = [[NSUserDefaults alloc] initWithSuiteName:@\"group.mywidget\"];\n NSInteger number = [defaults floatForKey:@\"float_widget\"];\n self.numberLabel.text = [NSString stringWithFormat:@\"%f\", (float)number];\n</code></pre>\n\n<p>Can you help me please ? thanks</p>\n"}, {"tags": ["objective-c", "non-nullable"], "answers": [{"comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 1, "creation_date": 1518671305, "post_id": 48795540, "comment_id": 84603244, "body": "Even this is \u2013 of course \u2013 a great answer, I want to add, that <code>nil</code> is not <code>NULL</code>. <code>nil</code> is always an reference to an (no) <i>object</i>, while <code>NSError**</code> does <i>not</i> point to an (no) <i>object</i>."}, {"owner": {"reputation": 16043, "user_id": 127853, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ppot0.png?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/127853/kyle"}, "edited": false, "score": 0, "creation_date": 1518698189, "post_id": 48795540, "comment_id": 84617632, "body": "<code>I would suggest instead, however, that you simply stop preferring that.</code>. Thanks, honestly I needed that beat into my head and your comment did just that. I also appreacheate that instead of just saying that you took the time to answer the underlying question (although I will follow the proper solution)."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 4, "last_activity_date": 1518640845, "last_edit_date": 1518640845, "creation_date": 1518639608, "answer_id": 48795540, "question_id": 48795426, "link": "https://stackoverflow.com/questions/48795426/nserror-potential-null-dereference/48795540#48795540", "title": "NSError** &#39;Potential null dereference.....&#39;", "body": "<blockquote>\n  <p>But I would prefer to add a nonnull attribute to the error parameter to discourage the use of passing a null.  </p>\n</blockquote>\n\n<p>The syntax you're looking for is shown in various Stack Overflow answers, such as <a href=\"https://stackoverflow.com/questions/37618830/objective-c-nullability-for-output-parameters\">Objective-C nullability for output parameters</a>. So you could declare, for example: </p>\n\n<pre><code>(NSError * _Nullable * _Nonnull)\n</code></pre>\n\n<p>...and the desired warning would appear:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AiYFk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiYFk.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would suggest instead, however, that you simply stop preferring that. The analyzer is quite right about the pattern; you should listen to what it's telling you.</p>\n\n<p>The standard full pattern for calling a method that returns NSError by indirection is, for example:</p>\n\n<pre><code>NSString* path = // ... whatever;\nNSStringEncoding enc = // ... whatever;\nNSError* err = nil;\nNSString* s =\n    [NSString stringWithContentsOfFile:path encoding:enc error:&amp;err];\nif (nil == s) // oops! something went wrong...\n</code></pre>\n\n<p>But let's say I'm absolutely certain that this is going to work. Then it is legal to say:</p>\n\n<pre><code>NSString* path = // ... whatever;\nNSStringEncoding enc = // ... whatever;\nNSString* s =\n    [NSString stringWithContentsOfFile:path encoding:enc error:nil];\n</code></pre>\n\n<p>You should not rule this out; it's reasonable and normal.</p>\n"}], "owner": {"reputation": 16043, "user_id": 127853, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Ppot0.png?s=128&g=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/127853/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 48795540, "answer_count": 1, "score": 2, "last_activity_date": 1518640845, "creation_date": 1518639086, "last_edit_date": 1518639707, "question_id": 48795426, "link": "https://stackoverflow.com/questions/48795426/nserror-potential-null-dereference", "title": "NSError** &#39;Potential null dereference.....&#39;", "body": "<p>Giving the following example:</p>\n\n<pre><code>- (BOOL) doSomething: (NSError**) pError\n{\n    *pError = [NSError ....];\n}\n</code></pre>\n\n<p>Analyzer will return the following error:</p>\n\n<blockquote>\n  <p>Potential null dereference.  According to coding standards in 'Creating and Returning NSError Objects' the parameter may be null.</p>\n</blockquote>\n\n<p>To which the suggestion would be to change this to:</p>\n\n<pre><code>- (BOOL) doSomething: (NSError**) pError\n{\n    if(pError)\n    {\n        *pError = [NSError ....];\n    }\n}\n</code></pre>\n\n<p>But I would prefer to add a nonnull attribute to the error parameter to discourage the use of passing a null. I cannot figure out how to get the arguments to this correct. Is it possible for a double pointer to have a nonnull attribute?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "facebook"], "comments": [{"owner": {"reputation": 815, "user_id": 2021396, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MtFma.png?s=128&g=1", "display_name": "Nisar Ahmad", "link": "https://stackoverflow.com/users/2021396/nisar-ahmad"}, "edited": false, "score": 0, "creation_date": 1518687685, "post_id": 48795295, "comment_id": 84610659, "body": "some of the Facebook attributes are private which so you would take permission to access these attributes. Birthday is one of them."}, {"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "reply_to_user": {"reputation": 815, "user_id": 2021396, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MtFma.png?s=128&g=1", "display_name": "Nisar Ahmad", "link": "https://stackoverflow.com/users/2021396/nisar-ahmad"}, "edited": false, "score": 0, "creation_date": 1518727406, "post_id": 48795295, "comment_id": 84635707, "body": "So I need have pass argument for permission to access user details."}], "answers": [{"comments": [{"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518639691, "post_id": 48795502, "comment_id": 84593431, "body": "email,gender,id,name &amp; picture worked!  birthday &amp; location Not"}, {"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518726054, "post_id": 48795502, "comment_id": 84635032, "body": "after passing Token value unable to get birthday and mobile number."}, {"owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "reply_to_user": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518728663, "post_id": 48795502, "comment_id": 84636312, "body": "@kiran When you login in your app, you need to request for the permissions. Did you try with the Facebook Graph API Explorer? Can you get data you want from it?"}, {"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518729307, "post_id": 48795502, "comment_id": 84636633, "body": "I used this refered url:  <a href=\"https://developers.facebook.com/docs/graph-api/reference/user/permissions/\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/graph-api/reference/user/&hellip;</a> to set permission for the application."}, {"owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "reply_to_user": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518731205, "post_id": 48795502, "comment_id": 84637558, "body": "@kiran when you login(request for a user token)in your app, you need to specify the permission you want."}, {"owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "reply_to_user": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518731379, "post_id": 48795502, "comment_id": 84637631, "body": "@kiran answer updated, sample code added for permission"}, {"owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "reply_to_user": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518731717, "post_id": 48795502, "comment_id": 84637803, "body": "@kiran With the endpoint you referred in the url, you can&#39;t update your permission. You can only read what permission you have."}, {"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518737415, "post_id": 48795502, "comment_id": 84639873, "body": "Finaly for  FBSDKLoginButton    _signInFacebook.delegate = self;     _signInFacebook.readPermissions =  @[@&quot;email&quot;,@&quot;birthday&quot;]; i got birthday .  but mobile not working."}, {"owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518738396, "post_id": 48795502, "comment_id": 84640140, "body": "I updated my question!  only pending with mobile number do not know what is the perfect parameter for it."}, {"owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "reply_to_user": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "edited": false, "score": 0, "creation_date": 1518744437, "post_id": 48795502, "comment_id": 84641626, "body": "@kiran Please refer to <a href=\"https://developers.facebook.com/docs/graph-api/reference/user/\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/graph-api/reference/user</a> I don&#39;t think you can get that, at least not from this endpoint."}], "tags": [], "owner": {"reputation": 1187, "user_id": 5220959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc3bea221c8d53ac6b8c51ea7fe430dc?s=128&d=identicon&r=PG&f=1", "display_name": "jokeman", "link": "https://stackoverflow.com/users/5220959/jokeman"}, "is_accepted": false, "score": 1, "last_activity_date": 1518731333, "last_edit_date": 1518731333, "creation_date": 1518639458, "answer_id": 48795502, "question_id": 48795295, "link": "https://stackoverflow.com/questions/48795295/how-to-fetch-complete-user-details-from-facebook-api/48795502#48795502", "title": "How to fetch complete user details from Facebook API", "body": "<p>You should use \"picture\" instead of \"photo\" to get user profile photo. \nAnd you can get userID form the accessToken like:</p>\n\n<pre><code>FBSDKAccessToken* token = [FBSDKAccessToken currentAccessToken];\nNSString *ID = token.userID\n</code></pre>\n\n<p>When log in:<br>\nTo get birthday, you need permission \"user_birthday\"<br>\nTo get location, you need permission \"user_location\"</p>\n\n<p>You can test everything in Facebook Graph API Explorer before implementing in your app.</p>\n\n<p>To request for permission when logging in, sample code:</p>\n\n<pre><code>FBSDKLoginManager* login = [[FBSDKLoginManager alloc] init];\n[login logInWithReadPermissions:@[@\"public_profile\",@\"email\",@\"user_birthday\"] fromViewController:self handler:^(FBSDKLoginManagerLoginResult *result, NSError *error) {\n    //your code to handle login result\n}];\n</code></pre>\n"}], "owner": {"reputation": 3697, "user_id": 406457, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a873ca9437c1a4514ad30d8f18e95c8?s=128&d=identicon&r=PG", "display_name": "kiran", "link": "https://stackoverflow.com/users/406457/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518738450, "creation_date": 1518638523, "last_edit_date": 1518738450, "question_id": 48795295, "link": "https://stackoverflow.com/questions/48795295/how-to-fetch-complete-user-details-from-facebook-api", "title": "How to fetch complete user details from Facebook API", "body": "<p>How to fetch complete userDetails from the Facebook API</p>\n\n<pre><code>    - (void)viewDidLoad {\n        [super viewDidLoad];\n\n        // Uncomment to automatically sign in the user.\n        _signInFacebook.delegate = self;\n        _signInFacebook.readPermissions =  @[@\"email\",@\"birthday\"];\n\n    }\n\n- (void)  loginButton:(FBSDKLoginButton *)loginButton\ndidCompleteWithResult:(FBSDKLoginManagerLoginResult *)result\n                error:(NSError *)error{\n    NSLog(@\"LOGGED IN TO FACEBOOK\");\n    [self fetchUserInfo];\n}\n\n\n-(void)fetchUserInfo {\n\n    FBSDKAccessToken* token = [FBSDKAccessToken currentAccessToken];\n    [[[FBSDKGraphRequest alloc] initWithGraphPath:[NSString stringWithFormat:@\"/%@\",token.userID] parameters:@{ @\"fields\":@\"id,name,first_name,middle_name,last_name,email,gender,location,picture.type(large),age_range,verified,birthday\"}  HTTPMethod:@\"GET\"]\n     startWithCompletionHandler:^(FBSDKGraphRequestConnection *connection, id result, NSError *error) {\n         if (!error) {\n             NSLog(@\"fetched user:%@\", result);\n\n             if ([result isKindOfClass:[NSDictionary class]])\n             {\n                 NSLog(@\"%@\",result);\n                 [USERDEFAULTS setObject:result forKey:PROFILE_KEY];\n             }\n\n         }\n         else\n         {\n             NSLog(@\"Error fetchUserInfo %@\",error);\n         }\n     }];\n\n}\n</code></pre>\n\n<p>Expecting mobile number to fetch from facebook API</p>\n"}, {"tags": ["objective-c", "h.264", "hevc"], "comments": [{"owner": {"reputation": 27067, "user_id": 210785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a561cd4d29738e18d9e565a6265d86ac?s=128&d=identicon&r=PG", "display_name": "szatmary", "link": "https://stackoverflow.com/users/210785/szatmary"}, "edited": false, "score": 0, "creation_date": 1518654888, "post_id": 48795162, "comment_id": 84599491, "body": "Just a guess, but is the captured file encoded with hevc?"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1518669656, "post_id": 48795162, "comment_id": 84602817, "body": "A poor presentation of code..."}, {"owner": {"reputation": 1, "user_id": 4134325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIH5S.jpg?s=128&g=1", "display_name": "Mithun Bera", "link": "https://stackoverflow.com/users/4134325/mithun-bera"}, "edited": false, "score": 0, "creation_date": 1518671684, "post_id": 48795162, "comment_id": 84603348, "body": "Sorry EI Tomato, I am new here, so don&#39;t know the right pattern. Sorry for that."}, {"owner": {"reputation": 1, "user_id": 4134325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIH5S.jpg?s=128&g=1", "display_name": "Mithun Bera", "link": "https://stackoverflow.com/users/4134325/mithun-bera"}, "reply_to_user": {"reputation": 27067, "user_id": 210785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a561cd4d29738e18d9e565a6265d86ac?s=128&d=identicon&r=PG", "display_name": "szatmary", "link": "https://stackoverflow.com/users/210785/szatmary"}, "edited": false, "score": 0, "creation_date": 1518671725, "post_id": 48795162, "comment_id": 84603363, "body": "@szatmary, when i am checking file in my mac, its showing h264"}, {"owner": {"reputation": 1, "user_id": 4134325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIH5S.jpg?s=128&g=1", "display_name": "Mithun Bera", "link": "https://stackoverflow.com/users/4134325/mithun-bera"}, "edited": false, "score": 0, "creation_date": 1518692097, "post_id": 48795162, "comment_id": 84613686, "body": "Thank you everyone for spending your time. I have fixed it by changing preset AVAssetExportPreset1920x1080 instead of AVAssetExportPresetPassthrough. Also added exportSession.shouldOptimizeForNetworkUse = true;. Now its working. If you have better solution, please let me know. Thank you again."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4134325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIH5S.jpg?s=128&g=1", "display_name": "Mithun Bera", "link": "https://stackoverflow.com/users/4134325/mithun-bera"}, "is_accepted": false, "score": 0, "last_activity_date": 1518756582, "creation_date": 1518756582, "answer_id": 48820234, "question_id": 48795162, "link": "https://stackoverflow.com/questions/48795162/mp4-video-recorded-from-iphone-8-not-playing-ipad-mini-2-website/48820234#48820234", "title": "mp4 video recorded from iPhone 8 not playing iPad mini 2 &amp; website", "body": "<p>This change solved the problem:</p>\n\n<pre><code>- (NSString *)convertMOVToMp4:(NSURL *)url : (NSString *)filename\n{\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsPath = [paths objectAtIndex:0]; //Get the docs directory\n\n    NSString *dataPath = [documentsPath stringByAppendingPathComponent:@\"/doctorphoto\"];\n    NSError *error = nil;\n    if (![[NSFileManager defaultManager] fileExistsAtPath:dataPath])\n        [[NSFileManager defaultManager] createDirectoryAtPath:dataPath withIntermediateDirectories:NO attributes:nil error:&amp;error];\n\n    NSString *videoPath1 = [dataPath stringByAppendingPathComponent:@\"xyz2.mov\"]; //Add the file name\n    NSString *movfilepath = videoPath1;\n    NSURL *videoURL = url;\n    NSData *videoData = [NSData dataWithContentsOfURL:videoURL];\n    [videoData writeToFile:videoPath1 atomically:NO];\n\n    AVURLAsset *avAsset = [AVURLAsset URLAssetWithURL:[NSURL fileURLWithPath:movfilepath] options:nil];\n    NSArray *compatiblePresets = [AVAssetExportSession exportPresetsCompatibleWithAsset:avAsset];\n\n    if ([compatiblePresets containsObject:AVAssetExportPresetLowQuality])\n    {\n        NSString *preset = AVAssetExportPreset1920x1080;\n\n        AVAssetExportSession *exportSession = [[AVAssetExportSession alloc]initWithAsset:avAsset presetName:preset];\n        videoPath1 = [self getLocalVideoPath:filename];\n//        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n//        videoPath1 = [NSString stringWithFormat:@\"%@/doctorphoto/%@\", [paths objectAtIndex:0], filename];\n        exportSession.outputURL = [NSURL fileURLWithPath:videoPath1];\n        NSLog(@\"videopath of your mp4 file = %@\",videoPath1);  // PATH OF YOUR .mp4 FILE\n        exportSession.outputFileType = AVFileTypeMPEG4;\n        exportSession.shouldOptimizeForNetworkUse = true;\n        [exportSession exportAsynchronouslyWithCompletionHandler:^{\n            switch ([exportSession status]) {\n\n                case AVAssetExportSessionStatusFailed:\n                    NSLog(@\"Export failed: %@\", [[exportSession error] localizedDescription]);\n                    break;\n\n                case AVAssetExportSessionStatusCancelled:\n                    NSLog(@\"Export canceled\");\n                    break;\n                default:\n                    NSLog(@\"Export success.\");\n                    [self.delegate onCompleteConvert: videoPath1 : anyobj];\n                    break;\n            }\n//            UISaveVideoAtPathToSavedPhotosAlbum(videoPath1, self, nil, nil);\n            NSFileManager *fileManager = [NSFileManager defaultManager];\n            [fileManager removeItemAtPath:movfilepath error:NULL];\n        }];\n    }\n\n    return videoPath1;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4134325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sIH5S.jpg?s=128&g=1", "display_name": "Mithun Bera", "link": "https://stackoverflow.com/users/4134325/mithun-bera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518756582, "creation_date": 1518638046, "last_edit_date": 1518673148, "question_id": 48795162, "link": "https://stackoverflow.com/questions/48795162/mp4-video-recorded-from-iphone-8-not-playing-ipad-mini-2-website", "title": "mp4 video recorded from iPhone 8 not playing iPad mini 2 &amp; website", "body": "<p>I am capturing video using UIImagePickerController. Exporting video into mp4. Code is here:</p>\n\n<pre><code>- (NSString *)convertMOVToMp4:(NSURL *)url : (NSString *)filename\n   {\n       NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n      NSString *documentsPath = [paths objectAtIndex:0]; //Get the docs directory\n\n      NSString *dataPath = [documentsPath stringByAppendingPathComponent:@\"/doctorphoto\"];\n      NSError *error = nil;\n      if (![[NSFileManager defaultManager] fileExistsAtPath:dataPath])\n        [[NSFileManager defaultManager] createDirectoryAtPath:dataPath withIntermediateDirectories:NO attributes:nil error:&amp;error];\n\n      NSString *videoPath1 = [dataPath stringByAppendingPathComponent:@\"xyz2.mov\"]; //Add the file name\n      NSString *movfilepath = videoPath1;\n      NSURL *videoURL = url;\n      NSData *videoData = [NSData dataWithContentsOfURL:videoURL];\n      [videoData writeToFile:videoPath1 atomically:NO];\n\n      AVURLAsset *avAsset = [AVURLAsset URLAssetWithURL:[NSURL fileURLWithPath:movfilepath] options:nil];\n      NSArray *compatiblePresets = [AVAssetExportSession exportPresetsCompatibleWithAsset:avAsset];\n\n      if ([compatiblePresets containsObject:AVAssetExportPresetLowQuality])\n       {\n         AVAssetExportSession *exportSession = [[AVAssetExportSession alloc]initWithAsset:avAsset presetName:AVAssetExportPresetPassthrough];\n         videoPath1 = [self getLocalVideoPath:filename];\n         exportSession.outputURL = [NSURL fileURLWithPath:videoPath1];\n         NSLog(@\"videopath of your mp4 file = %@\",videoPath1);  // PATH OF YOUR .mp4 FILE\n         exportSession.outputFileType = AVFileTypeMPEG4;\n\n        [exportSession exportAsynchronouslyWithCompletionHandler:^{\n            switch ([exportSession status]) {\n\n                case AVAssetExportSessionStatusFailed:\n                    NSLog(@\"Export failed: %@\", [[exportSession error] localizedDescription]);\n                    break;\n\n                case AVAssetExportSessionStatusCancelled:\n                    NSLog(@\"Export canceled\");\n                    break;\n                default:\n                    NSLog(@\"Export success.\");\n                    [self.delegate onCompleteConvert: videoPath1 : anyobj];\n                    break;\n                }\n                NSFileManager *fileManager = [NSFileManager defaultManager];\n                [fileManager removeItemAtPath:movfilepath error:NULL];\n            }];\n        }\n\n        return videoPath1;\n    }\n</code></pre>\n\n<p>Its converting into mp4. Then uploading into AWS server. This link is streaming into iPhone 8, but not playing in iPhone 5S, iPad mini2. In website, audio is playing, but showing black screen.If I follow the same procedure from iPhone 5S or iPad mini, its working fine. Can anybody help me. Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "theos"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1518637247, "post_id": 48794717, "comment_id": 84592222, "body": "You might want to look at <a href=\"https://stackoverflow.com/questions/7223555/objective-c-track-all-method-calls\" title=\"objective c track all method calls\">stackoverflow.com/questions/7223555/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/2783223/call-a-macro-every-time-any-method-is-called-objective-c\" title=\"call a macro every time any method is called objective c\">stackoverflow.com/questions/2783223/&hellip;</a>"}, {"owner": {"reputation": 986, "user_id": 6930377, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/72345ae8dcbde9beac98f975d909e84a?s=128&d=identicon&r=PG&f=1", "display_name": "Biplov", "link": "https://stackoverflow.com/users/6930377/biplov"}, "reply_to_user": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1518637490, "post_id": 48794717, "comment_id": 84592350, "body": "Whatever I did doesn&#39;t work, can you please tell me why my application is crashing? I would like to learn why first. @JoshCaswell"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1518638027, "post_id": 48794717, "comment_id": 84592667, "body": "I know nothing about theos or &quot;hooking&quot;."}], "owner": {"reputation": 986, "user_id": 6930377, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/72345ae8dcbde9beac98f975d909e84a?s=128&d=identicon&r=PG&f=1", "display_name": "Biplov", "link": "https://stackoverflow.com/users/6930377/biplov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518642735, "creation_date": 1518636195, "last_edit_date": 1518642735, "question_id": 48794717, "link": "https://stackoverflow.com/questions/48794717/ios-log-a-trace-of-every-method-call-application-crashes", "title": "ios log a trace of every method call application crashes", "body": "<p>Tweak gets installed properly; I'm trying to log a trace of every method call for the specified hook.</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;objc/runtime.h&gt;\n\n@interface logTool: NSObject\n+ (void)logDataFromNSString: (NSString *)logContent;\n@end\n\n@implementation logTool\n+ (void)logDataFromNSString: (NSString *)logContent\n{\n    NSFileHandle *file;\n    NSData *data;\n\n    file = [NSFileHandle fileHandleForUpdatingAtPath: @\"/tmp/filelog.txt\"];\n\n    [file seekToEndOfFile];\n\n    logContent = [logContent stringByAppendingString:@\"\\n------------\\n\"];\n    data = [logContent dataUsingEncoding:NSUTF8StringEncoding];\n\n    [file writeData: data];\n\n    [file closeFile];\n}\n@end\n\n\n%hook IGAPIRequestBuilder\n+ (id)builderWithHTTPMethod:(unsigned long long)arg1 format:(id)arg2 \n    {\n        [logTool logDataFromNSString:@\"&gt;&gt;&gt;&gt; BEGIN - [IGAPIRequestBuilder builderWithHTTPMethod]\"];\n        id ret = %orig;[logTool logDataFromNSString:[NSString stringWithFormat:@\"ret value: %@\", ret]];\n        [logTool logDataFromNSString:@\"&lt;&lt;&lt;&lt; END - [IGAPIRequestBuilder builderWithHTTPMethod]\"];\n        return ret; \n    }\n\n%end\n</code></pre>\n\n<p>^ That has been my attempt so far; but my application seems to be crashing the momment I open the app. When I get rid of everything inside %hook IGAPIRequestBuilder it seems to be working properly again.</p>\n\n<p>I'm currently on ios 10.2. The code compiles fine. I can't think of ways to debug the issue so it directs us to something more specific, apologies about that if it's too board.</p>\n\n<p><a href=\"https://pastebin.com/7vYQ40e0\" rel=\"nofollow noreferrer\">https://pastebin.com/7vYQ40e0</a> -- This is the crash report</p>\n"}, {"tags": ["ios", "objective-c", "bluetooth"], "comments": [{"owner": {"reputation": 2049, "user_id": 2799722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QIkJC.jpg?s=128&g=1", "display_name": "mkll", "link": "https://stackoverflow.com/users/2799722/mkll"}, "edited": false, "score": 0, "creation_date": 1522533079, "post_id": 48793643, "comment_id": 86193080, "body": "Facing the same problem time to time..."}, {"owner": {"reputation": 90, "user_id": 5393433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50cd353c34de160fe7c3a0ba49657ca7?s=128&d=identicon&r=PG&f=1", "display_name": "Prakash", "link": "https://stackoverflow.com/users/5393433/prakash"}, "edited": false, "score": 0, "creation_date": 1523540640, "post_id": 48793643, "comment_id": 86610958, "body": "Any Fixes for this?"}], "owner": {"reputation": 753, "user_id": 4432683, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-8wrU6FIeYkM/AAAAAAAAAAI/AAAAAAAAAR4/e3WU8sZ6rb8/photo.jpg?sz=128", "display_name": "sriman reddy", "link": "https://stackoverflow.com/users/4432683/sriman-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1518631725, "creation_date": 1518631725, "question_id": 48793643, "link": "https://stackoverflow.com/questions/48793643/cbcentralmanager-state-is-off-even-though-the-bluetooth-is-on", "title": "CBCentralManager state is Off, even-though the bluetooth is ON", "body": "<p>I am trying to check whether the bluetooth is turned on/off with the following code. But it returns CBManagerStatePoweredOff even-though the bluetooth is already on. I checked it in iPhone6s and iOS version 11.2.5(15D60). If i restart bluetooth manually on the settings, It returns CBManagerStatePoweredOn. </p>\n\n<pre><code>- (void)detectBluetooth\n{\n  if(!bluetoothManager)\n  {\n    // Put on main queue so we can call UIAlertView from delegate callbacks.\n    //    NSDictionary *options = @{CBCentralManagerOptionShowPowerAlertKey: @NO};\n    //    bluetoothManager = [[CBCentralManager alloc] initWithDelegate:self queue:nil options:options];\n    bluetoothManager = [[CBCentralManager alloc] initWithDelegate:self queue:dispatch_get_main_queue()];\n    [bluetoothManager scanForPeripheralsWithServices:nil options:nil];\n  }\n\n  [self centralManagerDidUpdateState:bluetoothManager]; // Show initial state\n}\n\n- (void)centralManagerDidUpdateState:(CBCentralManager *)central\n{\n  NSString *stateString = nil;\n  switch(central.state)\n  {\n    case CBManagerStateResetting:\n      stateString = @\"The connection with the system service was momentarily lost, update imminent.\";\n      break;\n    case CBManagerStateUnsupported:\n      stateString = @\"The platform doesn't support Bluetooth Low Energy.\";\n      break;\n    case CBManagerStateUnauthorized:\n      stateString = @\"The app is not authorized to use Bluetooth Low Energy.\";\n      break;\n    case CBManagerStatePoweredOff:\n      stateString = @\"Bluetooth is currently powered off.\";\n      break;\n    case CBManagerStatePoweredOn:\n      [self goToSearchDevices];\n      break;\n    default: stateString = @\"State unknown, update imminent.\"; break;\n  }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 6062, "user_id": 2788608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RlZuI.png?s=128&g=1", "display_name": "Stonz2", "link": "https://stackoverflow.com/users/2788608/stonz2"}, "edited": false, "score": 0, "creation_date": 1518628289, "post_id": 48792707, "comment_id": 84587624, "body": "feet / 5280 = miles"}, {"owner": {"reputation": 2429, "user_id": 1460929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/720a677756da76903bec783c6534a0b2?s=128&d=identicon&r=PG", "display_name": "ctietze", "link": "https://stackoverflow.com/users/1460929/ctietze"}, "edited": false, "score": 0, "creation_date": 1518628729, "post_id": 48792707, "comment_id": 84587856, "body": "Please add some code to see what your setup looks like so we can rule out mistakes on the call site"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518628738, "post_id": 48792707, "comment_id": 84587861, "body": "Update your question with your actual code."}], "answers": [{"comments": [{"owner": {"reputation": 2429, "user_id": 1460929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/720a677756da76903bec783c6534a0b2?s=128&d=identicon&r=PG", "display_name": "ctietze", "link": "https://stackoverflow.com/users/1460929/ctietze"}, "edited": false, "score": 0, "creation_date": 1518628879, "post_id": 48792834, "comment_id": 84587938, "body": "While this may turn out to produce the correct numerical result in this case, this approach loses all unit information. The OP didn&#39;t say he is providing data in feet himself, only that the result is in feet."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1518643332, "post_id": 48792834, "comment_id": 84595353, "body": "The question is tagged Objective-C, not Swift. While not my down vote, keep in mind that if a question is vague, don&#39;t answer it. If you want clarification, post a comment below the question and wait for the OP to clarify."}, {"owner": {"reputation": 2529, "user_id": 4305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19HCP.jpg?s=128&g=1", "display_name": "valosip", "link": "https://stackoverflow.com/users/4305676/valosip"}, "edited": false, "score": 0, "creation_date": 1518643739, "post_id": 48792834, "comment_id": 84595529, "body": "I only saw the ios tag.  I might have overlooked it though"}, {"owner": {"reputation": 13, "user_id": 9328134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc919aa24d981c50454396cbc220f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/9328134/alex"}, "edited": false, "score": 0, "creation_date": 1518682611, "post_id": 48792834, "comment_id": 84607837, "body": "I know I didn&#39;t make myself clear enough. What I meant was that parting from the beginning I want to start in miles. Not with a distance of 2000, but 0, 5 or 10. And get the result in miles."}], "tags": [], "owner": {"reputation": 2529, "user_id": 4305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19HCP.jpg?s=128&g=1", "display_name": "valosip", "link": "https://stackoverflow.com/users/4305676/valosip"}, "is_accepted": false, "score": -1, "last_activity_date": 1518630327, "last_edit_date": 1518630327, "creation_date": 1518628594, "answer_id": 48792834, "question_id": 48792707, "link": "https://stackoverflow.com/questions/48792707/mkdistanceformatter-feet-to-miles/48792834#48792834", "title": "MKDistanceFormatter feet to miles", "body": "<p>Updated since I got downvoted. But its hard to tell where to start since there is no code in OP's question.</p>\n\n<pre><code>let distance = 2000.0\nlet formatter = MKDistanceFormatter()\nformatter.unitStyle = .full\n\nlet distanceString = formatter.string(fromDistance: distance)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2429, "user_id": 1460929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/720a677756da76903bec783c6534a0b2?s=128&d=identicon&r=PG", "display_name": "ctietze", "link": "https://stackoverflow.com/users/1460929/ctietze"}, "is_accepted": true, "score": 0, "last_activity_date": 1518858254, "creation_date": 1518858254, "answer_id": 48839663, "question_id": 48792707, "link": "https://stackoverflow.com/questions/48792707/mkdistanceformatter-feet-to-miles/48839663#48839663", "title": "MKDistanceFormatter feet to miles", "body": "<h2>The short answer</h2>\n\n<p>So you find <code>MKDistanceFormatter</code> starts outputting \"feet\" for small numbers and switches to \"miles\" only when the distance becomes large enough; I'm afraid this is intentional.</p>\n\n<p>Since different combos of locales and <code>MKDistanceFormatterUnits</code> produce different results, there's no way to control the granularity in a general fashion anyway. With my default settings, passing <code>2</code> to the formatter produces \"2 m\", not \"2 cm\", for example. <code>CLLocationDistance</code> (which is just a <code>Double</code>) is documented to be measured in meters.</p>\n\n<p>So the short answer is: you're screwed. :)</p>\n\n<h2>The long answer</h2>\n\n<p>All of the following depends on your use case and may not be directly applicable.</p>\n\n<p>What you want is use a type or a formatter that combines a numerical value with a specific unit. This also means you have to make sure you're switching from \"miles\" to \"kilometers\", depending on the locale. You could totally code this up on your own.</p>\n\n<p>You can also interface with Foundation's new <code>NSMeasurements</code> API (requires macOS 10.12 and iOS 10):\n<a href=\"https://developer.apple.com/documentation/foundation/nsmeasurement\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/foundation/nsmeasurement</a></p>\n\n<p>Still, you have to convert from the <code>CLLocationDistance</code> distance in meters to the proper <a href=\"https://developer.apple.com/documentation/foundation/nsunitlength?language=objc\" rel=\"nofollow noreferrer\"><code>NSUnitLength</code></a>. The conversion could be done with a set of <a href=\"https://developer.apple.com/documentation/foundation/nsunitconverterlinear?language=objc\" rel=\"nofollow noreferrer\"><code>NSUnitConverter</code></a> instances.</p>\n\n<p>Something along the lines of this:</p>\n\n<pre><code>CLLocationDistance distanceInMeters = ...; // Obtain from notification\nNSMeasurement *measurementInMeters = [[NSMeasurement alloc] initWithDoubleValue:distanceInMeters unit:[NSUnitLength meters]];\nNSMeasurement *measurement = [[NSLocale currentLocale] usesMetricSystem]\n    ? [measurementInMeters measurementByConvertingToUnit:[NSUnitLength kilometers]]\n    : [measurementInMeters measurementByConvertingToUnit:[NSUnitLength miles]];\nNSMeasurementFormatter *formatter = [[NSMeasurementFormatter alloc] init];\nNSString *distanceText = [formatter stringFromMeasurement: measurement];\n\nself.distanceValueLabel.text = distanceText;\n</code></pre>\n\n<p>Interesting reads for unit conversions:</p>\n\n<ul>\n<li><code>MKUnits</code> library as a reference for unit conversions: <a href=\"https://github.com/michalkonturek/MKUnits/tree/archive-objc\" rel=\"nofollow noreferrer\">https://github.com/michalkonturek/MKUnits/tree/archive-objc</a></li>\n<li>Swift code showing formatting extensions and calculations (with hard-coded kilometers-to-miles ratios): <a href=\"https://github.com/mapbox/mapbox-navigation-ios/blob/master/MapboxCoreNavigation/DistanceFormatter.swift\" rel=\"nofollow noreferrer\">https://github.com/mapbox/mapbox-navigation-ios/blob/master/MapboxCoreNavigation/DistanceFormatter.swift</a></li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 9328134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23acc919aa24d981c50454396cbc220f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/9328134/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 48839663, "answer_count": 2, "score": 0, "last_activity_date": 1518858254, "creation_date": 1518628204, "last_edit_date": 1518682368, "question_id": 48792707, "link": "https://stackoverflow.com/questions/48792707/mkdistanceformatter-feet-to-miles", "title": "MKDistanceFormatter feet to miles", "body": "<p>I need to force feet into miles. Is there any way to do that?</p>\n\n<p>I'm using MKDistanceFormatterUnitsImperial but it's currently showing feet. I'm guessing it's because until it gets to a certain value it doesn't change.</p>\n\n<p>EDIT: Sorry! I thought I didn't need the code to make me understand, but here it is:</p>\n\n<pre><code>     in some method...\n     self.distanceValueLabel.text = [NSString stringWithFormat:@\"%@\", [self.formatter stringFromDistance:0]];\n\n    - (MKDistanceFormatter *)formatter\n    {\n        if (!_formatter) {\n            _formatter = [[MKDistanceFormatter alloc] init];\n            [self updateFormatterUnits:nil];\n        }\n\n        return _formatter;\n    }\n\n    - (void)updateFormatterUnits:(NSNotification *)notification {\n        self.formatter.units = MKDistanceFormatterUnitsMetric;\n        SBSettingValue *distanceUnit = [[SBSettingsManager instance] getValueForSetting:[SBSettingsDefinition distanceUnit]];\n        if ([distanceUnit isEqualTo:[SBSettingsDefinition distanceUnitImperial]]) {\n            self.formatter.units = MKDistanceFormatterUnitsImperial; // here    \n        }\n    }\n</code></pre>\n\n<p>PS: The distance keeps getting updated and so, the formatter keeps doing its job. But it starts from zero. Zero feet, not miles.</p>\n\n<p>PS2: I would also like to know from which point passes from feet to miles.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["ios", "objective-c", "appirater"], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1518632578, "post_id": 48791565, "comment_id": 84589795, "body": "Is there a way without setting debug to Yes?"}, {"owner": {"reputation": 7280, "user_id": 598812, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wdCw1.jpg?s=128&g=1", "display_name": "Quentin Hayot", "link": "https://stackoverflow.com/users/598812/quentin-hayot"}, "reply_to_user": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "edited": false, "score": 0, "creation_date": 1518686879, "post_id": 48791565, "comment_id": 84610192, "body": "The debug mode is here to do exactly what you asked. When you are done testing, turn it off before release."}], "tags": [], "owner": {"reputation": 7280, "user_id": 598812, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wdCw1.jpg?s=128&g=1", "display_name": "Quentin Hayot", "link": "https://stackoverflow.com/users/598812/quentin-hayot"}, "is_accepted": true, "score": 1, "last_activity_date": 1518625041, "last_edit_date": 1518625041, "creation_date": 1518624637, "answer_id": 48791565, "question_id": 48791430, "link": "https://stackoverflow.com/questions/48791430/ios-remove-app-rating-limit-for-developer/48791565#48791565", "title": "iOS: Remove app rating limit for developer?", "body": "<p>According to the <a href=\"https://github.com/arashpayan/appirater#development\" rel=\"nofollow noreferrer\">Appirater documentation</a>, you have to turn the debug mode on to show the request every time in development:  </p>\n\n<pre><code>[Appirater setDebug:YES];\n</code></pre>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 48791565, "answer_count": 1, "score": 0, "last_activity_date": 1518625041, "creation_date": 1518624216, "last_edit_date": 1518624984, "question_id": 48791430, "link": "https://stackoverflow.com/questions/48791430/ios-remove-app-rating-limit-for-developer", "title": "iOS: Remove app rating limit for developer?", "body": "<p>I want to test my app's <code>SKStoreReviewController</code> API rating. However, I believe it is block because I exceeded the three time review limit a year. Is there a way around this for a developer? Here is the code I am using currently.</p>\n\n<pre><code>    [Appirater setAppId:kAppId];\n    [Appirater setDaysUntilPrompt:0];\n    [Appirater setUsesUntilPrompt:10];\n    [Appirater setSignificantEventsUntilPrompt:-1];\n    [Appirater setTimeBeforeReminding:2];\n    [Appirater setDebug:NO];\n    [Appirater appLaunched:YES];\n</code></pre>\n"}, {"tags": ["objective-c", "c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1518624144, "last_edit_date": 1518624144, "creation_date": 1518623371, "answer_id": 48791143, "question_id": 48790738, "link": "https://stackoverflow.com/questions/48790738/how-to-use-host-vm-info-count-in-swift-file/48791143#48791143", "title": "how to use HOST_VM_INFO_COUNT in swift file", "body": "<p><code>&lt;mach/host_info.h&gt;</code> defines <code>HOST_VM_INFO_COUNT</code> as</p>\n\n<pre><code>#define HOST_VM_INFO_COUNT ((mach_msg_type_number_t) \\\n            (sizeof(vm_statistics_data_t)/sizeof(integer_t)))\n</code></pre>\n\n<p>and \u201cnon-trivial\u201d macro definitions are not imported into Swift.\nTherefore you have to define it yourself:</p>\n\n<pre><code>let HOST_VM_INFO_COUNT = MemoryLayout&lt;vm_statistics_data_t&gt;.stride/MemoryLayout&lt;integer_t&gt;.stride\n</code></pre>\n\n<p>An alternative is to add</p>\n\n<pre><code>#import &lt;mach/host_info.h&gt;\n\nstatic const mach_msg_type_number_t HostVMInfoCount = HOST_VM_INFO_COUNT;\n</code></pre>\n\n<p>to the bridging header file and then use <code>HostVMInfoCount</code> in\nthe Swift code.</p>\n"}], "owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 48791143, "answer_count": 1, "score": 1, "last_activity_date": 1518624144, "creation_date": 1518622155, "question_id": 48790738, "link": "https://stackoverflow.com/questions/48790738/how-to-use-host-vm-info-count-in-swift-file", "title": "how to use HOST_VM_INFO_COUNT in swift file", "body": "<p>I trying to use HOST_VM_INFO_COUNT in my swift file. In objective C it is working.\nI have tried by importing </p>\n\n<pre><code>#import &lt;mach/host_info.h&gt;\n</code></pre>\n\n<p>using bridging header but its not working.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "apple-push-notifications"], "comments": [{"owner": {"reputation": 132, "user_id": 1228717, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/22f075b216aa792a6307f5d67a1b43c8?s=128&d=identicon&r=PG", "display_name": "Daan Lemmen", "link": "https://stackoverflow.com/users/1228717/daan-lemmen"}, "edited": false, "score": 1, "creation_date": 1518616154, "post_id": 48788705, "comment_id": 84579185, "body": "You may want to share some code..."}, {"owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "reply_to_user": {"reputation": 132, "user_id": 1228717, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/22f075b216aa792a6307f5d67a1b43c8?s=128&d=identicon&r=PG", "display_name": "Daan Lemmen", "link": "https://stackoverflow.com/users/1228717/daan-lemmen"}, "edited": false, "score": 0, "creation_date": 1518674335, "post_id": 48788705, "comment_id": 84604208, "body": "@DaanLemmen Please see my Update Question"}], "answers": [{"comments": [{"owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "edited": false, "score": 0, "creation_date": 1518674064, "post_id": 48788856, "comment_id": 84604105, "body": "i received different type of notification. All are working fine. But in one case just app crash."}, {"owner": {"reputation": 337, "user_id": 5146494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c6ad04606686791550f9925e336f0633?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Sonava", "link": "https://stackoverflow.com/users/5146494/pankaj-sonava"}, "edited": false, "score": 0, "creation_date": 1552717794, "post_id": 48788856, "comment_id": 97126036, "body": "Are you resolved that issue , i am also facing same."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 2, "last_activity_date": 1518616350, "creation_date": 1518616350, "answer_id": 48788856, "question_id": 48788705, "link": "https://stackoverflow.com/questions/48788705/app-crash-when-open-from-kill-state-through-push-notification-objective-c-ios/48788856#48788856", "title": "App crash when open from Kill state through Push notification Objective C iOS", "body": "<p>The issue is that you get the notification that opens the app from <code>launchOptions</code> of <code>didFinishLaunchingWithOptions</code> method  and deliver to  the same function that handles it when app is opened and perform a push / present that makes the app crash as windows's root view controller is not yet set ,  so delay that until app it being active</p>\n"}], "owner": {"reputation": 1366, "user_id": 4379101, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/U7hCw.jpg?s=128&g=1", "display_name": "Shahbaz Akram", "link": "https://stackoverflow.com/users/4379101/shahbaz-akram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518674297, "creation_date": 1518615894, "last_edit_date": 1518674297, "question_id": 48788705, "link": "https://stackoverflow.com/questions/48788705/app-crash-when-open-from-kill-state-through-push-notification-objective-c-ios", "title": "App crash when open from Kill state through Push notification Objective C iOS", "body": "<p>My app working fine when app is in background and open it by clicking on Push Notification. But if I terminate app and open it through push notification then app crash. I also integrate Crashlytics. Here is attached photo &amp; code. App crash only in one type of notification.It is not data parsing issue. </p>\n\n<pre><code>    - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];\n    [center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert)\n                          completionHandler:^(BOOL granted, NSError * _Nullable error) {\n                              if (!error) {\n                                  NSLog(@\"request authorization succeeded!\");\n                                  //[self showAlert];\n                              }\n                          }];\n\n\n\n\n// Branch Intigration\n    Branch *branch = [Branch getInstance];\n\n//    if is debug\n//    [[Branch getInstance] setDebug];\n\n\n    [branch initSessionWithLaunchOptions:launchOptions andRegisterDeepLinkHandler:^(NSDictionary *params, NSError *error) {\n        if (!error &amp;&amp; params) {\n            DecisionController * mainVC = [[DecisionController alloc] init];\n            [mainVC viewDidLoad];\n            // params are the deep linked params associated with the link that the user clicked -&gt; was re-directed to this app\n            // params will be empty if no data found\n            // ... insert custom logic here ...\n            NSString * non_branch_link  = [params objectForKey:@\"+clicked_branch_link\"];\n            if ([[params objectForKey:@\"+clicked_branch_link\"] boolValue]) {\n                NSNotificationCenter* nc = [NSNotificationCenter defaultCenter];\n                [nc postNotificationName:@\"DeepLinkNotification\" object:self userInfo:params];\n            }\n            NSLog(@\"params: %@\", params.description);\n        }\n    }];\n\n    // MAGICAL RECORD Intigration\n    [MagicalRecord setupCoreDataStackWithAutoMigratingSqliteStoreNamed:@\"EmergencMeDatabase.sqlite\"];\n//    [Fabric with:@[[branch class]]];\n    NSLog(@\"magical record path to SQLite base %@\", [NSPersistentStore MR_defaultLocalStoreUrl]);\n    [Fabric with:@[[Crashlytics class]]];\n\n    [SharedRenderer setValue:@\"NO\" key:isForRedar];\n    [[NSUserDefaults standardUserDefaults] setFloat:0 forKey:@\"lastnotificationminute\"];\n    [[FBSDKApplicationDelegate sharedInstance] application:application\n                             didFinishLaunchingWithOptions:launchOptions];\n    [MPNotificationView registerNibNameOrClass:@\"CustomNotificationView\"\n                        forNotificationsOfType:@\"Custom\"];\n    [self registerForRemoteNotifications];\n    [SharedRenderer sharedInstance].retryCount = 0;\n    [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"generatenotification\"];\n    [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"FirstSubscribe\"];\n    mainStoryboard = [UIStoryboard storyboardWithName:@\"MainStoryboard_iPhone\"\n                                               bundle: nil];\n    if (launchOptions[UIApplicationLaunchOptionsLocationKey]) {\n\n        [self startLocationManager:@\"\"];\n    }\n    if (![[NSUserDefaults standardUserDefaults] boolForKey:@\"HasLaunchedOnce\"])\n    {\n        [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"HasLaunchedOnce\"];\n        [[NSUserDefaults standardUserDefaults] synchronize];\n        [SharedRenderer setValue:@\"0\" key:@\"alldatafetched\"];\n        [SharedRenderer setValue:@\"\" key:@\"currentchannel\"];\n        NSMutableArray* alerts = [[NSMutableArray alloc] init];\n        NSData* alertsData=[NSKeyedArchiver archivedDataWithRootObject:alerts];\n        [[NSUserDefaults standardUserDefaults] setObject:alertsData forKey:@\"nonreasonalerts\"];\n        NSMutableArray* receivedAlerts = [[NSMutableArray alloc] init];\n        NSData* receivedAlertsData=[NSKeyedArchiver archivedDataWithRootObject:receivedAlerts];\n        [[NSUserDefaults standardUserDefaults] setObject:receivedAlertsData forKey:@\"receivedalerts\"];\n        NSMutableArray* myAlerts = [[NSMutableArray alloc] init];\n        NSData* myAlertsData=[NSKeyedArchiver archivedDataWithRootObject:myAlerts];\n        [[NSUserDefaults standardUserDefaults] setObject:myAlertsData forKey:@\"myalerts\"];\n        [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"OB\"];\n        [[NSUserDefaults standardUserDefaults] synchronize];\n    }\n    if (![[SharedRenderer getValueFor:@\"isLogin\"] boolValue])\n    {\n        navigationController = [mainStoryboard instantiateViewControllerWithIdentifier:@\"loginVC\"];\n        [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"showhomealert\"];\n    }\n    else\n    {\n        if ([[SharedRenderer getValueFor:@\"family_id\"] isEqualToString:@\"\"] || [[SharedRenderer getValueFor:@\"alldatafetched\"] isEqualToString:@\"0\"])\n        {\n            navigationController = [mainStoryboard instantiateViewControllerWithIdentifier:@\"Smarticestep1\"];\n        }\n        else\n        {\n            navigationController = [mainStoryboard instantiateViewControllerWithIdentifier:@\"homenav\"];\n            [self activatedeacAlertTimer];\n            [self activatePendingAlertTimer];\n            [self checkFor_AlertDeactivation];\n            [self fetchInvitationCount];\n            // Mark by Mian:\n            //            [self updatePSAlertTable];\n        }\n    }\n    [self.window setRootViewController: navigationController];\n    [self.window makeKeyAndVisible];\n    LeftMenuViewController *leftMenu = (LeftMenuViewController*)[mainStoryboard\n                                                                 instantiateViewControllerWithIdentifier: @\"LeftMenuViewController\"];\n    RightMenuViewController *rightMenu = (RightMenuViewController*)[mainStoryboard\n                                                                    instantiateViewControllerWithIdentifier: @\"RightMenuViewController\"];\n    [SlideNavigationController sharedInstance].rightMenu = rightMenu;\n    [SlideNavigationController sharedInstance].leftMenu = leftMenu;\n    [SlideNavigationController sharedInstance].menuRevealAnimationDuration = .4;\n\n    // Creating a custom bar button for right menu\n    UIButton *button  = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];\n    [button setImage:[UIImage imageNamed:@\"gear\"] forState:UIControlStateNormal];\n    [button addTarget:[SlideNavigationController sharedInstance] action:@selector(toggleRightMenu) forControlEvents:UIControlEventTouchUpInside];\n    UIBarButtonItem *rightBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:button];\n    [SlideNavigationController sharedInstance].rightBarButtonItem = rightBarButtonItem;\n    [[NSNotificationCenter defaultCenter] addObserverForName:SlideNavigationControllerDidClose object:nil queue:nil usingBlock:^(NSNotification *note)\n     {\n         //         NSString *menu = note.userInfo[@\"menu\"];\n     }];\n\n    [[NSNotificationCenter defaultCenter] addObserverForName:SlideNavigationControllerDidOpen object:nil queue:nil usingBlock:^(NSNotification *note)\n     {\n         //         NSString *menu = note.userInfo[@\"menu\"];\n     }];\n\n    [[NSNotificationCenter defaultCenter] addObserverForName:SlideNavigationControllerDidReveal object:nil queue:nil usingBlock:^(NSNotification *note)\n     {\n         //         NSString *menu = note.userInfo[@\"menu\"];\n     }];\n    [self ConnectPusher];\n    if ([[SharedRenderer getValueFor:@\"isLogin\"] boolValue]){\n        [self checkFor_AlertDeactivation];\n        [self removePastAlert];\n        [self deactivateAlert];\n        [self goOnline_Offline:@\"1\"];\n    }\n    [self showAlert:launchOptions];\n    return YES;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/870Bv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/870Bv.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "nsopenpanel"], "comments": [{"owner": {"reputation": 3335, "user_id": 2768038, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hxk9G.png?s=128&g=1", "display_name": "maxisme", "link": "https://stackoverflow.com/users/2768038/maxisme"}, "edited": false, "score": 1, "creation_date": 1518613289, "post_id": 48787777, "comment_id": 84577307, "body": "Changing <code>NSOpenPanel *openPanel = [[NSOpenPanel alloc] init]</code> to <code>NSOpenPanel *openPanel = [NSOpenPanel openPanel];</code> I think may have helped a little with the showing of the window but still hangs after chosen."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1518624419, "post_id": 48787777, "comment_id": 84584935, "body": "Why do you do <code>[NSApp activateIgnoringOtherApps:YES]</code>, <code>[openPanel setLevel:NSFloatingWindowLevel]</code> and <code>[openPanel setCanCreateDirectories:dir];</code>?"}, {"owner": {"reputation": 3335, "user_id": 2768038, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hxk9G.png?s=128&g=1", "display_name": "maxisme", "link": "https://stackoverflow.com/users/2768038/maxisme"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518624497, "post_id": 48787777, "comment_id": 84584989, "body": "Comes from a menu bar application <code>(1,2)</code>. Because I want to be able to create a directory (path) <code>(3)</code>."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518700003, "post_id": 48787777, "comment_id": 84618896, "body": "Can you post a crash log or backtrace? What does you app do after choosing a file/directory, can you post the code where the app crashes?"}, {"owner": {"reputation": 3335, "user_id": 2768038, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hxk9G.png?s=128&g=1", "display_name": "maxisme", "link": "https://stackoverflow.com/users/2768038/maxisme"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518714952, "post_id": 48787777, "comment_id": 84629081, "body": "@Willeke I cannot get it to crash anymore. I can only reproduce it hanging. Will post the code now."}, {"owner": {"reputation": 3176, "user_id": 317461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGIbL.jpg?s=128&g=1", "display_name": "mahal tertin", "link": "https://stackoverflow.com/users/317461/mahal-tertin"}, "edited": false, "score": 0, "creation_date": 1519161672, "post_id": 48787777, "comment_id": 84794654, "body": "Which version(s) of macOS did you try? I presume you have a sandboxes app, could you post your entitlements file? Also did you try running it under a guest account (to eliminate all stuff that&#39;s cluttering the sandbox)?"}], "answers": [{"tags": [], "owner": {"reputation": 3176, "user_id": 317461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGIbL.jpg?s=128&g=1", "display_name": "mahal tertin", "link": "https://stackoverflow.com/users/317461/mahal-tertin"}, "is_accepted": false, "score": 3, "last_activity_date": 1553248128, "last_edit_date": 1553248128, "creation_date": 1519161437, "answer_id": 48894348, "question_id": 48787777, "link": "https://stackoverflow.com/questions/48787777/how-to-acquire-a-file-path-using-objective-c/48894348#48894348", "title": "How to acquire a file path using objective c", "body": "<p>The code looks fine. Try calling your function from main thread; modal dialogs need this and usually don't enforce it themselves. In any case the Powebox (the thing that runs NSOpenPanel in sandbox) is a bit of a beast. Also you might get different results with debug build launched directly from Xcode (not so good) and release build launched from Finder. </p>\n\n<p>To test NSOpenPanel: Try running your App under a guest account to eliminate all stuff that's cluttering the sandbox .</p>\n"}, {"tags": [], "owner": {"reputation": 9043, "user_id": 927333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZibFn.jpg?s=128&g=1", "display_name": "ingconti", "link": "https://stackoverflow.com/users/927333/ingconti"}, "is_accepted": false, "score": 1, "last_activity_date": 1519617463, "last_edit_date": 1519617463, "creation_date": 1519210557, "answer_id": 48904119, "question_id": 48787777, "link": "https://stackoverflow.com/questions/48787777/how-to-acquire-a-file-path-using-objective-c/48904119#48904119", "title": "How to acquire a file path using objective c", "body": "<p>My code:\n(actually in production:) </p>\n\n<pre><code>-(void)OpenIt {\n    NSOpenPanel* panel = [NSOpenPanel openPanel];\n\n    // This method displays the panel and returns immediately.\n    // The completion handler is called when the user selects an\n    // item or cancels the panel.\n\n    [panel setTitle: \"title....\"];\n    NSString *title = NSLocalizedString(@\"CHOOSE_FILE\", @\"\");\n    [panel setMessage: title];\n\n    [panel beginWithCompletionHandler:^(NSInteger result){\n        if (result == NSFileHandlingPanelOKButton) {\n            NSURL*  theDoc = [[panel URLs] objectAtIndex:0];\n            NSLog(@\"%@\", theDoc);\n            // Open  the document using url\n            [self openUsingURL: theDoc];\n        }\n    }];\n}\n</code></pre>\n"}], "owner": {"reputation": 3335, "user_id": 2768038, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/hxk9G.png?s=128&g=1", "display_name": "maxisme", "link": "https://stackoverflow.com/users/2768038/maxisme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1553248128, "creation_date": 1518612935, "last_edit_date": 1518998706, "question_id": 48787777, "link": "https://stackoverflow.com/questions/48787777/how-to-acquire-a-file-path-using-objective-c", "title": "How to acquire a file path using objective c", "body": "<p>I want a function which just returns the full file path of a file selected in finder.</p>\n\n<p>I am currently have this function:</p>\n\n<pre><code>+ (NSString*)choosePathWindow:(NSString*)title buttonTitle:(NSString*)buttonTitle allowDir:(BOOL)dir allowFile:(BOOL)file{\n    [NSApp activateIgnoringOtherApps:YES];\n\n    NSOpenPanel *openPanel = [NSOpenPanel openPanel];\n    [openPanel setLevel:NSFloatingWindowLevel];\n    [openPanel setAllowsMultipleSelection:NO];\n    [openPanel setCanChooseDirectories:dir];\n    [openPanel setCanCreateDirectories:dir];\n    [openPanel setCanChooseFiles:file];\n    [openPanel setMessage:title];\n    [openPanel setPrompt:buttonTitle];\n\n    NSString* fileName = nil;\n    if ([openPanel runModal] == NSModalResponseOK)\n    {\n        for( NSURL* URL in [openPanel URLs])\n        {\n            fileName = [URL path];\n        }\n    }\n    [openPanel close];\n    return fileName;\n}\n</code></pre>\n\n<p>But this usually behaves awfully and stutters into view and often hangs after choosing a file (I have an i7-7700k and 16GB ddr4) and always hangs when clicking cancel. I also believe that this may be to do with external network mounts I have. But any other software such as PHPStorm or Chrome work fine with the same window.</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["ios", "objective-c", "nsarray"], "comments": [{"owner": {"reputation": 7689, "user_id": 3909115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/StR0U.png?s=128&g=1", "display_name": "Bista", "link": "https://stackoverflow.com/users/3909115/bista"}, "edited": false, "score": 2, "creation_date": 1518611909, "post_id": 48787375, "comment_id": 84576363, "body": "Have you created Model Classes for above JSON data?"}, {"owner": {"reputation": 560, "user_id": 3719248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dPEV.jpg?s=128&g=1", "display_name": "ibnetariq", "link": "https://stackoverflow.com/users/3719248/ibnetariq"}, "edited": false, "score": 0, "creation_date": 1518611938, "post_id": 48787375, "comment_id": 84576391, "body": "first one is a object which have array by the name of &quot;services&quot;, right?"}, {"owner": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "reply_to_user": {"reputation": 560, "user_id": 3719248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dPEV.jpg?s=128&g=1", "display_name": "ibnetariq", "link": "https://stackoverflow.com/users/3719248/ibnetariq"}, "edited": false, "score": 0, "creation_date": 1518612099, "post_id": 48787375, "comment_id": 84576491, "body": "@ibnetariq 1st array has the object of &quot;services&quot; which has two values those equal to the second array&#39;s object key &quot;sub_cat_id&quot;"}, {"owner": {"reputation": 560, "user_id": 3719248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dPEV.jpg?s=128&g=1", "display_name": "ibnetariq", "link": "https://stackoverflow.com/users/3719248/ibnetariq"}, "edited": false, "score": 0, "creation_date": 1518612265, "post_id": 48787375, "comment_id": 84576614, "body": "and you need to check each object of 1st array with each object of 2nd array ?"}, {"owner": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "reply_to_user": {"reputation": 560, "user_id": 3719248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dPEV.jpg?s=128&g=1", "display_name": "ibnetariq", "link": "https://stackoverflow.com/users/3719248/ibnetariq"}, "edited": false, "score": 0, "creation_date": 1518612388, "post_id": 48787375, "comment_id": 84576704, "body": "@ibnetariq I want to compare both the above arrays with &quot;services&quot; key from first array and &quot;sub_cat_id&quot; from second array and finally print the price_per_unit of the common service id containing vehicles in a cell label  in the tableview"}, {"owner": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "reply_to_user": {"reputation": 7689, "user_id": 3909115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/StR0U.png?s=128&g=1", "display_name": "Bista", "link": "https://stackoverflow.com/users/3909115/bista"}, "edited": false, "score": 0, "creation_date": 1518612511, "post_id": 48787375, "comment_id": 84576792, "body": "@Mr.Bista I didn&#39;t create any models.. I edited the question and added how I fetch the data from the server... and I added both responses into 2 different arrays?"}], "answers": [{"comments": [{"owner": {"reputation": 7689, "user_id": 3909115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/StR0U.png?s=128&g=1", "display_name": "Bista", "link": "https://stackoverflow.com/users/3909115/bista"}, "reply_to_user": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "edited": false, "score": 0, "creation_date": 1518612679, "post_id": 48787687, "comment_id": 84576910, "body": "Sorry didn&#39;t see that."}, {"owner": {"reputation": 7689, "user_id": 3909115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/StR0U.png?s=128&g=1", "display_name": "Bista", "link": "https://stackoverflow.com/users/3909115/bista"}, "reply_to_user": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "edited": false, "score": 0, "creation_date": 1518613989, "post_id": 48787687, "comment_id": 84577739, "body": "Check Updated answer."}, {"owner": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "edited": false, "score": 1, "creation_date": 1518617819, "post_id": 48787687, "comment_id": 84580346, "body": "This Works!, Thanks :)"}, {"owner": {"reputation": 7689, "user_id": 3909115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/StR0U.png?s=128&g=1", "display_name": "Bista", "link": "https://stackoverflow.com/users/3909115/bista"}, "reply_to_user": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "edited": false, "score": 0, "creation_date": 1518670879, "post_id": 48787687, "comment_id": 84603126, "body": "Filtering using predicate method is fast as mentioned in another answer. Try using predicates too."}], "tags": [], "owner": {"reputation": 7689, "user_id": 3909115, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/StR0U.png?s=128&g=1", "display_name": "Bista", "link": "https://stackoverflow.com/users/3909115/bista"}, "is_accepted": true, "score": 1, "last_activity_date": 1518613979, "last_edit_date": 1518613979, "creation_date": 1518612600, "answer_id": 48787687, "question_id": 48787375, "link": "https://stackoverflow.com/questions/48787375/how-to-find-the-common-object-from-two-different-arrays-and-print-another-object/48787687#48787687", "title": "How to find the common object from two different arrays and print another object?", "body": "<p>Got it working in playground:</p>\n\n<pre><code>let booking: [String: Any] = [\n    \"services\": \"5923f21c2279518a1661cb09,5923f22d2279513f1861cb09\",\n    \"status\":2\n]\n\nlet selectedServices: [[String: Any]] = [\n    [\n        \"price_per_unit\": 30,\n        \"sub_cat_id\": \"5923f21c2279518a1661cb09\",\n        \"sub_cat_name\": \"SUV\",\n        \"unit\": 1\n    ],\n    [\n        \"price_per_unit\": 45,\n        \"sub_cat_id\": \"5923f22d2279513f1861cb09\",\n        \"sub_cat_name\": \"Sedan\",\n        \"unit\": 1\n    ],\n    [\n        \"price_per_unit\": 65,\n        \"sub_cat_id\": \"5923f23e2279518a1661cb09\",\n        \"sub_cat_name\": \"Bus\",\n        \"unit\": 1\n    ],\n    [\n        \"price_per_unit\": 75,\n        \"sub_cat_id\": \"5923f24f2279513f1861cb09\",\n        \"sub_cat_name\": \"Lorry\",\n        \"unit\": 1\n    ]\n]\n\nif let bookingServices = booking[\"services\"] as? String {\n    let services: [String] = bookingServices.components(separatedBy: \",\")\n\n    let commonServices = selectedServices.filter({ services.contains( $0[\"sub_cat_id\"] as? String ?? \"\" ) })\n    print(commonServices)\n}\n</code></pre>\n\n<p>Objective-C Equivalent:</p>\n\n<pre><code>NSDictionary *booking = @{\n                                @\"services\": @\"5923f21c2279518a1661cb09,5923f22d2279513f1861cb09\",\n                                @\"status\": @2\n                                };\n\nNSArray *selectedServices =  @[\n             @{\n              @\"price_per_unit\": @30,\n              @\"sub_cat_id\": @\"5923f21c2279518a1661cb09\",\n              @\"sub_cat_name\": @\"SUV\",\n              @\"unit\": @1\n              },\n             @{\n              @\"price_per_unit\": @45,\n              @\"sub_cat_id\": @\"5923f22d2279513f1861cb09\",\n              @\"sub_cat_name\": @\"Sedan\",\n              @\"unit\": @1\n              },\n             @{\n              @\"price_per_unit\": @65,\n              @\"sub_cat_id\": @\"5923f23e2279518a1661cb09\",\n              @\"sub_cat_name\": @\"Bus\",\n              @\"unit\": @1\n              },\n             @{\n              @\"price_per_unit\": @75,\n              @\"sub_cat_id\": @\"5923f24f2279513f1861cb09\",\n              @\"sub_cat_name\": @\"Lorry\",\n              @\"unit\": @1\n              }\n             ];\n\nNSString *servicesString = [booking valueForKey: @\"services\"];\nNSArray *bookingServices = [servicesString componentsSeparatedByString:@\",\"];\n\nNSMutableArray *commonServices = [[NSMutableArray alloc] init];\n\nfor (NSDictionary *selectedService in selectedServices) {\n    NSString *sub_cat_id = selectedService[@\"sub_cat_id\"];\n\n    if([bookingServices containsObject: sub_cat_id]) {\n        [commonServices addObject: selectedService];\n    }\n}\n\nNSLog(@\"%@\", commonServices);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "edited": false, "score": 0, "creation_date": 1518684820, "post_id": 48788142, "comment_id": 84609019, "body": "This is the better and faster solution"}], "tags": [], "owner": {"reputation": 1117, "user_id": 2846524, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/7b02cd46e684919c84028750f5578ec2?s=128&d=identicon&r=PG&f=1", "display_name": "Yatendra", "link": "https://stackoverflow.com/users/2846524/yatendra"}, "is_accepted": false, "score": 1, "last_activity_date": 1518614054, "creation_date": 1518614054, "answer_id": 48788142, "question_id": 48787375, "link": "https://stackoverflow.com/questions/48787375/how-to-find-the-common-object-from-two-different-arrays-and-print-another-object/48788142#48788142", "title": "How to find the common object from two different arrays and print another object?", "body": "<p>I think you should use NSPredicate,Beacuse this is fast enumeration. In just code of two line</p>\n\n<p>I am using here your demo content.</p>\n\n<pre><code>NSDictionary *maindic = @{@\"price_per_min\" :@\"10\",\n                                   @\"services\":@\"5923f21c2279518a1661cb09,5923f22d2279513f1861cb09\",\n                                  };\n\n    NSDictionary *dic1 =@{@\"price_per_unit\" :@\"30\",\n                           @\"sub_cat_id\":@\"5923f21c2279518a1661cb09\",\n                           };\n\n    NSDictionary *dic2 =@{@\"price_per_unit\" :@\"45\",\n                           @\"sub_cat_id\":@\"5923f22d2279513f1861cb09\",\n                           };\n    NSDictionary *dic3 =@{@\"price_per_unit\" :@\"65\",\n                          @\"sub_cat_id\":@\"5923f23e2279518a1661cb09\",\n                          };\n\n    NSArray *mainArr=  @[dic1,dic2,dic3];\n\n    NSPredicate *predicate1 = [NSPredicate predicateWithFormat:@\"sub_cat_id == '5923f21c2279518a1661cb09'\"];\n    NSPredicate *predicate2 = [NSPredicate predicateWithFormat:@\"sub_cat_id == '5923f22d2279513f1861cb09'\"];\n    NSPredicate *predicate = [NSCompoundPredicate orPredicateWithSubpredicates:@[predicate1, predicate2]];\n\n    NSArray *resultArray = [mainArr filteredArrayUsingPredicate:predicate];\n</code></pre>\n\n<p>and it will return in resultArray</p>\n\n<pre><code>{\n    \"price_per_unit\" = 30;\n    \"sub_cat_id\" = 5923f21c2279518a1661cb09;\n},\n{\n    \"price_per_unit\" = 45;\n    \"sub_cat_id\" = 5923f22d2279513f1861cb09;\n}\n</code></pre>\n"}], "owner": {"reputation": 202, "user_id": 4833625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/00343c6cb8f0745cd68d087570c96ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Fido", "link": "https://stackoverflow.com/users/4833625/fido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 48787687, "answer_count": 2, "score": 0, "last_activity_date": 1518614054, "creation_date": 1518611694, "last_edit_date": 1518612265, "question_id": 48787375, "link": "https://stackoverflow.com/questions/48787375/how-to-find-the-common-object-from-two-different-arrays-and-print-another-object", "title": "How to find the common object from two different arrays and print another object?", "body": "<p>I have 2 Arrays receiving from 2 different APIs </p>\n\n<h2>booking array</h2>\n\n<pre><code>{\n            addrLine1 = \"Al Thanyah Fifth, Dubai, United Arab Emirates\";\n            addrLine2 = \"  \";\n            apntDate = \"14 Feb 2018\";\n            apntDt = \"2018-02-14 15:31:30\";\n            apntTime = \"03:31 pm\";\n            apptLat = \"25.071102142334\";\n            apptLong = \"55.142993927002\";\n            \"appt_duration\" = \"\";\n            bid = 555;\n            bookType = 1;\n            cancelAmt = 30;\n            \"cat_id\" = 591da979227951a10f004ad7;\n            \"cat_name\" = \"Car Wash\";\n            cid = 21;\n            \"coupon_discount\" = 0;\n            \"customer_notes\" = \"\";\n            \"distance_met\" = 120;\n            email = \"fawasfais@gmail.com\";\n            expireTime = \"\";\n            fname = Fawas;\n            \"job_imgs\" = 0;\n            \"job_start_time\" = \"1970-01-01 00:00:00\";\n            \"job_timer\" = \"\";\n            pPic = \"https://s3.amazonaws.com/iserve/ProfileImages/20170720110011AM.png\";\n            \"payment_type\" = 1;\n            phone = 568573570;\n            \"price_per_min\" = 10;\n            \"pro_notes\" = \"\";\n            services = \"5923f21c2279518a1661cb09,5923f22d2279513f1861cb09\";\n            status = 2;\n            statusMsg = \"Provider Accepted.\";\n            timer = \"\";\n            \"timer_status\" = \"\";\n            \"visit_amount\" = 60;\n        }  \n</code></pre>\n\n<h2>selected services array</h2>\n\n<pre><code>{\n        \"price_per_unit\" = 30;\n        \"sub_cat_id\" = 5923f21c2279518a1661cb09;\n        \"sub_cat_name\" = SUV;\n        unit = 1;\n    },\n        {\n        \"price_per_unit\" = 45;\n        \"sub_cat_id\" = 5923f22d2279513f1861cb09;\n        \"sub_cat_name\" = Sedan;\n        unit = 1;\n    }\n {\n        \"price_per_unit\" = 65;\n        \"sub_cat_id\" = 5923f23e2279518a1661cb09;\n        \"sub_cat_name\" = Bus;\n        unit = 1;\n    },\n        {\n        \"price_per_unit\" = 75;\n        \"sub_cat_id\" = 5923f24f2279513f1861cb09;\n        \"sub_cat_name\" = Lorry;\n        unit = 1;\n    }\n</code></pre>\n\n<p>I want to compare both the above arrays with \"services\" key from first array and \"sub_cat_id\" from second array and finally print the price_per_unit of the common service id containing vehicles.</p>\n\n<p>Example - 5923f21c2279518a1661cb09,5923f22d2279513f1861cb09 ids found in the first array so print the price_per_units of the both ids from second array - 30, 45</p>\n\n<p>Any Suggestions ? (If any code snippets requires to answer this question mention in the comments I will edit and update the question with the required codes.</p>\n\n<pre><code>This is how I get the second array from the server\n\n-(void)getServiceTypes\n{\n    NSDictionary *queryParams;\n    queryParams = @{\n                    @\"ent_sess_token\":flStrForStr([[NSUserDefaults standardUserDefaults] objectForKey:KDAcheckUserSessionToken]),\n                    @\"ent_dev_id\":flStrForStr([[NSUserDefaults standardUserDefaults] objectForKey:kPMDDeviceIdKey]),\n                   @\"ent_catid\":_dictAppointmentDetails[@\"cat_id\"]\n                   };\n\n\n    NetworkHandler *handler = [NetworkHandler sharedInstance];\n    [handler composeRequestWithMethod:@\"getSubCategory\"\n                              paramas:queryParams\n                         onComplition:^(BOOL succeeded, NSDictionary *response) {\n                             if (succeeded) {\n\n                                 [self getServiceTypesResponse:response];\n                             }\n                         }];\n    NSLog(@\"param%@\",queryParams);\n\n}\n-(void)getServiceTypesResponse:(NSDictionary *)response\n{\n    NSLog(@\"GETSERVICETYPES%@\",response);\n\n    serviceTypeDict = response[@\"data\"];\n    NSLog(@\"SERVICETYPEDIC%@\",serviceTypeDict);\n    serviceTypeArray = response[@\"data\"];\n    NSLog(@\"SERVICETYPEARRAY%@\",serviceTypeArray);\n    serviceTypeIDArray = [[serviceTypeArray valueForKey:@\"sub_cat_id\"]copy];\n    NSLog(@\"SERVICETYPEIDARRAY%@\",serviceTypeIDArray);\n\n\n\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["objective-c", "macos", "networking", "system-configuration"], "comments": [{"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 1, "creation_date": 1518613455, "post_id": 48786987, "comment_id": 84577417, "body": "This code <i>should</i> do the right thing. Do you get an authorization dialog from the <code>SCPreferencesLock</code> call?"}, {"owner": {"reputation": 67, "user_id": 7710515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e322cde9eebc573cb149bf5f0fbc50?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Ilie-Ablachim", "link": "https://stackoverflow.com/users/7710515/denis-ilie-ablachim"}, "reply_to_user": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 0, "creation_date": 1518614268, "post_id": 48786987, "comment_id": 84577921, "body": "No authorization dialog is displayed."}, {"owner": {"reputation": 67, "user_id": 7710515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e322cde9eebc573cb149bf5f0fbc50?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Ilie-Ablachim", "link": "https://stackoverflow.com/users/7710515/denis-ilie-ablachim"}, "reply_to_user": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 0, "creation_date": 1518614679, "post_id": 48786987, "comment_id": 84578170, "body": "Well, I solved the problem. It seems that this code is not working if it used in a Cocoa App.  I copied it in a Command Line Tool and run it and it worked. The authorization dialog also appeared. Well... this is strange but I am glad I found the problem."}, {"owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "edited": false, "score": 0, "creation_date": 1518616213, "post_id": 48786987, "comment_id": 84579227, "body": "It&#39;s an App Sandbox issue - you can&#39;t modify the System Configuration from a sandboxed app."}], "answers": [{"tags": [], "owner": {"reputation": 82430, "user_id": 17833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExIEf.png?s=128&g=1", "display_name": "Petesh", "link": "https://stackoverflow.com/users/17833/petesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1518616089, "creation_date": 1518616089, "answer_id": 48788768, "question_id": 48786987, "link": "https://stackoverflow.com/questions/48786987/could-not-remove-network-service-with-root-authorization/48788768#48788768", "title": "Could not remove Network Service with root authorization", "body": "<p>Based on the comments the issue is that the app is using the Cocoa sandbox.</p>\n\n<blockquote>\n  <p>With App Sandbox, your app cannot modify the system\u2019s network configuration (whether with the System Configuration framework, the CoreWLAN framework, or other similar APIs) because doing so requires administrator privileges.</p>\n</blockquote>\n\n<p>If you want to modify the System Configuration framework, you cannot use the sandbox.</p>\n\n<p>You can disable the sandbox by going to the apps entitlement file and changing the entry <code>App Sandbox</code> to <code>NO</code> and then the security dialog will appear.</p>\n"}], "owner": {"reputation": 67, "user_id": 7710515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7e322cde9eebc573cb149bf5f0fbc50?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Ilie-Ablachim", "link": "https://stackoverflow.com/users/7710515/denis-ilie-ablachim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 48788768, "answer_count": 1, "score": 0, "last_activity_date": 1518616089, "creation_date": 1518610447, "question_id": 48786987, "link": "https://stackoverflow.com/questions/48786987/could-not-remove-network-service-with-root-authorization", "title": "Could not remove Network Service with root authorization", "body": "<p>I am trying to delete a specific service name from my preferences, but unfortunately I get the 1003 error when trying to use the following functions: SCPreferencesLock, SCPreferencesCommitChanges, SCPreferencesApplyChanges. </p>\n\n<p>The 1003 code it`s specific for kSCStatusAccessError, which means that I do not have root privileges, even if the AuthorizationRef is root.</p>\n\n<pre><code>    // Create AuthorizationRef\nAuthorizationRef auth = NULL;\nOSStatus status;\n\nAuthorizationFlags rootFlags =  kAuthorizationFlagDefaults |\n                                kAuthorizationFlagInteractionAllowed |\n                                kAuthorizationFlagPreAuthorize |\n                                kAuthorizationFlagExtendRights;\n\n// Get default authorization\nstatus = AuthorizationCreate(NULL, kAuthorizationEmptyEnvironment, rootFlags, &amp;auth);\n\nSCPreferencesRef preferences;\n\nif (status == noErr) {\n    preferences = SCPreferencesCreateWithAuthorization(NULL, CFSTR(\"personal.configuration\"), NULL, auth);\n    NSLog(@\"Root autehntication\");\n} else {\n    preferences = SCPreferencesCreate(NULL, CFSTR(\"personal.configuration\"), NULL);\n    NSLog(@\"Default autehntication\");\n}\n\n\nif(preferences == NULL) {\n    NSLog(@\"Could not create preferences\");\n}\n\nCFArrayRef servicesArray = SCNetworkServiceCopyAll(preferences);\nif (servicesArray == NULL) {\n    NSLog(@\"No network services\");\n}\n\n// Get list of available services\nSCNetworkServiceRef service;\n\nfor (int i = 0; i &lt; CFArrayGetCount(servicesArray); i++) {\n    // Get service reference\n    service = (SCNetworkServiceRef)CFArrayGetValueAtIndex(servicesArray, i);\n    // Get service anme\n    CFStringRef serviceName = SCNetworkServiceGetName(service);\n    NSString* strServiceName= (__bridge NSString *)(serviceName);\n\n    NSLog(@\"New network serivice found: %@\", strServiceName);\n\n    if ([strServiceName isEqualToString:@\"Specific name\"]) {\n\n        if (!SCPreferencesLock(preferences, TRUE)){\n            NSLog(@\"\\tFailed to call SCPreferencesLock: %d\", SCError());\n        }\n\n        if(SCNetworkServiceRemove(service)) {\n            NSLog(@\"\\tInternet Service successfully removed!\");\n        }\n\n        if (!SCPreferencesCommitChanges(preferences)) {\n            NSLog(@\"\\tFailed to commit preferences changes: %d\", SCError());\n        }\n\n        if (!SCPreferencesApplyChanges(preferences)) {\n            NSLog(@\"\\tFailed to apply preferences changes: %d\", SCError());\n        }\n\n        SCPreferencesSynchronize(preferences);\n\n        if (!SCPreferencesUnlock(preferences)) {\n            NSLog(@\"\\tFailed to unlock preferences: %d\", SCError());\n        }\n    }\n}\n\nCFRelease(servicesArray);\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 183, "user_id": 8403513, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a3b3e59654efc159de64a79922496c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Master", "link": "https://stackoverflow.com/users/8403513/abhishek-master"}, "edited": false, "score": 0, "creation_date": 1518608244, "post_id": 48786240, "comment_id": 84573814, "body": "Is the height for row at greater or equal than the image?"}, {"owner": {"reputation": 1334, "user_id": 2752300, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/aPYjn.jpg?s=128&g=1", "display_name": "Saad Chaudhry", "link": "https://stackoverflow.com/users/2752300/saad-chaudhry"}, "edited": false, "score": 0, "creation_date": 1518609378, "post_id": 48786240, "comment_id": 84574607, "body": "Check the dimensions of the imageview. Double check the constraints applied."}, {"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518610506, "post_id": 48786240, "comment_id": 84575375, "body": "for that imageview should be square it requires for circle"}, {"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "reply_to_user": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518610568, "post_id": 48786240, "comment_id": 84575419, "body": "@JRB the image aspect ratio is 1:1 already, something else is up"}, {"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518610715, "post_id": 48786240, "comment_id": 84575516, "body": "can you display problem screenshots? because your code i think right"}, {"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "reply_to_user": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518610966, "post_id": 48786240, "comment_id": 84575691, "body": "@JRB ok , lemme re-do the scenario"}, {"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "reply_to_user": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518611311, "post_id": 48786240, "comment_id": 84575933, "body": "@JRB there you go"}, {"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "reply_to_user": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "edited": false, "score": 0, "creation_date": 1518611361, "post_id": 48786240, "comment_id": 84575963, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/165146/discussion-between-jrb-and-mimma\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "edited": false, "score": 0, "creation_date": 1518611346, "post_id": 48786297, "comment_id": 84575953, "body": "can I use this concept on my custom tableview cell ? I&#39;m using my own image inside the uitablecellview"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1518615241, "post_id": 48786297, "comment_id": 84578554, "body": "The best place to do layout is in <code>UIViews</code>&#39;s <code>layoutSubview</code>. If you do it in <code>awakeFromNib</code> or other methods that are called before <code>layoutSubviews</code> then your image might not have it&#180;s final size yet. This is usually the case when working with storyboard and constraints, but is always a good practise to follow. Consider @Milan Nos&#225;\u013e solution instead."}], "tags": [], "owner": {"reputation": 3111, "user_id": 1647074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nw7Hf.jpg?s=128&g=1", "display_name": "jignesh Vadadoriya", "link": "https://stackoverflow.com/users/1647074/jignesh-vadadoriya"}, "is_accepted": true, "score": 3, "last_activity_date": 1518608575, "last_edit_date": 1518608575, "creation_date": 1518608260, "answer_id": 48786297, "question_id": 48786240, "link": "https://stackoverflow.com/questions/48786240/uiimage-circle-in-uitableviewcell/48786297#48786297", "title": "UIImage circle in UITableViewCell", "body": "<p>Try to use this way</p>\n\n<p>like in custom cell class </p>\n\n<pre><code>class ProfilePicCell: UITableViewCell {\n\n    @IBOutlet weak var image: UIImageView!\n\n    override func awakeFromNib() {\n        super.awakeFromNib()\n        image.layer.cornerRadius =  image.frame.width / 2\n        image.layer.masksToBounds = true\n    }\n}\n</code></pre>\n\n<p>in <strong>Objective C</strong> add this method in  custom cell class </p>\n\n<pre><code>- (void)awakeFromNib\n{\n super.awakeFromNib()\n\n image.layer.cornerRadius =  image.frame.width / 2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17010, "user_id": 2912282, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5HEmE.jpg?s=128&g=1", "display_name": "Milan Nos&#225;\u013e", "link": "https://stackoverflow.com/users/2912282/milan-nos%c3%a1%c4%be"}, "is_accepted": false, "score": 3, "last_activity_date": 1518618159, "last_edit_date": 1518618159, "creation_date": 1518608577, "answer_id": 48786393, "question_id": 48786240, "link": "https://stackoverflow.com/questions/48786240/uiimage-circle-in-uitableviewcell/48786393#48786393", "title": "UIImage circle in UITableViewCell", "body": "<p>Override <code>layoutSubviews</code> in the cell and after calling <code>super.layoutSubviews</code> update the <code>image.layer.cornerRadius</code> there. Then when the layout of the cell is updated after the cell gets visible, the corner radius will be updated accordingly.</p>\n\n<p>So in swift, in your cell implementantion you would do something like:</p>\n\n<pre><code>override func layoutSubviews() {\n    super.layoutSubviews()\n\n    // now the frames were recalculated, and we can update cornerRadius\n    image.layer.cornerRadius = image.bounds.size.width / 2.0\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 48786297, "answer_count": 2, "score": 1, "last_activity_date": 1518618159, "creation_date": 1518608104, "last_edit_date": 1518611291, "question_id": 48786240, "link": "https://stackoverflow.com/questions/48786240/uiimage-circle-in-uitableviewcell", "title": "UIImage circle in UITableViewCell", "body": "<p>So I'm following the the normal approach in Turing an image into circle : </p>\n\n<pre><code>   image.layer.cornerRadius = image.frame.size.width/2.0f;\n    image.layer.borderColor = [UIColor blackColor].CGColor;\n    image.layer.borderWidth = 2;\n    image.clipsToBounds = YES ;\n</code></pre>\n\n<p>However when I used it in cells, first time it shows in Simi-perfect circle, but when I scroll to show new cells , all will be in perfect circle shape.<br>\nso my question is : why the first visible cells appear in a Simi-cirlce shape ? \n<a href=\"https://i.stack.imgur.com/jZ8kR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jZ8kR.jpg\" alt=\"enter image description here\"></a>\nThis is how it looks like first time , but if I refresh or reload the page, everything is fine</p>\n"}, {"tags": ["ios", "objective-c", "arrays", "nsurlsession"], "comments": [{"owner": {"reputation": 792, "user_id": 2625070, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RORGC.jpg?s=128&g=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/2625070/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1518605699, "post_id": 48785278, "comment_id": 84572185, "body": "Can yo show me how you are using this thing in Postman? just update your question with your postman request snapshot."}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "reply_to_user": {"reputation": 792, "user_id": 2625070, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RORGC.jpg?s=128&g=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/2625070/arun-kumar"}, "edited": false, "score": 0, "creation_date": 1518606990, "post_id": 48785278, "comment_id": 84572979, "body": "@ArunKumar  i found the solution;thanks for your response"}, {"owner": {"reputation": 1334, "user_id": 2752300, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/aPYjn.jpg?s=128&g=1", "display_name": "Saad Chaudhry", "link": "https://stackoverflow.com/users/2752300/saad-chaudhry"}, "edited": false, "score": 0, "creation_date": 1518607691, "post_id": 48785278, "comment_id": 84573455, "body": "This question has been asked many times on the site, you should search before asking some question on SO."}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "reply_to_user": {"reputation": 1334, "user_id": 2752300, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/aPYjn.jpg?s=128&g=1", "display_name": "Saad Chaudhry", "link": "https://stackoverflow.com/users/2752300/saad-chaudhry"}, "edited": false, "score": 0, "creation_date": 1518608685, "post_id": 48785278, "comment_id": 84574124, "body": "@SaadChaudhry i did not find the answer from her i got it from my friends"}, {"owner": {"reputation": 1334, "user_id": 2752300, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/aPYjn.jpg?s=128&g=1", "display_name": "Saad Chaudhry", "link": "https://stackoverflow.com/users/2752300/saad-chaudhry"}, "edited": false, "score": 0, "creation_date": 1518608793, "post_id": 48785278, "comment_id": 84574191, "body": "<a href=\"https://stackoverflow.com/questions/45777252/ios-how-to-pass-array-to-afnetworking-as-parameters-objective-c\" title=\"ios how to pass array to afnetworking as parameters objective c\">stackoverflow.com/questions/45777252/&hellip;</a> what about this."}, {"owner": {"reputation": 1334, "user_id": 2752300, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/aPYjn.jpg?s=128&g=1", "display_name": "Saad Chaudhry", "link": "https://stackoverflow.com/users/2752300/saad-chaudhry"}, "edited": false, "score": 0, "creation_date": 1518609229, "post_id": 48785278, "comment_id": 84574496, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45777252/ios-how-to-pass-array-to-afnetworking-as-parameters-objective-c\">iOS - How to pass array to AFNetworking as parameters (Objective-C)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "is_accepted": false, "score": 1, "last_activity_date": 1518607305, "creation_date": 1518607305, "answer_id": 48785975, "question_id": 48785278, "link": "https://stackoverflow.com/questions/48785278/how-can-i-send-the-array-as-a-parameter-to-url-using-get-request-without-afnetwo/48785975#48785975", "title": "how can I send the array as a parameter to url using get request without afnetworking", "body": "<p>I found the solution to my question</p>\n\n<p>the  solution is you have to create an array,you have to NSJSONSerialization to data and to encoded string this solves the issue</p>\n\n<pre><code>NSArray *myArray = @[@\"Employee\",@\"company_email\",@\"=\",Emailid];\n\nNSData *json = [NSJSONSerialization dataWithJSONObject:myArray options:0 error:nil];\n\nNSString *jsonString = [[NSString alloc] initWithData:json encoding:NSUTF8StringEncoding];\nNSLog(@\"jsonData as string:\\n%@\", jsonString);\n\nNSString *urlstr= [NSString stringWithFormat:@\"http://xx.xxx.xx.xxx/api/resource/Employee/?filters=[\\n%@]\",jsonString];\n</code></pre>\n\n<p>please check the updated question for full answer</p>\n"}, {"tags": [], "owner": {"reputation": 2269, "user_id": 1042817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/933d5931b3c78223981b0faeef11f85c?s=128&d=identicon&r=PG", "display_name": "Rocky", "link": "https://stackoverflow.com/users/1042817/rocky"}, "is_accepted": false, "score": 0, "last_activity_date": 1518624556, "creation_date": 1518624556, "answer_id": 48791535, "question_id": 48785278, "link": "https://stackoverflow.com/questions/48785278/how-can-i-send-the-array-as-a-parameter-to-url-using-get-request-without-afnetwo/48791535#48791535", "title": "how can I send the array as a parameter to url using get request without afnetworking", "body": "<p>You can use <a href=\"https://developer.apple.com/documentation/foundation/nsurlcomponents\" rel=\"nofollow noreferrer\">NSURLComponents</a> class to construct URL from their constituent parts.</p>\n\n<p>In your answer you are constructing queryString manually by self, it is ok with one parameter, but if you have multiple parameters then it will got hectic.</p>\n\n<p>for your example:</p>\n\n<pre><code>    NSURLComponents *urlComponents = [NSURLComponents componentsWithString:@\"http://13.229.45.226/api/resource/Employee/\"];\n    NSURLQueryItem *item1 = [NSURLQueryItem queryItemWithName:@\"filters\" value:@\"Employee\"];\n    NSURLQueryItem *item2 = [NSURLQueryItem queryItemWithName:@\"company_email\" value:@\"susee@lektrify.club\"];\n    [urlComponents setQueryItems: @[item1,item2]];\n    NSLog(@\"%@\",urlComponents.URL);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>http://13.229.45.226/api/resource/Employee/?filters=Employee&amp;company_email=susee@lektrify.club\n</code></pre>\n"}], "owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518673780, "creation_date": 1518605305, "last_edit_date": 1518673780, "question_id": 48785278, "link": "https://stackoverflow.com/questions/48785278/how-can-i-send-the-array-as-a-parameter-to-url-using-get-request-without-afnetwo", "title": "how can I send the array as a parameter to url using get request without afnetworking", "body": "<p>I have to send the array as one of the parameter to the url using get request the url is <a href=\"http://13.229.45.226/api/resource/Employee/?filters=[[\" rel=\"nofollow noreferrer\">http://13.229.45.226/api/resource/Employee/?filters=[[</a>\"Employee\", \"company_email\", \"=\", \"susee@lektrify.club\"]] . and i am using nsurl sessions for api calling.</p>\n\n<p>please find the below code</p>\n\n<pre><code>NSArray *myArray = @[@\"Employee\",@\"company_email\",@\"=\",Emailid];\n\n\nNSData *json = [NSJSONSerialization dataWithJSONObject:myArray options:0 error:nil];\n\nNSString *jsonString = [[NSString alloc] initWithData:json encoding:NSUTF8StringEncoding];\nNSLog(@\"jsonData as string:\\n%@\", jsonString);\n\nNSString *urlstr= [NSString stringWithFormat:@\"http://xx.xxx.xx.xxx/api/resource/Employee/?filters=[\\n%@]\",jsonString];\n\n NSLog(@\"%@\",urlstr);\n\n[apicall getDictionaryFromApiwithoutlogin:urlstr restfulType:kRestfulGet andUseContentType:NO withRequestBody:nil withheader:YES completionHandler:^(NSDictionary *result){\n    dispatch_async(dispatch_get_main_queue(), ^{ }];\n</code></pre>\n\n<p>this is the code written for the universal api calling in foe i am giving inputs.</p>\n\n<pre><code>    -(void)getDictionaryFromApiwithoutlogin:(NSString *)url restfulType:(NSInteger)restfulType andUseContentType:(BOOL)useContentType withRequestBody:(NSData*)httpBody withheader:(BOOL)header completionHandler:(void (^)(NSDictionary *isSuccess))isSuccess\n{\n\nloginstatus = [[NSUserDefaults standardUserDefaults] boolForKey:@\"loginStatus\"];\n\n    if (![APICall hasNetwork])\n    {\n        //  [customBezelActivityView removeViewAnimated:YES];\n        // [Util displayToastMessage:@\"No internet connection\"];\n        return;\n    }\n\n    /* RESTFUL request function, all API request will come here */\n    //url  = [url stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\nurl=[url stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n\n    NSLog(@\"url:%@\",url);\n\n    NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];\n    NSURLSession *session = [NSURLSession sessionWithConfiguration:configuration delegate:nil delegateQueue:nil];\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:url]\n                                                           cachePolicy:NSURLRequestUseProtocolCachePolicy\n                                                       timeoutInterval:300.0];\n    // set request variables\n    if (restfulType == kRestfulGet) {\n        [request setHTTPMethod:@\"GET\"];\n    } else if (restfulType == kRestfulPost) {\n        [request setHTTPMethod:@\"POST\"];\n    } else if (restfulType == kRestfulPut) {\n        [request setHTTPMethod:@\"PUT\"];\n    } else {\n        [request setHTTPMethod:@\"DELETE\"];\n    }\n\n    if (useContentType) {\n        [request setValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    }\nif (header) {\n    [request setValue:[NSString stringWithFormat:@\"Bearer %@\",[[NSUserDefaults standardUserDefaults]valueForKey:@\"access_token\"]] forHTTPHeaderField:@\"Authorization\"];\n}\n    if (httpBody != nil) {\n        request.HTTPBody = httpBody;\n    }\n\n    NSURLSessionDataTask *postDataTask = [session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n        if (error == nil)\n        {\n            NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *)response;\n            if ([httpResponse respondsToSelector:@selector(statusCode)])\n            {\n                NSInteger responseStatusCode = [httpResponse statusCode];\n                NSLog(@\"api response: %@\", httpResponse);\n                if (responseStatusCode == 200)\n                {\n                    NSDictionary *response = [NSJSONSerialization JSONObjectWithData:data options:0 error:NULL];\n                    isSuccess(response);\n                }else if (responseStatusCode==401)\n                {\n                    dispatch_async(dispatch_get_main_queue(), ^{\n                        [customBezelActivityView removeViewAnimated:YES];\n\n                        [APICall sigininpageafteraccestokenexperise];\n\n                    });\n\n                }\n                else if (responseStatusCode==500)\n                {\n                    dispatch_async(dispatch_get_main_queue(), ^{\n                        [customBezelActivityView removeViewAnimated:YES];\n\n\n                        [[NSNotificationCenter defaultCenter]postNotificationName:@\"usernotfound\" object:nil];\n                    });\n\n                }\n\n                else{\n                    [customBezelActivityView removeViewAnimated:YES];\n                    [APICall handleApiErrorCode:responseStatusCode];\n                }\n            }\n        }else\n            dispatch_async(dispatch_get_main_queue(), ^{\n                [customBezelActivityView removeViewAnimated:YES];\n                [Util handleErrorCodesForApi:(int)error.code];\n            });\n    }];\n    [postDataTask resume];\n    [session finishTasksAndInvalidate];\n\n\n}\n</code></pre>\n\n<p>When i try in post man array link this  [[\"Employee\", \"company_email\", \"=\", \"xxx@xxx.club\"]] . it is working how to for this array and add to url and make get request.</p>\n\n<p>thanks for quick response.</p>\n"}, {"tags": ["ios", "objective-c", "google-maps", "routes"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6914189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b347f507f0d618403e04fd5ae73b241f?s=128&d=identicon&r=PG&f=1", "display_name": "ikambadrahul", "link": "https://stackoverflow.com/users/6914189/ikambadrahul"}, "edited": false, "score": 0, "creation_date": 1518759650, "post_id": 48788273, "comment_id": 84644866, "body": "hello what is DropMaker over here?"}, {"owner": {"reputation": 6148, "user_id": 5922070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BMDaI.jpg?s=128&g=1", "display_name": "Shelly Pritchard", "link": "https://stackoverflow.com/users/5922070/shelly-pritchard"}, "reply_to_user": {"reputation": 1, "user_id": 6914189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b347f507f0d618403e04fd5ae73b241f?s=128&d=identicon&r=PG&f=1", "display_name": "ikambadrahul", "link": "https://stackoverflow.com/users/6914189/ikambadrahul"}, "edited": false, "score": 0, "creation_date": 1518763619, "post_id": 48788273, "comment_id": 84646180, "body": "ignore DropMaker, Actually i was using that in my project. Now i updated the code"}], "tags": [], "owner": {"reputation": 6148, "user_id": 5922070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BMDaI.jpg?s=128&g=1", "display_name": "Shelly Pritchard", "link": "https://stackoverflow.com/users/5922070/shelly-pritchard"}, "is_accepted": false, "score": 0, "last_activity_date": 1518763578, "last_edit_date": 1518763578, "creation_date": 1518614499, "answer_id": 48788273, "question_id": 48785156, "link": "https://stackoverflow.com/questions/48785156/draw-route-on-google-maps-with-animation-objective-c/48788273#48788273", "title": "Draw route on google maps with animation objective c", "body": "<p>Below answers for drawing route between two latitude and longitude with animation.</p>\n\n<pre><code>NSInteger animatePathIndex;\nNSTimer *animationTimer;\n\nGMSPath *path;\nGMSMutablePath *animatePath;\nGMSPolyline *animatePolyline;\n\n- (void)fetchPolylineWithOrigin:(CLLocation *)origin destination:(CLLocation *)destination {\n    NSString *originString = [NSString stringWithFormat:@\"%f,%f\", origin.coordinate.latitude, origin.coordinate.longitude];\n    NSString *destinationString = [NSString stringWithFormat:@\"%f,%f\", destination.coordinate.latitude, destination.coordinate.longitude];\n    NSString *directionsAPI = @\"https://maps.googleapis.com/maps/api/directions/json?\";\n    NSString *directionsUrlString = [NSString stringWithFormat:@\"%@&amp;origin=%@&amp;destination=%@&amp;mode=driving\", directionsAPI, originString, destinationString];\n    NSURL *directionsUrl = [NSURL URLWithString:directionsUrlString];\n\n    NSURLSessionDataTask *fetchDirectionsTask = [[NSURLSession sharedSession] dataTaskWithURL:directionsUrl completionHandler:\n     ^(NSData *data, NSURLResponse *response, NSError *error) {\n         NSDictionary *json = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&amp;error];\n         if(error) {\n             //Error in fetching poline\n             return;\n         }\n\n         NSArray *routesArray = [json objectForKey:@\"routes\"];\n\n         if ([routesArray count] &gt; 0) {\n             NSDictionary *routeDict = [routesArray objectAtIndex:0];\n             NSDictionary *routeOverviewPolyline = [routeDict objectForKey:@\"overview_polyline\"];\n             NSString *points = [routeOverviewPolyline objectForKey:@\"points\"];\n             GMSPath *path = [GMSPath pathFromEncodedPath:points];\n             [self drawPathWithOutAnimation:path];\n         }\n     }];\n    [fetchDirectionsTask resume];\n}\n\n-(void)drawPathWithAnimation:(GMSPath *)newPath {\n    path = newPath;\n    animatePolyline = [[GMSPolyline alloc] init];\n    animatePath = [[GMSMutablePath alloc] init];\n    animatePathIndex = 0;\n\n    [animationTimer invalidate];\n    animationTimer = nil;\n\n    //Whenever timer is triggered it will draw path\n    animationTimer = [NSTimer scheduledTimerWithTimeInterval:0.003  target:self selector:@selector(animatePolylinePath) userInfo:nil repeats:YES];\n}\n\n- (void)animatePolylinePath {\n\n    //After animaiton completed it will go to else case\n    if (animatePathIndex &lt; path.count) {\n        [animatePath addCoordinate:[path coordinateAtIndex:animatePathIndex]];\n        animatePolyline.path = animatePath;\n        animatePolyline.strokeColor = [UIColor redColor];\n        animatePolyline.strokeWidth = 2.5;\n\n        animatePolyline.geodesic = YES;\n        NSArray *styles = @[[GMSStrokeStyle solidColor:PathColor],\n                        [GMSStrokeStyle solidColor:PathColor]];\n        NSArray *lengths = @[@100000, @50000];\n        animatePolyline.spans = GMSStyleSpans(animatePolyline.path, styles, lengths, kGMSLengthRhumb);\n        animatePolyline.map = self.mapView;\n        animatePathIndex += 1;\n    }\n    else {\n        animatePathIndex = 0;\n        [animationTimer invalidate];\n        animationTimer = nil;\n    }\n}\n</code></pre>\n\n<p>For your another question, call local server api at which time you want to send location.</p>\n"}], "owner": {"reputation": 1, "user_id": 6914189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b347f507f0d618403e04fd5ae73b241f?s=128&d=identicon&r=PG&f=1", "display_name": "ikambadrahul", "link": "https://stackoverflow.com/users/6914189/ikambadrahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518763578, "creation_date": 1518604947, "last_edit_date": 1518605328, "question_id": 48785156, "link": "https://stackoverflow.com/questions/48785156/draw-route-on-google-maps-with-animation-objective-c", "title": "Draw route on google maps with animation objective c", "body": "<p>How can I draw route on google map with an animation effect, \nHow can I upload proper Latitude and Longitude to local server after some time interval, This data must be accurate.</p>\n"}, {"tags": ["objective-c", "uirefreshcontrol"], "answers": [{"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518631104, "post_id": 48793344, "comment_id": 84589024, "body": "&quot;Unfortunately there is no completion block on setContentOffset&quot; Actually, yes there is. There&#39;s a way to detect when the scroll animation ends."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518714058, "post_id": 48793344, "comment_id": 84628554, "body": "I see what you are getting at. Why not share your thoughts in another answer?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1518714996, "post_id": 48793344, "comment_id": 84629099, "body": "I don&#39;t think it&#39;s a major issue with your answer. I&#39;m just suggesting that &quot;no completion block&quot; is a bit strong. :)"}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": false, "score": 0, "last_activity_date": 1518630555, "creation_date": 1518630555, "answer_id": 48793344, "question_id": 48785140, "link": "https://stackoverflow.com/questions/48785140/manually-calling-uirefreshcontrol-and-using-setcontentoffset/48793344#48793344", "title": "Manually calling UIRefreshControl and using setContentOffset", "body": "<p>You need to wait for the scroll to finish before you can start the refresh. Unfortunately there is no completion block on <code>setContentOffset</code>, so try this.</p>\n\n<p>After creating your refresh control set the target and create a corresponding method.</p>\n\n<pre><code>[_refreshControl addTarget:self action:@selector(refreshRequested) forControlEvents:UIControlEventValueChanged];\n\n- (void)refreshRequested {\n    [_activityTableView reloadData];\n}\n</code></pre>\n\n<p>In your <code>viewDidAppear</code> you scroll to top and refresh when <strong>done</strong>.</p>\n\n<pre><code>[UIView animateWithDuration:0.25 delay:0 options:0 animations:^(void){        \n    self.activityTableView.contentOffset = CGPointMake(0, -self.refreshControl.frame.size.height);\n} completion:^(BOOL finished){\n    [self.refreshControl beginRefreshing];\n    [self refreshRequested];\n}];\n</code></pre>\n\n<p>When finished loading you need to end refresh and make sure to scroll back to zero position.</p>\n\n<pre><code>- (void)finishedLoading {\n    [_refreshControl endRefreshing];\n    [self.activityTableView setContentOffset:CGPointMake(0, 0) animated:YES];\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9359382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7ePmDMcDVQY/AAAAAAAAAAI/AAAAAAAADSI/WE4z5cIIxF4/photo.jpg?sz=128", "display_name": "Savan Kavaiya", "link": "https://stackoverflow.com/users/9359382/savan-kavaiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518630555, "creation_date": 1518604904, "question_id": 48785140, "link": "https://stackoverflow.com/questions/48785140/manually-calling-uirefreshcontrol-and-using-setcontentoffset", "title": "Manually calling UIRefreshControl and using setContentOffset", "body": "<p>I have implemented refreshControl as shown below in viewDidLoad():</p>\n\n<pre><code>refreshControl = [[UIRefreshControl alloc] init];\nif (@available(iOS 10.0, *)) {\n    self.tableView.refreshControl = refreshControl;\n} else {\n    [self.tableView addSubview:refreshControl];\n}\n</code></pre>\n\n<p>Now I am presenting another viewController which has options to select filters. And after selecting those filters you come back again to current viewController having refreshControl.</p>\n\n<p>I have added below code in viewDidAppear() for manually calling beginRefreshing:</p>\n\n<pre><code>if (self.filterChanged) {\n    self.filterChanged = NO;\n    [self.activityTableView setContentOffset:CGPointMake(0, - refreshControl.frame.size.height) animated:YES];\n    [refreshControl setHidden:NO];\n    [refreshControl beginRefreshing];\n}\n</code></pre>\n\n<p>I have used setContentOffset for scrolling back to top and showing refreshControl.\nThe only problem is suppose my tableView is half scrolled in between then there is a big gap between refreshControl.</p>\n\n<p>If my tableView is not scrolled then it works fine like I have pulled down to refresh, but if it is half scrolled then inspite of giving setContentOffset there is a big gap between refreshControl and tableview.</p>\n"}, {"tags": ["ios", "objective-c", "cgaffinetransform", "cgaffinetransformscale"], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 7751231, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LFVtn.jpg?s=128&g=1", "display_name": "SaMi GiMiX", "link": "https://stackoverflow.com/users/7751231/sami-gimix"}, "edited": false, "score": 0, "creation_date": 1518605067, "post_id": 48785024, "comment_id": 84571746, "body": "yes I tried this but if touched fast it all time remain the main size but I want in this case remain at the scaled size. This solution feels cured animation for the user."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1518605364, "last_edit_date": 1518605364, "creation_date": 1518604508, "answer_id": 48785024, "question_id": 48784978, "link": "https://stackoverflow.com/questions/48784978/how-to-prevent-2-animation-on-object-at-the-same-time-in-objective-c/48785024#48785024", "title": "How to prevent 2 Animation on Object at the same time in Objective-C?", "body": "<p>Try this </p>\n\n<pre><code>(void)MyLabelTouched\n{ \n   if(animRunning){return;}\n   animRunning = YES;\n   [ MyLabel.layer removeAllAnimations];\n    MyLabel.transform = CGAffineTransformIdentity;\n   [UIView animateWithDuration:.15 animations:^{\n        MyLabel.transform = CGAffineTransformMakeScale(1.5,1.5);\n    } completion:^(BOOL finished) {\n        [UIView animateWithDuration:.15 animations:^{\n            MyLabel.transform = CGAffineTransformIdentity;\n            animRunning = NO;\n        }];\n    }];\n }\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 7751231, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/LFVtn.jpg?s=128&g=1", "display_name": "SaMi GiMiX", "link": "https://stackoverflow.com/users/7751231/sami-gimix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531549784, "creation_date": 1518604361, "last_edit_date": 1531549784, "question_id": 48784978, "link": "https://stackoverflow.com/questions/48784978/how-to-prevent-2-animation-on-object-at-the-same-time-in-objective-c", "title": "How to prevent 2 Animation on Object at the same time in Objective-C?", "body": "<p>I have a <strong><code>UILabel</code></strong> and each time it touched, it'll scaled with <strong><code>CGAffineTransformMakeScale</code></strong> and animation, then back to real size with animation. Now if it touched before last animation ends, it'll scale the scaled object not the real size of main object and so it'll scaled more than it should to be scale. How to prevent this problem ? I want to second touch before last scale ending scale the main size of object.</p>\n\n<p>Here is My Code :</p>\n\n<pre><code>(void)MyLabelTouched\n{\n[UIView animateWithDuration:.15 animations:^{\n            MyLabel.transform = CGAffineTransformMakeScale(1.5,1.5);\n        } completion:^(BOOL finished) {\n            [UIView animateWithDuration:.15 animations:^{\n                MyLabel.transform = CGAffineTransformIdentity;\n            }];\n        }];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 560, "user_id": 3719248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dPEV.jpg?s=128&g=1", "display_name": "ibnetariq", "link": "https://stackoverflow.com/users/3719248/ibnetariq"}, "is_accepted": true, "score": 1, "last_activity_date": 1518603864, "creation_date": 1518603864, "answer_id": 48784815, "question_id": 48784515, "link": "https://stackoverflow.com/questions/48784515/row-actions-before-ios-11/48784815#48784815", "title": "Row actions before iOS 11", "body": "<blockquote>\n  <p>So, to make it clear, I want the user to swipe a row to show an action\n  (with different color background and a text). I don't care form where\n  it appears (trailing or leading).</p>\n</blockquote>\n\n<p>Do this </p>\n\n<pre><code>-(NSArray&lt;UITableViewRowAction *&gt; *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath{\n\n  UITableViewRowAction *deleteAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@\"  Delete  \" handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {\n                // your delete mechanism here\n            }];\n   deleteAction.backgroundColor = [UIColor redColor];\n        return @[deleteAction];\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 1626, "user_id": 5305817, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TyH63.jpg?s=128&g=1", "display_name": "Jaime Alc&#225;ntara Arnela", "link": "https://stackoverflow.com/users/5305817/jaime-alc%c3%a1ntara-arnela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 48784815, "answer_count": 1, "score": 0, "last_activity_date": 1520950109, "creation_date": 1518603019, "last_edit_date": 1518603276, "question_id": 48784515, "link": "https://stackoverflow.com/questions/48784515/row-actions-before-ios-11", "title": "Row actions before iOS 11", "body": "<p>I'm trying to add an action to a row in a tableview (with a swipe). By defect I can use this method to delete:</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {\n}\n</code></pre>\n\n<p>But I don't know how to make a custom action. I've read that they introduced it in iOS 11. What if I need it also for a previous version?</p>\n\n<p>Here is the method for iOS 11:</p>\n\n<pre><code>- (UISwipeActionsConfiguration *)tableView:(UITableView *)tableView trailingSwipeActionsConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath\n</code></pre>\n\n<p>As you can see I'm using iOS 11. So, to make it clear, I want the user to swipe a row to show an action (with different color background and a text). I don't care form where it appears (trailing or leading).</p>\n"}, {"tags": ["ios", "objective-c", "webrtc", "voip", "callkit"], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 4562267, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/784002101682768/picture?type=large", "display_name": "Rushang Prajapati", "link": "https://stackoverflow.com/users/4562267/rushang-prajapati"}, "edited": false, "score": 0, "creation_date": 1524723761, "post_id": 48822427, "comment_id": 87088112, "body": "Hello can you please refer this question <a href=\"https://stackoverflow.com/questions/50023429/how-can-we-handle-multiple-calls-with-pjsip-and-callkit\" title=\"how can we handle multiple calls with pjsip and callkit\">stackoverflow.com/questions/50023429/&hellip;</a>"}], "tags": [], "owner": {"reputation": 13, "user_id": 4470116, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2zRueFjZfeI/AAAAAAAAAAI/AAAAAAAAAEE/LDQv8js5NqQ/photo.jpg?sz=128", "display_name": "varun gakhar", "link": "https://stackoverflow.com/users/4470116/varun-gakhar"}, "is_accepted": true, "score": 1, "last_activity_date": 1518768121, "creation_date": 1518768121, "answer_id": 48822427, "question_id": 48783440, "link": "https://stackoverflow.com/questions/48783440/ios-no-audio-after-hold-using-webrtc-and-call-kit/48822427#48822427", "title": "iOS no audio after hold using webrtc and Call Kit", "body": "<p>I have edit the WebRtc framework, a patch work for me. You can follow this link for more information: \n<a href=\"https://bugs.chromium.org/p/webrtc/issues/detail?id=8126#\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/webrtc/issues/detail?id=8126#</a> </p>\n\n<p>You can download framework with this patch here: <a href=\"https://drive.google.com/open?id=114WjEF5bP1XwSN_AbY5ctkgJZKjlfduB\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=114WjEF5bP1XwSN_AbY5ctkgJZKjlfduB</a></p>\n"}], "owner": {"reputation": 13, "user_id": 4470116, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2zRueFjZfeI/AAAAAAAAAAI/AAAAAAAAAEE/LDQv8js5NqQ/photo.jpg?sz=128", "display_name": "varun gakhar", "link": "https://stackoverflow.com/users/4470116/varun-gakhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 1, "accepted_answer_id": 48822427, "answer_count": 1, "score": 0, "last_activity_date": 1518768121, "creation_date": 1518599821, "last_edit_date": 1518601531, "question_id": 48783440, "link": "https://stackoverflow.com/questions/48783440/ios-no-audio-after-hold-using-webrtc-and-call-kit", "title": "iOS no audio after hold using webrtc and Call Kit", "body": "<p>I am facing some serious issue with my internet calling app. We have discovered this in final testing, we are ready for launch but now this webrtc issue is some thing where we stuck. \nI am sharing the reference link of same issue as well. From this reference link i came to know that you are the call kit expert.\nHere is the link : <a href=\"https://bugs.chromium.org/p/webrtc/issues/detail?id=8126#\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/webrtc/issues/detail?id=8126#</a></p>\n\n<p>This is the issue:<br>\n<strong>What steps will reproduce the problem?</strong></p>\n\n<ol>\n<li>Create an WebRTC application with callkit integration</li>\n<li>Hold a call</li>\n<li>Unhold a call</li>\n</ol>\n\n<p><strong>What is the expected result?</strong></p>\n\n<p>You will still be able to hear the other side, and the other side will be able to hear you.</p>\n\n<p><strong>What do you see instead?</strong></p>\n\n<p>No audio being heard on either side.</p>\n\n<p><strong>Test Case: My internet call is set on hold /unhold when i receive other call from a landline.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/xWhMF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWhMF.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "bluetooth-lowenergy", "core-bluetooth", "gatt"], "comments": [{"owner": {"reputation": 571, "user_id": 1152149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdfbf7607db98a571276e63587399a3f?s=128&d=identicon&r=PG", "display_name": "Ethenyl", "link": "https://stackoverflow.com/users/1152149/ethenyl"}, "edited": false, "score": 0, "creation_date": 1518604279, "post_id": 48782945, "comment_id": 84571198, "body": "Hi there, have you checked you that you haven&#39;t activated the new &quot;soft OFF&quot; Bluetooth state from the Control Center? The button can be either dark, light grey or blue."}, {"owner": {"reputation": 41, "user_id": 9331486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e15ce8c829fa03237e4d5ba4372623?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/9331486/victor"}, "reply_to_user": {"reputation": 571, "user_id": 1152149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdfbf7607db98a571276e63587399a3f?s=128&d=identicon&r=PG", "display_name": "Ethenyl", "link": "https://stackoverflow.com/users/1152149/ethenyl"}, "edited": false, "score": 0, "creation_date": 1518703056, "post_id": 48782945, "comment_id": 84621063, "body": "@Ethenyl thanks!  I have active the bluetooth, It will get into didDiscoverPeripheral function. After it run into [self.cm connectPeripheral:self.connectedPeripheral options:nil]; Nothing happend! It will not get into didConnectPeripheral function."}, {"owner": {"reputation": 475, "user_id": 740857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa2c69fd4c3302628c7db23294eb630?s=128&d=identicon&r=PG", "display_name": "user740857", "link": "https://stackoverflow.com/users/740857/user740857"}, "edited": false, "score": 0, "creation_date": 1523901837, "post_id": 48782945, "comment_id": 86742369, "body": "I&#39;ve encountered the same issue. I posted on the developer forums here: <a href=\"https://forums.developer.apple.com/thread/100129\" rel=\"nofollow noreferrer\">forums.developer.apple.com/thread/100129</a>. Have you found a solution yet?"}, {"owner": {"reputation": 41, "user_id": 9331486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e15ce8c829fa03237e4d5ba4372623?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/9331486/victor"}, "edited": false, "score": 0, "creation_date": 1524451970, "post_id": 48782945, "comment_id": 86961521, "body": "I found out that&#39;s peripheral problem, my peripheral device bluetooth chip might not compatible with Bluetooth 5.0 devices."}, {"owner": {"reputation": 475, "user_id": 740857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa2c69fd4c3302628c7db23294eb630?s=128&d=identicon&r=PG", "display_name": "user740857", "link": "https://stackoverflow.com/users/740857/user740857"}, "edited": false, "score": 0, "creation_date": 1524504725, "post_id": 48782945, "comment_id": 86989929, "body": "How did you figure that out? Bluetooth 5 chipsets should support Bluetooth 4.x peripherals. Moreover, if you check the iOS Bluetooth settings screen, you can see that the iPhone actually establishes connection but the app&#39;s didConnectPeripheral does not get called."}, {"owner": {"reputation": 41, "user_id": 9331486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e15ce8c829fa03237e4d5ba4372623?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/9331486/victor"}, "edited": false, "score": 0, "creation_date": 1524542267, "post_id": 48782945, "comment_id": 87002695, "body": "I had two peripherals that manufacture by different manufacturer, peripheral A works perfectly on all devices, peripheral B only works on bluetooth 4.2 devices. I also tested through my code and a app called &quot;nRF Connect&quot;, both came out the same result above"}, {"owner": {"reputation": 41, "user_id": 9331486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e15ce8c829fa03237e4d5ba4372623?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/9331486/victor"}, "edited": false, "score": 0, "creation_date": 1524543167, "post_id": 48782945, "comment_id": 87002925, "body": "The weird part is that after I upgrade iPhone X to 11.3, peripheral B works flawlessly, so I&#39;m a little confused now, still not sure whether the problem is came from software or hardware. Hope that helps you."}, {"owner": {"reputation": 395, "user_id": 5196620, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86450486ecbb8eabb6151af93a0c9b5a?s=128&d=identicon&r=PG&f=1", "display_name": "Amruta", "link": "https://stackoverflow.com/users/5196620/amruta"}, "edited": false, "score": 0, "creation_date": 1550678947, "post_id": 48782945, "comment_id": 96359525, "body": "I see the same problem with the new iPad pro with 12.1.1. Is this a solved problem already? If yes, what is the solution?"}], "owner": {"reputation": 41, "user_id": 9331486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32e15ce8c829fa03237e4d5ba4372623?s=128&d=identicon&r=PG&f=1", "display_name": "Victor", "link": "https://stackoverflow.com/users/9331486/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 577, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1518598014, "creation_date": 1518598014, "question_id": 48782945, "link": "https://stackoverflow.com/questions/48782945/ios-core-bluetooth-not-working-on-bluetooth-5-0-devices-iphone-x-iphone-8-iph", "title": "iOS Core Bluetooth not working on Bluetooth 5.0 Devices (iPhone X, iPhone 8, iPhone 8 Plus)", "body": "<p>I'm working on BLE, my code run perfectly on bluetooth 4.2 devices (iPhone SE, iPhone 6, iPhone 6 Plus, iPhone 7). When I switch to on Bluetooth 5.0 devices(iPhone X, iPhone 8 Plus), my code will stop at didDiscoverPeripheral function, will not get into didConnectPeripheral function. </p>\n\n<pre><code>- (void) centralManager:(CBCentralManager *)central didDiscoverPeripheral:(CBPeripheral *)peripheral advertisementData:(NSDictionary *)advertisementData RSSI:(NSNumber *)RSSI {\n\n    if ([peripheral.name isEqualToString:bleDic[@\"name\"]]) {\n\n        self.connectedPeripheral = peripheral;\n        self.connectedPeripheral.delegate = self;                           \n        [self.cm connectPeripheral:self.connectedPeripheral options:nil];\n    }\n}\n\n- (void)centralManager:(CBCentralManager *)central didConnectPeripheral:(CBPeripheral *)peripheral {\n\n   [self.connectedPeripheral discoverServices:@[[CBUUID UUIDWithString:ServiceUUID]]];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "payment-gateway", "checksum", "paytm"], "comments": [{"owner": {"reputation": 646, "user_id": 2301721, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/969afc7a24a6eedc53cef6e304316e84?s=128&d=identicon&r=PG", "display_name": "ashishdhiman2007", "link": "https://stackoverflow.com/users/2301721/ashishdhiman2007"}, "edited": false, "score": 0, "creation_date": 1526907488, "post_id": 48782215, "comment_id": 87912000, "body": "You can drop an email at : payments.onboarding@paytm.com"}, {"owner": {"reputation": 2657, "user_id": 6479704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8l96n.jpg?s=128&g=1", "display_name": "Bijender Singh Shekhawat", "link": "https://stackoverflow.com/users/6479704/bijender-singh-shekhawat"}, "edited": false, "score": 0, "creation_date": 1544293972, "post_id": 48782215, "comment_id": 94227878, "body": "bhai kuchh solution mila??"}], "owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521730923, "creation_date": 1518595001, "last_edit_date": 1518601052, "question_id": 48782215, "link": "https://stackoverflow.com/questions/48782215/ios-paytm-something-went-wrong-it-may-be-due-to-any-of-these-reasons", "title": "iOS: PayTm-Something went wrong. It may be due to any of these reasons", "body": "<p>i am trying to integrate <code>payTm</code> <code>payment</code> <code>gateway</code>(<code>Production</code>) in my app.\ni generate all the required <code>credentials</code> for it but when i press pay button from app it get redirected to payTm page and <code>OOPS</code> Something went wrong screen... appears</p>\n\n<p><a href=\"https://i.stack.imgur.com/3kBawl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3kBawl.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "cllocationmanager"], "comments": [{"owner": {"reputation": 899, "user_id": 4103909, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000068758592/picture?type=large", "display_name": "Tree Nguyen", "link": "https://stackoverflow.com/users/4103909/tree-nguyen"}, "edited": false, "score": 0, "creation_date": 1518591894, "post_id": 48781258, "comment_id": 84564168, "body": "Please include anything you have tried or any error you are facing. Will help us more knowing what you have done."}, {"owner": {"reputation": 17, "user_id": 7510710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8ec5ef67bd455069f8dc28d5b1b0ac6?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil", "link": "https://stackoverflow.com/users/7510710/kapil"}, "reply_to_user": {"reputation": 899, "user_id": 4103909, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000068758592/picture?type=large", "display_name": "Tree Nguyen", "link": "https://stackoverflow.com/users/4103909/tree-nguyen"}, "edited": false, "score": 0, "creation_date": 1518592424, "post_id": 48781258, "comment_id": 84564410, "body": "I implemented standard location updates and they are working fine, the case now is my app is having one switch to change the location service from standard to significant. So after changing location service I  need some way to check with what my locationManager is configured with."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1518593457, "post_id": 48781258, "comment_id": 84564893, "body": "But your code is the thing setting the location manager mode, so your code already knows what the mode is."}, {"owner": {"reputation": 17, "user_id": 7510710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8ec5ef67bd455069f8dc28d5b1b0ac6?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil", "link": "https://stackoverflow.com/users/7510710/kapil"}, "edited": false, "score": 0, "creation_date": 1518600334, "post_id": 48781258, "comment_id": 84568647, "body": "ya that&#39;s correct i know my code only is setting which location service it wants to use. But my point here is, there should be some way for checking what mode it is operating on."}], "owner": {"reputation": 17, "user_id": 7510710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8ec5ef67bd455069f8dc28d5b1b0ac6?s=128&d=identicon&r=PG&f=1", "display_name": "Kapil", "link": "https://stackoverflow.com/users/7510710/kapil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518591060, "creation_date": 1518591060, "question_id": 48781258, "link": "https://stackoverflow.com/questions/48781258/how-to-check-whether-my-locationmanager-object-is-configured-with-standard-locat", "title": "How to check whether my locationManager object is configured with standard location updates or significant location updates?", "body": "<p>In my app, I am trying to change the type of location service which is configured with locationManager object i.e. standard location updates or significant location changes. So I need some way to check whether my locationManager object is configured with standard location updates or significant location updates?</p>\n\n<p>Any help will be much appreciated :)</p>\n"}, {"tags": ["ios", "objective-c", "nsnotificationcenter", "observers"], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 948433, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/Yofzp.png?s=128&g=1", "display_name": "Sonu", "link": "https://stackoverflow.com/users/948433/sonu"}, "edited": false, "score": 0, "creation_date": 1518597975, "post_id": 48781274, "comment_id": 84567060, "body": "I&#39;ve still confusion. If it&#39;s for filtering only why it&#39;s not as boolean type and which kind of object it&#39;s require. If possible please explain me using some example."}, {"owner": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "reply_to_user": {"reputation": 899, "user_id": 948433, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/Yofzp.png?s=128&g=1", "display_name": "Sonu", "link": "https://stackoverflow.com/users/948433/sonu"}, "edited": false, "score": 0, "creation_date": 1518602305, "post_id": 48781274, "comment_id": 84569894, "body": "A boolean is not enough. See my edit."}], "tags": [], "owner": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "is_accepted": false, "score": 0, "last_activity_date": 1518602293, "last_edit_date": 1518602293, "creation_date": 1518591138, "answer_id": 48781274, "question_id": 48781232, "link": "https://stackoverflow.com/questions/48781232/what-is-use-of-object-parameters-while-adding-observer-in-objective-c/48781274#48781274", "title": "What is use of &quot;object&quot; parameters while adding observer in objective-c?", "body": "<p>The object parameter is a filter: The observer method will only receive notifications when the sender of the notification is the given object. You may have multiple senders for a notification type. The object parameter identifies the sender. Setting the object to <code>desiredSender</code> is similar to</p>\n\n<pre><code>- (void)testmethod:(NSNotification *)notification {\n    if(notification.object == desiredSender) {\n        ...\n    }\n}\n</code></pre>\n\n<p>If you pass <code>nil</code> instead of an object notifications of all senders are received.</p>\n"}], "owner": {"reputation": 899, "user_id": 948433, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/Yofzp.png?s=128&g=1", "display_name": "Sonu", "link": "https://stackoverflow.com/users/948433/sonu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1518591448, "answer_count": 1, "score": 0, "last_activity_date": 1518602293, "creation_date": 1518590932, "last_edit_date": 1518597695, "question_id": 48781232, "link": "https://stackoverflow.com/questions/48781232/what-is-use-of-object-parameters-while-adding-observer-in-objective-c", "closed_reason": "Duplicate", "title": "What is use of &quot;object&quot; parameters while adding observer in objective-c?", "body": "<p>Normally, I'm using <code>nil</code> in object parameter while adding observer in any class. Now, My Question is what is use of <code>object</code> parameter while adding observer, for posting, I can understand that, It's useful for pass any object as notification object. </p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector: @selector(testMethod:) name:@\"userDetailUpdatedNotification\" object: nil];\n</code></pre>\n\n<p>Yes, This is bit silly question but please explain me if you have knowledge about it. So, I can't miss any advantage of passing object while adding observer.</p>\n\n<p>As per this <a href=\"https://stackoverflow.com/questions/11643866/what-is-param-for-object-nsnotification-addobserver\">question's answer</a>, I've still confusion. If it's for filtering only why it's not as boolean type and which kind of object it's require.  If possible please explain me using some example.</p>\n\n<p>Regards,</p>\n"}, {"tags": ["ios", "objective-c", "audio", "nsdata", "audiobuffer"], "comments": [{"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1518594207, "post_id": 48781075, "comment_id": 84565254, "body": "Where exactly are you stuck? If you are getting some raw data from your input device then you need to know what format these data are in. You should be able to either save/transform them into some format such as mp3 which can then easily be used for playback. If your data is already in such format then it is best to just write them <code>[audioData writeToFile: [folderPath stringByAppendingPathComponent:@&quot;temporaryFile.mp4&quot;], atomically: YES]</code> and then use any standard method to play this file."}, {"owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "reply_to_user": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1518594601, "post_id": 48781075, "comment_id": 84565440, "body": "@Matic Oblak: I want to create VoIP app. my problem is: I&#39;m not know how to play back audio receive from the web socket(NSData) my code in: <a href=\"https://stackoverflow.com/questions/48762974/how-to-play-nsdata-audio-buffering-receive-from-web-socket\" title=\"how to play nsdata audio buffering receive from web socket\">stackoverflow.com/questions/48762974/&hellip;</a>"}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1518595087, "post_id": 48781075, "comment_id": 84565679, "body": "<code>NSData</code> is nothing. It is a wrapper around raw data, a <code>void*</code> wrapper if you are familiar with C. It is used only because it is an <code>NSObject</code> and may be retained, released and in the end deallocated automatically. The data you receive may be anything and in general &quot;writing&quot; them uses encoding to put them into some nice compact file. In your case these raw data may be LPCM in which case you better search for how to play those. But if you are doing VoIP from scratch I believe your problems are way greater then playing this packet. You need to buffer your audio."}, {"owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "reply_to_user": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1518595464, "post_id": 48781075, "comment_id": 84565846, "body": "@Matic Oblak: thanks for your help, can you complete my source code?<a href=\"https://stackoverflow.com/questions/48762974/how-to-play-nsdata-audio-buffering-receive-from-web-socket\" title=\"how to play nsdata audio buffering receive from web socket\">stackoverflow.com/questions/48762974/&hellip;</a>"}], "owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518590192, "creation_date": 1518590192, "question_id": 48781075, "link": "https://stackoverflow.com/questions/48781075/how-to-play-audio-buffering-via-nsdata", "title": "how to play audio buffering Via NSData?", "body": "<p>I want to play audio buffering Via NSData :</p>\n\n<pre><code>NSData * audioData = [NSData dataWithBytes:inBuffer-&gt;mAudioData length:inBuffer-&gt;mAudioDataByteSize * NUM_BUFFERS];\n</code></pre>\n\n<p>in this code:</p>\n\n<pre><code>void AudioInputCallback(void * inUserData,\n                        AudioQueueRef inAQ,\n                        AudioQueueBufferRef inBuffer,\n                        const AudioTimeStamp * inStartTime,\n                        UInt32 inNumberPacketDescriptions,\n                        const AudioStreamPacketDescription * inPacketDescs)\n{\n    RecordState * recordState = (RecordState*)inUserData;\n    if (!recordState-&gt;recording)\n    {\n        printf(\"Not recording, returning\\n\");\n    }\n\n\n    printf(\"Writing buffer %lld\\n\", recordState-&gt;currentPacket);\n    OSStatus status = AudioFileWritePackets(recordState-&gt;audioFile,\n                                            false,\n                                            inBuffer-&gt;mAudioDataByteSize,\n                                            inPacketDescs,\n                                            recordState-&gt;currentPacket,\n                                            &amp;inNumberPacketDescriptions,\n                                            inBuffer-&gt;mAudioData);\n\n\n\n    if (status == 0)\n    {\n        recordState-&gt;currentPacket += inNumberPacketDescriptions;\n\n        NSData * audioData = [NSData dataWithBytes:inBuffer-&gt;mAudioData length:inBuffer-&gt;mAudioDataByteSize * NUM_BUFFERS];\n</code></pre>\n"}, {"tags": ["c++", "objective-c", "macos"], "comments": [{"owner": {"reputation": 461, "user_id": 609345, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd2d8f5be3e32a2c0045b5bc0240dd7d?s=128&d=identicon&r=PG&f=1", "display_name": "pipipi", "link": "https://stackoverflow.com/users/609345/pipipi"}, "edited": false, "score": 0, "creation_date": 1519034765, "post_id": 48780534, "comment_id": 84730426, "body": "Well, k, seems nobody cares about OSX."}, {"owner": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "edited": false, "score": 0, "creation_date": 1522494873, "post_id": 48780534, "comment_id": 86181887, "body": "so what you really want is a NSWindow to place debugging (or logging) output from <code>fprintf(stdout,</code> or stderr, or <code>cout &lt;&lt;</code> ?  Will this be a GUI app or a text/command line only app?"}, {"owner": {"reputation": 461, "user_id": 609345, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd2d8f5be3e32a2c0045b5bc0240dd7d?s=128&d=identicon&r=PG&f=1", "display_name": "pipipi", "link": "https://stackoverflow.com/users/609345/pipipi"}, "reply_to_user": {"reputation": 86437, "user_id": 981049, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AYKWV.jpg?s=128&g=1", "display_name": "Michael Dautermann", "link": "https://stackoverflow.com/users/981049/michael-dautermann"}, "edited": false, "score": 0, "creation_date": 1523448168, "post_id": 48780534, "comment_id": 86564004, "body": "Yup, that&#39;s what I mean to redirect stdout etc. It&#39;s a GUI app."}], "owner": {"reputation": 461, "user_id": 609345, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd2d8f5be3e32a2c0045b5bc0240dd7d?s=128&d=identicon&r=PG&f=1", "display_name": "pipipi", "link": "https://stackoverflow.com/users/609345/pipipi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1522492386, "creation_date": 1518587732, "last_edit_date": 1522492386, "question_id": 48780534, "link": "https://stackoverflow.com/questions/48780534/how-to-programmatically-open-a-console-window-on-macos-x", "title": "How to programmatically open a console window on MacOS X", "body": "<p>I wonder, if it's possible to programmingly open a console window and redirect IO to it on MacOS X, similar to the <code>AllocConsole()</code>, <code>GetStdHandle()</code> APIs on Windows. I'm intending to use it in a xxx.app application, which doesn't come with any console window by default; I need to dynamically create one on the fly, in Obj-C.</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nsuserdefaults"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1518587904, "post_id": 48780525, "comment_id": 84562539, "body": "How do you know the values are not being saved? BTW - do not use <code>setValue:forKey:</code>. Use <code>setObject:forKey:</code>."}, {"owner": {"reputation": 374, "user_id": 7083814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RB8qx.jpg?s=128&g=1", "display_name": "swapnil patel", "link": "https://stackoverflow.com/users/7083814/swapnil-patel"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518588030, "post_id": 48780525, "comment_id": 84562587, "body": "@rmaddy I have saved the value into NSUserDefaults and then tried to print the value for that key."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518588060, "post_id": 48780525, "comment_id": 84562597, "body": "Update your question with code that fully demonstrates your issue."}, {"owner": {"reputation": 374, "user_id": 7083814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RB8qx.jpg?s=128&g=1", "display_name": "swapnil patel", "link": "https://stackoverflow.com/users/7083814/swapnil-patel"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518588636, "post_id": 48780525, "comment_id": 84562810, "body": "@rmaddy I have added a sample of code. Like this, I have tried to save many values in NSUserDefaults. But any of values are not saved."}, {"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518588669, "post_id": 48780525, "comment_id": 84562820, "body": "i tried like this and result is, it only gives username and password to only one device which i design app."}, {"owner": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1518630580, "post_id": 48780525, "comment_id": 84588753, "body": "Your code should work. How do you exit the application? By pressing stop in Xcode? Try quitting the app using the quit menu command of your app."}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1518630852, "post_id": 48780525, "comment_id": 84588888, "body": "Does your application have a unique/valid product bundle identifier (<code>CFBundleIdentifier</code>)? By default\u2014no pun intended\u2014<code>NSUserDefaults</code> stores your preferences in a file named after the product identifier, which you can verify by locating the file <code>~&#47;Library&#47;Preferences&#47;&lt;your_product_ident&gt;.plist</code>. If your id isn&#39;t set/valid, they could be going into the bit bucket."}, {"owner": {"reputation": 374, "user_id": 7083814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RB8qx.jpg?s=128&g=1", "display_name": "swapnil patel", "link": "https://stackoverflow.com/users/7083814/swapnil-patel"}, "reply_to_user": {"reputation": 1973, "user_id": 1025559, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c07432533b97176034b6148f861d86bf?s=128&d=identicon&r=PG", "display_name": "Dirk", "link": "https://stackoverflow.com/users/1025559/dirk"}, "edited": false, "score": 0, "creation_date": 1518672098, "post_id": 48780525, "comment_id": 84603480, "body": "@Dirk I have tried to install the app using Xcode as well also by exporting as a Mac app and then install. But in both case, NSUserDefaults is not saving the value."}], "answers": [{"tags": [], "owner": {"reputation": 374, "user_id": 7083814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RB8qx.jpg?s=128&g=1", "display_name": "swapnil patel", "link": "https://stackoverflow.com/users/7083814/swapnil-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1518676191, "creation_date": 1518676191, "answer_id": 48801136, "question_id": 48780525, "link": "https://stackoverflow.com/questions/48780525/nsuserdefaults-is-not-saving-any-value-in-cocoa/48801136#48801136", "title": "NSUserDefaults is not saving any value in cocoa", "body": "<p>I have found my solution from the link given below:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22242106/mac-sandbox-created-but-no-nsuserdefaults-plist\">Mac sandbox created but no NSUserDefaults plist</a></p>\n\n<p>When you move the container while testing / debugging to the trash, the cfprefsd (see Activity Monitor) still keeps a link to the .plist. Empty the trash and force quit both cfprefsd (user and root).</p>\n"}], "owner": {"reputation": 374, "user_id": 7083814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RB8qx.jpg?s=128&g=1", "display_name": "swapnil patel", "link": "https://stackoverflow.com/users/7083814/swapnil-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "closed_date": 1518805457, "answer_count": 1, "score": 0, "last_activity_date": 1518676191, "creation_date": 1518587708, "last_edit_date": 1518601681, "question_id": 48780525, "link": "https://stackoverflow.com/questions/48780525/nsuserdefaults-is-not-saving-any-value-in-cocoa", "closed_reason": "Duplicate", "title": "NSUserDefaults is not saving any value in cocoa", "body": "<p>I am trying to save BOOL value and some simple string using NSUserDefaults. But NSUserdefaults is not saving any value. I have also used synchronize after saving the value into NSUserDefaults.The way I am using to save the BOOL into NSUserDefaults is as below. </p>\n\n<pre><code>[[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"loadfirsttimewindow\"];\n[[NSUserDefaults standardUserDefaults] synchronize];\n</code></pre>\n\n<p>And the way I am using to save the string into NSUserDefaults is as below. </p>\n\n<pre><code>[[NSUserDefaults standardUserDefaults] setValue:title1 forKey:@\"item1\"];\n[[NSUserDefaults standardUserDefaults] synchronize];\n</code></pre>\n\n<p>So please let me know that where my NSUserDefaults value has been stored and why it is not saving any value into NSUserDefaults.</p>\n\n<p>Simply I just want to save value which will remain saved even after the application has been closed.</p>\n\n<p>The sample of code I have used for saving the value into NSUserDefaults in given below:</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n\n    NSLog(@\"%hhd\",[[NSUserDefaults standardUserDefaults] boolForKey:@\"loadfirsttimewindow\"]);\n    if (![[NSUserDefaults standardUserDefaults] boolForKey:@\"loadfirsttimewindow\"])\n    {\n        [[NSUserDefaults standardUserDefaults] setBool:YES forKey:@\"loadfirsttimewindow\"];\n        [[NSUserDefaults standardUserDefaults] synchronize];\n         *I have written code for the thing I have to do only when the application is launched for the first time.*\n    }\n    else\n    {\n       *I have written code for the thing I have to after the application is launched for the first time.*\n    }\n }\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "unit-testing", "asynchronous", "ocmock"], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 1689896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Nwbsw.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/1689896/dave"}, "is_accepted": true, "score": 3, "last_activity_date": 1520059133, "last_edit_date": 1520059133, "creation_date": 1520058229, "answer_id": 49081332, "question_id": 48780467, "link": "https://stackoverflow.com/questions/48780467/how-to-use-ocmock-to-verify-that-an-asynchronous-method-does-not-get-called-in-o/49081332#49081332", "title": "How to use OCMock to verify that an asynchronous method does not get called in Objective C?", "body": "<p>I would recommend using an <code>OCMStrictClassMock</code> instead of the <code>OCMClassMock</code> (which gives you a nice mock). A strict mock will instantly fail your test if any method is called on it that you did not stub or expect, which makes your tests a lot more rigorous.</p>\n\n<p>If that's not an option for you, you can do what you described with:</p>\n\n<pre><code>OCMReject([mock methodThatShouoldExecute]);\n</code></pre>\n\n<p>See the \"Failing fast for regular (nice) mocks\" section in the <a href=\"http://ocmock.org/reference/\" rel=\"nofollow noreferrer\">OCMock docs</a>.</p>\n\n<p>Now as for waiting for your code which <em>may</em> call the forbidden method, that's another matter. You can't use <code>OCMVerifyAllWithDelay</code> since that returns immediately as soon as all expectations are met, it doesn't wait around a full second to see if illegal calls will be made to it. One option is to put a 1 second wait before verifying the mock each time. Ideally, you could also wait explicitly on your asynchronous task with an <a href=\"https://developer.apple.com/documentation/xctest/xctestexpectation\" rel=\"nofollow noreferrer\">XCTestExpectation</a>. Something like:</p>\n\n<pre><code>XCTestExpectation *asyncTaskCompleted = [self expectationWithDescription:@\"asyncTask\"];\n// Enqueued, in an onCompletion block, or whatever call \n//  ... [asyncTaskCompleted fulfill]\n\n[self waitForExpectationsWithTimeout:1 handler:nil]\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 1527064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64c9e5dbb69ec71c6988fb0e13ba3be2?s=128&d=identicon&r=PG", "display_name": "Bennie", "link": "https://stackoverflow.com/users/1527064/bennie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "accepted_answer_id": 49081332, "answer_count": 1, "score": 5, "last_activity_date": 1520059133, "creation_date": 1518587457, "question_id": 48780467, "link": "https://stackoverflow.com/questions/48780467/how-to-use-ocmock-to-verify-that-an-asynchronous-method-does-not-get-called-in-o", "title": "How to use OCMock to verify that an asynchronous method does not get called in Objective C?", "body": "<p>I want to verify that a function is <strong>not</strong> called. The function is executed in an asynchronous block call inside the tested function and therefore <code>OCMReject()</code> does not work. </p>\n\n<p>The way I have tested if async functions are indeed called would be as follows:</p>\n\n<pre><code>id mock = OCMClassMock([SomeClass class]);\nOCMExpect([mock methodThatShouoldExecute]);\nOCMVerifyAllWithDelay(mock, 1);\n</code></pre>\n\n<p>How would a test be done to test if a forbidden function is not called?\nSomething like:</p>\n\n<pre><code>VerifyNotCalled([mock methodThatShouoldExecute]);\nOCMVerifyAllWithDelay(mock, 1);\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1518575493, "post_id": 48778190, "comment_id": 84559180, "body": "What is the actual problem you are having with the code you posted? FYI - <code>self.propertyData</code> is not a mutable dictionary. Your static code shown at the top of your question is assigning a non-mutable dictionary full of non-mutable arrays and non-mutable dictionaries."}, {"owner": {"reputation": 1005, "user_id": 597737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/bbkmi.jpg?s=128&g=1", "display_name": "LeviXC", "link": "https://stackoverflow.com/users/597737/levixc"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518582678, "post_id": 48778190, "comment_id": 84561018, "body": "At the time the static code, which was my prototype code, was written to a mutable dictionary. Since that time I have removed all that, changed the dictionary to mutable, and wrote the method you see. The problem is the function I wrote does not add to propertyData. I have confirmed that the operation is works, and it does in fact execute the code in the else block, but the end result remains that propertyData in the NSLog is &quot;(null)&quot;.... which now that I think about it.. I did not init propertyData within the viewDidLoad.. problem solved. :D - Thanks!"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1518583017, "post_id": 48778190, "comment_id": 84561118, "body": "You should delete your question at this point."}, {"owner": {"reputation": 1005, "user_id": 597737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/bbkmi.jpg?s=128&g=1", "display_name": "LeviXC", "link": "https://stackoverflow.com/users/597737/levixc"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518587959, "post_id": 48778190, "comment_id": 84562561, "body": "Nah, It could help someone else in the future. Beside, any idea why the function may be reshuffling the input vs chronological order it was added?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518590539, "post_id": 48778190, "comment_id": 84563618, "body": "There are many existing questions where the problem was forgetting to initialize the array. I picked one of the many as a duplicate."}], "answers": [{"tags": [], "owner": {"reputation": 1005, "user_id": 597737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/bbkmi.jpg?s=128&g=1", "display_name": "LeviXC", "link": "https://stackoverflow.com/users/597737/levixc"}, "is_accepted": false, "score": 0, "last_activity_date": 1518588131, "creation_date": 1518588131, "answer_id": 48780613, "question_id": 48778190, "link": "https://stackoverflow.com/questions/48778190/method-to-create-and-update-a-nsmutabledictionary-array-of-objects/48780613#48780613", "title": "Method to create and update a NSMutableDictionary array of objects", "body": "<p>The answer was I forgot to init the NSMutableDictionary. The method itself works just fine.</p>\n\n<pre><code>self.propertyData = [[NSMutableDictionary alloc] init];\n</code></pre>\n"}], "owner": {"reputation": 1005, "user_id": 597737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/bbkmi.jpg?s=128&g=1", "display_name": "LeviXC", "link": "https://stackoverflow.com/users/597737/levixc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1518590497, "answer_count": 1, "score": 0, "last_activity_date": 1518588131, "creation_date": 1518570572, "last_edit_date": 1518588009, "question_id": 48778190, "link": "https://stackoverflow.com/questions/48778190/method-to-create-and-update-a-nsmutabledictionary-array-of-objects", "closed_reason": "Duplicate", "title": "Method to create and update a NSMutableDictionary array of objects", "body": "<p>I've been working on a Objective-C iOS app. It pulls down some data from our JSON API, and I've been trying to format it some by cherrypicking objects I want out.</p>\n\n<p>I wrote up a static version that works as I need with my UITableView nicely, however I needed to write a method to handle things more nicely.</p>\n\n<pre><code>self.propertyData = @{@\"Address\": @[ @{ @\"Street\": _tempPropertyData[@\"address\"][@\"line1\"] },\n                                   @{ @\"City\": _tempPropertyData[@\"address\"][@\"line2\"] },\n                                   @{ @\"County\": _tempPropertyData[@\"area\"][@\"countrysecsubd\"] },\n                                   @{ @\"Subdivision\": _tempPropertyData[@\"area\"][@\"subdname\"] },\n                                   @{ @\"Municipality\": _tempPropertyData[@\"area\"][@\"munname\"] },\n                                   @{ @\"Tax Area\": _tempPropertyData[@\"area\"][@\"taxcodearea\"] }],\n\n                    @\"Mortgage\": @[ @{ @\"Lender\": _tempPropertyData[@\"mortgage\"][@\"lender\"][@\"lastname\"] },\n                                    @{ @\"City\": _tempPropertyData[@\"mortgage\"][@\"lender\"][@\"city\"] },\n                                    @{ @\"State\": _tempPropertyData[@\"mortgage\"][@\"lender\"][@\"state\"] },\n                                    @{ @\"Zip code\": _tempPropertyData[@\"mortgage\"][@\"lender\"][@\"zip\"] },\n                                    @{ @\"Loan Amount\": _tempPropertyData[@\"mortgage\"][@\"amount\"] },\n                                    @{ @\"Loan Date\": _tempPropertyData[@\"mortgage\"][@\"date\"] },\n                                    @{ @\"Interest Rate\": _tempPropertyData[@\"mortgage\"][@\"interestrate\"] },\n                                    @{ @\"Loan Type\": _tempPropertyData[@\"mortgage\"][@\"loantypecode\"] },\n                                    @{ @\"Deed Type\": _tempPropertyData[@\"mortgage\"][@\"deedtype\"] },\n                                    @{ @\"Term\": _tempPropertyData[@\"mortgage\"][@\"term\"] },\n                                    @{ @\"Maturity Date\": _tempPropertyData[@\"mortgage\"][@\"duedate\"] }\n                                    ]};\n</code></pre>\n\n<p>I wanted to create a function to create each section by calling </p>\n\n<pre><code>[self addJsonData:@\"Address\" Key:@\"Street\" Value:_tempPropertyData[@\"address\"][@\"line1\"]];\n</code></pre>\n\n<p>No matter what I work up, I can't seem to match it, create it or reach my goal. I'm just not understanding it for some reason. self.propertyData is a NSMutableDictionary, and my understanding is that I have created a dictionary with an array of objects, but I guess not.</p>\n\n<pre><code>-(void)addJsonData:(NSString*)parent Key:(NSString*)key Value:(NSString*)value {\n\n    if([self.propertyData objectForKey:parent]) {\n        // Yes Dictionary with that parent\n        NSDictionary *aDic= [NSDictionary dictionaryWithObjectsAndKeys:value, key, nil];\n        NSMutableArray *innerDictArray = self.propertyData[parent];\n        [innerDictArray addObject:aDic];\n        [self.propertyData setObject:innerDictArray forKey:parent];\n\n    } else {\n        // No Dictionary with that parent\n        NSDictionary *aDic= [NSDictionary dictionaryWithObjectsAndKeys:value, key, nil];\n        NSMutableArray *innerDictArray = [NSMutableArray arrayWithObjects:aDic,nil];\n        [self.propertyData setObject:innerDictArray forKey:parent];\n    }\n//    NSLog(@\"%@\", self.propertyData);\n}\n</code></pre>\n\n<p>How can I create and update a dictionary that would match the format of what I'm trying to create from my static version?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "libgdx", "robovm"], "answers": [{"tags": [], "owner": {"reputation": 3581, "user_id": 1936873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MxEO9.jpg?s=128&g=1", "display_name": "Netero", "link": "https://stackoverflow.com/users/1936873/netero"}, "is_accepted": false, "score": 0, "last_activity_date": 1518569574, "creation_date": 1518569574, "answer_id": 48778065, "question_id": 48777976, "link": "https://stackoverflow.com/questions/48777976/libgdx-how-to-fix-missing-asset-catalog-in-ioslauncher-app/48778065#48778065", "title": "Libgdx how to fix Missing Asset Catalog in &#39;IOSLauncher.app&#39;?", "body": "<p>here is how I solved it :</p>\n\n<p>Generate Assets.xcassets folder.\nCreate an empty iOS project with Xcode 9, give it whatever name. Then refer to Assets.xcassets folder in left panel:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ovEAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ovEAl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Double click to open it. Xcode creates a default asset catalog named \"AppIcon\". Select \"AppIcon\", then add all icon size of your app.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kimak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kimak.png\" alt=\"enter image description here\"></a></p>\n\n<p>Close this windows and save project. Then refer to this project's folder in Finder:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ei2d8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ei2d8.png\" alt=\"enter image description here\"></a></p>\n\n<p>There will be a folder called \"Assets.xcassets\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/i3sh5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3sh5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Open your RoboVM project's folder, then go to the folder where you set to save your iOS assets.\nThis folder will be like \"data\", \"resource\". To know which, just open \"robovm.xml\" file, there will be a node named \"resources\", and then it will tell you which folder RoboVM will refer to when building iOS app with given assets.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TAJqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TAJqf.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my case, it will be \"data\" folder, just under my iOS project's folder:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hMp7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMp7J.png\" alt=\"enter image description here\"></a></p>\n\n<p>Copy \"Assets.xcassets\" folder from the project we just created with Xcode 9 to \"data\" folder.</p>\n\n<p>Modify your iOS project's \"Info.plist.xml\" file.\nUnder \"dict\" node, add like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tWsSs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWsSs.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then comment out all the icon info in \"CFBundleIcons\", you will not use this anymore.</p>\n\n<pre><code>&lt;!--key&gt;CFBundleIcons&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundlePrimaryIcon&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;CFBundleIconFiles&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;Icon&lt;/string&gt;\n                &lt;string&gt;Icon-72&lt;/string&gt;\n            &lt;/array&gt;\n        &lt;/dict&gt;\n    &lt;/dict--&gt;\n</code></pre>\n"}], "owner": {"reputation": 3581, "user_id": 1936873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MxEO9.jpg?s=128&g=1", "display_name": "Netero", "link": "https://stackoverflow.com/users/1936873/netero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518569574, "creation_date": 1518568928, "question_id": 48777976, "link": "https://stackoverflow.com/questions/48777976/libgdx-how-to-fix-missing-asset-catalog-in-ioslauncher-app", "title": "Libgdx how to fix Missing Asset Catalog in &#39;IOSLauncher.app&#39;?", "body": "<p>I get this problem when I upload my app :</p>\n\n<blockquote>\n  <p>Missing Asset Catalog - Your app is missing the asset catalog file in\n  'IOSLauncher.app'.</p>\n</blockquote>\n\n<p>I am using robovm to create the IPA file here is my info.plist</p>\n\n<pre><code> &lt;key&gt;CFBundleIcons&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundlePrimaryIcon&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;CFBundleIconFiles&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;Icon&lt;/string&gt;\n                &lt;string&gt;Icon-72&lt;/string&gt;\n            &lt;/array&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n</code></pre>\n\n<p>I am using xCode9 </p>\n"}, {"tags": ["ios", "objective-c", "react-native", "react-native-push-notification"], "comments": [{"owner": {"reputation": 660, "user_id": 4288739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AnqCd.jpg?s=128&g=1", "display_name": "Tahmid Rahman", "link": "https://stackoverflow.com/users/4288739/tahmid-rahman"}, "edited": false, "score": 0, "creation_date": 1519810593, "post_id": 48777894, "comment_id": 85057011, "body": "did you find any solution?"}, {"owner": {"reputation": 754, "user_id": 4830247, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c67384fe82bffd4c177e6b6659864595?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Fakelastname", "link": "https://stackoverflow.com/users/4830247/joseph-fakelastname"}, "reply_to_user": {"reputation": 660, "user_id": 4288739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AnqCd.jpg?s=128&g=1", "display_name": "Tahmid Rahman", "link": "https://stackoverflow.com/users/4288739/tahmid-rahman"}, "edited": false, "score": 0, "creation_date": 1519844145, "post_id": 48777894, "comment_id": 85078189, "body": "Yeah, I rm -rf&#39;ed my whole project and recloned it. Worked like a charm. These deprecation warnings aren&#39;t what&#39;s causing the build to fail"}], "owner": {"reputation": 754, "user_id": 4830247, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c67384fe82bffd4c177e6b6659864595?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Fakelastname", "link": "https://stackoverflow.com/users/4830247/joseph-fakelastname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518568177, "creation_date": 1518568177, "question_id": 48777894, "link": "https://stackoverflow.com/questions/48777894/react-native-pushnotificationios-compile-error", "title": "react-native PushNotificationIos compile error", "body": "<p>TL;DR How to use UNNotificationRequest with react-native?</p>\n\n<p>Trying to implement push notification handling in react-native. In the react-native documentation it says that I should add the following to my AppDelegate.m:</p>\n\n<pre><code>// Required to register for notifications\n- (void)application:(UIApplication *)application didRegisterUserNotificationSettings:(UIUserNotificationSettings *)notificationSettings\n{\n  [RCTPushNotificationManager didRegisterUserNotificationSettings:notificationSettings];\n}\n// Required for the register event.\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken\n{\n  [RCTPushNotificationManager didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n}\n// Required for the notification event. You must call the completion handler after handling the remote notification.\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\n                                                      fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler\n{\n  [RCTPushNotificationManager didReceiveRemoteNotification:userInfo fetchCompletionHandler:completionHandler];\n}\n// Required for the registrationError event.\n- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error\n{\n  [RCTPushNotificationManager didFailToRegisterForRemoteNotificationsWithError:error];\n}\n// Required for the localNotification event.\n- (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification\n{\n  [RCTPushNotificationManager didReceiveLocalNotification:notification];\n}\n</code></pre>\n\n<p>The problem is that the local notification method gives me a build error:</p>\n\n<pre><code>'UILocalNotification' is deprecated: first deprecated in iOS 10.0 - Use UserNotifications Framework's UNNotificationRequest\n</code></pre>\n\n<p>So that's easy to fix, I just need to use UNNotificationRequest, right? My question is, how do I import it?\nThe doc page looks like this:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/usernotifications/unnotificationrequest\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/usernotifications/unnotificationrequest</a></p>\n\n<p>They assume that I know how to import it. Which I do not. How do I find out how to do this?</p>\n\n<p>PS: No swift please. objc only. react-native uses objc.</p>\n"}, {"tags": ["objective-c", "arrays", "pointers", "cocoa-touch", "nsmutablearray"], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 182919, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0756b31f418a4f46592ab7dd0f0d322f?s=128&d=identicon&r=PG", "display_name": "Kevin McFadden", "link": "https://stackoverflow.com/users/182919/kevin-mcfadden"}, "edited": false, "score": 0, "creation_date": 1518576958, "post_id": 48778813, "comment_id": 84559509, "body": "It worked perfectly.  Thanks, maddy!  But can you explain to me why this solution worked.  Is it that I was creating a new unique instance of the name &quot;mapcoords&quot; each time at a different memory location?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 335, "user_id": 182919, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0756b31f418a4f46592ab7dd0f0d322f?s=128&d=identicon&r=PG", "display_name": "Kevin McFadden", "link": "https://stackoverflow.com/users/182919/kevin-mcfadden"}, "edited": false, "score": 0, "creation_date": 1518577166, "post_id": 48778813, "comment_id": 84559560, "body": "No. In your code you kept reusing the same mutable array referenced by the <code>mapcoords</code> variable. You added 4 numbers, add a reference to <code>mapcoords</code> into the <code>clustercoords</code> array. Then you removed the 4 numbers and added 4 new numbers. You then added another reference to <code>mapcoords</code> into the <code>clustercoords</code> array. Repeat over and over. In the end you had X number of references to the one <code>mapcoords</code> array in <code>clustercoords</code> and the one <code>mapcoords</code> was either empty or had the last set of 4 numbers in it depending on when you exited the while loop."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1518575804, "creation_date": 1518575804, "answer_id": 48778813, "question_id": 48777831, "link": "https://stackoverflow.com/questions/48777831/nsmutablearray-of-nsmutablearrays/48778813#48778813", "title": "NSMutableArray of NSMutableArrays", "body": "<p>Your assumption is correct. Move the declaration and creation of <code>mapcoords</code> inside the <code>while</code> loop.</p>\n\n<pre><code>NSMutableArray *clustercoords = [[NSMutableArray alloc] init];\n\nwhile (!FINISHED) {\n    NSMutableArray *mapcoords = [[NSMutableArray alloc] init]; \n    for(int j = 1; j &lt;= 4; j++) {\n       u_int32_t x = arc4random_uniform(45);\n       [mapcoords addObject:@(x)];\n    }\n\n    [clustercoords addObject:mapcoords];\n}\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 182919, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0756b31f418a4f46592ab7dd0f0d322f?s=128&d=identicon&r=PG", "display_name": "Kevin McFadden", "link": "https://stackoverflow.com/users/182919/kevin-mcfadden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 48778813, "answer_count": 1, "score": 0, "last_activity_date": 1518575804, "creation_date": 1518567733, "last_edit_date": 1518575601, "question_id": 48777831, "link": "https://stackoverflow.com/questions/48777831/nsmutablearray-of-nsmutablearrays", "title": "NSMutableArray of NSMutableArrays", "body": "<p>I want to create an NSMutableArray of NSMutableArrays.  Below is the psuedo code:</p>\n\n<pre><code>NSMutableArray *mapcoords = [[NSMutableArray alloc] init]; \nNSMutableArray *clustercoords = [[NSMutableArray alloc] init];\n\nwhile (!FINISHED)\n{\n   for(int j = 1;j &lt;= 4;j++)\n    {\n       x = arc4random_uniform(45);\n       [mapcoords addobject:[NSNumber numberWitInt:x]];\n\n    }\n\n    [clustercoords addobject:mapcoords];\n    [mapcoords removeAllObjects];\n}\n</code></pre>\n\n<p>When I inspect the \"clustercoords\" array at the end of the loop, all of the objects contain the same values.  I figured this must be because I am pointing to the same object (mapcoords) every time I add it to clustercoords.</p>\n\n<p>I assume that I would need a different several different \"mapcoords\" arrays so that the objects in mapccords are unique.  Is this the correct assumption?  Is there another alternative?</p>\n"}, {"tags": ["objective-c", "null", "completionhandler"], "comments": [{"owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "edited": false, "score": 1, "creation_date": 1518567077, "post_id": 48777557, "comment_id": 84557037, "body": "They are equivalent, but by convention, <code>nil</code> is used for objects, <code>Nil</code> is used for class objects, and <code>NULL</code> is generally used for all other pointer types (including out pointers to objects, like <code>NSError **</code>."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518568173, "post_id": 48777557, "comment_id": 84557349, "body": "Apple&#39;s own documentation guides shows <code>nil</code> for block pointers such as completion handlers."}], "answers": [{"tags": [], "owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "is_accepted": false, "score": 0, "last_activity_date": 1518566838, "creation_date": 1518566838, "answer_id": 48777693, "question_id": 48777557, "link": "https://stackoverflow.com/questions/48777557/calling-a-function-that-takes-a-completion-handler-that-im-not-going-to-use-do/48777693#48777693", "title": "Calling a function that takes a completion handler that I&#39;m not going to use, do I use nil, NULL or something else?", "body": "<p>Apple uses NULL in at least some of their Objective-C docs.  Here's <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622515-animatewithduration\" rel=\"nofollow noreferrer\">an example</a>.  </p>\n\n<p>For a general discussion of nil vs NULL in Objective-C, see <a href=\"https://stackoverflow.com/questions/1564410/when-should-i-use-nil-and-null-in-objective-c/\">this SO</a>.</p>\n\n<p>I've just used NULL in Obj-C to match Apple's docs.  In Swift, use nil.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 3217418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24731d8434f419b711faea2fc899f9c?s=128&d=identicon&r=PG&f=1", "display_name": "mdb29", "link": "https://stackoverflow.com/users/3217418/mdb29"}, "edited": false, "score": 0, "creation_date": 1518567581, "post_id": 48777736, "comment_id": 84557192, "body": "So I guess my next question would be in this case, is a completion handler (a block) a pointer? I realise it is just convention and won&#39;t effect what happens."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "reply_to_user": {"reputation": 33, "user_id": 3217418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24731d8434f419b711faea2fc899f9c?s=128&d=identicon&r=PG&f=1", "display_name": "mdb29", "link": "https://stackoverflow.com/users/3217418/mdb29"}, "edited": false, "score": 0, "creation_date": 1518568487, "post_id": 48777736, "comment_id": 84557444, "body": "@mdb29 I fixed up the answer to better match the updated question."}], "tags": [], "owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "is_accepted": true, "score": 0, "last_activity_date": 1518568400, "last_edit_date": 1518568400, "creation_date": 1518567100, "answer_id": 48777736, "question_id": 48777557, "link": "https://stackoverflow.com/questions/48777557/calling-a-function-that-takes-a-completion-handler-that-im-not-going-to-use-do/48777736#48777736", "title": "Calling a function that takes a completion handler that I&#39;m not going to use, do I use nil, NULL or something else?", "body": "<p>Xcode has a \"Jump to Definition\" feature that can be used to answer this question.</p>\n\n<p>Starting with <code>nil</code> takes us to MacTypes.h  </p>\n\n<pre><code>#define nil __DARWIN_NULL\n</code></pre>\n\n<p>Following <code>__DARWIN_NULL</code> to _types.h we have</p>\n\n<pre><code>#define __DARWIN_NULL ((void *)0)\n</code></pre>\n\n<p>And starting from <code>NULL</code> takes us to stddef.h </p>\n\n<pre><code>#define NULL ((void*)0)\n</code></pre>\n\n<p>So <code>nil</code> and <code>NULL</code> are the same thing. By convention, <code>nil</code> is used for objects, and <code>NULL</code> is used for other pointer types. </p>\n\n<p>The completion handler takes a <code>block</code> as an argument, and <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html#//apple_ref/doc/uid/TP40011210-CH8\" rel=\"nofollow noreferrer\">a <code>block</code> is an Objective-C object</a> so by convention, <code>nil</code> should be used when the completion block is not needed.</p>\n"}], "owner": {"reputation": 33, "user_id": 3217418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f24731d8434f419b711faea2fc899f9c?s=128&d=identicon&r=PG&f=1", "display_name": "mdb29", "link": "https://stackoverflow.com/users/3217418/mdb29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 48777736, "answer_count": 2, "score": 1, "last_activity_date": 1518568400, "creation_date": 1518565869, "last_edit_date": 1518567729, "question_id": 48777557, "link": "https://stackoverflow.com/questions/48777557/calling-a-function-that-takes-a-completion-handler-that-im-not-going-to-use-do", "title": "Calling a function that takes a completion handler that I&#39;m not going to use, do I use nil, NULL or something else?", "body": "<p>When calling a method that has a completion handler as one of it's arguments, if I don't plan on using it, what is an appropriate argument to use?\ne.g.</p>\n\n<pre><code> [self.navigationController dismissViewControllerAnimated:YES completion:NULL];\n</code></pre>\n\n<p>There are lots of examples of the differences between NULL and nil, I was thinking NULL as I think completion handlers are more of a C++ thing and not specific to Objective-c, but I may be barking up the wrong tree.</p>\n\n<p>Do I use NULL, nil or something else? </p>\n\n<p><strong>EDIT:</strong>\nSorry I should have been more clear, I understand that nil and NULL are equivalent and it's convention to use nil for objects and NULL for pointers. I was asking more about which one I use for a completion handler.</p>\n"}, {"tags": ["objective-c", "automatic-ref-counting", "objective-c-blocks"], "comments": [{"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1518553395, "post_id": 48772521, "comment_id": 84551644, "body": "You could keep it alive by creating a retain cycle: <a href=\"https://gist.github.com/anonymous/ef027df9fd18f5b4e6c821299973df16\" rel=\"nofollow noreferrer\">gist.github.com/anonymous/ef027df9fd18f5b4e6c821299973df16</a> but I&#39;m not sure I&#39;d recommend that."}], "answers": [{"tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": true, "score": 2, "last_activity_date": 1518543771, "creation_date": 1518543771, "answer_id": 48772628, "question_id": 48772521, "link": "https://stackoverflow.com/questions/48772521/object-with-callback-block-destroyed-after-init/48772628#48772628", "title": "Object with callback block destroyed after init", "body": "<p>If you don't have a strong reference <em>to</em> the <code>CustomOnScreenshot</code> instance, then the object will be deallocated by ARC as as soon as <code>+onScreenshot:</code> finishes execution.</p>\n\n<p>That's why the <code>@property</code> fixes it.</p>\n\n<p>If you don't want an <code>@property</code>, then I'd suggest a singleton.</p>\n"}], "owner": {"reputation": 123, "user_id": 1176929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81d3d993d05472c0ebaf1683fb39f3bd?s=128&d=identicon&r=PG", "display_name": "jegorenkov", "link": "https://stackoverflow.com/users/1176929/jegorenkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 48772628, "answer_count": 1, "score": 1, "last_activity_date": 1518543771, "creation_date": 1518543291, "question_id": 48772521, "link": "https://stackoverflow.com/questions/48772521/object-with-callback-block-destroyed-after-init", "title": "Object with callback block destroyed after init", "body": "<p>I have such a helper class.</p>\n\n<pre><code>@interface CustomOnScreenshot : NSObject;\n\n@property (copy) void (^finishedCallback)(id sender);\n\n-(instancetype)initWithCallback: (void (^)(id sender))callback;\n\n+(instancetype)onScreenshot:(void (^)(id sender))callback;\n\n@end\n\n@implementation CustomOnScreenshot\n\n-(instancetype)initWithCallback: (void (^)(id sender))callback{\n    self = [super init];\n    if (self) {\n        self.finishedCallback = callback;\n        [self subscribeEvent];\n    }\n    return self;\n}\n\n+(instancetype)onScreenshot:(void (^)(id sender))callback{\n    CustomOnScreenshot * onScreenShot = [self new];\n    [onScreenShot setFinishedCallback:callback];\n    return onScreenShot;\n}\n\n-(void)subscribeEvent{\n    NSLog(@\"CustomOnScreenshot subscribeEvent\");\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(doOnScreenShot:) name:UIApplicationUserDidTakeScreenshotNotification object:nil];\n}\n\n-(void)unsubscribeEvent{\n    [[NSNotificationCenter defaultCenter] removeObserver:self name:UIApplicationUserDidTakeScreenshotNotification object:nil];\n}\n\n-(void)doOnScreenShot: (id)sender{\n    if (self.finishedCallback) {\n        self.finishedCallback(sender);\n    }\n}\n\n-(void)dealloc{\n    NSLog(@\"CustomOnScreenshot dealloc\");\n    [self unsubscribeEvent];\n}\n</code></pre>\n\n<p>The problem is that if you use it as intended, then the object is immediately destroyed</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    [CustomOnScreenshot onScreenshot:^(id sender) {\n        // CUSTOM code\n    }];\n}\n</code></pre>\n\n<p>Log:<br>\n<i>CustomOnScreenshot subscribeEvent</i><br>\n<i>CustomOnScreenshot dealloc</i></p>\n\n<p>All works only when I use the result in property, but I find this excessive</p>\n\n<pre><code>@property (strong, nonatomic) CustomOnScreenshot * customOnScreenshot;\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.customOnScreenshot = [CustomOnScreenshot onScreenshot:^(id sender) {\n        // CUSTOM code\n    }];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518543360, "post_id": 48772296, "comment_id": 84546428, "body": "Where&#39;s the Objective-C code?"}, {"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518544194, "post_id": 48772296, "comment_id": 84546885, "body": "This is objective C only."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1518544344, "post_id": 48772296, "comment_id": 84546974, "body": "No, that is C code. There is no Objective-C code in your question."}], "answers": [{"comments": [{"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518544678, "post_id": 48772781, "comment_id": 84547165, "body": "thanks! I was trying but was getting some error at sysctl function."}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518544723, "post_id": 48772781, "comment_id": 84547189, "body": "@user1101733: Why don&#39;t you add your attempt to the <i>question?</i> Then everybody sees that you tried something, and we can point out the exact problem."}, {"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518544832, "post_id": 48772781, "comment_id": 84547260, "body": "yes,I will next time.     One question Why did you use &#39;stride&#39; instead of size?"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 1, "creation_date": 1518545219, "post_id": 48772781, "comment_id": 84547444, "body": "@user1101733: Swift distinguishes between &quot;size&quot; (size without struct padding) and &quot;stride&quot; (size including struct padding). They are equal for &quot;simple types&quot; like integer, and also equal for all types imported from C, so it would not make a difference here. But generally, &quot;stride&quot; is in Swift what &quot;sizeof&quot; is in C."}, {"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518545228, "post_id": 48772781, "comment_id": 84547450, "body": "I was passing mib without &amp; and was getting &quot; Cannot convert value of type &#39;[Int32]&#39; to expected argument type &#39;UnsafeMutablePointer&lt;Int32&gt;!&#39;&quot;. Could you please help me from where I can clear all these concepts? This is also working if we pass mib like this -UnsafeMutablePointer(mutating: mib)."}, {"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518545336, "post_id": 48772781, "comment_id": 84547508, "body": "Will study about it more the actual usage and difference between size and stride"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518545389, "post_id": 48772781, "comment_id": 84547544, "body": "@user1101733: This might be useful: <a href=\"https://stackoverflow.com/q/47610995/1187415\">stackoverflow.com/q/47610995/1187415</a>."}, {"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518545572, "post_id": 48772781, "comment_id": 84547634, "body": "Thanks @Martin R"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "reply_to_user": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518545579, "post_id": 48772781, "comment_id": 84547637, "body": "@user1101733: The first parameter of sysctl is a <i>mutable</i> pointer, that&#39;s why you have to pass the array as &quot;inout expression&quot; with <code>&amp;</code>. You&#39;ll find the details in <a href=\"https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/content/documentation/Swift/&hellip;</a>"}, {"owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "edited": false, "score": 0, "creation_date": 1518547610, "post_id": 48772781, "comment_id": 84548650, "body": "ok. I need one more help from you please refer my other question."}], "tags": [], "owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1518544440, "creation_date": 1518544440, "answer_id": 48772781, "question_id": 48772296, "link": "https://stackoverflow.com/questions/48772296/objective-c-to-swift-conversion-for-c-function/48772781#48772781", "title": "Objective-C to Swift conversion for C function", "body": "<p>It is not too difficult if one knows two things:</p>\n\n<ul>\n<li>The C <code>int</code> type is a 32-bit integer, this is <code>Int32</code> in Swift,\nnot <code>Int</code>.</li>\n<li><code>sizeof()</code> from C is <code>MemoryLayout&lt;T&gt;.stride</code> in Swift.</li>\n</ul>\n\n<p>Then we get:</p>\n\n<pre><code>var mib : [Int32] = [ CTL_HW, HW_MEMSIZE ]\nvar physicalMemorySize: Int64 = 0\nvar size = MemoryLayout&lt;Int64&gt;.stride\nif sysctl(&amp;mib, UInt32(mib.count), &amp;physicalMemorySize, &amp;size, nil, 0) == 0 {\n    print(physicalMemorySize)\n} else {\n    print(\"sysctl failed\")\n}\n</code></pre>\n"}], "owner": {"reputation": 234, "user_id": 1101733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2d9a017444e6e280f6615eba2ae0676a?s=128&d=identicon&r=PG", "display_name": "user1101733", "link": "https://stackoverflow.com/users/1101733/user1101733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "closed_date": 1518556043, "accepted_answer_id": 48772781, "answer_count": 1, "score": -1, "last_activity_date": 1518544510, "creation_date": 1518542448, "last_edit_date": 1518543262, "question_id": 48772296, "link": "https://stackoverflow.com/questions/48772296/objective-c-to-swift-conversion-for-c-function", "closed_reason": "Needs details or clarity", "title": "Objective-C to Swift conversion for C function", "body": "<p>I am facing difficulties in Objective-C to Swift conversion. How to write below code in Swift?</p>\n\n<pre><code>int mib[2];\nsize_t length;\nmib[0] = CTL_HW;\n\nmib[1] = HW_MEMSIZE;\nlength = sizeof(int64_t);\nsysctl(mib, 2, &amp;physicalMemorySize, &amp;length, NULL, 0);\n\nmib[1] = HW_USERMEM;\nlength = sizeof(int64_t);\nsysctl(mib, 2, &amp;userMemorySize, &amp;length, NULL, 0);\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "drag-and-drop", "uicollectionview", "ios11"], "comments": [{"owner": {"reputation": 17010, "user_id": 2912282, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5HEmE.jpg?s=128&g=1", "display_name": "Milan Nos&#225;\u013e", "link": "https://stackoverflow.com/users/2912282/milan-nos%c3%a1%c4%be"}, "edited": false, "score": 0, "creation_date": 1518553205, "post_id": 48771773, "comment_id": 84551540, "body": "without showing the code that you use I would not expect that anyone will help you"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 17010, "user_id": 2912282, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/5HEmE.jpg?s=128&g=1", "display_name": "Milan Nos&#225;\u013e", "link": "https://stackoverflow.com/users/2912282/milan-nos%c3%a1%c4%be"}, "edited": false, "score": 0, "creation_date": 1518683551, "post_id": 48771773, "comment_id": 84608333, "body": "I&#39;m hoping that someone with experience of using drag and drop with collection views will have come across something similar or know what could be causing the issue.  I&#39;m at the stage where I don&#39;t believe the drag and drop delegate code is at fault, but that some other part of the controller is causing a side effect.  In short if I knew which code to post, I&#39;d know where the problem is."}, {"owner": {"reputation": 1411, "user_id": 3899770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgBfq.png?s=128&g=1", "display_name": "Aris", "link": "https://stackoverflow.com/users/3899770/aris"}, "edited": false, "score": 0, "creation_date": 1519662641, "post_id": 48771773, "comment_id": 84990874, "body": "can you post the implementation with the issue somewhere?"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1411, "user_id": 3899770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgBfq.png?s=128&g=1", "display_name": "Aris", "link": "https://stackoverflow.com/users/3899770/aris"}, "edited": false, "score": 0, "creation_date": 1519663289, "post_id": 48771773, "comment_id": 84991329, "body": "@Aris where is a good place to post it?"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1411, "user_id": 3899770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgBfq.png?s=128&g=1", "display_name": "Aris", "link": "https://stackoverflow.com/users/3899770/aris"}, "edited": false, "score": 0, "creation_date": 1519663841, "post_id": 48771773, "comment_id": 84991709, "body": "@Aris Good idea, see above."}, {"owner": {"reputation": 1411, "user_id": 3899770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgBfq.png?s=128&g=1", "display_name": "Aris", "link": "https://stackoverflow.com/users/3899770/aris"}, "edited": false, "score": 0, "creation_date": 1519666468, "post_id": 48771773, "comment_id": 84993286, "body": "@DerekPollard You can create a repo in github"}, {"owner": {"reputation": 12869, "user_id": 3045336, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/1L9HJ.jpg?s=128&g=1", "display_name": "technerd", "link": "https://stackoverflow.com/users/3045336/technerd"}, "edited": false, "score": 0, "creation_date": 1519715349, "post_id": 48771773, "comment_id": 85010402, "body": "@DerekPollard: Your test code working fine for me."}, {"owner": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519717737, "post_id": 48771773, "comment_id": 85011601, "body": "hello did you implement in cell :   -(void) prepareForReuse{     [super prepareForReuse]; }"}, {"owner": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1519717836, "post_id": 48771773, "comment_id": 85011650, "body": "can you share your project code ? so i can debug it ?"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519725171, "post_id": 48771773, "comment_id": 85015895, "body": "@NiibFouda No, I&#39;ll look into that.  What makes you ask?"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1076, "user_id": 7229378, "user_type": "registered", "profile_image": "https://graph.facebook.com/561259464075050/picture?type=large", "display_name": "Abu Ul Hassan", "link": "https://stackoverflow.com/users/7229378/abu-ul-hassan"}, "edited": false, "score": 0, "creation_date": 1519725204, "post_id": 48771773, "comment_id": 85015924, "body": "@AbuUlHassan The project is linked at the bottom of the question."}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519725496, "post_id": 48771773, "comment_id": 85016115, "body": "@NiibFouda Are you recommending that anything needs doing in prepareForReuse?  None of the properties need releasing before cellForItemAtIndexPath, which sets everything up.  All the code is in the project linked above."}, {"owner": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519725729, "post_id": 48771773, "comment_id": 85016252, "body": "if you are using &quot;dequeueReusableCellWithReuseIdentifier&quot; you need to reset the cell before reusing. I will take a look at the project"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519726960, "post_id": 48771773, "comment_id": 85017053, "body": "@NiibFouda I don&#39;t believe that is the case if you don&#39;t need to perform any clean up.  I&#39;ve added a video of the issue."}, {"owner": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519727133, "post_id": 48771773, "comment_id": 85017182, "body": "did you take a look at this link? <a href=\"http://nshint.io/blog/2015/07/16/uicollectionviews-now-have-easy-reordering/\" rel=\"nofollow noreferrer\">nshint.io/blog/2015/07/16/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 0, "creation_date": 1519728558, "post_id": 48771773, "comment_id": 85018101, "body": "@NiibFouda Thanks, but that is reordering.  I want to pickup multiple cells and drag them into another cell (like files into a folder) or in a future release, springload drag them to another app.  All of this works perfect until cancelled drops come into it.  Either there is a bug in collection view drag and drop for this type of operation or I&#39;m missing something."}, {"owner": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 1, "creation_date": 1519729405, "post_id": 48771773, "comment_id": 85018655, "body": "with one file there is no problem (no duplicated cell) I am sure there is something missing"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 1242, "user_id": 2112671, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c0bf69cf80960fede5265499806af8a?s=128&d=identicon&r=PG", "display_name": "Niib Fouda", "link": "https://stackoverflow.com/users/2112671/niib-fouda"}, "edited": false, "score": 1, "creation_date": 1519730044, "post_id": 48771773, "comment_id": 85019087, "body": "@NiibFouda Part of the problem is that the Apple videos and examples are all limited to dragging one cell into another collection view/app leaving the original cell in place.  I&#39;ve found no reference to handling deletes after a drag in the same app."}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1519731356, "post_id": 48771773, "comment_id": 85019902, "body": "@DerekPollard i don&#39;t find any overlapping text in your Test app. screenshot - <a href=\"https://www.dropbox.com/s/wnzdo2rf8d6d3jr/Simulator%20Screen%20Shot%20-%20iPad%20Pro%20%289.7-inch%29%20-%202018-02-27%20at%2017.04.22.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/wnzdo2rf8d6d3jr/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1519731530, "post_id": 48771773, "comment_id": 85020022, "body": "@NiravKotecha Keep going it will happen, try following the video."}], "owner": {"reputation": 141, "user_id": 4974129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7uJo.png?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/4974129/derek-pollard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1198, "favorite_count": 0, "answer_count": 0, "score": 9, "last_activity_date": 1519726862, "creation_date": 1518540669, "last_edit_date": 1519726862, "question_id": 48771773, "link": "https://stackoverflow.com/questions/48771773/uicollectionview-cells-appear-duplicated-in-place-after-cancelled-drag-sessions", "title": "UICollectionView cells appear duplicated in place after cancelled drag sessions", "body": "<p>I\u2019m having trouble with an obscure problem implementing local drag and drop in a UICollectionViewController.  The collection view allows dragging of items into and out of folders.  All looks and works great until cancelled drags are performed.</p>\n\n<p>Steps to reproduce:</p>\n\n<ol>\n<li>Collect a number of items in a drag session.</li>\n<li>Cancel the drag, such as by moving to the screen edge.</li>\n<li>Collect a number of items in a drag session (can contain some of the ones cancelled above).</li>\n<li>Drop the items into a folder further up the collection view so that the removed items in the session cause a repositioning of the items in the cancelled drag.</li>\n</ol>\n\n<p>The items from the cancelled session will now appear to be behind other cells.  They are not real cells though, as can be seen by rotating the iPad, these \u2018ghost\u2019 cells do not rotate correctly with the real cells they are behind, they rotate as if their origin is fixed.  They also cannot be interacted with in any manner and the data source methods do not make requests for them.  In certain situations they can also be seen after the end of the real cells by pulling the view upwards (it springs back down hiding them after letting go).  A large number of cancelled drags will also result in very poor scrolling performance, even if most of the real cells are dragged out of the collection view.</p>\n\n<p>I\u2019ve tried recreating the whole UICollectionViewController and its cell in the storyboard.  This isn\u2019t a case of not setting all of the cells properties (I wish it was) as the ghost cells contain all elements.  They can also be overlaid multiple times depending on the operations performed.  Please see screenshots.</p>\n\n<p>No issues have been found when extensively dragging and dropping hundreds of items into and out of the collection view.  It is only after a cancelled drag that the problem appears.</p>\n\n<p>My best guess at this stage is that the ghost cells are part of the cancel animation that have not been removed on completion.  Given that there is no API interaction with the drag and drop animations I\u2019m at a loss as to how to test this or fix it.</p>\n\n<p>What I\u2019m implementing in the controller:</p>\n\n<ol>\n<li>itemsForBeginningDragSession and itemsForAddingToDragSession which both add a single NSItemProvider to the array returned.</li>\n<li>dragPreviewParametersForItemAtIndexPath sets the visible path. (Removing this method makes no difference to the issue)</li>\n<li>dropSessionDidUpdate returns either UIDropOperationMove, UICollectionViewDropIntentInsertIntoDestinationIndexPath or UIDropOperationForbidden if the session is not local.</li>\n<li>performDropWithCoordinator uses performBatchUpdates and calls dropItem for each item. (The issue still exists without dropItem and with one dirty collection view reloadSections!)</li>\n</ol>\n\n<p>What I\u2019m using:</p>\n\n<p>Xcode 9.2, various iPads with iOS 11.2 and 11.2.5</p>\n\n<p>I\u2019ve been on this for five days solid now, so any pointers in the right direction will be greatly appreciated.</p>\n\n<p>Cells overlaid twice (similar image in three cases):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mc28W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mc28W.jpg\" alt=\"Cells overlaid twice\"></a></p>\n\n<p>Cells overlaid three times (first cell has three unique images):</p>\n\n<p><a href=\"https://i.stack.imgur.com/hTtMV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTtMV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Cells overlaid multiple times:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jlyiu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jlyiu.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Below is the code for the simpler case of dragging files into an existing folder as this makes the source easier to follow:</p>\n\n<pre><code>#pragma mark - UICollectionViewDragDelegate\n\n- (nonnull NSArray&lt;UIDragItem *&gt; *)collectionView:(nonnull UICollectionView *)collectionView itemsForBeginningDragSession:(nonnull id&lt;UIDragSession&gt;)session atIndexPath:(nonnull NSIndexPath *)indexPath\n{\n    return [self itemsForDragSession:session atIndexPath:indexPath];\n}\n\n- (NSArray&lt;UIDragItem *&gt; *)collectionView:(UICollectionView *)collectionView itemsForAddingToDragSession:(id&lt;UIDragSession&gt;)session atIndexPath:(NSIndexPath *)indexPath point:(CGPoint)point\n{\n    return [self itemsForDragSession:session atIndexPath:indexPath];\n}\n\n- (nonnull NSArray&lt;UIDragItem *&gt; *)itemsForDragSession:(nonnull id&lt;UIDragSession&gt;)session atIndexPath:(nonnull NSIndexPath *)indexPath\n{\n    NSMutableArray&lt;UIDragItem *&gt; *dragItems = [NSMutableArray array];\n\n    if (self.isEditing)\n    {\n        return dragItems;\n    }\n\n    DrawingFile *drawingFile = [[WDDrawingManager sharedInstance] drawingFileAtIndex:indexPath.item];\n    if (drawingFile &amp;&amp; drawingFile.isDrawing)\n    {\n        NSItemProvider *itemProvider = [[NSItemProvider alloc] init];\n        UIDragItem *dragItem = [[UIDragItem alloc] initWithItemProvider:itemProvider];\n\n        [dragItems addObject:dragItem];\n    }\n\n    return dragItems;\n}\n\n- (UIDragPreviewParameters *)collectionView:(UICollectionView *)collectionView dragPreviewParametersForItemAtIndexPath:(NSIndexPath *)indexPath\n{\n    DrawingThumbnailCell *cell = (DrawingThumbnailCell *)[self.collectionView cellForItemAtIndexPath:indexPath];\n    UIImageView *thumbnailView = cell.thumbnailImage;\n    CGRect rect = [cell convertRect:thumbnailView.bounds fromView:thumbnailView];\n\n    UIBezierPath *path = [UIBezierPath bezierPathWithRoundedRect:rect cornerRadius:7];\n\n    UIDragPreviewParameters *parameters = [[UIDragPreviewParameters alloc] init];\n    parameters.visiblePath = path;\n\n    return parameters;\n}\n\n#pragma mark - UICollectionViewDropDelegate\n\n- (UICollectionViewDropProposal *)collectionView:(UICollectionView *)collectionView dropSessionDidUpdate:(id&lt;UIDropSession&gt;)session withDestinationIndexPath:(NSIndexPath *)destinationIndexPath\n{\n    return [[UICollectionViewDropProposal alloc] initWithDropOperation:UIDropOperationMove intent:UICollectionViewDropIntentInsertIntoDestinationIndexPath];\n}\n\n- (void)collectionView:(nonnull UICollectionView *)collectionView performDropWithCoordinator:(nonnull id&lt;UICollectionViewDropCoordinator&gt;)coordinator\n{\n    // Check for local only\n    if (coordinator.session.localDragSession == nil)\n    {\n        NSLog(@\"performDropWithCoordinator: localDragSession == nil\");\n        return;\n    }\n\n    // Can only drag onto existing cells\n    if (coordinator.destinationIndexPath == nil)\n    {\n        NSLog(@\"performDropWithCoordinator: destinationIndexPath == nil\");\n        return;\n    }\n\n    // Check for dragging back to source\n    if (coordinator.items.count == 1 &amp;&amp;\n        [coordinator.destinationIndexPath isEqual:coordinator.items.firstObject.sourceIndexPath])\n    {\n        NSLog(@\"performDropWithCoordinator: destinationIndexPath == sourceIndexPath\");\n        return;\n    }\n\n    // TODO Support drop into new folder (limiting to existing keeps the test case simpler)\n    DrawingFile *destinationFile = [[WDDrawingManager sharedInstance] drawingFileAtIndex:coordinator.destinationIndexPath.item];\n    if (destinationFile.isDrawing == YES)\n    {\n        NSLog(@\"performDropWithCoordinator: destinationIndexPath is drawing\");\n        return;\n    }\n\n    // Collect the drawings and their index paths\n    NSMutableArray&lt;DrawingFile *&gt; *sourceFiles = [NSMutableArray array];\n    NSMutableArray&lt;NSIndexPath *&gt; *sourceIndexPaths = [NSMutableArray array];\n    for (id&lt;UICollectionViewDropItem&gt; item in coordinator.items)\n    {\n        DrawingFile *sourceFile = [[WDDrawingManager sharedInstance] drawingFileAtIndex:item.sourceIndexPath.item];\n        [sourceFiles addObject:sourceFile];\n        [sourceIndexPaths addObject:item.sourceIndexPath];\n    }\n\n    [collectionView performBatchUpdates:^()\n     {\n         [[WDDrawingManager sharedInstance] moveSourceFiles:sourceFiles toDestinationFile:destinationFile];\n         [collectionView deleteItemsAtIndexPaths:sourceIndexPaths];\n     }\n                             completion:nil];\n\n    // Animate the cells moved\n    DrawingThumbnailCell *cell = (DrawingThumbnailCell *)[collectionView cellForItemAtIndexPath:coordinator.destinationIndexPath];\n    CGRect thumbnailRect = [cell convertRect:cell.thumbnailImage.bounds fromView:cell.thumbnailImage];\n    for (id&lt;UICollectionViewDropItem&gt; item in coordinator.items)\n    {\n        [coordinator dropItem:item.dragItem intoItemAtIndexPath:coordinator.destinationIndexPath rect:thumbnailRect];\n    }\n\n    // Update the folder drawing count\n    [collectionView reloadItemsAtIndexPaths:@[coordinator.destinationIndexPath]];\n}\n</code></pre>\n\n<p>Log session 1-1.  Notice that the number of draggingItems (6) matches the number of entries in cellAppearanceStatesByIndexPaths (6) whatever that is:</p>\n\n<pre><code>2018-02-20 14:25:07.104388+0000 Test[644:489734] performDropWithCoordinator: coordinator[&lt;_UICollectionViewDragAndDropController:0x104e43640 -sessionKind = unsupported; reorderedItems = (\n); shadowUpdates=(\n); cellAppearanceStatesByIndexPaths={\n    \"&lt;NSIndexPath: 0xc000000001800016&gt; {length = 2, path = 0 - 12}\" = \"&lt;_UICollectionViewCellAppearanceState:0x112111400 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002400016&gt; {length = 2, path = 0 - 18}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11682e330 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000001a00016&gt; {length = 2, path = 0 - 13}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d43bc0 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002200016&gt; {length = 2, path = 0 - 17}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11682b090 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002600016&gt; {length = 2, path = 0 - 19}\" = \"&lt;_UICollectionViewCellAppearanceState:0x1121d2760 - dragState = dragging; appearance = ghosted&gt;\";\n};  cellAppearanceStatesByCellPointers=NSMapTable {\n}\n;  placeholderContexts = {(\n)}; source=&lt;_UICollectionViewDragSourceController:0x104e75d10; cv = 0x102046600; sessionState = &lt;_UICollectionViewDragSourceControllerSessionState:0x101985890 isActive = 1; dragSession = &lt;_UIDragSessionImpl: 0x1121efff0&gt;&gt;; dragState = &lt;_UICollectionViewDragSourceControllerDragState:0x107052760 dragFrom=(0,13) draggingItems=(0,13),(0,12),(0,17),(0,18),(0,19)&gt;&gt;; destination=&lt;_UICollectionViewDragDestinationController:0x10199e420; sessionState = &lt;_UIDragDestinationControllerSessionState: state = committing; isActive = 1; isDragging = 0; isReordering = 0&gt;; reorderingState = &lt;_UIDragDestinationControllerReorderingState: 0x10999a210&gt;; dropProposalState = &lt;_UIDragDestinationControllerDropProposalState: indexPath = (0,16); proposal = &lt;UICollectionViewDropProposal:0x104e71d50 operation = move; location = into&gt;; didDrop = 1; effectiveIndexPath = (0,16)&gt;&gt;&gt;]\n</code></pre>\n\n<p>Then followed several cancelled drags.</p>\n\n<p>Log session 1-2.  Notice again that the number of draggingItems (8) matches the number of entries in cellAppearanceStatesByIndexPaths (8):</p>\n\n<pre><code>2018-02-20 14:25:31.132581+0000 Test[644:489734] performDropWithCoordinator: coordinator[&lt;_UICollectionViewDragAndDropController:0x104e43640 -sessionKind = unsupported; reorderedItems = (\n); shadowUpdates=(\n); cellAppearanceStatesByIndexPaths={\n    \"&lt;NSIndexPath: 0xc000000002000016&gt; {length = 2, path = 0 - 16}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11686d1d0 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002400016&gt; {length = 2, path = 0 - 18}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d66810 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002800016&gt; {length = 2, path = 0 - 20}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d62540 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002c00016&gt; {length = 2, path = 0 - 22}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d64d80 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002200016&gt; {length = 2, path = 0 - 17}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d7e2a0 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002600016&gt; {length = 2, path = 0 - 19}\" = \"&lt;_UICollectionViewCellAppearanceState:0x104e7a760 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002a00016&gt; {length = 2, path = 0 - 21}\" = \"&lt;_UICollectionViewCellAppearanceState:0x104e94fe0 - dragState = dragging; appearance = ghosted&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002e00016&gt; {length = 2, path = 0 - 23}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11686efb0 - dragState = dragging; appearance = ghosted&gt;\";\n};  cellAppearanceStatesByCellPointers=NSMapTable {\n}\n;  placeholderContexts = {(\n)}; source=&lt;_UICollectionViewDragSourceController:0x104e75d10; cv = 0x102046600; sessionState = &lt;_UICollectionViewDragSourceControllerSessionState:0x104e9d6d0 isActive = 1; dragSession = &lt;_UIDragSessionImpl: 0x1099b23a0&gt;&gt;; dragState = &lt;_UICollectionViewDragSourceControllerDragState:0x1099b6770 dragFrom=(0,16) draggingItems=(0,16),(0,17),(0,18),(0,19),(0,23),(0,22),(0,21),(0,20)&gt;&gt;; destination=&lt;_UICollectionViewDragDestinationController:0x10199e420; sessionState = &lt;_UIDragDestinationControllerSessionState: state = committing; isActive = 1; isDragging = 0; isReordering = 0&gt;; reorderingState = &lt;_UIDragDestinationControllerReorderingState: 0x116d66a10&gt;; dropProposalState = &lt;_UIDragDestinationControllerDropProposalState: indexPath = (0,15); proposal = &lt;UICollectionViewDropProposal:0x1099b9080 operation = move; location = into&gt;; didDrop = 1; effectiveIndexPath = (0,15)&gt;&gt;&gt;]\n</code></pre>\n\n<p>Then followed several more cancelled drags.</p>\n\n<p>Log session 1-3.  This is when the overlaid cells appeared.  Key here is believe is that the number of draggingItems (4) is very different to cellAppearanceStatesByIndexPaths (25) which contains many index paths that were not dragged in that session:</p>\n\n<pre><code>2018-02-20 14:26:10.885854+0000 Test[644:489734] performDropWithCoordinator: coordinator[&lt;_UICollectionViewDragAndDropController:0x104e43640 -sessionKind = unsupported; reorderedItems = (\n); shadowUpdates=(\n); cellAppearanceStatesByIndexPaths={\n    \"&lt;NSIndexPath: 0xc000000003c00016&gt; {length = 2, path = 0 - 30}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d64c00 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000003e00016&gt; {length = 2, path = 0 - 31}\" = \"&lt;_UICollectionViewCellAppearanceState:0x1168b8120 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000004000016&gt; {length = 2, path = 0 - 32}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d64c20 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000004200016&gt; {length = 2, path = 0 - 33}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116dda1a0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000004400016&gt; {length = 2, path = 0 - 34}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d7e340 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000001e00016&gt; {length = 2, path = 0 - 15}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116891a30 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002000016&gt; {length = 2, path = 0 - 16}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11686d1d0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000004a00016&gt; {length = 2, path = 0 - 37}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d9e300 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000007400016&gt; {length = 2, path = 0 - 58}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11215b530 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000004c00016&gt; {length = 2, path = 0 - 38}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11689d650 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002400016&gt; {length = 2, path = 0 - 18}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d66810 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000004e00016&gt; {length = 2, path = 0 - 39}\" = \"&lt;_UICollectionViewCellAppearanceState:0x1168cfba0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002200016&gt; {length = 2, path = 0 - 17}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d7e2a0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002600016&gt; {length = 2, path = 0 - 19}\" = \"&lt;_UICollectionViewCellAppearanceState:0x104e7a760 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000007a00016&gt; {length = 2, path = 0 - 61}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11215e750 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002800016&gt; {length = 2, path = 0 - 20}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d62540 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000007c00016&gt; {length = 2, path = 0 - 62}\" = \"&lt;_UICollectionViewCellAppearanceState:0x1019f5ca0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002a00016&gt; {length = 2, path = 0 - 21}\" = \"&lt;_UICollectionViewCellAppearanceState:0x104e94fe0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002c00016&gt; {length = 2, path = 0 - 22}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d64d80 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000005200016&gt; {length = 2, path = 0 - 41}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d998c0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000002e00016&gt; {length = 2, path = 0 - 23}\" = \"&lt;_UICollectionViewCellAppearanceState:0x11686efb0 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000005800016&gt; {length = 2, path = 0 - 44}\" = \"&lt;_UICollectionViewCellAppearanceState:0x1121e6310 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000005a00016&gt; {length = 2, path = 0 - 45}\" = \"&lt;_UICollectionViewCellAppearanceState:0x118e57190 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000003800016&gt; {length = 2, path = 0 - 28}\" = \"&lt;_UICollectionViewCellAppearanceState:0x116d65940 - dragState = dropped; appearance = normal&gt;\";\n    \"&lt;NSIndexPath: 0xc000000003a00016&gt; {length = 2, path = 0 - 29}\" = \"&lt;_UICollectionViewCellAppearanceState:0x112144fc0 - dragState = dropped; appearance = normal&gt;\";\n};  cellAppearanceStatesByCellPointers=NSMapTable {\n}\n;  placeholderContexts = {(\n)}; source=&lt;_UICollectionViewDragSourceController:0x104e75d10; cv = 0x102046600; sessionState = &lt;_UICollectionViewDragSourceControllerSessionState:0x119620130 isActive = 1; dragSession = &lt;_UIDragSessionImpl: 0x118e23a70&gt;&gt;; dragState = &lt;_UICollectionViewDragSourceControllerDragState:0x119606080 dragFrom=(0,30) draggingItems=(0,30),(0,38),(0,33),(0,32)&gt;&gt;; destination=&lt;_UICollectionViewDragDestinationController:0x10199e420; sessionState = &lt;_UIDragDestinationControllerSessionState: state = committing; isActive = 1; isDragging = 0; isReordering = 0&gt;; reorderingState = &lt;_UIDragDestinationControllerReorderingState: 0x11939e0a0&gt;; dropProposalState = &lt;_UIDragDestinationControllerDropProposalState: indexPath = (0,66); proposal = &lt;UICollectionViewDropProposal:0x1168843e0 operation = move; location = into&gt;; didDrop = 1; effectiveIndexPath = (0,66)&gt;&gt;&gt;]\n</code></pre>\n\n<p>Based on the behaviour and these logs, I believe that the internals of the the collection view drag tracking have become corrupted.  Why is the key question.</p>\n\n<p>UPDATE:  This issue has successfully been reproduced in a standalone/minimal implementation with very little code here : <a href=\"http://www.envoza.com/stackoverflow/Test.zip\" rel=\"nofollow noreferrer\">Test.zip</a></p>\n\n<p>UPDATE:  This is a video showing how to reproduce the issue with the test project: <a href=\"http://envoza.com/stackoverflow/reproducing_issue.mp4\" rel=\"nofollow noreferrer\">reproducing_issue.mp4</a></p>\n"}, {"tags": ["ios", "objective-c", "nsarray"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1518540746, "post_id": 48771147, "comment_id": 84544691, "body": "Do you really care about order rather than duplicity? What about using a Dictionary with key <code>objectId</code>, and sort them afterwards if needed? Maybe a <code>NSMutableOrderedSet</code> (see <a href=\"https://stackoverflow.com/questions/25587420/ios-only-add-unique-object-to-nsmutableorderedset\" title=\"ios only add unique object to nsmutableorderedset\">stackoverflow.com/questions/25587420/&hellip;</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "is_accepted": false, "score": 1, "last_activity_date": 1518542023, "creation_date": 1518542023, "answer_id": 48772165, "question_id": 48771147, "link": "https://stackoverflow.com/questions/48771147/objective-c-selectively-combine-two-arrays/48772165#48772165", "title": "Objective-C: Selectively combine two arrays", "body": "<p>I don't know if I'd call this <em>elegant</em> but it's a less brutish approach. Instead of filtering <code>combined</code> at every pass through the loop, get all the new IDs in advance and check the ID list in the loop.</p>\n\n<pre><code>    NSMutableArray &lt;NoteTemplate *&gt; *combined = [NSMutableArray arrayWithArray:newTemplates];\n    NSArray &lt;NSString *&gt; *newTemplateIds = [newTemplates valueForKey:@\"objectId\"];\n\n    for (NoteTemplate *oldTemplate in oldTemplates) {\n        if (![newTemplateIds containsObject:oldTemplate.objectId]) {\n            [combined addObject:oldTemplate];\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "edited": false, "score": 0, "creation_date": 1518544538, "post_id": 48772306, "comment_id": 84547076, "body": "That&#39;s a nice approach. I assumed that order was important in my answer, but maybe not."}, {"owner": {"reputation": 1727, "user_id": 4250188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131f42ba4f70ad19495cf8999b1fc670?s=128&d=identicon&r=PG", "display_name": "iyuna", "link": "https://stackoverflow.com/users/4250188/iyuna"}, "reply_to_user": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "edited": false, "score": 0, "creation_date": 1518545600, "post_id": 48772306, "comment_id": 84547646, "body": "@TomHarrington In case order is important <code>NSOrderSet</code> might be used as you recommended. Then <code>mergedSet</code> should be created from <code>oldSet</code> instead and <code>unionSet</code> function should be replaced with <code>[[mergedSet minus:newSet] union:newSet]</code>"}, {"owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "edited": false, "score": 0, "creation_date": 1518545849, "post_id": 48772306, "comment_id": 84547778, "body": "Oh right. I&#39;ve been doing Swift so much that I forgot to look for <code>NSMutableOrderedSet</code>. Instead I looked at <code>NSOrderedSet</code> and didn&#39;t think to look for extra mutability methods."}, {"owner": {"reputation": 11300, "user_id": 394484, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/2dd516c00b9ba550527629c803eb83f8?s=128&d=identicon&r=PG&f=1", "display_name": "mbm29414", "link": "https://stackoverflow.com/users/394484/mbm29414"}, "edited": false, "score": 0, "creation_date": 1519138862, "post_id": 48772306, "comment_id": 84781244, "body": "I ended up using a modified version of this because order <i>does</i> become important for me, but not during the portion where I am combining the arrays. I also needed to be able to remove items, so I added the <code>hash</code> method in addition to the <code>isEqual:</code> method. Thanks for getting me most of the way there!"}], "tags": [], "owner": {"reputation": 1727, "user_id": 4250188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/131f42ba4f70ad19495cf8999b1fc670?s=128&d=identicon&r=PG", "display_name": "iyuna", "link": "https://stackoverflow.com/users/4250188/iyuna"}, "is_accepted": true, "score": 2, "last_activity_date": 1518542481, "creation_date": 1518542481, "answer_id": 48772306, "question_id": 48771147, "link": "https://stackoverflow.com/questions/48771147/objective-c-selectively-combine-two-arrays/48772306#48772306", "title": "Objective-C: Selectively combine two arrays", "body": "<p>To extend @Larme's suggestion with Set usage you can try the following approach:</p>\n\n<pre><code>@interface NoteTemplate: NSObject\n\n@property (copy, nonatomic) NSString *objectId;\n@property (copy, nonatomic) NSString *text;\n\n- (instancetype)initWithObjectId:(NSString *)objectId text:(NSString *)text;\n\n@end\n\n@implementation NoteTemplate\n- (instancetype)initWithObjectId:(NSString *)objectId text:(NSString *)text {\n    self = [super init];\n    if (self != nil) {\n        _objectId = objectId;\n        _text = text;\n    }\n    return self;\n}\n\n- (BOOL)isEqual:(id)object {\n    return [self.objectId isEqualToString:[object objectId]];\n}\n\n@end\n</code></pre>\n\n<p>And the usage code:</p>\n\n<pre><code>NoteTemplate *nt1 = [[NoteTemplate alloc] initWithObjectId:@\"1\" text:@\"old set\"];\nNoteTemplate *nt2 = [[NoteTemplate alloc] initWithObjectId:@\"2\" text:@\"old set\"];\nNoteTemplate *nt3 = [[NoteTemplate alloc] initWithObjectId:@\"1\" text:@\"new set\"];\nNoteTemplate *nt4 = [[NoteTemplate alloc] initWithObjectId:@\"3\" text:@\"new set\"];\n\nNSSet &lt;NoteTemplate *&gt; *oldSet = [NSSet setWithObjects:nt1, nt2, nil];\nNSSet &lt;NoteTemplate *&gt; *newSet = [NSSet setWithObjects:nt3, nt4, nil];\n\nNSMutableSet &lt;NoteTemplate *&gt; *mergedSet = [newSet mutableCopy];\n[mergedSet unionSet:oldSet];\n\nfor (NoteTemplate *note in mergedSet) {\n    NSLog(@\"Set item %@ %@\", note.objectId, note.text);\n}\n</code></pre>\n\n<p>After executing this code you'll see in the log:</p>\n\n<pre><code>Set item 3 new set\nSet item 1 new set\nSet item 2 old set\n</code></pre>\n\n<p>I assume that's what you were looking for.</p>\n"}], "owner": {"reputation": 11300, "user_id": 394484, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/2dd516c00b9ba550527629c803eb83f8?s=128&d=identicon&r=PG&f=1", "display_name": "mbm29414", "link": "https://stackoverflow.com/users/394484/mbm29414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 48772306, "answer_count": 2, "score": 0, "last_activity_date": 1518542481, "creation_date": 1518538623, "last_edit_date": 1518539538, "question_id": 48771147, "link": "https://stackoverflow.com/questions/48771147/objective-c-selectively-combine-two-arrays", "title": "Objective-C: Selectively combine two arrays", "body": "<p>I am aware of how normal <code>NSArray</code> concatenation works in Objective-C. This is not that question.</p>\n\n<p>I have data that is being incrementally updated from a web service. My object has the following class definition (with a lot removed):</p>\n\n<pre><code>//  NoteTemplate.h\n#import &lt;UIKit/UIKit.h&gt;\n@interface NoteTemplate \n\n@property (copy, nonatomic) NSString *objectId;\n</code></pre>\n\n<p>I am caching a list of these on-device and checking at launch to see if there are any new or updated <code>NoteTemplate</code> objects in my database to load. So, I end up with two arrays:</p>\n\n<pre><code>NSArray &lt;NoteTemplate *&gt; *oldArray\nNSArray &lt;NoteTemplate *&gt; *newArray\n</code></pre>\n\n<p>If there are <strong>no updates</strong>, then all I need to do is simply concatenate the two arrays together and that's that.</p>\n\n<p>If there <strong>are updates</strong>, however, I want to combine the two arrays, but whenever there is a common <code>objectId</code>, the item in <code>newArray</code> should take precedence over the item in <code>oldArray</code>.</p>\n\n<p>Thus far, I am brute-forcing it like this:</p>\n\n<pre><code>- (void)updateNoteTemplatesWithArray:(NSArray *)newTemplates {\n    NSArray *oldTemplates = [self getNoteTemplates];\n    NSMutableArray *combined = [NSMutableArray arrayWithArray:newTemplates];\n    for (NoteTemplate *noteTemplate in oldTemplates) {\n        NSArray *matches = [combined filteredArrayUsingPredicate:[NSPredicate predicateWithBlock:^BOOL(id blockTemplate, NSDictionary&lt;NSString *,id&gt; *bindings) {\n            return [((NoteTemplate *)blockTemplate).objectId isEqualToString:noteTemplate.objectId];\n        }]];\n        if (matches.count == 0) {\n            [combined addObject:noteTemplate];\n        }\n    }\n    [self setNoteTemplates:[combined copy]];\n}\n</code></pre>\n\n<p>Is there a more optimized way to do this? I can't see that this will affect performance at all, so perhaps an optimization is unnecessary. Still, this approach feels hacky and way over-engineered.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1518538618, "post_id": 48770571, "comment_id": 84543331, "body": "The usual thing is to make the search bar the table view&#39;s header view."}, {"owner": {"reputation": 6134, "user_id": 3789527, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/01a117017b41204c8110d1843d2a6359?s=128&d=identicon&r=PG&f=1", "display_name": "LS_", "link": "https://stackoverflow.com/users/3789527/ls"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518540170, "post_id": 48770571, "comment_id": 84544295, "body": "@matt Ok thanks! So just by setting it as header its layout should get fixed automatically? Or would I still need to set the <code>searchBar</code> frame?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518540343, "post_id": 48770571, "comment_id": 84544420, "body": "You need to say <code>sizeToFit</code>. Apart from that there should be nothing to do. \u2014 The iOS 11 way, on the other hand, is to put the search bar in the navigation bar. (Look at any Apple app, such as Mail, to see what I mean.) But that&#39;s another story."}, {"owner": {"reputation": 6134, "user_id": 3789527, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/01a117017b41204c8110d1843d2a6359?s=128&d=identicon&r=PG&f=1", "display_name": "LS_", "link": "https://stackoverflow.com/users/3789527/ls"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518614106, "post_id": 48770571, "comment_id": 84577816, "body": "@matt Thanks for your suggestion! I&#39;ve edited my implementation and added the <code>searchBar</code> as <code>TableView</code>&#39;s header and everything worked fine."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518625011, "post_id": 48770571, "comment_id": 84585379, "body": "Excellent! Thanks for reporting back. Feel free to answer your own question; this might help someone else."}], "owner": {"reputation": 6134, "user_id": 3789527, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/01a117017b41204c8110d1843d2a6359?s=128&d=identicon&r=PG&f=1", "display_name": "LS_", "link": "https://stackoverflow.com/users/3789527/ls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518536898, "creation_date": 1518536898, "question_id": 48770571, "link": "https://stackoverflow.com/questions/48770571/ios-11-searchcontrollers-searchbar-added-programmatically-gets-cut-off-objec", "title": "iOS 11 - SearchController&#39;s SearchBar added programmatically gets cut off (Objective-C)", "body": "<p>I'm trying to add a <code>SearchController</code> to an <code>UIViewController</code> programmatically. I got it working but there's one problem which I'm not able to solve, when the <code>searchBar</code> is presented, it gets cut off by the <code>searchResultsTableViewController</code>. In order to add the <code>SearchController</code> programmatically I've used the following code:</p>\n\n<pre><code>    // A table view for results.\n    UITableView *searchResultsTableView = [[UITableView alloc] init];\n    searchResultsTableView.dataSource = self;\n    searchResultsTableView.delegate = self;\n\n    // Registration of reuse identifiers.\n    [searchResultsTableView registerClass:UITableViewCell.class forCellReuseIdentifier:Identifier];\n\n    // Init a search results table view controller and setting its table view.\n    self.searchResultsTableViewController = [[UITableViewController alloc] init];\n    self.searchResultsTableViewController.tableView = searchResultsTableView;\n\n    // Init a search controller with its table view controller for results.\n    self.searchController = [[UISearchController alloc] initWithSearchResultsController:self.searchResultsTableViewController];\n    [self.searchController.searchBar setShowsScopeBar:YES];\n    self.searchController.hidesNavigationBarDuringPresentation = NO;\n    // Init search bar frame\n    // y = 20 --&gt; offset from NavigationController\n    self.searchController.searchBar.frame = CGRectMake(0, 20, self.view.frame.size.width, self.searchController.searchBar.frame.size.height);\n\n    self.searchController.searchResultsUpdater = self;\n    self.searchController.delegate = self;\n    self.searchController.searchBar.delegate = self;\n\n    // Add searchBar to scene\n    [self.view addSubview:self.searchController.searchBar];\n\n    // Change height if OS &gt; iOS 11\n    if (@available(iOS 11.0, *)) {\n        [self.searchController.searchBar.heightAnchor constraintEqualToConstant:56].active = YES;\n    }\n\n    // Enable presentation context.\n    self.definesPresentationContext = YES;\n\n    // Call needed to show the searchBar\n    [self.searchController.searchBar becomeFirstResponder];\n</code></pre>\n\n<p>When running the app what I get when I present the <code>searchBar</code> is this:\n<a href=\"https://i.stack.imgur.com/DXqel.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DXqel.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see the <code>searchResultsTableViewController</code> covers part of the <code>searchBar</code>. Is there anyway to solve this?</p>\n"}, {"tags": ["ios", "objective-c", "memory-leaks", "uiimagepickercontroller"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518535770, "post_id": 48770185, "comment_id": 84541462, "body": "How big is this leak?"}, {"owner": {"reputation": 153, "user_id": 8346935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99zgX.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8346935/max"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518535812, "post_id": 48770185, "comment_id": 84541490, "body": "@matt 304 Bytes"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518538074, "post_id": 48770185, "comment_id": 84542989, "body": "Now do a little math. How many times would a user have to do this operation, between launching and quitting your app, and leak 304 bytes each time, before reaching a significant amount, say, 1 MB?"}, {"owner": {"reputation": 153, "user_id": 8346935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99zgX.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8346935/max"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518538669, "post_id": 48770185, "comment_id": 84543365, "body": "@matt over 3k times. And I know it isn&#39;t much, but I was taught that memory leaks were a bad thing. Is it ever okay to just ignore them?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518540062, "post_id": 48770185, "comment_id": 84544218, "body": "Have you any other choice? The leak is coming from Apple&#39;s code. The only thing you are doing wrong is retaining the UIImagePickerController. Stop doing that and move on. I&#39;ll give that advice as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1518540196, "creation_date": 1518540196, "answer_id": 48771628, "question_id": 48770185, "link": "https://stackoverflow.com/questions/48770185/uipickercontroller-memory-leak-after-selecting-photo/48771628#48771628", "title": "UIPickerController memory leak after selecting photo", "body": "<p>The leak is coming from Apple's code. The only thing <em>you</em> are doing wrong is retaining the UIImagePickerController as an instance property. Stop doing that; create the UIImagePickerController as a temporary local variable each time you present it. Apart from that, there's nothing you can do.</p>\n"}], "owner": {"reputation": 153, "user_id": 8346935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99zgX.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/8346935/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518540196, "creation_date": 1518535639, "question_id": 48770185, "link": "https://stackoverflow.com/questions/48770185/uipickercontroller-memory-leak-after-selecting-photo", "title": "UIPickerController memory leak after selecting photo", "body": "<p>I am having a memory leak whenever I select a photo within my image picker controller. I have tried doing my own research as to why this happens but I have found nothing close to my situation. Various tutorials I have learnt from have a memory leak when using the image picker controller as well. All I am doing is choosing a photo and then the image picker controller dismisses. I have tried finding a solution for many days now, but no luck, I tend to try to find solutions before asking for help, any help is greatly appreciated, here is my code. </p>\n\n<pre><code>@property (nonatomic, strong) UIImagePickerController *imagePicker;\n@property (nonatomic, strong) UIImage *image;\n\n- (void)viewWillAppear:(BOOL)animated {\n[super viewWillAppear:animated];\n\n\n[self.tableView reloadData];\nif (self.image == nil &amp;&amp; [self.videoFilePath length] == 0) {\n    self.imagePicker = [[UIImagePickerController alloc] init];\n    self.imagePicker.delegate = self;\n    self.imagePicker.allowsEditing = NO;\n    self.imagePicker.videoMaximumDuration = 10;\n\n    if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) {\n        self.imagePicker.sourceType = UIImagePickerControllerSourceTypeCamera;\n    }\n    else {\n        self.imagePicker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;\n    }\n    self.imagePicker.mediaTypes = [UIImagePickerController availableMediaTypesForSourceType:self.imagePicker.sourceType];\n\n    [self presentViewController:self.imagePicker animated:YES completion:nil];\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {\nNSString *mediaType = [info objectForKey:UIImagePickerControllerMediaType];\n\nif ([mediaType isEqualToString:(NSString *)kUTTypeImage]) {\n    self.image = [info objectForKey:UIImagePickerControllerOriginalImage];\n\n\n\n   UIImage *newImage = [self resizeImage:self.image toWidth:200 andHeight:200];\n\n    self.image = newImage;\n\n\n    if (self.imagePicker.sourceType == UIImagePickerControllerSourceTypeCamera) {\n\n        UIImageWriteToSavedPhotosAlbum(self.image, nil, nil, nil);\n    }\n}\nelse if ([mediaType isEqualToString:(NSString *)kUTTypeMovie]) {\n    // A video was taken/selected!\n\n    NSURL *videoUrl = info[UIImagePickerControllerMediaURL];\n    self.movieUrl = videoUrl;\n\n    self.videoFilePath = videoUrl.absoluteString;\n\n    if (self.imagePicker.sourceType == UIImagePickerControllerSourceTypeCamera) {\n        // Save the video!\n\n        if (UIVideoAtPathIsCompatibleWithSavedPhotosAlbum(self.videoFilePath)) {\n            UISaveVideoAtPathToSavedPhotosAlbum(self.videoFilePath, nil, nil, nil);\n        }\n    }\n}\n\n[self dismissViewControllerAnimated:YES completion:nil];\n</code></pre>\n\n<p>}</p>\n\n<p>When I use instruments I get, that the responsible instance is in Core Foundation. CFString. I am not very familiar with debugging memory leak's like these in Objective-C. I'd appreciate a hand here! Thank You.</p>\n"}, {"tags": ["ios", "objective-c", "ios-simulator", "locale", "nslinguistictagger"], "comments": [{"owner": {"reputation": 437, "user_id": 7340286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f073941e238e00ea9dc71608c6e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "kiwisip", "link": "https://stackoverflow.com/users/7340286/kiwisip"}, "edited": false, "score": 0, "creation_date": 1518984694, "post_id": 48768919, "comment_id": 84715570, "body": "There are all schemes available on iPhone X, so some devices can access them all.. IMO not all schemes are available on all devices. Simulator can access them, because these schemes are available on your computer."}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "reply_to_user": {"reputation": 437, "user_id": 7340286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f073941e238e00ea9dc71608c6e3f5?s=128&d=identicon&r=PG&f=1", "display_name": "kiwisip", "link": "https://stackoverflow.com/users/7340286/kiwisip"}, "edited": false, "score": 0, "creation_date": 1518985809, "post_id": 48768919, "comment_id": 84715909, "body": "That seems to be the case yes... I understand <i>what</i> is happening - I am still searching for an actual explanation as to why this is / what can be done about it. I have a hard time believing such a discrepancy would exist across their device lineup"}], "answers": [{"comments": [{"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519046668, "post_id": 48863566, "comment_id": 84737504, "body": "I am testing in english on my 6s iOS 11.2 and it only shows me the three schemes. On the simulator it shows all the schemes for any iOS on any device (of course since my mac has all the schemes). Why would some devices not have them?? I don&#39;t understand what I can do to fix this..."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "reply_to_user": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519046796, "post_id": 48863566, "comment_id": 84737588, "body": "Hmm, I see them on all my devices. Did you try switching language on your device? Or do you already have it in English?"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "reply_to_user": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519046880, "post_id": 48863566, "comment_id": 84737647, "body": "By the way, I did my tests on an iPhone 6S also. Which leads me to think it might have something to do with the configuration. But I have 11.2.5 installed."}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519047063, "post_id": 48863566, "comment_id": 84737776, "body": "haha I already have it in English.. I can&#39;t imagine it being anything to do with my build so it must be a device problem.. but how I have tried this on a 5c iOS 10.3 as well and the same results... ALSO others have had the same issue - <a href=\"https://stackoverflow.com/questions/46853473/nslinguistictagger-enumeratetagsinrange-doesnt-work-on-device-with-nslinguistic\" title=\"nslinguistictagger enumeratetagsinrange doesnt work on device with nslinguistic\">stackoverflow.com/questions/46853473/&hellip;</a>"}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519047463, "post_id": 48863566, "comment_id": 84738040, "body": "My last thought - is this because I am attempting to access this via an extension?...  I am trying to use this in a keyboard extension to be able to determine the part of speech of the last word the user entered"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "reply_to_user": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519047750, "post_id": 48863566, "comment_id": 84738237, "body": "So the actual problem was that you did the call from a keyboard extension?"}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1519048117, "post_id": 48863566, "comment_id": 84738483, "body": "Check my answer. I thought maybe that was the issue.. but no. Somehow my phone felt I &quot;didn&#39;t need&quot; all the schemes and got rid of them one day. I uninstalled English then added it again and now it works <i>even</i> in the extension as it should"}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": false, "score": 2, "last_activity_date": 1519034365, "creation_date": 1519034365, "answer_id": 48863566, "question_id": 48768919, "link": "https://stackoverflow.com/questions/48768919/device-vs-simulator-linguistic-schemes/48863566#48863566", "title": "Device vs. Simulator Linguistic Schemes", "body": "<p>The WWDC presentation covering this topic shows that far from all languages are supported for all schemes. In fact, several schemes are only supported for the following languages:</p>\n\n<ul>\n<li>English</li>\n<li>French</li>\n<li>Italian</li>\n<li>German</li>\n<li>Portuguese</li>\n<li>Russian</li>\n<li>Turkish</li>\n</ul>\n\n<p>If you download the slides on the linked page below you can see a table of this on <strong>slide 136</strong>.</p>\n\n<p>When I run your code on my devices they all report the full set that you got on the simulator for <code>en</code>. With other language codes I get less. Did you check your iOS versions on your devices vs simulator?</p>\n\n<p><a href=\"https://developer.apple.com/videos/play/wwdc2017/208/\" rel=\"nofollow noreferrer\">WWDC 2017:208 - Natural Language Processing and your Apps</a></p>\n"}, {"comments": [{"owner": {"reputation": 1843, "user_id": 3185860, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/23e2427bb6481f77d8fb17f990e33ab4?s=128&d=identicon&r=PG&f=1", "display_name": "Toma Radu-Petrescu", "link": "https://stackoverflow.com/users/3185860/toma-radu-petrescu"}, "edited": false, "score": 0, "creation_date": 1521889919, "post_id": 48867628, "comment_id": 85930792, "body": "What the hell is this, Apple?"}, {"owner": {"reputation": 1344, "user_id": 2335378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LkBVZ.png?s=128&g=1", "display_name": "Deepak Carpenter", "link": "https://stackoverflow.com/users/2335378/deepak-carpenter"}, "edited": false, "score": 0, "creation_date": 1572434987, "post_id": 48867628, "comment_id": 103556446, "body": "Could you please tell me, how exactly did you uninstall the target lang ?  PS: i am facing the same issue with NSLinguisticTagScheme on all devices."}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "edited": false, "score": 0, "creation_date": 1572448065, "post_id": 48867628, "comment_id": 103564133, "body": "Uninstall the language in settings on the device (in my case it was English haha)"}], "tags": [], "owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "is_accepted": true, "score": 6, "last_activity_date": 1519054399, "last_edit_date": 1519054399, "creation_date": 1519048058, "answer_id": 48867628, "question_id": 48768919, "link": "https://stackoverflow.com/questions/48768919/device-vs-simulator-linguistic-schemes/48867628#48867628", "title": "Device vs. Simulator Linguistic Schemes", "body": "<p>After tireless research, sleepless nights, and three trips to the ward, I found out the problem. While the <em>fix</em> was by all means the poor man's solution, it worked nonetheless.</p>\n\n<hr>\n\n<p>For <strong>whatever reason</strong> my iPhone 6s iOS 11.2.5 didn't feel like installing all of the available linguistic schemes when I originally set up my phone? Either that or it decided to <em>remove</em> them one day when it was bored. </p>\n\n<p>Regardless, the solution was... drum roll...</p>\n\n<blockquote>\n  <p><strong>Uninstall the target language...then reinstall it.</strong></p>\n</blockquote>\n\n<hr>\n\n<p>I guess this \"reset\" the language package to re-include these schemes. Happy codinggg</p>\n"}], "owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 2, "accepted_answer_id": 48867628, "answer_count": 2, "score": 6, "last_activity_date": 1572434675, "creation_date": 1518531518, "last_edit_date": 1518980120, "question_id": 48768919, "link": "https://stackoverflow.com/questions/48768919/device-vs-simulator-linguistic-schemes", "title": "Device vs. Simulator Linguistic Schemes", "body": "<p>Does anyone understand <em>why</em> this is happening?</p>\n\n<p>On any simulator all of the schemes are found with the following code:</p>\n\n<pre><code>NSArray&lt;NSLinguisticTagScheme&gt; *availSchemes = [NSLinguisticTagger availableTagSchemesForLanguage:@\"en\"];\nfor (NSLinguisticTagScheme scheme in availSchemes) {\n    NSLog(@\"Tag scheme %@\", scheme);\n}\n</code></pre>\n\n<p>yielding the following:</p>\n\n<pre><code>2018-02-13 09:12:54.066970-0500 MY_APP[79671:5737063] Tag scheme Language\n2018-02-13 09:12:54.067160-0500 MY_APP[79671:5737063] Tag scheme Script\n2018-02-13 09:12:54.067300-0500 MY_APP[79671:5737063] Tag scheme TokenType\n2018-02-13 09:12:54.067425-0500 MY_APP[79671:5737063] Tag scheme LexicalClass\n2018-02-13 09:12:54.067541-0500 MY_APP[79671:5737063] Tag scheme NameType\n2018-02-13 09:12:54.067655-0500 MY_APP[79671:5737063] Tag scheme NameTypeOrLexicalClass\n2018-02-13 09:12:54.067768-0500 MY_APP[79671:5737063] Tag scheme Lemma\n</code></pre>\n\n<p>However, on my device (<strong>iPhone 6s iOS 11.2</strong>) I receive the following..</p>\n\n<pre><code>2018-02-13 09:13:09.834879-0500 MY_APP[4327:313598] Tag scheme Language\n2018-02-13 09:13:09.835256-0500 MY_APP[4327:313598] Tag scheme Script\n2018-02-13 09:13:09.835556-0500 MY_APP[4327:313598] Tag scheme TokenType\n</code></pre>\n\n<p>Can anyone help explain to me <strong>why</strong> I cannot access the other schemes? In particular I am looking to be able to use the <code>NSLinguisticTagSchemeLexicalClass</code> with <code>NSLinguisticTagger</code>. Currently this issue is causing the tagger to tag <strong>any</strong> word as (OtherWord), instead of it's true part of speech. </p>\n\n<p>Any help would be appreciated..</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p><strong>ALL</strong> physical devices give me the same results - only three available schemes... I am at a loss here.</p>\n"}, {"tags": ["ios", "objective-c", "uiview", "uiimage", "nstextattachment"], "comments": [{"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1518531460, "post_id": 48768735, "comment_id": 84538389, "body": "Do you see other labels and their texts ?"}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "reply_to_user": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1518531773, "post_id": 48768735, "comment_id": 84538610, "body": "No, I can&#39;t see that with view&#39;s opaque = false, its transparent. But no content visible."}, {"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1518531831, "post_id": 48768735, "comment_id": 84538648, "body": "Firstly check that content is loading or not. Test that by changing the opacity."}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "reply_to_user": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1518532180, "post_id": 48768735, "comment_id": 84538928, "body": "I&#39;m not setting any content. Just debug and test. Please see the attachment in update."}], "answers": [{"comments": [{"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "edited": false, "score": 0, "creation_date": 1518531889, "post_id": 48768859, "comment_id": 84538693, "body": "Still not working. The code is running before screen appears. Can this be a cause ?"}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "edited": false, "score": 0, "creation_date": 1518585160, "post_id": 48768859, "comment_id": 84561706, "body": "Is there any method or third party library to render a view as image before it appear on screen ?"}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "edited": false, "score": 0, "creation_date": 1518587352, "post_id": 48768859, "comment_id": 84562374, "body": "Just can&#39;t do it right now as it may break other things. Will get back once done. Thanks for your time @ibnetariq"}, {"owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "edited": false, "score": 0, "creation_date": 1518589959, "post_id": 48768859, "comment_id": 84563361, "body": "thanks, but its also not working as I tried the same before."}], "tags": [], "owner": {"reputation": 560, "user_id": 3719248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4dPEV.jpg?s=128&g=1", "display_name": "ibnetariq", "link": "https://stackoverflow.com/users/3719248/ibnetariq"}, "is_accepted": false, "score": 0, "last_activity_date": 1518588103, "last_edit_date": 1518588103, "creation_date": 1518531332, "answer_id": 48768859, "question_id": 48768735, "link": "https://stackoverflow.com/questions/48768735/uiimage-from-custom-uiview-in-xib-returning-empty-image-with-black-background/48768859#48768859", "title": "UIImage from custom UIView in Xib returning empty image with black background", "body": "<p>Your view has not been added to view hierarchy. Means that its not rendered yet. Therefore you are getting a black image.</p>\n\n<p>Just for testing purpose, add it as as subview of your current view and then snapshot. It will surely work.</p>\n\n<p><strong>Update :</strong></p>\n\n<p>If you need to snapshot without adding it to hierarchy try this</p>\n\n<pre><code>-(UIImage *)snapShot\n{\n    UIGraphicsBeginImageContextWithOptions(self.bounds.size, self.opaque, 0.0f);\n    [self.layer renderInContext: UIGraphicsGetCurrentContext()];\n    UIImage * snapshotImage = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    return snapshotImage;\n}\n</code></pre>\n\n<p>reference : <a href=\"https://stackoverflow.com/questions/40893318/screenshot-of-a-view-without-displaying-it?answertab=votes#tab-top\">Screenshot of a view without displaying it</a></p>\n"}], "owner": {"reputation": 635, "user_id": 3455666, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L1SnD.jpg?s=128&g=1", "display_name": "iAkshay", "link": "https://stackoverflow.com/users/3455666/iakshay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518588103, "creation_date": 1518530866, "last_edit_date": 1518532161, "question_id": 48768735, "link": "https://stackoverflow.com/questions/48768735/uiimage-from-custom-uiview-in-xib-returning-empty-image-with-black-background", "title": "UIImage from custom UIView in Xib returning empty image with black background", "body": "<p>Basically, I'm looking out for a way to attach custom UIView from XIB so that it can be use as link preview in UILabel. I'd choose to convert UIView into UIImage as an image can be use in NSTextAttachment which in turn can use in NSAttributedString.</p>\n\n<p>I'm trying to get image from this UIView. The code is as follows :</p>\n\n<pre><code>UIView *preView = [[[NSBundle bundleForClass:[self class]] loadNibNamed:@\"LinkPreview\" owner:self options:nil] firstObject];\n\n//preView contains 3 labels and 1 imageview with hardcoded values for testing \n\nif(preView)\n{\n      preView.bounds = CGRectMake(0,0,400,200);\n      NSTextAttachment *attachment = [[NSTextAttachment alloc] init];\n      attachment.image = [preView snapShot];\n      .\n      .\n}\n</code></pre>\n\n<p>method snapShot is defined in UIView category :</p>\n\n<pre><code>#import \"UIView+Snapshot.h\"\n#import &lt;QuartzCore/QuartzCore.h&gt;\n\n@implementation UIView (Snapshot)\n\n-(UIImage *)snapShot\n{\n    UIGraphicsBeginImageContextWithOptions(self.bounds.size, self.opaque, 0.0f);\n    [self drawViewHierarchyInRect:self.bounds afterScreenUpdates:YES];\n    UIImage * snapshotImage = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    return snapshotImage;\n}\n\n@end\n</code></pre>\n\n<p>This code returning me the empty image with black background.</p>\n\n<p><strong>Update 1</strong> : The preView is just fine </p>\n\n<p><a href=\"https://i.stack.imgur.com/LfuGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LfuGp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please help. </p>\n"}, {"tags": ["objective-c", "nsurlsession", "nsurlsessiondownloadtask"], "answers": [{"tags": [], "owner": {"reputation": 422, "user_id": 1941338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uHjIg.png?s=128&g=1", "display_name": "UglyBlueCat", "link": "https://stackoverflow.com/users/1941338/uglybluecat"}, "is_accepted": true, "score": 1, "last_activity_date": 1518799011, "last_edit_date": 1518799011, "creation_date": 1518541168, "answer_id": 48771924, "question_id": 48766318, "link": "https://stackoverflow.com/questions/48766318/nsurlsessiondownloadtask-works-on-wifi-not-on-4g/48771924#48771924", "title": "NSURLSessionDownloadTask works on wifi, not on 4G", "body": "<p>I believe I have found the answer in <a href=\"https://stackoverflow.com/a/25653066/1941338\">this so post</a>.</p>\n\n<p>I have removed the setting</p>\n\n<pre><code>sessionConfiguration.discretionary = YES;\n</code></pre>\n\n<p>It now appears to be working, although it is still in testing.</p>\n\n<p><strong>edit:</strong> testing has shown that this is indeed now working :)</p>\n"}], "owner": {"reputation": 422, "user_id": 1941338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uHjIg.png?s=128&g=1", "display_name": "UglyBlueCat", "link": "https://stackoverflow.com/users/1941338/uglybluecat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 1, "accepted_answer_id": 48771924, "answer_count": 1, "score": 0, "last_activity_date": 1518799011, "creation_date": 1518523081, "last_edit_date": 1518528004, "question_id": 48766318, "link": "https://stackoverflow.com/questions/48766318/nsurlsessiondownloadtask-works-on-wifi-not-on-4g", "title": "NSURLSessionDownloadTask works on wifi, not on 4G", "body": "<p>I am working on an app that needs to regularly download data, when the app is in the foreground or background.</p>\n\n<p>I have set up networking using NSURLSessionDownloadTask, such that it works fine in all situations but one.</p>\n\n<p>When the app is running on a physical device, in the foreground and networking is on mobile data, the task resumes to running state, but never downloads any data, never gets any progress and never suspends.</p>\n\n<p>It works fine if I switch on wifi, run from Xcode (debug or release) or run on a simulator.</p>\n\n<p>I should also mention that it is intermittent; I could reproduce it yesterday, but not today, so it is possible that background networking is affected.</p>\n\n<p><strong>Edit</strong> - Example code</p>\n\n<p>Due to the complexity of the application and the limited time I can give to this, I can't give a whole application, but I have included the relevant methods from the AppDelegate and JobsManager classes and the whole of the BackgroundJobFetcher class.</p>\n\n<p>AppDelegate methods:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\n// other stuff\n\n    [BackgroundJobFetcher sharedInstance];\n}\n\n-(void)application:(UIApplication *)application performFetchWithCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {\n    [[BackgroundJobFetcher sharedInstance] setFetchCompletionHandler:completionHandler];\n    [[JobsManager sharedInstance] fetchAllJobs];\n}\n\n- (void) application:(UIApplication *)application handleEventsForBackgroundURLSession:(NSString *)identifier completionHandler:(void (^)(void))completionHandler {\n    [[BackgroundJobFetcher sharedInstance] setSavedCompletionHandler:completionHandler];\n}\n</code></pre>\n\n<p>JobsManager methods:</p>\n\n<pre><code>- (void) initiateProcesses {\n    self.updateTimer = [NSTimer scheduledTimerWithTimeInterval:30 repeats:YES block:^(NSTimer * _Nonnull timer) {\n        [self fetchAllJobs];\n    }];\n}\n- (void) fetchAllJobs {\n    DefaultsManager *dManager = [DefaultsManager sharedDefaultsManager];\n    NSString *apiFunction = @\"getAllJobs\";\n    NSArray* optionsList = @[dManager.CustomerID, dManager.UserID];\n\n    [self callAPIFunction:apiFunction options:optionsList];\n}\n\n- (void) callAPIFunction:(NSString*)apiFunction options:(NSArray*)options {\n    NSString *apiBaseURL = @\"https://www.*****.com/rest\";\n    NSString *urlComplete = [NSString stringWithFormat:@\"%@/%@\",\n                             apiBaseURL,\n                             apiFunction];\n\n    for (NSString* option in options) {\n        urlComplete = [NSString stringWithFormat:@\"%@/%@\", urlComplete, option];\n    }\n\n    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:urlComplete]\n                                             cachePolicy:NSURLRequestReloadIgnoringCacheData\n                                         timeoutInterval:30.0];\n\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n        [[BackgroundJobFetcher sharedInstance] handleRequest:request];\n    });\n}\n</code></pre>\n\n<p>BackgroundJobFetcher.h:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface BackgroundJobFetcher : NSObject\n\n@property (nonatomic, copy) void (^ _Nullable savedCompletionHandler)();\n@property (nonatomic, copy) void (^ _Nullable fetchCompletionHandler)(UIBackgroundFetchResult);\n\n+ (BackgroundJobFetcher*_Nonnull)sharedInstance;\n- (void) handleRequest:(NSURLRequest*_Nonnull)request;\n- (void) getAllTasksWithCompletionHandler:(void(^_Nonnull)(NSArray&lt;__kindof NSURLSessionTask *&gt; * _Nonnull tasks))completionHandler;\n- (void) stopAllTasks;\n\n@end\n</code></pre>\n\n<p>BackgroundJobFetcher.m:</p>\n\n<pre><code>#import \"BackgroundJobFetcher.h\"\n#import \"JobsManager.h\"\n#import \"DefaultsManager.h\"\n#import \"AppDelegate.h\"\n\n@interface BackgroundJobFetcher() &lt;NSURLSessionDelegate, NSURLSessionTaskDelegate, NSURLSessionDownloadDelegate&gt;\n\n@property (nonatomic, strong) NSMutableData* responseData;\n@property (nonatomic, retain) NSURLSession *defaultSession;\n\n@end\n\n@implementation BackgroundJobFetcher\n\n+ (BackgroundJobFetcher*)sharedInstance {\n    static BackgroundJobFetcher* _sharedInstance = nil;\n    static dispatch_once_t oncePredicate;\n    dispatch_once(&amp;oncePredicate, ^{\n        _sharedInstance = [BackgroundJobFetcher new];\n        NSURLSessionConfiguration* sessionConfiguration = [NSURLSessionConfiguration backgroundSessionConfigurationWithIdentifier:@\"MonitorJobFetcher\"];\n        sessionConfiguration.sessionSendsLaunchEvents = YES;\n        sessionConfiguration.discretionary = YES;\n        _sharedInstance.defaultSession = [NSURLSession sessionWithConfiguration:sessionConfiguration\n                                                                       delegate:_sharedInstance\n                                                                  delegateQueue:nil];\n    });\n    return _sharedInstance;\n}\n\n- (void) handleRequest:(NSURLRequest*)request {\n    NSURLSessionDownloadTask* downloadTask = [self.defaultSession downloadTaskWithRequest:request];\n    [downloadTask resume];\n}\n\n- (void) getAllTasksWithCompletionHandler:(void(^)(NSArray&lt;__kindof NSURLSessionTask *&gt; * _Nonnull tasks))completionHandler {\n    [self.defaultSession getAllTasksWithCompletionHandler:completionHandler];\n}\n\n- (void) stopAllTasks {\n    [self.defaultSession getAllTasksWithCompletionHandler:^(NSArray&lt;__kindof NSURLSessionTask *&gt; * _Nonnull tasks) {\n        for (NSURLSessionTask* task in tasks) {\n            [task cancel];\n        }\n    }];\n}\n\n#pragma mark NSURLSessionDelegate methods\n\n- (void)URLSession:(NSURLSession *)session didBecomeInvalidWithError:(NSError *)error {\n    DLog(@\"%@\", error.localizedDescription);\n}\n\n- (void)URLSessionDidFinishEventsForBackgroundURLSession:(NSURLSession *)session {\n    if (self.savedCompletionHandler) {\n        self.savedCompletionHandler();\n        self.savedCompletionHandler = nil;\n    }\n}\n\n- (void)URLSession:(NSURLSession *)session didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition disposition, NSURLCredential *credential))completionHandler {\n    DefaultsManager* dManager = [DefaultsManager sharedDefaultsManager];\n    NSURLCredential *credential = [NSURLCredential credentialWithUser:dManager.Email\n                                                             password:dManager.Password\n                                                          persistence:NSURLCredentialPersistenceForSession];\n    completionHandler(NSURLSessionAuthChallengePerformDefaultHandling, credential);\n}\n\n#pragma mark NSURLSessionTaskDelegate methods\n\n- (void)URLSession:(NSURLSession *)session dataTask:(NSURLSessionDataTask *)dataTask didReceiveData:(NSData *)data {\n    if (!self.responseData) {\n        self.responseData = [NSMutableData dataWithData:data];\n    } else {\n        [self.responseData appendData:data];\n    }\n}\n\n- (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didCompleteWithError:(NSError *)error {\n    NSString* urlString = task.originalRequest.URL.absoluteString;\n    if (error) {\n        DLog(@\"error: %@\", error.localizedDescription);\n        [[JobsManager sharedInstance] requestFailedWithError:error fromURL:urlString];\n    } else {\n        [[JobsManager sharedInstance] jobsFetched:self.responseData];\n    }\n\n    self.responseData = nil;\n\n    if (self.fetchCompletionHandler) {\n        self.fetchCompletionHandler(UIBackgroundFetchResultNewData);\n        self.fetchCompletionHandler = nil;\n    }\n}\n\n- (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition disposition, NSURLCredential *credential))completionHandler {\n    DefaultsManager* dManager = [DefaultsManager sharedDefaultsManager];\n    NSURLCredential *credential = [NSURLCredential credentialWithUser:dManager.Email\n                                                             password:dManager.Password\n                                                          persistence:NSURLCredentialPersistenceForSession];\n    completionHandler(NSURLSessionAuthChallengePerformDefaultHandling, credential);\n}\n\n- (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task willPerformHTTPRedirection:(NSHTTPURLResponse *)response newRequest:(NSURLRequest *)request completionHandler:(void (^)(NSURLRequest *))completionHandler {\n    completionHandler(request);\n}\n\n- (void)URLSession:(NSURLSession *)session taskIsWaitingForConnectivity:(NSURLSessionTask *)task {\n    DLog(@\"URL: %@\", task.originalRequest.URL.absoluteString);\n    DLog(@\"task.taskIdentifier: %lu\", (unsigned long)task.taskIdentifier);\n}\n\n- (void)URLSession:(NSURLSession *)session dataTask:(NSURLSessionDataTask *)dataTask didBecomeDownloadTask:(NSURLSessionDownloadTask *)downloadTask\n{\n    [downloadTask resume];\n}\n\n- (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didFinishCollectingMetrics:(NSURLSessionTaskMetrics *)metrics {\n    DLog(@\"URL: %@\", task.originalRequest.URL.absoluteString);\n    DLog(@\"task.taskIdentifier: %lu\", (unsigned long)task.taskIdentifier);\n    DLog(@\"metrics: %@\", metrics);\n}\n\n#pragma mark NSURLSessionDownloadDelegate methods\n\n- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didFinishDownloadingToURL:(NSURL *)location {\n    self.responseData = [[NSData dataWithContentsOfURL:location] mutableCopy];\n}\n\n- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didResumeAtOffset:(int64_t)fileOffset expectedTotalBytes:(int64_t)expectedTotalBytes\n{\n    DLog(@\"downloadTask.taskIdentifier: %lu\", (unsigned long)downloadTask.taskIdentifier);\n    DLog(@\"fileOffset: %lld\", fileOffset);\n    DLog(@\"expectedTotalBytes: %lld\", expectedTotalBytes);\n}\n\n- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didWriteData:(int64_t)bytesWritten totalBytesWritten:(int64_t)totalBytesWritten totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite\n{\n    DLog(@\"downloadTask.taskIdentifier: %lu\", (unsigned long)downloadTask.taskIdentifier);\n    DLog(@\"bytesWritten: %lld\", bytesWritten);\n    DLog(@\"totalBytesWritten: %lld\", totalBytesWritten);\n}\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "voip", "sinch", "callkit"], "comments": [{"owner": {"reputation": 724, "user_id": 5565338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8GbOW.jpg?s=128&g=1", "display_name": "Faruk Duric", "link": "https://stackoverflow.com/users/5565338/faruk-duric"}, "edited": false, "score": 0, "creation_date": 1564664620, "post_id": 48766210, "comment_id": 101111602, "body": "did u solve this? i have the same problem :("}], "owner": {"reputation": 269, "user_id": 5357683, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/z3Duf.jpg?s=128&g=1", "display_name": "Kishan Vyas", "link": "https://stackoverflow.com/users/5357683/kishan-vyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518523577, "creation_date": 1518522708, "last_edit_date": 1518523577, "question_id": 48766210, "link": "https://stackoverflow.com/questions/48766210/sinch-sdk-with-voip-pushkit-callkit", "title": "Sinch SDK with VoIP, PushKit, CallKit", "body": "<p>I integrated Sinch sdk into my projects with VoIP, PushKit, CallKit. Everything is working fine. But when app is not running in device A and someone(Device B) is calling to it then sometimes in device A I am getting notification with text <strong>SIN_INCOMING_CALL</strong> . I don't know from where it is coming. But my problem is, I want to open default call screen of iOS device. Sometime it is being opened and sometimes it show notification with this text.</p>\n\n<p>My Appdelegate has following code.</p>\n\n<pre><code>@interface AppDelegate() &lt;SINClientDelegate, SINCallClientDelegate, SINManagedPushDelegate, SINCallDelegate&gt;\n\n@property (nonatomic, readwrite, strong) id&lt;SINManagedPush&gt; push;\n@property (strong, nonatomic) id&lt;SINClient&gt; sinchClient;\n@property (nonatomic, readwrite, strong) SINCallKitProvider *callKitProvider;\n\n@end\n\n@implementation AppDelegate\n\n- (void)applicationWillEnterForeground:(UIApplication *)application\n    {\n        id&lt;SINCall&gt; call = [self.callKitProvider currentEstablishedCall];\n        if (call) {\n              //Show call view controller and pass call\n        }\n    }\n\n\n#pragma mark - Remote Notification\n\n- (void)application:(UIApplication *)application didRegisterUserNotificationSettings:(UIUserNotificationSettings *)notificationSettings\n{\n    if (notificationSettings.types != UIUserNotificationTypeNone) { [application registerForRemoteNotifications]; }\n}\n\n- (void)application:(UIApplication*)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken\n{\n    NSString *newToken = deviceToken.description;\n    newToken = [newToken stringByTrimmingCharactersInSet:[NSCharacterSet characterSetWithCharactersInString:@\"&lt;&gt;\"]];\n    newToken = [newToken stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n    [self.push application:application didRegisterForRemoteNotificationsWithDeviceToken:deviceToken];\n    NSLog(@\"My token is: %@\", newToken);\n\n    //get previously initiated Sinch client\n    if (!self.sinchClient) { [self initSinchCallConfig]; }\n    id&lt;SINClient&gt; client = [self sinchClient];\n    [client registerPushNotificationData:deviceToken];\n}\n\n- (void)application:(UIApplication*)application didFailToRegisterForRemoteNotificationsWithError:(NSError*)error\n{\n    NSLog(@\"Failed to get token, error: %@\", error);\n    [obj_SharedModel setUDID:@\"\"]; //Statuc Device Id just for testing purpose from simulator.\n}\n\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo\n{\n    [self.push application:application didReceiveRemoteNotification:userInfo];\n}\n\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler\n{\n    completionHandler(UIBackgroundFetchResultNewData);\n}\n- (void)registerForPushNotifications\n{\n    UIApplication *application = [UIApplication sharedApplication];\n    if (IS_OS_10_BELOW) {\n        UIUserNotificationSettings *settings = [UIUserNotificationSettings settingsForTypes:(UIUserNotificationTypeBadge|UIUserNotificationTypeAlert|UIUserNotificationTypeSound) categories:nil];\n        [application registerUserNotificationSettings:settings];\n    }\n    else {\n        UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];\n        center.delegate = self;\n        [center requestAuthorizationWithOptions:(UNAuthorizationOptionSound | UNAuthorizationOptionAlert | UNAuthorizationOptionBadge) completionHandler:^(BOOL granted, NSError * _Nullable error){\n            if(!error){ dispatch_async(dispatch_get_main_queue(), ^{ [[UIApplication sharedApplication] registerForRemoteNotifications]; }); }\n        }];\n    }\n\n    //register for VoIP push\n    PKPushRegistry *voipRegistry = [[PKPushRegistry alloc] initWithQueue:dispatch_get_main_queue()];\n    voipRegistry.delegate = self;\n    voipRegistry.desiredPushTypes = [NSSet setWithObject:PKPushTypeVoIP];\n\n    self.push = [Sinch managedPushWithAPSEnvironment:SINAPSEnvironmentAutomatic];\n    self.push.delegate = self;\n    [self.push setDesiredPushTypeAutomatically];\n    [self.push registerUserNotificationSettings]; \n}\n\n- (void)unRegisterForPushNotifications\n{\n    [[UIApplication sharedApplication] unregisterForRemoteNotifications];\n    [self.sinchClient unregisterPushNotificationDeviceToken];\n}\n\n#pragma mark - IOS 10 UP - UNUserNotificationCenter\n\n//Called when a notification is delivered to a foreground app.\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(UNNotification *)notification withCompletionHandler:(void (^)(UNNotificationPresentationOptions options))completionHandler {\n    NSLog(@\"User Info : %@\",notification.request.content.userInfo);\n    completionHandler(UNAuthorizationOptionSound | UNAuthorizationOptionAlert | UNAuthorizationOptionBadge);\n}\n\n//Called to let your app know which action was selected by the user for a given notification.\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void (^)(void))completionHandler {\n    completionHandler();\n}\n\n#pragma mark - VoIP remote Notifications\n\n- (void)pushRegistry:(PKPushRegistry *)registry didUpdatePushCredentials:(PKPushCredentials *)credentials forType:(NSString *)type {\n    NSString *newToken = credentials.token.description;\n    newToken = [newToken stringByTrimmingCharactersInSet:[NSCharacterSet characterSetWithCharactersInString:@\"&lt;&gt;\"]];\n    newToken = [newToken stringByReplacingOccurrencesOfString:@\" \" withString:@\"\"];\n\n    NSLog(@\"VoIP Tokenp is: %@\", newToken);\n}\n\n- (void)pushRegistry:(PKPushRegistry *)registry didReceiveIncomingPushWithPayload:(PKPushPayload *)payload forType:(NSString *)type {\n    NSDictionary *dictPayload = payload.dictionaryPayload;\n    if ([dictPayload sin_isSinchPushPayload]) {\n        if (!self.sinchClient) { [self initSinchCallConfig]; }\n        [self.sinchClient relayRemotePushNotification:dictPayload];\n\n        /*\n         {\"aps\":{\"alert\":{\"loc-key\" : \"SIN_INCOMING_CALL\"}},\"sin\" :\"ASDAS\" }\n         */\n    }\n    else {\n    }\n}\n\n- (void)pushRegistry:(PKPushRegistry *)registry didInvalidatePushTokenForType:(NSString *)type { }\n\n#pragma mark - SINClient Method\n\n- (void)initSinchCallConfig\n{\n    // Instantiate a Sinch client object\n    if (!self.sinchClient &amp;&amp; [stLoginUserName length]) {\n        self.sinchClient = [Sinch clientWithApplicationKey:@\"dea827c1-1208-45a6-b510-5d1f277d9607\" applicationSecret:@\"AgxDpf/4X0OrLx1GXv6Quw==\" environmentHost:@\"sandbox.sinch.com\" userId:stLoginUserName];\n        self.sinchClient.delegate = self;\n        self.sinchClient.callClient.delegate = self; //for incomming call\n\n        [self.sinchClient setSupportCalling:YES];\n        [self.sinchClient setSupportPushNotifications:YES];\n        [self.sinchClient setPushNotificationDisplayName:MSG_TITLE];\n        [self.sinchClient enableManagedPushNotifications];\n\n        [self.sinchClient start];\n        [self.sinchClient startListeningOnActiveConnection];\n\n        self.callKitProvider = [[SINCallKitProvider alloc] initWithClient:self.sinchClient];\n    }\n}\n\n#pragma mark - SINClient Delegate\n\n- (void)clientDidStart:(id&lt;SINClient&gt;)client {\n    NSLog(@\"Sinch client started successfully (version: %@)\", [Sinch version]);\n}\n\n- (void)clientDidFail:(id&lt;SINClient&gt;)client error:(NSError *)error {\n    NSLog(@\"Sinch client error: %@\", [error localizedDescription]);\n}\n\n- (void)client:(id&lt;SINClient&gt;)client logMessage:(NSString *)message area:(NSString *)area severity:(SINLogSeverity)severity timestamp:(NSDate *)timestamp {\n    NSLog(@\"%@\", message);\n}\n\n#pragma mark - SINCallClient Delegate\n\n- (void)client:(id&lt;SINCallClient&gt;)client didReceiveIncomingCall:(id&lt;SINCall&gt;)call {\n    NSLog(@\"didReceiveIncomingCall\");\n    CallViewController *callVC = [[CallViewController alloc] initWithNibName:@\"CallViewController\" bundle:nil];\n    callVC.call = call;\n    AppNavigationController *nav = [[AppNavigationController alloc] initWithRootViewController:callVC];\n    [self.navigationController presentViewController:nav animated:YES completion:nil];\n\n    if (call.details.applicationStateWhenReceived == UIApplicationStateActive) { }\n    else { [callVC btnAcceptCallAction]; }\n}\n\n- (void)client:(id&lt;SINClient&gt;)client willReceiveIncomingCall:(id&lt;SINCall&gt;)call {\n    [self.callKitProvider reportNewIncomingCall:call];\n    call.delegate = self;\n}\n\n#pragma mark - SINManagedPush Delegate\n\n- (void)managedPush:(id&lt;SINManagedPush&gt;)unused didReceiveIncomingPushWithPayload:(NSDictionary *)payload forType:(NSString *)pushType {\n    if (!self.sinchClient) { [self initSinchCallConfig]; }\n    [self.sinchClient relayRemotePushNotification:payload];\n}\n\n- (void)call:(id&lt;SINCall&gt;)call shouldSendPushNotifications:(NSArray *) pushPairs {\n    NSLog(@\"shouldSendPushNotifications\");\n}\n\n#pragma mark - SINCall Delegate\n\n- (void)callDidProgress:(id&lt;SINCall&gt;)call {\n\n}\n\n- (void)callDidEstablish:(id&lt;SINCall&gt;)call {\n\n}\n\n- (void)callDidEnd:(id&lt;SINCall&gt;)call { [[self callKitProvider] reportCallEnded:call]; }\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "atomic"], "comments": [{"owner": {"reputation": 536, "user_id": 7405093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-guRJ9qhqw6Q/AAAAAAAAAAI/AAAAAAAAAAo/YISizlbGD2E/photo.jpg?sz=128", "display_name": "Arthur Sahakyan", "link": "https://stackoverflow.com/users/7405093/arthur-sahakyan"}, "edited": false, "score": 1, "creation_date": 1518521751, "post_id": 48765825, "comment_id": 84531976, "body": "Actually you compile that and check, what is your question ?"}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 1, "creation_date": 1518521878, "post_id": 48765825, "comment_id": 84532044, "body": "Arthur is right instead of making concept in air, do and check and learn."}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1518522946, "post_id": 48765825, "comment_id": 84532650, "body": "What you are asking is apply for <code>@syncronized(self)</code> where only single thread is allowed to get in and do the stuff mean while other thread are waiting outside. atomic doesn&#39;t do that"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1518523277, "post_id": 48765825, "comment_id": 84532855, "body": "You are wrong. I correct you, as requested."}], "answers": [{"tags": [], "owner": {"reputation": 1567, "user_id": 8948781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hPhDN.jpg?s=128&g=1", "display_name": "Enrique Berm&#250;dez", "link": "https://stackoverflow.com/users/8948781/enrique-berm%c3%badez"}, "is_accepted": false, "score": 0, "last_activity_date": 1518529425, "last_edit_date": 1518529425, "creation_date": 1518522774, "answer_id": 48766233, "question_id": 48765825, "link": "https://stackoverflow.com/questions/48765825/atomic-property-and-usage/48766233#48766233", "title": "Atomic property and usage", "body": "<p>Ok, threads might not execute sequentially, the first thread created might run after the second one. If the threads executes in the order you describe, the mentioned behavior is fine. But I think that your have a misconception about thread safe.</p>\n\n<p>I encourage you to read more about <a href=\"http://developer.apple.com/library/ios/#documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html\" rel=\"nofollow noreferrer\">Concurrency Programming Guide</a> and <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">Thread safe</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 4, "last_activity_date": 1518530761, "last_edit_date": 1518530761, "creation_date": 1518530456, "answer_id": 48768602, "question_id": 48765825, "link": "https://stackoverflow.com/questions/48765825/atomic-property-and-usage/48768602#48768602", "title": "Atomic property and usage", "body": "<blockquote>\n  <p>First thread that is increasing count value by 2</p>\n</blockquote>\n\n<p>That is not an atomic operation, and <code>atomic</code> in no way helps you. This is (at least) three separate atomic operations:</p>\n\n<ul>\n<li>read value</li>\n<li>increase value</li>\n<li>write value</li>\n</ul>\n\n<p>This is the classic multi-writer race condition. Another thread might read between \"read value\" and \"write value.\" In your example the final result could be 4, such that the increase operation is completely lost (A reads 5, B reads 5, A +2, A writes 7, B -1, B writes 4).</p>\n\n<p>The problem that <code>atomic</code> is meant to solve is that \"read value\" and \"write value\" aren't even atomic operations in many platform-specific situations. The above may actually be 5 operations such as:</p>\n\n<ul>\n<li>read lower word</li>\n<li>read upper word</li>\n<li>increase value</li>\n<li>write lower word</li>\n<li>write upper word</li>\n</ul>\n\n<p>Without <code>atomic</code>, another thread might read between \"write lower word\" and \"write upper word\" and get a garbage value that was never written (half of one value and half of another). By using <code>atomic</code>, you ensure that readers will always receive a \"legitimate\" value (one that was written at some point). But that's not much of a promise.</p>\n\n<p>But as is noted in the questions you provide, if you need to make reads and writes atomic, you almost certainly need more than that, because you also want to make \"increase the value\" atomic. So in practice <code>atomic</code> is rarely useful. If you don't need it, it's slow. If you do need it, it's probably insufficient.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9358473"}, "is_accepted": true, "score": 1, "last_activity_date": 1518588874, "creation_date": 1518588874, "answer_id": 48780766, "question_id": 48765825, "link": "https://stackoverflow.com/questions/48765825/atomic-property-and-usage/48780766#48780766", "title": "Atomic property and usage", "body": "<p>Atomic based property where two threads are accessing same object to increase or decrease a value , You can understand this like both have accessed the same/whole value which is 5 but First thread trying to update this value then this is locked no other thread can update this at the same time however 2nd thread is also having same value which is 5 and can update only when Count object updation get exited by first thread.</p>\n"}], "owner": {"reputation": 1681, "user_id": 2154350, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Up4FQ.jpg?s=128&g=1", "display_name": "Pankaj Bhardwaj", "link": "https://stackoverflow.com/users/2154350/pankaj-bhardwaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 48780766, "answer_count": 3, "score": 0, "last_activity_date": 1518588874, "creation_date": 1518521514, "question_id": 48765825, "link": "https://stackoverflow.com/questions/48765825/atomic-property-and-usage", "title": "Atomic property and usage", "body": "<p>I have read many stackoverflow answers for this like <a href=\"https://stackoverflow.com/questions/33723255/is-an-atomic-property-thread-safe\">Is an atomic property thread safe?</a>, <a href=\"https://stackoverflow.com/questions/42348147/when-to-use-atomic\">When to use @atomic?</a> or <a href=\"https://stackoverflow.com/questions/21098494/atomic-properties-vs-thread-safe-in-objective-c\">Atomic properties vs thread-safe in Objective-C</a> but I have question for this:</p>\n\n<p>Please correct me If I am wrong, This is like that I am using a count variable which I have declared with Atomic property and currently its value is 5 \nwhich is accessed by two thread , First thread that is increasing count value by 2 and 2nd thread decreasing the count value by 1 ,According to my understanding this go sequentially like when first thread increased its value which is now 5 + 2 = 7; after then only 2nd thread can access count variable and only decrease its value by 1 and that is 7 - 1 = 6?</p>\n"}, {"tags": ["ios", "objective-c", "bluetooth-lowenergy", "core-bluetooth", "ios11.2"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518521551, "post_id": 48765739, "comment_id": 84531868, "body": "you app will not scan for new devices in background but (briefly) can keep connected to already connected devices and monitoring them <i>(source: <a href=\"https://developer.apple.com/library/content/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/CoreBluetoothBackgroundProcessingForIOSApps/PerformingTasksWhileYourAppIsInTheBackground.html\" rel=\"nofollow noreferrer\">Apple</a>)</i>."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518521767, "post_id": 48765739, "comment_id": 84531980, "body": "@holex the rest of that sentence says that this pertains to &quot;apps that have not declared to support either of the Core Bluetooth background execution modes&quot;. But <i>I think</i> I&#39;ve done that properly in my app."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518522130, "post_id": 48765739, "comment_id": 84532173, "body": "and it also says <i>&quot;<code>bluetooth-central</code> \u2013 The app uses the CoreBluetooth framework to <b>communicate</b> with a Bluetooth accessory while in the background.&quot;</i>, I emphasised the keyword here: &quot;communicate&quot; (=interact) and not &quot;scan&quot;."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518522341, "post_id": 48765739, "comment_id": 84532290, "body": "@holex another quote from the background mode section: &quot;While your app is in the background you can still discover and connect to peripherals, ...&quot; So it seems as if you can discover devices as well while running in the background."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518522519, "post_id": 48765739, "comment_id": 84532388, "body": "And actually the remainder of that same paragraph makes it clear that scanning in the background, although it may behave differently in some ways, is a real feature. (@holex)"}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518522763, "post_id": 48765739, "comment_id": 84532533, "body": "...and that the second part of the sentence is: <i>&quot;(...) the system <b>wakes up</b> your app when (...)&quot;</i> not &quot;lets your app running wild in background&quot;."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518523198, "post_id": 48765739, "comment_id": 84532812, "body": "@holex thanks but this conversation isn&#39;t useful anymore. You said that &quot;you app will not scan for new devices in background&quot; but now I guess it can? As per my question, <b>waking up</b> would actually be useful for what I&#39;m trying to achieve. But I&#39;m looking for people who understand bluetooth on iOS and can help me identify why this currently isn&#39;t happening."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1518523281, "post_id": 48765739, "comment_id": 84532857, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/165045/discussion-between-wheresmycookie-and-holex\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "edited": false, "score": 0, "creation_date": 1518697486, "post_id": 48772494, "comment_id": 84617136, "body": "Thanks, this is insightful. I&#39;ve been looking for ways to scan using a regular expression or wildcard UUID, but so far haven&#39;t been able to find anything."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "edited": false, "score": 0, "creation_date": 1518697865, "post_id": 48772494, "comment_id": 84617414, "body": "Actually Paulw11, I think I mispoke in the question originally (edited now). I&#39;m actually trying to filter by the name property (link provided in EDIT). Do you happen to know if this is possible? Haven&#39;t seen anything of that nature yet."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "reply_to_user": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "edited": false, "score": 0, "creation_date": 1518707497, "post_id": 48772494, "comment_id": 84624199, "body": "No, you can&#39;t. You can only search for the service(s) that are being advertised. To filter by name you would need to have your code check the name of the newly discovered device and you won&#39;t be able to do that in the background without specifying a service to scan for."}, {"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "edited": false, "score": 0, "creation_date": 1518710085, "post_id": 48772494, "comment_id": 84625904, "body": "Thanks - am doing a little more research here, and if it confirms all of this I&#39;ll come back and choose this answer. Thanks!"}], "tags": [], "owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "is_accepted": true, "score": 1, "last_activity_date": 1518543177, "creation_date": 1518543177, "answer_id": 48772494, "question_id": 48765739, "link": "https://stackoverflow.com/questions/48765739/bluetooth-le-ios-unable-to-scan-in-background/48772494#48772494", "title": "Bluetooth LE iOS unable to scan in background", "body": "<p>In order to scan for new devices in the background you must specify the UUIDs of the service(s) that you are interested in. The documentation is quite clear on this. </p>\n\n<p>The <code>identifier</code> for a device is a value locally determined by iOS, not the device itself and will vary for different iOS devices connecting to the same peripheral.  If you know the identifier for a device that you have previously discovered then you can use the identifier to <code>connect</code> to the device but you can\u2019t scan for an identifier. </p>\n\n<p>It is possible for a peripheral to include data in its service advertisement and perhaps this is what your peripheral is doing. If so, then you will not be able to get readings in the background since duplicate device discovery events are not delivered when your app is in the background. </p>\n\n<p>You can discover and connect to a new device in the background as long as you know the service that it is advertising but any subsequent data transfers will require the device to issue a notify on a changed characteristic. It cannot use the manufacturer data portion of the advertising frame. </p>\n"}], "owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 48772494, "answer_count": 1, "score": 0, "last_activity_date": 1518697799, "creation_date": 1518521187, "last_edit_date": 1518697799, "question_id": 48765739, "link": "https://stackoverflow.com/questions/48765739/bluetooth-le-ios-unable-to-scan-in-background", "title": "Bluetooth LE iOS unable to scan in background", "body": "<h1>Setup, uniqueness of the situation, and success scanning in foreground</h1>\n\n<p>I am trying to pick up bluetooth readings from a <code>CBPeripheral</code> device. What is interesting about this particular device is that it sends out UUIDs that are embedding information in them directly. (This seems strange, but I don't know enough about BLE to know whether or not that's typical. There is no actual connection occurring in the end - only advertisements are being sent out.)</p>\n\n<p>In the foreground, I am able to identify which readings are mine because <code>[peripheral name]</code> remains constant. So I'm able to pick up the readings that are relevant by doing the following check inside of <code>didDiscoverPeripheral</code>:</p>\n\n<pre><code>if ([[peripheral name] isEqualToString:@\"UNIQUE_IDENTIFIER\"]) {\n    NSLog(@\"*** Got a reading ***\");\n}\n</code></pre>\n\n<p>This is working nicely in the foreground - I am running</p>\n\n<pre><code>[self.centralManager scanForPeripheralsWithServices:nil options:nil];\n</code></pre>\n\n<p>in a loop (details there seem irrelevant) and the code is able to print out all of the readings that I expect it to print.</p>\n\n<h1>Trouble scanning in background and attempts to solve</h1>\n\n<p>My app's Info.plist contains the following entry:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sYFm5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYFm5.png\" alt=\"\"></a></p>\n\n<p>I have also check the (what I think is) the appropriate field in the Capabilities tab in XCode:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nn34C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nn34C.png\" alt=\"\"></a></p>\n\n<p>Neither of these things have turned out to be useful. <code>didDiscoverPeripheral</code> is called perfectly up until the point where I close my application, at which point it stops immediately.</p>\n\n<p>One other thing that I read on the internet was that background processing still won't happen when <code>scanForPeripheralsWithServices</code> is called with <code>nil</code>, however if a non-empty array of services is passed instead, then it should succeed. <strong>I'm not sure if this is correct</strong>. The problem is, I have only been able to find examples of calling <code>scanForPeripheralsWithServices</code> where the services are identified by their <code>UUID</code>s, for example</p>\n\n<pre><code>NSArray *services = @[[CBUUID UUIDWithString: @\"2456f1b9-26e2-8f83-e744-f34f01e9d701\"]];\n[self.centralManager scanForPeripheralsWithServices:services options:nil];\n</code></pre>\n\n<p>but not their <code>name</code> property.</p>\n\n<h1>The question</h1>\n\n<p>So I guess my question, after all of this, would be: Would providing an array of <code>name</code> filters (instead of <code>UUID</code>s) help the application to run in the background, and if so, how would I write that in code? If not, what am I missing such that my app still only works in the foreground?</p>\n\n<p>EDIT: I had previously used the terminology \"identifier\" when I think I meant to say \"name\", so I went back and changed those. From the documentation, here is the name value that I would like to scan for in the background <a href=\"https://developer.apple.com/documentation/corebluetooth/cbperipheral/1519029-name?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/corebluetooth/cbperipheral/1519029-name?language=objc</a></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "core-telephony", "mobile-development"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1518523201, "post_id": 48765235, "comment_id": 84532819, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4954389/measuring-cellular-signal-strength\">Measuring cellular signal strength</a>"}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 5319831, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-L5E5DzWkK80/AAAAAAAAAAI/AAAAAAAAAFk/tqjsWxozcYs/photo.jpg?sz=128", "display_name": "Mohd Naved", "link": "https://stackoverflow.com/users/5319831/mohd-naved"}, "edited": false, "score": 0, "creation_date": 1518526575, "post_id": 48766797, "comment_id": 84534943, "body": "Thank you so much for taking time to answer this, I will definitely check it up. Just one more thing, How to get the cellular network strength?"}, {"owner": {"reputation": 536, "user_id": 7405093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-guRJ9qhqw6Q/AAAAAAAAAAI/AAAAAAAAAAo/YISizlbGD2E/photo.jpg?sz=128", "display_name": "Arthur Sahakyan", "link": "https://stackoverflow.com/users/7405093/arthur-sahakyan"}, "reply_to_user": {"reputation": 418, "user_id": 5319831, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-L5E5DzWkK80/AAAAAAAAAAI/AAAAAAAAAFk/tqjsWxozcYs/photo.jpg?sz=128", "display_name": "Mohd Naved", "link": "https://stackoverflow.com/users/5319831/mohd-naved"}, "edited": false, "score": 1, "creation_date": 1518527034, "post_id": 48766797, "comment_id": 84535225, "body": "@Mohd Naved Sorry, but I didn&#39;t found public api for cellular network, but however you can look here, maybe you will got some luck :) <a href=\"https://developer.apple.com/documentation/networkextension\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/networkextension</a>"}], "tags": [], "owner": {"reputation": 536, "user_id": 7405093, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-guRJ9qhqw6Q/AAAAAAAAAAI/AAAAAAAAAAo/YISizlbGD2E/photo.jpg?sz=128", "display_name": "Arthur Sahakyan", "link": "https://stackoverflow.com/users/7405093/arthur-sahakyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1518524742, "last_edit_date": 1592644375, "creation_date": 1518524742, "answer_id": 48766797, "question_id": 48765235, "link": "https://stackoverflow.com/questions/48765235/xcode-network-strength-in-ios/48766797#48766797", "title": "xcode - Network Strength in iOS", "body": "<p>from iOS 9 and later it seems you can get wifi signal strength look at this <a href=\"https://developer.apple.com/documentation/networkextension/nehotspothelper\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/networkextension/nehotspothelper</a>\nBut also you must get entitlement. From Apple docs</p>\n<blockquote>\n<p>The com.apple.developer.networking.HotspotHelper entitlement is required\nin order to use NEHotspotHelper. To request this entitlement, complete\nthe questionnaire at</p>\n<p><a href=\"https://developer.apple.com/contact/network-extension\" rel=\"nofollow noreferrer\">https://developer.apple.com/contact/network-extension</a>.</p>\n</blockquote>\n<p>hope this helps.</p>\n"}], "owner": {"reputation": 418, "user_id": 5319831, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-L5E5DzWkK80/AAAAAAAAAAI/AAAAAAAAAFk/tqjsWxozcYs/photo.jpg?sz=128", "display_name": "Mohd Naved", "link": "https://stackoverflow.com/users/5319831/mohd-naved"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1411, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1518524742, "creation_date": 1518519606, "last_edit_date": 1518523681, "question_id": 48765235, "link": "https://stackoverflow.com/questions/48765235/xcode-network-strength-in-ios", "title": "xcode - Network Strength in iOS", "body": "<p>I know that it is not really going to help me out, but still I have some doubts related to \"CTGetSignalStrength()\" method of Core Telephony framework. What I know about this method is:</p>\n\n<ol>\n<li>It is an undocumented method.</li>\n<li>It belongs to a Private API.</li>\n<li>If I use this method, App store will reject my application.</li>\n<li>Also, I read that there is no public API to get the Signal Strength in iOS.</li>\n</ol>\n\n<p>My reason to pick this topic up again because all the other answers are atleast 2 years old. </p>\n\n<p>And also, I have seen some applications on App store which really tells about the cellular/Wifi Strength(Like Dr.Wifi-something). </p>\n\n<p>If its not possible to get the signal Strength, how those applications are getting it? Or there is some other way now through which we can get the network Strength. I would really appreciate if someone can enlighten me on this. Thank you.</p>\n\n<p><strong>EDIT</strong> : I have checked that question before, the one in the comment, but please see that :\n 1. The answer is really old.\n 2. In the comments, you can see someone asked \"How OpenSignal is doing there signal strength measurement?\" and there is no reply to that.\n 3. Every opportunity to get signal strength is either removed in the updated iOS version, or giving null or 0 as output.</p>\n\n<p>So I am not really sure if there is no solution present for the problem or, the solution is not yet updated to that question.</p>\n"}, {"tags": ["ios", "objective-c", "nsdata", "core-audio", "audiobuffer"], "comments": [{"owner": {"reputation": 4455, "user_id": 1313967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msDex.jpg?s=128&g=1", "display_name": "dave234", "link": "https://stackoverflow.com/users/1313967/dave234"}, "edited": false, "score": 0, "creation_date": 1518714229, "post_id": 48765089, "comment_id": 84628649, "body": "Is audioData an NSData object containing samples?  If so, what is the format of the samples?  Stereo floats?  Mono SInt16s?"}, {"owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "reply_to_user": {"reputation": 4455, "user_id": 1313967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msDex.jpg?s=128&g=1", "display_name": "dave234", "link": "https://stackoverflow.com/users/1313967/dave234"}, "edited": false, "score": 0, "creation_date": 1518850867, "post_id": 48765089, "comment_id": 84681933, "body": "@dave234 my complete code in: <a href=\"https://stackoverflow.com/questions/48762974/how-to-play-nsdata-audio-buffering-receive-from-web-socket\" title=\"how to play nsdata audio buffering receive from web socket\">stackoverflow.com/questions/48762974/&hellip;</a>"}, {"owner": {"reputation": 4455, "user_id": 1313967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msDex.jpg?s=128&g=1", "display_name": "dave234", "link": "https://stackoverflow.com/users/1313967/dave234"}, "edited": false, "score": 0, "creation_date": 1518881457, "post_id": 48765089, "comment_id": 84689857, "body": "The question you linked to is too much work to read through.  Just provide a little more detail here and we\u2019ll get it solved :)"}, {"owner": {"reputation": 4455, "user_id": 1313967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/msDex.jpg?s=128&g=1", "display_name": "dave234", "link": "https://stackoverflow.com/users/1313967/dave234"}, "edited": false, "score": 0, "creation_date": 1518883024, "post_id": 48765089, "comment_id": 84690340, "body": "Find our if the audio is stereo/mono, Int16/floats, interleaved/de-interleaved."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "edited": false, "score": 0, "creation_date": 1518519966, "post_id": 48765159, "comment_id": 84530963, "body": "I&#39;m already use this code but  Broken file is created and can&#39;t play it."}, {"owner": {"reputation": 3111, "user_id": 1647074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nw7Hf.jpg?s=128&g=1", "display_name": "jignesh Vadadoriya", "link": "https://stackoverflow.com/users/1647074/jignesh-vadadoriya"}, "reply_to_user": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "edited": false, "score": 0, "creation_date": 1518520075, "post_id": 48765159, "comment_id": 84531008, "body": "Have you set name of file is  &quot;audio.aif &quot; while write  file ?"}], "tags": [], "owner": {"reputation": 3111, "user_id": 1647074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nw7Hf.jpg?s=128&g=1", "display_name": "jignesh Vadadoriya", "link": "https://stackoverflow.com/users/1647074/jignesh-vadadoriya"}, "is_accepted": false, "score": 0, "last_activity_date": 1518520004, "last_edit_date": 1518520004, "creation_date": 1518519344, "answer_id": 48765159, "question_id": 48765089, "link": "https://stackoverflow.com/questions/48765089/how-to-convert-nsdata-to-an-audio-file-and-save-it/48765159#48765159", "title": "How to convert NSData to an audio file and save it?", "body": "<p>For Convert NSData </p>\n\n<pre><code>myData = [NSData dataWithContentsOfURL:myUrl];  //\"audiofile.aif\" url\n</code></pre>\n\n<p>Use <code>NSData</code> <code>writeToFile</code> method for save file.</p>\n\n<p>Try this </p>\n\n<pre><code>[myData writeToFile:[NSHomeDirectory() stringByAppendingPathComponent:@\"Documents/audio.aif\"] atomically:YES];\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 696, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518539841, "creation_date": 1518519185, "last_edit_date": 1518539841, "question_id": 48765089, "link": "https://stackoverflow.com/questions/48765089/how-to-convert-nsdata-to-an-audio-file-and-save-it", "title": "How to convert NSData to an audio file and save it?", "body": "<p>How to create <code>audiofile.aif</code> and append audio with nsdata?</p>\n\n<pre><code>NSData * audioData = [NSData dataWithBytes:inBuffer-&gt;mAudioData length:inBuffer-&gt;mAudioDataByteSize * NUM_BUFFERS];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "cocoa-touch"], "comments": [{"owner": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518516281, "post_id": 48764004, "comment_id": 84528626, "body": "Are you use cocoa pod for build framework?"}, {"owner": {"reputation": 104, "user_id": 8825441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jahXF4wrZNA/AAAAAAAAAAI/AAAAAAAABl0/BLXVKLbniGg/photo.jpg?sz=128", "display_name": "Hemraj Jhariya", "link": "https://stackoverflow.com/users/8825441/hemraj-jhariya"}, "reply_to_user": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518516460, "post_id": 48764004, "comment_id": 84528743, "body": "@KamaniJasmin yes I&#39;m using cocoa pods inside my Framework project."}, {"owner": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518516620, "post_id": 48764004, "comment_id": 84528853, "body": "One time I got this problem when i build own framework? i solve this problem by add manually framework."}, {"owner": {"reputation": 104, "user_id": 8825441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jahXF4wrZNA/AAAAAAAAAAI/AAAAAAAABl0/BLXVKLbniGg/photo.jpg?sz=128", "display_name": "Hemraj Jhariya", "link": "https://stackoverflow.com/users/8825441/hemraj-jhariya"}, "reply_to_user": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518516669, "post_id": 48764004, "comment_id": 84528880, "body": "could you please help me. How did you resolve it?"}, {"owner": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518517241, "post_id": 48764004, "comment_id": 84529233, "body": "I say one example of SVProgressHUD. First download SVProgressHUD project into github then open SVProgressHUD project and build it. After build this project drag and drop [SVProgressHUD.framework] in your custome framework project then add [SVProgressHUD.framework] to Linked framework and library. After you can add your custome framework."}, {"owner": {"reputation": 104, "user_id": 8825441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jahXF4wrZNA/AAAAAAAAAAI/AAAAAAAABl0/BLXVKLbniGg/photo.jpg?sz=128", "display_name": "Hemraj Jhariya", "link": "https://stackoverflow.com/users/8825441/hemraj-jhariya"}, "reply_to_user": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518517550, "post_id": 48764004, "comment_id": 84529446, "body": "I have tried with new framework project without any pods, when importing this in another project giving same error."}, {"owner": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518517736, "post_id": 48764004, "comment_id": 84529570, "body": "what are you add [SVProgressHUD.framework] or [SVProgressHUD Project swift file] ?"}, {"owner": {"reputation": 104, "user_id": 8825441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jahXF4wrZNA/AAAAAAAAAAI/AAAAAAAABl0/BLXVKLbniGg/photo.jpg?sz=128", "display_name": "Hemraj Jhariya", "link": "https://stackoverflow.com/users/8825441/hemraj-jhariya"}, "reply_to_user": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518517953, "post_id": 48764004, "comment_id": 84529710, "body": "SVProgressHUD (Objective C classes) - Using POD"}, {"owner": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518518333, "post_id": 48764004, "comment_id": 84529958, "body": "NO this is wrong way - First download SVProgressHUD project into github. Now open SVProgressHUD project and build it. Now find Products folder. you got SVProgressHUD.framework. then right click on SVProgressHUD.framework and drag and drop this in your framework."}, {"owner": {"reputation": 104, "user_id": 8825441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jahXF4wrZNA/AAAAAAAAAAI/AAAAAAAABl0/BLXVKLbniGg/photo.jpg?sz=128", "display_name": "Hemraj Jhariya", "link": "https://stackoverflow.com/users/8825441/hemraj-jhariya"}, "reply_to_user": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518518549, "post_id": 48764004, "comment_id": 84530095, "body": "Please try to understand this issues is not about SVProgressHUD. When I try my framework project without any third party lib. and after importing into a other project getting same error."}, {"owner": {"reputation": 575, "user_id": 8210517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc4d9688249d49961aa10ae847dda49?s=128&d=identicon&r=PG&f=1", "display_name": "Kamani Jasmin", "link": "https://stackoverflow.com/users/8210517/kamani-jasmin"}, "edited": false, "score": 0, "creation_date": 1518518775, "post_id": 48764004, "comment_id": 84530261, "body": "I think it will help you - <a href=\"http://www.yudiz.com/creating-your-own-ios-framework-and-distributed-using-cocoapods/\" rel=\"nofollow noreferrer\">yudiz.com/&hellip;</a>"}], "owner": {"reputation": 104, "user_id": 8825441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jahXF4wrZNA/AAAAAAAAAAI/AAAAAAAABl0/BLXVKLbniGg/photo.jpg?sz=128", "display_name": "Hemraj Jhariya", "link": "https://stackoverflow.com/users/8825441/hemraj-jhariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518525076, "creation_date": 1518516039, "last_edit_date": 1518525076, "question_id": 48764004, "link": "https://stackoverflow.com/questions/48764004/could-not-build-module-myframework", "title": "Could not build module &#39;myFramework&#39;", "body": "<p>I\u2019m building Cocoa Touch Framework in Objective C. Framework consist of some pods like SVProgressHUD and also some pods written in Swift. I\u2019m also using use_frameworks! in my pod file. </p>\n\n<p>When I compile my framework project it works fine. The problem is when I import my framework in other project it gives an error:\n\u201cCould not build module myFramework\u201d</p>\n\n<p>I tried solutions given online like to add myFramework in Embedded binaries but still getting the same error.</p>\n\n<p>Can someone help me, what I\u2019m doing wrong.\nHelp is appreciated!</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "answers": [{"comments": [{"owner": {"reputation": 25956, "user_id": 229686, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e6ce612702a34f9bcebee2f34139c3f1?s=128&d=identicon&r=PG", "display_name": "edA-qa mort-ora-y", "link": "https://stackoverflow.com/users/229686/eda-qa-mort-ora-y"}, "edited": false, "score": 0, "creation_date": 1518528791, "post_id": 48767889, "comment_id": 84536444, "body": "Thanks, these are useful, but I don&#39;t need to detect if it&#39;s available, I need to access it in a way that works even if the Xcode version doesn&#39;t have it yet.  That is, I already know if it&#39;s available or not (though your respondsToSelector is good). I&#39;m just having trouble dynamically accessing it ... note, I&#39;ve found a way now, I can post my answer as well later."}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": false, "score": 0, "last_activity_date": 1518528340, "creation_date": 1518528340, "answer_id": 48767889, "question_id": 48763275, "link": "https://stackoverflow.com/questions/48763275/access-property-by-name-to-work-in-older-xcode-sdk-safeareainsets/48767889#48767889", "title": "Access property by name to work in older XCode/SDK, `safeAreaInsets`", "body": "<p>Here are some ways to keep your code compatible with different versions. I am sure there are others as well.</p>\n\n<p>The <code>respondsToSelector</code> is a runtime check to see if an object responds to a certain selector. Perhaps this is what you are looking for. Useful not only for distinguishing between different class versions, but also for detecting optional methods.</p>\n\n<pre><code>if ([self.view respondsToSelector:@selector(safeAreaInsets)]) {\n    NSLog(@\"safeAreaInsets available\");\n} else {\n    NSLog(@\"safeAreaInsets not available\");\n}\n</code></pre>\n\n<p>The <code>operatingSystemVersion</code> available on <code>NSProcessInfo</code>. Gives you the OS version as three <code>NSInteger</code>.</p>\n\n<pre><code>NSOperatingSystemVersion version = [[NSProcessInfo processInfo] operatingSystemVersion];\nNSLog(@\"Version %d.%d.%d\", (int)version.majorVersion, (int)version.minorVersion, (int)version.patchVersion);\n</code></pre>\n\n<p>The <code>@available</code> keyword (or is it a macro or directive?) compiles to a runtime check of the OS version your code is running on. This method is available since Xcode 9.0.</p>\n\n<pre><code>if (@available(iOS 11.0, *)) {\n    NSLog(@\"iOS 11.0 or higher\");\n} else {\n    NSLog(@\"below iOS 11.0\");\n}\n</code></pre>\n"}], "owner": {"reputation": 25956, "user_id": 229686, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e6ce612702a34f9bcebee2f34139c3f1?s=128&d=identicon&r=PG", "display_name": "edA-qa mort-ora-y", "link": "https://stackoverflow.com/users/229686/eda-qa-mort-ora-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518528340, "creation_date": 1518513619, "question_id": 48763275, "link": "https://stackoverflow.com/questions/48763275/access-property-by-name-to-work-in-older-xcode-sdk-safeareainsets", "title": "Access property by name to work in older XCode/SDK, `safeAreaInsets`", "body": "<p>I started using <code>UIView.safeAreaInsets</code> in my iOS Objective-C code, but this only works with the newer Xcode/SDK versions. That is, at compile time, an older SDK won't recognize the <code>safeAreaInsets</code> property.</p>\n\n<p>I'd like to retain compatibility with these older versions. I've been told I shold be able to access this <code>safeAreaInsets</code> variable by name somehow, thus avoiding the compile-time check.</p>\n\n<p>How can it be done?</p>\n\n<p><em>I've tried selectors, and valueForKey, but can't get them working. Either they are the wrong approach or I can't figure out the syntax.</em></p>\n"}, {"tags": ["ios", "objective-c", "websocket", "voip", "audiobuffer"], "comments": [{"owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "edited": false, "score": 0, "creation_date": 1518593168, "post_id": 48762974, "comment_id": 84564755, "body": "@sbooth: can you help me?"}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "edited": false, "score": 0, "creation_date": 1518597086, "post_id": 48762974, "comment_id": 84566606, "body": "Again you are most likely looking to play LPCM here. Check this <a href=\"https://developer.apple.com/library/content/documentation/MusicAudio/Conceptual/AudioQueueProgrammingGuide/AQPlayback/PlayingAudio.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/content/documentation/MusicAudio&zwnj;&#8203;/&hellip;</a> docs about it though I suspect there are some better libraries to help you with that by now. But anyway you can&#39;t just play every packet you get because these are not time stamped and may even have wrong order. You need to (kind of) be creating an audio file from packets and at the same time play this file."}, {"owner": {"reputation": 191, "user_id": 2431527, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/729bb98a4b61fbb71c0804c5910ce29b?s=128&d=identicon&r=PG", "display_name": "Aslam", "link": "https://stackoverflow.com/users/2431527/aslam"}, "edited": false, "score": 0, "creation_date": 1589180986, "post_id": 48762974, "comment_id": 109179630, "body": "@iEhsan did you get solution for this,iam also facing same problem"}], "owner": {"reputation": 37, "user_id": 7655162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3647f80ebd89dbd17d7f279d5eac8fe8?s=128&d=identicon&r=PG&f=1", "display_name": "iEhsan", "link": "https://stackoverflow.com/users/7655162/iehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518517485, "creation_date": 1518512692, "last_edit_date": 1518517485, "question_id": 48762974, "link": "https://stackoverflow.com/questions/48762974/how-to-play-nsdata-audio-buffering-receive-from-web-socket", "title": "how to play nsdata audio buffering receive from web-socket?", "body": "<p>I'm  creating a call app in objective c.my problem is in the send and receive audio stream.recording audio buffering and convert to nsdata and send with (base64 format) by socket rocket this is good work but I'm not know how to after receiving nsdata from server play this audio buffering?</p>\n\n<p>my code:</p>\n\n<p>viewController.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;AudioToolbox/AudioQueue.h&gt;\n#import &lt;AudioToolbox/AudioFile.h&gt;\n#import &lt;SocketRocket/SocketRocket.h&gt;\n#import &lt;AVFoundation/AVFoundation.h&gt;\n#import &lt;AVKit/AVKit.h&gt;\n\n#define NUM_BUFFERS 3\n#define SAMPLERATE 16000\n\n//Struct defining recording state\ntypedef struct {\n    AudioStreamBasicDescription dataFormat;\n    AudioQueueRef               queue;\n    AudioQueueBufferRef         buffers[NUM_BUFFERS];\n    AudioFileID                 audioFile;\n    SInt64                      currentPacket;\n    bool                        recording;\n} RecordState;\n\n\n//Struct defining playback state\ntypedef struct {\n    AudioStreamBasicDescription dataFormat;\n    AudioQueueRef               queue;\n    AudioQueueBufferRef         buffers[NUM_BUFFERS];\n    AudioFileID                 audioFile;\n    SInt64                      currentPacket;\n    bool                        playing;\n} PlayState;\n\n@interface ViewController : UIViewController &lt;SRWebSocketDelegate&gt; {\n    RecordState recordState;\n    PlayState playState;\n    CFURLRef fileURL;\n}\n\n@property (nonatomic, strong) SRWebSocket * webSocket;\n\n@property (weak, nonatomic) IBOutlet UITextView *textView;\n@property (weak, nonatomic) IBOutlet UIImageView *imageView;\n\n\n\n@end\n</code></pre>\n\n<p>viewController.m</p>\n\n<pre><code>#import \"ViewController.h\"\n#import &lt;MediaPlayer/MediaPlayer.h&gt;\n\nid thisClass;\n\n//Declare C callback functions\nvoid AudioInputCallback(void * inUserData,  // Custom audio metada\n                        AudioQueueRef inAQ,\n                        AudioQueueBufferRef inBuffer,\n                        const AudioTimeStamp * inStartTime,\n                        UInt32 isNumberPacketDescriptions,\n                        const AudioStreamPacketDescription * inPacketDescs);\n\nvoid AudioOutputCallback(void * inUserData,\n                         AudioQueueRef outAQ,\n                         AudioQueueBufferRef outBuffer);\n\n\n@interface ViewController ()\n\n\n\n@end\n\n@implementation ViewController{\n    NSString  *documentsDirectory ;\n\n}\n\n@synthesize webSocket;\n@synthesize textView;\n@synthesize imageView;\n\n\n\n// Takes a filled buffer and writes it to disk, \"emptying\" the buffer\nvoid AudioInputCallback(void * inUserData,\n                        AudioQueueRef inAQ,\n                        AudioQueueBufferRef inBuffer,\n                        const AudioTimeStamp * inStartTime,\n                        UInt32 inNumberPacketDescriptions,\n                        const AudioStreamPacketDescription * inPacketDescs)\n{\n    RecordState * recordState = (RecordState*)inUserData;\n    if (!recordState-&gt;recording)\n    {\n        printf(\"Not recording, returning\\n\");\n    }\n\n\n    printf(\"Writing buffer %lld\\n\", recordState-&gt;currentPacket);\n    OSStatus status = AudioFileWritePackets(recordState-&gt;audioFile,\n                                            false,\n                                            inBuffer-&gt;mAudioDataByteSize,\n                                            inPacketDescs,\n                                            recordState-&gt;currentPacket,\n                                            &amp;inNumberPacketDescriptions,\n                                            inBuffer-&gt;mAudioData);\n\n\n\n    if (status == 0)\n    {\n        recordState-&gt;currentPacket += inNumberPacketDescriptions;\n\n        NSData * audioData = [NSData dataWithBytes:inBuffer-&gt;mAudioData length:inBuffer-&gt;mAudioDataByteSize * NUM_BUFFERS];\n\n        NSString *base64Encoded = [audioData base64EncodedStringWithOptions:0];\n\n        [thisClass sendAudioToSocketAsData:base64Encoded];\n\n\n\n    }\n\n    AudioQueueEnqueueBuffer(recordState-&gt;queue, inBuffer, 0, NULL);\n}\n\n\n// Fills an empty buffer with data and sends it to the speaker\nvoid AudioOutputCallback(void * inUserData,\n                         AudioQueueRef outAQ,\n                         AudioQueueBufferRef outBuffer) {\n    PlayState * playState = (PlayState *) inUserData;\n    if(!playState -&gt; playing) {\n        printf(\"Not playing, returning\\n\");\n        return;\n    }\n\n    printf(\"Queuing buffer %lld for playback\\n\", playState -&gt; currentPacket);\n\n    AudioStreamPacketDescription * packetDescs;\n\n    UInt32 bytesRead;\n    UInt32 numPackets =  SAMPLERATE * NUM_BUFFERS;\n    OSStatus status;\n    status = AudioFileReadPackets(playState -&gt; audioFile, false, &amp;bytesRead, packetDescs, playState -&gt; currentPacket, &amp;numPackets, outBuffer -&gt; mAudioData);\n\n    if (numPackets) {\n        outBuffer -&gt; mAudioDataByteSize = bytesRead;\n        status = AudioQueueEnqueueBuffer(playState -&gt; queue, outBuffer, 0, packetDescs);\n        playState -&gt; currentPacket += numPackets;\n    }else {\n        if (playState -&gt; playing) {\n            AudioQueueStop(playState -&gt; queue, false);\n            AudioFileClose(playState -&gt; audioFile);\n            playState -&gt; playing = false;\n        }\n\n        AudioQueueFreeBuffer(playState -&gt; queue, outBuffer);\n    }\n\n}\n\n\n\n- (void) setupAudioFormat:(AudioStreamBasicDescription *) format {\n\n    format -&gt; mSampleRate = SAMPLERATE; //\n    format -&gt; mFormatID = kAudioFormatLinearPCM; //\n    format -&gt; mFramesPerPacket = 1;\n    format -&gt; mChannelsPerFrame = 1; //\n    format -&gt; mBytesPerFrame = 2;\n    format -&gt; mBytesPerPacket = 2;\n    format -&gt; mBitsPerChannel = 16; //\n    format -&gt; mReserved = 0;\n    format -&gt; mFormatFlags =  kLinearPCMFormatFlagIsBigEndian |kLinearPCMFormatFlagIsSignedInteger | kLinearPCMFormatFlagIsPacked;\n\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n\n    char path[256];\n    [self getFilename:path maxLength:sizeof path];\n\n    fileURL = CFURLCreateFromFileSystemRepresentation(NULL, (UInt8*)path, strlen(path), false);\n\n\n\n    // Init state variables\n    recordState.recording = false;\n    thisClass = self;\n\n\n\n}\n\n- (void) startRecordingInQueue {\n    [self setupAudioFormat:&amp;recordState.dataFormat];\n\n    recordState.currentPacket = 0;\n\n    OSStatus status;\n\n    status = AudioQueueNewInput(&amp;recordState.dataFormat, AudioInputCallback, &amp;recordState, CFRunLoopGetCurrent(), kCFRunLoopCommonModes, 0, &amp;recordState.queue);\n    if(status == 0) {\n        //Prime recording buffers with empty data\n        for (int i=0; i &lt; NUM_BUFFERS; i++) {\n            AudioQueueAllocateBuffer(recordState.queue, SAMPLERATE, &amp;recordState.buffers[i]);\n            AudioQueueEnqueueBuffer(recordState.queue, recordState.buffers[i], 0, NULL);\n        }\n\n        status = AudioFileCreateWithURL(fileURL, kAudioFileAIFFType, &amp;recordState.dataFormat, kAudioFileFlags_EraseFile, &amp;recordState.audioFile);\n        if (status == 0) {\n            recordState.recording = true;\n            status = AudioQueueStart(recordState.queue, NULL);\n            if(status == 0) {\n                NSLog(@\"-----------Recording--------------\");\n                NSLog(@\"File URL : %@\", fileURL);\n            }\n        }\n    }\n\n    if (status != 0) {\n        [self stopRecordingInQueue];\n    }\n}\n\n- (void) stopRecordingInQueue {\n    recordState.recording = false;\n    AudioQueueStop(recordState.queue, true);\n    for (int i=0; i &lt; NUM_BUFFERS; i++) {\n        AudioQueueFreeBuffer(recordState.queue, recordState.buffers[i]);\n    }\n\n    AudioQueueDispose(recordState.queue, true);\n    AudioFileClose(recordState.audioFile);\n    NSLog(@\"---Idle------\");\n    NSLog(@\"File URL : %@\", fileURL);\n\n\n}\n\n\n\n- (IBAction)startRecordingAudio:(id)sender {\n    NSLog(@\"starting recording tapped\");\n    [self startRecordingInQueue];\n}\n- (IBAction)stopRecordingAudio:(id)sender {\n    NSLog(@\"stop recording tapped\");\n    [self stopRecordingInQueue];\n}\n\n\n\n\n- (BOOL) getFilename:(char *) buffer maxLength:(int) maxBufferLength {\n\n    NSArray * paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString * docDir = [paths objectAtIndex:0];\n\n    NSString * file = [docDir stringByAppendingString:@\"recording.aif\"];\n    return [file getCString:buffer maxLength:maxBufferLength encoding:NSUTF8StringEncoding];\n\n}\n\n\n- (void) sendAudioToSocketAsData:(NSString *) audioData {\n    [self.webSocket send:audioData];\n}\n\n- (IBAction)connectToSocketTapped:(id)sender {\n    [self startStreaming];\n}\n\n- (void) startStreaming {\n    [self connectToSocket];\n}\n\n\n- (void) connectToSocket {\n    //Socket Connection Intiliazation\n\n    // create the NSURLRequest that will be sent as the handshake\n    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@\"ws://localhost:8000\"]];\n//    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@\"ws://demos.kaazing.com/echo\"]];\n//    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:@\"http://online.attacker-site.com\"]];\n\n    // create the socket and assign delegate\n\n    self.webSocket = [[SRWebSocket alloc] initWithURLRequest:request];\n\n    self.webSocket.delegate = self;\n\n    // open socket\n    [self.webSocket open];\n\n}\n\n\n///--------------------------------------\n#pragma mark - SRWebSocketDelegate\n///--------------------------------------\n\n- (void)webSocketDidOpen:(SRWebSocket *)webSocket;\n{\n    NSLog(@\"Websocket Connected\");\n\n}\n\n- (void) webSocket:(SRWebSocket *)webSocket didFailWithError:(NSError *)error {\n    NSLog(@\":( Websocket Failed With Error %@\", error);\n    self.webSocket = nil;\n}\n\n- (void) webSocket:(SRWebSocket *)webSocket didReceiveMessage:(id)message {\n\nNSData *decodedData = [[NSData alloc] initWithBase64EncodedString:message options:0];\n\n\n}\n\n- (void)webSocket:(SRWebSocket *)webSocket didCloseWithCode:(NSInteger)code reason:(NSString *)reason wasClean:(BOOL)wasClean;\n{\n    NSLog(@\"WebSocket closed\");\n    self.webSocket = nil;\n}\n\n- (void)webSocket:(SRWebSocket *)webSocket didReceivePong:(NSData *)pongPayload;\n{\n    NSLog(@\"WebSocket received pong\");\n}\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uigraphicscontext"], "comments": [{"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1518513230, "post_id": 48761969, "comment_id": 84526643, "body": "What does your code do, and how does that differ from what you want?"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 1, "creation_date": 1518513246, "post_id": 48761969, "comment_id": 84526654, "body": "Please read <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add \u201curgent\u201d or other similar phrases to my question, in order to obtain faster answers?</a> - the summary is that this is not an ideal way to address volunteers, and is probably counterproductive to obtaining answers. Please refrain from adding this to your questions."}], "owner": {"reputation": 1303, "user_id": 2058242, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/5LQxE.jpg?s=128&g=1", "display_name": "Jay Mehta", "link": "https://stackoverflow.com/users/2058242/jay-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518513195, "creation_date": 1518508613, "last_edit_date": 1518513195, "question_id": 48761969, "link": "https://stackoverflow.com/questions/48761969/how-to-fill-imageview-letter-character-in-swift", "title": "How to fill Imageview letter / character in Swift?", "body": "<p>I am a beginner in iOS. I am working on the character fill up of <code>UIImageView</code>. Like if image show \"R\" user need to draw/fill \"R\" Character then next character show. How can I achieve that?</p>\n\n<p>Example :</p>\n\n<p><a href=\"https://i.stack.imgur.com/kxwld.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxwld.png\" alt=\"Image Draw Path\"></a> \n<a href=\"https://i.stack.imgur.com/Bl2l9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bl2l9.png\" alt=\"Draw Image\"></a></p>\n\n<p>Below snippet of code try from my side (in Objective - C):</p>\n\n<pre><code>CGPoint currentPoint = pointB;\n\nif ([UIScreen.mainScreen respondsToSelector:@selector(scale)]) {\n    UIGraphicsBeginImageContextWithOptions(self.frame.size, NO, UIScreen.mainScreen.scale);\n}\nelse {\n    UIGraphicsBeginImageContext(self.frame.size);\n}\n\n[tempDrawImage.image drawInRect:CGRectMake(0, 0, self.frame.size.width, self.frame.size.height)];\nCGContextMoveToPoint(UIGraphicsGetCurrentContext(), pointA.x, pointA.y);\nCGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentPoint.x, currentPoint.y);\nCGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);\nCGContextSetLineWidth(UIGraphicsGetCurrentContext(), brush );\nCGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), red, green, blue, 1.0);\nCGContextSetBlendMode(UIGraphicsGetCurrentContext(),kCGBlendModeNormal);\n\nCGContextStrokePath(UIGraphicsGetCurrentContext());\ntempDrawImage.image = UIGraphicsGetImageFromCurrentImageContext();\n[tempDrawImage setAlpha:opacity];\nUIGraphicsEndImageContext();\n\nUIGraphicsBeginImageContext(tempDrawImage.frame.size);\n[tempDrawImage.image drawInRect:CGRectMake(0, 0, self.frame.size.width, self.frame.size.height) blendMode:kCGBlendModeNormal alpha:opacity];\nUIGraphicsEndImageContext();\n</code></pre>\n\n<p>Let me know how to achieve this functionality.</p>\n"}, {"tags": ["ios", "objective-c", "google-maps"], "comments": [{"owner": {"reputation": 2860, "user_id": 5094664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6526b92e87dae2b12629d60b8e5bb410?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Mhatre", "link": "https://stackoverflow.com/users/5094664/sid-mhatre"}, "edited": false, "score": 0, "creation_date": 1518504468, "post_id": 48760806, "comment_id": 84522279, "body": "do you want details of place using coordinates ?"}, {"owner": {"reputation": 537, "user_id": 1700017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed139aead19b36a7769a606f9e94920d?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1700017/max"}, "reply_to_user": {"reputation": 2860, "user_id": 5094664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6526b92e87dae2b12629d60b8e5bb410?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Mhatre", "link": "https://stackoverflow.com/users/5094664/sid-mhatre"}, "edited": false, "score": 0, "creation_date": 1518505191, "post_id": 48760806, "comment_id": 84522574, "body": "I want the CMSPlace by custom coordinates"}, {"owner": {"reputation": 2860, "user_id": 5094664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6526b92e87dae2b12629d60b8e5bb410?s=128&d=identicon&r=PG&f=1", "display_name": "Sid Mhatre", "link": "https://stackoverflow.com/users/5094664/sid-mhatre"}, "edited": false, "score": 0, "creation_date": 1518505529, "post_id": 48760806, "comment_id": 84522736, "body": "You can use GMSGeocoder to get all information about specified coordinate. To get GCMPlace i think you need placeID."}], "answers": [{"tags": [], "owner": {"reputation": 42, "user_id": 3121534, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02de8c62df4419f7036bd313d077ae9a?s=128&d=identicon&r=PG&f=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/3121534/farid"}, "is_accepted": true, "score": 2, "last_activity_date": 1518593692, "creation_date": 1518593692, "answer_id": 48781887, "question_id": 48760806, "link": "https://stackoverflow.com/questions/48760806/how-to-get-object-gmsplace-by-longitude-and-lattitude-and-without-googleplacepic/48781887#48781887", "title": "How to get object GMSPlace by longitude and lattitude and without GooglePlacePicker?", "body": "<p>with out GooglePlacePicker, you can use <a href=\"https://developer.apple.com/documentation/corelocation/clgeocoder\" rel=\"nofollow noreferrer\">CLGeocoder</a>!.</p>\n"}], "owner": {"reputation": 537, "user_id": 1700017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed139aead19b36a7769a606f9e94920d?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1700017/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 48781887, "answer_count": 1, "score": 0, "last_activity_date": 1518593692, "creation_date": 1518503807, "question_id": 48760806, "link": "https://stackoverflow.com/questions/48760806/how-to-get-object-gmsplace-by-longitude-and-lattitude-and-without-googleplacepic", "title": "How to get object GMSPlace by longitude and lattitude and without GooglePlacePicker?", "body": "<p>I have coordinates for the place on map. Is it possible to get GMSPlace object using some method (without GooglePlacePicker) like currentPlaceWithCallback with custom longitude and lattitude? </p>\n"}, {"tags": ["ios", "objective-c", "xcode", "pdf", "uiwebview"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1518502734, "post_id": 48760414, "comment_id": 84521612, "body": "Duplicate: <a href=\"https://stackoverflow.com/questions/10519122/pdf-file-in-uiwebview-with-password\" title=\"pdf file in uiwebview with password\">stackoverflow.com/questions/10519122/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3057825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f58ef81fd74fdf4b241c52cb6a1bb51?s=128&d=identicon&r=PG&f=1", "display_name": "Nirav", "link": "https://stackoverflow.com/users/3057825/nirav"}, "edited": false, "score": 0, "creation_date": 1518503131, "post_id": 48760642, "comment_id": 84521759, "body": "thanks for the answer. However, PDFView requires minimum deployment target of iOS 11. I want to support iOS 9 and above."}, {"owner": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "reply_to_user": {"reputation": 119, "user_id": 3057825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f58ef81fd74fdf4b241c52cb6a1bb51?s=128&d=identicon&r=PG&f=1", "display_name": "Nirav", "link": "https://stackoverflow.com/users/3057825/nirav"}, "edited": false, "score": 1, "creation_date": 1518503691, "post_id": 48760642, "comment_id": 84521958, "body": "@Nirav: I&#39;ve extended my answer,"}], "tags": [], "owner": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "is_accepted": true, "score": 1, "last_activity_date": 1518503662, "last_edit_date": 1518503662, "creation_date": 1518502994, "answer_id": 48760642, "question_id": 48760414, "link": "https://stackoverflow.com/questions/48760414/load-password-protected-pdf-in-uiwebview/48760642#48760642", "title": "Load Password Protected PDF in UIWebView", "body": "<p>You should use <a href=\"https://developer.apple.com/documentation/pdfkit\" rel=\"nofollow noreferrer\">PDFKit</a> and display your PDF with a <code>PDFView</code>instead of a <code>UIWebView</code> which is deprecated. <code>PDFDocument</code> has an <a href=\"https://developer.apple.com/documentation/pdfkit/pdfdocument/1436033-unlock\" rel=\"nofollow noreferrer\">unlock</a> method. So you can display protected documents without displaying a password prompt.</p>\n\n<p><strong>Edit:</strong> PDFKit only available as of iOS 11. For older iOS versions you may draw the PDF with Core Graphics and <a href=\"https://developer.apple.com/documentation/coregraphics/cgpdfdocument\" rel=\"nofollow noreferrer\"><code>CGPDFDocument</code></a> (see <a href=\"https://stackoverflow.com/a/39758774/2352344\">https://stackoverflow.com/a/39758774/2352344</a>). I would use the PDFKit for iOS 11 and only for the older iOS versions Core Graphics.</p>\n"}], "owner": {"reputation": 119, "user_id": 3057825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f58ef81fd74fdf4b241c52cb6a1bb51?s=128&d=identicon&r=PG&f=1", "display_name": "Nirav", "link": "https://stackoverflow.com/users/3057825/nirav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 48760642, "answer_count": 1, "score": 1, "last_activity_date": 1518507377, "creation_date": 1518501887, "last_edit_date": 1518507377, "question_id": 48760414, "link": "https://stackoverflow.com/questions/48760414/load-password-protected-pdf-in-uiwebview", "title": "Load Password Protected PDF in UIWebView", "body": "<p>I am loading a PDF file in <code>UIWebView</code>. The PDF file is password protected.\nBut I don't want the <code>UIWebView</code> to prompt for a password. I already have password stored in my database. So I want to implicitly provide the password to <code>UIWebView</code> and load the PDF document without prompting the user for password.</p>\n"}, {"tags": ["objective-c", "animation", "sprite-kit"], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518510170, "post_id": 48761198, "comment_id": 84524900, "body": "Thanks! I will try this and get back here :)"}, {"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518566972, "post_id": 48761198, "comment_id": 84557008, "body": "Ok, See, I can make an image appear on the screen and make the animation run. Thanks for that, however I am trying to have the same Allocated image, read all sprites. So,"}, {"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518567442, "post_id": 48761198, "comment_id": 84557154, "body": "Im reposting my comment HERE:  Ok, See, I can make an image appear on the screen and make the animation run. Thanks for that, however I am trying to have working is:  @property (nonatomic, strong) Player *PLAYER;  self.PLAYER = [[Player alloc] initWithImageNamed:@&quot;playerWalkAnimation1&quot;];   // Player animation run?? self.PLAYER.animateWithTexture? = runAction NSArray *_heroWalkingFrames;?    (NOTE: The above mess just shows what I want to accomplish. Not actual code) Thanks"}, {"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518569418, "post_id": 48761198, "comment_id": 84557707, "body": "Could you please show me an example of how to do this with my self.player?"}, {"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518570998, "post_id": 48761198, "comment_id": 84558110, "body": "UPDATE. I was able to make the animation appear however I still have the static image behind the animated image. But I think that I can simply set the alpha to 0 and just use the animation. If this is acceptable I will accept your answer. I did notice that my node Count is making the game really slow."}, {"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518574747, "post_id": 48761198, "comment_id": 84559015, "body": "No more errors. I was placing some of that code in the Update method. Since it runs every single frame, this was causing the problem. Moved it outside update and it works. Thanks"}, {"owner": {"reputation": 411, "user_id": 4242891, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mCwqj.jpg?s=128&g=1", "display_name": "sabi", "link": "https://stackoverflow.com/users/4242891/sabi"}, "reply_to_user": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518593009, "post_id": 48761198, "comment_id": 84564674, "body": "very good! yes, you can set the alpha to 0 or not in it it with an image. I usually init without texture enything is animated."}, {"owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "edited": false, "score": 0, "creation_date": 1518637082, "post_id": 48761198, "comment_id": 84592131, "body": "Awesome! Thanks so much for taking the time to help with apparently useless questions :P Got downvoted :( Have a great week sabi!"}], "tags": [], "owner": {"reputation": 411, "user_id": 4242891, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mCwqj.jpg?s=128&g=1", "display_name": "sabi", "link": "https://stackoverflow.com/users/4242891/sabi"}, "is_accepted": true, "score": 0, "last_activity_date": 1518505475, "creation_date": 1518505475, "answer_id": 48761198, "question_id": 48760124, "link": "https://stackoverflow.com/questions/48760124/how-to-animate-allocated-png-image/48761198#48761198", "title": "How to animate allocated png image?", "body": "<p>yes! <a href=\"https://developer.apple.com/documentation/spritekit/skaction/1417828-animatewithtextures?language=objc\" rel=\"nofollow noreferrer\">animateWithTextures:timePerFrame</a> and\nwrap it in a <a href=\"https://developer.apple.com/documentation/spritekit/skaction/1417676-repeatactionforever?language=objc\" rel=\"nofollow noreferrer\">repeatActionForever:</a></p>\n"}], "owner": {"reputation": 451, "user_id": 3078406, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1571185469/picture?type=large", "display_name": "user3078406", "link": "https://stackoverflow.com/users/3078406/user3078406"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 48761198, "answer_count": 1, "score": 0, "last_activity_date": 1518505475, "creation_date": 1518500326, "last_edit_date": 1518501352, "question_id": 48760124, "link": "https://stackoverflow.com/questions/48760124/how-to-animate-allocated-png-image", "title": "How to animate allocated png image?", "body": "<p>I am making an Objective-C game which has a player allocated as follows:</p>\n\n<pre><code>self.player = [[Player alloc] initWithImageNamed:@\"playerWalkAnimation1\"];\nself.player.position = CGPointMake(100, 50);\nself.player.zPosition = 15;\nself.player.physicsBody = [SKPhysicsBody bodyWithRectangleOfSize:self.player.frame.size];\nself.player.physicsBody.affectedByGravity = NO;\nself.player.physicsBody.allowsRotation = NO;\nself.player.physicsBody.categoryBitMask = ballCategory;\nself.player.physicsBody.collisionBitMask =  obs1Category;\nself.player.physicsBody.contactTestBitMask = obs1Category;\nself.player.physicsBody.usesPreciseCollisionDetection = YES;\n[self.map addChild:self.player];\n</code></pre>\n\n<p>How can I add a walk animation to this player image? It is a PNG, and when I play the game the image simply moves forward with a single image and not all the images that make up the entire animation. Is there a runAction or SKAction that will read all the images from 1 to finish and repeatForever?</p>\n\n<p>Any advise is appreciated. \nThank you.</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 1131, "user_id": 3359299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93P8q.jpg?s=128&g=1", "display_name": "Kiran Sarvaiya", "link": "https://stackoverflow.com/users/3359299/kiran-sarvaiya"}, "edited": false, "score": 0, "creation_date": 1518500154, "post_id": 48760048, "comment_id": 84520686, "body": "please see this question answer <a href=\"https://stackoverflow.com/questions/44390378/how-can-i-deal-with-objc-inference-deprecation-with-selector-in-swift-4/44391493#44391493\" title=\"how can i deal with objc inference deprecation with selector in swift 4\">stackoverflow.com/questions/44390378/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 410, "user_id": 1943143, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/53b03022c812ad0bf5d75d5da3ea814a?s=128&d=identicon&r=PG&f=1", "display_name": "Upasna Gandhi", "link": "https://stackoverflow.com/users/1943143/upasna-gandhi"}, "is_accepted": false, "score": 2, "last_activity_date": 1518500598, "last_edit_date": 1518500598, "creation_date": 1518500201, "answer_id": 48760109, "question_id": 48760048, "link": "https://stackoverflow.com/questions/48760048/why-is-objc-used-in-swift/48760109#48760109", "title": "Why is @Objc used in swift?", "body": "<p><strong>The @objc attribute makes your Swift code available in Objective-C and the Objective-C runtime.</strong></p>\n\n<p>Explaination:</p>\n\n<p>In some cases, you need finer grained control over how your Swift API is exposed to Objective-C. In that case, You can use the @objc(name) attribute to change the name of a class, property, method, enumeration type, or enumeration case declaration in your interface as it\u2019s exposed to Objective-C code.</p>\n\n<p>Check this: <a href=\"https://stackoverflow.com/questions/30795117/when-to-use-objc-in-swift-code\">when to use @objc in swift code?</a></p>\n"}, {"tags": [], "owner": {"reputation": 1978, "user_id": 9104757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OuMql.jpg?s=128&g=1", "display_name": "Md Rashed Pervez", "link": "https://stackoverflow.com/users/9104757/md-rashed-pervez"}, "is_accepted": false, "score": 0, "last_activity_date": 1518500280, "creation_date": 1518500280, "answer_id": 48760114, "question_id": 48760048, "link": "https://stackoverflow.com/questions/48760048/why-is-objc-used-in-swift/48760114#48760114", "title": "Why is @Objc used in swift?", "body": "<p>Most of the time it happens when you are sub classing a Swift class of Objective-C base class.The <strong>@objc</strong> attribute makes your Swift code available in Objective-C and the Objective-C runtime.</p>\n"}], "owner": {"reputation": 17, "user_id": 9086877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-s_yoVl8Nnaw/AAAAAAAAAAI/AAAAAAAAAEY/kbq4vsmP2vI/photo.jpg?sz=128", "display_name": "Ananth kamath", "link": "https://stackoverflow.com/users/9086877/ananth-kamath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "closed_date": 1518500422, "answer_count": 2, "score": 0, "last_activity_date": 1518500598, "creation_date": 1518499904, "last_edit_date": 1518500362, "question_id": 48760048, "link": "https://stackoverflow.com/questions/48760048/why-is-objc-used-in-swift", "closed_reason": "Duplicate", "title": "Why is @Objc used in swift?", "body": "<p>You can add @objc to Swift properties or methods to make them accessibile from Objective-C code. What does this exactly mean? I just want a one liner for this question.</p>\n"}, {"tags": ["ios", "objective-c", "oauth-2.0", "nsurlsession"], "comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1518499974, "post_id": 48760034, "comment_id": 84520618, "body": "See this <a href=\"https://github.com/p2/OAuth2\" rel=\"nofollow noreferrer\">github.com/p2/OAuth2</a>"}, {"owner": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 2, "creation_date": 1518500000, "post_id": 48760034, "comment_id": 84520628, "body": "Show attempts, include code, explain where your program doesn&#39;t work as you expect."}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1518500351, "post_id": 48760034, "comment_id": 84520754, "body": "@PrashantTukadiya I dont know swift I am in to ios,and we need to create access token,Can you give any example objective c"}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "reply_to_user": {"reputation": 13259, "user_id": 1207049, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/445e3d8cb8ef7471a15bdeda0b573de6?s=128&d=identicon&r=PG", "display_name": "marekful", "link": "https://stackoverflow.com/users/1207049/marekful"}, "edited": false, "score": 0, "creation_date": 1518500419, "post_id": 48760034, "comment_id": 84520771, "body": "@marekful I dont have any idea about Oauth2 show i dont have any code if you any in objective let me know."}], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1518502093, "post_id": 48760383, "comment_id": 84521357, "body": "thanks for your quick response,<a href=\"https://github.com/p2/OAuth2\" rel=\"nofollow noreferrer\">github.com/p2/OAuth2</a> this is in swift but I am using objective c,afnetworking In my case am not sending any password i am getting email from gmail thats it."}, {"owner": {"reputation": 410, "user_id": 1943143, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/53b03022c812ad0bf5d75d5da3ea814a?s=128&d=identicon&r=PG&f=1", "display_name": "Upasna Gandhi", "link": "https://stackoverflow.com/users/1943143/upasna-gandhi"}, "reply_to_user": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1518502842, "post_id": 48760383, "comment_id": 84521659, "body": "Then, you should get Access Token via Google APIs itself. Check this: <a href=\"https://developers.google.com/adwords/api/docs/guides/authentication\" rel=\"nofollow noreferrer\">developers.google.com/adwords/api/docs/guides/authentication</a> Hope it helps"}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1518504460, "post_id": 48760383, "comment_id": 84522276, "body": "the link doesnot have any ios code"}, {"owner": {"reputation": 410, "user_id": 1943143, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/53b03022c812ad0bf5d75d5da3ea814a?s=128&d=identicon&r=PG&f=1", "display_name": "Upasna Gandhi", "link": "https://stackoverflow.com/users/1943143/upasna-gandhi"}, "reply_to_user": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1518511992, "post_id": 48760383, "comment_id": 84525889, "body": "I shared the link just to get idea that you can get the access token via google apis when you login via gmail. FYI, you will get token int he response of successful login."}, {"owner": {"reputation": 410, "user_id": 1943143, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/53b03022c812ad0bf5d75d5da3ea814a?s=128&d=identicon&r=PG&f=1", "display_name": "Upasna Gandhi", "link": "https://stackoverflow.com/users/1943143/upasna-gandhi"}, "reply_to_user": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 1, "creation_date": 1518512052, "post_id": 48760383, "comment_id": 84525922, "body": "I would suggest you to update your query with &quot;How to get token with google login&quot; You will get quick responses.  <a href=\"https://developers.google.com/identity/sign-in/ios/sign-in\" rel=\"nofollow noreferrer\">developers.google.com/identity/sign-in/ios/sign-in</a> check 4th point"}], "tags": [], "owner": {"reputation": 410, "user_id": 1943143, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/53b03022c812ad0bf5d75d5da3ea814a?s=128&d=identicon&r=PG&f=1", "display_name": "Upasna Gandhi", "link": "https://stackoverflow.com/users/1943143/upasna-gandhi"}, "is_accepted": true, "score": 1, "last_activity_date": 1518501772, "creation_date": 1518501772, "answer_id": 48760383, "question_id": 48760034, "link": "https://stackoverflow.com/questions/48760034/how-to-generate-access-token-using-oauth2-and-set-limit-and-refresh-it-after-tim/48760383#48760383", "title": "How to generate ACCESS TOKEN using OAuth2 and set limit and refresh it after time limit", "body": "<p>You can follow either of this two links:</p>\n\n<p>OAuth2 via AFNetworking: <a href=\"https://github.com/AFNetworking/AFOAuth2Manager\" rel=\"nofollow noreferrer\">https://github.com/AFNetworking/AFOAuth2Manager</a></p>\n\n<p>OAuth2: <a href=\"https://github.com/p2/OAuth2\" rel=\"nofollow noreferrer\">https://github.com/p2/OAuth2</a></p>\n\n<p>It includes everything you need.</p>\n"}], "owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "closed_date": 1518523033, "accepted_answer_id": 48760383, "answer_count": 1, "score": -1, "last_activity_date": 1518501772, "creation_date": 1518499807, "last_edit_date": 1518500585, "question_id": 48760034, "link": "https://stackoverflow.com/questions/48760034/how-to-generate-access-token-using-oauth2-and-set-limit-and-refresh-it-after-tim", "closed_reason": "Duplicate", "title": "How to generate ACCESS TOKEN using OAuth2 and set limit and refresh it after time limit", "body": "<p>I am creating an app where I have to generate ACCESS TOKEN using oauth2.0 in the app with expire time of 3 mins and I have refresh the access token once it is expired.I am using objective c and nsurlsesions. Can some please help to solve this. \nThanks for quick response.  </p>\n"}, {"tags": ["python", "ios", "objective-c", "emoji", "utf8mb4"], "comments": [{"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1519315329, "post_id": 48759847, "comment_id": 84870521, "body": "Which Emoji is that supposed to be?  I am having trouble decoding either of your samples."}], "owner": {"reputation": 1942, "user_id": 1682779, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/0d5c7cde1541e1e74dc6fd6e4391ad5b?s=128&d=identicon&r=PG", "display_name": "Durgaprasad", "link": "https://stackoverflow.com/users/1682779/durgaprasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1518498632, "creation_date": 1518498632, "question_id": 48759847, "link": "https://stackoverflow.com/questions/48759847/ios-comparing-strings-with-emoji-character", "title": "ios - comparing strings with emoji character", "body": "<p>I have updated my server side code to store utf8mb4 type. In ios I send \"[[UIDevice currentDevice] name]\" to server by converting to (NSMutableData *)[dataStr dataUsingEncoding:NSUTF8StringEncoding]</p>\n\n<p>Now when I get back list of devices, I need to compare names and find which one is current device.</p>\n\n<p>Here I cannot compare if names has emoji in it. </p>\n\n<p>First problem was getting correct length of device name. For 1 emoji character <code>length</code> fuction would return 2. Solved it by using </p>\n\n<pre><code>[[[UIDevice currentDevice] name] lengthOfBytesUsingEncoding:NSUTF32StringEncoding] / 4\n</code></pre>\n\n<p>Second problem is comaparing with names send by server. Server sends name like \"Ipad\\Uf643\" and </p>\n\n<pre><code>NSData *dataenc = [[[UIDevice currentDevice] name] dataUsingEncoding:NSNonLossyASCIIStringEncoding];\n        NSString * deviceName = [[NSString alloc]initWithData:dataenc encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>gives \"Ipad\\ud83d\\ude43\"</p>\n\n<p>This are two different forms of same emoji. Python and objective C representation are different.</p>\n\n<p>Then to compare I tried <code>isEqualToString</code> , <code>localizedCompare</code>. Cannot figure out how to do this. Also \"Ipad\\Uf643\" dispayed as <code>?</code>.</p>\n"}, {"tags": ["ios", "objective-c", "realm", "out-of-memory"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1518518722, "post_id": 48759656, "comment_id": 84530220, "body": "The short answer is &quot;wrapping Realm instance on the async global dispatch queue with autoreleasepool&quot;"}, {"owner": {"reputation": 684, "user_id": 1266558, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9d5db177ff5c19b2c4806093ec6d87f7?s=128&d=identicon&r=PG", "display_name": "dvdchr", "link": "https://stackoverflow.com/users/1266558/dvdchr"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1518582248, "post_id": 48759656, "comment_id": 84560883, "body": "@EpicPandaForce: Sorry, I forgot to add this. I&#39;m aware of wrapping Realm in autoreleasepool, but I see this as a solution/preventative steps. I&#39;m trying to understand the events that cause the Realm file to be inflated. Thanks for the comment!"}], "owner": {"reputation": 684, "user_id": 1266558, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9d5db177ff5c19b2c4806093ec6d87f7?s=128&d=identicon&r=PG", "display_name": "dvdchr", "link": "https://stackoverflow.com/users/1266558/dvdchr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518582455, "creation_date": 1518497403, "last_edit_date": 1592644375, "question_id": 48759656, "link": "https://stackoverflow.com/questions/48759656/how-does-realm-try-to-allocate-more-than-the-device-capacity", "title": "How does Realm try to allocate more than the device capacity?", "body": "<p>I'm trying to better understand the behavior and conditions that may cause abnormal increase in Realm file, so the questions that I ask are directed more towards the general Realm behavior.</p>\n<p>To provide a little context, we use Fabric for crash reporting, and we notice there are crashes related to Realm, with the message:</p>\n<pre><code>Fatal Exception: RLMException\nmmap() failed: Cannot allocate memory size:2684354560 offset:0\n</code></pre>\n<p>This is happening on iPhone 7 with iOS 11.2.2 (15C202). The device has <a href=\"https://www.gsmarena.com/apple_iphone_7-8064.php\" rel=\"nofollow noreferrer\">2GB RAM capacity</a>, and Realm tried to allocate 2.68GB, which is obviously rejected by the operating system.</p>\n<h3>I'm aware that:</h3>\n<ul>\n<li>There's a lot of Github issues similar to this memory allocation problem, and I've read most (if not all) of them.</li>\n<li>This is likely a &quot;version pinning&quot; issue, where there's too many old &quot;snapshots&quot; of data kept in the disk therefore caused the increase in .realm file size.</li>\n<li>There might be something wrong in how we use Realm (e.g. not wrapping calls of Realm-related objects that may retain <code>RLMRealm</code>) and we need to fix it.</li>\n<li>We should perform Realm file compaction on startup to make sure the Realm file size does not inflate, but this doesn't work for users already experiencing this crash because compaction needs to map current Realm file.</li>\n<li>(Edit: forgot to add this point) In background threads, we should wrap Realm instances (and its usage) within autoreleasepool to prevent version pinning.</li>\n</ul>\n<h3>Questions:</h3>\n<ol>\n<li>Imagine I have a 200MB Realm file. If I tried to initialize <code>RLMRealm</code> on 3 different threads (without doing reads/writes), will each Realm instance call mmap to allocate 200MB (totaling in 600MB of RAM usage)?</li>\n<li>Related to question 1, does it make any difference if I didn't do read or writes vs. simultaneously reading (no writes) vs. mix of read and writes?</li>\n<li>When Realm tries to allocate 2.68GB of memory, does that mean the Realm file size is also 2.68GB?</li>\n<li>If the 2.68GB file size is caused by writes in previous session, how can Realm possibly contain 2.68GB worth of memory in previous session? Or is there any behavior that I'm missing here?</li>\n</ol>\n"}, {"tags": ["ios", "objective-c", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 1325, "user_id": 522563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5e9147dd177b66412802d408ba6565f0?s=128&d=identicon&r=PG", "display_name": "Paul Spencer", "link": "https://stackoverflow.com/users/522563/paul-spencer"}, "is_accepted": true, "score": 0, "last_activity_date": 1518616370, "creation_date": 1518616370, "answer_id": 48788867, "question_id": 48754824, "link": "https://stackoverflow.com/questions/48754824/send-closure-from-objective-c-to-javascript-in-ios-react-native/48788867#48788867", "title": "Send closure from Objective-C to JavaScript in iOS React-Native", "body": "<p>It is not possible to do what I was attempting to do here, the react-native bindings only support simple types that can be encoded as a string.  The solution that I ended up with based on patterns I found elsewhere is to store the completion as a property on the object, trigger an event that can be seen in js-land and provide another exported method that can be called to trigger the completion.  Code is here:</p>\n\n<p><a href=\"https://github.com/tipsi/tipsi-stripe/pull/244/files\" rel=\"nofollow noreferrer\">https://github.com/tipsi/tipsi-stripe/pull/244/files</a></p>\n"}], "owner": {"reputation": 1325, "user_id": 522563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5e9147dd177b66412802d408ba6565f0?s=128&d=identicon&r=PG", "display_name": "Paul Spencer", "link": "https://stackoverflow.com/users/522563/paul-spencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 48788867, "answer_count": 1, "score": 0, "last_activity_date": 1518616370, "creation_date": 1518466537, "last_edit_date": 1518466911, "question_id": 48754824, "link": "https://stackoverflow.com/questions/48754824/send-closure-from-objective-c-to-javascript-in-ios-react-native", "title": "Send closure from Objective-C to JavaScript in iOS React-Native", "body": "<p>Is it possible to construct a closure in objective-c and pass it to javascript where it can be invoked?  The specific problem I am trying to solve is adding support for changing shipping methods and contacts in Apple Pay as part of the tipsi-stripe react-native module (something it doesn't do yet).  This is basically what I have so far, but the callback in javascript gets 'null'.</p>\n\n<pre><code>- (void) paymentAuthorizationViewController:(PKPaymentAuthorizationViewController *)controller \n         didSelectShippingMethod: (PKShippingMethod *) shippingMethod\n         completion:(nonnull void (^)(PKPaymentAuthorizationStatus, NSArray&lt;PKPaymentSummaryItem *&gt; * _Nonnull))completion {\n   id callback = (void (^)(NSArray* summaryItems)) {\n     completion(PKPaymentAuthorizationStatusSuccess, nil, summaryItems); \n   }\n   [self sendEventWithName: \"@ShippingMethodChanged\" body:@{@\"selectedMethod\": @\"someMethodDetails\", @\"callback\": callback}];\n}\n</code></pre>\n\n<p>In javascript, I have something like this:</p>\n\n<pre><code>import { NativeEventEmitter, NativeModules } from 'react-native'\nconst { TPSStripeManager } = NativeModules;\nconst stripeEventEmitter = new NativeEventEmitter(TPSStripeManager);\ncomponentWillMount() {\n  this.stripeOnShippingMethodChanged = stripeEventEmitter.addListener(\n    'ShippingMethodChanged',\n    (method, callback) =&gt; {\n      // async compute some value then\n      let summaryItems = await computeItemsWithMethod(method);\n      callback(summaryItems);\n    }\n  );\n}\ncomponentWillUnmount() {\n  this.stripeOnShippingMethodChanged.remove();\n}\n</code></pre>\n\n<p>I'm assuming I have to somehow wrap the Objective-C closure so javascript knows how to invoke it but I can't find anything.  Any help appreciated!</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller", "uisegmentedcontrol"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 1, "creation_date": 1518455782, "post_id": 48751669, "comment_id": 84504494, "body": "How are you <i>&quot;calling <code>loadViewFromData</code> from another view controller&quot;</i>?"}, {"owner": {"reputation": 75, "user_id": 7707499, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05d95040c02c3ef2930c40ed0e3300b9?s=128&d=identicon&r=PG&f=1", "display_name": "UseriOSDev", "link": "https://stackoverflow.com/users/7707499/useriosdev"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1518496026, "post_id": 48751669, "comment_id": 84519571, "body": "self.viewControllerObj = [self.storyboard instantiateViewControllerWithIdentifier:@&quot;ViewController1&quot;];                  [self.viewControllerObj loadViewFromData];"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1518533589, "post_id": 48751669, "comment_id": 84539914, "body": "OK - it sounds like you are showing &quot;another view controller&quot; in which you then instantiate a <b><i>new</i></b> instance of &quot;ViewController1&quot;, and call <code>loadViewFromData</code> in that <b><i>new</i></b> instance instead of &quot;calling back&quot; to the original instance - which won&#39;t work. Is that what you&#39;re doing?"}, {"owner": {"reputation": 75, "user_id": 7707499, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05d95040c02c3ef2930c40ed0e3300b9?s=128&d=identicon&r=PG&f=1", "display_name": "UseriOSDev", "link": "https://stackoverflow.com/users/7707499/useriosdev"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1518538146, "post_id": 48751669, "comment_id": 84543035, "body": "Yes I am doing the same. Can you please guide me in calling the original instance.??"}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1518539175, "post_id": 48751669, "comment_id": 84543668, "body": "You want to use Delegate Pattern... Do you have a button in <code>viewController1</code> (and another button in <code>viewController2</code>) that is supposed to change the segmented control in your &quot;main&quot; view controller?"}], "owner": {"reputation": 75, "user_id": 7707499, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05d95040c02c3ef2930c40ed0e3300b9?s=128&d=identicon&r=PG&f=1", "display_name": "UseriOSDev", "link": "https://stackoverflow.com/users/7707499/useriosdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518454729, "creation_date": 1518454729, "question_id": 48751669, "link": "https://stackoverflow.com/questions/48751669/switching-of-segment-controller-is-not-functioning-in-a-uisegmentcontrol-when-ca", "title": "Switching of segment controller is not functioning in a UISegmentControl when called externally through selectedSegmentIndex", "body": "<p>I am having a view controller with UISegment in it.</p>\n\n<p>On clicking the segment controller instead of navigating to UIVIew I am using UIVIEWcontrolers.</p>\n\n<p>Here is my code</p>\n\n<p>.h file</p>\n\n<pre><code>@property (weak, nonatomic) IBOutlet UIView *containerView;\n@property (weak, nonatomic) IBOutlet UISegmentedControl *segmenter;\n\n- (IBAction)showComponent:(UISegmentedControl *)sender;\n\n@property (weak, nonatomic) UIViewController *currentViewController;\n-(void)loadViewFromData;\n</code></pre>\n\n<p>.m file</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    AppDelegate *appD = (AppDelegate *)[[UIApplication sharedApplication] delegate];\n    if ([[appD.defaults objectForKey:@\"segment\"] isEqualToString:@\"index0\"]) {\n        self.currentViewController = [self.storyboard instantiateViewControllerWithIdentifier:@\"viewControllr1\"];\n        self.segmenter.selectedSegmentIndex = 0;\n        [self.segmenter sendActionsForControlEvents:UIControlEventValueChanged];\n\n    }else{\n        self.currentViewController = [self.storyboard instantiateViewControllerWithIdentifier:@\"viewControllr2\"];\n        self.segmenter.selectedSegmentIndex = 1;\n        [self.segmenter sendActionsForControlEvents:UIControlEventValueChanged];\n    }\n//    self.currentViewController.view.translatesAutoresizingMaskIntoConstraints = NO;\n//    [self addChildViewController:self.currentViewController];\n//    [self addSubview:self.currentViewController.view toView:self.containerView];\n//    //[self changeSegment];\n    [self.segmenter addTarget:self action:@selector(changedSegmentedControl:) forControlEvents:UIControlEventValueChanged];\n\n    // Do any additional setup after loading the view.\n}\n- (void)changedSegmentedControl:(UISegmentedControl*)sender\n{\n    NSLog(@\"Changed value of segmented control to %ld\", sender.selectedSegmentIndex);\n    NSLog(@\"self.segmenter value of segmented control to %ld\", self.segmenter.selectedSegmentIndex);\n    // Code to change View Controller goes here\n}\n-(void)viewWillAppear:(BOOL)animated{\n    [super viewWillAppear:YES];\n}\n-(void)loadViewFromData{\n//    [self viewDidLoad];\n//    [self viewWillAppear:YES];\n//    [self reloadInputViews];\n    self.segmenter.selectedSegmentIndex = 1;\n    [self changedSegmentedControl:self.segmenter];\n    [self.segmenter sendActionsForControlEvents:UIControlEventValueChanged];\n}\n-(void)changeSegment{\n    AppDelegate *appD = (AppDelegate *)[[UIApplication sharedApplication] delegate];\n    if ([[appD.defaults objectForKey:@\"segment\"] isEqualToString:@\"index0\"]) {\n        self.currentViewController = [self.storyboard instantiateViewControllerWithIdentifier:@\"viewControllr1\"];\n    }else{\n        self.currentViewController = [self.storyboard instantiateViewControllerWithIdentifier:@\"viewControllr2\"];\n        self.segmenter.selectedSegmentIndex = 1;\n    }\n    self.currentViewController.view.translatesAutoresizingMaskIntoConstraints = NO;\n    [self addChildViewController:self.currentViewController];\n    [self addSubview:self.currentViewController.view toView:self.containerView];\n}\n- (IBAction)showComponent:(UISegmentedControl *)sender {\n    if (sender.selectedSegmentIndex == 0) {\n        UIViewController *newViewController = [self.storyboard instantiateViewControllerWithIdentifier:@\"viewControllr1\"];\n        newViewController.view.translatesAutoresizingMaskIntoConstraints = NO;\n        [self cycleFromViewController:self.currentViewController toViewController:newViewController];\n        self.currentViewController = newViewController;\n    } else {\n        UIViewController *newViewController = [self.storyboard instantiateViewControllerWithIdentifier:@\"viewControllr2\"];\n        newViewController.view.translatesAutoresizingMaskIntoConstraints = NO;\n        [self cycleFromViewController:self.currentViewController toViewController:newViewController];\n        self.currentViewController = newViewController;\n    }\n}\n\n- (void)cycleFromViewController:(UIViewController*) oldViewController\n               toViewController:(UIViewController*) newViewController {\n    [oldViewController willMoveToParentViewController:nil];\n    [self addChildViewController:newViewController];\n    [self addSubview:newViewController.view toView:self.containerView];\n    newViewController.view.alpha = 0;\n    [newViewController.view layoutIfNeeded];\n\n    [UIView animateWithDuration:0.5\n                     animations:^{\n                         newViewController.view.alpha = 1;\n                         oldViewController.view.alpha = 0;\n                     }\n                     completion:^(BOOL finished) {\n                         [oldViewController.view removeFromSuperview];\n                         [oldViewController removeFromParentViewController];\n                         [newViewController didMoveToParentViewController:self];\n                     }];\n}\n\n- (void)addSubview:(UIView *)subView toView:(UIView*)parentView {\n    [parentView addSubview:subView];\n    NSDictionary * views = @{@\"subView\" : subView,};\n    NSArray *constraints = [NSLayoutConstraint constraintsWithVisualFormat:@\"H:|[subView]|\"\n                           options:0\n                            metrics:0\n                            views:views];\n    [parentView addConstraints:constraints];\n    constraints = [NSLayoutConstraint constraintsWithVisualFormat:@\"V:|[subView]|\"\n                                                          options:0\n                                                          metrics:0\n                                                            views:views];\n    [parentView addConstraints:constraints];\n}\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n</code></pre>\n\n<p>I am calling <code>loadViewFromData</code> from another view controller and changing the appD.defults value to \"index1\" but its not redirecting</p>\n\n<p>If I am trying to select the second segment via code  i.e., calling externally through selectedSegmentIndex, it is not functioning and not getting re-directed.</p>\n\n<p>Manually if I click and select a segment it is functioning properly.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uiviewcontroller"], "answers": [{"comments": [{"owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "edited": false, "score": 0, "creation_date": 1518454027, "post_id": 48751375, "comment_id": 84503340, "body": "I have already subclassed UIViewController and usually that would also be my delegate. But in this case as I have to pick between two completely different table views, I wanted to have two separate data sources instead."}, {"owner": {"reputation": 473, "user_id": 7601877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee41e49fc77c149855c4571f0d5f22e?s=128&d=identicon&r=PG&f=1", "display_name": "FryAnEgg", "link": "https://stackoverflow.com/users/7601877/fryanegg"}, "reply_to_user": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "edited": false, "score": 0, "creation_date": 1518455146, "post_id": 48751375, "comment_id": 84504064, "body": "For example, I use a segmented control to switch between 3 different data sets in a single table view. The UITableViewController subclass references the segmented control and three arrays of data. I then override &#39;numberOfRowsInSection&#39;, &#39;cellForRowAtIndexPath&#39; and any other data source funcs to provide data depending on the state of the segment control.  When the segment controls switches to a new segment, just call tableView.reloadData to draw in the new data."}], "tags": [], "owner": {"reputation": 473, "user_id": 7601877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee41e49fc77c149855c4571f0d5f22e?s=128&d=identicon&r=PG&f=1", "display_name": "FryAnEgg", "link": "https://stackoverflow.com/users/7601877/fryanegg"}, "is_accepted": false, "score": 0, "last_activity_date": 1518453744, "creation_date": 1518453744, "answer_id": 48751375, "question_id": 48751015, "link": "https://stackoverflow.com/questions/48751015/communicating-between-uiviewcontroller-and-uitableviewdelegate/48751375#48751375", "title": "Communicating between UIViewController and UITableViewDelegate", "body": "<p>The most common approach is to subclass UITableViewController and implement <code>UITableViewDelegate</code> and <code>UITableDataSource</code> there. You can return whichever cell you require in <code>cellForRowAtIndexPath</code>based on any state in your controller class.</p>\n"}], "owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1518453744, "creation_date": 1518452643, "question_id": 48751015, "link": "https://stackoverflow.com/questions/48751015/communicating-between-uiviewcontroller-and-uitableviewdelegate", "title": "Communicating between UIViewController and UITableViewDelegate", "body": "<p>I have a <code>UIViewController</code> which contains a <code>UITableView</code> (amongst other views).</p>\n\n<p>The <code>UITableView</code> could get its cells from one of two <code>UITableDataSource</code>, depending on some condition.</p>\n\n<p>My <code>UITableDataSource</code> class also acts as my <code>UITableViewDelegate</code>.</p>\n\n<p>When a cell is selected (<code>tableView:didSelectRowAtIndexPath</code>) I may want to perform an action on the <code>UIViewController</code>, such as <code>performSegue</code> or show an alert.</p>\n\n<p>What would be the best way to do this?</p>\n\n<ol>\n<li>Add a weak reference to the <code>UIViewController</code> inside each datasource/delegate class</li>\n<li>Create a delegate per datasource/delegate class which calls functions inside my <code>UIViewController</code></li>\n<li><em>Your suggestion here!</em></li>\n</ol>\n\n<p>I considered making my <code>UIViewController</code> the <code>UITableViewDelegate</code> but as the cells are different depending on the source I thought it would get messy.</p>\n\n<blockquote>\n  <p><em>Note</em>: I say \"best way\" but really I am just interested in alternate approaches</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "runtime"], "comments": [{"owner": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1518451878, "post_id": 48750302, "comment_id": 84501915, "body": "If I understand the question, you created a subclass, added some code to it, and upon running that code encountered a crash.  From that crash you concluded that you couldn&#39;t create a subclass?  Have you considered the possibility that it is the code (not the fact that it is  added to a subclass) that&#39;s the problem?"}, {"owner": {"reputation": 3, "user_id": 1763374, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b62ce23a6b6d9c2e2feefe5680e7d193?s=128&d=identicon&r=PG", "display_name": "jeffrey001234", "link": "https://stackoverflow.com/users/1763374/jeffrey001234"}, "reply_to_user": {"reputation": 54921, "user_id": 294949, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3326427b9c2edc60ad293fdf51c5ba4c?s=128&d=identicon&r=PG&f=1", "display_name": "danh", "link": "https://stackoverflow.com/users/294949/danh"}, "edited": false, "score": 0, "creation_date": 1518452452, "post_id": 48750302, "comment_id": 84502295, "body": "The line that caused the crash was <code>objc_allocateClassPair()</code> which was used to create the subclass. after deleting that line of code the program worked fine. Also the subclass I created was empty so it only had empty methods that does nothing"}], "owner": {"reputation": 3, "user_id": 1763374, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b62ce23a6b6d9c2e2feefe5680e7d193?s=128&d=identicon&r=PG", "display_name": "jeffrey001234", "link": "https://stackoverflow.com/users/1763374/jeffrey001234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1518450493, "creation_date": 1518450493, "question_id": 48750302, "link": "https://stackoverflow.com/questions/48750302/objective-c-runtime-method-creation-and-subclassing-limits", "title": "Objective c runtime method creation and subclassing limits", "body": "<p>I was trying to create a subclass of the class <code>WFAirportViewController</code> in the new WiFiKitUI private framework for iOS 11 during runtime. The class is used as the interface of the wifi connection scene in the settings app. My intention is to create a subclass so that I can keep all the functionality and change up the looks of the views. That didn't work as I try to execute the code it just crashes. Then I tried to create a new method for the class with <code>class_addMethod</code>, it returned false meaning that the method creation wasn't successful, but when I tried to get the class in runtime with <code>objc_getClass</code> it did work so it means that the class is retrievable. Is there some kind of restriction for runtime subclassing and method creation that is not documented because I have searched for a while now and nothing shows up.</p>\n"}, {"tags": ["objective-c", "memory-management", "automatic-ref-counting"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1518977500, "post_id": 48759524, "comment_id": 84713292, "body": "How would I go about doing this? Sorry to ask fr spoonfeeding but I&#39;ve tried looking it up and can&#39;t work it out"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1518990001, "post_id": 48759524, "comment_id": 84717278, "body": "What don&#39;t you understand? Assuming you can modify <code>loadWorldThread</code> instead of  calling <code>nsstring(name)</code> and passing its result to <code>pthread_create</code>, instead just pass <code>name</code> and inside <code>loadWorldThread</code> perform the <code>nsstring(name)</code>."}, {"owner": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1519232463, "post_id": 48759524, "comment_id": 84829260, "body": "<a href=\"https://stackoverflow.com/questions/48911474/exc-bad-access-with-cpstring-and-pthread-create-function-how-to-fix-these-funct\" title=\"exc bad access with cpstring and pthread create function how to fix these funct\">stackoverflow.com/questions/48911474/&hellip;</a> I&#39;ve attempted what I think is a fix but this is as far as I&#39;ve got, any idea what to do?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1519235127, "post_id": 48759524, "comment_id": 84830903, "body": "First it would be better to edit this question rather than ask a new one, especially as you are trying to follow answer above. In your new code you are passing <code>&amp;name</code>, that is not a <code>std::string</code> but the address of a variable on the stack. If you cannot pass the <code>std::string</code> itself because it is stack allocated (so isn&#39;t just a heap pointer which you can pass as <code>void *</code>) you <i>will</i> need to convert it to a heap allocated string before the call to <code>pthread_create</code> - create a <code>CFString</code> from it, as that can be passed as a <code>void *</code>, then in <code>loadWorldThread</code> [cont...]"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1519235438, "post_id": 48759524, "comment_id": 84831052, "body": "[...cont] bridge transfer it to an <code>NSString</code> so ARC takes responsibility for its memory management. You&#39;ll probably need to read up on bridge casts, it is <i>essential</i> that you understand the memory management semantics here or you&#39;ll easily get into trouble."}, {"owner": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1519243223, "post_id": 48759524, "comment_id": 84835184, "body": "I&#39;ve attempted in a few places to convert <code>name</code> into a <code>CFString</code> but each time I try to do it it is saying <code>No matching function for call to &#39;CFStringCreateWithCString&#39;</code> wherever I try to do it. Is there a better way to do this?"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1519247203, "post_id": 48759524, "comment_id": 84837313, "body": "Have you imported the Core Foundation header? As to other ways, you can create an <code>NSString</code> using your existing method to do so and then do a bridge transfer cast to get a <code>CFStringRef</code> (or just a <code>void *</code> directly, the referenced object will still be a <code>CFString</code>)."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "edited": false, "score": 0, "creation_date": 1519301040, "post_id": 48759524, "comment_id": 84859966, "body": "OK, I&#39;ve added an addendum, hopefully that will help you understand this better."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1519301191, "last_edit_date": 1519301191, "creation_date": 1518496507, "answer_id": 48759524, "question_id": 48750226, "link": "https://stackoverflow.com/questions/48750226/no-matching-function-for-call-to-pthread-create-objective-c-arc-conversion/48759524#48759524", "title": "No matching function for call to pthread_create Objective-C ARC conversion", "body": "<p>As your error message indicates the 4th argument to <code>pthread_create</code> is of type <code>void *</code>. Under ARC you cannot simply pass an Obj-C object reference as a <code>void *</code> as ARC would is not able to track the reference once it is stored in a C(++) pointer variable, and therefore cannot manage the object's memory.</p>\n\n<p>For situations where an Obj-C reference must be passed into the C(++) world a <em>bridge cast</em> can be used to inform ARC how the memory should be managed. However in your case there a better way, just pass the C++ pointer, <code>name</code>, without creating an <code>NSString</code>. If <code>loadWorldThread</code> expects a <code>std::string</code> that is the correct thing to do anyway. If it expects an <code>NSString *</code> then either:</p>\n\n<ul>\n<li><p>modify it to take a <code>std::string</code> and do any required conversion to <code>NSString *</code> within it; or</p></li>\n<li><p>write a small intermediate function which takes a <code>std::string</code>, produces an <code>NSString *</code> from it, and then calls <code>loadWorldThread</code>. Pass this new function to <code>pthread_create</code>.</p></li>\n</ul>\n\n<p>Doing either of the above avoids the use of a bridge cast in the <code>pthread_create</code> call to move the Obj-C reference into the C(++) world and out of ARC control; and another bridge cast in <code>loadWorldThread</code> (or intermediate function as above) to move it back into the Obj-C world and into ARC control.</p>\n\n<p><strong>Addendum</strong></p>\n\n<p>Expanding on the last paragraph, as the method there seems better suited to your situation. First, it is <strong>assumed</strong> that your code:</p>\n\n<pre><code>nsstring(name)\n</code></pre>\n\n<p>takes a value of type <code>std::string</code> and returns a value of type <code>NSString</code>, if it does not then look up how to do this conversion.</p>\n\n<p>After the above expression you have a reference to an <code>NSString</code> under ARC control. You cannot simply pass such a reference as a <code>void *</code>, you must take it out of ARC's control first and take responsibility for its memory management (but not for long as you will see). You can bridge cast your <code>NSString *</code> to a <code>CFStringRef</code>:</p>\n\n<pre><code>CFStringRef cfName = (__bridge_retain CFStringRef)nsstring(name);\n</code></pre>\n\n<p>You can now pass <code>cfName</code>, which is a reference to a heap-allocated <code>CFString</code>, as a <code>void *</code>.</p>\n\n<p>Now in <code>loadWorldThread</code>; which should be declared to take a <code>void *</code>, something like <code>void loadWorldThread(void *arg) { ... }</code>; you need to bridge cast your <code>CFStringRef</code> back to <code>NSString *</code> and hands responsibility for its memory management back to ARC:</p>\n\n<pre><code>NSString *nsName = (__bridge_transfer NSString *)arg;\n</code></pre>\n\n<p>The above is a standard pattern to pass an ARC controlled reference though an anonymous reference (<code>void *</code>).</p>\n\n<p><em>(Note: the above uses <code>CFStringRef</code> to make it clear that you are passing around a reference to a manually managed <code>CFString</code>, you can cast directly to <code>void *</code> and back again, indeed you will notice that when casting back <code>arg</code> was not first cast to a <code>CFStringRef</code> to demonstrate this.)</em></p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 1, "user_id": 9329220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad659cd27f7c4be5ee9bdbe7edcf2a6?s=128&d=identicon&r=PG&f=1", "display_name": "user275472", "link": "https://stackoverflow.com/users/9329220/user275472"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519301191, "creation_date": 1518450315, "question_id": 48750226, "link": "https://stackoverflow.com/questions/48750226/no-matching-function-for-call-to-pthread-create-objective-c-arc-conversion", "title": "No matching function for call to pthread_create Objective-C ARC conversion", "body": "<p>converting my project to ARC but says it can't due to the following error 'No matching function for call to pthread_create'. Here is the code it falls in, happens specifically on the line starting with <code>pthread create</code>. How can I fix this? It also says <code>Candidate function not viable: no known conversion from 'NSString *' to 'void * _Nullable' for 4th argument</code> in the sidebar underneath the error.</p>\n\n<p>I've cut off the rest of the function but can provide more detail if necessary.</p>\n\n<pre><code>void World::loadWorld(std::string name)\n{\n    if(doneLoading==0)\n    {\n    doneLoading=1;\n    Resources::getResources-&gt;stopMenuTune();\n    if(LOW_MEM_DEVICE)\n    {\n        menu-&gt;deactivate();\n\n        Resources::getResources-&gt;unloadMenuTextures();\n        terrain-&gt;allocateMemory();\n        terrain-&gt;loadTerrain(name,TRUE);\n        doneLoading=2;\n        hud-&gt;fade_out=1;\n    }\n    else\n    {\n        terrain-&gt;allocateMemory();\n        pthread_t foo;\n        pthread_create(&amp;foo,NULL,loadWorldThread, nsstring(name));\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "crash", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518448900, "post_id": 48749308, "comment_id": 84499720, "body": "What are you doing when it&#39;s crashing? Are you programmatically dismissing a view by any chance. It&#39;s going to be impossible to diagnose a crash without details about what you were doing when it crashed and/or the salient details of the crash (e.g. the stack trace, etc.)."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518448947, "post_id": 48749308, "comment_id": 84499760, "body": "In contemporary versions of Xcode there is a &quot;Main Thread Checker&quot; option on the scheme&#39;s &quot;Diagnostics&quot; options. Do you have this turned on?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518449771, "post_id": 48749308, "comment_id": 84500393, "body": "If the &quot;Main Thread Checker&quot; doesn&#39;t solve the problem, I&#39;d suggest you create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and include that in your question."}, {"owner": {"reputation": 663, "user_id": 1399267, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5b37ac57edbd4100f175afebbcb4be?s=128&d=identicon&r=PG", "display_name": "karolszafranski", "link": "https://stackoverflow.com/users/1399267/karolszafranski"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518520557, "post_id": 48749308, "comment_id": 84531271, "body": "I&#39;m not able to create MCVE, it happens only in (complex) app I&#39;m working on. &quot;Main Thread Checker&quot; is on and does not complain about anything. I know where last reference to the array holding references to the view controllers is removed, and I did check that it happens on main thread. Problem is that <code>dealloc</code> is not called on main thread."}], "answers": [{"comments": [{"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 3, "creation_date": 1518456322, "post_id": 48749309, "comment_id": 84504847, "body": "What you&#39;re doing here is very problematic. Note the message in the first post that says <i>... or is in the process of deallocation.</i> You&#39;re code (specifically the code block that references <code>self</code>) is causing a retain of <code>self</code> during <code>dealloc</code>. You can&#39;t do that\u2014ever. <code>dealloc</code> executes when the object has been released and any attempt to retain the object again will cause unexpected and unpredictable havoc."}, {"owner": {"reputation": 663, "user_id": 1399267, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5b37ac57edbd4100f175afebbcb4be?s=128&d=identicon&r=PG", "display_name": "karolszafranski", "link": "https://stackoverflow.com/users/1399267/karolszafranski"}, "reply_to_user": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1518521065, "post_id": 48749309, "comment_id": 84531583, "body": "@JamesBucanek thanks for your reply. I agree with you so I did additionally clarify what was the correct solution."}], "tags": [], "owner": {"reputation": 663, "user_id": 1399267, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5b37ac57edbd4100f175afebbcb4be?s=128&d=identicon&r=PG", "display_name": "karolszafranski", "link": "https://stackoverflow.com/users/1399267/karolszafranski"}, "is_accepted": true, "score": 0, "last_activity_date": 1518520987, "last_edit_date": 1518520987, "creation_date": 1518447553, "answer_id": 48749309, "question_id": 48749308, "link": "https://stackoverflow.com/questions/48749308/over-released-object-ios-app-crash/48749309#48749309", "title": "Over-released object iOS app crash", "body": "<p>By subclassing <code>UIPageViewController</code> and setting breakpoint in it's <code>dealloc</code> I found that it's not executed on the main thread. </p>\n\n<p><strong>don't do this in production - only play around when debugging</strong></p>\n\n<p>Synchronously removing its view from view hierarchy on the main thread did fix the issue. I have no view controller container responsible for that:</p>\n\n<pre><code>- (void)dealloc {\n    dispatch_sync(dispatch_get_main_queue(), ^{\n        [self.view removeFromSuperview];\n    });\n}\n</code></pre>\n\n<p>However it was not even about the view, while just delaying execution was enough to fix the crash, and the view will be cleaned together with its superview.</p>\n\n<pre><code>- (void)dealloc {\n    dispatch_sync(dispatch_get_main_queue(), ^{\n        NSLog(@\"%@\", self);\n    });\n}\n</code></pre>\n\n<p>View controllers were stored in the array, and I knew that when this array was destroyed, view controllers are as well. I checked on which thread object holding the only one reference to this array is destroyed, and it is main thread. ARC should release objects on same thread where the last reference to the object was removed, but that is not the case in my app. <a href=\"https://stackoverflow.com/a/32800112\">https://stackoverflow.com/a/32800112</a></p>\n\n<hr>\n\n<p><strong>How did I fix my issue:</strong>\nI don't why it was so. I did not search for a reason anymore when I found that issue will also disappear when <strong>I manually remove reference to the array, right before removing the last reference to its owner.</strong></p>\n"}], "owner": {"reputation": 663, "user_id": 1399267, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0f5b37ac57edbd4100f175afebbcb4be?s=128&d=identicon&r=PG", "display_name": "karolszafranski", "link": "https://stackoverflow.com/users/1399267/karolszafranski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3452, "favorite_count": 0, "accepted_answer_id": 48749309, "answer_count": 1, "score": 1, "last_activity_date": 1518520987, "creation_date": 1518447553, "question_id": 48749308, "link": "https://stackoverflow.com/questions/48749308/over-released-object-ios-app-crash", "title": "Over-released object iOS app crash", "body": "<p>My app is crashing with the last message in the device console:</p>\n\n<blockquote>\n  <p>objc[5105]: Cannot form weak reference to instance (0x10801ec00) of class UIPageViewController. It is possible that this object was over-released, or is in the process of deallocation.</p>\n</blockquote>\n\n<p>Randomly app also crashed with the same error message but <code>UINavigationController</code> instead of <code>UIPageViewController</code>. A bug is reproducible on the simulator and physical devices (iOS 11.2.5).</p>\n\n<p>Profiling with \"Zombie\" template in Instruments did not give any valuable information. I found that outdated guide useful:\n<a href=\"http://www.corbinstreehouse.com/blog/2007/10/instruments-on-leopard-how-to-debug-those-random-crashes-in-your-cocoa-app/\" rel=\"nofollow noreferrer\">http://www.corbinstreehouse.com/blog/2007/10/instruments-on-leopard-how-to-debug-those-random-crashes-in-your-cocoa-app/</a></p>\n\n<hr>\n\n<p>My answer might not fix your issue but I hope it will help to track it. Additionally, I'll appreciate if someone explains why ARC fired on a different thread.</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "comments": [{"owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "edited": false, "score": 0, "creation_date": 1518451892, "post_id": 48748968, "comment_id": 84501920, "body": "It&#39;s not a lot to go on. Can you add details of what code runs when the problem occurs?"}, {"owner": {"reputation": 1923, "user_id": 3342547, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dh2Xt.png?s=128&g=1", "display_name": "DDP", "link": "https://stackoverflow.com/users/3342547/ddp"}, "edited": false, "score": 0, "creation_date": 1518502103, "post_id": 48748968, "comment_id": 84521361, "body": "Does the saving behave correctly if you turn on UIApplicationExitsOnSuspend?"}, {"owner": {"reputation": 3, "user_id": 1960775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5323ef718d5b733e714b1390b2b4f315?s=128&d=identicon&r=PG", "display_name": "Paul Rusko", "link": "https://stackoverflow.com/users/1960775/paul-rusko"}, "edited": false, "score": 0, "creation_date": 1518511932, "post_id": 48748968, "comment_id": 84525867, "body": "To my knowledge no code is running when problem occurs. I&#39;ve put loggers around problem region that logs number of data entries and in applicationWillTerminate this number is correct. Then occasionally in next didFinishLaunchingWithOptions all data is lost. All saving is always done before location updates are turned off so this shouldn&#39;t be the case with finite length background execution task. UIApplicationExitsOnSuspend just terminates app whenever it moves to background and nothing is saved of course."}, {"owner": {"reputation": 3, "user_id": 1960775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5323ef718d5b733e714b1390b2b4f315?s=128&d=identicon&r=PG", "display_name": "Paul Rusko", "link": "https://stackoverflow.com/users/1960775/paul-rusko"}, "edited": false, "score": 0, "creation_date": 1518512361, "post_id": 48748968, "comment_id": 84526144, "body": "Also i&#39;ve not observed any context save errors before this issue occurs."}], "owner": {"reputation": 3, "user_id": 1960775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5323ef718d5b733e714b1390b2b4f315?s=128&d=identicon&r=PG", "display_name": "Paul Rusko", "link": "https://stackoverflow.com/users/1960775/paul-rusko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518446530, "creation_date": 1518446530, "question_id": 48748968, "link": "https://stackoverflow.com/questions/48748968/coredata-lossing-data", "title": "CoreData lossing data", "body": "<p>I'm facing a strange issue where core data entries are randomly disappearing after being saved to master context.</p>\n\n<p>I have a multithreaded app with master, main and occasional private contexts that all are recursively saved. App also runs background location updates and significant location change updates. Data is mostly saved in background mode. Occasionally app is allowed to be terminated by turning location updates off.</p>\n\n<p>When I save something to CoreData I am able to swipe away the app and reopen it without any data loss for hours. In my mind that should prove that all contexts are properly saved. But then after app sits in background for some time and is finally terminated, on next app launch data is often missing. Not always though.</p>\n\n<p>On some devices I find it impossible to replicate but on others (usually 16gb iphones with little storage left) it happens quite often. Also it seems that turning everything off under Location Services>System Services somehow helps to trigger this issue.</p>\n\n<p>Has anyone experienced smth similar?</p>\n"}, {"tags": ["ios", "objective-c", "ibeacon", "eddystone"], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 2239138, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/ol8Pj.jpg?s=128&g=1", "display_name": "Chaaruu Jadhav", "link": "https://stackoverflow.com/users/2239138/chaaruu-jadhav"}, "edited": false, "score": 0, "creation_date": 1518523772, "post_id": 48748610, "comment_id": 84533151, "body": "Thank you for the reply :) Yes, I know. I tried with beacon&#39;s byte code too but not worked. I thought someone definitely got solution for this issue :( ."}], "tags": [], "owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "is_accepted": false, "score": 0, "last_activity_date": 1518445310, "creation_date": 1518445310, "answer_id": 48748610, "question_id": 48748183, "link": "https://stackoverflow.com/questions/48748183/get-both-ibeacon-eddystone-beacon-data-in-one-scanning-using-objective-c/48748610#48748610", "title": "get both iBeacon &amp; Eddystone beacon data in one scanning using objective c", "body": "<p>Unfortunately you cannot scan for both iBeacon and Eddystone frames with a single API.  Why?  Because Apple blocks this by design.</p>\n\n<ul>\n<li><p>iBeacon can only be detected using the CoreLocation API <code>startRangingBeacons(region: region)</code>.  Apple blocks detecting its frames using CoreBluetooth APIs.</p></li>\n<li><p>Eddystone frames can only be detected using CoreBluetooth APIs.  There is no support in CoreLocation, as it was invented by Google and not natively supported by Apple.</p></li>\n</ul>\n"}], "owner": {"reputation": 454, "user_id": 2239138, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/ol8Pj.jpg?s=128&g=1", "display_name": "Chaaruu Jadhav", "link": "https://stackoverflow.com/users/2239138/chaaruu-jadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518445310, "creation_date": 1518443825, "question_id": 48748183, "link": "https://stackoverflow.com/questions/48748183/get-both-ibeacon-eddystone-beacon-data-in-one-scanning-using-objective-c", "title": "get both iBeacon &amp; Eddystone beacon data in one scanning using objective c", "body": "<p>I need help to find iBeacon &amp; Eddystone both in one scan method. As I tried so many examples but I didn't found example, which can fetch both iBeacon &amp; Eddystone in same method. If anyone know the answer for my question then please help me to solve this issue.</p>\n\n<p>I don't want peripheral scan.</p>\n"}, {"tags": ["ios", "objective-c", "uialertcontroller", "uimenucontroller"], "comments": [{"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1518443278, "post_id": 48747973, "comment_id": 84495811, "body": "show your requirement"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518443344, "post_id": 48747973, "comment_id": 84495854, "body": "plz elobrate...."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1518443740, "post_id": 48747973, "comment_id": 84496114, "body": "You need show both things at the same time??? why you want to do this?"}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518444008, "post_id": 48747973, "comment_id": 84496294, "body": "@ReinierMelian Just for more options for user. If it&#39;s not possible, I will search for other UX decision."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518444141, "post_id": 48747973, "comment_id": 84496384, "body": "maybe its possible but I think its not the best approach, I suggest you only the actionSheet or the menu, both things will make the user confused about this"}, {"owner": {"reputation": 47127, "user_id": 3151675, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VBGuG.png?s=128&g=1", "display_name": "Tam&#225;s Sengel", "link": "https://stackoverflow.com/users/3151675/tam%c3%a1s-sengel"}, "edited": false, "score": 0, "creation_date": 1518444330, "post_id": 48747973, "comment_id": 84496500, "body": "This would not work by default. The action sheet will get dismissed if you click outside the white area."}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518444389, "post_id": 48747973, "comment_id": 84496540, "body": "@ReinierMelian this variant used by Telegram."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518444501, "post_id": 48747973, "comment_id": 84496618, "body": "@Viktorianec I will check that then"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1518445345, "post_id": 48747973, "comment_id": 84497174, "body": "@Viktorianec what is your issue actually, I can show the actionSheet and the menu but the menu can be touched until the actionSheet is dismissed"}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518445603, "post_id": 48747973, "comment_id": 84497330, "body": "@ReinierMelian when I show UIAlertController, menu will be dismissed... But I need them both. Could you show how you present them?"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518446410, "post_id": 48747973, "comment_id": 84497863, "body": "@Viktorianec this works, the menu can be touched without any problem, so maybe its your needed solution, let me know"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518460909, "post_id": 48747973, "comment_id": 84507292, "body": "@Viktorianec did my answer help you?"}], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518502785, "post_id": 48748788, "comment_id": 84521636, "body": "canBecomeFirstResponder give me a crash: &quot;Terminating app due to uncaught exception &#39;UIViewControllerHierarchyInconsistency&#39;, reason: &#39;child view controller:&lt;UICompatibilityInputViewController: 0x111bbfaa0&gt; should have parent view controller:&lt;VCDialog&quot;"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518508907, "post_id": 48748788, "comment_id": 84524275, "body": "@Viktorianec can you give me some details of your setup?"}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518510176, "post_id": 48748788, "comment_id": 84524902, "body": "I use custom inputView, so I think that it cause that crash. And that&#39;s reason why I couldn&#39;t show with the way you provided. But I think that you give a right answer... Anyway it&#39;s not a solution for my situation."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518510265, "post_id": 48748788, "comment_id": 84524942, "body": "@Viktorianec but your custom input view is a UIView subclass?"}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518511497, "post_id": 48748788, "comment_id": 84525613, "body": "I use UIPageController with Stickers"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518511732, "post_id": 48748788, "comment_id": 84525757, "body": "@Viktorianec you need to take in account that the view where you are telling the MenuController will be showed is where you need to implement &#39;canBecomeFirstResponder&#39;"}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518518928, "post_id": 48748788, "comment_id": 84530353, "body": "I know it. I have a parent view controller, in which I use stickers as inputview. Also I present UIAlertController and UIMenu for index path. And it&#39;s reason for crash (:"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518519381, "post_id": 48748788, "comment_id": 84530639, "body": "This is a test proyect or a real one? @Viktorianec"}, {"owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518520006, "post_id": 48748788, "comment_id": 84530976, "body": "Real in production. I couldn&#39;t provide more code. But thank you very much for your help yesterday and today. It&#39;s really difficult case to understand."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "reply_to_user": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "edited": false, "score": 0, "creation_date": 1518520069, "post_id": 48748788, "comment_id": 84531004, "body": "Ok, I understand you, so good luck then, best regards @Viktorianec"}], "tags": [], "owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "is_accepted": true, "score": 1, "last_activity_date": 1518445899, "creation_date": 1518445899, "answer_id": 48748788, "question_id": 48747973, "link": "https://stackoverflow.com/questions/48747973/how-present-uimenucontroller-and-uialertcontroller-at-the-same-time/48748788#48748788", "title": "How present UIMenuController and UIAlertController at the same time?", "body": "<p>Your issue is related to where are you showing your <code>UIMenuController</code> you have to take in account that <code>UIView</code> must have implemented the <code>canBecomeFirstResponder</code> method returning <code>YES</code></p>\n\n<pre><code>- (IBAction)action:(id)sender {\n    UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"\"\n                                                                             message:@\"\"\n                                                                      preferredStyle:UIAlertControllerStyleActionSheet];\n\n    UIAlertAction *editMessage = [UIAlertAction actionWithTitle:@\"Edit\" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n    }];\n    [alertController addAction:editMessage];\n    UIAlertAction *forwardMessage = [UIAlertAction actionWithTitle:@\"Move\" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n    }];\n    [alertController addAction:forwardMessage];\n    UIAlertAction *deleteMessage = [UIAlertAction actionWithTitle:@\"Delete\" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n    }];\n    [alertController addAction:deleteMessage];\n    [self presentViewController:alertController animated:YES completion:nil];\n    [[UIMenuController sharedMenuController] setTargetRect:self.view.bounds inView:self.view];\n    [[UIMenuController sharedMenuController] setArrowDirection:UIMenuControllerArrowDefault];\n    [[UIMenuController sharedMenuController] setMenuItems:@[[[UIMenuItem alloc]initWithTitle:@\"test\" action:@selector(didReceiveMemoryWarning)]]];\n    [[UIMenuController sharedMenuController] setMenuVisible:YES animated:YES];\n}\n\n-(BOOL)canBecomeFirstResponder{\n    return true;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ad4C4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ad4C4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 343, "user_id": 757163, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6uzrd.jpg?s=128&g=1", "display_name": "Viktorianec", "link": "https://stackoverflow.com/users/757163/viktorianec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 1, "accepted_answer_id": 48748788, "answer_count": 1, "score": 1, "last_activity_date": 1518445899, "creation_date": 1518443126, "last_edit_date": 1518443958, "question_id": 48747973, "link": "https://stackoverflow.com/questions/48747973/how-present-uimenucontroller-and-uialertcontroller-at-the-same-time", "title": "How present UIMenuController and UIAlertController at the same time?", "body": "<p>I'm trying next way: </p>\n\n<pre><code>Message *message = self.messagesArray[indexPath.row];\nUIAlertController *alertController = [UIAlertController alertControllerWithTitle:LocalizedString(@\"FirstAction\")\n                                                                         message:@\"\"\n                                                                  preferredStyle:UIAlertControllerStyleActionSheet];\n\nUIAlertAction *editMessage = [UIAlertAction actionWithTitle:LocalizedString(@\"SecondAction\") style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n}];\n[alertController addAction:editMessage];\nUIAlertAction *forwardMessage = [UIAlertAction actionWithTitle:LocalizedString(@\"ThirdAction\") style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n}];\n[alertController addAction:forwardMessage];\nUIAlertAction *deleteMessage = [UIAlertAction actionWithTitle:LocalizedString(@\"DeleteMessage\") style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n}];\n[alertController addAction:deleteMessage];\n[self setSourceViewForAlertController:alertController];\n[self presentViewController:alertController animated:YES completion:nil];\n[self createMenuForMessage:message];\n[[UIMenuController sharedMenuController] setMenuVisible:YES animated:YES];\n</code></pre>\n\n<p>So, my aim is to present alertcontroller for UICollectionViewCell and UIMenuController at the same time.</p>\n\n<p>Like this:\n<a href=\"https://i.stack.imgur.com/49VjQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/49VjQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "xcode", "tcp", "nsurlconnection", "nsurl"], "owner": {"reputation": 727, "user_id": 2446003, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/1de7228d9fb5017b2bb4f2ad72e36cc6?s=128&d=identicon&r=PG", "display_name": "Curtis Boylan", "link": "https://stackoverflow.com/users/2446003/curtis-boylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518440613, "creation_date": 1518440613, "question_id": 48747180, "link": "https://stackoverflow.com/questions/48747180/nsurl-connection-error", "title": "NSURL Connection Error", "body": "<p>I am using the Wikitude plugin on iOS for AR and I am getting the following errors. Sometimes it will run then other times it will just keep loading. When it does run it gives the errors but everything functions perfect. The code that loads the view is the following:</p>\n\n<pre><code> self.architectWorldNavigation = [self.architectView loadArchitectWorldFromURL:[[NSBundle mainBundle] URLForResource:@\"index\" withExtension:@\"html\" subdirectory:@\"files\"]];\n</code></pre>\n\n<p>I am not sure what could be causing this, sometimes disconnecting from wifi works.</p>\n\n<p>Cheers,</p>\n\n<p>Curtis</p>\n\n<blockquote>\n  <p>2018-02-12 13:00:39.326356+0000 UAReloaded[5763:2125598]\n  NSURLConnection finished with error - code -1100 2018-02-12\n  13:00:40.743844+0000 UAReloaded[5763:2125632] TIC TCP Conn Failed\n  [1:0x1d01654c0]: 1:61 Err(61) 2018-02-12 13:00:40.743939+0000\n  UAReloaded[5763:2125632] Task\n  .&lt;0> HTTP load failed (error\n  code: -1004 [1:61]) 2018-02-12 13:00:40.744102+0000\n  UAReloaded[5763:2125594] NSURLConnection finished with error - code\n  -1004</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "redirect", "cocoapods", "uber-api"], "comments": [{"owner": {"reputation": 857, "user_id": 8132772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5841034d6cac3e0676a0ebfa9cdedf?s=128&d=identicon&r=PG&f=1", "display_name": "Sasa Jovanovic", "link": "https://stackoverflow.com/users/8132772/sasa-jovanovic"}, "edited": false, "score": 1, "creation_date": 1518442646, "post_id": 48746600, "comment_id": 84495424, "body": "Thanks for bringing up this problem, we are aware of the issue - and it is on our roadmap to be fixed. We don&#39;t have one ETA when this is going to be done. You can monitor our Git repository for the new releases - and news - so it will be listed there when the problem is solved."}, {"owner": {"reputation": 883, "user_id": 3462756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rna3F.jpg?s=128&g=1", "display_name": "Zeesha", "link": "https://stackoverflow.com/users/3462756/zeesha"}, "reply_to_user": {"reputation": 857, "user_id": 8132772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e5841034d6cac3e0676a0ebfa9cdedf?s=128&d=identicon&r=PG&f=1", "display_name": "Sasa Jovanovic", "link": "https://stackoverflow.com/users/8132772/sasa-jovanovic"}, "edited": false, "score": 0, "creation_date": 1518497481, "post_id": 48746600, "comment_id": 84519946, "body": "Ok fine. Thank you for your reply. @SasaJovanovic . We will wait for the next release with this update."}], "owner": {"reputation": 883, "user_id": 3462756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rna3F.jpg?s=128&g=1", "display_name": "Zeesha", "link": "https://stackoverflow.com/users/3462756/zeesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518448458, "creation_date": 1518438785, "last_edit_date": 1518448458, "question_id": 48746600, "link": "https://stackoverflow.com/questions/48746600/uber-app-login-not-redirecting-to-my-app-if-uber-app-is-in-background-and-not-in", "title": "Uber app login not redirecting to my app if Uber app is in background and not in home screen", "body": "<p>I am implementing the Uber ride request feature in my app (using Uber pod). Then I have to login to Uber from my app. If the Uber app is not in the logged in state or in home screen, the login process from my app to Uber app is working perfectly. I will get the callback in my app delegate.  Everything is working fine. (redirect url, token and other plist params everything ok)</p>\n\n<p>But the problem is if <strong>the Uber app is logged in and then I have selected any other screen like side pane or settings, then I put that app in background</strong>. That time, if I click the login button in my app it will redirect to Uber app then it is stuck there. Not redirecting back to my app as logged in success. </p>\n\n<p>Same behaviour experienced in the test app provided by Uber with their sdk. We are near to production state, any idea?</p>\n"}, {"tags": ["objective-c", "macos", "user-interface", "autolayout", "nsview"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518458304, "post_id": 48745922, "comment_id": 84505954, "body": "Do you add constraints between <code>subview</code> and its superview?"}, {"owner": {"reputation": 43, "user_id": 3575747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db64a34c4cbd6ee01926914ffe9cccfc?s=128&d=identicon&r=PG&f=1", "display_name": "aONe", "link": "https://stackoverflow.com/users/3575747/aone"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518510983, "post_id": 48745922, "comment_id": 84525339, "body": "@Willeke all elements have its constraints defined in the xib file. The parent subviews and the nested one have the same constraints."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518517553, "post_id": 48745922, "comment_id": 84529447, "body": "Where are the contraints between <code>subview</code> and <code>itemXSubView</code>?"}, {"owner": {"reputation": 43, "user_id": 3575747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db64a34c4cbd6ee01926914ffe9cccfc?s=128&d=identicon&r=PG&f=1", "display_name": "aONe", "link": "https://stackoverflow.com/users/3575747/aone"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518518308, "post_id": 48745922, "comment_id": 84529941, "body": "The <code>subView</code> is set to grow and fit to its superview <code>itemXSubView</code>, like the <code>itemXView</code> is set to grow and fit to its superview, being it the main window container, which works as expected."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518521058, "post_id": 48745922, "comment_id": 84531579, "body": "<code>itemXView</code> doesn&#39;t have a superview."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3575747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db64a34c4cbd6ee01926914ffe9cccfc?s=128&d=identicon&r=PG&f=1", "display_name": "aONe", "link": "https://stackoverflow.com/users/3575747/aone"}, "edited": false, "score": 0, "creation_date": 1518524018, "post_id": 48765958, "comment_id": 84533304, "body": "I was hoping it was a one line fix! Thanks a lot @Willeke"}], "tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 0, "last_activity_date": 1518521927, "creation_date": 1518521927, "answer_id": 48765958, "question_id": 48745922, "link": "https://stackoverflow.com/questions/48745922/auto-layout-on-subview-inside-subview-nsview/48765958#48765958", "title": "Auto layout on subview inside subview (NSView)", "body": "<p><code>itemXSubView</code> resizes its subviews but it doesn't fit them. You have to fit <code>subView</code> inside <code>item1SubView</code> before <code>addSubview</code>.</p>\n\n<pre><code>- (IBAction)item1Action:(id)sender {\n    NSLog(@\"Item 1 action triggered\");\n\n    [subView removeFromSuperview];\n    subView.frame = item1SubView.bounds;\n    [item1SubView addSubview:subView];\n    [self.window setContentView:item1View];\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3575747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db64a34c4cbd6ee01926914ffe9cccfc?s=128&d=identicon&r=PG&f=1", "display_name": "aONe", "link": "https://stackoverflow.com/users/3575747/aone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 48765958, "answer_count": 1, "score": 0, "last_activity_date": 1518601846, "creation_date": 1518436519, "last_edit_date": 1518601846, "question_id": 48745922, "link": "https://stackoverflow.com/questions/48745922/auto-layout-on-subview-inside-subview-nsview", "title": "Auto layout on subview inside subview (NSView)", "body": "<p>I'm having hard time trying to properly set the auto layout for a subview inside another subview.</p>\n\n<p>I'm using an example where two toolbar items show two different subviews (which works as expected), and those two share a third subview that's the one that does not fit well.</p>\n\n<p>The code to add the subview is very simple:</p>\n\n<pre><code>[subView removeFromSuperview];\n[itemXSubView addSubview:subView];\n[self.window setContentView:itemXView];\n</code></pre>\n\n<p>First I remove the third and shared subview (<strong>subView</strong>) in case it was already added, then add it to the <strong>item[1-2]SubView</strong> and set the content of the window with the subview <strong>item[1-2]View</strong>, [1-2] depending on the toolbar button selected. Everything else is done with auto layout conditions.</p>\n\n<p>The result is that the third and shared subview is always misplaced and/or cut, as in the example below. Resizing the window and changing from the first or the second view usually aggravates the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UWoNP.png\" rel=\"nofollow noreferrer\">Example of third subview items cut</a></p>\n\n<hr>\n\n<h1>Test updates</h1>\n\n<p>Tried to delegate the main window and override two resize functions (as per @the4kman suggestions), but they did never get called. The init is the only being called:</p>\n\n<pre><code>@interface viewController: NSView &lt;NSWindowDelegate&gt;\n@end\n\n@implementation viewController\n\n-(id)init\n{\n   if((self=[super init])) { }\n   return self;\n}\n\n- (void)resizeSubviewsWithOldSize:(NSSize)oldSize;\n{\n   [super resizeSubviewsWithOldSize:oldSize];\n}\n\n- (void)resizeWithOldSuperviewSize:(NSSize)oldSize;\n{\n   [super resizeWithOldSuperviewSize:oldSize];\n}\n\n- (void)layout\n{\n   [super layout];\n}\n</code></pre>\n\n<p>Another suggestion that got called, but sadly with no actual improvement. Delegated the window to <code>viewController</code> and set the main view (self.view) to the nested subView. Tried also combining with <code>[itemXSubView setNeedsLayout:true]</code>;:</p>\n\n<pre><code>@interface viewController: NSViewController &lt;NSWindowDelegate&gt;\n@end\n\n\n@implementation viewController\n\n-(void)viewWillLayout\n{\n   [super viewDidLayout];\n   [self.view setNeedsLayout:true];\n}\n\n@end\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "ui-testing"], "comments": [{"owner": {"reputation": 691, "user_id": 1931578, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ad2abebacbaa38eb2f8e30f69f25eb22?s=128&d=identicon&r=PG", "display_name": "Neel Bhasin", "link": "https://stackoverflow.com/users/1931578/neel-bhasin"}, "edited": false, "score": 0, "creation_date": 1518434755, "post_id": 48745216, "comment_id": 84490446, "body": "try to associate tag with label and cell"}, {"owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "edited": false, "score": 2, "creation_date": 1518434840, "post_id": 48745216, "comment_id": 84490503, "body": "show your design, that you want to achieve with table list."}, {"owner": {"reputation": 5851, "user_id": 1571232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fyBxG.jpg?s=128&g=1", "display_name": "Venk", "link": "https://stackoverflow.com/users/1571232/venk"}, "edited": false, "score": 0, "creation_date": 1518435018, "post_id": 48745216, "comment_id": 84490599, "body": "try using <code>accessibilityIdentifier</code> property like this <code>label.accessibilityIdentifier = &quot;label1&quot;</code>"}, {"owner": {"reputation": 55, "user_id": 8830522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1543515735716376/picture?type=large", "display_name": "Sagarika Barman", "link": "https://stackoverflow.com/users/8830522/sagarika-barman"}, "edited": false, "score": 0, "creation_date": 1518435195, "post_id": 48745216, "comment_id": 84490706, "body": "But can I dynamically change the identifier for each iteration using this property?"}], "answers": [{"tags": [], "owner": {"reputation": 4212, "user_id": 4846592, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WJFka.jpg?s=128&g=1", "display_name": "heyfrank", "link": "https://stackoverflow.com/users/4846592/heyfrank"}, "is_accepted": false, "score": 0, "last_activity_date": 1518436691, "creation_date": 1518436691, "answer_id": 48745973, "question_id": 48745216, "link": "https://stackoverflow.com/questions/48745216/set-identifiers-for-reusable-tableviewcell-dynamically/48745973#48745973", "title": "Set identifiers for reusable tableViewCell dynamically", "body": "<p>I assume you have your tableView all set up and working.</p>\n\n<p>In your <code>cellForRowAt</code> function you can set your Ids dynamically for each row.</p>\n\n<pre><code>func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {\n    let cell = tableView.dequeueReusableCell(withIdentifier: \"&lt;your_reuse_identifier&gt;\", for: indexPath) as! MyDetailsTableViewCell\n    cell.myDetailsTitlelabel.text = \"id\" // set your label text here    \n    cell.myDetailsTitlelabel.accessibilityIdentifier = \"id\" // set your dynamic id here\n    cell.myDetailsContentLabel.text = \"id\" // set your label text here    \n    cell.myDetailsContentLabel.accessibilityIdentifier = \"id\" // set your dynamic id here\n    return cell\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 8830522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1543515735716376/picture?type=large", "display_name": "Sagarika Barman", "link": "https://stackoverflow.com/users/8830522/sagarika-barman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518453304, "creation_date": 1518434299, "last_edit_date": 1518453304, "question_id": 48745216, "link": "https://stackoverflow.com/questions/48745216/set-identifiers-for-reusable-tableviewcell-dynamically", "title": "Set identifiers for reusable tableViewCell dynamically", "body": "<p>The tableViewCell contains two labels and the contents of the label are updated in each iteration. For UI testing, I need to set identifier of the labels to check if the content of the labels are same as those expected or not.\n<strong>How can I set identifiers for the labels inside the reusable cell dynamically?</strong></p>\n\n<pre><code>@interface MyDetailsTableViewCell : UITableViewCell\n\n@property (weak, nonatomic) IBOutlet UIDLabel *myDetailsTitlelabel;\n@property (weak, nonatomic) IBOutlet UIDLabel *myDetailsContentLabel;\n\n@end\n</code></pre>\n\n<p>These are the two labels inside my tableViewCell. </p>\n"}, {"tags": ["ios", "objective-c", "reachability", "nsurlsessiondownloadtask", "nsurlsessionconfiguration"], "comments": [{"owner": {"reputation": 1609, "user_id": 9335240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374b57f721280fb0c39d46f6d3d3955d?s=128&d=identicon&r=PG", "display_name": "user9335240", "link": "https://stackoverflow.com/users/9335240/user9335240"}, "edited": false, "score": 0, "creation_date": 1518436123, "post_id": 48745181, "comment_id": 84491287, "body": "Did you check the ARC life-cycle of your Reachability class?, it may have been removed."}, {"owner": {"reputation": 1203, "user_id": 229401, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d60a8befb06c400eec995851675f53b2?s=128&d=identicon&r=PG&f=1", "display_name": "CKT", "link": "https://stackoverflow.com/users/229401/ckt"}, "reply_to_user": {"reputation": 1609, "user_id": 9335240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374b57f721280fb0c39d46f6d3d3955d?s=128&d=identicon&r=PG", "display_name": "user9335240", "link": "https://stackoverflow.com/users/9335240/user9335240"}, "edited": false, "score": 0, "creation_date": 1518528887, "post_id": 48745181, "comment_id": 84536516, "body": "Reachability class it not sending notifications when app in the background."}], "owner": {"reputation": 1203, "user_id": 229401, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d60a8befb06c400eec995851675f53b2?s=128&d=identicon&r=PG&f=1", "display_name": "CKT", "link": "https://stackoverflow.com/users/229401/ckt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518434196, "creation_date": 1518434196, "question_id": 48745181, "link": "https://stackoverflow.com/questions/48745181/how-to-get-network-change-connect-or-disconnect-notification-when-app-is-in-ba", "title": "How to get network change (connect or disconnect) notification when app is in background?", "body": "<p>In my application I need to capture the network connectivity status change while connecting or disconnecting even when my app is in the background.\nI have implemented Reachability class.</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(reachabilityChanged:) name:kReachabilityChangedNotification object:nil];\n</code></pre>\n\n<p>I am receiving the notifications successfully when app is in foreground. But when I keep the app in background and when there is any change in the network I did not receive any notification.</p>\n\n<p>Could any suggest me on how to get this.</p>\n\n<p>My actual requirement is I am using NSURLSessionConfiguration &amp; DownloadTask which I need to cancel when there is a network connection lost even when the app in background.</p>\n\n<p>So I wanted to get the network changed notification even in the background.</p>\n\n<p>[I am using objective c and I need to support from iOS9]</p>\n\n<p>can anyone please help me.\nthanks</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "comments": [{"owner": {"reputation": 62265, "user_id": 43832, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/be7f8a20fac1215c06fa723565fdfb80?s=128&d=identicon&r=PG", "display_name": "Tom Harrington", "link": "https://stackoverflow.com/users/43832/tom-harrington"}, "edited": false, "score": 0, "creation_date": 1518452133, "post_id": 48745174, "comment_id": 84502086, "body": "Have you checked to see that <code>arrResult</code> is not empty or nil, and that there is no <code>error</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 441, "user_id": 2856484, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b6486a817547c2cf1d98295e40b20e6e?s=128&d=identicon&r=PG&f=1", "display_name": "saurabh_mishra_08", "link": "https://stackoverflow.com/users/2856484/saurabh-mishra-08"}, "is_accepted": true, "score": 0, "last_activity_date": 1519754317, "creation_date": 1519754317, "answer_id": 49015082, "question_id": 48745174, "link": "https://stackoverflow.com/questions/48745174/coredata-is-not-updated/49015082#49015082", "title": "Coredata is not updated", "body": "<p>My core data contains duplicate records and i updated only first records so that the problem with update. After I updated all array records the code working fine.</p>\n"}], "owner": {"reputation": 441, "user_id": 2856484, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b6486a817547c2cf1d98295e40b20e6e?s=128&d=identicon&r=PG&f=1", "display_name": "saurabh_mishra_08", "link": "https://stackoverflow.com/users/2856484/saurabh-mishra-08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 49015082, "answer_count": 1, "score": 0, "last_activity_date": 1519754317, "creation_date": 1518434178, "question_id": 48745174, "link": "https://stackoverflow.com/questions/48745174/coredata-is-not-updated", "title": "Coredata is not updated", "body": "<p>I wanted to update one record in my core data entity and I write code for it but the data is not updated .</p>\n\n<p>There is Entity posts and it has data with id\ni have to update the record for one particular id .</p>\n\n<p>Here is function to update the record</p>\n\n<pre><code> -(void)updateDataInDB:(NSString*)withID WithDes:(NSString*)newData{\n     NSManagedObjectContext * context = [self getManagedContext];\n    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];\n    NSEntityDescription *entity = [NSEntityDescription entityForName:@\"News\" inManagedObjectContext:context];\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"postId == %@\",withID];\n    [fetchRequest setPredicate:predicate];\n    [fetchRequest setFetchLimit:1];\n    [fetchRequest setEntity:entity];\n    NSError *error;\n    NSArray *arrResult = [context executeFetchRequest:fetchRequest error:&amp;error];\n    if(arrResult.count&gt;0){\n        NSManagedObject *news = [arrResult objectAtIndex:0];\n        [news setValue:newData forKey:@\"fullDesc\"];\n\n\n    }\n\n   [self saveContext];\n}\n</code></pre>\n\n<p><strong>Please Help if anything wrong</strong></p>\n"}, {"tags": ["ios", "objective-c", "datamodel"], "comments": [{"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1518433704, "post_id": 48744959, "comment_id": 84489813, "body": "First, why you do you need a dictionary ? Second, Kindly post the code where you are doing what you have mentioned."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8193429"}, "reply_to_user": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1518433871, "post_id": 48744959, "comment_id": 84489939, "body": "@Nitish I&#39;m trying to store the data in a dictionary so I can display it as a predicative search in a tableView"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1518434039, "post_id": 48744959, "comment_id": 84490050, "body": "Show your code for how you are creating  <b>Clubs</b> from JSON ?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1518434429, "post_id": 48744959, "comment_id": 84490265, "body": "Not related but you should name the object model in singular form and the property in plural form. And <code>Club</code> is most likely a class so you need to add another asterisk: <code>@property (strong, nonatomic) NSMutableArray &lt;Club *&gt; *clubs;</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8193429"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1518434837, "post_id": 48744959, "comment_id": 84490499, "body": "@vadian Yeah it would make more sense doing that, I will do that, And I created a &quot;@protocol Club @end&quot; to avoid that issue"}, {"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 1, "creation_date": 1518435185, "post_id": 48744959, "comment_id": 84490700, "body": "can you post code of Club class ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8193429"}, "reply_to_user": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1518435660, "post_id": 48744959, "comment_id": 84490993, "body": "@Vinodh I&#39;ve added it now"}], "answers": [{"tags": [], "owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "is_accepted": true, "score": 0, "last_activity_date": 1518437599, "creation_date": 1518437599, "answer_id": 48746253, "question_id": 48744959, "link": "https://stackoverflow.com/questions/48744959/creating-a-data-model-from-json/48746253#48746253", "title": "Creating a data model from JSON", "body": "<p>Please use below code to achieve JSON Model saving:</p>\n\n<pre><code>_club = [[NSMutableArray alloc]init];\n\nNSDictionary *responseObject = @{\n    @\"club\": @[\n             @{\n                 @\"titles\": @\"1\",\n                 @\"league\": @\"epl\",\n                 @\"country\": @\"england\"\n\n             }]\n             };\nNSArray *newResponseObject = [responseObject objectForKey:@\"club\"];\nfor (NSDictionary *dictionary in newResponseObject) {\n\n    Clubs *objClubs = [[Clubs alloc]initWithDictionary:dictionary error:nil];\n    [_club addObject:objClubs];\n\n}\n\nNSLog(@\"%@\",[_club objectAtIndex:0]);\n</code></pre>\n\n<p>which print like below :</p>\n\n<pre><code>&lt;Clubs&gt; \n   [titles]: 1\n   [country]: england\n   [GoalSc]: &lt;nil&gt;\n   [league]: epl\n   [topGS]: &lt;nil&gt;\n   [TransferBudget]: &lt;nil&gt;\n&lt;/Clubs&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8193429"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 48746253, "answer_count": 1, "score": 0, "last_activity_date": 1518437599, "creation_date": 1518433497, "last_edit_date": 1518435644, "question_id": 48744959, "link": "https://stackoverflow.com/questions/48744959/creating-a-data-model-from-json", "title": "Creating a data model from JSON", "body": "<p>I have a JSON that looks like this : </p>\n\n<pre><code>{\n\"club\": [\n    {\n        \"titles\": \"1\",\n        \"league\": \"epl\",\n        \"country\": \"england\",\n\n    }\n}\n</code></pre>\n\n<p>And I have created a property like this : </p>\n\n<pre><code>@property (strong, nonatomic) NSMutableArray &lt;Clubs&gt; *club;\n</code></pre>\n\n<p>The club property inherits from the Clubs class which has the titles, leagues and country properties. </p>\n\n<p>When I try to create a dictionary with that data model, I am unable to access the properties inside the club array. </p>\n\n<p>Am I creating the data model incorrectly ? </p>\n\n<p><strong>Creating the dictionary</strong>: </p>\n\n<pre><code>        for (NSDictionary *dictionary in responseObject) {\n\n                if (![self.searchText isEqualToString:@\"\"]) {\n                    self.predictiveProductsSearch = [[PerdictiveSearch alloc]initWithDictionary:dictionary error:nil];\n                    self.predictiveTableView.dataSource = self;\n                    [self.predictiveTableView reloadData];\n                    self.predictiveTableView.hidden = NO;\n\n            }\n\n        }\n</code></pre>\n\n<p><strong>Clubs class</strong></p>\n\n<pre><code> #import &lt;JSONModel/JSONModel.h&gt;\n\n\n @protocol Clubs @end\n @interface Clubs : JSONModel\n\n @property (strong, nonatomic) NSString &lt;Optional&gt; * titles;\n @property (strong, nonatomic) NSString &lt;Optional&gt; * league;\n @property (strong, nonatomic) NSString &lt;Optional&gt; * country;\n @property (strong, nonatomic) NSString &lt;Optional&gt; * topGS;\n @property (strong, nonatomic) NSString &lt;Optional&gt; * GoalSc;\n @property (strong, nonatomic) NSString &lt;Optional&gt; * TransferBudget;\n\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "statusbar", "uiapplication"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426020, "post_id": 48741942, "comment_id": 84484969, "body": "How can I get original status bar height without in-call addition - is not clear , plz elobrate"}, {"owner": {"reputation": 13077, "user_id": 865475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/1ccb0ac62b02ab00a764610451baf342?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/865475/dmitry"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426525, "post_id": 48741942, "comment_id": 84485251, "body": "For example, on iPhone 8 status bar height is 20. But if you receive call, then it becomes 40."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426609, "post_id": 48741942, "comment_id": 84485294, "body": "ya correct , but what concept you tried and what the OP you expect"}, {"owner": {"reputation": 13077, "user_id": 865475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/1ccb0ac62b02ab00a764610451baf342?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/865475/dmitry"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426742, "post_id": 48741942, "comment_id": 84485360, "body": "I just want to get 20 - not 40."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426762, "post_id": 48741942, "comment_id": 84485367, "body": "see this it will help you <a href=\"https://stackoverflow.com/questions/1114557/resize-for-in-call-status-bar\" title=\"resize for in call status bar\">stackoverflow.com/questions/1114557/&hellip;</a>"}, {"owner": {"reputation": 13077, "user_id": 865475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/1ccb0ac62b02ab00a764610451baf342?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/865475/dmitry"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426812, "post_id": 48741942, "comment_id": 84485400, "body": "There is no answer there. If user launches the application with in-call status bar, then you can&#39;t track its original size!"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518426925, "post_id": 48741942, "comment_id": 84485472, "body": "are you tried <code>name:UIApplicationWillChangeStatusBarFrameNotification</code> it will throw the notification changes"}, {"owner": {"reputation": 13077, "user_id": 865475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/1ccb0ac62b02ab00a764610451baf342?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/865475/dmitry"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518427162, "post_id": 48741942, "comment_id": 84485615, "body": "I can track any changes if user launched the application with normal status bar and then changed it to in-call status bar. But if the application was launched with in-call status bar initially, then I don&#39;t receive any notifications about changing of status bar frame. And it&#39;s actually not changing in this case."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1518427209, "post_id": 48741942, "comment_id": 84485638, "body": "got it your point"}], "owner": {"reputation": 13077, "user_id": 865475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/1ccb0ac62b02ab00a764610451baf342?s=128&d=identicon&r=PG", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/865475/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518427306, "creation_date": 1518423025, "last_edit_date": 1518427306, "question_id": 48741942, "link": "https://stackoverflow.com/questions/48741942/how-can-i-get-the-original-status-bar-height-without-in-call-addition", "title": "How can I get the original status bar height without in-call addition?", "body": "<p>If I read <code>[[UIApplication sharedApplication] statusBarFrame].size.height</code>, then I get height of the frame of the status bar with in-call addition (press Command+Y in the Simulator to see it).</p>\n\n<p>But how can I get the original status bar height without in-call addition?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "reactive-programming", "reactive-cocoa"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6374495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bb72bb631a199d97e163da0ce854f84?s=128&d=identicon&r=PG&f=1", "display_name": "Haixiao", "link": "https://stackoverflow.com/users/6374495/haixiao"}, "edited": false, "score": 0, "creation_date": 1518490987, "post_id": 48744578, "comment_id": 84518471, "body": "Thx a lot. I fix it.I&#39;m your fan.I have write some comments you on github.Please check it."}], "tags": [], "owner": {"reputation": 3233, "user_id": 1066219, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83436bb4b706fe5b48ffce8ec78486ea?s=128&d=identicon&r=PG", "display_name": "MeXx", "link": "https://stackoverflow.com/users/1066219/mexx"}, "is_accepted": false, "score": 0, "last_activity_date": 1518455083, "last_edit_date": 1518455083, "creation_date": 1518432349, "answer_id": 48744578, "question_id": 48741782, "link": "https://stackoverflow.com/questions/48741782/reactive-cocoa-issue-how-to-wait-mutiple-racsignal-completed-then-send-a-next-si/48744578#48744578", "title": "Reactive cocoa issue.How to wait mutiple RACSignal completed then send a next signal", "body": "<ol>\n<li><p>It seems like you're missing the <code>[subscriber sendCompleted]</code> in your third signal, so that one will never complete. It probably belongs outside of the loop right above <code>return nil</code>.</p></li>\n<li><p>You can use <code>[RACSignal concat@[selectMessageSignal, selectInfoSignal, replaceSignal]</code> to perform these three signals after each other. \n<strong>However</strong>, your <code>selectInfoSignal</code> does not work as you might expect because it starts another signal for each value in your <code>contactModelMutableArray</code> but does not wait for these signals completion. </p></li>\n<li><p>Your code sample is actually much more complex than the question suggests. You have a shared dependency between these signals via the <code>contactModelMutableArray</code> Array thats created outside the signals and manipulated by the signals as a side effect, which you should not do because then the \"simple\" Solution of just concatenating the signals together will not work reliably as mentioned in 2. </p></li>\n</ol>\n\n<p>It seems to me that what you're actually doing is:</p>\n\n<ol>\n<li>Select all records (plus some filtering: UID has to be > 0)</li>\n<li>Loading information for each of these records</li>\n<li>Updating all records </li>\n</ol>\n\n<p>I suggest the following structure (just a rough sketch)</p>\n\n<pre><code>-(RACSignal *)replacePubRecentContact {\n  return [[[[self loadRecords] flattenMap:^RACSignal *(NSArray *records) {\n    return [[records rac_sequence] signal];\n  }] flattenMap:^RACSignal *(id  record) {\n    return [self infosForRecord:record];\n  }] flattenMap:^RACSignal * (id record) {\n    return [self updateRecord:record];\n  }];\n}\n\n// This function loads all records\n-(RACSignal *)loadRecords {\n  NSLog(@\"Return all Records\");\n  return [RACSignal return:@[@1, @2, @3]];\n}\n\n// This function load infos for the given record\n-(RACSignal *)infosForRecord:(id)record {\n  NSLog(@\"Load Infos for Record %@\", record);\n  return [RACSignal return:[NSString stringWithFormat: @\"%@ with info\", record]];\n}\n\n// This function updates the given record\n-(RACSignal *)updateRecord:(id)record {\n  NSLog(@\"Update Record: %@\", record);\n  return [RACSignal return:[NSString stringWithFormat: @\"Updated - %@\", record]];\n}\n</code></pre>\n\n<p><code>loadRecords</code> sends one value with an array of all records. To then process these records individually, we <code>flattenMap</code> this and send one value for each element of the array (using <code>rac_sequence</code>).</p>\n\n<p>Then its straight forward processing for each record: get infos for that record and then update that records.</p>\n\n<p>The whole <code>replacePubRecentContact</code> signal will complete as soon as <strong>all</strong> records have been updated.</p>\n\n<p>Edit: I wrote a more detailed explanation <a href=\"https://innovaptor.com/blog/2018/02/12/rac-wait-for-multiple-signals/\" rel=\"nofollow noreferrer\">in my blog</a></p>\n"}], "owner": {"reputation": 1, "user_id": 6374495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bb72bb631a199d97e163da0ce854f84?s=128&d=identicon&r=PG&f=1", "display_name": "Haixiao", "link": "https://stackoverflow.com/users/6374495/haixiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518455083, "creation_date": 1518422191, "question_id": 48741782, "link": "https://stackoverflow.com/questions/48741782/reactive-cocoa-issue-how-to-wait-mutiple-racsignal-completed-then-send-a-next-si", "title": "Reactive cocoa issue.How to wait mutiple RACSignal completed then send a next signal", "body": "<p>I'm new to reactive cocoa.I want a signal contain three signal,  all the three signal completed then sendNext signal.I have tried concat and then operator.And adjust subscriber next or completed location.It always sendNext signal then execute the three signal in it.Sub is my code.Is there any way to fix it?Or use another way.</p>\n\n<pre><code>- (RACSignal *)replacePubRecentContact {\n@weakify(self);\nreturn [RACSignal createSignal:^RACDisposable *(id &lt;RACSubscriber&gt; subscriber) {\n    NSMutableArray &lt;RIMRecentContactModel *&gt; *contactModelMutableArray = [NSMutableArray new];\n    //1 Signal first\n    RACSignal *selectMessageSignal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {\n        [[[RIMPublicPostDatabaseManager sharedInstance] selectLastMessage] subscribeNext:^(NSArray &lt;RIMRecentContactModel *&gt; *pubContactModelArray) {\n            //\u8fd9\u91cc\u7a7f\u56de\u6765\u7684lastmMessage\u662f\u4e00\u4e2apmsgId\n            for (NSUInteger i = 0; i &lt; pubContactModelArray.count; ++i) {\n                if (pubContactModelArray[i].uid &gt; 0) {\n                    [contactModelMutableArray addObject:pubContactModelArray[i]];\n                }\n            }\n            [subscriber sendNext:@\"pub replace select last message bingo\"];\n            [subscriber sendCompleted];\n        }];\n        return nil;\n    }];\n\n\n    //2 Signal second\n    RACSignal *selectInfoSignal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {\n        @strongify(self);\n        for (NSUInteger j = 0; j &lt; contactModelMutableArray.count; ++j) {\n            @strongify(self);\n\n            [[self selectPubInfoWithPid:contactModelMutableArray[j].uid] subscribeNext:^(RIMPubInfoModel *pubInfoModel) {\n                contactModelMutableArray[j].username = pubInfoModel.name;\n                contactModelMutableArray[j].avatar = pubInfoModel.logo;\n            }];\n        }\n        [subscriber sendNext:@\"pub replace select info bingo\"];\n        [subscriber sendCompleted];\n        return nil;\n    }];\n\n    //3 Signal third\n    RACSignal *replaceSignal = [RACSignal createSignal:^RACDisposable *(id&lt;RACSubscriber&gt; subscriber) {\n        [self.contactDatabaseQueue inDatabase:^(FMDatabase *db) {\n            for (NSUInteger k = 0; k &lt; contactModelMutableArray.count; ++k) {\n                RIMRecentContactModel *recentContactModel = contactModelMutableArray[k];\n                //\u516c\u4f17\u53f7type 3\n                recentContactModel.messageType = 3;\n\n                NSString *replaceSql = [NSString stringWithFormat:@\"REPLACE INTO  recentContact (uid, username, avatar, lastMessage, unRead, lastMessageTs, messageType, lastMessageMid, lastMessageSid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\"];\n                //\u8fd9\u91cc\u56e0\u4e3a\u79c1\u804a\u516c\u4f17\u53f7id\u91cd\u590d\u6240\u4ee5\u52a03\n                BOOL result = [db executeUpdate:replaceSql, @(recentContactModel.uid), recentContactModel.username, recentContactModel.avatar, recentContactModel.lastMessage, @(recentContactModel.unRead), @(recentContactModel.lastMessageTs), @(recentContactModel.messageType), @(recentContactModel.lastMessageMid), @(recentContactModel.lastMessageSid)];\n                if (!result) {\n                    NSLog(@\"\u63d2\u5165\u6700\u8fd1\u8054\u7cfb\u4eba\u8868\u5931\u8d25\");\n                } else {\n                    NSLog(@\"\u63d2\u5165\u6700\u8fd1\u8054\u7cfb\u4eba\u8868\u6210\u529f\");\n                }\n            }\n            [subscriber sendNext:@\"replace\u516c\u4f17\u53f7\u6700\u8fd1\u8054\u7cfb\u4eba\u8868\u6210\u529f\"];\n\n        }];\n        return nil;\n    }];\n    [[[selectMessageSignal concat:selectInfoSignal] then:^RACSignal *{\n        return replaceSignal;\n    }] subscribeCompleted:^{\n    }];\n    [subscriber sendNext:@\"replace pub all bingo\"];\n    [subscriber sendCompleted];\n    return nil;\n}];\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["objective-c", "macos", "nstableview", "nstablerowview"], "answers": [{"comments": [{"owner": {"reputation": 1562, "user_id": 5941807, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/SRudQ.png?s=128&g=1", "display_name": "Joannes", "link": "https://stackoverflow.com/users/5941807/joannes"}, "edited": false, "score": 0, "creation_date": 1518425958, "post_id": 48742268, "comment_id": 84484931, "body": "Thank you! A doubt, for a long swipe (to delete like iOS) is this possible? How?"}, {"owner": {"reputation": 33122, "user_id": 100848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9tyHH.png?s=128&g=1", "display_name": "Thomas Zoechling", "link": "https://stackoverflow.com/users/100848/thomas-zoechling"}, "reply_to_user": {"reputation": 1562, "user_id": 5941807, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/SRudQ.png?s=128&g=1", "display_name": "Joannes", "link": "https://stackoverflow.com/users/5941807/joannes"}, "edited": false, "score": 0, "creation_date": 1518427563, "post_id": 48742268, "comment_id": 84485848, "body": "Yes, the action is automatically performed if you long-swipe over a certain threshold."}, {"owner": {"reputation": 1562, "user_id": 5941807, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/SRudQ.png?s=128&g=1", "display_name": "Joannes", "link": "https://stackoverflow.com/users/5941807/joannes"}, "edited": false, "score": 0, "creation_date": 1518430830, "post_id": 48742268, "comment_id": 84488009, "body": "It seems available only for <code>NSTableViewRowActionStyleDestructive</code> and not for <code>NSTableViewRowActionStyleRegular</code> Can you confirm?"}, {"owner": {"reputation": 33122, "user_id": 100848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9tyHH.png?s=128&g=1", "display_name": "Thomas Zoechling", "link": "https://stackoverflow.com/users/100848/thomas-zoechling"}, "reply_to_user": {"reputation": 1562, "user_id": 5941807, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/SRudQ.png?s=128&g=1", "display_name": "Joannes", "link": "https://stackoverflow.com/users/5941807/joannes"}, "edited": false, "score": 1, "creation_date": 1518431465, "post_id": 48742268, "comment_id": 84488464, "body": "No. Also works for non-destructive actions for me. Only difference seems to be that the action labels don&#39;t slide back automatically if style is set to destructive."}], "tags": [], "owner": {"reputation": 33122, "user_id": 100848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9tyHH.png?s=128&g=1", "display_name": "Thomas Zoechling", "link": "https://stackoverflow.com/users/100848/thomas-zoechling"}, "is_accepted": true, "score": 2, "last_activity_date": 1518424436, "creation_date": 1518424436, "answer_id": 48742268, "question_id": 48741607, "link": "https://stackoverflow.com/questions/48741607/how-to-implement-a-swipeable-nstableview-cell/48742268#48742268", "title": "How to implement a swipeable NSTableView cell?", "body": "<p>You just have to implement a <code>NSTableViewDelegate</code> <a href=\"https://developer.apple.com/documentation/appkit/nstableviewdelegate/1532060-tableview\" rel=\"nofollow noreferrer\">method</a> that returns action(s) that encapsulate the style, title and  handler code for your table row action:</p>\n\n<pre><code>- (NSArray&lt;NSTableViewRowAction *&gt; *)tableView:(NSTableView *)tableView rowActionsForRow:(NSInteger)row edge:(NSTableRowActionEdge)edge\n{\n    NSTableViewRowAction *action = [NSTableViewRowAction rowActionWithStyle:NSTableViewRowActionStyleDestructive title:@\"Delete\" handler:^(NSTableViewRowAction * _Nonnull action, NSInteger row) {\n        // TODO: You code to delete from your model here.\n        NSLog(@\"Delete\");\n    }];\n    return @[action];\n}\n</code></pre>\n\n<p>Note that the return value is an array so you can return more than one action per row. If you want to return different actions for each swipe direction, you can do that by checking the <code>edge</code> parameter that gets passed into the delegate method.</p>\n"}], "owner": {"reputation": 1562, "user_id": 5941807, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/SRudQ.png?s=128&g=1", "display_name": "Joannes", "link": "https://stackoverflow.com/users/5941807/joannes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 1, "accepted_answer_id": 48742268, "answer_count": 1, "score": 1, "last_activity_date": 1518424436, "creation_date": 1518421429, "last_edit_date": 1518423534, "question_id": 48741607, "link": "https://stackoverflow.com/questions/48741607/how-to-implement-a-swipeable-nstableview-cell", "title": "How to implement a swipeable NSTableView cell?", "body": "<p>A simple example for NSTableViewRowAction?\nScroll left/right to delete or other action.</p>\n\n<pre><code>- (NSArray&lt;NSTableViewRowAction *&gt; *)tableView:(NSTableView *)tableView rowActionsForRow:(NSInteger)row edge:(NSTableRowActionEdge)edge\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "json", "xcode", "nsarray"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1518420150, "post_id": 48741261, "comment_id": 84482031, "body": "how your response comes ?"}, {"owner": {"reputation": 4457, "user_id": 6059313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mG5mS.jpg?s=128&g=1", "display_name": "Sharad Chauhan", "link": "https://stackoverflow.com/users/6059313/sharad-chauhan"}, "edited": false, "score": 0, "creation_date": 1518421856, "post_id": 48741261, "comment_id": 84482892, "body": "show us the code where you are getting crash. In collectionview method ?"}, {"owner": {"reputation": 48543, "user_id": 1280373, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/zQnR9.jpg?s=128&g=1", "display_name": "Nitin Gohel", "link": "https://stackoverflow.com/users/1280373/nitin-gohel"}, "edited": false, "score": 0, "creation_date": 1518423074, "post_id": 48741261, "comment_id": 84483468, "body": "where are you allocated <i>arrRestaurtentTypeList</i> and are you sure you get data in <i>[response objectForKey:@&quot;Main Category&quot;]</i> as you get what error is it self answer you just need to check why that array are empty. most case that coz of you did not initialize"}, {"owner": {"reputation": 67, "user_id": 6775608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1076269719136452/picture?type=large", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/6775608/anupam-das"}, "edited": false, "score": 0, "creation_date": 1518424176, "post_id": 48741261, "comment_id": 84484012, "body": "i initialised it in viewDidLoad"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 6775608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1076269719136452/picture?type=large", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/6775608/anupam-das"}, "edited": false, "score": 0, "creation_date": 1518420715, "post_id": 48741342, "comment_id": 84482305, "body": "I added break point it goes to the didSelected method of collectionview"}, {"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518420746, "post_id": 48741342, "comment_id": 84482322, "body": "now see edit and let me know if it works &amp; thnx Karthik"}, {"owner": {"reputation": 67, "user_id": 6775608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1076269719136452/picture?type=large", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/6775608/anupam-das"}, "edited": false, "score": 0, "creation_date": 1518423209, "post_id": 48741342, "comment_id": 84483527, "body": "this problem occurs when network connection not get properly"}], "tags": [], "owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "is_accepted": false, "score": 1, "last_activity_date": 1518420719, "last_edit_date": 1518420719, "creation_date": 1518420257, "answer_id": 48741342, "question_id": 48741261, "link": "https://stackoverflow.com/questions/48741261/app-crash-due-to-empty-array/48741342#48741342", "title": "App crash due to empty array", "body": "<pre><code>if ([[response objectForKey:@\"result\"] intValue] == 1) {\n\n    [_arrRestaurtentTypeList removeAllObjects];\n    [_arrRestaurtentTypeList addObjectsFromArray:[response objectForKey:@\"Main Category\"]];\n\n    NSDictionary *dictAll = [_arrRestaurtentTypeList lastObject];\n\n    if (dictAll) {\n        [_arrRestaurtentTypeList removeLastObject];\n        [_arrRestaurtentTypeList insertObject:dictAll atIndex:0];\n    }\n\n    [_collRestaurentTypeList reloadData];\n    [_tblRestaurent reloadData];\n\n}\n</code></pre>\n\n<p>change this line with below code</p>\n\n<pre><code> if ([[response valueForKey:@\"result\"] count] &gt;0){\nfor (NSDictionary *dict in [response valueForKey:@\"result\"]) {\n                        NSMutableDictionary *newDict = [[NSMutableDictionary alloc] init];\n                        [newDict addEntriesFromDictionary:dict];\n                        [_arrRestaurtentTypeList addObject:newDict];\n                    }\n                    dispatch_async(dispatch_get_main_queue(), ^{\n                        [_tblRestaurent reloadData];\n\n                    });\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6775608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1076269719136452/picture?type=large", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/6775608/anupam-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518420719, "creation_date": 1518419917, "question_id": 48741261, "link": "https://stackoverflow.com/questions/48741261/app-crash-due-to-empty-array", "title": "App crash due to empty array", "body": "<pre><code>NSString *strMethod;\nNSString *strType = @\"restaurant\";\nNSDictionary *params = @{@\"type\": strType};\nNSString *strMethod = [NSString stringWithFormat:@\"%@%@\", API_CATEGORY_SHOP, @\"en\"];\nAFHTTPSessionManager *manager = [AFHTTPSessionManager manager];\n manager.responseSerializer = [AFJSONResponseSerializer serializer];\n NSMutableSet *contentTypes = [[NSMutableSet alloc] initWithSet:[NSSet setWithObject:@\"text/json\"]];\n [contentTypes addObject:@\"text/html\"];\n [contentTypes addObject:@\"application/json\"];\n\n manager.responseSerializer.acceptableContentTypes = contentTypes;\n [manager POST:strMethod parameters:params progress:nil success:^(NSURLSessionDataTask *task, id response){\n\n    if ([[response objectForKey:@\"result\"] intValue] == 1) {\n\n        [_arrRestaurtentTypeList removeAllObjects];\n        [_arrRestaurtentTypeList addObjectsFromArray:[response objectForKey:@\"Main Category\"]];\n\n        NSDictionary *dictAll = [_arrRestaurtentTypeList lastObject];\n\n        if (dictAll) {\n            [_arrRestaurtentTypeList removeLastObject];\n            [_arrRestaurtentTypeList insertObject:dictAll atIndex:0];\n        }\n\n        [_collRestaurentTypeList reloadData];\n        [_tblRestaurent reloadData];\n\n    }\n\n} failure:^(NSURLSessionDataTask *task, NSError *error) {\n    ;\n}];\n}\n</code></pre>\n\n<p>Terminating app due to uncaught exception 'NSRangeException', reason: '<strong>* -[__NSArrayM objectAtIndex:]: index 0 beyond bounds for empty array'\n*</strong> First throw call stack:\n(0x182caa364 0x181ef0528 0x182c42e9c 0x182b72820 0x100858628 0x100857624 0x18c279670 0x18c279bdc 0x18c31ee74 0x18c3e58b0 0x18c371910 0x18c4b5c98 0x18c299240 0x18c298bb4 0x18c2988c0 0x18c298960 0x186cfce14 0x1010a528c 0x1010a9ea0 0x182c52544 0x182c50120 0x182b6fe58 0x184a1cf84 0x18c2c467c 0x10085e320 0x18268c56c)\nlibc++abi.dylib: terminating with uncaught exception of type NSException</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "avasset", "avplayeritem"], "comments": [{"owner": {"reputation": 272, "user_id": 6938301, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/72ab73e35190417608d1f33fe1e7ff00?s=128&d=identicon&r=PG&f=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6938301/rameez"}, "edited": false, "score": 0, "creation_date": 1531909889, "post_id": 48740675, "comment_id": 89770204, "body": "Did you find the solution for this?"}, {"owner": {"reputation": 27, "user_id": 4685054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba006580f88d65803cf4be508531252?s=128&d=identicon&r=PG&f=1", "display_name": "Naresh Gadamsetty", "link": "https://stackoverflow.com/users/4685054/naresh-gadamsetty"}, "reply_to_user": {"reputation": 272, "user_id": 6938301, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/72ab73e35190417608d1f33fe1e7ff00?s=128&d=identicon&r=PG&f=1", "display_name": "Rameez", "link": "https://stackoverflow.com/users/6938301/rameez"}, "edited": false, "score": 0, "creation_date": 1531974316, "post_id": 48740675, "comment_id": 89799940, "body": "No i did not get."}], "owner": {"reputation": 27, "user_id": 4685054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba006580f88d65803cf4be508531252?s=128&d=identicon&r=PG&f=1", "display_name": "Naresh Gadamsetty", "link": "https://stackoverflow.com/users/4685054/naresh-gadamsetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518416887, "creation_date": 1518416887, "question_id": 48740675, "link": "https://stackoverflow.com/questions/48740675/inject-timely-metadata-for-avplayeritem-ios", "title": "Inject timely metadata for avplayeritem ios", "body": "<p>Hi i have a requirement in my project. I am playing live streaming content in avplayer but here along with stream i am not getting metadata. That meta data i am getting from another api. How can i inject timely metadata in avplayeritem. I had go through the apple developer site and came to know that id3taggenerator and mediafilesegmenter for achive this in terminal.But after release app to appstore we cannot generate id3tags in app right ? So i want to know is there any way to do this in ios project programatically.Please help me here i stuck.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 4457, "user_id": 6059313, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mG5mS.jpg?s=128&g=1", "display_name": "Sharad Chauhan", "link": "https://stackoverflow.com/users/6059313/sharad-chauhan"}, "edited": false, "score": 0, "creation_date": 1518416926, "post_id": 48740651, "comment_id": 84480763, "body": "how are you adding action to button in yout tableView ? Show more code."}, {"owner": {"reputation": 6391, "user_id": 1091539, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/bQATY.jpg?s=128&g=1", "display_name": "Mutawe", "link": "https://stackoverflow.com/users/1091539/mutawe"}, "edited": false, "score": 0, "creation_date": 1518417011, "post_id": 48740651, "comment_id": 84480795, "body": "Your question is unclear"}, {"owner": {"reputation": 558, "user_id": 3801594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JxgL8.jpg?s=128&g=1", "display_name": "Krunal Darji", "link": "https://stackoverflow.com/users/3801594/krunal-darji"}, "edited": false, "score": 0, "creation_date": 1518417388, "post_id": 48740651, "comment_id": 84480912, "body": "action is in your UITableViewCell class?"}, {"owner": {"reputation": 67, "user_id": 6775608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1076269719136452/picture?type=large", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/6775608/anupam-das"}, "edited": false, "score": 0, "creation_date": 1518417462, "post_id": 48740651, "comment_id": 84480930, "body": "my .h file is  - (IBAction)Cart:(id)sender;"}, {"owner": {"reputation": 879, "user_id": 3251516, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1e6ebafd35f8140b2d7d2daafadbcff4?s=128&d=identicon&r=PG&f=1", "display_name": "Priyal", "link": "https://stackoverflow.com/users/3251516/priyal"}, "edited": false, "score": 0, "creation_date": 1518418040, "post_id": 48740651, "comment_id": 84481135, "body": "your updateCartItem should update a property. Then you should reload the tableView/ a specific row depending on the need, and that property will help tableview determine if cart method should be called or not.  Ideally, you should not call IBActions, IBActions can contain methods which can be called."}, {"owner": {"reputation": 2201, "user_id": 4491482, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-0A0YJoeg7XA/AAAAAAAAAAI/AAAAAAAAAAk/hJDMXdRqA7E/photo.jpg?sz=128", "display_name": "Yagnesh Dobariya", "link": "https://stackoverflow.com/users/4491482/yagnesh-dobariya"}, "edited": false, "score": 0, "creation_date": 1518418323, "post_id": 48740651, "comment_id": 84481224, "body": "This may help you. <a href=\"https://stackoverflow.com/questions/31048504/how-to-get-click-event-uibutton-on-tableview-cell/31049009#31049009\" title=\"how to get click event uibutton on tableview cell\">stackoverflow.com/questions/31048504/&hellip;</a>"}, {"owner": {"reputation": 408, "user_id": 9137841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7PUd0.png?s=128&g=1", "display_name": "JatinRB", "link": "https://stackoverflow.com/users/9137841/jatinrb"}, "edited": false, "score": 0, "creation_date": 1518419731, "post_id": 48740651, "comment_id": 84481803, "body": "just put this in IBaction [self updateCartItem];"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 2, "creation_date": 1518420239, "post_id": 48740651, "comment_id": 84482069, "body": "You can do this using a delegate or you can use a codeBlock as well,"}, {"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 1, "creation_date": 1518420621, "post_id": 48740651, "comment_id": 84482253, "body": "What you&#39;re trying to accomplish isn&#39;t a relation of <b>Parent-Child</b>. It&#39;s something like you might want to be notified when something happens within the context of an object of your controller class. You should be looking upon <i>delegation</i> or <i>function pointer</i>."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518428018, "post_id": 48740651, "comment_id": 84486157, "body": "@AnupamDas did my answer help you?"}], "answers": [{"tags": [], "owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "is_accepted": true, "score": 4, "last_activity_date": 1518423605, "last_edit_date": 1518423605, "creation_date": 1518420718, "answer_id": 48741439, "question_id": 48740651, "link": "https://stackoverflow.com/questions/48740651/how-to-call-a-method-from-parent-class-to-its-child-class/48741439#48741439", "title": "How to call a method from parent class to it&#39;s child class?", "body": "<p>You can use a <code>Delegate</code> or a code block to do this, I will post both ways with examples for your clarification</p>\n\n<hr>\n\n<h1>Delegate Approach</h1>\n\n<p><strong><em>1 - Declare your cell Delegate</em></strong></p>\n\n<p>Our example cell will be called CustomTableViewCell</p>\n\n<pre><code>@protocol CustomCellDelegate\n-(void)executeAction;\n@end\n</code></pre>\n\n<p>and add your delegate to your cell declaration, must be weak to avoid retain cycles</p>\n\n<pre><code>@property (weak) id&lt;CustomCellDelegate&gt; cellDelegate;\n</code></pre>\n\n<p><strong><em>2 - Execute your delegate action in your Cell Action</em></strong></p>\n\n<pre><code>- (IBAction)Cart:(id)sender {\n    [[self cellDelegate] executeAction];\n}\n</code></pre>\n\n<p><strong><em>3 - Make your UIViewController implement CustomCellDelegate of your CustomCell</em></strong></p>\n\n<pre><code>@interface ViewController () &lt;UITableViewDataSource,UITableViewDelegate,CustomCellDelegate&gt;\n\n-(void)executeAction\n {\n    [self updateCartItem];\n }\n</code></pre>\n\n<p><strong><em>4 - Make your <code>UIViewController</code> as <code>Delegate</code> of your CustomCell adjusting your <code>cellForRowAtIndexPath</code> method</em></strong></p>\n\n<pre><code>-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *simpleTableIdentifier = @\"CustomCell\";\n    CustomTableViewCell *cell = (CustomTableViewCell*)[tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier forIndexPath:indexPath];\n    cell.cellDelegate = self;\n    return cell;\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Full Code</strong></p>\n</blockquote>\n\n<p><strong><em>CustomTableViewCell.h</em></strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@protocol CustomCellDelegate\n-(void)executeAction;\n@end\n\n@interface CustomTableViewCell : UITableViewCell\n\n@property (weak) id&lt;CustomCellDelegate&gt; cellDelegate;\n\n@end\n</code></pre>\n\n<p><strong><em>CustomTableViewCell.m</em></strong></p>\n\n<pre><code>#import \"CustomTableViewCell.h\"\n\n@implementation CustomTableViewCell\n\n- (IBAction)Cart:(id)sender {\n    [[self cellDelegate] executeAction];\n}\n\n@end\n</code></pre>\n\n<p><strong><em>ViewController.m</em></strong></p>\n\n<pre><code>#import \"ViewController.h\"\n#import \"CustomTableViewCell.h\"\n\n@interface ViewController () &lt;UITableViewDataSource,UITableViewDelegate,CustomCellDelegate&gt;\n\n@property (weak, nonatomic) IBOutlet UITableView *tableView;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n    [_tableView setDelegate:self];\n    [_tableView setDataSource:self];\n\n}\n\n-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    return 10;\n}\n\n-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *simpleTableIdentifier = @\"CustomCell\";\n    CustomTableViewCell *cell = (CustomTableViewCell*)[tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier forIndexPath:indexPath];\n    cell.cellDelegate = self;\n    return cell;\n}\n\n-(void)updateCartItem {\n   //Whatever you need to do here\n }\n\n-(void)executeAction\n {\n    [self updateCartItem];\n }\n\n@end\n</code></pre>\n\n<hr>\n\n<h1>Code Block Approach</h1>\n\n<p><strong><em>1 - Declare your actionBlock in your Customcell</em></strong></p>\n\n<p>Our example cell will be called CustomCell</p>\n\n<pre><code> @property void(^actionBlock)(void);\n</code></pre>\n\n<p><strong><em>2 - Execute your action block in your Cell Action</em></strong></p>\n\n<pre><code>- (IBAction)Cart:(id)sender {\n    [self actionBlock];\n}\n</code></pre>\n\n<p><strong><em>3 - Setup your cell block action adjusting your cellForRowAtIndexPath method</em></strong></p>\n\n<pre><code>-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *simpleTableIdentifier = @\"CustomCell\";\n    CustomTableViewCell *cell = (CustomTableViewCell*)[tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier forIndexPath:indexPath];\n    __weak ViewController *weakSelf = self;\n    cell.actionBlock = ^{\n        [weakSelf updateCartItem];\n    };\n    return cell;\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Full Code</strong></p>\n</blockquote>\n\n<p><strong><em>CustomTableViewCell.h</em></strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface CustomTableViewCell : UITableViewCell\n\n@property void(^actionBlock)(void);\n\n@end\n</code></pre>\n\n<p><strong><em>CustomTableViewCell.m</em></strong></p>\n\n<pre><code>#import \"CustomTableViewCell.h\"\n\n@implementation CustomTableViewCell\n\n- (IBAction)Cart:(id)sender {\n    [self actionBlock];\n}\n\n@end\n</code></pre>\n\n<p><strong><em>ViewController.m</em></strong></p>\n\n<pre><code>#import \"ViewController.h\"\n#import \"CustomTableViewCell.h\"\n\n@interface ViewController () &lt;UITableViewDataSource,UITableViewDelegate&gt;\n\n@property (weak, nonatomic) IBOutlet UITableView *tableView;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n    [_tableView setDelegate:self];\n    [_tableView setDataSource:self];\n}\n\n-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    return 10;\n}\n\n-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *simpleTableIdentifier = @\"CustomCell\";\n    CustomTableViewCell *cell = (CustomTableViewCell*)[tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier forIndexPath:indexPath];\n    __weak ViewController *weakSelf = self;\n    cell.actionBlock = ^{\n        [weakSelf updateCartItem];\n    };\n    return cell;\n}\n\n\n-(void)updateCartItem {\n    //Whatever you need to do here\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 6775608, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1076269719136452/picture?type=large", "display_name": "Anupam Das", "link": "https://stackoverflow.com/users/6775608/anupam-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "accepted_answer_id": 48741439, "answer_count": 1, "score": 1, "last_activity_date": 1518430027, "creation_date": 1518416790, "last_edit_date": 1518430027, "question_id": 48740651, "link": "https://stackoverflow.com/questions/48740651/how-to-call-a-method-from-parent-class-to-its-child-class", "title": "How to call a method from parent class to it&#39;s child class?", "body": "<p>In my main viewcontroller there is a method like as below:</p>\n\n<pre><code>-(void)updateCartItem {\n\n}\n</code></pre>\n\n<p>I want to call it into uitableviewcell class under a button action method:</p>\n\n<pre><code>- (IBAction)Cart:(id)sender {\n  [self updateCartItem];//like this you can call parent method which contain your VC.m file\n}\n</code></pre>\n\n<p>please help me thanks in advance...</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uitableview", "uibutton"], "comments": [{"owner": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 2, "creation_date": 1518413626, "post_id": 48740050, "comment_id": 84479690, "body": "Show your cellForRow method code"}], "answers": [{"tags": [], "owner": {"reputation": 2815, "user_id": 2753399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5uvs8.jpg?s=128&g=1", "display_name": "rushisangani", "link": "https://stackoverflow.com/users/2753399/rushisangani"}, "is_accepted": false, "score": 0, "last_activity_date": 1518419703, "last_edit_date": 1518419703, "creation_date": 1518413878, "answer_id": 48740127, "question_id": 48740050, "link": "https://stackoverflow.com/questions/48740050/change-button-image-dependant-on-boolean/48740127#48740127", "title": "Change button image dependant on boolean", "body": "<p>You can set different image for button's <strong>default</strong> and <strong>selected</strong> states.\nYou can achieve this from storyboard as well as programmatically.</p>\n\n<p>Now based on your boolean value change button's state to default or selected - your image will change automatically.</p>\n\n<pre><code>myButton.selected = true/false\n\nmyButton.setImage(UIImage(named : \"unselectedImage\"), for: UIControlState.normal)\nmyButton.setImage(UIImage(named : \"selectedImage\"), for: UIControlState.selected)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6256655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6adbb96986cceb12cbb460c7fdb885?s=128&d=identicon&r=PG&f=1", "display_name": "tempest_fiend", "link": "https://stackoverflow.com/users/6256655/tempest-fiend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518419703, "creation_date": 1518413483, "last_edit_date": 1518413815, "question_id": 48740050, "link": "https://stackoverflow.com/questions/48740050/change-button-image-dependant-on-boolean", "title": "Change button image dependant on boolean", "body": "<p>I have a button that is on my prototype cell in TableView, and what I'm trying to do is change the image of the button depending on a property of that cell being True or False. So, when the cell is being loaded, if this.value = True, set image as X, else set image as Y.</p>\n\n<p>However, everytime the cell initially loads, its just showing the button as the default image from the IB. How can I get it to load with the right image?</p>\n\n<pre><code>bool paid = [cellArray[indexPath.row] paid];\nif (paid == TRUE) {\n    [row.btnPaidUnpaid setImage:[UIImage imageNamed:kCommonRadioActiveImage] forState:UIControlStateNormal];\n} else if (paid == FALSE) {\n    [row.btnPaidUnpaid setImage:[UIImage imageNamed:kCommonRadioInActiveImage] forState:UIControlStateNormal];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "nsbundle"], "comments": [{"owner": {"reputation": 3111, "user_id": 1647074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nw7Hf.jpg?s=128&g=1", "display_name": "jignesh Vadadoriya", "link": "https://stackoverflow.com/users/1647074/jignesh-vadadoriya"}, "edited": false, "score": 0, "creation_date": 1518411364, "post_id": 48739638, "comment_id": 84479126, "body": "i think you path is device memory location, if you want to check models then you need to run in simulator and then check you path and open in you machine"}, {"owner": {"reputation": 11, "user_id": 9287921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738e8358f362536627aec2d7e82952c3?s=128&d=identicon&r=PG&f=1", "display_name": "ananai", "link": "https://stackoverflow.com/users/9287921/ananai"}, "reply_to_user": {"reputation": 3111, "user_id": 1647074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nw7Hf.jpg?s=128&g=1", "display_name": "jignesh Vadadoriya", "link": "https://stackoverflow.com/users/1647074/jignesh-vadadoriya"}, "edited": false, "score": 0, "creation_date": 1518411540, "post_id": 48739638, "comment_id": 84479161, "body": "I thought about that but anyway if I run the app for the first time then it means app saves all those files in phone memory. I want to know how it does that. There is no piece of code that shows app is storing any files."}], "owner": {"reputation": 11, "user_id": 9287921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738e8358f362536627aec2d7e82952c3?s=128&d=identicon&r=PG&f=1", "display_name": "ananai", "link": "https://stackoverflow.com/users/9287921/ananai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1922, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518410383, "creation_date": 1518410383, "question_id": 48739638, "link": "https://stackoverflow.com/questions/48739638/how-to-access-files-at-path-var-containers-bundle-application-abcdcs54-daca-dad", "title": "How to access files at path /var/containers/Bundle/Application/ABCDCS54-DACA-DAD/MyApp.app/AppData/models XCode", "body": "<p>I am working on existing project trying to add new features to an iOS app. I have models inside my app but I do not know where those models are stored inside XCode. Console log shows that files are stored at path </p>\n\n<blockquote>\n  <p>/var/containers/Bundle/Application/ABCDCS54-DACA-DAD/MyApp.app/AppData/models</p>\n</blockquote>\n\n<pre><code>- (NSString*)applicationDataDirectory\n{\n    return [[[NSBundle mainBundle] bundlePath] stringByAppendingPathComponent:@\"AppData\"];\n}\n</code></pre>\n\n<p>I checked every folder and almost every file to find any clue where are those models. No success. I spent several days trying to figure out. Any suggestions?</p>\n"}, {"tags": ["ios", "objective-c", "3dtouch"], "comments": [{"owner": {"reputation": 9145, "user_id": 52834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/52834/craig"}, "edited": false, "score": 0, "creation_date": 1518473060, "post_id": 48735868, "comment_id": 84513593, "body": "Your question doesn&#39;t make sense. First off you say you want to create &quot;a context menu&quot; but then you say &quot;I want to use the actions in the view UIViewController I create straight away. In effect I want to pop straight away without peeking.&quot;  Effectively you&#39;re saying you want to transition directly to the new <code>UIViewController</code> without the <i>Peek menu</i>.  Can you clarify this\u2026 because it&#39;s sounding like you just want a custom transition triggered by a 3D Touch\u2026"}, {"owner": {"reputation": 321, "user_id": 1265051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/470d0a6b6ed236314e8f8eda03e8a7c0?s=128&d=identicon&r=PG", "display_name": "John Webb", "link": "https://stackoverflow.com/users/1265051/john-webb"}, "reply_to_user": {"reputation": 9145, "user_id": 52834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/52834/craig"}, "edited": false, "score": 0, "creation_date": 1518473917, "post_id": 48735868, "comment_id": 84514025, "body": "Context menu is the wrong wording. I have a UIViewController that I will navigate to once I get true for the ended parameter in       -(void)previewInteraction:(UIPreviewInteraction *)previewInteraction didUpdatePreviewTransition:(CGFloat)transitionProgress ended:(BOOL)ended      However I want the effect of blurring everything but the selected cell that you would usually get when implementing      -(UIViewController *)previewingContext:(id)previewingContext viewControllerForLocation:(CGPoint)location;"}, {"owner": {"reputation": 9145, "user_id": 52834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/52834/craig"}, "edited": false, "score": 0, "creation_date": 1518474083, "post_id": 48735868, "comment_id": 84514086, "body": "edit your question to include this additional detail - other SO users may miss it in the comments"}, {"owner": {"reputation": 9145, "user_id": 52834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/52834/craig"}, "edited": false, "score": 0, "creation_date": 1518474817, "post_id": 48735868, "comment_id": 84514416, "body": "Just a thought ~ in normal peek and pop, e.g. Safari links, there are two levels of force to transition from the peek view to the final view presented in the pop. What you&#39;re planning to do could be confusing for users and may be conflict with the <a href=\"https://developer.apple.com/ios/human-interface-guidelines/user-interaction/3d-touch/\" rel=\"nofollow noreferrer\">HIG</a>. As you&#39;ve surmised I think you will need to create a custom transition and probably use the <code>UITouch</code> framework to create you own <i>peek</i> that actually works like a <b>pop</b>."}, {"owner": {"reputation": 321, "user_id": 1265051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/470d0a6b6ed236314e8f8eda03e8a7c0?s=128&d=identicon&r=PG", "display_name": "John Webb", "link": "https://stackoverflow.com/users/1265051/john-webb"}, "reply_to_user": {"reputation": 9145, "user_id": 52834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/52834/craig"}, "edited": false, "score": 0, "creation_date": 1518522239, "post_id": 48735868, "comment_id": 84532231, "body": "It does seem to conflict with the guidelines but would it be confusing for users though if they have seen it on apple&#39;s own apps before, Contacts and music."}, {"owner": {"reputation": 9145, "user_id": 52834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b42c30434bf9397935b019dc4085c01?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/52834/craig"}, "edited": false, "score": 0, "creation_date": 1518524589, "post_id": 48735868, "comment_id": 84533671, "body": "Those are just peeks with custom views\u2026 from <a href=\"https://developer.apple.com/library/content/documentation/UserExperience/Conceptual/Adopting3DTouchOniPhone/3DTouchAPIs.html#//apple_ref/doc/uid/TP40016543-CH4-SW1\" rel=\"nofollow noreferrer\">the docs</a> <i>&quot;You can optionally configure a preview view controller to include a set of peek quick actions, or deep links into your app. A user can obtain peek quick actions by swiping a peek upward.&quot;</i>"}], "owner": {"reputation": 321, "user_id": 1265051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/470d0a6b6ed236314e8f8eda03e8a7c0?s=128&d=identicon&r=PG", "display_name": "John Webb", "link": "https://stackoverflow.com/users/1265051/john-webb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518474490, "creation_date": 1518379430, "last_edit_date": 1518474490, "question_id": 48735868, "link": "https://stackoverflow.com/questions/48735868/3d-touch-implement-pop-without-peek", "title": "3D touch implement pop without peek", "body": "<p>I want to use 3D touch to navigate to a menu like in the contacts app or apple music. I have created a custom view controller for this however I don't want to use</p>\n\n<pre><code>-(UIViewController *)previewingContext:(id)previewingContext viewControllerForLocation:(CGPoint)location;\n</code></pre>\n\n<p>because the buttons won't be available to click until I pop into the ViewController.</p>\n\n<p>I guess the alternative is to use</p>\n\n<pre><code>-(void)previewInteraction:(UIPreviewInteraction *)previewInteraction didUpdatePreviewTransition:(CGFloat)transitionProgress ended:(BOOL)ended\n</code></pre>\n\n<p>and navigate to the ViewController when I get the ended parameter is true.\nHowever I am unsure how to create the blurring and scaling effects manually. </p>\n"}, {"tags": ["ios", "objective-c", "google-places-api", "gmsplacepicker", "gmsplace"], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 399641, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKq1v.jpg?s=128&g=1", "display_name": "Hersh Bhargava", "link": "https://stackoverflow.com/users/399641/hersh-bhargava"}, "edited": false, "score": 0, "creation_date": 1518391336, "post_id": 48737426, "comment_id": 84474663, "body": "This worked perfectly. You saved me a lot of time, thanks!"}, {"owner": {"reputation": 260, "user_id": 4792363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WfzC9.jpg?s=128&g=1", "display_name": "Cristiano Tenuta", "link": "https://stackoverflow.com/users/4792363/cristiano-tenuta"}, "reply_to_user": {"reputation": 593, "user_id": 399641, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKq1v.jpg?s=128&g=1", "display_name": "Hersh Bhargava", "link": "https://stackoverflow.com/users/399641/hersh-bhargava"}, "edited": false, "score": 0, "creation_date": 1518434685, "post_id": 48737426, "comment_id": 84490402, "body": "I&#39;m glad I helped."}], "tags": [], "owner": {"reputation": 260, "user_id": 4792363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WfzC9.jpg?s=128&g=1", "display_name": "Cristiano Tenuta", "link": "https://stackoverflow.com/users/4792363/cristiano-tenuta"}, "is_accepted": true, "score": 1, "last_activity_date": 1518390272, "creation_date": 1518390272, "answer_id": 48737426, "question_id": 48734919, "link": "https://stackoverflow.com/questions/48734919/ui-offset-within-gmsplacepickerviewcontroller/48737426#48737426", "title": "UI Offset within GMSPlacePickerViewController", "body": "<p>Make sure the Translucent option is checked on your navigation bar inside navigation controller.</p>\n\n<p>I had the same problem and realize that the Translucent is not checked.</p>\n\n<p>Checking Translucent solved my problem.</p>\n\n<p>I'm pretty sure this can help.</p>\n"}], "owner": {"reputation": 593, "user_id": 399641, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKq1v.jpg?s=128&g=1", "display_name": "Hersh Bhargava", "link": "https://stackoverflow.com/users/399641/hersh-bhargava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 48737426, "answer_count": 1, "score": 1, "last_activity_date": 1518390272, "creation_date": 1518373645, "question_id": 48734919, "link": "https://stackoverflow.com/questions/48734919/ui-offset-within-gmsplacepickerviewcontroller", "title": "UI Offset within GMSPlacePickerViewController", "body": "<p>I have implemented a <code>GMSPlacesClient</code> and <code>GMSPlacePickerViewController</code>, and the setup functions fine. However, there appears to be a vertical offset within the UI that creates an aesthetic issue: in search, the first item in the table is cut off, and after returning to the map, there is a black space at the top of the view.</p>\n\n<p>I am pushing the view using <code>[self.navigationController pushViewController:animated:];</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/16nCXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/16nCXl.png\" alt=\"Cutoff item\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ftRvll.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ftRvll.png\" alt=\"Unwanted gap\"></a></p>\n"}, {"tags": ["ios", "objective-c", "reactjs", "react-native", "native"], "owner": {"reputation": 459, "user_id": 2976601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wnCf8.png?s=128&g=1", "display_name": "Alex Gurr", "link": "https://stackoverflow.com/users/2976601/alex-gurr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1518431361, "creation_date": 1518371404, "last_edit_date": 1518431361, "question_id": 48734533, "link": "https://stackoverflow.com/questions/48734533/a-react-native-app-as-an-action-extension-ios", "title": "A React-native app as an action extension (IOS)", "body": "<p>So I've followed this tutorial: <a href=\"https://www.promptworks.com/blog/building-ios-app-extensions-with-react-native\" rel=\"nofollow noreferrer\">https://www.promptworks.com/blog/building-ios-app-extensions-with-react-native</a>.</p>\n\n<p>All OK and working. I get my React Native view to show when I click the app in the action extension list in Safari. However, now I'm trying to actually pass the input props down to my view from my Obj C code. I would expect a URL to be passed through.</p>\n\n<p>I've got the following ObjC code which handles the extension:</p>\n\n<pre><code> (void)loadView {\n  NSURL *jsCodeLocation;\n\n  jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@\"index.ios\" fallbackResource:nil];\n\n  NSExtensionItem *item = self.extensionContext.inputItems;\n\n  NSDictionary *initialProps =  @{ @\"isActionExtension\" : @(YES), @\"args\" : item };\n\n  RCTRootView *rootView = [[RCTRootView alloc] initWithBundleURL:jsCodeLocation\n                                                      moduleName:@\"mobileapp\"\n                                               initialProperties:initialProps\n                                                   launchOptions:nil];\n  rootView.backgroundColor = [[UIColor alloc] initWithRed:1.0f green:1.0f blue:1.0f alpha:1];\n  self.view = rootView;\n  actionViewController = self;\n}\n</code></pre>\n\n<p>No matter what I set as item (inputItems, inputItems.firstObject) - I've used many action extension posts for reference, it's always passed as NULL to my react native view.</p>\n\n<p>My opening view is simply: </p>\n\n<pre><code>export default class App extends Component {\n  render() {\n    const { isActionExtension, args } = this.props;\n\n    if (isActionExtension) {\n      return &lt;Text style={{ marginTop: 50 }}&gt;{JSON.stringify(args)}&lt;/Text&gt;;\n    }\n\n    return (\n      &lt;MenuProvider&gt;\n        &lt;Root /&gt;\n      &lt;/MenuProvider&gt;\n    );\n  }\n}\n\nApp.propTypes = {\n  isActionExtension: PropTypes.bool,\n  args: PropTypes.any\n};\n\nApp.defaultProps = {\n  isActionExtension: false\n};\n</code></pre>\n\n<p>Note: my isActionExtension prop is passed through correctly. Any ideas?</p>\n\n<p>Alex</p>\n"}, {"tags": ["objective-c", "cocoa", "nstableview"], "comments": [{"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "edited": false, "score": 0, "creation_date": 1518386649, "post_id": 48734473, "comment_id": 84473423, "body": "why  do you do this with a table View oO"}, {"owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "edited": false, "score": 0, "creation_date": 1518387461, "post_id": 48734473, "comment_id": 84473655, "body": "look at Apple&#39;s code sample for SourceView."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1518445715, "post_id": 48734473, "comment_id": 84497392, "body": "Take a look at <code>NSOutlineView</code>."}, {"owner": {"reputation": 1200, "user_id": 942165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIKr3.jpg?s=128&g=1", "display_name": "Alfonso Tesauro", "link": "https://stackoverflow.com/users/942165/alfonso-tesauro"}, "edited": false, "score": 0, "creation_date": 1518454938, "post_id": 48734473, "comment_id": 84503952, "body": "Thanks I succeeded with a NSOutlineView, using code from this question: <a href=\"https://stackoverflow.com/questions/4251790/nsoutlineview-remove-disclosure-triangle-and-indent\" title=\"nsoutlineview remove disclosure triangle and indent\">stackoverflow.com/questions/4251790/&hellip;</a>"}], "owner": {"reputation": 1200, "user_id": 942165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIKr3.jpg?s=128&g=1", "display_name": "Alfonso Tesauro", "link": "https://stackoverflow.com/users/942165/alfonso-tesauro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518371004, "creation_date": 1518371004, "question_id": 48734473, "link": "https://stackoverflow.com/questions/48734473/how-can-i-set-a-nstableview-with-each-row-starting-after-a-certain-amount-from-t", "title": "How can I set a NSTableView with each row starting after a certain amount from the left, like a staircase?", "body": "<p>I have a NSTableView that I would like to show with rows as a staircase. I have succeeded, like you can see in this picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IlFh5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IlFh5.png\" alt=\"NSTableView with custom rows\"></a></p>\n\n<p>I used this code to reach the result, in my table view delegate:</p>\n\n<pre><code>- (void)tableView:(NSTableView *)tableView didAddRowView:(NSTableRowView *)rowView forRow:(NSInteger)row\n{\n\n    NSPoint myOrigin = rowView.frame.origin;\n\n   [rowView setFrameOrigin:NSMakePoint(myOrigin.x + 16,\n                                    myOrigin.y)];\n\n    NSArray *mySubViews = [rowView subviews];\n\n    if (mySubViews != NULL)\n        if ([mySubViews count] != 0)\n        {\n            NSTableCellView *myView = [mySubViews objectAtIndex:0];\n\n            myOrigin = myView.frame.origin;\n\n            [myView setFrameOrigin:NSMakePoint(myOrigin.x + (12 * row),\n                                                        myOrigin.y)];\n        }\n\n\n}\n</code></pre>\n\n<p>The problem is, when I resize the NSSplitView that contains the two tables, if I shrink the view with the staircase table, it resets to default:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2l5j0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2l5j0.png\" alt=\"Problem\"></a></p>\n\n<p>Does anybody have another method to achieve a similar result or a solution to the resizing problem using my method ?</p>\n\n<p>Thanks a lot</p>\n"}, {"tags": ["ios", "objective-c", "uiimage", "core-graphics", "cgcontextref"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518371429, "post_id": 48734422, "comment_id": 84468212, "body": "&quot;I want to mask an image by another image using CGLayerRef&quot; But what if CGLayerRef is not a way to do masking?"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518372506, "post_id": 48734422, "comment_id": 84468577, "body": "The reason I have to use this way is that I have tried literally every single possible way out there to do &quot;High quality&quot; masking in off-screen, Yes I used to do imageView.layer.mask = maskImageView.layer but that&#39;s low-quality on-screen masking. My current code above works but the problem I had was the strange positioning that CGContextDrawImage and  CGContextClipToMask show. Even though I understand Core Graphics uses LLO, Still the position of the mask doesn&#39;t make sense. So I decided to use CGLayer since documentation says it&#39;s the way for high quality off-screen rendering. @matt"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518372715, "post_id": 48734422, "comment_id": 84468656, "body": "&quot;imageView.layer.mask = maskImageView.layer but that&#39;s low-quality on-screen masking&quot; That&#39;s true, but only because you are applying it to an image view&#39;s layer. You can apply a <code>mask</code> to <i>any</i> layer, including one that is offscreen. And as for &quot;low quality&quot;, everything depends upon the layer&#39;s <code>contentsScale</code>, doesn&#39;t it? If you create a CALayer and it is not part of the interface, and you forget to set its <code>contentsScale</code>, then you have only yourself to blame."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518372789, "post_id": 48734422, "comment_id": 84468688, "body": "The point is, I find the terms of your question misleading. It seems to me to be an x-y question. Instead of insisting that we answer in terms of CGLayer, shouldn&#39;t you be more open-ended about it? If the question is how to mask, shouldn&#39;t you just ask about that, instead of saying &quot;Don&#39;t answer except in the following terms&quot;, especially if those terms are not appropriate?"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518373066, "post_id": 48734422, "comment_id": 84468797, "body": "The reason I asked &quot;how to do it with CGLayerRef&quot; is that I have tried all possible ways. If there&#39;s any way you can come up with, then even better and in regards to &quot;  If you create a CALayer and it is not part of the interface, and you forget to set its contentsScale&quot; YES I have tried that before and it doesn&#39;t give me the high-quality masked image. Maybe your way of masking by CALayer would work in off-screen but I&#39;m not sure how you use it. @matt"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518373432, "post_id": 48734422, "comment_id": 84468946, "body": "Well, maybe if you gave an actual example (here is my image, here is my mask, here is the desired result) I could help. Or maybe not, of course. But all this abstract talk going down a road that I&#39;m not convinced is relevant doesn&#39;t get us anywhere. I&#39;m not going to try to use CGLayer because I don&#39;t see how it is relevant or needed. In fact as far as I know I&#39;ve never found a use for CGLayer in practice."}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518373538, "post_id": 48734422, "comment_id": 84468990, "body": "Okay, I will show the code in which I&#39;m using CALayer with content scale for masking high-quality render in a bit."}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 9346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6c4693d73197e0a3cf570524b66262?s=128&d=identicon&r=PG&f=1", "display_name": "anfark", "link": "https://stackoverflow.com/users/9346583/anfark"}, "is_accepted": false, "score": 3, "last_activity_date": 1518371304, "creation_date": 1518371304, "answer_id": 48734515, "question_id": 48734422, "link": "https://stackoverflow.com/questions/48734422/masking-an-image-using-cglayerref-and-cgcontextdrawlayerinrect/48734515#48734515", "title": "Masking an image using CGLayerRef and CGContextDrawLayerInRect", "body": "<p>I normaly write Swift code, but once I also had to deal with masking and CGLayer.</p>\n\n<p>I solved the problem with the following steps:</p>\n\n<ol>\n<li>Draw your mask</li>\n<li>Change blend mode to <code>CGBlendMode.sourceIn</code></li>\n<li>Draw your \"color\" image.</li>\n</ol>\n\n<p>This works because <code>CGBlendMode.sourceIn</code> tells the context to multiply the alpha value of the source image with the color of the existing pixel. Therefore invisible parts of the mask (<code>alpha = 0.0</code>) will stay invisible.</p>\n\n<p>Apple docs for CGBlendMode: <a href=\"https://developer.apple.com/documentation/coregraphics/cgblendmode\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/coregraphics/cgblendmode</a></p>\n"}, {"tags": [], "owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "is_accepted": false, "score": 1, "last_activity_date": 1518377633, "last_edit_date": 1518377633, "creation_date": 1518377281, "answer_id": 48735533, "question_id": 48734422, "link": "https://stackoverflow.com/questions/48734422/masking-an-image-using-cglayerref-and-cgcontextdrawlayerinrect/48735533#48735533", "title": "Masking an image using CGLayerRef and CGContextDrawLayerInRect", "body": "<p>It doesn't really answer the question but I finally ended up using the conventional methods such as <code>CGContextClipToMask</code> and <code>CGContextDrawImage</code> but I managed to gain my desired <strong>high-quality</strong> before masking. Again, I need to mention that this works just in my case (which was masking an image with a rendered bezier path on it but at image's full resolution) If you have the same problem for more information you can check my other <strong>related</strong> question here </p>\n\n<p><a href=\"https://stackoverflow.com/questions/48599949/masking-an-image-using-bezierpath-with-images-full-resolution/48734965#48734965\">Masking an image using bezierpath with image&#39;s full resolution</a></p>\n\n<p>and my github working project as well.</p>\n\n<p><a href=\"https://github.com/Reza-Abdolahi/HighResMasking\" rel=\"nofollow noreferrer\">https://github.com/Reza-Abdolahi/HighResMasking</a></p>\n\n<p>Here's the code that worked for me:</p>\n\n<pre><code>CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n    CGImageRef maskImageRef = [_maskImage CGImage];\n    CGContextRef myContext = CGBitmapContextCreate (NULL, _highResolutionImage.size.width, _highResolutionImage.size.height, 8, 0, colorSpace, kCGImageAlphaPremultipliedLast);\n    CGColorSpaceRelease(colorSpace);\n    if (myContext==NULL)\n        return NULL;\n\n    CGFloat ratio = 0;\n    ratio = _maskImage.size.width/ _highResolutionImage.size.width;\n    if(ratio * _highResolutionImage.size.height &lt; _maskImage.size.height) {\n        ratio = _maskImage.size.height/ _highResolutionImage.size.height;\n    }\n\n    CGRect rectForMask  = {{0, 0}, {_maskImage.size.width, _maskImage.size.height}};\n    CGRect rectForImageDrawing  = {{-((_highResolutionImage.size.width*ratio)-_maskImage.size.width)/2 , -((_highResolutionImage.size.height*ratio)-_maskImage.size.height)/2},\n        {_highResolutionImage.size.width*ratio, _highResolutionImage.size.height*ratio}};\n\n    CGContextClipToMask(myContext, rectForMask, maskImageRef);\n    CGContextDrawImage(myContext, rectForImageDrawing, _highResolutionImage.CGImage);\n    CGImageRef newImage = CGBitmapContextCreateImage(myContext);\n    CGContextRelease(myContext);\n    UIImage *theImage = [UIImage imageWithCGImage:newImage];\n    CGImageRelease(newImage);\n    return theImage;\n</code></pre>\n"}], "owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1518377633, "creation_date": 1518370756, "question_id": 48734422, "link": "https://stackoverflow.com/questions/48734422/masking-an-image-using-cglayerref-and-cgcontextdrawlayerinrect", "title": "Masking an image using CGLayerRef and CGContextDrawLayerInRect", "body": "<p>I want to mask an image by another image using CGLayerRef in off-screen rendering since it's suitable for high-quality rendering as it's mentioned in documentation </p>\n\n<blockquote>\n  <p>Core Graphics Layer Drawing :\n  CGLayer objects allow your application to use layers for drawing.\n  Layers are suited for the following: High-quality offscreen rendering\n  of drawing that you plan to reuse.</p>\n</blockquote>\n\n<p>But I couldn't find any example in objective-c that I could understand how it works. On my context, I want to mask an image with a shape image (solid color shape) I used to do it this way</p>\n\n<pre><code>//The context I use to mask my image with the mask image.\nCGColorSpaceRef colorSpace= CGColorSpaceCreateDeviceRGB();\n    CGContextRef mainViewContentContext = CGBitmapContextCreate (NULL, _bigImageRect.size.width, _bigImageRect.size.height, 8, 0, colorSpace, kCGImageAlphaPremultipliedLast);\nCGColorSpaceRelease(colorSpace);\n\n//Mask image\nCGContextClipToMask(mainViewContentContext,\n                       CGRectMake(0,\n                                   -_bigImageRect.origin.y,\n                                   _bigImageRect.size.width,\n                                   _bigImageRect.size.height),\n                                   _maskImage.CGImage);\n\n//Drawing the image on the mask image.\nCGContextDrawImage(mainViewContentContext,\n                       CGRectMake(0,\n                                  0,\n                                  _bigImageRect.size.width,\n                                  _bigImageRect.size.height),\n                                  _ImageToBeMasked.CGImage);\n\nCGImageRef mainViewContentBitmapContext = CGBitmapContextCreateImage(mainViewContentContext);\nCGContextRelease(mainViewContentContext);\nUIImage*maskedImage = [UIImage imageWithCGImage:mainViewContentBitmapContext];\nCGImageRelease(mainViewContentBitmapContext)\nreturn maskedImage;\n</code></pre>\n\n<p>But how can I mask using CGLayers as below? I appreciate any help.</p>\n\n<pre><code>CGLayerRef layer = CGLayerCreateWithContext(mainViewContentContext, _bigImageRect.size, NULL);\nCGContextDrawLayerInRect(mainViewContentContext, _bigImageRect, layer);\nCGLayerRelease(layer);\n//And then.. how can I do the masking using this CGLayerRef???\n</code></pre>\n"}, {"tags": ["objective-c", "mongodb", "heroku", "parse-server"], "comments": [{"owner": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "edited": false, "score": 0, "creation_date": 1518450560, "post_id": 48734049, "comment_id": 84500929, "body": "Have you implemented any ACLs or CLPs?"}, {"owner": {"reputation": 8117, "user_id": 611201, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0e3cf7b287b9db7f9bfef08d462034da?s=128&d=identicon&r=PG", "display_name": "Michel", "link": "https://stackoverflow.com/users/611201/michel"}, "reply_to_user": {"reputation": 4060, "user_id": 4544328, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea27e5d518914f213d7c44d0aa2c774a?s=128&d=identicon&r=PG&f=1", "display_name": "Jake T.", "link": "https://stackoverflow.com/users/4544328/jake-t"}, "edited": false, "score": 0, "creation_date": 1518505992, "post_id": 48734049, "comment_id": 84522921, "body": "No. At least as far as I am aware of. But I solved my problem in the meanwhile, by looking at the _SCHEMA Collection on mLab."}], "owner": {"reputation": 8117, "user_id": 611201, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0e3cf7b287b9db7f9bfef08d462034da?s=128&d=identicon&r=PG", "display_name": "Michel", "link": "https://stackoverflow.com/users/611201/michel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518368604, "creation_date": 1518368604, "question_id": 48734049, "link": "https://stackoverflow.com/questions/48734049/permissions-for-a-new-user-parse-server-heroku", "title": "Permissions for a new user / Parse-server-Heroku", "body": "<p>I just created a new user on parse-server/Heroku. Using code like this:</p>\n\n<pre><code>PFUser *x = [[PFUser alloc] init];\nx.username = @\"XXX\";\nx.password = @\"yyyy\";\nx.email = @\"email123@abc.com\";\n[x signUpInBackgroundWithBlock:^(BOOL succeeded, NSError * _Nullable error) {\n    if (succeeded) {\n        NSLog(@\"kensu registration ALL OK!!!!\");\n    } else if (error) {\n        NSLog(@\"kensu registration error: %@\",error);\n    }\n}];\n</code></pre>\n\n<p>The user creation went fine. And I can log in witn this new user.</p>\n\n<p>The problem comes after.</p>\n\n<p>When I log in with the new user, I am not allowed to make any update on my mongoDB.</p>\n\n<p>I get this kind of error message:</p>\n\n<pre><code>[Error]: Permission denied for action update on class ....\n</code></pre>\n\n<p>If I log with the unique user I had before, I can update without any problem. <strong>Why?</strong></p>\n\n<p>I looked at the user collection to see any difference, then tried a few things, but without success.</p>\n\n<p>I hope someone can point me in the right direction.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 1, "creation_date": 1518357371, "post_id": 48732218, "comment_id": 84463617, "body": "The rubber duck principle says if you can&#39;t explain what the line does then it&#39;s wrong."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518358748, "post_id": 48732218, "comment_id": 84464025, "body": "where you add your refreshButton to your <code>UIView</code> hierarchy?"}, {"owner": {"reputation": 13998, "user_id": 2352344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JHVDS.png?s=128&g=1", "display_name": "clemens", "link": "https://stackoverflow.com/users/2352344/clemens"}, "edited": false, "score": 0, "creation_date": 1518359374, "post_id": 48732218, "comment_id": 84464211, "body": "An action method (<code>IBAction</code>) is called by a button, and generally you create no button in it. And yes, the second contains a mistake."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "edited": false, "score": 0, "creation_date": 1518360165, "post_id": 48732587, "comment_id": 84464438, "body": "Thanks for the detailed answer, real easy to understand and follow!! Works now but now I have other errors to fix.. oh well!"}, {"owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "reply_to_user": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "edited": false, "score": 0, "creation_date": 1518360216, "post_id": 48732587, "comment_id": 84464451, "body": "No problem - glad I could help!"}], "tags": [], "owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "is_accepted": true, "score": 2, "last_activity_date": 1518378814, "last_edit_date": 1518378814, "creation_date": 1518359604, "answer_id": 48732587, "question_id": 48732218, "link": "https://stackoverflow.com/questions/48732218/calling-a-function-through-uibutton/48732587#48732587", "title": "Calling a function through UIButton", "body": "<p>There is no \"mistake\" in your code, as, like you stated, it complies. The \"mistake\" here is more than syntax, it's context.</p>\n\n<blockquote>\n  <p>If you are expecting your button to <strong>fire</strong> and perform your scan,\n  then you should be <em>calling</em> your method <code>scanBLEDevices:</code> inside your\n  <code>IBAction</code> method <code>refreshButton:</code>.</p>\n</blockquote>\n\n<p>In your snippet, by creating a <em>new</em> <code>UIButton</code> in your refresh button method, you are merely assigning an action to a button that has not been initialized yet, <em>and</em> providing no opportunity for the button to be fired (it is created and exists <em>only</em> within this method).</p>\n\n<p>Assuming you have attached your action method correctly in your storyboard, I suggest replacing your simple <code>IBAction</code> method with the following:</p>\n\n<pre><code>- (IBAction)refreshButton:(UIButton *)sender {\n\n    [self scanBLEDevices:sender];\n\n}\n</code></pre>\n\n<p>Because your <code>scanBLEDevices:</code> method requires an <code>id</code> sender, you can pass your button along (since after all you don't use it in the BLE method anway lol).</p>\n\n<p>Hopefully this should help point you in the right direction. Happy coding!</p>\n\n<hr>\n\n<p><strong>NOTE:</strong> If you are unsure about when / where <code>allocation</code> is allowed here, I suggest reading up on some common practices concerning <code>IBAction</code>s, targets, and senders when using <code>UIButton</code> elements in your code.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uibutton\" rel=\"nofollow noreferrer\">UIButton - UIKit | Apple Developer Documentation</a></p>\n"}], "owner": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 48732587, "answer_count": 1, "score": 0, "last_activity_date": 1518378814, "creation_date": 1518357201, "last_edit_date": 1518373244, "question_id": 48732218, "link": "https://stackoverflow.com/questions/48732218/calling-a-function-through-uibutton", "title": "Calling a function through UIButton", "body": "<p>I am not sure if my code is wrong, but there are no errors while compiling.</p>\n\n<p>I have a refresh button where it refreshes a TableView and here's the following code:</p>\n\n<pre><code>- (IBAction)refreshButton:(UIButton *)sender {\nUIButton *refreshButton = [UIButton alloc];\n[refreshButton addTarget:self action:@selector(scanBLEDevices:) forControlEvents:UIControlEventTouchUpInside]; }\n\n- (void)scanBLEDevices:(id)sender {\n[manager scanForPeripheralsWithServices:@[[CBUUID UUIDWithString:BLEService]] options:nil];\n\n[NSTimer scheduledTimerWithTimeInterval:2.0 target:self selector:@selector(stopScan:) userInfo:nil repeats:NO];}\n</code></pre>\n\n<p>Is there any mistake in this code? I am unsure about this second line, whether this is allowed:</p>\n\n<pre><code>UIButton *refreshButton = [UIButton alloc];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "3d"], "comments": [{"owner": {"reputation": 615, "user_id": 6703814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ec4PB.jpg?s=128&g=1", "display_name": "Ashish Sharma", "link": "https://stackoverflow.com/users/6703814/ashish-sharma"}, "edited": false, "score": 0, "creation_date": 1518351380, "post_id": 48731244, "comment_id": 84461824, "body": "You can try spriteKit."}, {"owner": {"reputation": 18692, "user_id": 2043580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/092WJ.png?s=128&g=1", "display_name": "ZeMoon", "link": "https://stackoverflow.com/users/2043580/zemoon"}, "edited": false, "score": 0, "creation_date": 1518352741, "post_id": 48731244, "comment_id": 84462205, "body": "Here&#39;s a link to a SceneKit tuorial for rendering a 3D earth: <a href=\"https://www.youtube.com/watch?v=D2UWvR2nR0A\" rel=\"nofollow noreferrer\">youtube.com/watch?v=D2UWvR2nR0A</a>"}, {"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1518353478, "post_id": 48731244, "comment_id": 84462426, "body": "This question is too broad. Yes, you can use OpenGL, Metal, SceneKit or other frameworks to do this, although you&#39;ll need more than that in order for the usr to be able to drag/rotate/enlarge the model. SceneKit is probably the easiest way to go since it&#39;s designed to do the sort of thing you want to do easily."}], "answers": [{"tags": [], "owner": {"reputation": 1985, "user_id": 4577249, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/295176fad0a22663ff8d064f90b6040b?s=128&d=identicon&r=PG&f=1", "display_name": "Will Von Ullrich", "link": "https://stackoverflow.com/users/4577249/will-von-ullrich"}, "is_accepted": true, "score": 1, "last_activity_date": 1518360183, "creation_date": 1518360183, "answer_id": 48732667, "question_id": 48731244, "link": "https://stackoverflow.com/questions/48731244/how-to-use-whirlyglobe-maply-properly-in-ios/48732667#48732667", "title": "how to use WhirlyGlobe-maply properly in iOS?", "body": "<p>Amongst an overwhelming number of options available to create your Earth, if simplicity / ease-of-use is what you are looking for, take a look into <strong>WhirlyGlobe</strong>. It's simple, easy to use, easy to <em>setup</em>, and fairly powerful for many needs.</p>\n\n<p><a href=\"http://mousebird.github.io/WhirlyGlobe/\" rel=\"nofollow noreferrer\">WhirlyGlobe-Maply SDK</a></p>\n"}], "owner": {"reputation": 33, "user_id": 9345576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d324b279fb60ec966392eaf269f0af2?s=128&d=identicon&r=PG", "display_name": "Qyy", "link": "https://stackoverflow.com/users/9345576/qyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "closed_date": 1518363900, "accepted_answer_id": 48732667, "answer_count": 1, "score": -2, "last_activity_date": 1518418061, "creation_date": 1518350398, "last_edit_date": 1518418061, "question_id": 48731244, "link": "https://stackoverflow.com/questions/48731244/how-to-use-whirlyglobe-maply-properly-in-ios", "closed_reason": "Needs more focus", "title": "how to use WhirlyGlobe-maply properly in iOS?", "body": "<p>When I get users' data, how can I read them and modify the earth?\nFor example,i have been to NewYork and Washington so I want to change the colors of these places on the map.How to do it</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518345732, "post_id": 48730590, "comment_id": 84460242, "body": "You are using xib or storyboard?"}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1518345757, "post_id": 48730590, "comment_id": 84460251, "body": "Where are you dragging the connection when trying to add it?"}, {"owner": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "edited": false, "score": 0, "creation_date": 1518347479, "post_id": 48730590, "comment_id": 84460687, "body": "I&#39;m dragging the connection from Main.storyboard to ViewController.m"}, {"owner": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "edited": false, "score": 0, "creation_date": 1518349148, "post_id": 48730590, "comment_id": 84461186, "body": "Does having multiple View Controller scenes affect this? I am able to select the ViewController in only one the scenes but not the rest. :/"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "is_accepted": false, "score": -1, "last_activity_date": 1518356651, "creation_date": 1518356651, "answer_id": 48732122, "question_id": 48730590, "link": "https://stackoverflow.com/questions/48730590/cannot-select-viewcontroller-as-object/48732122#48732122", "title": "Cannot select ViewController as object", "body": "<p>After quite some time, I realised that adding a custom class helped, as probably I am using multiple ViewControllers. It will be great if someone can still explain why the error occured though. :) </p>\n\n<p><a href=\"https://i.stack.imgur.com/hOiWd.png\" rel=\"nofollow noreferrer\">Adding a class</a></p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 2091342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpKhO.png?s=128&g=1", "display_name": "Sergey Fedorov", "link": "https://stackoverflow.com/users/2091342/sergey-fedorov"}, "is_accepted": true, "score": 0, "last_activity_date": 1518375742, "creation_date": 1518375742, "answer_id": 48735261, "question_id": 48730590, "link": "https://stackoverflow.com/questions/48730590/cannot-select-viewcontroller-as-object/48735261#48735261", "title": "Cannot select ViewController as object", "body": "<p>If you wand to connect your UI objects as IBOutlets in your controller's code, you should be sure that:  </p>\n\n<ol>\n<li>Your controller class is exclusive, that there are no two ViewController classes in your project;</li>\n<li>Choose correct object class in IB in your storyboard.  </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/tp4I5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tp4I5.png\" alt=\"Identity inspector -&gt; Custom class -&gt; Class\"></a></p>\n"}], "owner": {"reputation": 27, "user_id": 9309422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tHBpyo_DJTc/AAAAAAAAAAI/AAAAAAAAAC0/L7C_96BaJLQ/photo.jpg?sz=128", "display_name": "Starcast", "link": "https://stackoverflow.com/users/9309422/starcast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 48735261, "answer_count": 2, "score": -3, "last_activity_date": 1518375742, "creation_date": 1518345406, "last_edit_date": 1518350194, "question_id": 48730590, "link": "https://stackoverflow.com/questions/48730590/cannot-select-viewcontroller-as-object", "title": "Cannot select ViewController as object", "body": "<p>I am trying to connect a button to the ViewController.m but I cannot select the 'ViewController' option in the 'Object' section as shown in the image. Only the 'Exit' option is available.</p>\n\n<p>I dragged the button from Main.storyboard into the ViewController.m, and the window popped up as shown.</p>\n\n<p>Any advice? Thanks!</p>\n\n<p>The weird thing is, I am able to select ViewController in one of my VieControllerScene, but not in any of the others.\n<a href=\"https://i.stack.imgur.com/gdMdY.png\" rel=\"nofollow noreferrer\">Able to select ViewController</a></p>\n\n<p>As for the rest of the buttons that I try to drag it into the code, this pops up:\n<a href=\"https://i.stack.imgur.com/N1Ygl.png\" rel=\"nofollow noreferrer\">Object defaulted at Exit</a></p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "edited": false, "score": 0, "creation_date": 1518335875, "post_id": 48729402, "comment_id": 84457883, "body": "@Rob, This question is being marked as duplicate, but I am exactly using the same solution provided in this question, but the result is not what I expected. Therefore, I wanted to ask this question."}, {"owner": {"reputation": 1781, "user_id": 1363730, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ca5cc3a95a8d4071a09eba8dd446370c?s=128&d=identicon&r=PG", "display_name": "itenyh", "link": "https://stackoverflow.com/users/1363730/itenyh"}, "edited": false, "score": 0, "creation_date": 1518336171, "post_id": 48729402, "comment_id": 84457933, "body": "please show all the code that is related"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518336234, "post_id": 48729402, "comment_id": 84457947, "body": "@Rob, I want to get directly <code>double</code> number, not <code>NSNumber</code>. Is it really necessary to convert <code>double</code> to <code>NSNumber</code> and apply formatter and then convert it back to <code>double</code>? Also I used the exact same solution, please check <a href=\"https://stackoverflow.com/questions/4985791/round-double-value-to-2-decimal-places/10102097#10102097\" title=\"round double value to 2 decimal places\">stackoverflow.com/questions/4985791/&hellip;</a>."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518336734, "post_id": 48729402, "comment_id": 84458065, "body": "Like that answer (and many, many others) have pointed out, floating point types, like <code>double</code> simply cannot accurately represent certain fractional decimal values, which is why you use number formatters (whether <code>NSNumberFormatter</code> or <code>NSString</code>&#39;s <code>stringWithFormat</code>) to limit the output to a certain number of decimal places. Or, if you really need an accurate two decimal place value, don&#39;t use <code>double</code>, but use <code>NSDecimalNumber</code>."}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1518336996, "post_id": 48729402, "comment_id": 84458136, "body": "@Rob, please check my updated question, still getting the same."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1518337239, "post_id": 48729402, "comment_id": 84458183, "body": "You&#39;re missing my point. You&#39;re assuming that <code>double</code> is capable of capturing the value 5.49 exactly. It simply can&#39;t. See <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>. So, if you&#39;re concerned about showing the value to two decimal places, you use the aforementioned formatters. If you want to do math that precisely represents two decimal places and no more, then use <code>NSDecimalNumber</code>. But I know it seems implausible, but <code>double</code> simply cannot represent many numbers precisely to two decimal places."}], "answers": [{"tags": [], "owner": {"reputation": 8739, "user_id": 631911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4DT5.jpg?s=128&g=1", "display_name": "Tatarize", "link": "https://stackoverflow.com/users/631911/tatarize"}, "is_accepted": false, "score": 0, "last_activity_date": 1518335181, "creation_date": 1518335181, "answer_id": 48729447, "question_id": 48729402, "link": "https://stackoverflow.com/questions/48729402/number-of-digits-after-decimal-number-in-double/48729447#48729447", "title": "Number of Digits after decimal number in double", "body": "<p>Sometimes doubles can't display a specific value. Due to being expressed in binary it will, sometimes, just end up being really close. You need to work less on the rounding there and more on truncating the output. Usually it doesn't matter, just use like printf or something to display the number of relevant bytes of the output. You can't hit every decimal perfectly in binary.</p>\n"}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "closed_date": 1518335447, "answer_count": 1, "score": -2, "last_activity_date": 1518337997, "creation_date": 1518334862, "last_edit_date": 1518336975, "question_id": 48729402, "link": "https://stackoverflow.com/questions/48729402/number-of-digits-after-decimal-number-in-double", "closed_reason": "Duplicate", "title": "Number of Digits after decimal number in double", "body": "<p>I have a value, and I want to see only two digits on the decimal.</p>\n\n<p>desired output = 5.49, but it still returns 5.49000000002</p>\n\n<pre><code>value = 5.49000000002;\ndouble tempValue = (round(value*100))/100.0;\n</code></pre>\n\n<p>Also tried the following examples, still getting the same.</p>\n\n<pre><code>[formatter setNumberStyle:NSNumberFormatterDecimalStyle];\n[formatter setMaximumFractionDigits:2];\n[formatter setRoundingMode: NSNumberFormatterRoundFloor];\ndouble value = 5.49000000000002;\ndouble x = [[formatter stringFromNumber:[NSNumber numberWithDouble:value]] doubleValue];\ndouble y = [[NSString stringWithFormat:@\"%.2f\", value] doubleValue];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nspredicate"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1518330332, "post_id": 48728873, "comment_id": 84456772, "body": "You meant <code>@&quot;eachComboItem ==[c] %@&quot;, @&quot;main&quot;</code>?"}, {"owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1518330393, "post_id": 48728873, "comment_id": 84456786, "body": "@Larme yes, that is what I meant. I have tried your suggestion but it returns me <code>0</code> item."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1518333441, "post_id": 48728873, "comment_id": 84457389, "body": "can you post the content of <code>sharedData.allComboItems</code>??"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1518337848, "post_id": 48728873, "comment_id": 84458335, "body": "Seems your <code>allComboItems</code> is a 2-dimensional array (array of arrays), this might explain why your filtering predicate doesn&#39;t work."}], "owner": {"reputation": 14571, "user_id": 1669996, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/89e5a1861e6429b8f5d3cc45900b98ae?s=128&d=identicon&r=PG", "display_name": "casillas", "link": "https://stackoverflow.com/users/1669996/casillas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518330355, "creation_date": 1518329651, "last_edit_date": 1518330355, "question_id": 48728873, "link": "https://stackoverflow.com/questions/48728873/filter-the-data-from-mutablearray", "title": "Filter the data from mutablearray", "body": "<p>I have the following <code>sharedInstance</code>, and I am currently working on <code>sharedData.allComboItems</code>.</p>\n\n<p>I wonder how could able to find the <code>ComboItem</code> where <code>eachComboItem</code> equals <code>main</code>.</p>\n\n<p>The following approach did not work.</p>\n\n<pre><code>NSPredicate *comboItemPredicate = [NSPredicate predicateWithFormat:@\"eachComboItem == [c]\", @\"main\"];\nNSArray *mainItems = [sharedData.allComboItems filteredArrayUsingPredicate:comboItemPredicate];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/K02SV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K02SV.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "algorithm"], "answers": [{"tags": [], "owner": {"reputation": 1781, "user_id": 1363730, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/ca5cc3a95a8d4071a09eba8dd446370c?s=128&d=identicon&r=PG", "display_name": "itenyh", "link": "https://stackoverflow.com/users/1363730/itenyh"}, "is_accepted": false, "score": 1, "last_activity_date": 1518328820, "creation_date": 1518328820, "answer_id": 48728790, "question_id": 48728702, "link": "https://stackoverflow.com/questions/48728702/issue-in-substring-from-my-string-in-objective-c/48728790#48728790", "title": "Issue in subString from my String in Objective c", "body": "<p>In your code, 'i' denote the starting location of the string and 'j' denote the length you want. If i + j beyond the length of the string , the program will crash. You should read the document of the method carefully when you come across such problem. I have modified your code as below:</p>\n\n<pre><code>NSString *str = @\"test\";\nNSUInteger length = str.length;\nfor (int i = 0 ;i &lt; length;i++){\n    for (NSUInteger j = length - i; j &gt; 0; j--){\n        NSString *myStr = [str substringWithRange:NSMakeRange(i, j)];\n        NSLog(@\"%@\",myStr);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2226, "user_id": 788631, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dc193fe568bf7460b64bdac7c0088ae8?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/788631/arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518328820, "creation_date": 1518327929, "question_id": 48728702, "link": "https://stackoverflow.com/questions/48728702/issue-in-substring-from-my-string-in-objective-c", "title": "Issue in subString from my String in Objective c", "body": "<p>i have requirement of get all possible substring from a string. I have done below solution for the same But i am getting crash when loop is running for second time(i =1 and j=4).can somebody help me what is issue on below code.</p>\n\n<pre><code> NSString *str = @\"test\";\n    NSUInteger length = str.length;\n    for (int i = 0 ;i&lt;length;i++){\n        for (int j = i+1; j &lt;= length; j++){\n            NSString *myStr = [str substringWithRange:NSMakeRange(i, j)];\n            NSLog(@\"%@\",myStr);\n        }    \n    }\n</code></pre>\n"}, {"tags": ["objective-c", "nsset"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518325744, "post_id": 48728324, "comment_id": 84455885, "body": "Also you do realize that your <code>containsObject</code> test is unnecessary? The whole point of a set is that an object won\u2019t appear twice"}, {"owner": {"reputation": 27, "user_id": 2217812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe3d55f2b166d278b120a10291ab642?s=128&d=identicon&r=PG", "display_name": "user2217812", "link": "https://stackoverflow.com/users/2217812/user2217812"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1518329595, "post_id": 48728324, "comment_id": 84456609, "body": "Thanks for mentioning that. Actually what I posted here was a version of the code which shows the problem. In real, I am doing something else by checking for containsObject which does not give me the right behavior."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2217812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe3d55f2b166d278b120a10291ab642?s=128&d=identicon&r=PG", "display_name": "user2217812", "link": "https://stackoverflow.com/users/2217812/user2217812"}, "edited": false, "score": 0, "creation_date": 1518329262, "post_id": 48728474, "comment_id": 84456531, "body": "Yes I saw that but I have nothing to implement in the hash method. The documentation states that &quot;Returns an integer that can be used as a table address in a hash table structure&quot; Why do you want me to change the implementation of the super class defined method? Also why this problem does not happen when I set the the breakpoint in isEqual method?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 27, "user_id": 2217812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe3d55f2b166d278b120a10291ab642?s=128&d=identicon&r=PG", "display_name": "user2217812", "link": "https://stackoverflow.com/users/2217812/user2217812"}, "edited": false, "score": 2, "creation_date": 1518331649, "post_id": 48728474, "comment_id": 84457052, "body": "\u201cWhy do you want me to change the implementation of the super class defined method\u201d Because it\u2019s wrong. It will put two equal Cell3 objects into different buckets, but they must go into the same bucket or set functionality will break (as has in fact happened)."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 0, "last_activity_date": 1518325831, "creation_date": 1518325831, "answer_id": 48728474, "question_id": 48728324, "link": "https://stackoverflow.com/questions/48728324/nset-containsobject-is-giving-unpredictable-results/48728474#48728474", "title": "NSet containsObject is giving unpredictable results", "body": "<p>The problem is that your Cell3 class lacks an appropriate <code>hash</code> implementation. See <a href=\"https://developer.apple.com/documentation/objectivec/1418956-nsobject/1418859-hash\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/objectivec/1418956-nsobject/1418859-hash</a></p>\n"}], "owner": {"reputation": 27, "user_id": 2217812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe3d55f2b166d278b120a10291ab642?s=128&d=identicon&r=PG", "display_name": "user2217812", "link": "https://stackoverflow.com/users/2217812/user2217812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48728474, "answer_count": 1, "score": 0, "last_activity_date": 1518327760, "creation_date": 1518323918, "last_edit_date": 1518327760, "question_id": 48728324, "link": "https://stackoverflow.com/questions/48728324/nset-containsobject-is-giving-unpredictable-results", "title": "NSet containsObject is giving unpredictable results", "body": "<p>In my following code [NSSet containsObject] is giving unpredictable results. I find out that Cell3 object with value row,col (2,2) gets added twice thorough my while loop. <strong>However if I set breakpoint inside the method isEqual on the line of if condition then (2,2) does not get added twice.</strong></p>\n\n<p>Is this issue related to code optimizations. When I use to work in C++ long time back, I saw these kinds of issues in debug vs release mode. If you set breakpoints then the issue does not happen but if no breakpoint then the issue happens. I have never seen this kind of issue in XCode. I am using XCode version 9.2(9C40b)</p>\n\n<pre><code>@interface Cell3 : NSObject\n\n@property(assign) NSInteger row;\n@property(assign) NSInteger col;\n\n-(instancetype) initWithRow:(NSInteger)row col:(NSInteger)col;\n@end\n\n\n@implementation Cell3\n\n-(instancetype) initWithRow:(NSInteger)row col:(NSInteger)col\n{\n    self = [super init];\n    if(self)\n    {\n        self.row = row;\n        self.col = col;\n    }\n    return self;\n}\n\n- (BOOL)isEqual:(Cell3*)object\n{\n    if(self.row == object.row &amp;&amp; self.col == object.col)\n        return YES;\n    else\n        return NO;\n}\n\n@end\n\n\nint NSSetTest()\n{\n    NSMutableSet *uniqueCells = [[NSMutableSet alloc]init];\n\n    int a = 0;\n\n    int b[9][2] = { {0,0}, {1,0}, {2,0}, {3,0}, {3,1}, {3,2}, {2,2}, {2,3}, {2,2} };\n\n    while(a &lt; 9)\n    {\n        Cell3 *cell = [[Cell3 alloc] initWithRow:b[a][0] col:b[a][1]];\n\n        if(![uniqueCells containsObject:cell])\n        {\n            [uniqueCells addObject:cell];\n        }\n        a++;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"comments": [{"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518353263, "post_id": 48728427, "comment_id": 84462359, "body": "See the edit to my answer. Your data source methods are doing way too much work. It won&#39;t be fast enough, and the number and order of items must remain fixed, so there&#39;s no reason to rebuild the data model on each call."}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518582418, "post_id": 48728427, "comment_id": 84560934, "body": "I was just going through it - no idea why I decided to filter in numberOfRowsInSection either."}], "tags": [], "owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1518353182, "last_edit_date": 1592644375, "creation_date": 1518325214, "answer_id": 48728427, "question_id": 48728222, "link": "https://stackoverflow.com/questions/48728222/obj-c-display-correct-data-for-each-cell-from-corresponding-array/48728427#48728427", "title": "Obj-C - Display correct data for each cell from corresponding array", "body": "<p>Based on your code, messages is an array of dictionaries, not a dictionary of arrays. You talk about the &quot;First array in my dictionary&quot;, but that's wrong. You only have 1 array.</p>\n<p>The code you posted would crash if the data was not an array of dictionaries.</p>\n<p>I suggest logging your <code>messages</code> structure to see what it really contains.</p>\n<h2>EDIT:</h2>\n<p>The code you posted in your edit is a mess. You should <strong>not</strong> be building predicates and sorting stuff in response to any of the table view data source methods. You should build a data model at the time you invoke the table view and then leave it alone.</p>\n<p>If you have a single section table view, you should return 1 in response to the numberOfSections call, and the data for all your cells would come out of a single array.</p>\n<p>Your numberOfRowsInSection call should just look up the number of items in the array for that section.</p>\n<p>The cellForRowAtIndexPath method should fetch a data item from the array for that row in that (one) section and use it to populate the cell.</p>\n"}, {"comments": [{"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518326353, "post_id": 48728477, "comment_id": 84455983, "body": "Damn, you&#39;re pretty much psychic - this is exactly it (numberOfRowsInSection == items in array). How can I fix this? What should it be instead in order to get the correct values in each cell/dictionary?"}, {"owner": {"reputation": 11, "user_id": 3913084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5nT9.jpg?s=128&g=1", "display_name": "Prashant Pukale", "link": "https://stackoverflow.com/users/3913084/prashant-pukale"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518326532, "post_id": 48728477, "comment_id": 84456022, "body": "use <code>indexPath.section</code> instead of <code>indexPath.row</code>"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518327544, "post_id": 48728477, "comment_id": 84456202, "body": "This doesn&#39;t seem to work for me... See my updated code above with my numberOfRowsInSection block."}, {"owner": {"reputation": 11, "user_id": 3913084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5nT9.jpg?s=128&g=1", "display_name": "Prashant Pukale", "link": "https://stackoverflow.com/users/3913084/prashant-pukale"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518327922, "post_id": 48728477, "comment_id": 84456264, "body": "Your <code>numberOfRows</code> in section should be depending on the <code>section</code>  You have a generic filteredCount this won&#39;t work for tableView.   So you need to decide for each section what is the number of rows you want to show.  and then you&#39;ll be asked in <code>cellForRowAtIndexPath</code> the cell you want to show for that section:row"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518328058, "post_id": 48728477, "comment_id": 84456288, "body": "Ahh gotcha, I misread your answer. The numberOfSections in my tableView is just 1 (return 1)."}, {"owner": {"reputation": 11, "user_id": 3913084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5nT9.jpg?s=128&g=1", "display_name": "Prashant Pukale", "link": "https://stackoverflow.com/users/3913084/prashant-pukale"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518328112, "post_id": 48728477, "comment_id": 84456305, "body": "Then you dont even need to override it, its default to 1."}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518328230, "post_id": 48728477, "comment_id": 84456332, "body": "Ok, that said, I&#39;m still getting the same value of the first cell&#39;s swapvalue for all of my dictionaries?"}, {"owner": {"reputation": 11, "user_id": 3913084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5nT9.jpg?s=128&g=1", "display_name": "Prashant Pukale", "link": "https://stackoverflow.com/users/3913084/prashant-pukale"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1518328666, "post_id": 48728477, "comment_id": 84456424, "body": "May be its having same value? 1. print your <code>NSDictionary *data = self.messages[indexPath.section];</code> and see if its got the right dictionary?"}], "tags": [], "owner": {"reputation": 11, "user_id": 3913084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5nT9.jpg?s=128&g=1", "display_name": "Prashant Pukale", "link": "https://stackoverflow.com/users/3913084/prashant-pukale"}, "is_accepted": false, "score": 1, "last_activity_date": 1518325858, "creation_date": 1518325858, "answer_id": 48728477, "question_id": 48728222, "link": "https://stackoverflow.com/questions/48728222/obj-c-display-correct-data-for-each-cell-from-corresponding-array/48728477#48728477", "title": "Obj-C - Display correct data for each cell from corresponding array", "body": "<p>@Duncan is right about one array. You have one array of dictionaries.\nNow You need to also look at \n<code>func tableView(UITableView, numberOfRowsInSection: Int)</code>\nand \n<code>func numberOfSections(in: UITableView)</code>\nIf your are having numberOfSections == number of items in your array then indexpath.row will always be 0. I suspect that this might be the issue.</p>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1518410974, "creation_date": 1518322674, "last_edit_date": 1518327841, "question_id": 48728222, "link": "https://stackoverflow.com/questions/48728222/obj-c-display-correct-data-for-each-cell-from-corresponding-array", "title": "Obj-C - Display correct data for each cell from corresponding array", "body": "<p>In my tableView, I'm trying to display a certain type of cell for every dictionary in which swapvalue is equal to 0. That being said, for some reason, the below code ONLY grabs the value of the first dictionary in my array (<strong><em>AKA:</em></strong> the value of swapvalue in the first dictionary is 0, and thus, my table displays all cells as if the arrays that follow also have swapvalue  0 - even though they do not). How can I change this so that each cell is grabbing swapvalue from its corresponding dictionary? I suspect it has something to do with indexPath.row, but I'm not sure how to correct this?  </p>\n\n<pre><code> - (int)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n    {\n\n\n        if ([self.messageDataFriends count] &gt; 0 ) {\n\n\n            NSDictionary *userDictInfo = (NSDictionary*) [NSKeyedUnarchiver unarchiveObjectWithData:[[NSUserDefaults standardUserDefaults] objectForKey:@\"diosSession\"]];\n\n\n            DIOSSession *session = [DIOSSession sharedSession];\n            [session setUser:userDictInfo];\n\n\n            [session user];\n\n\n            NSString *targetedUser = [self.messageDataFriends objectForKey:@\"uid2\"];\n\n            NSString *myID = [session user][@\"user\"][@\"uid\"];\n\n\n            NSPredicate *p1 = [NSPredicate predicateWithFormat:@\"uid contains[cd] %@\", targetedUser];\n\n            NSPredicate *p2 = [NSPredicate predicateWithFormat:@\"targetuser contains[cd] %@\", myID];\n\n            NSPredicate *p3 = [NSPredicate predicateWithFormat:@\"uid contains[cd] %@\", myID];\n\n            NSPredicate *p4 = [NSPredicate predicateWithFormat:@\"targetuser contains[cd] %@\", targetedUser];\n\n            NSCompoundPredicate *pIntermediary1 = [NSCompoundPredicate andPredicateWithSubpredicates:@[p1, p2,]];\n\n            NSCompoundPredicate * pIntermediary2 = [NSCompoundPredicate andPredicateWithSubpredicates:@[p3, p4,]];\n\n            NSCompoundPredicate *pFinal = [NSCompoundPredicate orPredicateWithSubpredicates:@[pIntermediary1, pIntermediary2]];\n\n            NSArray *filtered = [self.messages filteredArrayUsingPredicate:pFinal];\n\n\n        return [filtered count];\n\n            }\n\n\n        else  {\n\n\n            NSDictionary *userDictInfo = (NSDictionary*) [NSKeyedUnarchiver unarchiveObjectWithData:[[NSUserDefaults standardUserDefaults] objectForKey:@\"diosSession\"]];\n\n            DIOSSession *session = [DIOSSession sharedSession];\n            [session setUser:userDictInfo];\n\n\n            [session user];\n\n            NSString *targetedUser = [self.messageData objectForKey:@\"uid\"];\n\n            NSString *myID = [session user][@\"user\"][@\"uid\"];\n\n\n            NSPredicate *p1 = [NSPredicate predicateWithFormat:@\"uid contains[cd] %@\", targetedUser];\n\n            NSPredicate *p2 = [NSPredicate predicateWithFormat:@\"targetuser contains[cd] %@\", myID];\n\n            NSPredicate *p3 = [NSPredicate predicateWithFormat:@\"uid contains[cd] %@\", myID];\n\n            NSPredicate *p4 = [NSPredicate predicateWithFormat:@\"targetuser contains[cd] %@\", targetedUser];\n\n            NSCompoundPredicate *pIntermediary1 = [NSCompoundPredicate andPredicateWithSubpredicates:@[p1, p2,]];\n\n            NSCompoundPredicate * pIntermediary2 = [NSCompoundPredicate andPredicateWithSubpredicates:@[p3, p4,]];\n\n            NSCompoundPredicate *pFinal = [NSCompoundPredicate orPredicateWithSubpredicates:@[pIntermediary1, pIntermediary2]];\n\n            NSArray *filtered = [self.messages filteredArrayUsingPredicate:pFinal];\n\n\n          return [filtered count];\n\n\n         }\n    }\n\n\n\n         - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n            {\n\n                NSDictionary *data = self.messages[indexPath.section];\n\n                id swapvalue = data[@\"swapvalue\"];\n                NSLog(@\"SWAP VALUE %@\", swapvalue);\n\n            if ([neighbours count] &gt; 0 &amp;&amp; [swapvalue isEqualToString: @\"0\"]) {\n\n static NSString *ChatTableIdentifier2 = @\"SwapDetailTableViewCell\";\n\n\n        SwapDetailTableViewCell *cell = (SwapDetailTableViewCell *)[tableView dequeueReusableCellWithIdentifier:ChatTableIdentifier2 forIndexPath:indexPath];\n\n\n          NSString *targetedUser = [self.messageData objectForKey:@\"uid\"];\n\n\n          NSDictionary *userDictInfo = (NSDictionary*) [NSKeyedUnarchiver unarchiveObjectWithData:[[NSUserDefaults standardUserDefaults] objectForKey:@\"diosSession\"]];\n\n          DIOSSession *session = [DIOSSession sharedSession];\n          [session setUser:userDictInfo];\n\n\n          [session user];\n\n\n          NSString *myID = [session user][@\"user\"][@\"uid\"];\n\n          NSPredicate *p1 = [NSPredicate predicateWithFormat:@\"uid contains[cd] %@\", targetedUser];\n\n         NSPredicate *p2 = [NSPredicate predicateWithFormat:@\"targetuser contains[cd] %@\", myID];\n\n          NSPredicate *p3 = [NSPredicate predicateWithFormat:@\"uid contains[cd] %@\", myID];\n\n          NSPredicate *p4 = [NSPredicate predicateWithFormat:@\"targetuser contains[cd] %@\", targetedUser];\n\n          NSCompoundPredicate *pIntermediary1 = [NSCompoundPredicate andPredicateWithSubpredicates:@[p1, p2,]];\n\n          NSCompoundPredicate * pIntermediary2 = [NSCompoundPredicate andPredicateWithSubpredicates:@[p3, p4,]];\n\n          NSCompoundPredicate *pFinal = [NSCompoundPredicate orPredicateWithSubpredicates:@[pIntermediary1, pIntermediary2]];\n\n         NSArray *filtered = [self.messages filteredArrayUsingPredicate:pFinal];\n\n\n          NSLog(@\"WAT IS HERE 2 %@\", filtered);\n\n          NSString *userName = filtered[indexPath.row][@\"first name\"];\n          cell.sendingUser.text = userName;\n\n          NSString *messageBody = filtered[indexPath.row][@\"body\"];\n          cell.messageDisplayed.text = messageBody;\n\n          NSString *timeReceived = filtered[indexPath.row][@\"published at\"];\n          cell.timeStamp.text = timeReceived;\n\n      }\n\n        return cell;\n\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "reactjs", "react-native", "photoeditorsdk"], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 6160639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b9c5008122b620c250c976f8e3257a?s=128&d=identicon&r=PG", "display_name": "Malte Baumann", "link": "https://stackoverflow.com/users/6160639/malte-baumann"}, "is_accepted": true, "score": 2, "last_activity_date": 1518520597, "creation_date": 1518520597, "answer_id": 48765561, "question_id": 48727899, "link": "https://stackoverflow.com/questions/48727899/getting-photoeditorsdk-photoeditorsdk-h-file-not-found-error-in-react-native/48765561#48765561", "title": "Getting &#39;PhotoEditorSDK/PhotoEditorSDK.h&#39; file not found&#39; error in react native", "body": "<p>I'm not sure about the use of Cocoapods within React Native. Our demo used the manual installation steps, described in <a href=\"https://docs.photoeditorsdk.com/guides/ios/v8/introduction/getting_started\" rel=\"nofollow noreferrer\">our docs</a>. Could you try linking the PhotoEditor SDK using these steps instead of Cocoapods?</p>\n"}], "owner": {"reputation": 2895, "user_id": 6163987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7158c59e2b4e1c0081d9a5a6300e5b5?s=128&d=identicon&r=PG&f=1", "display_name": "K.Wu", "link": "https://stackoverflow.com/users/6163987/k-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 48765561, "answer_count": 1, "score": 1, "last_activity_date": 1518520597, "creation_date": 1518318465, "question_id": 48727899, "link": "https://stackoverflow.com/questions/48727899/getting-photoeditorsdk-photoeditorsdk-h-file-not-found-error-in-react-native", "title": "Getting &#39;PhotoEditorSDK/PhotoEditorSDK.h&#39; file not found&#39; error in react native", "body": "<p>I'm trying to install <a href=\"https://docs.photoeditorsdk.com/quickstarts/react_native\" rel=\"nofollow noreferrer\">this</a> -- <code>PhotoEditorSDK</code>, I followed the documentation exactly but keep getting <code>'PhotoEditorSDK/PhotoEditorSDK.h' file not found</code> error that causes build to be failed. Just to be clear, this is exactly how I tried to install this framework:</p>\n\n<p>(1) Inside my ios folder, I run command <code>pod init</code></p>\n\n<p>(2) I edit my <code>Podfile</code> like so:</p>\n\n<pre><code>  platform :ios, '9.0'\n\n  target 'nearbie' do\n      pod 'PhotoEditorSDK'\n  end\n</code></pre>\n\n<p>(3) Run <code>pod install</code> command</p>\n\n<p>(4) This is what my <code>.xcworkspace</code> looks like after step (3), and I also created <code>PESDKModule.h</code> &amp; <code>PESDKModule.m</code> files as well as draged <code>ios_license</code> license file there, as circled in the picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L0LA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0LA5.png\" alt=\"enter image description here\"></a></p>\n\n<p>(5) The content of <code>PESDKModule.h</code> &amp; <code>PESDKModule.m</code> are copied from demo app's <code>.xcworkspace</code> file like this:</p>\n\n<p>PESDKModule.h:</p>\n\n<pre><code>#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\n@interface PESDKModule : RCTEventEmitter &lt;RCTBridgeModule&gt;\n\n@end\n</code></pre>\n\n<p>PESDKModule.m:</p>\n\n<pre><code>#import \"PESDKModule.h\"\n#import &lt;React/RCTUtils.h&gt;\n#import &lt;PhotoEditorSDK/PhotoEditorSDK.h&gt;\n\n@interface PESDKModule () &lt;PESDKPhotoEditViewControllerDelegate&gt;\n@end\n\n@implementation PESDKModule\n\nRCT_EXPORT_MODULE(PESDK);\n\nRCT_EXPORT_METHOD(present:(NSString *)path) {\n    PESDKPhotoEditViewController *photoEditViewController =\n [[PESDKPhotoEditViewController alloc] initWithData:[NSData dataWithContentsOfFile:path] configuration:[[PESDKConfiguration alloc] init]];\n  photoEditViewController.delegate = self;\n  UIViewController *currentViewController = RCTPresentedViewController();\n\n  dispatch_async(dispatch_get_main_queue(), ^{\n[currentViewController presentViewController:photoEditViewController animated:YES completion:NULL];\n  });\n}\n\n#pragma mark - IMGLYPhotoEditViewControllerDelegate\n\n- (void)photoEditViewController:(PESDKPhotoEditViewController *)photoEditViewController didSaveImage:(UIImage *)image imageAsData:(NSData *)data {\n  [photoEditViewController.presentingViewController dismissViewControllerAnimated:YES completion:^{\n    [self sendEventWithName:@\"PhotoEditorDidSave\" body:@{ @\"image\": [UIImageJPEGRepresentation(image, 1.0) base64EncodedStringWithOptions: 0], @\"data\": [data base64EncodedStringWithOptions:0] }];\n  }];\n}\n\n- (void)photoEditViewControllerDidCancel:(PESDKPhotoEditViewController *)photoEditViewController {\n  [photoEditViewController.presentingViewController dismissViewControllerAnimated:YES completion:^{\n[self sendEventWithName:@\"PhotoEditorDidCancel\" body:@{}];\n  }];\n}\n\n- (void)photoEditViewControllerDidFailToGeneratePhoto:(PESDKPhotoEditViewController *)photoEditViewController {\n  [self sendEventWithName:@\"PhotoEditorDidFailToGeneratePhoto\" body:@{}];\n}\n\n#pragma mark - RCTEventEmitter\n\n- (NSArray&lt;NSString *&gt; *)supportedEvents {\n  return @[ @\"PhotoEditorDidSave\", @\"PhotoEditorDidCancel\", @\"PhotoEditorDidFailToGeneratePhoto\" ];\n}\n\n@end\n</code></pre>\n\n<p>But when I try to build the project, I get error like this (located inside <code>PESDKModule.m</code> file):</p>\n\n<p><a href=\"https://i.stack.imgur.com/UWX4C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UWX4C.png\" alt=\"enter image description here\"></a></p>\n"}]