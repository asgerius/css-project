[{"tags": ["ios", "objective-c", "uikit"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537400042, "post_id": 52415313, "comment_id": 91774560, "body": "You say &quot;adjust the back/next buttons&quot;. This implies that the arrangement should not be the same as when you push push push to reach this scene originally. Can you say more about the arrangement now <i>should</i> be?"}, {"owner": {"reputation": 159, "user_id": 817044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d64a59054ac12d9385d564d27ad0fc?s=128&d=identicon&r=PG", "display_name": "BjornW", "link": "https://stackoverflow.com/users/817044/bjornw"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537400614, "post_id": 52415313, "comment_id": 91774655, "body": "@matt So, the sub-view I want to re-use is a Terms of Service Accept view, it&#39;s normally in the Sign Up flow, but I want to issue it modally from the Login view if the user hasn&#39;t accepted the latest ToS. So, in the Sign Up flow, the Back/Next buttons act &quot;normally&quot; and have Interface Builder associated segues, but when used in the Login modal way, I figured I&#39;d hook their actions to be &quot;Decline&quot; and &quot;Accept&quot; instead and handle the transitions manually. I agree this seems more and more stupid to mix programmatic stuff with the Storyboard stuff..."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537401491, "post_id": 52415313, "comment_id": 91774839, "body": "So what you want is just a navigation controller containing only this one ToS view? So why not just configure that in the storyboard? Another navigation controller, with its root view controller being this same ToS controller (no need to &quot;copy&quot; anything)."}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 817044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d64a59054ac12d9385d564d27ad0fc?s=128&d=identicon&r=PG", "display_name": "BjornW", "link": "https://stackoverflow.com/users/817044/bjornw"}, "edited": false, "score": 0, "creation_date": 1537403908, "post_id": 52415742, "comment_id": 91775319, "body": "True, I arrived at a similar conclusion after fiddling around with it a bit more - initially I missed that my Login View did in fact already have a navigation controller, it just had a hidden navigation bar. So by un-hiding it and seguing to the ToS page, I get the ToS page with navbar items (from the Login View nav controller)."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1537402088, "creation_date": 1537402088, "answer_id": 52415742, "question_id": 52415313, "link": "https://stackoverflow.com/questions/52415313/custom-segue-to-specific-sub-view-in-navigation-controller-hierarchy/52415742#52415742", "title": "Custom segue to specific sub-view in navigation controller hierarchy", "body": "<p>So why not hook up the segues like this:</p>\n\n<pre><code>Navigation Controller (sign up) -&gt;\n  VC1 -&gt; VC2 -&gt; Terms of Service -&gt; VC3\n                       \u2191\nLogin View -&gt;          |                          \n     Navigation Controller\n</code></pre>\n\n<p>This way, you simply have two different ways of reaching Terms of Service view controller, with no need to copy it. You can use a Storyboard Reference object to configure this without having a bunch of criss-crossing arrows marring the storyboard.</p>\n"}], "owner": {"reputation": 159, "user_id": 817044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d64a59054ac12d9385d564d27ad0fc?s=128&d=identicon&r=PG", "display_name": "BjornW", "link": "https://stackoverflow.com/users/817044/bjornw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 52415742, "answer_count": 1, "score": 0, "last_activity_date": 1537402088, "creation_date": 1537398476, "question_id": 52415313, "link": "https://stackoverflow.com/questions/52415313/custom-segue-to-specific-sub-view-in-navigation-controller-hierarchy", "title": "Custom segue to specific sub-view in navigation controller hierarchy", "body": "<p>I have a Sign Up wizard flow in a storyboard, it's a Navigation Controller (as the storyboard entry point) with ordinary Back/Next buttons in the navbar and then 4 sub-step Scenes with Show/Push segue transitions in a linear chain.</p>\n\n<p>Normally I custom segue to the storyboard's navigation controller and the wizard then starts at the first step and everything's fine.</p>\n\n<p>But from another point in the app I need to modally go to one of the sub-steps (not the first), and I don't want to copy/paste the entire view and the class controlling it into a whole new navigation controller chain, so I figured I could segue directly to it (and dynamically adjust what happens in the Back/Next buttons).</p>\n\n<p>So I tried subclassing UIStoryboardSegue to do a custom segue for this, its sceneNamed method does something like this:</p>\n\n<p>return [storyboard instantiateViewControllerWithIdentifier:sceneName];</p>\n\n<p>and it works, but since we instantiate the sub-scene's View Controller and not the Navigation Controller, I see the scene but don't get the navbar..</p>\n\n<p>On the other hand if I segue to the Navigation Controller it starts at the first linked Scene as usual.</p>\n\n<p>Is there any way to fool UIKit into going to the Navigation Controller but getting it to start at a scene further down the normal hierarchy/flow ?</p>\n\n<p>Yes I realize this is hackish; there are other solutions (I can programmatically add Back/Next buttons for example in this case). Just curious.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uitableview"], "comments": [{"owner": {"reputation": 13615, "user_id": 725628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c848c87c01526357853be188d02759d?s=128&d=identicon&r=PG", "display_name": "EmilioPelaez", "link": "https://stackoverflow.com/users/725628/emiliopelaez"}, "edited": false, "score": 0, "creation_date": 1537390551, "post_id": 52414066, "comment_id": 91771908, "body": "To improve performance, cells are reused. That&#39;s why your cell contains content that was displayed before. I would suggest googling something like &quot;uitableviewcell reuse&quot; and get a good idea of how it works."}, {"owner": {"reputation": 55, "user_id": 2012566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4721d933243ccb140a6a6fdc4402c4a7?s=128&d=identicon&r=PG", "display_name": "btorkelson", "link": "https://stackoverflow.com/users/2012566/btorkelson"}, "reply_to_user": {"reputation": 13615, "user_id": 725628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c848c87c01526357853be188d02759d?s=128&d=identicon&r=PG", "display_name": "EmilioPelaez", "link": "https://stackoverflow.com/users/725628/emiliopelaez"}, "edited": false, "score": 0, "creation_date": 1537391544, "post_id": 52414066, "comment_id": 91772275, "body": "@EmilioPelaez Yes, I agree about reusing cells. However, I cannot seem to figure out how to update the uitextfield instead of create it again."}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1537391619, "post_id": 52414066, "comment_id": 91772293, "body": "You cannot do this :  [cell.contentView addSubview:caTextField]; and  [cell.contentView addSubview:caTextField]; Use IB to add them for you. You can give cells with different Identifiers : @&quot;cell&quot;, @&quot;cell1&quot;, @&quot;cell2&quot; etc, to directly load cells from IB but adding subviews by yourself."}, {"owner": {"reputation": 55, "user_id": 2012566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4721d933243ccb140a6a6fdc4402c4a7?s=128&d=identicon&r=PG", "display_name": "btorkelson", "link": "https://stackoverflow.com/users/2012566/btorkelson"}, "reply_to_user": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1537391756, "post_id": 52414066, "comment_id": 91772339, "body": "@E.Coms could you expand on this please? I don&#39;t understand what you mean by add different identifiers."}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1537391883, "post_id": 52414066, "comment_id": 91772394, "body": "UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@&quot;Cell&quot;]; This give you one kind of cell. if (ca.CustomControlType == 1) {UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@&quot;Cell&quot;]; } else if (ca.CustomControlType == 4) {UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@&quot;Cell1&quot;]; }else{UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@&quot;Cell2&quot;]; } You can add three kinds of cell prototypes in your IB and  in their identifiers ."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 2, "creation_date": 1537392130, "post_id": 52414066, "comment_id": 91772478, "body": "You should <b>never</b> manipulate the view hierarchy of any cell. Instead design different cells, registered under different identifiers."}, {"owner": {"reputation": 55, "user_id": 2012566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4721d933243ccb140a6a6fdc4402c4a7?s=128&d=identicon&r=PG", "display_name": "btorkelson", "link": "https://stackoverflow.com/users/2012566/btorkelson"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537393765, "post_id": 52414066, "comment_id": 91773025, "body": "@Cristik So if I create a new cell with a textfield, how can i reference that textfield to update it? Especially since I will have multiple cell of that type?"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537393847, "post_id": 52414066, "comment_id": 91773045, "body": "@btorkelson as I recommended in my last comment, use different cells, having different classes that expose the textfields or other controls you need."}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1537394007, "post_id": 52414066, "comment_id": 91773094, "body": "Use tag for each ui. Cell.viewwithtag() to refer textfield"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "reply_to_user": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1537394161, "post_id": 52414066, "comment_id": 91773141, "body": "@E.Coms what an 80&#39;s way to program, using tags. We have OOP now, we can add properties on classes."}, {"owner": {"reputation": 55, "user_id": 2012566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4721d933243ccb140a6a6fdc4402c4a7?s=128&d=identicon&r=PG", "display_name": "btorkelson", "link": "https://stackoverflow.com/users/2012566/btorkelson"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537394335, "post_id": 52414066, "comment_id": 91773212, "body": "@Cristik So do I need to design different cells in the IB or create different classes for each type?"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537394413, "post_id": 52414066, "comment_id": 91773235, "body": "@btorkelson different classes, with our without xibs by your preference. But definitively different classes and different tableView identifiers."}, {"owner": {"reputation": 467, "user_id": 6532217, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Go05O.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/6532217/ali"}, "edited": false, "score": 0, "creation_date": 1537395091, "post_id": 52414066, "comment_id": 91773427, "body": "@btorkelson you may check this out: <a href=\"https://www.appcoda.com/customize-table-view-cells-for-uitableview/\" rel=\"nofollow noreferrer\">appcoda.com/customize-table-view-cells-for-uitableview</a>  Follow this example and it will solve your problem."}], "answers": [{"tags": [], "owner": {"reputation": 7497, "user_id": 1583877, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lyGkL.png?s=128&g=1", "display_name": "Evgeny Karkan", "link": "https://stackoverflow.com/users/1583877/evgeny-karkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1537400595, "creation_date": 1537400595, "answer_id": 52415596, "question_id": 52414066, "link": "https://stackoverflow.com/questions/52414066/ios-uitableview-cells-getting-duplicated/52415596#52415596", "title": "iOS UITableView cells getting duplicated", "body": "<p>I'd suggest you to create custom <code>UITableViewCell</code> subclass and put all subviews related logic there.<br>\nNext, in order to reset/clear cell before reuse - you should override <code>prepeareForReuse</code> function.</p>\n\n<p>Swift:</p>\n\n<pre><code>override func prepareForReuse() {\n    super.prepareForReuse()\n\n    //set cell to initial state here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3473, "user_id": 6144118, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/XRQ9M.jpg?s=128&g=1", "display_name": "\u65e0\u591c\u4e4b\u661f\u8fb0", "link": "https://stackoverflow.com/users/6144118/%e6%97%a0%e5%a4%9c%e4%b9%8b%e6%98%9f%e8%be%b0"}, "is_accepted": false, "score": 0, "last_activity_date": 1537442191, "creation_date": 1537442191, "answer_id": 52423899, "question_id": 52414066, "link": "https://stackoverflow.com/questions/52414066/ios-uitableview-cells-getting-duplicated/52423899#52423899", "title": "iOS UITableView cells getting duplicated", "body": "<p>First,I suggest you to use custom cells.If not and your cells are not so many,maybe you can try unique cell identifier to avoid cell reuse:</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    // unique reuseID\n    NSString *cellReuseID = [NSString stringWithFormat:@\"%ld_%ld\", indexPath.section, indexPath.row];\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:cellReuseID];\n    if (!cell) {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:cellReuseID];\n        // do something\n    }\n    return cell;\n}\n</code></pre>\n\n<p>Hope it's helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 2493626, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a2d7c01e5ed5560c6da42b25eb7eb76?s=128&d=identicon&r=PG", "display_name": "KWilk", "link": "https://stackoverflow.com/users/2493626/kwilk"}, "is_accepted": false, "score": 1, "last_activity_date": 1537476801, "creation_date": 1537476801, "answer_id": 52433146, "question_id": 52414066, "link": "https://stackoverflow.com/questions/52414066/ios-uitableview-cells-getting-duplicated/52433146#52433146", "title": "iOS UITableView cells getting duplicated", "body": "<p>Instead of creating the UITextfield each time I would suggest at least using <code>[UIView viewWithTag:tag]</code> to capture the same UITextField object.</p>\n"}], "owner": {"reputation": 55, "user_id": 2012566, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4721d933243ccb140a6a6fdc4402c4a7?s=128&d=identicon&r=PG", "display_name": "btorkelson", "link": "https://stackoverflow.com/users/2012566/btorkelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1537476801, "creation_date": 1537390362, "question_id": 52414066, "link": "https://stackoverflow.com/questions/52414066/ios-uitableview-cells-getting-duplicated", "title": "iOS UITableView cells getting duplicated", "body": "<p>I have a tableviewcontroller that has dynamic controls created in cells. If it's a dropdown type, I take the user to a different tableviewcontroller to select the value. Once selected, I pop back and reload the data, but when I do that it overwrites the cells on top of one another. I know this is because I'm reusing the cells, but I cannot seem to figure out how to prevent it.</p>\n\n<pre><code>- (void)viewWillAppear:(BOOL)animated\n{\n    [super viewWillAppear:YES];\n\n    [self.tableView reloadData];\n\n}\n\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n\n\n    EWHInboundCustomAttribute *ca = [visibleCustomAttributes objectAtIndex:indexPath.row];\n\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"Cell\"];\n        cell.tag=indexPath.row;\n\n\n    if (ca.CustomControlType == 1) {\n        cell.detailTextLabel.hidden=true;\n        cell.textLabel.hidden=true;\n\n        UITextField *caTextField = [[UITextField alloc] initWithFrame:CGRectMake(10, 10, 185, 30)];\n\n            caTextField.adjustsFontSizeToFitWidth = YES;\n            caTextField.textColor = [UIColor blackColor];\n\n            caTextField.placeholder = ca.LabelCaption;\n            if (ca.ReadOnly) {\n                [caTextField setEnabled: NO];\n            } else {\n                [caTextField setEnabled: YES];\n            }\n            caTextField.text=nil;\n            caTextField.text=ca.Value;\n            caTextField.tag=indexPath.row;\n\n            caTextField.delegate=self;\n\n            [cell.contentView addSubview:caTextField];\n\n\n\n    } else if (ca.CustomControlType == 4) {\n\n        cell.detailTextLabel.text=ca.Value;\n        cell.textLabel.text=ca.LabelCaption;\n        cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;\n\n    } else {\n\n            cell.detailTextLabel.hidden=true;\n            cell.textLabel.hidden=true;\n            UITextField *caTextField = [[UITextField alloc] initWithFrame:CGRectMake(10, 10, 185, 30)];\n            caTextField.adjustsFontSizeToFitWidth = YES;\n            caTextField.textColor = [UIColor grayColor];\n\n            caTextField.placeholder = ca.LabelCaption;\n            [caTextField setEnabled: NO];\n            caTextField.text = ca.Value;\n\n            caTextField.tag=indexPath.row;\n            caTextField.delegate=self;\n            [cell.contentView addSubview:caTextField];\n    }\n\n\n\n    return cell;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/c8ufG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c8ufG.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "authentication", "safari"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537434470, "post_id": 52413090, "comment_id": 91785855, "body": "It&#39;s not secure in header and in URL anyway, because you are using unsecure  http protocol."}, {"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537443661, "post_id": 52413090, "comment_id": 91791385, "body": "Sorry, I edited the questions. It is using a secure HTTP protocol."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537460674, "post_id": 52413090, "comment_id": 91802409, "body": "Any way what is the problem using token in URL? Are you afraid that user will copy it? You can use one time request token: it will become invalid after first request."}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537443634, "creation_date": 1537385783, "last_edit_date": 1537443634, "question_id": 52413090, "link": "https://stackoverflow.com/questions/52413090/ios-when-opening-a-url-in-safari-is-it-somehow-possible-to-send-authorization", "title": "iOS: When opening a URL in safari, is it somehow possible to send authorization token in header field?", "body": "<p>I am trying to look for a way to open a URL in safari with a header field that contains an authorization key.</p>\n\n<p>Currently, the string looks something like this when opening a URL. <code>\"https://www.myWebsite/user?token=\\(userToken)\"</code></p>\n\n<p>However,  I want to put the token in a header field for better security reasons. Any help is appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "apple-push-notifications", "firebase-cloud-messaging"], "owner": {"reputation": 141, "user_id": 9936834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e58e60a0ba2b3bfca27cda4599532f?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin Hegde", "link": "https://stackoverflow.com/users/9936834/sachin-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537383936, "creation_date": 1537383936, "question_id": 52412674, "link": "https://stackoverflow.com/questions/52412674/didreceiveremotenotification-with-uibackgroundfetchresult-is-not-working-in-ios", "title": "didReceiveRemoteNotification with UIBackgroundFetchResult is not working in IOS", "body": "<p>I'm trying to implement FCM notification in IOS with <code>content_available: true</code> . This way IOS will notify my application when new notification arrives without adding that notification to in the notification tray hence i can do background fetch and then show local notification when my app is ready with the content.</p>\n\n<p>I was able to implement a sample application with FCM which works as per my requirement mentioned before. when i tried to integrate working code with my application my not longer receiving data notification trigger with <code>content_available: true</code>. However Normal notification implementation without  <code>content_available: true</code> (new notification visible to the user and App is not notified of the new notification when it arrives.) is working.\nThe only difference i can see is that Firebase initiation code is being triggered differently as shown below.</p>\n\n<p>In <strong>working project</strong> im initializing Firebase from <strong>AppDelegate</strong></p>\n\n<pre><code>@interface AppDelegate () &lt;UNUserNotificationCenterDelegate&gt;\n@end\n\n@implementation AppDelegate\n\nNSString *const kGCMMessageIDKey = @\"gcm.message_id\";\n\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n\n    [self initFirebase];\n\n    return YES;\n}\n</code></pre>\n\n<p>In the <strong>project that is NOT working</strong> I'm initializing firebase from <strong>ViewController</strong> when user clicks on a button.</p>\n\n<pre><code>#import \"LoginPageViewController.h\"\n\n@import UserNotifications;\n\n@interface LoginPageViewController () &lt;UNUserNotificationCenterDelegate&gt;\n\n@end\n\n@implementation LoginPageViewController\n\nNSString *const kGCMMessageIDKey = @\"gcm.message_id\";\n\n\n- (void)initFirebase{\n    [FIRApp configure];\n    .\n    .\n    .\n     }\n</code></pre>\n\n<p>All other methods are same between those two application and all the triggers are working perfectly, following is the method that handles FCM data notification, this gets called in working project whenever i sent FCM notification but never being called in the other project.</p>\n\n<pre><code>- (void)application:(UIApplication *)application\ndidReceiveRemoteNotification:(NSDictionary *)userInfo\nfetchCompletionHandler:(void (^)(UIBackgroundFetchResult result))completionHandler{\n    printf(\"#B received notification!\");\n    //NSLog(@\"#B received notification\");\n    //handle the notification here\n}\n</code></pre>\n\n<p>Has anyone successfully implemented FCM integration where it is being initialized outside AppDelegate class? \nHow do i make sure didReceiveRemoteNotification is being called in that case? any pointers would be much appreciated.</p>\n\n<p>Below is the complete LoginViewController.m if thats helpful  in anyway.</p>\n\n<pre><code>//\n//  LoginPageViewController.m\n//  ios\n//\n//  Created by user on 9/12/18.\n//  Copyright \u00a9 2018 binfer. All rights reserved.\n//\n\n#import \"LoginPageViewController.h\"\n\n@import UserNotifications;\n\n@interface LoginPageViewController () &lt;UNUserNotificationCenterDelegate&gt;\n\n@end\n\n@implementation LoginPageViewController\n\nNSString *const kGCMMessageIDKey = @\"gcm.message_id\";\n\n\n- (void)initFirebase{\n    [FIRApp configure];\n\n    if (floor(NSFoundationVersionNumber) &lt;= NSFoundationVersionNumber_iOS_9_x_Max) {\n        printf(\"#B IOS 9\");\n        UIUserNotificationType allNotificationTypes =\n        (UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge);\n        UIUserNotificationSettings *settings =\n        [UIUserNotificationSettings settingsForTypes:allNotificationTypes categories:nil];\n        [[UIApplication sharedApplication] registerUserNotificationSettings:settings];\n    } else {\n        // iOS 10 or later\n#if defined(__IPHONE_10_0) &amp;&amp; __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= __IPHONE_10_0\n        printf(\"#B IOS 10+\");\n        UNAuthorizationOptions authOptions =\n        UNAuthorizationOptionAlert\n        | UNAuthorizationOptionSound\n        | UNAuthorizationOptionBadge;\n        [[UNUserNotificationCenter currentNotificationCenter] requestAuthorizationWithOptions:authOptions completionHandler:^(BOOL granted, NSError * _Nullable error) {\n        }];\n\n        // For iOS 10 display notification (sent via APNS)\n        [UNUserNotificationCenter currentNotificationCenter].delegate = self;\n        // For iOS 10 data message (sent via FCM)\n        [FIRMessaging messaging].delegate = self;\n#endif\n    }\n\n    [[UIApplication sharedApplication] registerForRemoteNotifications];\n    NSLog(@\"#B fir token is %@\",[[FIRInstanceID instanceID] token]);\n    printf(\"#B FCM token received: %s\", [[[FIRInstanceID instanceID] token] UTF8String]);\n}\n- (void)initFirebase1{\n    //[START configure_firebase]\n    [FIRApp configure];\n    // [END configure_firebase]\n\n    // [START set_messaging_delegate]\n    [FIRMessaging messaging].delegate = self;\n    // [END set_messaging_delegate]\n\n    // Register for remote notifications. This shows a permission dialog on first run, to\n    // show the dialog at a more appropriate time move this registration accordingly.\n    // [START register_for_notifications]\n    if ([UNUserNotificationCenter class] != nil) {\n        // iOS 10 or later\n        // For iOS 10 display notification (sent via APNS)\n        [UNUserNotificationCenter currentNotificationCenter].delegate = self;\n        UNAuthorizationOptions authOptions = UNAuthorizationOptionAlert |\n        UNAuthorizationOptionSound | UNAuthorizationOptionBadge;\n        [[UNUserNotificationCenter currentNotificationCenter]\n         requestAuthorizationWithOptions:authOptions\n         completionHandler:^(BOOL granted, NSError * _Nullable error) {\n             // ...\n         }];\n    } else {\n        // iOS 10 notifications aren't available; fall back to iOS 8-9 notifications.\n        UIUserNotificationType allNotificationTypes =\n        (UIUserNotificationTypeSound | UIUserNotificationTypeAlert | UIUserNotificationTypeBadge);\n        UIUserNotificationSettings *settings =\n        [UIUserNotificationSettings settingsForTypes:allNotificationTypes categories:nil];\n        [[UIApplication sharedApplication] registerUserNotificationSettings:settings];\n    }\n\n    [[UIApplication sharedApplication] registerForRemoteNotifications];\n    // [END register_for_notifications]\n\n    NSString *token = FIRMessaging.messaging.FCMToken;\n    printf(\"#B initFirebase done! %s,\", [token UTF8String]);\n}\n\n// [START refresh_token]\n- (void)messaging:(FIRMessaging *)messaging didReceiveRegistrationToken:(NSString *)fcmToken {\n    printf(\"#B FCM token received: %s\", [fcmToken UTF8String]);\n    NSLog(@\"FCM registration token: %@\", fcmToken);\n    // Notify about received token.\n    NSDictionary *dataDict = [NSDictionary dictionaryWithObject:fcmToken forKey:@\"token\"];\n    [[NSNotificationCenter defaultCenter] postNotificationName:\n     @\"FCMToken\" object:nil userInfo:dataDict];\n    // TODO: If necessary send token to application server.\n    // Note: This callback is fired at each app startup and whenever a new token is generated.\n}\n\n- (void)application:(UIApplication *)application didFailToRegisterForRemoteNotificationsWithError:(NSError *)error {\n    printf(\"#B Unable to register for remote notificaiton\");\n    NSLog(@\"#B Unable to register for remote notifications: %@\", error);\n}\n\n// This function is added here only for debugging purposes, and can be removed if swizzling is enabled.\n// If swizzling is disabled then this function must be implemented so that the APNs device token can be paired to\n// the FCM registration token.\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken {\n    NSLog(@\"APNs device token retrieved: %@\", deviceToken);\n      printf(\"#B APNs device token  retrieved\");\n\n    // With swizzling disabled you must set the APNs device token here.\n    // [FIRMessaging messaging].APNSToken = deviceToken;\n}\n\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center\n       willPresentNotification:(UNNotification *)notification\n         withCompletionHandler:(void (^)(UNNotificationPresentationOptions))completionHandler {\n    NSDictionary *userInfo = notification.request.content.userInfo;\n\n    // With swizzling disabled you must let Messaging know about the message, for Analytics\n    // [[FIRMessaging messaging] appDidReceiveMessage:userInfo];\n\n    // Print message ID.\n    if (userInfo[kGCMMessageIDKey]) {\n        printf(\"#B Message recieved: %s,\", [kGCMMessageIDKey UTF8String]);\n        NSLog(@\"Message ID: %@\", userInfo[kGCMMessageIDKey]);\n    }\n\n    // Print full message.\n    NSLog(@\"%@\", userInfo);\n    printf(\"#B full Message recieved\");\n    // Change this to your preferred presentation option\n    completionHandler(UNNotificationPresentationOptionNone);\n}\n\n// Handle notification messages after display notification is tapped by the user.\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center\ndidReceiveNotificationResponse:(UNNotificationResponse *)response\n         withCompletionHandler:(void(^)(void))completionHandler {\n    NSDictionary *userInfo = response.notification.request.content.userInfo;\n    if (userInfo[kGCMMessageIDKey]) {\n          printf(\"#B Message recieved: %s,\", [kGCMMessageIDKey UTF8String]);\n        NSLog(@\"Message ID: %@\", userInfo[kGCMMessageIDKey]);\n    }\n\n    // Print full message.\n    NSLog(@\"%@\", userInfo);\n\n    completionHandler();\n}\n\n- (void)application:(UIApplication *)application\ndidReceiveRemoteNotification:(NSDictionary *)userInfo\nfetchCompletionHandler:(void (^)(UIBackgroundFetchResult result))completionHandler{\n    printf(\"#B received notification!\");\n    //NSLog(@\"#B received notification\");\n    //handle the notification here\n}\n\n- (void)messaging:(FIRMessaging *)messaging didReceiveMessage:(FIRMessagingRemoteMessage *)remoteMessage {\n    printf(\"Recieved data message:\");\n    NSLog(@\"Received data message: %@\", remoteMessage.appData);\n}\n\n\n// [START receive_message]\n- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo {\n    // If you are receiving a notification message while your app is in the background,\n    // this callback will not be fired till the user taps on the notification launching the application.\n    // TODO: Handle data of notification\n\n    // With swizzling disabled you must let Messaging know about the message, for Analytics\n    // [[FIRMessaging messaging] appDidReceiveMessage:userInfo];\n\n    // Print message ID.\n    if (userInfo[kGCMMessageIDKey]) {\n        NSLog(@\"Message ID: %@\", userInfo[kGCMMessageIDKey]);\n    }\n\n    // Print full message.\n    NSLog(@\"%@\", userInfo);\n}\n\n//////////////////////////////////////////////////////////////////////\n\n- (IBAction)registrationClicked:(UIButton *)sender {\n}\n\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n/*\n#pragma mark - Navigation\n\n// In a storyboard-based application, you will often want to do a little preparation before navigation\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    // Get the new view controller using [segue destinationViewController].\n    // Pass the selected object to the new view controller.\n}\n*/\n\n- (IBAction)loginButton:(UIButton *)sender {\n}\n- (IBAction)keepMeSignedInSwitch:(UISwitch *)sender {\n}\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "key-value-observing", "ocmock"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1537383764, "post_id": 52412009, "comment_id": 91768879, "body": "did u implement the observeValueForKeyPath method ?"}, {"owner": {"reputation": 33, "user_id": 10166767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xEWs8IQG238/AAAAAAAAAAI/AAAAAAAAAEY/7uLSSmCa3vg/photo.jpg?sz=128", "display_name": "sayoni dutta roy", "link": "https://stackoverflow.com/users/10166767/sayoni-dutta-roy"}, "reply_to_user": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1537429039, "post_id": 52412009, "comment_id": 91782988, "body": "Yes in &quot;MyMediaPlayer&quot; class but it is not being called in case of keypath @&quot;status&quot;"}], "owner": {"reputation": 33, "user_id": 10166767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xEWs8IQG238/AAAAAAAAAAI/AAAAAAAAAEY/7uLSSmCa3vg/photo.jpg?sz=128", "display_name": "sayoni dutta roy", "link": "https://stackoverflow.com/users/10166767/sayoni-dutta-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537381239, "creation_date": 1537381239, "question_id": 52412009, "link": "https://stackoverflow.com/questions/52412009/ocmock-giving-error-with-key-value-observing", "title": "OCMock giving error with Key Value Observing", "body": "<pre><code>-(void)testPause_trial\n{\n    MyMediaPlayer *player = [[MyMediaPlayer alloc]init];\n\n    id mock = [OCMockObject partialMockForObject:player];\n\n    AVQueuePlayer* result = [[AVQueuePlayer alloc]init];\n    result.actionAtItemEnd = AVPlayerActionAtItemEndPause;\n\n    [result addObserver:player forKeyPath:@\"status\" options:0 context:nil];\n\n    [result addObserver:player forKeyPath:@\"rate\" options:0 context:nil];\n\n    [(PTMediaPlayer*)[[mock stub] andReturn:result] createAVQueuePlayer:OCMOCK_ANY];\n\n    //Start playing\n    [player play];\n\n    [player pause];\n\n    [mock stopMocking];\n\n}\n</code></pre>\n\n<p>Without this line \"[(PTMediaPlayer*)[[mock stub] andReturn:result] createAVQueuePlayer:OCMOCK_ANY];\", my code works fine.</p>\n\n<p>But on including this line:</p>\n\n<ol>\n<li>observeValueForKeyPath is not called for keypath = @\"status\" </li>\n<li><p>for keypath = @\"rate\", I get the following error:</p>\n\n<p>observeValueForKeyPath:ofObject:change:context: message was received but not handled.</p>\n\n<p>Key path: rate</p>\n\n<p>Observed object: </p>\n\n<p>Change: {\n    kind = 1;\n}</p>\n\n<p>Context: 0x0\"\n(\n    0   CoreFoundation                      0x000000010bcce1e6 <strong>exceptionPreprocess + 294\n    1   libobjc.A.dylib                     0x000000010b363031 objc_exception_throw + 48\n    2   CoreFoundation                      0x000000010bd43975 +[NSException raise:format:] + 197\n    3   Foundation                          0x000000010ace15ca -[NSObject(NSKeyValueObserving) observeValueForKeyPath:ofObject:change:context:] + 161\n    4   Tests_new                           0x0000000125f05110 -[PTMediaPlayer observeValueForKeyPath:ofObject:change:context:] + 176\n    5   CoreFoundation                      0x000000010bc51ccc __invoking_</strong> + 140\n    6   CoreFoundation                      0x000000010bc51b84 -[NSInvocation invoke] + 308\n    7   CoreFoundation                      0x000000010bc505f8 <strong><em>forwarding</em></strong> + 760\n    8   CoreFoundation                      0x000000010bc50278 _CF_forwarding_prep_0 + 120\n    9   Foundation                          0x000000010ac01820 NSKeyValueNotifyObserver + 349\n    10  Foundation                          0x000000010ac010d7 NSKeyValueDidChange + 483\n    11  Foundation                          0x000000010ace1422 NSKeyValueDidChangeWithPerThreadPendingNotifications + 148\n    12  AVFoundation                        0x000000011b6e04f3 -[AVPlayer didChangeValueForKey:] + 47\n    13  AVFoundation                        0x000000011b6e724f -[AVPlayer setRate:withVolumeRampDuration:playImmediately:rateChangeReason:] + 797\n    14  AVFoundation                        0x000000011b6e730f -[AVPlayer setRate:] + 84\n    15  Tests_new                           0x0000000125f3ac6a -[PTTimelineManager pause] + 250\n    16  Tests_new                           0x0000000125f01706 -[PTMediaPlayer pause] + 182\n    17  CoreFoundation                      0x000000010bc51ccc <strong>invoking_</strong> + 140\n    18  CoreFoundation                      0x000000010bc51b84 -[NSInvocation invoke] + 308\n    19  CoreFoundation                      0x000000010bc505f8 <strong><em>forwarding</em></strong> + 760\n    20  CoreFoundation                      0x000000010bc50278 _CF_forwarding_prep_0 + 120\n    21  Tests_new                           0x0000000125de49d7 -[PTMediaPlayerTests testPause_trial] + 2183\n    22  CoreFoundation                      0x000000010bc51ccc <strong>invoking_</strong> + 140\n    23  CoreFoundation                      0x000000010bc51b84 -[NSInvocation invoke] + 308\n    24  XCTest                              0x000000010b20a01a __24-[XCTestCase invokeTest]_block_invoke.184 + 74\n    25  XCTest                              0x000000010b264ae3 +[XCTestCase(Failures) performFailableBlock:shouldInterruptTest:] + 36\n    26  XCTest                              0x000000010b264a2e -[XCTestCase(Failures) _performTurningExceptionsIntoFailuresInterruptAfterHandling:block:] + 54\n    27  XCTest                              0x000000010b209ce3 __24-[XCTestCase invokeTest]_block_invoke + 847\n    28  XCTest                              0x000000010b269a7d -[XCUITestContext performInScope:] + 248\n    29  XCTest                              0x000000010b20997f -[XCTestCase invokeTest] + 175\n    30  XCTest                              0x000000010b20b555 __26-[XCTestCase performTest:]_block_invoke_2 + 42\n    31  XCTest                              0x000000010b264ae3 +[XCTestCase(Failures) performFailableBlock:shouldInterruptTest:] + 36\n    32  XCTest                              0x000000010b264a2e -[XCTestCase(Failures) _performTurningExceptionsIntoFailuresInterruptAfterHandling:block:] + 54\n    33  XCTest                              0x000000010b20b402 __26-[XCTestCase performTest:]_block_invoke.318 + 90\n    34  XCTest                              0x000000010b271061 +[XCTContext runInContextForTestCase:block:] + 225\n    35  XCTest                              0x000000010b20aaff -[XCTestCase performTest:] + 673\n    36  XCTest                              0x000000010b24d727 -[XCTest runTest] + 57\n    37  XCTest                              0x000000010b206341 __27-[XCTestSuite performTest:]_block_invoke + 365\n    38  XCTest                              0x000000010b205b1d -[XCTestSuite _performProtectedSectionForTest:testSection:] + 55\n    39  XCTest                              0x000000010b205dde -[XCTestSuite performTest:] + 296\n    40  XCTest                              0x000000010b24d727 -[XCTest runTest] + 57\n    41  XCTest                              0x000000010b206341 __27-[XCTestSuite performTest:]_block_invoke + 365\n    42  XCTest                              0x000000010b205b1d -[XCTestSuite _performProtectedSectionForTest:testSection:] + 55\n    43  XCTest                              0x000000010b205dde -[XCTestSuite performTest:] + 296\n    44  XCTest                              0x000000010b24d727 -[XCTest runTest] + 57\n    45  XCTest                              0x000000010b206341 __27-[XCTestSuite performTest:]_block_invoke + 365\n    46  XCTest                              0x000000010b205b1d -[XCTestSuite _performProtectedSectionForTest:testSection:] + 55\n    47  XCTest                              0x000000010b205dde -[XCTestSuite performTest:] + 296\n    48  XCTest                              0x000000010b24d727 -[XCTest runTest] + 57\n    49  XCTest                              0x000000010b27afa6 __44-[XCTTestRunSession runTestsAndReturnError:]_block_invoke + 40\n    50  XCTest                              0x000000010b21e389 -[XCTestObservationCenter _observeTestExecutionForBlock:] + 594\n    51  XCTest                              0x000000010b27adb1 -[XCTTestRunSession runTestsAndReturnError:] + 369\n    52  XCTest                              0x000000010b1ecc71 -[XCTestDriver runTestsAndReturnError:] + 447\n    53  XCTest                              0x000000010b26fbb1 _XCTestMain + 960\n    54  xctest                              0x000000010a8a72a4 main + 571\n    55  libdyld.dylib                       0x000000011289b955 start + 1\n)</p>\n\n<p>Any help would be great!</p></li>\n</ol>\n"}, {"tags": ["ios", "objective-c", "nstimer"], "answers": [{"comments": [{"owner": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537379924, "post_id": 52411679, "comment_id": 91767059, "body": "I need it running even when I get back to same screen"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380011, "post_id": 52411679, "comment_id": 91767104, "body": "then use dealloc"}, {"owner": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380157, "post_id": 52411679, "comment_id": 91767189, "body": "Let me expalin the scenerio, I add up a timer of 2 mins when game starts, I answer a quesition in 10 secs , now when I come back to same screen the timer should not be invalidated (it must be continued till it becomes 0)"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380224, "post_id": 52411679, "comment_id": 91767219, "body": "this will invalidate the timer when the vc is about to be released , try it first"}, {"owner": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380354, "post_id": 52411679, "comment_id": 91767290, "body": "Used it, but it refreshes timer again to 2:00"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380628, "post_id": 52411679, "comment_id": 91767418, "body": "how do you comeback ?? you use Unwindsegue / pop"}, {"owner": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380823, "post_id": 52411679, "comment_id": 91767520, "body": "I have used pop"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537380843, "post_id": 52411679, "comment_id": 91767533, "body": "if viewDidLoad is called when you come back , then your return is incorrect and it&#39;s creation of a another instance &#39; , add a log inside it and check"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "edited": false, "score": 0, "creation_date": 1537381071, "post_id": 52411679, "comment_id": 91767646, "body": "share how you perform the present of the next Vc and how do you perform the pop"}, {"owner": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1537381103, "post_id": 52411679, "comment_id": 91767659, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180374/discussion-between-ios-and-sh-khan\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1537383196, "last_edit_date": 1537383196, "creation_date": 1537379875, "answer_id": 52411679, "question_id": 52411571, "link": "https://stackoverflow.com/questions/52411571/timer-count-throughout-the-game-in-objective-c/52411679#52411679", "title": "Timer count throughout the game in Objective c", "body": "<p>You need to invalidate it whenever the VC deallocates</p>\n\n<pre><code>- (void)dealloc {\n    [timer invalidate];\n}\n</code></pre>\n\n<p>//</p>\n\n<p>The second VC may look like this</p>\n\n<pre><code>#import \"ggViewController.h\"\nNSInteger timerCounter = 120;     // declared global to hold the value \n@interface ggViewController ()\n{\n    NSTimer*timer;\n}\n@end\n\n@implementation ggViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n   // instead of using selector use this inline callback\n  timer = [NSTimer scheduledTimerWithTimeInterval:1.0 repeats:true block:^(NSTimer * timer) {\n\n     timerCounter--;\n\n     int minutes = timerCounter / 60;\n     int seconds = timerCounter % 60;\n\n     NSString *string = [NSString stringWithFormat:@\"%02d\", minutes];\n     NSString *string2 = [NSString stringWithFormat:@\"%02d\", seconds];\n\n     NSString *timeTotal = [string stringByAppendingString:@\":\"];\n     NSString *timeTotal2 = [timeTotal stringByAppendingString:string2];\n\n     _timerLbl.text = timeTotal2;\n      if (timerCounter &lt;= 0) {\n          [timer invalidate];   \n         }\n    }];\n\n}\n\n-(void)viewDidDisappear:(BOOL)animated{\n\n    [super viewDidDisappear:animated];\n\n    [timer invalidate];\n}\n\n\n- (IBAction)gg:(id)sender {\n\n    [self dismissViewControllerAnimated:true completion:nil];\n}\n@end\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 5022611, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7958d88d8e29cfff74d6b9b4447a6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/5022611/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 52411679, "answer_count": 1, "score": 1, "last_activity_date": 1537383196, "creation_date": 1537379328, "question_id": 52411571, "link": "https://stackoverflow.com/questions/52411571/timer-count-throughout-the-game-in-objective-c", "title": "Timer count throughout the game in Objective c", "body": "<p>I am creating a game application in which I need to set timer of 2 minutes throughout the app screens in objective c. </p>\n\n<p>I am creating it in viewDidLoad but it is creating a new instance every-time the view loads. </p>\n\n<p>Here is the code which I am using :</p>\n\n<pre><code>@interface SomeViewController ()\n{\n    int timerCounter;\n     NSTimer *timer;   \n}\n@property (strong, nonatomic) IBOutlet UILabel *timerLbl;\n\n@end\n\n@implementation SomeViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    [self startCountdown];\n}\n\n\n- (void)startCountdown\n{\n    timer = [NSTimer scheduledTimerWithTimeInterval:1\n                                             target:self\n                                           selector:@selector(countdownTimer:)\n                                           userInfo:nil\n                                            repeats:YES];\n}\n\n- (void)countdownTimer:(NSTimer *)timer\n{\n    timerCounter--;\n\n    int minutes = timerCounter / 60;\n    int seconds = timerCounter % 60;\n\n    NSString *string = [NSString stringWithFormat:@\"%02d\", minutes];\n    NSString *string2 = [NSString stringWithFormat:@\"%02d\", seconds];\n\n    NSString *timeTotal = [string stringByAppendingString:@\":\"];\n    NSString *timeTotal2 = [timeTotal stringByAppendingString:string2];\n\n    _timerLbl.text = timeTotal2;\n    if (timerCounter &lt;= 0) {\n        [timer invalidate];   \n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "pdf"], "comments": [{"owner": {"reputation": 3851, "user_id": 6266540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0455a60b54cc79b3f8935832f4ca76c?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/6266540/fabian"}, "edited": false, "score": 0, "creation_date": 1537376945, "post_id": 52410733, "comment_id": 91765641, "body": "I think <code>PDFView</code> is a <code>UIView</code>, can you use that?"}, {"owner": {"reputation": 223, "user_id": 4269317, "user_type": "registered", "profile_image": "https://graph.facebook.com/1279945439/picture?type=large", "display_name": "roborg", "link": "https://stackoverflow.com/users/4269317/roborg"}, "reply_to_user": {"reputation": 3851, "user_id": 6266540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0455a60b54cc79b3f8935832f4ca76c?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/6266540/fabian"}, "edited": false, "score": 0, "creation_date": 1537378710, "post_id": 52410733, "comment_id": 91766496, "body": "I could recursively iterate in my <code>PDFView</code> subviews in order to find a <code>UIScrollView</code> yes but that&#39;s an inelegant solution. I&#39;m looking for something less hacky."}, {"owner": {"reputation": 306, "user_id": 4501530, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0b2f5b4789e05a0062dbef23b29240e8?s=128&d=identicon&r=PG&f=1", "display_name": "riddhi", "link": "https://stackoverflow.com/users/4501530/riddhi"}, "edited": false, "score": 0, "creation_date": 1569503420, "post_id": 52410733, "comment_id": 102624055, "body": "have you resolved this?"}], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": false, "score": 2, "last_activity_date": 1537389000, "creation_date": 1537389000, "answer_id": 52413756, "question_id": 52410733, "link": "https://stackoverflow.com/questions/52410733/set-content-inset-in-pdfview/52413756#52413756", "title": "Set content inset in PDFView", "body": "<p>PDFView doesn't have a publicly exposed UIScrollView property, but if you iterate the subviews you should find the that first subview is a PDFScrollView (UIScrollView subclass):</p>\n\n<pre><code>UIView *firstSubview = pdfView.subviews.firstObject;\nif ([firstSubview isKindOfClass:[UIScrollView class]]) {\n    UIScrollView *pdfScrollView = (UIScrollView *)firstSubview;\n    pdfScrollView.contentInset = UIEdgeInsetsMake(0, 20.0f, 0, 20.0f);\n}\n</code></pre>\n\n<p>Otherwise the only other option I can think of is to inset the view itself:</p>\n\n<pre><code>pdfView.frame = CGRectInset(pdfView.frame, 10.0f, 10.0f);\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 4269317, "user_type": "registered", "profile_image": "https://graph.facebook.com/1279945439/picture?type=large", "display_name": "roborg", "link": "https://stackoverflow.com/users/4269317/roborg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1537389000, "creation_date": 1537375822, "question_id": 52410733, "link": "https://stackoverflow.com/questions/52410733/set-content-inset-in-pdfview", "title": "Set content inset in PDFView", "body": "<p>I am using the new <code>PDFKit</code> framework (<a href=\"https://developer.apple.com/documentation/pdfkit\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/pdfkit</a>).</p>\n\n<p>I would like, like in <code>UIScrollView</code>, to change the <code>contentInset</code> of my <code>PDFView</code>. \nSadly, <code>PDFView</code> doesn't have a property <code>scrollView</code> or <code>contentInset</code>.</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "nevpnmanager"], "comments": [{"owner": {"reputation": 121, "user_id": 3973361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ccbf7dfc2fb2eb858731c0a36e80131?s=128&d=identicon&r=PG&f=1", "display_name": "I.U.", "link": "https://stackoverflow.com/users/3973361/i-u"}, "edited": false, "score": 1, "creation_date": 1614430138, "post_id": 52410683, "comment_id": 117386144, "body": "Hi Sergey, did you resolved this problem ?"}], "owner": {"reputation": 183, "user_id": 4623499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-FZE-gJvdjgU/AAAAAAAAAAI/AAAAAAAABFI/IXUwJdOJzPY/photo.jpg?sz=128", "display_name": "Sergey Zhuravel", "link": "https://stackoverflow.com/users/4623499/sergey-zhuravel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537375641, "creation_date": 1537375641, "question_id": 52410683, "link": "https://stackoverflow.com/questions/52410683/nevpnmanager-rules-automatically-disconnecting", "title": "NEVPNManager rules automatically disconnecting", "body": "<p>I have a NEVPNProtocolIKEv2 connection. How to configure rule so that after 10 minutes the connection is disconnected?</p>\n\n<pre><code>        let providerManagerIKEv2 = NEVPNProtocolIKEv2()\n        providerManagerIKEv2.authenticationMethod = NEVPNIKEAuthenticationMethod.sharedSecret\n        providerManagerIKEv2.serverAddress = \"ip address\"\n        providerManagerIKEv2.disconnectOnSleep = false\n        providerManagerIKEv2.deadPeerDetectionRate = NEVPNIKEv2DeadPeerDetectionRate.medium\n        providerManagerIKEv2.sharedSecretReference = KeychainWrapper.standard.dataRef(forKey: \"sharedSecretIKEv2\")\n        providerManagerIKEv2.disableMOBIKE = false\n        providerManagerIKEv2.disableRedirect = false\n        providerManagerIKEv2.enableRevocationCheck = false\n        providerManagerIKEv2.enablePFS = false\n        providerManagerIKEv2.useExtendedAuthentication = true\n        providerManagerIKEv2.useConfigurationAttributeInternalIPSubnet = false\n\n        providerManagerIKEv2.remoteIdentifier = DataManager.sharedInstance.configServer.remoteID\n        providerManagerIKEv2.localIdentifier = DataManager.sharedInstance.configServer.localID\n        providerManagerIKEv2.username = DataManager.sharedInstance.configServer.username\n        providerManagerIKEv2.passwordReference = KeychainWrapper.standard.dataRef(forKey: \"password\")\n\n        self.loadProfileIKEv2 { _ in\n            self.manager.protocolConfiguration = providerManagerIKEv2\n            self.manager.onDemandRules = [NEOnDemandRuleConnect()]\n            self.manager.isOnDemandEnabled = false\n            self.manager.isEnabled = true\n            self.manager.localizedDescription = \"VPN\"\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "afnetworking", "afnetworking-2", "afhttprequestoperation"], "comments": [{"owner": {"reputation": 534, "user_id": 2894790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af02f13fe4e143eab5ae3543ecb9f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Christos Koninis", "link": "https://stackoverflow.com/users/2894790/christos-koninis"}, "edited": false, "score": 1, "creation_date": 1537365841, "post_id": 52407706, "comment_id": 91759141, "body": "Possibly already answered here <a href=\"https://stackoverflow.com/questions/16498244/measuring-response-time-in-afnetworking-http-get\" title=\"measuring response time in afnetworking http get\">stackoverflow.com/questions/16498244/&hellip;</a> ? Basically you can use  <a href=\"https://github.com/AFNetworking/AFNetworkActivityLogger\" rel=\"nofollow noreferrer\">github.com/AFNetworking/AFNetworkActivityLogger</a>"}, {"owner": {"reputation": 6678, "user_id": 5185570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/1qKHK.jpg?s=128&g=1", "display_name": "Peter G.", "link": "https://stackoverflow.com/users/5185570/peter-g"}, "reply_to_user": {"reputation": 534, "user_id": 2894790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af02f13fe4e143eab5ae3543ecb9f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Christos Koninis", "link": "https://stackoverflow.com/users/2894790/christos-koninis"}, "edited": false, "score": 0, "creation_date": 1537370082, "post_id": 52407706, "comment_id": 91761911, "body": "Simple solution, worked like a charm."}], "owner": {"reputation": 6678, "user_id": 5185570, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/1qKHK.jpg?s=128&g=1", "display_name": "Peter G.", "link": "https://stackoverflow.com/users/5185570/peter-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537365851, "creation_date": 1537365642, "last_edit_date": 1537365851, "question_id": 52407706, "link": "https://stackoverflow.com/questions/52407706/afnetworking-how-do-i-measure-http-request-and-response-times", "title": "AFNetworking: How do I measure HTTP request and response times?", "body": "<p>Trying to debug AFNetworking in my application. I need to capture the time of both request and response time to get the duration.</p>\n\n<p>The duration will help me to set a reasonable timeout for the GET operation. The default 60 seconds timeout is not enough.</p>\n\n<p>How do I get the request and response time? Is it part of the <code>AFHTTPRequestOperation</code> object?</p>\n\n<pre><code>[[AFHTTPRequestOperationManager new] GET:@\"http://www.example.com\"\n    parameters:nil\n       success:^(AFHTTPRequestOperation *operation, id responseObject) {                       \n           NSLog(@\"startTime={} endTime={}\");\n       }\n       failure:^(AFHTTPRequestOperation *operation, NSError *error) {\n           NSLog(@\"startTime={} endTime={}\");\n       }\n];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 1541, "user_id": 3565291, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/WpuIu.jpg?s=128&g=1", "display_name": "regina_fallangi", "link": "https://stackoverflow.com/users/3565291/regina-fallangi"}, "edited": false, "score": 0, "creation_date": 1537364370, "post_id": 52407161, "comment_id": 91758152, "body": "Seeing the code you posted, it looks like you are using objc and not swift, am I right?"}, {"owner": {"reputation": 31, "user_id": 6139440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf35d0b78c21dd33089a4284648d7f2?s=128&d=identicon&r=PG&f=1", "display_name": "user6139440", "link": "https://stackoverflow.com/users/6139440/user6139440"}, "reply_to_user": {"reputation": 1541, "user_id": 3565291, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/WpuIu.jpg?s=128&g=1", "display_name": "regina_fallangi", "link": "https://stackoverflow.com/users/3565291/regina-fallangi"}, "edited": false, "score": 0, "creation_date": 1537365274, "post_id": 52407161, "comment_id": 91758767, "body": "In the app I am using c# because the app is made in Xamarin.iOS but you are right the code I posted is objc. I am going to update the tag adding objc ..I really don&#39;t mind about the code used I can deal with both."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6139440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf35d0b78c21dd33089a4284648d7f2?s=128&d=identicon&r=PG&f=1", "display_name": "user6139440", "link": "https://stackoverflow.com/users/6139440/user6139440"}, "edited": false, "score": 0, "creation_date": 1537368373, "post_id": 52407791, "comment_id": 91760765, "body": "Thanks Swapni so you are suggesting to move away from the <code>UIResponder</code> methods for the <code>UIPanGestureRecognizer</code>. I read some posts about performance concern related to the <code>UIPanGestureRecognizer</code> for drawing are you aware of this ? Anyway thanks again..I will try your suggestion and  I&#39;ll notify my results here."}], "tags": [], "owner": {"reputation": 10024, "user_id": 219971, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7ff5609ccae3691ceea4fbadc45f7f01?s=128&d=identicon&r=PG", "display_name": "Swapnil Luktuke", "link": "https://stackoverflow.com/users/219971/swapnil-luktuke"}, "is_accepted": false, "score": 0, "last_activity_date": 1537366336, "last_edit_date": 1592644375, "creation_date": 1537365925, "answer_id": 52407791, "question_id": 52407161, "link": "https://stackoverflow.com/questions/52407161/switch-uitouch-management-from-touchesbegan-to-uiscrollviewdelegate/52407791#52407791", "title": "Switch UITouch management from touchesBegan to UIScrollViewDelegate", "body": "<p>Try changing your implementation to use gesture recognisers instead of touch handling using the UIResponder methods.\nMain benefits of this approach are :</p>\n<ul>\n<li>You can <a href=\"https://stackoverflow.com/questions/32720450/trying-to-draw-on-a-uiview-with-uipangesture\">use UIPanGestureRecognizer for drawing</a>, or even create a\n<a href=\"https://developer.apple.com/documentation/uikit/touches_presses_and_gestures/implementing_a_custom_gesture_recognizer\" rel=\"nofollow noreferrer\">custom recogniser</a></li>\n<li>You can have dependency relationships between recognisers, using\n<a href=\"https://developer.apple.com/documentation/uikit/uigesturerecognizer/1624203-requiregesturerecognizertofail\" rel=\"nofollow noreferrer\">requireGestureRecognizerToFail</a>, even across views</li>\n<li>You can loop through all recognisers on a view and disable only specific set of gestures without disabling touches on the entire view</li>\n<li>Gesture recognisers have the same touch related methods, which you can use to move your touch handling code from current implementation over to the gestures</li>\n</ul>\n<p>So, your image view will have either pan or your custom gesture recogniser, with single touch, for drawing, and you can loop through scrollview's recognisers, and mark them not trigger if 'draw' gesture is triggered, using <code>requireGestureRecognizerToFail</code>.</p>\n<p>With this, you do not need to enable/disable user interaction on any of the views, although you will have to do a it of trial-and-error to get all gestures to work with each other correctly.</p>\n<p>Happy coding :)</p>\n"}], "owner": {"reputation": 31, "user_id": 6139440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf35d0b78c21dd33089a4284648d7f2?s=128&d=identicon&r=PG&f=1", "display_name": "user6139440", "link": "https://stackoverflow.com/users/6139440/user6139440"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537366336, "creation_date": 1537364084, "last_edit_date": 1537365423, "question_id": 52407161, "link": "https://stackoverflow.com/questions/52407161/switch-uitouch-management-from-touchesbegan-to-uiscrollviewdelegate", "title": "Switch UITouch management from touchesBegan to UIScrollViewDelegate", "body": "<p>I am developing an iOS drawing application where the main feature is that a user can load an image as background and then he can start finger drawing on top of it, zooming and panning the image with the draws on top of the image itself.</p>\n\n<p>The schema of the application is the following one.</p>\n\n<p>MainUiView->UIScrollView->UIImageView</p>\n\n<p>Fingers drawing and tracking is managed on the <code>touchesBegan</code>, <code>touchesMoved</code>, <code>touchesEnded</code> override of the <code>UIResponder</code>.</p>\n\n<p>The Zoom and Panning of the <code>UIImageView</code> is managed by the <code>UIScrollViewDelegate</code> implementation.</p>\n\n<p>I have a button that switches the app mode from Drawing to Zooming and Panning mode in the following way:</p>\n\n<p><strong>if you want to draw:</strong></p>\n\n<pre><code>    [scrollView setUserInteractionEnabled:NO];\n    [imageView setUserInteractionEnabled:YES];\n</code></pre>\n\n<p>so the touches are managed in the <code>touchesBegan</code>, <code>touchesMoved</code>, <code>touchesEnded</code> methods.</p>\n\n<p><strong>if you want to Pan and Zoom with two fingers using the Pinch to Zoom gesture</strong> </p>\n\n<pre><code>[scrollView setUserInteractionEnabled:YES]; \n[imageView setUserInteractionEnabled:NO];\n</code></pre>\n\n<p>so the two fingers gesture is managed by the <code>UIScrollViewDelegate</code></p>\n\n<p>Now I am trying to evolve the app removing the button to switch from draw to zoom and pan mode.</p>\n\n<p>My idea was to track the two fingers presence in the <code>touchesBegan</code> and then to disable the user interaction in the <code>UIImageView</code> to enable the user interaction in the scrollview, but the problem is that after doing this the touches are still managed in the <code>touchesMoved</code> method, nothing comes to the <code>scrollViewDelegate</code> until I lift my fingers from screen, after that, if I punt fingers again on the screen everything is managed by the <code>scrollViewDelegate</code>.</p>\n\n<p>So to sum up: is it possible to stop the touches cycle after <code>touchesBegan</code> and propagate it to the <code>ScrollViewDelegate</code>?</p>\n\n<p>If this is not possible, how can I achieve the zoom, panning and drawing feature on a <code>UImageView</code>? Should I remove the scrollview and try to zoom and pan the <code>UImageView</code> through the <code>UIResponder</code> methods ? </p>\n\n<p>Thanks for help</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "swift4.2"], "comments": [{"owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1537409987, "post_id": 52406387, "comment_id": 91776622, "body": "<a href=\"https://github.com/google/gtm-session-fetcher/blob/master/Source/GTMMIMEDocument.m\" rel=\"nofollow noreferrer\">github.com/google/gtm-session-fetcher/blob/master/Source/&hellip;</a>"}, {"owner": {"reputation": 2906, "user_id": 590947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1903ad10e8d55515aab6e029eea23470?s=128&d=identicon&r=PG", "display_name": "cybergen", "link": "https://stackoverflow.com/users/590947/cybergen"}, "reply_to_user": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 0, "creation_date": 1537527445, "post_id": 52406387, "comment_id": 91827082, "body": "@PaulBeusterien how should that help?"}, {"owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "edited": false, "score": 1, "creation_date": 1537537318, "post_id": 52406387, "comment_id": 91832783, "body": "Make sure that file is in the project and getting built into the target."}, {"owner": {"reputation": 708, "user_id": 4234446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yY5g4eevwFU/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJOUHy6P6JOJyS6nArl0Pv57rzxIUg/photo.jpg?sz=128", "display_name": "drv", "link": "https://stackoverflow.com/users/4234446/drv"}, "edited": false, "score": 0, "creation_date": 1549146963, "post_id": 52406387, "comment_id": 95801461, "body": "@cybergen were you able to fix this issue? I&#39;ve train so many thins, nothing works."}, {"owner": {"reputation": 2906, "user_id": 590947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1903ad10e8d55515aab6e029eea23470?s=128&d=identicon&r=PG", "display_name": "cybergen", "link": "https://stackoverflow.com/users/590947/cybergen"}, "reply_to_user": {"reputation": 708, "user_id": 4234446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yY5g4eevwFU/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJOUHy6P6JOJyS6nArl0Pv57rzxIUg/photo.jpg?sz=128", "display_name": "drv", "link": "https://stackoverflow.com/users/4234446/drv"}, "edited": false, "score": 1, "creation_date": 1549619789, "post_id": 52406387, "comment_id": 95975998, "body": "@drdrdrdr I think so. I&#39;ll post the answer."}], "answers": [{"tags": [], "owner": {"reputation": 2906, "user_id": 590947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1903ad10e8d55515aab6e029eea23470?s=128&d=identicon&r=PG", "display_name": "cybergen", "link": "https://stackoverflow.com/users/590947/cybergen"}, "is_accepted": true, "score": 1, "last_activity_date": 1549620128, "creation_date": 1549620128, "answer_id": 54589928, "question_id": 52406387, "link": "https://stackoverflow.com/questions/52406387/dyld-symbol-not-found-objc-class-gtmmimedocument-after-migrating-to-swift-4/54589928#54589928", "title": "dyld: Symbol not found: _OBJC_CLASS_$_GTMMIMEDocument after migrating to Swift 4.2 and Firebase 5.8", "body": "<p>It's been a while, since we fixed it and forgot to share the solution. Looking into the repository it seems easy and obvious. But why it's needed since Swift 4.2 or Xcode 10.1 is not clear.</p>\n\n<p>Solution:\nAdd this to your pod file:\n<code>pod 'GTMSessionFetcher', '~&gt; 1.2'</code></p>\n"}], "owner": {"reputation": 2906, "user_id": 590947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1903ad10e8d55515aab6e029eea23470?s=128&d=identicon&r=PG", "display_name": "cybergen", "link": "https://stackoverflow.com/users/590947/cybergen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 0, "accepted_answer_id": 54589928, "answer_count": 1, "score": 1, "last_activity_date": 1549620128, "creation_date": 1537361755, "question_id": 52406387, "link": "https://stackoverflow.com/questions/52406387/dyld-symbol-not-found-objc-class-gtmmimedocument-after-migrating-to-swift-4", "title": "dyld: Symbol not found: _OBJC_CLASS_$_GTMMIMEDocument after migrating to Swift 4.2 and Firebase 5.8", "body": "<p>That's a hard one.\nI updated Firebase from 3.x to 5.8 and migrated my project from Swift 3 to Swift 4.2.\nNow I'm getting the following error:</p>\n\n<pre><code>dyld: Symbol not found: _OBJC_CLASS_$_GTMMIMEDocument\n  Referenced from: /Users/jarosz/Library/Developer/CoreSimulator/Devices/102264AE-4116-4108-B004-CAE6A422DF01/data/Containers/Bundle/Application/2E200B33-7FE4-4421-856E-3C1FE78A17B6/StarSnoopy DEV.app/Frameworks/GoogleAPIClientForREST.framework/GoogleAPIClientForREST\n  Expected in: /Users/jarosz/Library/Developer/CoreSimulator/Devices/102264AE-4116-4108-B004-CAE6A422DF01/data/Containers/Bundle/Application/2E200B33-7FE4-4421-856E-3C1FE78A17B6/StarSnoopy DEV.app/Frameworks/GTMSessionFetcher.framework/GTMSessionFetcher\n in /Users/jarosz/Library/Developer/CoreSimulator/Devices/102264AE-4116-4108-B004-CAE6A422DF01/data/Containers/Bundle/Application/2E200B33-7FE4-4421-856E-3C1FE78A17B6/StarSnoopy DEV.app/Frameworks/GoogleAPIClientForREST.framework/GoogleAPIClientForREST\n</code></pre>\n\n<p>I've tried <code>pod deintegrate</code> and <code>pod install</code> without success.</p>\n\n<p>But that's not all. The project is quite large and complex. For example we have a share extension using Firebase/Core, Firebase/Auth and Firebase/Database.</p>\n\n<p>Here's the podfile:</p>\n\n<pre><code># Uncomment this line to define a global platform for your project\nplatform :ios, '9.0'\n# Uncomment this line if you're using Swift\nuse_frameworks!\n\nsource 'https://github.com/CocoaPods/Specs.git'\nsource 'https://www.x-root.info/gitlab/x-root/ios-libraries/xr-podspecs.git'\n\n# ------------------ APP ------------------\n\ndef app_pods\n    # Objc\n    pod 'HockeySDK', '~&gt; 5.1.2'\n    pod 'SVProgressHUD', '~&gt; 2.2.5'\n    pod 'SDWebImage', '~&gt; 4.4.2'\n    pod 'TSMessages', '~&gt; 0.9.12'\n    pod 'MMDrawerController', '~&gt; 0.6.0'\n    pod 'iRate', '~&gt; 1.12.2'\n\n    #Swift\n    pod 'SwiftyJSON', '~&gt; 4.1.0'\n    pod 'ReachabilitySwift', '~&gt; 4.2.1'\n    pod 'SwiftyUserDefaults', '~&gt; 3.0.1'\n    pod 'XRCore', '~&gt; 4.2.0'\n    pod 'FBSDKCoreKit', '= 4.36.0'\n    pod 'FBSDKLoginKit', '= 4.36.0'\n    pod 'Firebase/Core', '~&gt; 5.8.0'\n    pod 'Firebase/Auth', '~&gt; 5.8.0'\n    pod 'Firebase/Database', '~&gt; 5.8.0'\n    pod 'Firebase/Storage', '~&gt; 5.8.0'\n    pod 'Firebase/DynamicLinks', '~&gt; 5.8.0'\n    pod 'Firebase/Invites', '~&gt; 5.8.0'\n    pod 'Firebase/RemoteConfig', '~&gt; 5.8.0'\n    pod 'GoogleSignIn', '~&gt; 4.2.0'\n    pod 'Fabric', '~&gt; 1.7.11'\n    pod 'Crashlytics', '~&gt; 3.10.7'\n    pod 'KeychainAccess', '~&gt; 3.1.1'\n    pod 'TTGSnackbar', '~&gt; 1.7.3'\n    pod 'UIImageColors', '~&gt; 2.0.1'\n    pod 'MarqueeLabel/Swift', '~&gt; 3.1.6'\n    pod 'MTBBarcodeScanner', '~&gt; 5.0.6'\n    pod 'TGCameraViewController', '~&gt; 2.2.8'\n    pod 'MaterialComponents/FeatureHighlight', '~&gt; 26.0'\n    pod 'IQKeyboardManagerSwift', '~&gt; 4.0.13'\n\nend\n\n    post_install do | installer |\n        require 'fileutils'\n        FileUtils.cp_r('Pods/Target Support Files/Pods-MyApp DEV/Pods-MyApp DEV-acknowledgements.plist', 'Wishlist/Settings.bundle/Acknowledgements.plist', :remove_destination =&gt; true)\n        # avoid usage of UIApplication by GTMSessionFetcher in share extension\n        installer.pods_project.targets.each do |target|\n            target.build_configurations.each do |config|\n                config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] = '$(inherited) GTM_BACKGROUND_UIAPPLICATION=0 $(inherited) GTM_BACKGROUND_TASK_FETCHING=0'\n            end\n        end\n    end\n\ntarget 'MyApp DEV' do\n    app_pods\nend\n\ntarget 'MyApp' do\n    app_pods\nend\n\n# ------------------ EXTENSION ------------------\n\ndef sharing_pods\n    # Objc\n    pod 'SDWebImage', '~&gt; 4.4.2'\n\n    #Swift\n    pod 'SwiftyJSON', '~&gt; 4.1.0'\n    pod 'SwiftyUserDefaults', '~&gt; 3.0.1'\n    pod 'XRCore/Extension', '~&gt; 4.2.0'\n    pod 'Firebase/Core', '~&gt; 5.8.0'\n    pod 'Firebase/Auth', '~&gt; 5.8.0'\n    pod 'Firebase/Database', '~&gt; 5.8.0'\n    pod 'Fabric', '~&gt; 1.7.11'\n    pod 'Crashlytics', '~&gt; 3.10.7'\n    pod 'KeychainAccess', '~&gt; 3.1.1'\n\nend\n\ntarget 'Sharing DEV' do\n    sharing_pods\nend\n\ntarget 'Sharing' do\n    sharing_pods\nend\n\nclass ::Pod::Generator::Acknowledgements\ndef header_text\n    if header_title.end_with?(\"Acknowledgements\")\n        \"This app is using Open Source components which are provided under the following Open Source licence terms of the respective rights holder.\"\n    else\n        \"\"\n    end\nend\n\nend\n</code></pre>\n\n<p>I know it must be an issue with the search paths or module configuration but I can't figure out a solution.</p>\n\n<p>Any clues?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537416792, "post_id": 52406235, "comment_id": 91778061, "body": "Check below link it will helpful to you <a href=\"https://stackoverflow.com/a/22243924/5184217\">stackoverflow.com/a/22243924/5184217</a>"}], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 6197968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GE5Lb.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/6197968/naresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1537362185, "creation_date": 1537362185, "answer_id": 52406527, "question_id": 52406235, "link": "https://stackoverflow.com/questions/52406235/having-issue-playing-sound-using-avaudioplayer/52406527#52406527", "title": "Having issue playing sound using AVAudioPlayer", "body": "<p>Set the volume to max. 1.0 is the maximun volume level 0.0 is minimum volume level</p>\n\n<pre><code>  - (void)viewDidLoad\n    {\n        [super viewDidLoad];\n           NSString *path = [NSString stringWithFormat:@\"%@/Right Side Stress Increasing.mp3\", [[NSBundle mainBundle] resourcePath]];\n            NSURL *soundUrl = [NSURL fileURLWithPath:path];\n\n            // Create audio player object and initialize with URL to sound\n            _audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:soundUrl error:nil];\n            _audioPlayer.volume = 1.0\n    }\n\n    - (IBAction)playButtonTapped:(id)sender\n    {\n        //play sound\n         [_audioPlayer play];\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4911, "user_id": 5461400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/004O9.jpg?s=128&g=1", "display_name": "Harshal Valanda", "link": "https://stackoverflow.com/users/5461400/harshal-valanda"}, "is_accepted": false, "score": 1, "last_activity_date": 1537364195, "last_edit_date": 1537364195, "creation_date": 1537363874, "answer_id": 52407100, "question_id": 52406235, "link": "https://stackoverflow.com/questions/52406235/having-issue-playing-sound-using-avaudioplayer/52407100#52407100", "title": "Having issue playing sound using AVAudioPlayer", "body": "<p><code>AVAudioPlayer</code> don't play sound, if the device is on silent mode.</p>\n\n<p>You can enable using <code>AVAudioSession</code></p>\n\n<p><strong>OBJECTIVE-C</strong></p>\n\n<pre><code>#import &lt;AVFoundation/AVFoundation.h&gt;\n\nNSError *error = nil;\n[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error: nil];\n[[AVAudioSession sharedInstance] setActive:YES error:&amp;error];\n</code></pre>\n\n<p><strong>SWIFT</strong></p>\n\n<pre><code>import AVFoundation\n\ndo {\n    try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayback)\n    try AVAudioSession.sharedInstance().setActive(true)\n}\ncatch {\n    print(error)\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 6064880, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/DI6X5.jpg?s=128&g=1", "display_name": "Gaurav singh", "link": "https://stackoverflow.com/users/6064880/gaurav-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537364195, "creation_date": 1537361285, "question_id": 52406235, "link": "https://stackoverflow.com/questions/52406235/having-issue-playing-sound-using-avaudioplayer", "title": "Having issue playing sound using AVAudioPlayer", "body": "<p>I want to play a sound in format wav/mp3. I am using AVAudioPlayer. The issue is its audible in earpiece but when i remove the earpiece no sound comes. I have searched and tried some suggestion given here but the result was same. Please help me with this issue. Thanks</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n       NSString *path = [NSString stringWithFormat:@\"%@/Right Side Stress Increasing.mp3\", [[NSBundle mainBundle] resourcePath]];\n        NSURL *soundUrl = [NSURL fileURLWithPath:path];\n\n        // Create audio player object and initialize with URL to sound\n        _audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:soundUrl error:nil];\n}\n\n- (IBAction)playButtonTapped:(id)sender\n{\n    //play sound\n     [_audioPlayer play];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1537361278, "post_id": 52406051, "comment_id": 91756118, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19995698/uniqueidentifier-in-ios-7\">UniqueIdentifier in ios 7</a>"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537362115, "post_id": 52406051, "comment_id": 91756709, "body": "Of course if you have started using <code>identifierForVendor</code> instead of <code>uniqueDeviceIdentifier</code> it will be different. Revert changes and upload new build, that use <code>uniqueDeviceIdentifier</code> again."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537367137, "post_id": 52406051, "comment_id": 91760026, "body": "@Cy-4AH, <code>uniqueDeviceIdentifier</code> was deprecated about 5-6 years ago... the app will be rejected if uses <code>uniqueDeviceIdentifier</code> or try to extract that value."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537368358, "post_id": 52406051, "comment_id": 91760758, "body": "Yours application have deployment target lower then ios 6?"}, {"owner": {"reputation": 225, "user_id": 2201624, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/3623932940b721d38445bbe6e7cf39b2?s=128&d=identicon&r=PG", "display_name": "Gokulnath", "link": "https://stackoverflow.com/users/2201624/gokulnath"}, "edited": false, "score": 0, "creation_date": 1537422438, "post_id": 52406051, "comment_id": 91779842, "body": "We had updated the app in August 2017. With new version, there is no code changes. Only a few enhancements were done and we are trying to upload. It was working fine with appstore version. There are no code Differences. Deployment target is 9.0. The code is written 5 years back. So we don&#39;t want to disturb the code."}], "owner": {"reputation": 225, "user_id": 2201624, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/3623932940b721d38445bbe6e7cf39b2?s=128&d=identicon&r=PG", "display_name": "Gokulnath", "link": "https://stackoverflow.com/users/2201624/gokulnath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 651, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1537364223, "creation_date": 1537360655, "last_edit_date": 1537364223, "question_id": 52406051, "link": "https://stackoverflow.com/questions/52406051/device-id-is-changing-for-the-new-version", "title": "Device ID is Changing for the new version", "body": "<p>I had my app already in app store. I want to upload the new version. With the new version, the device ID (identifierForVendor) gets changed. If we delete and reinstall the Old App(Appstore) it is working fine. But if we update the new version only we are getting the device ID Change. <br /> Can someone help to fix this critical issue.</p>\n\n<p>We are using the following Code to get the device ID <br /></p>\n\n<pre><code>+(id)getUDIDNumber\n{\n static NSString *vendorIdentifier = nil;\n\nif (SYSTEM_VERSION_LESS_THAN(@\"6.0\"))\n{\n    // code here\n    vendorIdentifier = [UIDevice uniqueDeviceIdentifier];\n}\nelse if (SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(@\"6.0\"))\n{\n    // code here\n    id vendorIdObject = [[UIDevice currentDevice] identifierForVendor];\n\n    vendorIdentifier = [vendorIdObject UUIDString];\n}\n\n}\n</code></pre>\n"}, {"tags": ["c++", "ios", "objective-c", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1545229008, "last_edit_date": 1545229008, "creation_date": 1545228622, "answer_id": 53853009, "question_id": 52405979, "link": "https://stackoverflow.com/questions/52405979/since-updating-to-xcode-10-file-not-found-error-deriveddata/53853009#53853009", "title": "Since updating to Xcode 10 file not found error / deriveddata", "body": "<p>I have managed to successfully compile the project with the \"Legacy Build System\" (by activating it under File->Project/Workspace Settings), so this confirms that this is a problem with the \"New Build System\" which is enabled by default in Xcode 10</p>\n\n<p><strong>EDIT:</strong> Make sure to remove all folders found in DerivedData, to do this go to Xcode->Preferences->Locations and open the external link to DerivedData folder. Then go back into Xcode and clean build and rebuild</p>\n"}], "owner": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 53853009, "answer_count": 1, "score": 3, "last_activity_date": 1545279370, "creation_date": 1537360405, "last_edit_date": 1545279370, "question_id": 52405979, "link": "https://stackoverflow.com/questions/52405979/since-updating-to-xcode-10-file-not-found-error-deriveddata", "title": "Since updating to Xcode 10 file not found error / deriveddata", "body": "<p>When trying to compile my project all previously working classes are flagging up as having errors. One of the errors is 'string not found' when in the class it is included.</p>\n\n<pre class=\"lang-objc prettyprint-override\"><code>#include &lt;string&gt;\n</code></pre>\n\n<p>I have tried changing the 'Compile source as' in the Build settings to Objective-C++ but this hasn't helped</p>\n\n<p>Also gives an error when compiling about derived data.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537350790, "post_id": 52402898, "comment_id": 91749766, "body": "May be <code>initialize</code> will suit for your purpose better. What are you trying to achieve?"}, {"owner": {"reputation": 60, "user_id": 6653599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/006b0.jpg?s=128&g=1", "display_name": "showlog", "link": "https://stackoverflow.com/users/6653599/showlog"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537352823, "post_id": 52402898, "comment_id": 91751086, "body": "I saw some codes in our project like this."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537354014, "post_id": 52402898, "comment_id": 91751831, "body": "I think it&#39;s not right. It will unnecessary increase app loading time + it&#39;s unknown in which order runtime will load classes and it&#39;s not 100% possibility that  <code>anothercls</code> already got loaded when yours class is loading. In most cases I think it does nothing."}, {"owner": {"reputation": 60, "user_id": 6653599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/006b0.jpg?s=128&g=1", "display_name": "showlog", "link": "https://stackoverflow.com/users/6653599/showlog"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537355592, "post_id": 52402898, "comment_id": 91752714, "body": "Yes, it can`t ensure another class has loaded before using it in the load method. I agree with you."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1537375990, "post_id": 52402898, "comment_id": 91765193, "body": "@BingchenQin In general, you should avoid using <code>+load</code> or <code>+initialize</code> as much as possible and, if you do use them, don&#39;t do any &quot;heavy lifting&quot;."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1537376079, "post_id": 52402898, "comment_id": 91765245, "body": "@BingchenQin There is a bunch of information here about the implementation details and why +load/+initialize are so problematic.  <a href=\"http://www.friday.com/bbum/2009/09/06/iniailize-can-be-executed-multiple-times-load-not-so-much/\" rel=\"nofollow noreferrer\">friday.com/bbum/2009/09/06/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 60, "user_id": 6653599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/006b0.jpg?s=128&g=1", "display_name": "showlog", "link": "https://stackoverflow.com/users/6653599/showlog"}, "edited": false, "score": 0, "creation_date": 1537352673, "post_id": 52403105, "comment_id": 91750977, "body": "Yes, but another class is a customized class, and don`t have any relation to the +load class. I saw this code in my company project, I think it has some potential error when running. just has #import between them"}, {"owner": {"reputation": 60, "user_id": 6653599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/006b0.jpg?s=128&g=1", "display_name": "showlog", "link": "https://stackoverflow.com/users/6653599/showlog"}, "edited": false, "score": 0, "creation_date": 1537355364, "post_id": 52403105, "comment_id": 91752604, "body": "so it&#39;s safe to use framework classes. Your superclasses are also guaranteed to be fully loaded, so they are safe to use as well.   So, the framework mention above just are dynamic frameworks?"}], "tags": [], "owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "is_accepted": false, "score": 0, "last_activity_date": 1537350929, "creation_date": 1537350929, "answer_id": 52403105, "question_id": 52402898, "link": "https://stackoverflow.com/questions/52402898/is-it-right-to-create-a-single-instance-in-another-cls-load-method-in-objectiv/52403105#52403105", "title": "is It right to create a single instance in another cls + load method in objective-c?", "body": "<p>You can't know the order in which <code>+load</code> is called, with exceptions: when<code>+load</code> is called on a class in your app there are classes that are guaranteed to have been already loaded:</p>\n\n<ul>\n<li>classes from frameworks you link to  </li>\n<li>superclass of the class <code>+load</code> is currently executed</li>\n</ul>\n\n<p>So if <code>anothercls</code> is a class from a framework you link to, it's safe to use it. <a href=\"https://www.mikeash.com/pyblog/friday-qa-2009-05-22-objective-c-class-loading-and-initialization.html\" rel=\"nofollow noreferrer\">More about +load and +initialize here</a></p>\n"}], "owner": {"reputation": 60, "user_id": 6653599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/006b0.jpg?s=128&g=1", "display_name": "showlog", "link": "https://stackoverflow.com/users/6653599/showlog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537354583, "creation_date": 1537350277, "last_edit_date": 1537354583, "question_id": 52402898, "link": "https://stackoverflow.com/questions/52402898/is-it-right-to-create-a-single-instance-in-another-cls-load-method-in-objectiv", "title": "is It right to create a single instance in another cls + load method in objective-c?", "body": "<pre><code>#import &lt;anthercls.h&gt;\n+ (void)load\n{\n    [anothercls sharedInstance];\n}\n</code></pre>\n\n<p>What puzzles me is when the class's load message is called, does another class is loaded in memory? How to ensure that another class was loaded before the class. because of <code>#import</code>?</p>\n\n<p>I have searched for a while\uff0cbut can't get a satisfying answer.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1537351024, "post_id": 52401897, "comment_id": 91749907, "body": "classic XY-problem; your client should rather use some kinda metrics here (e.g. Adobe, Google, etc...) to measure such interactions / habits / behaviours."}, {"owner": {"reputation": 68, "user_id": 1630455, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CSFA1.jpg?s=128&g=1", "display_name": "MergatroidSA", "link": "https://stackoverflow.com/users/1630455/mergatroidsa"}, "reply_to_user": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1537355826, "post_id": 52401897, "comment_id": 91752875, "body": "Basically, the demand from the client is that they want regular, hourly downloads even if they have not used the app in a week. There is no compromise here as they believe the background fetch from Apple offers no value whatsoever."}, {"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1537356178, "post_id": 52401897, "comment_id": 91753097, "body": "consider the scenario e.g. the app is actually terminated and that is not going to be able to fetch anything in such state at all \u2013 regardless how many meetings or how much time the marketing guys have spend on deciding that they <i>want</i> such feature, it might be better to calm them down in my view."}], "owner": {"reputation": 68, "user_id": 1630455, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/CSFA1.jpg?s=128&g=1", "display_name": "MergatroidSA", "link": "https://stackoverflow.com/users/1630455/mergatroidsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537347225, "creation_date": 1537347225, "question_id": 52401897, "link": "https://stackoverflow.com/questions/52401897/scheduled-downloads-in-ios-using-objective-c", "title": "Scheduled downloads in IOS using objective-c", "body": "<p>How can one do a scheduled download of data (json) in an app without using background fetch or a silent push notification? I have implemented a background fetch which performs the task at irregular intervals (based on app usage). User's wish to have the check done even if they are not regular users of the app. </p>\n"}, {"tags": ["ios", "objective-c", "segmentation-fault"], "comments": [{"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1537653569, "post_id": 52401643, "comment_id": 91864511, "body": "Did you init NSDictionary &quot;initWithCapacity&quot;? or try to avoid use &quot;newValues&quot; name which starts with &quot;new&quot;."}, {"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1537687494, "post_id": 52401643, "comment_id": 91869766, "body": "How many times did you got this crash? If it&#39;s only one, I think you can ignore it. Maybe it&#39;s an error from Foundation framework."}, {"owner": {"reputation": 2094, "user_id": 2525302, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QnJh4.jpg?s=128&g=1", "display_name": "Yogesh Lolusare", "link": "https://stackoverflow.com/users/2525302/yogesh-lolusare"}, "edited": false, "score": 0, "creation_date": 1537787810, "post_id": 52401643, "comment_id": 91897239, "body": "it appears randomly since last 1 year"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537938098, "post_id": 52401643, "comment_id": 91960464, "body": "Might be a race condition."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1538939168, "post_id": 52401643, "comment_id": 92310727, "body": "Run your app under the Zombies instrument template. Could be an over-released object whose memory has been reused for something else. Could also be a memory smashing bug. Run your app with the address sanitizer, too."}, {"owner": {"reputation": 1411, "user_id": 3899770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgBfq.png?s=128&g=1", "display_name": "Aris", "link": "https://stackoverflow.com/users/3899770/aris"}, "edited": false, "score": 0, "creation_date": 1539501196, "post_id": 52401643, "comment_id": 92519650, "body": "It looks like this code runs inside a block. My guess is that something is not being properly retained which sometimes causes your crash. Where is <code>newValues </code> declared? Maybe <code>MYAPPConnection</code>  is releasing properties (or is being itself released)"}], "owner": {"reputation": 2094, "user_id": 2525302, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QnJh4.jpg?s=128&g=1", "display_name": "Yogesh Lolusare", "link": "https://stackoverflow.com/users/2525302/yogesh-lolusare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1538917006, "creation_date": 1537346331, "question_id": 52401643, "link": "https://stackoverflow.com/questions/52401643/sigsegv-crash-while-setting-value-in-nsdictionary", "title": "SIGSEGV CRASH while setting value in NSDIctionary", "body": "<p>Fabric Log:</p>\n\n<pre><code>    Crashed: com.apple.main-thread\n    SIGSEGV 0x000000210000003f\n CFDictionaryGetValue + 24\n1  Foundation                     0x19e5ba4ac &lt;redacted&gt; + 272\n2  MYAPP                            0x10116a594 -[MYAPPGGGUser setValuesForKeysWithDictionary:] (MYAPPGGGUser.m:444)\n3  MYAPP                            0x10109ebc4 -[MYAPPUser setValuesForKeysWithDictionary:] (MYAPPUser.m:79)\n4  MYAPP                            0x101169c40 -[MYAPPGGGUser resetOptionalFieldsAndSetFullStateValuesForKeysWithDictionary:] (MYAPPGGGUser:338)\n5  MYAPP                            0x10109eb4c -[MYAPPUser resetOptionalFieldsAndSetFullStateValuesForKeysWithDictionary:] (MYAPPUser.m:70)\n6  MYAPP                            0x100fa1708 -[MYAPPLiveMap addElements:resetElementValues:] (MYAPPLiveMap.m:230)\n7  MYAPP                            0x100fa20f0 -[MYAPPLiveMap handleJSONMessage:messageType:listId:] (MYAPPLiveMap.m:309)\n8  MYAPP                            0x100f78760 -[MYAPPConnection lockAndHandleMessage:consumer:dataType:listID:] (MYAPPConnection.m:554)\n9  MYAPP                            0x100f78628 __67-[MYAPPConnection dispatchAndHandleMessage:consumer:dataType:listID:]_block_invoke (MYAPPConnection.m:545)\n10 libdispatch.dylib              0x19d64b6c8 _dispatch_call_block_and_release + 24\n11 libdispatch.dylib              0x19d64c484 _dispatch_client_callout + 16\n12 libdispatch.dylib              0x19d5f89ec _dispatch_main_queue_callback_4CF$VARIANT$mp + 1068\n13 CoreFoundation                 0x19dba21bc __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 12\n14 CoreFoundation                 0x19db9d084 __CFRunLoopRun + 1964\n15 CoreFoundation                 0x19db9c5b8 CFRunLoopRunSpecific + 436\n16 GraphicsServices               0x19fe0d584 GSEventRunModal + 100\n17 UIKitCore                      0x1ca1947ac UIApplicationMain + 212\n18 MYAPP                            0x100eeeb6c main (main.m:19)\n19 libdyld.dylib                  0x19d65cc0c start + 4\n</code></pre>\n\n<p><strong>Codes:</strong></p>\n\n<pre><code>    propValue = newValues[@\u201cAAA\u201d];\n    if (propValue &amp;&amp; propValue != self.isAAA) {\n      [self setValue:propValue forKey:@\"isAAA\u201d];\n    }\n\n    propValue = newValues[@\u201cBBB\u201d];\n    if (propValue &amp;&amp; propValue != self.isBBB) {\n      [self setValue:propValue forKey:@\"isBBB\u201d];\n    }\n\n//LIne 444\n    propValue = newValues[@\u201cCCC\u201d];\n    if (propValue &amp;&amp; (self.CCC== nil || [[NSNumber numberWithUnsignedLongLong: strtoull([propValue UTF8String], nil, 10)] isEqualToNumber:self.CCC] == NO)) {\n      self.CCC= [NSNumber numberWithUnsignedLongLong: strtoull([propValue UTF8String], nil, 10)];\n    }\n\n    propValue = newValues[@\u201cDDD\u201d];\n    NSAssert(propValue == nil || propValue == [NSNull null] || [propValue isKindOfClass:[NSString class]], @\"propValue is of wrong type\");\n    if (propValue &amp;&amp; ![propValue isEqualToString:self.DDD]) {\n      self.DDD = propValue;\n    }\n</code></pre>\n\n<p>Input Data when the crash took place. Note key DDD (line 444) is missing in input Data.</p>\n\n<pre><code>{ A1 = 1143749791; A2 = Available; A3 = \"Yudi Hartanto \\U5ed6 \\U53ef \\U767c\"; A4 = DEFRSVX; A5 = 0; A6 = 1; AAA = 0; BBB = 0; A7 = 192; A8 = \"\"; A9 = 1522125793; pins = ( 55a86fc1 ); A10 = 100011430136; A11 = 0; A12 = 0; A13 = Default; A14 = \"pim://user/id/1\"; A15 = equator; }\n</code></pre>\n\n<p>To me, this crash doesn't seem to be due to missing key or unexpected object key as its SIGSEGV also each statement is guarded. Googled to map this to any other symmetrical issue but no luck. What can be the possible reasons for this crash?</p>\n"}, {"tags": ["objective-c", "swift", "react-native"], "comments": [{"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1537409192, "post_id": 52401625, "comment_id": 91776444, "body": "If you would like to get a helpful answer sooner, you may want to try reproducing the problem in a very small, highly simplified project.  Then use that small example in a question, so people can better see the issue.  BTW, is C++ somehow involved here?"}, {"owner": {"reputation": 1, "user_id": 7099296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ed8xC.jpg?s=128&g=1", "display_name": "Rostyk Stakhiv", "link": "https://stackoverflow.com/users/7099296/rostyk-stakhiv"}, "reply_to_user": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1537432823, "post_id": 52401625, "comment_id": 91784925, "body": "Thanks for your reply. Well, actually the project is very simple by itself, it only contains one Obj-C class which server a bridge between native API and React Native. I will try to make a new library from scratch written in swift and see if it works. No, c++ is not involved. The errors I get are in Foundation and other native frameworks, they may be using c++"}], "owner": {"reputation": 1, "user_id": 7099296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ed8xC.jpg?s=128&g=1", "display_name": "Rostyk Stakhiv", "link": "https://stackoverflow.com/users/7099296/rostyk-stakhiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537349330, "creation_date": 1537346259, "last_edit_date": 1537349330, "question_id": 52401625, "link": "https://stackoverflow.com/questions/52401625/errors-while-adding-swift-file-to-objective-c-ios-library-used-in-react-native-p", "title": "Errors while adding Swift file to Objective-C iOS Library used in React Native project", "body": "<p>I have an iOS react native project, which uses custom created iOS library written in Objective-C which serves as a bridge between shopify native ios sdk and react native. Currently I use v.2.x sdk written in Obj-C and need to update it to v.3.x which is written in Swift and cannot be imported into Obj-C project as it is using swift-specific features. So I try to replace my existing Objective-C class which serves as a bridge to RN with swift class, which would be exposed to RN and would call shopify methods. The problem is that as soon as I add swift file to my project things get broken. I receive strange error in foundation and others, like \"unknown type namespace\" in cstddef, \"Could not build module Darwin\" and others. Have you faced the same issues or maybe have an idea how it can fixed? It seems like Xcode tries to compile C libraries as Swift and as a result I get these errors. </p>\n\n<p><img src=\"https://i.stack.imgur.com/CJ9Ac.png\" alt=\"\"></p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 10929, "user_id": 920564, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mAIX9.png?s=128&g=1", "display_name": "davidethell", "link": "https://stackoverflow.com/users/920564/davidethell"}, "edited": false, "score": 0, "creation_date": 1537346271, "post_id": 52401566, "comment_id": 91747006, "body": "Can you please show the code you have already tried?"}, {"owner": {"reputation": 229, "user_id": 10021990, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Izkv4WS1B6w/AAAAAAAAAAI/AAAAAAAAAAc/ZzyEWlCOcv8/photo.jpg?sz=128", "display_name": "Roman H", "link": "https://stackoverflow.com/users/10021990/roman-h"}, "reply_to_user": {"reputation": 10929, "user_id": 920564, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mAIX9.png?s=128&g=1", "display_name": "davidethell", "link": "https://stackoverflow.com/users/920564/davidethell"}, "edited": false, "score": 0, "creation_date": 1537943418, "post_id": 52401566, "comment_id": 91962448, "body": "I edited it today, would you mind look at it again :)"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 10021990, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Izkv4WS1B6w/AAAAAAAAAAI/AAAAAAAAAAc/ZzyEWlCOcv8/photo.jpg?sz=128", "display_name": "Roman H", "link": "https://stackoverflow.com/users/10021990/roman-h"}, "edited": false, "score": 0, "creation_date": 1537348716, "post_id": 52401701, "comment_id": 91748476, "body": "Thank you for the explanation! That&#39;s something I can work with :)"}, {"owner": {"reputation": 552, "user_id": 10058854, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CuwdXK-VMjQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oihEgSF2JqEmA5Lw76Gwj7hFUrQQ/mo/photo.jpg?sz=128", "display_name": "Alan S", "link": "https://stackoverflow.com/users/10058854/alan-s"}, "reply_to_user": {"reputation": 229, "user_id": 10021990, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Izkv4WS1B6w/AAAAAAAAAAI/AAAAAAAAAAc/ZzyEWlCOcv8/photo.jpg?sz=128", "display_name": "Roman H", "link": "https://stackoverflow.com/users/10021990/roman-h"}, "edited": false, "score": 0, "creation_date": 1537355591, "post_id": 52401701, "comment_id": 91752713, "body": "@RomanH if this explanation helped lead to your solution, could you mark it as the answer please? :) Also if you have any further questions and are willing to update your question with code of your progress I would be happy to help"}], "tags": [], "owner": {"reputation": 552, "user_id": 10058854, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CuwdXK-VMjQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oihEgSF2JqEmA5Lw76Gwj7hFUrQQ/mo/photo.jpg?sz=128", "display_name": "Alan S", "link": "https://stackoverflow.com/users/10058854/alan-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1537346533, "creation_date": 1537346533, "answer_id": 52401701, "question_id": 52401566, "link": "https://stackoverflow.com/questions/52401566/disable-uibutton-with-a-shared-instace-method/52401701#52401701", "title": "disable UIButton with a shared Instace Method", "body": "<p>Read about protocols and delegates. Let's say you have VC1 with the button and VC1 segues to VC2, and you want to disable the button in VC1 when something in VC2 happens. </p>\n\n<p>You can create a protocol (with it's own set of functions) in VC2 that VC1 conforms to, which will allow VC1 to know when it should disable the button. </p>\n\n<p>The process is creating a protocol in the VC2 file, with the functions pertaining to this protocol, creating a weak delegate variable with it's type being the protocol, making VC1 the delegate of VC2, and then it's about implementing the functions that are specified in the protocol. With this way, VC2 can tell it's delegate (VC1) that it should disable the button, and VC1 would disable the button when it conforms to the protocol. </p>\n\n<p>Another option you have is creating and listening to custom notifications. </p>\n"}], "owner": {"reputation": 229, "user_id": 10021990, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Izkv4WS1B6w/AAAAAAAAAAI/AAAAAAAAAAc/ZzyEWlCOcv8/photo.jpg?sz=128", "display_name": "Roman H", "link": "https://stackoverflow.com/users/10021990/roman-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52401701, "answer_count": 1, "score": 2, "last_activity_date": 1537943313, "creation_date": 1537346084, "last_edit_date": 1537943313, "question_id": 52401566, "link": "https://stackoverflow.com/questions/52401566/disable-uibutton-with-a-shared-instace-method", "title": "disable UIButton with a shared Instace Method", "body": "<p>I am working on this Projekt. My app is able to store some data in my Firebase Database. Once this is done the button to get to this exact ViewController should be blocked by the Button which makes the segue. I don't know where and how to declare the Button so it will be accessible from another ViewController. </p>\n\n<p>My Idea:\nI just learned to use shared Instances to activate a haptic feedback Generator and trigger it in any place I wanted to give haptic feedback</p>\n\n<p>My Code in my implementation file with :</p>\n\n<pre><code>+ (buttonHandler *)sharedInstace{\n\n   static buttonHandler *_sharedInstace = nil;\n   static dispatch_once_t onceToken;\n   dispatch_once(&amp;onceToken, ^{\n    _sharedInstace = [[self alloc] init];});\nreturn _sharedInstace;} -(id)init {\nself = [super init];\nif (self)\n{\n    [self.MyButtonIWantToDisable setEnabled: NO];\n}\nreturn self;}\n</code></pre>\n\n<p>My Problem: I cant reach the Button to turn it off</p>\n\n<p>Best regards \nRoman</p>\n"}, {"tags": ["ios", "objective-c", "swift", "uinavigationcontroller", "badge"], "comments": [{"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537349563, "post_id": 52401135, "comment_id": 91748984, "body": "PPBadgeViewSwift they are not provided image api for UIBarButtonItem.You can try like this way for getting badgeView. let rightBarButton  = UIBarButtonItem.init(barButtonSystemItem: .add, target: self, action: #selector(notificationHandle))"}, {"owner": {"reputation": 830, "user_id": 8161591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--8jq2TJ-KCE/AAAAAAAAAAI/AAAAAAAAABM/uBEBRE1Clww/photo.jpg?sz=128", "display_name": "Visal Sambo", "link": "https://stackoverflow.com/users/8161591/visal-sambo"}, "reply_to_user": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537350831, "post_id": 52401135, "comment_id": 91749793, "body": "This will be sad if i want to custom image for UIBarbuttonItem"}, {"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537351342, "post_id": 52401135, "comment_id": 91750109, "body": "check below link it might be useful <a href=\"https://github.com/mikeMTOL/UIBarButtonItem-Badge\" rel=\"nofollow noreferrer\">github.com/mikeMTOL/UIBarButtonItem-Badge</a>"}, {"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537351988, "post_id": 52401135, "comment_id": 91750518, "body": "For swift <a href=\"https://github.com/JaleelNazir/MJBadgeButtonSwift\" rel=\"nofollow noreferrer\">github.com/JaleelNazir/MJBadgeButtonSwift</a>"}], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 8161591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--8jq2TJ-KCE/AAAAAAAAAAI/AAAAAAAAABM/uBEBRE1Clww/photo.jpg?sz=128", "display_name": "Visal Sambo", "link": "https://stackoverflow.com/users/8161591/visal-sambo"}, "edited": false, "score": 0, "creation_date": 1537409282, "post_id": 52408805, "comment_id": 91776462, "body": "This is great! But can you tell why do we have to async the task?"}, {"owner": {"reputation": 235, "user_id": 9181738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df23c1e8d3d348a11f3dfb0be2fc7c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulaziz.Musaileekh", "link": "https://stackoverflow.com/users/9181738/abdulaziz-musaileekh"}, "reply_to_user": {"reputation": 830, "user_id": 8161591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--8jq2TJ-KCE/AAAAAAAAAAI/AAAAAAAAABM/uBEBRE1Clww/photo.jpg?sz=128", "display_name": "Visal Sambo", "link": "https://stackoverflow.com/users/8161591/visal-sambo"}, "edited": false, "score": 0, "creation_date": 1537454148, "post_id": 52408805, "comment_id": 91798512, "body": "in iOS 11+ you can&#39;t reach <code>UIBarButtonItem</code> views in the main thread of <code>viewDidLoad()</code> that&#39;s why you have processing the task asynchronous"}], "tags": [], "owner": {"reputation": 235, "user_id": 9181738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df23c1e8d3d348a11f3dfb0be2fc7c9f?s=128&d=identicon&r=PG&f=1", "display_name": "Abdulaziz.Musaileekh", "link": "https://stackoverflow.com/users/9181738/abdulaziz-musaileekh"}, "is_accepted": false, "score": 1, "last_activity_date": 1537369107, "creation_date": 1537369107, "answer_id": 52408805, "question_id": 52401135, "link": "https://stackoverflow.com/questions/52401135/custom-badge-using-ppbadgeview-not-showing-in-navigationitem-swift/52408805#52408805", "title": "Custom badge using PPBadgeView not showing in navigationitem - swift", "body": "<p>If you are using iOS 11+ you have to async the task</p>\n\n<pre><code>let rightBarButton = UIBarButtonItem(image: UIImage(named: \"notification\")?.withRenderingMode(UIImageRenderingMode.alwaysOriginal), style: .plain, target: self, action: #selector(notificationHandle))\nself.navigationItem.rightBarButtonItem = rightBarButton\n\nif (UIDevice.current.systemVersion as NSString).doubleValue &gt;= 11.0 {\n    DispatchQueue.main.asyncAfter(deadline: DispatchTime.now() + 0.01, execute: {\n        rightBarButton.pp.addBadge(text: \"99+\")\n        rightBarButton.pp.moveBadge(x: -5, y: 0)\n        rightBarButton.pp.setBadge(height: 12)\n        rightBarButton.pp.setBadge(flexMode: PPBadgeViewFlexMode.tail)\n    })\n} else {\n    rightBarButton.pp.addBadge(text: \"99+\")\n    rightBarButton.pp.moveBadge(x: -5, y: 0)\n    rightBarButton.pp.setBadge(height: 12)\n    rightBarButton.pp.setBadge(flexMode: PPBadgeViewFlexMode.tail)\n}\n</code></pre>\n"}], "owner": {"reputation": 830, "user_id": 8161591, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--8jq2TJ-KCE/AAAAAAAAAAI/AAAAAAAAABM/uBEBRE1Clww/photo.jpg?sz=128", "display_name": "Visal Sambo", "link": "https://stackoverflow.com/users/8161591/visal-sambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537369107, "creation_date": 1537344667, "question_id": 52401135, "link": "https://stackoverflow.com/questions/52401135/custom-badge-using-ppbadgeview-not-showing-in-navigationitem-swift", "title": "Custom badge using PPBadgeView not showing in navigationitem - swift", "body": "<p>I am creating an app i want to show badge icon when there an notification to alert for user. </p>\n\n<p>I have found out library named <code>PPBadgeView</code> and i have followed the following instruction which i am using <code>pod 'PPBadgeViewSwift'</code> and then <code>pod install</code> </p>\n\n<p>In programming i want to implement rightNavigationBar with the badgeview but it doesn't show me.</p>\n\n<p>What i have done:</p>\n\n<pre><code>let rightBarButton = UIBarButtonItem(image: UIImage(named: \"notification\")?.withRenderingMode(UIImageRenderingMode.alwaysOriginal), style: .plain, target: self, action: #selector(notificationHandle))\n\nrightBarButton.pp.addBadge(text: \"99+\")\nrightBarButton.pp.moveBadge(x: -5, y: 0)\nrightBarButton.pp.setBadge(height: 12)\nrightBarButton.pp.setBadge(flexMode: PPBadgeViewFlexMode.tail)\n\nself.navigationItem.rightBarButtonItem = rightBarButton\n</code></pre>\n\n<p>When i run the app i just see the icon that i have set only. I don't know where is my badgeView. </p>\n"}, {"tags": ["objective-c", "swift", "uialertcontroller", "uialertaction"], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 1241217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9010b18e17b596bb28c04fb891e27575?s=128&d=identicon&r=PG", "display_name": "schmru", "link": "https://stackoverflow.com/users/1241217/schmru"}, "edited": false, "score": 0, "creation_date": 1537344348, "post_id": 52400941, "comment_id": 91745899, "body": "Sorry, but this only changes the font of the UIAlertController title font."}, {"owner": {"reputation": 501, "user_id": 1241217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9010b18e17b596bb28c04fb891e27575?s=128&d=identicon&r=PG", "display_name": "schmru", "link": "https://stackoverflow.com/users/1241217/schmru"}, "edited": false, "score": 0, "creation_date": 1537344666, "post_id": 52400941, "comment_id": 91746090, "body": "That is still only for a message, not for the actions (buttons)"}, {"owner": {"reputation": 173, "user_id": 9336989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dac493b3b47e7c1b6eadf9d412e56a?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Faldu", "link": "https://stackoverflow.com/users/9336989/keyur-faldu"}, "edited": false, "score": 0, "creation_date": 1537344811, "post_id": 52400941, "comment_id": 91746163, "body": "The iOS system doesn&#39;t provide the API for us to do it.So we&#39;d better use third party libraries."}, {"owner": {"reputation": 1701, "user_id": 8128834, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e2d262cc91abcca11890188fd318e69?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ihsan URAL", "link": "https://stackoverflow.com/users/8128834/ali-ihsan-ural"}, "edited": false, "score": 0, "creation_date": 1537344825, "post_id": 52400941, "comment_id": 91746172, "body": "It&#39;s hard to change it because the iOS system doesn&#39;t provide the API for us to do it. So we&#39;d better use third party libraries"}], "tags": [], "owner": {"reputation": 1701, "user_id": 8128834, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3e2d262cc91abcca11890188fd318e69?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ihsan URAL", "link": "https://stackoverflow.com/users/8128834/ali-ihsan-ural"}, "is_accepted": false, "score": -1, "last_activity_date": 1537344475, "last_edit_date": 1537344475, "creation_date": 1537343993, "answer_id": 52400941, "question_id": 52400886, "link": "https://stackoverflow.com/questions/52400886/how-to-change-uialertaction-font/52400941#52400941", "title": "How to change UIAlertAction font?", "body": "<pre><code>let titleAttributed = NSMutableAttributedString(\n        string: Constant.Strings.cancelAbsence, \n        attributes: [NSAttributedStringKey.font:UIFont(name:\"FONT_NAME\",size: FONT_SIZE)]\n)\n\nlet messageAttributed = NSMutableAttributedString(\n        string: Constant.Strings.cancelAbsence, \n        attributes: [NSAttributedStringKey.font:UIFont(name:\"FONT_NAME\",size: FONT_SIZE)]\n)\n\nlet alertController = UIAlertController(\n    title: \"\",\n    message: \"\",\n    preferredStyle: UIAlertControllerStyle.YOUR_STYLE\n)\n\nalertController.setValue(titleAttributed, forKey : \"attributedTitle\")\nalertController.setValue(messageAttributed, forKey : \"attributedMessage\")\npresent(alertController, animated: true, completion: nil)\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 1241217, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9010b18e17b596bb28c04fb891e27575?s=128&d=identicon&r=PG", "display_name": "schmru", "link": "https://stackoverflow.com/users/1241217/schmru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537344475, "creation_date": 1537343789, "question_id": 52400886, "link": "https://stackoverflow.com/questions/52400886/how-to-change-uialertaction-font", "title": "How to change UIAlertAction font?", "body": "<p>is there a way to change UIAlertAction font, since I only found how to change font only in title and message of the UIAlertController. I also found how to change the colour, but I just can't found a way how to change the font.</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "header", "xlpagertabstrip"], "comments": [{"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1537413805, "post_id": 52400250, "comment_id": 91777381, "body": "Is myproject-swift.h a bridging header that shows up in your project and contains Objective-C declarations for use by Swift?  Or is it Xcode-generated interface header (not listed as part of your project) containing declarations for use by Objective-C, so it can make use of your Swift code?  If it&#39;s the latter, then it should not be called a bridging header.  Just trying to understand your use of terminology."}, {"owner": {"reputation": 460, "user_id": 8581430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1983c78912c30468ce75807903dec6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sanad Barjawi", "link": "https://stackoverflow.com/users/8581430/sanad-barjawi"}, "reply_to_user": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1537422643, "post_id": 52400250, "comment_id": 91779920, "body": "its an auto generated interface which contains Objective-C declarations for use by Swift @AnatoliP"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537938161, "post_id": 52400250, "comment_id": 91960482, "body": "Where&#39;s <code>ButtonBarPagerTabStripViewController</code> declared, and how?"}, {"owner": {"reputation": 460, "user_id": 8581430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1983c78912c30468ce75807903dec6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sanad Barjawi", "link": "https://stackoverflow.com/users/8581430/sanad-barjawi"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537941577, "post_id": 52400250, "comment_id": 91961612, "body": "@Cristik its from a pod"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537941733, "post_id": 52400250, "comment_id": 91961681, "body": "And how about <code>ParentViewController</code>? How is that declared in Swift? Please add all the relevant information into the question, this will make it easier for people to understand the problem."}, {"owner": {"reputation": 460, "user_id": 8581430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1983c78912c30468ce75807903dec6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sanad Barjawi", "link": "https://stackoverflow.com/users/8581430/sanad-barjawi"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537943639, "post_id": 52400250, "comment_id": 91962553, "body": "The <code>ParentViewController</code> class  conform from <code>ButtonBarPagerTabStripViewController </code> ill edit the question right now, please make sure to check it @Cristik"}], "answers": [{"tags": [], "owner": {"reputation": 2149, "user_id": 9315978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QFXt3.jpg?s=128&g=1", "display_name": "a.masri", "link": "https://stackoverflow.com/users/9315978/a-masri"}, "is_accepted": true, "score": 5, "last_activity_date": 1537969525, "creation_date": 1537969525, "answer_id": 52519242, "question_id": 52400250, "link": "https://stackoverflow.com/questions/52400250/cannot-find-interface-declaration-in-myproject-swift-h/52519242#52519242", "title": "Cannot find interface declaration in myproject-swift.h", "body": "<p>You needed to import the -Swift.h for for both the framework and the app target</p>\n\n<p>For Example :</p>\n\n<pre><code>    #import &lt;UIKit/UIKit.h&gt;\n    #import &lt;AVFoundation/AVFoundation.h&gt;\n    #import &lt;Foundation/Foundation.h&gt;\n    #import \"XLPagerTabStrip-Swift.h\"\n    #import \"RealmSwift-Swift.h\"\n    ...... // Add all frameworks, subclasses, and dependance ios frameworks\n    #import  \"MyProject-Swift.h\"\n</code></pre>\n\n<p>You can read this <a href=\"http://www.cplusplus.com/forum/articles/10627/\" rel=\"noreferrer\">article</a> How to import file header and check paths </p>\n"}], "owner": {"reputation": 460, "user_id": 8581430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1983c78912c30468ce75807903dec6c7?s=128&d=identicon&r=PG&f=1", "display_name": "Sanad Barjawi", "link": "https://stackoverflow.com/users/8581430/sanad-barjawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1536, "favorite_count": 0, "accepted_answer_id": 52519242, "answer_count": 1, "score": 6, "last_activity_date": 1537969525, "creation_date": 1537341594, "last_edit_date": 1537947148, "question_id": 52400250, "link": "https://stackoverflow.com/questions/52400250/cannot-find-interface-declaration-in-myproject-swift-h", "title": "Cannot find interface declaration in myproject-swift.h", "body": "<p>I'\nm using <code>XLPagerTabStrip</code> pod in my project, </p>\n\n<p>i have a bridging header for other purposes to integrate from swift to objective c <code>myproject-swift.h</code> </p>\n\n<p><strong>i cant build the project and this error always pops:</strong></p>\n\n<blockquote>\n  <p>Cannot find interface declaration for\n  'ButtonBarPagerTabStripViewController', superclass of\n  'ParentViewController'</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/rS7BE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rS7BE.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my Controller </p>\n\n<pre><code>import Foundation\nimport UIKit\nimport XLPagerTabStrip\n\nclass ParentViewController: ButtonBarPagerTabStripViewController {\n\n    override func viewDidLoad() {\n        tabStripStyle()\n        super.viewDidLoad()\n        containerView.isScrollEnabled = false\n    }\n   } \n</code></pre>\n\n<p>I have seen this issue everywhere posted but its not yet answered here:  <a href=\"https://stackoverflow.com/questions/32447327/cannot-find-interface-declaration-in-auto-generated-swift-bridging-header\">&#39;Cannot find interface declaration&#39; in auto-generated Swift bridging header</a></p>\n\n<p>Bugs in swift  <a href=\"https://bugs.swift.org/browse/SR-805\" rel=\"nofollow noreferrer\">SR-805</a> <a href=\"https://bugs.swift.org/browse/SR-5398\" rel=\"nofollow noreferrer\">SR-5398</a> </p>\n"}, {"tags": ["objective-c", "swift4", "inputstream", "outputstream"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1537344259, "post_id": 52398797, "comment_id": 91745861, "body": "&quot;part of my code wasn&#39;t running as its supposed to it&quot; And what happens now? What&#39;s wrong?"}, {"owner": {"reputation": 51, "user_id": 7710470, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/820502b8890aba0206d31783f4ab60c2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cisneros", "link": "https://stackoverflow.com/users/7710470/daniel-cisneros"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537344570, "post_id": 52398797, "comment_id": 91746036, "body": "Sorry I thought I added what was going on, so Ive been debugging the entire code. And found that the error is occuring in readByte, for example. Server sends value of \u201c1\u201d and then when converting from UInt8 to Int, ends up with value of like \u201c1837619902737\u201d instead of \u201c1\u201d, these numbers arent direct but the same concept applies."}, {"owner": {"reputation": 51, "user_id": 7710470, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/820502b8890aba0206d31783f4ab60c2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cisneros", "link": "https://stackoverflow.com/users/7710470/daniel-cisneros"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537344644, "post_id": 52398797, "comment_id": 91746075, "body": "So reader?.readByte().hasValue is returning a huge number instead of like \u201c1\u201d or \u201c20\u201d etc."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537344657, "post_id": 52398797, "comment_id": 91746083, "body": "Could you update your question with that info (more visible than in comments)? Also, could it be that it&#39;s not BigEndian anymore?"}], "answers": [{"tags": [], "owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "is_accepted": false, "score": 0, "last_activity_date": 1537497179, "creation_date": 1537497179, "answer_id": 52435828, "question_id": 52398797, "link": "https://stackoverflow.com/questions/52398797/swift-4-reading-byte-data/52435828#52435828", "title": "Swift 4, reading byte data", "body": "<p>From your comment, <em><strong><code>reader?.readByte().hasValue</code> is returning a huge number</strong></em>. (I believe <em><strong><code>hasValue</code></strong></em> is just a typo and its <em><strong><code>hashValue</code></strong></em>.)</p>\n\n<p>That's a possible behavior of <code>hashValue</code>.</p>\n\n<p>Are you using <code>hashValue</code> as if it's a <code>UInt8</code> to <code>Int</code> conversion tool?</p>\n\n<p>It's wrong. The property <code>hashValue</code> is (and should be) implemented to return some <code>Int</code> value which fulfills one axiom:</p>\n\n<pre><code>where a == b, a.hashValue == b.hashValue\n</code></pre>\n\n<p>In older versions of Swift, <code>UInt8.hashValue</code> may have returned the same value of type <code>Int</code>, but you should not rely on such an implementation detail that is not documented. A slight change of implementation would lead to different results.</p>\n\n<p>And in fact, Swift 4.2 has changed the implementation of <code>hashValue</code> drastically.</p>\n\n<p><a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0206-hashable-enhancements.md\" rel=\"nofollow noreferrer\">SE-0206 Hashable Enhancements</a></p>\n\n<p>You may need to fix all parts of your project using <code>hashValue</code>.\nUsually, you use <code>Int.init(_:)</code> to convert <code>UInt8</code> to <code>Int</code>.</p>\n\n<p>In a context like Optional Chaining as shown in your <code>let msgType</code>, you may need to write something like this.</p>\n\n<pre><code>    let msgType = (reader?.getByte()).map{Int($0)}\n</code></pre>\n\n<p>If you have many parts using <code>hashValue</code> wrongly, better write an extension:</p>\n\n<pre><code>extension UInt8 {\n    var integerValue: Int {\n        return Int(self)\n    }\n}\n\n    let msgType = reader?.getByte().integerValue\n</code></pre>\n\n<p>Generally, you should better not include such wrong hacks in your project. </p>\n"}], "owner": {"reputation": 51, "user_id": 7710470, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/820502b8890aba0206d31783f4ab60c2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Cisneros", "link": "https://stackoverflow.com/users/7710470/daniel-cisneros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 564, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537497179, "creation_date": 1537335426, "last_edit_date": 1537344831, "question_id": 52398797, "link": "https://stackoverflow.com/questions/52398797/swift-4-reading-byte-data", "title": "Swift 4, reading byte data", "body": "<p>so I recently update my IMAC and <code>Xcode</code>, after updating part of my code wasn't running as its supposed to it. Here is where I originally check messages.</p>\n\n<pre><code>func checkForMessages() {\n    while true {\n        if inputBuffer.length &lt; 4 {\n            return\n        }\n        var msgLength = (inputBuffer.bytes).load(as: UInt32.self)\n        msgLength = UInt32(bigEndian: msgLength)\n        print(\"msgLength = \\(msgLength)\")\n        print(\"inputBuffer Length = \\(inputBuffer.length)\")\n        print(\"inputBuffer = \\(inputBuffer)\")\n        if inputBuffer.length &lt; msgLength {\n            return\n        }\n        //print(\"data = \\(inputBuffer.subdata(with: NSRange(location: 4, length: Int(msgLength))))\")\n        if inputBuffer.length &lt; msgLength + 4 {\n            return\n        }\n        let message: Data? = inputBuffer.subdata(with: NSRange(location: 4, length: Int(msgLength)))\n        processMessage(message!)\n        let amtRemaining: Int = inputBuffer.length - Int(msgLength) - 4\n        if amtRemaining == 0 {\n            inputBuffer = NSMutableData()\n        }\n        else {\n            print(\"Creating input buffer of length \\(amtRemaining)\")\n            inputBuffer = NSMutableData(bytes: inputBuffer.bytes + 4 + Int(msgLength), length: amtRemaining)\n        }\n    }\n}\n</code></pre>\n\n<p>and then the process message function</p>\n\n<pre><code>func processMessage(_ data: Data) {\n\n    let reader = MessageReader(data: data)\n    print(\"this is the message data\\(data)\")\n    let msgType  = reader?.readByte().hashValue\n}\n</code></pre>\n\n<p>and then the actually MessageReader, its in <code>Objective C</code>, since I pulled it off the internet a while ago. Its been working fine for me ever since. Until now.</p>\n\n<pre><code>#import \"MessageReader.h\"\n\n@implementation MessageReader\n\n- (id)initWithData:(NSData *)data {\n   if ((self = [super init])) {\n      _data = data;\n      _offset = 0;\n}\nreturn self;\n}\n\n- (unsigned char)readByte {\n    unsigned char retval = *((unsigned char *) (_data.bytes + _offset));\n    _offset += sizeof(unsigned char);\n    return retval;\n}\n\n- (int)readInt {\n    int retval = *((unsigned int *) (_data.bytes + _offset));\n   retval = ntohl(retval);\n   _offset += sizeof(unsigned int);\n   return retval;\n}\n\n- (NSString *)readString {\n   int strLen = [self readInt];\n   NSString *retval = [NSString stringWithCString:_data.bytes + _offset encoding:NSUTF8StringEncoding];\n   _offset += strLen;\n   return retval;\n}\n\n- (void)dealloc {\n}\n\n@end\n</code></pre>\n\n<p>Now the issue is that instead of returning the number for say \u201c1\u201d or \u201c2\u201d, \u201c30\u201d, etc. its returning some huge number like 1836718193728. I believe the issue lies in the messageReader, readByte function. </p>\n"}, {"tags": ["ios", "objective-c", "mkmapview"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1537328573, "post_id": 52397582, "comment_id": 91739698, "body": "Set the delegate of friendsMapView to self"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1537331359, "post_id": 52397582, "comment_id": 91740321, "body": "@ElTomato Already have"}, {"owner": {"reputation": 1660, "user_id": 6239140, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUUiE.jpg?s=128&g=1", "display_name": "Saurabh Jain", "link": "https://stackoverflow.com/users/6239140/saurabh-jain"}, "edited": false, "score": 0, "creation_date": 1537335922, "post_id": 52397582, "comment_id": 91741720, "body": "let confirm your delegate call or not?"}], "answers": [{"comments": [{"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1537332924, "post_id": 52398264, "comment_id": 91740749, "body": "Used this code and my annotations show up properly on the map, but I still don&#39;t get a callout when I tap them. :/"}, {"owner": {"reputation": 216, "user_id": 9065771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f616293aaf9d9f9622af979aa634f2fd?s=128&d=identicon&r=PG", "display_name": "TheTravloper", "link": "https://stackoverflow.com/users/9065771/thetravloper"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1537341863, "post_id": 52398264, "comment_id": 91744586, "body": "stange. Did you mentioned the delegate - <code>MKMapViewDelegate</code> and update your info.plist with required configuration?? @Brittany"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1537414523, "post_id": 52398264, "comment_id": 91777542, "body": "Yes to MapViewDelegate, but not sure what I should&#39;ve updated in the info.plist file?"}, {"owner": {"reputation": 216, "user_id": 9065771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f616293aaf9d9f9622af979aa634f2fd?s=128&d=identicon&r=PG", "display_name": "TheTravloper", "link": "https://stackoverflow.com/users/9065771/thetravloper"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1537419878, "post_id": 52398264, "comment_id": 91778888, "body": "1. <code>Privacy - Location Always and When In Use Usage Description</code> - Add some Description  2. <code>Privacy - Location Usage Description</code> - Some Description  3. <code>Privacy - Location When In Use Usage Description</code> - Some Description . @Brittany"}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1537556538, "post_id": 52398264, "comment_id": 91842444, "body": "As it turns out it was a combination of your solution, and one of my data fields being called was empty - thus, the callout wasn&#39;t opening. Thank you! :)"}], "tags": [], "owner": {"reputation": 216, "user_id": 9065771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f616293aaf9d9f9622af979aa634f2fd?s=128&d=identicon&r=PG", "display_name": "TheTravloper", "link": "https://stackoverflow.com/users/9065771/thetravloper"}, "is_accepted": true, "score": 0, "last_activity_date": 1537332522, "creation_date": 1537332522, "answer_id": 52398264, "question_id": 52397582, "link": "https://stackoverflow.com/questions/52397582/obj-c-mkmapview-annotation-callout-not-showing-on-tap/52398264#52398264", "title": "Obj-C - MKMapView Annotation Callout not showing on tap?", "body": "<p>Try <code>viewForAnnotation</code> method with following configuration.</p>\n\n<pre><code>- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id &lt;MKAnnotation&gt;)annotation{\n\n\n    if ([annotation isKindOfClass:[MKUserLocation class]])\n        return nil;\n\n    if ([annotation isKindOfClass:[MKPointAnnotation class]])\n    {\n\n        MKAnnotationView *pinView = (MKAnnotationView*)[mapView dequeueReusableAnnotationViewWithIdentifier:@\"CustomPinAnnotationView\"];\n        if (!pinView)\n        {\n\n            pinView = [[MKAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@\"CustomPinAnnotationView\"];\n\n            pinView.canShowCallout = YES;\n            pinView.image = [UIImage imageNamed:@\"annotation\"];\n            pinView.calloutOffset = CGPointMake(0, 0);\n\n\n            UIImageView *iconView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@\"annotation\"]];\n            pinView.leftCalloutAccessoryView = iconView;\n\n\n        } else {\n            pinView.annotation = annotation;\n        }\n        return pinView;\n    }\n    return nil;\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1537338035, "creation_date": 1537338035, "answer_id": 52399359, "question_id": 52397582, "link": "https://stackoverflow.com/questions/52397582/obj-c-mkmapview-annotation-callout-not-showing-on-tap/52399359#52399359", "title": "Obj-C - MKMapView Annotation Callout not showing on tap?", "body": "<p>Try <code>viewForAnnotation</code> method with following configuration.</p>\n\n<pre><code>- (MKAnnotationView *)mapView:(MKMapView *)mapView viewForAnnotation:(id &lt;MKAnnotation&gt;)annotation{\n\n\n    if ([annotation isKindOfClass:[MKUserLocation class]])\n        return nil;\n\n    if ([annotation isKindOfClass:[MKPointAnnotation class]])\n    {\n\n        MKAnnotationView *pinView = (MKAnnotationView*)[mapView dequeueReusableAnnotationViewWithIdentifier:@\"CustomPinAnnotationView\"];\n        if (!pinView)\n        {\n\n            pinView = [[MKAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@\"CustomPinAnnotationView\"];\n\n            pinView.image = [UIImage imageNamed:@\"annotation\"];\n\n        } else {\n            pinView.annotation = annotation;\n        }\n        pinView.canShowCallout = YES;\n        pinView.calloutOffset = CGPointMake(0, 0);\n\n        UIImageView *iconView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@\"annotation\"]];\n        pinView.leftCalloutAccessoryView = iconView;\n\n        return pinView;\n    }\n    return nil;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 52398264, "answer_count": 2, "score": -1, "last_activity_date": 1537338035, "creation_date": 1537327769, "question_id": 52397582, "link": "https://stackoverflow.com/questions/52397582/obj-c-mkmapview-annotation-callout-not-showing-on-tap", "title": "Obj-C - MKMapView Annotation Callout not showing on tap?", "body": "<p>I have annotations on my mapview (self.friendsMapView) that should present a callout when tapped. Each annotation displays a title and a description (body). For some reason, no matter what I try, my callout will not show if my annotation is tapped. Am I missing something here? </p>\n\n<p><strong>A bit of background:</strong> I previously had two mapViews inside one ViewController (and, I had callouts working fine). However after I decided to remove one mapview (self.neighboursMapView) and its code, my callouts for self.friendsMapView seem to have stopped working.</p>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>    - (void)viewDidLoad {\n        [super viewDidLoad];\n\n\n         friendsMapView.showsUserLocation = YES;\n        [friendsMapView setMapType:MKMapTypeStandard];\n        [friendsMapView setZoomEnabled:YES];\n        [friendsMapView setScrollEnabled:YES];\n\n        NSMutableDictionary *viewParamsFriend = [NSMutableDictionary new];\n        [viewParamsFriend setValue:@\"accepted_friends\" forKey:@\"view_name\"];\n        [DIOSView viewGet:viewParamsFriend success:^(AFHTTPRequestOperation *operation, id responseObject) {\n\n\n            self.friendData = [responseObject mutableCopy];\n\n            int index = 0;\n\n            for (NSMutableDictionary *multiplelocationsFriend in self.friendData) {\n\n\n                NSString *location = multiplelocationsFriend[@\"address2\"];\n                NSString *userNames = multiplelocationsFriend[@\"first name\"];\n                NSString *userBio = multiplelocationsFriend[@\"body\"];\n\n\n                CLGeocoder *geocoderFriend = [[CLGeocoder alloc] init];\n                [geocoderFriend geocodeAddressString:location\n                             completionHandler:^(NSArray* placemarks, NSError* error){\n                                 if (placemarks &amp;&amp; placemarks.count &gt; 0) {\n                                     CLPlacemark *topResult = [placemarks objectAtIndex:0];\n                                     MKPlacemark *placemark = [[MKPlacemark alloc] initWithPlacemark:topResult];\n\n                                     MKCoordinateRegion region = self.friendsMapView.region;\n\n                                     region.span.longitudeDelta /= 150.0;\n                                     region.span.latitudeDelta /= 150.0;\n\n\n                                     PointAnnotation *point = [[PointAnnotation alloc] init];\n                                     point.coordinate = placemark.coordinate;\n                                     point.title = userNames;\n                                     point.subtitle = userBio;\n                                     point.index = index;  // Store index here.\n\n                                     [self.friendsMapView addAnnotation:point];\n                                 }\n                             }\n                 ];\n\n                index = index + 1;\n\n            }\n\n        } failure:^(AFHTTPRequestOperation *operation, NSError *error) {\n            NSLog(@\"Failure: %@\", [error localizedDescription]);\n        }];\n\n\n    }\n\n-(MKAnnotationView*)mapView:(MKMapView*)friendsMapView viewForAnnotation:(id&lt;MKAnnotation&gt;)annotation {\n\n    if([annotation isKindOfClass:[meetupAnn class]]) {\n        static NSString *identifier = @\"currentLocation\";\n        SVPulsingAnnotationView *pulsingView = (SVPulsingAnnotationView *)[self.friendsMapView dequeueReusableAnnotationViewWithIdentifier:identifier];\n\n        if(pulsingView == nil) {\n            pulsingView = [[SVPulsingAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:identifier];\n            pulsingView.annotationColor = [UIColor colorWithRed:0 green:0.678431 blue:0 alpha:1];\n            pulsingView.canShowCallout = YES;\n        }\n\n        return pulsingView;\n    }\n\n\n    MKAnnotationView *view = nil;\n    if (annotation != self.friendsMapView.userLocation) {\n\n        NSLog(@\"Friend Map Showing\");\n\n        view = [self.friendsMapView dequeueReusableAnnotationViewWithIdentifier:@\"AnnotationIdentifier\"];\n        if (!view) {\n\n            static NSString* AnnotationIdentifier = @\"AnnotationIdentifier\";\n\n            MKAnnotationView *annotationView = [[MKAnnotationView alloc] initWithAnnotation:annotation\n                                                                            reuseIdentifier:AnnotationIdentifier];\n            annotationView.canShowCallout = YES;\n            annotationView.image = [UIImage imageNamed:@\"mapann3.png\"];\n            UIButton* rightButton = [UIButton buttonWithType:UIButtonTypeDetailDisclosure];\n\n            annotationView.rightCalloutAccessoryView = rightButton;\n            annotationView.canShowCallout = YES;\n            annotationView.draggable = YES;\n\n\n            return annotationView;\n\n\n\n        }\n    }\n\n    return view;\n\n}\n\n    - (void)mapView:(MKMapView *)mapView didSelectAnnotationView:(MKAnnotationView *)view\n    {\n\n       if (mapView == self.friendsMapView) {\n\n            UITapGestureRecognizer *tapGesture2 = [[UITapGestureRecognizer alloc] initWithTarget:self  action:@selector(calloutTappedTwo:)];\n            [view addGestureRecognizer:tapGesture2];\n\n        }\n\n\n\n    }\n\n\n    -(void)calloutTappedTwo:(UITapGestureRecognizer *) sender\n    {\n        NSLog(@\"CALL OUT TWO TAPPED\");\n\n        MKAnnotationView *view = (MKAnnotationView*)sender.view;\n\n        id &lt;MKAnnotation&gt; annotation = [view annotation];\n        if ([annotation isKindOfClass:[MKPointAnnotation class]])\n        {\n            PointAnnotation *selectedPoint = (PointAnnotation *) view.annotation;\n\n            UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\n\n            OtherUserViewController *yourViewController = (OtherUserViewController *)[storyboard instantiateViewControllerWithIdentifier:@\"OtherUserViewController\"];\n\n            NSMutableDictionary *dictionary = self.friendData[selectedPoint.index];\n            yourViewController.frienduserData = dictionary;\n\n            [self.navigationController pushViewController:yourViewController animated:YES];\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "core-data", "crash", "core-data-migration"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537344345, "post_id": 52395060, "comment_id": 91745896, "body": "You didn&#39;t copy/paste the error given in console."}, {"owner": {"reputation": 1, "user_id": 5781269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U_5I4EfwmyI/AAAAAAAAAAI/AAAAAAAACu8/7EkPkXkB-uk/photo.jpg?sz=128", "display_name": "anirudh reddy", "link": "https://stackoverflow.com/users/5781269/anirudh-reddy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537365139, "post_id": 52395060, "comment_id": 91758668, "body": "I didn&#39;t receive any logs for the &quot;NSLog(@&quot;First attempt addPersistentStoreWithType error %@, %@&quot;, error, [error userInfo]); &quot;"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537365206, "post_id": 52395060, "comment_id": 91758723, "body": "You got a crash but no message in console?"}, {"owner": {"reputation": 1, "user_id": 5781269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U_5I4EfwmyI/AAAAAAAAAAI/AAAAAAAACu8/7EkPkXkB-uk/photo.jpg?sz=128", "display_name": "anirudh reddy", "link": "https://stackoverflow.com/users/5781269/anirudh-reddy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537367636, "post_id": 52395060, "comment_id": 91760343, "body": "It is only crashing for a few particular devices."}, {"owner": {"reputation": 1, "user_id": 5781269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U_5I4EfwmyI/AAAAAAAAAAI/AAAAAAAACu8/7EkPkXkB-uk/photo.jpg?sz=128", "display_name": "anirudh reddy", "link": "https://stackoverflow.com/users/5781269/anirudh-reddy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1537374815, "post_id": 52395060, "comment_id": 91764661, "body": "@Larme - added back trace from the phone logs."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5781269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U_5I4EfwmyI/AAAAAAAAAAI/AAAAAAAACu8/7EkPkXkB-uk/photo.jpg?sz=128", "display_name": "anirudh reddy", "link": "https://stackoverflow.com/users/5781269/anirudh-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1537458112, "creation_date": 1537458112, "answer_id": 52428770, "question_id": 52395060, "link": "https://stackoverflow.com/questions/52395060/crash-on-calling-addpersistentstorewithtype/52428770#52428770", "title": "Crash on calling addpersistentstorewithtype", "body": "<p>So we followed the circuit breaker pattern and followed the below blog post to address the issue.</p>\n\n<p><a href=\"https://code.tutsplus.com/tutorials/core-data-from-scratch-migrations--cms-21844\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/tutorials/core-data-from-scratch-migrations--cms-21844</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5781269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U_5I4EfwmyI/AAAAAAAAAAI/AAAAAAAACu8/7EkPkXkB-uk/photo.jpg?sz=128", "display_name": "anirudh reddy", "link": "https://stackoverflow.com/users/5781269/anirudh-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537458112, "creation_date": 1537307374, "last_edit_date": 1537374616, "question_id": 52395060, "link": "https://stackoverflow.com/questions/52395060/crash-on-calling-addpersistentstorewithtype", "title": "Crash on calling addpersistentstorewithtype", "body": "<p>I'm creating a <code>NSPersistentStore</code> with the code below, but it crashes with an error posted farther below.</p>\n\n<pre><code>- (NSPersistentStoreCoordinator *)persistentStoreCoordinator {\n\nif (persistentStoreCoordinator != nil) {\n    return persistentStoreCoordinator;\n}\n\n// Check if we need to copy initial database store\nNSString *storePath = [[self applicationDocumentsDirectory]\n                       stringByAppendingPathComponent: PersistentStoreFilename];\n//[self checkPersistentStore:storePath];\nNSURL *storeUrl = [NSURL fileURLWithPath:storePath];\n// Enable automatic lightweight migration\nNSDictionary *options = @{\n                          NSMigratePersistentStoresAutomaticallyOption : @YES,\n                          NSInferMappingModelAutomaticallyOption : @YES\n                          };\nNSError *error = nil;\nNSDictionary *fileAttributes = [NSDictionary dictionaryWithObject:NSFileProtectionComplete forKey:NSFileProtectionKey];\nNSLog(@\"fileAttributes ---- %@\",fileAttributes);\nNSLog(@\"before file attributes - storePath ---- %@\",storePath);\n[[NSFileManager defaultManager] setAttributes:fileAttributes ofItemAtPath:storePath error:&amp;error];\n\npersistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc]\n                              initWithManagedObjectModel:[self managedObjectModel]];\n\nNSLog(@\"1.persistentStoreCoordinator ---- %@\",persistentStoreCoordinator);\nNSLog(@\"2.applicationDocumentsDirectory ---- %@\",[self applicationDocumentsDirectory]);\nNSLog(@\"3.PersistentStoreFilename ---- %@\",PersistentStoreFilename);\nNSLog(@\"4.storePath ---- %@\",storePath);\nNSLog(@\"4.storeUrl ---- %@\",storeUrl);\n\nNSLog(@\"5)persistentStoreCoordinator ---- Error loading core data database\");\n\nif(![persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType\n                                             configuration:nil URL:storeUrl options:options error:&amp;error]) {\n    /*Error for store creation should be handled in here*/\n\n    // REA - removing current store and replacing with one from bundle\n    //        NSFileManager *fileManager = [NSFileManager defaultManager];\n    //        [fileManager removeItemAtPath:storePath error:nil];\n    //        [self checkPersistentStore:storePath];\n    NSLog(@\"First attempt addPersistentStoreWithType error %@, %@\", error, [error userInfo]);\n    if(![persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType\n                                                 configuration:nil URL:storeUrl options:options error:&amp;error]) {\n        // Even the bundle version isn't loading - something really bad happened and we can't run\n        NSLog(@\"Second attempt addPersistentStoreWithType error %@, %@\", error, [error userInfo]);\n        NSLog(@\"6)persistentStoreCoordinator ---- Error loading core data database\");\n        abort();\n    }\n}\n\nreturn persistentStoreCoordinator;\n}\n</code></pre>\n\n<p>It causes a crash and below are the <code>nslog</code> from the device.</p>\n\n<blockquote>\n  <p>before file attributes - storePath ---- /var/mobile/Containers/Data/Application/AA4EF2AA-1E72-4BC9-A939-732A1BB65E71/Documents/iPhoneCoreData.sqlite</p>\n  \n  <p>1.persistentStoreCoordinator ---- </p>\n  \n  <p>2.applicationDocumentsDirectory ---- /var/mobile/Containers/Data/Application/AA4EF2AA-1E72-4BC9-A939-732A1BB65E71/Documents</p>\n  \n  <p>3.PersistentStoreFilename ---- iPhoneCoreData.sqlite</p>\n  \n  <p>4.storePath ---- /var/mobile/Containers/Data/Application/AA4EF2AA-1E72-4BC9-A939-732A1BB65E71/Documents/iPhoneCoreData.sqlite</p>\n  \n  <p>4.storeUrl ---- file:///var/mobile/Containers/Data/Application/AA4EF2AA-1E72-4BC9-A939-732A1BB65E71/Documents/iPhoneCoreData.sqlite</p>\n</blockquote>\n\n<p>Crash Logs:</p>\n\n<p>Exception Type:  EXC_CRASH (SIGKILL)\nException Codes: 0x0000000000000000, 0x0000000000000000\nException Note:  EXC_CORPSE_NOTIFY\nTermination Reason: Namespace SPRINGBOARD, Code 0x8badf00d\nTermination Description: SPRINGBOARD, scene-create watchdog transgression: com.united.UnitedAgentMobileApp exhausted real (wall clock) time allowance of 19.27 seconds |  | ProcessVisibility: Foreground | ProcessState: Running | WatchdogEvent: scene-create | WatchdogVisibility: Foreground | WatchdogCPUStatistics: ( | \"Elapsed total CPU time (seconds): 21.220 (user 21.220, system 0.000), 53% CPU\", | \"Elapsed application CPU time (seconds): 19.319, 48% CPU\" | )\nTriggered by Thread:  0</p>\n\n<p>Back Trace:</p>\n\n<p>Thread 0 name:  Dispatch queue: SQLQueue 0x117dc0080 for UnitediPhoneCoreData.sqlite\nThread 0 Crashed:\n0   libcompression.dylib            0x00000001841865d8 zlibDecodeBufferSafe + 40\n1   libcompression.dylib            0x000000018418747c zlib_decode_stream_process + 288\n2   libcompression.dylib            0x000000018418747c zlib_decode_stream_process + 288\n3   CoreData                        0x000000018530d92c -[NSSQLiteConnection _decompressedModelWithData:] + 188\n4   CoreData                        0x000000018530dc5c -[NSSQLiteConnection fetchCachedModel] + 552\n5   CoreData                        0x00000001852e18b0 __34-[NSSQLCore cachedModelWithError:]_block_invoke + 112\n6   CoreData                        0x00000001852301d4 -[NSSQLStoreRequestContext executeRequestUsingConnection:] + 248\n7   CoreData                        0x00000001852b2118 __52-[NSSQLDefaultConnectionManager handleStoreRequest:]_block_invoke + 84\n8   libdispatch.dylib               0x000000018239aa14 _dispatch_client_callout + 16\n9   libdispatch.dylib               0x00000001823a3618 _dispatch_queue_barrier_sync_invoke_and_complete + 56\n10  CoreData                        0x00000001852b2014 -[NSSQLDefaultConnectionManager handleStoreRequest:] + 256\n11  CoreData                        0x00000001853a2524 -[NSSQLCoreDispatchManager routeStoreRequest:] + 264\n12  CoreData                        0x00000001852e3fdc -[NSSQLCore dispatchRequest:withRetries:] + 236\n13  CoreData                        0x00000001852e1738 -[NSSQLCore cachedModelWithError:] + 112\n14  CoreData                        0x00000001852e297c +[NSSQLCore cachedModelForPersistentStoreWithURL:options:error:] + 688\n15  CoreData                        0x00000001853363ac -[NSStoreMigrationPolicy sourceModelForStoreAtURL:metadata:error:] + 1256\n16  CoreData                        0x00000001853379c8 -[NSStoreMigrationPolicy+ 1653192 (InternalMethods) _gatherDataAndPerformMigration:] + 772\n17  CoreData                        0x00000001852bba34 __91-[NSPersistentStoreCoordinator addPersistentStoreWithType:configuration:URL:options:error:]_block_invoke + 2896\n18  CoreData                        0x00000001852c956c gutsOfBlockToNSPersistentStoreCoordinatorPerform + 212\n19  libdispatch.dylib               0x000000018239aa14 _dispatch_client_callout + 16\n20  libdispatch.dylib               0x00000001823a3618 _dispatch_queue_barrier_sync_invoke_and_complete + 56\n21  CoreData                        0x00000001852b7944 _perform + 200\n22  CoreData                        0x00000001851adfa4 -[NSPersistentStoreCoordinator addPersistentStoreWithType:configuration:URL:options:error:] + 384</p>\n"}, {"tags": ["objective-c", "swift", "objc-bridging-header"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537307722, "post_id": 52395051, "comment_id": 91735316, "body": "What is the significance of returning <code>nil</code>, if it isn&#39;t &quot;there was an error and I couldn&#39;t return anything meaningful&quot;?"}, {"owner": {"reputation": 121, "user_id": 2193454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cZmPj.jpg?s=128&g=1", "display_name": "Daniel Pietsch", "link": "https://stackoverflow.com/users/2193454/daniel-pietsch"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537308057, "post_id": 52395051, "comment_id": 91735438, "body": "@matt - My example is deliberately simple to show the bridging issue that I am seeing.  Imagine a class that represented a contact and I wanted to ask for a field name &quot;BusinessPhoneNumber&quot;.  It&#39;s not an error to be missing a business phone number, so I would like to return <code>nil</code>."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537308405, "post_id": 52395051, "comment_id": 91735530, "body": "But in that example, why would there be a method that takes an <code>NSError**</code>? Do you see what I&#39;m getting at? You are artificially positing an antipattern, and I&#39;m asking you justify that in practical terms. There is no &quot;bridging issue&quot; as long as you obey the pattern, and there is no reason not to, so why not just obey it?"}, {"owner": {"reputation": 69339, "user_id": 2976878, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYJSk.png?s=128&g=1", "display_name": "Hamish", "link": "https://stackoverflow.com/users/2976878/hamish"}, "edited": false, "score": 0, "creation_date": 1537309670, "post_id": 52395051, "comment_id": 91735875, "body": "See <a href=\"https://stackoverflow.com/q/34786115/2976878\">stackoverflow.com/q/34786115/2976878</a> \u2013 the importer assumes that returning <code>nil</code> means that the method threw an error (as such is Cocoa convention). If you really want to disregard that convention, you could use <code>__attribute__((swift_error(nonnull_error)))</code> as shown at the bottom of Martin&#39;s answer to change the behaviour such that the method is considered to have thrown if it leaves a non-nil <code>NSError*</code> in the out-parameter (thus preserving the optionality of the return)."}], "answers": [{"tags": [], "owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "is_accepted": false, "score": 4, "last_activity_date": 1537308846, "creation_date": 1537308846, "answer_id": 52395286, "question_id": 52395051, "link": "https://stackoverflow.com/questions/52395051/force-objective-c-method-returning-id-and-inout-nserror-to-bridge-to-an-option/52395286#52395286", "title": "Force Objective-C method returning `id` and inout NSError to bridge to an optional return", "body": "<p>You may need to use <code>NS_SWIFT_NOTHROW</code>:</p>\n\n<pre><code>-(nullable id)aNullableMethodWithError:(inout NSError **)error NS_SWIFT_NOTHROW;\n</code></pre>\n\n<p>This is imported into Swift as:</p>\n\n<pre><code>open func aNullableMethodWithError(_ error: NSErrorPointer) -&gt; Any?\n</code></pre>\n\n<hr>\n\n<p>If you want to import your method as <code>throws</code>-function, you may need to change the method signature to follow the convention:</p>\n\n<ul>\n<li>Return <code>true</code> or non-nil on no error</li>\n<li>Return <code>false</code> or nil on error</li>\n</ul>\n\n<p>Something like this:</p>\n\n<pre><code>-(BOOL)aNullableMethod:(id*)object withError:(inout NSError **)error;\n</code></pre>\n\n<p>In Swift:</p>\n\n<pre><code>open func aNullableMethod(_ object: AutoreleasingUnsafeMutablePointer&lt;AnyObject?&gt;!) throws\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 2193454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cZmPj.jpg?s=128&g=1", "display_name": "Daniel Pietsch", "link": "https://stackoverflow.com/users/2193454/daniel-pietsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1537308846, "creation_date": 1537307334, "question_id": 52395051, "link": "https://stackoverflow.com/questions/52395051/force-objective-c-method-returning-id-and-inout-nserror-to-bridge-to-an-option", "title": "Force Objective-C method returning `id` and inout NSError to bridge to an optional return", "body": "<p>Consider this Objective-C class:</p>\n\n<pre><code>@interface TestAPI : NSObject\n\n-(nullable id)aNullableMethod;\n\n-(nullable id)aNullableMethodWithError:(inout NSError **)error;\n\n@end\n</code></pre>\n\n<p>I'm using <code>TestAPI</code> as an abstract base class and want to inherit from it in Swift.</p>\n\n<p>Swift bridges this code to look like this (i.e. Counterparts menu -> Swift 4.2 Interface):</p>\n\n<pre><code>open class TestAPI : NSObject {\n\n    open func aNullableMethod() -&gt; Any?\n\n    open func aNullableMethodWithError() throws -&gt; Any\n}\n</code></pre>\n\n<p>The problem is that <code>aNullableMethodWithError()</code> can return <code>nil</code> as a valid value.</p>\n\n<p>How do I convince Swift that <code>aNullableMethodWithError()</code> returns <code>Any?</code> and not <code>Any</code>?</p>\n\n<p>Or is there a better way to write the Objective-C method signature?</p>\n"}, {"tags": ["ios", "objective-c", "segue"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1537306968, "post_id": 52394928, "comment_id": 91735063, "body": "Just write a custom transition animation. Has nothing to do with storyboard or segues."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537307110, "post_id": 52394928, "comment_id": 91735112, "body": "\u201cIf possible in code, where would you put the code?\u201d Anywhere you like. This class. The class of the presented view controller. A helper class. Whatever."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537307432, "post_id": 52394928, "comment_id": 91735197, "body": "Downloadable example (Swift and a different animation, but the idea is exactly the same) <a href=\"https://github.com/mattneub/Programming-iOS-Book-Examples/blob/master/bk2ch06p302addingPresentationController/PresentationController/ViewController2.swift\" rel=\"nofollow noreferrer\">github.com/mattneub/Programming-iOS-Book-Examples/blob/maste&zwnj;&#8203;r/&hellip;</a>"}, {"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1537307479, "post_id": 52394928, "comment_id": 91735219, "body": "See my response to your previous question: <a href=\"https://stackoverflow.com/a/52284947/7833793\">stackoverflow.com/a/52284947/7833793</a> which shows how to create a custom transition animation"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1537309851, "post_id": 52394928, "comment_id": 91735920, "body": "Sorry, I guess I meant where would you specify the class or call the code?  I have written a UIStoryboardsegue subclass.  With the storyboard version, I just changed the name of the class in the identity inspector.  However, without the dragged segue, I&#39;m not sure where to tell the program about the class.  Unless you mean I should not subclass uistoryboardsegue but should instead create a custom animation?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1537320019, "post_id": 52394928, "comment_id": 91737977, "body": "Nowadays, for a custom transition, we don&#39;t subclass <code>UIStoryboardSegue</code>, but rather use custom transition animation workflow as outlined by R4N (i.e. define custom transition type and specify a transitioning delegate which vends an animator object that dictates the nature of the custom animation)."}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1537320484, "post_id": 52394928, "comment_id": 91738074, "body": "OK.  I guess I have been looking at outdated SO questions and tutorials."}], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 2, "last_activity_date": 1537317829, "creation_date": 1537317829, "answer_id": 52396398, "question_id": 52394928, "link": "https://stackoverflow.com/questions/52394928/ios-objective-c-possible-to-use-custom-segue-in-modal-transition-in-absence-of/52396398#52396398", "title": "IOS/Objective-C: Possible to Use Custom Segue in Modal Transition in Absence of a Storyboard Segue?", "body": "<p>It seems like you're trying to accomplish many custom animation transitions within your application, so I'd recommend you roll with your own animator classes instead of trying to create custom segues.  Similar to the example I posted to you previous question (linked in my comment above), you're going to want to setup some sort of delegate (in the previous example it was a UINavigationControllerDelegate) to handle determining which custom animator classes to use for presenting/dismissing (in the previous example it was for pushing/popping) certain view controllers:</p>\n\n<p>Here's an example of what I mean:</p>\n\n<p>ViewController.m (using this as the UIViewControllerTransitioningDelegate):</p>\n\n<pre><code>#import \"ViewController.h\"\n#import \"SlideDownAnimator.h\"\n#import \"SlideUpAnimator.h\"\n\n@interface ViewController () &lt;UIViewControllerTransitioningDelegate&gt;\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n}\n\n- (IBAction)_presentCustomDownward:(id)sender {\n    // setup a fake view controller we're going to present\n    UIViewController *fakeSecondViewController = [[UIViewController alloc] init];\n    fakeSecondViewController.view.backgroundColor = [UIColor blueColor];\n    // make sure to set the desination view controller's transition delegate\n    // this doesn't have to be set to self here, you can set it anything that will implement: UIViewControllerTransitioningDelegate\n    fakeSecondViewController.transitioningDelegate = self;\n    // when we call present on the view controller it asks the transitioningDelegate for an animation coordinator which we're going to provide below\n    [self.navigationController presentViewController:fakeSecondViewController animated:YES completion:^{\n        // dismis after a couple seconds to show what the custom dismiss looks like (obviously this is just for the example code, you will handle your own dismissal)\n        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0f * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n            [self.navigationController dismissViewControllerAnimated:YES completion:nil];\n        });\n    }];\n}\n\n// delegate call for presentation\n- (id&lt;UIViewControllerAnimatedTransitioning&gt;)animationControllerForPresentedController:(UIViewController *)presented\n                                                                  presentingController:(UIViewController *)presenting\n                                                                      sourceController:(UIViewController *)source {\n\n    // return our own custom Animator class (which adheres to UIViewControllerAnimatedTransitioning protocol)\n    return [[SlideDownAnimator alloc] init];\n}\n\n// delegate call for dismissal\n- (id&lt;UIViewControllerAnimatedTransitioning&gt;)animationControllerForDismissedController:(UIViewController *)dismissed {\n    // return our own custom Animator class (which adheres to UIViewControllerAnimatedTransitioning protocol)\n    return [[SlideUpAnimator alloc] init];\n}\n</code></pre>\n\n<p>SlideDownAnimator.h (Custom Down Animator):</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface SlideDownAnimator : NSObject &lt;UIViewControllerAnimatedTransitioning&gt;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>SlideDownAnimator.m:</p>\n\n<pre><code>#import \"SlideDownAnimator.h\"\n\n@implementation SlideDownAnimator\n\n- (NSTimeInterval)transitionDuration:(nullable id&lt;UIViewControllerContextTransitioning&gt;)transitionContext {\n    return 0.4f;\n}\n\n- (void)animateTransition:(nonnull id&lt;UIViewControllerContextTransitioning&gt;)transitionContext {\n    // grab the toViewController (the vc being presented)\n    UIViewController *toViewController = [transitionContext viewControllerForKey:UITransitionContextToViewControllerKey];\n    // manually add it to our container view\n    [[transitionContext containerView] addSubview:toViewController.view];\n    // get the frame so we can do some of our own animations on it\n    CGRect toVCFrame = toViewController.view.frame;\n    CGFloat toVCHeight = toVCFrame.size.height;\n    // offset the y coordiante by it's height so that it's completely above our current screen\n    toVCFrame.origin.y = -toVCHeight;\n    // set the initial frame so it's above our screen\n    [toViewController.view setFrame:toVCFrame];\n\n    [UIView animateWithDuration:[self transitionDuration:transitionContext] animations:^{\n        // animate the y position to 0 so it slides down\n        CGRect finalVCFrame = toViewController.view.frame;\n        finalVCFrame.origin.y = 0;\n        [toViewController.view setFrame:finalVCFrame];\n    } completion:^(BOOL finished) {\n        // make sure to call this so we'll call back to our presentViewdController's completion block\n        [transitionContext completeTransition:![transitionContext transitionWasCancelled]];\n    }];\n}\n\n@end\n</code></pre>\n\n<p>My guess is that you're going to want a custom slide up animation upon dismissal as well, so you'll want one more animator which implements that custom transition:</p>\n\n<p>SlideUpAnimator.h:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface SlideUpAnimator : NSObject &lt;UIViewControllerAnimatedTransitioning&gt;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>SlideUpAnimator.m:</p>\n\n<pre><code>#import \"SlideUpAnimator.h\"\n\n@implementation SlideUpAnimator\n\n- (NSTimeInterval)transitionDuration:(nullable id&lt;UIViewControllerContextTransitioning&gt;)transitionContext {\n    return 0.4f;\n\n}\n\n- (void)animateTransition:(nonnull id&lt;UIViewControllerContextTransitioning&gt;)transitionContext {\n    // grab our fromViewController (the vc being dismissed)\n    UIViewController *fromViewController = [transitionContext viewControllerForKey:UITransitionContextFromViewControllerKey];\n    // and our toViewController (the vc that will be shown after dismissal)\n    UIViewController *toViewController = [transitionContext viewControllerForKey:UITransitionContextToViewControllerKey];\n    // add our toViewController as a subview of our container view (make sure to add it beneath the dismissing view controller so we can let it complete it's animation first)\n    [[transitionContext containerView] insertSubview:toViewController.view belowSubview:fromViewController.view];\n    [UIView animateWithDuration:[self transitionDuration:transitionContext] animations:^{\n        // push the view back up above the screen\n        CGRect fromVCFrame = fromViewController.view.frame;\n        fromVCFrame.origin.y = -fromVCFrame.size.height;\n        [fromViewController.view setFrame:fromVCFrame];\n    } completion:^(BOOL finished) {\n        // make sure to call this so we'll call back to our presentViewdController's completion block\n        [transitionContext completeTransition:![transitionContext transitionWasCancelled]];\n    }];\n\n}\n\n@end\n</code></pre>\n\n<p>The complete animation will end up looking like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oRjzb.gif\" rel=\"nofollow noreferrer\">Custom_Downward_Animation_Transition</a></p>\n\n<p>Here's some links that should be helpful:</p>\n\n<p><a href=\"https://developer.apple.com/library/archive/featuredarticles/ViewControllerPGforiPhoneOS/CustomizingtheTransitionAnimations.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/featuredarticles/ViewControllerPGforiPhoneOS/CustomizingtheTransitionAnimations.html</a></p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uiviewcontrollertransitioningdelegate?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiviewcontrollertransitioningdelegate?language=objc</a></p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uiviewcontrolleranimatedtransitioning?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiviewcontrolleranimatedtransitioning?language=objc</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>As far as your other question as to where to put this in your own code:  This is highly dependent on your application structure, so without seeing more context of the classes you're attempting to use them on, it's hard to say the best approach.</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 1, "accepted_answer_id": 52396398, "answer_count": 1, "score": 1, "last_activity_date": 1537317829, "creation_date": 1537306650, "question_id": 52394928, "link": "https://stackoverflow.com/questions/52394928/ios-objective-c-possible-to-use-custom-segue-in-modal-transition-in-absence-of", "title": "IOS/Objective-C: Possible to Use Custom Segue in Modal Transition in Absence of a Storyboard Segue?", "body": "<p>I have two View Controllers in Storyboard and I would like to present the second one from the first modally using a custom downward segue (the opposite of the regular cover vertical).</p>\n\n<p>I have subclassed storyboard segue with code that I hope will work.</p>\n\n<p>However, in this instance, I did not drag a segue in Storyboard from one view controller to the other.  Instead, I handle the Modal Presentation in code.</p>\n\n<p>Is it possible to invoke a custom segue if you are calling the second view controller in code?  Or do you have to have an actual segue in storyboard to which you assign the custom class?</p>\n\n<p>If possible in code, where would you put the code?</p>\n\n<p>Here is code I am using to present the modal View Controller</p>\n\n<pre><code>UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"chat\" bundle:nil];\n    UIViewController *myVC = [storyboard instantiateViewControllerWithIdentifier:@\"chatVC\"];\n    [(UINavigationController*)self.window.rootViewController presentViewController:myVC animated:NO completion:nil];\n</code></pre>\n"}, {"tags": ["objective-c", "nsurlconnection", "objective-c-blocks", "nsurlsession"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1537306483, "post_id": 52394841, "comment_id": 91734869, "body": "You need to refactor your code to properly work with asynchronous requests."}, {"owner": {"reputation": 669, "user_id": 333661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d8c15453d6a9c68d916fc429fc7e0fe3?s=128&d=identicon&r=PG", "display_name": "MB.", "link": "https://stackoverflow.com/users/333661/mb"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1537306659, "post_id": 52394841, "comment_id": 91734947, "body": "Yes: I guess I&#39;m having difficulty deciding the design pattern also do you have any examples that are similar ?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1537306732, "post_id": 52394841, "comment_id": 91734983, "body": "You want a method with a completion handler, not a return value. There are countless examples in the iOS/macOS APIs."}, {"owner": {"reputation": 669, "user_id": 333661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d8c15453d6a9c68d916fc429fc7e0fe3?s=128&d=identicon&r=PG", "display_name": "MB.", "link": "https://stackoverflow.com/users/333661/mb"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1537307456, "post_id": 52394841, "comment_id": 91735214, "body": "I edited my question, I have looked at using the NSURLSession but the problem is getting data back I haven&#39;t figured that out at there next level up.  I have looked at many examples but can&#39;t quite apply them here.."}], "answers": [{"comments": [{"owner": {"reputation": 669, "user_id": 333661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d8c15453d6a9c68d916fc429fc7e0fe3?s=128&d=identicon&r=PG", "display_name": "MB.", "link": "https://stackoverflow.com/users/333661/mb"}, "edited": false, "score": 0, "creation_date": 1537364538, "post_id": 52407086, "comment_id": 91758268, "body": "Wow thank you I have seen references to all of these concepts just couldn&#39;t figure out how to string them together, fantastic answer I&#39;ll give it a shot with fresh eyes today."}, {"owner": {"reputation": 669, "user_id": 333661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d8c15453d6a9c68d916fc429fc7e0fe3?s=128&d=identicon&r=PG", "display_name": "MB.", "link": "https://stackoverflow.com/users/333661/mb"}, "edited": false, "score": 0, "creation_date": 1537366836, "post_id": 52407086, "comment_id": 91759799, "body": "Thankyou.  Here&#39;s what I actually did as a result of your input.  1. I moved the actual URL request to the view controller and then I wasn&#39;t nesting the asynch calls and everything worked. I will try the NSoperation queue later once I have gotten everything stable"}, {"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "reply_to_user": {"reputation": 669, "user_id": 333661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d8c15453d6a9c68d916fc429fc7e0fe3?s=128&d=identicon&r=PG", "display_name": "MB.", "link": "https://stackoverflow.com/users/333661/mb"}, "edited": false, "score": 0, "creation_date": 1537367185, "post_id": 52407086, "comment_id": 91760059, "body": "Glad to hear the example helped you get it working.  It&#39;s always good to keep things simple if possible (i.e. KISS principle <a href=\"https://effectivesoftwaredesign.com/2013/08/05/simplicity-in-software-design-kiss-yagni-and-occams-razor/\" rel=\"nofollow noreferrer\">effectivesoftwaredesign.com/2013/08/05/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 1, "last_activity_date": 1537363826, "creation_date": 1537363826, "answer_id": 52407086, "question_id": 52394841, "link": "https://stackoverflow.com/questions/52394841/objective-c-replacing-a-synchronous-request/52407086#52407086", "title": "Objective C: replacing a synchronous request", "body": "<p>As @maddy mentioned you're going to want to use a completion block for your getPrices method instead of a return -- returns + async don't mix.</p>\n\n<p>This would be the general form to convert your getPrices method to:</p>\n\n<pre><code>- (void)_getPricesWithCompletion:(void(^)(NSMutableArray *sectionPriceArray))priceCompletion;\n</code></pre>\n\n<p>This site: <a href=\"http://goshdarnblocksyntax.com\" rel=\"nofollow noreferrer\">http://goshdarnblocksyntax.com</a> has some of the common block syntax declaration usages.</p>\n\n<p>Typically you'd call this async method and then set your iVar in the completion block and reload your associated UI elements after receiving the new data.  Something along these lines:</p>\n\n<pre><code>[self _getPricesWithCompletion:^(NSMutableArray *sectionPriceArray) {\n    self.sectionPriceArray = sectionPriceArray;\n    [[NSOperationQueue mainQueue] addOperationWithBlock:^{\n        // reload any UI elements dependent on your sectionPriceArray here\n    }];\n}];\n</code></pre>\n\n<p>Now in the example code you show, it seems like you're using an NSOperationQueue to queue up different operations.  Things can get a bit more complicated here.  Subsequent queue'd operations won't wait on your async operations to finish before executing.  So for example, if you have an operation after the <code>getPrices</code> operation which utilizes the result of the fetch of the prices, the iVar will almost definitely not contain the correct data at that point.  In this case you'd need to use some sort of semaphore to handle waiting for the async operation to complete before continuing to the operation which depends upon it.</p>\n\n<p>Here's an example of what I mean:</p>\n\n<p>NotProperlyWaiting.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface NotProperlyWaiting : NSObject\n@property (strong, nullable) NSMutableArray *sectionPriceArray;\n- (void)callOperations;\n- (void)fakeServerCallWithCompletion:(void(^)(NSData *tw_result, NSURLResponse *response, NSError *error))completion;\n@end\n</code></pre>\n\n<p>NotProperlyWaiting.m</p>\n\n<pre><code>#import \"NotProperlyWaiting.h\"\n\n@interface NotProperlyWaiting()\n- (void)_getPricesWithCompletion:(void(^)(NSMutableArray *sectionPriceArray))priceCompletion;\n- (void)_printPricesArray;\n@end\n\n@implementation NotProperlyWaiting\n\n- (instancetype)init {\n    self = [super init];\n    if (self) {\n        _sectionPriceArray = [NSMutableArray array];\n    }\n    return self;\n}\n\n- (void)callOperations {\n    // setup our completion block to be passed in (this is what will eventually set the self.sectionPricesArray\n    void (^pricesCompletion)(NSMutableArray *) = ^ void (NSMutableArray *sectionPricesArrayFromCompletion){\n        self.sectionPriceArray = sectionPricesArrayFromCompletion;\n    };\n    NSOperationQueue *myQueue = [NSOperationQueue new];\n    NSInvocationOperation *operation = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(_getPricesWithCompletion:) object:pricesCompletion];\n    NSInvocationOperation *printOperation = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(_printPricesArray) object:nil];\n    [myQueue addOperation:operation];\n    [myQueue addOperation:printOperation];\n}\n\n- (void)_getPricesWithCompletion:(void(^)(NSMutableArray *sectionPricesArray))priceCompletion {\n    [self fakeServerCallWithCompletion:^(NSData *tw_result, NSURLResponse *response, NSError *error) {\n        // check the error or response or whatever else to verify that the data is legit from your server endpoint here\n        // then convert the data to your mutable array and pass it through to our completion block\n        NSString *stringData = [[NSString alloc] initWithData:tw_result encoding:NSUTF8StringEncoding];\n        NSMutableArray *tempPricesArray = [NSMutableArray arrayWithArray:[stringData componentsSeparatedByString:@\"\\n\"]];\n        // now our completion block passing in the result prices array\n        priceCompletion(tempPricesArray);\n    }];\n}\n\n- (void)_printPricesArray {\n    NSLog(@\"NotWaiting -- Prices array : %@\", self.sectionPriceArray);\n}\n\n// this is a fake version of NSURLSession\n- (void)fakeServerCallWithCompletion:(void(^)(NSData *tw_result, NSURLResponse *response, NSError *error))completion {\n    NSString *fakeServerResponse = @\"FirstThing\\nSecondThing\\nThirdThing\";\n    NSData *fakeData = [fakeServerResponse dataUsingEncoding:NSUTF8StringEncoding];\n    NSURLResponse *fakeResponse = [[NSURLResponse alloc] init];\n    NSError *fakeError = [NSError errorWithDomain:@\"FakeErrorDomain\" code:33 userInfo:nil];\n    // never call sleep in your own code, this is just to simulate the wait time for the server to return data\n    sleep(3);\n    completion(fakeData,fakeResponse,fakeError);\n}\n\n    NS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>ProperlyWaiting.h (Subclass of NotProperlyWaiting.h to re-use callOperation and fakeServerCallWithCompletion:)</p>\n\n<pre><code>#import \"NotProperlyWaiting.h\"\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface ProperlyWaiting : NotProperlyWaiting\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>ProperlyWaiting.m</p>\n\n<pre><code>#import \"ProperlyWaiting.h\"\n\n@interface ProperlyWaiting()\n- (void)_getPricesWithCompletion:(void(^)(NSMutableArray *sectionPricesArray))priceCompletion;\n- (void)_printPricesArray;\n@property dispatch_semaphore_t semaphore;\n@end\n\n@implementation ProperlyWaiting\n\n- (void)callOperations {\n    self.semaphore = dispatch_semaphore_create(0);\n    [super callOperations];\n}\n\n// identical implementations to NotProperlyWaiting, but this time we'll use a semaphore to ensure the _printPricesArray waits for the async operation to complete before continuing\n- (void)_getPricesWithCompletion:(void(^)(NSMutableArray *sectionPricesArray))priceCompletion {\n    [self fakeServerCallWithCompletion:^(NSData *tw_result, NSURLResponse *response, NSError *error) {\n        // check the error or response or whatever else to verify that the data is legit from your server endpoint here\n        // then convert the data to your mutable array and pass it through to our completion block\n        NSString *stringData = [[NSString alloc] initWithData:tw_result encoding:NSUTF8StringEncoding];\n        NSMutableArray *tempPricesArray = [NSMutableArray arrayWithArray:[stringData componentsSeparatedByString:@\"\\n\"]];\n        // now our completion block passing in the result prices array\n        priceCompletion(tempPricesArray);\n        // signal our semaphore to let it know we're done\n        dispatch_semaphore_signal(self.semaphore);\n    }];\n}\n\n- (void)_printPricesArray {\n    // wait for the semaphore signal before continuing (so we know the async operation we're waiting on has completed)\n    dispatch_semaphore_wait(self.semaphore, DISPATCH_TIME_FOREVER);\n    NSLog(@\"Waiting -- Prices array : %@\", self.sectionPriceArray);\n}\n\n@end\n</code></pre>\n\n<p>With example calls of the class like this:</p>\n\n<pre><code>- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n    NotProperlyWaiting *notWaiting = [[NotProperlyWaiting alloc] init];\n    [notWaiting callOperations];\n\n    ProperlyWaiting *waiting = [[ProperlyWaiting alloc] init];\n    [waiting callOperations];\n}\n</code></pre>\n\n<p>The output in the log will be:</p>\n\n<pre><code>NotWaiting -- Prices array : (\n) \n</code></pre>\n\n<p>And then 3 seconds later:</p>\n\n<pre><code>Waiting -- Prices array : (\n    FirstThing,\n    SecondThing,\n    ThirdThing\n)\n</code></pre>\n\n<p>Some additional links to helpful documentation related to this topic:</p>\n\n<p><a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/WorkingwithBlocks/WorkingwithBlocks.html</a></p>\n\n<p><a href=\"https://developer.apple.com/documentation/dispatch/1452955-dispatch_semaphore_create\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/dispatch/1452955-dispatch_semaphore_create</a></p>\n"}], "owner": {"reputation": 669, "user_id": 333661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/d8c15453d6a9c68d916fc429fc7e0fe3?s=128&d=identicon&r=PG", "display_name": "MB.", "link": "https://stackoverflow.com/users/333661/mb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 52407086, "answer_count": 1, "score": 0, "last_activity_date": 1537363826, "creation_date": 1537306124, "last_edit_date": 1537307338, "question_id": 52394841, "link": "https://stackoverflow.com/questions/52394841/objective-c-replacing-a-synchronous-request", "title": "Objective C: replacing a synchronous request", "body": "<p>I'm having problem replacing this code.</p>\n\n<pre><code>-(NSMutableArray *) GetPrices: {\n\n    NSError *error;\n    NSURLResponse *response;\n    NSData *tw_result = [NSURLConnection       \n       sendSynchronousRequest:urlRequest \n       returningResponse:&amp;response error:&amp;error];\n</code></pre>\n\n<p>The problem I have is that the function that calls this code process the url and then returns data to a method that calls it.  </p>\n\n<p>Previously I used this like so.</p>\n\n<p>ViewController calls a function to gather data by creating an operation queue (so that the UI &amp; main thread are available)</p>\n\n<pre><code>     NSOperationQueue *myQueue = [NSOperationQueue new];\n      NSInvocationOperation *operation = [[NSInvocationOperation alloc]\n initWithTarget:self selector:@selector(loadDataWithOperation) object:nil];\n                [myQueue addOperation:operation];\n                [operation release];\n                [myQueue release];\n</code></pre>\n\n<p>The function in the operation queue calls the method to get data on an object and that method then runs the synchronous URLrequest.</p>\n\n<pre><code>-(void)loadDataWithOperation {\n\n    self.sectionPriceArray = [self.myObject GetPrices];\n</code></pre>\n\n<p>So myObject would return a price array.</p>\n\n<p>I have tried using NSSession but but I can't figure out how to pass the result back as the method terminates prior to getting tw_result from the completion Handler.</p>\n\n<p>Any thoughts I have to do this in Objective C as I don't have permission from the client to convert to swift.</p>\n\n<p>EDIT of Question with more details:</p>\n\n<p>Inside my GetPrices method I have tried </p>\n\n<pre><code>NSURLSession *session = [NSURLSession sharedSession];\n        [[session dataTaskWithRequest:urlRequest\n                    completionHandler:^(NSData *tw_result,\n                                        NSURLResponse *response,\n                                        NSError *error) {\n                        result = [[NSString alloc] initWithData:tw_result encoding:NSUTF8StringEncoding];\n\n        NSArray *resultArray = [result componentsSeparatedByString:@\"\\n\"];\n        }) resume];\n</code></pre>\n\n<p>But I cannot figure out how to make this work one level up at the calling level.</p>\n"}, {"tags": ["ios", "objective-c", "cgaffinetransformscale"], "answers": [{"comments": [{"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1537294637, "post_id": 52392377, "comment_id": 91729925, "body": "How do you get the existing transform.  Can you suggest code in Obj-c?"}, {"owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "reply_to_user": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1537294845, "post_id": 52392377, "comment_id": 91730044, "body": "@user6631314 sure, I&#39;ve updated my answer. hope it helps."}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 1, "creation_date": 1537296201, "post_id": 52392377, "comment_id": 91730664, "body": "That did the job!  Thanks."}], "tags": [], "owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "is_accepted": true, "score": 1, "last_activity_date": 1537294836, "last_edit_date": 1537294836, "creation_date": 1537294224, "answer_id": 52392377, "question_id": 52392324, "link": "https://stackoverflow.com/questions/52392324/ios-objective-canimation-of-multiple-cgaffinetransformations/52392377#52392377", "title": "IOS/Objective-C:Animation of Multiple CGAffineTransformations", "body": "<p>You can use <code>CGAffineTransformRotate</code> function on the existing transform to apply a rotation. You can also use <code>CGAffineTransformTranslate</code> and <code>CGAffineTransformScale</code> to apply translation and scaling. Please note that, order of the operations matter. </p>\n\n<p>For example if you have an existing transform <code>myTransform</code> you can rotate it like:</p>\n\n<p><code>myTransform = CGAffineTransformRotate(myTransform, M_PI / 2);</code></p>\n\n<p>The operation <strong>does not affect</strong> the input variable, instead, it returns a new transform so make sure you use the return value of the function. That's why I started the line with <code>myTransform = ...</code>.</p>\n\n<p>More information is available at <a href=\"https://developer.apple.com/documentation/coregraphics/cgaffinetransform-rb5?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/coregraphics/cgaffinetransform-rb5?language=objc</a>.</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 52392377, "answer_count": 1, "score": 0, "last_activity_date": 1537294836, "creation_date": 1537293984, "question_id": 52392324, "link": "https://stackoverflow.com/questions/52392324/ios-objective-canimation-of-multiple-cgaffinetransformations", "title": "IOS/Objective-C:Animation of Multiple CGAffineTransformations", "body": "<p>I am trying to perform an animation that does three things at once: translates, rotates and changes the size of an image.</p>\n\n<p>I can do two at once, translate and size.  However, when I add in rotation at the end of the following code, it is ignored.  And if I place it at the beginning of the code, the size change is ignored.  I've read that you can do a composite transition with view.transform, however, I have not been able to get that to work.</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>CGPoint destPoint = CGPointMake(-100,-50);\n float radians =[self Degrees2Radians:-35];\n [UIView animateWithDuration:2 \n                 animations:^{\n                     //TRANSLATE\n                     self.imageView.center = CGPointMake(self.imageView.center.x + destPoint.x, self.imageView.center.y + destPoint.y);\n\n                     //ROTATE\n                      self.imageView.transform = CGAffineTransformMakeRotation(radians);\n\n                  //SCALE\n\n                     self.imageView.transform = CGAffineTransformMakeScale(0.2, 0.2); // here the final size will be 20%\n\n                 }\n                 completion:nil\n ];\n</code></pre>\n\n<p>}</p>\n\n<p>Can anyone recommend way to get all three things to occur simultaneously.</p>\n\n<p>Here is some code for swift that uses the transform property of the view, but I have not been able to find the equivalent in Objective-C.</p>\n\n<pre><code>view.transform= CGAffineTransform(scaleX: 1.5, y: 1.5)\nview.transform = view.transform.rotated(by angle: CGFloat(45 * M_PI / 180))\n</code></pre>\n\n<p>Thanks in advance for any suggestions.</p>\n"}, {"tags": ["ios", "objective-c", "rotation"], "answers": [{"tags": [], "owner": {"reputation": 1017, "user_id": 3736845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1201d6ba974374db9c874dc256a71f?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Entin", "link": "https://stackoverflow.com/users/3736845/nick-entin"}, "is_accepted": true, "score": 1, "last_activity_date": 1537780446, "creation_date": 1537780446, "answer_id": 52476031, "question_id": 52390095, "link": "https://stackoverflow.com/questions/52390095/viewwilltransitiontosize-safearea-and-presentviewcontroller/52476031#52476031", "title": "viewWillTransitionToSize safeArea and presentViewController", "body": "<p>to address the challenge I came to following solution:</p>\n\n<pre><code>- (void)viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id &lt;UIViewControllerTransitionCoordinator&gt;)coordinator {\n    [super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n    [coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n        [self updateLayoutAfterRotation:size];\n    }\n    completion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n    }];\n}\n\n- (void)viewSafeAreaInsetsDidChange {\n    [super viewSafeAreaInsetsDidChange];\n    [self updateLayoutAfterRotation:self.view.frame.size];\n}\n\n- (void)updateLayoutAfterRotation:(CGSize)size {\n    CGRect newFrame = CGRectMake(0, 0, size.width, size.height);\n    self.view.frame = newFrame;\n    [self.view.layer layoutIfNeeded];\n\n    // Here is custom code to adopt layout\n}\n</code></pre>\n\n<p>Interesting to observe, that when this viewController is rotated on its own (top view on the screen), first you receive <code>viewSafeAreaInsetsDidChange</code>, and then <code>viewWillTransitionToSize</code>.\nBut if the controller's view was hidden behind pop-up controller, it will be opposite order of calls. <code>viewSafeAreaInsetsDidChange</code> is called first, when the pop-up controller is closed (i.e. not anymore at time when rotation of the screen happening)</p>\n"}], "owner": {"reputation": 1017, "user_id": 3736845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1201d6ba974374db9c874dc256a71f?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Entin", "link": "https://stackoverflow.com/users/3736845/nick-entin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 1, "accepted_answer_id": 52476031, "answer_count": 1, "score": 0, "last_activity_date": 1537780446, "creation_date": 1537284857, "question_id": 52390095, "link": "https://stackoverflow.com/questions/52390095/viewwilltransitiontosize-safearea-and-presentviewcontroller", "title": "viewWillTransitionToSize safeArea and presentViewController", "body": "<p>On rotation of the screen, I need to do some recalculation of internal views.\nI have a UIViewController and UIScrollView embedded there. The internal views depend on the size of the ScrollView frame.</p>\n\n<p>So in the UIViewController I have following code:</p>\n\n<pre><code>- (void)viewWillTransitionToSize:(CGSize)size withTransitionCoordinator:(id &lt;UIViewControllerTransitionCoordinator&gt;)coordinator {\nDDLogDebug(@\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; %@\", NSStringFromCGSize(size));\n[super viewWillTransitionToSize:size withTransitionCoordinator:coordinator];\n\n[coordinator animateAlongsideTransition:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n    DDLogDebug(@\"+++++++++ mainScroll %@\", NSStringFromCGRect(_mainScroll.frame));\n    CGRect newFrame = CGRectMake(0, 0, size.width, size.height);\n    self.view.frame = newFrame;\n    [self.view.layer layoutIfNeeded];\n    DDLogDebug(@\"--------- mainScroll %@\", NSStringFromCGRect(_mainScroll.frame));\n\n    // and update the children\n\n}\ncompletion:^(id&lt;UIViewControllerTransitionCoordinatorContext&gt;  _Nonnull context) {\n}];\n}\n</code></pre>\n\n<p>So far so good. I see that after setting by hand size of the frame to the controller's view and calling layoutIfNeeded (or layoutSubviews - same results), the mainScroll size is properly adjusted including consideration of safeArea constraints and everything is fine.</p>\n\n<p>Now, somewhere in the code there is a popup controller called</p>\n\n<pre><code>[self presentViewController:controllerToPresent animated:NO completion:nil];\n</code></pre>\n\n<p>nothing is interesting, but this presented controller goes on top of the other one, I described above, and mainScroll is in the background too.\nNow, attempt to rotate screen leads to situation that size of mainScroll after layoutIfNeeded is 20 points taller, than it was without popup controller. It seems, like safeArea guides/constraints are not applied in background. After closing the popup controller, the mainScroll is bigger than expected and I have mislpaced views...\nAny hints? </p>\n\n<p>Why \"presentViewController\" affects behaviour of the caller in respect of viewWillTransitionToSize?</p>\n"}, {"tags": ["ios", "objective-c", "post", "base64"], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 1699307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nPucL.png?s=128&g=1", "display_name": "Kevin Lin", "link": "https://stackoverflow.com/users/1699307/kevin-lin"}, "is_accepted": false, "score": 0, "last_activity_date": 1537325201, "creation_date": 1537325201, "answer_id": 52397279, "question_id": 52388043, "link": "https://stackoverflow.com/questions/52388043/post-base64string-of-image-with-other-parameters-to-server-objective-c/52397279#52397279", "title": "Post base64String of image with other parameters to server Objective c", "body": "<p>Try this.</p>\n\n<pre><code>UIImage *image = yourImage;\nNSString *imageBase64Str = [NSString stringWithFormat:@\"%@;base64,%@\",\n [self mimeTypeByGuessingFromData:imageData], [self encodeToBase64String:image]];\n</code></pre>\n\n<p>data={\"doc\":\"true\",\"img\":\"imageBase64Str\",\"imgName\":\"imgName\"}</p>\n\n<pre><code>- (NSString *)mimeTypeByGuessingFromData:(NSData *)data {\n    char bytes[12] = {0};\n    [data getBytes:&amp;bytes length:12];\n    const char bmp[2] = {'B', 'M'};\n    const char gif[3] = {'G', 'I', 'F'};\n    const char swf[3] = {'F', 'W', 'S'};\n    const char swc[3] = {'C', 'W', 'S'};\n    const char jpg[3] = {0xff, 0xd8, 0xff};\n    const char psd[4] = {'8', 'B', 'P', 'S'};\n    const char iff[4] = {'F', 'O', 'R', 'M'};\n    const char webp[4] = {'R', 'I', 'F', 'F'};\n    const char ico[4] = {0x00, 0x00, 0x01, 0x00};\n    const char tif_ii[4] = {'I','I', 0x2A, 0x00};\n    const char tif_mm[4] = {'M','M', 0x00, 0x2A};\n    const char png[8] = {0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a};\n    const char jp2[12] = {0x00, 0x00, 0x00, 0x0c, 0x6a, 0x50, 0x20, 0x20, 0x0d, 0x0a, 0x87, 0x0a};\n    if (!memcmp(bytes, bmp, 2)) {\n        return @\"image/x-ms-bmp\";\n    } else if (!memcmp(bytes, gif, 3)) {\n        return @\"image/gif\";\n    } else if (!memcmp(bytes, jpg, 3)) {\n        return @\"image/jpeg\";\n    } else if (!memcmp(bytes, psd, 4)) {\n        return @\"image/psd\";\n    } else if (!memcmp(bytes, iff, 4)) {\n        return @\"image/iff\";\n    } else if (!memcmp(bytes, webp, 4)) {\n        return @\"image/webp\";\n    } else if (!memcmp(bytes, ico, 4)) {\n        return @\"image/vnd.microsoft.icon\";\n    } else if (!memcmp(bytes, tif_ii, 4) || !memcmp(bytes, tif_mm, 4)) {\n        return @\"image/tiff\";\n    } else if (!memcmp(bytes, png, 8)) {\n        return @\"image/png\";\n    } else if (!memcmp(bytes, jp2, 12)) {\n        return @\"image/jp2\";\n    }\n    return @\"application/octet-stream\"; // default type\n}\n\n- (NSString *)encodeToBase64String:(UIImage *)image {\n    return [UIImagePNGRepresentation(image) base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10291727, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HFPs3SKzXuk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNJddDj3G2AI5XTuTd3OwcDCg_wCQ/mo/photo.jpg?sz=128", "display_name": "Nick Smith", "link": "https://stackoverflow.com/users/10291727/nick-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537337072, "creation_date": 1537278358, "last_edit_date": 1537337072, "question_id": 52388043, "link": "https://stackoverflow.com/questions/52388043/post-base64string-of-image-with-other-parameters-to-server-objective-c", "title": "Post base64String of image with other parameters to server Objective c", "body": "<p>I have image and I need to send that image with other parameters to server.</p>\n\n<p>I convert image to base64 string.</p>\n\n<blockquote>\n  <p>[UIImagePNGRepresentation(image)\n  base64EncodedStringWithOptions:NSDataBase64Encoding64CharacterLineLength];</p>\n</blockquote>\n\n<p>In header params I send this.</p>\n\n<blockquote>\n  <p>\"Content-Type\" = \"application/x-www-form-urlencoded\";</p>\n  \n  <p>NSURLSessionDataTask * task = [session dataTaskWithRequest:self\n  completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable\n  response, NSError * _Nullable error) {  ....      }</p>\n</blockquote>\n\n<p>It's my params format</p>\n\n<pre><code>data={\"img\":\"\",\"imgName\":\"imgName\"}\n</code></pre>\n\n<p>When I send  <strong>\"img\":\"iVBORw0KGgoAAAANSUhEUgAAAZUA..\"</strong> I get <strong>401</strong> error</p>\n\n<p>Please help me if anyone could find problem, or know how to send base64 string with other parameters. Thank You!</p>\n"}, {"tags": ["objective-c", "reactjs", "react-native", "react-native-ios", "phasset"], "comments": [{"owner": {"reputation": 143, "user_id": 5555563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae93cadab8503ff649816f0af250ddab?s=128&d=identicon&r=PG&f=1", "display_name": "GChevass", "link": "https://stackoverflow.com/users/5555563/gchevass"}, "edited": false, "score": 0, "creation_date": 1611585261, "post_id": 52385151, "comment_id": 116492037, "body": "Hello, did you build this library ? I&#39;m interested in using it, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9930922, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TKnuqgPdr2s/AAAAAAAAAAI/AAAAAAAAAAA/ZBvvf2yy99A/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/9930922/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1539209325, "creation_date": 1539209325, "answer_id": 52749438, "question_id": 52385151, "link": "https://stackoverflow.com/questions/52385151/phasset-image-uri-for-react-native-application/52749438#52749438", "title": "PHAsset image URI for react native application", "body": "<p>React Native currently has very mixed support for <code>PHAsset</code> (aka <code>PHImageLibrary</code>) URIs, eg <code>photos://A6A2CEBD-766E-4BD7-980C-71ED7828674E/L0/001</code>. It has much better support for the deprecated <code>ALAssetsLibrary</code> eg <code>assets-library://asset/asset.MOV?id=A6A2CEBD-766E-4BD7-980C-71ED7828674E&amp;ext=MOV</code> (note that is a video, not a photo, but the idea is the same).</p>\n\n<p>You'll notice the ID in there is the same, it's just prefix/suffix changes. Try string manipulating that yourself. </p>\n\n<p>Also, basically nothing supports a local URI that isn't prepended by <code>photos://</code> or <code>assets-library://</code>. <code>PHAssets</code> don't have that, because ~~~apple things~~~. Try prepending <code>photos://</code>.</p>\n\n<p>Side note, these URIs will work for things in iCloud that aren't actually local. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9511399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bfc8ed6201e6b7377cbaccafc1dcb94?s=128&d=identicon&r=PG&f=1", "display_name": "amolapiyush", "link": "https://stackoverflow.com/users/9511399/amolapiyush"}, "is_accepted": false, "score": 0, "last_activity_date": 1576084881, "creation_date": 1576084881, "answer_id": 59291005, "question_id": 52385151, "link": "https://stackoverflow.com/questions/52385151/phasset-image-uri-for-react-native-application/59291005#59291005", "title": "PHAsset image URI for react native application", "body": "<p>I have solved this using the expo-media-library\n<a href=\"https://docs.expo.io/versions/latest/sdk/media-library\" rel=\"nofollow noreferrer\">https://docs.expo.io/versions/latest/sdk/media-library</a></p>\n\n<pre><code>     async myFunc() {\n     let uri = \"ph://ED7AC36B-A150-4C38-BB8C-B6D696F4F2ED/L0/001\"\n     let myAssetId = uri.slice(5);\n     let returnedAssetInfo = await MediaLibrary.getAssetInfoAsync(myAssetId);\n     console.log(returnedAssetInfo.localUri); // you local uri link to get the file\n</code></pre>\n\n<p>}        }`</p>\n"}], "owner": {"reputation": 179, "user_id": 1960810, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1def2413e08ebf6dcecec42362805cc2?s=128&d=identicon&r=PG", "display_name": "user1960810", "link": "https://stackoverflow.com/users/1960810/user1960810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1074, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1576084881, "creation_date": 1537268669, "question_id": 52385151, "link": "https://stackoverflow.com/questions/52385151/phasset-image-uri-for-react-native-application", "title": "PHAsset image URI for react native application", "body": "<p>I'm writing a native iOS component for react native to fetch PHAsset(s) from camera roll. I'm struggling to show an upload a PHAsset as it's not giving a proper URI to use in react native  and I'm writing an upload component too. How to achieve this.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "objective-c-swift-bridge"], "comments": [{"owner": {"reputation": 374, "user_id": 8052811, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xpChg.png?s=128&g=1", "display_name": "Eniya Sri", "link": "https://stackoverflow.com/users/8052811/eniya-sri"}, "edited": false, "score": 1, "creation_date": 1537340485, "post_id": 52383826, "comment_id": 91743890, "body": "are u added #import &lt;MessageUI/MessageUI.h&gt; this"}, {"owner": {"reputation": 71, "user_id": 10238767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d1ad702a2ee8eb1f2efbdfa1e274c2?s=128&d=identicon&r=PG&f=1", "display_name": "Anas A.", "link": "https://stackoverflow.com/users/10238767/anas-a"}, "reply_to_user": {"reputation": 374, "user_id": 8052811, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xpChg.png?s=128&g=1", "display_name": "Eniya Sri", "link": "https://stackoverflow.com/users/8052811/eniya-sri"}, "edited": false, "score": 0, "creation_date": 1537341105, "post_id": 52383826, "comment_id": 91744200, "body": "Hi, thank you for your answer. Where should I add this line ? In the objective-C file that use my Swift functions ?"}, {"owner": {"reputation": 374, "user_id": 8052811, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xpChg.png?s=128&g=1", "display_name": "Eniya Sri", "link": "https://stackoverflow.com/users/8052811/eniya-sri"}, "edited": false, "score": 1, "creation_date": 1537341328, "post_id": 52383826, "comment_id": 91744307, "body": "Before that u create a bridging header ,below is my answer and add this #import &lt;MessageUI/MessageUI.h&gt; #import &lt;MessageUI/MFMailComposeViewController.h&gt; in that header file."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10238767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d1ad702a2ee8eb1f2efbdfa1e274c2?s=128&d=identicon&r=PG&f=1", "display_name": "Anas A.", "link": "https://stackoverflow.com/users/10238767/anas-a"}, "edited": false, "score": 0, "creation_date": 1537342123, "post_id": 52400096, "comment_id": 91744713, "body": "Hi, thank you for your answer ! However, that&#39;s the opposite of what I want. I need to use Swift function in Objective-C code."}], "tags": [], "owner": {"reputation": 374, "user_id": 8052811, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/xpChg.png?s=128&g=1", "display_name": "Eniya Sri", "link": "https://stackoverflow.com/users/8052811/eniya-sri"}, "is_accepted": false, "score": 2, "last_activity_date": 1537341021, "creation_date": 1537341021, "answer_id": 52400096, "question_id": 52383826, "link": "https://stackoverflow.com/questions/52383826/xcode-pods-functions-not-found-in-modulename-swift-h/52400096#52400096", "title": "Xcode Pods functions not found in ModuleName-Swift.h", "body": "<p>If you want to use objective c files in swift project, bridge the Objective files.</p>\n\n<p>1)Create a new header file and name it like \"your project name-Bridging-Header.h\". The file must be saved to your project folder</p>\n\n<p>2)Select your xcode project -> select your build target -> select build settings -> click the \"all\" option at the top -> search for Swift Compiler - General</p>\n\n<p>3)Select <strong>Objective-C Bridging Header</strong> and  give the path as <strong>$(PROJECT_DIR)/$(PROJECT_NAME)/$(PROJECT_NAME)-Bridging-Header.h</strong></p>\n\n<p>4)Finally add your objective files into the header file.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 10238767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d1ad702a2ee8eb1f2efbdfa1e274c2?s=128&d=identicon&r=PG&f=1", "display_name": "Anas A.", "link": "https://stackoverflow.com/users/10238767/anas-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1537342672, "creation_date": 1537342672, "answer_id": 52400596, "question_id": 52383826, "link": "https://stackoverflow.com/questions/52383826/xcode-pods-functions-not-found-in-modulename-swift-h/52400596#52400596", "title": "Xcode Pods functions not found in ModuleName-Swift.h", "body": "<p><strong>Thanks to Kavitha Madhu, I found the solution !</strong></p>\n\n<p>For those who encounter the same issue:</p>\n\n<p>If you want to use Swift classes and functions in you Objective-C code.\n<br/>But, some of you Swift functions use Pods protocols and delegates.\n<br/>You need to add in your Objective-C code the import of the pods headers that contain these protocols and delegates.</p>\n\n<p>For example, if your module-Swift.h <strong>doesn't find \"SlideNavigationControllerDelegate\"</strong>, you need to <strong>add in the Objective-C</strong> file (which use \"module-Swift.h\") the line: \n<br/><strong><code>#import &lt;iOS_Slide_Menu/SlideNavigationController.h&gt;</code></strong></p>\n"}], "owner": {"reputation": 71, "user_id": 10238767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d1ad702a2ee8eb1f2efbdfa1e274c2?s=128&d=identicon&r=PG&f=1", "display_name": "Anas A.", "link": "https://stackoverflow.com/users/10238767/anas-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 52400596, "answer_count": 2, "score": 0, "last_activity_date": 1537342672, "creation_date": 1537264348, "question_id": 52383826, "link": "https://stackoverflow.com/questions/52383826/xcode-pods-functions-not-found-in-modulename-swift-h", "title": "Xcode Pods functions not found in ModuleName-Swift.h", "body": "<p>Because of a constraining library, I need to use Objective-C files in my Swift project.\n<br />So, I added the import module-Swift.h in my .m file.\n<br />It finds it without any issues.\n<br />The problem come from the auto-generated module-Swift.h\" file.\n<br />I have a lot of errors, mainly from classes and protocols coming from Pods.\n<br />\n<a href=\"https://i.stack.imgur.com/NuQTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NuQTJ.png\" alt=\"Image\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/8UK1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8UK1p.png\" alt=\"Image\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/KqJcw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KqJcw.png\" alt=\"Image\"></a></p>\n\n<p>Is there any config to fix this issue ?</p>\n"}, {"tags": ["ios", "objective-c", "formatting"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1537262494, "post_id": 52381294, "comment_id": 91710461, "body": "The problem is where you fill package description, not where you printing it. Please show as code how you fill it."}, {"owner": {"reputation": 309, "user_id": 2172718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZAdg.jpg?s=128&g=1", "display_name": "mustafa96m", "link": "https://stackoverflow.com/users/2172718/mustafa96m"}, "edited": false, "score": 0, "creation_date": 1537306768, "post_id": 52381294, "comment_id": 91734997, "body": "Can you try using, <code>[self.package.Description stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEnc&zwnj;&#8203;oding];</code>"}], "owner": {"reputation": 1, "user_id": 10378949, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U_umEpLz2JQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNVQnS0f9RNyklKu00tJ7avntKMzg/mo/photo.jpg?sz=128", "display_name": "Andy Salak", "link": "https://stackoverflow.com/users/10378949/andy-salak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537256241, "creation_date": 1537256241, "question_id": 52381294, "link": "https://stackoverflow.com/questions/52381294/encoding-utf-8-for-label-in-objective-c", "title": "Encoding UTF-8 for Label in Objective-C", "body": "<p>I am a beginning iOS developer, and seem to be having some problems with text formatting. Currently I have the following:</p>\n\n<pre><code>[self.descriptionLbl setText:[NSString stringWithFormat:@\"%@\\n\\nPackage ID: %@\" , self.package.Description, self.package.identifier] ];\n\n}else {\n\n    [self.descriptionLbl setText:self.package.Description];\n\n}\n</code></pre>\n\n<p>But if the package description is in a non-english language (French for example) the text is improperly formatted. The French word for developer becomes \"d\u00c3\u00a9veloppeur\"</p>\n\n<p>I am unsure about how I add UTF-8 formatting to the label above. </p>\n\n<p>For a different app I used </p>\n\n<pre><code>content = [NSString stringWithContentsOfURL:[NSURL URLWithString:@\"http://website.com/file.txt\"] \nencoding: NSUTF8StringEncoding error: NULL]; Label1.text = content;\n</code></pre>\n\n<p>How would I apply UTF-8 encoding to the first code example? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["ios", "objective-c", "iphone-x", "uistatusbar"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 3, "creation_date": 1537237466, "post_id": 52377726, "comment_id": 91700618, "body": "This is why you should never use <code>valueForKey:</code> to dig into the private API of a class. You run the risk of your app crashing when Apple changes that internal, undocumented, private API."}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1537243727, "post_id": 52377726, "comment_id": 91701932, "body": "Hi @rmaddy, any suggestion to fix this issue?"}, {"owner": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 0, "creation_date": 1537243941, "post_id": 52377726, "comment_id": 91701981, "body": "@henry, yes, what rmaddy suggested to <b>not to use any private APIs</b> and if you&#39;re using it, just replace it with the public APIs."}, {"owner": {"reputation": 2399, "user_id": 2776008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee51c7bce8881c84ddecb2e2f27af353?s=128&d=identicon&r=PG&f=1", "display_name": "Quoc Nguyen", "link": "https://stackoverflow.com/users/2776008/quoc-nguyen"}, "edited": false, "score": 0, "creation_date": 1537248127, "post_id": 52377726, "comment_id": 91703041, "body": "@henry <a href=\"https://stackoverflow.com/a/31222196/2776008\">stackoverflow.com/a/31222196/2776008</a>"}, {"owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "edited": false, "score": 0, "creation_date": 1537256747, "post_id": 52377726, "comment_id": 91707146, "body": "Thanks all, I will look into it."}], "answers": [{"tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1537316289, "creation_date": 1537316289, "answer_id": 52396233, "question_id": 52377726, "link": "https://stackoverflow.com/questions/52377726/detect-hotspot-crashed-in-iphone-x/52396233#52396233", "title": "Detect hotspot crashed in iPhone X", "body": "<p>It crashes because Apple has changed the object held by key \"statusBar\". It no longer has an object with key \"doubleHeightLabel\". As stated in comments, Apple prohibits the usage of private API because of this very issue. As they upgrade iOS version, they will change \"statusBar\" object as they please, so keys can be missing, or changed, or even to hold a totally different variable.</p>\n\n<p>Solution: Don't use private API. Be a good boi and listen to Apple.</p>\n"}, {"tags": [], "owner": {"reputation": 3454, "user_id": 1281250, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/352c614169069490485f3680d1a10e19?s=128&d=identicon&r=PG", "display_name": "ignotusverum", "link": "https://stackoverflow.com/users/1281250/ignotusverum"}, "is_accepted": true, "score": 2, "last_activity_date": 1537324471, "creation_date": 1537324471, "answer_id": 52397196, "question_id": 52377726, "link": "https://stackoverflow.com/questions/52377726/detect-hotspot-crashed-in-iphone-x/52397196#52397196", "title": "Detect hotspot crashed in iPhone X", "body": "<p>There's a way to check <a href=\"https://developer.apple.com/documentation/systemconfiguration/1614126-cncopycurrentnetworkinfo\" rel=\"nofollow noreferrer\">CNCopyCurrentNetowrkInfo</a> for current network info.</p>\n\n<p>And there's hacks:</p>\n\n<p><strong>Obj-c:</strong></p>\n\n<pre><code>CGFloat statusBarHeight = [[UIApplication sharedApplication] statusBarFrame].size.height;\n</code></pre>\n\n<p><strong>Swift:</strong></p>\n\n<pre><code>let statusBarHeight = UIApplication.shared.statusBarFrame.size.height\n</code></pre>\n\n<p>With Personal Hotspot enabled, it returns 40, and returns 20 otherwise.</p>\n\n<p><strong>Please note</strong> that it's not going to work for iPhone X+</p>\n"}], "owner": {"reputation": 233, "user_id": 9959673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atUGh.png?s=128&g=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9959673/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 52397196, "answer_count": 2, "score": 0, "last_activity_date": 1537324471, "creation_date": 1537234503, "last_edit_date": 1537237573, "question_id": 52377726, "link": "https://stackoverflow.com/questions/52377726/detect-hotspot-crashed-in-iphone-x", "title": "Detect hotspot crashed in iPhone X", "body": "<p>I have sample code as below in viewDidLoad to detect hotspot on / off. It working properly in iPhone 6-8 but crashed in iPhone X. </p>\n\n<pre><code> UIApplication *app = [UIApplication sharedApplication];\n    if(![[app valueForKey:@\"statusBar\"] valueForKey:@\"doubleHeightLabel\"])\n    {\n       //Some code here\n    }\n    else\n    {\n        //Some code here\n    }\n</code></pre>\n\n<p>Error Message shown:-</p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSUnknownKeyException', reason: '[&lt;UIStatusBar_Modern 0x7ffed341b7f0> valueForUndefinedKey:]: this class is not key value coding-compliant for the key doubleHeightLabel.'</p>\n</blockquote>\n\n<p>Any idea?</p>\n"}, {"tags": ["ios", "objective-c", "sqlite"], "comments": [{"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1537223843, "post_id": 52376429, "comment_id": 91697788, "body": "What&#39;s the definition of your <code>db</code> @property within your sitesDBModel?"}, {"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1537224468, "post_id": 52376429, "comment_id": 91697945, "body": "It would also be helpful if you showed the relevant code you&#39;re using to open the db connection"}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 10377366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a69c983bd2bd5588f8ce333fafc3d07?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron M.", "link": "https://stackoverflow.com/users/10377366/aaron-m"}, "edited": false, "score": 0, "creation_date": 1537244261, "post_id": 52378091, "comment_id": 91702041, "body": "That makes sense.  Thanks for the feedback, i\u2019ll give it a shot first thing in the morning."}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 1, "last_activity_date": 1537238040, "creation_date": 1537238040, "answer_id": 52378091, "question_id": 52376429, "link": "https://stackoverflow.com/questions/52376429/objective-c-api-call-with-invalid-database-connection-pointer/52378091#52378091", "title": "Objective-C API call with invalid database connection pointer", "body": "<p>Your open method is what's causing the issue for you:</p>\n\n<pre><code>- (void)openDB:(DBModel *)dbModel {\n    dbModel.db = nil;\n    sqlite3 *db = dbModel.db;\n    if(sqlite3_open([dbModel.dbPath UTF8String], &amp;db) == SQLITE_OK) {\n        dbModel.dbOpen = YES;\n    }\n    else {\n        dbModel.dbOpen = NO;\n    }\n}\n</code></pre>\n\n<p>If you set a breakpoint right after the open call and <code>po</code> the addresses for db and dbModel.db you'll see that the dbModel.db isn't pointing to the open db connection:</p>\n\n<pre><code>(lldb) po db\n0x00007fb242c1e500\n\n(lldb) po dbModel.db\n&lt;nil&gt;\n</code></pre>\n\n<p>You'll want point it to the open connection <em>after</em> establishing the connection pointer:</p>\n\n<pre><code>- (void)openDB:(DBModel *)dbModel {\n    sqlite3 *db = nil;\n    if(sqlite3_open([dbModel.dbPath UTF8String], &amp;db) == SQLITE_OK) {\n        dbModel.dbOpen = YES;\n        // set our pointer to the open connection after establishing\n        dbModel.db = db;\n    }\n    else {\n        dbModel.dbOpen = NO;\n    }\n}\n</code></pre>\n\n<p>Now if you <code>po</code> they should match:</p>\n\n<pre><code>(lldb) po db\n0x00007f877bd04a30\n\n(lldb) po dbModel.db\n0x00007f877bd04a30\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 10377366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a69c983bd2bd5588f8ce333fafc3d07?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron M.", "link": "https://stackoverflow.com/users/10377366/aaron-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2507, "favorite_count": 0, "accepted_answer_id": 52378091, "answer_count": 1, "score": 1, "last_activity_date": 1537238040, "creation_date": 1537223010, "last_edit_date": 1537225813, "question_id": 52376429, "link": "https://stackoverflow.com/questions/52376429/objective-c-api-call-with-invalid-database-connection-pointer", "title": "Objective-C API call with invalid database connection pointer", "body": "<p>I am trying to open a <code>SQLite3</code> database to be accessed at any time. I have created a <code>DBModel</code> class as well as a <code>DBManager</code>.  The Model is <code>NSString dbName</code>, <code>NSString dbPath</code>, and SQLite3 db, and well as a <code>BOOL dbOpened</code>.</p>\n\n<p>The reason I created the class is to help manage about a dozen different <code>SQLite</code> db's our previous developer created, and instead of creating, opening, closing removing these all over the place I decided to create the manager to handle all that in one place.</p>\n\n<p>A quick example is:</p>\n\n<pre><code>if(sqlite3_prepare_v2(dbm.sitesDBModel.db,query , -1, &amp;statement, NULL) == SQLITE_OK) {\n    if(sqlite3_step(statement) == SQLITE_DONE) {\n        //do stuff here\n    }\n}\n</code></pre>\n\n<p><code>dbm</code> is the <code>DBManager</code>, <code>siteDBModel</code> is a <code>DBModel</code> related to our Site Data, query and statement are previously declared.</p>\n\n<p>The error I get is:</p>\n\n<blockquote>\n  <p>API call with invalid database connection pointer.</p>\n</blockquote>\n\n<p>I have seen this work when declaring the sqlite3 *db and opening it in the same code block but I want to prevent having to declare these variables in the different view controllers every time I want to run a query, which is again why I created the classes to handle these tasks.</p>\n\n<p>DBModel</p>\n\n<pre><code>@interface DBModel : NSObject {\n        NSString    *dbName;\n        NSString    *dbTempName;\n        NSString    *dbPath;\n        NSString    *dbTempPath;\n        sqlite3     *db;\n        BOOL        dbOpen;\n    }\n\n    @property (nonatomic, retain) NSString  *dbName;\n    @property (nonatomic, retain) NSString  *dbTempName;\n    @property (nonatomic, retain) NSString  *dbPath;\n    @property (nonatomic, retain) NSString  *dbTempPath;\n    @property (atomic, readwrite) sqlite3   *db;\n    @property (atomic, readwrite) BOOL      dbOpen;\n</code></pre>\n\n<p>DBManager</p>\n\n<pre><code>    @interface DBManager : NSObject {\n        DBModel *sitesDBModel;\n    }\n\n    @property (nonatomic, retain) DBModel *sitesDBModel;\n</code></pre>\n\n<p>Implementation for DBManager</p>\n\n<pre><code>    -(void)createDB:(DBModel *)dbModel {\n        NSFileManager *fileManager  = [NSFileManager defaultManager];\n        BOOL success                = [fileManager fileExistsAtPath:dbModel.dbPath];\n\n        if(!success) {\n            NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:dbModel.dbName];\n            [fileManager copyItemAtPath:databasePathFromApp toPath:dbModel.dbPath error:nil];\n        }\n    }\n\n    -(void)openDB:(DBModel *)dbModel {\n        sqlite3 *db = dbModel.db;\n        if(sqlite3_open([dbModel.dbPath UTF8String], &amp;db) == SQLITE_OK) {\n            dbModel.dbOpen = YES;\n        }\n        else {\n            dbModel.dbOpen = NO;\n        }\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 2, "creation_date": 1537223101, "post_id": 52376315, "comment_id": 91697606, "body": "Why do you want to use <code>@dynamic</code> here? <code>@dynamic</code> is for properties where you&#39;re not providing an implementation at compile time, but adding it later via Objective-C runtime magic. Since you&#39;re providing a setter here, that&#39;s clearly not the case, so... what <i>is</i> it that you&#39;re trying to do?"}, {"owner": {"reputation": 1040, "user_id": 1949689, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/LfWYu.jpg?s=128&g=1", "display_name": "Josu&#233; H.", "link": "https://stackoverflow.com/users/1949689/josu%c3%a9-h"}, "reply_to_user": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 0, "creation_date": 1537223372, "post_id": 52376315, "comment_id": 91697666, "body": "It&#39;s just an example @CharlesSrstka"}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "edited": false, "score": 1, "creation_date": 1537223841, "post_id": 52376315, "comment_id": 91697786, "body": "But an example of <i>what?</i> What are you trying to do?"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1537293733, "post_id": 52376315, "comment_id": 91729537, "body": "I agree that the use of <code>@dynamic</code> here is useless and misleading. But it&#39;s a non-operation and it doesn&#39;t produce the crash. I see a stack overflow because of infinite recursion though."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1537294030, "post_id": 52376315, "comment_id": 91729669, "body": "People.. please don&#39;t vote as &quot;unclear what you are asking&quot; - the problem is crystal clear: the OP does not understand (1) the relationship between properties, accessors and iVars, (2) how to declare iVars, and (3) the meaning of <code>@dynamic</code>. He is (4) mixing &quot;dynamic property&quot; with <code>@dynamic</code> property, which is not really the same thing, although it sounds the same when spoken. Maybe I can write an answer before the question is closed.."}], "answers": [{"comments": [{"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 1040, "user_id": 1949689, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/LfWYu.jpg?s=128&g=1", "display_name": "Josu&#233; H.", "link": "https://stackoverflow.com/users/1949689/josu%c3%a9-h"}, "edited": false, "score": 1, "creation_date": 1537223208, "post_id": 52376382, "comment_id": 91697632, "body": "@Josu&#233;H. That&#39;s because you didn&#39;t declare the ivar."}], "tags": [], "owner": {"reputation": 7497, "user_id": 1583877, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lyGkL.png?s=128&g=1", "display_name": "Evgeny Karkan", "link": "https://stackoverflow.com/users/1583877/evgeny-karkan"}, "is_accepted": false, "score": 1, "last_activity_date": 1537222621, "creation_date": 1537222621, "answer_id": 52376382, "question_id": 52376315, "link": "https://stackoverflow.com/questions/52376315/dynamic-property-in-objective-c/52376382#52376382", "title": "@dynamic property in Objective C", "body": "<p>Your solution leads to recursion, you are getting crash since you are not using <code>ivar</code> in setter, try this instead:</p>\n\n<pre><code>-(void)setName:(NSString *)name{\n   _name = name;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": false, "score": 4, "last_activity_date": 1537223439, "creation_date": 1537223439, "answer_id": 52376489, "question_id": 52376315, "link": "https://stackoverflow.com/questions/52376315/dynamic-property-in-objective-c/52376489#52376489", "title": "@dynamic property in Objective C", "body": "<p>This StackOverflow answer: <a href=\"https://stackoverflow.com/a/1160545/7833793\">https://stackoverflow.com/a/1160545/7833793</a> does a good job of explaining what the differences between <code>@synthesize</code> and <code>@dynamic</code> are.  Typically you use <code>@dynamic</code> if you're delegating the task of implementing the accessors (get, set).  It seems to me like you would want to use @synthesize here.  But with modern objective c, you shouldn't even need to specify and the iVar will be created for you automatically.</p>\n\n<p>i.e.:</p>\n\n<p>MyClass.h</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface MyClass : NSObject\n@property (strong, nonatomic) NSString *name;\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>MyClass.m</p>\n\n<pre><code>#import \"MyClass.h\"\n\n@implementation MyClass\n\n- (void)setName:(NSString *)name {\n    _name = name;\n}\n\n@end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "is_accepted": true, "score": 8, "last_activity_date": 1537296100, "last_edit_date": 1537296100, "creation_date": 1537295504, "answer_id": 52392649, "question_id": 52376315, "link": "https://stackoverflow.com/questions/52376315/dynamic-property-in-objective-c/52392649#52392649", "title": "@dynamic property in Objective C", "body": "<p>A property is just a bundle of two methods: a getter and a setter. So, when you write</p>\n\n<pre><code>@property (strong, nonatomic) NSString *name;\n</code></pre>\n\n<p>what you are really saying is</p>\n\n<pre><code>- (NSString *)name;\n- (void)setName:(NSString *)name;\n</code></pre>\n\n<p>After that, each time the compiler encounters an expression of the form <code>obj.name</code>, it translates it to <code>[obj name]</code>. And each time you see a statement like <code>obj.name = @\"hello\";</code>, the compiler translates it to <code>[obj setName:@\"hello\"]</code>.</p>\n\n<p>The next thing is you have to make sure the property behaves properly. You have many options:</p>\n\n<ul>\n<li>Write getters and setters manually, referring to an iVar</li>\n<li>Synthesize getter and setter</li>\n<li>Autosynthesize getter and setter</li>\n<li>Write custom getters and setters</li>\n<li>Use <code>@dynamic</code> to avoid compile time warnings, because you intend to do runtime magic. (Really, that's not what you want to do, because you need to understand the basics first.)</li>\n</ul>\n\n<h1>Write getters and setters manually, referring to an iVar</h1>\n\n<pre><code>@interface MyClass : UIView {\n    NSString *_name;\n}\n\n@property (strong, nonatomic) NSString *name;\n\n@end\n</code></pre>\n\n<p>and in the implementation</p>\n\n<pre><code>@implementation MyClass\n\n- (NSString *)name {\n    return _name;\n}\n- (void)setName:(NSString *)name {\n    _name = name;\n}\n\n@end\n</code></pre>\n\n<h1>Synthesize getter and setter</h1>\n\n<p>The last section is basically equivalent to this</p>\n\n<pre><code>@interface MyClass : UIView {\n    NSString *_name;\n}\n\n@property (strong, nonatomic) NSString *name;\n\n@end\n\n@implementation MyClass\n\n@synthesize name = _name;\n\n@end\n</code></pre>\n\n<h1>Autosynthesize getter and setter</h1>\n\n<p>In practice, you would just use \"autosynthetisation\".</p>\n\n<pre><code>@interface MyClass : UIView\n\n@property (strong, nonatomic) NSString *name;\n\n@end\n\n@implementation MyClass\n\n@end\n</code></pre>\n\n<p>This means,</p>\n\n<ul>\n<li>if you just declare a property</li>\n<li>don't call <code>@synthesize</code> or <code>@dynamic</code></li>\n<li>don't implement any custom getter and setter</li>\n</ul>\n\n<p>the code above will just create an iVar named <code>_name</code> and a getter and setter that looks exactly like the one in the first example.</p>\n\n<p>This means that the the first two and this sections are equivalent, because they produce the same code.</p>\n\n<h1>Write custom getters and setters</h1>\n\n<p>This is what the term \"dynamic property\" really means. For example, you may want the name to be always uppercase. So you may write a property like this.</p>\n\n<pre><code>@interface MyClass : UIView {\n    NSString *_name;\n}\n\n@property (copy, nonatomic) NSString *name;\n\n@end\n\n@implementation MyClass\n\n- (NSString *)name {\n    return _name;\n}\n\n- (void)setName:(NSString *)name {\n    _name = [name uppercaseString];\n}\n\n@end\n</code></pre>\n\n<p>(in the code above, I changed <code>strong</code> to <code>copy</code> - don't worry, this is just a comment anyways. And it's a true one, because the <code>uppercaseString</code> will never be the same, it will always be a copy of the original.)</p>\n\n<p><strong>This is maybe the only really interesting case!</strong> For example, this kind of property is what UIKit uses all the time, e.g. the <code>text</code> property of <code>UILabel</code> is a dynamic property like that. It doesn't just set some iVar, but it also makes sure that the visible text on the screen changes too.</p>\n\n<h1><code>@dynamic</code> properties</h1>\n\n<p>they are really tricky to get right, and most of the time they are not worth the hassle IMHO.</p>\n\n<p><em>Note: I simplified some things and left out details which are only detectable when using objc runtime inspection APIs</em></p>\n"}], "owner": {"reputation": 1040, "user_id": 1949689, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/LfWYu.jpg?s=128&g=1", "display_name": "Josu&#233; H.", "link": "https://stackoverflow.com/users/1949689/josu%c3%a9-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3353, "favorite_count": 0, "accepted_answer_id": 52392649, "answer_count": 3, "score": 2, "last_activity_date": 1537296100, "creation_date": 1537222094, "last_edit_date": 1537222968, "question_id": 52376315, "link": "https://stackoverflow.com/questions/52376315/dynamic-property-in-objective-c", "title": "@dynamic property in Objective C", "body": "<p>I'm trying to implement a Dynamic property in my project \nThis is my code. </p>\n\n<p><strong>MyClass.h</strong></p>\n\n<pre><code>@interface MyClass : UIView\n\n@property (strong, nonatomic) NSString *name;\n\n@end\n</code></pre>\n\n<p><strong>MyClass.m</strong></p>\n\n<pre><code>@implementation MyClass\n\n@dynamic name;\n\n-(void)setName:(NSString *)name{\n   self.name = name;\n}\n@end\n</code></pre>\n\n<p>But when I run my app has crashed. </p>\n\n<p><a href=\"https://i.stack.imgur.com/8Kdvn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Kdvn.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I use an ivar had this error. \n<a href=\"https://i.stack.imgur.com/bMkDZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bMkDZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1537238454, "post_id": 52376186, "comment_id": 91700801, "body": "How are you detecting the memory leak? Instruments?  Where is the source of your buffer data coming from?  I just generated some random data using malloc/free combination (to use garbage data) and ran subDataWithRange via a loop, using instruments to detect leaks and didn&#39;t see any issues."}, {"owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "reply_to_user": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1537244387, "post_id": 52376186, "comment_id": 91702067, "body": "@R4N I am using instrument and actually it is not marked by a leak, but the memory usage is keep increasing. I am using an AudioQueue service, and the buffer comes from AudioQueue. This code should be called in the internal thread of AudioQueue, I am not sure it this is the cause."}, {"owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "reply_to_user": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "edited": false, "score": 0, "creation_date": 1537244454, "post_id": 52376186, "comment_id": 91702084, "body": "@R4N I do see a blog saying that using subdataWithRange in NSThread cause a memory leak. It seems that AudioQueue gives each queue an NSThread to run. But if I can use autoreleasepool to stop the memory increasing, it is not a &quot;memory leak&quot; for real, but something wrong with the autorelease part."}], "answers": [{"comments": [{"owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "edited": false, "score": 0, "creation_date": 1537245680, "post_id": 52378954, "comment_id": 91702369, "body": "If the NSThead inside AudioQueue is terminated, if no autoreleasepool added, should I expect the main autorelease pool to handle the autorelease inside those threads?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "edited": false, "score": 1, "creation_date": 1537245726, "post_id": 52378954, "comment_id": 91702390, "body": "No, I wouldn\u2019t expect that."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 3, "last_activity_date": 1537244877, "creation_date": 1537244877, "answer_id": 52378954, "question_id": 52376186, "link": "https://stackoverflow.com/questions/52376186/why-subdatawithrange-leads-to-memory-leak-in-any-nsthread/52378954#52378954", "title": "Why subdataWithRange leads to Memory Leak in any NSThread?", "body": "<p>All NSThreads leak in this way. NSThreads do not have their own autorelease pool. The first thing you must <em>always</em> do when performing on any thread except the main thread is create an autorelease pool. Of course it is better never to use NSThread in the first place. That is why there is GCD. </p>\n"}], "owner": {"reputation": 1005, "user_id": 6246322, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e9e64058e9af209c48e74acfc40bda31?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Joe", "link": "https://stackoverflow.com/users/6246322/frank-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 52378954, "answer_count": 1, "score": 1, "last_activity_date": 1537244877, "creation_date": 1537221280, "last_edit_date": 1537244569, "question_id": 52376186, "link": "https://stackoverflow.com/questions/52376186/why-subdatawithrange-leads-to-memory-leak-in-any-nsthread", "title": "Why subdataWithRange leads to Memory Leak in any NSThread?", "body": "<p>I am confused by this. I thought ARC can handle the memory here. The subData is never used after this if statement.</p>\n\n<pre><code>    if ([_buffer length] &gt;= _bufferSize) {\n        NSRange range = NSMakeRange(0, _bufferSize);\n        NSData *subData = [_buffer subdataWithRange:range];\n        // Call the delegate method to deal with the new data\n        [_delegate inputQueue:self inputData:subData numberOfPackets:inNumberPacketDescriptions];\n        // Remove the transmitted data\n        [_buffer replaceBytesInRange:range withBytes:NULL length:0];\n    }\n</code></pre>\n\n<p>But the call to <code>subdataWithRange</code> leads to a memory leak. The <code>subData</code> is never released. I found someone said that subdataWithRange will definitely lead to memory leak under NSThread. But why?</p>\n\n<p>The buffer is from AudioQueue and this function is called when one of the Queues inside AudioQueue is filled up. This code should be running on an internal thread of AudioQueue.</p>\n\n<p>By adding an autoreleasepool, the leak is solved. But why...</p>\n\n<pre><code>if ([_buffer length] &gt;= _bufferSize) {\n    @autoreleasepool {\n        NSRange range = NSMakeRange(0, _bufferSize);\n        NSData *subData = [_buffer subdataWithRange:range];\n        // Call the delegate method to deal with the new data\n        [_delegate inputQueue:self inputData:subData numberOfPackets:inNumberPacketDescriptions];\n        // Remove the transmitted data\n        [_buffer replaceBytesInRange:range withBytes:NULL length:0];\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "sqlite", "fmdb"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1537216240, "post_id": 52375197, "comment_id": 91695345, "body": "So, it appears that SQLite doesn&#39;t support &quot;drop column&quot; :/, but, <a href=\"http://www.sqlitetutorial.net/sqlite-alter-table/\" rel=\"nofollow noreferrer\">this tutorial</a> explains at least way you &quot;might&quot; be able to do it."}, {"owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1537216514, "post_id": 52375197, "comment_id": 91695437, "body": "Yes, but it seems like quite a bit of task to complete just to make sure one piece of data isn&#39;t showing. That&#39;s why I set the column data to null. Not sure if this is okay to do. Everything works fine for me."}], "answers": [{"tags": [], "owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "is_accepted": true, "score": 0, "last_activity_date": 1537216745, "creation_date": 1537216745, "answer_id": 52375374, "question_id": 52375197, "link": "https://stackoverflow.com/questions/52375197/sqlite-fmdb-if-i-cant-delete-a-column-would-deleting-the-column-data-be-okay/52375374#52375374", "title": "SQLite fmdb: If I can&#39;t delete a column, would deleting the column data be okay?", "body": "<p>The answer is: <strong>you don\u2019t need to drop the column</strong>. It\u2019s too much unnecessary work for 1 row of data. </p>\n\n<blockquote>\n  <p>You won\u2019t have any issues because of that spare column </p>\n</blockquote>\n\n<p><strong>You can \u201cdrop\u201d it</strong> pretty easily if you like, by just creating a new table with a single row, it sounds scary, but you\u2019ll be surprised with the short time it takes you to do it.</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 52375374, "answer_count": 1, "score": 1, "last_activity_date": 1537216745, "creation_date": 1537215848, "question_id": 52375197, "link": "https://stackoverflow.com/questions/52375197/sqlite-fmdb-if-i-cant-delete-a-column-would-deleting-the-column-data-be-okay", "title": "SQLite fmdb: If I can&#39;t delete a column, would deleting the column data be okay?", "body": "<p>I currently have an SQLite table that contains the user's information (first name, last name, age, IP address).</p>\n\n<p>However, I don't want the App to store the IP address anymore. The only solutions that I seem to have are to create another table and transfer all the data to it or just delete the address data (set it to NULL). I choose setting it to NULL because it seems easier and the App works very well when I do this with no repercussions. Also, I made it where if the user logs in, the IP address column isn't even going to exist.</p>\n\n<p>My concern is if there is any reason why I shouldn't do this at all? I haven't run into any issues yet, but just in case I thought I'll ask. </p>\n\n<p>Edit: Forgot to mention this, but there is only 1 row of data for the user.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "unity3d", "vungle-ads"], "answers": [{"comments": [{"owner": {"reputation": 11547, "user_id": 487390, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa8bda90f24e0281da7f503e016f5a90?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/487390/guy"}, "edited": false, "score": 0, "creation_date": 1562266277, "post_id": 52486197, "comment_id": 100332645, "body": "Its the missing <code>-ObjC</code> in other linker flags. Nothing to do with <code>GameController.framework</code>"}], "tags": [], "owner": {"reputation": 23, "user_id": 10290133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NaRNBMzXRS4/AAAAAAAAAAI/AAAAAAAADY0/LV6W69bPfn8/photo.jpg?sz=128", "display_name": "V&#237;tor Barbosa", "link": "https://stackoverflow.com/users/10290133/v%c3%adtor-barbosa"}, "is_accepted": true, "score": 1, "last_activity_date": 1537817716, "creation_date": 1537817716, "answer_id": 52486197, "question_id": 52374474, "link": "https://stackoverflow.com/questions/52374474/nsinvalidargumentexception-using-vungle-when-unity-app-starts/52486197#52486197", "title": "NSInvalidArgumentException using Vungle when Unity app starts", "body": "<p>Turns out it was a bug with the Vungle lib.</p>\n\n<p>Adding <code>GameController.framework</code> to <strong>General -> Linked Frameworks and Libraries</strong> and <code>-ObjC</code> flag to <strong>Build Settings -> Linking -> Other linker flags</strong> fixed the problem.</p>\n"}], "owner": {"reputation": 23, "user_id": 10290133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NaRNBMzXRS4/AAAAAAAAAAI/AAAAAAAADY0/LV6W69bPfn8/photo.jpg?sz=128", "display_name": "V&#237;tor Barbosa", "link": "https://stackoverflow.com/users/10290133/v%c3%adtor-barbosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 52486197, "answer_count": 1, "score": 1, "last_activity_date": 1537817716, "creation_date": 1537212376, "last_edit_date": 1537216948, "question_id": 52374474, "link": "https://stackoverflow.com/questions/52374474/nsinvalidargumentexception-using-vungle-when-unity-app-starts", "title": "NSInvalidArgumentException using Vungle when Unity app starts", "body": "<p>I built a Unity project using Vungle ads and when I build the project for iOS and try to run I get a NSInvalidArgumentException in a Vungle Network Manager call. Does anybody know how to solve this?</p>\n\n<p>This is the error:</p>\n\n<pre><code>Uncaught exception: NSInvalidArgumentException: -[VNGNetworkManager configOperationWithBackgroundInit:complete:]: unrecognized selector sent to instance 0x129ee6110\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 6467, "user_id": 7164592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlZVW.png?s=128&g=1", "display_name": "Jen Person", "link": "https://stackoverflow.com/users/7164592/jen-person"}, "edited": false, "score": 0, "creation_date": 1537222974, "post_id": 52372550, "comment_id": 91697578, "body": "I just tested using the sample code and was unable to reproduce the issue. I&#39;ll see if I can find some other ways to reproduce it, but in the meantime, what version of Firebase and FCM are you using?"}, {"owner": {"reputation": 352, "user_id": 6915040, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3951ffeb00827aaaee0a4f80785f86fb?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Chang", "link": "https://stackoverflow.com/users/6915040/jeffrey-chang"}, "reply_to_user": {"reputation": 6467, "user_id": 7164592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlZVW.png?s=128&g=1", "display_name": "Jen Person", "link": "https://stackoverflow.com/users/7164592/jen-person"}, "edited": false, "score": 0, "creation_date": 1537224079, "post_id": 52372550, "comment_id": 91697848, "body": "i&#39;m currently using Firebase (3.17.0) and FirebaseMessaging (1.2.3)."}, {"owner": {"reputation": 6467, "user_id": 7164592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlZVW.png?s=128&g=1", "display_name": "Jen Person", "link": "https://stackoverflow.com/users/7164592/jen-person"}, "edited": false, "score": 1, "creation_date": 1537300087, "post_id": 52372550, "comment_id": 91732424, "body": "The current version of Messaging is 3.1.2, so I suggest you update the pod. I have a good feeling that&#39;ll cure what ails you :)"}, {"owner": {"reputation": 352, "user_id": 6915040, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3951ffeb00827aaaee0a4f80785f86fb?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Chang", "link": "https://stackoverflow.com/users/6915040/jeffrey-chang"}, "reply_to_user": {"reputation": 6467, "user_id": 7164592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QlZVW.png?s=128&g=1", "display_name": "Jen Person", "link": "https://stackoverflow.com/users/7164592/jen-person"}, "edited": false, "score": 0, "creation_date": 1537301613, "post_id": 52372550, "comment_id": 91733031, "body": "thx for your help. I do have 1 more question for you. When is the next video? :)"}], "owner": {"reputation": 352, "user_id": 6915040, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3951ffeb00827aaaee0a4f80785f86fb?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey Chang", "link": "https://stackoverflow.com/users/6915040/jeffrey-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537203585, "creation_date": 1537203534, "last_edit_date": 1537203585, "question_id": 52372550, "link": "https://stackoverflow.com/questions/52372550/unable-to-use-firebase-cloud-message-delegate", "title": "Unable to use firebase cloud message delegate", "body": "<p>As stated in the Error message below, I can't find the delegate property. However I found remoteMessageDelegate instead. I thought perhaps firebase team just renamed it, but in the documentation code sample still call it delegate. Can someone clarify this for me?</p>\n\n<p><strong><em>Error</em></strong></p>\n\n<blockquote>\n  <p>Property 'delegate' not found on object of type 'FIRMessaging *'</p>\n</blockquote>\n\n<p><strong><em>Code</em></strong></p>\n\n<pre><code>[FIRMessaging messaging].delegate = self;\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "autolayout", "storyboard", "iphone-x"], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "is_accepted": true, "score": 0, "last_activity_date": 1537208845, "creation_date": 1537208845, "answer_id": 52373738, "question_id": 52370822, "link": "https://stackoverflow.com/questions/52370822/animate-up-uiview-with-autolayout/52373738#52373738", "title": "Animate Up UIView with Autolayout", "body": "<p>Solved with <code>self.view.safeAreaInset.bottom</code>...</p>\n\n<p><strong>When the UIView is closed I animate the constraint (loginPanelBottomConstraint) in this way :</strong></p>\n\n<pre><code>[UIView animateWithDuration:.3 animations:^{\n            self.loginPanelBottomConstraint.constant = 0 + self.view.safeAreaInsets.bottom;\n            [self.view layoutIfNeeded];\n        }];\n</code></pre>\n\n<p><strong>When the panel is Open :</strong></p>\n\n<pre><code>[UIView animateWithDuration:.3 animations:^{\n                self.loginPanelBottomConstraint.constant = 245\n                [self.view layoutIfNeeded];\n            }];\n</code></pre>\n"}], "owner": {"reputation": 2143, "user_id": 2773233, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RcPrY.jpg?s=128&g=1", "display_name": "kAiN", "link": "https://stackoverflow.com/users/2773233/kain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 52373738, "answer_count": 1, "score": 1, "last_activity_date": 1537208845, "creation_date": 1537197018, "question_id": 52370822, "link": "https://stackoverflow.com/questions/52370822/animate-up-uiview-with-autolayout", "title": "Animate Up UIView with Autolayout", "body": "<p>I have some problems with the autolayout when I try to animate a UIView for iPhoneX .. As you can see in the first image my UIView is closed down and so I got what I want ...</p>\n\n<p><a href=\"https://i.stack.imgur.com/D8neG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D8neG.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>RESULT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Iobhu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iobhu.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the second image I try to open up my UIView but as you can see the space remains at the bottom, instead on iphone 7 plus there is no space left ..</p>\n\n<p><a href=\"https://i.stack.imgur.com/oRqrn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oRqrn.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I extend the length of my uiview to cover the missing space of the bottom?</p>\n\n<p>I've already tried to change my first item from Safe Area in Superview but this creates another problem for me because when my uiview is closed it's too much down compared to iphone 7 plus ...</p>\n\n<p><a href=\"https://i.stack.imgur.com/NLFv6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NLFv6.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>RESULT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/bTJf7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bTJf7.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>what I would need is to have a result like this</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/fchL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fchL7.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/C1NPW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C1NPW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can you help me ?</p>\n"}, {"tags": ["ios", "objective-c", "nsmanagedobject", "nsmanagedobjectcontext", "nsfetchrequest"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537196271, "post_id": 52370191, "comment_id": 91685656, "body": "Nothing surprising, that just now allocated object have empty fields."}, {"owner": {"reputation": 430, "user_id": 1350033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2d47dab79f1cc2aebaae017cb6c4809?s=128&d=identicon&r=PG", "display_name": "Dimitar08", "link": "https://stackoverflow.com/users/1350033/dimitar08"}, "edited": false, "score": 1, "creation_date": 1537199443, "post_id": 52370191, "comment_id": 91687644, "body": "You should always check if an object is nil before adding it to an array or dictionary.   There is not enough info there to understand why [info valueForKey: label] is nil. We would need to see the piece of code that creates your managed object and stores it in the database. We would also need to know the value of &#39;label&#39;."}, {"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1537200895, "post_id": 52370191, "comment_id": 91688427, "body": "@Cy-4AH I didn&#39;t understand, what do you mean?"}, {"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 430, "user_id": 1350033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2d47dab79f1cc2aebaae017cb6c4809?s=128&d=identicon&r=PG", "display_name": "Dimitar08", "link": "https://stackoverflow.com/users/1350033/dimitar08"}, "edited": false, "score": 0, "creation_date": 1537200993, "post_id": 52370191, "comment_id": 91688482, "body": "@Dimitar08 I know that I have to check the nil, but my problem is not to avoid the nil, but to explain it. I don&#39;t want to hide the dust under the carpet... I will put more information in the ticket if it can help."}, {"owner": {"reputation": 430, "user_id": 1350033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2d47dab79f1cc2aebaae017cb6c4809?s=128&d=identicon&r=PG", "display_name": "Dimitar08", "link": "https://stackoverflow.com/users/1350033/dimitar08"}, "edited": false, "score": 0, "creation_date": 1537220440, "post_id": 52370191, "comment_id": 91696902, "body": "After taking a closer look at the code, Cy-4AH is correct. Your code is creating a new managed object. Makes sense that none of the fields on the object would be populated with data at this point."}, {"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 430, "user_id": 1350033, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b2d47dab79f1cc2aebaae017cb6c4809?s=128&d=identicon&r=PG", "display_name": "Dimitar08", "link": "https://stackoverflow.com/users/1350033/dimitar08"}, "edited": false, "score": 0, "creation_date": 1537265049, "post_id": 52370191, "comment_id": 91712094, "body": "@Dimitar08 For info, I updated my ticket, I added For info: The table is the name of the table of my sqlite and the label is just a field of my table. I confirm you that at this point, I have some fields in my object. The table contains the fields label1, label2, label3, etc.... And I give it the parameter label that is &quot;label1&quot;, that is a field in the table. It always worked until today, I don&#39;t understand why it suddenly accumulate some nil datas..."}], "answers": [{"comments": [{"owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "edited": false, "score": 0, "creation_date": 1537272615, "post_id": 52386288, "comment_id": 91716818, "body": "Ohh thank you very much, I was looking everywhere, and it was so simple! Many thanks, you save my week :D (it added lines and lines just because of that. It is very strange that for initializing a variable, I need to use an insertIntoMAnagedObjectContext..., because I tried the simple initWithEntity: and it didn&#39;t work)"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 1, "creation_date": 1537350963, "post_id": 52386288, "comment_id": 91749862, "body": "I think he need just <code>for (id info in fetchedObjects)</code> without any <code>insertIntoManagedObjectContect</code>"}], "tags": [], "owner": {"reputation": 994, "user_id": 1532975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GNVIh.jpg?s=128&g=1", "display_name": "dt dino", "link": "https://stackoverflow.com/users/1532975/dt-dino"}, "is_accepted": true, "score": 1, "last_activity_date": 1537272547, "creation_date": 1537272547, "answer_id": 52386288, "question_id": 52370191, "link": "https://stackoverflow.com/questions/52370191/ios-problem-with-the-nsmanagedobjectcontext-nsfetchrequest-nsentitydescript/52386288#52386288", "title": "iOS: Problem with the NSManagedObjectContext / NSFetchRequest / NSEntityDescription", "body": "<p>It is a common error. I think you should have a look at your line:</p>\n\n<pre><code>id info = [[theClass alloc] initWithEntity:entity insertIntoManagedObjectContext:managedObjectContext];\n</code></pre>\n\n<p>Look here if you want to have more info: <a href=\"https://stackoverflow.com/questions/8139033/use-nsmanagedobject-class-without-initwithentity\">Use NSManagedObject class without initWithEntity:?</a></p>\n\n<p>You should insertIntoManagedObjectContect:nil</p>\n"}], "owner": {"reputation": 2122, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 52386288, "answer_count": 1, "score": -1, "last_activity_date": 1537272547, "creation_date": 1537195027, "last_edit_date": 1537272355, "question_id": 52370191, "link": "https://stackoverflow.com/questions/52370191/ios-problem-with-the-nsmanagedobjectcontext-nsfetchrequest-nsentitydescript", "title": "iOS: Problem with the NSManagedObjectContext / NSFetchRequest / NSEntityDescription", "body": "<p>I have an error message <strong>'<em></strong> Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '<strong></em> -[__NSArrayM insertObject:atIndex:]: object cannot be nil'</strong>  </p>\n\n<p>The problem is on the <strong>fetchedObjects</strong>.</p>\n\n<p>This is because it tries to add a value that is nil to an NSArray. What I don't understand, is why there is that empty value.</p>\n\n<p>For info: The table is the name of the table of my sqlite and the label is just a field of my table.</p>\n\n<pre><code>- (NSMutableArray*) getLabel:(NSString *)label fromTable:(NSString *)table \n{\n    NSMutableArray * ret = [NSMutableArray new];\n    NSError *error = nil;\n    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];\n    NSEntityDescription *entity = [NSEntityDescription entityForName:table\n                                              inManagedObjectContext:managedObjectContext];\n    [fetchRequest setEntity:entity];\n    NSArray *fetchedObjects = [managedObjectContext executeFetchRequest:fetchRequest error:&amp;error];\n\n    Class theClass = NSClassFromString(table);\n    id info = [[theClass alloc] initWithEntity:entity insertIntoManagedObjectContext:managedObjectContext];\n\n    for (info in fetchedObjects)\n    {\n        [ret addObject:[info valueForKey: label]];\n    }\n    return ret;\n}\n</code></pre>\n\n<p><em>Good initialization:</em><br>\n<a href=\"https://i.stack.imgur.com/yR5B3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yR5B3.png\" alt=\"enter image description here\"></a>  </p>\n\n<p><em>Bad initialization:</em><br>\n<a href=\"https://i.stack.imgur.com/buQjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/buQjo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Do you have any ideas? \nThanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uitableview"], "comments": [{"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537242938, "post_id": 52369365, "comment_id": 91701750, "body": "Try this way In editActionsForRowAtIndexPath     MyTableViewCell *myCell = (MyTableViewCell *) [tableView cellForRowAtIndexPath:indexPath];   and rowAction.backgroundColor = [UIColor clearColor];  For reference:- <a href=\"http://qaru.site/questions/94631/custom-edit-view-in-uitableviewcell-while-swipe-left-objective-c-or-swift\" rel=\"nofollow noreferrer\" title=\"custom edit view in uitableviewcell while swipe left objective c or swift\">qaru.site/questions/94631/&hellip;</a>"}, {"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537243512, "post_id": 52369365, "comment_id": 91701886, "body": "In cellForRowAtIndexPath add tag for each cell like  myCell.tag = indexPath.row;"}, {"owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "reply_to_user": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537268723, "post_id": 52369365, "comment_id": 91714283, "body": "Same the gray background not removed on swipe. I want to remove the light gray background permanently while swipe cell to delete."}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "reply_to_user": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "edited": false, "score": 0, "creation_date": 1537349953, "post_id": 52370012, "comment_id": 91749217, "body": "Try this @MohammadAshrafAli and Let me know !"}, {"owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "edited": false, "score": 0, "creation_date": 1537431151, "post_id": 52370012, "comment_id": 91784065, "body": "As I&#39;ve tested again this is working fine in iOS 10 but the gray background is coming in iOS 11 or above device. And iPhoneX Simulator screenshot is attached."}], "tags": [], "owner": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1537349734, "last_edit_date": 1537349734, "creation_date": 1537194369, "answer_id": 52370012, "question_id": 52369365, "link": "https://stackoverflow.com/questions/52369365/how-to-make-uitableviewrowaction-completely-transparent-in-uitableview-in-object/52370012#52370012", "title": "How to make UITableViewRowAction Completely Transparent in UitableView in Objective-C", "body": "<p>Hope this helps you!</p>\n\n<pre><code>- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    return YES;\n}\n\n- (NSArray&lt;UITableViewRowAction *&gt; *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath  \n{  \n    UITableViewRowAction *callAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleDefault title:@\"Delete\" handler:^(UITableViewRowAction *action, NSIndexPath *indexPath) {  \n\n        NSLog(@\"View Action fired\");  \n    }];  \n    callAction.backgroundColor = [UIColor clearColor];  \n\n    return @[callAction];  \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "edited": false, "score": 0, "creation_date": 1537535913, "post_id": 52404318, "comment_id": 91831998, "body": "Hi Rajesh it&#39;s drawing an image of the main view from its top left corner so the image looks like a different image because of the gradient color in the main image"}], "tags": [], "owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "is_accepted": false, "score": 0, "last_activity_date": 1537355939, "last_edit_date": 1537355939, "creation_date": 1537354735, "answer_id": 52404318, "question_id": 52369365, "link": "https://stackoverflow.com/questions/52369365/how-to-make-uitableviewrowaction-completely-transparent-in-uitableview-in-object/52404318#52404318", "title": "How to make UITableViewRowAction Completely Transparent in UitableView in Objective-C", "body": "<p>If you set clear color means its showing light gray color.Instead of clear color you can set SampleBg image.From image you can get same tableview background color Try below code.It will work</p>\n\n<pre><code>- (NSArray&lt;UITableViewRowAction *&gt; *)tableView: (UITableView *)tableView editActionsForRowAtIndexPath: (NSIndexPath *)indexPath\n{\n\n    UITableViewRowAction *rowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@\"Delete\" handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {\n\n        NSLog(@\"rowAction Performed !!\");\n    }];\n    UIGraphicsBeginImageContext(self.view.frame.size);\n    [[UIImage imageNamed:@\"SampleBg\"] drawInRect:self.view.bounds];\n    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    rowAction.backgroundColor = [UIColor colorWithPatternImage:image];\n    return @[rowAction];\n}\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 4995275, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/922d4309e1340c599e06266af51616f6?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ashraf Ali", "link": "https://stackoverflow.com/users/4995275/mohammad-ashraf-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537355939, "creation_date": 1537192273, "last_edit_date": 1592644375, "question_id": 52369365, "link": "https://stackoverflow.com/questions/52369365/how-to-make-uitableviewrowaction-completely-transparent-in-uitableview-in-object", "title": "How to make UITableViewRowAction Completely Transparent in UitableView in Objective-C", "body": "<p>I want to make UITableViewRowAction transparent and my background view should be visible on swipe my UITableViewCell left in Objective-C. I've cleared all background colors but still getting a light gray color in the background.</p>\n<p>Here is my Code:</p>\n<p><strong>ViewController.h</strong></p>\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n\n    @interface ViewController : UIViewController &lt;UITableViewDelegate, UITableViewDataSource&gt;\n    \n    \n    \n    @property (nonatomic, strong) UITableView *MyCustomTableView;\n    @property (nonatomic, strong)NSArray *MyTableViewData;\n    @property (nonatomic, strong)UIImage *MyAppIconImage;\n    @end\n</code></pre>\n<p><strong>ViewController.m</strong></p>\n<pre><code>#import &quot;ViewController.h&quot;\n#import &quot;MyTableViewCell.h&quot;\n\nstatic NSString *myCellID = @&quot;myCellIdentifier&quot;;\n@interface ViewController ()\n\n@end\n\n@implementation ViewController\n\n@synthesize MyCustomTableView, MyTableViewData, MyAppIconImage;\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    UIGraphicsBeginImageContext(self.view.frame.size);\n    [[UIImage imageNamed:@&quot;SampleBg&quot;] drawInRect:self.view.bounds];\n    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    self.view.backgroundColor = [UIColor colorWithPatternImage:image];\n\n    self.MyTableViewData = @[@{@&quot;Title&quot; : @&quot;My TableView Title 1&quot;, @&quot;Description&quot; : @&quot;My TableView Description 1&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 2&quot;, @&quot;Description&quot; : @&quot;My TableView Description 2&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 3&quot;, @&quot;Description&quot; : @&quot;My TableView Description 3&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 4&quot;, @&quot;Description&quot; : @&quot;My TableView Description 4&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 5&quot;, @&quot;Description&quot; : @&quot;My TableView Description 5&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 6&quot;, @&quot;Description&quot; : @&quot;My TableView Description 6&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 7&quot;, @&quot;Description&quot; : @&quot;My TableView Description 7&quot;}, @{@&quot;Title&quot; : @&quot;My TableView Title 8&quot;, @&quot;Description&quot; : @&quot;My TableView Description 8&quot;}];\n    \n    \n    \nUIImage *AppIconAsset = [UIImage imageNamed: [[NSBundle mainBundle].infoDictionary[@&quot;CFBundleIcons&quot;][@&quot;CFBundlePrimaryIcon&quot;][@&quot;CFBundleIconFiles&quot;] lastObject]];\n    self.MyAppIconImage = [self ResizeImage: AppIconAsset scaledToSize: CGSizeMake(36, 36)];\n    \n    self.MyCustomTableView = [UITableView new];\n    self.MyCustomTableView.translatesAutoresizingMaskIntoConstraints = NO;\n    [self.view addSubview: self.MyCustomTableView];\n    self.MyCustomTableView.dataSource = self;\n    self.MyCustomTableView.delegate = self;\n    [self.view addConstraints: [NSLayoutConstraint constraintsWithVisualFormat:@&quot;H:|[MyCustomTableView]|&quot; options: 0 metrics: nil views: @{@&quot;MyCustomTableView&quot; : self.MyCustomTableView}]];\n    \n    [self.view addConstraints: [NSLayoutConstraint constraintsWithVisualFormat:@&quot;V:|[MyCustomTableView]|&quot; options: 0 metrics: nil views: @{@&quot;MyCustomTableView&quot; : self.MyCustomTableView}]];\n    MyCustomTableView.backgroundColor = [UIColor clearColor];\n    \n    [self.MyCustomTableView registerClass: [MyTableViewCell class].self forCellReuseIdentifier: myCellID];\n    self.MyCustomTableView.contentInset = UIEdgeInsetsMake(0.0f, 0.0f, 0.0f, 0.0);\n    self.MyCustomTableView.allowsMultipleSelectionDuringEditing = NO;\n    self.MyCustomTableView.alwaysBounceVertical = NO;\n    [self.MyCustomTableView setShowsHorizontalScrollIndicator:NO];\n    [self.MyCustomTableView setShowsVerticalScrollIndicator:NO];\n    [self.MyCustomTableView setContentOffset: self.MyCustomTableView.contentOffset animated: NO];\n    self.MyCustomTableView.estimatedRowHeight = 44;\n    self.MyCustomTableView.backgroundView = nil;\n   // self.MyCustomTableView.separatorStyle = UITableViewCellSeparatorStyleNone;\n    [self.MyCustomTableView setSeparatorColor:[UIColor blackColor]];\n    self.MyCustomTableView.tableFooterView = [[UIView alloc] initWithFrame: CGRectZero];\n    [self.MyCustomTableView.inputAccessoryView setBackgroundColor:[UIColor clearColor]];\n    self.MyCustomTableView.opaque = NO;\n}\n\n\n-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    return  1;\n}\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    return  [self.MyTableViewData count];\n}\n\n-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    \n    MyTableViewCell *myCell = (MyTableViewCell *)[tableView dequeueReusableCellWithIdentifier: myCellID forIndexPath: indexPath];\n    if (myCell == nil) {\n        myCell = [[MyTableViewCell alloc] initWithStyle: UITableViewCellStyleSubtitle reuseIdentifier: myCellID];\n    }\n    \n    myCell.MyCellImageView = [UIImageView new];\n    myCell.MyCellImageView.translatesAutoresizingMaskIntoConstraints = NO;\n    [myCell.contentView addSubview: myCell.MyCellImageView];\n    [myCell.contentView addConstraints: [NSLayoutConstraint constraintsWithVisualFormat: @&quot;H:|-12-[MyCellImageView(34)]&quot; options: 0 metrics: nil views: @{@&quot;MyCellImageView&quot;: myCell.MyCellImageView}]];\n    [myCell.contentView addConstraints: [NSLayoutConstraint constraintsWithVisualFormat: @&quot;V:|-5-[MyCellImageView(34)]&quot; options: 0 metrics: nil views: @{@&quot;MyCellImageView&quot;: myCell.MyCellImageView}]];\n    \n   \n    \n    \n    myCell.MyCellImageView.image = self.MyAppIconImage;\n    myCell.MyCellImageView.backgroundColor = [UIColor clearColor];\n\n    myCell.MyCellImageView.contentMode = UIViewContentModeCenter;\n    myCell.MyCellImageView.userInteractionEnabled = NO;\n    myCell.MyCellImageView.clipsToBounds = YES;\n    myCell.MyCellImageView.layer.cornerRadius = 17;\n    \n    \n    myCell.MyCellTitleLabel = [UILabel new];\n    myCell.MyCellDescriptionLabel = [UILabel new];\n    myCell.MyCellTitleLabel.translatesAutoresizingMaskIntoConstraints = NO;\n    myCell.MyCellDescriptionLabel.translatesAutoresizingMaskIntoConstraints = NO;\n    \n    [myCell.contentView addSubview: myCell.MyCellTitleLabel];\n    [myCell.contentView addSubview: myCell.MyCellDescriptionLabel];\n    \n    [myCell.contentView addConstraints: [NSLayoutConstraint constraintsWithVisualFormat: @&quot;H:[MyCellImageView]-10-[MyCellTitleLabel]-10-|&quot; options: 0 metrics: nil views: @{@&quot;MyCellTitleLabel&quot; : myCell.MyCellTitleLabel, @&quot;MyCellImageView&quot;: myCell.MyCellImageView}]];\n    [myCell.contentView addConstraints: [NSLayoutConstraint constraintsWithVisualFormat: @&quot;H:[MyCellImageView]-10-[MyCellDescriptionLabel]-10-|&quot; options: 0 metrics: nil views: @{@&quot;MyCellDescriptionLabel&quot; : myCell.MyCellDescriptionLabel, @&quot;MyCellImageView&quot;: myCell.MyCellImageView}]];\n    [myCell.contentView addConstraints: [NSLayoutConstraint constraintsWithVisualFormat: @&quot;V:|-10-[MyCellTitleLabel]&quot; options: 0 metrics: nil views: @{@&quot;MyCellTitleLabel&quot; : myCell.MyCellTitleLabel}]];\n    \n    [myCell.contentView addConstraints: [NSLayoutConstraint constraintsWithVisualFormat: @&quot;V:[MyCellTitleLabel]-(5)-[MyCellDescriptionLabel]-10-|&quot; options: 0 metrics: nil views: @{@&quot;MyCellTitleLabel&quot; : myCell.MyCellTitleLabel, @&quot;MyCellDescriptionLabel&quot; : myCell.MyCellDescriptionLabel}]];\n    \n    \n     myCell.MyCellTitleLabel.text = [[self.MyTableViewData objectAtIndex:indexPath.row] valueForKey: @&quot;Title&quot;];\n    \n    myCell.MyCellDescriptionLabel.text = [[self.MyTableViewData objectAtIndex:indexPath.row] valueForKey: @&quot;Description&quot;];\n    myCell.MyCellDescriptionLabel.lineBreakMode = NSLineBreakByWordWrapping;\n    myCell.MyCellDescriptionLabel.numberOfLines = 0;\n    \n    myCell.MyCellDescriptionLabel.textAlignment = NSTextAlignmentJustified;\n    myCell.MyCellDescriptionLabel.backgroundColor = [UIColor clearColor];\n    \n    myCell.backgroundColor = [UIColor clearColor];\n    myCell.backgroundView.backgroundColor = [UIColor clearColor];\n    myCell.backgroundView.opaque = NO;\n    myCell.backgroundView = nil;\n    myCell.textLabel.textColor = [UIColor blackColor];\n    return myCell;\n}\n\n\n\n- (NSArray&lt;UITableViewRowAction *&gt; *)tableView: (UITableView *)tableView editActionsForRowAtIndexPath: (NSIndexPath *)indexPath\n{\n    MyTableViewCell *myCell = [MyCustomTableView cellForRowAtIndexPath: indexPath];\n    [myCell.contentView layoutIfNeeded];\n    UITableViewRowAction *rowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title: @&quot;Delete&quot; handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {\n        \n        NSLog(@&quot;rowAction Performed !!&quot;);\n    }];\n    rowAction.backgroundColor = [UIColor clearColor];\n    return @[rowAction];\n}\n\n\n- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {\n    if (editingStyle == UITableViewCellEditingStyleDelete) {\n        //  [self.objects removeObjectAtIndex:indexPath.row];\n        [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation: UITableViewRowAnimationFade];\n    } else if (editingStyle == UITableViewCellEditingStyleInsert) {\n        // Create a new instance of the appropriate class, insert it into the array, and add a new row to the table view.\n    }\n}\n\n\n-(UIImage*)ResizeImage:(UIImage*)image scaledToSize:(CGSize)newSize {\n    \n    UIGraphicsBeginImageContext( newSize );\n    [image drawInRect:CGRectMake(0,0,newSize.width,newSize.height)];\n    UIImage* newImage = UIGraphicsGetImageFromCurrentImageContext();\n    UIGraphicsEndImageContext();\n    return newImage;\n}\n</code></pre>\n<p><strong>MyTableViewCell.h</strong></p>\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface MyTableViewCell : UITableViewCell\n@property (nonatomic, strong) UILabel *MyCellTitleLabel;\n@property (nonatomic, strong)UILabel *MyCellDescriptionLabel;\n@property (nonatomic, strong)UIImageView *MyCellImageView;\n\n@end\n</code></pre>\n<p><strong>MyTableViewCell.m</strong></p>\n<pre><code>#import &quot;MyTableViewCell.h&quot;\n\n@implementation MyTableViewCell\n\n- (void)awakeFromNib {\n    [super awakeFromNib];\n    // Initialization code\n}\n\n-(id)initWithStyle: (UITableViewCellStyle)style reuseIdentifier: (NSString *)reuseIdentifier {\n    self = [super initWithStyle:style reuseIdentifier: reuseIdentifier];\n    if (self) {\n        self.contentView.autoresizingMask = UIViewAutoresizingFlexibleHeight|UIViewAutoresizingFlexibleWidth;\n        \n        \n        //    self.nvFullScrnPlayerDelegate = self;\n    }\n    return self;\n}\n\n- (void)prepareForReuse {\n    [super prepareForReuse];\n    \n    for(UIView *subview in [self.contentView subviews]) {\n        [subview removeFromSuperview];\n    }\n}\n\n-(void)layoutSubviews {\n    [super layoutSubviews];\n//    for (UIView *subview in  self.subviews) {\n//        for (UIView *subview2 in subview.subviews) {\n//\n////NSRange range = ;\n//            if ([(NSString *)subview2 rangeOfString:@&quot;UITableViewCellActionButton&quot;].location != NSNotFound) {\n//                NSLog(@&quot;1234567890&quot;);\n//            }\n////            if (range.location != NSNotFound) {\n////                for (UIView *view in  subview2.subviews) {\n////\n////NSRange newRange = [(NSString *)view rangeOfString: @&quot;UIButtonLabel&quot;];\n//////     if (String(view).rangeOfString(&quot;UIButtonLabel&quot;) != nil) {\n////if (newRange.location != NSNotFound) {\n////    UILabel *Textlabel = (UILabel *)view;\n////    if (Textlabel == (UILabel *) view) {\n////        Textlabel.textColor = [UIColor blackColor];\n////    }\n////                    }\n////                }\n////            }\n//\n//        }\n//    }      \n\n}\n@end\n</code></pre>\n<p>And here is my Result:</p>\n<p><a href=\"https://i.stack.imgur.com/J4eD2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J4eD2.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>On Swiping second time on the same tableview cell I'm getting the expected result but not in the first time of swiping.</strong></p>\n<p>Can anybody help me to resolvr it ?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "github", "calendar"], "answers": [{"comments": [{"owner": {"reputation": 650, "user_id": 4144338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bA4Qh.jpg?s=128&g=1", "display_name": "MahajanSagar", "link": "https://stackoverflow.com/users/4144338/mahajansagar"}, "edited": false, "score": 0, "creation_date": 1537246710, "post_id": 52373173, "comment_id": 91702669, "body": "Hello Dear, I don&#39;t want multiple selection, I want to display selected date on LongPressGuesture."}, {"owner": {"reputation": 650, "user_id": 4144338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bA4Qh.jpg?s=128&g=1", "display_name": "MahajanSagar", "link": "https://stackoverflow.com/users/4144338/mahajansagar"}, "edited": false, "score": 0, "creation_date": 1537439969, "post_id": 52373173, "comment_id": 91789252, "body": "Thanks you so much @Ladd.c . . . it Works. can you do one more favor -&gt; how to recognise holded selection and tapped selection?? - (BOOL)calendar:(FSCalendar *)calendar shouldSelectDate:(NSDate *)date atMonthPosition:(FSCalendarMonthPosition)monthPosition"}, {"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "reply_to_user": {"reputation": 650, "user_id": 4144338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bA4Qh.jpg?s=128&g=1", "display_name": "MahajanSagar", "link": "https://stackoverflow.com/users/4144338/mahajansagar"}, "edited": false, "score": 0, "creation_date": 1537452446, "post_id": 52373173, "comment_id": 91797289, "body": "Sorry for the delay, ok let me update my answer with that code :) PD: I&#39;m updating to Xcode 10"}, {"owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "reply_to_user": {"reputation": 650, "user_id": 4144338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bA4Qh.jpg?s=128&g=1", "display_name": "MahajanSagar", "link": "https://stackoverflow.com/users/4144338/mahajansagar"}, "edited": false, "score": 0, "creation_date": 1537803048, "post_id": 52373173, "comment_id": 91906770, "body": "Yes, I updated the code I put the full code of methods to not confuse nobody"}], "tags": [], "owner": {"reputation": 723, "user_id": 7926803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d70e1e5f1af27e1e9ebec72d9157c29f?s=128&d=identicon&r=PG", "display_name": "Ladd.c", "link": "https://stackoverflow.com/users/7926803/ladd-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1537802422, "last_edit_date": 1537802422, "creation_date": 1537206191, "answer_id": 52373173, "question_id": 52368854, "link": "https://stackoverflow.com/questions/52368854/fscalendar-i-want-to-select-date-on-longpressgesture/52373173#52373173", "title": "FSCalendar - I want to select date on longPressGesture", "body": "<p>Hold and multiple selection:</p>\n\n<pre><code>yourCalendarObject.swipeToChooseGesture.enabled = YES;\nyourCalendarObject.allowsMultipleSelection = YES;\n</code></pre>\n\n<p>Hold and single selection:</p>\n\n<pre><code>[yourCalendarObject setAllowsSelection: YES];\n[yourCalendarObject setAllowsMultipleSelection: NO];\nyourCalendarObject.swipeToChooseGesture.enabled = YES;\n</code></pre>\n\n<p>EDIT: to difference the tap or hold action FSCalendar doesn't have that functionality but you can add with a single property.</p>\n\n<p><strong>FSCalendar.h</strong></p>\n\n<p>You need to add this property in your header file inside of:</p>\n\n<pre><code>@interface FSCalendar : UIView\n\n/**\nDifference the tap or hold gesture date selection\nWhen the value = YES is a UILongPressGestureRecognizer\nWhen the value = NO is a tap selection\n*/\n\n@property (readonly, nonatomic) BOOL isLongPressGesture;\n\n@end\n</code></pre>\n\n<p><strong>FSCalendar.m</strong></p>\n\n<p>You need to add a set value of property in <strong>- (void)handleSwipeToChoose:(UILongPressGestureRecognizer *)pressGesture</strong> like this:</p>\n\n<pre><code>- (void)handleSwipeToChoose:(UILongPressGestureRecognizer *)pressGesture\n{\n    switch (pressGesture.state) {\n        case UIGestureRecognizerStateBegan:\n        case UIGestureRecognizerStateChanged: {\n\n            // New property value when the selection is UILongPressGestureRecognizer\n            _isLongPressGesture = YES; \n\n            NSIndexPath *indexPath = [self.collectionView indexPathForItemAtPoint:[pressGesture locationInView:self.collectionView]];\n            if (indexPath &amp;&amp; ![indexPath isEqual:self.lastPressedIndexPath]) {\n                NSDate *date = [self.calculator dateForIndexPath:indexPath];\n                FSCalendarMonthPosition monthPosition = [self.calculator monthPositionForIndexPath:indexPath];\n                if (![self.selectedDates containsObject:date] &amp;&amp; [self collectionView:self.collectionView shouldSelectItemAtIndexPath:indexPath]) {\n                    [self selectDate:date scrollToDate:NO atMonthPosition:monthPosition];\n                    [self collectionView:self.collectionView didSelectItemAtIndexPath:indexPath];\n                } else if (self.collectionView.allowsMultipleSelection &amp;&amp; [self collectionView:self.collectionView shouldDeselectItemAtIndexPath:indexPath]) {\n                    [self deselectDate:date];\n                    [self collectionView:self.collectionView didDeselectItemAtIndexPath:indexPath];\n                }\n            }\n            self.lastPressedIndexPath = indexPath;\n            break;\n        }\n        case UIGestureRecognizerStateEnded:\n        case UIGestureRecognizerStateCancelled: {\n            self.lastPressedIndexPath = nil;\n            break;\n        }\n        default:\n            break;\n    }\n\n}\n</code></pre>\n\n<p>Well you need to modify the method <strong>- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath</strong> like this:</p>\n\n<pre><code>- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath\n{\n    NSDate *selectedDate = [self.calculator dateForIndexPath:indexPath];\n    FSCalendarMonthPosition monthPosition = [self.calculator monthPositionForIndexPath:indexPath];\n    FSCalendarCell *cell;\n    if (monthPosition == FSCalendarMonthPositionCurrent) {\n        cell = (FSCalendarCell *)[collectionView cellForItemAtIndexPath:indexPath];\n    } else {\n        cell = [self cellForDate:selectedDate atMonthPosition:FSCalendarMonthPositionCurrent];\n        NSIndexPath *indexPath = [collectionView indexPathForCell:cell];\n        if (indexPath) {\n            [collectionView selectItemAtIndexPath:indexPath animated:NO scrollPosition:UICollectionViewScrollPositionNone];\n        }\n    }\n    if (![_selectedDates containsObject:selectedDate]) {\n        cell.selected = YES;\n        [cell performSelecting];\n    }\n    [self enqueueSelectedDate:selectedDate];\n    [self.delegateProxy calendar:self didSelectDate:selectedDate atMonthPosition:monthPosition];\n    [self selectCounterpartDate:selectedDate];\n\n    // Reset the value of property\n    _isLongPressGesture = NO;\n}\n</code></pre>\n\n<p>So you can try this:</p>\n\n<pre><code>- (void)calendar:(FSCalendar *)calendar didSelectDate:(NSDate *)date atMonthPosition:(FSCalendarMonthPosition)monthPosition\n{\n    if (calendar.isLongPressGesture)\n        NSLog(@\"Long Press\");\n    else\n        NSLog(@\"Tap Gesture\");\n}\n</code></pre>\n\n<p>Enjoy the code :)</p>\n"}], "owner": {"reputation": 650, "user_id": 4144338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bA4Qh.jpg?s=128&g=1", "display_name": "MahajanSagar", "link": "https://stackoverflow.com/users/4144338/mahajansagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 0, "accepted_answer_id": 52373173, "answer_count": 1, "score": 0, "last_activity_date": 1537802422, "creation_date": 1537190777, "question_id": 52368854, "link": "https://stackoverflow.com/questions/52368854/fscalendar-i-want-to-select-date-on-longpressgesture", "title": "FSCalendar - I want to select date on longPressGesture", "body": "<p>How to select date using LongpressGesture using FSCalendar??</p>\n\n<p>I am using <a href=\"https://github.com/WenchaoD/FSCalendar\" rel=\"nofollow noreferrer\">WenchaoD/FSCalendar</a> third party calendar from github.</p>\n\n<pre><code>- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath\n{\n    NSDate *selectedDate = [self.calculator dateForIndexPath:indexPath];\n    FSCalendarMonthPosition monthPosition = [self.calculator monthPositionForIndexPath:indexPath];\n    FSCalendarCell *cell;\n    if (monthPosition == FSCalendarMonthPositionCurrent) {\n        cell = (FSCalendarCell *)[collectionView cellForItemAtIndexPath:indexPath];\n    } else {\n        cell = [self cellForDate:selectedDate atMonthPosition:FSCalendarMonthPositionCurrent];\n        NSIndexPath *indexPath = [collectionView indexPathForCell:cell];\n        if (indexPath) {\n            [collectionView selectItemAtIndexPath:indexPath animated:NO scrollPosition:UICollectionViewScrollPositionNone];\n        }\n    }\n    if (![_selectedDates containsObject:selectedDate]) {\n        cell.selected = YES;\n        [cell performSelecting];\n    }\n    [self enqueueSelectedDate:selectedDate];\n    [self.delegateProxy calendar:self didSelectDate:selectedDate atMonthPosition:monthPosition];\n    [self selectCounterpartDate:selectedDate];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "react-native"], "comments": [{"owner": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537182895, "post_id": 52366466, "comment_id": 91677030, "body": "post some code bro"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537183957, "post_id": 52366466, "comment_id": 91677643, "body": "//this function will be called from the RCTBridge      func goToNativeView() {         self.window = UIWindow(frame: UIScreen.main.bounds)         let storyboard = UIStoryboard(name: &quot;Main&quot;, bundle: nil)         let initialViewController = storyboard.instantiateViewController(withIdentifier: &quot;ProfilePageInner&quot;)         self.window?.rootViewController = initialViewController         self.window?.makeKeyAndVisible()     }   //native viewcontroller - (IBAction)BackButton:(id)sender {     NSLog(@&quot;BACKBUTTONPRESSED&quot;);     [self dismissViewControllerAnimated:YES completion:nil]; }"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537184688, "post_id": 52366466, "comment_id": 91678097, "body": "<code>func goToNativeView() {         self.window = UIWindow(frame: UIScreen.main.bounds)         let storyboard = UIStoryboard(name: &quot;Main&quot;, bundle: nil)         let initialViewController = storyboard.instantiateViewController(withIdentifier: &quot;ProfilePageInner&quot;)         self.window?.rootViewController = initialViewController         self.window?.makeKeyAndVisible()     }</code>"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537184766, "post_id": 52366466, "comment_id": 91678143, "body": "<code>- (IBAction)BackButton:(id)sender {     NSLog(@&quot;BACKBUTTONPRESSED&quot;);     [self dismissViewControllerAnimated:YES completion:nil]; } </code>"}, {"owner": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537187240, "post_id": 52366466, "comment_id": 91679617, "body": "you are not using navigation controller bro thats why you cant go back"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537187437, "post_id": 52366466, "comment_id": 91679752, "body": "@DevilDecoder initially i used Navigation controller but it overlaps my existing view and back button on it, that&#39;s why i removed it from code."}, {"owner": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537187511, "post_id": 52366466, "comment_id": 91679794, "body": "if it is overlapping then you can hide it but with out navigation controller going back and forth is not possible except changing rootViewControllers"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537189428, "post_id": 52366466, "comment_id": 91681043, "body": "@DevilDecoder self.window = UIWindow(frame: UIScreen.main.bounds)                  let storyboard = UIStoryboard(name: &quot;Main&quot;, bundle: nil)                  let navigate = UINavigationController()                   let initialViewController = storyboard.instantiateViewController(withIdentifier: &quot;ProfilePageInner&quot;)                  navigate.pushViewController(initialViewController, animated: false)                   self.window?.rootViewController = navigate"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537189495, "post_id": 52366466, "comment_id": 91681093, "body": "@DevilDecoder i have added my ViewController in NavigationViewController but still not working"}, {"owner": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537189609, "post_id": 52366466, "comment_id": 91681166, "body": "you are not initialising you vc as root view of you navigation controller use let navigate = UINavigationController.init(rootViewController: initialViewController) and then assign it to window root view controller"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537192654, "post_id": 52366466, "comment_id": 91683284, "body": "self.window = UIWindow(frame: UIScreen.main.bounds)                  let storyboard = UIStoryboard(name: &quot;Main&quot;, bundle: nil)                  let initialViewController = storyboard.instantiateViewController(withIdentifier: &quot;ProfilePageInner&quot;)                  let navigate = UINavigationController.init(rootViewController: initialViewController)                  self.window?.rootViewController = navigate         self.window?.makeKeyAndVisible()"}, {"owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "reply_to_user": {"reputation": 872, "user_id": 7493379, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/VzPno.jpg?s=128&g=1", "display_name": "Devil Decoder", "link": "https://stackoverflow.com/users/7493379/devil-decoder"}, "edited": false, "score": 0, "creation_date": 1537192722, "post_id": 52366466, "comment_id": 91683331, "body": "@DevilDecoder Tried this way, but still not working"}], "owner": {"reputation": 160, "user_id": 2610762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769a1912e0917f1b477038c40c0f6778?s=128&d=identicon&r=PG", "display_name": "sagarchavan", "link": "https://stackoverflow.com/users/2610762/sagarchavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537191083, "creation_date": 1537182834, "last_edit_date": 1537191083, "question_id": 52366466, "link": "https://stackoverflow.com/questions/52366466/how-can-i-go-back-from-native-viewcontroller-to-react-native-page-in-ios", "title": "How can i go back from Native ViewController to react native page in iOS?", "body": "<p>I have react native page through which I am able to redirect Native ViewController but I am not able to get back from Native ViewController to React-Native page on back button click. I have added logs on back press and getting logs in console but ViewController is not getting dismissed.</p>\n\n<pre><code>    func goToNativeView() { \nself.window = UIWindow(frame: UIScreen.main.bounds) \nlet storyboard = UIStoryboard(name: \"Main\", bundle: nil) \nlet initialViewController = storyboard.instantiateViewController(withIdentifier: \"ProfilePageInner\") \nself.window?.rootViewController = initialViewController self.window?.makeKeyAndVisible()\n }\n\n- (IBAction)BackButton:(id)sender { \nNSLog(@\"BACKBUTTONPRESSED\"); \n[self dismissViewControllerAnimated:YES completion:nil]; \n} \n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "isa-swizzling"], "comments": [{"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537190002, "post_id": 52366310, "comment_id": 91681452, "body": "@Cristik : Can&#39;t I do this Swift ?"}, {"owner": {"reputation": 15052, "user_id": 2907715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/daX8Z.png?s=128&g=1", "display_name": "ielyamani", "link": "https://stackoverflow.com/users/2907715/ielyamani"}, "edited": false, "score": 0, "creation_date": 1537446368, "post_id": 52366310, "comment_id": 91793026, "body": "On what class is this method defined?"}, {"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1538555936, "post_id": 52366310, "comment_id": 92179505, "body": "@Cristik : Because it is not a function. Objective-C function starts with a -"}, {"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1538556710, "post_id": 52366310, "comment_id": 92179884, "body": "@Cristik : So, should that be a simply a Swift function ?"}], "answers": [{"comments": [{"owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1538556364, "post_id": 52426473, "comment_id": 92179721, "body": "Can you walk me through your answer ? I am facing difficulty in converting and calling MPApplicationDidRegisterForRemoteNotificationsWithDeviceToke&zwnj;&#8203;n"}, {"owner": {"reputation": 15052, "user_id": 2907715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/daX8Z.png?s=128&g=1", "display_name": "ielyamani", "link": "https://stackoverflow.com/users/2907715/ielyamani"}, "reply_to_user": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "edited": false, "score": 0, "creation_date": 1538572422, "post_id": 52426473, "comment_id": 92189183, "body": "I&#39;ve added a concrete example of swizzling methods"}], "tags": [], "owner": {"reputation": 15052, "user_id": 2907715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/daX8Z.png?s=128&g=1", "display_name": "ielyamani", "link": "https://stackoverflow.com/users/2907715/ielyamani"}, "is_accepted": true, "score": 5, "last_activity_date": 1538572190, "last_edit_date": 1538572190, "creation_date": 1537450714, "answer_id": 52426473, "question_id": 52366310, "link": "https://stackoverflow.com/questions/52366310/swift-method-swizzling/52426473#52426473", "title": "Swift - method swizzling", "body": "<p>Extend your class:</p>\n\n<pre><code>extension YourClassName {\n    static let classInit: () -&gt; () = {\n        let originalSelector = #selector(originalFunction)\n        let swizzledSelector = #selector(swizzledFunction)\n        swizzle(YourClassName.self, originalSelector, swizzledSelector)\n    }\n\n    @objc func swizzledFunction() {\n        //Your new implementation\n    }\n}\n</code></pre>\n\n<p>Your class (<code>YourClassName</code>) should inherit from <code>NSObject</code> and <code>originalSelector</code> should be a <code>dynamic</code> method.</p>\n\n<p><code>swizzle</code> is a closure that exchanges the implementations:</p>\n\n<pre><code>private let swizzle: (AnyClass, Selector, Selector) -&gt; () = { fromClass, originalSelector, swizzledSelector in\n    guard \n        let originalMethod = class_getInstanceMethod(fromClass, originalSelector),\n        let swizzledMethod = class_getInstanceMethod(fromClass, swizzledSelector)\n        else { return }\n    method_exchangeImplementations(originalMethod, swizzledMethod)\n}\n</code></pre>\n\n<p>You could define <code>swizzle</code> in the class where you are going to do the swizzling. For example the <code>AppDelegate</code> class definition. And then do the swizzling in <code>AppDelegate.init()</code>:</p>\n\n<pre><code>@UIApplicationMain\nclass AppDelegate: UIResponder, UIApplicationDelegate {\n    override init() {\n        super.init()\n        YourClassName.classInit()\n    }\n}\n</code></pre>\n\n<hr>\n\n<h2>Example</h2>\n\n<p>Here is a concrete example of swizzling, it <a href=\"https://developer.apple.com/documentation/objectivec/1418769-method_exchangeimplementations\" rel=\"nofollow noreferrer\">exchanges the implementation</a> of two methods that take one argument:</p>\n\n<pre><code>class Example: NSObject {\n    @objc dynamic func sayHi(to name: String) {\n        print(\"Hi\", name)\n    }\n}\n\nextension Example {\n    public class func swizzleMethod() {\n        guard\n            let originalMethod = class_getInstanceMethod(Example.self, #selector(Example.sayHi(to:))),\n            let swizzledMethod = class_getInstanceMethod(Example.self, #selector(Example.sayHello(to:)))\n            else { return }\n        method_exchangeImplementations(originalMethod, swizzledMethod)\n    }\n    @objc func sayHello(to name: String) {\n        print(\"Hello\", name)\n    }\n}\n\nExample.swizzleMethod()\n\nlet a = Example()\na.sayHi(to: \"Nitish\")        //Hello Nitish\n</code></pre>\n"}], "owner": {"reputation": 12972, "user_id": 541786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/o4FTo.jpg?s=128&g=1", "display_name": "Nitish", "link": "https://stackoverflow.com/users/541786/nitish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1775, "favorite_count": 3, "accepted_answer_id": 52426473, "answer_count": 1, "score": 8, "last_activity_date": 1546502422, "creation_date": 1537182268, "last_edit_date": 1546502422, "question_id": 52366310, "link": "https://stackoverflow.com/questions/52366310/swift-method-swizzling", "title": "Swift - method swizzling", "body": "<p>This is the method swizzling code written in Objective-C. I am having a hard time converting this in Swift.</p>\n\n<pre><code>void MPApplicationDidRegisterForRemoteNotificationsWithDeviceToken(id self, SEL _cmd, UIApplication *application, NSData *deviceToken) {\n    [[MPPush shared] appRegisteredForRemoteNotificationsWithDeviceToken:deviceToken];\n\n    IMP original = [MPAppDelegateProxy originalImplementation:_cmd class:[self class]];\n    if (original)\n        ((void(*)(id, SEL, UIApplication *, NSData*))original)(self, _cmd, application, deviceToken);\n}  \n</code></pre>\n\n<p><em>Swiftify</em> isn't converting the above code correctly.  </p>\n\n<p>I tried to do this but I am not sure how to pass parameters and use the exact above parameters in Swift swizzling method. This is my fail attempt to convert the above in Swift (code doesn't even compile) :  </p>\n\n<pre><code>var MPApplicationDidRegisterForRemoteNotificationsWithDeviceToken: Void {\n        //     TODO:   MPPush.shared.app\n\n        let original = MPAppDelegateProxy.proxyAppDelegate.originalImplementation(selector: cmd, forClass: type(of: self))\n    }(self: Any, _cmd: Selector, application: UIApplication, deviceToken: Data)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 1276, "user_id": 4680556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/E0zeh.jpg?s=128&g=1", "display_name": "iPeter", "link": "https://stackoverflow.com/users/4680556/ipeter"}, "edited": false, "score": 1, "creation_date": 1537181986, "post_id": 52366114, "comment_id": 91676542, "body": "Use <code>UIPopOverPresentationController</code>."}, {"owner": {"reputation": 5456, "user_id": 5362410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HYGbR.jpg?s=128&g=1", "display_name": "Gurjinder Singh", "link": "https://stackoverflow.com/users/5362410/gurjinder-singh"}, "edited": false, "score": 0, "creation_date": 1537183657, "post_id": 52366114, "comment_id": 91677479, "body": "You can show and hide a tableview on button click with animation."}, {"owner": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 0, "creation_date": 1537244223, "post_id": 52366114, "comment_id": 91702030, "body": "Did you check this? <a href=\"https://github.com/kolyvan/kxmenu\" rel=\"nofollow noreferrer\">github.com/kolyvan/kxmenu</a> Note that the developer has not updated it since a long back you may require to use a fork version of it. Which is more updated."}, {"owner": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 0, "creation_date": 1537244633, "post_id": 52366114, "comment_id": 91702115, "body": "I think, this fork is more helpful to you: <a href=\"https://github.com/alex081293/kxmenu\" rel=\"nofollow noreferrer\">github.com/alex081293/kxmenu</a> because it allows to show the menu items in a scroll view. Helpful, if you will have multiple items."}], "answers": [{"comments": [{"owner": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 0, "creation_date": 1537243846, "post_id": 52378293, "comment_id": 91701960, "body": "I think, user requested an answer in objective-c."}, {"owner": {"reputation": 674, "user_id": 4599632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee93f09f89f1352c0df3674f64ebcd28?s=128&d=identicon&r=PG&f=1", "display_name": "beshio", "link": "https://stackoverflow.com/users/4599632/beshio"}, "reply_to_user": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 0, "creation_date": 1537244364, "post_id": 52378293, "comment_id": 91702062, "body": "oops! I didn&#39;t realized tag has only obj-c."}, {"owner": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 0, "creation_date": 1537244527, "post_id": 52378293, "comment_id": 91702096, "body": "Alright, maybe the user can convert it to objective-c?"}, {"owner": {"reputation": 674, "user_id": 4599632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee93f09f89f1352c0df3674f64ebcd28?s=128&d=identicon&r=PG&f=1", "display_name": "beshio", "link": "https://stackoverflow.com/users/4599632/beshio"}, "reply_to_user": {"reputation": 25670, "user_id": 1603234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/41a72eafad3ebd6b2fce873d4920580c?s=128&d=identicon&r=PG", "display_name": "Hemang", "link": "https://stackoverflow.com/users/1603234/hemang"}, "edited": false, "score": 1, "creation_date": 1537244714, "post_id": 52378293, "comment_id": 91702136, "body": "I hope so. Actually, it&#39;s a small code and should not be difficult to translate to obj-c."}], "tags": [], "owner": {"reputation": 674, "user_id": 4599632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee93f09f89f1352c0df3674f64ebcd28?s=128&d=identicon&r=PG&f=1", "display_name": "beshio", "link": "https://stackoverflow.com/users/4599632/beshio"}, "is_accepted": false, "score": 0, "last_activity_date": 1537239881, "creation_date": 1537239881, "answer_id": 52378293, "question_id": 52366114, "link": "https://stackoverflow.com/questions/52366114/how-can-open-custom-pop-up-when-click-on-button-in-ios/52378293#52378293", "title": "How can open custom pop up when click on button in ios", "body": "<p>You can achive this with UIPopoverPresentationControllerDelegate and tableView. See <a href=\"https://stackoverflow.com/questions/41086363/ios-how-to-add-bubble-with-text-buttons-over-cell-in-uitableview/41093196#41093196\">this answer</a> for more detail. The source code is available <a href=\"https://github.com/beshio/sample-code\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 10347004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Kn42bsRo2L0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNQWqbTzA4VAeG_-E8YI7AsjoTADw/mo/photo.jpg?sz=128", "display_name": "ananth reddy", "link": "https://stackoverflow.com/users/10347004/ananth-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537239881, "creation_date": 1537181590, "question_id": 52366114, "link": "https://stackoverflow.com/questions/52366114/how-can-open-custom-pop-up-when-click-on-button-in-ios", "title": "How can open custom pop up when click on button in ios", "body": "<p>I want to open a popup box like <a href=\"https://i.stack.imgur.com/wRHJY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>please help me if any one knows</p>\n"}, {"tags": ["objective-c", "swift", "singleton"], "comments": [{"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1537186023, "post_id": 52365375, "comment_id": 91678909, "body": "It compiles but throws exception at runtime"}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1537186661, "post_id": 52365375, "comment_id": 91679272, "body": "Any reason you keep down voting my questions?"}], "answers": [{"comments": [{"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "edited": false, "score": 0, "creation_date": 1537186789, "post_id": 52366761, "comment_id": 91679339, "body": "Thanks, that did the job!  FYI, Fix-it changed code slightly to: let username: String = (referenceClass.sharedInstance()!).getUserName()"}], "tags": [], "owner": {"reputation": 1194, "user_id": 5309431, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UsBi4.jpg?s=128&g=1", "display_name": "Karthikeyan Bose", "link": "https://stackoverflow.com/users/5309431/karthikeyan-bose"}, "is_accepted": true, "score": 2, "last_activity_date": 1537186798, "last_edit_date": 1537186798, "creation_date": 1537183925, "answer_id": 52366761, "question_id": 52365375, "link": "https://stackoverflow.com/questions/52365375/access-singleton-sharedinstance-in-objective-c-class-from-swift-class-in-combine/52366761#52366761", "title": "Access singleton sharedInstance in Objective-C class from Swift class in combined project", "body": "<p>Declare your singleton class reference variable as like this</p>\n\n<pre><code>var singletonReference = YourSingletoneClass.sharedInstance() as! YourSingletoneClass\n</code></pre>\n\n<p>and access value using reference variable</p>\n\n<pre><code>var username: String = singletonReference.getUserName()\n</code></pre>\n\n<p>According to your example you can use also like this</p>\n\n<pre><code>var username: String = (referenceClass.sharedInstance() as! referenceClass).getUserName()\n</code></pre>\n\n<p><strong>Note</strong> : If you want your reference variable through out your class declare globally</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 52366761, "answer_count": 1, "score": -2, "last_activity_date": 1537186798, "creation_date": 1537179103, "last_edit_date": 1537180253, "question_id": 52365375, "link": "https://stackoverflow.com/questions/52365375/access-singleton-sharedinstance-in-objective-c-class-from-swift-class-in-combine", "title": "Access singleton sharedInstance in Objective-C class from Swift class in combined project", "body": "<p>I have an objective-C project in which I have added a Swift class.  I would like to access a shared instance of an Objective C class from my Swift code but I can't find any examples of how to do this.  Here are a couple examples of code in Objective-C to access shared Instances that I would like to perform from Swift:</p>\n\n<pre><code>//to get property\nself.managedObjectContext = [myModel sharedInstance].managedObjectContext;\n\n//to get a string returned by a method in the sharedInstance\n\nNSString *aUser = [[referenceClass  sharedInstance] getUserName];\n</code></pre>\n\n<p>In the Objective-C header file for the singleton, I have</p>\n\n<pre><code>+ (referenceClass*)sharedInstance;\n</code></pre>\n\n<p>I have imported the classes needed such as referenceClass in my Bridging Header file but how would I get the string using Swift?</p>\n\n<p>Something like:  (Pseudo code)</p>\n\n<pre><code> var username: String = referenceClass.sharedInstance().getUserName()\n</code></pre>\n\n<p>Thanks in advance for any suggestions.</p>\n"}, {"tags": ["ios", "objective-c", "uiviewcontroller"], "comments": [{"owner": {"reputation": 659, "user_id": 7334409, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s0RiLjDDTsU/AAAAAAAAAAI/AAAAAAAAAGI/t5nhiF4Xg_U/photo.jpg?sz=128", "display_name": "Sagar Bhut", "link": "https://stackoverflow.com/users/7334409/sagar-bhut"}, "edited": false, "score": 0, "creation_date": 1537175863, "post_id": 52364397, "comment_id": 91672928, "body": "provide trial code."}, {"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 0, "creation_date": 1537177156, "post_id": 52364397, "comment_id": 91673726, "body": "try this <code>tableView.isHidden = true</code> and <code>tableView.frame = CGRect.zero</code> ."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 1083501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553f489934b949da032281d393020df7?s=128&d=identicon&r=PG", "display_name": "Farid Rahmani", "link": "https://stackoverflow.com/users/1083501/farid-rahmani"}, "is_accepted": false, "score": 0, "last_activity_date": 1537176395, "creation_date": 1537176395, "answer_id": 52364573, "question_id": 52364397, "link": "https://stackoverflow.com/questions/52364397/ios-uiviewcontroller-as-popup-with-dynamic-height/52364573#52364573", "title": "iOS - UIViewController as Popup with dynamic height", "body": "<p>Try calling <code>sizeToFit()</code> on Popup-View after hiding the tableView:</p>\n\n<pre><code>popupView.sizeToFit()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 279, "user_id": 5291351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d620daa0925510bd53b69d94f2cfaeab?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/5291351/henning"}, "edited": false, "score": 1, "creation_date": 1537253985, "post_id": 52364607, "comment_id": 91705564, "body": "That solution helps me a lot. Thanks!"}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 1, "last_activity_date": 1537176826, "last_edit_date": 1537176826, "creation_date": 1537176516, "answer_id": 52364607, "question_id": 52364397, "link": "https://stackoverflow.com/questions/52364397/ios-uiviewcontroller-as-popup-with-dynamic-height/52364607#52364607", "title": "iOS - UIViewController as Popup with dynamic height", "body": "<p>Imagine the following UI</p>\n\n<p><a href=\"https://i.stack.imgur.com/lDvv0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lDvv0.png\" alt=\"enter image description here\"></a></p>\n\n<p>a centered <code>UIView</code> that contains a <code>UIButton</code> and <code>UITableView</code> , you need to hook height constraint of the table and do this inside the popup if you want to hide it</p>\n\n<pre><code>@IBOutlet weak var heightTblCon:NSLayoutConstraint!\n</code></pre>\n\n<p>//</p>\n\n<pre><code>self.heightTblCon.constant = show ? 300 : 0\nself.view.layoutIfNeeded()\n</code></pre>\n\n<p>BTW i changed color of background view for clarification purposes that should be transparent for modals </p>\n"}, {"tags": [], "owner": {"reputation": 1799, "user_id": 3264650, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/52fde0ebb318a1b90406c23c70115189?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/3264650/shruti"}, "is_accepted": false, "score": 0, "last_activity_date": 1537176916, "creation_date": 1537176916, "answer_id": 52364710, "question_id": 52364397, "link": "https://stackoverflow.com/questions/52364397/ios-uiviewcontroller-as-popup-with-dynamic-height/52364710#52364710", "title": "iOS - UIViewController as Popup with dynamic height", "body": "<p>Try to Adjust the Height of your view using the <code>NSLayoutConstraint</code>. Create an outlet for the same and manage height programatically. For example:</p>\n\n<pre><code> myConstraintOutlet.constant = 10\n myTableView.layoutIfNeeded()\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/42669554/how-to-update-the-constant-height-constraint-of-a-uiview-programatically\">Here</a> is the link for further assistant. </p>\n\n<p>Regarding your second query to have the pop up always in centre you can either do it using <code>Autolayout</code> or programatically define the centre of your pop up. </p>\n\n<pre><code> myView.center = CGPoint(x: superView.center.x, y: superView.center.y)\n</code></pre>\n\n<p>Hope that helps. </p>\n"}], "owner": {"reputation": 279, "user_id": 5291351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d620daa0925510bd53b69d94f2cfaeab?s=128&d=identicon&r=PG&f=1", "display_name": "Henning", "link": "https://stackoverflow.com/users/5291351/henning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 52364607, "answer_count": 3, "score": 0, "last_activity_date": 1537177250, "creation_date": 1537175759, "last_edit_date": 1537177250, "question_id": 52364397, "link": "https://stackoverflow.com/questions/52364397/ios-uiviewcontroller-as-popup-with-dynamic-height", "title": "iOS - UIViewController as Popup with dynamic height", "body": "<p>I have a Popup-View which contains two labels, a tableview and button. I created a ViewController as in <a href=\"https://stackoverflow.com/questions/16230700/display-uiviewcontroller-as-popup-in-iphone\">Display UIViewController as Popup in iPhone</a> described. </p>\n\n<p>My special requirement is now, that the tableview is not necessary in all cases, so I tried to hide it and expected a reduced height of the Popup-View. But I always get the same height. I also tried to use a UIStackView, but the height of the view wasn't changed in case of hiding the tableview.</p>\n\n<p>I also need to have the view in center of the display in both cases of height.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rEluk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<pre><code>@interface AuthorizationMessageViewController ()\n\n@property (weak, nonatomic) IBOutlet UIView *messageView;\n@property (weak, nonatomic) IBOutlet UILabel *titelLabel;\n@property (weak, nonatomic) IBOutlet UILabel *detailsLabel;\n@property (weak, nonatomic) IBOutlet UITableView *tableView;\n@property (weak, nonatomic) IBOutlet UIButton *okButton;\n- (IBAction)okButtonTouchUp:(id)sender;\n@end\n\n@implementation AuthorizationMessageViewController\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    self.messageView.layer.cornerRadius = 5;\n    self.messageView.layer.masksToBounds = YES;\n    self.messageView.backgroundColor = COLOR_BACKGROUND_WHITE;\n    self.messageView.autoresizingMask = UIViewAutoresizingFlexibleBottomMargin | UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin | UIViewAutoresizingFlexibleTopMargin;\n\n    self.tableView.delegate = self;\n    self.tableView.dataSource = self;\n    self.tableView.tableFooterView = [[UIView alloc] initWithFrame:CGRectZero];\n    self.tableView.separatorColor = [UIColor clearColor];\n    self.tableView.backgroundColor = COLOR_BACKGROUND_WHITE;\n\n    self.titelLabel.text = WHLocalizedString(@\"EventHeaderAuthorization\", nil);\n\n    [self setupView];\n}\n\n- (void)setupView\n{\n    NSString *ns_messageText;\n\n    ns_messageText = @\"test\";\n\n    if (YES)\n    {\n        ns_messageText = @\"Hide\"\n        [self.tableView setHidden:YES];\n    }\n    else\n    {\n        ns_messageText = @\"No Hide\"\n        [self.tableView setHidden:NO];\n    }\n\n    self.detailsLabel.text = ns_messageText;\n    self.detailsLabel.textColor = COLOR_TEXT_GREY_KEY;\n    self.detailsLabel.numberOfLines = 0;\n    [self.detailsLabel sizeToFit];\n}\n\n#pragma mark - Table view data source\n\n-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    return 7;\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    return 21;\n}\n\n-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    UITableViewCell *cell = (UITableViewCell *)[tableView dequeueReusableCellWithIdentifier:@\"testCell\"];\n\n    UILabel *weekDayLabel = (UILabel *)[cell viewWithTag:10];\n    weekDayLabel.text = @\"weekday\";\n    weekDayLabel.textColor = COLOR_TEXT_GREY_KEY;\n    weekDayLabel.font = FONT_LIGHT_SIZE_15;\n\n    UILabel *testLabel = (UILabel *)[cell viewWithTag:11];\n    testLabel = @\"testLabel\"\n    testLabel = COLOR_TEXT_GREY_KEY;\n    testLabel = FONT_LIGHT_SIZE_15;\n\n    [cell setSelectionStyle:UITableViewCellSelectionStyleNone];\n\n    return cell;\n}\n</code></pre>\n\n<p>I hope that someone has a solution or an idea for that.</p>\n"}, {"tags": ["objective-c", "string", "unicode", "escaping"], "comments": [{"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1537175547, "post_id": 52364304, "comment_id": 91672768, "body": "Where do you get the string from, what does it actually look like, what is your current code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5247234"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1537175931, "post_id": 52364304, "comment_id": 91672959, "body": "@luk2302 Just updated the question"}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1537175968, "post_id": 52364304, "comment_id": 91672978, "body": "and where do you get the string from?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5247234"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1537176127, "post_id": 52364304, "comment_id": 91673080, "body": "@luk2302 The string comes back from an API call"}, {"owner": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1537176220, "post_id": 52364304, "comment_id": 91673136, "body": "Have you tried something like <a href=\"https://stackoverflow.com/questions/4913499/utf8-character-decoding-in-objective-c\" title=\"utf8 character decoding in objective c\">stackoverflow.com/questions/4913499/&hellip;</a> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5247234"}, "reply_to_user": {"reputation": 45896, "user_id": 2442804, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wBmyS.jpg?s=128&g=1", "display_name": "luk2302", "link": "https://stackoverflow.com/users/2442804/luk2302"}, "edited": false, "score": 0, "creation_date": 1537177013, "post_id": 52364304, "comment_id": 91673657, "body": "Thats one of the posts I looked at before but got <b>[NSString stringWithCString:encoding:]: NULL cString</b>"}], "owner": {"user_type": "does_not_exist", "display_name": "user5247234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537176089, "creation_date": 1537175502, "last_edit_date": 1537176089, "question_id": 52364304, "link": "https://stackoverflow.com/questions/52364304/displaying-special-characters-in-a-uilabel", "title": "Displaying special characters in a UILabel", "body": "<p>I have a string which contains a mix of normal text and special characters. When setting the label text with this string the character codes are being displayed rather than the actual character. I was wondering is there any support for special characters or if there is a way to decode the values?</p>\n\n<p>I have tried <strong>stringWithCString</strong> but haven't had any luck with it.</p>\n\n<p>Setting:</p>\n\n<pre><code>self.stringLabel.text = myNSString\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Hello world!\n\n\u00c3\u00a8\u00c3\u00a9&amp;ecirc;&amp;euml;\u00c4\u00c4\u00c4\n\n&amp;yuml;\n\n&amp;ucirc;&amp;uuml;&amp;ugrave;&amp;uacute;\u00c5\u00ab\n</code></pre>\n\n<p>Anyone else come across a similar issue?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "swift", "frameworks"], "answers": [{"tags": [], "owner": {"reputation": 3221, "user_id": 5408830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zKmc8.jpg?s=128&g=1", "display_name": "Jogendar Choudhary", "link": "https://stackoverflow.com/users/5408830/jogendar-choudhary"}, "is_accepted": false, "score": 0, "last_activity_date": 1537175317, "creation_date": 1537175317, "answer_id": 52364255, "question_id": 52364182, "link": "https://stackoverflow.com/questions/52364182/difference-between-cocoa-touch-framework-and-cocoa-touch-static-library/52364255#52364255", "title": "Difference between Cocoa Touch Framework and Cocoa Touch Static Library?", "body": "<p>Yes, they are different things.  There's a bit of a discussion here: <a href=\"https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPFrameworks/Concepts/WhatAreFrameworks.html#//apple_ref/doc/uid/20002303-BBCEIJFI\" rel=\"nofollow noreferrer\">What are Frameworks?</a></p>\n\n<p>In a nutshell, though, a static library is a collection of compiled source files which is then linked directly into an app's binary.  That is, it becomes a part of your app's binary.  A framework is a standalone entity that contains a binary containing compiled code (along with any related resources) that is a standalone unit itself.  The page I linked to includes more details on specific differences. </p>\n"}], "owner": {"reputation": 1, "user_id": 5522923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d16d3ae996ca048eb9e5ad49afe179c?s=128&d=identicon&r=PG&f=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/5522923/abhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 0, "closed_date": 1537175397, "answer_count": 1, "score": -5, "last_activity_date": 1537175317, "creation_date": 1537175025, "question_id": 52364182, "link": "https://stackoverflow.com/questions/52364182/difference-between-cocoa-touch-framework-and-cocoa-touch-static-library", "closed_reason": "Duplicate", "title": "Difference between Cocoa Touch Framework and Cocoa Touch Static Library?", "body": "<p>What is the difference between Cocoa Touch Framework and Cocoa Touch Static Library? \nIn which scenario both can be used?</p>\n"}, {"tags": ["objective-c", "swift", "nspredicate"], "comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537173632, "post_id": 52363623, "comment_id": 91671713, "body": "Do you need <code>NSPredicate</code>? There are other, more concise, ways to filter arrays in Swift."}, {"owner": {"reputation": 149, "user_id": 6916338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772cfc99227b51134f866f6079aef62b?s=128&d=identicon&r=PG&f=1", "display_name": "Red Sun", "link": "https://stackoverflow.com/users/6916338/red-sun"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1537174688, "post_id": 52363623, "comment_id": 91672287, "body": "So, forgot to mention, I need to use this in a Realm Database, so NSPredicate is mandatory."}], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 2164516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0fed7bfa3ef60e07651815329e988d6?s=128&d=identicon&r=PG", "display_name": "Milander", "link": "https://stackoverflow.com/users/2164516/milander"}, "is_accepted": false, "score": 0, "last_activity_date": 1537173473, "creation_date": 1537173473, "answer_id": 52363756, "question_id": 52363623, "link": "https://stackoverflow.com/questions/52363623/nspredicate-filtering-over-array-of-complex-objects/52363756#52363756", "title": "NSPredicate filtering over array of complex objects", "body": "<p>If you are using Swift you can use filter and contains method to filter arrays.</p>\n\n<p>When you have an array with products you can filter it by:</p>\n\n<pre><code>let filteredProducts = products.filter{ $0.categories.contains(where: { $0.id == 1 })}\n</code></pre>\n\n<p>The code above filters the products that contains a category with id = 1</p>\n"}, {"tags": [], "owner": {"reputation": 2663, "user_id": 918300, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IlhB7.jpg?s=128&g=1", "display_name": "Bhavin Kansagara", "link": "https://stackoverflow.com/users/918300/bhavin-kansagara"}, "is_accepted": false, "score": 0, "last_activity_date": 1537173894, "creation_date": 1537173894, "answer_id": 52363883, "question_id": 52363623, "link": "https://stackoverflow.com/questions/52363623/nspredicate-filtering-over-array-of-complex-objects/52363883#52363883", "title": "NSPredicate filtering over array of complex objects", "body": "<p>You can simply check for the counts of the array returned by filter the categories.</p>\n\n<pre><code>struct Product {\n  let categories: [Category]\n}\n\nstruct Category {\n  let id: Int\n}\n\nlet c1 = Category(id: 1)\nlet c2 = Category(id: 2)\nlet c3 = Category(id: 3)\n\nlet p = Product(categories: [c1, c2, c3])\nlet yourCategoryId = 1\nlet filteredResults = p.categories.filter {\n    $0.id == yourCategoryId\n}\nlet isCategoryWithIdPresent = filteredResults.count &gt; 0 ? true : false\nprint(isCategoryWithIdPresent)\n</code></pre>\n\n<p>Hope it helps</p>\n"}, {"tags": [], "owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "is_accepted": true, "score": 3, "last_activity_date": 1537176814, "creation_date": 1537176814, "answer_id": 52364682, "question_id": 52363623, "link": "https://stackoverflow.com/questions/52363623/nspredicate-filtering-over-array-of-complex-objects/52364682#52364682", "title": "NSPredicate filtering over array of complex objects", "body": "<p>The correct format for your NSPredicate would be:</p>\n\n<pre><code>let predicate = NSPredicate(format: \"ANY categories.id == %@\", argumentArray: [1])\n</code></pre>\n\n<p>The above example would return all <code>Products</code> whose <code>categories</code> array contains a <code>Product</code> with the <code>id</code> 1.</p>\n\n<p>Of course, that's assuming that you're only looking for categories of a single <code>id</code>. If you needed to check for multiple <code>ids</code>, you could modify the above with an <code>OR</code>.</p>\n\n<p>Note: I tested the above predicate with an <code>NSArray</code>, not Realm. However, if you check the Realm predicate cheatsheet, it does support all of the operators the predicate is using:</p>\n\n<p><a href=\"https://academy.realm.io/posts/nspredicate-cheatsheet/?_ga=2.32752254.1161432538.1537175891-1199086799.1527592477\" rel=\"nofollow noreferrer\">https://academy.realm.io/posts/nspredicate-cheatsheet/?_ga=2.32752254.1161432538.1537175891-1199086799.1527592477</a></p>\n"}], "owner": {"reputation": 149, "user_id": 6916338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772cfc99227b51134f866f6079aef62b?s=128&d=identicon&r=PG&f=1", "display_name": "Red Sun", "link": "https://stackoverflow.com/users/6916338/red-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 52364682, "answer_count": 3, "score": 2, "last_activity_date": 1537176814, "creation_date": 1537172916, "last_edit_date": 1537174735, "question_id": 52363623, "link": "https://stackoverflow.com/questions/52363623/nspredicate-filtering-over-array-of-complex-objects", "title": "NSPredicate filtering over array of complex objects", "body": "<p>So, basically, the problem is, I have an object, let's call it \"Product\"</p>\n\n<pre><code>struct Product {\n  let categories: [Category]\n}\n</code></pre>\n\n<p>And  Category looks like this:</p>\n\n<pre><code>struct Category {\n  let id: Int\n}\n</code></pre>\n\n<p>What I need, is to create NSPredicate, that would check if categories list contains Category of certain id. Now sure if it's possible, but maybe there's better workaround than creating another property with simple Int array?\nUpdate: NSPredicate is mandatory because I need to use it in Realm database filter query.</p>\n"}, {"tags": ["objective-c", "swift", "macos"], "comments": [{"owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1537170414, "post_id": 52362991, "comment_id": 91670108, "body": "Welcome to StackOverflow. Please show what research you&#39;ve undertaken, what you&#39;ve already tried, what didn&#39;t work, code samples etc. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and then <a href=\"https://stackoverflow.com/posts/52362991/edit\">edit</a> your question showing the <i>minimum</i> code that demonstrates the problem."}, {"owner": {"reputation": 69, "user_id": 6892154, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BKWcDRZJBIk/AAAAAAAAAAI/AAAAAAAAAb0/g4NUACCxFpM/photo.jpg?sz=128", "display_name": "Pratik Thakare", "link": "https://stackoverflow.com/users/6892154/pratik-thakare"}, "reply_to_user": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1537260687, "post_id": 52362991, "comment_id": 91709451, "body": "@AshleyMills I have started exploring this topic. I only tried command line using Pipe() .thanks for the suggestions and guideline.As I am new here I will try to follow them."}], "answers": [{"comments": [{"owner": {"reputation": 3255, "user_id": 249696, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/06Chx.jpg?s=128&g=1", "display_name": "Yoric", "link": "https://stackoverflow.com/users/249696/yoric"}, "edited": false, "score": 0, "creation_date": 1598513381, "post_id": 52363241, "comment_id": 112484451, "body": "That&#39;s part of the driver kit, it doesn&#39;t look related to the  question."}], "tags": [], "owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "is_accepted": false, "score": -1, "last_activity_date": 1537171357, "creation_date": 1537171357, "answer_id": 52363241, "question_id": 52362991, "link": "https://stackoverflow.com/questions/52362991/how-to-get-apps-using-significant-energy-programatically-like-battery-icon-from/52363241#52363241", "title": "How to get apps using significant energy programatically like battery icon from MacBook", "body": "<p>Take a look at <code>IOPMPowerSource</code></p>\n\n<p>Apple have sample <code>cpp</code> source here\u2026 <a href=\"https://opensource.apple.com/source/PowerManagement/PowerManagement-703.1.5/AppleSmartBatteryManager/AppleSmartBattery.cpp.auto.html\" rel=\"nofollow noreferrer\">https://opensource.apple.com/source/PowerManagement/PowerManagement-703.1.5/AppleSmartBatteryManager/AppleSmartBattery.cpp.auto.html</a></p>\n\n<p>Also, try running <code>ioreg -irc IOPMPowerSource</code> in the terminal.</p>\n"}], "owner": {"reputation": 69, "user_id": 6892154, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BKWcDRZJBIk/AAAAAAAAAAI/AAAAAAAAAb0/g4NUACCxFpM/photo.jpg?sz=128", "display_name": "Pratik Thakare", "link": "https://stackoverflow.com/users/6892154/pratik-thakare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1537260562, "creation_date": 1537170294, "last_edit_date": 1537260562, "question_id": 52362991, "link": "https://stackoverflow.com/questions/52362991/how-to-get-apps-using-significant-energy-programatically-like-battery-icon-from", "title": "How to get apps using significant energy programatically like battery icon from MacBook", "body": "<p>I am trying to get a significant energy consuming app list like it shows in battery icon in MacBook programmatically.</p>\n\n<p><img src=\"https://i.stack.imgur.com/bapoI.png\" alt=\"enter image description here\"></p>\n\n<p>Like Below...\nAny Help would be appreciated.</p>\n\n<p>I tried used following top command in a code but it's not working.</p>\n\n<p>top  -stats -l 1 -O pid,command,cpu,idlew,power -o power -d</p>\n"}, {"tags": ["ios", "objective-c", "swift", "amazon-web-services", "aws-appsync-ios"], "comments": [{"owner": {"reputation": 1693, "user_id": 3976183, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dtMWX.jpg?s=128&g=1", "display_name": "Lalit Kumar", "link": "https://stackoverflow.com/users/3976183/lalit-kumar"}, "edited": false, "score": 0, "creation_date": 1537462514, "post_id": 52362987, "comment_id": 91803283, "body": "Don&#39;t know about AWS. Can you try passing some auth in header when making request?"}, {"owner": {"reputation": 3092, "user_id": 6330448, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MeC1c.png?s=128&g=1", "display_name": "tryKuldeepTanwar", "link": "https://stackoverflow.com/users/6330448/trykuldeeptanwar"}, "reply_to_user": {"reputation": 1693, "user_id": 3976183, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dtMWX.jpg?s=128&g=1", "display_name": "Lalit Kumar", "link": "https://stackoverflow.com/users/3976183/lalit-kumar"}, "edited": false, "score": 0, "creation_date": 1537502249, "post_id": 52362987, "comment_id": 91815871, "body": "Thank you for the suggestion, my problem is i need to create a private bucket and then upload and download images, currently i&#39;m able to upload and download images using a public bucket with the static crediential. @LalitKumar"}], "answers": [{"comments": [{"owner": {"reputation": 3092, "user_id": 6330448, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MeC1c.png?s=128&g=1", "display_name": "tryKuldeepTanwar", "link": "https://stackoverflow.com/users/6330448/trykuldeeptanwar"}, "edited": false, "score": 0, "creation_date": 1537615754, "post_id": 52437813, "comment_id": 91854750, "body": "Thank you Richard for your answer, Yes I read about the Cognito Federated Identities but we are not using that still, are there any alternative?"}], "tags": [], "owner": {"reputation": 1626, "user_id": 2733539, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hjDb.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/2733539/richard"}, "is_accepted": true, "score": 1, "last_activity_date": 1537511169, "creation_date": 1537511169, "answer_id": 52437813, "question_id": 52362987, "link": "https://stackoverflow.com/questions/52362987/process-for-uploading-image-to-s3-with-aws-appsync-ios-image-uploading-with-a/52437813#52437813", "title": "Process for uploading image to s3 with AWS Appsync || iOS image uploading with Appsync", "body": "<p>You need per-identity security on the bucket using Cognito Federated Identities which gives each user their own secure bucket. You can leverage the AWS Amplify to set this up for your project with <code>$amplify add auth</code> and selecting the default config, then <code>$amplify add storage</code> which configures that bucket and pool with appropriate permissions to use private uploads.</p>\n\n<p>For more info checkout the repo: <a href=\"https://github.com/aws-amplify/amplify-cli\" rel=\"nofollow noreferrer\">https://github.com/aws-amplify/amplify-cli</a></p>\n"}], "owner": {"reputation": 3092, "user_id": 6330448, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/MeC1c.png?s=128&g=1", "display_name": "tryKuldeepTanwar", "link": "https://stackoverflow.com/users/6330448/trykuldeeptanwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "accepted_answer_id": 52437813, "answer_count": 1, "score": 6, "last_activity_date": 1537511169, "creation_date": 1537170277, "last_edit_date": 1537434241, "question_id": 52362987, "link": "https://stackoverflow.com/questions/52362987/process-for-uploading-image-to-s3-with-aws-appsync-ios-image-uploading-with-a", "title": "Process for uploading image to s3 with AWS Appsync || iOS image uploading with Appsync", "body": "<p>I'm working on a new project that requires uploading attachments in the form of images. I'm using DynamoDB and AppSync API's to insert and retrieve data from database. As we are new to the AppSync and all the amazon services and database we are using for the app i'm little bit confused about the authentication process. Right now we are using API key for authentication and I have tried these steps to upload image to s3.</p>\n\n<p>1 Configue the <code>AWSServiceManager</code> with static configuration like :- </p>\n\n<pre><code>let staticCredit =  AWSStaticCredentialsProvider(accessKey: kAppSyncAccessKey, secretKey: kAppSyncSecretKey)\nlet AppSyncRegion: AWSRegionType = .USEast2\nlet config = AWSServiceConfiguration(region: AppSyncRegion, credentialsProvider: staticCredit)\nAWSServiceManager.default().defaultServiceConfiguration = config\n</code></pre>\n\n<p>2 Uploading picture with this method : -</p>\n\n<pre><code>func updatePictureToServer(url:URL, completion:@escaping (Bool)-&gt;Void){\n    let transferManager = AWSS3TransferManager.default()\n    let uploadingFileURL = url\n    let uploadRequest = AWSS3TransferManagerUploadRequest()\n    let userBucket = String(format: \"BUCKET\")\n    uploadRequest?.bucket = userBucket\n    let fileName = String(format: \"%@%@\", AppSettings.getUserId(),\".jpg\")\n    uploadRequest?.key = fileName\n    uploadRequest?.body = uploadingFileURL\n    transferManager.upload(uploadRequest!).continueWith(executor: AWSExecutor.mainThread(), block: { (task:AWSTask&lt;AnyObject&gt;) -&gt; Any? in\n        if let error = task.error as NSError? {\n            if error.domain == AWSS3TransferManagerErrorDomain, let code = AWSS3TransferManagerErrorType(rawValue: error.code) {\n                switch code {\n                case .cancelled, .paused:\n                    break\n                default:\n                    print(\"Error uploading: \\(String(describing: uploadRequest!.key)) Error: \\(error)\")\n                }\n            } else {\n                print(\"Error uploading: \\(String(describing: uploadRequest!.key)) Error: \\(error)\")\n            }\n            completion(false)\n            return nil\n        }\n\n        _ = task.result\n        completion(true)\n        print(\"Upload complete for: \\(String(describing: uploadRequest!.key))\")\n        return nil\n    })\n}\n</code></pre>\n\n<p>3 And finally i'm able to see the uploaded image on the S3 bucket</p>\n\n<p><a href=\"https://i.stack.imgur.com/VPfKq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VPfKq.png\" alt=\"enter image description here\"></a></p>\n\n<p>But i'm concerned about how to save the url of the image and how to retrieve the image because when i have to make the buket PUBLIC to retrieve the image and i don't think that's a good approach, plus is it necessary to have a Cognito user pool because we aren't using Cognito user pool yet in our app and not have much knowledge about that too and documents are not helping in practical situations because we are implementing ti for the first time so we need some little help.</p>\n\n<p>So two question : -</p>\n\n<ol>\n<li>Proper procedure to use for uploading and retrieving images for S3 and AppSync.</li>\n<li>Is it necessary to use Cognito user pool for image uploading and retrieving.</li>\n</ol>\n\n<p>Thanks</p>\n\n<blockquote>\n  <p>Note: Any suggestion or improvement or anything related to the AppSync, S3 or DynamoDB will be truly appreciated and language is not a barrier just looking for directions so swift or objective-c no problem.</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537164563, "post_id": 52361431, "comment_id": 91667472, "body": "Have you added UITableViewCellSelectionStyle as none?"}, {"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "reply_to_user": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1537165014, "post_id": 52361431, "comment_id": 91667664, "body": "@RajeshDharani Yes sort of. selection is ok but I want to see other solutions too."}], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "is_accepted": true, "score": 0, "last_activity_date": 1537164668, "creation_date": 1537164668, "answer_id": 52361677, "question_id": 52361431, "link": "https://stackoverflow.com/questions/52361431/how-to-set-check-marks-for-accessory-when-editing-tableview/52361677#52361677", "title": "How to set check marks for accessory when editing tableview?", "body": "<p>We should set <code>allowsMultipleSelectionDuringEditing</code>. it is false by default.</p>\n\n<pre><code>self.myTableView.allowsMultipleSelectionDuringEditing = true;\n</code></pre>\n"}], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 52361677, "answer_count": 1, "score": 0, "last_activity_date": 1537164891, "creation_date": 1537163382, "last_edit_date": 1537164345, "question_id": 52361431, "link": "https://stackoverflow.com/questions/52361431/how-to-set-check-marks-for-accessory-when-editing-tableview", "title": "How to set check marks for accessory when editing tableview?", "body": "<p>I want to implement multi selection. but when I set tableview mode to editing, just delete accessory is shown for each row</p>\n\n<h2>ViewDidLoad:</h2>\n\n<pre><code>self.navigationItem.rightBarButtonItem = self.editButtonItem;\nself.myTableView.allowsMultipleSelection = true;\n</code></pre>\n\n<h1>set editing</h1>\n\n<p>This is called when I tap on edit navigation item.</p>\n\n<pre><code>(void)setEditing:(BOOL)editing animated:(BOOL)animated\n\n{\n    [super setEditing:editing animated:animated];\n}\n</code></pre>\n\n<p>This makes tableview editable but just for delete. a delete button is shown in each row. but I want to show a selection mark button. like this:\n<a href=\"https://www.google.com/url?sa=i&amp;rct=j&amp;q=&amp;esrc=s&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiV-N7Lq8HdAhXSKVAKHWQrCoAQjRx6BAgBEAU&amp;url=http%3A%2F%2Fblog.johnregner.com%2Fpost%2F138030831903%2Ftable-view-simple-multi-selection&amp;psig=AOvVaw0Evw31HDpYeOnLLvpiFkng&amp;ust=1537249711191291\" rel=\"nofollow noreferrer\">multi select picture</a></p>\n"}, {"tags": ["ios", "objective-c", "sirikit", "ios12"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1537142098, "post_id": 52359230, "comment_id": 91663099, "body": "You seem to be looking for something very explicit when you don&#39;t need to.  You already have code that can read data from the plist.  Now you need to write some code that can implement Siri shortcuts. Then you just link the two together."}, {"owner": {"reputation": 387, "user_id": 3088956, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8wK8o.png?s=128&g=1", "display_name": "Branch", "link": "https://stackoverflow.com/users/3088956/branch"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1537238130, "post_id": 52359230, "comment_id": 91700749, "body": "@Paulw11 I suppose you&#39;re right, I guess I&#39;m just lost at the linking part, especially because I&#39;m more familiar with Obj-C and most of the tutorials are written in Swift. Any help from anyone would be appreciated."}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 3088956, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8wK8o.png?s=128&g=1", "display_name": "Branch", "link": "https://stackoverflow.com/users/3088956/branch"}, "edited": false, "score": 0, "creation_date": 1537376805, "post_id": 52404484, "comment_id": 91765588, "body": "Despite setting the language to Obj-C, the guide is still in Swift, as is the example download. As I said in my comment to PaulW11, I&#39;m still at a loss on how to accomplish custom intents that can provide Siri with information from a plist <i>in Objective C</i>"}], "tags": [], "owner": {"reputation": 3786, "user_id": 3698961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Kj2n.jpg?s=128&g=1", "display_name": "ahbou", "link": "https://stackoverflow.com/users/3698961/ahbou"}, "is_accepted": false, "score": 0, "last_activity_date": 1537355302, "creation_date": 1537355302, "answer_id": 52404484, "question_id": 52359230, "link": "https://stackoverflow.com/questions/52359230/ios-12-siri-shortcuts-with-plist/52404484#52404484", "title": "iOS 12 Siri Shortcuts with plist", "body": "<p>All you need to do is create custom Intents and donate them to Siri.</p>\n\n<p>The Soup Chef guide should help <a href=\"https://developer.apple.com/documentation/sirikit/soup_chef_accelerating_app_interactions_with_shortcuts?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/sirikit/soup_chef_accelerating_app_interactions_with_shortcuts?language=objc</a></p>\n"}, {"comments": [{"owner": {"reputation": 387, "user_id": 3088956, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8wK8o.png?s=128&g=1", "display_name": "Branch", "link": "https://stackoverflow.com/users/3088956/branch"}, "edited": false, "score": 0, "creation_date": 1537916573, "post_id": 52501351, "comment_id": 91955848, "body": "For finding an OBJ-C example, bounty for you. Thanks.I guess I have to reach out to Apple to figure out why those guides show in Swift even when OBJ C is specifically set as the language."}], "tags": [], "owner": {"reputation": 592, "user_id": 316612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f67dfb14a6e669e1fe12af6bb9c4dde?s=128&d=identicon&r=PG", "display_name": "Ahmet Aygun", "link": "https://stackoverflow.com/users/316612/ahmet-aygun"}, "is_accepted": false, "score": 3, "last_activity_date": 1537887921, "creation_date": 1537887921, "answer_id": 52501351, "question_id": 52359230, "link": "https://stackoverflow.com/questions/52359230/ios-12-siri-shortcuts-with-plist/52501351#52501351", "title": "iOS 12 Siri Shortcuts with plist", "body": "<p>It doesn't matter your app is in Objective-C, Swift examples should work, unless you need to use Swift specific API.</p>\n\n<p>Defining your custom intent definition with <code>category</code> and <code>quote</code> will help. Dispatching and handling actions related to your custom intent described in:</p>\n\n<ul>\n<li><a href=\"https://developer.apple.com/documentation/sirikit/dispatching_intents_to_handler_objects\" rel=\"nofollow noreferrer\">Dispatching Intents to Handler Objects</a></li>\n<li><a href=\"https://developer.apple.com/documentation/sirikit/resolving_and_handling_intents/handling_an_intent\" rel=\"nofollow noreferrer\">Handling an Intent</a></li>\n</ul>\n\n<p>Also there's an example <a href=\"https://github.com/ruzhuxiaogu/SiriExtensionDemo\" rel=\"nofollow noreferrer\">here</a>, in Objective-C.</p>\n"}], "owner": {"reputation": 387, "user_id": 3088956, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8wK8o.png?s=128&g=1", "display_name": "Branch", "link": "https://stackoverflow.com/users/3088956/branch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1537887921, "creation_date": 1537140531, "last_edit_date": 1537298449, "question_id": 52359230, "link": "https://stackoverflow.com/questions/52359230/ios-12-siri-shortcuts-with-plist", "title": "iOS 12 Siri Shortcuts with plist", "body": "<p>I have an app that is functionally similar to this tutorial: <a href=\"https://www.raywenderlich.com/2829-objectively-speaking-a-crash-course-in-objective-c-for-ios-6\" rel=\"noreferrer\">https://www.raywenderlich.com/2829-objectively-speaking-a-crash-course-in-objective-c-for-ios-6</a></p>\n\n<p>Basically, I have a plist filled with dictionaries, each containing two strings: a category and a quote. There are two different categories, each category has around 40 quotes.</p>\n\n<p>I'd like to integrate with iOS 12's new Siri Shortcuts, in a way that allows users to ask something along the lines of \"Hey Siri, what's a <em>category A</em> quote?\" Or \u201cHey Siri, what\u2019s a quote from <em>category B</em>?\u201d (I know the user would have to record their own message, but that's the general idea).</p>\n\n<p>I've looked online for tutorials, but none seem to cover plists with Siri. I should also note my app is in <strong>Objective-C</strong>.</p>\n\n<p>Thanks in advance for all your help. I'm happy to provide more information if it's needed.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode", "today-extension"], "answers": [{"comments": [{"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "edited": false, "score": 0, "creation_date": 1537141890, "post_id": 52359177, "comment_id": 91663069, "body": "The file doesn&#39;t exist in the project or show up on the side."}, {"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "edited": false, "score": 0, "creation_date": 1537142063, "post_id": 52359177, "comment_id": 91663095, "body": "I managed to find the solution from this. In your image the jdsjsjdjsds.xcdatamodeid file had to be checked to go to the extension. This then made the error go away. Mind changing your answer to mention that and I&#39;ll mark as accepted."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1537139935, "creation_date": 1537139935, "answer_id": 52359177, "question_id": 52359156, "link": "https://stackoverflow.com/questions/52359156/ios-access-core-data-auto-generated-classes-inside-today-extension/52359177#52359177", "title": "iOS Access Core Data Auto Generated Classes inside Today Extension", "body": "<p>You need to check the file named <code>ReadHistory+CoreDataProperties.m</code> as a target to the extension also</p>\n\n<p><a href=\"https://i.stack.imgur.com/WA5uS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WA5uS.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 52359177, "answer_count": 1, "score": 0, "last_activity_date": 1537139935, "creation_date": 1537139765, "question_id": 52359156, "link": "https://stackoverflow.com/questions/52359156/ios-access-core-data-auto-generated-classes-inside-today-extension", "title": "iOS Access Core Data Auto Generated Classes inside Today Extension", "body": "<p>I generated a Core Data model with a table called ReadHistory. I selected to have this table codeine using Category/Extension as I needed to extend a transient property. I want to use this class inside of a today extension but when I try to build I get the error that this file could not be found.</p>\n\n<pre><code>#import \"ReadHistory+CoreDataProperties.h\"\n</code></pre>\n\n<p>I do not see that file to be added via compile sources.</p>\n\n<p>How can I get the autogenerated classes to show in the today extension?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 13254, "user_id": 3418556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6hQS.jpg?s=128&g=1", "display_name": "Hardik Thakkar", "link": "https://stackoverflow.com/users/3418556/hardik-thakkar"}, "edited": false, "score": 0, "creation_date": 1537166462, "post_id": 52359044, "comment_id": 91668245, "body": "No need to set badge like this, in notification payload we have a key name <b>badge</b> in that backend guy send notification badge count and it is automatically handle by OS."}, {"owner": {"reputation": 1660, "user_id": 6239140, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUUiE.jpg?s=128&g=1", "display_name": "Saurabh Jain", "link": "https://stackoverflow.com/users/6239140/saurabh-jain"}, "edited": false, "score": 0, "creation_date": 1537168271, "post_id": 52359044, "comment_id": 91669060, "body": "have to give the permission for badge?"}], "answers": [{"tags": [], "owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "is_accepted": false, "score": 1, "last_activity_date": 1537169206, "last_edit_date": 1537169206, "creation_date": 1537168830, "answer_id": 52362628, "question_id": 52359044, "link": "https://stackoverflow.com/questions/52359044/objective-c-badge-count-on-app-icon-when-notification-received-in-background/52362628#52362628", "title": "Objective-c badge count on app icon when notification received in background?", "body": "<p>This is the correct behaviour for a remote notification.</p>\n\n<p>Your app <em>won't</em> receive the <code>didReceiveRemoteNotification</code> call when your app is in the background, <strong>unless the user taps the notification alert</strong>.</p>\n\n<p>Here's how it works.</p>\n\n<p>1) When your app is in the background (or suspended) and a remote notification is received, an iOS system alert is shown.</p>\n\n<p>2) If the user opens your app by tapping the notification alert, then your app will move the foreground and <code>didReceiveRemoteNotification</code> will be called.</p>\n\n<p>3) If the user ignores the notification, or dismisses it, then your app remains in the background, and <code>didReceiveRemoteNotification</code> <em>will not be called</em>.</p>\n\n<p>That said, there is no need to set the application badge in code. Your push notification payload, can include a key which iOS uses to set the application badge when the system receives your notification.</p>\n\n<p>You simple include the key <code>badge</code> in your notification's payload:</p>\n\n<pre><code>{\n    \"aps\" : {\n        \"alert\" : {\n            \"title\" : \"Notification title\",\n            \"body\" : \"Notification body\"\n        },\n        \"badge\" : 5\n    }\n}\n</code></pre>\n\n<p>I'd suggest you take a look at Apple's documentation for creating a remote notification payload, which explains all the options:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/generating_a_remote_notification?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/generating_a_remote_notification?language=objc</a></p>\n\n<p>That all being said, it <em>is</em> possible to make sure iOS calls <code>didReceiveRemoteNotification</code> when your app is in the background.</p>\n\n<p>To achieve this, you need to set the <code>content-available</code> parameter in your payload and send a \"silent\" notification. A silent notification means that the user will never see an alert, but your app will be silently brought to the foreground for a finite amount of time, and <code>didReceiveRemoteNotification</code> will be called.</p>\n\n<p>It's not an appropriate choice for your scenario, though. It's intended for updating an app's content, not just updating the badge.</p>\n\n<p>However, if you're interested in silent notifications, you can see the documentation here:</p>\n\n<p><a href=\"https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/pushing_updates_to_your_app_silently?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server/pushing_updates_to_your_app_silently?language=objc</a></p>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 5897026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVw8a.jpg?s=128&g=1", "display_name": "buckleyJohnson", "link": "https://stackoverflow.com/users/5897026/buckleyjohnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1555189539, "last_edit_date": 1555189539, "creation_date": 1555189510, "answer_id": 55669883, "question_id": 52359044, "link": "https://stackoverflow.com/questions/52359044/objective-c-badge-count-on-app-icon-when-notification-received-in-background/55669883#55669883", "title": "Objective-c badge count on app icon when notification received in background?", "body": "<pre><code>[UIApplication sharedApplication].applicationIconBadgeNumber = 3;\n</code></pre>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1247, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555189539, "creation_date": 1537138602, "last_edit_date": 1537166496, "question_id": 52359044, "link": "https://stackoverflow.com/questions/52359044/objective-c-badge-count-on-app-icon-when-notification-received-in-background", "title": "Objective-c badge count on app icon when notification received in background?", "body": "<p>I'm using the below code to set a badge on my app icon when a notification is received while the app is running in the background. That said, my code/log is never triggered when a notification is received while the app is minimized (see log: \"NSLog APP WAS IN BACKGROUND\") and I'm not sure why? </p>\n\n<pre><code>- (void)application:(UIApplication *)application didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler {\n\n    [[NSNotificationCenter defaultCenter] postNotificationName:@\"pushNotification\" object:nil userInfo:userInfo];\n\n    NSLog(@\"application Active - notication has arrived while app was opened\");\n\n    completionHandler(UIBackgroundFetchResultNewData);\n\n    NSLog(@\"Notification received when open\");\n\n    if(application.applicationState == UIApplicationStateInactive) {\n\n\n        NSLog(@\"Inactive - the user has tapped in the notification when app was closed or in background\");\n\n        completionHandler(UIBackgroundFetchResultNewData);\n\n        self.window = [[UIWindow alloc] initWithFrame:UIScreen.mainScreen.bounds];\n\n\n       UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Main\" bundle:nil];\n\n       UITabBarController *viewController = [storyboard instantiateViewControllerWithIdentifier:@\"tabBarController\"]; // determine the initial view controller here and instantiate it with [storyboard instantiateViewControllerWithIdentifier:&lt;storyboard id&gt;];\n      [viewController setSelectedIndex:0];\n\n        ;\n\n        self.window.rootViewController = viewController;\n       [self.window makeKeyAndVisible];\n\n            [[NSNotificationCenter defaultCenter] postNotificationName:@\"myNotificationReceived\" object:nil];\n\n\n    }\n\n    if (application.applicationState == UIApplicationStateBackground) {\n\n        NSLog(@\"APP WAS IN BACKGROUND\");\n\n        static int i=1;\n        [UIApplication sharedApplication].applicationIconBadgeNumber = i++;\n\n\n    }\n\n}\n\n- (void)applicationDidEnterBackground:(UIApplication *)application{\n\n    static int i=0;\n    [UIApplication sharedApplication].applicationIconBadgeNumber = i;\n    NSLog(@\"Triggered!\");\n     }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "keychain"], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 4615193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08723694801c3dcca25bb519a4fa40b3?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Sun", "link": "https://stackoverflow.com/users/4615193/daniel-sun"}, "is_accepted": true, "score": 0, "last_activity_date": 1537115763, "creation_date": 1537115763, "answer_id": 52356209, "question_id": 52355579, "link": "https://stackoverflow.com/questions/52355579/ios-are-there-any-pitfalls-using-keychain-to-save-data/52356209#52356209", "title": "iOS: Are there any pitfalls using keychain to save data", "body": "<p>The Apple keychain uses 256 bit AES encryption to secure data. It is ostensibly the mechanism that Apple uses internally to store private data such as your passwords as well. Other than your comment about the data being persisted after you delete your app (which is a feature not a bug), there\u2019s not going to a \u201cgotcha\u201d when using the keychain API. Just realize that the keychain is just a fancy encrypted database, and follow best practices for what you should store, and when you access / write to it, like any other DB.</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 52356209, "answer_count": 1, "score": 0, "last_activity_date": 1537115763, "creation_date": 1537111452, "question_id": 52355579, "link": "https://stackoverflow.com/questions/52355579/ios-are-there-any-pitfalls-using-keychain-to-save-data", "title": "iOS: Are there any pitfalls using keychain to save data", "body": "<p>I am saving an important key in the iOS <code>keychain</code>. Everything seems to be working okay right now. There has only been only one issue. The keychain data is still alive after you delete the App. Which I was able to resolve by checking if the App has just been installed and deleting the data in the keychain. However, I want to be sure if there isn't any more issues or pitfalls I should be looking for.</p>\n"}, {"tags": ["objective-c", "boolean", "nsuserdefaults"], "comments": [{"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 1, "creation_date": 1537117007, "post_id": 52355376, "comment_id": 91657289, "body": "User defaults has gotten a little flakey, but mostly because of complications added to make updates to the defaults data atomic and thread safe. I&#39;ve heard of a few developers having issues when running under the debugger but then those issues disappear when they run the app normally, so check that. Also, if you&#39;re constantly killing your app its defaults might become &quot;locked&quot; and the next instance won&#39;t be able to read them\u2014try killing the <code>cfprefsd</code> agent(s) and/or restarting."}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 2, "creation_date": 1537117017, "post_id": 52355376, "comment_id": 91657294, "body": "Finally, if you store values in the instant that your app is quiting, consider sending a <code>synchronize</code> message. But this is the only time that&#39;s appropriate; calling <code>synchronize</code> is not voodoo that you call after every set."}, {"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 2, "creation_date": 1537117024, "post_id": 52355376, "comment_id": 91657295, "body": "But overall, this is exactly what <code>NSUserDefaults</code> is for and you&#39;re using it correctly."}], "answers": [{"comments": [{"owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 0, "creation_date": 1539267632, "post_id": 52361976, "comment_id": 92447825, "body": "Don&#39;t use <code>-[NSUserDefaults synchronize]</code>. From <a href=\"https://developer.apple.com/documentation/foundation/nsuserdefaults/1414005-synchronize?language=objc\" rel=\"nofollow noreferrer\">Apple&#39;s documentation</a> <i>&quot;this method is unnecessary and shouldn&#39;t be used.&quot;</i>"}], "tags": [], "owner": {"reputation": 9, "user_id": 9923022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZ3Kz.png?s=128&g=1", "display_name": "S.Leung", "link": "https://stackoverflow.com/users/9923022/s-leung"}, "is_accepted": false, "score": 0, "last_activity_date": 1537168185, "last_edit_date": 1537168185, "creation_date": 1537166154, "answer_id": 52361976, "question_id": 52355376, "link": "https://stackoverflow.com/questions/52355376/alternative-to-nsuserdefaults-to-save-bool/52361976#52361976", "title": "Alternative to NSUserDefaults to Save Bool?", "body": "<p>I think when you changing the data\uff0c<code>NSUserDefaults</code> sending a synchronize message\uff0cbut you exit the program and the data isn't saved.</p>\n\n<p>So you need to call <code>synchronize</code> manually to save the data.</p>\n"}], "owner": {"reputation": 2741, "user_id": 1988667, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/0QYaj.jpg?s=128&g=1", "display_name": "Reanimation", "link": "https://stackoverflow.com/users/1988667/reanimation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537168185, "creation_date": 1537109905, "question_id": 52355376, "link": "https://stackoverflow.com/questions/52355376/alternative-to-nsuserdefaults-to-save-bool", "title": "Alternative to NSUserDefaults to Save Bool?", "body": "<p>Currently I am using <code>NSUserDefaults</code> to save and load a bool value like this:</p>\n\n<pre><code>-(void)saveSettingOn{\n    [[NSUserDefaults standardUserDefaults] setBool:YES forKey:hapticKey];\n}\n\n-(void)saveSettingOff{\n    [[NSUserDefaults standardUserDefaults] setBool:NO forKey:hapticKey];\n}\n\n-(void)loadSetting{\n    isHapticOn = [[NSUserDefaults standardUserDefaults] boolForKey:hapticKey];\n}\n</code></pre>\n\n<p>At launch I load the setting in the <code>AppDelegate</code> like so:</p>\n\n<pre><code>-(BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    [self loadSetting];\n    return YES;\n}\n</code></pre>\n\n<p>Sometimes when I launch the app, the <code>hapticKey</code> has a value of <code>nil</code> or <code>NO</code>, even though it should be <code>YES</code> (even after a force quit).</p>\n\n<p>I've seen on Stackoverflow that others experience similar <a href=\"https://stackoverflow.com/questions/24695622/why-nsuserdefaults-return-nil\">here</a> and <a href=\"https://stackoverflow.com/questions/41756036/nsuserdefaults-objectforkey-sometimes-nil\">here</a>.</p>\n\n<p>It's difficult to reproduce because it appears to be random, however it does appear to occur more often when Application hasn't been launched in a while, although that may be coincident.</p>\n\n<p>What alternatives are there for store a <code>BOOL</code> value for such a setting?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 1, "creation_date": 1537101283, "post_id": 52354155, "comment_id": 91652950, "body": "What do you expect from <code>NSLog</code> in this case? Did it do anything wrong?"}, {"owner": {"reputation": 740, "user_id": 4627080, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/es6rF.png?s=128&g=1", "display_name": "hoboBob", "link": "https://stackoverflow.com/users/4627080/hobobob"}, "reply_to_user": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 0, "creation_date": 1537102032, "post_id": 52354155, "comment_id": 91653144, "body": "I was hopping to get a log output of the NSData objects buffer, to confirm the data in the buffer is correct. Similar to when printing the array as an object but I expected the data to just be in hex"}, {"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1537102833, "post_id": 52354155, "comment_id": 91653372, "body": "What you are doing is complete nonsense. You can&#39;t access an NSArray as a byte array and expect anything other than complete garbage."}], "answers": [{"tags": [], "owner": {"reputation": 4018, "user_id": 558502, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2fd6831f047d384983f66cd6d559046c?s=128&d=identicon&r=PG", "display_name": "9dan", "link": "https://stackoverflow.com/users/558502/9dan"}, "is_accepted": true, "score": 1, "last_activity_date": 1537102179, "creation_date": 1537102179, "answer_id": 52354305, "question_id": 52354155, "link": "https://stackoverflow.com/questions/52354155/nsnumber-and-nsdata/52354305#52354305", "title": "NSNumber and NSData", "body": "<p><code>NSMutableArray</code> is not C array, it is an object reference. You are trying to print internal byte layout of <code>NSObject</code>.</p>\n\n<p>For this,</p>\n\n<p>1) You need object serialization mechanism - e.g. <code>NSKeyedArchiver</code></p>\n\n<p>2) You need byte to character conversion => <a href=\"https://stackoverflow.com/questions/3711042/how-to-display-hexadecimal-bytes-using-nslog\">How to display hexadecimal bytes using NSLog</a></p>\n"}], "owner": {"reputation": 740, "user_id": 4627080, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/es6rF.png?s=128&g=1", "display_name": "hoboBob", "link": "https://stackoverflow.com/users/4627080/hobobob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 52354305, "answer_count": 1, "score": 0, "last_activity_date": 1537102179, "creation_date": 1537101027, "question_id": 52354155, "link": "https://stackoverflow.com/questions/52354155/nsnumber-and-nsdata", "title": "NSNumber and NSData", "body": "<p>I'm trying to learn the basics of Obj C from \"Learning Objective C 2.0 by Robert Clair\"</p>\n\n<p>I have an array of NSNumber objects that I write the Array into an NSData objects buffer. \nWhat I'd like to do is validate the NSNumber objects were written correctly using something like NSLog but I just get garbage when I attempt this.</p>\n\n<p>Here is my Code :</p>\n\n<pre><code>    int howManyBytes3 = 100;\n    NSMutableArray *myArray3 = [NSMutableArray array]; //Creates an empty NSArray\n    for (NSInteger i=0; i&lt;50; i++)\n    {\n        [myArray3 addObject:[NSNumber numberWithInteger:i]];\n    }\n\n    NSLog(@\"My Array 3 contains : %@\", myArray3);\n\n\n    NSMutableData  *myData3 = [NSMutableData dataWithBytesNoCopy:myArray3 length:howManyBytes3 freeWhenDone:NO];\n    NSLog(@\"myData3 contains : %@\", myData3);\n</code></pre>\n\n<p>and this is the output I get on console:</p>\n\n<blockquote>\n<pre><code>2018-09-16 13:24:39.396705+0100     Chapter9[12351:1341392] myData3 contains :   &lt;917f30a8 ffff1d00 00000000 00000000 30186200 \n</code></pre>\n  \n  <p>01000000 00000000 44000000 33000000 32000000 00000000 00000000\n  00000000 00000000 01050610 00000010 00000000 00000000 00000000\n  00000000 00000000 00000000 00000000 00000000 6ad3364c> Program ended\n  with exit code: 0</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["objective-c", "xcode", "macos", "cocoa", "quicklook"], "comments": [{"owner": {"reputation": 21298, "user_id": 309425, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/75a67cd9a3d7367a6e594fcbe5e41400?s=128&d=identicon&r=PG", "display_name": "JWWalker", "link": "https://stackoverflow.com/users/309425/jwwalker"}, "edited": false, "score": 0, "creation_date": 1537379425, "post_id": 52353399, "comment_id": 91766814, "body": "Can your plugin implement the <code>CancelPreviewGeneration</code> callback, or poll <code>QLPreviewRequestIsCancelled</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2095, "user_id": 1058399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b8cfdfaa43c49bb6d3400f78affe6502?s=128&d=identicon&r=PG", "display_name": "Peter W.", "link": "https://stackoverflow.com/users/1058399/peter-w"}, "edited": false, "score": 0, "creation_date": 1537174074, "post_id": 52358142, "comment_id": 91671957, "body": "That&#39;s not useful, as I&#39;m writing a Quick Look plugin."}], "tags": [], "owner": {"reputation": 195, "user_id": 2807814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/921cd0419dc3460a13b23052c3885688?s=128&d=identicon&r=PG&f=1", "display_name": "Dogan Altinbas", "link": "https://stackoverflow.com/users/2807814/dogan-altinbas"}, "is_accepted": false, "score": 0, "last_activity_date": 1537129843, "creation_date": 1537129843, "answer_id": 52358142, "question_id": 52353399, "link": "https://stackoverflow.com/questions/52353399/how-do-i-detect-when-a-quick-look-panel-is-dismissed/52358142#52358142", "title": "How do I detect when a Quick Look panel is dismissed?", "body": "<p>Have you tried to use following delegate methods:</p>\n\n<p><strong>According to Apple Documentation:</strong> </p>\n\n<blockquote>\n  <p>func previewControllerWillDismiss(QLPreviewController)\n  Called before the preview controller is closed.\n  func previewControllerDidDismiss(QLPreviewController)\n  Called after the preview controller is closed.</p>\n</blockquote>\n"}], "owner": {"reputation": 2095, "user_id": 1058399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b8cfdfaa43c49bb6d3400f78affe6502?s=128&d=identicon&r=PG", "display_name": "Peter W.", "link": "https://stackoverflow.com/users/1058399/peter-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1537129843, "creation_date": 1537095479, "question_id": 52353399, "link": "https://stackoverflow.com/questions/52353399/how-do-i-detect-when-a-quick-look-panel-is-dismissed", "title": "How do I detect when a Quick Look panel is dismissed?", "body": "<p>I've written a Quick Look plugin that attempts to play music like this:</p>\n\n<pre><code>OSStatus GeneratePreviewForURL(void *thisInterface, QLPreviewRequestRef preview, CFURLRef url, CFStringRef contentTypeUTI, CFDictionaryRef options)\n{\n    NSURL *fileURL = (__bridge NSURL*)url;\n\n    AudioPlayer *player = // load player with fileURL\n\n    // Create a semaphore\n    sema = dispatch_semaphore_create(0);\n    dispatch_semaphore_t sema = dispatch_semaphore_create(0);\n\n    // Start playback and signal the semaphore once finished\n    [player play:^{\n        dispatch_semaphore_signal(sema);\n    }];\n\n    // Wait here until the player completion block signals the semaphore to stop waiting\n    dispatch_semaphore_wait(sema, DISPATCH_TIME_FOREVER);\n    NSLog(@\"%@\", @\"done!\");\n\n    return kQLReturnNoError;\n}\n</code></pre>\n\n<p>For various reasons, it's not practical for me to transcode these audio files into a format that macOS knows, or else I could just hand the OS an MP3 file and get the system's plugin to play it for me. So instead I'm using a dirty hack with semaphores to halt execution to keep my player object around, or else it'd abruptly stop immediately after starting playback.</p>\n\n<p>The problem with that is that the file will just continue playing after the Quick Look panel stops previewing it due to the quicklookd process still running.</p>\n\n<p>Is there a way to stop playback the way the system plugins do when they're dismissed?</p>\n"}, {"tags": ["ios", "objective-c", "push-notification"], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537048978, "creation_date": 1537048978, "question_id": 52349258, "link": "https://stackoverflow.com/questions/52349258/ios-unable-to-register-for-notification-after-calling-unregister-notification", "title": "iOS: Unable to register for notification after calling unregister notification", "body": "<p>I am calling the following method to unregister push notifications.</p>\n\n<pre><code> [[UIApplication sharedApplication] unregisterForRemoteNotifications];\n</code></pre>\n\n<p>However, if I try to register for remote notifications again with the following code, it doesn't seem to work.</p>\n\n<pre><code>[[UIApplication sharedApplication] registerForRemoteNotifications];\n</code></pre>\n\n<p>According to some StackOverflow posts, some said I shouldn't unregister push notifications this way because it isn't reliable. I thought I would be able to register for notification again, but it seems that I can't. Is this normal?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "core-data"], "answers": [{"tags": [], "owner": {"reputation": 4369, "user_id": 1159240, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/6XCc0.jpg?s=128&g=1", "display_name": "Jerry Krinock", "link": "https://stackoverflow.com/users/1159240/jerry-krinock"}, "is_accepted": false, "score": 2, "last_activity_date": 1537053211, "creation_date": 1537053211, "answer_id": 52349630, "question_id": 52349194, "link": "https://stackoverflow.com/questions/52349194/how-to-set-configuration-of-nsmanagedobjectmodel-while-creating-entites-programa/52349630#52349630", "title": "How to set configuration of NSManagedObjectModel while creating Entites programatically.", "body": "<p>I think that this crash is explained in <a href=\"https://developer.apple.com/documentation/coredata/nsmanagedobjectmodel\" rel=\"nofollow noreferrer\">Apple documentation for NSManagedObjectModel</a>.  Read the paragraph <em>Editing Models Programmatically</em>.</p>\n\n<p>Your statement <code>let managedObjectModel</code> is creating a persistent container (Core Data Stack), including a managed object model, which is probably empty (has no entities), and I'm guessing that creating the persistent container is <em>using</em> the model in such a way that, per that documentation, it should no longer be edited.  Try to create your managed object model <em>first</em>, complete with all entities, and <em>then</em> pass that model to <code>NSPersistentContainer init(name:managedObjectModel:)</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7631123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537053211, "creation_date": 1537048348, "question_id": 52349194, "link": "https://stackoverflow.com/questions/52349194/how-to-set-configuration-of-nsmanagedobjectmodel-while-creating-entites-programa", "title": "How to set configuration of NSManagedObjectModel while creating Entites programatically.", "body": "<p>I'm creating entities in core data's managed object model programmatically using SWIFT.</p>\n\n<p>When I create an array of NSEntityDescription and pass it to </p>\n\n<p>let managedObjectModel : NSManagedObjectModel = NSPersistentContainer(name: \"Nequore\").managedObjectModel</p>\n\n<p>managedObjectModel.setEntities(arrEntities, forConfigurationName:\"Default\")</p>\n\n<p>I'm facing crash related to model's configuration which states that </p>\n\n<p>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Entities for a configuration must already be in the model.'</p>\n\n<p>Thank you for your time and consideration. </p>\n"}, {"tags": ["objective-c", "automatic-ref-counting"], "answers": [{"comments": [{"owner": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "edited": false, "score": 0, "creation_date": 1537046382, "post_id": 52348570, "comment_id": 91643220, "body": "Thanks For Your reply. Indead changing name of the factory method to newObject helped in this situation. I wonder why in all courses about Objective-C nobody will tell You that. I read a lot of documents about best practices in designing factory methods but I didn&#39;t find info about this <code>new</code> prefix and how it is important in memory management under ARC. So if method is named with <code>new</code> prefix then compiler will assume that my factory method is return +1 reference. I wonder why this is not covered in Google Objective-C Style guide?"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "edited": false, "score": 0, "creation_date": 1537049528, "post_id": 52348570, "comment_id": 91643807, "body": "Well, a factory method that doesn&#39;t start with &quot;new&quot; is perfectly fine, safe, and normal (e.g. <code>+[NSFileHandle fileHandleForReadingFromURL:error:]</code>). What ARC was doing was correct. There was no real problem, only a difference from your expectations. The naming conventions are described <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "edited": false, "score": 0, "creation_date": 1537049795, "post_id": 52348570, "comment_id": 91643873, "body": "@MarcinKapusta <a href=\"http://www.apeth.com/iOSBook/ch12.html#_what_arc_is_and_what_it_does\" rel=\"nofollow noreferrer\">apeth.com/iOSBook/ch12.html#_what_arc_is_and_what_it_does</a> &quot;When your code receives an object as the returned value of a method call, ARC looks at the opening word (or words) of the camelCased method name... If the opening word of the name of that method is <code>alloc</code>, <code>init</code>, <code>new</code>, <code>copy</code>, or <code>mutableCopy</code>, ARC assumes that the object it returns comes with an incremented retain count that will need to be balanced with a corresponding release.&quot;"}, {"owner": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "edited": false, "score": 0, "creation_date": 1537050002, "post_id": 52348570, "comment_id": 91643912, "body": "hmm. I&#39;m expecting that a factory method will return an object that after assigning it to one variable (strong reference by default) will have retain count == 1. I discovered that You can add attribute that will help ARC to treat this method as with <code>new</code> prefix: <code>+ (instancetype)create __attribute__((objc_method_family(new)));</code>. This can be putted in <code>@interface</code> or <code>@implementation</code>"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "edited": false, "score": 0, "creation_date": 1537056211, "post_id": 52348570, "comment_id": 91644885, "body": "@MarcinKapusta - You <i>can</i> do that, but it\u2019s a really bad idea. Objective-C and ARC have well defined naming conventions that dictate how memory management is performed, notably for the purposes of interacting with manual memory management code that failed to conform to Apple\u2019s four memory management rules. The above is not a good use case for this."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1537056441, "post_id": 52348570, "comment_id": 91644928, "body": "@matt - Above, you talk about method names that start with \u201c<code>alloc</code>, <code>init</code>, <code>new</code>, <code>copy</code> or <code>mutableCopy</code>\u201d ... The <code>init</code> doesn\u2019t belong in that list. It\u2019s just method names that start with <code>alloc</code>, <code>new</code>, <code>copy</code> or <code>mutableCopy</code>."}, {"owner": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "edited": false, "score": 0, "creation_date": 1537056502, "post_id": 52348570, "comment_id": 91644936, "body": "Thanks Rob for the info. I just understand it :) The created object with the help of factory methods like <code>create</code> or <code>stringWith...</code> are set for autoreleasing. I put my code in application loop and it seems that they are get deallocated at the end of run loop. I suppose run loop has it&#39;s own <code>@autoreleasepool</code> or something similar that <code>release</code> any such objects created this way. Thanks everybody for let me understand this."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1537056738, "post_id": 52348570, "comment_id": 91644976, "body": "Yep, there is an runloop that is drained when you yield back to the run loop."}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1537058106, "post_id": 52348570, "comment_id": 91645181, "body": "@Rob <code>-init</code> is kinda weird.   It sort of does a &quot;retain preservation dance&quot;.  That is, if the method returns a <i>different</i> instance than the one that was called, the different instance does need a +1 retain count.   So, it sort of does belong on the list <i>but</i> with the additional caveat that <code>self</code> in the context of that method is +1 on entry."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1537060096, "post_id": 52348570, "comment_id": 91645505, "body": "I&#39;ve seen <code>-init</code> referred to as a -1/+1 method. I forget where. Maybe even Apple&#39;s docs. The -1 balances the +1 of <code>+alloc</code>, the +1 is for the object it returns. If they&#39;re the same object, it&#39;s a wash, but since it can be (and often is) a different object, the distinction matters. There&#39;s a reason I elided all of this by discussing the <code>alloc</code>/<code>init</code> pair in my answer. ;)"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1537118542, "post_id": 52348570, "comment_id": 91657708, "body": "@KenThomases That is what we called it on the runtime team and we worked closely with the documentation team (if you are designing API, involve the docs folks as early as possible;  if you can&#39;t explain it to them and they can&#39;t explain it back?  Sure sign that your API is poorly designed)."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 2, "last_activity_date": 1537049702, "last_edit_date": 1537049702, "creation_date": 1537043024, "answer_id": 52348570, "question_id": 52348179, "link": "https://stackoverflow.com/questions/52348179/not-expected-strange-behaviour-of-arc-during-deallocating-instances/52348570#52348570", "title": "Not expected strange behaviour of ARC during deallocating instances", "body": "<p>It's because ARC still respects the Cocoa memory-management naming conventions.</p>\n\n<p>Under those conventions, a method named <code>+create</code> returns a +0 reference. So, in the implementation of the method, ARC has to balance the +1 reference of the <code>alloc</code>/<code>init</code> pair by autoreleasing the reference.</p>\n\n<p>Then, in <code>main()</code>, ARC has to assume it has received a +0 reference from the call to <code>+create</code>. If it needed the reference to survive the current scope, it would retain it, but it doesn't so it doesn't. The second <code>GAObject</code> instance would be deallocated when the autorelease pool is drained, but that will never happen because <code>UIApplicationMain()</code> never returns. If you use two separate autorelease pools, one for the code dealing with <code>GAObject</code>s and another for the call to <code>UIApplicationMain()</code>, I expect you'll get the result you expect.</p>\n\n<p>If ARC did need the reference to survive, it would retain at the assignment to the strong variable and release when that variable is assigned a new value (including <code>nil</code>) or goes out of scope. ARC has a run-time optimization that an autorelease-return in a callee and a retain of the returned value in the caller cancel each other out, such that the object is never put in the autorelease pool. If this were happening, you would get your expected results.</p>\n\n<p>In fact, my expectation is that the compiler initially would emit that retain and release even in your case, but a subsequent pass removes redundant retains and releases. Your example has the release immediately follow the retain, which makes it even more obvious to the compiler that the pair are redundant. Because the retain gets removed, that autorelease optimization doesn't kick in, and a reference to your object really does get put into the autorelease pool.</p>\n\n<p>If your method were named <code>+newGAObject</code>, then the naming conventions would mean it returns a +1 reference and this all changes. (Of course, as it stands, your <code>+create</code> method is just doing the same thing as the built-in <code>+new</code> method, except for the autorelease that ARC has to add. So, you could just change the calling code to use <code>+new</code> and that would also sidestep this issue.)</p>\n\n<p>I don't know why the line with <code>weakObject</code> matters. But, since the behavior you're seeing depends on certain optimizations, anything that could tweak the optimizations can change the outcome.</p>\n"}], "owner": {"reputation": 4010, "user_id": 752775, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VWBp0.jpg?s=128&g=1", "display_name": "Marcin Kapusta", "link": "https://stackoverflow.com/users/752775/marcin-kapusta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52348570, "answer_count": 1, "score": 0, "last_activity_date": 1537049702, "creation_date": 1537040056, "question_id": 52348179, "link": "https://stackoverflow.com/questions/52348179/not-expected-strange-behaviour-of-arc-during-deallocating-instances", "title": "Not expected strange behaviour of ARC during deallocating instances", "body": "<p>I'm refreshing my knowledge in Objective-C world and now I'm testing some ARC with <code>__weak</code> local variables.</p>\n\n<p>I have very simple code with such files <code>GAObject.h</code></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n@interface GAObject : NSObject\n+ (instancetype)create;\n@end\n</code></pre>\n\n<p>Implementation of this interface <code>GAObject.h</code></p>\n\n<pre><code>#import \"GAObject.h\"\n@implementation GAObject\n+ (instancetype)create {\n    return [[GAObject alloc] init];\n}\n- (void)dealloc {\n    NSLog(@\"GAObject is being deallocated\");\n}\n@end\n</code></pre>\n\n<p>So there is simple factory method <code>create</code> and I override <code>dealloc</code> method to watch if objects was deallocated when I expecting this. Now the funny part <code>main.m</code>:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"AppDelegate.h\"\n#import \"Learning/GAObject.h\"\n\nint main(int argc, char * argv[]) {\n    @autoreleasepool {\n        NSLog(@\"1\");\n        NSObject *o1 = [[GAObject alloc] init];\n        NSObject * __weak weakObject = o1; // Line 1\n        o1 = nil; // o1 should be deallocated because there is no strong references pointing to o1.\n        NSLog(@\"2\");\n        NSObject *o2 = [GAObject create]; // Line 2\n        o2 = nil; // o2 should be deallocated here too but it is not deallocated. Why?\n        NSLog(@\"3\");\n\n        return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));\n    }\n}\n</code></pre>\n\n<p>In the output I see this:</p>\n\n<pre><code>1\nGAObject is being deallocated\n2\n3\n</code></pre>\n\n<p>But My expecting results should be:</p>\n\n<pre><code>1\nGAObject is being deallocated\n2\nGAObject is being deallocated\n3\n</code></pre>\n\n<p>If I create <code>o2</code> using factory method then I have this behaviour. If I create <code>o2</code> like this: <code>[[GAObject alloc] init]</code> then I get expected output. Also I noticed that when I remove line with <code>weakObject</code> I also get expected results. Can somebody explain it?</p>\n"}, {"tags": ["objective-c", "variables", "static", "global-variables"], "comments": [{"owner": {"reputation": 954, "user_id": 4788501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203945492863253/picture?type=large", "display_name": "Josef Korbel", "link": "https://stackoverflow.com/users/4788501/josef-korbel"}, "edited": false, "score": 1, "creation_date": 1537039329, "post_id": 52347876, "comment_id": 91641551, "body": "You want to keep reference to B just because of one variable?"}, {"owner": {"reputation": 588, "user_id": 655398, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c463a0446bc15fc567fa0508140ccca?s=128&d=identicon&r=PG", "display_name": "Kourosh", "link": "https://stackoverflow.com/users/655398/kourosh"}, "reply_to_user": {"reputation": 954, "user_id": 4788501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203945492863253/picture?type=large", "display_name": "Josef Korbel", "link": "https://stackoverflow.com/users/4788501/josef-korbel"}, "edited": false, "score": 0, "creation_date": 1537042373, "post_id": 52347876, "comment_id": 91642351, "body": "I don&#39;t know any better way of to keep a value persistently. What is the best way to go about it?"}, {"owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "edited": false, "score": 1, "creation_date": 1537094707, "post_id": 52347876, "comment_id": 91651396, "body": "There are quite a few different ways that you could solve this. But the choice depends on specifically what the variable is used for. Can you explain further what the variable represents, and why both controllers depend on it? Also, if you want someone to help you debug your static variable solution, then please post the code."}], "owner": {"reputation": 588, "user_id": 655398, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c463a0446bc15fc567fa0508140ccca?s=128&d=identicon&r=PG", "display_name": "Kourosh", "link": "https://stackoverflow.com/users/655398/kourosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537037641, "creation_date": 1537037641, "question_id": 52347876, "link": "https://stackoverflow.com/questions/52347876/objective-c-ios-how-to-retain-a-variables-value-even-when-the-view-has-change", "title": "Objective C (iOS): How to retain a variables value even when the view has changed?", "body": "<p>I have 2 ViewControllers (A,B). A presents B and there will be a variable in B which I wish to retain its value even when I dismissed B and went back to A.</p>\n\n<p>I have tried a static variable defined in B and also a getter method. But the returned value is always the same, when I access it from A.</p>\n\n<p>What is the best way to define this variable?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 3658, "user_id": 1200262, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TNVDq.jpg?s=128&g=1", "display_name": "Kerberos", "link": "https://stackoverflow.com/users/1200262/kerberos"}, "edited": false, "score": 0, "creation_date": 1537033497, "post_id": 52347275, "comment_id": 91640005, "body": "Have you tried any solution to your problem? Can you share your code with us?"}], "answers": [{"tags": [], "owner": {"reputation": 776, "user_id": 8644485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860ad580e0656e82a7fe46232104bf8c?s=128&d=identicon&r=PG&f=1", "display_name": "lobstah", "link": "https://stackoverflow.com/users/8644485/lobstah"}, "is_accepted": false, "score": 1, "last_activity_date": 1537036024, "creation_date": 1537036024, "answer_id": 52347656, "question_id": 52347275, "link": "https://stackoverflow.com/questions/52347275/placing-a-button-at-the-bottom-of-a-collectionview/52347656#52347656", "title": "Placing a button at the bottom of a collectionView", "body": "<p>UICollectionView is a subclass of UIScrollView. So you need to:</p>\n\n<ol>\n<li><p>Add your button as subview of your UICollectionView</p></li>\n<li><p>Set it's frame in the way you prefer (if you count your frames in code - just set it manually) based on <code>.contentSize</code> of you UICollectionView.</p></li>\n<li><p>Set <code>.contentInset.bottom</code> property based on the height of your button/footer</p></li>\n<li><p>You need to handle the case when <code>.contentSize</code> changes. If your button should be visible all the time, maybe better to set your button frame in <code>viewDidLayoutSubviews()</code> function</p></li>\n<li><p>If you want to show/hide it in some cases, you can animate it using <code>UIView.animate(withDuration:)</code> by setting <code>.contentInset.bottom</code> in the block</p></li>\n</ol>\n"}], "owner": {"reputation": 97, "user_id": 9381256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alex", "link": "https://stackoverflow.com/users/9381256/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537037258, "creation_date": 1537033213, "last_edit_date": 1537037258, "question_id": 52347275, "link": "https://stackoverflow.com/questions/52347275/placing-a-button-at-the-bottom-of-a-collectionview", "title": "Placing a button at the bottom of a collectionView", "body": "<p>I'm trying to make a collectionView that shows 10 item at first, when scrolling to the bottom I want to have a button that clicking it will load more info, its something simple but the thing is that I'm not using storyboard and I did everything programmatically, so how it can be done? </p>\n"}, {"tags": ["ios", "objective-c", "caching", "afnetworking", "nsurl"], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 10332904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e32494a743ce8f5636f4b7d6581a12?s=128&d=identicon&r=PG&f=1", "display_name": "D.3", "link": "https://stackoverflow.com/users/10332904/d-3"}, "is_accepted": true, "score": 1, "last_activity_date": 1537218769, "creation_date": 1537218769, "answer_id": 52375773, "question_id": 52347065, "link": "https://stackoverflow.com/questions/52347065/ios-are-there-any-issues-that-can-occur-when-setting-cache-policy-to-no/52375773#52375773", "title": "iOS: Are there any issues that can occur when setting cache policy to no?", "body": "<p>There won't be any issues with this, however you have to ensure, that the named behaviour is really the one you want. E.g. you have a caching mechanism implemented somewhere else.</p>\n\n<p>This policy does exactly what is supposed to do. It ignores any local cache data and loads any data directly from a remote source. However, you're not protected from any intermediate caching mechanisms.</p>\n\n<p>You can include proper headers to your request to omit any intermediate caching (<code>Cache-Control: no-cache</code> to tell some proxies what do you want to do with the request for example)</p>\n"}], "owner": {"reputation": 953, "user_id": 8802508, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/624e0a091d6535e2556c4a084022f52e?s=128&d=identicon&r=PG&f=1", "display_name": "Curt Rand", "link": "https://stackoverflow.com/users/8802508/curt-rand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 52375773, "answer_count": 1, "score": 1, "last_activity_date": 1537218769, "creation_date": 1537031772, "last_edit_date": 1537218005, "question_id": 52347065, "link": "https://stackoverflow.com/questions/52347065/ios-are-there-any-issues-that-can-occur-when-setting-cache-policy-to-no", "title": "iOS: Are there any issues that can occur when setting cache policy to no?", "body": "<p>I don't want my App storing any URL data in the cache.db file. I took advice on StackOverflow and set the cache URL policy to <code>NSURLRequestReloadIgnoringLocalCacheData</code> like this. </p>\n\n<p><code>[manager.requestSerializer setCachePolicy:NSURLRequestReloadIgnoringLocalCacheData];</code></p>\n\n<p>However, I'm not sure if there are any issues that can arise from doing this. Any tips or suggestions are appreciated.</p>\n\n<p>Edit: I haven't ran into any issues regarding requests or the App in general, but I like to make sure.</p>\n"}, {"tags": ["ios", "objective-c", "delegates"], "comments": [{"owner": {"reputation": 1090, "user_id": 1425697, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5f0a71e96c0a754159f0eb3a03e0310a?s=128&d=identicon&r=PG", "display_name": "AnderCover", "link": "https://stackoverflow.com/users/1425697/andercover"}, "edited": false, "score": 0, "creation_date": 1537096744, "post_id": 52346205, "comment_id": 91651898, "body": "it could be caused by weak <code>downloadArr</code> property, or maybe some other part of your code is setting it to nil. Could you provide more context ? e.g. your <code>downloadArr</code> property declaration ?"}], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 0, "creation_date": 1537027301, "post_id": 52346243, "comment_id": 91638382, "body": "I gave a value with [Bvc getDataFromA:downloadArr]; this. But some reason it lost the value when I moved to bVC"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 0, "creation_date": 1537027639, "post_id": 52346243, "comment_id": 91638472, "body": "how do you create Bvc  in aVC and how do you present it ??"}, {"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 0, "creation_date": 1537027742, "post_id": 52346243, "comment_id": 91638499, "body": "A vc, B vc are implemented on Tabbar controller in Stroryboard"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 0, "creation_date": 1537027828, "post_id": 52346243, "comment_id": 91638522, "body": "so BVc tap should be clicked at least once before you can access it and send message to"}, {"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 0, "creation_date": 1537028266, "post_id": 52346243, "comment_id": 91638642, "body": "[[NSBundle mainBundle] loadNibNamed:@&quot;Bvc&quot; owner:self options:nil];  in viewDidLoad"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 0, "creation_date": 1537028580, "post_id": 52346243, "comment_id": 91638726, "body": "this type of load creates another instance other than the real instance presented inside the tab , which you should access see edit ...."}, {"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "edited": false, "score": 1, "creation_date": 1537028892, "post_id": 52346243, "comment_id": 91638815, "body": "Thank you so much! I will try! I think you are right. Thank you again."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 2, "last_activity_date": 1537028536, "last_edit_date": 1537028536, "creation_date": 1537026157, "answer_id": 52346243, "question_id": 52346205, "link": "https://stackoverflow.com/questions/52346205/passing-data-with-delegate-but-still-nil-why/52346243#52346243", "title": "Passing data with delegate but still nil why?", "body": "<p>To have the array printed inside <code>viewWillAppear</code> without nil</p>\n\n<pre><code>NSLog(@\"Array status %@\", self.downloadArr);//This time it showed me nil\n</code></pre>\n\n<p>you need to  give it a value before you show bVC from aVC , whatever you use present/segue/push ,  also don't forget to declare it as <code>strong</code> , you need to do this</p>\n\n<pre><code>bvc = [[self.tabBarController viewControllers] objectAtIndex:1]; \n[bvc loadViewIfNeeded];\n[bvc getDataFromA:downloadArr];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 5341489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7u6pt.jpg?s=128&g=1", "display_name": "Danny Lau", "link": "https://stackoverflow.com/users/5341489/danny-lau"}, "is_accepted": false, "score": 0, "last_activity_date": 1537028647, "creation_date": 1537028647, "answer_id": 52346611, "question_id": 52346205, "link": "https://stackoverflow.com/questions/52346205/passing-data-with-delegate-but-still-nil-why/52346611#52346611", "title": "Passing data with delegate but still nil why?", "body": "<p>Please check the way you move to B-VC and whether the instance of (B-VC) you used in the A -VC is same to self in the B-VC \u201cviewWillAppear\u201d method. \nIt seems when u move to B-VC, A new instance has been created.</p>\n\n<p>Or you can implement the 'setDownloadArr' method, log the value and show when the value become nil.</p>\n"}], "owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52346243, "answer_count": 2, "score": 0, "last_activity_date": 1573092250, "creation_date": 1537025835, "last_edit_date": 1573092250, "question_id": 52346205, "link": "https://stackoverflow.com/questions/52346205/passing-data-with-delegate-but-still-nil-why", "title": "Passing data with delegate but still nil why?", "body": "<p>I made 2 viewcontrollers and implemented on tabbar controller. I passed some data from A vc to B vc with using delegate. When I checked the log it showed me correct value. But when I moved to B vc the value I passed was nil. (the value is for tableview.) Here is my code.</p>\n\n<p>in A vc</p>\n\n<pre><code>-(void)passData {            \n  NSMutableDictionary *infoDic = [[NSMutableDictionary alloc] init];\n  [infoDic setObject:url forKey:@\"file_url\"];\n  [downloadArr addObject:fileInfoDic];\n\n  Bvc getDataFromA:downloadArr];\n  [Bvc reloadTableView];        \n}\n</code></pre>\n\n<p>in B vc</p>\n\n<pre><code>-(void)getDataFromA:(NSMutableArray *) downloadArr{\n  self.downloadArr = [downloadArr mutableCopy];\n  NSLog(@\"my download list%@\", self.downloadArr); // This time was ok.\n}\n\n- (void)viewWillAppear:(BOOL)animated{\n  [super viewWillAppear:animated];\n   NSLog(@\"Array status %@\", self.downloadArr);//This time it showed me nil\n   [self.tableView reloadData];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "api", "access-token"], "comments": [{"owner": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1537012040, "post_id": 52344290, "comment_id": 91634691, "body": "Is the value you&#39;re storing in NSUSerDefaults just the raw token?  If so, you need to add a token type to the Authorization header (e.g. &#39;Bearer` before the token)."}, {"owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "reply_to_user": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1537013226, "post_id": 52344290, "comment_id": 91634975, "body": "@DavidS.I tried what you said, I saved the access token as follows:     accessTokenDict = @{@&quot;Bearer&quot;:userDetails[@&quot;accessToken&quot;]}; but its not working still."}, {"owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "reply_to_user": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1537074969, "post_id": 52344290, "comment_id": 91647480, "body": "@DavidS.Can you suggest something else please?"}, {"owner": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1537103541, "post_id": 52344290, "comment_id": 91653568, "body": "There should be a space between the Bearer and the token."}, {"owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "reply_to_user": {"reputation": 6043, "user_id": 2969719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9793a7f1fdcce8e031f6948cfac7bd64?s=128&d=identicon&r=PG&f=1", "display_name": "David S.", "link": "https://stackoverflow.com/users/2969719/david-s"}, "edited": false, "score": 0, "creation_date": 1537269740, "post_id": 52344290, "comment_id": 91714906, "body": "@DavidS. Yes that was there too."}], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "is_accepted": false, "score": 0, "last_activity_date": 1537269669, "creation_date": 1537269669, "answer_id": 52385462, "question_id": 52344290, "link": "https://stackoverflow.com/questions/52344290/how-to-make-a-api-request-with-access-token/52385462#52385462", "title": "How to make a API request with access token?", "body": "<p>I was only missing the cache-control key in the header, thats it.</p>\n\n<pre><code>NSDictionary *headers = @{ @\"Authorization\": [NSString stringWithFormat:@\"Bearer %@\", [[NSUserDefaults standardUserDefaults] valueForKey:AccessToken]],\n                           @\"Cache-Control\": @\"no-cache\"\n                           };\nNSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:[NSString stringWithFormat:@\"%@%@\", BASEURL, urlStr]]\n                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy\n                                                   timeoutInterval:10.0];\n[request setHTTPMethod:@\"GET\"];\n[request setAllHTTPHeaderFields:headers];\nNSURLSession *session = [NSURLSession sharedSession];\nNSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request\n                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n                                                if (error) {\n                                                    DLog(@\"%@\", error);\n                                                } else {\n                                                    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;\n                                                    DLog(@\"%@\", httpResponse);\n\n                                                    NSDictionary *dict = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:nil];\n\n                                                    if (dict != nil) {\n                                                        successBlock(dict,httpResponse);\n                                                    }\n                                                    else\n                                                    {\n                                                    failureBlock(error,httpResponse);\n                                                    }\n\n                                                }\n                                            }];\n\n[dataTask resume];\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537269669, "creation_date": 1537011101, "question_id": 52344290, "link": "https://stackoverflow.com/questions/52344290/how-to-make-a-api-request-with-access-token", "title": "How to make a API request with access token?", "body": "<p>I want to use the access token for every API call I make once I log into the app and receive the access token. I have tried so many things but with no results. I am getting proper response when I test it on postman. I dont know what I am doing wrong. I am using AFNetworking (AFHTTPSessionManager is the base class of NetworkIntractor), this is my network layer's code:</p>\n\n<pre><code>+(NetworkIntractor *)sharedManager{\nstatic NetworkIntractor *manager = nil;\nstatic dispatch_once_t onceToken;\ndispatch_once(&amp;onceToken, ^{\n    NSURLSessionConfiguration *config = [NSURLSessionConfiguration defaultSessionConfiguration];\n    config.requestCachePolicy = NSURLRequestReloadIgnoringLocalCacheData;\n    config.URLCache = nil;\n    config.timeoutIntervalForRequest = 15.0f;\n    config.timeoutIntervalForResource =20.0f;\n    if ([USERDEFAULT boolForKey:LOGGEDIN] == YES) {\n        [manager.requestSerializer setValue:[[NSUserDefaults standardUserDefaults]valueForKey:AccessToken] forHTTPHeaderField:@\"Authorization\"];\n    }\n    manager = [[NetworkIntractor alloc]initWithBaseURL:[NSURL URLWithString:BASEURL] sessionConfiguration:config];\n    [manager setRequestSerializer:[AFHTTPRequestSerializer serializer]];\n    manager.responseSerializer = [AFHTTPResponseSerializer serializer];\n    [manager.responseSerializer.acceptableContentTypes setByAddingObject:@\"text/html\"];\n\n    });\nreturn manager;}\n\n\nvoid call_getNetworkingAPI(NSURL *url, SuccessBlock successBlock, FailureBlock failureBlock){\n\nNSURLSessionDataTask *task = [[NetworkIntractor sharedManager].session dataTaskWithURL:url completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n    if (error == nil) {\n\n        NSDictionary *dict = [NSJSONSerialization JSONObjectWithData:data options:NSJSONReadingAllowFragments error:nil];\n        if (dict != nil) {\n            successBlock(dict,response);\n        }\n    }else\n    {\n        failureBlock(error,response);\n    }\n}];\n[task resume];\n</code></pre>\n\n<p>}</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["objective-c", "swift", "android-studio", "dart", "flutter"], "comments": [{"owner": {"reputation": 58775, "user_id": 474189, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jzXIJ.jpg?s=128&g=1", "display_name": "Duncan Jones", "link": "https://stackoverflow.com/users/474189/duncan-jones"}, "edited": false, "score": 0, "creation_date": 1541781611, "post_id": 52341873, "comment_id": 93346440, "body": "Good question. I started an app without Swift support and I&#39;m wondering how to add it afterwards. Everything I&#39;ve read unhelpfully says &quot;Create your project like so...&quot;, which isn&#39;t helpful after weeks of development."}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 9509565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hD0f.jpg?s=128&g=1", "display_name": "Champe", "link": "https://stackoverflow.com/users/9509565/champe"}, "edited": false, "score": 1, "creation_date": 1559574557, "post_id": 53230209, "comment_id": 99454576, "body": "Very nice answer, but I had to add the project&#39;s path at the end of the command line to make it works. If you are in your project&#39;s folder, then run <code>flutter create -i swift -a kotlin .</code>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 575, "user_id": 9509565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hD0f.jpg?s=128&g=1", "display_name": "Champe", "link": "https://stackoverflow.com/users/9509565/champe"}, "edited": false, "score": 0, "creation_date": 1559574944, "post_id": 53230209, "comment_id": 99454787, "body": "@Champe thanks for the hint/addition. That was an oversight."}, {"owner": {"reputation": 287, "user_id": 11103749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2f730fa82103481701733808f58a32?s=128&d=identicon&r=PG&f=1", "display_name": "Dyary", "link": "https://stackoverflow.com/users/11103749/dyary"}, "edited": false, "score": 0, "creation_date": 1578689781, "post_id": 53230209, "comment_id": 105534396, "body": "don&#39;t delete the ios and android directories. doing so makes you loose all the changes and updates in your file. just do this flutter create -i swift -a kotlin ."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1578694485, "post_id": 53230209, "comment_id": 105535976, "body": "If you use git you can apply your changes that you want to keep easily from a diff"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 10, "last_activity_date": 1559574922, "last_edit_date": 1559574922, "creation_date": 1541782777, "answer_id": 53230209, "question_id": 52341873, "link": "https://stackoverflow.com/questions/52341873/where-is-the-native-language-setting-for-swift-or-objective-c-in-an-existing-flu/53230209#53230209", "title": "Where is the native language setting for Swift or Objective-C in an existing Flutter project in Android Studio?", "body": "<ul>\n<li><p>For <strong>iOS</strong> the difference is mostly in <code>ios/Runner.xcodeproj/project.pbxproj</code>\nand some different source code files are generated in <code>ios/Runner</code><br>\n(the differences are too many to list them here)</p></li>\n<li><p>For <strong>Android</strong> the differences are in <code>android/build.gradle</code>, <code>android/app/build.gradle</code>, and different source code files are generated in <code>android/app/src/main</code></p></li>\n</ul>\n\n<p>To switch languages you can delete the <code>ios</code> and/or <code>android</code> directory and run</p>\n\n<pre><code>flutter create -i swift -a kotlin .\n</code></pre>\n\n<p>If you made manual changes in files in these directories you need to re-apply them.</p>\n\n<p>If you commit a project to Git and then switch language (as explained above), then it's easy to see what the differences are exactly.</p>\n"}, {"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1584937254, "post_id": 59688930, "comment_id": 107584849, "body": "Use Git and commit these directories then you can easily re-apply your manual changes after reinitializing them using a diff tool. This way you also get updates when the Flutter team makes changes to these files after you created the project."}], "tags": [], "owner": {"reputation": 287, "user_id": 11103749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2f730fa82103481701733808f58a32?s=128&d=identicon&r=PG&f=1", "display_name": "Dyary", "link": "https://stackoverflow.com/users/11103749/dyary"}, "is_accepted": false, "score": 1, "last_activity_date": 1578689982, "creation_date": 1578689982, "answer_id": 59688930, "question_id": 52341873, "link": "https://stackoverflow.com/questions/52341873/where-is-the-native-language-setting-for-swift-or-objective-c-in-an-existing-flu/59688930#59688930", "title": "Where is the native language setting for Swift or Objective-C in an existing Flutter project in Android Studio?", "body": "<p>Don't delete the <code>ios</code> and <code>android</code> directories. doing so makes you loose all the changes and updates in your file. just this <code>flutter create -i swift -a kotlin .</code> </p>\n\n<p>Don't forget the dot at the end , this specifies that you want to make the changes in the current directory not create a new one.</p>\n\n<p>after you run this follow the instruction and your app will have Swift support for iOS and Kotlin for android.</p>\n\n<p>To make sure that you have Swift support take a look at your runner folder and see if it contains </p>\n\n<pre><code>AppDelegate.siwft\n</code></pre>\n"}], "owner": {"reputation": 2219, "user_id": 2312175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/U4XHO.png?s=128&g=1", "display_name": "Peter Birdsall", "link": "https://stackoverflow.com/users/2312175/peter-birdsall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1660, "favorite_count": 2, "answer_count": 2, "score": 8, "last_activity_date": 1578689982, "creation_date": 1536989198, "last_edit_date": 1541781954, "question_id": 52341873, "link": "https://stackoverflow.com/questions/52341873/where-is-the-native-language-setting-for-swift-or-objective-c-in-an-existing-flu", "title": "Where is the native language setting for Swift or Objective-C in an existing Flutter project in Android Studio?", "body": "<p>I've initially created a Flutter project with the native languages of Kotlin and Swift in Android Studio. Is there a way to change the native iOS language to Objective-C. This configuration only seems to occur on the creation of a Flutter project.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "swift4"], "comments": [{"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 1, "creation_date": 1536984124, "post_id": 52341373, "comment_id": 91629703, "body": "The error message shows <b><i>Data source is not set.</i></b>. Which means <code>dataSource</code> property of <code>ANDLineChartView</code> is not yet set when needed. Please show your Swift code where  <code>ANDLineChartView</code> is set up. One more, you have no need to add <code>#import &quot;MyProjectName-Swift.h&quot;</code> into the .m files of a Library, unless you have modified other parts of the Library."}, {"owner": {"reputation": 167, "user_id": 6937645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf207d763205198cf0689341ee4b263?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Keeley", "link": "https://stackoverflow.com/users/6937645/liam-keeley"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1536985158, "post_id": 52341373, "comment_id": 91629805, "body": "Ok I added the declaration of the instance and the dataSource."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 1, "creation_date": 1536986325, "post_id": 52341373, "comment_id": 91629953, "body": "<code>dataSource</code> is a weak property. You need to keep strong reference to the dataSource instance somewhere else."}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1536987585, "post_id": 52341373, "comment_id": 91630091, "body": "Please post an Answer by yourself."}], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 6937645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf207d763205198cf0689341ee4b263?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Keeley", "link": "https://stackoverflow.com/users/6937645/liam-keeley"}, "is_accepted": false, "score": 1, "last_activity_date": 1536989330, "creation_date": 1536989330, "answer_id": 52341886, "question_id": 52341373, "link": "https://stackoverflow.com/questions/52341373/issue-noticing-swift-method-as-a-selector-in-objective-c-and-using-objective-c-o/52341886#52341886", "title": "Issue Noticing Swift Method As A Selector In Objective C and Using Objective C Objects In Swift ios App", "body": "<p>The issue was that I just assigned dataSource to GoalData, but dataSource is a weak property, so unless something else kept my instance of GoalData alive, it would become nil and caused the app to fail because dataSource had no value.  </p>\n\n<p>I added this to my class that implemented my instance of ANDLineChartView:</p>\n\n<pre><code>var dataSource : GoalData?\n</code></pre>\n\n<p>Then I added in my initializer:</p>\n\n<pre><code>self.dataSource = GoalData(data : UserData.past)\nthird = ANDLineChartView(frame : CGRect(x : 0,\n                                    y : 0,\n                                    width : UIScreen.main.bounds.width,\n                                    height : Main.screenSegment * 9.5))\n\nthird.dataSource = self.dataSource\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 6937645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf207d763205198cf0689341ee4b263?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Keeley", "link": "https://stackoverflow.com/users/6937645/liam-keeley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536989330, "creation_date": 1536983113, "last_edit_date": 1536985083, "question_id": 52341373, "link": "https://stackoverflow.com/questions/52341373/issue-noticing-swift-method-as-a-selector-in-objective-c-and-using-objective-c-o", "title": "Issue Noticing Swift Method As A Selector In Objective C and Using Objective C Objects In Swift ios App", "body": "<p>I want to use  <a href=\"https://github.com/anaglik/ANDLineChartView\" rel=\"nofollow noreferrer\">ANDLineChartView</a>, an API written in Objective C to create charts as views in ios, in my Swift app.  What I have tried so far is simply adding the Objective-C source code to my swift project and adding a bridging header with one line of code in it (obj-c):</p>\n\n<pre><code>#import \"AndLineChartView.h\"\n</code></pre>\n\n<p>This allows me to make objects of type ANDLineChartView in my swift code.  The problem is that ANDLineChartView needs a dataSource that conforms to a protocol called ANDLineChartViewDataSource, so I programmed (in Swift) an @objc class that conforms to this protocol (and I extended NSObject, so it also conforms to NSObjectProtocol which is necessary as well).  I implemented, in Swift, all the necessary methods needed by ANDLineChartViewDataSource, and finally added:</p>\n\n<pre><code>#import \"MyProjectName-Swift.h\"\n</code></pre>\n\n<p>Where MyProjectName is of course my project name to ANDLineChartView.m.  From what I have learned across the internet, this is the standard way to use Objective C code in Swift projects and vice versa.  I therefore went on to create an instance of ANDLineChartView and set its dataSource property to an instance of my class that implements ANDLineChartViewDataSource.</p>\n\n<p>*** Assertion failure in -[ANDLineChartView numberOfElements], /path/ANDLineChartView.m:158\nData source is not set.</p>\n\n<p>Generated by these lines of code in ANDLineChartView.m:</p>\n\n<pre><code>- (NSUInteger)numberOfElements{\n  if(_dataSource &amp;&amp; [_dataSource respondsToSelector:@selector(numberOfElementsInChartView:)]){\n    return [_dataSource numberOfElementsInChartView:self];\n  }else{\n    NSAssert(_dataSource, @\"Data source is not set.\");\n    NSAssert([_dataSource respondsToSelector:@selector(numberOfElementsInChartView:)], @\"numberOfElementsInChartView: not implemented.\");\n    return 0;\n  }\n}\n</code></pre>\n\n<p>My first thought was that my functions were not visible as Objective C selectors, so I changed NSObjects responds(to aSelector : Selector!) -> Bool method:</p>\n\n<pre><code>  public override func responds(to aSelector: Selector!) -&gt; Bool {\n    if aSelector == #selector(numberOfElements(in:)) ||\n       aSelector == #selector(numberOfGridIntervals(in:)) ||\n       aSelector == #selector(chartView(_:valueForElementAtRow:)) ||\n       aSelector == #selector(chartView(_:descriptionForGridIntervalValue:)) ||\n       aSelector == #selector(maxValueForGridInterval(in:)) ||\n       aSelector == #selector(minValueForGridInterval(in:)) {\n         return true\n     } else {\n         return super.responds(to: aSelector)\n    }\n  }\n</code></pre>\n\n<p>And here is my declaration of the chart and the dataSource:</p>\n\n<pre><code>third = ANDLineChartView(frame : CGRect(x : 0,\n                                        y : 0,\n                                        width : UIScreen.main.bounds.width,\n                                        height : Main.screenSegment * 9.5))\n\nthird.dataSource = GoalData(data: UserData.past)\n</code></pre>\n\n<p>Where GoalData is my ANDChartViewDataSource class, which is initialized with an array, UserData.past.</p>\n\n<p>I continued to get the same error message though, and at this point, especially because I haven't even used bridging headers etc. in my projects before, I have come here for help. I also don't know Objective C, so a solution that does not have to do with rewriting my dataSource class in Objective C would be awesome.  Alternatively, if you have any suggestions for chart APIs written in Swift, that would be helpful too, because then I wouldn't have to worry about this.  But I am also genuinely curious, so...</p>\n\n<p>Thanks lots for any help.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24206732/cant-use-swift-classes-inside-objective-c\">Similar Question</a> </p>\n\n<p><a href=\"https://developer.apple.com/documentation/objectivec/nsobjectprotocol\" rel=\"nofollow noreferrer\">NSObjectProtocol Documentation</a></p>\n"}, {"tags": ["objective-c", "uicollectionview", "uiimage", "uikit", "phasset"], "comments": [{"owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "edited": false, "score": 2, "creation_date": 1536981518, "post_id": 52341213, "comment_id": 91629420, "body": "Are you sure _imageManager is not nil?"}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 1, "creation_date": 1536982273, "post_id": 52341213, "comment_id": 91629495, "body": "What is _imageManager and where does it come from?"}], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 943766, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a04d253eb82775925a6b1a0f9c8e2a3f?s=128&d=identicon&r=PG", "display_name": "fredwardo", "link": "https://stackoverflow.com/users/943766/fredwardo"}, "is_accepted": true, "score": 0, "last_activity_date": 1537026709, "creation_date": 1537026709, "answer_id": 52346316, "question_id": 52341213, "link": "https://stackoverflow.com/questions/52341213/requestimageforasset-resulthandler-block-never-gets-called/52346316#52346316", "title": "requestImageForAsset resultHandler block never gets called", "body": "<p>Ugh! I knew I must be doing something stupid!  8-)  </p>\n\n<p>Adding this to viewDidLoad solved it.</p>\n\n<pre><code>_imageManager = [[PHCachingImageManager alloc] init];\n[self resetCachedAssets];\n</code></pre>\n\n<p>Thanks to trungduc and El Tomato for pointing me in the right direction.</p>\n"}], "owner": {"reputation": 143, "user_id": 943766, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a04d253eb82775925a6b1a0f9c8e2a3f?s=128&d=identicon&r=PG", "display_name": "fredwardo", "link": "https://stackoverflow.com/users/943766/fredwardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 52346316, "answer_count": 1, "score": 0, "last_activity_date": 1537034517, "creation_date": 1536980237, "last_edit_date": 1537034517, "question_id": 52341213, "link": "https://stackoverflow.com/questions/52341213/requestimageforasset-resulthandler-block-never-gets-called", "title": "requestImageForAsset resultHandler block never gets called", "body": "<p>I'm trying to load a UIImage from a PHAsset for a collection view cell like so, </p>\n\n<pre><code>- (UICollectionViewCell *)collectionView:(UICollectionView *)cv cellForItemAtIndexPath:(NSIndexPath *)indexPath;\n{\n    myCell *cell = [cv dequeueReusableCellWithReuseIdentifier:@\"CELL_ID\" forIndexPath:indexPath];\n\n    PHAsset *asset = _assetsFetchResults[indexPath.item];\n    NSLog(@\"asset = %@\", asset);\n\n    PHImageRequestOptions *myOpts = [[PHImageRequestOptions alloc]init];\n    myOpts.synchronous = YES;\n\n    [_imageManager requestImageForAsset:asset\n                             targetSize:AssetGridThumbnailSize\n                            contentMode:PHImageContentModeDefault\n                                options:myOpts\n                          resultHandler:^(UIImage *myResult, NSDictionary *myInfo) {\n                                  NSLog(@\"***---info = %@\", myInfo);\n                                  cell.myImageView.image = myResult;\n                              }];\n\n\n    return cell;\n}\n</code></pre>\n\n<p>This runs without error, but no image is sent to the cell and the result handler block never gets called.  The PHAsset is not nil.  TIA</p>\n"}, {"tags": ["objective-c", "xcode", "cllocationmanager", "ibeacon"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1536973207, "post_id": 52340715, "comment_id": 91628454, "body": "I&#39;m voting to close this question as off-topic because that&#39;s not how we post code here."}, {"owner": {"reputation": 2226, "user_id": 6214491, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/q9IUg.png?s=128&g=1", "display_name": "0xCursor", "link": "https://stackoverflow.com/users/6214491/0xcursor"}, "edited": false, "score": 0, "creation_date": 1536973343, "post_id": 52340715, "comment_id": 91628473, "body": "You need to seriously edit this post. Check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/help\">help center</a> for more info on editing your post to good standards. Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1536986859, "post_id": 52340841, "comment_id": 91630012, "body": "i am using -(void)locationManager:(CLLocationManager*)manager didDetermineState:(CLRegionState)state forRegion:(CLRegion*)region{     NSLog(@&quot;manager didDetermineState state for Region&quot;);        UILocalNotification *notification  = [[UILocalNotification alloc]init];                if(state == CLRegionStateInside){                                                                              to send my notification of didEnterRegion.  Also how would i set up var beaconLastSeen: Date? in objective-c  That is what I am using."}, {"owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "reply_to_user": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1537048478, "post_id": 52340841, "comment_id": 91643624, "body": "Sorry, added an Objective C version"}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1537138038, "post_id": 52340841, "comment_id": 91662378, "body": "Thx, This worked perfect for me.  Now if Apple would only fire up the right hardware for beacons while in airplane Mode users could invite, accept and play my app games while flying.  Too Bad"}, {"owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "reply_to_user": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1537151080, "post_id": 52340841, "comment_id": 91664436, "body": "You can detect if Bluetooth is off and pop a dialog to tell the user to turn it on.  You <i>can</i> be in Airplane mode and have Bluetooth on -- it just gets turned off by default in airplane mode."}, {"owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "edited": false, "score": 0, "creation_date": 1537157797, "post_id": 52340841, "comment_id": 91665695, "body": "Now when you turn on \u201cairplane mode\u201d on an Apple iOS device Bluetooth remains on and you can use it for headphones and data transmission but according to Apple the necessary hardware for beacon monitoring and ranging is not available when airplane mode is turned on even if Bluetooth is enabled. Not sure why. I have written to Apple developer tech help for an answer"}], "tags": [], "owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "is_accepted": true, "score": 0, "last_activity_date": 1537048455, "last_edit_date": 1537048455, "creation_date": 1536974521, "answer_id": 52340841, "question_id": 52340715, "link": "https://stackoverflow.com/questions/52340715/location-manager-working-on-always-but-not-when-in-use/52340841#52340841", "title": "location manager working on Always but not When In Use", "body": "<p>When you have your app authorized to do beacon ranging only when it is in the foreground, it's easy to simulate entry/exit logic with just a <code>didRangeBeacons</code> callback.</p>\n\n<ol>\n<li><p>Set up one class variable:</p>\n\n<pre><code>var beaconLastSeen: Date? = nil\n</code></pre></li>\n<li><p>Add this code to your <code>didRangeBeacons</code> method:</p>\n\n<pre><code>if beacons.count &gt; 0 {\n  if beaconLastSeen == nil {\n     // call didEnterRegion logic here\n  }\n  beaconLastSeen = Date()\n}\nelse {\n  if beconLastSeen != nil &amp;&amp; Date() - beaconLastSeen &gt; 30 {\n     beaconLastSeen = nil\n     // call didExitRegion logic here\n  }\n}\n</code></pre></li>\n</ol>\n\n<p>You will get an exit event 30 secs after the last beacon detection.  You will get an enter event when one is first seen.</p>\n\n<p><strong>EDIT:</strong> Here's the same code in Objective C:</p>\n\n<pre><code>NSDate *beaconLastSeen = nil;\n\n...\n\nif (beacons.count &gt; 0) {\n    if (beaconLastSeen == nil) {\n        // call didEnterRegion logic here\n    }\n    beaconLastSeen = [[NSDate alloc] init];\n}\nelse {\n    if (beaconLastSeen != nil  &amp;&amp; [[[NSDate alloc] init] timeIntervalSinceDate: beaconLastSeen] &gt; 30 ) {\n        beaconLastSeen = nil;\n        // call didExitRegion logic here\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 729, "user_id": 1114881, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09bd7f9d9bea7dbfba299347460f1a1a?s=128&d=identicon&r=PG", "display_name": "user1114881", "link": "https://stackoverflow.com/users/1114881/user1114881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 52340841, "answer_count": 1, "score": 2, "last_activity_date": 1537048455, "creation_date": 1536973023, "last_edit_date": 1537017878, "question_id": 52340715, "link": "https://stackoverflow.com/questions/52340715/location-manager-working-on-always-but-not-when-in-use", "title": "location manager working on Always but not When In Use", "body": "<p>I have an app that worked great before Apple insisted users be given a choice between \"Always\" and \"When In Use\" for Location Manager.\nThe app used iBeacons to send invitations to play games and accept.<br>\nWhen \"Always\" is selected the beacons work fine but when I switch to \"When In Use\" they don't work at all.\nI started out using \"Always\" but change the following code to give users the choice.\nIn the app's plist I added \"Privacy-Location Always and When In Use Usage Descriptions and Privacy-Location When In Use Usage Description\" and removed the \"Privacy-Location Always Usage Description\".</p>\n\n<p>In the app's Delegate I have this</p>\n\n<pre><code>- (void)locationManager:(CLLocationManager *)manager\ndidChangeAuthorizationStatus:(CLAuthorizationStatus)status{\n\n    if([CLLocationManager authorizationStatus]==kCLAuthorizationStatusAuthorizedAlways){\n        NSLog(@\"Always\");\n        AlertView2 = [[UIAlertView alloc] initWithTitle:@\"Dual player on two devices is enabled.\"\n                                                message:@\"To save battery power go to Settings/Privacy/Location Services and choose \\\"Never\\\" when not using I'M GAME. Two people can still play on one device when in \\\"Never\\\" mode. To recieve invitations to play only when the app is open select \\\"When In Use\\\".\"\n                                               delegate:nil\n                                      cancelButtonTitle:@\"OK\"\n                                      otherButtonTitles:nil];\n        [AlertView2 show];\n        [[NSUserDefaults standardUserDefaults] setObject:@\"YES\" forKey:@\"accessKey\"];\n        [[NSUserDefaults standardUserDefaults] synchronize];\n    }\n    if([CLLocationManager authorizationStatus]==kCLAuthorizationStatusAuthorizedWhenInUse){\n        NSLog(@\"WhenInUse\");\n        AlertView2 = [[UIAlertView alloc] initWithTitle:@\"Dual player on two devices is enabled.\"\n                                                message:@\"To save battery power go to Settings/Privacy/Location Services and choose \\\"Never\\\" when not using I'M GAME. Two people can still play on one device when in \\\"Never\\\" mode. To recieve invitations to play while app is in background select \\\"Always\\\".\"\n                                               delegate:nil\n                                      cancelButtonTitle:@\"OK\"\n                                      otherButtonTitles:nil];\n        [AlertView2 show];\n        [[NSUserDefaults standardUserDefaults] setObject:@\"YES\" forKey:@\"accessKey\"];\n        [[NSUserDefaults standardUserDefaults] synchronize];\n    }\n    if([CLLocationManager authorizationStatus]==kCLAuthorizationStatusRestricted){\n        NSLog(@\"restricted\");\n    }\n\n    if([CLLocationManager authorizationStatus]==kCLAuthorizationStatusDenied){\n        NSLog(@\"denied\");\n        AlertView2 = [[UIAlertView alloc] initWithTitle:@\"Dual player on a single device Only.\"\n                                                message:@\"To play on two devices go to Settings Privacy/Location Services and choose \\\"Always\\\" or \\\"When In Use\\\" for I'M GAME. In \\\"Always\\\" you can recieve invites while app is in background, in \\\"When In Use\\\" invites only appear when the app is on screen. To preserve battery choose \\\"Never\\\" when not using I'M GAME.\"\n                                               delegate:nil\n                                      cancelButtonTitle:@\"OK\"\n                                      otherButtonTitles:nil];\n        [AlertView2 show];\n        [[NSUserDefaults standardUserDefaults] setObject:@\"YES\" forKey:@\"accessKey\"];\n        [[NSUserDefaults standardUserDefaults] synchronize];\n\n    }\n    if([CLLocationManager authorizationStatus]==kCLAuthorizationStatusNotDetermined){\n        NSLog(@\"undetermined2\");\n         [locationManager requestAlwaysAuthorization];\n       [locationManager requestWhenInUseAuthorization];\n    }\n\n\n}\n</code></pre>\n\n<p>Does iBeacon need to have Privacy-Location set to \"Always\" to work?</p>\n\n<p>So I just found out that in \"When In Use\" you can't monitor for beacon region is entered or exited only find its range.  So I guess the question is how would I use range to send a notification to my user.</p>\n"}, {"tags": ["ios", "objective-c", "in-app-purchase"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1536965255, "post_id": 52340021, "comment_id": 91627226, "body": "Are you testing on a real device?  Have you completed all of the items under &quot;tax and banking&quot; in App Store Connect?"}, {"owner": {"reputation": 211, "user_id": 4378041, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e89a5e3c744319f3f25379e3e0f9580?s=128&d=identicon&r=PG&f=1", "display_name": "victor bill", "link": "https://stackoverflow.com/users/4378041/victor-bill"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1537004346, "post_id": 52340021, "comment_id": 91633022, "body": "@Paulw11 Yes is all good, but it does not work"}, {"owner": {"reputation": 211, "user_id": 4378041, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e89a5e3c744319f3f25379e3e0f9580?s=128&d=identicon&r=PG&f=1", "display_name": "victor bill", "link": "https://stackoverflow.com/users/4378041/victor-bill"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1537004499, "post_id": 52340021, "comment_id": 91633052, "body": "@Paulw11 I have a contract in process, it surely comes from there"}, {"owner": {"reputation": 211, "user_id": 4378041, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e89a5e3c744319f3f25379e3e0f9580?s=128&d=identicon&r=PG&f=1", "display_name": "victor bill", "link": "https://stackoverflow.com/users/4378041/victor-bill"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1537016328, "post_id": 52340021, "comment_id": 91635663, "body": "@Paulw11 It&#39;s work, thanks you so much man"}], "owner": {"reputation": 211, "user_id": 4378041, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e89a5e3c744319f3f25379e3e0f9580?s=128&d=identicon&r=PG&f=1", "display_name": "victor bill", "link": "https://stackoverflow.com/users/4378041/victor-bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536964965, "creation_date": 1536964965, "question_id": 52340021, "link": "https://stackoverflow.com/questions/52340021/not-find-a-item-iap-on-ios-11", "title": "Not find a item IAP on iOS 11", "body": "<p>I did everything right, here is the iTunesConnect integrated shopping screenshot and my simple code. Only he tells me \"no integrated purchase\".\nI've done it hundreds of times, but I still do not understand it.\nMy productID fits well on itunes as in the code. So where's the problem ?\nHelp me please guys :)</p>\n\n<p>Code :</p>\n\n<pre><code>#import ....\n#import ....\n\n#define kTutorialPointProductID @\"com.mathrack.SocialFame.CoinsPlus\"\n\n..........\n..........\n\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    [self fetchAvailableProducts];\n\n    [self.navigationController.navigationBar setBackgroundImage:[UIImage new]\n                                                  forBarMetrics:UIBarMetricsDefault]; //UIImageNamed:@\"transparent.png\"\n    self.navigationController.navigationBar.shadowImage = [UIImage new];////UIImageNamed:@\"transparent.png\"\n    self.navigationController.navigationBar.translucent = YES;\n    self.navigationController.view.backgroundColor = [UIColor clearColor];\n\n}\n\n-(void)fetchAvailableProducts{\n    NSSet *productIdentifiers = [NSSet\n                                 setWithObjects:kTutorialPointProductID,nil];\n    productsRequest = [[SKProductsRequest alloc]\n                       initWithProductIdentifiers:productIdentifiers];\n    productsRequest.delegate = self;\n    [productsRequest start];\n}\n\n- (BOOL)canMakePurchases\n{\n    return [SKPaymentQueue canMakePayments];\n}\n- (void)purchaseMyProduct:(SKProduct*)product{\n    if ([self canMakePurchases]) {\n        SKPayment *payment = [SKPayment paymentWithProduct:product];\n        [[SKPaymentQueue defaultQueue] addTransactionObserver:self];\n        [[SKPaymentQueue defaultQueue] addPayment:payment];\n    }\n    else{\n        UIAlertView *alertView = [[UIAlertView alloc]initWithTitle:\n                                  @\"Les achats int\u00e9gr\u00e9s sont d\u00e9sactiver sur votre appareil\" message:nil delegate:\n                                  self cancelButtonTitle:@\"OK\" otherButtonTitles: nil];\n        [alertView show];\n    }\n}\n\n- (IBAction)buy50coins:(id)sender {\n    [self purchaseMyProduct:[validProducts objectAtIndex:0]];\n}\n\n#pragma mark StoreKit Delegate\n\n-(void)paymentQueue:(SKPaymentQueue *)queue\nupdatedTransactions:(NSArray *)transactions {\n    for (SKPaymentTransaction *transaction in transactions) {\n        switch (transaction.transactionState) {\n            case SKPaymentTransactionStatePurchasing:\n                NSLog(@\"Purchasing\");\n                break;\n            case SKPaymentTransactionStatePurchased:\n                if ([transaction.payment.productIdentifier\n                     isEqualToString:kTutorialPointProductID]) {\n                    NSLog(@\"Purchased \");\n\n                }\n                [[SKPaymentQueue defaultQueue] finishTransaction:transaction];\n                break;\n            case SKPaymentTransactionStateRestored:\n\n                NSLog(@\"Restored \");\n                [[SKPaymentQueue defaultQueue] finishTransaction:transaction];\n                break;\n            case SKPaymentTransactionStateFailed:\n                [self purchaseFailed];\n                NSLog(@\"Purchase failed \");\n                break;\n            default:\n                break;\n        }\n    }\n}\n\n-(void)productsRequest:(SKProductsRequest *)request\n    didReceiveResponse:(SKProductsResponse *)response\n{\n    SKProduct *validProduct = nil;\n    int count = [response.products count];\n    if (count&gt;0) {\n        validProducts = response.products;\n        validProduct = [response.products objectAtIndex:0];\n        if ([validProduct.productIdentifier\n             isEqualToString:kTutorialPointProductID]) {\n        }\n    } else {\n        UIAlertView *tmp = [[UIAlertView alloc]\n                            initWithTitle:@\"Non disponible\"\n                            message:@\"Aucun produit \u00e0 acheter\"\n                            delegate:self\n                            cancelButtonTitle:nil\n                            otherButtonTitles:@\"OK\", nil];\n        [tmp show];\n    }\n}\n\n- (void)purchaseFailed {\n    UIAlertView *alertView = [[UIAlertView alloc]initWithTitle:\n                              @\"Achat impossible\" message:@\"Un probl\u00e8me est survenue lors de votre achat, veuillez r\u00e9essayer ulterieurement\" delegate:\n                              self cancelButtonTitle:@\"OK\" otherButtonTitles: nil];\n    [alertView show];\n}\n</code></pre>\n\n<p>ItunesConnect picture :</p>\n\n<p><a href=\"https://i.stack.imgur.com/NDfGx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NDfGx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "iphone", "uiwebview", "wkwebview"], "comments": [{"owner": {"reputation": 6751, "user_id": 6505084, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/m8TJM.png?s=128&g=1", "display_name": "DoruChidean", "link": "https://stackoverflow.com/users/6505084/doruchidean"}, "edited": false, "score": 0, "creation_date": 1554987500, "post_id": 52338330, "comment_id": 97957216, "body": "I have the same issue with .docx file, however it works as expected with .doc files"}], "owner": {"reputation": 31, "user_id": 4760171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5e750d29a772571ac7305f585c009e2?s=128&d=identicon&r=PG&f=1", "display_name": "JakeJohnson0901", "link": "https://stackoverflow.com/users/4760171/jakejohnson0901"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1536954127, "creation_date": 1536954127, "question_id": 52338330, "link": "https://stackoverflow.com/questions/52338330/wkwebview-not-loading-local-doc-file", "title": "WKWebView not loading local doc file", "body": "<p>I've been trying to load local file contents into <code>WKWebView</code> as we're migrating off of <code>UIWebView</code>. I noticed that on <code>UIWebView</code> I can just pass the file data and it would load perfectly. However, on <code>WKWebView</code> I would need to save the file locally to a temp directly then pass that file URL for <code>WKWebView</code> to render as discussed by this <a href=\"https://stackoverflow.com/questions/25799977/loaddatamimetypetextencodingnamebaseurl-in-wkwebview?rq=1\">answer</a> and this <a href=\"https://stackoverflow.com/questions/24882834/wkwebview-not-loading-local-files-under-ios-8\">answer</a></p>\n\n<p>My issue is that everything works for for docx/pptx/xlsx files, but for doc/ppt/xls file I would get this error: \"The operation couldn't be completed. (OfficeImportErrorDomain error 912) (null)\"</p>\n\n<p>This is how I invoke <code>WKWebView</code>'s method:</p>\n\n<pre><code>webView loadFileURL:self.fileURL allowingReadAccessToURL:self.fileURL\n</code></pre>\n\n<p>Anyone run into similar issue before? If so how did you resolve it?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1536953994, "post_id": 52338181, "comment_id": 91623827, "body": "You are asking how to persist an array of custom objects to a file. Does the file need to be text file or can it be in a binary format? If the latter, look into <code>NSCoding</code> and <code>NSKeyedArchiver</code>/<code>NSKeyedUnarchiver</code>."}, {"owner": {"reputation": 33, "user_id": 10365433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2e402a0ac0cee50a315a815d9e61dbb?s=128&d=identicon&r=PG&f=1", "display_name": "J. Moss", "link": "https://stackoverflow.com/users/10365433/j-moss"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1537042248, "post_id": 52338181, "comment_id": 91642328, "body": "Thanks. NSKeyedArchiver/NSKeyedUnarchiver looks like it may do the trick. It doesn&#39;t need to be a text file necessarily, but it just helps to be able to view the contents of the file if it is in text format."}], "owner": {"reputation": 33, "user_id": 10365433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2e402a0ac0cee50a315a815d9e61dbb?s=128&d=identicon&r=PG&f=1", "display_name": "J. Moss", "link": "https://stackoverflow.com/users/10365433/j-moss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536953867, "creation_date": 1536953261, "last_edit_date": 1536953867, "question_id": 52338181, "link": "https://stackoverflow.com/questions/52338181/nsmutablearray-not-in-xml-format", "title": "NSMutableArray not in XML Format", "body": "<p>I am creating an NSMutableArray using NSXMLParser, which then populates a UITableView, and it works fine. But I am unable to save the array to a text file, because it seems that my final array is not in the correct format. </p>\n\n<p>I have setup the NSXMLParser like this:</p>\n\n<pre><code>- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName\n                                    namespaceURI:(NSString *)namespaceURI\n                                   qualifiedName:(NSString *)qName\n                                      attributes:(NSDictionary *)attributeDict\n{\n    if ([elementName isEqualToString:kEntryStr])\n    {\n        self.workingEntry = [[AppRecord alloc] init];\n    }\n\n    if (self.workingEntry)\n        storingCharacterData = [elementsToParse containsObject:elementName];\n    }\n</code></pre>\n\n<p>When I view the array using NSLog, instead of showing the array data, it shows something like this:</p>\n\n<pre><code>\"&lt;AppRecord: 0x1c00de840&gt;\",\n\"&lt;AppRecord: 0x1c00de8b0&gt;\",\n\"&lt;AppRecord: 0x1c00de920&gt;\",\n\"&lt;AppRecord: 0x1c40ded10&gt;\",\n\"&lt;AppRecord: 0x1c00de990&gt;\",\n\"&lt;AppRecord: 0x1c40ded80&gt;\",\n\"&lt;AppRecord: 0x1c00dea00&gt;\",\n</code></pre>\n\n<p>How can I properly convert this to normal strings that I can save to a text file?</p>\n"}, {"tags": ["objective-c", "nspredicate"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1536950680, "post_id": 52336680, "comment_id": 91622601, "body": "You should read the <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html#//apple_ref/doc/uid/TP40001795\" rel=\"nofollow noreferrer\">Predicate Format String Syntax</a> document. This is linked in the reference documentation for <code>NSPredicate</code>."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 9381256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alex", "link": "https://stackoverflow.com/users/9381256/alex"}, "edited": false, "score": 0, "creation_date": 1536947527, "post_id": 52336928, "comment_id": 91621218, "body": "Perfect! it worked, I see also that its doesn&#39;t matter if the word is lowercased or not, but why ? what is &quot;CONTAINS[cd]&quot; mean ? I saw many types of operator as you said but no idia witch one to use were. is there a place were it is explaind in more ditails ?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "reply_to_user": {"reputation": 97, "user_id": 9381256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alex", "link": "https://stackoverflow.com/users/9381256/alex"}, "edited": false, "score": 0, "creation_date": 1536948020, "post_id": 52336928, "comment_id": 91621420, "body": "<code>[c]</code> is case insensitive, <code>[d]</code> is diacritic insensitive. The best place is the <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html#//apple_ref/doc/uid/TP40001795-SW1\" rel=\"nofollow noreferrer\">Apple documentation</a>"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 1, "last_activity_date": 1536947085, "creation_date": 1536947085, "answer_id": 52336928, "question_id": 52336680, "link": "https://stackoverflow.com/questions/52336680/objective-c-filter-array-with-predicate/52336928#52336928", "title": "Objective C - Filter array with predicate", "body": "<p>The left side of the operator <code>CONTAINS[cd]</code>is the object the predicate is going to be applied to, which is <code>firstArry</code>. If you want to filter by <code>name</code> the key(path) is just <code>name</code>.</p>\n\n<pre><code>NSPredicate* predicate = [NSPredicate predicateWithFormat:@\"name CONTAINS[cd] %@\",filterWord];\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 9381256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alex", "link": "https://stackoverflow.com/users/9381256/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1536953574, "creation_date": 1536945828, "last_edit_date": 1536953574, "question_id": 52336680, "link": "https://stackoverflow.com/questions/52336680/objective-c-filter-array-with-predicate", "title": "Objective C - Filter array with predicate", "body": "<p>So I have an NMMutableArray which I try to filter using searchBar with no success, Instead of posting all my code I created a project just to understand how it works and everything I find online didn't help me understand this fully</p>\n\n<p>here is my code:</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    NSMutableArray&lt;Model*&gt;* firstArry = [[NSMutableArray alloc] init];\n    NSArray&lt;Model*&gt;* secondArry = [[NSMutableArray alloc] init];\n\n\n    Model* p1 = [[Model alloc] init];\n    p1.name = @\"bob\";\n    p1.lastName = @\"bdas\";\n\n    [firstArry addObject:p1];\n\n    Model* p2 = [[Model alloc] init];\n    p2.name = @\"juny\";\n    p2.lastName = @\"his\";\n\n    [firstArry addObject:p2];\n\n    Model* p3 = [[Model alloc] init];\n    p3.name = @\"junay\";\n    p3.lastName = @\"firs\";\n\n    [firstArry addObject:p3];\n\n    Model* p4 = [[Model alloc] init];\n    p4.name = @\"bobov\";\n    p4.lastName = @\"daskal\";\n\n    [firstArry addObject:p4];\n\n    Model* p5 = [[Model alloc] init];\n    p5.name = @\"dima\";\n    p5.lastName = @\"bonder\";\n\n    [firstArry addObject:p5];\n\n    for (Model* name in firstArry){\n        NSLog(@\"%@\",name.name);\n    }\n\n    NSString* filterWord = @\"bo\";\n\n    NSPredicate* predicate = [NSPredicate predicateWithFormat:@\"keywords.name CONTAINS[cd] %@\",filterWord];\n    secondArry = [firstArry filteredArrayUsingPredicate:predicate];\n\n\n    if(secondArry.count &gt; 0){\n    for (Model* name in firstArry){\n        NSLog(@\"%@\",name.name);\n    }\n    } else {\n        NSLog(@\"second arry is empty\");\n    }\n\n}\n</code></pre>\n\n<p>I want to filter the firstArry with the given filterWord and get a new array with the object which they name property contains it, how to do it and how does it work ?</p>\n"}, {"tags": ["ios", "objective-c", "uitabbarcontroller", "gesture", "uiswipegesturerecognizer"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1536925071, "post_id": 52330899, "comment_id": 91608970, "body": "Create a base UIViewController and subclass it with all view controllers."}, {"owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1536925388, "post_id": 52330899, "comment_id": 91609154, "body": "I do have a base UIViewController class that  all the other VC classes subclass where I could put code.  However, what element would I attach the recognizer to?   I thought of using the UITabBarController as it is a visible element common to all of them."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1536925597, "post_id": 52330899, "comment_id": 91609272, "body": "Attach it to self.view."}], "answers": [{"tags": [], "owner": {"reputation": 3845, "user_id": 475978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40f04d8d5b169cee39e1ff9ce18b9cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Prcela", "link": "https://stackoverflow.com/users/475978/prcela"}, "is_accepted": false, "score": 0, "last_activity_date": 1536930242, "last_edit_date": 1536930242, "creation_date": 1536929463, "answer_id": 52332428, "question_id": 52330899, "link": "https://stackoverflow.com/questions/52330899/ios-objective-c-storyboard-gesture-recognizer-accessible-to-whole-app-with-tabb/52332428#52332428", "title": "IOS/Objective-C/Storyboard: Gesture Recognizer Accessible to Whole App with Tabbar Possible?", "body": "<p>I have a simple idea. It could work.</p>\n\n<p>Edit the class where you want to handle swipe and join the gesture recognizer to the root view.</p>\n\n<pre><code>{\n  guard let parentView = UIApplication.shared.windows.first else {return}\n  // create the recognizer and attach it\n  UISwipeGestureRecognizer *upGesture = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(handleHelp:)];\n  ...\n  parentView.addGestureRecognizer(upwardSwipe)\n}\n\n- (void)handleHelp:(UIGestureRecognizer*)recognizer {\n   [self launchHelpVC];\n}\n</code></pre>\n\n<p>I mixed swift and ObjC but it is simple. UIWindow is derived from UIView so it should handle all gestures that are not handled and passed to next view in hierarchy.</p>\n\n<p>Another, maybe better approach is to add gesture recognizer to tabBar instead of _tabBarController.\nUse <code>_tabBarController.tabBar</code>.</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536930242, "creation_date": 1536923911, "question_id": 52330899, "link": "https://stackoverflow.com/questions/52330899/ios-objective-c-storyboard-gesture-recognizer-accessible-to-whole-app-with-tabb", "title": "IOS/Objective-C/Storyboard: Gesture Recognizer Accessible to Whole App with Tabbar Possible?", "body": "<p>I would like to create a gesture recognizer that would be available across an entire app to give users access to a shortcut/help menu wherever they are.  However, as the app has many screens, I don't want to have to create a separate gesture recognizer in every one.</p>\n\n<p>I thought of using the tabbarcontroller which is available, however, touching anywhere on it seems to represent a tap on the tab bar buttons.</p>\n\n<p>Is it possible to put an upward swipe gesture recognizer on a tab bar that can be distinguished from a tap on a button?  How would I get it to distinguish between the two actions? Some modification of the following?</p>\n\n<pre><code>-(void)createUpwardSwipeTabBAr {\n    UISwipeGestureRecognizer *upGesture = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(handleHelp:)];\n    leftFilter.direction = UISwipeGestureRecognizerDirectionUp;\n    [leftFilter setNumberOfTouchesRequired:1];\n    leftFilter.delegate = self;\n    [_tabBarController addGestureRecognizer:upwardSwipe];\n\n}\n\n-(void)handleHelp:(UIGestureRecognizer*)recognizer {\n[self launchHelpVC];\n}\n</code></pre>\n\n<p>Thanks in advance for any suggestions.</p>\n"}, {"tags": ["ios", "objective-c", "app-store", "stripe-payments", "appstore-approval"], "answers": [{"tags": [], "owner": {"reputation": 1070, "user_id": 5915807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f4095e2e965e552e521bc9d38886d77?s=128&d=identicon&r=PG", "display_name": "korben", "link": "https://stackoverflow.com/users/5915807/korben"}, "is_accepted": false, "score": 0, "last_activity_date": 1537390086, "creation_date": 1537390086, "answer_id": 52414012, "question_id": 52329393, "link": "https://stackoverflow.com/questions/52329393/how-can-i-let-app-store-reviewers-test-the-app-with-stripe/52414012#52414012", "title": "How can I let App Store Reviewers test the App with Stripe?", "body": "<p>I think the best approach here is to keep your API Keys in <em>your</em> database and then allow them to retrieve a key for live or test mode from within the App.  This is usually the best approach anyway.  If they're a connected account already and you know their account id, you can use the <code>Stripe-Account</code>-header and your platform's API Keys to do basically anything.</p>\n\n<p><a href=\"https://stripe.com/docs/connect/authentication#stripe-account-header\" rel=\"nofollow noreferrer\">https://stripe.com/docs/connect/authentication#stripe-account-header</a></p>\n"}], "owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537390086, "creation_date": 1536918615, "question_id": 52329393, "link": "https://stackoverflow.com/questions/52329393/how-can-i-let-app-store-reviewers-test-the-app-with-stripe", "title": "How can I let App Store Reviewers test the App with Stripe?", "body": "<p>Our App has Stripe Connect integrated as the payment gateway.</p>\n\n<p>How can I let reviewers test the payment functionality, when Stripe is in live mode? What is the best use case here?</p>\n\n<p>(Ideally, I'd provide two demo accounts with two different roles: buyer and seller, which means two stripe accounts are required</p>\n\n<p>Possible Solutions I have thought about:</p>\n\n<ul>\n<li><p>Store live and test keys in database, and allow the reviewer to test payments with test cards/accounts. If App is accepted, updating the keys manually in the backend to comply.</p></li>\n<li><p>Advising them to not test payments at all, unless they don't have a demo stripe account themselves.</p></li>\n</ul>\n\n<p>Would be great to receive any help/advice!</p>\n\n<p>P.S.: other similar questions (I could find) have not been answered in this regard, not well enough, eg: <a href=\"https://stackoverflow.com/questions/39540270/publish-app-to-app-store-with-stripe\">Publish app to App Store with Stripe</a></p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1536918336, "post_id": 52329062, "comment_id": 91605289, "body": "If <code>self</code> is used in a class method, doing <code>[ClassName otherClassMethod]</code> is the same as <code>[self otherClassMethod]</code> But to clarify, you might want to show also what are your code/called and the logs produced (in copy/pasted, not screenshot)"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1536943503, "post_id": 52329062, "comment_id": 91619335, "body": "Please don&#39;t post text as a picture. Copy and paste the text of your code run results into your question as text. It&#39;s much easier to read, reference, search, and post."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8762586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3080de424fdfc8c9ca1c76da7f27bc0f?s=128&d=identicon&r=PG&f=1", "display_name": "li.cheng", "link": "https://stackoverflow.com/users/8762586/li-cheng"}, "edited": false, "score": 0, "creation_date": 1537149561, "post_id": 52333866, "comment_id": 91664189, "body": "What&#39;s the bottom layer of self, is it a structure? @Lukas"}, {"owner": {"reputation": 1851, "user_id": 2513803, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c67374e6d7e2710967b8a09234ce4f9c?s=128&d=identicon&r=PG&f=1", "display_name": "lukas", "link": "https://stackoverflow.com/users/2513803/lukas"}, "reply_to_user": {"reputation": 9, "user_id": 8762586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3080de424fdfc8c9ca1c76da7f27bc0f?s=128&d=identicon&r=PG&f=1", "display_name": "li.cheng", "link": "https://stackoverflow.com/users/8762586/li-cheng"}, "edited": false, "score": 0, "creation_date": 1537612064, "post_id": 52333866, "comment_id": 91853892, "body": "@li.cheng pretty much, yeah. <code>self</code> has the same &quot;structure&quot; as any other instance of an objc class. basically, all classes are C structs w/ a so called <code>isa</code> pointer pointing to the object&#39;s class. (see this guide for more information: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaObjects/CocoaObjects.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/archive/documentation/Cocoa/&hellip;</a> )"}], "tags": [], "owner": {"reputation": 1851, "user_id": 2513803, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c67374e6d7e2710967b8a09234ce4f9c?s=128&d=identicon&r=PG&f=1", "display_name": "lukas", "link": "https://stackoverflow.com/users/2513803/lukas"}, "is_accepted": false, "score": 2, "last_activity_date": 1536934675, "creation_date": 1536934675, "answer_id": 52333866, "question_id": 52329062, "link": "https://stackoverflow.com/questions/52329062/whats-the-internal-structure-of-self/52333866#52333866", "title": "What&#39;s the internal structure of self?", "body": "<p>For instance methods, <code>self</code> is a reference to the current object.<br>\nFor class methods, <code>self</code> is a reference to the current class.</p>\n\n<p>If you declare an Objective-C method like this</p>\n\n<pre><code>- (void)doSomethingWithObject:(id)object { ... }\n</code></pre>\n\n<p>the compiler basically just turns it into a a C function with the following signature:</p>\n\n<pre><code>void _i_classname_doSomethingWithObject_(const id self, const SEL _cmd, id object) { ... }\n</code></pre>\n\n<p>(where classname is the name of the class the method belongs to. for class methods, the <code>i</code> becomes a <code>c</code>)</p>\n\n<p><br>\nWhen you call the method <code>[foo doSomethingWithObject:bar]</code>, the compiler turns that method call into a call to <a href=\"https://developer.apple.com/documentation/objectivec/1456712-objc_msgsend\" rel=\"nofollow noreferrer\"><code>objc_msgSend</code></a>, which \"forwards\" the call to the correct implementation:</p>\n\n<pre><code>objc_msgSend(foo, @selector(doSomethingWithObject:), bar);\n</code></pre>\n\n<p>As you can see, the parameters passed to <code>objc_megSend</code> are the same expected by the C function containing the implementation of the Objective-C method.</p>\n"}, {"tags": [], "owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "is_accepted": false, "score": 1, "last_activity_date": 1537159792, "creation_date": 1537159792, "answer_id": 52360915, "question_id": 52329062, "link": "https://stackoverflow.com/questions/52329062/whats-the-internal-structure-of-self/52360915#52360915", "title": "What&#39;s the internal structure of self?", "body": "<p>These are implementation details, so you shouldn't rely on them:</p>\n\n<p><code>self</code> is either a <a href=\"https://stackoverflow.com/questions/20362406/tagged-pointers-in-objective-c\">tagged pointer</a> or a genuine pointer to an struct that starts with the <code>isa</code> field and then contains all of the object's instance variables.</p>\n\n<p>The <code>isa</code> field is itself either a <a href=\"http://www.sealiesoftware.com/blog/archive/2013/09/24/objc_explain_Non-pointer_isa.html\" rel=\"nofollow noreferrer\">set of bitfields</a> that contains the instance's retain contain, some flags, and a pointer to the <code>Class</code> of the instance, or (on older and 32-bit platforms) it is just a pointer to the <code>Class</code> of the instance (in which case the retain count is stored in a global hash table).</p>\n"}], "owner": {"reputation": 9, "user_id": 8762586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3080de424fdfc8c9ca1c76da7f27bc0f?s=128&d=identicon&r=PG&f=1", "display_name": "li.cheng", "link": "https://stackoverflow.com/users/8762586/li-cheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1537159792, "creation_date": 1536917661, "last_edit_date": 1537148049, "question_id": 52329062, "link": "https://stackoverflow.com/questions/52329062/whats-the-internal-structure-of-self", "title": "What&#39;s the internal structure of self?", "body": "<p>Why can self be used in implementation methods, or in class methods? What's the internal structure of self? eg:</p>\n\n<pre><code>#import \"Person.h\"\n\n@implementation Person\n+ (void)initialize\n{\n    [super initialize];\n    [self setupModel];\n}\n- (instancetype)init\n{\n    self = [super init];\n    if (self) {\n        [self test];\n    }\n    return self;\n}\n+ (void)setupModel\n{\n    NSLog(@\"setup a person object\");\n}\n- (void)test\n{\n    NSLog(@\"this method is called\");\n}\n@end\n</code></pre>\n\n<p>Code run results:\n2018-09-17 09:32:40.615578+0800 Test[662:301213] setup a person object\n2018-09-17 09:32:40.615662+0800 Test[662:301213] this method is called</p>\n\n<p><a href=\"https://i.stack.imgur.com/pPHgD.png\" rel=\"nofollow noreferrer\">Code run results</a></p>\n"}, {"tags": ["ios", "objective-c", "ssl", "afnetworking", "certificate-pinning"], "comments": [{"owner": {"reputation": 277, "user_id": 5184217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xv4BW.jpg?s=128&g=1", "display_name": "Rajesh Dharani", "link": "https://stackoverflow.com/users/5184217/rajesh-dharani"}, "edited": false, "score": 0, "creation_date": 1536917681, "post_id": 52327066, "comment_id": 91604903, "body": "I didn&#39;t work on SSL Pinning but check below link it might be useful to you <a href=\"https://infinum.co/the-capsized-eight/how-to-make-your-ios-apps-more-secure-with-ssl-pinning\" rel=\"nofollow noreferrer\">infinum.co/the-capsized-eight/&hellip;</a>"}, {"owner": {"reputation": 197, "user_id": 987376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb3d0945da25e1808813a10447c1cf1d?s=128&d=identicon&r=PG", "display_name": "myaug", "link": "https://stackoverflow.com/users/987376/myaug"}, "edited": false, "score": 0, "creation_date": 1538126994, "post_id": 52327066, "comment_id": 92043372, "body": "I&#39;ve got the same problem. Did you find a solution?"}, {"owner": {"reputation": 1267, "user_id": 1514066, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/FOQOA.jpg?s=128&g=1", "display_name": "Emre G&#252;rses", "link": "https://stackoverflow.com/users/1514066/emre-g%c3%bcrses"}, "edited": false, "score": 0, "creation_date": 1538141173, "post_id": 52327066, "comment_id": 92051278, "body": "i vote your question. I am in stuck just like you."}, {"owner": {"reputation": 5196, "user_id": 6454622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8rOa.jpg?s=128&g=1", "display_name": "Exadra37", "link": "https://stackoverflow.com/users/6454622/exadra37"}, "edited": false, "score": 0, "creation_date": 1559567107, "post_id": 52327066, "comment_id": 99450412, "body": "Trusting on First Use(TOFU) is highly dis-encouraged, from a security point of view. What are you trying to achieve?"}], "owner": {"reputation": 108, "user_id": 1862448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/046e08ca38d5c442ebf49e948e54f2eb?s=128&d=identicon&r=PG", "display_name": "Murat Ad\u0131g&#252;zel", "link": "https://stackoverflow.com/users/1862448/murat-ad%c4%b1g%c3%bczel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1536915082, "creation_date": 1536910462, "last_edit_date": 1536915082, "question_id": 52327066, "link": "https://stackoverflow.com/questions/52327066/change-ssl-pinning-mode-on-runtime-in-afnetworking", "title": "Change SSL Pinning mode on runtime in AFNetworking", "body": "<p>We have a trouble with AFNetworking library when we check for SLL Pinning. We need to change SLL Pinning mode on runtime but changing doest not effect for some reason. For instance, we don't want to check sll pinning for first the request, but want for the other ones. Any help would be really appreciated.</p>\n\n<p>Here is how we set the SSL mode dynamically with <code>willCheckForSSLPinning</code> variable;</p>\n\n<pre><code>if ([ConnectionUtil connectedToInternet]) {\n    AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];\n\n    if (willCheckForSSLPinning) {\n        manager.securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModePublicKey];\n    } else {\n        manager.securityPolicy = [AFSecurityPolicy defaultPolicy];   \n    }\n    ....\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "audio-streaming", "audio-recording"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 1, "creation_date": 1536898405, "post_id": 52324703, "comment_id": 91596662, "body": "Set the capture session&#39;s <code>automaticallyConfiguresApplicationAudioSession</code> property to NO."}, {"owner": {"reputation": 1636, "user_id": 1061074, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bf13ca296f2d22c64b0a8167e916785c?s=128&d=identicon&r=PG", "display_name": "Siu Chung Chan", "link": "https://stackoverflow.com/users/1061074/siu-chung-chan"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1536907812, "post_id": 52324703, "comment_id": 91599625, "body": "it works!!! thanks"}], "owner": {"reputation": 1636, "user_id": 1061074, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/bf13ca296f2d22c64b0a8167e916785c?s=128&d=identicon&r=PG", "display_name": "Siu Chung Chan", "link": "https://stackoverflow.com/users/1061074/siu-chung-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1536896803, "creation_date": 1536896803, "question_id": 52324703, "link": "https://stackoverflow.com/questions/52324703/avcapturesession-with-bluetoothhfp-device", "title": "AVCaptureSession with BluetoothHFP device", "body": "<p>I need to stream the voice data to server, so I can't use AVAudioRecorder.\nHere is my approach.</p>\n\n<p>set it Allow Bluetooth and activate it</p>\n\n<pre><code>NSError* e;\nAVAudioSession* audioSession = [AVAudioSession sharedInstance];\n[audioSession setCategory:AVAudioSessionCategoryRecord\n                                     withOptions:AVAudioSessionCategoryOptionAllowBluetooth\n                                           error:nil];\n[audioSession setActive:YES withOptions:0 error:&amp;e];\n</code></pre>\n\n<p>I did setup the notification for AVAudioSessionRouteChangeNotification\nso I see the input source changed to BluetoothHFP</p>\n\n<p>but seems there is no way to configure a BluetoothHFP input to AVCaptureDeviceInput.</p>\n\n<pre><code>    self.captureSession = [[AVCaptureSession alloc] init];\n        self.captureSession.sessionPreset = AVCaptureSessionPresetLow;\n\n    AVCaptureDevice* captureDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeAudio];\n\n    AVCaptureDeviceInput* audioInput = [AVCaptureDeviceInput deviceInputWithDevice:captureDevice error:&amp;error];\n\n    if(audioInput &amp;&amp; [self.captureSession canAddInput:audioInput]){\n        [self.captureSession addInput:audioInput];\n    }\n</code></pre>\n\n<p>after doing so, the input source changed to iPhone MicroPhone.</p>\n\n<p>is there anyway I can get the BluetoothHFP input as AVCaptureDeviceInput??</p>\n"}, {"tags": ["objective-c", "unusernotificationcenter"], "comments": [{"owner": {"reputation": 20556, "user_id": 1059025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d7aee8fa1fce32d3c31d5f6dda8f98?s=128&d=identicon&r=PG", "display_name": "quellish", "link": "https://stackoverflow.com/users/1059025/quellish"}, "edited": false, "score": 0, "creation_date": 1537389095, "post_id": 52323402, "comment_id": 91771283, "body": "Please update your question with a notification payload."}, {"owner": {"reputation": 391, "user_id": 5161576, "user_type": "registered", "accept_rate": 11, "profile_image": "https://graph.facebook.com/10206464867679099/picture?type=large", "display_name": "Nelson Capes", "link": "https://stackoverflow.com/users/5161576/nelson-capes"}, "reply_to_user": {"reputation": 20556, "user_id": 1059025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d7aee8fa1fce32d3c31d5f6dda8f98?s=128&d=identicon&r=PG", "display_name": "quellish", "link": "https://stackoverflow.com/users/1059025/quellish"}, "edited": false, "score": 0, "creation_date": 1537502806, "post_id": 52323402, "comment_id": 91815999, "body": "These are local notifications not push"}], "owner": {"reputation": 391, "user_id": 5161576, "user_type": "registered", "accept_rate": 11, "profile_image": "https://graph.facebook.com/10206464867679099/picture?type=large", "display_name": "Nelson Capes", "link": "https://stackoverflow.com/users/5161576/nelson-capes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536884722, "creation_date": 1536884722, "question_id": 52323402, "link": "https://stackoverflow.com/questions/52323402/unusernotificationcenter-did-receive-response-with-completion-handler-is-never-c", "title": "UNUserNotificationCenter did receive response with completion handler is never called iOS11, objective-C", "body": "<p>Occasionally one of my users reports that he does not receive a sound or banner that should be posted when</p>\n\n<ul>\n<li><p>(void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void (^)(void))completionHandler</p>\n\n<p>is called by the system. I have an internal trace that runs on devices that have received my app from the App Store and confirm that this method is not called.  The trace also shows that multiple (64) notification requests have been posted to the system. I have done extensive searching for this issue and all suggested answers reflect what I am doing in the code.  Here is the code in appDelegate that sets up the notification center and the delegate methods (non-relevant code omitted is indicated by three dots). I would appreciate any help in trying to solve this problem.</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n        // Override point for customization after application launch.\n        NSUserDefaults *storage = [NSUserDefaults standardUserDefaults];\n        UNUserNotificationCenter* center = [UNUserNotificationCenter currentNotificationCenter];\n\n        UILocalNotification *notification = [launchOptions objectForKey:UIApplicationLaunchOptionsLocalNotificationKey];\n        if (notification) {\n\n            NSLog(@\"application didFinishLaunching with UIApplicationLaunchOptionsLocalNotificationKey\");\n            [self applicationDidBecomeActive:application];\n        }\n\n\n        UILocalNotification *notification = [launchOptions objectForKey:UIApplicationLaunchOptionsLocalNotificationKey];\n        if (notification) {\n            // run after a delay so that the cordova/kendo app has time to get ready\n            //  [self performSelector:@selector(postNotification:) withObject:notification afterDelay:4.0];\n            NSLog(@\"application didFinishLaunching with UIApplicationLaunchOptionsLocalNotificationKey\");\n            [self applicationDidBecomeActive:application];\n        }\n</code></pre></li>\n</ul>\n\n<p>\u2026</p>\n\n<pre><code>  center.delegate = self;\n    [center requestAuthorizationWithOptions:(UNAuthorizationOptionAlert + UNAuthorizationOptionSound)\n                          completionHandler:^(BOOL granted, NSError * _Nullable error) {\n                              // Enable or disable features based on authorization.\n                              NSUserDefaults *storage = [NSUserDefaults standardUserDefaults];\n                              if(granted == YES){\n                                  [storage setBool:YES forKey:@\"permission granted\"];\n                                  [storage setBool:YES forKey:@\"alert permission granted\"];\n                                  [storage setBool:YES forKey:@\"sound permission granted\"];\n                              }else{\n                                  NSLog(@\"No permission granted\");\n                                  [storage setBool:NO forKey:@\"permission granted\"];\n                              };\n                          }];\n</code></pre>\n\n<p>\u2026</p>\n\n<pre><code> #pragma mark UNNotificationCenter setup\n\n    UNNotificationAction *acceptAction = [UNNotificationAction actionWithIdentifier:@\"ACCEPT_IDENTIFIER\" title:NSLocalizedString(@\"Continue notifications\", nil) options:UNNotificationActionOptionAuthenticationRequired];\n    UNNotificationAction *declineAction = [UNNotificationAction actionWithIdentifier:@\"DECLINE_IDENTIFIER\" title:NSLocalizedString(@\"Stop notifications\", nil) options:UNNotificationActionOptionAuthenticationRequired];\n    UNNotificationAction *doNotDisturbAction = [UNNotificationAction actionWithIdentifier:@\"DO_NOT_DISTURB_IDENTIFIER\" title:NSLocalizedString(@\"Start Do Not Disturb\", nil) options:UNNotificationActionOptionAuthenticationRequired];\n    NSArray *actions = [NSArray arrayWithObjects:acceptAction, declineAction, doNotDisturbAction, nil];\n    // NSArray *intentIdentifiers = [NSArray arrayWithObjects:@\"none\", nil];\n    UNNotificationCategory *invite = [UNNotificationCategory categoryWithIdentifier:@\"com.nelsoncapes.localNotification\" actions:actions intentIdentifiers: @[] options:UNNotificationCategoryOptionNone];\n    NSSet *categories = [NSSet setWithObjects:invite, nil];\n    [center setNotificationCategories:categories];\n    [center requestAuthorizationWithOptions:(UNAuthorizationOptionAlert + UNAuthorizationOptionSound)\n                          completionHandler:^(BOOL granted, NSError * _Nullable error) {\n                              // Enable or disable features based on authorization.\n                          }];\n\n    [self setupWatchConnectivity];\n    return YES\n</code></pre>\n\n<p>\u2026</p>\n\n<pre><code>    #pragma mark UNNotification received in background\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void (^)(void))completionHandler{\n    [center getNotificationSettingsWithCompletionHandler:^(UNNotificationSettings * _Nonnull settings) {\n        NSLog(@\"notification settings were changed\");\n        NSUserDefaults *storage = [NSUserDefaults standardUserDefaults];\n        [storage setBool:YES forKey:KEventLoggerEventNotificationSettingsChanged];\n        [storage synchronize];\n\n\n        if (settings.authorizationStatus != UNAuthorizationStatusAuthorized) {\n            // Notifications not allowed\n            NSLog(@\"notification settings were changed\");\n            item.eventDescription = KEventLoggerEventNotificationsNotAllowed;\n\n            // check settings for alert and sound\n        }\n       // UNNotificationSetting alertSetting = settings.alertSetting;\n            if(settings.alertSetting == UNNotificationSettingEnabled){\n                [storage setBool:YES forKey:@\"alert permission granted\"];\n                item.eventDescription = KEventLoggerEventAlertsAreAllowed;\n            }else{[storage setBool:NO forKey:@\"alert permission granted\"];\n                item.eventDescription = KEventLoggerEventAlertsAreNotAllowed;\n            }\n            if (settings.soundSetting == UNNotificationSettingEnabled){\n                [storage setBool:YES forKey:@\"sound permission granted\"];\n                item.eventDescription = KEventLoggerEventSoundsAreAllowed;\n            }else {[storage setBool:NO forKey:@\"sound permission granted\"];\n                item.eventDescription = KEventLoggerEventSoundsAreNotAllowed;\n            }\n\n    }];\n    NSLog(@\"appdelegate - center didReceiveNotificationResponse\");\n    NSString *actionIdentifier = response.actionIdentifier;\n\n    UNNotification *notification = response.notification;\n    if([actionIdentifier isEqual:@\"com.apple.UNNotificationDefaultActionIdentifier\"] || [actionIdentifier isEqual:@\"com.apple.UNNotificationDismissActionIdentifier\"]){\n    }else{\n\n\n        BOOL accept = [actionIdentifier isEqual:@\"ACCEPT_IDENTIFIER\"];\n        BOOL stop = [actionIdentifier isEqual:@\"DECLINE_IDENTIFIER\"];\n        BOOL doNotDisturb = [actionIdentifier isEqual:@\"DO_NOT_DISTURB_IDENTIFIER\"];\n\n        if (accept){NSLog(@\"accept\");\n            [self handleAcceptActionWithNotification:notification];\n        }\n        else if (stop){NSLog(@\"stop\");\n            [self handleDeclineActionWithNotification:notification];\n        }\n        else if(doNotDisturb) {NSLog(@\"do not disturb\");\n            [self handleDoNotDisturbActionWithNotification:notification];\n        };\n    }\n\n    completionHandler();\n}\n</code></pre>\n\n<p>\u2026</p>\n\n<pre><code>*#pragma mark UNNotification received in foreground\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(UNNotification *)notification withCompletionHandler:(void (^)(UNNotificationPresentationOptions options))completionHandler{\n    NSLog(@\"appdelegate willPresentNotification\");\n    [center getNotificationSettingsWithCompletionHandler:^(UNNotificationSettings * _Nonnull settings) {\n        NSLog(@\"notification settings were changed\");\n        NRCEventItem *item = [[NRCEventStore sharedStore]createItem];\n        item.eventDateTime = [NSDate date];\n        item.timeZone = [NSTimeZone localTimeZone];\n        item.eventSender = [self description];\n\n        NSUserDefaults *storage = [NSUserDefaults standardUserDefaults];\n\n\n        if (settings.authorizationStatus != UNAuthorizationStatusAuthorized) {\n            // Notifications not allowed\n            NSLog(@\"notification settings were changed\");\n            item.eventDescription = KEventLoggerEventNotificationsNotAllowed;\n            // check settings for alert and sound\n        }\n        if(settings.alertSetting == UNNotificationSettingEnabled){\n            [storage setBool:YES forKey:@\"alert permission granted\"];\n            item.eventDescription = KEventLoggerEventAlertsAreAllowed;\n        }else{[storage setBool:NO forKey:@\"alert permission granted\"];\n            item.eventDescription = KEventLoggerEventAlertsAreNotAllowed;\n        }\n        if (settings.soundSetting == UNNotificationSettingEnabled){\n            [storage setBool:YES forKey:@\"sound permission granted\"];\n            item.eventDescription = KEventLoggerEventSoundsAreAllowed;\n        }else {[storage setBool:NO forKey:@\"sound permission granted\"];\n            item.eventDescription = KEventLoggerEventSoundsAreNotAllowed;\n        }\n\n    }];\n    UNNotificationRequest * request = notification.request;\n    NSString * actionIdentifier = request.identifier;\n    if([actionIdentifier isEqualToString:UNNotificationDismissActionIdentifier] || [actionIdentifier isEqualToString:UNNotificationDefaultActionIdentifier]){\n    }else{\n            NSLog(@\"app delegate notification received while in foreground\");\n\n\n\n            // remind the user\n            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:NSLocalizedString(@\"notification\", nil) message:@\"Timer expired!\" delegate:self cancelButtonTitle:@\"OK\" otherButtonTitles: nil];\n            [alert show];\n            NSLog(@\"app delegate willPresentNotificationWithCompletionHandler: dnd is not started\");\n        }else{\n            NSLog(@\"app delegate willPresentNotificationWithCompletionHandler: dnd has started\");\n            [center removeAllPendingNotificationRequests];\n            [center removeAllDeliveredNotifications];\n        }\n    }\n\n\n\n    completionHandler(UNNotificationPresentationOptionAlert + UNNotificationPresentationOptionSound);\n\n}*\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 2127376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8690a397abc50f9c233bc019b468f8a7?s=128&d=identicon&r=PG", "display_name": "ahmed", "link": "https://stackoverflow.com/users/2127376/ahmed"}, "edited": false, "score": 0, "creation_date": 1536885541, "post_id": 52323432, "comment_id": 91594235, "body": "It worked like a charm. Thank you! It didn&#39;t occur to me that it would work the same way as the <code>@interface</code> declaration works."}], "tags": [], "owner": {"reputation": 1090, "user_id": 1425697, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5f0a71e96c0a754159f0eb3a03e0310a?s=128&d=identicon&r=PG", "display_name": "AnderCover", "link": "https://stackoverflow.com/users/1425697/andercover"}, "is_accepted": true, "score": 1, "last_activity_date": 1536885024, "creation_date": 1536885024, "answer_id": 52323432, "question_id": 52323077, "link": "https://stackoverflow.com/questions/52323077/forward-declaration-and-parametrized-classes/52323432#52323432", "title": "Forward declaration and parametrized classes", "body": "<p>If I understand correctly you're trying to declare a property of type <code>ParameterizedClass&lt;Type&gt;</code> in your header and the compiler complains because all the only declaration of <code>ParameterizedClass</code> it knows is non-parameterized (i.e. <code>@class ParameterizedClass;</code>.)</p>\n\n<p>I suggest you change your forward declaration to <code>@class ParameterizedClass&lt;T&gt;;</code></p>\n\n<p>You'll then be able to declare your property :\n<code>@property (strong, nonatomic) ParameterizedClass&lt;Type *&gt; * property;</code></p>\n"}], "owner": {"reputation": 801, "user_id": 2127376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8690a397abc50f9c233bc019b468f8a7?s=128&d=identicon&r=PG", "display_name": "ahmed", "link": "https://stackoverflow.com/users/2127376/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 52323432, "answer_count": 1, "score": 1, "last_activity_date": 1536885024, "creation_date": 1536881587, "question_id": 52323077, "link": "https://stackoverflow.com/questions/52323077/forward-declaration-and-parametrized-classes", "title": "Forward declaration and parametrized classes", "body": "<p>I have a parameterized class let us call it <code>ParameterizedClass</code>. When I use it in a header file using forward declaration (<code>@class ParameterizedClass;</code>) the compiler outputs this error <code>Type arguments cannot be applied to non-parameterized class 'ParameterizedClass'</code> if I declare a property <code>ParameterizedClass&lt;Type&gt;</code>.</p>\n\n<p>How can I use parameters while still using forward declaration without importing the class's header?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1536902990, "post_id": 52322944, "comment_id": 91597819, "body": "simply write clear message. why you need camera access ? for example, you can say that.. &quot;app would like to access camera to upload picture&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1536881663, "post_id": 52323027, "comment_id": 91593541, "body": "Do they provide this documentation somewhere with the Obj-c method? :/"}, {"owner": {"reputation": 716, "user_id": 9064259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307639b9e9bc039ed0d85c6811dc05f?s=128&d=identicon&r=PG", "display_name": "Pranay", "link": "https://stackoverflow.com/users/9064259/pranay"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 2, "creation_date": 1536882137, "post_id": 52323027, "comment_id": 91593632, "body": "@Brittany You don&#39;t need to write any code. Like @AnderCover said, just put the <code>NSCameraUsageDescription</code> key in your plist file and set the value to the message you want to be shown on the alert. iOS takes care of the rest."}, {"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "reply_to_user": {"reputation": 716, "user_id": 9064259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307639b9e9bc039ed0d85c6811dc05f?s=128&d=identicon&r=PG", "display_name": "Pranay", "link": "https://stackoverflow.com/users/9064259/pranay"}, "edited": false, "score": 0, "creation_date": 1536883124, "post_id": 52323027, "comment_id": 91593825, "body": "@Pranay I updated it in info.plist, and I still get the same message I got before? &quot;[App Name] would like to access your camera&quot;"}, {"owner": {"reputation": 1090, "user_id": 1425697, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5f0a71e96c0a754159f0eb3a03e0310a?s=128&d=identicon&r=PG", "display_name": "AnderCover", "link": "https://stackoverflow.com/users/1425697/andercover"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1536884010, "post_id": 52323027, "comment_id": 91593961, "body": "@Brittany weird, did you try to clean your Derived Data (\u2318\u21e7K) ?"}], "tags": [], "owner": {"reputation": 1090, "user_id": 1425697, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5f0a71e96c0a754159f0eb3a03e0310a?s=128&d=identicon&r=PG", "display_name": "AnderCover", "link": "https://stackoverflow.com/users/1425697/andercover"}, "is_accepted": true, "score": 2, "last_activity_date": 1536881156, "last_edit_date": 1592644375, "creation_date": 1536881156, "answer_id": 52323027, "question_id": 52322944, "link": "https://stackoverflow.com/questions/52322944/ios-obj-c-change-request-access-to-camera-text/52323027#52323027", "title": "iOS / Obj-C - Change request access to camera text?", "body": "<p><a href=\"https://developer.apple.com/documentation/avfoundation/cameras_and_media_capture/requesting_authorization_for_media_capture?language=objc\" rel=\"nofollow noreferrer\">AVFoundation Documentation</a> states that you have to add <a href=\"https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/plist/info/NSCameraUsageDescription\" rel=\"nofollow noreferrer\">NSCameraUsageDescription</a> in your Info.plist and provide a clear message to explain your users why your app needs to use the camera.</p>\n<p>This is actually mandatory and the documentation is clear about that :</p>\n<blockquote>\n<p><strong>Important</strong></p>\n<p>If the appropriate key is not present in your app's Info.plist file when your app requests authorization or attempts to use a capture device, the system terminates your app.</p>\n</blockquote>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 52323027, "answer_count": 1, "score": 1, "last_activity_date": 1536881156, "creation_date": 1536880493, "question_id": 52322944, "link": "https://stackoverflow.com/questions/52322944/ios-obj-c-change-request-access-to-camera-text", "title": "iOS / Obj-C - Change request access to camera text?", "body": "<p>I submitted my app to the Apple App Store. My app requests permission to access a user's camera roll, and in doing so presents a system generated message that says: </p>\n\n<blockquote>\n  <p>\"[App Name] would like to access your camera\"</p>\n</blockquote>\n\n<p>. That said, Apple rejected the app becaues the alert needs to state WHY access is needed and how it will be used by the app.</p>\n\n<p>Having said that, how can I customize the alert message? This message is generated by the system as far as I know, as my code doesn't include it...</p>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>- (IBAction)selectPhoto:(id)sender {\n\n\n    UIImagePickerController *picker = [[UIImagePickerController alloc] init];\n    picker.delegate = self;\n    picker.allowsEditing = YES;\n    picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;\n\n    [self presentViewController:picker animated:YES completion:NULL];\n\n\n}\n\n- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {\n\n    UIImage *chosenImage = info[UIImagePickerControllerEditedImage];\n    self.imageView.image = chosenImage;\n\n    [picker dismissViewControllerAnimated:YES completion:NULL];\n\n}\n\n- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker {\n\n    [picker dismissViewControllerAnimated:YES completion:NULL];\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "nsuserdefaults", "macos-high-sierra"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1536871714, "post_id": 52321446, "comment_id": 91590814, "body": "Where are the files stored? In your app&#39;s Documents folder?"}, {"owner": {"reputation": 4579, "user_id": 268864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/383232a6c9790205dc3c84ef6ea9eb4b?s=128&d=identicon&r=PG", "display_name": "theMikeSwan", "link": "https://stackoverflow.com/users/268864/themikeswan"}, "edited": false, "score": 0, "creation_date": 1536871885, "post_id": 52321446, "comment_id": 91590893, "body": "As a test to make sure the URL isn&#39;t getting mangled somehow add a check right after you sync the defaults. Read the value right back out of the defaults into another variable (like <code>readURL</code>). Do a comparison between the URLs in code to make sure nothing was lost or altered."}, {"owner": {"reputation": 11, "user_id": 6876725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a595afce2ca8ed278193232a9777ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Joris", "link": "https://stackoverflow.com/users/6876725/joris"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1536872037, "post_id": 52321446, "comment_id": 91590956, "body": "@rmaddy: They are in a subfolder of my own projects folder, not of the App itself."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1536872102, "post_id": 52321446, "comment_id": 91590977, "body": "Your app can only access files that are packaged in the app&#39;s bundle or files you have stored at runtime within the app&#39;s sandbox (such as the Documents folder)."}, {"owner": {"reputation": 11, "user_id": 6876725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a595afce2ca8ed278193232a9777ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Joris", "link": "https://stackoverflow.com/users/6876725/joris"}, "reply_to_user": {"reputation": 4579, "user_id": 268864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/383232a6c9790205dc3c84ef6ea9eb4b?s=128&d=identicon&r=PG", "display_name": "theMikeSwan", "link": "https://stackoverflow.com/users/268864/themikeswan"}, "edited": false, "score": 0, "creation_date": 1536872296, "post_id": 52321446, "comment_id": 91591048, "body": "@theMikeSwan: I did that. As far as I can tell, they are identical (with NSLog; there are nog spaces or weird characters in them)."}, {"owner": {"reputation": 11, "user_id": 6876725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a595afce2ca8ed278193232a9777ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Joris", "link": "https://stackoverflow.com/users/6876725/joris"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1536872462, "post_id": 52321446, "comment_id": 91591130, "body": "@rmaddy: also in OSX? (I forgot to mention that, sorry) Why can I select the file without problem? It only doesn&#39;t work when the URL comes from NSUserDefaults. Does it test on that then?"}, {"owner": {"reputation": 4579, "user_id": 268864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/383232a6c9790205dc3c84ef6ea9eb4b?s=128&d=identicon&r=PG", "display_name": "theMikeSwan", "link": "https://stackoverflow.com/users/268864/themikeswan"}, "edited": false, "score": 0, "creation_date": 1536874233, "post_id": 52321446, "comment_id": 91591729, "body": "I don&#39;t mean look at the strings to see if they <i>look</i> alike, use <code>isEqualTo:</code> to let the computer tell you if they are the same."}, {"owner": {"reputation": 11, "user_id": 6876725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a595afce2ca8ed278193232a9777ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Joris", "link": "https://stackoverflow.com/users/6876725/joris"}, "reply_to_user": {"reputation": 4579, "user_id": 268864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/383232a6c9790205dc3c84ef6ea9eb4b?s=128&d=identicon&r=PG", "display_name": "theMikeSwan", "link": "https://stackoverflow.com/users/268864/themikeswan"}, "edited": false, "score": 0, "creation_date": 1536912628, "post_id": 52321446, "comment_id": 91602118, "body": "@theMikeSwan: good point. I checked, <code>isEqualTo:</code> returns true..."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1536914215, "post_id": 52321446, "comment_id": 91602870, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47765940/objective-c-writetofile-successful-but-removefile-returns-error-for-same-file\">Objective C - writeToFile successful but removeFile returns error for same file</a>"}, {"owner": {"reputation": 972, "user_id": 2215652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb864c1c7ab014294994aa5159d96b36?s=128&d=identicon&r=PG", "display_name": "VitorMM", "link": "https://stackoverflow.com/users/2215652/vitormm"}, "edited": false, "score": 0, "creation_date": 1537196010, "post_id": 52321446, "comment_id": 91685492, "body": "There is any specific reason for storing the URL (NSURL) instead of the URL path (NSString)? Maybe that can solve your issue."}], "owner": {"reputation": 11, "user_id": 6876725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a595afce2ca8ed278193232a9777ba7?s=128&d=identicon&r=PG&f=1", "display_name": "Joris", "link": "https://stackoverflow.com/users/6876725/joris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1536990079, "creation_date": 1536870886, "last_edit_date": 1536990079, "question_id": 52321446, "link": "https://stackoverflow.com/questions/52321446/nsstring-stringwithcontentsofurl-returning-nil-when-url-is-retrieved-from-nsuser", "title": "NSString stringWithContentsOfURL returning nil when URL is retrieved from NSUserDefaults", "body": "<p>I've run into an 'interesting' (or very frustrating) problem. I need to import a file, and to prevent having to choose the same file name over and over again, I allow the user to store the name as 'default'. This name is stored in NSUserDefaults. Nothing weird here.</p>\n\n<p>But, if I restart the program, the NSURL appears to be retrieved properly (I checked using NSLog AND <code>isEqualtTo</code>), but [NSString stringWithContentsOfURL] returns nil (fileExistsAtPath returns false as well). But, if I manually select the same file, it loads without problem.</p>\n\n<p>So, apparently the URL retrieved from NSUserDefaults is somehow changed, even though it looks completely the same in NSLog...\nThe following line is the line that returns nil when fileName is filled from NSUserDefaults:</p>\n\n<pre><code>NSString* fileContents = [NSString stringWithContentsOfURL:fileName encoding:NSUTF8StringEncoding error:nil];\n</code></pre>\n\n<p>This is how the URL is stored in NSUserDefaults:</p>\n\n<pre><code>defaults = [NSUserDefaults standardUserDefaults];\nif ([specialtyFileName isNotEqualTo:nil]) {\n    [defaults setURL:specialtyFileName forKey:@\"SpecialtyFile\"];\n}\n[defaults synchronize]\n</code></pre>\n\n<p>And this is how I retrieve it:</p>\n\n<pre><code>specialtyFileName = [defaults URLForKey:@\"SpecialtyFile\"];\n</code></pre>\n\n<p>The file that I test with are local files, so connection problems shouldn't be an issue. I'm a bit at a loss. Am I storing them wrong? Or retrieving? Should I preparse the URL somehow? I can't find anything on this.</p>\n\n<p>Any help would be much appreciated!</p>\n\n<p>EDIT:\nI\u2019m working on OSX, not on a mobile device. Also, The file that I\u2019m using is not in any specific app-related path. Could it be that it is not allowed to acces something outside your own sandbox, unless specifically chosen by the user through a Dialogbox?</p>\n\n<p>Joris</p>\n"}, {"tags": ["objective-c", "asynchronous", "scope", "objective-c-blocks"], "answers": [{"comments": [{"owner": {"reputation": 1259, "user_id": 1860222, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcd9cf0881ee1e7a5f28175308628e25?s=128&d=identicon&r=PG", "display_name": "pbuchheit", "link": "https://stackoverflow.com/users/1860222/pbuchheit"}, "edited": false, "score": 0, "creation_date": 1536933156, "post_id": 52321087, "comment_id": 91613747, "body": "I must be missing something else then. I tried experimenting with that config option and it actually made things worse. From what I can tell, once it hits the limit, any further requests fail with a timeout."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 1259, "user_id": 1860222, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcd9cf0881ee1e7a5f28175308628e25?s=128&d=identicon&r=PG", "display_name": "pbuchheit", "link": "https://stackoverflow.com/users/1860222/pbuchheit"}, "edited": false, "score": 0, "creation_date": 1536933647, "post_id": 52321087, "comment_id": 91614051, "body": "OK, but it still seems to me that this is an x-y problem. You&#39;ve got a problem, and instead of asking about that, you assume an incorrect solution and then ask why the incorrect solution isn&#39;t working. It isn&#39;t working because it&#39;s incorrect."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 1259, "user_id": 1860222, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcd9cf0881ee1e7a5f28175308628e25?s=128&d=identicon&r=PG", "display_name": "pbuchheit", "link": "https://stackoverflow.com/users/1860222/pbuchheit"}, "edited": false, "score": 0, "creation_date": 1536933737, "post_id": 52321087, "comment_id": 91614099, "body": "For example, very simply, you could use NSOperation (Swift Operation) to ensure that each download is completely performed before the next one starts. But there&#39;s no way to talk about that here because you asked about this &quot;recursive&quot; thing instead."}, {"owner": {"reputation": 1259, "user_id": 1860222, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcd9cf0881ee1e7a5f28175308628e25?s=128&d=identicon&r=PG", "display_name": "pbuchheit", "link": "https://stackoverflow.com/users/1860222/pbuchheit"}, "edited": false, "score": 0, "creation_date": 1536957512, "post_id": 52321087, "comment_id": 91625113, "body": "I think your approach is correct. Using NSOperations allows me to solve the underlying issue (controlling the timing of the download requests) without the headaches that the recursive approach was causing."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 2, "last_activity_date": 1536869271, "creation_date": 1536869271, "answer_id": 52321087, "question_id": 52320986, "link": "https://stackoverflow.com/questions/52320986/incrementing-a-variable-from-an-asynchronous-block-in-objective-c/52321087#52321087", "title": "Incrementing a Variable from an Asynchronous Block in Objective-C", "body": "<blockquote>\n  <p>The original design of the service was choking my web-server with too many simultaneous download requests. To get around that, I moved the code responsible for executing the download request into a recursive method.</p>\n</blockquote>\n\n<p>But that was never the right way to solve the problem. Use a single persistent custom NSURLSession with your own configuration, and set the configuration's <code>httpMaximumConnectionsPerHost</code>.</p>\n"}], "owner": {"reputation": 1259, "user_id": 1860222, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dcd9cf0881ee1e7a5f28175308628e25?s=128&d=identicon&r=PG", "display_name": "pbuchheit", "link": "https://stackoverflow.com/users/1860222/pbuchheit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 52321087, "answer_count": 1, "score": 1, "last_activity_date": 1536958478, "creation_date": 1536868818, "last_edit_date": 1536958478, "question_id": 52320986, "link": "https://stackoverflow.com/questions/52320986/incrementing-a-variable-from-an-asynchronous-block-in-objective-c", "title": "Incrementing a Variable from an Asynchronous Block in Objective-C", "body": "<p>I have run into a bit of a conundrum with a service I am working on in objective-c. The purpose of the service is to parse through a list of core-data entities and download a corresponding image file for each object. The original design of the service was choking my web-server with too many simultaneous download requests. To get around that, I moved the code responsible for executing the download request into a recursive method. The completion handler for each download request will call the method again, thus ensuring that each download will wait for the previous one to complete before dispatching.</p>\n\n<p>Where things get tricky is the code responsible for actually updating my core-data model and the progress indicator view. In the completion handler for the download, before the method recurses, I make an asynchronous call the a block that is responsible for updating the core data and then updating the view to show the progress. That block needs to have a variable to track how many times the block has been executed. In the original code, I could simply have a method-level variable with block scope that would get incremented inside the block. Since the method is recursive now, that strategy no longer works. The method level variable would simply get reset on each recursion. I can't simply pass the variable to the next level either thanks to the async nature of the block calls.</p>\n\n<p>I'm at a total loss here. Can anyone suggest an approach for dealing with this?</p>\n\n<p><strong>Update:</strong> \nAs matt pointed out below, the core issue here is how to control the timing of the requests. After doing some more research, I found out why my original code was not working. As it turns out, the timeout interval starts running as soon as the first task is initiated, and once the time is up, any additional requests would fail. If you know exactly how much time all your requests will take, it is possible to simply increase the timeout on your requests. The better approach however is to use an NSOperationQueue to control when the requests are dispatched. For a great example of how to do this see: <a href=\"https://code-examples.net/en/q/19c5248\" rel=\"nofollow noreferrer\">https://code-examples.net/en/q/19c5248</a>\nIf you take this approach, keep in mind that you will have to call the completeOperation() method of each operation you create on the completion handler of the downloadTask.</p>\n\n<p><strong>Some sample code:</strong></p>\n\n<pre><code>-(void) downloadSkuImages:(NSArray *) imagesToDownload onComplete:(void (^)(BOOL update,NSError *error))onComplete\n{\n    [self runSerializedRequests:imagesToDownload progress:weakProgress downloaded:0 index:0 onComplete:onComplete ];\n}\n\n-(void)runSerializedRequests:(NSArray *) skuImages progress:(NSProgress *) progress downloaded:(int) totalDownloaded index:(NSUInteger) index onComplete:(void (^)(BOOL update,NSError *error))onComplete \n{\n     int __block downloaded = totalDownloaded;\n\n     TotalDownloadProgressBlock totalDownloadProgressBlock =  ^BOOL (SkuImageID *skuImageId, NSString  *imageFilePath, NSError *error) {\n          if(error==nil) {\n                  downloaded++;\n                  weakProgress.completedUnitCount = downloaded;\n                  //save change to core-data here\n                  }\n          else {\n                        downloaded++;\n                        weakProgress.completedUnitCount = downloaded;\n                        [weakSelf setSyncOperationDetail:[NSString stringWithFormat:@\"Problem downloading sku image %@\",error.localizedDescription]];\n                      }\n\n          if(weakProgress.totalUnitCount==weakProgress.completedUnitCount) {\n                              [weakSelf setSyncOperationIndicator:SYNC_INDICATOR_WORKING];\n                              [weakSelf setSyncOperationDetail:@\"All product images up to date\"];\n                              [weakSelf setSyncOperationStatus:SYNC_STATUS_SUCCESS];\n                              weakProgress.totalUnitCount = 1;\n                              weakProgress.completedUnitCount = 1;\n                              onComplete(false,nil);\n                              return true;\n                          }\n          return false;\n     };\n\n    NSURLSessionDownloadTask *downloadTask = [manager downloadTaskWithRequest:request progress:nil destination:nil\n    completionHandler:^(NSURLResponse * _Nonnull response, NSURL * _Nullable filePath, NSError * _Nullable error) {\n\n                NSLog(@\"finished download %u of %lu\", index +1, (unsigned long)skuImages.count);\n                if(error != nil)\n                {                    \n                    NSLog(@\"Download failed for URL: %@ with error: %@\",skuImage.url, error.localizedDescription);\n                }\n                else\n                {\n                    NSLog(@\"Download succeeded for URL: %@\", skuImage.url);\n                }\n                dispatch_async(dispatch_get_main_queue(), ^(void){\n\n                    totalDownloadProgressBlock(skuImageId, imageFilePath, error);\n\n                });\n\n                [self runSerializedRequests:manager skuImages:skuImages progress:progress downloaded:downloaded index:index+1 onComplete:onComplete ];\n            }];\n\n            NSLog(@\"Starting download %u of %lu\", index +1, (unsigned long)skuImages.count);\n            [downloadTask resume];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "unsafemutablepointer", "ctframe"], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 9823455, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160339510600006/picture?type=large", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/9823455/kevin-wang"}, "edited": false, "score": 1, "creation_date": 1536865695, "post_id": 52320261, "comment_id": 91587961, "body": "Ah yes, I just discovered this. The <code>UnsafeMutablePointer()</code> seems to be optional as well."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1536865556, "creation_date": 1536865556, "answer_id": 52320261, "question_id": 52320155, "link": "https://stackoverflow.com/questions/52320155/how-do-you-satisfy-the-lineorigins-argument-in-ctframegetlineorigins-in-swif/52320261#52320261", "title": "How do you satisfy the &#39;lineOrigins&#39; argument in CTFrameGetLineOrigins() in Swift?", "body": "<p>You can try</p>\n\n<pre><code>CTFrameGetLineOrigins(frame, CFRangeMake(0, 0), UnsafeMutablePointer(&amp;lineOrigins))\n</code></pre>\n\n<p>or directly</p>\n\n<pre><code>CTFrameGetLineOrigins(frame, CFRangeMake(0, 0),&amp;lineOrigins)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 520, "user_id": 9823455, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160339510600006/picture?type=large", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/9823455/kevin-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1536865616, "creation_date": 1536865616, "answer_id": 52320276, "question_id": 52320155, "link": "https://stackoverflow.com/questions/52320155/how-do-you-satisfy-the-lineorigins-argument-in-ctframegetlineorigins-in-swif/52320276#52320276", "title": "How do you satisfy the &#39;lineOrigins&#39; argument in CTFrameGetLineOrigins() in Swift?", "body": "<p>Actually I just added <code>&amp;</code> to the parameter and made the constant a variable.</p>\n\n<pre><code>let lines = CTFrameGetLines(frame)\nlet numOfLines: size_t = CFArrayGetCount(lines)\nvar lineOrigins = [CGPoint](repeating: CGPoint.zero, count: numOfLines)\nCTFrameGetLineOrigins(frame, CFRangeMake(0, 0), &amp;lineOrigins)\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 9823455, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160339510600006/picture?type=large", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/9823455/kevin-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 1, "closed_date": 1536865632, "accepted_answer_id": 52320276, "answer_count": 2, "score": 1, "last_activity_date": 1548125240, "creation_date": 1536865055, "last_edit_date": 1548125240, "question_id": 52320155, "link": "https://stackoverflow.com/questions/52320155/how-do-you-satisfy-the-lineorigins-argument-in-ctframegetlineorigins-in-swif", "closed_reason": "Duplicate", "title": "How do you satisfy the &#39;lineOrigins&#39; argument in CTFrameGetLineOrigins() in Swift?", "body": "<p>I'm trying to figure out <code>CTFrameGetLineOrigins</code> from here: <a href=\"https://stackoverflow.com/questions/10810273/ctframegetlineorigins-got-incorrect-origins\">CTFrameGetLineOrigins Got Incorrect Origins</a>, and trying to convert the ObjC to Swift.</p>\n\n<p>Obj-C:</p>\n\n<pre><code>CFArrayRef lines = CTFrameGetLines(frame);\nsize_t numOfLines = CFArrayGetCount(lines);\nCGPoint lineOrigins[numOfLines];\nCTFrameGetLineOrigins(frame, CFRangeMake(0, 0), lineOrigins);\n</code></pre>\n\n<p>Swift:</p>\n\n<pre><code>let lines = CTFrameGetLines(frame)\nlet numOfLines: size_t = CFArrayGetCount(lines)\nlet lineOrigins = [CGPoint](repeating: CGPoint.zero, count: numOfLines)\nCTFrameGetLineOrigins(frame, CFRangeMake(0, 0), lineOrigins)\n</code></pre>\n\n<p>But I am getting an error for the 3rd parameter of CTFrameGetLineOrigins:<br>\n<em>Cannot convert value of type '[CGPoint]' to expected argument type 'UnsafeMutablePointer'</em></p>\n\n<p>How do I get past this error?</p>\n"}, {"tags": ["ios", "objective-c", "nstimer"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1536855698, "post_id": 52317747, "comment_id": 91583130, "body": "It uses in fact <code>scheduledTimerWithTimeInterval:repeats:block:</code> (iOS10+) which has a block, translated in Swift as a Closure. Do you really want to no use the same method and use a <code>@selector()</code>?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1536856526, "post_id": 52317747, "comment_id": 91583522, "body": "You&#39;d to create properties that can be retrieved (either @property of your object holding it), or as your said use userInfo with <code>wordArray</code> and <code>wordIndex</code>, etc. It&#39;s verbose."}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1536858950, "creation_date": 1536858950, "answer_id": 52318703, "question_id": 52317747, "link": "https://stackoverflow.com/questions/52317747/ios-objective-c-nstimer-without-handler-possible-in-objective-c/52318703#52318703", "title": "IOS/Objective-C: NSTimer without handler possible in objective-C?", "body": "<p>Objective-C supports the same block based <code>NSTimer</code> method. A translation of your Swift method would be:</p>\n\n<pre><code>- (void)type:(NSString *)string {\n    NSArray *wordArray = @[ @\"Sox Win\", @\"Verlander To Start\", @\"Race Tightens\" ];\n    __block NSInteger wordIndex = 0;\n    [NSTimer scheduledTimerWithTimeInterval:0.1 repeats:YES block:^(NSTimer * _Nonnull timer) {\n        // append wordsArray[wordIndex]\n        wordIndex += 1;\n        if (wordIndex == wordArray.count) {\n            [timer invalidate];\n        }\n    }];\n}\n</code></pre>\n\n<p>If for some reason you really wanted to use the selector based timer, you would need to store the array and index in instance variables. But that's the point of using this block-based solution - you avoid all of that extra work and additional method (for the selector).</p>\n\n<p>Another approach is to use <code>dispatch_after</code>:</p>\n\n<pre><code>- (void)type:(NSString *)string {\n    NSArray *wordArray = @[ @\"Sox Win\", @\"Verlander To Start\", @\"Race Tightens\" ];\n\n    for (NSInteger i = 0; i &lt; wordArray.count; i++) {\n        dispatch_after(i + 0.1, dispatch_get_main_queue(), ^{\n            // append wordsArray[i]\n        });\n    }\n}\n</code></pre>\n\n<p>No timer required.</p>\n"}], "owner": {"reputation": 1439, "user_id": 6631314, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68a9aec1aca837f507b01299bd81ad0b?s=128&d=identicon&r=PG&f=1", "display_name": "user6631314", "link": "https://stackoverflow.com/users/6631314/user6631314"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52318703, "answer_count": 1, "score": -2, "last_activity_date": 1536858950, "creation_date": 1536855043, "question_id": 52317747, "link": "https://stackoverflow.com/questions/52317747/ios-objective-c-nstimer-without-handler-possible-in-objective-c", "title": "IOS/Objective-C: NSTimer without handler possible in objective-C?", "body": "<p>I am trying to translate some Swift that uses at Timer to type out words for a news ticker effect into Objective -C. </p>\n\n<p>In Swift, you can do something like:</p>\n\n<pre><code>    func type(string: String) {\n        var wordArray  = [\"Sox Win\", \"Verlander To Start\", \"Race Tightens\"] // an array of strings\n        var wordIndex = 0\n        Timer.scheduledTimer(withTimeInterval: 0.1, repeats: true) { (timer) in\n            self.textview.text.append(wordsArray[wordIndex])\n            wordIndex += 1\n            if wordIndex == wordArray.count {\n                timer.invalidate()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, in Objective-C, you typically see:</p>\n\n<pre><code>NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval: 1.0\n                      target: self\n                      selector:@selector(update:)\n                      userInfo: nil repeats:YES];\n-(void) update:(NSTimer*)timer\n{\nint i=0;i&lt;4;i++ {\nNSLog(@\"another second\");\n}\ntimer.invalidate;\ntimer = nil;\n}\n</code></pre>\n\n<p>Using the handler, I can't figure out how to iterate the words in the array without creating the array over and over which obviously does not work.</p>\n\n<pre><code>- (void)updateView:(NSTimer *)timer\n{\nNSArray*items =@[@\"item1\", @\"item2\", @\"item3\", @\"item4\", @\"item5\"];\n for(int i=0;i&lt;[items count];i++){\n    self.textView.text = [self.textView.text stringByAppendingString:items[i]];\n    if (i == [items count]) {\n        [self.timer invalidate];\n        self.timer = nil;\n    }\n    }\n}\n</code></pre>\n\n<p>Should I be doing something with userInfo or how can I use the time to update one word at a time?  Thanks in advance for any suggestions.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "iphone-x", "iphone-xs"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1536850026, "post_id": 52315956, "comment_id": 91579917, "body": "Usually, you prefer use UIDevice: <a href=\"https://stackoverflow.com/questions/26028918/how-to-determine-the-current-iphone-device-model\" title=\"how to determine the current iphone device model\">stackoverflow.com/questions/26028918/&hellip;</a>, no? But I don&#39;t know what&#39;s the returned value yet."}, {"owner": {"reputation": 32100, "user_id": 1033581, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/e8891617e36b8d1254eb3ce1a5662da4?s=128&d=identicon&r=PG", "display_name": "C\u0153ur", "link": "https://stackoverflow.com/users/1033581/c%c5%93ur"}, "edited": false, "score": 0, "creation_date": 1538067232, "post_id": 52315956, "comment_id": 92023405, "body": "Many answers from the linked duplicate question will help you distinguishing <b>any</b> device."}, {"owner": {"reputation": 806, "user_id": 3472073, "user_type": "registered", "profile_image": "https://graph.facebook.com/1809942272/picture?type=large", "display_name": "ale_stro", "link": "https://stackoverflow.com/users/3472073/ale-stro"}, "edited": false, "score": 0, "creation_date": 1542027680, "post_id": 52315956, "comment_id": 93409661, "body": "take a look <a href=\"https://stackoverflow.com/a/52821290/3472073\">stackoverflow.com/a/52821290/3472073</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2099, "user_id": 179608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11nud.jpg?s=128&g=1", "display_name": "lifjoy", "link": "https://stackoverflow.com/users/179608/lifjoy"}, "edited": false, "score": 0, "creation_date": 1536869167, "post_id": 52320075, "comment_id": 91589626, "body": "I found that the Simulator reported these sizes because my app targets iOS 10 or later.  To enable full screen resolution, my app must target iOS 11 or later."}, {"owner": {"reputation": 3354, "user_id": 2123039, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f607aea4b4ca19152760cab920e718fa?s=128&d=identicon&r=PG&f=1", "display_name": "cmii", "link": "https://stackoverflow.com/users/2123039/cmii"}, "edited": false, "score": 0, "creation_date": 1537288636, "post_id": 52320075, "comment_id": 91727233, "body": "Your app must target iOS 10 or later AND, must use launch screen file instead launch image source."}, {"owner": {"reputation": 2099, "user_id": 179608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11nud.jpg?s=128&g=1", "display_name": "lifjoy", "link": "https://stackoverflow.com/users/179608/lifjoy"}, "reply_to_user": {"reputation": 3354, "user_id": 2123039, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f607aea4b4ca19152760cab920e718fa?s=128&d=identicon&r=PG&f=1", "display_name": "cmii", "link": "https://stackoverflow.com/users/2123039/cmii"}, "edited": false, "score": 1, "creation_date": 1537301020, "post_id": 52320075, "comment_id": 91732789, "body": "You are correct about the launch image.  But I think iOS 11 is also needed.  On developer.apple.com/iphone, there&#39;s a paragraph that says &quot;Your app will run in Full Screen Display Mode on iPhone X, iPhone XS, iPhone XS Max, and iPhone XR if your project\u2019s base SDK is set to iOS 11 or later and you have a Launch Storyboard or iPhone X launch image&quot;. My app targets iOS 10 AND does have the proper XS Max launch image, but its still scaled on the XS Max."}, {"owner": {"reputation": 3354, "user_id": 2123039, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f607aea4b4ca19152760cab920e718fa?s=128&d=identicon&r=PG&f=1", "display_name": "cmii", "link": "https://stackoverflow.com/users/2123039/cmii"}, "edited": false, "score": 0, "creation_date": 1537359680, "post_id": 52320075, "comment_id": 91755201, "body": "I&#39;m working with last Xcode, iOS 10 target, with full screen presentation ON, and  [UIScreen mainScreen].bounds.size returns the correct size for all devices."}, {"owner": {"reputation": 2099, "user_id": 179608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11nud.jpg?s=128&g=1", "display_name": "lifjoy", "link": "https://stackoverflow.com/users/179608/lifjoy"}, "reply_to_user": {"reputation": 3354, "user_id": 2123039, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f607aea4b4ca19152760cab920e718fa?s=128&d=identicon&r=PG&f=1", "display_name": "cmii", "link": "https://stackoverflow.com/users/2123039/cmii"}, "edited": false, "score": 0, "creation_date": 1537380321, "post_id": 52320075, "comment_id": 91767276, "body": "Thanks, @cmii.  You are so right.  Turns out that I botched the new UILaunchImages dictionary that I added to support {414, 896}, LaunchImage-iPhone6_5-Port.  Simulator is now returning the expected screen sizes."}], "tags": [], "owner": {"reputation": 2099, "user_id": 179608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11nud.jpg?s=128&g=1", "display_name": "lifjoy", "link": "https://stackoverflow.com/users/179608/lifjoy"}, "is_accepted": true, "score": 10, "last_activity_date": 1536864622, "creation_date": 1536864622, "answer_id": 52320075, "question_id": 52315956, "link": "https://stackoverflow.com/questions/52315956/how-to-programmatically-detect-iphone-xs-or-iphone-x/52320075#52320075", "title": "How to programmatically detect iPhone XS or iPhone X?", "body": "<p>I use <a href=\"https://github.com/InderKumarRathore/DeviceUtil\" rel=\"noreferrer\">DeviceUtil</a> to determine an iOS device's model.</p>\n\n<p>According to this <a href=\"https://github.com/InderKumarRathore/DeviceUtil/pull/57#pullrequestreview-154954536\" rel=\"noreferrer\">DeviceUtil GitHub post</a>, the returned UIDevice hardwareString values are:</p>\n\n<pre><code>iPhone11,2 = iPhone XS\niPhone11,4 = iPhone XS Max\niPhone11,8 = iPhone XR\n</code></pre>\n\n<p>Curiously, the Xcode 10 GM Simulator's [UIScreen mainScreen].bounds.size returns 375 x 812 for iPhone X, XS, XS Max, and R devices.  I had expected 414 x 896 for the XS Max and XR.</p>\n"}, {"tags": [], "owner": {"reputation": 2352, "user_id": 3964097, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a56d651a8888177bb43f0527adea8381?s=128&d=identicon&r=PG&f=1", "display_name": "Jagveer Singh", "link": "https://stackoverflow.com/users/3964097/jagveer-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1537453664, "last_edit_date": 1537453664, "creation_date": 1537450860, "answer_id": 52426525, "question_id": 52315956, "link": "https://stackoverflow.com/questions/52315956/how-to-programmatically-detect-iphone-xs-or-iphone-x/52426525#52426525", "title": "How to programmatically detect iPhone XS or iPhone X?", "body": "<p><code>#import &lt;sys/utsname.h&gt;</code> // import it in your header or implementation file.</p>\n\n<pre><code>+(NSString*)deviceName\n{\n    struct utsname systemInfo;\n    uname(&amp;systemInfo);\n    NSString *machineName = [NSString stringWithCString:systemInfo.machine encoding:NSUTF8StringEncoding];\n\n\n    NSDictionary *commonNamesDictionary =\n    @{\n      @\"i386\":     @\"i386 Simulator\",\n      @\"x86_64\":   @\"x86_64 Simulator\",\n\n      @\"iPhone1,1\":    @\"iPhone\",\n      @\"iPhone1,2\":    @\"iPhone 3G\",\n      @\"iPhone2,1\":    @\"iPhone 3GS\",\n      @\"iPhone3,1\":    @\"iPhone 4\",\n      @\"iPhone3,2\":    @\"iPhone 4\",\n      @\"iPhone3,3\":    @\"iPhone 4\",\n      @\"iPhone4,1\":    @\"iPhone 4S\",\n      @\"iPhone5,1\":    @\"iPhone 5\",\n      @\"iPhone5,2\":    @\"iPhone 5\",\n      @\"iPhone5,3\":    @\"iPhone 5c\",\n      @\"iPhone5,4\":    @\"iPhone 5c\",\n      @\"iPhone6,1\":    @\"iPhone 5s\",\n      @\"iPhone6,2\":    @\"iPhone 5s\",\n\n      @\"iPhone7,1\":    @\"iPhone 6+\",\n      @\"iPhone7,2\":    @\"iPhone 6\",\n\n      @\"iPhone8,1\":    @\"iPhone 6S\",\n      @\"iPhone8,2\":    @\"iPhone 6S+\",\n      @\"iPhone8,4\":    @\"iPhone SE\",\n      @\"iPhone9,1\":    @\"iPhone 7\",\n      @\"iPhone9,2\":    @\"iPhone 7+\",\n      @\"iPhone9,3\":    @\"iPhone 7\",\n      @\"iPhone9,4\":    @\"iPhone 7+\",\n      @\"iPhone10,1\":    @\"iPhone 8\",\n      @\"iPhone10,2\":    @\"iPhone 8+\",\n\n      @\"iPhone10,3\":    @\"iPhone X\",\n      @\"iPhone11,2\":    @\"iPhone XS\",\n      @\"iPhone11,4\":    @\"iPhone XS Max\",\n      @\"iPhone11,8\":    @\"iPhone XR\",\n\n      @\"iPad1,1\":  @\"iPad\",\n      @\"iPad2,1\":  @\"iPad 2\",\n      @\"iPad2,2\":  @\"iPad 2\",\n      @\"iPad2,3\":  @\"iPad 2\",\n      @\"iPad2,4\":  @\"iPad 2\",\n      @\"iPad2,5\":  @\"iPad Mini 1G\",\n      @\"iPad2,6\":  @\"iPad Mini 1G\",\n      @\"iPad2,7\":  @\"iPad Mini 1G\",\n      @\"iPad3,1\":  @\"iPad 3\",\n      @\"iPad3,2\":  @\"iPad 3\",\n      @\"iPad3,3\":  @\"iPad 3\",\n      @\"iPad3,4\":  @\"iPad 4\",\n      @\"iPad3,5\":  @\"iPad 4\",\n      @\"iPad3,6\":  @\"iPad 4\",\n\n      @\"iPad4,1\":  @\"iPad Air\",\n      @\"iPad4,2\":  @\"iPad Air\",\n      @\"iPad4,3\":  @\"iPad Air\",\n\n      @\"iPad5,3\":  @\"iPad Air 2\",\n      @\"iPad5,4\":  @\"iPad Air 2\",\n\n      @\"iPad4,4\":  @\"iPad Mini 2G\",\n      @\"iPad4,5\":  @\"iPad Mini 2G\",\n      @\"iPad4,6\":  @\"iPad Mini 2G\",\n\n      @\"iPad4,7\":  @\"iPad Mini 3G\",\n      @\"iPad4,8\":  @\"iPad Mini 3G\",\n      @\"iPad4,9\":  @\"iPad Mini 3G\",\n\n      @\"iPod1,1\":  @\"iPod 1st Gen\",\n      @\"iPod2,1\":  @\"iPod 2nd Gen\",\n      @\"iPod3,1\":  @\"iPod 3rd Gen\",\n      @\"iPod4,1\":  @\"iPod 4th Gen\",\n      @\"iPod5,1\":  @\"iPod 5th Gen\",\n      @\"iPod7,1\":  @\"iPod 6th Gen\",\n      };\n\n    NSString *deviceName = commonNamesDictionary[machineName];\n\n    if (deviceName == nil) {\n        deviceName = machineName;\n    }\n\n    return deviceName;\n}\n</code></pre>\n\n<p><strong>It will return device model for you ,also included XS, XR, XS Max</strong></p>\n\n<pre><code>    #define IS_IPHONE        (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone)\n    #define IS_IPHONE_4      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 480.0)\n    #define IS_IPHONE_5      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 568.0)\n    #define IS_IPHONE_6      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 667.0)\n    #define IS_IPHONE_6PLUS  (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] nativeScale] == 3.0f)\n    #define IS_IPHONE_6_PLUS (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 736.0)\n    #define IS_IPHONE_X      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 812.0)\n#define IS_IPHONE_X      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 812.0)\n\n    #define IS_IPHONE_XS      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 812.0)\n    #define IS_IPHONE_X_MAX      (IS_IPHONE &amp;&amp; [[UIScreen mainScreen] bounds].size.height == 896.0)\n    #define IS_RETINA        ([[UIScreen mainScreen] scale] &gt;= 2.0) // 3.0 for iPhone X, 2.0 for others\n\n    #define IS_IPAD_DEVICE   [(NSString*)[UIDevice currentDevice].model hasPrefix:@\"iPad\"]\n</code></pre>\n\n<p><strong>Note:- Be careful, it works fine only for portrait orientation</strong></p>\n"}, {"comments": [{"owner": {"reputation": 1283, "user_id": 4621947, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9529ed4838dd8f6b6b78598f237eef53?s=128&d=identicon&r=PG&f=1", "display_name": "Coder221", "link": "https://stackoverflow.com/users/4621947/coder221"}, "edited": false, "score": 0, "creation_date": 1537495682, "post_id": 52432711, "comment_id": 91814684, "body": "XR is bigger than XS, are you sure that XR height ins 1792?"}, {"owner": {"reputation": 946, "user_id": 4559803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3OUm.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/4559803/umair"}, "reply_to_user": {"reputation": 1283, "user_id": 4621947, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9529ed4838dd8f6b6b78598f237eef53?s=128&d=identicon&r=PG&f=1", "display_name": "Coder221", "link": "https://stackoverflow.com/users/4621947/coder221"}, "edited": false, "score": 1, "creation_date": 1537500366, "post_id": 52432711, "comment_id": 91815492, "body": "Yes you are right but this is the value that the nativeBounds method returns for XR."}, {"owner": {"reputation": 317, "user_id": 8451247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1b76a9bad3891d135d470154698d2b8?s=128&d=identicon&r=PG&f=1", "display_name": "M Afham", "link": "https://stackoverflow.com/users/8451247/m-afham"}, "edited": false, "score": 0, "creation_date": 1587647341, "post_id": 52432711, "comment_id": 108597360, "body": "Is this works in landscape mode?"}, {"owner": {"reputation": 946, "user_id": 4559803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3OUm.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/4559803/umair"}, "edited": false, "score": 0, "creation_date": 1587663625, "post_id": 52432711, "comment_id": 108607197, "body": "Yes it would work for landscape mode too."}], "tags": [], "owner": {"reputation": 946, "user_id": 4559803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3OUm.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/4559803/umair"}, "is_accepted": false, "score": 21, "last_activity_date": 1583784462, "last_edit_date": 1583784462, "creation_date": 1537474786, "answer_id": 52432711, "question_id": 52315956, "link": "https://stackoverflow.com/questions/52315956/how-to-programmatically-detect-iphone-xs-or-iphone-x/52432711#52432711", "title": "How to programmatically detect iPhone XS or iPhone X?", "body": "<p>You can determine using <code>UIScreen.main.nativeBounds</code>. </p>\n\n<pre><code> if UIDevice().userInterfaceIdiom == .phone {\n        switch UIScreen.main.nativeBounds.height {\n        case 1136:\n            print(\"IPHONE 5,5S,5C\")\n        case 1334:\n            print(\"IPHONE 6,7,8 IPHONE 6S,7S,8S \")\n        case 1920, 2208:\n            print(\"IPHONE 6PLUS, 6SPLUS, 7PLUS, 8PLUS\")\n        case 2436:\n            print(\"IPHONE X, IPHONE XS, IPHONE 11 PRO\")\n        case 2688:\n            print(\"IPHONE XS MAX, IPHONE 11 PRO MAX\")\n        case 1792:\n            print(\"IPHONE XR, IPHONE 11\")\n        default:\n            print(\"UNDETERMINED\")\n        }\n    }\n</code></pre>\n\n<p><code>.nativeBounds</code> won't change even if the orientation is changed.\n<a href=\"https://developer.apple.com/documentation/uikit/uiscreen/1617810-nativebounds\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiscreen/1617810-nativebounds</a></p>\n"}], "owner": {"reputation": 15039, "user_id": 777861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0a8add4df8f2840ec57bdbd29bcb050d?s=128&d=identicon&r=PG", "display_name": "Andrei Herford", "link": "https://stackoverflow.com/users/777861/andrei-herford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18515, "favorite_count": 7, "closed_date": 1538036370, "accepted_answer_id": 52320075, "answer_count": 3, "score": 6, "last_activity_date": 1583784462, "creation_date": 1536849046, "last_edit_date": 1538067267, "question_id": 52315956, "link": "https://stackoverflow.com/questions/52315956/how-to-programmatically-detect-iphone-xs-or-iphone-x", "closed_reason": "Duplicate", "title": "How to programmatically detect iPhone XS or iPhone X?", "body": "<p>One of my apps connects to a web app service that delivers device specific news to to the user. To adapt this to the latest iPhone versions I need to programmatically distinguish between the iPhone XS and iPhone X. How can this be done?</p>\n\n<p><code>[[UIScreen mainScreen] bounds].size</code> was always a good starting point to tell the different devices apart. However, iPhone XS and iPhone X have the same screen dimensions: 1125 x 2436. Thus using <code>[[UIScreen mainScreen] bounds].size</code> does not work in this case.</p>\n\n<p>Is there any other method to detect the latest iPhone versions?</p>\n\n<p><strong>EDIT:</strong>\nThis is <strong>NOT a duplicate</strong> of the question \"How to detected iPhone X\" since all answers/solutions discussed there use the screen dimensions to specify the device type. As described above iPhone X and iPhone XS have the exact same dimensions and thus the solutions cannot tell these two apart... </p>\n"}, {"tags": ["objective-c", "xcode", "cocoa", "nstableview"], "answers": [{"tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": false, "score": 1, "last_activity_date": 1537054742, "creation_date": 1537054742, "answer_id": 52349741, "question_id": 52315708, "link": "https://stackoverflow.com/questions/52315708/how-to-change-nstableview-header-background-color-in-mac-os-x-app/52349741#52349741", "title": "How to change NSTableView header background color in MAC OS X app?", "body": "<p>I don't find other ways to do it, just have to draw everything. Hope it's helpful.</p>\n\n<pre><code>CGRect outCellFrame;\n\n- (void) drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView;\n   {\n   // &lt;C&gt; this only sets the interior bgColor leaving the borders in standard       color\n   outCellFrame = cellFrame;\n   [super drawWithFrame:cellFrame inView:controlView];\n      // &lt;C&gt; this draws the red bg as expected but doesn't show the interior;\n   //\n\n   // &lt;C&gt; this draws the red bg as expected but\n   //     1) doesn't layout the interior well (I could fix this);\n   //     2) doesn't show the sort controls (it's over-drawn with the code bellow);\n   //\n   //    [NSColor.redColor setFill];\n  //    NSRectFill(cellFrame);\n  //    CGRect titleRect = [self titleRectForBounds:cellFrame];\n  //    [self.attributedStringValue drawInRect:titleRect];\n}\n\n -(NSRect *) outer:(NSRect)rect fromInner: (NSRect)innerRect {\n   NSRect * list =  (NSRect *)  malloc(sizeof(rect) * 4);\n   NSRect rem;\n  NSDivideRect(rect, &amp;list[0], &amp;rem,  innerRect.origin.x - rect.origin.x,    NSRectEdgeMinX);\n\n    NSDivideRect(rect, &amp;list[1], &amp;rem, - innerRect.origin.x - innerRect.size.width + rect.origin.x + rect.size.width , NSRectEdgeMaxX);\n    NSDivideRect(rect, &amp;list[2], &amp;rem, innerRect.origin.y - rect.origin.y, NSRectEdgeMinY);\n    NSDivideRect(rect, &amp;list[3], &amp;rem,  -innerRect.origin.y - innerRect.size.height + rect.origin.y + rect.size.height  , NSRectEdgeMaxY);\n    return list;\n }\n\n  -(void) updateBackground:(CGRect) cellFrame and:(CGRect) innerCellFrame{\n  [self.backgroundColor set];\n  NSRect * list = [self outer:cellFrame fromInner:innerCellFrame];\n  NSRectFillListUsingOperation(list, 4, NSCompositingOperationSourceOver);\n free(list);}\n\n\n\n  - (void) drawInteriorWithFrame:(NSRect)cellFrame inView:(NSView *)controlView;\n   {\n\n      [self updateBackground:outCellFrame and:cellFrame];\n     [super drawInteriorWithFrame:cellFrame inView:controlView];\n\n\n    }\n\n\n\n\n\n\n  - (void) drawSortIndicatorWithFrame:(NSRect)cellFrame inView:(NSView *)controlView ascending:(BOOL)ascending priority:(NSInteger)priority;\n  {\n      [self.backgroundColor set];\n\n\n     NSImage * image = ascending ?  [NSImage imageNamed:@\"NSDescendingSortIndicator\"]:[NSImage imageNamed:@\"NSAscendingSortIndicator\"] ;\n     // use your image here.  If you need to change color, try to make a colored templated image here.\n\n     CGRect frame = [self sortIndicatorRectForBounds:cellFrame];\n    [self.backgroundColor set];\n    CGRect res = NSMakeRect(frame.origin.x, cellFrame.origin.y,  cellFrame.size.width - frame.origin.x, cellFrame.size.height);\n    NSRectFillUsingOperation(res , NSCompositingOperationSourceOver);\n\n    [NSColor.blueColor setFill];\n    [NSColor.blueColor setStroke];\n    [image drawInRect: [self sortIndicatorRectForBounds:frame]];\n\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 478, "user_id": 2060605, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bb59a68101259a42097c210ddfcd1327?s=128&d=identicon&r=PG&f=1", "display_name": "Vikram Sinha", "link": "https://stackoverflow.com/users/2060605/vikram-sinha"}, "is_accepted": false, "score": 1, "last_activity_date": 1537986596, "last_edit_date": 1537986596, "creation_date": 1537356235, "answer_id": 52404761, "question_id": 52315708, "link": "https://stackoverflow.com/questions/52315708/how-to-change-nstableview-header-background-color-in-mac-os-x-app/52404761#52404761", "title": "How to change NSTableView header background color in MAC OS X app?", "body": "<p>Create the NSTableHeaderCell like below and play with the header cell's frame sizes and origins:</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface CustomTableHeaderCell : NSTableHeaderCell {\n    NSMutableDictionary *attrs;\n}\n\n#import \"CustomTableHeaderCell.h\"\n\n@implementation CustomTableHeaderCell\n\n- (id)initTextCell:(NSString *)text\n{\n    if (self = [super initTextCell:text]) {\n\n        if (text == nil || [text isEqualToString:@\"\"]) {\n            [self setTitle:@\"One\"];\n        }\n\n        /* old_\n        self.textColor = [NSColor blackColor];\n         */\n        // new_\n        self.textColor = [NSColor whiteColor];\n\n\n        attrs = [[NSMutableDictionary dictionaryWithDictionary:\n                  [[self attributedStringValue]\n                   attributesAtIndex:0\n                   effectiveRange:NULL]]\n                 mutableCopy];\n//        self.font = [NSFont fontWithName:appleeH8GhKr0 size:12];\n        return self;\n    }\n    return nil;\n}\n\n- (void)drawWithFrame:(NSRect)cellFrame\n          highlighted:(BOOL)isHighlighted\n               inView:(NSView *)view\n{\n    CGRect fillRect, borderRect;\n    CGRectDivide(NSRectToCGRect(cellFrame), &amp;borderRect, &amp;fillRect, 1.0, CGRectMaxYEdge);\n\n    // sets the origin and frame for header's title\n//    fillRect.size.height = 25;\n\n    if (fillRect.origin.x == 0)\n    {\n//        fillRect.origin.y += 5;\n       // for adding left margin to first column title try to add spaces in text of header title\n       // try to play with the numbers of fillRect rect\n    }\n    else if (fillRect.origin.x == 239)\n    {\n//        fillRect.size.width  -= 80;\n    }\n\n    // setting the background color of tableview's header view\n    NSGradient *gradient = [[NSGradient alloc]\n                            initWithStartingColor:[NSColor greenColor]\n                            endingColor:[NSColor greenColor]];\n    [gradient drawInRect:NSRectFromCGRect(fillRect) angle:90.0];\n    [self drawInteriorWithFrame:NSRectFromCGRect(CGRectInset(fillRect, 0.0, 1.0)) inView:view];\n }\n\n\n- (NSRect)adjustedFrameToVerticallyCenterText:(NSRect)frame\n{\n    // super would normally draw text at the top of the cell\n    NSInteger offsetY = floor((NSHeight(frame) -\n                              ([[self font] ascender] - [[self font] descender])) / 2);\n    return NSInsetRect(frame, 20, offsetY);\n}\n\n-(void)drawInteriorWithFrame:(NSRect)cellFrame inView:(NSView *)controlView{\n    [super drawInteriorWithFrame:[self adjustedFrameToVerticallyCenterText:cellFrame]\n                          inView:controlView];\n}\n\n- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)view\n{\n    [self drawWithFrame:cellFrame highlighted:NO inView:view];\n}\n\n- (void)highlight:(BOOL)isHighlighted\n        withFrame:(NSRect)cellFrame\n           inView:(NSView *)view\n{\n    [self drawWithFrame:cellFrame highlighted:isHighlighted inView:view];\n}\n</code></pre>\n\n<p>Set the header cell for column like below:</p>\n\n<pre><code>NSArray *columns = nil;\n    if(self.tblVc)\n        columns = [self.tblVc tableColumns];\n    NSEnumerator *cols = [columns objectEnumerator];\n    NSTableColumn *col = nil;\n    CustomTableHeaderCell *headerCell;\n\n    while (col = [cols nextObject]) {\n        NSString *key = [[col headerCell] stringValue];\n        headerCell = [[CustomTableHeaderCell alloc]\n                      initTextCell:key];\n\n        NSRect rectHeader =self.tblVc.headerView.frame;\n        rectHeader.size.height = 25;\n        self.tblVc.headerView.frame=rectHeader;\n\n        [col setHeaderCell:headerCell];\n    }\n</code></pre>\n\n<p>and use disclosure button on top of table view's header like below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mpkHM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mpkHM.png\" alt=\"storyboard arrangement of sort button\"></a></p>\n\n<p>It will show the results like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/G5lKp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5lKp.png\" alt=\"custom header with coloured background\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1652, "user_id": 929170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b4620f6351bbeff6a5408690686ab2f4?s=128&d=identicon&r=PG", "display_name": "PerfectGamesOnline.com", "link": "https://stackoverflow.com/users/929170/perfectgamesonline-com"}, "is_accepted": true, "score": 0, "last_activity_date": 1537453052, "creation_date": 1537453052, "answer_id": 52427266, "question_id": 52315708, "link": "https://stackoverflow.com/questions/52315708/how-to-change-nstableview-header-background-color-in-mac-os-x-app/52427266#52427266", "title": "How to change NSTableView header background color in MAC OS X app?", "body": "<p>Thanks guys for your help. I've ended up with this simple solution which also solves the sort indicators. I've gave up on custom <code>NSHeaderCell</code> and resolved everything in single custom <code>NSTableHeaderRowView</code> method:</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect\n{\n    [NSGraphicsContext saveGraphicsState];\n\n    // Row: Fill the background\n    //\n    [NSColor.whiteColor setFill];\n    const CGRect headerRect = CGRectMake(0.0, 1.0, self.bounds.size.width, self.bounds.size.height-1.0);\n    [[NSBezierPath bezierPathWithRect:headerRect] fill];\n\n    // Columns\n    //\n    for (NSUInteger i = 0; i &lt; self.tableView.numberOfColumns; ++i) {\n        NSRect rect = [self headerRectOfColumn:i];\n\n        // separator on left\n        //\n        if (i != 0) {\n            [[NSColor colorWithRed:0.0 green:0.0 blue:0.0 alpha:0.35] setFill];\n            [[NSBezierPath bezierPathWithRect:NSMakeRect(rect.origin.x, rect.origin.y+4.0, 1.0, rect.size.height-8.0)] fill];\n        }\n\n        NSTableColumn *tableColumn = self.tableView.tableColumns[i];\n        NSSortDescriptor *col_sd = tableColumn.sortDescriptorPrototype;\n        NSTableHeaderCell *tableHeaderCell = tableColumn.headerCell;\n\n        // text\n        //\n        NSString *columnText = tableHeaderCell.stringValue;\n        [columnText drawInRect:NSInsetRect(rect, 5.0, 4.0) withAttributes:nil];\n\n        // sort indicator\n        //\n        for (NSInteger priority = 0; priority &lt; self.tableView.sortDescriptors.count; ++priority) {\n            NSSortDescriptor *sortDesciptor = self.tableView.sortDescriptors[priority];\n            // &lt;C&gt; there is no way to get column from sortDesciptor so I use this trick comparing sortDesciptor with current column.sortDescriptorPrototype;\n            // &lt;C&gt; not sure why sel_isEqual() dosn't work so I compare its string representation;\n            if ([NSStringFromSelector(sortDesciptor.selector) isEqualToString:NSStringFromSelector(col_sd.selector)] == YES &amp;&amp; [sortDesciptor.key isEqualToString:col_sd.key] == YES) {\n                SDEBUG(LEVEL_DEBUG, @\"sort-hdr\", @\"MATCH: sel=%@\", NSStringFromSelector(sortDesciptor.selector));\n                // &lt;C&gt; default implementation draws indicator ONLY for priority 0; Otherwise the indicator would have to graphically show the prio;\n                // &lt;C&gt; it is a support for multi-column sorting;\n                // &lt;REF&gt; shall you need it: https://stackoverflow.com/questions/46611972/sorting-a-viewbased-tableview-with-multiple-sort-descriptors-doesnt-work\n                [tableHeaderCell drawSortIndicatorWithFrame:rect inView:self ascending:sortDesciptor.ascending priority:priority];\n            }\n        }\n    }\n\n    [NSGraphicsContext restoreGraphicsState];\n}\n</code></pre>\n"}], "owner": {"reputation": 1652, "user_id": 929170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b4620f6351bbeff6a5408690686ab2f4?s=128&d=identicon&r=PG", "display_name": "PerfectGamesOnline.com", "link": "https://stackoverflow.com/users/929170/perfectgamesonline-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 1, "accepted_answer_id": 52427266, "answer_count": 3, "score": 1, "last_activity_date": 1537986596, "creation_date": 1536848261, "last_edit_date": 1536849635, "question_id": 52315708, "link": "https://stackoverflow.com/questions/52315708/how-to-change-nstableview-header-background-color-in-mac-os-x-app", "title": "How to change NSTableView header background color in MAC OS X app?", "body": "<p>I've tried all found suggested solutions but ended up with this as the closest:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Flfj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Flfj.png\" alt=\"enter image description here\"></a></p>\n\n<p>The target is to have custom color for:</p>\n\n<ol>\n<li>complete header background (e.g. green)</li>\n<li>text (e.g. white)</li>\n<li>sort control color (e.g. white) </li>\n</ol>\n\n<p>Currently I can only set the interior bg and text color properly while leaving the header borders and sort controls in default white color.</p>\n\n<p>I use the approach of custom <code>NCTableHeaderCell</code>. </p>\n\n<pre><code>// &lt;C&gt; changing the bgColor doesn't work this way\n[self.tv.headerView setWantsLayer:YES];\nself.tv.headerView.layer.backgroundColor = NSColor.redColor.CGColor;\n\nfor (NSTableColumn *tc in self.tv.tableColumns) {\n\n    // &lt;C&gt; this only helps to change the header text color\n    tc.headerCell = [[NCTableHeaderCell_customizable alloc]initTextCell:@\"Hdr\"];\n\n    // &lt;C&gt; this changes the bgColor of the area of the headerCell label text (the interior) but it leaves border and sort controls in white color;\n    tc.headerCell.drawsBackground = YES;\n    tc.headerCell.backgroundColor = NSColor.greenColor;\n\n    // &lt;C&gt; changing the textColor doesn't work this way\n    // &lt;SOLUTION&gt; use NCTableHeaderCell_customizable as done above;\n    tc.headerCell.textColor = NSColor.redColor;\n}\n</code></pre>\n\n<p>My custom class look like this:</p>\n\n<pre><code>@implementation NCTableHeaderCell_customizable\n\n// &lt;C&gt; this works as expected\n- (NSColor *) textColor\n{\n    return NSColor.whiteColor;\n}\n\n// &lt;C&gt; this only sets the interior bgColor leaving the borders in standard color\n//\n//- (NSColor *) backgroundColor\n//{\n//    return NSColor.redColor;\n//}\n\n- (void) drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView;\n{\n    // &lt;C&gt; this only sets the interior bgColor leaving the borders in standard color\n    //\n    //self.backgroundColor = NSColor.orangeColor;\n\n    [super drawWithFrame:cellFrame inView:controlView];\n\n    // &lt;C&gt; this draws the red bg as expected but doesn't show the interior;\n    //\n    //    [NSColor.redColor set];\n    //    NSRectFillUsingOperation(cellFrame, NSCompositingOperationSourceOver);\n\n    // &lt;C&gt; this draws the red bg as expected but\n    //     1) doesn't layout the interior well (I could fix this);\n    //     2) doesn't show the sort controls (it's over-drawn with the code bellow);\n    //\n    //    [NSColor.redColor setFill];\n    //    NSRectFill(cellFrame);\n    //    CGRect titleRect = [self titleRectForBounds:cellFrame];\n    //    [self.attributedStringValue drawInRect:titleRect];\n}\n\n- (void) drawInteriorWithFrame:(NSRect)cellFrame inView:(NSView *)controlView;\n{\n    [super drawInteriorWithFrame:cellFrame inView:controlView];\n}\n\n- (void) drawFocusRingMaskWithFrame:(NSRect)cellFrame inView:(NSView *)controlView;\n{\n    [super drawFocusRingMaskWithFrame:cellFrame inView:controlView];\n}\n\n- (void) drawSortIndicatorWithFrame:(NSRect)cellFrame inView:(NSView *)controlView ascending:(BOOL)ascending priority:(NSInteger)priority;\n{\n    [super drawSortIndicatorWithFrame:cellFrame inView:controlView ascending:ascending priority:priority];\n    //NSTableHeaderView *v = (NSTableHeaderView *)controlView;\n}\n</code></pre>\n\n<p>I'm quite close to the solution but I don't know how to draw correctly the custom header cell to archive the goal.</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "photokit"], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 4209235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/011ut.png?s=128&g=1", "display_name": "Joe Pagliaro", "link": "https://stackoverflow.com/users/4209235/joe-pagliaro"}, "is_accepted": false, "score": 1, "last_activity_date": 1564762541, "last_edit_date": 1564762541, "creation_date": 1537197152, "answer_id": 52370868, "question_id": 52314469, "link": "https://stackoverflow.com/questions/52314469/how-to-get-phassets-in-the-order-of-date-added-using-fetchassests/52370868#52370868", "title": "How to get PHAssets in the order of date added using fetchAssests", "body": "<p>The answer is being updated for iOS 13 where using 'smartAlbumRecentlyAdded' works better than 'smartAlbumUserLibrary', because the behavior changed: Feedback was sent to Apple about the change in behavior in iOS 13. Hopefully a better solution will be at hand. </p>\n\n<p>Because, although smartAlbumRecentlyAdded will return the items by their date added, you will not get ALL the items, just RECENT items. </p>\n\n<pre><code>    var fetchResult:PHFetchResult&lt;PHAssetCollection&gt;\n\n    if #available(iOS 13.0, *) {\n        fetchResult = PHAssetCollection.fetchAssetCollections(with:.smartAlbum,subtype:.smartAlbumRecentlyAdded,options: nil)\n    }\n    else {\n        fetchResult = PHAssetCollection.fetchAssetCollections(with:.smartAlbum,subtype:.smartAlbumUserLibrary,options: nil)\n    }\n\n    if let assetCollection = fetchResult.firstObject {\n        self.allPhotos = PHAsset.fetchAssets(in: assetCollection, options: nil)\n    }\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 2799799, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/815dbb05b8dc5ed6fb451451552f27f5?s=128&d=identicon&r=PG&f=1", "display_name": "manish", "link": "https://stackoverflow.com/users/2799799/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1564762541, "creation_date": 1536844131, "question_id": 52314469, "link": "https://stackoverflow.com/questions/52314469/how-to-get-phassets-in-the-order-of-date-added-using-fetchassests", "title": "How to get PHAssets in the order of date added using fetchAssests", "body": "<p>I am trying to get the PHAssets from Camera roll, iCloud, and Photostream in the same order as they were added by the user. In ios 11, I use</p>\n\n<pre><code>PHFetchOptions *options = [[PHFetchOptions alloc] init];\nPHFetchResult *fetchResults = [PHAsset fetchAssetsWithOptions:options];\n</code></pre>\n\n<p>But this has stopped working in iOS 12. Using this iCloud images and camera roll images come seperately. There are only 2 sort descriptors provided creationDate and modifiedDate.</p>\n\n<p>The second solution that I tried was to fetch the photos from the 'user library' using smart album. 'User library' works differently based on whether the user has turned on the iCloud library. If the iCloud library is on, then User library contains all the images from camera roll and iCloud library. If the iCloud library is turned off then the user library only contains the images from camera roll. This returns the images from camera roll and iCloud library in correct order. The problem is that it cannot fetch the images from Photostream.</p>\n\n<p>In another solution, the photos were fetched from user library if the iCloud library is on, and if iCloud is off then they are fetched using the old method giving us the correct order of photostream and camera roll images.</p>\n\n<p><strong>This solutions also did not work.</strong></p>\n\n<p>Please check the following scenario:</p>\n\n<ul>\n<li>The iCloud library is off and Photostream is on. We will use fetchAssetsWithOption with default options. The order will be correct.</li>\n<li>User turns on the iCloud. Photostream automatically turns off. We will fetch the photos from 'user library'. Giving us all the images from iCloud as well as camera roll sorted with default options. The order will be correct.</li>\n<li>Now user turns off the iCloud library. All the images from iCloud should get deleted from the device. But, some images from iCloud are left in the camera roll. They are not deleted (may be due to a bug in iCloud). As a result, these undeleted images always appear on the top. This also happens if the user downloads the images from iCloud and does not delete the image when the iCloud is turned off.</li>\n</ul>\n\n<p>So is there any way to do it.</p>\n"}, {"tags": ["objective-c", "swift", "xcode"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1536840187, "post_id": 52313315, "comment_id": 91573636, "body": "Where do you put that code? How is it imported to Swift? Which exact line causes the error message?"}, {"owner": {"reputation": 4254, "user_id": 3544438, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LWzAV.jpg?s=128&g=1", "display_name": "Anton Tropashko", "link": "https://stackoverflow.com/users/3544438/anton-tropashko"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 0, "creation_date": 1536841623, "post_id": 52313315, "comment_id": 91574487, "body": "I found the answer in xocde 10 you have to do ServiceType.foo instead of the .foo notation of the yesteryear"}, {"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 2, "creation_date": 1536841723, "post_id": 52313315, "comment_id": 91574545, "body": "I doubt that this changed between Xcode/Swift versions. <code>.foo</code> is sufficient if the type can be inferred from the context. Also <code>&#39;ServiceType?&#39;</code> indicates that there might be optionals involved. \u2013  Please show the code which compiles in Xcode 9, but not in Xcode 10!"}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1536841881, "post_id": 52313315, "comment_id": 91574640, "body": "Aren&#39;t you using an older version of Xcode 10 beta? I remember such behavior in some betas, but not in Xcode 10 GM seed."}, {"owner": {"reputation": 4254, "user_id": 3544438, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LWzAV.jpg?s=128&g=1", "display_name": "Anton Tropashko", "link": "https://stackoverflow.com/users/3544438/anton-tropashko"}, "edited": false, "score": 0, "creation_date": 1536841971, "post_id": 52313315, "comment_id": 91574719, "body": "no, it&#39;s the freshly installed gm seed"}, {"owner": {"reputation": 4254, "user_id": 3544438, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LWzAV.jpg?s=128&g=1", "display_name": "Anton Tropashko", "link": "https://stackoverflow.com/users/3544438/anton-tropashko"}, "edited": false, "score": 0, "creation_date": 1536842022, "post_id": 52313315, "comment_id": 91574742, "body": "Version 10.0 (10A254a)"}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 1, "creation_date": 1536842780, "post_id": 52313315, "comment_id": 91575178, "body": "Then the similar bug I have found in some older beta may still exist in some other contexts. But you should better show more context to reproduce your issue. In all cases I have tested, the dot-leaded notation <code>.foo</code> works as expected. Please show how you get that error."}, {"owner": {"reputation": 4254, "user_id": 3544438, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LWzAV.jpg?s=128&g=1", "display_name": "Anton Tropashko", "link": "https://stackoverflow.com/users/3544438/anton-tropashko"}, "edited": false, "score": 0, "creation_date": 1536846188, "post_id": 52313315, "comment_id": 91577281, "body": "Yes, sometime .foo works, most of the times it does not without specifying the context. In switch cases for example. Not the best use of options but sometimes it&#39;s a valid usecase"}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 1, "creation_date": 1536847461, "post_id": 52313315, "comment_id": 91578150, "body": "As far as I tested (and in all my experiences using Xcode 9), the dictionary key case using <code>.rawValue</code> dose NOT compile in Xcode 9.4.1. And the second example switch-case, it&#39;s rather a <a href=\"https://swift.org/blog/iuo/\" rel=\"nofollow noreferrer\">problem of implicitly unwrapped Optional</a> than NS_OPTIONS."}], "answers": [{"tags": [], "owner": {"reputation": 4254, "user_id": 3544438, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LWzAV.jpg?s=128&g=1", "display_name": "Anton Tropashko", "link": "https://stackoverflow.com/users/3544438/anton-tropashko"}, "is_accepted": false, "score": -3, "last_activity_date": 1536846565, "last_edit_date": 1536846565, "creation_date": 1536841647, "answer_id": 52313751, "question_id": 52313315, "link": "https://stackoverflow.com/questions/52313315/xcode-10-gm-seed-ns-options-objc-export-of-options-no-longer-compiles/52313751#52313751", "title": "Xcode 10 GM seed: NS_OPTIONS (objc export of options) no longer compiles", "body": "<p>Apparently in xcode 10 in some cases you have to do the longish ServiceType.foo instead of the compact .foo notation of the yesteryear</p>\n"}], "owner": {"reputation": 4254, "user_id": 3544438, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/LWzAV.jpg?s=128&g=1", "display_name": "Anton Tropashko", "link": "https://stackoverflow.com/users/3544438/anton-tropashko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1536846565, "creation_date": 1536840068, "last_edit_date": 1536846473, "question_id": 52313315, "link": "https://stackoverflow.com/questions/52313315/xcode-10-gm-seed-ns-options-objc-export-of-options-no-longer-compiles", "title": "Xcode 10 GM seed: NS_OPTIONS (objc export of options) no longer compiles", "body": "<pre><code>typedef NS_OPTIONS(NSInteger, ServiceType) {\n foo = 1 &lt;&lt; 0,\n bar = 1 &lt;&lt; 1,\n AllServices = 0x3\n};\n</code></pre>\n\n<p>now yields in baz.swift:136:15: Enum case 'foo' not found in type 'ServiceType?'</p>\n\n<p>What I'm doing newly wrong here?\nThis worked in xcode 9.4.1</p>\n\n<p>The cases where it does not work:</p>\n\n<p>key to a dictionary:</p>\n\n<p>[ServiceType.foo.rawValue: somevalue, ....</p>\n\n<p>this:\n[.foo.rawValue: somevalue, ....</p>\n\n<p>works in 9.4.1 (but not in 10)</p>\n\n<p>Oh, in cases where ServiceType is force unwrapped var to a enum</p>\n\n<pre><code>let s: ServiceType!\n....\nswitch(s)\n{\ncase ServiceType.foo: \n</code></pre>\n\n<p>compiles (and compact notation does not)\nthis:</p>\n\n<pre><code>let s: ServiceType\n....\nswitch(s)\n{\ncase .foo: \n</code></pre>\n\n<p>compiles fine as expected</p>\n"}, {"tags": ["objective-c", "swift", "class", "subclass", "base-class"], "comments": [{"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536832063, "post_id": 52310881, "comment_id": 91569030, "body": "Small <code>self</code> refers to the object and no the class. You would need something like <code>String(describing: UILoginViewController.self)</code> to make it work."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536832291, "post_id": 52310881, "comment_id": 91569181, "body": "i tried Self.init(nibName: String(describing:self), bundle:Bundle.main) which results in compile error &quot;Use of unresolved identifier &#39;Self&#39;&quot;"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536832327, "post_id": 52310881, "comment_id": 91569213, "body": "I made a typo in a comment, please review."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536832490, "post_id": 52310881, "comment_id": 91569330, "body": "issue is not with the nib but with object itself.i want it to be of child class instead of parent class.nib part is working fine.edited the question"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536832912, "post_id": 52310881, "comment_id": 91569574, "body": "You have a static func that is placed where? In a super class?"}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536833212, "post_id": 52310881, "comment_id": 91569749, "body": "yes it&#39;s in super class"}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536834775, "post_id": 52311438, "comment_id": 91570611, "body": "yes i&#39;m calling it with child controller that why output was &#39;sam controller class = UILoginViewController&#39;"}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536834830, "post_id": 52311438, "comment_id": 91570640, "body": "but on self.init(nibName: String(describing:self), bundle:Bundle.main) app is creating object of UIBaseClassViewController instead of UILoginViewController"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "reply_to_user": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536838135, "post_id": 52311438, "comment_id": 91572428, "body": "what happens when you call <code>UILoginViewController.getController()</code>"}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536838250, "post_id": 52311438, "comment_id": 91572487, "body": "returns &lt;Swift_And_Node.UIBaseClassViewController: 0x7f8a4ee13830&gt;.it should be of UILoginViewController..don&#39;t know what&#39;s the issue..it&#39;s loading nib correctly in same statment"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "reply_to_user": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536839491, "post_id": 52311438, "comment_id": 91573234, "body": "Ok, try this one. <code>let loginController: UILoginController = UILoginController.getController()</code> may be it cannot determine which class you really want without explicit type annotation here."}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "reply_to_user": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536840391, "post_id": 52311438, "comment_id": 91573740, "body": "@SameerAzeem any luck with my previous comment?"}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536840658, "post_id": 52311438, "comment_id": 91573908, "body": "nup same result"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "reply_to_user": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536840768, "post_id": 52311438, "comment_id": 91573959, "body": "If your loginController is of type UILoginController it should now have all the method of UILoginController. I&#39;m starting to think that the problem could be elsewhere."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536840968, "post_id": 52311438, "comment_id": 91574075, "body": "it should but getController function is in parent class(UIBaseClassViewController) and line &#39;return self.init(nibName: String(describing:self), bundle:Bundle.main)&#39; is creating object of parent class(UIBaseClassViewController) even if i&#39;m calling it from child class(UILoginViewController)"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "reply_to_user": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536841164, "post_id": 52311438, "comment_id": 91574200, "body": "change <code>static</code> to <code>class</code>"}, {"owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "reply_to_user": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 1, "creation_date": 1536843268, "post_id": 52311438, "comment_id": 91575486, "body": "<code>static</code> and <code>class</code> both associate a method with a class, rather than an instance of a class. The difference is that subclasses can override class methods; they cannot override static methods."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "edited": false, "score": 0, "creation_date": 1536843311, "post_id": 52311438, "comment_id": 91575504, "body": "still no change with &#39;class func getController() -&gt; Self&#39;"}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "edited": false, "score": 0, "creation_date": 1536843385, "post_id": 52311438, "comment_id": 91575543, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/179994/discussion-between-sameer-azeem-and-inokey\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3133, "user_id": 5479510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii5Uy.jpg?s=128&g=1", "display_name": "inokey", "link": "https://stackoverflow.com/users/5479510/inokey"}, "is_accepted": false, "score": 0, "last_activity_date": 1536833260, "creation_date": 1536833260, "answer_id": 52311438, "question_id": 52310881, "link": "https://stackoverflow.com/questions/52310881/self-class-alloc-for-controllers-equivalent-in-swift/52311438#52311438", "title": "self class alloc for controllers equivalent in Swift", "body": "<p>You either have to call this static function on desired view controller class or not making it static at all. Please see the example below to see how it works in Swift.</p>\n\n<pre><code>class ParentView: UIView {\n    static func printSelf() {\n        print(String(describing: self))\n    }\n}\nclass ChildView: ParentView {}\n\nParentView.printSelf() // Prints ParentView\nChildView.printSelf() // Prints ChildView\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1536905755, "post_id": 52325522, "comment_id": 91598784, "body": "Initializing from <code>.xib</code> should not differ from <b>Objective-C</b> to <b>Swift</b>. I&#39;m actually surprised. It shouldn&#39;t work like that. You certainly are going to get a view controller by <code>self.init()</code>, but it should not be the one that is in the <code>.xib</code> file. Instead it is a totally new <code>UIViewController</code> that is not your interface builder&#39;s <code>UILoginViewController</code>."}, {"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1536905855, "post_id": 52325522, "comment_id": 91598829, "body": "Try putting some elements in both the <code>.xib</code> files of your <code>UIBaseClassViewController</code> &amp; <code>UILoginViewController</code>. And then check if the corresponding view controllers are actually initialized with their elements or not."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1536906095, "post_id": 52325522, "comment_id": 91598934, "body": "there&#39;s no xib file for UIBaseClassViewController...i was using it just to place some common functionality... UIBaseClassViewController is inheriting uiviewcontroller and UILoginViewController is inheriting UIBaseClassViewController.this way i can use common functionality in UILoginViewController and in other controllers which are inheriting from UIBaseClassViewController"}, {"owner": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1536906839, "post_id": 52325522, "comment_id": 91599247, "body": "Well, fine. Still this should not load the <code>UILoginViewController</code> from your <code>.xib</code> file. Put elements in <code>UILoginViewController</code>&#39;s <code>.xib</code> and try to initialize it using your written <code>static</code> method and then present/show that login view controller. Check if that loads successfully."}, {"owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "reply_to_user": {"reputation": 5827, "user_id": 3687801, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ZUV5x.jpg?s=128&g=1", "display_name": "nayem", "link": "https://stackoverflow.com/users/3687801/nayem"}, "edited": false, "score": 0, "creation_date": 1536908393, "post_id": 52325522, "comment_id": 91599937, "body": "i&#39;m not using getController function now as there&#39;s no need..just replaced self.getController() with self.init() in <code>UIBaseClassViewController</code>"}], "tags": [], "owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "is_accepted": true, "score": 0, "last_activity_date": 1536903340, "creation_date": 1536903340, "answer_id": 52325522, "question_id": 52310881, "link": "https://stackoverflow.com/questions/52310881/self-class-alloc-for-controllers-equivalent-in-swift/52325522#52325522", "title": "self class alloc for controllers equivalent in Swift", "body": "<p>Turns out we don't need to mention nib and bundle for controller object...I moved from objective c and these things are necessary there.</p>\n\n<p><strong>with</strong> </p>\n\n<pre><code>[[UILoginViewController alloc] init] \n</code></pre>\n\n<p><strong>app will show black screen.</strong></p>\n\n<p>In swift we can just use UILoginViewController() and it will automatically associate nib with the controller object.</p>\n\n<p><strong>so to answer my question i just used</strong> </p>\n\n<pre><code>self.init()\n</code></pre>\n\n<p><strong>instead of</strong> </p>\n\n<pre><code>self.init(nibName: String(describing:self), bundle:Bundle.main)\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 2579243, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e82140cb42d5dcf4efc01314f8a50535?s=128&d=identicon&r=PG", "display_name": "Sameer Azeem", "link": "https://stackoverflow.com/users/2579243/sameer-azeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 52325522, "answer_count": 2, "score": 0, "last_activity_date": 1536903340, "creation_date": 1536831476, "last_edit_date": 1536835056, "question_id": 52310881, "link": "https://stackoverflow.com/questions/52310881/self-class-alloc-for-controllers-equivalent-in-swift", "title": "self class alloc for controllers equivalent in Swift", "body": "<p>I had a class UIBaseClassViewController with convenient functions in objective c.Now i'm switching to swift and i'm trying to convert it's code into swift.the function giving me problem is </p>\n\n<pre><code>+(UIBaseClassViewController*)getController\n{\n   return [[[self class] alloc] initWithNibName:NSStringFromClass([self class]) bundle:[NSBundle mainBundle]];\n}\n</code></pre>\n\n<p>i was able to convert it but it's not working fine</p>\n\n<pre><code>static func getController() -&gt; Self\n{\n    print(\"sam controller class = \\(String(describing:self))\")\n    print(\"SAM controller = \\(self.init(nibName: String(describing:self), bundle:Bundle.main))\")\n\n    return self.init(nibName: String(describing:self), bundle:Bundle.main)\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>sam controller class = UILoginViewController\nSAM controller = &lt;Swift_And_Node.UIBaseClassViewController: 0x7f8a4ee13830&gt;\n</code></pre>\n\n<p>created object is of type UIBaseClassViewController.it loads the nib fine but as object is of UIBaseClassViewController app crashes because it was not able to find functions in UIBaseClassViewController which are in UILoginViewController.</p>\n\n<p><strong>How can i make it create object of child class instead of parent.UILoginViewController in this case</strong></p>\n\n<p>for better Understanding showing adding code:</p>\n\n<p><strong>UIBaseClassViewController</strong>:</p>\n\n<pre><code>class UIBaseClassViewController: UIViewController {\nstatic func getController() -&gt; Self\n{\n    print(\"sam controller class = \\(String(describing:self))\")\n    print(\"SAM controller = \\(self.init(nibName: String(describing:self), bundle:Bundle.main))\")\n    var object = self\n    return self.init(nibName: String(describing:self), bundle:Bundle.main)\n}\n}\n</code></pre>\n\n<p><strong>UILoginViewController</strong>:</p>\n\n<pre><code>class UILoginViewController: UIBaseClassViewController {}\n</code></pre>\n\n<p><strong>3rd controller who need UILoginViewController</strong>:</p>\n\n<pre><code>UILoginViewController.getController()\n</code></pre>\n"}, {"tags": ["objective-c", "uitabbarcontroller", "uitabbar", "uitabbaritem"], "answers": [{"tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 3, "last_activity_date": 1536871649, "creation_date": 1536871649, "answer_id": 52321599, "question_id": 52306981, "link": "https://stackoverflow.com/questions/52306981/objective-c-tabbaritem-tapped-method-called-but-webview-not-refreshed/52321599#52321599", "title": "Objective-C: Tabbaritem tapped-&gt;Method Called-&gt; But WebView not refreshed", "body": "<p>As I mentioned in my other reply <a href=\"https://stackoverflow.com/questions/52293432/objective-c-how-to-properly-set-didselectviewcontroller-method-for-tabbarcontro/52299231#52299231\">Objective-C: How to properly set didSelectViewController method for TabBarController, so I can refresh the VC everytime it is tapped</a>, I don't think it's good User Experience to be refreshing the view from the server every time the tab bar is selected (this will get very annoying for users to wait every time for the server to refresh the data)</p>\n\n<p>That being said, the issue with the code you posted is that you're initializing a new instance of your classes in the TabBarControllerDelegate method so the method will be called on this new instance instead of on the one that's displaying/exists in your TabBarController's view controllers.  Specifically these two lines are initializing the new instances:</p>\n\n<pre><code>[[[Classes alloc] init] LoadClasses];\n[[[Gym alloc] init] handleRefreshGym:nil];\n</code></pre>\n\n<p>Instead you should be finding the instance that already exists, and calling the method on them.</p>\n\n<p>I would recommend creating a <code>ParentViewController</code> with a public method along the lines of <code>- (void)doStuffWhenTabBarControllerSelects;</code> (just example naming to be clear what's it doing to you) then have each of the view controllers you'd like to have do something when they're selected be child classes of this parent (and have their own implementation of <code>- (void)doStuffWhenTabBarControllerSelects;</code>).  This way in the TabBarController's delegate method, you can just find the appropriate instance of <code>ParentViewController</code> (associated with the view controller being selected) and call the <code>- (void)doStuffWhenTabBarControllerSelects;</code> method on it.</p>\n\n<p>Here's an example of what I mean:</p>\n\n<p>ParentViewController.h:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface ParentViewController : UIViewController\n- (void)doStuffWhenTabBarControllerSelects;\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>ParentViewController.m:</p>\n\n<pre><code>#import \"ParentViewController.h\"\n\n@interface ParentViewController ()\n\n@end\n\n@implementation ParentViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n}\n\n- (void)doStuffWhenTabBarControllerSelects {\n    NSLog(@\"Fallback implementation if this method isn't implemented by the child class\");\n}\n\n@end\n</code></pre>\n\n<p>FirstViewController.h:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"ParentViewController.h\"\n\n@interface FirstViewController : ParentViewController\n\n\n@end\n</code></pre>\n\n<p>FirstViewController.m:</p>\n\n<pre><code>#import \"FirstViewController.h\"\n\n@interface FirstViewController ()\n\n@end\n\n@implementation FirstViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n}\n\n- (void)doStuffWhenTabBarControllerSelects {\n    NSLog(@\"I'm doing stuff on the %@ when the tab bar controller delegate calls back to selection\", NSStringFromClass([self class]));\n}\n\n\n@end\n</code></pre>\n\n<p>SecondViewController.h:</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"ParentViewController.h\"\n\n@interface SecondViewController : ParentViewController\n\n\n@end\n</code></pre>\n\n<p>SecondViewController.m:</p>\n\n<pre><code>#import \"SecondViewController.h\"\n\n@interface SecondViewController ()\n\n@end\n\n@implementation SecondViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n}\n\n- (void)doStuffWhenTabBarControllerSelects {\n    NSLog(@\"I'm doing stuff on the %@ when the tab bar controller delegate calls back to selection\", NSStringFromClass([self class]));\n}\n\n@end\n</code></pre>\n\n<p>MyTabBarController.h:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface MyTabBarController : UITabBarController &lt;UITabBarControllerDelegate&gt;\n\n@end\n\nNS_ASSUME_NONNULL_END\n</code></pre>\n\n<p>MyTabBarController.m:</p>\n\n<pre><code>#import \"MyTabBarController.h\"\n#import \"ParentViewController.h\"\n\n@implementation MyTabBarController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.delegate = self;\n}\n\n- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController {\n    // since your view controllers are embedded in nav controllers, let's make sure we're getting a nav controller\n    if ([viewController isKindOfClass:[UINavigationController class]]) {\n        // we're expecting a nav controller so cast it to a nav here\n        UINavigationController *navController = (UINavigationController *)viewController;\n        // now grab the first view controller from that nav controller\n        UIViewController *firstViewControllerInNav = navController.viewControllers.firstObject;\n        // check to make sure it's what we're expecting (ParentViewController)\n        if ([firstViewControllerInNav isKindOfClass:[ParentViewController class]]) {\n            // cast it to our parent view controller class\n            ParentViewController *viewControllerToCallMethodOnAfterSelection = (ParentViewController *)firstViewControllerInNav;\n            [viewControllerToCallMethodOnAfterSelection doStuffWhenTabBarControllerSelects];\n        }\n    }\n}\n\n@end\n</code></pre>\n\n<p>Then when you select between the two tabs you'll this is the output:</p>\n\n<pre><code>I'm doing stuff on the FirstViewController when the tab bar controller delegate calls back to selection\n\nI'm doing stuff on the SecondViewController when the tab bar controller delegate calls back to selection\n</code></pre>\n\n<p>I'd recommend doing some additional research/reading of the documentation:</p>\n\n<p>There's a good amount of beginner information here: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/DefiningClasses/DefiningClasses.html#//apple_ref/doc/uid/TP40011210-CH3-SW1\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/DefiningClasses/DefiningClasses.html#//apple_ref/doc/uid/TP40011210-CH3-SW1</a></p>\n\n<p>UITabBarController: <a href=\"https://developer.apple.com/documentation/uikit/uitabbarcontroller?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uitabbarcontroller?language=objc</a></p>\n\n<p>UITabBarControllerDelegate:\n<a href=\"https://developer.apple.com/documentation/uikit/uitabbarcontrollerdelegate?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uitabbarcontrollerdelegate?language=objc</a></p>\n\n<p>One other helpful hint is that within Xcode you can hold down on the option key and click on something to show a quicklook into the explanation/documentation</p>\n\n<p><a href=\"https://i.stack.imgur.com/ag2KF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ag2KF.png\" alt=\"Documentation Quick Look\"></a></p>\n\n<p>You can also right click on something and \"Jump To Definition\".  The majority of Apple's implementations will will have additional information in the header.</p>\n\n<p>Here's the example of what's in the header of UITabBarController:</p>\n\n<pre><code>/*!\n UITabBarController manages a button bar and transition view, for an application with multiple top-level modes.\n\n To use in your application, add its view to the view hierarchy, then add top-level view controllers in order.\n Most clients will not need to subclass UITabBarController.\n\n If more than five view controllers are added to a tab bar controller, only the first four will display.\n The rest will be accessible under an automatically generated More item.\n\n UITabBarController is rotatable if all of its view controllers are rotatable.\n */\n\nNS_CLASS_AVAILABLE_IOS(2_0) @interface UITabBarController : UIViewController &lt;UITabBarDelegate, NSCoding&gt;\n</code></pre>\n\n<p>As well as under the Help Menu there's \"Developer Documentation\" (CMD + SHIFT + 0) which has a multitude of useful information.</p>\n"}], "owner": {"reputation": 719, "user_id": 6787022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10106782317847598/picture?type=large", "display_name": "Hanz Cheah", "link": "https://stackoverflow.com/users/6787022/hanz-cheah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 52321599, "answer_count": 1, "score": 0, "last_activity_date": 1536871649, "creation_date": 1536815240, "question_id": 52306981, "link": "https://stackoverflow.com/questions/52306981/objective-c-tabbaritem-tapped-method-called-but-webview-not-refreshed", "title": "Objective-C: Tabbaritem tapped-&gt;Method Called-&gt; But WebView not refreshed", "body": "<h1>Trying to achieve</h1>\n\n<p>When I tap on the tabbaritem say #2, it will called the method and reload the web view.</p>\n\n<h1>Issue</h1>\n\n<p>When I tap on the tabbaritem, the method is called but web view did not reload.</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=Da7j5L7LpW8\" rel=\"nofollow noreferrer\">Did not load the web view</a> </p>\n\n<h1>Question</h1>\n\n<p>If I called the method on the <code>VC</code> itself. I can manage to reload the web view. Only if I called it when the tabbaritem is tapped, it doesn't reload the web view.</p>\n\n<h1>Code</h1>\n\n<h1>MyTabBarController.m</h1>\n\n<pre><code>- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController {\n\n    NSLog(@\"controller class: %@\", NSStringFromClass([viewController class]));\n    NSLog(@\"controller title: %@\", viewController.title);\n\n        if (viewController == [tabBarController.viewControllers objectAtIndex:2])\n         {\n        [(UINavigationController *)viewController popToRootViewControllerAnimated:YES];\n        tabBarController.delegate = self;\n         [[[Classes alloc] init] LoadClasses];\n\n    }else if (viewController == [tabBarController.viewControllers objectAtIndex:3]){\n\n        [(UINavigationController *)viewController popToRootViewControllerAnimated:YES];\n        tabBarController.moreNavigationController.delegate = self;\n        [[[Gym alloc] init] handleRefreshGym:nil];\n\n}else{\n        [(UINavigationController *)viewController popToRootViewControllerAnimated:NO];\n    }\n\n}\n</code></pre>\n\n<h1>Classes.m</h1>\n\n<pre><code>- (void)LoadClasses {\n\n    sURL = @\"www.share-fitness.com/apps/class.asp?memCode=SF100012&amp;dtpClass=13/09/2018&amp;lang=EN&amp;lat=37.785835&amp;long=-122.406418&amp;ver=1&amp;plat=IOS\"\n\n    NSLog(@\"The URL To be loaded %@\", sURL);\n\n    NSURL *url = [NSURL URLWithString:sURL];\n    sRefresh = sURL;\n    [[NSURLCache sharedURLCache] removeAllCachedResponses];\n    NSURLRequest *urlRequest = [NSURLRequest requestWithURL:url];\n    [webView loadRequest:urlRequest];\n    [webView setDelegate:(id&lt;UIWebViewDelegate&gt;)self];\n\n    UIRefreshControl *refreshControl = [[UIRefreshControl alloc] init];\n    [refreshControl addTarget:self action:@selector(handleRefresh:) forControlEvents:UIControlEventValueChanged];\n    [webView.scrollView addSubview:refreshControl];\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "healthkit", "hkhealthstore"], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 6098123, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EY7nLYYVhIM/AAAAAAAAAAI/AAAAAAAAAAw/O1hsxGsZH2o/photo.jpg?sz=128", "display_name": "Mitesh jadav", "link": "https://stackoverflow.com/users/6098123/mitesh-jadav"}, "edited": false, "score": 0, "creation_date": 1536900253, "post_id": 52323797, "comment_id": 91597101, "body": "Thanks for suggestion. But 1) I have required code for Heart Reat and Blood Pressure , 2) Required code in objective c."}, {"owner": {"reputation": 6450, "user_id": 3771984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd927a7f648aefefa3a871c45fbd0331?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/3771984/allan"}, "reply_to_user": {"reputation": 810, "user_id": 6098123, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EY7nLYYVhIM/AAAAAAAAAAI/AAAAAAAAAAw/O1hsxGsZH2o/photo.jpg?sz=128", "display_name": "Mitesh jadav", "link": "https://stackoverflow.com/users/6098123/mitesh-jadav"}, "edited": false, "score": 0, "creation_date": 1536985562, "post_id": 52323797, "comment_id": 91629855, "body": "Sorry, I don&#39;t follow what you&#39;re saying."}], "tags": [], "owner": {"reputation": 6450, "user_id": 3771984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd927a7f648aefefa3a871c45fbd0331?s=128&d=identicon&r=PG&f=1", "display_name": "Allan", "link": "https://stackoverflow.com/users/3771984/allan"}, "is_accepted": false, "score": 0, "last_activity_date": 1536888321, "creation_date": 1536888321, "answer_id": 52323797, "question_id": 52306647, "link": "https://stackoverflow.com/questions/52306647/healthkit-read-data-heart-reat-and-bloodpressure-latest-update-after-sync/52323797#52323797", "title": "HealthKit Read data Heart Reat and BloodPressure &#39;latest update after sync&#39;", "body": "<p>Use <code>HKAnchoredObjectQuery</code> (documentation <a href=\"https://developer.apple.com/documentation/healthkit/hkanchoredobjectquery?language=objc\" rel=\"nofollow noreferrer\">here</a>). It is designed for exactly this use case.</p>\n"}], "owner": {"reputation": 810, "user_id": 6098123, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EY7nLYYVhIM/AAAAAAAAAAI/AAAAAAAAAAw/O1hsxGsZH2o/photo.jpg?sz=128", "display_name": "Mitesh jadav", "link": "https://stackoverflow.com/users/6098123/mitesh-jadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536888321, "creation_date": 1536812817, "last_edit_date": 1536841514, "question_id": 52306647, "link": "https://stackoverflow.com/questions/52306647/healthkit-read-data-heart-reat-and-bloodpressure-latest-update-after-sync", "title": "HealthKit Read data Heart Reat and BloodPressure &#39;latest update after sync&#39;", "body": "<p>I am syncing Heart Reat, BloodPressure data from HealthKit.</p>\n\n<p>The problem with this approach is when the user enters historic data which will not be synced. How do I perform the same query but with CreationDate (instead of StartDate), or some kind of database ID which will identify the historic value as being newer?</p>\n\n<p>I just want to filter out all the newly created values from healthkit.</p>\n\n<pre><code>-(void)getSpecificHealthKitDataHeartReat:(NSDate*)myDate\n{\nNSDateFormatter *dtFormat = [[NSDateFormatter alloc] init];\n\nNSCalendar *calendar = [NSCalendar currentCalendar];\n\nNSDate *now = [NSDate date];\n\nNSDateComponents *components = [calendar components:NSCalendarUnitYear|NSCalendarUnitMonth|NSCalendarUnitDay fromDate:now];\n\nNSDate *startDate = [calendar dateFromComponents:components];\n\nNSDate *endDate = [calendar dateByAddingUnit:NSCalendarUnitDay value:1 toDate:startDate options:0];\n\nNSPredicate *predicate = [HKQuery predicateForSamplesWithStartDate:startDate endDate:endDate options:HKQueryOptionNone];\n\n//[HKQuery predicateForObjectWithUUID:(nonnull NSUUID *)]\n\n//Read HeartRate\nHKHealthStore *healthStore = [[HKHealthStore alloc] init];\nNSSortDescriptor *timeSortDescriptor = [[NSSortDescriptor alloc] initWithKey:HKSampleSortIdentifierStartDate ascending:YES];\nHKQuantityType *heartRateType2 = [HKQuantityType quantityTypeForIdentifier:HKQuantityTypeIdentifierHeartRate];\nHKSampleQuery *sampleQuery2 = [[HKSampleQuery alloc] initWithSampleType:heartRateType2 predicate:predicate limit:0 sortDescriptors:@[timeSortDescriptor] resultsHandler:^(HKSampleQuery *query, NSArray *results, NSError *error)\n                               {\n                                   if (!results)\n                                   {\n                                       NSLog(@\"There are no heart rate results. The error was: %@.\", error);\n                                       return;\n                                   }\n                                   else\n                                   {\n                                       NSMutableArray *hrArray = [[NSMutableArray alloc]init];\n                                       for(HKQuantitySample *samples in results)\n                                       {\n                                           HKQuantity *hrQuantity = [samples quantity];\n                                           // double hr = [hrQuantity doubleValueForUnit:[HKUnit unitFromString:@\"count/min\"]];\n                                           double hr = [hrQuantity doubleValueForUnit: [[HKUnit countUnit] unitDividedByUnit:[HKUnit minuteUnit]]];\n\n                                           NSLog(@\"hr %f\",hr);\n                                           NSLog(@\"startDate  %@\",samples.startDate);\n                                           NSLog(@\"endDate  %@\",samples.endDate);\n\n                                       }\n                                   }\n                               }];\n// Execute the query\n[healthStore executeQuery:sampleQuery2];\n   }\n</code></pre>\n"}, {"tags": ["objective-c", "testing", "in-app-purchase", "itunes", "storekit"], "comments": [{"owner": {"reputation": 256, "user_id": 7984283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08b199db703a043b1dbb6dda4398dd0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sptibo ", "link": "https://stackoverflow.com/users/7984283/sptibo"}, "edited": false, "score": 0, "creation_date": 1536884846, "post_id": 52305476, "comment_id": 91594128, "body": "Aren&#39;t there any mula saag to answer?"}], "answers": [{"comments": [{"owner": {"reputation": 3115, "user_id": 864233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/l0YCn.jpg?s=128&g=1", "display_name": "romellem", "link": "https://stackoverflow.com/users/864233/romellem"}, "edited": false, "score": 0, "creation_date": 1537981581, "post_id": 52522511, "comment_id": 91985291, "body": "Hi @ludo, I see you are new to this site. Typically, for answers like this, it is recommended to provide a link to some documentation that backs up your answer, and not merely just saying &quot;it is the default behavior.&quot; Thanks for your contribution!"}], "tags": [], "owner": {"reputation": 16, "user_id": 10420021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7b5aac12525ac10f46b52335a77adb?s=128&d=identicon&r=PG&f=1", "display_name": "ludo", "link": "https://stackoverflow.com/users/10420021/ludo"}, "is_accepted": true, "score": 0, "last_activity_date": 1537979981, "creation_date": 1537979981, "answer_id": 52522511, "question_id": 52305476, "link": "https://stackoverflow.com/questions/52305476/could-not-connect-to-itunes-store-issue-inapp-purchase-objective-c/52522511#52522511", "title": "Could not connect to iTunes Store issue inapp purchase objective c", "body": "<p>Don't worry about that, it's the behavior with sandbox and apple. In prod, you'll have a popup from the bottom. Thanks to apple </p>\n"}], "owner": {"reputation": 256, "user_id": 7984283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08b199db703a043b1dbb6dda4398dd0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sptibo ", "link": "https://stackoverflow.com/users/7984283/sptibo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 52522511, "answer_count": 1, "score": 1, "last_activity_date": 1537979981, "creation_date": 1536802569, "last_edit_date": 1536911127, "question_id": 52305476, "link": "https://stackoverflow.com/questions/52305476/could-not-connect-to-itunes-store-issue-inapp-purchase-objective-c", "title": "Could not connect to iTunes Store issue inapp purchase objective c", "body": "<p>I am working on inApp purchase in objective c. I setup almost everything fine in itunesconnect and write code on my project. Here's my code</p>\n\n<pre><code>-(void)paymentQueue:(SKPaymentQueue *)queue updatedTransactions:(NSArray *)transactions {\nfor (SKPaymentTransaction *transaction in transactions) {\n    switch (transaction.transactionState) {\n        case SKPaymentTransactionStatePurchased:[self UnlockPurchase];\n            [[SKPaymentQueue defaultQueue] finishTransaction:transaction];\n            break;\n\n        case SKPaymentTransactionStateFailed:NSLog(@\"Transaction Failed\");\n            [[SKPaymentQueue defaultQueue] finishTransaction:transaction];\n            NSLog(@\"error: %@\", transaction.error.localizedDescription);\n            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Sorry\"\n                                                            message:transaction.error.localizedDescription\n                                                           delegate:self\n                                                  cancelButtonTitle:@\"OK\"\n                                                  otherButtonTitles:nil];\n            [alert show];\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When I press Buy button it ask to sign in with \"Use Existing Apple ID\" and is working fine if sandbox user id is entered. \nBut If I have signed in with free apple ID on my phone settings in both 'iCloud' and 'iTunes &amp; App Store' the above code goes to SKPaymentTransactionStateFailed case. At the same time if I try to buy something on other apps it ask to purchase from App Store with pop up from bottom.\n<a href=\"https://i.stack.imgur.com/QP9yY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QP9yY.png\" alt=\"Screenshot of another app\"></a>    </p>\n\n<p>Please anyone show me the way to ask for purchase as shown on above screenshot even if the user has signed in iTunes &amp; App Store. Thanks in advance. </p>\n"}]