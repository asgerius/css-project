[{"tags": ["ios", "objective-c", "multithreading", "core-data"], "answers": [{"tags": [], "owner": {"reputation": 7622, "user_id": 1143046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f52b3adb0c269a08c8d022fcde7817d?s=128&d=identicon&r=PG", "display_name": "Jon Rose", "link": "https://stackoverflow.com/users/1143046/jon-rose"}, "is_accepted": false, "score": 0, "last_activity_date": 1504164363, "creation_date": 1504164363, "answer_id": 45975634, "question_id": 45971016, "link": "https://stackoverflow.com/questions/45971016/core-data-concurrency-issue-and-how-to-fix/45975634#45975634", "title": "Core Data concurrency issue and how to fix", "body": "<p>Every managedObject has a context.  Each context has one and only one thread that it can run on.  ManagedObjects are NOT thread safe - not even for reading.  Passing managedObjects around with completions blocks is a bad practice.  It can be hard to figure out which managedObjects are supposed to be on which thread. Also, even if you are passing it around on the correct thread it is still a bad practice.  When you do a <code>dispatch_async</code> the entity may have deleted from the database in the interim and accessing the managedObject will cause a crash. A good practice is that any method that does a fetch should be explicitly told which context to use and return synchronously.  In your code the method is using <code>self.managedObjectContext</code>, but I have no way to know looking at you code what thread that is related to. Furthermore the pointer to the context may change and that can cause bugs that are very hard to track down.</p>\n\n<p><code>NSAsynchronousFetchResult</code> contains managedObjects, so is not thread safe and can only be used inside that completion block (which is running on the correct thread for the objects).  You cannot pass them to another thread. If you return them in a block then that code must also not pass them to another thread.  You should just do whatever you need to do with them inside the block and then discard them.</p>\n\n<p>If you need to display the information to the user, then generally it is better to just do the fetch on the main thread synchronously and get managedObjects that are associated with a main thread context. If your fetch is taking to long then you should fix that - there is no reason for a fetch to take so long. In your case you appear to be fetching ALL the items in you database.  That is a mistake.  You should use a predicate to only get the ones that you need. </p>\n\n<p>Another possibility is to copy the values of managedObjects into a thread safe object (a dictionary or a NSObject subclass).  </p>\n\n<p><strong>TL;DR</strong>  You probably don't need a NSAsynchronousFetchRequest.  Use a regular fetch request on the main thread and return synchronously.  Use a predicate to limit the results only to the objects you are actually displaying.</p>\n"}], "owner": {"reputation": 39141, "user_id": 144695, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c7abbaffe724a5eea63fcc50c0c1942?s=128&d=identicon&r=PG", "display_name": "Nic Hubbard", "link": "https://stackoverflow.com/users/144695/nic-hubbard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504164363, "creation_date": 1504134688, "last_edit_date": 1504136694, "question_id": 45971016, "link": "https://stackoverflow.com/questions/45971016/core-data-concurrency-issue-and-how-to-fix", "title": "Core Data concurrency issue and how to fix", "body": "<p>I use multiple contexts in my <code>Core Data</code> app, and have recently had some core data concurrency crashes. I have added <code>-com.apple.CoreData.ConcurrencyDebug 1</code> to help track these down, but I am not understanding how to fix the issue that is shown.</p>\n\n<p>Here is what I am doing:</p>\n\n<pre><code>- (void)getEvents:(void (^)(NSArray *fetchedItems))completionBlock {\n\n    // Initialize Fetch Request\n    NSFetchRequest *request = [[NSFetchRequest alloc] initWithEntityName:@\"ZSSCDEvent\"];\n\n    // Initialize Asynchronous Fetch Request\n    NSAsynchronousFetchRequest *asynchronousFetchRequest = [[NSAsynchronousFetchRequest alloc] initWithFetchRequest:request completionBlock:^(NSAsynchronousFetchResult *result) {\n\n        dispatch_async(dispatch_get_main_queue(), ^{\n\n            // Dismiss Progress HUD\n            [SVProgressHUD dismiss];\n\n            // Process Asynchronous Fetch Result\n            if (result.finalResult) {\n\n                NSArray *results = result.finalResult;\n\n                completionBlock(results);\n\n                // Reload Table View\n                [self.activityIndicator stopAnimating];\n                [self.tableViewList reloadData];\n\n            }\n\n        });\n    }];\n\n    // Execute Asynchronous Fetch Request\n    [self.managedObjectContext performBlock:^{\n\n        // Execute Asynchronous Fetch Request\n        NSError *asynchronousFetchRequestError = nil;\n        NSAsynchronousFetchResult *asynchronousFetchResult = (NSAsynchronousFetchResult *)[self.managedObjectContext executeRequest:asynchronousFetchRequest error:&amp;asynchronousFetchRequestError];\n\n        if (asynchronousFetchRequestError) {\n            NSLog(@\"Unable to execute asynchronous fetch result.\");\n            NSLog(@\"%@, %@\", asynchronousFetchRequestError, asynchronousFetchRequestError.localizedDescription);\n        }\n\n    }];\n\n}\n</code></pre>\n\n<p>This gives me a <code>Enqueued from com.apple.main-thread (Thread 1)</code> error. This is where I am confused, since I am running this on the main thread and didn't think I needed to use my private context here.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hSZfI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hSZfI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any ideas on why I am getting a concurrency issue here?</p>\n\n<p><strong>EDIT:</strong> It looks like someone else had the exact issue and thinks it is an Xcode bug: <a href=\"https://stackoverflow.com/questions/31728425/coredata-asynchronous-fetch-causes-concurrency-debugger-error\">CoreData asynchronous fetch causes concurrency debugger error</a></p>\n"}, {"tags": ["ios", "objective-c", "swift", "notifications"], "answers": [{"comments": [{"owner": {"reputation": 23627, "user_id": 5175709, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LGmTA.png?s=128&g=1", "display_name": "Honey", "link": "https://stackoverflow.com/users/5175709/honey"}, "edited": false, "score": 0, "creation_date": 1510239456, "post_id": 45971077, "comment_id": 81358602, "body": "I&#39;m still confused of what you wanted to do, and if something of my answer was wrong. Can you clarify. Because I did mention what you said in your 2nd paragraph. Or is that you did this but it didn&#39;t work?"}, {"owner": {"reputation": 1575, "user_id": 6305376, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/0c717c628a1afe5913fe38ab77991b60?s=128&d=identicon&r=PG&f=1", "display_name": "John L.", "link": "https://stackoverflow.com/users/6305376/john-l"}, "reply_to_user": {"reputation": 23627, "user_id": 5175709, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LGmTA.png?s=128&g=1", "display_name": "Honey", "link": "https://stackoverflow.com/users/5175709/honey"}, "edited": false, "score": 0, "creation_date": 1510299569, "post_id": 45971077, "comment_id": 81385040, "body": "@Honey Did you mean to post this in response to my comment to your answer in the following thread?  <a href=\"https://stackoverflow.com/questions/42275060/what-is-difference-between-remote-notification-and-silent-notification-in-ios/42302369#comment81185575_42302369\" title=\"what is difference between remote notification and silent notification in ios\">stackoverflow.com/questions/42275060/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1575, "user_id": 6305376, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/0c717c628a1afe5913fe38ab77991b60?s=128&d=identicon&r=PG&f=1", "display_name": "John L.", "link": "https://stackoverflow.com/users/6305376/john-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1504135340, "creation_date": 1504135340, "answer_id": 45971077, "question_id": 45970750, "link": "https://stackoverflow.com/questions/45970750/didreceiveremotenotification-not-called-in-foreground-when-notifications-disable/45971077#45971077", "title": "didreceiveremotenotification Not Called In Foreground When Notifications Disabled", "body": "<p>I have found the following SO answer: <a href=\"https://stackoverflow.com/questions/42275060/what-is-difference-between-remote-notification-and-silent-notification-in-ios/42275137\">What is difference between remote notification and silent notification in iOS?</a></p>\n\n<p>In short, to achieve what I wanted, I needed to enable Remote Notifications in the Bacground Modes of plist. Then I was able to register a token even if the user opted out of receiving notifications. </p>\n"}], "owner": {"reputation": 1575, "user_id": 6305376, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/0c717c628a1afe5913fe38ab77991b60?s=128&d=identicon&r=PG&f=1", "display_name": "John L.", "link": "https://stackoverflow.com/users/6305376/john-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 488, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504135340, "creation_date": 1504132896, "last_edit_date": 1504133527, "question_id": 45970750, "link": "https://stackoverflow.com/questions/45970750/didreceiveremotenotification-not-called-in-foreground-when-notifications-disable", "title": "didreceiveremotenotification Not Called In Foreground When Notifications Disabled", "body": "<p>If user does not give permission for notifications, <code>didreceiveremotenotification</code> is not called when a remote notification is received while the app is in the foreground. I do not want to use a silent notification because when the app is in the background and user allows notifications, I want the alert notification to appear. But when in the foreground, I want to handle the notification data myself, even if the user has opted out of notifications.</p>\n\n<p>How can this be achieved?</p>\n\n<p><strong>EDIT:</strong> I see that device registration token is not created when user disables notifications. But how would silent notifications work then?</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 1435, "user_id": 4286795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7db064bfe2c37b22508dea3cae28fc79?s=128&d=identicon&r=PG&f=1", "display_name": "Sparga", "link": "https://stackoverflow.com/users/4286795/sparga"}, "is_accepted": true, "score": 1, "last_activity_date": 1504138794, "creation_date": 1504138794, "answer_id": 45971488, "question_id": 45970739, "link": "https://stackoverflow.com/questions/45970739/ios-generated-ipa-sized-grow-a-lot-after-create-new-target/45971488#45971488", "title": "iOS - Generated IPA sized grow a lot after create new target", "body": "<p>Simply creating a target cannot change the IPA size because an IPA is the result of compiling and archiving 1 target.\nIt is what you embed in this target and its configuration that will have an impact on the size of the IPA, for instance:</p>\n\n<ul>\n<li>Resources (images, videos)</li>\n<li>Linked libraries and frameworks</li>\n<li>Use of Swift as the Swift libraries will be embedded in the IPA</li>\n<li>ARM Architectures in the build settings</li>\n</ul>\n\n<p>You can rename your <code>MyApp.ipa</code> into <code>MyApp.zip</code> and unzip it to browse the content of your application and detect what is taking so much space.</p>\n\n<p>You can also have a look at the <em>Build Phases</em> tab of your target in Xcode to see what is embedded in the IPA during the build. </p>\n"}], "owner": {"reputation": 6297, "user_id": 2139691, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ce43c3942da5a6d63a81ef76f0c109ba?s=128&d=identicon&r=PG", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/2139691/ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 45971488, "answer_count": 1, "score": 0, "last_activity_date": 1504138794, "creation_date": 1504132815, "question_id": 45970739, "link": "https://stackoverflow.com/questions/45970739/ios-generated-ipa-sized-grow-a-lot-after-create-new-target", "title": "iOS - Generated IPA sized grow a lot after create new target", "body": "<p>Before create a target the IPA size was 6MB after add a new target the new size is 90MB.\nIt's insane, what's going on?</p>\n\n<p>I had to make several changes in order to run objective-c and swift</p>\n\n<p>Instructions from the Apple website:</p>\n\n<blockquote>\n  <p>To import Swift code into Objective-C from the same framework</p>\n  \n  <p>Under <strong>Build Settings</strong>, in <strong>Packaging</strong>, make sure the <strong>Defines Module</strong>\n  setting for that framework target is set to <strong>Yes</strong>. Import the Swift code\n  from that framework target into any Objective-C .m file within that\n  framework target using this syntax and substituting the appropriate\n  names:</p>\n  \n  <p><strong>#import \"ProductName-Swift.h\"</strong></p>\n</blockquote>\n\n<p>And this:\n<a href=\"https://stackoverflow.com/a/44904162/2139691\">https://stackoverflow.com/a/44904162/2139691</a></p>\n"}, {"tags": ["ios", "objective-c", "delegates", "protocols"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1504129208, "post_id": 45970005, "comment_id": 78899475, "body": "Did you assign a value to the <code>delegate</code> property of <code>SecondViewController</code>?"}, {"owner": {"reputation": 159, "user_id": 7679460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e8ad487fd6a1d325111ceca9f82f29b?s=128&d=identicon&r=PG&f=1", "display_name": "Karen", "link": "https://stackoverflow.com/users/7679460/karen"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1504130494, "post_id": 45970005, "comment_id": 78899935, "body": "@rmaddy Do you mean string parameter? yes I did..! If your talking about something else then No, I didn&#39;t."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1504130610, "post_id": 45970005, "comment_id": 78899982, "body": "No, I&#39;m talking about the <code>delegate</code> property. If you don&#39;t set it, you can&#39;t call the <code>printString:</code> method on it."}, {"owner": {"reputation": 159, "user_id": 7679460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e8ad487fd6a1d325111ceca9f82f29b?s=128&d=identicon&r=PG&f=1", "display_name": "Karen", "link": "https://stackoverflow.com/users/7679460/karen"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1504131183, "post_id": 45970005, "comment_id": 78900157, "body": "I didn&#39;t understand @rmaddy can you please explain me what to do &amp; why ..?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1504131318, "post_id": 45970005, "comment_id": 78900194, "body": "Do you not know what your own <code>delegate</code> property is in your <code>SecondViewController</code>? You need to assign it a value."}, {"owner": {"reputation": 159, "user_id": 7679460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e8ad487fd6a1d325111ceca9f82f29b?s=128&d=identicon&r=PG&f=1", "display_name": "Karen", "link": "https://stackoverflow.com/users/7679460/karen"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1504133450, "post_id": 45970005, "comment_id": 78900789, "body": "@rmaddy I do know the property but what value do you want me to assign to it ?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1504133486, "post_id": 45970005, "comment_id": 78900800, "body": "Given what you wish to, it needs to be a reference to the first view controller."}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504156223, "post_id": 45970005, "comment_id": 78906031, "body": "Yor Can use Delegate or NSNotificationCenter"}], "answers": [{"tags": [], "owner": {"reputation": 1503, "user_id": 7668778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZMDDJcTz31c/AAAAAAAAAAI/AAAAAAAAAHA/xRtDlUrzYts/photo.jpg?sz=128", "display_name": "alegelos", "link": "https://stackoverflow.com/users/7668778/alegelos"}, "is_accepted": false, "score": 1, "last_activity_date": 1504141309, "creation_date": 1504141309, "answer_id": 45971725, "question_id": 45970005, "link": "https://stackoverflow.com/questions/45970005/passing-string-from-second-view-controller-to-first-controller/45971725#45971725", "title": "Passing string from second view controller to first controller", "body": "<p>Maybe you just forgot to assign your secondViewController.delegate to self.</p>\n\n<p>1- In first viewController, before pushing secondViewController, with that SecondViewController instance do:</p>\n\n<pre><code>secondViewController.delegate = self;\n</code></pre>\n\n<p>I can not comment, so if this does not work out just let me know or share more code.</p>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 6817520, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/nQSyB.jpg?s=128&g=1", "display_name": "Lenin", "link": "https://stackoverflow.com/users/6817520/lenin"}, "is_accepted": true, "score": 1, "last_activity_date": 1504143165, "creation_date": 1504143165, "answer_id": 45971933, "question_id": 45970005, "link": "https://stackoverflow.com/questions/45970005/passing-string-from-second-view-controller-to-first-controller/45971933#45971933", "title": "Passing string from second view controller to first controller", "body": "<p>You forgot to do </p>\n\n<pre><code>SecondViewcontroller *vc;\n\nvc.delegate=self;\n</code></pre>\n\n<p>On first view controller</p>\n"}, {"tags": [], "owner": {"reputation": 992, "user_id": 5212027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ac2Dx.jpg?s=128&g=1", "display_name": "Nidhi Patel", "link": "https://stackoverflow.com/users/5212027/nidhi-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1504155007, "creation_date": 1504155007, "answer_id": 45973421, "question_id": 45970005, "link": "https://stackoverflow.com/questions/45970005/passing-string-from-second-view-controller-to-first-controller/45973421#45973421", "title": "Passing string from second view controller to first controller", "body": "<p>When you navigate from one VC to Second VC you can set the delegate. </p>\n\n<pre><code>SecondViewcontroller *secondVC = [self.storyboard instantiateViewControllerWithIdentifier:@\"SecondViewcontroller\"];\nsecondVC.delegate = self;\n[self.navigationController pushViewController:secondVC animated:YES];\n</code></pre>\n\n<p>This code writes on FirstViewController. Hope it helps you.</p>\n"}], "owner": {"reputation": 159, "user_id": 7679460, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2e8ad487fd6a1d325111ceca9f82f29b?s=128&d=identicon&r=PG&f=1", "display_name": "Karen", "link": "https://stackoverflow.com/users/7679460/karen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 45971933, "answer_count": 3, "score": 0, "last_activity_date": 1504155007, "creation_date": 1504128710, "question_id": 45970005, "link": "https://stackoverflow.com/questions/45970005/passing-string-from-second-view-controller-to-first-controller", "title": "Passing string from second view controller to first controller", "body": "<p>I am trying to send string from Second VC to First VC. I have assigned delegate to first VC and given protocol in second VC but I don't see the method in First VC is being called when Second VC sends some data. </p>\n\n<p>Code</p>\n\n<p><strong>First VC</strong> </p>\n\n<p><strong><em>FirstViewController.h</em></strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"SecondViewController.h\"\n\n@interface FirstViewController : UIViewController &lt;cellDelegate&gt;\n\n@end\n</code></pre>\n\n<p><strong><em>FirstViewController.m</em></strong></p>\n\n<pre><code>- (void)printString:(NSString *)string{\n    NSLog(@\"Received string: %@\",string);\n}\n</code></pre>\n\n<p><strong><em>SecondViewController.h</em></strong></p>\n\n<pre><code>@protocol cellDelegate &lt;NSObject&gt;\n- (void)printString:(NSString *)string{\n@end\n\n@interface SecondViewController : UIViewController\n@property (nonatomic, weak) id &lt;cellDelegate&gt; delegate;\n@end\n</code></pre>\n\n<p><strong><em>SecondViewController.m</em></strong></p>\n\n<pre><code>- (IBAction)buttonPressed:(id)sender {\n    if ([self.delegate respondsToSelector:@selector(printString:)]) {\n            [self.delegate printString:@\"arrow\"]];\n        }\n}\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "calayer", "erase"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1504140325, "post_id": 45969938, "comment_id": 78902192, "body": "Aren&#39;t you just drawing with <code>.clear</code> on the mask?"}], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 1710382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7bb4c9be3b458ec712c1a820e9987e?s=128&d=identicon&r=PG", "display_name": "Barry Wyckoff", "link": "https://stackoverflow.com/users/1710382/barry-wyckoff"}, "edited": false, "score": 0, "creation_date": 1504825481, "post_id": 45971604, "comment_id": 79175627, "body": "Thanks for the reply, but would you be able to convert this to Objective C?"}], "tags": [], "owner": {"reputation": 674, "user_id": 4599632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee93f09f89f1352c0df3674f64ebcd28?s=128&d=identicon&r=PG&f=1", "display_name": "beshio", "link": "https://stackoverflow.com/users/4599632/beshio"}, "is_accepted": false, "score": 0, "last_activity_date": 1505089373, "last_edit_date": 1505089373, "creation_date": 1504140150, "answer_id": 45971604, "question_id": 45969938, "link": "https://stackoverflow.com/questions/45969938/how-do-i-erase-part-of-a-calayer/45971604#45971604", "title": "How do I erase part of a CALayer?", "body": "<p>You need to use contents property of CALayer to edit part of CALayer.</p>\n\n<p>Several ways to prepare contents.\nFor example, you create bitmap of RGBA in UInt8 array, then create CGImage from it.</p>\n\n<p>Swift:</p>\n\n<pre><code>func createCGImageFromBitmap(bitmap: UnsafeMutablePointer&lt;UInt8&gt;, width: Int, height: Int) -&gt; CGImage {\n    let colorSpace = CGColorSpaceCreateDeviceRGB()\n    let context = CGContext(data: bitmap, width: width, height: height, bitsPerComponent: 8, bytesPerRow: width * 4, space: colorSpace, bitmapInfo: CGImageAlphaInfo.premultipliedLast.rawValue)\n    let imageRef = context?.makeImage()\n    return imageRef!\n}\n</code></pre>\n\n<p>Objective-C:</p>\n\n<pre><code>CGImageRef createCGImageFromBitmap(unsigned char *bitmap,  int width, int height) {\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n    CGContextRef context = CGBitmapContextCreate(bitmap, width, height, 8, width * 4, colorSpace, kCGImageAlphaPremultipliedLast);\n    CGImageRef imageRef = CGBitmapContextCreateImage(context);\n    return imageRef;\n}\n</code></pre>\n\n<p>Here, bitmap is just a memory array in RGBARGBA..., of which size is width*height*4 bytes. Note I updated the original answer since I realized that CGContext(data:..) (swift)/CGBitmapContextCreate (obj-c) doesn't accept last/kCGImageAlphaLast. It compiles but causes run-time error w/ \"unsupported error\" message. So we need to pre-multiply alpha to RGB.</p>\n\n<p>Then,</p>\n\n<p>Swift:</p>\n\n<pre><code>    let screenScale = Int(UIScreen.main.scale)\n    let widthScaled = width * screenScale\n    let heightScaled = height * screenScale\n    let memSize = widthScaled * heightScaled * 4\n    let myBitmap = UnsafeMutablePointer&lt;UInt8&gt;.allocate(capacity: memSize)\n    // set RGBA of myBitmap. for your case, alpha of erased area gets zero\n    .....\n    let imageRef = createCGImageFromBitmap(bitmap: myBitmap, width: widthScaled, height: heightScaled)\n    myBitmap.deallocate(capacity: memSize)\n    myCALayer.contents = imageRef\n</code></pre>\n\n<p>Objective-C:</p>\n\n<pre><code>    int screenScale = (int)[[UIScreen mainScreen] scale];\n    int widthScaled = width * screenScale;\n    int heightScaled = height * screenScale;\n    int memSize = widthScaled * heightScaled * 4;\n    unsigned char *myBitmap = (unsigned char *)malloc(memSize);\n    // set RGBA of myBitmap. for your case, alpha of erased area gets zero\n    .....\n    CGImageRef imageRef = createCGImageFromBitmap(bitmap, width, height);\n    free(myBitmap);\n    myCALayer.contents = CFBridgingRelease(imageRef);\n</code></pre>\n\n<p>Since Core Graphics doesn't take Retina display into account, we need to scale bitmap size manually. You can get the scaling with UIScreen.main.scale.</p>\n\n<p>One more note: y axis of core graphics is from bottom to top, which is opposite to UIKit. So you need to flip top and bottom, though it's a simple task.</p>\n\n<p>Or if you have UIImage of the mask (already edited), you can create CGImage from UIImage just with</p>\n\n<pre><code>myCGImage = myUIImage.cgImage\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 1710382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d7bb4c9be3b458ec712c1a820e9987e?s=128&d=identicon&r=PG", "display_name": "Barry Wyckoff", "link": "https://stackoverflow.com/users/1710382/barry-wyckoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505089373, "creation_date": 1504128337, "question_id": 45969938, "link": "https://stackoverflow.com/questions/45969938/how-do-i-erase-part-of-a-calayer", "title": "How do I erase part of a CALayer?", "body": "<p>I have a UIImageView which I cover with a transparent mask using CALayer.</p>\n\n<p>I want to be able to erase parts of the CALayer with a brush made from a UIImage.</p>\n\n<p>Here is my code so far for the first 2 steps.</p>\n\n<pre><code>topImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, self.frame.size.width, self.frame.size.height)];\ntopImageView.image = [UIImage imageNamed:@\"testimage2.PNG\"];\ntopImageView.contentMode = UIViewContentModeScaleAspectFill;\ntopImageView.userInteractionEnabled = FALSE;\n[self addSubview:topImageView];\n\nCALayer *mask = [CALayer layer];\nmask.bounds = CGRectMake(0, 0, topImageView.frame.size.width, topImageView.frame.size.height);\ntopImageView.layer.mask = mask;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/erIWS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/erIWS.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504156359, "post_id": 45969606, "comment_id": 78906069, "body": "You can drag your .xib in  in folder of &quot;ective-C&quot;. and in future select that folder then add a file"}, {"owner": {"reputation": 1178, "user_id": 1542275, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LQjOK.png?s=128&g=1", "display_name": "Warblr", "link": "https://stackoverflow.com/users/1542275/warblr"}, "reply_to_user": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1505333536, "post_id": 45969606, "comment_id": 79375443, "body": "@VikasRajput I think you&#39;re missing the point of the question. I don&#39;t want the files to go into these folders at all. It never used to happen, and started to do so randomly. What you are suggesting is how I&#39;ve been getting around it. Please re-read the question."}], "owner": {"reputation": 1178, "user_id": 1542275, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LQjOK.png?s=128&g=1", "display_name": "Warblr", "link": "https://stackoverflow.com/users/1542275/warblr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1571069520, "creation_date": 1504126735, "question_id": 45969606, "link": "https://stackoverflow.com/questions/45969606/xcode-new-file-not-being-placed-in-workspace", "title": "Xcode: New file not being placed in workspace", "body": "<p>Not sure why this started happening; I didn't change anything and I didn't update Xcode. </p>\n\n<p>All of a sudden, when I add a new file (by any route), the files do not end up in my workspace, and instead are placed in a folder inside my project directory. For example, if I add a new UIViewController, it is placed into a folder in my project directory named \"ective-C\". If I add a .xib file, it is placed in the project directory in a folder named \"emplate\". It seems like the folders are being created based on the file type, but that a portion of the folder name is being cut off. This whole thing is weird because, why are the new files being placed into a random folder at all? And on top of that, why are they not immediately in my workspace? I have to go to the newly created folder, move them out of it, delete the folder, and drag/drop the files into my workspace.</p>\n\n<p>Has anyone else dealt with this? </p>\n"}, {"tags": ["ios", "objective-c", "delegates", "segue"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1504126150, "post_id": 45968770, "comment_id": 78898182, "body": "If you are using segues and storyboard you can&#39;t instanciate a viewController with [[ alloc]init] you need to get your destination view controller in prepare for segue method and pass the delegate there"}, {"owner": {"reputation": 3217, "user_id": 995931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/800518b9616592cb23fb1654925db06f?s=128&d=identicon&r=PG&f=1", "display_name": "user-44651", "link": "https://stackoverflow.com/users/995931/user-44651"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504126323, "post_id": 45968770, "comment_id": 78898266, "body": "What if the required segue is 4 or 5 segues in? That&#39;s why I am using the unwind feature."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504126417, "post_id": 45968770, "comment_id": 78898310, "body": "But only one go to finishViewController don&#39;t you?, and have an identifier?"}], "answers": [{"tags": [], "owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "is_accepted": true, "score": 1, "last_activity_date": 1504126984, "creation_date": 1504126984, "answer_id": 45969653, "question_id": 45968770, "link": "https://stackoverflow.com/questions/45968770/unwinding-from-storyboard-prevents-delegate-from-being-called/45969653#45969653", "title": "Unwinding from Storyboard prevents Delegate from being called", "body": "<p>You need pass your delegate in <code>prepareForSegue</code> method of your <code>DashboardViewController</code>, there get the <code>destinationViewController</code> and cast to <code>FinishViewController</code> if the identifier is equal to your expected segue identifier</p>\n\n<p><strong>Something like this</strong></p>\n\n<pre><code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    NSLog(@\"fired via the button to the exit--- Segue: %@\", [segue identifier]);\n    if([[segue identifier] isEqualToString:@\"YourSegueIdentifier\"])\n    {\n         ((FinishViewController*)[segue destinationViewController]).delegate = self\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3217, "user_id": 995931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/800518b9616592cb23fb1654925db06f?s=128&d=identicon&r=PG&f=1", "display_name": "user-44651", "link": "https://stackoverflow.com/users/995931/user-44651"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 45969653, "answer_count": 1, "score": 1, "last_activity_date": 1504126984, "creation_date": 1504123115, "question_id": 45968770, "link": "https://stackoverflow.com/questions/45968770/unwinding-from-storyboard-prevents-delegate-from-being-called", "title": "Unwinding from Storyboard prevents Delegate from being called", "body": "<p>I have a UIViewController several segues deep that when the use is finished, should <code>unwind</code> and take them back to the DashboardViewController.</p>\n\n<p>I created the <code>unwindToDashboard</code> method in the Dashboard and hooked a button up to the <code>Exit</code> in my <code>FinishViewController</code>. So that when its clicked will fire the unwind action.</p>\n\n<p>That works fine.</p>\n\n<p>But I need to pass back data to the Dashboard from the FinishViewController.</p>\n\n<p>So I created a delegate <code>ProcessDataDelegate</code> for the <code>FinishViewController</code> and made the Dashboard conform to it. </p>\n\n<p>However, the delegate method in the Dashboard is <strong>NOT</strong> called.</p>\n\n<p>Can anyone tell me what I have done wrong?</p>\n\n<p><strong>DashboardViewController.m</strong></p>\n\n<pre><code>#import \"FinishViewController.h\"\n\n@interface DashboardViewController () &lt;ProcessDataDelegate&gt;{\n    FinishViewController *fm;\n}\n@end\n\n@implementation DashboardViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    if(!fm){\n        fm = [[FinishViewController alloc] init];\n\n    }\n\n    fm.delegate = self;\n}\n\n- (IBAction)unwindToDashboard:(UIStoryboardSegue *)unwindSegue {\n//empty\n}\n\n#pragma mark PROTOCOL METHODS\n\n-(void) didFinishWithResults:(NSDictionary*) dictionary{\n    NSLog(@\"Dashboard method called didFinishWithResults\");\n}\n\n@end\n</code></pre>\n\n<p><strong>FinishViewController.h</strong></p>\n\n<pre><code>@class FinishViewController;\n@protocol ProcessDataDelegate &lt;NSObject&gt;\n    @required\n    - (void) didFinishWithResults: (NSDictionary*)dictionary;\n@end\n\n@interface FinishViewController : UIViewController \n@property (nonatomic, weak) id &lt;ProcessDataDelegate&gt;  delegate;\n@end\n</code></pre>\n\n<p><strong>FinishViewController.m</strong></p>\n\n<pre><code>@interface FinishViewController () \n@end\n\n@implementation FinishViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n}\n\n- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    NSLog(@\"fired via the button to the exit--- Segue: %@\", [segue identifier]);\n    [delegate didFinishWithResults:nil ];\n}\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "realm"], "comments": [{"owner": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "edited": false, "score": 0, "creation_date": 1504204145, "post_id": 45968363, "comment_id": 78935960, "body": "Is it possible that <code>[self configureRealm:numRetries];</code> is getting called somewhere else outside of <code>[deleteRealm:(BOOL)emptyDatabase numRetries:(NSUInteger)numRetries</code>?"}, {"owner": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "edited": false, "score": 0, "creation_date": 1504204347, "post_id": 45968363, "comment_id": 78936050, "body": "Another idea.  It seems like anytime this fails <code>[manager removeItemAtURL:URL error:&amp;error];</code>, you&#39;ll still try to configure realm again and this would produce the error since the database still exists, wasn&#39;t deleted from disk."}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "reply_to_user": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "edited": false, "score": 0, "creation_date": 1504204348, "post_id": 45968363, "comment_id": 78936052, "body": "No, I checked. Funny is that &#39;/Users/myname/Library/Developer/CoreSimulator/Devices/152AC&zwnj;&#8203;3D5-FD24-40DD-AFD7-5&zwnj;&#8203;A3C4F6EE282/data/Con&zwnj;&#8203;tainers/Data/Applica&zwnj;&#8203;tion/2F0140CF-68E4-4&zwnj;&#8203;D0E-8AC0-BB869BEE9BF&zwnj;&#8203;8/Documents/default.&zwnj;&#8203;realm does not exist and it complains about already opened with different encryption key."}, {"owner": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "edited": false, "score": 0, "creation_date": 1504204797, "post_id": 45968363, "comment_id": 78936272, "body": "Got it. And this only occasionally happens?  Or every time?   Is there any consistent pattern on when it occurs?"}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "reply_to_user": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "edited": false, "score": 0, "creation_date": 1504204917, "post_id": 45968363, "comment_id": 78936345, "body": "@EricMaxwell I can reproduce pretty consistently."}, {"owner": {"reputation": 17055, "user_id": 1991710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf35bd69982a8b014ef94ac01d81e8a?s=128&d=identicon&r=PG", "display_name": "bdash", "link": "https://stackoverflow.com/users/1991710/bdash"}, "edited": false, "score": 0, "creation_date": 1504205366, "post_id": 45968363, "comment_id": 78936589, "body": "This almost certainly means that the Realm file is still open, likely due to <code>RLMRealm</code> instances or other Realm accessor objects keeping it open."}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "reply_to_user": {"reputation": 17055, "user_id": 1991710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf35bd69982a8b014ef94ac01d81e8a?s=128&d=identicon&r=PG", "display_name": "bdash", "link": "https://stackoverflow.com/users/1991710/bdash"}, "edited": false, "score": 0, "creation_date": 1504205434, "post_id": 45968363, "comment_id": 78936625, "body": "@bdash the funny thing is that default.realm does not exist in the filesystem."}, {"owner": {"reputation": 17055, "user_id": 1991710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf35bd69982a8b014ef94ac01d81e8a?s=128&d=identicon&r=PG", "display_name": "bdash", "link": "https://stackoverflow.com/users/1991710/bdash"}, "edited": false, "score": 0, "creation_date": 1504205569, "post_id": 45968363, "comment_id": 78936690, "body": "Deleting a file from disk doesn\u2019t result in it being closed. Realm is aware that a Realm file is already open at a given path and reuses the existing file to avoid expensive file system operations each time a new reference to the Realm is retrieved."}, {"owner": {"reputation": 17055, "user_id": 1991710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf35bd69982a8b014ef94ac01d81e8a?s=128&d=identicon&r=PG", "display_name": "bdash", "link": "https://stackoverflow.com/users/1991710/bdash"}, "edited": false, "score": 0, "creation_date": 1504205776, "post_id": 45968363, "comment_id": 78936779, "body": "See <a href=\"https://stackoverflow.com/a/45774089/1991710\">stackoverflow.com/a/45774089/1991710</a>, in which I discuss approaches to replacing a Realm file while your app is running."}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "edited": false, "score": 0, "creation_date": 1504205778, "post_id": 45968363, "comment_id": 78936782, "body": "is there a canonical way to empty a realm database and change the password?"}, {"owner": {"reputation": 17055, "user_id": 1991710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf35bd69982a8b014ef94ac01d81e8a?s=128&d=identicon&r=PG", "display_name": "bdash", "link": "https://stackoverflow.com/users/1991710/bdash"}, "edited": false, "score": 0, "creation_date": 1504214296, "post_id": 45968363, "comment_id": 78940609, "body": "Yes, and I outlined how in the answer I linked to. In short, you must ensure that the Realm is not open when you replace it (i.e., that you have no references to <code>RLMRealm</code> instances, or objects retrieved from them)."}, {"owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "reply_to_user": {"reputation": 17055, "user_id": 1991710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf35bd69982a8b014ef94ac01d81e8a?s=128&d=identicon&r=PG", "display_name": "bdash", "link": "https://stackoverflow.com/users/1991710/bdash"}, "edited": false, "score": 0, "creation_date": 1504214603, "post_id": 45968363, "comment_id": 78940753, "body": "@bdash I&#39;m pretty sure I don&#39;t have any reference left. I wonder if Realm has a sample on how to do it."}], "answers": [{"tags": [], "owner": {"reputation": 14781, "user_id": 599344, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/XlwBi.jpg?s=128&g=1", "display_name": "TiM", "link": "https://stackoverflow.com/users/599344/tim"}, "is_accepted": true, "score": 3, "last_activity_date": 1547180692, "creation_date": 1547180692, "answer_id": 54140362, "question_id": 45968363, "link": "https://stackoverflow.com/questions/45968363/rlmexception-after-key-change-already-opened-with-different-encryption-key-aft/54140362#54140362", "title": "RLMException after key change - already opened with different encryption key aft", "body": "<p>Like @bdash outlined in his other issue, when a <code>RLMRealm</code> instance is created and wasn't explicitly contained in an <code>@autoreleasepool</code>, Realm internally caches references to that Realm. This is done by design in order to ensure that Realm runs as efficiently as possible.</p>\n\n<p>While an obvious solution would be to simply enclose literally every Realm operation in your app in an <code>@autoreleasepool</code>, this would be detrimental to performance since you'll be then forcing Realm to open a new reference to disk each and every time you call it.</p>\n\n<p>I have one potential solution that no one has mentioned directly in here: Don't recycle <code>default.realm</code>.</p>\n\n<p>The problem here is that you are creating a fresh copy of <code>default.realm</code> while there are lingering references to the old Realm of the same file name still in memory.</p>\n\n<p>A reasonable compromise would be that instead of recreating <code>default.realm</code>, you instead create a new Realm file with a unique file name each time you do this log-out operation, and then set that as your default Realm. For example, instead of <code>default.realm</code>, you generate a UUID string (e.g <code>7742e4bc-9f2b-44ae-acf1-7fb424438816.realm</code>), store a reference to its file name somewhere else (<code>NSUserDefaults</code> is probably fine), and use that as the filename in <code>RLMRealmConfiguration</code>.</p>\n\n<p>That way, whenever you need to delete the old Realm and create a new one, the new one will be considered a wholly new entity in your app, and the remnants of cache will not interfere, and will be gone by the time the app next launches. :)</p>\n"}], "owner": {"reputation": 3473, "user_id": 417415, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/R4FMj.jpg?s=128&g=1", "display_name": "ppaulojr", "link": "https://stackoverflow.com/users/417415/ppaulojr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 1, "accepted_answer_id": 54140362, "answer_count": 1, "score": 8, "last_activity_date": 1547180692, "creation_date": 1504121360, "last_edit_date": 1504205530, "question_id": 45968363, "link": "https://stackoverflow.com/questions/45968363/rlmexception-after-key-change-already-opened-with-different-encryption-key-aft", "title": "RLMException after key change - already opened with different encryption key aft", "body": "<p>I have an app that after a logout, for compliance reasons, need to erase all Realm data and change the encryption key.</p>\n\n<p>It's not quite the same situation of <a href=\"https://stackoverflow.com/questions/45780841/rlmexception-realm-at-path-already-opened-with-different-encryption-key-af\">RLMException &quot;Realm at path &#39; &#39; already opened with different encryption key&quot; after writeCopy(toFile:,encryptionKey:)</a></p>\n\n<p>I'm deleting all files after ensuring all of the Realm objects have been deallocated.</p>\n\n<pre><code>+ (void)deleteRealm:(BOOL)emptyDatabase numRetries:(NSUInteger)numRetries\n{\n    [[NSNotificationCenter defaultCenter] postNotificationName:@\"AppDataStoreWillFlushDatabaseNotification\" object:self];\n\n    if (emptyDatabase)\n    {\n        @autoreleasepool {\n            RLMRealm *realm = [RLMRealm defaultRealm];\n            [realm transactionWithBlock:^{\n                [realm deleteAllObjects];\n            }];\n            [realm invalidate];\n        }\n    }\n\n    NSFileManager *manager = [NSFileManager defaultManager];\n    RLMRealmConfiguration *config = [RLMRealmConfiguration defaultConfiguration];\n    NSArray&lt;NSURL *&gt; *realmFileURLs = @[\n        config.fileURL,\n        [config.fileURL URLByAppendingPathExtension:@\"lock\"],\n        [config.fileURL URLByAppendingPathExtension:@\"log_a\"],\n        [config.fileURL URLByAppendingPathExtension:@\"log_b\"],\n        [config.fileURL URLByAppendingPathExtension:@\"note\"],\n        [[config.fileURL URLByDeletingLastPathComponent] URLByAppendingPathComponent:[NSString stringWithFormat:@\"%@.realm.management\", [[config.fileURL URLByDeletingPathExtension] lastPathComponent]]]\n    ];\n    for (NSURL *URL in realmFileURLs)\n    {\n        NSError *error = nil;\n        [manager removeItemAtURL:URL error:&amp;error];\n        if (error)\n        {\n            // handle error\n            DDLogError(@\"Error deleting realm file - %@\", error);\n        }\n    }\n\n    // Remove old password\n    [CHPasswordManager wipeKeyFromSecurityEnclave];\n\n    [self configureRealm:(numRetries + 1)];\n}\n</code></pre>\n\n<p>And recreating with:</p>\n\n<pre><code>+ (void)configureRealm:(NSUInteger)numRetries\n{\n    // Setup the encryption key\n    NSString *encryptionKey = [CHPasswordManager encryptedStorePassphrase];\n\n    // If encryption key is not valid anymore, generate a new one (CoreData used a 32 chars string while Realm uses a 64 chars string)\n    if (encryptionKey.length == 32)\n    {\n        [CHPasswordManager wipeKeyFromSecurityEnclave];\n        encryptionKey = [CHPasswordManager encryptedStorePassphrase];\n    }\n\n    NSData *key = [encryptionKey dataUsingEncoding:NSUTF8StringEncoding];\n    RLMRealmConfiguration *config = [RLMRealmConfiguration defaultConfiguration];\n\n    config.encryptionKey = key;\n\n    // Set this as the configuration used for the default Realm\n    [RLMRealmConfiguration setDefaultConfiguration:config];\n\n    @autoreleasepool {\n        @try {\n            [RealmUser allObjects];\n        }@catch (NSException *e) {\n            if ([e.name isEqual:@\"RLMException\"])\n            {\n                // Something went wrong with encryption key - delete database and recreate again\n                if (numRetries &gt;= kRetriesThreshold)\n                {\n                    [Bugsnag notify:e];\n                } else {\n                    [self deleteRealm:NO numRetries:numRetries];\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, I'm often getting a RLMException: </p>\n\n<blockquote>\n  <p>\"reason: 'Realm at path\n  '/Users/myname/Library/Developer/CoreSimulator/Devices/152AC3D5-FD24-40DD-AFD7-5A3C4F6EE282/data/Containers/Data/Application/2F0140CF-68E4-4D0E-8AC0-BB869BEE9BF8/Documents/default.realm'\n  already opened with different encryption key'\"</p>\n</blockquote>\n\n<p>Funny thing is that: </p>\n\n<blockquote>\n  <p>'/Users/myname/Library/Developer/CoreSimulator/Devices/152AC3D5-FD24-40DD-AFD7-5A3C4F6EE282/data/Containers/Data/Application/2F0140CF-68E4-4D0E-8AC0-BB869BEE9BF8/Documents/default.realm'</p>\n</blockquote>\n\n<p>Isn't even on the filesystem.</p>\n\n<p>Any hints to fix the problem?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uicollectionview"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5890979"}, "edited": false, "score": 0, "creation_date": 1504122486, "post_id": 45967463, "comment_id": 78896328, "body": "Welcome to SO. Please avoid link-only as answers. You can use the &quot;flag&quot; button to flag as a duplicate if you think this has been answered already."}], "tags": [], "owner": {"reputation": 41, "user_id": 7411179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EmdzF.jpg?s=128&g=1", "display_name": "Muhammad Khaliq ur Rehman", "link": "https://stackoverflow.com/users/7411179/muhammad-khaliq-ur-rehman"}, "is_accepted": false, "score": 0, "last_activity_date": 1504117795, "creation_date": 1504117795, "answer_id": 45967463, "question_id": 45966817, "link": "https://stackoverflow.com/questions/45966817/how-to-pass-value-from-a-selected-cell-in-embedded-collectionview-to-another-vie/45967463#45967463", "title": "How to pass value from a selected cell in embedded collectionView to another viewController?", "body": "<p>You can do it either with delegation or completion block.</p>\n\n<p>To solve with delegation please follow this <a href=\"https://stackoverflow.com/questions/19343519/pass-data-back-to-previous-viewcontroller\">link</a>.</p>\n\n<p>To solve with completion block please follow this <a href=\"https://stackoverflow.com/questions/21397762/using-blocks-to-pass-data-back-to-view-controller\">link</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 8539288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8974237653a61e322690e872d8f2d68?s=128&d=identicon&r=PG&f=1", "display_name": "veve1127", "link": "https://stackoverflow.com/users/8539288/veve1127"}, "edited": false, "score": 0, "creation_date": 1504531453, "post_id": 45969247, "comment_id": 79036267, "body": "Yes. So simple yet I couldn&#39;t wrap my head around it at the time. By the way, sorry for the delayed reply. I&#39;m doing this on the side.  Thank you!"}], "tags": [], "owner": {"reputation": 1744, "user_id": 8346251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rME4.png?s=128&g=1", "display_name": "Kevinosaurio", "link": "https://stackoverflow.com/users/8346251/kevinosaurio"}, "is_accepted": true, "score": 0, "last_activity_date": 1504125199, "creation_date": 1504125199, "answer_id": 45969247, "question_id": 45966817, "link": "https://stackoverflow.com/questions/45966817/how-to-pass-value-from-a-selected-cell-in-embedded-collectionview-to-another-vie/45969247#45969247", "title": "How to pass value from a selected cell in embedded collectionView to another viewController?", "body": "<p>You can use <code>UICollectionViewDelegate</code>.</p>\n\n<p>Add in your class:</p>\n\n<pre><code>class YourViewController: UIViewController, UICollectionViewDelegate { ... }\n</code></pre>\n\n<p>and use <code>- (void)collectionView:(UICollectionView *)collectionView \ndidSelectItemAtIndexPath:(NSIndexPath *)indexPath</code> this event is called when the cell is selected; you must save the value in a property; like that:</p>\n\n<pre><code>- (void)collectionView:(UICollectionView *)collectionView \ndidSelectItemAtIndexPath:(NSIndexPath *)indexPath \n{\n   selectedRecipeImageName = [recipeImages[indexPath.section] objectAtIndex:indexPath.row];\n... \n   [self.collectionView deselectItemAtIndexPath:indexPath animated:NO];\n}\n</code></pre>\n\n<p>and then: </p>\n\n<pre><code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n  if ([segue.identifier isEqualToString:@\"showRecipePhoto\"]) {\n    RecipeViewController *destViewController = segue.destinationViewController;\n    destViewController.recipeImageName = selectedRecipeImageName\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8539288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8974237653a61e322690e872d8f2d68?s=128&d=identicon&r=PG&f=1", "display_name": "veve1127", "link": "https://stackoverflow.com/users/8539288/veve1127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 45969247, "answer_count": 2, "score": 0, "last_activity_date": 1504125199, "creation_date": 1504115405, "last_edit_date": 1504122640, "question_id": 45966817, "link": "https://stackoverflow.com/questions/45966817/how-to-pass-value-from-a-selected-cell-in-embedded-collectionview-to-another-vie", "title": "How to pass value from a selected cell in embedded collectionView to another viewController?", "body": "<p>In <code>UIViewController 1</code>, I have set up an array. This <code>UIViewController</code> segues to <code>UIViewController 2</code>.</p>\n\n<p>In <code>UIViewController 2</code>, there is a <code>UITableView</code> with custom <code>UITableViewCell</code>. There's also a <code>UIButton</code> which segues perfectly fine back to <code>UIViewController 1</code>.</p>\n\n<p>In the custom cell, there is a <code>collectionView</code>. This is populated by the array from <code>ViewController 1</code>.</p>\n\n<p>My question is, when an item is selected in the <code>collectionView</code> (<code>UIViewController 2</code> - custom <code>UITableViewCell</code> class), how to pass that value all the way back to <code>UIViewController 1</code>?</p>\n\n<p>I'm sorry if this is repetitive. I've referred to many similar entries here but nothing seems to be working. I've also tried this: </p>\n\n<p><a href=\"http://www.appcoda.com/ios-collection-view-tutorial/\" rel=\"nofollow noreferrer\">http://www.appcoda.com/ios-collection-view-tutorial/</a></p>\n\n<pre><code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n  if ([segue.identifier isEqualToString:@\"showRecipePhoto\"]) {\n    NSArray *indexPaths = [self.collectionView indexPathsForSelectedItems];\n    RecipeViewController *destViewController = segue.destinationViewController;\n    NSIndexPath *indexPath = [indexPaths objectAtIndex:0];\n    destViewController.recipeImageName = [recipeImages[indexPath.section] objectAtIndex:indexPath.row];\n    [self.collectionView deselectItemAtIndexPath:indexPath animated:NO];\n  }\n}\n</code></pre>\n\n<p>I keep getting the null value returned and I'm not sure why.</p>\n\n<p>(I'm not using storyboard. And this is my first attempt at programming of any kind. Would appreciate any input!)</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 1, "creation_date": 1504112042, "post_id": 45965895, "comment_id": 78890704, "body": "What does the crash log say. FYI NSTimer has been around forever."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 2, "creation_date": 1504112589, "post_id": 45965895, "comment_id": 78890983, "body": "Another reason for using Swift. It would have refused to compile, and thus would have prevented the crash. That&#39;s because Swift <i>knows</i> that this method isn&#39;t supported on iOS 9. I&#39;m surprised to hear that Objective-C hasn&#39;t caught up. You didn&#39;t even get a warning? Amazing."}], "answers": [{"tags": [], "owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "is_accepted": false, "score": 5, "last_activity_date": 1504112192, "creation_date": 1504112192, "answer_id": 45965948, "question_id": 45965895, "link": "https://stackoverflow.com/questions/45965895/ios-9-compatible-version-of-nstimer-scheduledtimerwithtimeintervalrepeatsblock/45965948#45965948", "title": "iOS 9 compatible version of NSTimer scheduledTimerWithTimeInterval:repeats:block:?", "body": "<p>You appear to be using a function introduced in iOS10. Further down the page you linked is a function that was in iOS 2.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/foundation/nstimer/1408356-timerwithtimeinterval?language=objc\" rel=\"noreferrer\">https://developer.apple.com/documentation/foundation/nstimer/1408356-timerwithtimeinterval?language=objc</a></p>\n\n<p>Use that instead.</p>\n"}, {"tags": [], "owner": {"reputation": 10797, "user_id": 1078829, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d352293c8c828fa7bbbb54a98ca47edf?s=128&d=identicon&r=PG", "display_name": "Dev01", "link": "https://stackoverflow.com/users/1078829/dev01"}, "is_accepted": false, "score": 3, "last_activity_date": 1504112864, "creation_date": 1504112864, "answer_id": 45966130, "question_id": 45965895, "link": "https://stackoverflow.com/questions/45965895/ios-9-compatible-version-of-nstimer-scheduledtimerwithtimeintervalrepeatsblock/45966130#45966130", "title": "iOS 9 compatible version of NSTimer scheduledTimerWithTimeInterval:repeats:block:?", "body": "<p>This fixed it:</p>\n\n<pre><code>static NSTimer* timer = nil;\n\n- (void)documentInteractionControllerWillBeginPreview:(UIDocumentInteractionController *)controller\n{\n    timer = [NSTimer scheduledTimerWithTimeInterval:0.1 target:self selector:@selector(hideStatusBar) userInfo:nil repeats:YES];\n}\n\n-(void)hideStatusBar\n{\n    [[UIApplication sharedApplication] setStatusBarHidden:YES];\n}\n\n-(void)documentInteractionControllerDidEndPreview:(UIDocumentInteractionController *)controller\n{\n    [timer invalidate];\n    [[UIApplication sharedApplication] setStatusBarHidden:YES];\n}\n</code></pre>\n"}], "owner": {"reputation": 10797, "user_id": 1078829, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d352293c8c828fa7bbbb54a98ca47edf?s=128&d=identicon&r=PG", "display_name": "Dev01", "link": "https://stackoverflow.com/users/1078829/dev01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1278, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1504173104, "creation_date": 1504111986, "last_edit_date": 1504173104, "question_id": 45965895, "link": "https://stackoverflow.com/questions/45965895/ios-9-compatible-version-of-nstimer-scheduledtimerwithtimeintervalrepeatsblock", "title": "iOS 9 compatible version of NSTimer scheduledTimerWithTimeInterval:repeats:block:?", "body": "<p>I'm using the following code in iOS 10 but when I run it in iOS 9 it crashes.  I don't think <a href=\"https://developer.apple.com/documentation/foundation/nstimer/2091888-timerwithtimeinterval?language=objc\" rel=\"nofollow noreferrer\">NSTimer scheduledTimerWithTimeInterval:repeats:block:</a> supports iOS 9.  How can I implement a timer that will work in iOS 8 - 10?</p>\n\n<pre><code>static NSTimer* timer = nil;\n\n- (void)documentInteractionControllerWillBeginPreview:(UIDocumentInteractionController *)controller\n{\n    timer = [NSTimer scheduledTimerWithTimeInterval:0.1 repeats:YES block:^(NSTimer * _Nonnull timer) {\n        [[UIApplication sharedApplication] setStatusBarHidden:YES];\n    }];\n}\n\n-(void)documentInteractionControllerDidEndPreview:(UIDocumentInteractionController *)controller\n{\n    [timer invalidate];\n    [[UIApplication sharedApplication] setStatusBarHidden:YES];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "uitabbarcontroller", "xcode8"], "comments": [{"owner": {"reputation": 3516, "user_id": 7240790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnqtK.jpg?s=128&g=1", "display_name": "3stud1ant3", "link": "https://stackoverflow.com/users/7240790/3stud1ant3"}, "edited": false, "score": 0, "creation_date": 1504110120, "post_id": 45965259, "comment_id": 78889617, "body": "setUnselectedItemTintColor is available for ios10 or later,"}, {"owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "reply_to_user": {"reputation": 3516, "user_id": 7240790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnqtK.jpg?s=128&g=1", "display_name": "3stud1ant3", "link": "https://stackoverflow.com/users/7240790/3stud1ant3"}, "edited": false, "score": 0, "creation_date": 1504110763, "post_id": 45965259, "comment_id": 78890026, "body": "I had a feeling that would be the problem... I dropped the build version so I can run it on an old iPad because it was all I had available. This worked... thank you!"}], "owner": {"reputation": 103, "user_id": 8139165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bebd0c29be4940f8dc9ffca9ae9e2ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Wilson", "link": "https://stackoverflow.com/users/8139165/alan-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504110027, "creation_date": 1504109666, "last_edit_date": 1504110027, "question_id": 45965259, "link": "https://stackoverflow.com/questions/45965259/how-to-change-the-unselected-item-tint-color-in-xcode-8", "title": "How to change the &quot;Unselected Item Tint Color&quot; in Xcode 8", "body": "<p>I would like to have the selected item in the bar to be white, and the unselected items to be a light gray. I have searched and came upon many answers but none have worked for me. I have tried using user defined runtime attributes, just changing the tint color in attributes inspector, and adding the following code to my <code>TabViewController</code>:</p>\n\n<pre><code>[self.tabBar setTintColor:[UIColor whiteColor]];\n[self.tabBar setUnselectedItemTintColor:[UIColor redColor]];\n</code></pre>\n\n<p>I have the selected item white as I want it to be, but I can not figure out how to do the unselected item color.</p>\n\n<p>I am currently running XCode 8.3.3 with a deployment target set for iOS 9.3.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1rF91.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rF91.png\" alt=\"Here is a screenshot of my tab:\"></a></p>\n"}, {"tags": ["objective-c", "iphone", "macos", "itunes", "jailbreak"], "comments": [{"owner": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 0, "creation_date": 1504112411, "post_id": 45965185, "comment_id": 78890882, "body": "On what level do you intend to modify that data? Because e.g. the ECID is burned into the chip..."}, {"owner": {"reputation": 257, "user_id": 8520495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03c460f919f329a6d08614b0e589e8b4?s=128&d=identicon&r=PG&f=1", "display_name": "0x11901", "link": "https://stackoverflow.com/users/8520495/0x11901"}, "reply_to_user": {"reputation": 15569, "user_id": 2302862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e264db339bb96e343770fa38018e00f1?s=128&d=identicon&r=PG", "display_name": "Siguza", "link": "https://stackoverflow.com/users/2302862/siguza"}, "edited": false, "score": 0, "creation_date": 1504113360, "post_id": 45965185, "comment_id": 78891394, "body": "Probably be able to deceive iTunes\uff0cI think it\u2018s enough."}, {"owner": {"reputation": 8880, "user_id": 2363866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToSkw.png?s=128&g=1", "display_name": "creker", "link": "https://stackoverflow.com/users/2363866/creker"}, "edited": false, "score": 0, "creation_date": 1504228664, "post_id": 45965185, "comment_id": 78944237, "body": "If you want to send iTunes fake data then just install hooks in daemons that deal with USB communication. For example, lockdownd. iTunes doesn&#39;t read data directly, it asks for it from daemons running on the device."}, {"owner": {"reputation": 257, "user_id": 8520495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03c460f919f329a6d08614b0e589e8b4?s=128&d=identicon&r=PG&f=1", "display_name": "0x11901", "link": "https://stackoverflow.com/users/8520495/0x11901"}, "reply_to_user": {"reputation": 8880, "user_id": 2363866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToSkw.png?s=128&g=1", "display_name": "creker", "link": "https://stackoverflow.com/users/2363866/creker"}, "edited": false, "score": 0, "creation_date": 1504424854, "post_id": 45965185, "comment_id": 79002048, "body": "@creker Thanks for your help, I observed that after using the software to modify the information, the modified iPhone&#39;s settings--general-about has become modified information.Maybe it changed in deeper level?The other things I found is after modify it required reboot and activate iPhone."}], "owner": {"reputation": 257, "user_id": 8520495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03c460f919f329a6d08614b0e589e8b4?s=128&d=identicon&r=PG&f=1", "display_name": "0x11901", "link": "https://stackoverflow.com/users/8520495/0x11901"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1677, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1590211752, "creation_date": 1504109459, "last_edit_date": 1504111806, "question_id": 45965185, "link": "https://stackoverflow.com/questions/45965185/how-can-i-change-a-jailbreak-iphones-uuid-serialnumber-imei-ecid-via-code", "title": "How can I change a jailbreak iPhone&#39;s UUID,SerialNumber,IMEI,ECID via code", "body": "<p>Recently I got a job to imitate a Mac software that can change a jailbreak iPhone's UUID, SerialNumber, IMEI, ECID... I tried to decompile it but eventually failed.</p>\n\n<p>Now I can get an iPhone's device info through iTunes lib, but I can't modify it. Are there any good ideas to modify a jailbreak iPhone's device information?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "accessibility", "uivisualeffectview"], "answers": [{"tags": [], "owner": {"reputation": 837, "user_id": 6923171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvE9H.jpg?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/6923171/julius"}, "is_accepted": true, "score": 0, "last_activity_date": 1504106990, "last_edit_date": 1592644375, "creation_date": 1504106990, "answer_id": 45964407, "question_id": 45963640, "link": "https://stackoverflow.com/questions/45963640/blur-effect-in-ios-which-ignores-accessibilty-reduce-transparency-option/45964407#45964407", "title": "Blur effect in iOS which ignores accessibilty (&quot;reduce transparency&quot; option)?", "body": "<p>You can prevent Acessibility from applying to a view by using:</p>\n<pre><code>self.accessibilityElementsHidden = YES;\n</code></pre>\n<p>This being said, you shouldn't go against Human Interface Guidelines. There is a good reason why accessibility features exist.</p>\n<p><a href=\"https://developer.apple.com/ios/human-interface-guidelines/interaction/accessibility/\" rel=\"nofollow noreferrer\">Human Interface Guidelines - Accessibility</a></p>\n<p>Here are some excerpts from Apple's <a href=\"https://developer.apple.com/app-store/review/guidelines/2016-06-13/#user-interface\" rel=\"nofollow noreferrer\">App Store Review Guidelines</a> to explain.</p>\n<blockquote>\n<p>10.1 Apps must comply with all terms and conditions explained in the Apple iOS Human Interface Guidelines</p>\n<p>10.3 Apps that do not use system provided items, such as buttons and icons, correctly and as described in the Apple iOS Human Interface Guidelines may be rejected</p>\n</blockquote>\n"}], "owner": {"reputation": 1928, "user_id": 4575764, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ea716196ff17468653d47805dfb8eb3?s=128&d=identicon&r=PG&f=1", "display_name": "Vyachaslav Gerchicov", "link": "https://stackoverflow.com/users/4575764/vyachaslav-gerchicov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 45964407, "answer_count": 1, "score": 0, "last_activity_date": 1504106990, "creation_date": 1504104784, "question_id": 45963640, "link": "https://stackoverflow.com/questions/45963640/blur-effect-in-ios-which-ignores-accessibilty-reduce-transparency-option", "title": "Blur effect in iOS which ignores accessibilty (&quot;reduce transparency&quot; option)?", "body": "<p>I have a blurred view which overlays other views.</p>\n\n<p><code>UIVisualEffectView</code> is not appropriate because it is disabled when user sets <code>Accessibility &gt;&gt; Reduce transparency</code>.</p>\n\n<p>Could you suggest how to show this blur always independently from the device settings? Both <code>UIVisualEffectView</code> and custom control are applicable. And both swift and objC solutions are applicable</p>\n"}, {"tags": ["ios", "objective-c", "facebook", "facebook-login", "ios11"], "comments": [{"owner": {"reputation": 2747, "user_id": 57662, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27f050612e64bbf5c65a3e5247d6ea3c?s=128&d=identicon&r=PG", "display_name": "cjserio", "link": "https://stackoverflow.com/users/57662/cjserio"}, "edited": false, "score": 0, "creation_date": 1525365653, "post_id": 45963481, "comment_id": 87337870, "body": "I&#39;m having this exact same issue. Have you resolved it? Can you tell me what you&#39;ve learned?"}, {"owner": {"reputation": 551, "user_id": 1023083, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/faaaac701f34429076c52107b8ac2396?s=128&d=identicon&r=PG", "display_name": "Shreesh Garg", "link": "https://stackoverflow.com/users/1023083/shreesh-garg"}, "edited": false, "score": 0, "creation_date": 1531989274, "post_id": 45963481, "comment_id": 89806835, "body": "I am facing the same issue, had you find any solution?"}, {"owner": {"reputation": 36, "user_id": 6258156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q36oU.png?s=128&g=1", "display_name": "SwiftProgrammer", "link": "https://stackoverflow.com/users/6258156/swiftprogrammer"}, "edited": false, "score": 0, "creation_date": 1539955970, "post_id": 45963481, "comment_id": 92699449, "body": "It was fixed automatically. Or problem was in iOS 11 beta or on Facebook side, I don&#39;t know. Do you have last version of Facebook SDK? If not, I recommend to update it."}], "owner": {"reputation": 36, "user_id": 6258156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q36oU.png?s=128&g=1", "display_name": "SwiftProgrammer", "link": "https://stackoverflow.com/users/6258156/swiftprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1505805407, "creation_date": 1504104394, "question_id": 45963481, "link": "https://stackoverflow.com/questions/45963481/strange-behavior-in-flow-for-facebook-login-in-ios-11", "title": "Strange behavior in flow for Facebook login in iOS 11", "body": "<p>I am currently working with iOS 11 beta (Xcode 9 beta 4) in order to integrate new features to my app. I have Facebook login (Facebook graphAPI version 2.8, sdkVersion 4.17.0). </p>\n\n<p>Apple removed social accounts in iOS 11, and now, when testing my app, I faced strange behavior in flow of Facebook Login.</p>\n\n<p>How it was working earlier: User pressed on button \u201cLogin with Facebook\u201d, and if he has Facebook account on device he automatically went to the next screen. If he does not have account - opened Safari and asked user to login to Facebook or opened Facebook app, and redirect user to my application.   </p>\n\n<p>What weird behavior I have on my device (iPhone 5s) with iOS 11: </p>\n\n<ol>\n<li>I press button \u201cLogin with Facebook\u201d.</li>\n<li>Opens Safari with options: Login with the Facebook app, Login with phone or mail.</li>\n<li>I press Login with Facebook app.</li>\n<li>Appear alert: open in Facebook.</li>\n<li>I press open.</li>\n<li>Opens Facebook app. At this moment nothing happens.</li>\n<li>So I have to press button back to my app. I see Safari screen and repeat steps 2-5. </li>\n<li>After that I see confirm login screen: You previously logged in with Facebook. I press button \u201ccontinue\u201d.</li>\n<li>I am redirected back to my app after login and go to next screen.</li>\n</ol>\n\n<p>Some times after step 6 I go to step 8 and 9. This happens randomly. I don\u2019t understand why.</p>\n\n<p>I tested on other devices with iOS 10.3, 10.2 (iPhone 6 Plus, iPhone 7) and with FBSDKLoginBehaviorNative  (both with Facebook account in settings and without Facebook account in settings). On other devices, when I press button \u201cLogin with Facebook\u201d I see Safari with confirm login screen (as described in step 8).</p>\n\n<p>This is code for Facebook login, that I use:</p>\n\n<pre><code>-(void)loginWithFacebook\n{\nFBSDKLoginManager *loginManager = [[FBSDKLoginManager alloc] init];\n loginManager.loginBehavior = FBSDKLoginBehaviorSystemAccount;\n[loginManager logInWithReadPermissions: @[ @\"email\", @\"user_birthday\", @\"user_friends\" ]  fromViewController: self handler: ^(FBSDKLoginManagerLoginResult *result, NSError *error) \n{\n            if(error == nil)\n            {\n               //  here I get user data and go to next screen\n            }\n            else\n            {\n                //here I show error alert to user\n            }\n        }];\n    }\n}\n</code></pre>\n\n<p>In AppDelegate:</p>\n\n<pre><code>    - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n//\u2026\n[[FBSDKApplicationDelegate sharedInstance] application: application didFinishLaunchingWithOptions: launchOptions];\n//\u2026\n}\n\n- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation\n{\nreturn [[FBSDKApplicationDelegate sharedInstance] application: application\n                                                                        openURL: url\n                                                                  sourceApplication: sourceApplication\n                                                                          annotation: annotation];\n}\n\n- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url options:(NSDictionary *)options\n{\nreturn [[FBSDKApplicationDelegate sharedInstance] application:app openURL:url options: options];\n}\n</code></pre>\n\n<p>So, my question is, have you faced with this behavior on iOS 11? What should I do (if I can do something) to fix it? After new release of iOS 11 user have to go though all this steps to make Facebook login?</p>\n\n<p>Thank you for your reply and your help.</p>\n"}, {"tags": ["ios", "objective-c", "realm"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1504104465, "post_id": 45963384, "comment_id": 78885666, "body": "u can write a predicate and and get all the objects that has the same owner, and u can enumerate and delete them all."}, {"owner": {"reputation": 1397, "user_id": 3158329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xVno4.jpg?s=128&g=1", "display_name": "Orlando", "link": "https://stackoverflow.com/users/3158329/orlando"}, "edited": false, "score": 0, "creation_date": 1504112208, "post_id": 45963384, "comment_id": 78890783, "body": "Can you share with us an example model of your database? When you say &quot;the same property&quot; it can be for instance a <code>NSString</code> or a custom subclass of <code>RLMObject</code>, so we can&#39;t be sure on how to help you."}, {"owner": {"reputation": 1, "user_id": 6458557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d16a6d0012ea0c502cd2ec353d31e31?s=128&d=identicon&r=PG&f=1", "display_name": "ynot16", "link": "https://stackoverflow.com/users/6458557/ynot16"}, "edited": false, "score": 0, "creation_date": 1504169795, "post_id": 45963384, "comment_id": 78913205, "body": "just <code>NSString</code> type"}], "answers": [{"comments": [{"owner": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "edited": false, "score": 0, "creation_date": 1504109556, "post_id": 45965027, "comment_id": 78889247, "body": "While Realm Cocoa has some support for model inheritance, there are quite a few caveats.  The recommended approach is to use composition over inheritance .  <a href=\"https://realm.io/docs/swift/latest/#model-inheritance\" rel=\"nofollow noreferrer\">realm.io/docs/swift/latest/#model-inheritance</a>"}], "tags": [], "owner": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "is_accepted": false, "score": 1, "last_activity_date": 1504108917, "creation_date": 1504108917, "answer_id": 45965027, "question_id": 45963384, "link": "https://stackoverflow.com/questions/45963384/does-realm-has-some-convenience-method-that-can-delete-all-the-rlmobject-which-h/45965027#45965027", "title": "Does realm has some convenience method that can delete all the RLMObject which has the same property?", "body": "<p>At the moment there is no way to achieve this. None of Realm's Collection types support having elements from different types, so you cannot create a Realm <code>List</code> or <code>Results</code> instance that could hold all your objects that share the same property, but have different types.</p>\n\n<p>In the future once Realm outgrows this limitation, you should be able to define a superclass, called <code>Animal</code>, which have an <code>owner</code> property, make both <code>Dog</code> and <code>Cat</code> inherit from the <code>Animal</code> class, then delete all objects from <code>Realm</code> that inherit from <code>Animal</code>.</p>\n\n<p>However, at the moment even if you make an abstract <code>Animal</code> class and make both <code>Dog</code> and <code>Cat</code> inherit from <code>Animal</code>, if you try to delete all objects of type <code>Animal</code> from <code>Realm</code>, it will only delete the objects whose type is actually <code>Animal</code>, but it won't delete any objects whose type inherits from <code>Animal</code>.</p>\n\n<p>See <a href=\"https://github.com/realm/realm-cocoa/issues/1109\" rel=\"nofollow noreferrer\">this</a> GitHub issue for details about the problem around inheritance in Realm and some workarounds.</p>\n"}, {"comments": [{"owner": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1504124120, "post_id": 45965135, "comment_id": 78897148, "body": "How does this solve the issue of deleting multiple classes at the same time? Your Pet class is only a single class."}, {"owner": {"reputation": 1, "user_id": 6458557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d16a6d0012ea0c502cd2ec353d31e31?s=128&d=identicon&r=PG&f=1", "display_name": "ynot16", "link": "https://stackoverflow.com/users/6458557/ynot16"}, "reply_to_user": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1504170940, "post_id": 45965135, "comment_id": 78914018, "body": "Thanks for helping!  I just saw your answer, but it sounds like it can not solve my issue. In simple terms, I need to delete multiple classes at the same time as @D&#225;vidP&#225;sztor said."}, {"owner": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "reply_to_user": {"reputation": 39554, "user_id": 4667835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1046586602022805/picture?type=large", "display_name": "D&#225;vid P&#225;sztor", "link": "https://stackoverflow.com/users/4667835/d%c3%a1vid-p%c3%a1sztor"}, "edited": false, "score": 0, "creation_date": 1504206639, "post_id": 45965135, "comment_id": 78937200, "body": "You are correct, I miss understood the question initially. I thought you were looking to delete all objects of type Pet the had the same owner.  I see now, you&#39;re asking about model inheritance.  In this case @D&#225;vidP&#225;sztor answer is correct.  I added a comment to his answer which links to the part of the Realm docs that discusses the limits of Model Inheritance with Realm and recommendations."}], "tags": [], "owner": {"reputation": 76, "user_id": 7471159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96234b7edc3a873b3bc4b63f483c696e?s=128&d=identicon&r=PG", "display_name": "Eric Maxwell", "link": "https://stackoverflow.com/users/7471159/eric-maxwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1504111159, "last_edit_date": 1504111159, "creation_date": 1504109267, "answer_id": 45965135, "question_id": 45963384, "link": "https://stackoverflow.com/questions/45963384/does-realm-has-some-convenience-method-that-can-delete-all-the-rlmobject-which-h/45965135#45965135", "title": "Does realm has some convenience method that can delete all the RLMObject which has the same property?", "body": "<p>Try this  </p>\n\n<pre><code>let samsPets = realm.objects(Pet.self).filter(\"owner.name = 'Sam'\")\ndo {\n    try realm.write {\n        realm.delete(samsPets)\n    }\n} catch {\n    print(error)\n}\n</code></pre>\n\n<p>Here we're querying for all pets, who's owners name is sam and deleting them.  This could be all done in one statement too.</p>\n\n<p>This assumes that each pet has a property reference to their owner.\n(i.e. <code>dynamic var owner: Person?</code>)</p>\n"}], "owner": {"reputation": 1, "user_id": 6458557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d16a6d0012ea0c502cd2ec353d31e31?s=128&d=identicon&r=PG&f=1", "display_name": "ynot16", "link": "https://stackoverflow.com/users/6458557/ynot16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504111159, "creation_date": 1504104112, "last_edit_date": 1504104418, "question_id": 45963384, "link": "https://stackoverflow.com/questions/45963384/does-realm-has-some-convenience-method-that-can-delete-all-the-rlmobject-which-h", "title": "Does realm has some convenience method that can delete all the RLMObject which has the same property?", "body": "<p>For example, there are a Dog and a Cat Object, and they all have the same property \"owner\", how can I delete all the dog and cat which have the same owner in the database? Do I have to delete them individually? It bothers me because I need to delete so many objects at a time based on a property they all have.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "nsjsonserialization"], "comments": [{"owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "edited": false, "score": 2, "creation_date": 1504104286, "post_id": 45963354, "comment_id": 78885553, "body": "What basic debugging strategies have you tried?"}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 1, "creation_date": 1504107657, "post_id": 45963354, "comment_id": 78887999, "body": "BTW, I&#39;d advise against using ObjC -&gt; Swift converters, if possible. They generate literal translations, which results in very bad code. It&#39;s like expecting Google Translate to convert a poem in French into English. Sure, all the words will be there, but it will be horrible poem."}, {"owner": {"reputation": 6705, "user_id": 1447129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a03b94d089ac2e010e63ec9abacf3250?s=128&d=identicon&r=PG", "display_name": "Vini App", "link": "https://stackoverflow.com/users/1447129/vini-app"}, "edited": false, "score": 0, "creation_date": 1504116841, "post_id": 45963354, "comment_id": 78893377, "body": "Is your url working? Because I am getting some database error."}], "answers": [{"tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1504107758, "last_edit_date": 1504107758, "creation_date": 1504105348, "answer_id": 45963832, "question_id": 45963354, "link": "https://stackoverflow.com/questions/45963354/working-in-objc-not-in-swift-whats-wrong-i-am-doing-with-json-parsing-in-swift/45963832#45963832", "title": "Working in ObjC, not in swift. Whats wrong I am doing with JSON parsing in swift", "body": "<p>Your code is sending a body of a request that effectively looks like:</p>\n\n<pre><code>data=[\n  {\n    \"key1\" : \"value1\", \n    \"key2\" : \"value2\", ...\n  }\n]\n</code></pre>\n\n<p>That is incorrect.</p>\n\n<ul>\n<li><p>If your server was expecting just the JSON, you should send the JSON without the <code>data=</code> prefix.</p></li>\n<li><p>If your server is expecting a <code>application/x-www-form-urlencoded</code> request, then that value cannot have spaces, newline characters, or any other reserved characters in it. In this case, you have to \"percent escape\" the body of the request.</p></li>\n</ul>\n\n<p>You should confirm precisely what the web service is expecting, and adjust your code accordingly.</p>\n\n<hr>\n\n<p>Unrelated, I'd retire the <code>NS</code> classes and stay within Swift. So, assuming you wanted to just send JSON, the code might look like:</p>\n\n<pre><code>func comparedatainserturl() {\n    let arrayParams = [\n        [\n            \"imei_no\":\"e639e129d0f3ab7d\",\n            \"current_time\":\"2017-08-2911:08:26\",\n            \"tbl_offer_details\":\"0\",\n            \"tbl_card_type\":\"0\",\n            \"tbl_dashboard\":\"0\",\n            \"tbl_category_details\":\"0\",\n            \"tbl_sub_category_details\":\"0\",\n            \"tbl_payment_option\":\"0\",\n            \"tbl_payment_option_provider\":\"0\",\n            \"tbl_like_favorite_share\":\"0\",\n            \"tbl_user_details\":\"0\"\n        ]\n    ]\n\n    let data = try! JSONSerialization.data(withJSONObject: arrayParams)\n\n    let jsonString = String(data: data, encoding: .utf8)!\n    let string: String = \"data=\" + jsonString\n    print(\"jsonData as string:\\n\\(string)\")\n\n    let url1 = URL(string:\"http://admin.scontos.com/index.php/Android_api/Offers_download\")!\n    var request = URLRequest(url: url1)\n    request.httpMethod = \"POST\"        \n    request.httpBody = data\n\n    let task = URLSession.shared.dataTask(with: request) { data, response, error in\n        if let error = error {\n            print(error)\n            return\n        }\n\n        guard let data = data else { return }\n\n        let string = String(data: data, encoding: .utf8)\n        print(\"response is \\(string)\")\n    }\n    task.resume()\n}\n</code></pre>\n\n<p>Or, if the server was expecting <code>x-www-form-urlencoded</code> request:</p>\n\n<pre><code>let data = try! JSONSerialization.data(withJSONObject: arrayParams)\n\nlet jsonString = String(data: data, encoding: .utf8)!\nlet string: String = \"data=\" + jsonString.addingPercentEncodingForQuery()!\n\nlet url1 = URL(string:\"http://admin.scontos.com/index.php/Android_api/Offers_download\")!\nvar request = URLRequest(url: url1)\nrequest.httpMethod = \"POST\"\nrequest.httpBody = string.data(using: .utf8)\n</code></pre>\n\n<p>Where you percent escape using this routine, adapted from Alamofire's <a href=\"https://github.com/Alamofire/Alamofire/blob/master/Source/ParameterEncoding.swift#L195\" rel=\"nofollow noreferrer\"><code>escape</code> routine</a>:</p>\n\n<pre><code>extension String {\n    public func addingPercentEncodingForQuery() -&gt; String? {\n        let generalDelimitersToEncode = \":#[]@\" // does not include \"?\" or \"/\" due to RFC 3986 - Section 3.4\n        let subDelimitersToEncode = \"!$&amp;'()*+,;=\"\n\n        var allowed = CharacterSet.urlQueryAllowed\n        allowed.remove(charactersIn: generalDelimitersToEncode + subDelimitersToEncode)\n\n        return addingPercentEncoding(withAllowedCharacters: allowed)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 6798603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/789ee074d35deb432d08659620ac3999?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Magdum", "link": "https://stackoverflow.com/users/6798603/rohit-magdum"}, "is_accepted": true, "score": 0, "last_activity_date": 1504115911, "creation_date": 1504115911, "answer_id": 45966931, "question_id": 45963354, "link": "https://stackoverflow.com/questions/45963354/working-in-objc-not-in-swift-whats-wrong-i-am-doing-with-json-parsing-in-swift/45966931#45966931", "title": "Working in ObjC, not in swift. Whats wrong I am doing with JSON parsing in swift", "body": "<p>In your swift code you are appending the following string.</p>\n\n<p><code>let jsonString = String(data: jsonData!, encoding: String.Encoding.utf8)</code>\n/<em>In following line you are appending JsonString with optional value with optional key word with this \"()\". So you need to unwrap the optional value</em>/</p>\n\n<p><code>let string: String = \"data=\\(jsonString!)\"</code></p>\n"}], "owner": {"reputation": 1104, "user_id": 1917822, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/2RzRW.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/1917822/sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 45966931, "answer_count": 2, "score": 1, "last_activity_date": 1504115911, "creation_date": 1504104018, "last_edit_date": 1504104092, "question_id": 45963354, "link": "https://stackoverflow.com/questions/45963354/working-in-objc-not-in-swift-whats-wrong-i-am-doing-with-json-parsing-in-swift", "title": "Working in ObjC, not in swift. Whats wrong I am doing with JSON parsing in swift", "body": "<p>I just wanted to Parse JSON from URL,\nThe code below written in ObjC is working well and giving me correct response,\nbut the code written in swift 3.1, not giving correct response.\nGiving me <code>500 Internal Error</code></p>\n\n<p>Whats wrong I am doing.\nCan anyone guide.\nThanks in advance.</p>\n\n<p>I also tried to use converter from ObjC to Swift.\nBut it fails with some errors, though I solve those errors, but still not giving correct output.</p>\n\n<p>ObjC code below.</p>\n\n<pre><code>-(void)comparedatainserturl\n\n{\n    NSError *error;\n    NSMutableArray *arr=[[NSMutableArray alloc]init];\n    NSMutableDictionary *dict=[[NSMutableDictionary alloc]init];\n\n    [dict setObject:@\"e639e129d0f3ab7d\" forKey:@\"imei_no\"];\n    [dict setObject:@\"2017-08-29 12:18:44\" forKey:@\"current_time\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_offer_details\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_card_type\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_dashboard\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_category_details\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_sub_category_details\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_payment_option\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_payment_option_provider\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_like_favorite_share\"];\n    [dict setObject:@\"0\" forKey:@\"tbl_user_details\"];\n\n    [arr addObject:dict];\n\n    NSLog(@\"arra :- %@\",[arr description]);\n\n    NSData *jsonData = [NSJSONSerialization dataWithJSONObject:arr options:NSJSONWritingPrettyPrinted error:&amp;error];\n    NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];\n\n    NSString *string = [NSString stringWithFormat:@\"data=%@\",jsonString];\n\n    NSLog(@\"jsonData as string:\\n%@\", string);\n\n    NSData *data = [string dataUsingEncoding:NSUTF8StringEncoding];\n\n    NSString *urlString=[NSString stringWithFormat:@\"%@\",@\"http://admin.scontos.com/index.php/Android_api/Offers_download\"];\n\n    NSURL *url = [NSURL URLWithString:urlString];\n\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];\n\n    [request setHTTPMethod: @\"POST\"];\n\n    [request setHTTPBody: data];\n\n    NSError *err;\n\n    NSURLResponse *response;\n\n    NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&amp;response error:&amp;err];\n\n    NSString *resSrt = [[NSString alloc]initWithData:responseData encoding:NSASCIIStringEncoding];\n\n    NSLog(@\"gotresponsestring=%@\", resSrt);\n}\n</code></pre>\n\n<p>Swift Code below,</p>\n\n<pre><code>func  comparedatainserturl() {\n\n\n        var arrayParams : NSDictionary = [:]\n\n        arrayParams  = [\"imei_no\":\"e639e129d0f3ab7d\",\"current_time\":\"2017-08-2911:08:26\",\"tbl_offer_details\":\"0\",\"tbl_card_type\":\"0\",\"tbl_dashboard\":\"0\",\"tbl_category_details\":\"0\",\"tbl_sub_category_details\":\"0\",\"tbl_payment_option\":\"0\",\"tbl_payment_option_provider\":\"0\",\"tbl_like_favorite_share\":\"0\",\"tbl_user_details\":\"0\"]\n\n        print(arrayParams)\n\n        let valueArr : Array = [arrayParams]\n        print(valueArr)\n\n        let jsonData: Data? = try! JSONSerialization.data(withJSONObject: valueArr, options: .prettyPrinted)\n\n        let jsonString = String(data: jsonData!, encoding: String.Encoding.utf8)\n        let string: String = \"data=\\(jsonString)\"\n        print(\"jsonData as string:\\n\\(string)\")\n        let dataa: Data? = string.data(using: String.Encoding.utf8)\n\n        var _: NSError?\n        let url1:URL = URL(string:\"http://admin.scontos.com/index.php/Android_api/Offers_download\")!\n        let request:NSMutableURLRequest = NSMutableURLRequest(url: url1)\n        request.httpMethod = \"POST\"\n\n        request.httpBody = dataa\n\n        var response: URLResponse?\n\n        do{\n            let urlData: Data? = try NSURLConnection.sendSynchronousRequest(request as URLRequest, returning:&amp;response)\n\n\n            let resstr = NSString(data: urlData!, encoding: String.Encoding.utf8.rawValue)\n            print(\"Response is \\(resstr! as String)\")\n\n        }catch{\n            print(error)\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "drop-down-menu"], "answers": [{"tags": [], "owner": {"reputation": 1843, "user_id": 3185860, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/23e2427bb6481f77d8fb17f990e33ab4?s=128&d=identicon&r=PG&f=1", "display_name": "Toma Radu-Petrescu", "link": "https://stackoverflow.com/users/3185860/toma-radu-petrescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1504125583, "creation_date": 1504125583, "answer_id": 45969335, "question_id": 45962821, "link": "https://stackoverflow.com/questions/45962821/selector-method-not-getting-called/45969335#45969335", "title": "Selector method not getting called", "body": "<p>Did you set the delegate and data source of the drop down menu? </p>\n\n<pre><code>dropdownMenu.dataSource = self;\ndropdownMenu.delegate = self;\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 4782864, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/583268991775419/picture?type=large", "display_name": "Shubham Ojha", "link": "https://stackoverflow.com/users/4782864/shubham-ojha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504125583, "creation_date": 1504102453, "last_edit_date": 1504107012, "question_id": 45962821, "link": "https://stackoverflow.com/questions/45962821/selector-method-not-getting-called", "title": "Selector method not getting called", "body": "<p>I am trying to create a dropdown menu using the MKDropDownMenu library. I am also getting a view. But when click on it does not drops down and nothing happens. When I went deep inside. I found that the button in the component button's selector method is not getting called.</p>\n\n<p>This is the line where the selector method name is declared.</p>\n\n<pre><code>[button addTarget:self action:@selector(selectedComponent:) forControlEvents:UIControlEventTouchUpInside];\n</code></pre>\n\n<p>Below is the actual method \"selectedComponent\" :</p>\n\n<pre><code>- (void)selectedComponent:(MKDropdownMenuComponentButton *)sender {\n    if (self.transition.isAnimating) {\n        return;\n    }\n    if (sender == nil) {\n        [self closeAllComponentsAnimated:YES];\n    } else {\n        NSInteger selectedIndex = [self.buttons indexOfObject:sender];\n        if (selectedIndex == self.selectedComponent) {\n            [self closeAllComponentsAnimated:YES];\n        } else {\n            [self openComponent:selectedIndex animated:YES];\n        }\n    }\n}\n</code></pre>\n\n<p>The most strange thing is that this private method is called in the example project given on github on the following link:</p>\n\n<p><a href=\"https://github.com/maxkonovalov/MKDropdownMenu/tree/master/Example\" rel=\"nofollow noreferrer\">https://github.com/maxkonovalov/MKDropdownMenu/tree/master/Example</a></p>\n\n<p>And for your information I am using swift and used pod to install this library. </p>\n\n<p>Any help and suggestions will be appreciated..</p>\n"}, {"tags": ["objective-c", "model", "realm", "nsdictionary", "nsobject"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 1, "creation_date": 1504099699, "post_id": 45961714, "comment_id": 78881855, "body": "this link might be help you - <a href=\"https://stackoverflow.com/questions/29940658/is-it-possible-to-serialise-a-realm-object-into-json\" title=\"is it possible to serialise a realm object into json\">stackoverflow.com/questions/29940658/&hellip;</a>"}, {"owner": {"reputation": 1717, "user_id": 1102834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJ6rv.png?s=128&g=1", "display_name": "AustinZ", "link": "https://stackoverflow.com/users/1102834/austinz"}, "edited": false, "score": 0, "creation_date": 1504637171, "post_id": 45961714, "comment_id": 79083380, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29940658/is-it-possible-to-serialise-a-realm-object-into-json\">Is it possible to serialise a Realm Object into JSON?</a>"}, {"owner": {"reputation": 2273, "user_id": 7303708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XjYh5.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7303708/alexander"}, "edited": false, "score": 0, "creation_date": 1504681269, "post_id": 45961714, "comment_id": 79097930, "body": "Thanks, Austin, i will check it out."}], "owner": {"reputation": 2273, "user_id": 7303708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XjYh5.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7303708/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504101251, "creation_date": 1504099480, "last_edit_date": 1504101251, "question_id": 45961714, "link": "https://stackoverflow.com/questions/45961714/convert-nsobject-to-rlmobject", "title": "Convert NSObject to RLMObject", "body": "<p>There is a custom way to get data from Realm model and assign it to NSObject by converting it to NSDictionary first and to NSObject model object second. </p>\n\n<p>But how is that possible to convert it back to set the data back to Realm model from the NSObjects?</p>\n\n<p>May be converting from NSObject to NSDictionary/JSON then back to RLMObject should be suitable?</p>\n"}, {"tags": ["jquery", "ios", "objective-c", "svg", "uiwebview"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1504102877, "post_id": 45961438, "comment_id": 78884433, "body": "What does &quot;But when i try to rendering object from UIWebView can&#39;t able to get the object&quot; mean?"}], "answers": [{"tags": [], "owner": {"reputation": 1551, "user_id": 3754941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kLThs.png?s=128&g=1", "display_name": "Sunil Hari", "link": "https://stackoverflow.com/users/3754941/sunil-hari"}, "is_accepted": false, "score": 0, "last_activity_date": 1504176874, "creation_date": 1504176874, "answer_id": 45979748, "question_id": 45961438, "link": "https://stackoverflow.com/questions/45961438/how-to-render-an-object-from-svg-in-uiwebview-along-jquery-code/45979748#45979748", "title": "How to render an object from SVG in UIWebview along JQuery code?", "body": "<p>This is what i understood from your question.\nYou want add click to an SVG element which should trigger some event in IOS</p>\n\n<p>You can make use of something called URL Catching in IOS.On click of the svg element trigger a url and implement these method in your code</p>\n\n<pre><code>application:handleOpenURL: (used for earlier iOS 4.1) application:openURL:sourceApplication:annotation: (used for later iOS 4.1)\n</code></pre>\n\n<p>so that you can catch the url which is being triggered and can perform the desired operation.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6915112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504176874, "creation_date": 1504098763, "last_edit_date": 1504176550, "question_id": 45961438, "link": "https://stackoverflow.com/questions/45961438/how-to-render-an-object-from-svg-in-uiwebview-along-jquery-code", "title": "How to render an object from SVG in UIWebview along JQuery code?", "body": "<p>I loaded SVG image into UIWebView and i want to rendering element from SVG image while on click event on the UIWebView. is it possible to do ? I have tired UITapGesture but it gives x and y point of UIWebView. but i want object from SVG image.</p>\n"}, {"tags": ["ios", "objective-c", "uiimage", "nsdata", "nsfilemanager"], "comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 1, "creation_date": 1504099081, "post_id": 45961121, "comment_id": 78881338, "body": "You want to save and retrieve image from document directory .  it&#39;s  your question Correct ?"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1504099566, "post_id": 45961121, "comment_id": 78881768, "body": "No i mean why the first two approaches don&#39;t work? what am I doing wrong? and Am I doing it right in the third approach to use the temp folder in my app for doing that? @MikeAlter"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 1, "creation_date": 1504100439, "post_id": 45961121, "comment_id": 78882484, "body": "saving for approach two is looks good . pls check fetch url for loading image and i am not sure about approach one"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1504103163, "post_id": 45961121, "comment_id": 78884702, "body": "The second one doesn&#39;t work at all. Can you provide an efficient way which will work with all ios updates including ios 11? @MikeAlter"}], "answers": [{"comments": [{"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504103357, "post_id": 45962268, "comment_id": 78884851, "body": "In the first and the second approach, fileDirectoryStr  return nil but why? they&#39;re the address which apple documentation is telling us to use. But the third approach works and its slow! What would be the most efficient and correct way to do it if they&#39;re not? @JitendraSingh"}, {"owner": {"reputation": 2033, "user_id": 1438122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/021da89bbc2043b09c528bbee9ba6fcc?s=128&d=identicon&r=PG", "display_name": "Jitendra Singh", "link": "https://stackoverflow.com/users/1438122/jitendra-singh"}, "reply_to_user": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504104639, "post_id": 45962268, "comment_id": 78885815, "body": "URLs are fine, I see the correct value (not nil) in both approaches."}, {"owner": {"reputation": 2033, "user_id": 1438122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/021da89bbc2043b09c528bbee9ba6fcc?s=128&d=identicon&r=PG", "display_name": "Jitendra Singh", "link": "https://stackoverflow.com/users/1438122/jitendra-singh"}, "reply_to_user": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 1, "creation_date": 1504104858, "post_id": 45962268, "comment_id": 78885979, "body": "Use FileUtility from @Mike answer. You may modify that file to make the read/write operation on separate thread (other than main thread) so that UI will not hang if you are writing a large file."}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504171414, "post_id": 45962268, "comment_id": 78914386, "body": "Thank you, They&#39;re just 80 small UIImages."}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504197228, "post_id": 45962268, "comment_id": 78932476, "body": "Did you try them in ios11 ? it still returns nill for me. @JitendraSingh"}], "tags": [], "owner": {"reputation": 2033, "user_id": 1438122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/021da89bbc2043b09c528bbee9ba6fcc?s=128&d=identicon&r=PG", "display_name": "Jitendra Singh", "link": "https://stackoverflow.com/users/1438122/jitendra-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1504100958, "creation_date": 1504100958, "answer_id": 45962268, "question_id": 45961121, "link": "https://stackoverflow.com/questions/45961121/why-saving-and-loading-uiimages-in-documents-folder-doesnt-work-properly-in-ios/45962268#45962268", "title": "Why saving and loading UIImages in documents folder doesn&#39;t work properly in iOS 8+?", "body": "<p>before reading the file, make sure it exists there. If It does exist the the issue is in <code>[NSData dataWithContentsOfURL:url]</code> else image is not being converted to data.</p>\n\n<p>I would recommend, break your code into several statement instead of of writing single lengthy statement for better understanding of where it is failing.</p>\n"}, {"comments": [{"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504169079, "post_id": 45963431, "comment_id": 78912712, "body": "Thank you so much, Just a quick question, If I wanted to save them in the temp folder I should use NSTemporaryDirectory() instead of NSDocumentDirectory in the base path right?"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504169475, "post_id": 45963431, "comment_id": 78912982, "body": "Although <code>Dlog</code> and <code>[FileUtility fileExists:filePath]</code> gives me errors. says no class method exists for <code>fileExists:</code>"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "reply_to_user": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 1, "creation_date": 1504170028, "post_id": 45963431, "comment_id": 78913369, "body": "@Reza.Ab  DLog is NSLog and  <code>fileExists:filePath</code> added  in Edit"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504198252, "post_id": 45963431, "comment_id": 78933010, "body": "In order to use temp folder I should replace NSTemporaryDirectory() with NSDocumentDirectory in the base path right? and what method from nsfilemanager i should use to load files? Im doing this to load files <code>+ (UIImage*)loadImageFileWithPath:(NSString*)path{     NSData *file = [[NSData alloc]initWithContentsOfFile:path];     UIImage *  loadedImg = [UIImage imageWithData:file scale:1.0];     return loadedImg; }</code> Thank you @MikeAlter"}, {"owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504265651, "post_id": 45963431, "comment_id": 78958756, "body": "So I ended up modifying the code like this to add a method for loading image but then I get memory warnings which is exactly the opposite of the whole thing is about. I&#39;m currently using file =[NSData initWithContentsOfFile:path]; and then getting the UIImage like myImage = [UIImage imageWithData:file scale:1.0];. I thought imageWithData would take much less memory than [UIImage imageNamed:]; @MikeAlter"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "reply_to_user": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "edited": false, "score": 0, "creation_date": 1504266021, "post_id": 45963431, "comment_id": 78958995, "body": "@Reza.Ab Is dependent on your image size. If you are loading very large images then it definitely  increase the memory warning, and  [UIImage imageNamed:];  is used to load image from bundle However  imageWithData:file  can be used to get data from document folder of app"}], "tags": [], "owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "is_accepted": true, "score": 1, "last_activity_date": 1504169981, "last_edit_date": 1504169981, "creation_date": 1504104242, "answer_id": 45963431, "question_id": 45961121, "link": "https://stackoverflow.com/questions/45961121/why-saving-and-loading-uiimages-in-documents-folder-doesnt-work-properly-in-ios/45963431#45963431", "title": "Why saving and loading UIImages in documents folder doesn&#39;t work properly in iOS 8+?", "body": "<p>I have created <code>class</code> which allows to save in document folder</p>\n\n<p>Here is .h File</p>\n\n<pre><code>@interface FileUtility : NSObject {\n\n}\n\n// Folder methods\n+ (NSString*)basePath;\n+ (void)createFile:(NSString *)filename;\n+ (void)createFile:(NSString *)filePath withData: (NSData *) imgData;\n\n@end\n</code></pre>\n\n<p>and .m File</p>\n\n<pre><code>#import \"FileUtility.h\"\n\n@implementation FileUtility\n\n// ----------------------------------------------------------------------------\n\n#pragma mark -\n#pragma mark Path methods\n\n// -----------------------------------------------------------------------------\n\n+ (NSString*)basePath {\n    NSArray* paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSAssert([paths count] == 1, @\"\");\n    return [paths objectAtIndex:0];     \n}\n\n// -----------------------------------------------------------------------------\n\n\n\n\n  + (void)createFile:(NSString *)filename {\n    NSFileManager* manager = [NSFileManager defaultManager];\n    NSString * filePath = [NSString stringWithFormat:@\"%@/%@\", [FileUtility basePath],filename];\n    DLOG(@\"filePath = %@\", filePath);\n    if (![FileUtility fileExists:filePath]){\n        [manager createFileAtPath:filePath contents:nil attributes:nil];\n    }\n\n    }\n\n// -----------------------------------------------------------------------------\n\n+ (void)createFile:(NSString *)filePath withData: (NSData *) imgData {\n    NSFileManager* manager = [NSFileManager defaultManager];\n    DLOG(@\"filePath = %@\", filePath);\n    if (![FileUtility fileExists:filePath]){\n        [manager createFileAtPath:filePath contents:imgData attributes:nil];\n    }\n}\n</code></pre>\n\n<p>For fetch  use this</p>\n\n<p><code>[[FileUtility basePath] stringByAppendingPathComponent</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>+ (BOOL)fileExists:(NSString *)filename {\n    NSFileManager* manager = [NSFileManager defaultManager];\n    return [manager fileExistsAtPath:filename];\n}\n</code></pre>\n"}], "owner": {"reputation": 925, "user_id": 3124848, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zHStP.png?s=128&g=1", "display_name": "Reza.Ab", "link": "https://stackoverflow.com/users/3124848/reza-ab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 45963431, "answer_count": 2, "score": 0, "last_activity_date": 1504169981, "creation_date": 1504097923, "last_edit_date": 1504103521, "question_id": 45961121, "link": "https://stackoverflow.com/questions/45961121/why-saving-and-loading-uiimages-in-documents-folder-doesnt-work-properly-in-ios", "title": "Why saving and loading UIImages in documents folder doesn&#39;t work properly in iOS 8+?", "body": "<p>I've been trying to save and load UIImages in my app's Documents folder or preferably temp folder (so every time my app gets closed images will be deleted) but they aren't working correctly. I've tried three approaches but only the third approach works and i'm wondering what's the right way to do it? I highly appreciate any help.</p>\n\n<pre><code> //First Approach, to save and load later, Doesn't work.\n //Saving the image\n NSURL *documentsDirectoryURL = [[[NSFileManager defaultManager]\n                                  URLsForDirectory:NSDocumentDirectory\n                                   inDomains:NSUserDomainMask]\n                                    lastObject];\nNSString*fileDirectoryStr = [[documentsDirectoryURL path] stringByAppendingPathComponent:@\"E1BG.png\"];\nNSURL *url = [NSURL URLWithString:fileDirectoryStr];\n//Saving either as Jpeg\n[UIImagePNGRepresentation(finalFG) writeToFile:fileDirectoryStr atomically:YES];\n//Or as PNG, because I need the transparent part to be kept transparent but non of them work.\n[UIImageJPEGRepresentation(finalFG, 1.0) writeToFile:fileDirectoryStr atomically:YES];\n//Loading image\nUIImage *loadedBGImg = [UIImage imageWithData: [NSData dataWithContentsOfURL:url]];\n//Returns nil\n\n//Second approach.\n//Saving the image\nNSArray*pathArray = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString * documentsPath = [pathArray objectAtIndex:0];\nNSString* fileDirectoryStr = [documentsPath stringByAppendingPathComponent:@\"E1FG.png\"];\n//Again saving either as Jpeg\n[UIImagePNGRepresentation(finalFG) writeToFile:fileDirectoryStr atomically:YES];\n//Or as PNG, because I need the transparent part to be kept transparent but non of them work.\n[UIImageJPEGRepresentation(finalFG, 1.0) writeToFile:fileDirectoryStr atomically:YES];\nNSURL *url1 = [NSURL URLWithString:fileDirectoryStr];\n//Loading image\nUIImage *loadedImg = [UIImage imageWithData: [NSData dataWithContentsOfURL:url1]];\n\n //Third approach, Works but doesnt seem to be very efficient.\n NSString *tmpDirectory = NSTemporaryDirectory();\n //Save\n NSString *tmpFileStrFG = [tmpDirectory stringByAppendingPathComponent:@\"E1FG.png\"];\n NSURL *urlFG = [NSURL URLWithString:tmpFileStrFG];\n NSData *imgDataFG = UIImagePNGRepresentation(finalFG);\n [imgDataFG writeToURL:urlFG atomically:YES];\n //Load\n UIImage *ImggFG = [UIImage imageWithData: imgDataFG];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsurlsession"], "comments": [{"owner": {"reputation": 48543, "user_id": 1280373, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/zQnR9.jpg?s=128&g=1", "display_name": "Nitin Gohel", "link": "https://stackoverflow.com/users/1280373/nitin-gohel"}, "edited": false, "score": 0, "creation_date": 1504100125, "post_id": 45961062, "comment_id": 78882194, "body": "strange are you sure it&#39;s coz charge cable plugged or other issue. Coz there is not any restriction about cable plugged. you must be debug"}, {"owner": {"reputation": 149, "user_id": 7125452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb5fd811ba3e64654c18a0d3dd7c423?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjeev S", "link": "https://stackoverflow.com/users/7125452/sanjeev-s"}, "reply_to_user": {"reputation": 48543, "user_id": 1280373, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/zQnR9.jpg?s=128&g=1", "display_name": "Nitin Gohel", "link": "https://stackoverflow.com/users/1280373/nitin-gohel"}, "edited": false, "score": 0, "creation_date": 1504157873, "post_id": 45961062, "comment_id": 78906568, "body": "@NitinGohel Yea it is strange. I checked all properties but I am unable to find solution."}, {"owner": {"reputation": 48543, "user_id": 1280373, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/zQnR9.jpg?s=128&g=1", "display_name": "Nitin Gohel", "link": "https://stackoverflow.com/users/1280373/nitin-gohel"}, "edited": false, "score": 0, "creation_date": 1504163388, "post_id": 45961062, "comment_id": 78909155, "body": "have you check in another device? or change lib that you used for download"}, {"owner": {"reputation": 149, "user_id": 7125452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb5fd811ba3e64654c18a0d3dd7c423?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjeev S", "link": "https://stackoverflow.com/users/7125452/sanjeev-s"}, "reply_to_user": {"reputation": 48543, "user_id": 1280373, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/zQnR9.jpg?s=128&g=1", "display_name": "Nitin Gohel", "link": "https://stackoverflow.com/users/1280373/nitin-gohel"}, "edited": false, "score": 0, "creation_date": 1504169017, "post_id": 45961062, "comment_id": 78912657, "body": "@NitinGohel Yea I checked many device few device its working fine and other all devices  I am facing this issue. Thats why i am confused."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 7125452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb5fd811ba3e64654c18a0d3dd7c423?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjeev S", "link": "https://stackoverflow.com/users/7125452/sanjeev-s"}, "edited": false, "score": 0, "creation_date": 1504173694, "post_id": 45962288, "comment_id": 78916054, "body": "I tried it discretionary property, its not helping it."}], "tags": [], "owner": {"reputation": 2423, "user_id": 50255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rb3SR.jpg?s=128&g=1", "display_name": "Chris Allwein", "link": "https://stackoverflow.com/users/50255/chris-allwein"}, "is_accepted": false, "score": 0, "last_activity_date": 1504100998, "creation_date": 1504100998, "answer_id": 45962288, "question_id": 45961062, "link": "https://stackoverflow.com/questions/45961062/downloading-files-using-nsurlsessions-is-happening-only-when-iphone-is-charging/45962288#45962288", "title": "Downloading files using NSURLSessions is happening only when iPhone is Charging", "body": "<p>Yes, you can override this, assuming that the download isn't being initiated while your app is in the background.  See the <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessionconfiguration/1411552-discretionary?language=objc\" rel=\"nofollow noreferrer\">discretionary</a> property on <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessionconfiguration?language=objc\" rel=\"nofollow noreferrer\">NSURLSessionConfiguration</a>.</p>\n"}], "owner": {"reputation": 149, "user_id": 7125452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb5fd811ba3e64654c18a0d3dd7c423?s=128&d=identicon&r=PG&f=1", "display_name": "Sanjeev S", "link": "https://stackoverflow.com/users/7125452/sanjeev-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1504105859, "creation_date": 1504097735, "last_edit_date": 1504105859, "question_id": 45961062, "link": "https://stackoverflow.com/questions/45961062/downloading-files-using-nsurlsessions-is-happening-only-when-iphone-is-charging", "title": "Downloading files using NSURLSessions is happening only when iPhone is Charging", "body": "<p>I am using NSURLSession to download the video files from server. I am using the following library <a href=\"https://github.com/jameshuynh/ObjectiveCDM\" rel=\"nofollow noreferrer\">ObjectiveCDM </a>. Download is working seamlessly when my device is connected to charging but when I am trying to download when my device not charging then download stopped. The above library is written using NSURLSession. Is the any way to override this property.  </p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 1607, "user_id": 1068165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28f9e838ea9db914cd65de2c1a1a938?s=128&d=identicon&r=PG", "display_name": "Mindaugas", "link": "https://stackoverflow.com/users/1068165/mindaugas"}, "edited": false, "score": 0, "creation_date": 1504098609, "post_id": 45960970, "comment_id": 78880931, "body": "C Enums are ints, so 0 is a valid value to pass"}], "answers": [{"tags": [], "owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "is_accepted": true, "score": 8, "last_activity_date": 1504098114, "creation_date": 1504098114, "answer_id": 45961207, "question_id": 45960970, "link": "https://stackoverflow.com/questions/45960970/what-is-the-objective-c-equivalent-to-an-empty-swift-optionset/45961207#45961207", "title": "What is the Objective-C equivalent to an empty Swift OptionSet?", "body": "<p>Swift's <code>OptionSet</code> was created to make bitmasks more pleasant to use. In Swift, you spell the combined value as if it were a collection; in Objective-C, it's an integral value, built with bitwise operators:</p>\n\n<pre><code>NSUInteger options = UIViewAnimationOptionLayoutSubviews | UIViewAnimationOptionRepeat | UIViewAnimationOptionCurveEaseOut;\n</code></pre>\n\n<p>The Objective-C equivalent to an empty <code>OptionSet</code> is therefore indeed just 0.</p>\n"}], "owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 0, "accepted_answer_id": 45961207, "answer_count": 1, "score": 3, "last_activity_date": 1504098114, "creation_date": 1504097498, "last_edit_date": 1504097905, "question_id": 45960970, "link": "https://stackoverflow.com/questions/45960970/what-is-the-objective-c-equivalent-to-an-empty-swift-optionset", "title": "What is the Objective-C equivalent to an empty Swift OptionSet?", "body": "<p>Please take a look at this simple Swift code:</p>\n\n<pre><code>UIView.animate(withDuration: duration, delay: interButtonDelay * Double(expanding ? index : index + 1), options: [], animations: {\n            button.transform = expanding ? .init(scaleX: self.scale, y: self.scale) : .identity\n            button.alpha = expanding ? 0.0 : 1.0\n        }, completion: nil)\n</code></pre>\n\n<p>Here an empty array is passed into the <code>options</code> parameter. I would like to find out what is the correct Objective-C equivalent to doing this. I assume it should be passing 0, but I want to be completely sure. Unfortunately the docs not telling anything regarding this.</p>\n"}, {"tags": ["ios", "objective-c", "pjsip"], "comments": [{"owner": {"reputation": 1040, "user_id": 1382157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PZBDs.jpg?s=128&g=1", "display_name": "Sakshi", "link": "https://stackoverflow.com/users/1382157/sakshi"}, "edited": false, "score": 0, "creation_date": 1504097512, "post_id": 45960598, "comment_id": 78879956, "body": "Did you try with pjsua_destroy(); safely and re-create fresh session."}, {"owner": {"reputation": 1388, "user_id": 2273080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q7V0P.jpg?s=128&g=1", "display_name": "Ved Rauniyar", "link": "https://stackoverflow.com/users/2273080/ved-rauniyar"}, "reply_to_user": {"reputation": 1040, "user_id": 1382157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PZBDs.jpg?s=128&g=1", "display_name": "Sakshi", "link": "https://stackoverflow.com/users/1382157/sakshi"}, "edited": false, "score": 0, "creation_date": 1504097582, "post_id": 45960598, "comment_id": 78880016, "body": "Without internet how?"}, {"owner": {"reputation": 1388, "user_id": 2273080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q7V0P.jpg?s=128&g=1", "display_name": "Ved Rauniyar", "link": "https://stackoverflow.com/users/2273080/ved-rauniyar"}, "reply_to_user": {"reputation": 1040, "user_id": 1382157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PZBDs.jpg?s=128&g=1", "display_name": "Sakshi", "link": "https://stackoverflow.com/users/1382157/sakshi"}, "edited": false, "score": 0, "creation_date": 1504098725, "post_id": 45960598, "comment_id": 78881030, "body": "UI will block for 6 seconds... 3 seconds for pjsua_destroy() and 3 seconds for re-create fresh session. @Sakshi"}, {"owner": {"reputation": 1040, "user_id": 1382157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PZBDs.jpg?s=128&g=1", "display_name": "Sakshi", "link": "https://stackoverflow.com/users/1382157/sakshi"}, "edited": false, "score": 0, "creation_date": 1504100141, "post_id": 45960598, "comment_id": 78882213, "body": "what if you dismiss Controller in which video call is happening and on other side keep flag when internet comes resume session."}, {"owner": {"reputation": 1046, "user_id": 4692211, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/pQP1y.jpg?s=128&g=1", "display_name": "Nandhakumar Kittusamy", "link": "https://stackoverflow.com/users/4692211/nandhakumar-kittusamy"}, "edited": false, "score": 0, "creation_date": 1504185989, "post_id": 45960598, "comment_id": 78924761, "body": "check internet reachability with reachabilty class. if network mode is disconnected just dismiss your viewcontroller of video call."}], "owner": {"reputation": 1388, "user_id": 2273080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q7V0P.jpg?s=128&g=1", "display_name": "Ved Rauniyar", "link": "https://stackoverflow.com/users/2273080/ved-rauniyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504096523, "creation_date": 1504096523, "question_id": 45960598, "link": "https://stackoverflow.com/questions/45960598/pjsip-hangup-rtp-timeout", "title": "PJSIP Hangup RTP Timeout", "body": "<p>Is there any alternative of <code>RTP</code> Timeout in <code>PJSIP</code> ? Please let me know because i want to Hangup video call from device when internet connection is lost.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 2033, "user_id": 1438122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/021da89bbc2043b09c528bbee9ba6fcc?s=128&d=identicon&r=PG", "display_name": "Jitendra Singh", "link": "https://stackoverflow.com/users/1438122/jitendra-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1504109066, "creation_date": 1504109066, "answer_id": 45965076, "question_id": 45960348, "link": "https://stackoverflow.com/questions/45960348/how-to-get-notified-when-user-allows-the-camera-access-alert-in-ios/45965076#45965076", "title": "How to get notified when user allows the camera access alert in iOS?", "body": "<p>For <code>AVAuthorizationStatusNotDetermined</code> state, add observer for a key (boolean), and update this flag  in completion of <code>requestAccessForMediaType</code> then start camera or call camDenied deoending on user's actions.</p>\n\n<p>So you code should look like as below:</p>\n\n<p>Add a new private property in your class</p>\n\n<pre><code>@property (nonatomic, strong) NSNumber *granted;\n</code></pre>\n\n<p>then add following methods</p>\n\n<pre><code>- (void)askForPermission {\n    NSLog(@\"%@\", @\"Camera access not determined. Ask for permission.\");\n    [self addObserver:self forKeyPath:@\"granted\" options:NSKeyValueObservingOptionNew context:nil];\n    [AVCaptureDevice requestAccessForMediaType:AVMediaTypeVideo completionHandler:^(BOOL granted)\n     {\n         self.granted = @(granted);\n\n     }];\n}\n\n- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context\n{\n    if ([keyPath isEqualToString:@\"granted\"]) {\n        BOOL granted = [object boolValue];\n        if(granted)\n        {\n            NSLog(@\"Granted access to %@\", AVMediaTypeVideo);\n\n            [self.progressStatusLbl setText:@\"RECORDING\"];\n            [self openCamera];\n        }\n        else\n        {\n            NSLog(@\"Not granted access to %@\", AVMediaTypeVideo);\n            [self camDenied];\n        }\n    } else {\n        [super observeValueForKeyPath:keyPath ofObject:object change:change context:context];\n    }\n}\n</code></pre>\n\n<p>call <code>askForPermission</code> in <code>AVAuthorizationStatusNotDetermined</code> case.</p>\n"}], "owner": {"reputation": 21, "user_id": 7461806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77ab6bcdc06a01da9447346b39ac2b8b?s=128&d=identicon&r=PG&f=1", "display_name": "Ranveer Singh", "link": "https://stackoverflow.com/users/7461806/ranveer-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504109066, "creation_date": 1504095845, "last_edit_date": 1504102147, "question_id": 45960348, "link": "https://stackoverflow.com/questions/45960348/how-to-get-notified-when-user-allows-the-camera-access-alert-in-ios", "title": "How to get notified when user allows the camera access alert in iOS?", "body": "<p>I want to record a video after a count down 3 2 1. But on first time without allowing  the camera the video has started recording without showing to camera . I want to call the recording code in the block which is called when the user allow to camera on camera access alert.</p>\n\n<pre><code>self.recordingManager.previewLayer.frame = CGRectMake(47, 2000, 280, 154);\n\n// set code for count down\nimageArr = [[NSArray alloc]initWithObjects:@\"countdown_three\",@\"countdown_two\",@\"countdown_one\", nil];\n[_countImageView setImage:[UIImage imageNamed:[imageArr objectAtIndex:0]]];\n[_countImageView setHidden:NO];\nNSLog(@\"%@\",[imageArr objectAtIndex:0]);\ncount = 4;\ntimer = [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(setCountDownDuration) userInfo:nil repeats:YES];\n\n// customize progressbar\n_captureProgress.hidden = NO;\n_captureProgress.progress = 0.0;\n_captureProgress.layer.borderWidth = 0.2;\n_captureProgress.layer.borderColor = [UIColor colorWithRed:167.0f/255 green:188.0f/255 blue:219.0f/255 alpha:1].CGColor;\nCGAffineTransform transform = CGAffineTransformMakeScale(1.6f, 8.0f);\n_captureProgress.transform = transform;\n\ncount--;\n\nif (count == 3) {\n    [self.progressStatusLbl setText:@\"GET READY\"];\n    [_countImageView setImage:[UIImage imageNamed:[imageArr objectAtIndex:0]]];\n}\nif (count == 2) {\n    [_countImageView setImage:[UIImage imageNamed:[imageArr objectAtIndex:1]]];\n}\n\nif (count == 1) {\n    [_countImageView setImage:[UIImage imageNamed:[imageArr objectAtIndex:2]]];\n}\n\nif (count == 0) {\n    [timer invalidate];\n    timer = nil;\n    AVAuthorizationStatus authStatus = [AVCaptureDevice authorizationStatusForMediaType:AVMediaTypeVideo];\n    if(authStatus == AVAuthorizationStatusAuthorized)\n    {\n        [self.progressStatusLbl setText:@\"RECORDING\"];\n        [self openCamera];\n    }\n    else if(authStatus == AVAuthorizationStatusNotDetermined)\n    {\n        NSLog(@\"%@\", @\"Camera access not determined. Ask for permission.\");\n\n        [AVCaptureDevice requestAccessForMediaType:AVMediaTypeVideo completionHandler:^(BOOL granted)\n         {\n             if(granted)\n             {\n                 NSLog(@\"Granted access to %@\", AVMediaTypeVideo);\n                 [self.progressStatusLbl setText:@\"RECORDING\"];\n                 [self openCamera];\n             }\n             else\n             {\n                 NSLog(@\"Not granted access to %@\", AVMediaTypeVideo);\n                 [self camDenied];\n             }\n         }];\n    }\n    else if (authStatus == AVAuthorizationStatusRestricted)\n    {\n        // My own Helper class is used here to pop a dialog in one simple line.\n        //[Helper popAlertMessageWithTitle:@\"Error\" alertText:@\"You've been restricted from using the camera on this device. Without camera access this feature won't work. Please contact the device owner so they can give you access.\"];\n        [Utils showAlertMessageWithTitle:@\"Error\" msg:@\"You've been restricted from using the camera on this device. Without camera access this feature won't work. Please contact the device owner so they can give you access.\"  firstButtonTitle:@\"Ok\" secontButtonTitle:nil];\n    }\n    else\n    {\n        [self camDenied];\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "networking", "wifi"], "comments": [{"owner": {"reputation": 696, "user_id": 2553442, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bbb9e5a12aca97e6d8727775a3a084fa?s=128&d=identicon&r=PG", "display_name": "KethanKumar", "link": "https://stackoverflow.com/users/2553442/kethankumar"}, "edited": false, "score": 1, "creation_date": 1504094078, "post_id": 45959705, "comment_id": 78877338, "body": "<a href=\"https://stackoverflow.com/questions/17652465/capture-wi-fi-network-changing-event-in-ios\" title=\"capture wi fi network changing event in ios\">stackoverflow.com/questions/17652465/&hellip;</a>"}, {"owner": {"reputation": 2807, "user_id": 655548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae53768baf684948ab3b00dc272e817f?s=128&d=identicon&r=PG", "display_name": "gvuksic", "link": "https://stackoverflow.com/users/655548/gvuksic"}, "edited": false, "score": 1, "creation_date": 1504094492, "post_id": 45959705, "comment_id": 78877616, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17652465/capture-wi-fi-network-changing-event-in-ios\">Capture Wi-Fi network changing event in iOS</a>"}, {"owner": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "edited": false, "score": 1, "creation_date": 1504095724, "post_id": 45959705, "comment_id": 78878582, "body": "I saw that already, but isn&#180;t there another way apart from just setting timer and checking SSID. Then change will not be detected automatically"}], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "edited": false, "score": 0, "creation_date": 1504104094, "post_id": 45960492, "comment_id": 78885411, "body": "Yes, I tried that, making sure I am calling startMonitoring but no luck so far"}, {"owner": {"reputation": 1040, "user_id": 1382157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PZBDs.jpg?s=128&g=1", "display_name": "Sakshi", "link": "https://stackoverflow.com/users/1382157/sakshi"}, "reply_to_user": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "edited": false, "score": 0, "creation_date": 1504109397, "post_id": 45960492, "comment_id": 78889143, "body": "Then post your code,so that everyone can see and make it out what&#39;s happening wrong."}], "tags": [], "owner": {"reputation": 1040, "user_id": 1382157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PZBDs.jpg?s=128&g=1", "display_name": "Sakshi", "link": "https://stackoverflow.com/users/1382157/sakshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1504096249, "creation_date": 1504096249, "answer_id": 45960492, "question_id": 45959705, "link": "https://stackoverflow.com/questions/45959705/how-to-detect-wifi-network-change-in-ios/45960492#45960492", "title": "How to detect wifi network change in iOS", "body": "<p>Please refer this link <a href=\"https://stackoverflow.com/a/19256197/1382157\">https://stackoverflow.com/a/19256197/1382157</a></p>\n\n<p>Other way,</p>\n\n<pre><code>- (BOOL)isReachable {\nreturn [self isReachableViaWWAN] || [self isReachableViaWiFi];\n}\n\n- (BOOL)isReachableViaWWAN {// If this return true, means it is connected to 3g\nreturn self.networkReachabilityStatus == \nAFNetworkReachabilityStatusReachableViaWWAN;\n}\n\n- (BOOL)isReachableViaWiFi { // If this return true, means it is connected to wifi\nreturn self.networkReachabilityStatus == \nAFNetworkReachabilityStatusReachableViaWiFi;\n}\n</code></pre>\n\n<p>make sure you initialize class properly and do </p>\n\n<pre><code>[self.manager.reachabilityManager startMonitoring]; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "edited": false, "score": 0, "creation_date": 1504104131, "post_id": 45960517, "comment_id": 78885436, "body": "Yes, I tried that, checked that example and I have something similar implemented but it is still not working"}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "reply_to_user": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "edited": false, "score": 0, "creation_date": 1504155151, "post_id": 45960517, "comment_id": 78905726, "body": "this is working for me i dont know what problem you r facing."}, {"owner": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "edited": false, "score": 0, "creation_date": 1504175216, "post_id": 45960517, "comment_id": 78917139, "body": "I do not get notified when switching between different wifi networks"}], "tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504096309, "creation_date": 1504096309, "answer_id": 45960517, "question_id": 45959705, "link": "https://stackoverflow.com/questions/45959705/how-to-detect-wifi-network-change-in-ios/45960517#45960517", "title": "How to detect wifi network change in iOS", "body": "<p>please see first <a href=\"https://github.com/belkevich/reachability-ios\" rel=\"nofollow noreferrer\">Reachibility</a></p>\n\n<p>After Importing class\nwrite in .h</p>\n\n<pre><code> Reachability* reachability;\n</code></pre>\n\n<p>.m class</p>\n\n<pre><code> [[NSNotificationCenter defaultCenter] addObserver:self \n selector:@selector(handleNetworkChange:) name:kReachabilityChangedNotification object:nil]; \n  reachability = [Reachability reachabilityForInternetConnection]; \n [reachability startNotifier]; \n NetworkStatus remoteHostStatus = [reachability currentReachabilityStatus]; \n if(remoteHostStatus == NotReachable) \n {\nNSLog(@\"no\");\n } \n else if (remoteHostStatus == ReachableViaWiFiNetwork) \n {\nNSLog(@\"wifi\"); \n} \nelse if (remoteHostStatus == ReachableViaCarrierDataNetwork) \n{\nNSLog(@\"cell\"); \n} \n..... \n\n - (void) handleNetworkChange:(NSNotification *)notice \n {   \nNetworkStatus remoteHostStatus = [reachability currentReachabilityStatus];   \nif(remoteHostStatus == NotReachable) \n{\n    NSLog(@\"no\");\n}   \nelse if (remoteHostStatus == ReachableViaWiFiNetwork) \n{\n    NSLog(@\"wifi\"); \n}   \nelse if (remoteHostStatus == ReachableViaCarrierDataNetwork) \n{\n    NSLog(@\"cell\"); \n} \n} \n</code></pre>\n"}], "owner": {"reputation": 677, "user_id": 3283414, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2c3b8ae04c67a36ff3cecade8702071b?s=128&d=identicon&r=PG&f=1", "display_name": "RuLoViC", "link": "https://stackoverflow.com/users/3283414/rulovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3016, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1504178507, "creation_date": 1504093938, "last_edit_date": 1504178507, "question_id": 45959705, "link": "https://stackoverflow.com/questions/45959705/how-to-detect-wifi-network-change-in-ios", "title": "How to detect wifi network change in iOS", "body": "<p>I am working on iOS application and I would need to detect when network changes either from Wifi connection to another Wifi connection or between Wifi and 3G.</p>\n\n<p>I have tried using Reachability library but it seems it does not detect changes between Wifi connections.\nWhat can I use?</p>\n\n<p>Target of the application would be App Store so I can't use private methods of Apple.</p>\n\n<p>UPDATE: After some testing I have found out that when testing using simulator it works perfectly. I get notifications without any problem.\niphone problem, maybe?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "appkit", "xpc"], "comments": [{"owner": {"reputation": 7884, "user_id": 458356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4f78de294cf8eaa7c8a00e6c93a3d77?s=128&d=identicon&r=PG", "display_name": "Ian Bytchek", "link": "https://stackoverflow.com/users/458356/ian-bytchek"}, "edited": false, "score": 0, "creation_date": 1522781511, "post_id": 45959664, "comment_id": 86282073, "body": "Did you get far with this? Anything you can share?"}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "reply_to_user": {"reputation": 7884, "user_id": 458356, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a4f78de294cf8eaa7c8a00e6c93a3d77?s=128&d=identicon&r=PG", "display_name": "Ian Bytchek", "link": "https://stackoverflow.com/users/458356/ian-bytchek"}, "edited": false, "score": 1, "creation_date": 1522820821, "post_id": 45959664, "comment_id": 86294825, "body": "Haven&#39;t spent too much more time on this but for now I&#39;m just using IOSurface and Core Image."}], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1504093833, "creation_date": 1504093833, "question_id": 45959664, "link": "https://stackoverflow.com/questions/45959664/how-to-efficiently-move-image-data-from-an-xpc-service-to-the-main-app", "title": "How to efficiently move image data from an XPC service to the main app", "body": "<p><em>TL/DR: What is the most efficient way to decode images in an XPC service, move the data to the main application and then display it?</em> </p>\n\n<p>In several of the WWDC videos that deal with XPC services on macOS, an example that is presented as a good candidate for using an XPC service is the decoding of images and videos. I have an application that does a lot of image decoding that I would like to move into an XPC service but I would like a better understanding of how to efficiently move decoded image data from the XPC service into the main application. There are numerous APIs that one can use when working with images and it's not clear to me which is the most efficient (and performant) when used in an XPC service. </p>\n\n<p><strong>Image Reading:</strong></p>\n\n<ul>\n<li>Using Apple's Image I/O framework and <code>CGImage</code></li>\n<li>Using Core Image and <code>CIImage</code></li>\n<li>Using third-party libraries like <code>OpenImage IO</code></li>\n</ul>\n\n<p>All three of those APIs can take a filepath and return \"image data\". Apple's APIs tend to do \"lazy decoding\" and only decompress the image data when the image needs to be drawn. Third party libraries tend to just return a buffer of decoded data that can then be wrapped with a <code>CGImage</code> at a later date.</p>\n\n<p>When you decode an image using Apple's APIs in an XPC service, you need a way to get the results back to the main application and neither <code>CGImage</code> nor <code>CIImage</code> can be natively transported across an XPC connection. However, Apple does provide two APIs for efficiently transferring generic data across an XPC connection: </p>\n\n<ul>\n<li><code>IOSurface</code></li>\n<li><code>dispatch_data</code></li>\n</ul>\n\n<p>However, using either of those requires that the XPC service fully unpack the image. The <code>CGImage</code> would need to be rendered to a bitmap context or data consumer, while the <code>CIImage</code> would need to be rendered to a destination using a <code>CIContext</code>. Does doing so negate any of the benefits that would otherwise have been realized had that unpacking been done within the main application? </p>\n\n<p><em>(Note that the final destination of each rendered image is as the <code>contents</code> property of a <code>CALayer</code>.)</em></p>\n\n<p>Using an <code>IOSurface</code>, instead of a <code>dispatch_data</code> object, seems like the better solution because an <code>IOSurface</code> can be used (apparently) as the <code>contents</code> of a <code>CALayer</code>. <code>CIContext</code> has an API for rendering into an <code>IOSurface</code>, but <code>CGImage / CGImageDestination</code> does not.</p>\n\n<p><em>(There is a roundabout way of using <code>vImage</code> to go from a <code>CGImage</code> to a <code>CVPixelBuffer</code> and then to an <code>IOSurface</code>, but that seems... Wrong?)</em></p>\n\n<p>Using Core Image seems like overkill for me when all I want to do is display thumbnails of each image. Image IO offers <code>CGImageSourceCreateThumbnailAtIndex</code> for doing exactly that and it works great. (Especially on RAW files where it will use the embedded JPEG thumbnail, if present, whereas Core Image will decode the RAW contents.) </p>\n\n<p>And, finally, where does Metal fit into all of this? Do I gain anything by rendering to a metal texture in the XPC service and then sending that across?</p>\n\n<p>By using an XPC service, how am I impacting either Image IO or Core Image's ability to efficiently use the GPU when appropriate? How do I minimize the amount of data that is being copied around (both between processes and between the CPU and GPU)? These thumbnails are being rendered in a scrolling grid view, so performance is a priority. </p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 5125, "user_id": 5575752, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/934c91ec9ec71963b23f5718d32a33ba?s=128&d=identicon&r=PG&f=1", "display_name": "Ronak Chaniyara", "link": "https://stackoverflow.com/users/5575752/ronak-chaniyara"}, "edited": false, "score": 0, "creation_date": 1504094586, "post_id": 45959200, "comment_id": 78877688, "body": "error is for ios7+ or pre ios7?"}, {"owner": {"reputation": 398, "user_id": 7114966, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/76a2ddeb4a41a77fbc36095e69b17f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Raman Srivastava", "link": "https://stackoverflow.com/users/7114966/raman-srivastava"}, "reply_to_user": {"reputation": 5125, "user_id": 5575752, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/934c91ec9ec71963b23f5718d32a33ba?s=128&d=identicon&r=PG&f=1", "display_name": "Ronak Chaniyara", "link": "https://stackoverflow.com/users/5575752/ronak-chaniyara"}, "edited": false, "score": 0, "creation_date": 1504094982, "post_id": 45959200, "comment_id": 78878015, "body": "@RonakChaniyara ios7+"}], "owner": {"reputation": 398, "user_id": 7114966, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/76a2ddeb4a41a77fbc36095e69b17f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Raman Srivastava", "link": "https://stackoverflow.com/users/7114966/raman-srivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504092488, "creation_date": 1504092488, "question_id": 45959200, "link": "https://stackoverflow.com/questions/45959200/illegal-base64-data-at-input-byte-20-in-response-from-server", "title": "&quot;illegal base64 data at input byte 20&quot; in response from server", "body": "<p>I am hitting an api in which i have to send header in request . I have used this method to convert </p>\n\n<pre><code>- (NSString*)encodeStringTo64:(NSString*)fromString {\n    NSData *plainData = [fromString dataUsingEncoding:NSUTF8StringEncoding];\n\n    NSString *base64String;\n\n    if ([plainData respondsToSelector:@selector(base64EncodedStringWithOptions:)])\n    {\n        base64String = [plainData base64EncodedStringWithOptions:kNilOptions];  // iOS 7+\n    }\n    else\n    {\n        base64String = [plainData base64Encoding];                              // pre iOS7\n    }\n\n    return base64String; }\n</code></pre>\n\n<p>but in response from Server i get this message :</p>\n\n<blockquote>\n  <p>{\n      error = \"invalid_request\";\n      \"error_description\" = \"illegal base64 data at input byte 20\"; }</p>\n</blockquote>\n\n<p>Please tell me what should i do?</p>\n"}, {"tags": ["objective-c", "nsstring", "nsurl", "host"], "answers": [{"comments": [{"owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1504092863, "post_id": 45958786, "comment_id": 78876504, "body": "The problem with that, is that it will replace all occurrences of <code>www</code>. So if the url happens to be <code>www.testsitewww.tumblr.com</code> then it will become <code>testsite.tumblr.com</code>. That&#39;s not what I want, I only want to remove the first occurrence of <code>www</code> (or any other variants such as <code>www2</code>)."}, {"owner": {"reputation": 910, "user_id": 2406320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509038daf6d2c7bf91d3d5a584c876a6?s=128&d=identicon&r=PG", "display_name": "Piotr Golinski", "link": "https://stackoverflow.com/users/2406320/piotr-golinski"}, "reply_to_user": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1504093147, "post_id": 45958786, "comment_id": 78876688, "body": "You can check begin of text -&gt; [string hasPrefix:@&quot;www.&quot;] -&gt; then substring"}], "tags": [], "owner": {"reputation": 910, "user_id": 2406320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509038daf6d2c7bf91d3d5a584c876a6?s=128&d=identicon&r=PG", "display_name": "Piotr Golinski", "link": "https://stackoverflow.com/users/2406320/piotr-golinski"}, "is_accepted": false, "score": 0, "last_activity_date": 1504091208, "creation_date": 1504091208, "answer_id": 45958786, "question_id": 45958667, "link": "https://stackoverflow.com/questions/45958667/detect-remove-www-in-nsurl/45958786#45958786", "title": "Detect &amp; remove &#39;www&#39; in NSURL", "body": "<p>You can replace part of text ex:</p>\n\n<pre><code>NSString* url = [urlWithWWW stringByReplacingOccurrencesOfString:@\"www.\" withString:@\"\"];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1504092859, "post_id": 45958810, "comment_id": 78876501, "body": "The problem with that, is that it will replace all occurrences of <code>www</code>. So if the url happens to be <code>www.testsitewww.tumblr.com</code> then it will become <code>testsite.tumblr.com</code>. That&#39;s not what I want, I only want to remove the first occurrence of <code>www</code> (or any other variants such as <code>www2</code>)."}, {"owner": {"reputation": 187, "user_id": 5009597, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/N5Tfh.png?s=128&g=1", "display_name": "Prakash", "link": "https://stackoverflow.com/users/5009597/prakash"}, "reply_to_user": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1504093286, "post_id": 45958810, "comment_id": 78876772, "body": "@Supertecnoboff or you can split the string using on the basis of &quot;.&quot;, and the pass the value into an array. Now you can loop through array and compare the string at every index with &quot;WWW/WW2&quot; according to your need and if the value at particular index matches &quot;WWW/WW2&quot; then you can leave that index data and can concatenate the rest of the index data and append the value in a string. In this way your problem will be solved."}, {"owner": {"reputation": 187, "user_id": 5009597, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/N5Tfh.png?s=128&g=1", "display_name": "Prakash", "link": "https://stackoverflow.com/users/5009597/prakash"}, "edited": false, "score": 0, "creation_date": 1504093316, "post_id": 45958810, "comment_id": 78876793, "body": "Let me ask again if you are not getting my answer"}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504093885, "post_id": 45958810, "comment_id": 78877168, "body": "see the change above"}], "tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504093872, "last_edit_date": 1504093872, "creation_date": 1504091274, "answer_id": 45958810, "question_id": 45958667, "link": "https://stackoverflow.com/questions/45958667/detect-remove-www-in-nsurl/45958810#45958810", "title": "Detect &amp; remove &#39;www&#39; in NSURL", "body": "<p>do this</p>\n\n<pre><code>NSString *blogID = @\"https://www.testing1234.tumblr.com\";\n[blogID stringByReplacingOccurrencesOfString:@\"www\" withString:@\"\"];\n//or\n[blogID stringByReplacingOccurrencesOfString:@\"www.\" withString:@\"\"];\n</code></pre>\n\n<p>or</p>\n\n<pre><code> if([blogID hasPrefix:@\"www\"]) {\n//do stuff\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1504095886, "post_id": 45960109, "comment_id": 78878724, "body": "@Supertecnoboff updated the code and tested. please check it."}, {"owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "edited": false, "score": 0, "creation_date": 1504096749, "post_id": 45960109, "comment_id": 78879407, "body": "Works perfectly, just what I needed. Thank you!"}], "tags": [], "owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "is_accepted": true, "score": 1, "last_activity_date": 1504095532, "last_edit_date": 1504095532, "creation_date": 1504095129, "answer_id": 45960109, "question_id": 45958667, "link": "https://stackoverflow.com/questions/45958667/detect-remove-www-in-nsurl/45960109#45960109", "title": "Detect &amp; remove &#39;www&#39; in NSURL", "body": "<p>@Supertecnoboff try this way.\nyou can separate the url by \".\" and you can get remaining string.</p>\n\n<p><strong>- if www. or www2. or anything else comes it will separate by \".\" and you can get remaining string</strong></p>\n\n<pre><code>NSString *blogID = @\"https://www.testing1234.tumblr.com\";\n    NSString *correctLink;\n    NSURL *url = [NSURL URLWithString:blogID];\n    if ([url scheme] != nil) {\n        correctLink = [url host];\n    } else {\n        correctLink = blogID;\n    }\n    NSArray *arr = [correctLink componentsSeparatedByString:@\".\"];\n    NSString *str = @\"\";\n    for(int i=1; i&lt;arr.count; i++)\n    {\n        str = [str stringByAppendingString:[arr objectAtIndex:i]];\n        if(i != arr.count-1)\n            str = [str stringByAppendingString:@\".\"];\n    }\n    NSLog(@\"correctLink: %@\", str); //correctLink: testing1234.tumblr.com\n</code></pre>\n"}], "owner": {"reputation": 5856, "user_id": 1598906, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4ae9f04b7774db3c48db14bcc82e7b62?s=128&d=identicon&r=PG", "display_name": "Supertecnoboff", "link": "https://stackoverflow.com/users/1598906/supertecnoboff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 45960109, "answer_count": 3, "score": 0, "last_activity_date": 1504095532, "creation_date": 1504090819, "last_edit_date": 1504092946, "question_id": 45958667, "link": "https://stackoverflow.com/questions/45958667/detect-remove-www-in-nsurl", "title": "Detect &amp; remove &#39;www&#39; in NSURL", "body": "<p>I have a macOS application. I need to remove the scheme and <code>www</code> part from any <code>NSURL</code>. This is what I have come up with:</p>\n\n<pre><code>// For testing purposes.\nNSString *blogID = @\"https://www.testing1234.tumblr.com\";\n\n// Create the corrected link string.\nNSString *correctLink;\n\n// Convert the string to a url.\nNSURL *url = [NSURL URLWithString:blogID];\n\n// Check if the url has a scheme.\n\nif ([url scheme] != nil) {\n    correctLink = [url host];\n} else {\n    correctLink = blogID;\n}\n\n// Ensure there are enough characters before\n// performing the necessary 'www.' checks.\n\nif ([correctLink length] &gt; 4) {\n\n    // Remove the first instance of 'www.'\n    // from the blog url link string.\n\n    if ([[correctLink substringToIndex:4] containsString:@\"www.\"]) {\n        correctLink = [correctLink substringFromIndex:4];\n    }\n}\n\nNSLog(@\"correctLink: %@\", correctLink);\n</code></pre>\n\n<p>My question is: how can I reliably remove the <code>www</code> part of the string? For starters aren't there different variants of <code>www</code> such as <code>www2</code>? Does <code>NSURL</code> have any method that allows me to detect the <code>www</code> part of the string? (Just like how I can detect the <code>http://</code> part of the string by calling <code>scheme</code>).</p>\n\n<p><strong>Update</strong></p>\n\n<p>I can't use <code>stringByReplacingOccurrencesOfString</code> because it will replace <strong>all</strong> occurrences of <code>www</code>. So if the url happens to be <code>www.testsitewww.tumblr.com</code> then it will become <code>testsite.tumblr.com</code>. That's not what I want, I only want to remove the first occurrence of <code>www</code> (or any other variants such as <code>www2</code>).</p>\n\n<p>Thanks, Dan.</p>\n"}, {"tags": ["objective-c", "json-deserialization", "nsjsonserialization"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1504089770, "post_id": 45958134, "comment_id": 78874181, "body": "why not you use @&quot;{\\&quot;cash\\&quot;: \\&quot;99946.222300000000\\&quot;}&quot; ? any problem in that sentence ?"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 1, "creation_date": 1504090307, "post_id": 45958134, "comment_id": 78874605, "body": "when you fetch the data at that time you can use <b>[[jsonObject valueForKey:@&quot;cash&quot;] doubleValue]</b> so it will give you 99946.22230"}, {"owner": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "edited": false, "score": 0, "creation_date": 1504105539, "post_id": 45958134, "comment_id": 78886565, "body": "What is the issue here? That <code>99946.222299999999</code> is appearing in quotes? It&#39;s printing this way, but it&#39;s actually an <code>NSNumber</code> instance, not a string. Do you want it to be a string?"}, {"owner": {"reputation": 1224, "user_id": 6228063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d9f601251fb79d457f3befcfc32a598?s=128&d=identicon&r=PG&f=1", "display_name": "Alanc Liu", "link": "https://stackoverflow.com/users/6228063/alanc-liu"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1504143607, "post_id": 45958134, "comment_id": 78902876, "body": "@NiravKotecha This is not my choice, the data is come from backend, and all of the other platforms don&#39;t have this issue."}, {"owner": {"reputation": 1224, "user_id": 6228063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d9f601251fb79d457f3befcfc32a598?s=128&d=identicon&r=PG&f=1", "display_name": "Alanc Liu", "link": "https://stackoverflow.com/users/6228063/alanc-liu"}, "reply_to_user": {"reputation": 21971, "user_id": 169394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb61781f55bda1790e6216a2dee08b11?s=128&d=identicon&r=PG", "display_name": "Itai Ferber", "link": "https://stackoverflow.com/users/169394/itai-ferber"}, "edited": false, "score": 0, "creation_date": 1504143681, "post_id": 45958134, "comment_id": 78902893, "body": "@ItaiFerber The issue is it&#39;s incorrect, the output result should be <b>cash = &quot;99946.22230000000&quot;</b>;"}, {"owner": {"reputation": 1224, "user_id": 6228063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d9f601251fb79d457f3befcfc32a598?s=128&d=identicon&r=PG&f=1", "display_name": "Alanc Liu", "link": "https://stackoverflow.com/users/6228063/alanc-liu"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1504145042, "post_id": 45958134, "comment_id": 78903195, "body": "@NiravKotecha The double value is correct, but why? Can you explain it?"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1504182599, "post_id": 45958134, "comment_id": 78922204, "body": "Alanc Liu, as @caiwb says max length of double is 16. so you can use %lf for getting double value. or you can use %9f (it will give you first 8 letter perfect but last 9 decimal point will be +1 or -1)"}], "answers": [{"comments": [{"owner": {"reputation": 1224, "user_id": 6228063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d9f601251fb79d457f3befcfc32a598?s=128&d=identicon&r=PG&f=1", "display_name": "Alanc Liu", "link": "https://stackoverflow.com/users/6228063/alanc-liu"}, "edited": false, "score": 0, "creation_date": 1504143736, "post_id": 45958452, "comment_id": 78902905, "body": "The data is coming from backend, it&#39;s now a way to fix it."}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "reply_to_user": {"reputation": 1224, "user_id": 6228063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d9f601251fb79d457f3befcfc32a598?s=128&d=identicon&r=PG&f=1", "display_name": "Alanc Liu", "link": "https://stackoverflow.com/users/6228063/alanc-liu"}, "edited": false, "score": 0, "creation_date": 1504155227, "post_id": 45958452, "comment_id": 78905752, "body": "can you show your Response format or  share your Api then i ll give you proper code . Thanku"}], "tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 1, "last_activity_date": 1504090116, "creation_date": 1504090116, "answer_id": 45958452, "question_id": 45958134, "link": "https://stackoverflow.com/questions/45958134/incorrect-result-from-nsjson-serialization/45958452#45958452", "title": "Incorrect result from NSJSON Serialization", "body": "<p>use it as Your commented string</p>\n\n<pre><code>NSString *testString = @\"{\\\"cash\\\": \\\"99946.222300000000\\\"}\";  \n\nNSData *jsonData = [testString dataUsingEncoding:NSUTF8StringEncoding];\nNSError *error;\nid jsonObject = [NSJSONSerialization JSONObjectWithData:jsonData \noptions:NSJSONReadingAllowFragments error:nil];\nNSLog(@\"Convertion result is %@\",error?@\"false\":@\"true\");\nNSLog(@\"Result data is\\n %@\",jsonObject);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 6324623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/919080ecd5e95028c1b778512bb6f22d?s=128&d=identicon&r=PG&f=1", "display_name": "caiwb", "link": "https://stackoverflow.com/users/6324623/caiwb"}, "is_accepted": true, "score": 1, "last_activity_date": 1504162411, "last_edit_date": 1504162411, "creation_date": 1504151561, "answer_id": 45972958, "question_id": 45958134, "link": "https://stackoverflow.com/questions/45958134/incorrect-result-from-nsjson-serialization/45972958#45972958", "title": "Incorrect result from NSJSON Serialization", "body": "<p>First of all, it\u2019s not wrong, it\u2019s correct.</p>\n\n<p>So, why you got the incorrect result?</p>\n\n<p>First, The json value will be converted to a NSNumber object by <strong>NSJSONSerialization</strong>;</p>\n\n<p>Then, the <strong>-description</strong> method of NSDictionary generate the result by stringValue method.</p>\n\n<p>You should resolve the json value by this way to get the correct string: </p>\n\n<pre><code>[NSString stringWithFormat:%lf, [jValue doubleValue]]\n</code></pre>\n\n<p><strong>But</strong> you should pay attention to the length of the value, the max length of double is 16, so if you get a number over than it, you will never get the correct result.</p>\n\n<p>Tell your backend guy that they should convert all the numbers to string before they give them out, because it\u2019s really hard to resolve them correctly if it\u2019s big enough.</p>\n"}], "owner": {"reputation": 1224, "user_id": 6228063, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8d9f601251fb79d457f3befcfc32a598?s=128&d=identicon&r=PG&f=1", "display_name": "Alanc Liu", "link": "https://stackoverflow.com/users/6228063/alanc-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 45972958, "answer_count": 2, "score": 1, "last_activity_date": 1504492439, "creation_date": 1504089300, "last_edit_date": 1504492439, "question_id": 45958134, "link": "https://stackoverflow.com/questions/45958134/incorrect-result-from-nsjson-serialization", "title": "Incorrect result from NSJSON Serialization", "body": "<p>I have got a very strange issue when I trying to deserialize my json string, the code is this:</p>\n\n<pre><code>NSString *testString = @\"{\\\"cash\\\": 99946.222300000000}\";\n//    NSString *testString = @\"{\\\"cash\\\": \\\"99946.222300000000\\\"}\"; //It's correct if I use this one\nNSData *jsonData = [testString dataUsingEncoding:NSUTF8StringEncoding];\nNSError *error;\nid jsonObject = [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingAllowFragments error:nil];\nNSLog(@\"Convertion result is %@\",error?@\"false\":@\"true\");\nNSLog(@\"Result data is\\n %@\",jsonObject);\n</code></pre>\n\n<p>And the result is :</p>\n\n<pre><code>2017-08-30 18:04:36.430 DAE[45557:2989692] Conversion result is true\n2017-08-30 18:04:36.430 DAE[45557:2989692] Result data is\n{\n    cash = \"99946.22229999999\";\n}\n</code></pre>\n\n<p>So can anybody tell me if I did anything wrong? and how to solve it?</p>\n\n<p>Really appreciate for any help.</p>\n"}, {"tags": ["objective-c", "macos", "cocoa", "sandbox", "nsdocument"], "comments": [{"owner": {"reputation": 351, "user_id": 3576399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb965a73f15533f769db40023870f805?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Vandekerkhove", "link": "https://stackoverflow.com/users/3576399/bruno-vandekerkhove"}, "edited": false, "score": 0, "creation_date": 1504088960, "post_id": 45957934, "comment_id": 78873684, "body": "Related documentation is <a href=\"https://developer.apple.com/library/content/documentation/Security/Conceptual/AppSandboxDesignGuide/AppSandboxInDepth/AppSandboxInDepth.html#//apple_ref/doc/uid/TP40011183-CH3-SW17\" rel=\"nofollow noreferrer\">here</a>. I&#39;ve thought of using bundles as document (&#39;project&#39;) files but the files within the bundle should be easily accessible to the user, so a bundle would, once again, not be user-friendly."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1504092974, "post_id": 45957934, "comment_id": 78876590, "body": "&quot;to resolve this problem&quot;  I don&#39;t even see what a problem is."}, {"owner": {"reputation": 351, "user_id": 3576399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb965a73f15533f769db40023870f805?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Vandekerkhove", "link": "https://stackoverflow.com/users/3576399/bruno-vandekerkhove"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1504096243, "post_id": 45957934, "comment_id": 78879028, "body": "When opening a document file created by my app I have no permission to write to the enclosing directory. If you open an <code>.xcodeproj</code> file XCode can obviously write to the enclosing directory. I want that functionality, rather than having to ask the user for permission."}, {"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1504097054, "post_id": 45957934, "comment_id": 78879629, "body": "&quot;If you open an .xcodeproj file XCode can obviously write to the enclosing directory. I want that functionality...&quot;  I don&#39;t know how you open one.  If you are talking about opening a file by double-clicking on one, you can do that."}, {"owner": {"reputation": 351, "user_id": 3576399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb965a73f15533f769db40023870f805?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Vandekerkhove", "link": "https://stackoverflow.com/users/3576399/bruno-vandekerkhove"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1504113406, "post_id": 45957934, "comment_id": 78891420, "body": "The enclosing directory of the <code>.xcodeproj</code> file contains subdirectories with source code files. XCode can access those without needing permission ; you only need to double-click the <code>.xcodeproj</code> file and XCode allows you to edit any source file residing in the same directory as the <code>.xcodeproj</code> file. That kind of functionality is the kind I wanted for my app, but a sandboxed app only has permission to write to those files/directories the user pointed to, and not to any files/directories residing in the same directory, so it appears to be impossible."}], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1504096247, "creation_date": 1504096247, "answer_id": 45960491, "question_id": 45957934, "link": "https://stackoverflow.com/questions/45957934/writing-to-a-documents-enclosing-folder/45960491#45960491", "title": "Writing to a document&#39;s enclosing folder", "body": "<blockquote>\n  <p>If the project file is moved to a new directory it makes no sense to keep writing to the old directory, and I'd have to ask the user for permission to write to the new directory. I don't find this user-friendly. Is there absolutely no way to resolve this problem? </p>\n</blockquote>\n\n<p>Unfortunately for you this is Apple's sandbox model and you need to adapt to it. The process you describe is a good way to handle your situation - when you first create a project file ask the user to select the folder to store it and save a bookmark to that folder, when an existing project file is opened check whether you have a saved bookmark for its parent folder and if not put up a dialog explaining the file has been moved and ask the user for permission to use the new parent folder and keep a bookmark to it.</p>\n\n<p>Users are used to these dialogs from apps, the sandbox has been around a long time. You might find keeping a number of saved bookmarks and optimising your collection will improve your users experience. E.g. remember that a bookmark to a folder grants access to all the files and folders within it, and the files/folders within those folders, etc. This means if a user reorganises by moving projects into sub folders may not require you to ask for a new bookmark, and similarly when a new bookmark is acquired any existing ones you have stored to folders contained by the new bookmark's folder are redundant and can be removed from your collection of stored bookmarks.</p>\n\n<p>Not the answer you really wanted, but hope it helps!</p>\n"}], "owner": {"reputation": 351, "user_id": 3576399, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fb965a73f15533f769db40023870f805?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno Vandekerkhove", "link": "https://stackoverflow.com/users/3576399/bruno-vandekerkhove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "accepted_answer_id": 45960491, "answer_count": 1, "score": 1, "last_activity_date": 1504096247, "creation_date": 1504088715, "last_edit_date": 1504089855, "question_id": 45957934, "link": "https://stackoverflow.com/questions/45957934/writing-to-a-documents-enclosing-folder", "title": "Writing to a document&#39;s enclosing folder", "body": "<p>When you open an XCode project it can automatically write to the enclosing folder of the respective <code>.xcodeproj</code> file.</p>\n\n<p>In a sandboxed application you can only write to files that are opened, or write to directories that have been opened with <code>NSOpenPanel</code>.</p>\n\n<p>What I'm trying to achieve is the same functionality as XCode ; my app makes a project file (a document much like an <code>.xcodeproj</code> file) that is saved to a user-selected directory, and within that directory other files are created relating to that project file. However, if the file is re-opened after terminating the app, I end up losing permission to write to the enclosing directory.</p>\n\n<p>I see bookmarks are an option but they do not provide the same functionality. If the project file is moved to a new directory it makes no sense to keep writing to the old directory, and I'd have to ask the user for permission to write to the new directory. I don't find this user-friendly. Is there absolutely no way to resolve this problem? </p>\n"}, {"tags": ["ios", "objective-c", "healthkit"], "answers": [{"comments": [{"owner": {"reputation": 756, "user_id": 5395919, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5f72d301f78b5e7fd5121598c42f09ce?s=128&d=identicon&r=PG&f=1", "display_name": "G.Abhisek", "link": "https://stackoverflow.com/users/5395919/g-abhisek"}, "edited": false, "score": 0, "creation_date": 1504172483, "post_id": 45978100, "comment_id": 78915156, "body": "Thanks for your response. I will try the code and let you know."}, {"owner": {"reputation": 3062, "user_id": 1402301, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4d707d5976280a9126299cce9507b44d?s=128&d=identicon&r=PG", "display_name": "coolcool1994", "link": "https://stackoverflow.com/users/1402301/coolcool1994"}, "edited": false, "score": 0, "creation_date": 1508082624, "post_id": 45978100, "comment_id": 80459087, "body": "self.lastAnchor is undefined"}, {"owner": {"reputation": 100, "user_id": 6751452, "user_type": "registered", "profile_image": "https://graph.facebook.com/1141658549228313/picture?type=large", "display_name": "Avinash Kumar Gautam", "link": "https://stackoverflow.com/users/6751452/avinash-kumar-gautam"}, "edited": false, "score": 0, "creation_date": 1510899647, "post_id": 45978100, "comment_id": 81640702, "body": "You can use start date as anchor and it should work."}, {"owner": {"reputation": 3062, "user_id": 1402301, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4d707d5976280a9126299cce9507b44d?s=128&d=identicon&r=PG", "display_name": "coolcool1994", "link": "https://stackoverflow.com/users/1402301/coolcool1994"}, "edited": false, "score": 0, "creation_date": 1515186501, "post_id": 45978100, "comment_id": 83219197, "body": "it doesn&#39;t - Incompatible pointer types sending &#39;NSDate *&#39; to parameter of type &#39;HKQueryAnchor * _Nullable"}], "tags": [], "owner": {"reputation": 100, "user_id": 6751452, "user_type": "registered", "profile_image": "https://graph.facebook.com/1141658549228313/picture?type=large", "display_name": "Avinash Kumar Gautam", "link": "https://stackoverflow.com/users/6751452/avinash-kumar-gautam"}, "is_accepted": true, "score": 4, "last_activity_date": 1591323643, "last_edit_date": 1591323643, "creation_date": 1504172069, "answer_id": 45978100, "question_id": 45957689, "link": "https://stackoverflow.com/questions/45957689/hkstatisticscollectionquery-for-fetching-heart-rate-health-kit/45978100#45978100", "title": "HKStatisticsCollectionQuery for fetching Heart Rate Health Kit", "body": "<p>Problem in not where you thought, The results are returned with statistical query, but in case of heart rate, it does not give heart beat quantity along with that, so <code>HKQuantity *quantity = result.sumQuantity;</code> returns nil.</p>\n\n<p>If you will check properly, you will see that <code>results.statistics</code> will give you some data about recorded heart rate, but no heart rate quantity, rather only, the start and end dates for the recorded data.</p>\n\n<p>I would suggest, go ahead and  you <code>HKAnchoredQuery</code> for the same, I will provide the code, here:</p>\n\n<pre><code>-(double)get_heartRates\n    {\n    //code to heart beats average, modify as needed\n    NSDate *startDate1 = [NSDate distantPast];\n    NSPredicate *Predicate = [HKQuery predicateForSamplesWithStartDate:startDate1 endDate:[NSDate date] options:HKQueryOptionStrictEndDate];\n    HKSampleType *object = [HKSampleType quantityTypeForIdentifier:HKQuantityTypeIdentifierHeartRate];\n\n    sum_Of_HeartRates=0.0;\n\n    HKAnchoredObjectQuery  *heartQuery = [[HKAnchoredObjectQuery alloc] initWithType:object predicate:Predicate anchor:self.lastAnchor limit:0 resultsHandler:^(HKAnchoredObjectQuery *query, NSArray&lt;HKSample *&gt; *sampleObjects, NSArray&lt;HKDeletedObject *&gt; *deletedObjects, HKQueryAnchor *newAnchor, NSError *error) {\n\n        NSLog(@\"Sample counts:%ld\",sampleObjects.count);\n        for(int i=0;i&lt;(int)sampleObjects.count;i++)\n        {\n            HKQuantitySample *sample = (HKQuantitySample *)[sampleObjects objectAtIndex:i];\n            HKQuantity *quantity = sample.quantity;\n            double bpm_Values= [quantity doubleValueForUnit:[HKUnit unitFromString:@\"count/min\"]];\n            sum_Of_HeartRates=sum_Of_HeartRates+bpm_Values;\n\n        }\n        avg_heartBeats=sum_Of_HeartRates/(int)sampleObjects.count;\n    }];\n    [heartQuery setUpdateHandler:^(HKAnchoredObjectQuery *query, NSArray&lt;HKSample *&gt; *SampleArray, NSArray&lt;HKDeletedObject *&gt; *deletedObjects, HKQueryAnchor *Anchor, NSError *error) {\n\n        HKQuantitySample *sample = (HKQuantitySample *)[SampleArray objectAtIndex:0];\n        HKQuantity *quantity = sample.quantity;\n        new_Updated_Data =[quantity doubleValueForUnit:[HKUnit unitFromString:@\"count/min\"]];\n        NSLog(@\"new quantity:%f\",new_Updated_Data);\n    }];\n    [self.healthStore executeQuery:heartQuery];\n    NSLog(@\"updated data %f\",new_Updated_Data);\n    return avg_heartBeats;\n}\n</code></pre>\n"}], "owner": {"reputation": 756, "user_id": 5395919, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5f72d301f78b5e7fd5121598c42f09ce?s=128&d=identicon&r=PG&f=1", "display_name": "G.Abhisek", "link": "https://stackoverflow.com/users/5395919/g-abhisek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 1, "accepted_answer_id": 45978100, "answer_count": 1, "score": 1, "last_activity_date": 1591323643, "creation_date": 1504088013, "question_id": 45957689, "link": "https://stackoverflow.com/questions/45957689/hkstatisticscollectionquery-for-fetching-heart-rate-health-kit", "title": "HKStatisticsCollectionQuery for fetching Heart Rate Health Kit", "body": "<p>I have been trying for a while for fetching heart rate in order to plot in a graph. As mentioned in docs heart rate can be fetched by HKStatisticsCollectionQuery. I am trying to fetch a week's data from current date. </p>\n\n<p>But I am unable to get the fetched data. Here is my code below for heart rate accessing using HKStatisticsCollectionQuery :</p>\n\n<pre><code>NSCalendar *calendar = [NSCalendar currentCalendar];\nNSDateComponents *interval = [[NSDateComponents alloc] init];\nNSDate *anchorDate = [[NSDate alloc] init];\nNSDateComponents *anchorComponents =\n    [calendar components:NSCalendarUnitDay | NSCalendarUnitMonth |\n     NSCalendarUnitYear | NSCalendarUnitWeekday fromDate:[NSDate date]];\n\nNSDate *currentDisplayEndDate = [NSDate date];\nNSDate *newDate = [calendar startOfDayForDate: currentDisplayEndDate];  NSDate *startDate = [newDate dateByAddingTimeInterval:-6*24*60*60];\nanchorDate = startDate;\n NSPredicate *predicate = [HKQuery predicateForSamplesWithStartDate:self.startDate endDate:_currentDisplayEndDate options:HKQueryOptionStrictStartDate];\n\nHKQuantityType *quantityType =\n    [HKObjectType quantityTypeForIdentifier:quantityId];\n\n    // Create the query\n\n    HKStatisticsCollectionQuery *query =\n    [[HKStatisticsCollectionQuery alloc]\n     initWithQuantityType:quantityType\n     quantitySamplePredicate:predicate\n     options:HKStatisticsOptionDiscreteMax\n     anchorDate:anchorDate\n     intervalComponents: interval];\n\n    // Set the results handler\n    query.initialResultsHandler =\n    ^(HKStatisticsCollectionQuery *query, HKStatisticsCollection *results, NSError *error) {\n\n        if (error) {\n            // Perform proper error handling here\n            NSLog(@\"*** An error occurred while calculating the statistics: %@ ***\",\n                  error.localizedDescription);\n        }\n        [results\n enumerateStatisticsFromDate:startDate\n toDate:endDate\n withBlock:^(HKStatistics *result, BOOL *stop) {\n\n     HKQuantity *quantity = result.sumQuantity;\n     if (quantity) {\n         NSDate *date = result.startDate;\n         double value = [quantity doubleValueForUnit:[[HKUnit unitFromString:@\"count/min\"]];\n\n         // Call a custom method to plot each data point.\n     }\n\n }];\n    };\n\n    [healthStore executeQuery:query];\n</code></pre>\n\n<p>My <code>HKStatistics *results</code> is returned as nil.Am I doing something wrong over here? </p>\n"}, {"tags": ["ios", "objective-c", "swift3"], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 6840452, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/6nb3o.jpg?s=128&g=1", "display_name": "Asif Raza", "link": "https://stackoverflow.com/users/6840452/asif-raza"}, "edited": false, "score": 0, "creation_date": 1504089642, "post_id": 45957987, "comment_id": 78874109, "body": "This has been deprecated in iOS 5."}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "reply_to_user": {"reputation": 710, "user_id": 6840452, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/6nb3o.jpg?s=128&g=1", "display_name": "Asif Raza", "link": "https://stackoverflow.com/users/6840452/asif-raza"}, "edited": false, "score": 0, "creation_date": 1504089864, "post_id": 45957987, "comment_id": 78874240, "body": "did you checked your device UDID?"}, {"owner": {"reputation": 710, "user_id": 6840452, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/6nb3o.jpg?s=128&g=1", "display_name": "Asif Raza", "link": "https://stackoverflow.com/users/6840452/asif-raza"}, "edited": false, "score": 0, "creation_date": 1504090714, "post_id": 45957987, "comment_id": 78874908, "body": "I am working on iOS 9 and above. And there is no way to get UDID. If you know, please tell me."}], "tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": false, "score": 0, "last_activity_date": 1504088874, "creation_date": 1504088874, "answer_id": 45957987, "question_id": 45957608, "link": "https://stackoverflow.com/questions/45957608/how-to-get-an-unique-id-for-a-device-iphone-ipad-appletv-etc-programmatically/45957987#45957987", "title": "How to get an unique id for a device (iPhone/iPad/AppleTV, etc) programmatically?", "body": "<p>You are trying to get UUID, its related to application unique identifier. Try to get UDID.</p>\n"}], "owner": {"reputation": 710, "user_id": 6840452, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/6nb3o.jpg?s=128&g=1", "display_name": "Asif Raza", "link": "https://stackoverflow.com/users/6840452/asif-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 664, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504089757, "creation_date": 1504087799, "last_edit_date": 1504089757, "question_id": 45957608, "link": "https://stackoverflow.com/questions/45957608/how-to-get-an-unique-id-for-a-device-iphone-ipad-appletv-etc-programmatically", "title": "How to get an unique id for a device (iPhone/iPad/AppleTV, etc) programmatically?", "body": "<p>How to get an unique id of a device like iPhone/iPad/AppleTV, etc programmatically?</p>\n\n<p>I have tried below code in objective-c and swift both as mentioned below: - </p>\n\n<p>Objective-c: <code>[[[UIDevice currentDevice] identifierForVendor] UUIDString]</code></p>\n\n<p>Swift 3: <code>UIDevice.current.identifierForVendor!.uuidString</code></p>\n\n<p>It gives me an identifier UUID. But I got some cases when it gives different identifier UUID as explained below: -</p>\n\n<p>Suppose you installed app in device then it gives a UUID like <strong>30C0DA8A-B35F-45B1-98DA-6D766CB42F1D</strong>, if you re-installed without deleting app from device it gives the same UUID. I tried multiple times.\nNow again install the same app after deleting the app from device then it gives different identifier UUID like <strong>87CDC5C0-E744-4D60-9002-FA15BBBB6EDA</strong>.</p>\n\n<p>So this is not fulfilling the uniqueness identifier UUID requirement for a particular device. </p>\n\n<p><strong>Question:</strong> I need a UNIQUE Identifier for a particular device like Serial Number, IMEI, etc. Which always be unique whenever user installed app anytime. </p>\n\n<p>I have also followed <a href=\"https://gist.github.com/0xced/566994\" rel=\"nofollow noreferrer\">https://gist.github.com/0xced/566994</a>, but someone said that this will not be accepted by Apple Store. <strong>Is it true?</strong></p>\n\n<p>I can't store any data in NSUserDefault/CoreData etc because these also deleted when user deletes app from device.</p>\n\n<p><strong>How can I get an unique identifier for single device which should persist after app uninstall/reinstall?</strong></p>\n\n<p>Please help. Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 3123, "user_id": 4078527, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-HeG1vQcgsaw/AAAAAAAAAAI/AAAAAAAAD_4/gNvDWz1u3Bk/photo.jpg?sz=128", "display_name": "Bhavin Ramani", "link": "https://stackoverflow.com/users/4078527/bhavin-ramani"}, "edited": false, "score": 4, "creation_date": 1504086676, "post_id": 45957150, "comment_id": 78872151, "body": "In simulator press command+1. It is not issue of tableview."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 1, "creation_date": 1504086715, "post_id": 45957150, "comment_id": 78872186, "body": "Window-&gt;Scale-&gt;100%  - your window is small zoom and chekck once"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 3123, "user_id": 4078527, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-HeG1vQcgsaw/AAAAAAAAAAI/AAAAAAAAD_4/gNvDWz1u3Bk/photo.jpg?sz=128", "display_name": "Bhavin Ramani", "link": "https://stackoverflow.com/users/4078527/bhavin-ramani"}, "edited": false, "score": 0, "creation_date": 1504086753, "post_id": 45957150, "comment_id": 78872223, "body": "@BhavinRamani thanks for reply, but I am not using a simulator, I am using a device to develop and that screen shot is captured on an iphone device"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1504086783, "post_id": 45957150, "comment_id": 78872250, "body": "see this for sample <a href=\"https://stackoverflow.com/questions/3601013/uitableviewcell-separator-not-showing-up\" title=\"uitableviewcell separator not showing up\">stackoverflow.com/questions/3601013/&hellip;</a>"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1504086879, "post_id": 45957150, "comment_id": 78872324, "body": "@Anbu.Karthik thanks for reply, have read that question before post this one, the OP&#39;s problem on that question is none line was showing, my problem is some lines a missing, it maybe not the same problem."}, {"owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "edited": false, "score": 0, "creation_date": 1504086993, "post_id": 45957150, "comment_id": 78872391, "body": "Are  you create tableview in Interface builder or by code"}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "edited": false, "score": 0, "creation_date": 1504087094, "post_id": 45957150, "comment_id": 78872450, "body": "@AbdelahadDarwish by code and the code was posted. check it out"}, {"owner": {"reputation": 364, "user_id": 7352307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6750389d430dd765d338ec0bc32b73f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhang", "link": "https://stackoverflow.com/users/7352307/zhang"}, "edited": false, "score": 2, "creation_date": 1504087319, "post_id": 45957150, "comment_id": 78872595, "body": "Separator line is covered by label. try move subviews to <code>cell.contentView</code>."}, {"owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "edited": false, "score": 0, "creation_date": 1504087416, "post_id": 45957150, "comment_id": 78872639, "body": "change UITableViewCellStyleSubtitle  to UITableViewCellStyleDefault and make label background color is clear"}, {"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1504087685, "post_id": 45957150, "comment_id": 78872815, "body": "remove separator line and add UILabel with 1px height at end of the cell and set background colour black or light gray (or whatever you color want)."}, {"owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "reply_to_user": {"reputation": 364, "user_id": 7352307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6750389d430dd765d338ec0bc32b73f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhang", "link": "https://stackoverflow.com/users/7352307/zhang"}, "edited": false, "score": 0, "creation_date": 1504087732, "post_id": 45957150, "comment_id": 78872851, "body": "@melvyndev changing to <code>[cell.contentView addSubview:imageView];     [cell.contentView addSubview:label];</code> will cause all content missing and the row left blank."}, {"owner": {"reputation": 364, "user_id": 7352307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6750389d430dd765d338ec0bc32b73f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhang", "link": "https://stackoverflow.com/users/7352307/zhang"}, "edited": false, "score": 0, "creation_date": 1504143527, "post_id": 45957150, "comment_id": 78902850, "body": "Remove subviews from contentView not cell"}], "answers": [{"tags": [], "owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "is_accepted": false, "score": 3, "last_activity_date": 1504087631, "creation_date": 1504087631, "answer_id": 45957546, "question_id": 45957150, "link": "https://stackoverflow.com/questions/45957150/uitableview-some-separator-line-missing/45957546#45957546", "title": "UITableView some separator line missing", "body": "<p>you can do another way,</p>\n\n<ul>\n<li>remove separator line</li>\n<li>add UILabel with 1px height at end of the cell and set background colour black or light gray (or whatever you want).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504091095, "creation_date": 1504091095, "answer_id": 45958749, "question_id": 45957150, "link": "https://stackoverflow.com/questions/45957150/uitableview-some-separator-line-missing/45958749#45958749", "title": "UITableView some separator line missing", "body": "<p>write this line in cellforrowatindexPath</p>\n\n<pre><code>  cell.selectionStyle=UITableViewStylePlain;\n</code></pre>\n\n<p>and drag n drop a UILabel with view controller Width And Height 1px at the bottom of the content view see the blue line in image</p>\n\n<p>do stuff in storyboard</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZufSC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZufSC.png\" alt=\"enter image description here\"></a> </p>\n\n<p>After reloading table on Device,See image</p>\n\n<p><a href=\"https://i.stack.imgur.com/3e4TZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3e4TZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 445, "user_id": 8036351, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wse--X8_zdI/AAAAAAAAAAI/AAAAAAAAAC0/Az3cTyeHviM/photo.jpg?sz=128", "display_name": "Nikita Alexander", "link": "https://stackoverflow.com/users/8036351/nikita-alexander"}, "is_accepted": false, "score": 7, "last_activity_date": 1528551741, "creation_date": 1528551741, "answer_id": 50774900, "question_id": 45957150, "link": "https://stackoverflow.com/questions/45957150/uitableview-some-separator-line-missing/50774900#50774900", "title": "UITableView some separator line missing", "body": "<p>It looks like you're using a custom cell class.\nIf you are overriding the <code>layoutSubviews()</code> method in your cell class implementation, make sure that in the method you have the following:</p>\n\n<pre><code>super.layoutSubviews()\n</code></pre>\n\n<p>or in Objective-C:</p>\n\n<pre><code>[super layoutSubviews];\n</code></pre>\n\n<p>That solved the problem for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 8201581, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mLsGhaTQn6M/AAAAAAAAAAI/AAAAAAAAAGQ/neZNNI3KxGg/photo.jpg?sz=128", "display_name": "Yogesh Patel", "link": "https://stackoverflow.com/users/8201581/yogesh-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1559043397, "creation_date": 1559043397, "answer_id": 56341369, "question_id": 45957150, "link": "https://stackoverflow.com/questions/45957150/uitableview-some-separator-line-missing/56341369#56341369", "title": "UITableView some separator line missing", "body": "<p>On my case, it was the Clip To Bounds on the custom UITableViewCell. Accidentally deselected it from the storyboard. Then again setting Clip To Bounds to true resolve this issue. Please do this thing it solve your issue.</p>\n\n<p>Objective-C</p>\n\n<pre><code>[cell setClipToBound: YES];\n</code></pre>\n\n<p>Swift</p>\n\n<pre><code>cell.clipToBound = true\n</code></pre>\n\n<p>Storyboard :-</p>\n\n<p>UITableViewCell OR UITableViewCell XIB</p>\n\n<p><a href=\"https://i.stack.imgur.com/tzXgn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tzXgn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank You.</p>\n"}], "owner": {"reputation": 6945, "user_id": 2288944, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7qryD.jpg?s=128&g=1", "display_name": "armnotstrong", "link": "https://stackoverflow.com/users/2288944/armnotstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1801, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1559043397, "creation_date": 1504086570, "last_edit_date": 1592644375, "question_id": 45957150, "link": "https://stackoverflow.com/questions/45957150/uitableview-some-separator-line-missing", "title": "UITableView some separator line missing", "body": "<p>I am using code to build a uitableview like this:</p>\n<pre><code>UITableView *tableView = [[UITableView alloc]initWithFrame:CGRectMake(0, 290, [UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height - 290)]; \ntableView.delegate = self;\ntableView.dataSource = self;\n[tableView registerClass:[UITableViewCell class] forCellReuseIdentifier:@&quot;settingtabcell&quot;];\n</code></pre>\n<p>And the dataresource and viewdelegate</p>\n<pre><code>- (UITableViewCell *) tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{\n    static NSString *CellIdentifier = @&quot;settingtabcell&quot;;\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n    \n    if (cell == nil) {\n        cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];\n    }else{\n        for(UIView *subview in cell.subviews){\n            [subview removeFromSuperview];\n        }\n    }\n    UILabel *label = [[UILabel alloc]initWithFrame:CGRectMake(70, 0, [UIScreen mainScreen].bounds.size.width - 20, 90)];\n    UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(10, 30, 32, 32)];\n    \n    switch (indexPath.row) {\n        case 0:\n            label.text = @&quot;Copyright information&quot;;\n            imageView.image = [UIImage imageNamed:@&quot;copyright.png&quot;];\n            break;\n        case 1:\n            label.text = @&quot;Clear cache&quot;;\n            imageView.image = [UIImage imageNamed:@&quot;clearcache.png&quot;];\n            break;\n        case 2:\n            label.text = @&quot;Feedback&quot;;\n            imageView.image = [UIImage imageNamed:@&quot;feedback.png&quot;];\n            break;\n        case 3:\n            label.text = @&quot;About us&quot;;\n            imageView.image = [UIImage imageNamed:@&quot;about.png&quot;];\n            \n        default:\n            break;\n    }\n    cell.selectionStyle = UITableViewCellSelectionStyleNone;\n    [cell addSubview:imageView];\n    [cell addSubview:label];\n    return cell;\n}\n\n-(NSInteger) tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{\n    return 4;\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{\n    return 90;\n}\n</code></pre>\n<p>The thing is some separator line is missing and some are not, this really confusing me.</p>\n<p><a href=\"https://i.stack.imgur.com/8gEOO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8gEOO.png\" alt=\"enter image description here\" /></a></p>\n<p>So what may have caused this problem?</p>\n<h2>EDIT</h2>\n<p>To those who may concern, this screenshot is not on a simulator but was captured on an ihpone device.</p>\n<p>And the line was originally showed except that after scrolling down and bouncing back, the line was missing.</p>\n"}, {"tags": ["ios", "objective-c", "restkit-0.20"], "answers": [{"comments": [{"owner": {"reputation": 51110, "user_id": 106435, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/11155673de94185c4ea775c87d2c8aeb?s=128&d=identicon&r=PG", "display_name": "vikingosegundo", "link": "https://stackoverflow.com/users/106435/vikingosegundo"}, "reply_to_user": {"reputation": 21, "user_id": 1150626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f4901149eaf89cd5f934283a45f1c2f?s=128&d=identicon&r=PG", "display_name": "Robert Turrall", "link": "https://stackoverflow.com/users/1150626/robert-turrall"}, "edited": false, "score": 0, "creation_date": 1504086475, "post_id": 45956753, "comment_id": 78872006, "body": "@RobertTurrall: looking on rajat other answers, it seems, as if he just throws random answers on any question."}, {"owner": {"reputation": 21, "user_id": 1150626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f4901149eaf89cd5f934283a45f1c2f?s=128&d=identicon&r=PG", "display_name": "Robert Turrall", "link": "https://stackoverflow.com/users/1150626/robert-turrall"}, "reply_to_user": {"reputation": 51110, "user_id": 106435, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/11155673de94185c4ea775c87d2c8aeb?s=128&d=identicon&r=PG", "display_name": "vikingosegundo", "link": "https://stackoverflow.com/users/106435/vikingosegundo"}, "edited": false, "score": 0, "creation_date": 1504176417, "post_id": 45956753, "comment_id": 78917924, "body": "@vikingosegundo apparently so, yes. It certainly doesn&#39;t bring me any closer to a solution!"}], "tags": [], "owner": {"reputation": 1, "user_id": 6670939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8021827290b1817f4173fe89c8b8d91?s=128&d=identicon&r=PG&f=1", "display_name": "rajat kumar", "link": "https://stackoverflow.com/users/6670939/rajat-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1504085409, "creation_date": 1504085409, "answer_id": 45956753, "question_id": 45955744, "link": "https://stackoverflow.com/questions/45955744/restkit-0-20-using-patchobject-and-passing-an-image-attachment/45956753#45956753", "title": "RestKit 0.20 - using patchObject and passing an image attachment", "body": "<pre><code>+(void)postMutliPartData : (NSString *)urlStr : (NSDictionary *)parameters : (NSData *)data : (void(^)(NSDictionary * response_success))success : (void(^)(NSError * response_error))failure {\nAFHTTPSessionManager *manager = [AFHTTPSessionManager manager];\n\nmanager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@\"application/json\", nil];\n[manager POST:urlStr parameters:parameters constructingBodyWithBlock:^(id&lt;AFMultipartFormData&gt; formData)\n {\n     [formData appendPartWithFileData: data name:@\"image\" fileName:@\"temp.jpeg\" mimeType:@\"image/jpeg\"];\n\n } progress:nil success:^(NSURLSessionTask *task, id responseObject) {\n\n     NSLog(@\"%@\",responseObject);\n      success(responseObject);\n\n } failure:^(NSURLSessionTask *operation, NSError *error) {\n     failure(error);\n }];    \n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 1150626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f4901149eaf89cd5f934283a45f1c2f?s=128&d=identicon&r=PG", "display_name": "Robert Turrall", "link": "https://stackoverflow.com/users/1150626/robert-turrall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504085409, "creation_date": 1504082368, "question_id": 45955744, "link": "https://stackoverflow.com/questions/45955744/restkit-0-20-using-patchobject-and-passing-an-image-attachment", "title": "RestKit 0.20 - using patchObject and passing an image attachment", "body": "<p>I'm performing a patchObject call using the following, based on examples (there are very few) I found:</p>\n\n<pre><code>[[RKObjectManager sharedManager] patchObject:user path:@\"profile\" parameters:nil success:^(RKObjectRequestOperation *operation, RKMappingResult *result) {\n\n    // saving data locally and continuing...    \n\n} failure:^(RKObjectRequestOperation *operation, NSError *error) {\n    NSLog(@\"Failed with error: %@\", [error localizedDescription]);\n}];\n</code></pre>\n\n<p>... but I need also to pass an image. The usual way of adding an image parameter is to add it to a request and then assign this to the operation to be used, i.e.:</p>\n\n<pre><code>request = [[RKObjectManager sharedManager] multipartFormRequestWithObject:user\n                                                                       method:RKRequestMethodPOST\n                                                                         path:@\"profile\"\n                                                                   parameters:nil\n                                                    constructingBodyWithBlock:^(id&lt;AFRKMultipartFormData&gt; formData) {\n                                                        [formData appendPartWithFileData:UIImagePNGRepresentation(self.photoImageView.image)\n                                                                                    name:@\"user[avatar]\"\n                                                                                fileName:@\"photo.png\"\n                                                                                mimeType:@\"image/png\"];\n                                                    }];\nRKManagedObjectRequestOperation *operation = [[RKManagedObjectRequestOperation alloc] initWithRequest:request responseDescriptors:@[responseDescriptor, errorDescriptor]];\noperation.managedObjectContext = [RKManagedObjectStore defaultStore].mainQueueManagedObjectContext;\noperation.managedObjectCache = [RKManagedObjectStore defaultStore].managedObjectCache;\n// etc...\n</code></pre>\n\n<p>As the patchObject method doesn't give me the ability to define the operation (or, therefore, request) being used, I can't see how I can add the image data to the API call.</p>\n\n<p>Previously available methods allowing the image to be defined within a block when performing the patchObject don't seem to exist in RestKit anymore.</p>\n\n<p>Any thoughts? I'd be grateful for any tips on how to do this!</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "react-native"], "owner": {"reputation": 61, "user_id": 8052123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e88343bb8c0f8164b6ec3b58fdd2a3b9?s=128&d=identicon&r=PG&f=1", "display_name": "piuholo", "link": "https://stackoverflow.com/users/8052123/piuholo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 718, "favorite_count": 0, "answer_count": 0, "score": 6, "last_activity_date": 1504089754, "creation_date": 1504080791, "last_edit_date": 1504089754, "question_id": 45955250, "link": "https://stackoverflow.com/questions/45955250/how-to-ask-ios-for-more-background-execution-time-with-beginbackgroundtask-on-re", "title": "How to ask iOS for more background execution time with beginBackgroundTask on React Native application", "body": "<p>I need all of the execution time iOS can give to the application while it is not on the foreground / active. Most of the applications are suspended as soon as they're moved to the background state, but it is possible to request more execution time on background with \n<code>beginBackgroundTaskWithName:expirationHandler:</code> or\n<code>beginBackgroundTaskWithExpirationHandler:</code>. Even though the system might suspend or terminate the app if needed, this extra background execution time might extend up to three minutes.</p>\n\n<p>The process seems straightforward on native iOS applications, but I have problems making a Native Module for React Native application that can start/finish these background tasks.</p>\n\n<p><a href=\"http://developer.radiusnetworks.com/2014/11/13/extending-background-ranging-on-ios.html\" rel=\"noreferrer\">This article</a> explains very similar case where system is asked for more background execution time to range beacons.</p>\n\n<p>My goal is to ask for execution time in a similar manner on the Javascript code in React Native by using a native module for iOS.</p>\n\n<p>I am able to get simpler native modules work with React Native by using the methods described in <a href=\"https://facebook.github.io/react-native/docs/native-modules-ios.html\" rel=\"noreferrer\">the documentation</a>.</p>\n\n<p>I couldn't get the calls to the UIApplication <code>beginBackgroundTaskWithName</code> or <code>endBackgroundTask</code> with <code>RCT_EXPORT_METHOD()</code> duo to the references to the background task in question.</p>\n\n<p>I have also tried to just export the methods of code in the article above is this manner, but it obviously does not work. </p>\n\n<pre><code>#import &lt;CoreLocation/CoreLocation.h&gt;\n#import \"BackgroundIOS.h\"\n#import &lt;React/RCTLog.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\n@implementation BackgroundIOS\n\nRCT_EXPORT_MODULE();\n\nstatic BOOL _inBackground;\nstatic _backgroundTask = nil;\n\n\nRCT_EXPORT_METHOD(locationManager:(CLLocationManager *)manager didDetermineState:(CLRegionState)state forRegion:(CLRegion *)region)\n{\n  if (_inBackground) {\n    [self extendBackgroundRunningTime];\n  }\n}\n\nRCT_EXPORT_METHOD(applicationDidEnterBackground:(UIApplication *)application)\n{\n  [self extendBackgroundRunningTime];\n  _inBackground = YES;\n}\n\nRCT_EXPORT_METHOD(applicationDidBecomeActive:(UIApplication *)application)\n{\n  _inBackground = NO;\n}\n\nRCT_EXPORT_METHOD(extendBackgroundRunningTime) {\n  if (_backgroundTask != UIBackgroundTaskInvalid) {\n    // if we are in here, that means the background task is already running.\n    // don't restart it.\n    return;\n  }\n  NSLog(@\"Attempting to extend background running time\");\n\n  __block Boolean self_terminate = YES;\n\n  _backgroundTask = [[UIApplication sharedApplication] beginBackgroundTaskWithName:@\"DummyTask\" expirationHandler:^{\n    NSLog(@\"Background task expired by iOS\");\n    if (self_terminate) {\n      [[UIApplication sharedApplication] endBackgroundTask:_backgroundTask];\n      _backgroundTask = UIBackgroundTaskInvalid;\n    }\n  }];\n\n  dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n    NSLog(@\"Background task started\");\n\n    while (true) {\n      NSLog(@\"background time remaining: %8.2f\", [UIApplication sharedApplication].backgroundTimeRemaining);\n      [NSThread sleepForTimeInterval:1];\n    }\n\n  });\n}\n\n@end\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>It seems like setting up the methods like this could work with the calls from JS:</p>\n\n<p>BackgroundIOS.h:</p>\n\n<pre><code>#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;UIKit/UIKit.h&gt;\n\n\n@interface BackgroundIOS : NSObject &lt;RCTBridgeModule&gt;\n\n@property UIBackgroundTaskIdentifier backgroundUpdateTask;\n\n@end\n</code></pre>\n\n<p>BackgroundIOS.m:</p>\n\n<pre><code>#import \"BackgroundIOS.h\"\n#import &lt;React/RCTLog.h&gt;\n\n@implementation BackgroundIOS\n\nRCT_EXPORT_MODULE();\n\nRCT_EXPORT_METHOD(beginBackgroundTask){\n  NSLog(@\"Background time in total: %f\",[[UIApplication sharedApplication] backgroundTimeRemaining]);\n  [self beginBackgroundUpdateTask];\n}\n\nRCT_EXPORT_METHOD(endBackgroundTask){\n  [self endBackgroundUpdateTask];\n  NSLog(@\"Background task ended.\");\n}\n\n- (void) beginBackgroundUpdateTask\n{\n  self.backgroundUpdateTask = [[UIApplication sharedApplication] beginBackgroundTaskWithExpirationHandler:^{\n    [self endBackgroundUpdateTask];\n  }];\n}\n\n- (void) endBackgroundUpdateTask\n{\n  [[UIApplication sharedApplication] endBackgroundTask: self.backgroundUpdateTask];\n  self.backgroundUpdateTask = UIBackgroundTaskInvalid;\n}\n\n@end\n</code></pre>\n"}, {"tags": ["objective-c", "macos", "cocoa", "nscombobox"], "comments": [{"owner": {"reputation": 2061, "user_id": 4056108, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/bb9e32af1316b5d49b7d45206c7ff720?s=128&d=identicon&r=PG", "display_name": "chirag90", "link": "https://stackoverflow.com/users/4056108/chirag90"}, "edited": false, "score": 2, "creation_date": 1504079084, "post_id": 45954241, "comment_id": 78867246, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21361766/any-example-about-custom-nscombobox\">Any example about custom NSComboBox?</a>"}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "reply_to_user": {"reputation": 2061, "user_id": 4056108, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/bb9e32af1316b5d49b7d45206c7ff720?s=128&d=identicon&r=PG", "display_name": "chirag90", "link": "https://stackoverflow.com/users/4056108/chirag90"}, "edited": false, "score": 0, "creation_date": 1504082211, "post_id": 45954241, "comment_id": 78869146, "body": "draw methods are not implementing custom drop down options, I have tried this link."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504176877, "post_id": 45954241, "comment_id": 78918218, "body": "Don&#39;t use <code>NSComboBox</code>, Use <code>NSTextField</code> and a button which shows a window or popover."}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "edited": false, "score": 0, "creation_date": 1504178061, "post_id": 45954241, "comment_id": 78919016, "body": "Yes, I have created a custom view acc. to requirements. But I am curious how can we implement NSComboBoxCell in OS X projects. What is the use of it?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504182471, "post_id": 45954241, "comment_id": 78922119, "body": "You can use <code>NSComboBoxCell</code> in controls where you can replace the cells but these controls are being deprecated."}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "edited": false, "score": 0, "creation_date": 1504238370, "post_id": 45954241, "comment_id": 78946032, "body": "but developer.apple is showing that it is implemented in mac OS 10.1 . <a href=\"https://developer.apple.com/documentation/appkit/nstextfieldcell\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/appkit/nstextfieldcell</a>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504348932, "post_id": 45954241, "comment_id": 78985864, "body": "macOS 10.0 is OS X 10.0 and this is a long time ago."}], "owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 573, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504153459, "creation_date": 1504077345, "last_edit_date": 1504153459, "question_id": 45954241, "link": "https://stackoverflow.com/questions/45954241/how-can-we-implement-custom-nscombobox-using-nscomboboxcell", "title": "How can we implement custom NSComboBox using NSComboBoxCell", "body": "<p>I am new to OS X. I am trying to implement a drop down using the NSComboBox. I need to customize that, for this, I found NSComboBoxCell component in the storyboard. But did not find the implementation steps for this.</p>\n\n<p>I need to open a drop down list with a label and check box button when the drop down expand.</p>\n\n<p>Can anyone tell me how can we customize the NSComboBoxCell in OS X.</p>\n\n<p>I want to customize the drop down list.</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 1, "creation_date": 1504077814, "post_id": 45954194, "comment_id": 78866498, "body": "Add more code please. We need to know how did you add these tableViews to your scrollView."}, {"owner": {"reputation": 3028, "user_id": 2241008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RYBCT.jpg?s=128&g=1", "display_name": "Anton  Malmygin", "link": "https://stackoverflow.com/users/2241008/anton-malmygin"}, "edited": false, "score": 1, "creation_date": 1504078799, "post_id": 45954194, "comment_id": 78867072, "body": "I am sorry, but why you need to use 2 table views inside a scroll view?? Why not just one table view with 2 sections - you can customise cells after."}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 7956211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yF8jP.jpg?s=128&g=1", "display_name": "Zeeshan Arif", "link": "https://stackoverflow.com/users/7956211/zeeshan-arif"}, "is_accepted": true, "score": 0, "last_activity_date": 1504078488, "creation_date": 1504078488, "answer_id": 45954571, "question_id": 45954194, "link": "https://stackoverflow.com/questions/45954194/two-tableviews-error-while-scrolling/45954571#45954571", "title": "Two tableviews error while scrolling", "body": "<p>Your question is incomplete But most common solution for this type of problem is to first stop the scrolling of one tableview before scrolling the other tableview</p>\n\n<pre><code>[tableView setContentOffset:tableView.contentOffset animated:NO];\n</code></pre>\n\n<p>if this doesn't work please share your crash logs </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6670939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8021827290b1817f4173fe89c8b8d91?s=128&d=identicon&r=PG&f=1", "display_name": "rajat kumar", "link": "https://stackoverflow.com/users/6670939/rajat-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1504085645, "creation_date": 1504085645, "answer_id": 45956842, "question_id": 45954194, "link": "https://stackoverflow.com/questions/45954194/two-tableviews-error-while-scrolling/45956842#45956842", "title": "Two tableviews error while scrolling", "body": "<p>it can't calculate the height to be provided simultaneously. the simple solution would be to make constraint outlet of its height and setting its constant programmatically.</p>\n\n<p>////////////\n@property (nonatomic, weak) NSLayoutConstraint *heightConstraint;</p>\n\n<p>///////////\nheightConstraint.constant = 100;</p>\n"}], "owner": {"reputation": 7, "user_id": 7637060, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/53d22cd19dcaf623631c236945b73619?s=128&d=identicon&r=PG&f=1", "display_name": "Venu Pendota", "link": "https://stackoverflow.com/users/7637060/venu-pendota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45954571, "answer_count": 2, "score": -1, "last_activity_date": 1504085645, "creation_date": 1504077126, "question_id": 45954194, "link": "https://stackoverflow.com/questions/45954194/two-tableviews-error-while-scrolling", "title": "Two tableviews error while scrolling", "body": "<p>i am using two tableviews adjacently on a scrollview.. </p>\n\n<p>scrollview - screen Width * 2   which can be scrollable horizontal only.\ntwo tableviews on it, only any one tableview appears in the screen for scrolls.</p>\n\n<p>for each tableview i am getting the data from server and i am saving it locally.</p>\n\n<p>the problem here is if the row count of tableview to which i want to show after scrolling, the program is crashing as it is taking the index value of previous one.</p>\n\n<p>suppose iam having 10 items in first tableview array and 20 in second tableview array.\nif i moved to second tableview and scrolls up to 20 index and if i scroll back to first table view while tableview is scrolling, it is searching for the index path 20. So i am getting the error.</p>\n\n<p>if i scroll back to first tableview when tableview is not scrolling i am not getting any error even if the current index path of second tableview is 20.</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath;\n{\n    if (selecetedSearchIndex == 0){\n        UITableViewCell *cell ;\n       // code for cell\n\n        return cell;\n    }\n    else{\n        UITableViewCell *cell ;\n       // code for cell\n\n        return cell;\n    }\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section;\n{\n    if (selecetedSearchIndex == 0)\n    {\n       return firstArr.count;\n    }\n    else{\n        return secondArr.count;\n    }\n}\n</code></pre>\n\n<p>// selecetedSearchIndex is the index value to identify the tableview showing on the screen</p>\n\n<p>Can anyone help me on this....</p>\n"}, {"tags": ["ios", "objective-c", "facebook", "react-native", "spotify"], "owner": {"reputation": 993, "user_id": 1253120, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/dc77d6f1f0f263ede56500b701077a00?s=128&d=identicon&r=PG", "display_name": "digitaldavenyc", "link": "https://stackoverflow.com/users/1253120/digitaldavenyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1510, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1504073025, "creation_date": 1504072646, "last_edit_date": 1504073025, "question_id": 45952936, "link": "https://stackoverflow.com/questions/45952936/react-native-eventemitter-not-registering-events", "title": "React Native EventEmitter not registering Events", "body": "<p>We are trying to repair a critical failure in an open source library for React Native Spotify by converting a method from using a callback to use React Native EventEmitter.</p>\n\n<p>Unfortunately our events are not being registered and are receiving this error message in xcode: <code>'TestEvent' is not a supported event type for RCTEventEmitter. Supported events are: '(null)'</code></p>\n\n<p>We have reviewed the documentation on how to implement a NativeEventEmitter and I believe we are following it pretty closely. The problem I think is with Objective-C and how we are including our <code>EventManager</code> class, the JavaScript side of this is really simple.</p>\n\n<p><code>// SpotifyLoginViewController.m</code></p>\n\n<pre><code>#import \"SpotifyLoginViewController.h\"\n#import \"AppDelegate.h\"\n#import \"SpotifyAuth.h\"\n\n@interface SpotifyLoginViewController () &lt;WKNavigationDelegate&gt;\n@property (strong, nonatomic) WKWebView *webView;\n@property(nonatomic) NSURL *login;\n\n@end\n\n@implementation SpotifyLoginViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    WKWebViewConfiguration *configuration = [[WKWebViewConfiguration alloc] init];\n    _webView = [[WKWebView alloc] initWithFrame:self.view.frame\n                                configuration:configuration];\n    _webView.navigationDelegate = self;\n    _webView.allowsBackForwardNavigationGestures = true;\n    [[NSURLCache sharedURLCache] removeAllCachedResponses];\n\n    [_webView loadRequest:[NSURLRequest requestWithURL:_login]];\n    self.view = _webView;\n\n}\n\n- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler {\n      id&lt;RCTBridgeDelegate&gt; module = [[EventManager alloc] init];\n      RCTBridge *bridge = [[RCTBridge alloc] initWithDelegate:module launchOptions:nil];\n\n      SpotifyAuth *sharedManager = [SpotifyAuth sharedManager];\n      NSURL *url = navigationAction.request.URL;\n      NSString *myScheme = [[sharedManager myScheme] stringByReplacingOccurrencesOfString:@\"://callback\" withString:@\"\"];\n      if ([url.scheme isEqualToString:myScheme]) {\n\n        RCTEventEmitter *event = [[RCTEventEmitter alloc] init];\n        event.bridge = bridge;\n        [event sendEventWithName:@\"TestEvent\" body:@{@\"name\":@\"metallica\"}];\n\n        decisionHandler(WKNavigationActionPolicyCancel);\n        return;\n      }\n      decisionHandler(WKNavigationActionPolicyAllow);\n    }\n</code></pre>\n\n<p><code>// EventManager.h</code></p>\n\n<pre><code>#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\n\n@interface EventManager : RCTEventEmitter &lt;RCTBridgeModule&gt;\n\n- (NSURL*)sourceURLForBridge:(RCTBridge*)bridge;\n\n@end\n</code></pre>\n\n<p><code>//  EventManager.m</code></p>\n\n<pre><code>#import \"EventManager.h\"\n#import &lt;React/RCTBundleURLProvider.h&gt;\n\n@implementation EventManager\n\nRCT_EXPORT_MODULE();\n\n- (NSArray&lt;NSString *&gt; *)supportedEvents {\n  return @[@\"TestEvent\"];\n}\n\n- (NSURL*)sourceURLForBridge:(RCTBridge*)bridge {\n  NSURL *jsCodeLocation;\n  jsCodeLocation = [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@\"index.ios\" fallbackResource:nil];\n  return jsCodeLocation;  // [NSURL URLWithString:@\"http://localhost:8081/index.ios.bundle?platform=ios\"];\n}\n\n@end\n</code></pre>\n\n<p><code>// player.js</code></p>\n\n<pre><code>import { NativeModules, NativeEventEmitter } from 'react-native';\nconst eventManager = new NativeEventEmitter(NativeModules.EventManager);\n\nsubscription = eventManager.addListener('TestEvent', (data) =&gt; {\n  console.log('the event fired!');\n  console.log(data);\n});\n</code></pre>\n\n<p>We are using RN <code>0.44.0</code></p>\n"}, {"tags": ["ios", "objective-c", "nsdate", "nspredicate"], "comments": [{"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504073108, "post_id": 45952868, "comment_id": 78863901, "body": "can you show your json format i.e response"}, {"owner": {"reputation": 1003, "user_id": 2970167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/430125970e20d55eda3a6a6b015cd4e6?s=128&d=identicon&r=PG&f=1", "display_name": "Idali", "link": "https://stackoverflow.com/users/2970167/idali"}, "edited": false, "score": 0, "creation_date": 1504210761, "post_id": 45952868, "comment_id": 78939063, "body": "You can try using range in your predicate with 2 dates that have respectively minTimeComponent and minTimeComponent."}], "owner": {"reputation": 39141, "user_id": 144695, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7c7abbaffe724a5eea63fcc50c0c1942?s=128&d=identicon&r=PG", "display_name": "Nic Hubbard", "link": "https://stackoverflow.com/users/144695/nic-hubbard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504072919, "creation_date": 1504072438, "last_edit_date": 1504072919, "question_id": 45952868, "link": "https://stackoverflow.com/questions/45952868/nspredicate-matching-self-in-date-without-time-components", "title": "NSPredicate matching SELF IN date without time components", "body": "<p>I am wanting to compare dates in an <code>NSPredicate</code> when using an <code>NSFetchRequest</code> in <code>Core Data</code>. I am using:</p>\n\n<pre><code>[NSPredicate predicateWithFormat:@\"SELF IN %@ AND dateFound == %@\", self.set.events, filterDate];\n</code></pre>\n\n<p><code>filterDate</code> is an <code>NSDate</code> object that has the time components set to 00. See: <a href=\"https://stackoverflow.com/questions/3916392/removing-time-components-from-an-nsdate-object-using-objective-c-cocoa\">Removing time components from an NSDate object using Objective C/Cocoa</a></p>\n\n<p><code>events</code> is a relationship in <code>Core Data</code>, and I am needing to check the <code>dateFound</code> attribute of the <code>Event</code> object that is in that relationship, which is an <code>NSDate</code> object. </p>\n\n<p>The issue here is that the <code>dateFound</code> attribute is stored in <code>Core Data</code>, and since I need to use a predicate with <code>SELF IN</code> I cannot modify the <code>dateFound</code> data and strip its time components.</p>\n\n<p><strong>Do I have any other options here?</strong></p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1504070827, "post_id": 45952505, "comment_id": 78863057, "body": "use <code>NSUserDefualts</code> to check whether toast shown."}, {"owner": {"reputation": 25, "user_id": 7721945, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/93f17c0de88faf2a3dde3b081efde1ae?s=128&d=identicon&r=PG&f=1", "display_name": "MUNNA", "link": "https://stackoverflow.com/users/7721945/munna"}, "reply_to_user": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1504070903, "post_id": 45952505, "comment_id": 78863083, "body": "But when I login again I need to show the toast"}, {"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1504071006, "post_id": 45952505, "comment_id": 78863116, "body": "so easy during logout clear the flag from <code>NSUserDefualts </code>"}, {"owner": {"reputation": 721, "user_id": 5408278, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yCsQChgYth4/AAAAAAAAAAI/AAAAAAAABdM/TapksbnuX04/photo.jpg?sz=128", "display_name": "Samkit Shah", "link": "https://stackoverflow.com/users/5408278/samkit-shah"}, "edited": false, "score": 1, "creation_date": 1504071089, "post_id": 45952505, "comment_id": 78863158, "body": "Do reset flag at didfinishlaunching method in appdelegate.m file"}, {"owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "edited": false, "score": 0, "creation_date": 1504071484, "post_id": 45952505, "comment_id": 78863302, "body": "see my updated answer @MUNNA"}, {"owner": {"reputation": 25, "user_id": 7721945, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/93f17c0de88faf2a3dde3b081efde1ae?s=128&d=identicon&r=PG&f=1", "display_name": "MUNNA", "link": "https://stackoverflow.com/users/7721945/munna"}, "edited": false, "score": 0, "creation_date": 1504071689, "post_id": 45952505, "comment_id": 78863373, "body": "Great it&#39;s works thank you so much  Mind_Sparkles &amp; Vinodh"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7721945, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/93f17c0de88faf2a3dde3b081efde1ae?s=128&d=identicon&r=PG&f=1", "display_name": "MUNNA", "link": "https://stackoverflow.com/users/7721945/munna"}, "edited": false, "score": 0, "creation_date": 1504071866, "post_id": 45952586, "comment_id": 78863439, "body": "[[NSUserDefaults standardUserDefaults] synchronize]; Is this not required?"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "reply_to_user": {"reputation": 25, "user_id": 7721945, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/93f17c0de88faf2a3dde3b081efde1ae?s=128&d=identicon&r=PG&f=1", "display_name": "MUNNA", "link": "https://stackoverflow.com/users/7721945/munna"}, "edited": false, "score": 2, "creation_date": 1504071941, "post_id": 45952586, "comment_id": 78863468, "body": "@MUNNA - no need"}, {"owner": {"reputation": 25, "user_id": 7721945, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/93f17c0de88faf2a3dde3b081efde1ae?s=128&d=identicon&r=PG&f=1", "display_name": "MUNNA", "link": "https://stackoverflow.com/users/7721945/munna"}, "edited": false, "score": 0, "creation_date": 1504072024, "post_id": 45952586, "comment_id": 78863486, "body": "Okey. Thank you @Vinodh"}, {"owner": {"reputation": 2596, "user_id": 5047165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d8b59b6955d5ee55cbec55a52cda17e?s=128&d=identicon&r=PG&f=1", "display_name": "luckyShubhra", "link": "https://stackoverflow.com/users/5047165/luckyshubhra"}, "edited": false, "score": 0, "creation_date": 1504072221, "post_id": 45952586, "comment_id": 78863580, "body": "synchronize() is automatically invoked at periodic intervals but you can use synchronize in special conditions.See apple documentation <a href=\"https://developer.apple.com/documentation/foundation/userdefaults/1414005-synchronize\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1504072234, "post_id": 45952586, "comment_id": 78863587, "body": "see this <a href=\"https://stackoverflow.com/questions/37485109/is-it-mandatory-to-call-nsuserdefaults-synchronize-method\" title=\"is it mandatory to call nsuserdefaults synchronize method\">stackoverflow.com/questions/37485109/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5197, "user_id": 1142743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/9rVhj.jpg?s=128&g=1", "display_name": "Vinodh", "link": "https://stackoverflow.com/users/1142743/vinodh"}, "is_accepted": true, "score": 1, "last_activity_date": 1504071418, "last_edit_date": 1504071418, "creation_date": 1504071122, "answer_id": 45952586, "question_id": 45952505, "link": "https://stackoverflow.com/questions/45952505/show-the-toast-or-alert-or-popup-view-only-once-in-ios/45952586#45952586", "title": "Show the toast or alert or popup view only once in ios?", "body": "<p>Store toast shown status as BOOL value in your <code>NSUserDefaults</code>. Check the value of that variable before showing the popup.</p>\n\n<pre><code>if([[NSUserDefaults standardUserDefaults] boolForKey:@\"ToastShown\"] == FALSE)\n {\n      [[NSUserDefaults standardUserDefaults] setBool:TRUE forKey:@\"ToastShown\"];\n     // add your code\n}\n</code></pre>\n\n<p>During Logout  Or in <code>didfinishlaunching</code></p>\n\n<pre><code>  [[NSUserDefaults standardUserDefaults] setBool:FALSE forKey:@\"ToastShown\"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2596, "user_id": 5047165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d8b59b6955d5ee55cbec55a52cda17e?s=128&d=identicon&r=PG&f=1", "display_name": "luckyShubhra", "link": "https://stackoverflow.com/users/5047165/luckyshubhra"}, "is_accepted": false, "score": 2, "last_activity_date": 1504080475, "last_edit_date": 1504080475, "creation_date": 1504071832, "answer_id": 45952732, "question_id": 45952505, "link": "https://stackoverflow.com/questions/45952505/show-the-toast-or-alert-or-popup-view-only-once-in-ios/45952732#45952732", "title": "Show the toast or alert or popup view only once in ios?", "body": "<p>You can achieve this by saving your login state to NSUserDefaults. You can achieve same by using following steps.</p>\n\n<ol>\n<li><p>Save bool to indicate user has logged in or not </p>\n\n<pre><code>[[NSUserDefaults standardUserDefaults] setBool:FALSE forKey:@\"LoggedIn\"];\n</code></pre></li>\n<li><p>Check whether user has logged in previously or login first time and display toast accordingly.</p>\n\n<pre><code>if([[NSUserDefaults standardUserDefaults] boolForKey:@\"LoggedIn\"] == FALSE)\n{\n  [[NSUserDefaults standardUserDefaults] setBool:TRUE forKey:@\"LoggedIn\"];\n  //show toast\n}\nelse\n{\n //hide code for previously logged in user\n}\n</code></pre></li>\n<li><p>Clear NSUserDefault value or you can even reset it to false on logout.</p>\n\n<pre><code>[[NSUserDefaults standardUserDefaults] setBool:FALSE forKey:@\"LoggedIn\"]; \n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504073239, "creation_date": 1504073239, "answer_id": 45953081, "question_id": 45952505, "link": "https://stackoverflow.com/questions/45952505/show-the-toast-or-alert-or-popup-view-only-once-in-ios/45953081#45953081", "title": "Show the toast or alert or popup view only once in ios?", "body": "<p>use this three line simple code</p>\n\n<pre><code>  if([[NSUserDefaults standardUserDefaults] boolForKey:@\"toast\"] == FALSE)\n {\n  [[NSUserDefaults standardUserDefaults] setBool:TRUE forKey:@\"toast\"];\n  [[NSUserDefaults standardUserDefaults] synchronize];\n  //Toast code will go here...\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6670939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8021827290b1817f4173fe89c8b8d91?s=128&d=identicon&r=PG&f=1", "display_name": "rajat kumar", "link": "https://stackoverflow.com/users/6670939/rajat-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1504089156, "creation_date": 1504089156, "answer_id": 45958084, "question_id": 45952505, "link": "https://stackoverflow.com/questions/45952505/show-the-toast-or-alert-or-popup-view-only-once-in-ios/45958084#45958084", "title": "Show the toast or alert or popup view only once in ios?", "body": "<p>try using main thread to toggle user interaction of UIButton after 3 seconds that actions to show Toast.</p>\n"}], "owner": {"reputation": 25, "user_id": 7721945, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/93f17c0de88faf2a3dde3b081efde1ae?s=128&d=identicon&r=PG&f=1", "display_name": "MUNNA", "link": "https://stackoverflow.com/users/7721945/munna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 45952586, "answer_count": 4, "score": 1, "last_activity_date": 1504700813, "creation_date": 1504070745, "last_edit_date": 1504700813, "question_id": 45952505, "link": "https://stackoverflow.com/questions/45952505/show-the-toast-or-alert-or-popup-view-only-once-in-ios", "title": "Show the toast or alert or popup view only once in ios?", "body": "<p>I have one sample app. The application contain toast when I login the screen going to home page view load toast appear perfectly my problem is the toast show only once at homepage again comes to the homepage toast does not needed? But when I login again I need to show the toast. How can I do this. Any one give the solution.</p>\n\n<p>The toast is declared on <code>viewDidLoad</code>:</p>\n\n<pre><code>Reachability *reachability = [Reachability reachabilityForInternetConnection];\n[reachability startNotifier];\nNetworkStatus status = [reachability currentReachabilityStatus];\nif(status == NotReachable)\n{\n    NSLog(@\"No Internet.\");\n}\n\nelse if (status == ReachableViaWiFi)\n{\n    wifiImage.image = [UIImage imageNamed: @\"wifi_green.png\"];\n    [self.view makeToast:@\"Wifi Is Connected\" duration:3.0 position:CSToastPositionBottom];\n}\n\nelse if (status == ReachableViaWWAN)\n{\n    ethernetImage.image = [UIImage imageNamed: @\"ethernet_green.png\"];\n    [self.view makeToast:@\"Ethernet Is Connected\" duration:3.0 position:CSToastPositionBottom];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "linkedin", "linkedin-api"], "answers": [{"comments": [{"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527679024, "post_id": 45952486, "comment_id": 88215680, "body": "hi @eldhose did you any pod or sdk if yes can you give me  link of that"}, {"owner": {"reputation": 309, "user_id": 5597739, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-ceqT689MSfM/AAAAAAAAAAI/AAAAAAAAAJg/mhumc7SAIO0/photo.jpg?sz=128", "display_name": "Eldhose Elias", "link": "https://stackoverflow.com/users/5597739/eldhose-elias"}, "reply_to_user": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527683106, "post_id": 45952486, "comment_id": 88218532, "body": "I have two login method  1. LinkedIn Login With SDK    2. LinkedIn Login without SDK ( Using OAuth 2.0)  For the first method, I&#39;m using Linkedin SDK in my app. for the second method, we not need any SDK or Pod file."}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527689285, "post_id": 45952486, "comment_id": 88223187, "body": "I want to login using that and get some basic profile details lie email name ,link,If app is installed in the phone it should open the app and get details r else it should open in webview and get me details, which method i have to fllow"}, {"owner": {"reputation": 309, "user_id": 5597739, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-ceqT689MSfM/AAAAAAAAAAI/AAAAAAAAAJg/mhumc7SAIO0/photo.jpg?sz=128", "display_name": "Eldhose Elias", "link": "https://stackoverflow.com/users/5597739/eldhose-elias"}, "reply_to_user": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527742176, "post_id": 45952486, "comment_id": 88243427, "body": "@SatheeshkumarNaidu You want details like email, name, link etc.... You can choose any one of the method. I chose, because if the user doesn&#39;t installed LinkedIn App. In that case, we need details. So we get that details through  API."}, {"owner": {"reputation": 309, "user_id": 5597739, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-ceqT689MSfM/AAAAAAAAAAI/AAAAAAAAAJg/mhumc7SAIO0/photo.jpg?sz=128", "display_name": "Eldhose Elias", "link": "https://stackoverflow.com/users/5597739/eldhose-elias"}, "reply_to_user": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527742779, "post_id": 45952486, "comment_id": 88243603, "body": "Benefits of LinkedIn SDK is User not need to log in again, if the user is already login in the LinkedIn app. And drawback is Linkedin SDK increase app size."}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527785253, "post_id": 45952486, "comment_id": 88268274, "body": "I am using same code which you have given above i am going to navigation web page i am giving details in when i click on login it just stays their"}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527788887, "post_id": 45952486, "comment_id": 88269983, "body": "when i click on login LinkedIn in webpage i am getting CredStore - performQuery - Error copying matching creds.  Error=-25300, query={     class = inet;     &quot;m_Limit&quot; = &quot;m_LimitAll&quot;;     ptcl = htps;     &quot;r_Attributes&quot; = 1;     sdmn = &quot;Password Protected Area&quot;;     srvr = &quot;jobz.com&quot;;     sync = syna; } if you want i can send you the project"}, {"owner": {"reputation": 494, "user_id": 6612682, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/653819931440516/picture?type=large", "display_name": "Satheeshkumar Naidu", "link": "https://stackoverflow.com/users/6612682/satheeshkumar-naidu"}, "edited": false, "score": 0, "creation_date": 1527853299, "post_id": 45952486, "comment_id": 88295322, "body": "you can check my code  here <a href=\"https://stackoverflow.com/questions/50640774/integrating-linkedin-in-ios-app-for-getting-some-details\" title=\"integrating linkedin in ios app for getting some details\">stackoverflow.com/questions/50640774/&hellip;</a>"}], "tags": [], "owner": {"reputation": 309, "user_id": 5597739, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-ceqT689MSfM/AAAAAAAAAAI/AAAAAAAAAJg/mhumc7SAIO0/photo.jpg?sz=128", "display_name": "Eldhose Elias", "link": "https://stackoverflow.com/users/5597739/eldhose-elias"}, "is_accepted": false, "score": 2, "last_activity_date": 1504073866, "last_edit_date": 1504073866, "creation_date": 1504070596, "answer_id": 45952486, "question_id": 45952362, "link": "https://stackoverflow.com/questions/45952362/how-to-integrate-linkedin-login-in-ios-without-sdk/45952486#45952486", "title": "How to integrate Linkedin Login in iOS Without SDK?", "body": "<p><strong>Step 1</strong></p>\n\n<p>First you need to check LinkedIn App is installed or not in your iPhone/iPad.</p>\n\n<pre><code>isInstalled(\"linkedin://app\") // function call\n\n\nfunc isInstalled(appScheme:String) -&gt; Bool{\n    let appUrl = NSURL(string: appScheme)\n\n    if UIApplication.sharedApplication().canOpenURL(appUrl! as NSURL)\n    {\n        return true\n\n    } else {\n        return false\n    }\n\n}\n</code></pre>\n\n<p><strong>Step 2</strong></p>\n\n<p>Create a webviewController.swift</p>\n\n<pre><code>import UIKit\n\nclass WebViewController: UIViewController,UIWebViewDelegate {\n\n    @IBOutlet weak var webView: UIWebView!\n\n    let linkedInKey = \"xxxxxx\"\n\n    let linkedInSecret = \"xxxxxx\"\n\n    let authorizationEndPoint = \"https://www.linkedin.com/uas/oauth2/authorization\"\n\n    let accessTokenEndPoint = \"https://www.linkedin.com/uas/oauth2/accessToken\"\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        webView.delegate = self\n        self.startAuthorization()\n    }\n\n    override func didReceiveMemoryWarning() {\n        super.didReceiveMemoryWarning()\n    }\n    func startAuthorization() {\n        let responseType = \"code\"\n        let redirectURL = \"https://com.appcoda.linkedin.oauth/oauth\".stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.alphanumericCharacterSet())!\n\n        let state = \"linkedin\\(Int(NSDate().timeIntervalSince1970))\"\n\n        let scope = \"r_basicprofile,r_emailaddress\"\n\n        var authorizationURL = \"\\(authorizationEndPoint)?\"\n        authorizationURL += \"response_type=\\(responseType)&amp;\"\n        authorizationURL += \"client_id=\\(linkedInKey)&amp;\"\n        authorizationURL += \"redirect_uri=\\(redirectURL)&amp;\"\n        authorizationURL += \"state=\\(state)&amp;\"\n        authorizationURL += \"scope=\\(scope)\"\n\n        // logout already logined user or revoke tokens\n        logout()\n\n        // Create a URL request and load it in the web view.\n        let request = NSURLRequest(URL: NSURL(string: authorizationURL)!)\n        webView.loadRequest(request)\n\n\n    }\n\n    func logout(){\n        let revokeUrl = \"https://api.linkedin.com/uas/oauth/invalidateToken\"\n        let request = NSURLRequest(URL: NSURL(string: revokeUrl)!)\n        webView.loadRequest(request)\n    }\n\n    func webView(webView: UIWebView, shouldStartLoadWithRequest request: NSURLRequest, navigationType: UIWebViewNavigationType) -&gt; Bool {\n        let url = request.URL!\n        if url.host == \"com.appcoda.linkedin.oauth\" {\n            if url.absoluteString!.rangeOfString(\"code\") != nil {\n                let urlParts = url.absoluteString!.componentsSeparatedByString(\"?\")\n                let code = urlParts[1].componentsSeparatedByString(\"=\")[1]\n\n                requestForAccessToken(code)\n            }\n\n        }\n\n        return true\n    }\n    func requestForAccessToken(authorizationCode: String) {\n        let grantType = \"authorization_code\"\n\n        let redirectURL = \"https://com.appcoda.linkedin.oauth/oauth\".stringByAddingPercentEncodingWithAllowedCharacters(NSCharacterSet.alphanumericCharacterSet())!\n\n\n        // Set the POST parameters.\n        var postParams = \"grant_type=\\(grantType)&amp;\"\n        postParams += \"code=\\(authorizationCode)&amp;\"\n        postParams += \"redirect_uri=\\(redirectURL)&amp;\"\n        postParams += \"client_id=\\(linkedInKey)&amp;\"\n        postParams += \"client_secret=\\(linkedInSecret)\"\n\n\n        // Convert the POST parameters into a NSData object.\n        let postData = postParams.dataUsingEncoding(NSUTF8StringEncoding)\n\n        // Initialize a mutable URL request object using the access token endpoint URL string.\n        let request = NSMutableURLRequest(URL: NSURL(string: accessTokenEndPoint)!)\n\n        // Indicate that we're about to make a POST request.\n        request.HTTPMethod = \"POST\"\n\n        // Set the HTTP body using the postData object created above.\n        request.HTTPBody = postData\n        // Add the required HTTP header field.\n        request.addValue(\"application/x-www-form-urlencoded;\", forHTTPHeaderField: \"Content-Type\")\n\n        // Initialize a NSURLSession object.\n        let session = NSURLSession(configuration: NSURLSessionConfiguration.defaultSessionConfiguration())\n\n        // Make the request.\n        let task: NSURLSessionDataTask = session.dataTaskWithRequest(request) { (data, response, error) -&gt; Void in\n            // Get the HTTP status code of the request.\n            let statusCode = (response as! NSHTTPURLResponse).statusCode\n\n            if statusCode == 200 {\n                // Convert the received JSON data into a dictionary.\n                do {\n                    let dataDictionary = try NSJSONSerialization.JSONObjectWithData(data!, options: NSJSONReadingOptions.MutableContainers)\n                    print(\"dataDictionary\\(dataDictionary)\")\n                    let accessToken = dataDictionary[\"access_token\"] as! String\n\n                    NSUserDefaults.standardUserDefaults().setObject(accessToken, forKey: \"LIAccessToken\")\n                    NSUserDefaults.standardUserDefaults().synchronize()\n                    print(\"START sentData\")\n                    dispatch_async(dispatch_get_main_queue(), { () -&gt; Void in\n\n\n       self.navigationController?.popViewControllerAnimated(true)\n\n                    })\n                }\n                catch {\n                    print(\"Could not convert JSON data into a dictionary.\")\n                }\n            }else{\n                print(\"cancel clicked\")\n            }\n        }\n\n        task.resume() \n    }  \n    }\n</code></pre>\n\n<p><strong>Step 3</strong></p>\n\n<p>LinkedIn login Button Click</p>\n\n<pre><code>  @IBAction func linkedinButtonClicked(sender: AnyObject) {\n\n    if (self.isInstalled(\"linkedin://app\")){\n        // App installed\n        let permissions = [LISDK_BASIC_PROFILE_PERMISSION,LISDK_EMAILADDRESS_PERMISSION]\n           print(\"persmission end\")\n        LISDKSessionManager.createSessionWithAuth(permissions, state: nil, showGoToAppStoreDialog: true, successBlock: { (returnState) -&gt; Void in\n            let session = LISDKSessionManager.sharedInstance().session\n\n\n            LISDKAPIHelper.sharedInstance().getRequest(\"https://api.linkedin.com/v1/people/~:(id,first-name,last-name,email-address,picture-url,public-profile-url,industry,positions,location)?format=json\", success: { (response) -&gt; Void in\n\n            if let data = response.data.dataUsingEncoding(NSUTF8StringEncoding) {\n                if let dictResponse = try? NSJSONSerialization.JSONObjectWithData(data, options: .MutableContainers){\n                  print(\"success\")\n                }\n            }\n            }, error: { (error) -&gt; Void in\n                        print(\"LINKEDIN error\\(error)\")\n\n                     })\n\n        }) { (error) -&gt; Void in\n             print(\"error login linkedin\")\n\n          }\n    }else{\n        // App not installed\n        print(\"App is not installed\")\n        isBackFromWebViewCntr = true\n        let webViewCnt = self.storyboard!.instantiateViewControllerWithIdentifier(\"WebViewController\") as UIViewController\n        self.navigationController?.pushViewController(webViewCnt, animated: true)\n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 5597739, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-ceqT689MSfM/AAAAAAAAAAI/AAAAAAAAAJg/mhumc7SAIO0/photo.jpg?sz=128", "display_name": "Eldhose Elias", "link": "https://stackoverflow.com/users/5597739/eldhose-elias"}, "edited": false, "score": 0, "creation_date": 1592101673, "post_id": 60112319, "comment_id": 110302547, "body": "initially then given the support,,,i think,,now the stoped SDK support"}], "tags": [], "owner": {"reputation": 133, "user_id": 4112957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XM5q8ICX6lY/AAAAAAAAAAI/AAAAAAAAJwg/lAWSW4qjipM/photo.jpg?sz=128", "display_name": "Maneesh M", "link": "https://stackoverflow.com/users/4112957/maneesh-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1581073965, "creation_date": 1581073965, "answer_id": 60112319, "question_id": 45952362, "link": "https://stackoverflow.com/questions/45952362/how-to-integrate-linkedin-login-in-ios-without-sdk/60112319#60112319", "title": "How to integrate Linkedin Login in iOS Without SDK?", "body": "<p>It's sad that even LinkedIn is not providing a documentation or a sample project for this problem, I went through so many web pages and finally found something useful in this <a href=\"https://www.elsner.com/linkedin-sign-in-using-oauth-2-0-update-on-ios-apps/\" rel=\"nofollow noreferrer\">link</a>. This website provides both tutorial and sample <a href=\"https://github.com/elsnertechno/LinkedInSignInSwift\" rel=\"nofollow noreferrer\">code</a>. Download the sample code and replace following values generated in your LinkedIn developer portal</p>\n\n<pre><code>let linkedInKey = \"your LinkedIn key\"\nlet linkedInSecret = \"your LinkedIn secret\"\nlet callBackURL = \"your callback url\"\n</code></pre>\n\n<p>In WKNavigationDelegate replace the host url with your host url (in my case its my callback url without \"https://\")</p>\n\n<pre><code>request.url?.host == \"com.elsner.linkedin.oauth\" // Change this to\n\nrequest.url?.host == \"your callback url's host\" \n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 5597739, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-ceqT689MSfM/AAAAAAAAAAI/AAAAAAAAAJg/mhumc7SAIO0/photo.jpg?sz=128", "display_name": "Eldhose Elias", "link": "https://stackoverflow.com/users/5597739/eldhose-elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2580, "favorite_count": 3, "answer_count": 2, "score": 4, "last_activity_date": 1581073965, "creation_date": 1504070001, "last_edit_date": 1530025005, "question_id": 45952362, "link": "https://stackoverflow.com/questions/45952362/how-to-integrate-linkedin-login-in-ios-without-sdk", "title": "How to integrate Linkedin Login in iOS Without SDK?", "body": "<p>In iOS most of them integrated LinkedIn Login via SDK(if LinkedIn App is not installed in your iPhone/iPad you cant login, LinkedIn SDK return a message to install LinkedIn App).</p>\n\n<p>But during Apple Review, there may be a chance to reject our app.\nSo the only solution is to handle two situation.</p>\n\n<p>1.LinkedIn Login With SDK</p>\n\n<p>2.LinkedIn Login without SDK ( Using OAuth 2.0)</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504068503, "post_id": 45952064, "comment_id": 78862388, "body": "May be Dublicate value contain in your array."}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 1, "creation_date": 1504068532, "post_id": 45952064, "comment_id": 78862396, "body": "resultArray[0] should be resultArray[indexPath.row]"}], "answers": [{"tags": [], "owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1504068587, "creation_date": 1504068587, "answer_id": 45952117, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times/45952117#45952117", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>In cellForRow method, you made a mistake:</p>\n\n<pre><code>resultArray[0] --&gt; resultArray[indexPath.row]\n</code></pre>\n\n<p>You need to give your current indexPath's row to your cell, so it will display as per your row. </p>\n\n<p>Checkout more about <a href=\"https://developer.apple.com/documentation/foundation/indexpath\" rel=\"nofollow noreferrer\">indexPath</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1504069012, "post_id": 45952130, "comment_id": 78862507, "body": "You&#39;re 100% right - thank you SO much haha. I&#39;ll accept this answer once it let&#39;s me (says I need to wait 5 min)."}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "reply_to_user": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "edited": false, "score": 0, "creation_date": 1504069285, "post_id": 45952130, "comment_id": 78862584, "body": "@Brittany Welcome .... try it and let me know if you have still issue . Happy Coding"}], "tags": [], "owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "is_accepted": true, "score": 3, "last_activity_date": 1504071009, "last_edit_date": 1504071009, "creation_date": 1504068624, "answer_id": 45952130, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times/45952130#45952130", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>Your problem is you are showing only first element of array in cell  like</p>\n\n<pre><code>NSString *reviewDes = resultArray[0][@\"body\"];\n</code></pre>\n\n<p>It should be </p>\n\n<pre><code>NSString *reviewDes = resultArray[indexPath.row][@\"body\"];\n</code></pre>\n\n<p>And it is better to keep <code>strong</code> reference  rather than filter every time in <code>cellForRow</code> and <code>numberOfRow</code></p>\n\n<p>like </p>\n\n<pre><code>@property (nonatomic, strong) NSArray *resultArray;\n</code></pre>\n\n<p>and assign it in when your data comes either from Webservice or Local database</p>\n\n<p>it makes your cell a bit faster</p>\n\n<p>Hope it is helpful to you</p>\n"}, {"tags": [], "owner": {"reputation": 519, "user_id": 7754752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e152c8003a818450a6e0114f575510?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Gupta", "link": "https://stackoverflow.com/users/7754752/neha-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1504068882, "creation_date": 1504068882, "answer_id": 45952181, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times/45952181#45952181", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>I believe this is because every time you filtered the data with same user ID and as result this is showing always same result.</p>\n\n<p>If result Array will always return 1 then its ok otherwise you have to use <code>resultArray[indexPath.row]</code> instead of <code>resultArray[0]</code></p>\n\n<p>What is <code>neighbourDetail</code> contains?</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 5077361, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c2ed4700ca3bc9d2d2479c6b12817f30?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/5077361/nikhil-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1504069200, "creation_date": 1504069200, "answer_id": 45952233, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times/45952233#45952233", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>In cellForRow method, you are populating data always from resultArray[0].</p>\n\n<pre><code>    resultArray[0] ----&gt; resultArray[indexPath.row]\n</code></pre>\n\n<p>The expression indexPath.row increments by 1 for each row and is basically row number.</p>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504069534, "creation_date": 1504069534, "answer_id": 45952286, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times/45952286#45952286", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>use this Simple code</p>\n\n<pre><code> NSArray *resultArray = [self.reviewData filteredArrayUsingPredicate:predicate];\n\nNSDictionary*dict=[resultArray objectAtIndex:indexPath.row];\ncellTwo.reviewText.text = [dict valueForKey:@\"body\"];\ncellTwo.firstText.text = [dict valueForKey:@\"from\"];\ncellTwo.timeText.text = [dict valueForKey:@\"published at\"];\n\nNSString *secondLink = [dict valueForKey:@\"from photo\"];\n\n\n[cellTwo.profilePic sd_setImageWithURL:[NSURL URLWithString:secondLink]];\n\n\nreturn cellTwo;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2596, "user_id": 5047165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d8b59b6955d5ee55cbec55a52cda17e?s=128&d=identicon&r=PG&f=1", "display_name": "luckyShubhra", "link": "https://stackoverflow.com/users/5047165/luckyshubhra"}, "is_accepted": false, "score": 0, "last_activity_date": 1504070888, "creation_date": 1504070888, "answer_id": 45952542, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times/45952542#45952542", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>IndexPath in UITableView delegate and datasource methods will help you identify precisely which section and which row you are working on. From apple documentation</p>\n\n<blockquote>\n  <p>func cellForRow(at indexPath: IndexPath) -> UITableViewCell?</p>\n  \n  <p>Parameters <strong>IndexPath</strong> The index path locating the row in the tableview.</p>\n</blockquote>\n\n<p>So when you are working on tableview you can use indexpath to access particular cell. While populating cell or while selection of tableView use indexPath not hard coded index.\nIn your case you have used <code>resultArray[0]</code> where you should have used <code>resultArray[indexPath.row]</code>.</p>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 45952130, "answer_count": 6, "score": 0, "last_activity_date": 1504071009, "creation_date": 1504068297, "question_id": 45952064, "link": "https://stackoverflow.com/questions/45952064/ios-obj-c-cells-in-tableview-displaying-same-data-multiple-times", "title": "iOS / Obj-C - Cells in tableView displaying same data multiple times?", "body": "<p>For some reason, my tableView is displaying the data of my most recently posted item multiple times, even though there are 10 different items to display in my array. <strong>E.g.</strong> instead of displaying the 10 different items in my tableView cells, it simply displays the most recent post 10 times in all 10 cells? Any idea why this might be? I tried using two different cell identifiers to see if that would fix the problem, but no dice. See code below.</p>\n\n<p><strong>ViewController.m</strong></p>\n\n<pre><code>- (int)numberOfSectionsInTableView: (UITableView *)tableview\n\n{\n    return 1;\n\n}\n\n\n- (NSInteger) tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n\n\n       if (neighbourDetail &gt; 0 ) {\n\n\n           NSString *thisUserId = [neighbourDetail objectForKey:@\"uid\"];\n\n\n           NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"targetuser CONTAINS[cd] %@\",\n                                     thisUserId];\n\n          NSArray *resultArray = [self.reviewData filteredArrayUsingPredicate:predicate];\n\n\n           return [resultArray count];\n\n} else {\n\n\n    NSString *thisUserId = [self.myFriendData objectForKey:@\"uid2\"];\n\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"targetuser CONTAINS[cd] %@\",\n                              thisUserId];\n\n   NSArray *resultArray = [self.reviewData filteredArrayUsingPredicate:predicate];\n\n    return [resultArray count];\n\n\n}\n\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n\n\n    if (neighbourDetail &gt; 0 ) {\n\n        static NSString *DogTableIdentifier = @\"ReviewTableViewCell\";\n\n        ReviewTableViewCell *cell = (ReviewTableViewCell *)[tableView dequeueReusableCellWithIdentifier:DogTableIdentifier];\n        if (cell == nil)\n        {\n            NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@\"ReviewTableViewCell\" owner:self options:nil];\n            cell = [nib objectAtIndex:0];\n\n        }\n        NSString *thisUserId = [neighbourDetail objectForKey:@\"uid\"];\n\n\n        NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"targetuser CONTAINS[cd] %@\",\n                                  thisUserId];\n\n        NSArray *resultArray = [self.reviewData filteredArrayUsingPredicate:predicate];\n\n\n\n        NSString *reviewDes = resultArray[0][@\"body\"];\n        cell.reviewText.text = reviewDes;\n\n\n        NSString *firstName = resultArray[0][@\"from first\"];\n        cell.firstText.text = firstName;\n\n\n        NSString *timeStamp = resultArray[0][@\"published at\"];\n        cell.timeText.text = timeStamp;\n\n        NSString *secondLink = resultArray[0][@\"from photo\"];\n\n\n        [cell.profilePic sd_setImageWithURL:[NSURL URLWithString:secondLink]];\n\n        return cell;\n\n\n    } else if (neighbourDetail == NULL)  {\n\n        static NSString *DogTableIdentifier2 = @\"ReviewTableViewCell\";\n\n        ReviewTableViewCell *cellTwo = (ReviewTableViewCell *)[tableView dequeueReusableCellWithIdentifier:DogTableIdentifier2];\n        if (cellTwo == nil)\n        {\n            NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@\"ReviewTableViewCell\" owner:self options:nil];\n            cellTwo = [nib objectAtIndex:0];\n\n        }\n\n        NSString *thisUserId = [self.myFriendData objectForKey:@\"uid2\"];\n\n        NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"targetuser CONTAINS[cd] %@\",\n                                  thisUserId];\n\n        NSArray *resultArray = [self.reviewData filteredArrayUsingPredicate:predicate];\n\n\n        NSString *reviewDes = resultArray[0][@\"body\"];\n        cellTwo.reviewText.text = reviewDes;\n\n        NSString *firstName = resultArray[0][@\"from first\"];\n        cellTwo.firstText.text = firstName;\n\n\n        NSString *timeStamp = resultArray[0][@\"published at\"];\n        cellTwo.timeText.text = timeStamp;\n\n        NSString *secondLink = resultArray[0][@\"from photo\"];\n\n\n        [cellTwo.profilePic sd_setImageWithURL:[NSURL URLWithString:secondLink]];\n\n\n        return cellTwo;\n    }\n\n    return 0;\n\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1159, "user_id": 1095251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Pf4Z.jpg?s=128&g=1", "display_name": "Basheer", "link": "https://stackoverflow.com/users/1095251/basheer"}, "edited": false, "score": 0, "creation_date": 1504067114, "post_id": 45951881, "comment_id": 78862028, "body": "<a href=\"https://developer.apple.com/documentation/localauthentication/lacontext\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/localauthentication/lacont&zwnj;&#8203;ext</a>"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 1738812, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/234ca30011f32b345f3e47ad13a50787?s=128&d=identicon&r=PG", "display_name": "Sumit Jain", "link": "https://stackoverflow.com/users/1738812/sumit-jain"}, "is_accepted": false, "score": 2, "last_activity_date": 1504067445, "creation_date": 1504067445, "answer_id": 45951938, "question_id": 45951881, "link": "https://stackoverflow.com/questions/45951881/how-to-add-fingerprint-login-to-ios-app/45951938#45951938", "title": "how to add fingerprint login to iOS app", "body": "<p>I have added a library on github <a href=\"https://github.com/sumitjain7/AppleTouchId/blob/master/appleTouchId/Classes/AppleAuthenticator.swift\" rel=\"nofollow noreferrer\">https://github.com/sumitjain7/AppleTouchId/blob/master/appleTouchId/Classes/AppleAuthenticator.swift</a></p>\n\n<p>Currently pods for this is not working. you can use this class directly.\nYou simply need to do this:</p>\n\n<pre><code>AppleAuthenticator.sharedInstance.authenticateWithSuccess({\n\n            let vc = self.storyboard?.instantiateViewController(withIdentifier: \"YOUR_VC_IDENTIFIER\")\n            //do your stuff here\n        }, failure:{ errorCode in\n            var authErrorString : NSString\n            switch (errorCode) {\n            case LAError.systemCancel.rawValue:\n                authErrorString = \"System canceled auth request due to app coming to foreground or background.\";\n                break;\n            case LAError.authenticationFailed.rawValue:\n                authErrorString = \"User failed after a few attempts.\";\n                break;\n            case LAError.userCancel.rawValue:\n                authErrorString = \"User cancelled.\";\n                break;\n\n            case LAError.userFallback.rawValue:\n                authErrorString = \"Fallback auth method should be implemented here.\";\n                break;\n            case LAError.touchIDNotEnrolled.rawValue:\n                authErrorString = \"No Touch ID fingers enrolled.\";\n                break;\n            case LAError.touchIDNotAvailable.rawValue:\n                authErrorString = \"Touch ID not available on your device.\";\n                break;\n            case LAError.passcodeNotSet.rawValue:\n                authErrorString = \"Need a passcode set to use Touch ID.\";\n                break;\n            default:\n                authErrorString = \"Check your Touch ID Settings.\";\n                break;\n            }\n          //  self.presentAlertControllerWithMessage(authErrorString)\n        })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8535841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a6152aa982bd2f9803e9490c446c61?s=128&d=identicon&r=PG&f=1", "display_name": "naga raju", "link": "https://stackoverflow.com/users/8535841/naga-raju"}, "edited": false, "score": 0, "creation_date": 1504068987, "post_id": 45952083, "comment_id": 78862497, "body": "i didn&#39;t add any authenticate button in login page"}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "reply_to_user": {"reputation": 21, "user_id": 8535841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a6152aa982bd2f9803e9490c446c61?s=128&d=identicon&r=PG&f=1", "display_name": "naga raju", "link": "https://stackoverflow.com/users/8535841/naga-raju"}, "edited": false, "score": 0, "creation_date": 1504069152, "post_id": 45952083, "comment_id": 78862545, "body": "then please call this code in your LogInVC  ViewDidLoad after avoid first line i.e IBAction Method them do action in if (success) {//do stuff}"}, {"owner": {"reputation": 1259, "user_id": 3733430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Wsw78.jpg?s=128&g=1", "display_name": "kemdo", "link": "https://stackoverflow.com/users/3733430/kemdo"}, "edited": false, "score": 0, "creation_date": 1512631326, "post_id": 45952083, "comment_id": 82338293, "body": "nice. THnaks you"}], "tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": true, "score": 3, "last_activity_date": 1504068397, "creation_date": 1504068397, "answer_id": 45952083, "question_id": 45951881, "link": "https://stackoverflow.com/questions/45951881/how-to-add-fingerprint-login-to-ios-app/45952083#45952083", "title": "how to add fingerprint login to iOS app", "body": "<p>First Import,</p>\n\n<pre><code>#import &lt;LocalAuthentication/LocalAuthentication.h&gt;\n</code></pre>\n\n<p>then Write a code in .m</p>\n\n<pre><code> - (IBAction)authenicateButtonTapped:(id)sender {\n\nLAContext *context = [[LAContext alloc] init];\n\nNSError *error = nil;\nif ([context canEvaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics error:&amp;error]) {\n    [context evaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics\n            localizedReason:@\"Are you the device owner?\"\n                      reply:^(BOOL success, NSError *error) {\n                           dispatch_async(dispatch_get_main_queue(), ^{\n                          if (error) {\n                              UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Error\"\n                                                                              message:@\"There was a problem verifying your identity.\"\n                                                                             delegate:nil\n                                                                    cancelButtonTitle:@\"Ok\"\n                                                                    otherButtonTitles:nil];\n                              [alert show];\n                              return;\n                          }\n\n  if (success) {\n\n\n\n                              UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Success\"\n                                                                              message:@\"You are the device owner!\"\n                                                                             delegate:nil\n                                                                    cancelButtonTitle:@\"Ok\"\n                                                                    otherButtonTitles:nil];\n                 [alert show];\n\n\n\n     } else {\n                              UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Error\"\n                                                                              message:@\"You are not the device owner.\"\n                                                                             delegate:nil\n                                                                    cancelButtonTitle:@\"Ok\"\n                                                                    otherButtonTitles:nil];\n                              [alert show];\n                          }\n                          });\n                      }];\n\n   } else {\n\n    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Error\"\n                                                    message:@\"Your device cannot authenticate using TouchID.\"\n                                                   delegate:nil\n                                          cancelButtonTitle:@\"Ok\"\n                                          otherButtonTitles:nil];\n    [alert show];\n\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8535841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a6152aa982bd2f9803e9490c446c61?s=128&d=identicon&r=PG&f=1", "display_name": "naga raju", "link": "https://stackoverflow.com/users/8535841/naga-raju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1778, "favorite_count": 1, "accepted_answer_id": 45952083, "answer_count": 2, "score": -2, "last_activity_date": 1504068397, "creation_date": 1504066988, "question_id": 45951881, "link": "https://stackoverflow.com/questions/45951881/how-to-add-fingerprint-login-to-ios-app", "title": "how to add fingerprint login to iOS app", "body": "<p>In my iOS app there is a login page to access the features.I want to login directly with my registered finger print. Help me if any one know this feature.</p>\n"}, {"tags": ["ios", "objective-c", "exception", "runtimeexception"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1504062545, "post_id": 45951015, "comment_id": 78860974, "body": "autorelease? you are using ARC?"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504066518, "post_id": 45951015, "comment_id": 78861873, "body": "I inherited the app, so some of the code is old. I tried removing autorelease, but the issue persists"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504066814, "post_id": 45951015, "comment_id": 78861958, "body": "can you post all your crash log?"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504067338, "post_id": 45951015, "comment_id": 78862080, "body": "Of course - is the entire crash log the thread in the debug navigator xcode jumps to in the event of a crash?"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504067435, "post_id": 45951015, "comment_id": 78862097, "body": "Yes that is it, please copy and paste here to see what is wrong here"}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504068648, "post_id": 45951015, "comment_id": 78862419, "body": "You must be on the main thread when Pushing Controller. You can be on any thread when using them, but loading them requires the main thread."}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "reply_to_user": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504069342, "post_id": 45951015, "comment_id": 78862605, "body": "@VikasRajput Is that to say I have to be on the root view of the navigation controller to push a view controller?"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1504069838, "post_id": 45951015, "comment_id": 78862737, "body": "if thats the case - then why was I able to push <code>CollectionDetailDataViewController</code> from <code>CollectionDetailViewController</code>?"}, {"owner": {"reputation": 468, "user_id": 4293994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I0Lnt.jpg?s=128&g=1", "display_name": "Andy Darwin", "link": "https://stackoverflow.com/users/4293994/andy-darwin"}, "edited": false, "score": 1, "creation_date": 1504073315, "post_id": 45951015, "comment_id": 78863983, "body": "Where is <code>SnapItViewController </code>? The crash is about it, but I cannot see the related code. By the way, you missed <code>[super viewDidLoad]</code> in the <code>viewDidLoad</code> method of <code>CollectionDetailViewController</code>"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "reply_to_user": {"reputation": 468, "user_id": 4293994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I0Lnt.jpg?s=128&g=1", "display_name": "Andy Darwin", "link": "https://stackoverflow.com/users/4293994/andy-darwin"}, "edited": false, "score": 0, "creation_date": 1504074059, "post_id": 45951015, "comment_id": 78864357, "body": "@AndyDarwin on the super viewDidLoad is there i just only posted code about pushing the view controller..I&#39;ll update that. And I will post code for SnapItViewController, good point!"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504096028, "post_id": 45951015, "comment_id": 78878852, "body": "@Matt we need the crash stack trace"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504120124, "post_id": 45951015, "comment_id": 78895146, "body": "@ReinierMelian did I update with the appropriate information?"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504120261, "post_id": 45951015, "comment_id": 78895207, "body": "@Matt yes that is it"}], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1504111291, "post_id": 45954628, "comment_id": 78890322, "body": "SnapItViewController is the rootview controller on the &quot;Snap It&quot; tab - I did not write code for it to be called, StoryBoard sets it up for me"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1504111565, "post_id": 45954628, "comment_id": 78890453, "body": "I dismiss the UIImagePickerViewController then I dismiss SnapItViewController, then in didPickImage, I push a new view, which definitely is not thought out well. But If I remove the second dismiss, my program crashes."}], "tags": [], "owner": {"reputation": 468, "user_id": 4293994, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/I0Lnt.jpg?s=128&g=1", "display_name": "Andy Darwin", "link": "https://stackoverflow.com/users/4293994/andy-darwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1504078735, "creation_date": 1504078735, "answer_id": 45954628, "question_id": 45951015, "link": "https://stackoverflow.com/questions/45951015/push-viewcontroller-generates-runtime-exception/45954628#45954628", "title": "Push ViewController generates runtime exception", "body": "<pre><code>[picker dismissViewControllerAnimated:YES completion:nil];\n[mLocationManager stopUpdatingLocation];\n[self release];\n[self dismissViewControllerAnimated:YES completion:NULL];\n</code></pre>\n\n<p>You dismiss two viewControllers animately at the same time? Maybe you could try dismiss the second dismiss in the completion block. <code>self dismissViewControllerAnimated</code> is ambiguous, because it can dismiss the view controller on it or dismiss self. I think you want to dismiss self, that is <code>SnapItViewController</code>, so you release <code>SnapItViewController</code> first , then send a dismiss message to it, which is obviously wrong. </p>\n\n<p>You post the <code>SnapItViewController</code> code, but still, you did not post where you call it. </p>\n"}, {"comments": [{"owner": {"reputation": 2536, "user_id": 845431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zISRC.jpg?s=128&g=1", "display_name": "ghostatron", "link": "https://stackoverflow.com/users/845431/ghostatron"}, "edited": false, "score": 0, "creation_date": 1504139762, "post_id": 45971355, "comment_id": 78902107, "body": "I can&#39;t recall EVER seeing release called on self...that just seems like a really bad idea to me in general.  Is there a valid use case for doing that?"}, {"owner": {"reputation": 2536, "user_id": 845431, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zISRC.jpg?s=128&g=1", "display_name": "ghostatron", "link": "https://stackoverflow.com/users/845431/ghostatron"}, "edited": false, "score": 0, "creation_date": 1504140155, "post_id": 45971355, "comment_id": 78902162, "body": "Also, assuming you are using ARC, you should rarely need to call release anyway."}], "tags": [], "owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "is_accepted": false, "score": 0, "last_activity_date": 1504137599, "creation_date": 1504137599, "answer_id": 45971355, "question_id": 45951015, "link": "https://stackoverflow.com/questions/45951015/push-viewcontroller-generates-runtime-exception/45971355#45971355", "title": "Push ViewController generates runtime exception", "body": "<p>The solution ended up being removing </p>\n\n<pre><code>[self release]\n\n[self dismissViewControllerAnimated:YES completion:NULL];\n</code></pre>\n\n<p>from <code>didFinishPickingMediaWithInfo</code> in SnapItViewController. </p>\n"}], "owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504137599, "creation_date": 1504060533, "last_edit_date": 1504111244, "question_id": 45951015, "link": "https://stackoverflow.com/questions/45951015/push-viewcontroller-generates-runtime-exception", "title": "Push ViewController generates runtime exception", "body": "<p>I have a tabbed application. In the storyboard, one of the tabs is a navigation controller. On the root view, a UIImagePickerController pops up so that the user can take or select a photo.</p>\n\n<pre><code>/*SnapItViewController.m*/\n#import \"SnapItViewController.h\"\n#import \"FirstViewController.h\"\n#import \"CollectionListViewController.h\"\n#import &lt;sys/utsname.h&gt;\n\n@interface SnapItViewController ()\n\n@end\n\n@implementation SnapItViewController\n@synthesize fetchedResultsController;\n@synthesize currentLocation;\n\n#pragma mark View lifecycle\n\n- (void)awakeFromNib\n{\n    // Listen to takePicture notifications\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(TakePicture) name:@\"takePicture\" object:nil];\n    [super awakeFromNib];\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    ipc = [[UIImagePickerController alloc] init];\n    ipc.delegate = self;\n    if([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])\n    {\n        ipc.sourceType = UIImagePickerControllerSourceTypeCamera;\n        [self presentViewController:ipc animated:YES completion:NULL];\n    }else{\n        ipc.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;\n        //launch image picker view controller\n        [self presentViewController:ipc animated:YES completion:nil];\n    }\n    // Do any additional setup after loading the view.\n\n}\n\n- (void)viewWillAppear:(BOOL)animated {\n\n   self.navigationController.navigationBarHidden = YES;\n\n    [super viewWillAppear:animated];\n}\n\n- (void)viewDidAppear:(BOOL)animated\n{    \n    [super viewDidAppear:animated];\n}\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning];\n}\n#pragma mark - ImagePickerController Delegate\n-(void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {\n\n    UIImage* theImage = [info objectForKey:UIImagePickerControllerOriginalImage];\n\n    if( picker.sourceType == UIImagePickerControllerSourceTypeCamera )\n    {\n        UIImageWriteToSavedPhotosAlbum(theImage, nil, nil, nil);\n    }\n    int height = -1;\n    if([[NSUserDefaults standardUserDefaults] integerForKey:@\"reduce_image\"] == 0){\n        height = 640;\n    } else if ([[NSUserDefaults standardUserDefaults] integerForKey:@\"reduce_image\"] == 1) {\n        height = 1024;\n    } else {\n        height = 1600;\n    }\n\n    UIImage* resizedImageForUpload = [UtilityFunctions scaleAndRotateImage:theImage maxResolution:height];\n    NSData* imageDataForUpload = UIImageJPEGRepresentation(resizedImageForUpload, 1);   // reduced image! \n\n    NSString *userDataset = [UtilityFunctions retrieveFromUserDefaults:@\"dataset\"];\n\n    [self didPickImage:imageDataForUpload atLocation:currentLocation\n                     userDataset: userDataset];\n    [picker dismissViewControllerAnimated:YES completion:nil];       \n    [mLocationManager stopUpdatingLocation];     \n    [self release];\n    [self dismissViewControllerAnimated:YES completion:NULL];\n}\n\n-(void)imagePickerControllerDidCancel:(UIImagePickerController *)picker{\n        [picker dismissViewControllerAnimated:YES completion:nil];      \n}\n\n- (void)pushChildControllerForCollectedLeaf:(CollectedLeaf*)theCollectedLeaf imageToUpload:(NSData*)imageToUpload animated:(BOOL)animated\n{\n    CollectionDetailViewController* childController = [[[CollectionDetailViewController alloc]initWithNibName:@\"CollectionDetailViewController\" bundle:nil] autorelease];\n    childController.collectedLeaf = theCollectedLeaf;\n\n    //// Pass the image from image picker to Collection Detail View, and it'll handles the upload. ////\n    //// Set to nil for existing collections. ////\n    if (imageToUpload)\n    {\n        childController.imageToUpload = imageToUpload;\n    }\n\n    childController.hidesBottomBarWhenPushed = YES;\n    self.navigationItem.backBarButtonItem = [[UIBarButtonItem alloc] initWithTitle:@\"Back\" style:UIBarButtonItemStylePlain target:nil action:nil];\n\n    [self.navigationController pushViewController:childController animated:animated];\n}\n\n- (void)pushChildControllerForCollectedLeaf:(CollectedLeaf*)theCollectedLeaf imageToUpload:(NSData*)imageToUpload\n{\n    [self pushChildControllerForCollectedLeaf:theCollectedLeaf imageToUpload:imageToUpload animated:YES];\n}\n\n#pragma mark Leaflet Photo Picker Delegate\n\n- (void)didPickImage:(NSData*)imageData atLocation:(CLLocation*)cLocation userDataset:(NSString *)userDataset\n{\n    //// Creates a new Collected Leaf ////\n    CollectedLeaf* collectedLeaf = (CollectedLeaf*)[NSEntityDescription insertNewObjectForEntityForName:@\"CollectedLeaf\" inManagedObjectContext:[self.fetchedResultsController managedObjectContext]];\n\n    //// Stores the geo-location to mCollectedLeaf ////\n    if (cLocation)\n    {\n        collectedLeaf.latitude = [NSString stringWithFormat:@\"%f\", cLocation.coordinate.latitude];\n        collectedLeaf.longitude = [NSString stringWithFormat:@\"%f\", cLocation.coordinate.longitude];\n        collectedLeaf.altitude = [NSString stringWithFormat:@\"%f\", cLocation.altitude];\n\n    }\n    else\n    {\n        collectedLeaf.latitude = kGeoLocationNotAvailable;\n        collectedLeaf.longitude = kGeoLocationNotAvailable;\n        collectedLeaf.altitude = kGeoLocationNotAvailable;\n    }\n\n    collectedLeaf.collectedDate = [NSDate date];\n    collectedLeaf.selectedSpecies = kUnknownSpecies;\n    collectedLeaf.userDataset = userDataset;\n\n    [self pushChildControllerForCollectedLeaf:collectedLeaf imageToUpload:imageData animated:YES];\n}\n\n@end\n</code></pre>\n\n<p>Once the user selects a photo, it pushes the <code>CollectionDetailViewController</code> onto the nav stack. In the <code>viewDidLoad</code> method of <code>CollectionDetailViewController</code>, it pushes <code>CollectionDetailDataViewController</code> onto the nav stack, which displays a UITable. </p>\n\n<pre><code>/*CollectionDetailViewController.m */\n- (void)viewDidLoad \n{\n    containerView.frame = [self largeFrame];\n\n    dataVC = [[CollectionDetailDataViewController alloc] init];\n    dataVC.delegate = self;\n    dataVC.collectedLeaf = self.collectedLeaf;\n    dataVC.view.frame = [self normalFrame];\n\n    [self.navigationController pushViewController:dataVC animated:NO];\n    [super viewDidLoad];\n}\n</code></pre>\n\n<p>When I click on a cell of the UITable, it pushes a <code>SpeciesViewController</code> the app crashes with <code>Thread 1: exc_breakpoint (code=exc_i386_bpt subcode=0x0)</code>. </p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath \n{\n    RankedSpecies *theRankedSpecies = [fetchedResultsController objectAtIndexPath:indexPath];\n    SpeciesViewController* speciesController = [[[SpeciesViewController alloc]initWithNibName:@\"SpeciesViewController\" bundle:nil] autorelease];\n    speciesController.theSpecies = theRankedSpecies.Species;\n    [[tableView cellForRowAtIndexPath:indexPath] setSelected:NO animated:YES];\n    [self.navigationController pushViewController:speciesController animated:YES];\n\n}\n</code></pre>\n\n<p>Thinking this was an issue of deallocation, I tried to comment out all dealloc methods involved but the issue persisted. I think replaced pushviewcontroller to adding <code>SpeciesViewController</code> as a subview of <code>CollectionDetailDataViewController</code>.</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath \n{\n    RankedSpecies *theRankedSpecies = [fetchedResultsController objectAtIndexPath:indexPath];\n    SpeciesViewController* speciesController = [[[SpeciesViewController alloc]initWithNibName:@\"SpeciesViewController\" bundle:nil] autorelease];\n    speciesController.theSpecies = theRankedSpecies.Species;\n    [[tableView cellForRowAtIndexPath:indexPath] setSelected:NO animated:YES];\n\n    [self addChildViewController:speciesController];\n    [self.view addSubview:speciesController.view];\n    [speciesController didMoveToParentViewController:self];\n\n}\n</code></pre>\n\n<p>It now goes to the next view, but the app then crashes with the same exception code. </p>\n\n<p>I have enabled Zombies and also added the exception breakpoint in the breakpoint navigator. I am working on getting a version of my code onto git so that others can experience my issue and potentially identify a solution.</p>\n\n<p>the error printed in the consol:</p>\n\n<pre><code>2017-08-30 00:14:37.034 Leaflet-US[86918:4332982] *** -[SnapItViewController retain]: message sent to deallocated instance 0x7fae4470d4c0\n</code></pre>\n\n<p>the crash stack trace:\n<a href=\"https://i.stack.imgur.com/EwZdt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EwZdt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "cocoapods"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504257668, "post_id": 45950824, "comment_id": 78953974, "body": "Can you access that URL <code>http:&#47;&#47;dev.umeng.com&#47;system&#47;resources&#47;W1siZiIsIjIwMTcvMDEvMj&zwnj;&#8203;IvMTFfMDNfMjRfNzM0X3&zwnj;&#8203;Vtc2RrX0lPU19hbmFseW&zwnj;&#8203;ljc19ub19pZGZhX3Y0Lj&zwnj;&#8203;IuNS56aXAiXV0&#47;umsdk_&zwnj;&#8203;IOS_analyics_no-idfa&zwnj;&#8203;_v4.2.5.zip</code> ? It&#39;s the URL for the download of the ressource provided in the podspec (<a href=\"https://github.com/CocoaPods/Specs/blob/master/Specs/e/3/7/UMengAnalytics-NO-IDFA/4.2.5/UMengAnalytics-NO-IDFA.podspec.json\" rel=\"nofollow noreferrer\">github.com/CocoaPods/Specs/blob/master/Specs/e/3/7/&hellip;</a>). You may have an issue about a firewall (VPN? DNS?) that could lead to your issue."}, {"owner": {"reputation": 81, "user_id": 6206832, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/79bff04c0abb4317f0910398baf1c296?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/6206832/jeremy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504266111, "post_id": 45950824, "comment_id": 78959056, "body": "Yes, I can access this URL in my browser. And I have set the http_proxy in my terminal so I can get through the firewall. But my DNS is automatically assigned to 192.168.18.1 because I am using the inner network of my company."}, {"owner": {"reputation": 81, "user_id": 6206832, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/79bff04c0abb4317f0910398baf1c296?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/6206832/jeremy"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504317357, "post_id": 45950824, "comment_id": 78980336, "body": "And I can get the content of that URL through the <code>requests</code> library of <code>Python3</code> in the terminal environment, so is there any possibility that the <code>UMengAnalytics-NO-IDFA</code> itself doesn&#39;t support Internet proxy? I have tried to turn off my proxy but it still didn&#39;t work.  The only solution I can get now is to install <code>UMengAnalytics-NO-IDFA</code> manually."}], "owner": {"reputation": 81, "user_id": 6206832, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/79bff04c0abb4317f0910398baf1c296?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/6206832/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1504058809, "creation_date": 1504058809, "question_id": 45950824, "link": "https://stackoverflow.com/questions/45950824/cocoapods-install-error-0curl-6-could-not-resolve-host-127-0-0-1", "title": "Cocoapods install error : 0curl: (6) Could not resolve host: \u201c127.0.0.1", "body": "<p>I am using cocoapods to manager the third parties of my iOS app. Before today, it performed well. But when I tried to install a new third framework named <code>UMengAnalytics-NO-IDFA</code>, it gave me an error which I cannot figure out the reason, cause when I install other frameworks it all go well. Does anybody know the reason?</p>\n\n<p><a href=\"https://i.stack.imgur.com/MfM6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MfM6E.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 316, "user_id": 7943220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8552878f96880d8c0e95e50483aafe94?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Tanna", "link": "https://stackoverflow.com/users/7943220/mayur-tanna"}, "edited": false, "score": 0, "creation_date": 1547355804, "post_id": 45949482, "comment_id": 95162060, "body": "you can use this  link as reference <a href=\"https://github.com/rootkit/LiveFaceMask\" rel=\"nofollow noreferrer\">github.com/rootkit/LiveFaceMask</a>"}], "owner": {"reputation": 61, "user_id": 7829755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/981f3bab0483d8cf3e819cbc6c6fd05a?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7829755/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504047571, "creation_date": 1504047571, "question_id": 45949482, "link": "https://stackoverflow.com/questions/45949482/grabbing-face-landmark-points-from-dlib-library-to-my-swift-code", "title": "Grabbing face landmark points from Dlib library to my Swift Code", "body": "<p>I downloaded an algorithm from the GitHub repository, for basic face landmark recognition purposes. </p>\n\n<p>This project is a mix of Objective C code and Swift code, and I'm having problems to adapt the Objective C side.</p>\n\n<p><strong>The code:</strong></p>\n\n<p>This is the main function that detects all landmark points from the image captured by the camera:</p>\n\n<pre><code>- (void)doWorkOnSampleBuffer:(CMSampleBufferRef)sampleBuffer inRects:(NSArray&lt;NSValue *&gt; *)rects {\n\nif (!self.prepared) {\n    [self prepare];\n}\n\ndlib::array2d&lt;dlib::bgr_pixel&gt; img;\n\n// MARK: magic\nCVImageBufferRef imageBuffer = CMSampleBufferGetImageBuffer(sampleBuffer);\nCVPixelBufferLockBaseAddress(imageBuffer, kCVPixelBufferLock_ReadOnly);\n\nsize_t width = CVPixelBufferGetWidth(imageBuffer);\nsize_t height = CVPixelBufferGetHeight(imageBuffer);\nchar *baseBuffer = (char *)CVPixelBufferGetBaseAddress(imageBuffer);\n\n// set_size expects rows, cols format\nimg.set_size(height, width);\n\n// copy samplebuffer image data into dlib image format\nimg.reset();\nlong position = 0;\nwhile (img.move_next()) {\n    dlib::bgr_pixel&amp; pixel = img.element();\n\n    // assuming bgra format here\n    long bufferLocation = position * 4; //(row * width + column) * 4;\n    char b = baseBuffer[bufferLocation];\n    char g = baseBuffer[bufferLocation + 1];\n    char r = baseBuffer[bufferLocation + 2];\n    //        we do not need this\n    //        char a = baseBuffer[bufferLocation + 3];\n\n    dlib::bgr_pixel newpixel(b, g, r);\n    pixel = newpixel;\n\n    position++;\n}\n\n// unlock buffer again until we need it again\nCVPixelBufferUnlockBaseAddress(imageBuffer, kCVPixelBufferLock_ReadOnly);\n\n// convert the face bounds list to dlib format\nstd::vector&lt;dlib::rectangle&gt; convertedRectangles = [DlibWrapper convertCGRectValueArray:rects];\n\n// for every detected face\nfor (unsigned long j = 0; j &lt; convertedRectangles.size(); ++j)\n{\n    dlib::rectangle oneFaceRect = convertedRectangles[j];\n\n    // detect all landmarks\n    dlib::full_object_detection shape = sp(img, oneFaceRect);\n\n\n    // and draw them into the image (samplebuffer)\n    for (unsigned long k = 0; k &lt; shape.num_parts(); k++) {\n        dlib::point p = shape.part(k);\n\n        NSLog(@\"point x,y: %ld,%ldd\", p.x(), p.y());\n\n\n        draw_solid_circle(img, p, 3, dlib::rgb_pixel(0, 255, 255));\n\n    }\n}\n\n// lets put everything back where it belongs\nCVPixelBufferLockBaseAddress(imageBuffer, 0);\n\n// copy dlib image data back into samplebuffer\nimg.reset();\nposition = 0;\nwhile (img.move_next()) {\n    dlib::bgr_pixel&amp; pixel = img.element();\n\n    // assuming bgra format here\n    long bufferLocation = position * 4; //(row * width + column) * 4;\n    baseBuffer[bufferLocation] = pixel.blue;\n    baseBuffer[bufferLocation + 1] = pixel.green;\n    baseBuffer[bufferLocation + 2] = pixel.red;\n    //        we do not need this\n    //        char a = baseBuffer[bufferLocation + 3];\n\n    position++;\n}\nCVPixelBufferUnlockBaseAddress(imageBuffer, 0);\n}\n</code></pre>\n\n<p>And this is the main class (in Swift) that handles the camera image capture:</p>\n\n<pre><code>import AVFoundation\n\nclass SessionHandler : NSObject, AVCaptureVideoDataOutputSampleBufferDelegate, AVCaptureMetadataOutputObjectsDelegate {\n\nvar session = AVCaptureSession()\nlet layer = AVSampleBufferDisplayLayer()\nlet sampleQueue = DispatchQueue(label: \"com.zweigraf.DisplayLiveSamples.sampleQueue\", attributes: [])\nlet faceQueue = DispatchQueue(label: \"com.zweigraf.DisplayLiveSamples.faceQueue\", attributes: [])\nlet wrapper = DlibWrapper()\n\nvar currentMetadata: [AnyObject]\n\noverride init() {\n    currentMetadata = []\n    super.init()\n}\n\nfunc openSession() {\n    let device = AVCaptureDevice.devices(withMediaType: AVMediaTypeVideo)\n        .map { $0 as! AVCaptureDevice }\n        .filter { $0.position == .front}\n        .first!\n\n    let input = try! AVCaptureDeviceInput(device: device)\n\n    let output = AVCaptureVideoDataOutput()\n    output.setSampleBufferDelegate(self, queue: sampleQueue)\n\n    let metaOutput = AVCaptureMetadataOutput()\n    metaOutput.setMetadataObjectsDelegate(self, queue: faceQueue)\n\n    session.beginConfiguration()\n\n    if session.canAddInput(input) {\n        session.addInput(input)\n    }\n    if session.canAddOutput(output) {\n        session.addOutput(output)\n    }\n    if session.canAddOutput(metaOutput) {\n        session.addOutput(metaOutput)\n    }\n\n    session.commitConfiguration()\n\n    let settings: [AnyHashable: Any] = [kCVPixelBufferPixelFormatTypeKey as AnyHashable: Int(kCVPixelFormatType_32BGRA)]\n    output.videoSettings = settings\n\n    // availableMetadataObjectTypes change when output is added to session.\n    // before it is added, availableMetadataObjectTypes is empty\n    metaOutput.metadataObjectTypes = [AVMetadataObjectTypeFace]\n\n    wrapper?.prepare()\n\n    session.startRunning()\n}\n\n// MARK: AVCaptureVideoDataOutputSampleBufferDelegate\nfunc captureOutput(_ captureOutput: AVCaptureOutput!, didOutputSampleBuffer sampleBuffer: CMSampleBuffer!, from connection: AVCaptureConnection!) {\n\n    if !currentMetadata.isEmpty {\n        var boundsArray = currentMetadata\n            .flatMap { $0 as? AVMetadataFaceObject }\n            .map { (faceObject) -&gt; NSValue in\n                let convertedObject = captureOutput.transformedMetadataObject(for: faceObject, connection: connection)\n                return NSValue(cgRect: convertedObject!.bounds)\n        }\n\n        wrapper?.doWork(sampleBuffer, inRects: boundsArray)  \n    }\n\n    layer.enqueue(sampleBuffer)\n}\n\nfunc captureOutput(_ captureOutput: AVCaptureOutput!, didDrop sampleBuffer: CMSampleBuffer!, from connection: AVCaptureConnection!) {\n    //print(\"DidDropSampleBuffer\")\n}\n\n// MARK: AVCaptureMetadataOutputObjectsDelegate\n\nfunc captureOutput(_ captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [Any]!, from connection: AVCaptureConnection!) {\n    currentMetadata = metadataObjects as [AnyObject]\n    //print(\"currentMetadata: \", currentMetadata[0].point)\n}\n}\n</code></pre>\n\n<p>So, I'm trying to figure out how to grab the coordinates (x, y) of the points detected by the function <strong>doWorkOnSampleBuffer</strong>, and read them inside the function <strong>captureOutput</strong>.</p>\n\n<p>My final goal is to create a mask overlapping the camera image and all points drawn by the function <strong>doWorkOnSampleBuffer</strong>.</p>\n\n<p><strong>>> What I think I have to do, but I don't know how to do:</strong></p>\n\n<p>I think I have to replace the function <strong>doWorkOnSampleBuffer</strong> to return the value of the point <strong>p</strong>, instead of returning <strong>void</strong>, and also change the function calling in <strong>SessionHandler</strong> to something like:</p>\n\n<pre><code>let point = CGPoint()\npoint = wrapper?.doWork(sampleBuffer, inRects: boundsArray) \n</code></pre>\n\n<p><strong>Note 1:</strong> I'm not creating this mask inside the Objective C function because I don't know how to deal with Objective C very well, but I can handle the Swift code.</p>\n\n<p><strong>Note 2:</strong> The full project is available for download at: <a href=\"https://github.com/zweigraf/face-landmarking-ios/\" rel=\"nofollow noreferrer\">https://github.com/zweigraf/face-landmarking-ios/</a></p>\n\n<p>Anyone?</p>\n"}, {"tags": ["objective-c", "json"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1504045647, "post_id": 45949176, "comment_id": 78857085, "body": "Put <i>two</i> backslashes? <code>&quot;[\\\\\\&quot;test\\\\\\&quot;]&quot;</code> (just an idea, haven&#39;t tried it)"}, {"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1504118380, "post_id": 45949176, "comment_id": 78894229, "body": "Post the actual code that isn&#39;t working. All that I can see from your question is that you did stuff and it didn&#39;t work. Not going to guess."}], "answers": [{"comments": [{"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504074744, "post_id": 45949330, "comment_id": 78864718, "body": "okay please dont forget to Accept the answer ,select the checkmark"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504078644, "post_id": 45949330, "comment_id": 78866977, "body": "<code>encoding:NSUTF8StringEncoding];</code> should be on the second line, not the first one."}], "tags": [], "owner": {"reputation": 698, "user_id": 1401336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/922dacea5493a7b4bd3c1daaf681c4d5?s=128&d=identicon&r=PG", "display_name": "Vigrant", "link": "https://stackoverflow.com/users/1401336/vigrant"}, "is_accepted": true, "score": 1, "last_activity_date": 1504046630, "creation_date": 1504046630, "answer_id": 45949330, "question_id": 45949176, "link": "https://stackoverflow.com/questions/45949176/storing-json-in-an-objective-c-nsstring/45949330#45949330", "title": "Storing JSON in an objective C NSString", "body": "<pre><code>NSData * jsonData = [NSJSONSerialization dataWithJSONObject:@[JSON] options:0 error:nil] encoding:NSUTF8StringEncoding];\nNSString * jsonString = [[NSString alloc] initWithData: jsonData];\n</code></pre>\n\n<p>This worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 1, "last_activity_date": 1504068891, "creation_date": 1504068891, "answer_id": 45952182, "question_id": 45949176, "link": "https://stackoverflow.com/questions/45949176/storing-json-in-an-objective-c-nsstring/45952182#45952182", "title": "Storing JSON in an objective C NSString", "body": "<p>use it </p>\n\n<pre><code> NSString*  str=[[NSString alloc] initWithData:[NSJSONSerialization dataWithJSONObject:@[JSON] options:0 error:nil] encoding:NSUTF8StringEncoding];\n</code></pre>\n"}], "owner": {"reputation": 698, "user_id": 1401336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/922dacea5493a7b4bd3c1daaf681c4d5?s=128&d=identicon&r=PG", "display_name": "Vigrant", "link": "https://stackoverflow.com/users/1401336/vigrant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 45949330, "answer_count": 2, "score": 1, "last_activity_date": 1504068891, "creation_date": 1504045550, "question_id": 45949176, "link": "https://stackoverflow.com/questions/45949176/storing-json-in-an-objective-c-nsstring", "title": "Storing JSON in an objective C NSString", "body": "<p>NSString removes the backslashes from the JSON. I'm eventually passing the variable into another javascript function that JSON.parses it. Because the backslashes are removed, the JSON.parse is failing.</p>\n\n<pre><code>JSON = \"[\\\"test\\\"]\"\nNSString = \"[test]\" (Stored as)\nJSON.parse(NSString) -&gt; fails\n</code></pre>\n"}, {"tags": ["javascript", "objective-c", "swift", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 8055557, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213057484022499/picture?type=large", "display_name": "Felipe Koji Waku", "link": "https://stackoverflow.com/users/8055557/felipe-koji-waku"}, "is_accepted": false, "score": 0, "last_activity_date": 1504045531, "creation_date": 1504045531, "answer_id": 45949173, "question_id": 45947835, "link": "https://stackoverflow.com/questions/45947835/swift-react-native-callback-modules/45949173#45949173", "title": "Swift React Native Callback Modules", "body": "<p>Try to add a <code>_</code> before the first argument in your swift method:</p>\n\n<pre><code>import Foundation\n\n@objc(MyModule)\nclass MyModule: NSObject {\n\n  @objc func callbackMethod(_ callback: RCTResponseSenderBlock) -&gt; Void {\n     let resultsDict = [\n     \"success\" : true\n     ];\n\n    callback([NSNull() ,resultsDict])\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5187322, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/65ee195d3b0a50b63c3bc10dc556fb0e?s=128&d=identicon&r=PG&f=1", "display_name": "newguy222", "link": "https://stackoverflow.com/users/5187322/newguy222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 761, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504045531, "creation_date": 1504038522, "question_id": 45947835, "link": "https://stackoverflow.com/questions/45947835/swift-react-native-callback-modules", "title": "Swift React Native Callback Modules", "body": "<p>I'm trying to create a native swift module with a function I can call in my javascript code. Currently I have my <code>module.swift</code> file, my <code>module.m</code> file, and the bridging header.</p>\n\n<p>Here's MyModule.swift:</p>\n\n<pre><code>import Foundation\n\n@objc(MyModule)\nclass MyModule: NSObject {\n\n  @objc func callbackMethod(callback: RCTResponseSenderBlock) -&gt; Void {\n     let resultsDict = [\n     \"success\" : true\n     ];\n\n    callback([NSNull() ,resultsDict])\n  }\n\n}\n</code></pre>\n\n<p>Here's MyModule.m:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n// CalendarManagerBridge.m\n#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\n@interface RCT_EXTERN_MODULE(MyModule, NSObject)\n\nRCT_EXTERN_METHOD(callbackMethod:(RCTResponseSenderBlock)callback)\n\n@end\n</code></pre>\n\n<p>Here's the bridging header:</p>\n\n<pre><code>#import React/RCTBridgeModule.h\n\n#import React/RCTEventEmitter.h\n</code></pre>\n\n<p>Finally, here's my call in javascript:</p>\n\n<pre><code>const { MyModule } = require('NativeModules');\nMyModule.callbackMethod((err,r) =&gt; console.log(r));\n</code></pre>\n\n<p>The problem is that whenever I run the project, it causes an error: </p>\n\n<pre><code>Exception 'callbackMethod:(RCTResponseSenderBlock)callback is not a recognized Objective-c\n method.' \n</code></pre>\n\n<p>However, I can't find anything wrong with the documentation. Could someone please provide some help?</p>\n"}, {"tags": ["ios", "objective-c", "segue", "uistoryboard"], "comments": [{"owner": {"reputation": 4164, "user_id": 7132300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ef2cdd4c48a1a36e8395bf0d17431?s=128&d=identicon&r=PG&f=1", "display_name": "algrid", "link": "https://stackoverflow.com/users/7132300/algrid"}, "edited": false, "score": 0, "creation_date": 1504033393, "post_id": 45946090, "comment_id": 78851526, "body": "It looks like your <code>finish</code> method is called when your StartViewController isn&#39;t displayed."}], "answers": [{"tags": [], "owner": {"reputation": 2723, "user_id": 6846532, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-Egx8dniDK0E/AAAAAAAAAAI/AAAAAAAAADw/brBsfzgjC4I/photo.jpg?sz=128", "display_name": "Vasilii Muravev", "link": "https://stackoverflow.com/users/6846532/vasilii-muravev"}, "is_accepted": false, "score": 1, "last_activity_date": 1504032800, "creation_date": 1504032800, "answer_id": 45946414, "question_id": 45946090, "link": "https://stackoverflow.com/questions/45946090/error-when-attempt-to-present-viewcontroller-on-button-click-but-not-method-fire/45946414#45946414", "title": "Error when Attempt to Present ViewController on Button Click But Not Method Fire", "body": "<p>Where did you add your timer? You should add it in <code>viewDidAppear</code> in <code>StartViewController</code> and invalidate it in <code>viewWillDissapear</code>. And don't forget to run <code>performSegue</code> in main thread:</p>\n\n<pre><code>dispatch_async(dispatch_get_main_queue(), ^{\n  [self performSegueWithIdentifier:@\"segue_finished\" sender:self];\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 2814967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e8sWR.png?s=128&g=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/2814967/juan-carlos"}, "is_accepted": false, "score": 0, "last_activity_date": 1504034184, "creation_date": 1504034184, "answer_id": 45946768, "question_id": 45946090, "link": "https://stackoverflow.com/questions/45946090/error-when-attempt-to-present-viewcontroller-on-button-click-but-not-method-fire/45946768#45946768", "title": "Error when Attempt to Present ViewController on Button Click But Not Method Fire", "body": "<p>i had same this issue when i was accidentally presenting the same view controller twice.</p>\n\n<p>Check that it does not call the (stop) function when stop the timer.</p>\n"}], "owner": {"reputation": 3217, "user_id": 995931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/800518b9616592cb23fb1654925db06f?s=128&d=identicon&r=PG&f=1", "display_name": "user-44651", "link": "https://stackoverflow.com/users/995931/user-44651"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1504034184, "creation_date": 1504031628, "question_id": 45946090, "link": "https://stackoverflow.com/questions/45946090/error-when-attempt-to-present-viewcontroller-on-button-click-but-not-method-fire", "title": "Error when Attempt to Present ViewController on Button Click But Not Method Fire", "body": "<p>I have a <code>StartViewController</code> with a segue set up to a <code>FinishViewController</code>.</p>\n\n<p>The <code>StartViewController</code> has a button and timer. If the timer runs out it calls the method <code>finish</code>. But the user can click the stop button to move to the <code>FinishViewController</code>;</p>\n\n<p>If the user clicks the button, <code>stop</code>, the <code>FinishViewController</code> is loaded up.</p>\n\n<p>If the timer calls the <code>finish</code> method I get the error:</p>\n\n<blockquote>\n  <p>Warning: Attempt to present &lt; FinishViewController: 0x7c15a1d0> on\n  &lt; StartViewController: 0x7c252d20> whose view is not in the window\n  hierarchy!</p>\n</blockquote>\n\n<p>I don't understand why. The code is literally the same.</p>\n\n<p>Here is the code. </p>\n\n<pre><code>- (IBAction)stop:(id)sender {\n    [timer invalidate];\n    timer = nil;\n\n    [self performSegueWithIdentifier:@\"segue_finished\" sender:self];\n}\n\n- (void) finish {\n\n    [timer invalidate];\n    timer = nil;\n\n    [self performSegueWithIdentifier:@\"segue_finished\" sender:self];\n}\n\n- (void) prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    NSLog(@\"prepareForSegue %@\", [segue identifier]);\n\n    if ([[segue identifier] isEqualToString:@\"segue_finished\"]) {\n        NSLog(@\"segue  to finished. \");\n        FinishViewController * fvc = (FinishViewController*)segue.destinationViewController;\n\n    }\n\n}\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "watchos", "watchconnectivity"], "comments": [{"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1504050762, "post_id": 45945625, "comment_id": 78858446, "body": "You can try to clean all and then close iphone and watch simulator and restart."}, {"owner": {"reputation": 875, "user_id": 1219382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83b555774018825d7b1999a2e2c473aa?s=128&d=identicon&r=PG", "display_name": "psci", "link": "https://stackoverflow.com/users/1219382/psci"}, "edited": false, "score": 0, "creation_date": 1587971976, "post_id": 45945625, "comment_id": 108708789, "body": "I would try to hold reference to WCSession."}], "owner": {"reputation": 114, "user_id": 8380482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521d10871b5dffbb3a95100ef4433066?s=128&d=identicon&r=PG&f=1", "display_name": "mosene", "link": "https://stackoverflow.com/users/8380482/mosene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1468, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1504029668, "creation_date": 1504029668, "question_id": 45945625, "link": "https://stackoverflow.com/questions/45945625/wcsession-fails-to-activate-on-paired-watch-and-phone-simulators", "title": "WCSession fails to activate on paired watch and phone simulators", "body": "<p>Overview:</p>\n\n<ul>\n<li>I am building a very simple Apple Watch and iPhone app</li>\n<li>I am running/debugging the apps using the watch and phone simulators in Xcode</li>\n<li>I am using WatchConnectivity to make them communicate</li>\n<li><strong>I cannot activate a <code>WCSession</code> on either the watch or phone simulators although they are paired</strong></li>\n</ul>\n\n<p>In the Xcode Devices window, my watch simulator and phone simulator are paired. I am able to launch my watch app using the WatchKit App scheme (which also launches the phone simulator but doesn't open the mobile app). I then launch my mobile app by clicking on the app icon on the phone simulator.</p>\n\n<p>Mobile app:</p>\n\n<ul>\n<li><code>ViewController</code> implements <code>WCSessionDelegate</code></li>\n<li>WatchConnectivity session is activated in the <code>viewDidLoad</code> method</li>\n</ul>\n\n<p>Watch app:</p>\n\n<ul>\n<li><code>InterfaceController</code> implements <code>WCSessionDelegate</code></li>\n<li>WatchConnectivity session is activated in the <code>willActivate</code> method</li>\n</ul>\n\n<p>When I run the WatchKit app, the following message is logged:</p>\n\n<pre><code>[WC] WCSession has not been activated\n</code></pre>\n\n<p>When I then open the mobile app by clicking on the app icon, I get the following messages:</p>\n\n<pre><code>[WC] WCSession has not been activated\nApple Watch is not paired\n[WC] WCSession has not been activated\nWatchKit app is not installed on the paired watch\n</code></pre>\n\n<p>(I added logging statements to display the result of checking <code>isPaired</code> and <code>isWatchAppInstalled</code> on the session in the mobile app)</p>\n\n<p>My <code>WCSession</code> activation code is the same in my mobile app and watch app:</p>\n\n<pre><code>if ([WCSession isSupported]) {\n  WCSession *session = [WCSession defaultSession];\n  session.delegate = self;\n  [session activateSession];\n  // print debugging statements about paired watch, etc.\n}\n</code></pre>\n\n<p>Does anyone know why WatchConnectivity doesn't detect the fact that the phone and watch simulators are paired? Why doesn't the <code>WCSession</code> get activated?</p>\n"}, {"tags": ["objective-c", "xcode", "google-places-api"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 6666443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a464528cb85931a542d5195ebd2295ea?s=128&d=identicon&r=PG&f=1", "display_name": "George Young", "link": "https://stackoverflow.com/users/6666443/george-young"}, "edited": false, "score": 0, "creation_date": 1504027753, "post_id": 45944983, "comment_id": 78848460, "body": "How do I fix that though?"}, {"owner": {"reputation": 29, "user_id": 6666443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a464528cb85931a542d5195ebd2295ea?s=128&d=identicon&r=PG&f=1", "display_name": "George Young", "link": "https://stackoverflow.com/users/6666443/george-young"}, "edited": false, "score": 0, "creation_date": 1504028083, "post_id": 45944983, "comment_id": 78848647, "body": "Yes I am sure I accidentally was working in the xcodeproj then I switched into xcworkspace because I thought that was why i was getting the error."}], "tags": [], "owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "is_accepted": false, "score": 0, "last_activity_date": 1504027520, "creation_date": 1504027520, "answer_id": 45944983, "question_id": 45944866, "link": "https://stackoverflow.com/questions/45944866/google-places-with-objective-c-errors/45944983#45944983", "title": "Google places with objective c errors", "body": "<p>You're either not linking against the library that contains GMSPlacesClient or you built the library with the wrong architecture.</p>\n"}, {"tags": [], "owner": {"reputation": 11341, "user_id": 742314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3bc060c997482a619ad8b2c2c29e48?s=128&d=identicon&r=PG", "display_name": "idz", "link": "https://stackoverflow.com/users/742314/idz"}, "is_accepted": true, "score": 2, "last_activity_date": 1504033500, "creation_date": 1504033500, "answer_id": 45946610, "question_id": 45944866, "link": "https://stackoverflow.com/questions/45944866/google-places-with-objective-c-errors/45946610#45946610", "title": "Google places with objective c errors", "body": "<p>If source code for the library is available, CocoaPods is pretty good about making sure the correct architecture is built. In this case, the Google Places library is a pre-build library so there is a risk that it did not contain a slice with correct architecture. The <code>file</code> command can be used to check if a library contains a slice. The next possibility is that somehow the library was not included in the link. This can happen if you open the Xcode project instead of the Xcode workspace created by CocoaPods. Checking that the workspace is indeed being used and that Pod library is being linked can be used to eliminate this problem. Finally, if all else fails (and again CocoaPods usually seems to get this correct) make sure the 'Other Linker Flags' build setting contains the -ObjC setting. This is need to force the loading on some Objective-C symbols from static libraries.</p>\n\n<p>So in summary</p>\n\n<ol>\n<li>Check prebuilt libraries contain the needed slice</li>\n<li>Make sure you're using the workspace not the project </li>\n<li>Make sure the Pod library is included in the link </li>\n<li>Make sure -ObjC is specified in\nthe 'Other Linker Flags'</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 2814967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e8sWR.png?s=128&g=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/2814967/juan-carlos"}, "is_accepted": false, "score": 0, "last_activity_date": 1504035004, "creation_date": 1504035004, "answer_id": 45946979, "question_id": 45944866, "link": "https://stackoverflow.com/questions/45944866/google-places-with-objective-c-errors/45946979#45946979", "title": "Google places with objective c errors", "body": "<p>Modify your pod file:</p>\n\n<p>pod 'GooglePlaces'</p>\n\n<p>pod 'GooglePlacePicker'</p>\n\n<p>pod 'GoogleMaps'</p>\n"}], "owner": {"reputation": 29, "user_id": 6666443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a464528cb85931a542d5195ebd2295ea?s=128&d=identicon&r=PG&f=1", "display_name": "George Young", "link": "https://stackoverflow.com/users/6666443/george-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 45946610, "answer_count": 3, "score": 0, "last_activity_date": 1504035004, "creation_date": 1504027169, "last_edit_date": 1504030339, "question_id": 45944866, "link": "https://stackoverflow.com/questions/45944866/google-places-with-objective-c-errors", "title": "Google places with objective c errors", "body": "<p>Hello I just used pods to implement google places with my application but when I try to run my app I get this error.</p>\n\n<pre><code>Undefined symbols for architecture arm64:\n  \"_OBJC_CLASS_$_GMSPlacesClient\", referenced from:\n      objc-class-ref in ViewController.o\n      objc-class-ref in AppDelegate.o\nld: symbol(s) not found for architecture arm64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>this is my pod file:</p>\n\n<pre><code>source 'https://github.com/CocoaPods/Specs.git'\nproject '/Users/GeorgeYoung/Desktop/Travel/Travel.xcodeproj'\ntarget 'Travel' do\npod 'GooglePlaces'\nend\n</code></pre>\n\n<p>The error apears to be coming from the AppDelegate.m</p>\n\n<p>[GMSPlacesClient provideAPIKey:@\"AIzaSyBYRDTp7U-633XB81qsBeOiVGhokPrc6_M\"];</p>\n\n<p>Podfile.lock:</p>\n\n<pre><code>PODS:\n  - GoogleMaps/Base (2.4.0)\n  - GooglePlaces (2.4.0):\n    - GoogleMaps/Base (= 2.4.0)\n\nDEPENDENCIES:\n  - GooglePlaces\n\nSPEC CHECKSUMS:\n  GoogleMaps: 8436ab5d1c25e36915b2f7416d0c8e3fa2e76c61\n  GooglePlaces: aafe5990fa7951e98e078761bbdaaf236d7e0c65\n\nPODFILE CHECKSUM: e564be8d79cfc6ae7b4a4a197ee6149eac7d65d2\n\nCOCOAPODS: 1.3.1\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "ios-autolayout"], "comments": [{"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1504026010, "post_id": 45944554, "comment_id": 78847576, "body": "remove the whiteSpace <code>@&quot;H: |-16-[v0]-16-|&quot;</code>should be <code>@&quot;H:|-16-[v0]-16-|&quot;</code>"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026148, "post_id": 45944554, "comment_id": 78847644, "body": "@ReinierMelian Thanks for reply. i tried but still crashes with same error"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026274, "post_id": 45944554, "comment_id": 78847695, "body": "@ReinierMelian Your opinion on obj c syntax of swift . Are they equivalent? do i have to make change?"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026384, "post_id": 45944554, "comment_id": 78847762, "body": "In Objctive-C code is where you have a whitespace did you check removing it?"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026493, "post_id": 45944554, "comment_id": 78847814, "body": "@ReinierMelian yes i removed whitespace in Xcode but still crashes"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026661, "post_id": 45944554, "comment_id": 78847910, "body": "@ReinierMelian i copied syntax from from <a href=\"https://autolayoutconstraints.com/\" rel=\"nofollow noreferrer\">autolayoutconstraints.com</a> do i have to change views:NSDictionaryOfVariableBindings(thumbnailImageView)?"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026688, "post_id": 45944554, "comment_id": 78847922, "body": "replace <code>@&quot;H:|-16-[v0]-16-|&quot;</code>  by <code>@&quot;H:|-16-[thumbnailImageView]-16-|&quot;</code>"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026841, "post_id": 45944554, "comment_id": 78847990, "body": "@ReinierMelian  Thankyou. Fixed issue"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 1, "creation_date": 1504026897, "post_id": 45944739, "comment_id": 78848014, "body": "Thankyou for the help"}], "tags": [], "owner": {"reputation": 11341, "user_id": 742314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3bc060c997482a619ad8b2c2c29e48?s=128&d=identicon&r=PG", "display_name": "idz", "link": "https://stackoverflow.com/users/742314/idz"}, "is_accepted": true, "score": 3, "last_activity_date": 1504026971, "last_edit_date": 1504026971, "creation_date": 1504026656, "answer_id": 45944739, "question_id": 45944554, "link": "https://stackoverflow.com/questions/45944554/objective-c-equivalent-of-swift-addconstraints/45944739#45944739", "title": "Objective C equivalent of Swift addConstraints?", "body": "<p><code>NSDictionaryOfVariableBindings</code>  produces variable bindings that match your Objective-C variable names. So you need to write the constraint as </p>\n\n<pre><code>[self addConstraints:[NSLayoutConstraint \nconstraintsWithVisualFormat:@\"H:|-16-[thumbnailImageView]-16-|\" \noptions:0 \nmetrics:nil \nviews:NSDictionaryOfVariableBindings(thumbnailImageView)]];\n</code></pre>\n\n<p>Or you just skip <code>NSDictionaryOfVairableDBindings</code> and use:</p>\n\n<pre><code>[self addConstraints:[NSLayoutConstraint \nconstraintsWithVisualFormat:@\"H:|-16-[v0]-16-|\" \noptions:0 \nmetrics:nil \nviews:@{ @\"v0\" : thumbnailImageView } ];\n</code></pre>\n\n<p>which is a bit more like the Swift version. (Don't have compiler handy just at the moment so might be some small syntax errors in the second part. Will check ASAP).</p>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1504027227, "post_id": 45944788, "comment_id": 78848169, "body": "Thankyou for the help"}], "tags": [], "owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "is_accepted": false, "score": 3, "last_activity_date": 1504027417, "last_edit_date": 1504027417, "creation_date": 1504026894, "answer_id": 45944788, "question_id": 45944554, "link": "https://stackoverflow.com/questions/45944554/objective-c-equivalent-of-swift-addconstraints/45944788#45944788", "title": "Objective C equivalent of Swift addConstraints?", "body": "<p>You are using wrongly the macro <code>NSDictionaryOfVariableBindings</code> you need to pass the variable name instead</p>\n\n<blockquote>\n  <p>/* This macro is a helper for making view dictionaries for\n  +constraintsWithVisualFormat:options:metrics:views:.    NSDictionaryOfVariableBindings(v1, v2, v3) is equivalent to\n  [NSDictionary dictionaryWithObjectsAndKeys:v1, @\"v1\", v2, @\"v2\", v3,\n  @\"v3\", nil];  */</p>\n</blockquote>\n\n<pre><code> [self addConstraints:[NSLayoutConstraint \nconstraintsWithVisualFormat:@\"H:|-16-[thumbnailImageView]-16-|\" \noptions:0 \nmetrics:nil \nviews:NSDictionaryOfVariableBindings(thumbnailImageView)]];\n\n    [self addConstraints:[NSLayoutConstraint\nconstraintsWithVisualFormat:@\"V:|-16-[thumbnailImageView]-16-|\" \noptions:0 \nmetrics:nil \nviews:NSDictionaryOfVariableBindings(thumbnailImageView)]];\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 45944739, "answer_count": 2, "score": 2, "last_activity_date": 1504027417, "creation_date": 1504025825, "last_edit_date": 1504026727, "question_id": 45944554, "link": "https://stackoverflow.com/questions/45944554/objective-c-equivalent-of-swift-addconstraints", "title": "Objective C equivalent of Swift addConstraints?", "body": "<p>i am a newbie in autolayout using code.</p>\n\n<pre><code>addConstaints(NSLayoutConstraint.constraintsWithVisualFormat(\"H:|-16-[v0]-16-|\",options:NSLayoutFormatOptions(), metrics:nil ,views:[\"v0\":thumbnailImageView]))\n\naddConstaints(NSLayoutConstraint.constraintsWithVisualFormat(\"H:|-16-[v0]-16-|\",options:NSLayoutFormatOptions(), metrics:nil ,views:[\"v0\":thumbnailImageView]))\n</code></pre>\n\n<p>Iam trying to achieve above swift code in Objective C using below code but app crashes on load with below error</p>\n\n<p><strong>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Unable to parse constraint format: \nExpected a view \nH: |-16-[v0]-16-| \n  ^'</strong></p>\n\n<pre><code>    [self addConstraints:[NSLayoutConstraint \nconstraintsWithVisualFormat:@\"H:|-16-[v0]-16-|\" \noptions:0 \nmetrics:nil \nviews:NSDictionaryOfVariableBindings(thumbnailImageView)]];\n\n    [self addConstraints:[NSLayoutConstraint\nconstraintsWithVisualFormat:@\"V:|-16-[v0]-16-|\" \noptions:0 \nmetrics:nil \nviews:NSDictionaryOfVariableBindings(thumbnailImageView)]];\n</code></pre>\n\n<p>.....</p>\n\n<pre><code>UIImageView * thumbnailImageView = [[UIImageView alloc] init];\n        thumbnailImageView.backgroundColor = [UIColor greenColor];\n        thumbnailImageView.translatesAutoresizingMaskIntoConstraints = false;\n\n        [self addSubview:thumbnailImageView];\n\n\n        thumbnailImageView.frame = CGRectMake(0, 0, 100, 100);\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsstring"], "comments": [{"owner": {"reputation": 1164, "user_id": 5251507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjW2B.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/5251507/rahul-kumar"}, "edited": false, "score": 0, "creation_date": 1504027692, "post_id": 45944549, "comment_id": 78848418, "body": "Your code is working fine. It shows log in next three lines."}], "answers": [{"comments": [{"owner": {"reputation": 2537, "user_id": 1720829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e2DBe.png?s=128&g=1", "display_name": "Nathan F.", "link": "https://stackoverflow.com/users/1720829/nathan-f"}, "edited": false, "score": 0, "creation_date": 1504027927, "post_id": 45944784, "comment_id": 78848557, "body": "Turns out the issue was the way I was greping my logs was missing the remaining lines. I feel rather stupid now."}], "tags": [], "owner": {"reputation": 49334, "user_id": 168493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/222744c69de603549106896f3f222a8d?s=128&d=identicon&r=PG", "display_name": "Marcus Adams", "link": "https://stackoverflow.com/users/168493/marcus-adams"}, "is_accepted": true, "score": 2, "last_activity_date": 1504027290, "last_edit_date": 1504027290, "creation_date": 1504026879, "answer_id": 45944784, "question_id": 45944549, "link": "https://stackoverflow.com/questions/45944549/parsing-char-to-nsstring-stops-at-first-new-line-in-objective-c/45944784#45944784", "title": "Parsing char* to NSString stops at first new line in Objective-C", "body": "<p>Your code should work. I just tried it and it worked for me, when looking at the debug log in Xcode.</p>\n\n<p>Note that you'll actually get two new lines in your <code>NSLog</code> output, one for <code>\\r</code> and one for <code>\\n</code>.</p>\n"}], "owner": {"reputation": 2537, "user_id": 1720829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e2DBe.png?s=128&g=1", "display_name": "Nathan F.", "link": "https://stackoverflow.com/users/1720829/nathan-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 45944784, "answer_count": 1, "score": -1, "last_activity_date": 1504027290, "creation_date": 1504025809, "last_edit_date": 1504026183, "question_id": 45944549, "link": "https://stackoverflow.com/questions/45944549/parsing-char-to-nsstring-stops-at-first-new-line-in-objective-c", "title": "Parsing char* to NSString stops at first new line in Objective-C", "body": "<p>I'm trying to convert a string returned from a library to an NSString to use with a separate Objective-C API, however whenever I parse the <code>char*</code> to a <code>NSString</code> it seems to stop at the first new line. </p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>char *tst = \"POST /servers HTTP/1.0\\r\\nContent-Type: test/json\\r\\nContent-Length:10\\r\\n\\r\\n1234567890\";\nNSLog(@\"(TEST) : TST = %@\", [NSString stringWithUTF8String:tst]);\n</code></pre>\n\n<hr>\n\n<p><strong>Output:</strong> </p>\n\n<pre><code>&lt;Notice&gt;: (TEST) : TST = POST /servers HTTP/1.0\n</code></pre>\n\n<blockquote>\n  <p>I'm not sure if this is it ACTUALLY not parsing past the first new line, or if NSLog simply isn't displaying the rest of the string past the first newline character. And that's what I'm trying to figure out.</p>\n</blockquote>\n\n<hr>\n\n<h2>Edit:</h2>\n\n<hr>\n\n<blockquote>\n  <p>I've also tried replacing the <code>\\r\\n</code> instances with only <code>\\n</code> with no change. </p>\n</blockquote>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>char *tst = \"POST /servers HTTP/1.0\\r\\nContent-Type: test/json\\r\\nContent-Length:10\\r\\n\\r\\n1234567890\";\nNSString *tstStr = [NSString stringWithUTF8String:tst];\nNSLog(@\"(TEST) : TST = %@\", [tstStr stringByReplacingOccurrencesOfString:@\"\\r\\n\" withString:@\"\\n\"]);\n</code></pre>\n\n<hr>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>&lt;Notice&gt;: (TEST) : TST = POST /servers HTTP/1.0\n</code></pre>\n"}, {"tags": ["objective-c", "nspredicate"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504041388, "post_id": 45944325, "comment_id": 78855532, "body": "Did you try and did it work?"}, {"owner": {"reputation": 1868, "user_id": 1696598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jx2Gx.jpg?s=128&g=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/1696598/eddie"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504061042, "post_id": 45944325, "comment_id": 78860670, "body": "It doesn&#39;t. I used normal predicate (<code>id = 1 OR id = 2</code>) and print it out in lldb and it show: <code>id == 1 OR id == 2</code>. However, when use predicate with the sample, it show: <code>&quot;id&quot; == 1 OR &quot;id&quot; ==2</code> and doesn&#39;t filter correct data. It seems <code>subtitutionVariables</code> replace the placeholder with a string, not as a key."}], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 1, "last_activity_date": 1504071150, "creation_date": 1504071150, "answer_id": 45952593, "question_id": 45944325, "link": "https://stackoverflow.com/questions/45944325/can-i-use-predicatewithsubstitutionvariables-or-something-similar-for-the-key/45952593#45952593", "title": "Can I use `predicateWithSubstitutionVariables` or something similar for the key instead of the value?", "body": "<p>The key must be a keypath expression:</p>\n\n<pre><code>[predicate predicateWithSubstitutionVariables:@{@\"key\": [NSExpression expressionForKeyPath:@\"myProperty\"]}]\n</code></pre>\n\n<p>will result in predicate</p>\n\n<pre><code>(myProperty == \"value1\" OR myProperty == \"value2\") AND myProperty != \"0\"\n</code></pre>\n"}], "owner": {"reputation": 1868, "user_id": 1696598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/jx2Gx.jpg?s=128&g=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/1696598/eddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 45952593, "answer_count": 1, "score": 0, "last_activity_date": 1504071150, "creation_date": 1504024945, "question_id": 45944325, "link": "https://stackoverflow.com/questions/45944325/can-i-use-predicatewithsubstitutionvariables-or-something-similar-for-the-key", "title": "Can I use `predicateWithSubstitutionVariables` or something similar for the key instead of the value?", "body": "<p>Once I asked for how to pass 1 keywords to multiple keys and got this answer: <a href=\"https://stackoverflow.com/a/31129169/1696598\">Use 1 search value for multiple keywords</a>. And then, I asked for how to pass the key as param: <a href=\"https://stackoverflow.com/a/19673885/1696598\">Pass the key as param in NSPredicate</a></p>\n\n<p>So now, I'm curious if I can do the vice-versa: Can I pass multiple keys as param with 1 (or maybe many) search words? If yes, then how would it look like?</p>\n\n<p>Some code for you guys to edit.</p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"(($key = 'value1') \n                           @\" OR ($key = 'value2')) \"\n                           @\" AND ($key != '0') \"]; \n\npredicate = [predicate predicateWithSubstitutionVariables:@{@\"key\": @\"myProperty\"}];\n</code></pre>\n\n<p>Note that in the predicate, there's a (AND !=) so I won't be able to use the <code>IN predicate</code>: </p>\n\n<p><code>[NSPredicate predicateWithFormat:@\"myProperty IN %@\", \n                                 @[@\"value1\", @\"value2\", @\"value3\"]];</code></p>\n\n<p>Those are just some sample code so please don't try to fix the predicate but keep your eyes on the question: <code>substituteVariables</code> with the variables is the Key to filter.</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "nsstring", "nsurl"], "comments": [{"owner": {"reputation": 17717, "user_id": 5706328, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Oduzv.jpg?s=128&g=1", "display_name": "Sandeep Bhandari", "link": "https://stackoverflow.com/users/5706328/sandeep-bhandari"}, "edited": false, "score": 0, "creation_date": 1504025047, "post_id": 45944306, "comment_id": 78847097, "body": "May be the String u are passing to your method is not a proper url. Print the url using NSLog() before trying to convert it to NSURL in ur method"}, {"owner": {"reputation": 1164, "user_id": 5251507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mjW2B.jpg?s=128&g=1", "display_name": "Rahul Kumar", "link": "https://stackoverflow.com/users/5251507/rahul-kumar"}, "edited": false, "score": 1, "creation_date": 1504025470, "post_id": 45944306, "comment_id": 78847307, "body": "Can you add your method and it&#39;s call?"}, {"owner": {"reputation": 837, "user_id": 6923171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvE9H.jpg?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/6923171/julius"}, "edited": false, "score": 0, "creation_date": 1504027274, "post_id": 45944306, "comment_id": 78848194, "body": "It&#39;s not clear where your urlString parameter comes from."}, {"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 1, "creation_date": 1504028109, "post_id": 45944306, "comment_id": 78848659, "body": "What you say doesn&#39;t make sense. We need to see your actual function and the code that&#39;s calling it. The devil is in the details."}, {"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1504035589, "post_id": 45944306, "comment_id": 78852624, "body": "For example, the first line, if uncommented, cannot work, because it doesn&#39;t compile."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1504050954, "post_id": 45944306, "comment_id": 78858497, "body": "Im guessing the urlstring is brazzers.com so he cannot reveal it. :D"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504081532, "post_id": 45944306, "comment_id": 78868775, "body": "<code>urlString</code> is it really a <code>NSString</code>? From where did you get it? Could it be because you parsed it wrong? Do it has extra ( or { ?"}], "answers": [{"tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504070284, "creation_date": 1504070284, "answer_id": 45952428, "question_id": 45944306, "link": "https://stackoverflow.com/questions/45944306/xcode-nsstring-to-nsurl-conversion-issue/45952428#45952428", "title": "Xcode: NSString to NSUrl conversion issue", "body": "<p>use as</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@\"%@\",@\"http://someimage.png\"]];\nNSLog(@\"Url after conversion %@\", url);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 2908751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1da35ea63fbeedb4fc6bf51a269b345c?s=128&d=identicon&r=PG&f=1", "display_name": "user2908751", "link": "https://stackoverflow.com/users/2908751/user2908751"}, "is_accepted": true, "score": 0, "last_activity_date": 1504094646, "creation_date": 1504094646, "answer_id": 45959953, "question_id": 45944306, "link": "https://stackoverflow.com/questions/45944306/xcode-nsstring-to-nsurl-conversion-issue/45959953#45959953", "title": "Xcode: NSString to NSUrl conversion issue", "body": "<p>Thanks guys for your answers. I finally have fixed the issue and the issue was in the URL string I was passing as a parameter. It had some extra \"\" at the ends which were not showing up in the NSLog as it was a normal string, but when I removed those \"\" from the url string and then converted it to NSURL, it worked fine.</p>\n"}], "owner": {"reputation": 175, "user_id": 2908751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1da35ea63fbeedb4fc6bf51a269b345c?s=128&d=identicon&r=PG&f=1", "display_name": "user2908751", "link": "https://stackoverflow.com/users/2908751/user2908751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 45959953, "answer_count": 2, "score": 0, "last_activity_date": 1573639347, "creation_date": 1504024887, "last_edit_date": 1573639347, "question_id": 45944306, "link": "https://stackoverflow.com/questions/45944306/xcode-nsstring-to-nsurl-conversion-issue", "title": "Xcode: NSString to NSUrl conversion issue", "body": "<p>I am having a strange issue while converting a NSString to NSUrl. Actually I have a method which takes NSString as a parameter and then converts that to NSUrl and then I use that URL to download a file.</p>\n\n<p>When I call this method through my code by passing a url as string, the following line returns nil.</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:urlString];\n</code></pre>\n\n<p>But when I hard-code the string within same method, and then I convert the string to NSUrl, I get a proper URL. I don't know why this is happening. Can someone comment on this behaviour and suggest me some way to cope this issue?</p>\n\n<pre><code>//NSString *urlString = @\"http://someimage.png\"; // works that way but not when I send this urlstring as parameter of method\nNSURL *url = [NSURL URLWithString:urlString];\nNSLog(@\"Url after conversion %@\", url);\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uicollectionview", "cgaffinetransform", "cgaffinetransformscale"], "comments": [{"owner": {"reputation": 1246, "user_id": 2842382, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EDHF5.jpg?s=128&g=1", "display_name": "Artem Z.", "link": "https://stackoverflow.com/users/2842382/artem-z"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504025683, "post_id": 45944084, "comment_id": 78847417, "body": "@ReinierMelian thanks for your reply, I&#39;ve tried this. It doesn&#39;t help"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504025866, "post_id": 45944084, "comment_id": 78847508, "body": "can you put your collectionView inside of UIScrollView and make it non scrollable?"}, {"owner": {"reputation": 1246, "user_id": 2842382, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EDHF5.jpg?s=128&g=1", "display_name": "Artem Z.", "link": "https://stackoverflow.com/users/2842382/artem-z"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026067, "post_id": 45944084, "comment_id": 78847608, "body": "@ReinierMelian what do you mean?"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504026190, "post_id": 45944084, "comment_id": 78847662, "body": "I have this done but using an external UIScrollView and adjusting internal tableView constraints on pitch gesture action, I am asking if that solution can work for your scenario"}, {"owner": {"reputation": 1246, "user_id": 2842382, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EDHF5.jpg?s=128&g=1", "display_name": "Artem Z.", "link": "https://stackoverflow.com/users/2842382/artem-z"}, "reply_to_user": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504033196, "post_id": 45944084, "comment_id": 78851414, "body": "@ReinierMelian could u tell me some code or example proj?"}], "answers": [{"tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504070501, "creation_date": 1504070501, "answer_id": 45952465, "question_id": 45944084, "link": "https://stackoverflow.com/questions/45944084/zoom-uicollectionview-via-pinch-gesture/45952465#45952465", "title": "Zoom UICollectionView via pinch gesture", "body": "<p>use</p>\n\n<pre><code>@interface ViewController () &lt;UICollectionViewDataSource, \nUICollectionViewDelegate, UICollectionViewDelegateFlowLayout&gt;\n\n@property (nonatomic,assign) CGFloat scale;\n@property (nonatomic,weak)   IBOutlet UICollectionView *collectionView;\n\n@end\n\n@implementation ViewController\n- (void)viewDidLoad\n {\n[super viewDidLoad];\n\nself.scale = 1.0;\n\n[self.collectionView registerClass:[UICollectionViewCell class] forCellWithReuseIdentifier:@\"cell\"];\n\nUIPinchGestureRecognizer *gesture = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(didReceivePinchGesture:)];\n[self.collectionView addGestureRecognizer:gesture];\n\n }\n\n - (CGSize)collectionView:(UICollectionView *)collectionView layout:\n (UICollectionViewLayout *)collectionViewLayout sizeForItemAtIndexPath:\n (NSIndexPath *)indexPath\n  {\n  return CGSizeMake(50*self.scale, 50*self.scale);\n  }\n\n  - (void)didReceivePinchGesture:(UIPinchGestureRecognizer*)gesture\n  {\n   static CGFloat scaleStart;\n\n   if (gesture.state == UIGestureRecognizerStateBegan)\n  {\n    scaleStart = self.scale;\n   }\n   else if (gesture.state == UIGestureRecognizerStateChanged)\n  {\n    self.scale = scaleStart * gesture.scale;\n    [self.collectionView.collectionViewLayout invalidateLayout];\n  }\n  }\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 2842382, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EDHF5.jpg?s=128&g=1", "display_name": "Artem Z.", "link": "https://stackoverflow.com/users/2842382/artem-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504070501, "creation_date": 1504024072, "question_id": 45944084, "link": "https://stackoverflow.com/questions/45944084/zoom-uicollectionview-via-pinch-gesture", "title": "Zoom UICollectionView via pinch gesture", "body": "<p>I have a <code>UICollectionView</code> with a lot of cells inside (about 5k+). I want to make pinch to zoom in/out. I've tried to <code>invalidateLayout</code> on every pinch. It's really slow. SO I want to use <code>CGAffineTransformMakeScale</code> but I don't know how to scroll after this.\nMy code is:</p>\n\n<pre><code>- (void)didReceivePinchGesture:(UIPinchGestureRecognizer *)gesture {\nstatic CGFloat scaleStart;\n\nif (gesture.state == UIGestureRecognizerStateBegan) {\n    scaleStart = self.venueLayoutZoom;\n}\nelse if (gesture.state == UIGestureRecognizerStateChanged) {\n    CGAffineTransform transform = CGAffineTransformMakeScale(self.venueLayoutZoom, self.venueLayoutZoom);\n    self.activeCollectionNode.view.transform = transform;\n    self.activeCollectionNode.view.contentSize = CGSizeMake(318 * self.venueLayoutZoom, 500 * self.venueLayoutZoom);\n}\n}\n</code></pre>\n\n<p>But when is zoomed in I can't scroll left and right. Help me out.</p>\n"}, {"tags": ["ios", "objective-c", "uicollectionviewcell"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504022122, "post_id": 45943437, "comment_id": 78845262, "body": "It&#39;s the same: <a href=\"https://stackoverflow.com/questions/45941619/assigning-a-variable-value-from-an-objective-c-block\" title=\"assigning a variable value from an objective c block\">stackoverflow.com/questions/45941619/&hellip;</a> Why do you keep to want to init a UIView with a block (it&#39;s almost never done in Objective-C. It can be, but in your case it&#39;s not useful)."}, {"owner": {"reputation": 199, "user_id": 3154188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a724c5cd385215d026e0c6b249870c39?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/3154188/roman"}, "edited": false, "score": 0, "creation_date": 1504022200, "post_id": 45943437, "comment_id": 78845322, "body": "Please note that calling <code>thumbnailImageView()</code> 2 times creates 2 different UIImageView activities, so I&#39;d suggest moving setting frame property into initialization block"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1504022204, "post_id": 45943437, "comment_id": 78845324, "body": "Just write <code>if (self) {UIImageView * thumbnailImageView = [[UIImageView alloc] init]; thumbnailImageView.backgroundColor = [UIColor greenColor];thumbnailImageView.frame = CGRectMake(0, 0, 100, 100);[self addSubview:thumbnailImageView];} return self;</code>"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504022279, "post_id": 45943437, "comment_id": 78845363, "body": "@Larme Thankyou for reply . iam a newbie in iOS. Will you edit the source code i posted in the recommended way?"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504022332, "post_id": 45943437, "comment_id": 78845403, "body": "@Larme  Ignore last comment . i just saw your comment"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504022544, "post_id": 45943437, "comment_id": 78845548, "body": "@Larme Thankyou . i edited source code in question"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504022677, "post_id": 45943437, "comment_id": 78845648, "body": "@Larme Thankyou .I tried your code. now subview is showing . Will you post the codesnippet in comment as answer so i can accept"}], "answers": [{"tags": [], "owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "is_accepted": true, "score": 1, "last_activity_date": 1504031238, "last_edit_date": 1504031238, "creation_date": 1504023951, "answer_id": 45944057, "question_id": 45943437, "link": "https://stackoverflow.com/questions/45943437/what-is-the-obj-c-equivalent-of-override-initframecgrect-in-swift/45944057#45944057", "title": "What is the Obj C equivalent of override init(frame:CGRect) in Swift?", "body": "<p>That's what any Objective-C developer would do:</p>\n\n<pre><code>- (instancetype) initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        UIImageView * thumbnailImageView = [[UIImageView alloc] init];    \n        thumbnailImageView.backgroundColor = [UIColor greenColor];\n        thumbnailImageView.frame = CGRectMake(0, 0, 100, 100);\n        [self addSubview:thumbnailImageView];\n    }\n    return self;\n} \n</code></pre>\n\n<p>Using a closure (or a Block in Objective-C) in your example is overkilled.</p>\n\n<p>You can do it, but most of developers may be intrigued of that code.\nHere is what you can do :</p>\n\n<pre><code>- (instancetype) initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        UIImageView *imageView = ({\n            UIImageView *imgV = [[UIImageView alloc] init];\n            imgV.backgroundColor = [UIColor greenColor];\n            imgV;\n        });\n        [self.view addSubview:imageView];\n        imageView.frame = CGRectMake(0, 0, 100, 100);\n    }\n    return self;\n} \n</code></pre>\n\n<p>This is taken from an NSHipster Article.\nIt can be found <a href=\"https://github.com/NSHipster/articles/blob/master/2014-01-01-new-years-2014.md#gcc-code-block-evaluation-c-extension\" rel=\"nofollow noreferrer\">there</a> and is called \"GCC Code Block Evaluation C Extension\" or \"statement expressions\".\nThere was <a href=\"https://stackoverflow.com/questions/20863152/using-a-gcc-c-extension-statement-expressions-in-objective-c-for-initializatio\">a question on SO</a> about it, but it was closed because of primarily opinion-based.\nAs I stated, it seems quite strange. That's clearly not the first idea of code that 99% (ok, it's a random statistic guess) iOS developer would have.</p>\n\n<p><strong>Site Note:</strong><br>\nDo not search replicating exactly an Swift code into an Objective-C or reverse.<br>\nWhile all CocoaTouch calls with API should have the same logic (there you can \"translate it without much thinking), each language has it own logic, \"tools\" and ways to do it. In your example, no block in Objective-C.</p>\n"}], "owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "accepted_answer_id": 45944057, "answer_count": 1, "score": 0, "last_activity_date": 1504043233, "creation_date": 1504021851, "last_edit_date": 1504043233, "question_id": 45943437, "link": "https://stackoverflow.com/questions/45943437/what-is-the-obj-c-equivalent-of-override-initframecgrect-in-swift", "title": "What is the Obj C equivalent of override init(frame:CGRect) in Swift?", "body": "<p>I am a newbie trying collectionview in Obj C</p>\n\n<pre><code>override init(frame:CGRect){\n  super.init(frame:frame)\n      let thumbnailImageView: UIImageView = {\n   let imageView = UIImageView()\n   imageView.backGroundColor = UIColor.blueColor()\n   return imageView;\n}\n\naddSubView(thumbnailImageView)\nthumbnailImageView.frame = CGRectMake(0,0,100,100)\n}\n</code></pre>\n\n<p>i am trying to achieve above swift code in Obj C . I have tried below code but sub view is not showing.</p>\n\n<pre><code>#import \"VideoCell.h\"\n\n@implementation VideoCell\n\n- (instancetype) initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\nUIImageView * thumbnailImageView = [[UIImageView alloc] init];    \nthumbnailImageView.backgroundColor = [UIColor greenColor];\nthumbnailImageView.frame = CGRectMake(0, 0, 100, 100);\n\n[self addSubview:thumbnailImageView];\n\n    }\n    return self;\n} \n</code></pre>\n"}, {"tags": ["ios", "objective-c", "crash", "jpeg", "cgimagesource"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1504018493, "post_id": 45942197, "comment_id": 78842877, "body": "The error message tells you what to do, and you are doing it correctly \u2014 always check for NULL before calling <code>CFRelease</code>. It&#39;s hard to see what more you can do. I just have one thought: you are not calling this method before the image has been fully downloaded, are you?"}, {"owner": {"reputation": 4772, "user_id": 21447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60426a6dd12a81a367c0dfc66c7e6320?s=128&d=identicon&r=PG", "display_name": "commanda", "link": "https://stackoverflow.com/users/21447/commanda"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1504031545, "post_id": 45942197, "comment_id": 78850536, "body": "@matt Right. I want to know what&#39;s wrong with this one jpeg though - that&#39;s the point of this question."}, {"owner": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1504091227, "post_id": 45942197, "comment_id": 78875267, "body": "You need to give links that file share the original jpeg files (<i>eg:</i> using DropBox or Google Drive)."}, {"owner": {"reputation": 4772, "user_id": 21447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60426a6dd12a81a367c0dfc66c7e6320?s=128&d=identicon&r=PG", "display_name": "commanda", "link": "https://stackoverflow.com/users/21447/commanda"}, "reply_to_user": {"reputation": 12172, "user_id": 2057709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0R41X.png?s=128&g=1", "display_name": "VC.One", "link": "https://stackoverflow.com/users/2057709/vc-one"}, "edited": false, "score": 0, "creation_date": 1504640022, "post_id": 45942197, "comment_id": 79084849, "body": "@VC.One I&#39;ve edited the question to include links to the originals. Thanks!"}], "owner": {"reputation": 4772, "user_id": 21447, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60426a6dd12a81a367c0dfc66c7e6320?s=128&d=identicon&r=PG", "display_name": "commanda", "link": "https://stackoverflow.com/users/21447/commanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1504639996, "creation_date": 1504018169, "last_edit_date": 1504639996, "question_id": 45942197, "link": "https://stackoverflow.com/questions/45942197/intermittent-crash-on-cfrelease-called-with-null-for-some-jpg-images", "title": "Intermittent crash on CFRelease() called with NULL for some JPG images", "body": "<p>In my iOS app, I download game assets from s3. My artist updated one of the assets, and we immediately started seeing crashes with the new asset. </p>\n\n<p>Here's the code that processes them:</p>\n\n<pre><code>+ (UIImage *)imageAtPath:(NSString *)imagePath scaledToSize:(CGSize)size\n{\n    // Create the image source (from path)\n    CGImageSourceRef imageSource = CGImageSourceCreateWithURL((__bridge CFURLRef) [NSURL fileURLWithPath:imagePath], NULL);\n    NSParameterAssert(imageSource);\n\n    // Get the image dimensions (without loading the image into memory)\n    CGFloat width = 512.0f, height = 384.0f;\n    CFDictionaryRef imageProperties = CGImageSourceCopyPropertiesAtIndex(imageSource, 0, NULL);\n    NSParameterAssert(imageProperties);\n\n    if (imageProperties) {\n\n        CFNumberRef widthNumRef  = CFDictionaryGetValue(imageProperties, kCGImagePropertyPixelWidth);\n        if (widthNumRef != NULL) {\n            CFNumberGetValue(widthNumRef, kCFNumberCGFloatType, &amp;width);\n        }\n\n        CFNumberRef heightNumRef = CFDictionaryGetValue(imageProperties, kCGImagePropertyPixelHeight);\n        if (heightNumRef != NULL) {\n            CFNumberGetValue(heightNumRef, kCFNumberCGFloatType, &amp;height);\n        }\n         CFRelease(imageProperties);\n\n    } else {\n\n        // If the image info is somehow missing, make up some numbers so we don't divide by zero\n        width = 512;\n        height = 384;\n    }\n\n    // Create thumbnail options\n    CGFloat maxDimension = size.height;\n\n    if (useDeviceNativeScale) {\n        maxDimension *= [UIScreen mainScreen].scale;\n    }\n    NSParameterAssert(maxDimension);\n\n    // If we have a really wide image, scaling it to the screen height will make it too blurry.\n    // Here we calculate the maximum dimension we want (probably width) to make the image be the full height of the device\n    CGFloat imageAspectRatio = width / height;\n\n    if (width &gt; height) {\n        maxDimension *= imageAspectRatio;\n    }\n\n    CFDictionaryRef options = (__bridge CFDictionaryRef) @{\n                                                       (id) kCGImageSourceCreateThumbnailWithTransform : @YES,\n                                                       (id) kCGImageSourceCreateThumbnailFromImageAlways : @YES,\n                                                       (id) kCGImageSourceShouldCache : @YES,\n                                                       (id) kCGImageSourceThumbnailMaxPixelSize : @(maxDimension)\n                                                       };\n    // Generate the thumbnail\n    CGImageRef thumbnail = CGImageSourceCreateThumbnailAtIndex(imageSource, 0, options); \n    CFRelease(imageSource);\n    // \ud83d\udd3b Crashlytics says the crash is on this line, even though the line above is the one that uses `CFRelease()`\n    UIImage *image = [UIImage imageWithCGImage:thumbnail];\n    CGImageRelease(thumbnail); \n    NSAssert(image.size.height - SCREEN_MIN_LENGTH * [UIScreen mainScreen].scale &lt; 1, @\"Image should be the height of the view\");\n\n    return image;\n}\n</code></pre>\n\n<p>And here's a stack trace from Fabric's Crashlytics:</p>\n\n<blockquote>\n  <h1>0. Crashed: com.apple.main-thread</h1>\n  \n  <p>0  CoreFoundation                 0x1820072a0 CFRelease + 120</p>\n  \n  <p>1  Homer                          0x10014e7f0 +[UIImage(ResizeBeforeLoading) imageAtPath:scaledToSize:] (UIImage+ResizeBeforeLoading.m:98)</p>\n</blockquote>\n\n<p>With this crash info key:</p>\n\n<blockquote>\n  <p>CRASH_INFO_ENTRY_0</p>\n  \n  <p><strong>* CFRelease() called with NULL *</strong></p>\n</blockquote>\n\n<p>The odd thing is that this crash is not 100%, it's happening to a very low percentage of users. I can't reproduce it on any of my own devices. There is also no pattern to what version of iOS it happens on, nor what iOS hardware it happens on.</p>\n\n<p>Here is a file that does not cause a crash:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1qtiC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1qtiC.jpg\" alt=\"The not-crashy one\"></a></p>\n\n<p>And here is a file that <em>does</em> cause a crash:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gRlD4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gRlD4.jpg\" alt=\"The crashy one\"></a></p>\n\n<p>And here are links to them in my production image host (s3 with cloudfront): </p>\n\n<p>(good)\n <a href=\"http://d3iq9oupxk0b1m.cloudfront.net/PirateDinosaur/2x/dinoBack._k91G0.jpg\" rel=\"nofollow noreferrer\">http://d3iq9oupxk0b1m.cloudfront.net/PirateDinosaur/2x/dinoBack._k91G0.jpg</a></p>\n\n<p>(crashy)\n <a href=\"http://d3iq9oupxk0b1m.cloudfront.net/PirateDinosaur/2x/PirateDino.3LHRmc.jpg\" rel=\"nofollow noreferrer\">http://d3iq9oupxk0b1m.cloudfront.net/PirateDinosaur/2x/PirateDino.3LHRmc.jpg</a></p>\n\n<p>I can't see a meaningful difference between them, even when I look at them using Imagemagick's <code>identify -verbose &lt;filename&gt;</code>. Can any jpeg experts weigh in?</p>\n\n<p>Note: In my next app version, to be released, I have added guards around releasing NULL references, to protect against this crash:</p>\n\n<pre><code>if (imageSource) { CFRelease(imageSource), imageSource = nil; }\n...\nif (thumbnail) { CGImageRelease(thumbnail), thumbnail = nil; }\n</code></pre>\n\n<p>However, I would still like to know what in the world is wrong with this jpeg that is causing this crash, so my artist can avoid it in the future.</p>\n"}, {"tags": ["objective-c", "objective-c-blocks"], "comments": [{"owner": {"reputation": 1622, "user_id": 3227743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kL4Ug.jpg?s=128&g=1", "display_name": "EDUsta", "link": "https://stackoverflow.com/users/3227743/edusta"}, "edited": false, "score": 0, "creation_date": 1504016799, "post_id": 45941619, "comment_id": 78841567, "body": "You need to run (may not be the correct term) the block like: <code>thumbnailImageView()</code>."}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 1622, "user_id": 3227743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kL4Ug.jpg?s=128&g=1", "display_name": "EDUsta", "link": "https://stackoverflow.com/users/3227743/edusta"}, "edited": false, "score": 0, "creation_date": 1504017138, "post_id": 45941619, "comment_id": 78841828, "body": "@EDUsta Thankyou. fixed error"}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 0, "creation_date": 1504017165, "post_id": 45941619, "comment_id": 78841853, "body": "using <code>[self addSubview:thumbnailImageView()];</code> ???"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1504017173, "post_id": 45941619, "comment_id": 78841864, "body": "Your Swift code doesn&#39;t compile. You also don&#39;t really need to use a Block for this. You&#39;re basically looking for <a href=\"https://stackoverflow.com/questions/19732070/objective-c-declare-vars-with\">a statement expression</a>."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1504017300, "post_id": 45941619, "comment_id": 78841960, "body": "that is not block. blocks are written with square brackets"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "reply_to_user": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1504017387, "post_id": 45941619, "comment_id": 78842023, "body": "@GeneCode: <i>&quot;blocks are written with square brackets&quot;</i> What? No, they&#39;re not. The ObjC code here correctly creates a Block."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 1, "creation_date": 1504017480, "post_id": 45941619, "comment_id": 78842090, "body": "You can use anonymous closures in Obj-C but since there is no type inferring, it won&#39;t simplify code, it would actually end up a big mess."}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1504018641, "post_id": 45941619, "comment_id": 78843005, "body": "@Sulthan Thankyou for reply . What would be your suggested best method to achieve swift code functionality  i posted in objective c"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1504018491, "post_id": 45941848, "comment_id": 78842875, "body": "Thank you for detailed answer"}], "tags": [], "owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "is_accepted": true, "score": 0, "last_activity_date": 1504017202, "creation_date": 1504017202, "answer_id": 45941848, "question_id": 45941619, "link": "https://stackoverflow.com/questions/45941619/assigning-a-variable-value-from-an-objective-c-block/45941848#45941848", "title": "Assigning a variable value from an Objective-C Block", "body": "<p>You're trying to write in Objective-C with Swift syntax. The Swift example describes a lazily initialized variable, while Objective-C one declares a simple block that returns <code>UIImageView</code>. You'd need to call the block with</p>\n\n<pre><code>[self addSubview:thumbnailImageView()];\n</code></pre>\n\n<p>However, in this case using the block to initialize a variable makes little sense. If you're looking for lazily initialized properties, it would look like this in Objective-C</p>\n\n<pre><code>@interface YourClass : Superclass\n\n@property (nonatomic, strong) UIImageView* imageView;\n\n@end\n\n@synthesize imageView = _imageView;\n\n- (UIImageView*)imageView\n{\n    if (!_imageView) {\n        // init _imageView here\n    }\n    return _imageView;\n}\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 45941848, "answer_count": 1, "score": -1, "last_activity_date": 1504017483, "creation_date": 1504016634, "last_edit_date": 1504017483, "question_id": 45941619, "link": "https://stackoverflow.com/questions/45941619/assigning-a-variable-value-from-an-objective-c-block", "title": "Assigning a variable value from an Objective-C Block", "body": "<p>In Swift I can give a variable a value using an anonymous closure:</p>\n\n<pre><code>let thumbnailImageView: UIImageView = {\n   let imageView = UIImageView()\n   imageView.backGroundColor = UIColor.blueColor()\n   return imageView;\n}\n\naddSubView(thumbnailImageView)\nthumbnailImageView.frame = CGRectMake(0,0,100,100)\n</code></pre>\n\n<p>I am trying to do the same in Obj-C, but this results in an error when adding the subview and setting its frame:</p>\n\n<pre><code>UIImageView* (^thumbnailImageView)(void) = ^(void){\n    UIImageView *imageView = [[UIImageView alloc] init];\n    imageView.backgroundColor = [UIColor blueColor];\n    return imageView;\n};\n\n[self addSubview:thumbnailImageView];\n\nthumbnailImageView.frame = CGRectMake(0, 0, 100, 100);\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nsstring"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8505020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02613bd09f3eb638e1613a328b84fccd?s=128&d=identicon&r=PG&f=1", "display_name": "ananth kumar", "link": "https://stackoverflow.com/users/8505020/ananth-kumar"}, "edited": false, "score": 0, "creation_date": 1504012707, "post_id": 45940104, "comment_id": 78838497, "body": "thanq so much @caglar you saved my life."}, {"owner": {"reputation": 3516, "user_id": 7240790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnqtK.jpg?s=128&g=1", "display_name": "3stud1ant3", "link": "https://stackoverflow.com/users/7240790/3stud1ant3"}, "reply_to_user": {"reputation": 3, "user_id": 8505020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02613bd09f3eb638e1613a328b84fccd?s=128&d=identicon&r=PG&f=1", "display_name": "ananth kumar", "link": "https://stackoverflow.com/users/8505020/ananth-kumar"}, "edited": false, "score": 0, "creation_date": 1504012879, "post_id": 45940104, "comment_id": 78838647, "body": "@ananthkumar please accept the answer, if it helps you, thanks"}], "tags": [], "owner": {"reputation": 70, "user_id": 3526380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af42aaca070c8f25ae2920974358482c?s=128&d=identicon&r=PG", "display_name": "caglar", "link": "https://stackoverflow.com/users/3526380/caglar"}, "is_accepted": true, "score": 0, "last_activity_date": 1504012328, "creation_date": 1504012328, "answer_id": 45940104, "question_id": 45939970, "link": "https://stackoverflow.com/questions/45939970/how-to-show-this-text-in-my-login-page-kart-in-objective-c/45940104#45940104", "title": "how to show this text in my login page kart******* in objective c", "body": "<pre><code>NSString * email = @\"Karthik@yopmail.com\";\nNSString * hiddenMail = [email substringToIndex:4];\n\nNSInteger count = email.length - 4;\n\nfor (NSInteger i =0 ; i&lt;count; i++) {\n    hiddenMail = [NSString stringWithFormat:@\"%@*\",hiddenMail];\n}\n\nNSLog(@\"hidden : %@\",hiddenMail);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8505020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02613bd09f3eb638e1613a328b84fccd?s=128&d=identicon&r=PG&f=1", "display_name": "ananth kumar", "link": "https://stackoverflow.com/users/8505020/ananth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 45940104, "answer_count": 1, "score": -3, "last_activity_date": 1504015962, "creation_date": 1504011877, "last_edit_date": 1504015962, "question_id": 45939970, "link": "https://stackoverflow.com/questions/45939970/how-to-show-this-text-in-my-login-page-kart-in-objective-c", "title": "how to show this text in my login page kart******* in objective c", "body": "<p>In my app I have a textfield, in that text field I want to show the text like this <code>Kart***********</code>. </p>\n\n<p><strong>For Example:</strong>\nHow can I show this mail <code>Karthik@yopmail.com</code> to <code>Kart***********</code>.</p>\n\n<p>I am storing text in one string like </p>\n\n<pre><code>   NSString * loginEmail = @\"Karthik@yopmail.com\";\n   loginEmail = [loginEmail substringToIndex:3];\n   NSString *hideMail = [loginEmail substringFromIndex:4];\n   [hideMail setSecureTextEntry:YES];\n</code></pre>\n\n<p>I want to change the email text to <code>Kart********</code> in my textfield \nAny one help me</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode", "cidetector"], "comments": [{"owner": {"reputation": 200, "user_id": 1089598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2aca2cab54271ca944fcf6ca35b489fa?s=128&d=identicon&r=PG&f=1", "display_name": "ObranS", "link": "https://stackoverflow.com/users/1089598/obrans"}, "edited": false, "score": 0, "creation_date": 1504013046, "post_id": 45939914, "comment_id": 78838764, "body": "Why you don&#39;t use AVCaptureDevice.defaultDevice and AVCaptureSession for QR-Code reading?"}, {"owner": {"reputation": 8226, "user_id": 1308066, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ffKVB.jpg?s=128&g=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/1308066/vishal"}, "reply_to_user": {"reputation": 200, "user_id": 1089598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2aca2cab54271ca944fcf6ca35b489fa?s=128&d=identicon&r=PG&f=1", "display_name": "ObranS", "link": "https://stackoverflow.com/users/1089598/obrans"}, "edited": false, "score": 0, "creation_date": 1504065712, "post_id": 45939914, "comment_id": 78861674, "body": "@ObranS: I don&#39;t know how to do that. Do you have any piece of code regarding this? Thanks for your effort."}, {"owner": {"reputation": 200, "user_id": 1089598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2aca2cab54271ca944fcf6ca35b489fa?s=128&d=identicon&r=PG&f=1", "display_name": "ObranS", "link": "https://stackoverflow.com/users/1089598/obrans"}, "edited": false, "score": 0, "creation_date": 1504084834, "post_id": 45939914, "comment_id": 78870867, "body": "Added below, hopes it will help you"}], "answers": [{"comments": [{"owner": {"reputation": 8226, "user_id": 1308066, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ffKVB.jpg?s=128&g=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/1308066/vishal"}, "edited": false, "score": 0, "creation_date": 1504094810, "post_id": 45956564, "comment_id": 78877864, "body": "Where I pass the image which I get from gallery? Thanks for your effort."}, {"owner": {"reputation": 8226, "user_id": 1308066, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ffKVB.jpg?s=128&g=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/1308066/vishal"}, "edited": false, "score": 0, "creation_date": 1504094928, "post_id": 45956564, "comment_id": 78877972, "body": "I have picked the QR code image from gallery and then tried to decode it&#39;s info."}], "tags": [], "owner": {"reputation": 200, "user_id": 1089598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2aca2cab54271ca944fcf6ca35b489fa?s=128&d=identicon&r=PG&f=1", "display_name": "ObranS", "link": "https://stackoverflow.com/users/1089598/obrans"}, "is_accepted": false, "score": 0, "last_activity_date": 1504084815, "creation_date": 1504084815, "answer_id": 45956564, "question_id": 45939914, "link": "https://stackoverflow.com/questions/45939914/qr-image-not-detected-by-cidetector/45956564#45956564", "title": "QR image not detected by CIDetector", "body": "<pre><code>// initialize        \nAVCaptureDevice *captureDevice = [AVCaptureDevice defaultDeviceWithMediaType:AVMediaTypeVideo];\nAVCaptureDeviceInput *input = [AVCaptureDeviceInput deviceInputWithDevice:captureDevice error:&amp;error];\n\n// create session\nAVCaptureMetadataOutput *captureMetadataOutput = [[AVCaptureMetadataOutput alloc] init];\ndispatch_queue_t dispatchQueue = dispatch_queue_create(\"QRCodeQueue\", NULL);\n[captureMetadataOutput setMetadataObjectsDelegate:self queue:dispatchQueue];\n[captureMetadataOutput setMetadataObjectTypes:[captureMetadataOutput availableMetadataObjectTypes]];\n[self.captureSession addOutput:captureMetadataOutput];\n\n// add camera view layer\nAVCaptureVideoPreviewLayer *captureLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:self.captureSession];\n[captureLayer setVideoGravity:AVLayerVideoGravityResizeAspectFill];\n[captureLayer setFrame:self.view.layer.bounds];\n[self.view.layer addSublayer:captureLayer];\n\n// delegate method\n- (void)captureOutput:(AVCaptureOutput *)captureOutput didOutputMetadataObjects:(NSArray *)metadataObjects fromConnection:(AVCaptureConnection *)connection {\n\n  // Specify the barcodes you want to read here:\n  NSArray *supportedBarcodeTypes = @[AVMetadataObjectTypeUPCECode, AVMetadataObjectTypeCode39Code, AVMetadataObjectTypeCode39Mod43Code, AVMetadataObjectTypeEAN13Code, AVMetadataObjectTypeEAN8Code, AVMetadataObjectTypeCode93Code, AVMetadataObjectTypeCode128Code, AVMetadataObjectTypePDF417Code, AVMetadataObjectTypeQRCode, AVMetadataObjectTypeAztecCode];\n\n  for (AVMetadataObject *barcodeMetadata in metadataObjects) {\n      for (NSString *supportedBarcode in supportedBarcodeTypes) {\n         if ([supportedBarcode isEqualToString:barcodeMetadata.type]) {\n             // get barcode object AVMetadataMachineReadableCodeObject\n             AVMetadataMachineReadableCodeObject *barcodeObject = (AVMetadataMachineReadableCodeObject *)[self.captureLayer transformedMetadataObjectForMetadataObject:barcodeMetadata];\n             NSString *capturedBarcode = [barcodeObject stringValue];\n             // do what you want...\n         }\n      }\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 8226, "user_id": 1308066, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ffKVB.jpg?s=128&g=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/1308066/vishal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504084815, "creation_date": 1504011749, "question_id": 45939914, "link": "https://stackoverflow.com/questions/45939914/qr-image-not-detected-by-cidetector", "title": "QR image not detected by CIDetector", "body": "<p>I am developing an app where I have displayed the detected data from a QR code but the problem is that QR code is not detected. I have used this code:  </p>\n\n<pre><code>NSDictionary *detectorOptions = @{ CIDetectorAccuracy : CIDetectorAccuracyHigh };\n                CIDetector *faceDetector = [CIDetector detectorOfType:CIDetectorTypeQRCode context:nil options:detectorOptions];\n                NSArray *features = [faceDetector featuresInImage:chosenImage.CIImage];\n                CIQRCodeFeature *faceFeature;\n                for(faceFeature in features)\n                {\n                    qrcodedetected = YES;\n                    self.decodedstr = [NSString stringWithFormat:@\"%@\",faceFeature.messageString];\n                    break;\n                }\n</code></pre>\n\n<p>I have searched a lot but not succeeded. I have used this code from Apple default form. Every time I will get nil in result. If anybody has any solution regarding this then please share with me. It would be appreciated. Thanks in advance. </p>\n"}, {"tags": ["ios", "objective-c", "swift", "bridging-header"], "comments": [{"owner": {"reputation": 25106, "user_id": 95309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HQkmf.jpg?s=128&g=1", "display_name": "Claus J&#248;rgensen", "link": "https://stackoverflow.com/users/95309/claus-j%c3%b8rgensen"}, "edited": false, "score": 0, "creation_date": 1544179223, "post_id": 45939804, "comment_id": 94193170, "body": "It&#39;s a bug in Xcode, and still present as of Xcode 10. <a href=\"https://bugs.swift.org/browse/SR-3801\" rel=\"nofollow noreferrer\">bugs.swift.org/browse/SR-3801</a>"}], "owner": {"reputation": 1695, "user_id": 3237732, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100006369301689/picture?type=large", "display_name": "user3237732", "link": "https://stackoverflow.com/users/3237732/user3237732"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 411, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1504012950, "creation_date": 1504011455, "last_edit_date": 1504012950, "question_id": 45939804, "link": "https://stackoverflow.com/questions/45939804/testable-import-and-bridging-header-dont-work-simultaneously", "title": "@testable import and Bridging header don&#39;t work simultaneously", "body": "<p>I have Test target for my framework project which include:</p>\n\n<ol>\n<li>Obj-C tests</li>\n<li>Swift tests with @testable import to test internal classes and functions</li>\n<li>Some utils written in Obj-C for my tests which should be used in both 1) and 2)</li>\n</ol>\n\n<p>Since I want to use Obj-C utils I should add Bridging header to my test target to have access from swift sources. The problem is that @testable import doesn't work with Bridging header simultaneously: as long as I don't use Bridging header I have access to all internal API from my swift test sources, but when I add Bridging header I have only access to public API.</p>\n\n<p>Has anyone experienced that? Is @testable directive implemented using Bridging header which makes using both simultaneously impossible? Thoughts on how to resolve the issue?</p>\n\n<p>UPDATE:\nApparently problem appears when you're importing the same framework as @testalbe in your swift code and using @import in Obj-C in your bridging header (directly or in one of included headers). I can manage my code to avoid importing framework simultaneously from Bridging header and swift, though general problem is not resolved</p>\n"}, {"tags": ["ios", "objective-c", "swift", "uicollectionviewlayout"], "comments": [{"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "edited": false, "score": 0, "creation_date": 1504009638, "post_id": 45938979, "comment_id": 78836104, "body": "this is what u want,see <a href=\"https://stackoverflow.com/questions/17856055/creating-a-uicollectionview-programmatically\" title=\"creating a uicollectionview programmatically\">stackoverflow.com/questions/17856055/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1504010998, "post_id": 45939507, "comment_id": 78837081, "body": "Thanks . i edited code now errors gone . Is this the correct way? self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:[controller initWithCollectionViewLayout:layout]];"}], "tags": [], "owner": {"reputation": 32967, "user_id": 231684, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kMeEs.jpg?s=128&g=1", "display_name": "Lorenzo B", "link": "https://stackoverflow.com/users/231684/lorenzo-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1504010616, "creation_date": 1504010616, "answer_id": 45939507, "question_id": 45938979, "link": "https://stackoverflow.com/questions/45938979/how-to-set-collection-view-programmatically-in-objective-c/45939507#45939507", "title": "How to set collection view programmatically in Objective C?", "body": "<p>Maybe I have not understand what you want to achieve...</p>\n\n<p>What you need is to add a custom init method to your <code>ViewController</code>. For example:</p>\n\n<pre><code>// In your .h file\n@interface HomeViewController : UIViewController\n\n- (instancetype)initWithCollectionViewLayout:(UICollectionViewLayout *)collectionViewLayout;\n\n@end\n\n// In your .m file\n@interface HomeViewController ()\n\n@property (nonatomic, strong) UICollectionViewLayout* collectionViewLayout;\n\n@end\n\n@implementation HomeViewController\n\n- (instancetype)initWithCollectionViewLayout:(UICollectionViewLayout *)collectionViewLayout\n{\n    self = [super init];\n    if (self) {\n        _collectionViewLayout = collectionViewLayout;\n    }\n    return self;\n}\n\n// Other code here\n\n@end\n</code></pre>\n\n<p>You can use the code like the following:</p>\n\n<pre><code>[[HomeViewController alloc] initWithCollectionViewLayout:yourLayout];\n</code></pre>\n\n<p>Otherwise, instead of using a constructor injection, you can do a property injection.</p>\n\n<pre><code>// In your .h file\n@interface HomeViewController : UIViewController\n\n@property (nonatomic, strong) UICollectionViewLayout* collectionViewLayout;\n\n@end\n</code></pre>\n\n<p>And use that code like:</p>\n\n<pre><code>HomeViewController* vc = [[HomeViewController alloc] init];\nvc.collectionViewLayout = yourLayout;\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "accepted_answer_id": 45939507, "answer_count": 1, "score": 0, "last_activity_date": 1504010616, "creation_date": 1504009127, "last_edit_date": 1504010118, "question_id": 45938979, "link": "https://stackoverflow.com/questions/45938979/how-to-set-collection-view-programmatically-in-objective-c", "title": "How to set collection view programmatically in Objective C?", "body": "<p>I am  a newbie trying to learn how to set collection view programatically </p>\n\n<pre><code>let layout = UICollectionViewFlowLayout()    \nwindow?.rootViewController = UINavigationController(rootViewController : HomeController(collectionViewLayout:layout))\n</code></pre>\n\n<p>I am trying to get above swift code in Objective C. What I have done so far is listed below results in error. What are the changes i have to make in objc code to achieve above.    </p>\n\n<pre><code>ViewController *controller = [[ViewController alloc] init];  // @interface ViewController : UICollectionViewController  \nUICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init]; \nself.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:[controller collectionViewLayout:layout]] ; // ERROR How to set Collection View?\n</code></pre>\n"}, {"tags": ["c++", "ios", "objective-c", "opencv"], "comments": [{"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1504008729, "post_id": 45938806, "comment_id": 78835484, "body": "You should show the mask and the initial image and the result, to get an idea of what is wrong."}, {"owner": {"reputation": 23, "user_id": 8147374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68577ae2c290ed58325e4442a64659eb?s=128&d=identicon&r=PG&f=1", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/8147374/gowtham"}, "reply_to_user": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1504008938, "post_id": 45938806, "comment_id": 78835613, "body": "actually im getting crash resize(mask,mask1,face_size); whether my above code is correct to set the mask"}, {"owner": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1504009659, "post_id": 45938806, "comment_id": 78836118, "body": "and where the variable mask comes from?  also later on, you create a mask2 variable and use it without loading anything into it in the next line as input and output.  Not sure what it is your workflow here. You find the face then resize a mask? shouldn&#39;t it be find face, create a black image with white ROI where the face was found and then apply this mask to the image? I think you have to re check and re do the putMask function"}, {"owner": {"reputation": 23, "user_id": 8147374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68577ae2c290ed58325e4442a64659eb?s=128&d=identicon&r=PG&f=1", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/8147374/gowtham"}, "reply_to_user": {"reputation": 9770, "user_id": 888688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e1a439c266dcf5015373dbeae410ff5?s=128&d=identicon&r=PG", "display_name": "api55", "link": "https://stackoverflow.com/users/888688/api55"}, "edited": false, "score": 0, "creation_date": 1504011702, "post_id": 45938806, "comment_id": 78837693, "body": "mask is global declaration. Can you suggest any sample project link to achieve this. thanks:)"}], "owner": {"reputation": 23, "user_id": 8147374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68577ae2c290ed58325e4442a64659eb?s=128&d=identicon&r=PG&f=1", "display_name": "Gowtham", "link": "https://stackoverflow.com/users/8147374/gowtham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504050740, "creation_date": 1504008560, "last_edit_date": 1504050740, "question_id": 45938806, "link": "https://stackoverflow.com/questions/45938806/opencv-adding-face-mask-in-ios", "title": "OpenCV adding face mask in iOS", "body": "<p>I'm trying to implement a face filter like snap chat. I have used opencv for recognizing the face but I'm unable to add the mask.  </p>\n\n<p>This is my code:</p>\n\n<pre><code>- (void)processImage:(Mat&amp;)image;\n{\n    Mat grayscaleFrame;\n    cvtColor(image, grayscaleFrame, CV_BGR2GRAY);\n    equalizeHist(grayscaleFrame, grayscaleFrame);\n\n    std::vector&lt;cv::Rect&gt; faces;\n    faceCascade.detectMultiScale(grayscaleFrame, faces, 1.1, 10, HaarOptions, cv::Size(60, 60));\n    for (int i = 0; i &lt; faces.size(); i++)\n    {\n        cv::Point pt3(faces[i].x + faces[i].width/2, faces[i].y + 20);\n        cv::Size size(50,50);\n        [self putMask:image placePoint:pt3 facesize:size];\n    }\n}\n</code></pre>\n\n<p>This code is for adding the mask:</p>\n\n<pre><code>- (void)putMask:(Mat&amp;)image placePoint:(cv::Point)center facesize:(cv::Size)face_size\n{\n    Mat mask1,src1;\n    resize(mask,mask1,face_size);\n    cv::Rect roi(center.x - face_size.width/2, center.y - face_size.width/2, face_size.width, face_size.width);\n    image(roi).copyTo(src1);\n\n    Mat mask2,m,m1;\n    threshold(mask2,mask2,230,255,CV_THRESH_BINARY_INV);\n\n    std::vector&lt;Mat&gt; maskChannels(3),result_mask(3);\n    split(mask1, maskChannels);\n    bitwise_and(maskChannels[0],mask2,result_mask[0]);\n    bitwise_and(maskChannels[1],mask2,result_mask[1]);\n    bitwise_and(maskChannels[2],mask2,result_mask[2]);\n    merge(result_mask,m );         //    imshow(\"m\",m);\n\n    mask2 = 255 - mask2;\n    std::vector&lt;Mat&gt; srcChannels(3);\n    split(src1, srcChannels);\n    bitwise_and(srcChannels[0],mask2,result_mask[0]);\n    bitwise_and(srcChannels[1],mask2,result_mask[1]);\n    bitwise_and(srcChannels[2],mask2,result_mask[2]);\n    merge(result_mask,m1 );        //    imshow(\"m1\",m1);\n\n    addWeighted(m,1,m1,1,0,m1);    //    imshow(\"m2\",m1);\n\n    m1.copyTo(image(roi));\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nstimezone"], "comments": [{"owner": {"reputation": 28092, "user_id": 375300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37b0cb5b8ef6f83a22ad78c188fd3547?s=128&d=identicon&r=PG", "display_name": "albertamg", "link": "https://stackoverflow.com/users/375300/albertamg"}, "edited": false, "score": 0, "creation_date": 1504007702, "post_id": 45938275, "comment_id": 78834697, "body": "<a href=\"https://stackoverflow.com/questions/7485493/get-nsdate-from-nsdate-adjusted-with-timezone/11887312#11887312\"><code>NSDate</code>s are independent of time zones</a>."}, {"owner": {"reputation": 1625, "user_id": 4990506, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8fc4093aba983da3dd502dfc850afb37?s=128&d=identicon&r=PG&f=1", "display_name": "vp2698", "link": "https://stackoverflow.com/users/4990506/vp2698"}, "reply_to_user": {"reputation": 28092, "user_id": 375300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/37b0cb5b8ef6f83a22ad78c188fd3547?s=128&d=identicon&r=PG", "display_name": "albertamg", "link": "https://stackoverflow.com/users/375300/albertamg"}, "edited": false, "score": 0, "creation_date": 1504007937, "post_id": 45938275, "comment_id": 78834888, "body": "@albertamg I know but basically i want to add/minus time from current Time using TimeZone offset"}, {"owner": {"reputation": 4117, "user_id": 2210347, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5e10583c54f95c2c6ba590b271f97bf?s=128&d=identicon&r=PG", "display_name": "Amit", "link": "https://stackoverflow.com/users/2210347/amit"}, "edited": false, "score": 0, "creation_date": 1504008201, "post_id": 45938275, "comment_id": 78835094, "body": "Hope this helps: <a href=\"https://stackoverflow.com/questions/27053135/how-to-get-a-users-time-zone\" title=\"how to get a users time zone\">stackoverflow.com/questions/27053135/&hellip;</a>"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1504008669, "post_id": 45938275, "comment_id": 78835437, "body": "Get timeinterval, add/minus offset to interval, create new NSDate from new timeinterval."}, {"owner": {"reputation": 1625, "user_id": 4990506, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8fc4093aba983da3dd502dfc850afb37?s=128&d=identicon&r=PG&f=1", "display_name": "vp2698", "link": "https://stackoverflow.com/users/4990506/vp2698"}, "edited": false, "score": 0, "creation_date": 1504011740, "post_id": 45938275, "comment_id": 78837733, "body": "I don&#39;t think that both question is same and i am not getting how you moderate question"}], "answers": [{"tags": [], "owner": {"reputation": 5924, "user_id": 6788419, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6d936b5d64b5e6446d0afe0574019c57?s=128&d=identicon&r=PG&f=1", "display_name": "user6788419", "link": "https://stackoverflow.com/users/6788419/user6788419"}, "is_accepted": false, "score": 0, "last_activity_date": 1504009577, "creation_date": 1504009577, "answer_id": 45939136, "question_id": 45938275, "link": "https://stackoverflow.com/questions/45938275/how-to-add-minus-timezone-offset-in-nsdate/45939136#45939136", "title": "How to add/minus TimeZone offset in NSDate", "body": "<p>You can set GMT value in date formatter</p>\n\n<pre><code>NSDateFormatter *formatter = [[NSDateFormatter alloc] init];\nNSTimeZone *tz = [NSTimeZone timeZoneForSecondsFromGMT:9000]; // GMT+2.30\n[formatter setTimeZone:tz];\n</code></pre>\n\n<p>Note : 1 hour = 3600 seconds,\nSo in the above example 2.30 hr = 9000 seconds</p>\n\n<p>Hope this will help you</p>\n"}], "owner": {"reputation": 1625, "user_id": 4990506, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8fc4093aba983da3dd502dfc850afb37?s=128&d=identicon&r=PG&f=1", "display_name": "vp2698", "link": "https://stackoverflow.com/users/4990506/vp2698"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "closed_date": 1504009636, "answer_count": 1, "score": 0, "last_activity_date": 1504011845, "creation_date": 1504007049, "last_edit_date": 1504011845, "question_id": 45938275, "link": "https://stackoverflow.com/questions/45938275/how-to-add-minus-timezone-offset-in-nsdate", "closed_reason": "Duplicate", "title": "How to add/minus TimeZone offset in NSDate", "body": "<p>I am getting current GMT time using</p>\n\n<pre><code>NSDate * now = [NSDate date];\n</code></pre>\n\n<p>But i want to add/minus timezone offset in date for different city. \ni am getting offset from server.</p>\n\n<p>Example : I am getting +2:30 GMT from server\nso i have to add +2:30 GMT in my current GMT time</p>\n\n<p>or if i am getting -6 GMT so how can i minus it from current time.\nMy question is basically how to add or minus Hours like +2:30</p>\n"}, {"tags": ["java", "android", "ios", "objective-c", "react-native"], "comments": [{"owner": {"reputation": 990, "user_id": 1958882, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Cfsel.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/1958882/pablo"}, "edited": false, "score": 0, "creation_date": 1514984837, "post_id": 45937854, "comment_id": 83129809, "body": "Any news about this?"}], "answers": [{"tags": [], "owner": {"reputation": 4121, "user_id": 437301, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c218f42e9765c37897ed49c918435ed2?s=128&d=identicon&r=PG", "display_name": "Michael Eakins", "link": "https://stackoverflow.com/users/437301/michael-eakins"}, "is_accepted": false, "score": 0, "last_activity_date": 1614537737, "creation_date": 1614537737, "answer_id": 66412653, "question_id": 45937854, "link": "https://stackoverflow.com/questions/45937854/how-to-read-from-asyncstorage-in-native-code-java-objectivec-swift/66412653#66412653", "title": "How to read from AsyncStorage in native code (Java, ObjectiveC/Swift)", "body": "<p>You are going to need to configure the <code>react-native bridge</code>.  <a href=\"https://reactnative.dev/docs/communication-ios\" rel=\"nofollow noreferrer\">Here</a> is a good link that should help you understand and configure the bridge.</p>\n"}], "owner": {"reputation": 12773, "user_id": 3485, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/07b5ff3ac4366f44df6220dabc3c7f2f?s=128&d=identicon&r=PG", "display_name": "Hoffmann", "link": "https://stackoverflow.com/users/3485/hoffmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 3, "answer_count": 1, "score": 23, "last_activity_date": 1614537737, "creation_date": 1504005699, "question_id": 45937854, "link": "https://stackoverflow.com/questions/45937854/how-to-read-from-asyncstorage-in-native-code-java-objectivec-swift", "title": "How to read from AsyncStorage in native code (Java, ObjectiveC/Swift)", "body": "<p>I have a background service I wrote in native (Java/ObjectiveC) that needs to access data from AsyncStorage in react native. I would like to know if there is an easy way to get this value directly from the native code instead of having to pass it manually through a bridge method.</p>\n\n<p>Since this is a background service that runs even if the app is not running (in Android), it can not call the Javascript code when it needs this data. I could work around it (by setting it in native at the same time I set it in AsyncStorage) but it would be a lot more work.</p>\n"}, {"tags": ["objective-c", "swift", "swift3", "uivisualeffectview", "uiblureffect"], "comments": [{"owner": {"reputation": 1443, "user_id": 914612, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b3f5e34c9e4e8c0a638399474fb7e6f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/914612/praveen"}, "edited": false, "score": 0, "creation_date": 1504006299, "post_id": 45937509, "comment_id": 78833719, "body": "Provide the code that you have written"}, {"owner": {"reputation": 67, "user_id": 7439082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwrxP.jpg?s=128&g=1", "display_name": "Arul Murugan Sivapoosam", "link": "https://stackoverflow.com/users/7439082/arul-murugan-sivapoosam"}, "reply_to_user": {"reputation": 1443, "user_id": 914612, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b3f5e34c9e4e8c0a638399474fb7e6f?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/914612/praveen"}, "edited": false, "score": 0, "creation_date": 1504008008, "post_id": 45937509, "comment_id": 78834940, "body": "@Praveen source code was added to the post.."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7439082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwrxP.jpg?s=128&g=1", "display_name": "Arul Murugan Sivapoosam", "link": "https://stackoverflow.com/users/7439082/arul-murugan-sivapoosam"}, "edited": false, "score": 0, "creation_date": 1504012346, "post_id": 45939368, "comment_id": 78838195, "body": "Thanks for your suggestions. but it&#39;s not woking too.I update the post take look into that..."}, {"owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "reply_to_user": {"reputation": 67, "user_id": 7439082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwrxP.jpg?s=128&g=1", "display_name": "Arul Murugan Sivapoosam", "link": "https://stackoverflow.com/users/7439082/arul-murugan-sivapoosam"}, "edited": false, "score": 0, "creation_date": 1504067794, "post_id": 45939368, "comment_id": 78862207, "body": "i saw your Screenshot u can do it with uiimage for this you have to make a image with top left circle cut and Alpha ~0.8 and take UIView then take UIImageView as subclass of UIView and put your image in UIImageView then make your popup OK or Cancel and finally you can HIde and Show Your UIView."}], "tags": [], "owner": {"reputation": 1275, "user_id": 5850769, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-xsLv7mCeKFs/AAAAAAAAAAI/AAAAAAAABfs/GpZnOhPNbTI/photo.jpg?sz=128", "display_name": "Vikas Rajput", "link": "https://stackoverflow.com/users/5850769/vikas-rajput"}, "is_accepted": false, "score": 0, "last_activity_date": 1504010234, "creation_date": 1504010234, "answer_id": 45939368, "question_id": 45937509, "link": "https://stackoverflow.com/questions/45937509/not-able-to-get-blur-effect/45939368#45939368", "title": "Not able to get blur effect", "body": "<p>try this </p>\n\n<pre><code>let blurEffect = UIBlurEffect(style: UIBlurEffectStyle.dark)\nlet blurEffectView = UIVisualEffectView(effect: blurEffect)\nblurEffectView.frame = view.bounds\nblurEffectView.autoresizingMask = [.flexibleWidth, .flexibleHeight]\nview.addSubview(blurEffectView)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1094, "user_id": 5123516, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10206211579481531/picture?type=large", "display_name": "Moaz Khan", "link": "https://stackoverflow.com/users/5123516/moaz-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1504073114, "creation_date": 1504073114, "answer_id": 45953049, "question_id": 45937509, "link": "https://stackoverflow.com/questions/45937509/not-able-to-get-blur-effect/45953049#45953049", "title": "Not able to get blur effect", "body": "<p>I faced exactly the same issue. What I did was I just used a new storyboard and presented it modally using the settings in screenshot. The blur effect then works perfectly instead of showing the black screen. You can also translate that into code if you want to do it programatically.</p>\n\n<p><strong>Note: These settings are for the segue.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/N9sGv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N9sGv.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 67, "user_id": 7439082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwrxP.jpg?s=128&g=1", "display_name": "Arul Murugan Sivapoosam", "link": "https://stackoverflow.com/users/7439082/arul-murugan-sivapoosam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504095822, "creation_date": 1504004675, "last_edit_date": 1504095822, "question_id": 45937509, "link": "https://stackoverflow.com/questions/45937509/not-able-to-get-blur-effect", "title": "Not able to get blur effect", "body": "<p>I'm using UIVisual Effect view in storyBorad. I just set four constraints(top, bottom, left, right) to that view. but it looks some black colour view behind.</p>\n\n<p>source code:</p>\n\n<pre><code>import UIKit\n\nclass SignOutViewController: UIViewController {\n\n    @IBOutlet weak var signouTitle: UILabel!\n    @IBOutlet weak var desc1: UILabel!\n    @IBOutlet weak var desc2: UILabel!\n    @IBOutlet weak var cancelButton: UIButton!\n    @IBOutlet weak var sureButton: UIButton!\n    @IBOutlet weak var alertView: UIView!\n    @IBOutlet weak var seperatorView: UIView!\n    @IBOutlet weak var buttonsSuperView: UIView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        prepareAlertView()\n    }\n\n    override func viewWillAppear(_ animated: Bool) {\n        super.viewWillAppear(animated)\n        alertView.layer.cornerRadius = alertView.frame.height * 0.05\n\n    }\n\n    private func prepareAlertView() -&gt; Void{\n        signouTitle.text = \"Sign Out\"\n        desc1.text = \"Do you really want to sign out\"\n        desc2.text = \"from this account\"\n        signouTitle.textColor = UIColor(red: 1 / 255, green: 170 / 255, blue: 112 / 255, alpha: 1)\n        desc1.textColor = UIColor(red: 195 / 255, green: 195 / 255, blue: 195 / 255, alpha: 1)\n        desc2.textColor = UIColor(red: 195 / 255, green: 195 / 255, blue: 195 / 255, alpha: 1)\n        cancelButton.setAttributedTitle(NSAttributedString(string: \"Cancel\", attributes: [NSFontAttributeName: UIFont.getProximaNovaSemibold(size: 16), NSForegroundColorAttributeName: UIColor.white]), for: .normal)\n        sureButton.setAttributedTitle(NSAttributedString(string: \"Sure\", attributes: [NSFontAttributeName: UIFont.getProximaNovaSemibold(size: 16), NSForegroundColorAttributeName: UIColor.white]), for: .normal)\n        self.view.backgroundColor = UIColor.black.withAlphaComponent(0.65)\n        buttonsSuperView.backgroundColor = UIColor(red: 1 / 255, green: 170 / 255, blue: 112 / 255, alpha: 1)\n        alertView.backgroundColor = UIColor(red: 36 / 255, green: 36 / 255, blue: 40 / 255, alpha: 1)\n    }\n\n    @IBAction func cancelTapped(_ sender: Any) {\n        self.dismiss(animated: true, completion: nil)\n    }\n\n    @IBAction func sureTapped(_ sender: Any) {\n    }\n\n}\n</code></pre>\n\n<p>I added UIVisual effectView Programatically. i need visualEffect as -1 th position in viewHierarchy. but it responds as same.. </p>\n"}, {"tags": ["ios", "objective-c", "image", "layout", "textkit"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 8008734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edc021e6eccf348e05451401fd89efe?s=128&d=identicon&r=PG&f=1", "display_name": "Geansea", "link": "https://stackoverflow.com/users/8008734/geansea"}, "is_accepted": false, "score": 1, "last_activity_date": 1505288208, "last_edit_date": 1505288208, "creation_date": 1505287782, "answer_id": 46191429, "question_id": 45936519, "link": "https://stackoverflow.com/questions/45936519/how-to-resize-and-layout-image-attachment-in-textkit/46191429#46191429", "title": "How to resize and layout image/attachment in TextKit?", "body": "<p>I have ever done similar work for image attachment auto resize. How about handle it just after you get the attributed string.</p>\n\n<p>That is, enumerate the original string with <strong>NSAttachmentAttributeName</strong>, replace the attachment with a subclass of <strong>NSTextAttachment</strong>, with implies <strong>NSTextAttachmentContainer</strong> protocol.</p>\n\n<pre><code>- (CGRect)attachmentBoundsForTextContainer:(nullable NSTextContainer *)textContainer proposedLineFragment:(CGRect)lineFrag glyphPosition:(CGPoint)position characterIndex:(NSUInteger)charIndex {\n    CGFloat lineWidth = CGRectGetWidth(lineFrag);\n    CGSize size = self.bounds.size;\n    size.height *= (size.width &gt; 0) ? (lineWidth / size.width) : 0;\n    size.width = lineWidth;\n    return CGRectMake(0, 0, size.width, size.height);\n}\n</code></pre>\n\n<p>Code above resize attachment to fit the width, you don't need to resize image, since it will be auto resize to the bound when drawing.</p>\n\n<p>Hoping to be helpful.</p>\n"}], "owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505288208, "creation_date": 1504001849, "question_id": 45936519, "link": "https://stackoverflow.com/questions/45936519/how-to-resize-and-layout-image-attachment-in-textkit", "title": "How to resize and layout image/attachment in TextKit?", "body": "<p>I'm building a magazine app via TextKit, here is a <a href=\"https://github.com/xingheng/TextKitDemo\" rel=\"nofollow noreferrer\">TextKit demo</a> (check out the <strong>developer</strong> branch). It loads a NSAttributeString from a rtfd file as text storage object, all the pages have the same size with custom NSTextContainer object, the pagination feature is done.</p>\n\n<p>When I tried to add image to the source rtfd file, the image attachment shows in UITextView directly without any additional code, that's great! However, some big images will be clipped by default in text view frame. I tried all kinds of delegate methods and override methods to <em>resize</em> and <em>re-layout</em> it but failed at the end.</p>\n\n<pre><code> - (void)setAttachmentSize:(CGSize)attachmentSize forGlyphRange:(NSRange)glyphRange\n - (CGSize)attachmentSizeForGlyphAtIndex:(NSUInteger)glyphIndex;\n</code></pre>\n\n<p>The setter method is called in glyph layout process, the latter getter method is called in glyph draw process from the call stack.</p>\n\n<pre><code>- (BOOL)layoutManager:(NSLayoutManager *)layoutManager shouldSetLineFragmentRect:(inout CGRect *)lineFragmentRect lineFragmentUsedRect:(inout CGRect *)lineFragmentUsedRect baselineOffset:(inout CGFloat *)baselineOffset inTextContainer:(NSTextContainer *)textContainer forGlyphRange:(NSRange)glyphRange \n{\n\n    NSTextAttachment *attachment = ...;\n\n    NSUInteger characterIndex = [layoutManager characterIndexForGlyphAtIndex:glyphRange.location];\n    UIImage *image = [attachment imageForBounds:*lineFragmentRect textContainer:textContainer characterIndex:characterIndex];\n    CGSize imageSize = GetScaledToFitSize(image.size, self.textContainerSize);\n\n    CGFloat ratio = imageSize.width / imageSize.height;\n    CGRect rect = *lineFragmentRect, usedRect = *lineFragmentUsedRect;\n\n    CGFloat dy = *baselineOffset - imageSize.height;\n\n    if (dy &gt; 0) {\n        *baselineOffset -= dy;\n        usedRect.size.height -= dy;\n        usedRect.size.width = ratio * usedRect.size.height;\n    }\n\n    if (!CGRectContainsRect(usedRect, rect)) {\n        if (rect.size.height &gt; usedRect.size.height) {\n            *baselineOffset -= rect.size.height - usedRect.size.height;\n            rect.size.height = usedRect.size.height;\n            rect.size.width = ratio * usedRect.size.height;\n        }\n\n        if (rect.size.width &gt; usedRect.size.width) {\n            //...\n        }\n    }\n\n    *lineFragmentRect = rect;\n    *lineFragmentUsedRect = usedRect;\n\n    return YES;\n }\n</code></pre>\n\n<p>This delegate method could resize the layout size but not affect to the final width and image scale. I tried serval solutions with no luck. It seems there aren't so many threads about images on TextKit on SO and apple example code.</p>\n\n<p>Please help, great thanks!</p>\n"}, {"tags": ["ios", "objective-c", "storekit", "review", "skstorereviewcontroller"], "comments": [{"owner": {"reputation": 4366, "user_id": 1039477, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a85306bbc9601affec6f6a40dc4288cc?s=128&d=identicon&r=PG", "display_name": "dor506", "link": "https://stackoverflow.com/users/1039477/dor506"}, "edited": false, "score": 0, "creation_date": 1572289503, "post_id": 45936279, "comment_id": 103506557, "body": "Did you find a solution for that?"}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 7956211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yF8jP.jpg?s=128&g=1", "display_name": "Zeeshan Arif", "link": "https://stackoverflow.com/users/7956211/zeeshan-arif"}, "is_accepted": false, "score": 0, "last_activity_date": 1504002341, "creation_date": 1504002341, "answer_id": 45936699, "question_id": 45936279, "link": "https://stackoverflow.com/questions/45936279/skstorereviewcontroller-requestreview-if-user-rated-the-app-will-system-never/45936699#45936699", "title": "SKStoreReviewController requestReview() if user rated the app will system never prompt him for rate us?", "body": "<p>On each update user can get the popup depending upon where you call \"request\u200bReview()\" </p>\n\n<p>Try to call this func when your user is engaged in your app.</p>\n"}], "owner": {"reputation": 367, "user_id": 3519594, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/988ca096b6c38c5ec918bf68b43ba2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user3519594", "link": "https://stackoverflow.com/users/3519594/user3519594"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1504002341, "creation_date": 1504001167, "question_id": 45936279, "link": "https://stackoverflow.com/questions/45936279/skstorereviewcontroller-requestreview-if-user-rated-the-app-will-system-never", "title": "SKStoreReviewController requestReview() if user rated the app will system never prompt him for rate us?", "body": "<p>Hi if user has rated the app within the first attempt, then will the user never see the rate us pop-up again ? or he will be able to see after 365 days ?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 28757, "user_id": 1066828, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8785d8636d0dc68405fee1e9aa41728a?s=128&d=identicon&r=PG", "display_name": "Fahim Parkar", "link": "https://stackoverflow.com/users/1066828/fahim-parkar"}, "edited": false, "score": 0, "creation_date": 1504003951, "post_id": 45936213, "comment_id": 78832157, "body": "you meant links in Outlook app is opening in browser? And you was expecting them to open in Outlook app itself?"}, {"owner": {"reputation": 12687, "user_id": 2401215, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IcFNX.jpg?s=128&g=1", "display_name": "Sunny Shah", "link": "https://stackoverflow.com/users/2401215/sunny-shah"}, "reply_to_user": {"reputation": 28757, "user_id": 1066828, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/8785d8636d0dc68405fee1e9aa41728a?s=128&d=identicon&r=PG", "display_name": "Fahim Parkar", "link": "https://stackoverflow.com/users/1066828/fahim-parkar"}, "edited": false, "score": 0, "creation_date": 1504007316, "post_id": 45936213, "comment_id": 78834411, "body": "Yes its opening in browser. I am expecting to open those link in my application. (Universal Links)"}], "answers": [{"tags": [], "owner": {"reputation": 6173, "user_id": 5099014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df5f057b3d0982ee60a19ddd05636900?s=128&d=identicon&r=PG", "display_name": "allenh", "link": "https://stackoverflow.com/users/5099014/allenh"}, "is_accepted": false, "score": 0, "last_activity_date": 1504065241, "creation_date": 1504065241, "answer_id": 45951620, "question_id": 45936213, "link": "https://stackoverflow.com/questions/45936213/universal-links-not-working-when-default-browser-is-google-chrome-in-outlook/45951620#45951620", "title": "Universal Links not working when default browser is Google Chrome in Outlook?", "body": "<p>The way outlook lets users choose chrome as the destination for links effectively disables the universal linking functionality provided by the system. Basically, outlook isn't opening the raw link, which would lead to your app, it is building a mobile chrome URI per chrome's <a href=\"https://developer.chrome.com/multidevice/ios/links\" rel=\"nofollow noreferrer\">custom scheme</a>. Until iOS provides users a method to choose a different browsers, apps rolling their own solution will continue to break system expectations.</p>\n"}], "owner": {"reputation": 12687, "user_id": 2401215, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/IcFNX.jpg?s=128&g=1", "display_name": "Sunny Shah", "link": "https://stackoverflow.com/users/2401215/sunny-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504065241, "creation_date": 1504001004, "last_edit_date": 1504002642, "question_id": 45936213, "link": "https://stackoverflow.com/questions/45936213/universal-links-not-working-when-default-browser-is-google-chrome-in-outlook", "title": "Universal Links not working when default browser is Google Chrome in Outlook?", "body": "<p>When I open the mail link with default browser as Google Chrome in Outlook,\nit's opening in browser. I am expecting the link to be opened in application.</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 2566, "user_id": 919918, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/e8ae3876d248ae26c2dfdb2a41dbcf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Wayne", "link": "https://stackoverflow.com/users/919918/wayne"}, "is_accepted": false, "score": 0, "last_activity_date": 1504000720, "creation_date": 1504000720, "answer_id": 45936097, "question_id": 45936096, "link": "https://stackoverflow.com/questions/45936096/firebase-detect-deletion-using-observeeventtype-firdataeventtypevalue/45936097#45936097", "title": "Firebase detect deletion using observeEventType FIRDataEventTypeValue", "body": "<p>The method <strong>observeEventType:withBlock</strong> will get called with <strong>all</strong> the data contained in the snapshot, so you can <strong>\"delete\"</strong> the data by rebuilding the entire cache, also no need to update the cache entries.</p>\n\n<pre><code>    [_myRef observeEventType:FIRDataEventTypeValue withBlock:^(FIRDataSnapshot * _Nonnull snapshot) {\n\n    [_cache removeAllObjects];\n\n    NSDictionary *dict = snapshot.value;\n    if (dict == (id)[NSNull null]) {\n        [self dataEvent];\n        return;\n    }\n\n    [dict enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {\n    // process the dictionary and its values and store in the cache     \n</code></pre>\n"}], "owner": {"reputation": 2566, "user_id": 919918, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/e8ae3876d248ae26c2dfdb2a41dbcf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Wayne", "link": "https://stackoverflow.com/users/919918/wayne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504028112, "creation_date": 1504000720, "last_edit_date": 1504028112, "question_id": 45936096, "link": "https://stackoverflow.com/questions/45936096/firebase-detect-deletion-using-observeeventtype-firdataeventtypevalue", "title": "Firebase detect deletion using observeEventType FIRDataEventTypeValue", "body": "<p>I am observing using the FIRDataEventTypeValue, and according to the documentation a block will get triggered: </p>\n\n<p>\"Your block will be triggered for the initial data and again whenever the data changes.\"</p>\n\n<p>I keep a local cache of the data in an NSMutatbleArray and when the event fires\nI search the cache and if an entry is found, the data gets updated with new values.</p>\n\n<p>And if the entry is not found in the cache, I add the data to the cache.</p>\n\n<p><strong>But how do I take care of deletion?</strong> I do not want to use a separate observer, or is this the only way.</p>\n\n<pre><code>[_myRef observeEventType:FIRDataEventTypeValue withBlock:^(FIRDataSnapshot * _Nonnull snapshot) {\n    NSDictionary *dict = snapshot.value;\n    if (dict == (id)[NSNull null]) {\n        [_cache removeAllObjects];\n        [self dataEvent];\n        return;\n    }\n   [dict enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {\n    // extract values from obj and store it in a cache\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "multithreading", "sqlite", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 3228, "user_id": 3173478, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/9O6gr.jpg?s=128&g=1", "display_name": "Gagan_iOS", "link": "https://stackoverflow.com/users/3173478/gagan-ios"}, "edited": false, "score": 1, "creation_date": 1504000746, "post_id": 45935976, "comment_id": 78830056, "body": "the first point you did not close the SQLite database after opening it that, why you are getting error &#39;Database, is locked&#39;. Look at this link <a href=\"https://stackoverflow.com/questions/8853954/sqlite-error-database-is-locked\" title=\"sqlite error database is locked\">stackoverflow.com/questions/8853954/&hellip;</a>.  now close the database once you open it. Now you can use as many as secondary thread for database access whether it is SQLite or Coredata."}, {"owner": {"reputation": 469, "user_id": 3715316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f381ad2265310246c4a246801e635ecf?s=128&d=identicon&r=PG&f=1", "display_name": "PradeepKN", "link": "https://stackoverflow.com/users/3715316/pradeepkn"}, "edited": false, "score": 0, "creation_date": 1504001615, "post_id": 45935976, "comment_id": 78830622, "body": "This might help you to understand deeper.  <a href=\"http://www.sqlite.org/threadsafe.html\" rel=\"nofollow noreferrer\">sqlite.org/threadsafe.html</a>"}, {"owner": {"reputation": 56, "user_id": 8483089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6aa9e28ebea512bab27c801d4b6cbe?s=128&d=identicon&r=PG&f=1", "display_name": "Sujeet Shrivastav", "link": "https://stackoverflow.com/users/8483089/sujeet-shrivastav"}, "edited": false, "score": 0, "creation_date": 1504001721, "post_id": 45935976, "comment_id": 78830699, "body": "Thanks but we closed data base every time. There are too many records in table so, sqlite takes 7-8 seconds to search record, meanwhile if another query is being fired from background then this error occurred &quot;Database is locked&quot;. So we do all query processing task in main thread."}], "owner": {"reputation": 56, "user_id": 8483089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6aa9e28ebea512bab27c801d4b6cbe?s=128&d=identicon&r=PG&f=1", "display_name": "Sujeet Shrivastav", "link": "https://stackoverflow.com/users/8483089/sujeet-shrivastav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1509116025, "creation_date": 1504000435, "last_edit_date": 1509116025, "question_id": 45935976, "link": "https://stackoverflow.com/questions/45935976/how-can-we-do-data-processinginsert-update-select-process-in-separate-thread-o", "title": "How can we do data processing(Insert/Update/Select) process in separate thread or in background So that UI couldn&#39;t freeze in iOS objective-C", "body": "<p>I am working on project. In that project there are three timers is running through out the application after login. In each timer, we are calling approx 10-15 APIs for either upload data on server or fetch data from server.\nWe are facing following issues-</p>\n\n<ul>\n<li>We are unable to do data processing in background, due to this when we fire SELECT query to search records then SQLITE gives error \"Database is locked\".</li>\n<li>So we are doing all data processing thing on Main thread, It actually creating UI freeze issue, whenever we call APIs.</li>\n</ul>\n\n<p>Please suggest how we can do this process, so that User can search records from SQLITE DB at same time device can call APIs and can insert/update/upload records.</p>\n\n<blockquote>\n  <p>Note: There 2.2 Million Records in table in SQLITE Database.</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "deprecated"], "comments": [{"owner": {"reputation": 5867, "user_id": 1921348, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/867ecffc6f6836a0a4e81d737276a793?s=128&d=identicon&r=PG", "display_name": "mag_zbc", "link": "https://stackoverflow.com/users/1921348/mag-zbc"}, "edited": false, "score": 0, "creation_date": 1503995531, "post_id": 45934260, "comment_id": 78826677, "body": "<i>but the array of devices has only my back camera and not my front cam</i> - that&#39;s to be expected when you initialize <code>AVCaptureDeviceDiscoverySession</code> with <code>AVCaptureDevicePositionBack</code>"}, {"owner": {"reputation": 12286, "user_id": 4061501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-kinaoTxoygQ/AAAAAAAAAAI/AAAAAAAAAI4/7mZ8Pz0b-0M/photo.jpg?sz=128", "display_name": "Lal Krishna", "link": "https://stackoverflow.com/users/4061501/lal-krishna"}, "edited": false, "score": 0, "creation_date": 1597380741, "post_id": 45934260, "comment_id": 112119293, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/44735554/ios-deviceswithmediatype-deprecated\">IOS devicesWithMediaType deprecated</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7850, "user_id": 1677835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a3c3a9d8fd29a51635b0ba2d9bfab476?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey  Pekar", "link": "https://stackoverflow.com/users/1677835/sergey-pekar"}, "is_accepted": true, "score": 7, "last_activity_date": 1503995603, "creation_date": 1503995603, "answer_id": 45934302, "question_id": 45934260, "link": "https://stackoverflow.com/questions/45934260/deviceswithmediatype-is-deprecated/45934302#45934302", "title": "devicesWithMediaType is deprecated", "body": "<p>From <a href=\"https://developer.apple.com/documentation/avfoundation/avcapturedevicediscoverysession/2361539-discoverysessionwithdevicetypes?language=objc\" rel=\"noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>Pass AVCaptureDevicePositionUnspecified  to search for devices\n  regardless of position.</p>\n</blockquote>\n\n<p>So use AVCaptureDevicePositionUnspecified to find all capture devices.</p>\n\n<p>So the code will look like this:</p>\n\n<pre><code>AVCaptureDeviceDiscoverySession *captureDeviceDiscoverySession = [AVCaptureDeviceDiscoverySession discoverySessionWithDeviceTypes:@[AVCaptureDeviceTypeBuiltInWideAngleCamera] \n                                      mediaType:AVMediaTypeVideo \n                                       position: AVCaptureDevicePositionUnspecified]; // here you pass AVCaptureDevicePositionUnspecified to find all capture devices\n\nNSArray *captureDevices = [captureDeviceDiscoverySession devices];\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 3411226, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/51c045bd5a340496c7bcc70afacfe414?s=128&d=identicon&r=PG&f=1", "display_name": "user3411226", "link": "https://stackoverflow.com/users/3411226/user3411226"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1079, "favorite_count": 0, "accepted_answer_id": 45934302, "answer_count": 1, "score": 3, "last_activity_date": 1503997715, "creation_date": 1503995431, "last_edit_date": 1503997715, "question_id": 45934260, "link": "https://stackoverflow.com/questions/45934260/deviceswithmediatype-is-deprecated", "title": "devicesWithMediaType is deprecated", "body": "<p>I have the following code:</p>\n\n<pre><code>NSArray * devices = [ AVCaptureDevice devicesWithMediaType: AVMediaTypeVideo ];\n\n// 2. Iterate through the device array and if a device is a camera, check if it's the one we want:\nfor ( AVCaptureDevice * device in devices )\n{\n    if ( useFrontCamera &amp;&amp; AVCaptureDevicePositionFront == [ device position ] )\n    {\n        // We asked for the front camera and got the front camera, now keep a pointer to it:\n        m_camera = device;\n    }\n    else if ( !useFrontCamera &amp;&amp; AVCaptureDevicePositionBack == [ device position ] )\n    {\n        // We asked for the back camera and here it is:\n        m_camera = device;\n    }\n}\n</code></pre>\n\n<p>the warning says that <code>devicesWithMediaType</code> is deprecated and I should use <code>AVCaptureDeviceDiscoverySession</code> instead, I have tried the following:</p>\n\n<pre><code>AVCaptureDeviceDiscoverySession *captureDeviceDiscoverySession = [AVCaptureDeviceDiscoverySession discoverySessionWithDeviceTypes:@[AVCaptureDeviceTypeBuiltInWideAngleCamera] \n                                      mediaType:AVMediaTypeVideo \n                                       position:AVCaptureDevicePositionBack];\nNSArray *captureDevices = [captureDeviceDiscoverySession devices];\n</code></pre>\n\n<p>but the array of devices has only my back camera and not my front cam, any help?</p>\n"}, {"tags": ["ios", "objective-c", "core-data", "uitextfield"], "answers": [{"tags": [], "owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "is_accepted": false, "score": 0, "last_activity_date": 1503993228, "creation_date": 1503993228, "answer_id": 45933586, "question_id": 45933396, "link": "https://stackoverflow.com/questions/45933396/displaying-u2205-in-uitextfield-ios/45933586#45933586", "title": "displaying \\u2205 in uitextfield ios", "body": "<p>you can convert unicode like this :</p>\n\n<pre><code>NSString *str = [NSString stringWithUTF8String:[self.textField.text UTF8String]];\nself.textField.text = str;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1503997259, "creation_date": 1503997259, "answer_id": 45934831, "question_id": 45933396, "link": "https://stackoverflow.com/questions/45933396/displaying-u2205-in-uitextfield-ios/45934831#45934831", "title": "displaying \\u2205 in uitextfield ios", "body": "<p>You can below code:</p>\n\n<pre><code>NSString *inputString = @\"\\u2205\";\nNSString *outputString = [NSString stringWithCString:[inputString UTF8String]\n                                      encoding:NSUTF8StringEncoding];\nNSLog(@\"Your final String : %@\", outputString);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5729732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8b4f6aa01a10c7a7ee15cf319cf9bc?s=128&d=identicon&r=PG&f=1", "display_name": "kanchan verma", "link": "https://stackoverflow.com/users/5729732/kanchan-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1503998970, "answer_count": 2, "score": 0, "last_activity_date": 1506278949, "creation_date": 1503992523, "last_edit_date": 1506278949, "question_id": 45933396, "link": "https://stackoverflow.com/questions/45933396/displaying-u2205-in-uitextfield-ios", "closed_reason": "Duplicate", "title": "displaying \\u2205 in uitextfield ios", "body": "<p>While working on an already developed project I have to reassign few attributes in core data to default value blank space I used \\u2205 and unmarked the option \"Optional\". To avoid crashes.</p>\n\n<p>Now the problem is it shows this unicode as a text \\u2205 in textfield until I get data from service.</p>\n\n<p>How can I get rid of that.</p>\n"}, {"tags": ["objective-c"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8531072, "user_type": "registered", "profile_image": "https://graph.facebook.com/512350085781216/picture?type=large", "display_name": "user8531072", "link": "https://stackoverflow.com/users/8531072/user8531072"}, "edited": false, "score": 0, "creation_date": 1504164913, "post_id": 45933620, "comment_id": 78910109, "body": "clickBlock reference containView\uff0cI hope weak reference clickBlock"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 1, "user_id": 8531072, "user_type": "registered", "profile_image": "https://graph.facebook.com/512350085781216/picture?type=large", "display_name": "user8531072", "link": "https://stackoverflow.com/users/8531072/user8531072"}, "edited": false, "score": 0, "creation_date": 1504171417, "post_id": 45933620, "comment_id": 78914390, "body": "<code>clickBlock</code> is a parameter to your method and <code>containView</code> is first created in the method - so <code>clickBlock</code> cannot <i>directly</i> reference <code>containView</code>. It could do so via <code>self.view</code>. You need to edit the question and add code such as that which sets up <code>self.view</code>, calls <code>creatSuviewWithPlaceholder</code>, creates the block passed as <code>clickBlock</code> etc. That will enable people to see the cycle you are concerned about and hopefully help you with a solution."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1503993325, "creation_date": 1503993325, "answer_id": 45933620, "question_id": 45933309, "link": "https://stackoverflow.com/questions/45933309/a-blocka-piece-of-internal-use-another-blockb-block-will-be-a-circular-reference/45933620#45933620", "title": "A blockA piece of internal use another blockB block will be a circular reference, how a weak reference is quoted blockA block blockB piece?", "body": "<p>Unless I'm missing something there is no obvious reference cycle in <em>the code you show</em>, why do you believe there is?</p>\n\n<p>Your inline block, labelled <code>blockA</code> in the comments, references <code>clickBlock</code>; but <code>clickBlock</code> does not reference <code>blockA</code> or <code>containView</code> so no cycle is created.</p>\n\n<p>Does <code>clickBlock</code> itself reference <code>self.view</code>, or something else which creates the cycle? If so edit your question to show this and someone will undoubtedly help.</p>\n"}], "owner": {"reputation": 1, "user_id": 8531072, "user_type": "registered", "profile_image": "https://graph.facebook.com/512350085781216/picture?type=large", "display_name": "user8531072", "link": "https://stackoverflow.com/users/8531072/user8531072"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1503993325, "creation_date": 1503992217, "question_id": 45933309, "link": "https://stackoverflow.com/questions/45933309/a-blocka-piece-of-internal-use-another-blockb-block-will-be-a-circular-reference", "title": "A blockA piece of internal use another blockB block will be a circular reference, how a weak reference is quoted blockA block blockB piece?", "body": "<p>A blockA piece of internal use another blockB block will be a circular reference, how a weak reference is quoted blockA block blockB piece?</p>\n\n<pre><code>- (UIView *)creatSuviewWithPlaceholder:(NSString *)placeholder reminder:(NSString *)reminder clickBlock:( void(^)())clickBlock {\n\n    UIView *containView = [UIView new];\n    [self.view addSubview:containView];\n    PlaceholderTextView *textView = [PlaceholderTextView new];\n    [containView addSubview:textView];\n    if (clickBlock) {\n        textView.userInteractionEnabled = NO;\n\n        [containView addGestureRecognizer:[[UITapGestureRecognizer alloc] initWithActionBlock:^(id  _Nonnull sender) {//blockA\n           clickBlock();//blockB\n        }]];\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2386, "user_id": 1903672, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/8yjVe.jpg?s=128&g=1", "display_name": "Yuyutsu", "link": "https://stackoverflow.com/users/1903672/yuyutsu"}, "edited": false, "score": 1, "creation_date": 1503989082, "post_id": 45932294, "comment_id": 78822799, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24250475/post-multipart-form-data-with-objective-c\">POST multipart/form-data with Objective-C</a>"}, {"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "reply_to_user": {"reputation": 2386, "user_id": 1903672, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/8yjVe.jpg?s=128&g=1", "display_name": "Yuyutsu", "link": "https://stackoverflow.com/users/1903672/yuyutsu"}, "edited": false, "score": 1, "creation_date": 1503989540, "post_id": 45932294, "comment_id": 78823102, "body": "ok i&#39;ll try this one"}, {"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "reply_to_user": {"reputation": 2386, "user_id": 1903672, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/8yjVe.jpg?s=128&g=1", "display_name": "Yuyutsu", "link": "https://stackoverflow.com/users/1903672/yuyutsu"}, "edited": false, "score": 0, "creation_date": 1503990126, "post_id": 45932294, "comment_id": 78823424, "body": "still didn&#39;t get anything give me u mail id i&#39;ll send u android code bec.. my android team getting image"}, {"owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "edited": false, "score": 0, "creation_date": 1503997445, "post_id": 45932294, "comment_id": 78827844, "body": "@vikas are you sending more data along with image?"}, {"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "reply_to_user": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "edited": false, "score": 0, "creation_date": 1504001383, "post_id": 45932294, "comment_id": 78830464, "body": "@nirmal yes i sending more data only image not getting"}, {"owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "edited": false, "score": 0, "creation_date": 1504001792, "post_id": 45932294, "comment_id": 78830752, "body": "@vikas I am facing same issue on one of my application. But when I will try with AFNetworking then its work fine for me. If you detail code then let me know."}, {"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "reply_to_user": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "edited": false, "score": 0, "creation_date": 1504002664, "post_id": 45932294, "comment_id": 78831353, "body": "@Nirmalsinh ok send me if it&#39;s possibile send me u mail id (mobappssolutions139@gmail.com)"}, {"owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "edited": false, "score": 0, "creation_date": 1504003073, "post_id": 45932294, "comment_id": 78831629, "body": "@vikas I have added my answer check if it will helpful to you."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1503992711, "post_id": 45932522, "comment_id": 78824987, "body": "i want to pass parameter *promotionalDocument :; filename=&quot;yoga-2017-may-21.png&quot; Content-Type: image/png * how can i pass"}, {"owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "reply_to_user": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1503992928, "post_id": 45932522, "comment_id": 78825128, "body": "@chek update promotionalDocument   file name of image is send          NSString* FileParamConstant = @&quot;serverParamterForImage&quot;;"}], "tags": [], "owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "is_accepted": false, "score": 0, "last_activity_date": 1503992880, "last_edit_date": 1503992880, "creation_date": 1503989458, "answer_id": 45932522, "question_id": 45932294, "link": "https://stackoverflow.com/questions/45932294/not-upload-image-in-server/45932522#45932522", "title": "not upload image in Server", "body": "<p>your Request should be like :</p>\n\n<pre><code>NSMutableDictionary* _params = [[NSMutableDictionary alloc] init];\n\n// how to send   parameters with request that you ma need when also uload  image //\n\n\n       [_params setObject:promotionalDocument    forKey:[NSString stringWithFormat:@\"promotionalDocument\"]];\n       [_params setObject:mobile   forKey:[NSString stringWithFormat:@\"mobile\"]];\n\n\n\n\n\n\n        // the boundary random string, that will not repeat in post data\n\n        NSString *BoundaryConstant = @\"----------V2ymHFg03ehbqgZCaKO6jy\";\n\n        // your server paramter for image\n        NSString* FileParamConstant = @\"serverParamterForImage\";\n\n        // the server url to which the image (or the media) is uploaded. Use your server url here\n        NSURL* requestURL = [NSURL URLWithString:@\"your URL\"];\n\n        // create request\n        NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];\n        [request setCachePolicy:NSURLRequestReloadIgnoringLocalCacheData];\n        [request setHTTPShouldHandleCookies:NO];\n        [request setTimeoutInterval:30];\n        [request setHTTPMethod:@\"POST\"];\n\n        // set Content-Type in HTTP header\n        NSString *contentType = [NSString stringWithFormat:@\"multipart/form-data; boundary=%@\", BoundaryConstant];\n        [request setValue:contentType forHTTPHeaderField: @\"Content-Type\"];\n\n        // post body\n        NSMutableData *body = [NSMutableData data];\n\n        // add params (all params are strings)\n        for (NSString *param in _params) {\n            [body appendData:[[NSString stringWithFormat:@\"--%@\\r\\n\", BoundaryConstant] dataUsingEncoding:NSUTF8StringEncoding]];\n            [body appendData:[[NSString stringWithFormat:@\"Content-Disposition: form-data; name=\\\"%@\\\"\\r\\n\\r\\n\", param] dataUsingEncoding:NSUTF8StringEncoding]];\n            [body appendData:[[NSString stringWithFormat:@\"%@\\r\\n\", [_params objectForKey:param]] dataUsingEncoding:NSUTF8StringEncoding]];\n        }\n\n\n\n\n        // add image data\n        NSData *imageData = UIImageJPEGRepresentation(image, 1.0);\n        if (image) {\n            [body appendData:[[NSString stringWithFormat:@\"--%@\\r\\n\", BoundaryConstant] dataUsingEncoding:NSUTF8StringEncoding]];\n            [body appendData:[[NSString stringWithFormat:@\"Content-Disposition: form-data; name=\\\"%@\\\"; filename=\\\"image.jpg\\\"\\r\\n\", FileParamConstant] dataUsingEncoding:NSUTF8StringEncoding]];\n            [body appendData:[@\"Content-Type: image/jpeg\\r\\n\\r\\n\" dataUsingEncoding:NSUTF8StringEncoding]];\n            [body appendData:imageData];\n            [body appendData:[[NSString stringWithFormat:@\"\\r\\n\"] dataUsingEncoding:NSUTF8StringEncoding]];\n        }\n\n\n\n        [body appendData:[[NSString stringWithFormat:@\"--%@--\\r\\n\", BoundaryConstant] dataUsingEncoding:NSUTF8StringEncoding]];\n\n        // setting the body of the post to the reqeust\n        [request setHTTPBody:body];\n\n        // set the content-length\n        NSString *postLength = [NSString stringWithFormat:@\"%lu\", (unsigned long)[body length]];\n        [request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n        // set URL\n        [request setURL:requestURL];\n\n// then you can use that request\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1504074114, "post_id": 45936924, "comment_id": 78864389, "body": "i used first one and getting response same if it&#39;s possibile and other way then tell me"}, {"owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "reply_to_user": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1504074167, "post_id": 45936924, "comment_id": 78864418, "body": "If possible then give your request parameter and url. I will chect at my end give you update."}, {"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1504075296, "post_id": 45936924, "comment_id": 78865069, "body": "my request parameter it&#39;s to long i am unable to send here . tell me u mail id"}, {"owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "reply_to_user": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1504075329, "post_id": 45936924, "comment_id": 78865086, "body": "nirmit2507@gmail.com"}, {"owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "edited": false, "score": 0, "creation_date": 1504076231, "post_id": 45936924, "comment_id": 78865596, "body": "Check u mail id  i was send u"}], "tags": [], "owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1504003046, "creation_date": 1504003046, "answer_id": 45936924, "question_id": 45932294, "link": "https://stackoverflow.com/questions/45932294/not-upload-image-in-server/45936924#45936924", "title": "not upload image in Server", "body": "<p>I am facing the same issue. But I didn't get solutions using <strong>NSMutableURLRequest</strong>. You can use <strong><a href=\"https://github.com/AFNetworking/AFNetworking\" rel=\"nofollow noreferrer\">AFNetworking</a></strong> or <strong>NSURLSessionUploadTask</strong></p>\n\n<p><strong>NSURLSessionUploadTask:</strong></p>\n\n<pre><code>NSURLSessionConfiguration *config = [NSURLSessionConfiguration defaultSessionConfiguration];\nNSURLSession *session = [NSURLSession sessionWithConfiguration:config];\n\nNSURL *url = YOUR_SERVICE_URL;\nNSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:url];\n\n[request setHTTPMethod:@\"PUT\"];\n\nUIImage *image = [UIImage imageNamed:@\"imageName\"];\nNSData *imageData = UIImageJPEGRepresentation(image, 1.0);\n\nNSURLSessionUploadTask *taskUpload = [session uploadTaskWithRequest:request fromData:imageData completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n\n    NSHTTPURLResponse *httpResp = (NSHTTPURLResponse*) response;\n    if (!error &amp;&amp; httpResp.statusCode == 200) {\n\n        // Uploaded\n\n    } else {\n\n       NSLog(@\"ERROR: %@ AND HTTPREST ERROR : %ld\", error, (long)httpResp.statusCode);\n      }\n}];\n</code></pre>\n\n<p><strong>AFNetworking:</strong></p>\n\n<pre><code> AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];\n\n    [manager POST:YOUR_SERVICE_URL parameters:YOUR_PARAMETER_DICTIONARY constructingBodyWithBlock:^(id&lt;AFMultipartFormData&gt;  _Nonnull formData)\n     {\n             [formData appendPartWithFormData:IMAGE_DATA name:YOUR_KEY_NAME];\n\n     } progress:^(NSProgress * _Nonnull uploadProgress)\n     {\n     } success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject)\n     {\n         NSLog(@\"%@\",responseObject);\n\n     } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {\n     }];\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8530743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380782eec014dc83d9f13a970546ca0a?s=128&d=identicon&r=PG&f=1", "display_name": "vikas", "link": "https://stackoverflow.com/users/8530743/vikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504003046, "creation_date": 1503988641, "last_edit_date": 1504002189, "question_id": 45932294, "link": "https://stackoverflow.com/questions/45932294/not-upload-image-in-server", "title": "not upload image in Server", "body": "<p><strong>I am Using This Code</strong></p>\n\n<pre><code>NSString *strrrr=@\"\";\nUIImage *chooseImage=[infoDict valueForKey:@\"filename\"];\n\nif (chooseImage)\n{\n    strrrr=@\"filename.JPG\";\n}                                                                       \n\nurlString=[NSString stringWithFormat:@\"%@KabuterCompanyService?companyID=%@&amp;companyTypeID=%@&amp;serviceTypeID=%@&amp;description=%@&amp;serviceCreatedBy=%@&amp;startDate=%@&amp;endDate=%@&amp;location=%@&amp;promotionalText=%@&amp;promotionalDocument=%@&amp;colOfResponseOptionVO=%@&amp;responseOptionQuestionVO=%@&amp;componentName=%@&amp;companyServiceID=%@&amp;submit=%@&amp;quickSend=%@&amp;ajaxreq=%@&amp;access_token=%@&amp;commandResultAttributes : promotionalDocumentVO.mimeTypeVO.name,companyVO.companyName,serviceTypeVO.name,colOfOwnerEntitlementVO.entitlementID,colOfOwnerEntitlementVO.entitleableID,colOfSubscriberEntitlementVO.entitlementID,colOfSubscriberEntitlementVO.entitleableID,colOfResponseOptionVO.sequenceNumber,colOfResponseOptionVO.attributeValue,colOfResponseOptionVO.url,colOfResponseOptionVO.expiresOn,responseOptionQuestionVO.attributeValue,*\",BaseURL2,[infoDict valueForKey:@\"vendorID\"],@\"893688751\",@\"-2114174907\",[infoDict valueForKey:@\"EventName\"],[infoDict valueForKey:@\"HostName\"],[infoDict valueForKey:@\"StartDate\"],[infoDict valueForKey:@\"EndDate\"],[infoDict valueForKey:@\"Location\"],[infoDict valueForKey:@\"EventDescription\"],strrrr,[infoDict valueForKey:@\"colOfRequestParameterVO\"],[infoDict valueForKey:@\"responseOptionQuestionVO\"],@\"KabuterCompanyService\",@\"null\",@\"Create\",@\"true\",@\"json\",[[NSUserDefaults standardUserDefaults] objectForKey:@\"tokenID\"]];\n\nurlString = [urlString stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n\nNSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:urlString]];\n\nNSData *imageData = UIImageJPEGRepresentation(chooseImage, 1.0);\n\n[request setCachePolicy:NSURLRequestReloadIgnoringLocalCacheData];\n[request setHTTPShouldHandleCookies:NO];\n[request setTimeoutInterval:60];\n[request setHTTPMethod:@\"POST\"];\n\nNSString *boundary = @\"WebKitFormBoundaryjrFKfnmMBcXRMamI\";\n\n// set Content-Type in HTTP header\nNSString *contentType = [NSString stringWithFormat:@\"multipart/form-data; boundary=%@\", boundary];\n[request setValue:contentType forHTTPHeaderField: @\"Content-Type\"];\n\n// post body\nNSMutableData *body = [NSMutableData data];\n\n// add params (all params are strings)\n[body appendData:[[NSString stringWithFormat:@\"--%@\\r\\n\", boundary] dataUsingEncoding:NSUTF8StringEncoding]];\n[body appendData:[[NSString stringWithFormat:@\"Content-Disposition: form-data; name=%@\\r\\n\\r\\n\", @\"imageCaption\"] dataUsingEncoding:NSUTF8StringEncoding]];\n[body appendData:[[NSString stringWithFormat:@\"%@\\r\\n\", @\"Some Caption\"] dataUsingEncoding:NSUTF8StringEncoding]];\n\n// add image data\nif (imageData) {\n    [body appendData:[[NSString stringWithFormat:@\"--%@\\r\\n\", boundary] dataUsingEncoding:NSUTF8StringEncoding]];\n    [body appendData:[[NSString stringWithFormat:@\"Content-Disposition: form-data; name=%@; name=filename.JPG\\r\\n\", @\"name\"] dataUsingEncoding:NSUTF8StringEncoding]];\n    [body appendData:[@\"Content-Type: image/jpeg\\r\\n\\r\\n\" dataUsingEncoding:NSUTF8StringEncoding]];\n    [body appendData:imageData];\n    [body appendData:[[NSString stringWithFormat:@\"\\r\\n\"] dataUsingEncoding:NSUTF8StringEncoding]];\n}\n\n[body appendData:[[NSString stringWithFormat:@\"--%@--\\r\\n\", boundary] dataUsingEncoding:NSUTF8StringEncoding]];\n\n// setting the body of the post to the reqeust\n[request setHTTPBody:body];\n\n// set the content-length\nNSString *postLength = [NSString stringWithFormat:@\"%lu\", (unsigned long)[body length]];\n[request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n\n\n[NSURLConnection sendAsynchronousRequest:request queue:[NSOperationQueue currentQueue] completionHandler:^(NSURLResponse *response, NSData *data, NSError *error) {\n    if(data.length &gt; 0)\n    {\n        //success\n    }\n}];\n</code></pre>\n\n<p><strong>Not   upload my image in Server And when my android team doing same thing they are getting image in server using this Android plz help me</strong> </p>\n\n<p>Please help if someone know about this thing why i am unable to get my image in server.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uiscrollview"], "comments": [{"owner": {"reputation": 587, "user_id": 7785451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDnv.jpg?s=128&g=1", "display_name": "Shabbir Ahmad", "link": "https://stackoverflow.com/users/7785451/shabbir-ahmad"}, "edited": false, "score": 1, "creation_date": 1503988082, "post_id": 45932024, "comment_id": 78822229, "body": "why you have taken tableView inside scrollview? tableView have already scrolling property because it is subclass of scrollView."}, {"owner": {"reputation": 14944, "user_id": 433373, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e191cfc8eb0f9986e30461621be1d0f5?s=128&d=identicon&r=PG", "display_name": "Nicolas Miari", "link": "https://stackoverflow.com/users/433373/nicolas-miari"}, "edited": false, "score": 0, "creation_date": 1503988253, "post_id": 45932024, "comment_id": 78822330, "body": "Maybe he neads scrolling in both directions. The horizontal scroll afforded by the parent scroll view is competing with the horizontal swipe on the rows... Does setting <code>delaysContentTouches</code> to <code>true</code> on the scroll view help?"}, {"owner": {"reputation": 1, "user_id": 1555532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8ebe36aa2e88050bd49b5550b3e09e?s=128&d=identicon&r=PG", "display_name": "theChum", "link": "https://stackoverflow.com/users/1555532/thechum"}, "edited": false, "score": 0, "creation_date": 1503988591, "post_id": 45932024, "comment_id": 78822515, "body": "Yes is need scrolling in both directions and as per a the UI design, scrollview and the tableview are needed. Ive already tried enabling and disabling delaysContentTouches. Doesn&#39;t seem to have any difference. As I have read, disabling scrollview&#39;s scroll worked for someone. But on this case, that didn&#39;t make any difference either."}, {"owner": {"reputation": 5851, "user_id": 1571232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fyBxG.jpg?s=128&g=1", "display_name": "Venk", "link": "https://stackoverflow.com/users/1571232/venk"}, "edited": false, "score": 0, "creation_date": 1503988650, "post_id": 45932024, "comment_id": 78822552, "body": "You should not embed tableview into scrollview <a href=\"https://stackoverflow.com/questions/45837882/enable-uitableview-scrolling-during-a-scroll-in-uiscrollview/45838105#comment78635143_45838105\" title=\"enable uitableview scrolling during a scroll in uiscrollview\">stackoverflow.com/questions/45837882/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 1555532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8ebe36aa2e88050bd49b5550b3e09e?s=128&d=identicon&r=PG", "display_name": "theChum", "link": "https://stackoverflow.com/users/1555532/thechum"}, "edited": false, "score": 0, "creation_date": 1503989376, "post_id": 45932024, "comment_id": 78822993, "body": "Is there a way to determine where the content touch happened and based on that enable the scrollview or the tableview?"}], "owner": {"reputation": 1, "user_id": 1555532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8ebe36aa2e88050bd49b5550b3e09e?s=128&d=identicon&r=PG", "display_name": "theChum", "link": "https://stackoverflow.com/users/1555532/thechum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503987738, "creation_date": 1503987738, "question_id": 45932024, "link": "https://stackoverflow.com/questions/45932024/caneditrowatindexpath-in-a-table-that-is-in-a-scrollview-doesnt-swipe-at-once", "title": "canEditRowAtIndexPath in a Table that is in a ScrollView doesn&#39;t swipe at once", "body": "<p>I have added a tableview inside a scrollview. The tableview returns true for canEditRowAtIndexPath. Issue is, the swipe does not work at once in the tableview. However, didSelectRowAtIndexPath gets called at any given time. When tried to swipe a several times it seems to work. What may be causing the issue? Any solutions to overcome this?</p>\n\n<pre><code>-(BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {\n\nreturn YES;\n\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift3", "swift-protocols"], "answers": [{"tags": [], "owner": {"reputation": 3717, "user_id": 98497, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/62cc44f1f1c0bdcb82cf69c22be21671?s=128&d=identicon&r=PG", "display_name": "juhan_h", "link": "https://stackoverflow.com/users/98497/juhan-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1503985413, "creation_date": 1503985413, "answer_id": 45931458, "question_id": 45931392, "link": "https://stackoverflow.com/questions/45931392/can-not-find-swift-protocol-declaration-in-obj-c-class/45931458#45931458", "title": "Can not find Swift Protocol declaration in Obj-C class", "body": "<p>Add <code>@objc</code> attribute to your protocol:</p>\n\n<pre><code>@objc protocol SpeechRecognizerDelegate : class  {\n    //...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 1, "creation_date": 1503987851, "post_id": 45931789, "comment_id": 78822112, "body": "What do you mean by add protocol inside ? I am doing same with confirm protocol but getting compiler error."}, {"owner": {"reputation": 5471, "user_id": 4803556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d14NN.jpg?s=128&g=1", "display_name": "Anand Nimje", "link": "https://stackoverflow.com/users/4803556/anand-nimje"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1503987932, "post_id": 45931789, "comment_id": 78822152, "body": "You need to add Protocol methods for Protocol confirmation. Have you done this? @CodeChanger"}, {"owner": {"reputation": 5471, "user_id": 4803556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d14NN.jpg?s=128&g=1", "display_name": "Anand Nimje", "link": "https://stackoverflow.com/users/4803556/anand-nimje"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1503988115, "post_id": 45931789, "comment_id": 78822244, "body": "<code>@objc protocol SpeechRecognizerDelegate</code> are you using your <b>protocol</b> like this?"}], "tags": [], "owner": {"reputation": 5471, "user_id": 4803556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/d14NN.jpg?s=128&g=1", "display_name": "Anand Nimje", "link": "https://stackoverflow.com/users/4803556/anand-nimje"}, "is_accepted": true, "score": 4, "last_activity_date": 1583819183, "last_edit_date": 1592644375, "creation_date": 1503986918, "answer_id": 45931789, "question_id": 45931392, "link": "https://stackoverflow.com/questions/45931392/can-not-find-swift-protocol-declaration-in-obj-c-class/45931789#45931789", "title": "Can not find Swift Protocol declaration in Obj-C class", "body": "<p>Define your <strong>Swift</strong> protocol like this inside your Swift file.</p>\n<pre><code>@objc protocol SpeechRecognizerDelegate: class{\n  func speechRecognitionFinished(_ transcription:String)\n  func speechRecognitionError(_ error:Error)\n}\n</code></pre>\n<p><em>Create a Swift Module inside your project setting then use it. You can find <a href=\"https://medium.com/flawless-app-stories/swift-objective-c-mixed-languages-app-16b6c9c3e9b0\" rel=\"nofollow noreferrer\">here complete blog</a> for the mix language coding.</em></p>\n<h3>Then use Protocol inside Objective C class,</h3>\n<p>We required to add <strong>protocol</strong> inside <strong>Objective C</strong> file -</p>\n<pre><code>#import &quot;ARBot-Swift.h&quot;\n\n@interface ChatScreenViewController : JSQMessagesViewController &lt;SpeechRecognizerDelegate&gt;\n</code></pre>\n<hr />\n<p>Then you need to conform to the <strong>protocol</strong> methods -</p>\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n    SpeechRecognizer * speechRecognizer = [[SpeechRecognizer alloc] init];\n    speechRecognizer.delegate = self;\n}\n\n\n#pragma mark - Delegate Methods\n-(void)speechRecognitionFinished:(NSString *) transcription{\n   //Do something here\n}\n\n-(void)speechRecognitionError:(NSError *) error{\n   //Do something here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1414, "user_id": 1565615, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d5d89b1ad20a24c414a0ec14bc169b2?s=128&d=identicon&r=PG", "display_name": "StackRunner", "link": "https://stackoverflow.com/users/1565615/stackrunner"}, "is_accepted": false, "score": 1, "last_activity_date": 1516359938, "creation_date": 1516359938, "answer_id": 48339695, "question_id": 45931392, "link": "https://stackoverflow.com/questions/45931392/can-not-find-swift-protocol-declaration-in-obj-c-class/48339695#48339695", "title": "Can not find Swift Protocol declaration in Obj-C class", "body": "<p>I had a similar issue after following (import header + Objc annotation on protocol). I got the warning when using Swift code from Objective C headers. Solved by only importing into the implementation .m files. </p>\n"}, {"comments": [{"owner": {"reputation": 538, "user_id": 683178, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db87dba807e9b5ddc7d700b83382b189?s=128&d=identicon&r=PG", "display_name": "look", "link": "https://stackoverflow.com/users/683178/look"}, "edited": false, "score": 1, "creation_date": 1590790935, "post_id": 58098547, "comment_id": 109824990, "body": "This is the correct answer. The key is to add the <code>@protocol YOURSwiftDelegate;</code> line in your objective C code. After that the next error will ask you to define the missing functions."}], "tags": [], "owner": {"reputation": 244, "user_id": 8738937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AoGs.jpg?s=128&g=1", "display_name": "Shahriyar", "link": "https://stackoverflow.com/users/8738937/shahriyar"}, "is_accepted": false, "score": 6, "last_activity_date": 1569414950, "creation_date": 1569414950, "answer_id": 58098547, "question_id": 45931392, "link": "https://stackoverflow.com/questions/45931392/can-not-find-swift-protocol-declaration-in-obj-c-class/58098547#58098547", "title": "Can not find Swift Protocol declaration in Obj-C class", "body": "<p><strong>in Swift:</strong></p>\n\n<pre><code>@objc public protocol YOURSwiftDelegate {\n    func viewReceiptPhoto()\n    func amountPicked(selected: Int)\n}\n\nclass YourClass: NSObject {\n    weak var delegat: YOURSwiftDelegate?\n}\n</code></pre>\n\n<p><strong>in Objective-C headerFile.h</strong></p>\n\n<pre><code>@protocol YOURSwiftDelegate;\n\n@interface YOURController : UIViewController &lt; YOURSwiftDelegate &gt;\n</code></pre>\n\n<p><strong>in Objective-C Implementation.m</strong></p>\n\n<pre><code>SwiftObject * swiftObject = [SwiftObject alloc] init];\nswiftObject.delegate = self\n</code></pre>\n"}], "owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4755, "favorite_count": 0, "accepted_answer_id": 45931789, "answer_count": 4, "score": 3, "last_activity_date": 1583819183, "creation_date": 1503985120, "last_edit_date": 1569476470, "question_id": 45931392, "link": "https://stackoverflow.com/questions/45931392/can-not-find-swift-protocol-declaration-in-obj-c-class", "title": "Can not find Swift Protocol declaration in Obj-C class", "body": "<p>I have created on <code>Class</code> in <code>Swift</code> and that class and its protocol I am using in <code>Obj-C</code> enabled project but I am getting below error while compiling my project.</p>\n\n<blockquote>\n  <p>cannot find protocol declaration for 'SpeechRecognizerDelegate'; did\n  you mean 'SFSpeechRecognizerDelegate'?</p>\n</blockquote>\n\n<p>Can anyone guide me on this how can I use Swift class protocol in my Obj-C class.</p>\n\n<p><strong>Here is my Swift code:</strong></p>\n\n<pre><code>protocol SpeechRecognizerDelegate : class  {\n    func speechRecognitionFinished(_ transcription:String)\n    func speechRecognitionError(_ error:Error)\n}\n\n\nclass SpeechRecognizer: NSObject, SFSpeechRecognizerDelegate {\n    open weak var delegate: SpeechRecognizerDelegate?\n\n}\n</code></pre>\n\n<p><strong>Protocol use in Obj-C:</strong></p>\n\n<pre><code>#import \"ARBot-Swift.h\"\n\n@interface ChatScreenViewController : JSQMessagesViewController &lt;SpeechRecognizerDelegate&gt;\n</code></pre>\n\n<p>Let me know if required more info.</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c", "json", "web-services"], "comments": [{"owner": {"reputation": 89867, "user_id": 1104384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KJcAb.png?s=128&g=1", "display_name": "Midhun MP", "link": "https://stackoverflow.com/users/1104384/midhun-mp"}, "edited": false, "score": 0, "creation_date": 1503983923, "post_id": 45931116, "comment_id": 78820544, "body": "First of all the JSON you posted is not a valid one. Second thing is your code doesn&#39;t make any sense because the keys in your JSON and the keys in your code is different."}, {"owner": {"reputation": 5291, "user_id": 2225960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbe6ed4dfe3277edd4921b31ad78d05?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/2225960/juan"}, "edited": false, "score": 0, "creation_date": 1503983942, "post_id": 45931116, "comment_id": 78820551, "body": "Are you sending it that way from the server?"}, {"owner": {"reputation": 11593, "user_id": 8090893, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/76d11d82f4b09abd8412c30342b4e71e?s=128&d=identicon&r=PG&f=1", "display_name": "iOS", "link": "https://stackoverflow.com/users/8090893/ios"}, "reply_to_user": {"reputation": 89867, "user_id": 1104384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KJcAb.png?s=128&g=1", "display_name": "Midhun MP", "link": "https://stackoverflow.com/users/1104384/midhun-mp"}, "edited": false, "score": 0, "creation_date": 1503984172, "post_id": 45931116, "comment_id": 78820614, "body": "@Midhun MP I&#39;m sorry I edited above code ..."}, {"owner": {"reputation": 89867, "user_id": 1104384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KJcAb.png?s=128&g=1", "display_name": "Midhun MP", "link": "https://stackoverflow.com/users/1104384/midhun-mp"}, "edited": false, "score": 1, "creation_date": 1503984841, "post_id": 45931116, "comment_id": 78820818, "body": "@iOSDeveloper: Can you please update the JSON too ? It&#39;s still invalid (You can validate your JSON here: <a href=\"http://jsoneditoronline.org\" rel=\"nofollow noreferrer\">jsoneditoronline.org</a>). But if you are getting result from server like that, that&#39;s the reason why you are getting null while parsing JSON."}, {"owner": {"reputation": 11593, "user_id": 8090893, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/76d11d82f4b09abd8412c30342b4e71e?s=128&d=identicon&r=PG&f=1", "display_name": "iOS", "link": "https://stackoverflow.com/users/8090893/ios"}, "edited": false, "score": 0, "creation_date": 1503985081, "post_id": 45931116, "comment_id": 78820903, "body": "I&#39;m getting error. Yes, thank u..."}, {"owner": {"reputation": 1094, "user_id": 5123516, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/10206211579481531/picture?type=large", "display_name": "Moaz Khan", "link": "https://stackoverflow.com/users/5123516/moaz-khan"}, "edited": false, "score": 0, "creation_date": 1503987871, "post_id": 45931116, "comment_id": 78822120, "body": "Use swiftyJSON and Alamofire libraries to make your life much easier."}, {"owner": {"reputation": 11593, "user_id": 8090893, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/76d11d82f4b09abd8412c30342b4e71e?s=128&d=identicon&r=PG&f=1", "display_name": "iOS", "link": "https://stackoverflow.com/users/8090893/ios"}, "edited": false, "score": 0, "creation_date": 1503988236, "post_id": 45931116, "comment_id": 78822319, "body": "@ Moaz Khan thank u..."}, {"owner": {"reputation": 2346, "user_id": 2301271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e21a9746e3ccddab5d82e1c5b97dff4a?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/2301271/joshua"}, "edited": false, "score": 0, "creation_date": 1503988920, "post_id": 45931116, "comment_id": 78822692, "body": "Add the error reference in serialization to check what is the issue why you were not getting anything"}, {"owner": {"reputation": 4935, "user_id": 2013229, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/urQJp.jpg?s=128&g=1", "display_name": "Nirmalsinh", "link": "https://stackoverflow.com/users/2013229/nirmalsinh"}, "edited": false, "score": 0, "creation_date": 1503997687, "post_id": 45931116, "comment_id": 78827998, "body": "@iOSDeveloper Your json string having some issue."}], "answers": [{"tags": [], "owner": {"reputation": 5433, "user_id": 4367641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rPLp.jpg?s=128&g=1", "display_name": "Abdelahad Darwish", "link": "https://stackoverflow.com/users/4367641/abdelahad-darwish"}, "is_accepted": true, "score": 1, "last_activity_date": 1504002202, "last_edit_date": 1504002202, "creation_date": 1503991468, "answer_id": 45933104, "question_id": 45931116, "link": "https://stackoverflow.com/questions/45931116/parse-two-json-objects/45933104#45933104", "title": "Parse two JSON objects", "body": "<p>after you get  AB , its array of Dictionary</p>\n\n<p>you can easily use this <strong>valueForKeyPath</strong> like:</p>\n\n<pre><code>   NSArray * AB = @[@{\n                      @\"ID1\":@\"response\",\n                       @\"ID2\":@\"response\",\n                      @\"ID3\":@\"response\",\n                      @\"ID4\":@\"response\",\n                      @\"ID5\":@\"response\",\n                     },@{\n                @\"ID1\":@\"response\",\n                @\"ID2\":@\"response\",\n                @\"ID3\":@\"response\",\n                @\"ID4\":@\"response\",\n                @\"ID5\":@\"response\"\n                }];\n\n\n\n    NSArray * ID1 = [AB valueForKeyPath:@\"ID1\"];\n    NSArray * ID2 = [AB valueForKeyPath:@\"ID2\"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1503992401, "creation_date": 1503992401, "answer_id": 45933365, "question_id": 45931116, "link": "https://stackoverflow.com/questions/45931116/parse-two-json-objects/45933365#45933365", "title": "Parse two JSON objects", "body": "<blockquote>\n  <p>How to receive two JSON objects at a time?</p>\n</blockquote>\n\n<p>The JSON you show is indeed two valid JSON encodings concatenated. If your server is doing this and there is nothing you can do to fix that then you can try to fix it yourself:</p>\n\n<ol>\n<li>Any occurrence of <code>][</code>, <code>}{</code>, <code>]{</code> or <code>}[</code> with any amount of white space between the two characters is the end of one JSON encoding and the start of the next. Construct an <code>NSRegularExpression</code> to find these sequences and replace them with the same close/open bracket/brace combination but with a comma (<code>,</code>) in between them.</li>\n<li>Add a single <code>[</code> at the start and a single <code>]</code> at the end.</li>\n</ol>\n\n<p>These two steps will converted your concatenated JSON encodings into a JSON array of the individual encodings. Now parse and process as usual remembering you first need to index into the outermost array to access the particular JSON response before your index into the response to access the elements you need.</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 11593, "user_id": 8090893, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/76d11d82f4b09abd8412c30342b4e71e?s=128&d=identicon&r=PG&f=1", "display_name": "iOS", "link": "https://stackoverflow.com/users/8090893/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 45933104, "answer_count": 2, "score": 3, "last_activity_date": 1551518334, "creation_date": 1503983595, "last_edit_date": 1592644375, "question_id": 45931116, "link": "https://stackoverflow.com/questions/45931116/parse-two-json-objects", "title": "Parse two JSON objects", "body": "<p>When i send API i'm getting <strong>JSON</strong> response like this.</p>\n<blockquote>\n<p>{&quot;ABC&quot;:[{&quot;ID1&quot;:&quot;response&quot;,&quot;ID2&quot;:&quot;response&quot;,&quot;ID3&quot;:&quot;response&quot;,&quot;ID4&quot;:&quot;response&quot;,&quot;ID5&quot;:&quot;response&quot;},{&quot;ID1&quot;:&quot;response&quot;,&quot;ID2&quot;:&quot;response&quot;,&quot;ID3&quot;:&quot;response&quot;,&quot;ID4&quot;:&quot;response&quot;,&quot;ID5&quot;:&quot;response&quot;},{&quot;ID1&quot;:&quot;response&quot;,&quot;ID2&quot;:&quot;response&quot;,&quot;ID3&quot;:&quot;response&quot;,&quot;ID4&quot;:&quot;response&quot;,&quot;ID5&quot;:&quot;response&quot;}],&quot;status&quot;:&quot;OK&quot;,&quot;count&quot;:3}</p>\n<p>{&quot;XYZ&quot;:[{&quot;id1&quot;:&quot;response&quot;},{&quot;id1&quot;:&quot;response&quot;},{&quot;id1&quot;:&quot;response&quot;}],&quot;status&quot;:&quot;OK&quot;,&quot;count&quot;:3}</p>\n</blockquote>\n<p>Here i'm getting <strong>two JSON</strong> objects in the response. How to store this data in MutableArrays.</p>\n<p>My code is...</p>\n<pre><code>//Getting data from server through JSON approach ...\nself.urlSession = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration]];\nself.urlReq= [NSMutableURLRequest requestWithURL:[NSURL URLWithString:[[NSString alloc] initWithFormat:@&quot;http://MyApiName&quot;]]];\n\nself.dataTask = [self.urlSession dataTaskWithRequest:self.urlReq completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n        \n        if (!(data == nil)) {\n            \n            self.loginDic = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil];\n            NSLog(@&quot;data : %@&quot;, data);\n            NSLog(@&quot;Login Dic : %@&quot;, [self.loginDic objectForKey:@&quot;ABC&quot;]);\n\n            if (!(self.loginDic == nil)) {\n                \n                self.integer = [[self.loginDic objectForKey:@&quot;ABC&quot;] count];\n                \n                if ([[self.loginDic objectForKey:@&quot;status&quot;] isEqualToString:@&quot;OK&quot;] &amp;&amp; (!(self.integer == 0))) {\n                    \n                    self.ID1 = [[NSMutableArray alloc]init];\n                    self.ID2 = [[NSMutableArray alloc]init];\n                    self.ID3 = [[NSMutableArray alloc]init];\n                    self.ID4 = [[NSMutableArray alloc]init];\n                    self.ID5 = [[NSMutableArray alloc]init];\n                    \n                    for (int i=0; i&lt;self.integer; i++) {\n                            \n                        [self.ID1 addObject:[[[self.loginDic objectForKey:@&quot;ABC&quot;] objectAtIndex:i] objectForKey:@&quot;ID1&quot;]];\n                        [self.ID2 addObject:[[[self.loginDic objectForKey:@&quot;ABC&quot;] objectAtIndex:i] objectForKey:@&quot;ID2&quot;]];\n                        [self.ID3 addObject:[[[self.loginDic objectForKey:@&quot;ABC&quot;] objectAtIndex:i] objectForKey:@&quot;ID3&quot;]];\n                        [self.ID4 addObject:[[[self.loginDic objectForKey:@&quot;ABC&quot;] objectAtIndex:i] objectForKey:@&quot;ID4&quot;]];\n                        [self.ID5 addObject:[[[self.loginDic objectForKey:@&quot;ABC&quot;] objectAtIndex:i] objectForKey:@&quot;ID5&quot;]];                                \n                    }\n                    \n                    NSLog(@&quot;%@&quot;, self.ID1);\n                    NSLog(@&quot;%@&quot;, self.ID2);\n                    \n                } else {\n                    \n                }\n                \n            } else {\n            \n            }\n            \n        } else {\n            \n        }\n        \n    }];\n    \n    [self.dataTask resume];\n\n}\n</code></pre>\n<p>I'm getting data, but I'm getting <code>loginDic = null</code>.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 1159, "user_id": 1095251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Pf4Z.jpg?s=128&g=1", "display_name": "Basheer", "link": "https://stackoverflow.com/users/1095251/basheer"}, "is_accepted": false, "score": 0, "last_activity_date": 1503984352, "creation_date": 1503984352, "answer_id": 45931258, "question_id": 45930897, "link": "https://stackoverflow.com/questions/45930897/how-to-find-the-same-touch-coordinate-of-same-view-of-different-size-ios-objecti/45931258#45931258", "title": "How to find the same touch coordinate of same view of different size ios objective c?", "body": "<p>When tapped on image, you can calculate the tapped point related to image size.</p>\n\n<pre><code>actualImageWidth = 500\nactualImageHeight = 500\n\ntappedX = 100\ntappedY = 100\n</code></pre>\n\n<p>If your image size is 200 * 200, then your formula to be,</p>\n\n<pre><code>newImageWidth = 200\nnewImageHeight = 200\n\nxPosition = tappedX / (acuatlImageWidth / newImageWidth)\nyPosition = tappedY / (acuatlImageHeight / newImageHeight)\n</code></pre>\n\n<p>If your image size is 1000 * 100, then your formula to be,</p>\n\n<pre><code>newImageWidth = 1000\nnewImageHeight = 1000\n\nxPosition = tappedX * (acuatlImageWidth / newImageWidth)\nyPosition = tappedY * (acuatlImageHeight / newImageHeight)\n</code></pre>\n"}], "owner": {"reputation": 231, "user_id": 7772515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HsjonEUIIKI/AAAAAAAAAAI/AAAAAAAAABk/J-8kSKHVvmA/photo.jpg?sz=128", "display_name": "Vishnu Prasannan", "link": "https://stackoverflow.com/users/7772515/vishnu-prasannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1503984352, "creation_date": 1503982382, "question_id": 45930897, "link": "https://stackoverflow.com/questions/45930897/how-to-find-the-same-touch-coordinate-of-same-view-of-different-size-ios-objecti", "title": "How to find the same touch coordinate of same view of different size ios objective c?", "body": "<p>My query is that I want to get the same touch coordinates of same view in different size. For example: If I have an image view of size 500x500 and another view in next VC of size 200x200. In the first view (i.e, 500x500) I have given tap gesture and i have plotted the coordinate. When I click next button it would go to another VC having the image view of size 200x200. I have to get the same point from where I have touch on the much larger image. I have used CGPoint for plotting it was fine when done with same size image view but problem started when the size of the image view changed. Can anyone help me out please? Thanks in advance.</p>\n"}, {"tags": ["ios", "objective-c", "uicollectionview"], "comments": [{"owner": {"reputation": 2201, "user_id": 4491482, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-0A0YJoeg7XA/AAAAAAAAAAI/AAAAAAAAAAk/hJDMXdRqA7E/photo.jpg?sz=128", "display_name": "Yagnesh Dobariya", "link": "https://stackoverflow.com/users/4491482/yagnesh-dobariya"}, "edited": false, "score": 0, "creation_date": 1503981879, "post_id": 45930764, "comment_id": 78819963, "body": "Don&#39;t do [self.view addSubview:_collectionView]; in viewDidLoad. Do it on action event when button is clicked or any other view touchup and so on."}, {"owner": {"reputation": 18926, "user_id": 6190582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xha3E.png?s=128&g=1", "display_name": "Reinier Melian", "link": "https://stackoverflow.com/users/6190582/reinier-melian"}, "edited": false, "score": 1, "creation_date": 1503982496, "post_id": 45930764, "comment_id": 78820132, "body": "You can set the dataSource and reload in your button action and must have the same effect"}], "owner": {"reputation": 138, "user_id": 7329385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0073d4911574b68279d0bb1532b5053e?s=128&d=identicon&r=PG", "display_name": "shubh14896", "link": "https://stackoverflow.com/users/7329385/shubh14896"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503988010, "creation_date": 1503981474, "last_edit_date": 1503988010, "question_id": 45930764, "link": "https://stackoverflow.com/questions/45930764/dynamically-loading-collection-view-after-initialization", "title": "Dynamically Loading Collection View After initialization", "body": "<p>I created a collection view in obj-c and defined all the properties in view did load as following </p>\n\n<pre><code>- (void)viewDidLoad{\n    [super viewDidLoad];\n    self.view = [[UIView alloc] initWithFrame:[[UIScreen mainScreen] bounds]];\n\n    UICollectionViewFlowLayout *layout=[[UICollectionViewFlowLayout alloc] init];\n\n    _collectionView=[[UICollectionView alloc] initWithFrame:self.view.frame collectionViewLayout:layout];\n\n    [_collectionView setDataSource:self];\n    [_collectionView setDelegate:self];\n\n    [_collectionView registerClass:[UICollectionViewCell class] forCellWithReuseIdentifier:@\"cellIdentifier\"];\n    [_collectionView setBackgroundColor:[UIColor redColor]];\n    [self.view addSubview:_collectionView];\n }\n</code></pre>\n\n<p>So my requirement is: I want <code>[self.view addSubview:_collectionView]</code>, to get activated when I click some button, in the same view controller &amp; as well as in different view controller.</p>\n"}, {"tags": ["objective-c", "macos", "nstableview", "nstablecellview"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1503996939, "post_id": 45930399, "comment_id": 78827512, "body": "Do you mean remove the empty space inside the scroll view below the table view?"}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1503999741, "post_id": 45930399, "comment_id": 78829346, "body": "When table having less data to show, then it shows separator lines below the content too(They are consider as empty cell). how can we remove that space or lines?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504021029, "post_id": 45930399, "comment_id": 78844599, "body": "Remove the empty data or let the data source ignore the empty data. (Or fix the bug in the data source)."}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504065645, "post_id": 45930399, "comment_id": 78861663, "body": "There is no empty data. Let suppose I am having table with only 2 rows, then by default it will show empty rows with separator. I want to remove those separator lines from table."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504182696, "post_id": 45930399, "comment_id": 78922276, "body": "No, <code>NSTableView</code> doesn&#39;t show empty rows. Do you return the correct number of rows from <code>numberOfRowsInTableView:</code>?"}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504238250, "post_id": 45930399, "comment_id": 78946010, "body": "I am using NSOutlineView and returning 2 cells which are NSTableCellView by default, and they are showing empty rows"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504256039, "post_id": 45930399, "comment_id": 78952952, "body": "Can you add the datasource and relevant delegate code to the question?"}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504257818, "post_id": 45930399, "comment_id": 78954063, "body": "@Willeke Please check"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504260470, "post_id": 45930399, "comment_id": 78955702, "body": "Did you switch the grid lines on? See <a href=\"https://stackoverflow.com/questions/5606796/draw-grid-lines-in-nstableview-only-for-populated-rows\">Draw grid lines in NSTableView only for populated rows?</a>"}, {"owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1504266571, "post_id": 45930399, "comment_id": 78959328, "body": "Worked for me, Thanks a lot"}, {"owner": {"reputation": 68538, "user_id": 2227743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OmxV4.jpg?s=128&g=1", "display_name": "Eric Aya", "link": "https://stackoverflow.com/users/2227743/eric-aya"}, "edited": false, "score": 0, "creation_date": 1504609812, "post_id": 45930399, "comment_id": 79066268, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5606796/draw-grid-lines-in-nstableview-only-for-populated-rows\">Draw grid lines in NSTableView only for populated rows?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6852, "user_id": 2567126, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1537898582/picture?type=large", "display_name": "Duncan Groenewald", "link": "https://stackoverflow.com/users/2567126/duncan-groenewald"}, "is_accepted": false, "score": 0, "last_activity_date": 1591605813, "creation_date": 1591605813, "answer_id": 62258213, "question_id": 45930399, "link": "https://stackoverflow.com/questions/45930399/how-can-we-remove-extra-lines-from-nstableview-in-os-x/62258213#62258213", "title": "How can we remove extra lines from NSTableView in OS X?", "body": "<p>Use this delegate method to return a custom row.  That way you can do fancy drawing and spacing as per the example. Note the little drawing glitch above the top level arrow that I haven't got around to fixing yet.</p>\n\n<pre><code>func outlineView(_ outlineView: NSOutlineView, rowViewForItem item: Any) -&gt; NSTableRowView? {\n        if let _ = item as? Section {\n            return NSTableRowView()\n        } else {\n            return OSFixtureTableHeaderRowView()\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Rn0y3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rn0y3.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 21, "user_id": 8525660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2658e83a80839830565253fa0c8bef63?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/8525660/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1591605813, "creation_date": 1503978578, "last_edit_date": 1504257792, "question_id": 45930399, "link": "https://stackoverflow.com/questions/45930399/how-can-we-remove-extra-lines-from-nstableview-in-os-x", "title": "How can we remove extra lines from NSTableView in OS X?", "body": "<p>I need to remove unused cells lines from the NSTableView and NSOutlineView. In UITableView we have property of tablefooter. is there anything for NSTableView. </p>\n\n<p>Please check code and a little description about this.</p>\n\n<p>dataArr is an array which contains SearchItem type objects, they are just modals for data nothing else. dataArr has 4 objects means total 4 rows will appear in NSOutline view.</p>\n\n<p>((SearchItems *)item).children is the data array for OutlineView children corresponding to a single SearchItems. Every row has 2 children, So when you will expand the rows, 2 children will show.</p>\n\n<pre><code>//MARK: NSOutlineViewDataSource\n- (NSInteger)outlineView:(NSOutlineView *)outlineView numberOfChildrenOfItem:(nullable id)item\n{\n    if (item != nil &amp;&amp; [item isKindOfClass:[SearchItems class]])\n    {\n        return ((SearchItems *)item).children.count;\n    }\n\n    return dataArr.count;\n}\n\n\n- (id)outlineView:(NSOutlineView *)outlineView child:(NSInteger)index ofItem:(nullable id)item\n{\n    if(item != nil &amp;&amp; [item isKindOfClass:[SearchItems class]])\n    {\n        return ((SearchItems *)item).children[index];\n    }\n\n    return dataArr[index];\n}\n\n- (BOOL)outlineView:(NSOutlineView *)outlineView isItemExpandable:(id)item\n{\n    if(item != nil &amp;&amp; [item isKindOfClass:[SearchItems class]])\n    {\n        return ((SearchItems *)item).children.count &gt; 0;\n    }\n\n    return false;\n}\n\n//MARK: NSOutlineViewDelegate\n\n- (nullable NSView *)outlineView:(NSOutlineView *)outlineView viewForTableColumn:(nullable NSTableColumn *)tableColumn item:(id)item\n{\n    NSTableCellView *view;\n\n    if([item isKindOfClass:[SearchSubItems class]])\n    {\n        view = (NSTableCellView *)[outlineView makeViewWithIdentifier:@\"SearchSubItem\" owner:self];\n        view.textField.stringValue = ((SearchSubItems *)item).nameOfSubItem;\n        [view.textField sizeToFit];\n    }\n    else\n    {\n        view = (NSTableCellView *)[outlineView makeViewWithIdentifier:@\"SearchItem\" owner:self];\n        view.textField.stringValue = ((SearchItems *)item).nameStr;\n        [view.textField sizeToFit];\n    }\n\n    return view;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user887210"}, "edited": false, "score": 0, "creation_date": 1503975646, "post_id": 45929969, "comment_id": 78818637, "body": "Why maintain both Swift and Objective-C? Put the Objective-C into maintenance mode and bridge over new Swift code to cover the stuff you replace. Maintaining two codebases for no good reason is simply duplication of work and a source of errors."}, {"owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 0, "creation_date": 1503975920, "post_id": 45929969, "comment_id": 78818702, "body": "I originally wrote the app in Swift but it turned out to be 4 MB over the App Store binary hosting limit. All the resources in the app are ASCII text I really couldn&#39;t remove, so the Swift runtime was the only thing that can be cut. So I&#39;m rewriting the app in Obj-C. When the Swift ABI stabilizes I will swap the codebases out. Yes, I&#39;m aware of the absurdity of this situation."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5890979"}, "edited": false, "score": 0, "creation_date": 1503976144, "post_id": 45929969, "comment_id": 78818740, "body": "@PopKernel could remote downloading some of the extra resources when the user installs the app be a solution to avoid recoding everything? :)"}, {"owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 0, "creation_date": 1503976186, "post_id": 45929969, "comment_id": 78818754, "body": "Introduces a lot of complexity considering the codebase is about 200 lines large. A rewrite would be faster and more performant."}, {"owner": {"user_type": "does_not_exist", "display_name": "user887210"}, "edited": false, "score": 0, "creation_date": 1503976241, "post_id": 45929969, "comment_id": 78818766, "body": "Yes, the Swift ABI situation is a pain but it seems like there must be some other alternative. Have you tried <a href=\"https://developer.apple.com/library/content/qa/qa1795/_index.html\" rel=\"nofollow noreferrer\">Technical Q&amp;A QA1795</a>? Isn&#39;t the binary limit something like 8GB now?"}, {"owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 0, "creation_date": 1503976268, "post_id": 45929969, "comment_id": 78818770, "body": "It&#39;s an Apple Watch app. Binary limit is 50 MB."}, {"owner": {"user_type": "does_not_exist", "display_name": "user887210"}, "edited": false, "score": 0, "creation_date": 1503976373, "post_id": 45929969, "comment_id": 78818789, "body": "Ahh. Hmm, why not store the data in the iOS app and transfer it later to keep the binary smaller? <a href=\"https://developer.apple.com/library/content/documentation/General/Conceptual/WatchKitProgrammingGuide/SharingData.html\" rel=\"nofollow noreferrer\">Sharing Data</a> - I feel like you&#39;re doing a lot of extra work that could be avoided."}, {"owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 0, "creation_date": 1503976540, "post_id": 45929969, "comment_id": 78818824, "body": "Definitely a possible solution, but again given the core of the app is 200 loc long it introduces a lot of complexity because I can&#39;t just throw up a progress bar. I&#39;d have to schedule it in the background, and account for what happens if the phone loses connection, consider whether I should be just pulling files from a server instead, etc."}, {"owner": {"user_type": "does_not_exist", "display_name": "user887210"}, "edited": false, "score": 1, "creation_date": 1503976596, "post_id": 45929969, "comment_id": 78818835, "body": "Yep, it&#39;s definitely something to work around. My Obj-C is rusty or I&#39;d give a crack at this. Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 0, "creation_date": 1503976725, "post_id": 45930161, "comment_id": 78818853, "body": "Thanks, I saw that method but the signature was const * void which confused me. This example is helpful!!"}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 1, "creation_date": 1503976834, "post_id": 45930161, "comment_id": 78818877, "body": "The <code>const * void</code> is just there because the data referred to by the <code>NSData</code> object can technically be any type, not just bytes. It could, for example, be an array of <code>uint32_t</code>s. You just cast it to whatever the correct type is, which in this case is bytes. Of course, if you&#39;re doing something fancy, you need to pay attention to alignment issues as well."}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 1, "creation_date": 1503977476, "post_id": 45930161, "comment_id": 78819008, "body": "One other thing I should mention: Since the <code>bytes</code> pointer points to the <code>NSData</code>&#39;s internal storage, don&#39;t hang onto it longer than you hang onto the <code>NSData</code>. If you try to use the <code>bytes</code> pointer after the <code>NSData</code> object has been deallocated... well... <a href=\"https://www.youtube.com/watch?v=6Ls5j5iz2eA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=6Ls5j5iz2eA</a>"}], "tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 1, "last_activity_date": 1503976566, "creation_date": 1503976566, "answer_id": 45930161, "question_id": 45929969, "link": "https://stackoverflow.com/questions/45929969/nsdata-to-nsarray-of-nsnumbers/45930161#45930161", "title": "NSData to NSArray of NSNumbers?", "body": "<p>The only good way to access an <code>NSData</code>'s bytes is to call its <code>-bytes</code> method, which gets you a C pointer to its internal storage.</p>\n\n<pre><code>NSData *data = ...;\nconst uint8_t *bytes = data.bytes;\nNSUInteger length = data.length;\n\nfor (NSUInteger i = 0; i &lt; length; i++) {\n    uint8_t byte = bytes[i];\n\n    // do something with byte\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "edited": false, "score": 0, "creation_date": 1503992221, "post_id": 45932720, "comment_id": 78824648, "body": "Nice catch on the myData thing. I&#39;ll look at your answer in more detail tomorrow, I shouldn&#39;t be up this late as it is! \u231b\ufe0f\ud83c\udf19\ud83d\udc80"}], "tags": [], "owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1504017424, "last_edit_date": 1592644375, "creation_date": 1503990168, "answer_id": 45932720, "question_id": 45929969, "link": "https://stackoverflow.com/questions/45929969/nsdata-to-nsarray-of-nsnumbers/45932720#45932720", "title": "NSData to NSArray of NSNumbers?", "body": "<p>The closest equivalent to <code>advance</code> would be <code>subdataWithRange</code>. The equivalent to <code>enumerateBytes</code> is <code>enumerateByteRangesUsingBlock</code>. It would yield something like:</p>\n<pre><code>NSData *subset = [data subdataWithRange:NSMakeRange(offset, data.length - offset)];\n__block NSUInteger lineEnd = data.length;\n\nByte newline = 10;\n\n[subset enumerateByteRangesUsingBlock:^(const void * _Nonnull bytes, NSRange byteRange, BOOL * _Nonnull stop) {\n    for (NSInteger index = 0; index &lt; byteRange.length; index++) {\n        Byte charByte = ((Byte *)bytes)[index];\n        \n        if (charByte == newline) {\n            lineEnd = index + byteRange.location;\n            *stop = true;\n            return;\n        }\n    }\n}];\n</code></pre>\n<p>Note, I made a few changes from your Swift example:</p>\n<ol>\n<li><p>If the data was not contiguous, your Swift example returns the index within the current block. But I suspect you want the location within <code>subset</code>, not the current block. I'm wagering that you've never noticed this because it's pretty rare that <code>NSData</code> blocks are not continuous.</p>\n<p>But the Swift code doesn't look correct to me. This Objective-C example reports the offset within <code>subset</code>, not within the current block within <code>subset</code>.</p>\n</li>\n<li><p>It's not observable performance difference, but I pulled the definition of <code>newline</code> out of the enumeration block. Why repeatedly define that?</p>\n</li>\n<li><p>If you're really searching for a character in the <code>NSData</code>, I'd suggest avoiding creating the <code>subset</code> altogether. Just use <a href=\"https://developer.apple.com/documentation/foundation/nsdata/1410391-rangeofdata?language=objc\" rel=\"nofollow noreferrer\"><code>rangeOfData:options:range:</code></a>. This will find whatever you're looking for.</p>\n</li>\n</ol>\n"}], "owner": {"reputation": 3520, "user_id": 3000704, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/927a60bdf1c5216ef15ef0774f107093?s=128&d=identicon&r=PG", "display_name": "PopKernel", "link": "https://stackoverflow.com/users/3000704/popkernel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 45930161, "answer_count": 2, "score": 1, "last_activity_date": 1504017424, "creation_date": 1503974816, "last_edit_date": 1503992097, "question_id": 45929969, "link": "https://stackoverflow.com/questions/45929969/nsdata-to-nsarray-of-nsnumbers", "title": "NSData to NSArray of NSNumbers?", "body": "<p>I'm coming from Swift to Objective-C and a problem I have run into is that NSData doesn't seem have methods to enumerate over UInt8 values the way Swift's Data does. Other answers with similar titles exist but they all deal with property lists, whereas I just have a bucket of ASCII bytes. Specifically, the code I want to replicate in Obj-C is:</p>\n\n<pre><code>//Find the next newline in ASCII data given a byte offset\nlet subset = myData.advanced(by: offset)\nvar lineEnd: Data.Index = myData.endIndex\n\nsubset.enumerateBytes({ (memory, idx, stop) in\n    let newline: UInt8 = 10\n\n    for idx in memory.indices {\n        let charByte = memory[idx]\n\n        if charByte == newline {\n            lineEnd = idx\n            stop = true; return;\n        }\n    }\n})\n</code></pre>\n\n<p>Ideally I want a way to convert an NSArray to an array of NSNumbers which I can extract the intValues from. Of course, if there is a better method, let me know. A goal is to keep the Obj-C code as similar to Swift as possible as I will be maintaining the two codebases simultaneously.</p>\n"}, {"tags": ["javascript", "objective-c", "swift", "react-native"], "comments": [{"owner": {"reputation": 19959, "user_id": 2315280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDpQu.jpg?s=128&g=1", "display_name": "bennygenel", "link": "https://stackoverflow.com/users/2315280/bennygenel"}, "edited": false, "score": 0, "creation_date": 1503992480, "post_id": 45929741, "comment_id": 78824810, "body": "I&#39;m not that good with native code but is this possible because you are mixing objective-c and swift?"}, {"owner": {"reputation": 624, "user_id": 7556560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtxnn.png?s=128&g=1", "display_name": "PTT", "link": "https://stackoverflow.com/users/7556560/ptt"}, "edited": false, "score": 0, "creation_date": 1503993591, "post_id": 45929741, "comment_id": 78825539, "body": "Try change your &quot;MyModule.m&quot; to  <code>#import &lt;React&#47;RCTBridgeModule.h&gt;  @interface RCT_EXTERN_MODULE(MyModule, NSObject)  RCT_EXTERN_METHOD(callbackMethod:(RCTResponseSenderBlock)cal&zwnj;&#8203;lback)  @end</code>"}], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 7297321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f188160c3f5dbf26a5e316a9f15a37cb?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Vishnevsky", "link": "https://stackoverflow.com/users/7297321/ilya-vishnevsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1507760931, "creation_date": 1507760931, "answer_id": 46698529, "question_id": 45929741, "link": "https://stackoverflow.com/questions/45929741/callback-functions-in-react-native-swift/46698529#46698529", "title": "CallBack Functions in React Native Swift", "body": "<p>Try to add underscore:\n<code>callbackMethod(_ callback: RCTResponseSenderBlock)</code></p>\n"}], "owner": {"reputation": 81, "user_id": 5187322, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/65ee195d3b0a50b63c3bc10dc556fb0e?s=128&d=identicon&r=PG&f=1", "display_name": "newguy222", "link": "https://stackoverflow.com/users/5187322/newguy222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1073, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507760931, "creation_date": 1503973084, "question_id": 45929741, "link": "https://stackoverflow.com/questions/45929741/callback-functions-in-react-native-swift", "title": "CallBack Functions in React Native Swift", "body": "<p>I'm trying to create a native swift module with a function I can call in my javascript code. Currently I have my <code>module.swift</code> file, my <code>module.m</code> file, and the bridging header.</p>\n\n<p>Here's MyModule.swift:</p>\n\n<pre><code>import Foundation\n\n@objc(MyModule)\nclass MyModule: NSObject {\n\n  @objc func callbackMethod(callback: RCTResponseSenderBlock) -&gt; Void {\n     let resultsDict = [\n     \"success\" : true\n     ];\n\n    callback([NSNull() ,resultsDict])\n  }\n\n}\n</code></pre>\n\n<p>Here's MyModule.m:</p>\n\n<pre><code>import Foundation\n\n@objc(AskPermissions)\nclass AskPermissions: NSObject {\n\n  @objc func callbackMethod(callback: RCTResponseSenderBlock) -&gt; Void {\n    let resultsDict = [\n     \"success\" : true\n   ];\n   print(\"GLARGH!\")\n  callback([NSNull() ,resultsDict])\n  }\n\n}\n</code></pre>\n\n<p>Here's the bridging header:</p>\n\n<pre><code>#import React/RCTBridgeModule.h\n\n#import React/RCTEventEmitter.h\n</code></pre>\n\n<p>Finally, here's my call in javascript:</p>\n\n<pre><code>const { MyModule } = require('NativeModules');\nMyModule.callbackMethod((err,r) =&gt; console.log(r));\n</code></pre>\n\n<p>The problem is that whenever I run the project, it causes an error: </p>\n\n<pre><code>Exception 'callbackMethod:(RCTResponseSenderBlock)callback is not a recognized Objective-c\n method.' \n</code></pre>\n\n<p>However, I can't find anything wrong with the documentation. Could someone please provide some help?</p>\n"}, {"tags": ["ios", "objective-c", "uiwebviewdelegate"], "comments": [{"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503968818, "post_id": 45929173, "comment_id": 78817171, "body": "What exactly do you mean by &quot;in console&quot;?"}, {"owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "edited": false, "score": 0, "creation_date": 1503968992, "post_id": 45929173, "comment_id": 78817208, "body": "What do you mean by &quot;finish the console&quot; ? You want to remove the Webview?"}, {"owner": {"reputation": 89, "user_id": 1696652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b2c7eaec796d4b1cadb8b404ee93ecd9?s=128&d=identicon&r=PG", "display_name": "vane", "link": "https://stackoverflow.com/users/1696652/vane"}, "edited": false, "score": 0, "creation_date": 1503969525, "post_id": 45929173, "comment_id": 78817303, "body": "sorry ,my program is a command line tool ,so after call [webView loadRequest:request],the program is over \u3002i just want to get the result in - (void)webViewDidFinishLoad:(UIWebView *)webView.  so  i think i should add  do something after call [webView loadRequest:request]."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 1696652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b2c7eaec796d4b1cadb8b404ee93ecd9?s=128&d=identicon&r=PG", "display_name": "vane", "link": "https://stackoverflow.com/users/1696652/vane"}, "edited": false, "score": 0, "creation_date": 1503970271, "post_id": 45929402, "comment_id": 78817436, "body": "yes ,i just do it ,but after call [webView loadRequest:request],the command line tool is over, so how can i wait for webViewDidFinishLoad is invoked?I am try to do this : [NSThread sleepForTimeInterval:5];  but it&#39;s invalid."}], "tags": [], "owner": {"reputation": 6809, "user_id": 1155354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/01W76.jpg?s=128&g=1", "display_name": "Kosuke Ogawa", "link": "https://stackoverflow.com/users/1155354/kosuke-ogawa"}, "is_accepted": false, "score": 0, "last_activity_date": 1503970502, "last_edit_date": 1503970502, "creation_date": 1503970033, "answer_id": 45929402, "question_id": 45929173, "link": "https://stackoverflow.com/questions/45929173/use-uiwebview-in-console/45929402#45929402", "title": "Use UIWebView in console", "body": "<p>You can get HTML source in console:</p>\n\n<pre><code>- (void)webViewDidFinishLoad:(UIWebView *)webView \n{\n    // Check here if still webview is loding the content\n    if (webView.isLoading)\n        return;\n\n    NSString *fullHtml = [webView stringByEvaluatingJavaScriptFromString:@\"document.getElementsByTagName('html')[0].outerHTML\"];\n    NSLog(@\"html:%@\", fullHtml);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1503970557, "post_id": 45929459, "comment_id": 78817498, "body": "See <a href=\"https://stackoverflow.com/questions/2154600/run-nsrunloop-in-a-cocoa-command-line-program\" title=\"run nsrunloop in a cocoa command line program\">stackoverflow.com/questions/2154600/&hellip;</a>"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1503970550, "creation_date": 1503970550, "answer_id": 45929459, "question_id": 45929173, "link": "https://stackoverflow.com/questions/45929173/use-uiwebview-in-console/45929459#45929459", "title": "Use UIWebView in console", "body": "<p>The problem is that you have no runloop. Thus, when your code comes to an end, the command-line tool comes to an end; things do not persist long enough for the asynchronous code to run.</p>\n"}], "owner": {"reputation": 89, "user_id": 1696652, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b2c7eaec796d4b1cadb8b404ee93ecd9?s=128&d=identicon&r=PG", "display_name": "vane", "link": "https://stackoverflow.com/users/1696652/vane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "closed_date": 1503970630, "answer_count": 2, "score": 1, "last_activity_date": 1503981083, "creation_date": 1503967779, "last_edit_date": 1503981083, "question_id": 45929173, "link": "https://stackoverflow.com/questions/45929173/use-uiwebview-in-console", "closed_reason": "Duplicate", "title": "Use UIWebView in console", "body": "<p>I want to use UIWebView in the console, so I define a delegate:</p>\n\n<pre><code>@interface webViewDelegate : NSObject &lt;UIWebViewDelegate&gt;\n</code></pre>\n\n<p>and write the protocol:</p>\n\n<pre><code>- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType;\n- (void)webViewDidStartLoad:(UIWebView *)webView;\n- (void)webViewDidFinishLoad:(UIWebView *)webView;\n- (void)webView:(UIWebView *)webView didFailLoadWithError:(NSError *)error;\n</code></pre>\n\n<p>and then loadRequest:</p>\n\n<pre><code>webView = [[UIWebView alloc] init];\nwebView.delegate = WVdelegate;\nNSURL *htmlURL = [NSURL URLWithString:@\"http://192.168.0.100\"];\nNSURLRequest *request = [NSURLRequest requestWithURL:htmlURL];\n[webView loadRequest:request];\n</code></pre>\n\n<p>The problem is that this is a console, and I want to finish the console after the delegate has been invoked. What should I do to wait for the delegate after calling <code>loadRequest</code>?</p>\n"}, {"tags": ["objective-c", "compiler-errors", "non-nullable", "objective-c-nullability"], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1503966225, "post_id": 45928782, "comment_id": 78816639, "body": "Being pedantic but the method is not explicitly marked as having a non-null return value. That would require the use of <code>- (NSArray * _Nonnull)selection...</code>. The use of <code>NS_ASSUME_NONNULL_BEGIN</code> <i>implicitly</i> marks all of the methods until the <code>NS_ASSUME_NONNULL_END</code>."}, {"owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "edited": false, "score": 0, "creation_date": 1503968624, "post_id": 45928782, "comment_id": 78817131, "body": "Cool. Thanks. (And rmaddy, the whole block of methods has ben marked as returning non-null values.) Seems like the docs  on those methods should list them as nonnull however."}], "tags": [], "owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "is_accepted": true, "score": 3, "last_activity_date": 1504452385, "last_edit_date": 1504452385, "creation_date": 1503964203, "answer_id": 45928782, "question_id": 45928639, "link": "https://stackoverflow.com/questions/45928639/are-objective-c-function-results-nonnull-by-default/45928782#45928782", "title": "Are Objective-C function results nonnull by default?", "body": "<p>They are not.</p>\n\n<p>The header where that method is declared is bracketed with <a href=\"https://developer.apple.com/library/content/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithObjective-CAPIs.html#//apple_ref/doc/uid/TP40014216-CH4-ID45\" rel=\"nofollow noreferrer\">the \"assume nonnull\" macros</a>:</p>\n\n<pre><code>//\n//  UITextInput.h\n//  UIKit\n//\n//  Copyright (c) 2009-2017 Apple Inc. All rights reserved.\n//\n\n#import &lt;CoreGraphics/CoreGraphics.h&gt;\n\n#import &lt;UIKit/UITextInputTraits.h&gt;\n#import &lt;UIKit/UIResponder.h&gt;\n\n//===================================================================================================\n// Responders that implement the UIKeyInput protocol will be driven by the system-provided keyboard,\n// which will be made available whenever a conforming responder becomes first responder.\n\nNS_ASSUME_NONNULL_BEGIN\n\n// snip\n// ...\n// L150\n/* Geometry used to provide, for example, a correction rect. */\n- (CGRect)firstRectForRange:(UITextRange *)range;\n- (CGRect)caretRectForPosition:(UITextPosition *)position;\n- (NSArray *)selectionRectsForRange:(UITextRange *)range NS_AVAILABLE_IOS(6_0);       // Returns an array of UITextSelectionRects\n</code></pre>\n\n<hr>\n\n<p>So this method has in fact been marked as having a non-null return value.</p>\n"}], "owner": {"reputation": 114065, "user_id": 205185, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1a313272e1f6a38fba49ff5323236b05?s=128&d=identicon&r=PG", "display_name": "Duncan C", "link": "https://stackoverflow.com/users/205185/duncan-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 1, "accepted_answer_id": 45928782, "answer_count": 1, "score": 3, "last_activity_date": 1504452385, "creation_date": 1503962919, "last_edit_date": 1503963936, "question_id": 45928639, "link": "https://stackoverflow.com/questions/45928639/are-objective-c-function-results-nonnull-by-default", "title": "Are Objective-C function results nonnull by default?", "body": "<p>In <a href=\"https://stackoverflow.com/questions/45928348/nil-returned-from-a-method-that-is-expected-to-return-a-non-null-value#45928348\">this thread</a> on implementing a <code>UITextInput</code> delegate method, the poster says that when they run static analysis on their code, they get an error on this function:</p>\n\n<pre><code>- (NSArray *)selectionRectsForRange:(UITextRange *)range\n{\n    return nil;\n}\n</code></pre>\n\n<p>The error is \"nil returned from a method that is expected to return a non-null value.\"</p>\n\n<p>The function declaration does not have a nullability specifier on the result. Are function results non-null by default? (I work mostly in Swift these days, and am not expert on the latest changes to Objective-C.)</p>\n"}, {"tags": ["ios", "objective-c", "cocoa-touch"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1503961016, "post_id": 45928348, "comment_id": 78815473, "body": "&quot;Should I just terminate the program&quot;? What does that mean? Pull the plug on your computer?"}, {"owner": {"reputation": 13506, "user_id": 875640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeXqx.png?s=128&g=1", "display_name": "Ser Pounce", "link": "https://stackoverflow.com/users/875640/ser-pounce"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1503962363, "post_id": 45928348, "comment_id": 78815814, "body": "@matt I changed it, I meant to say, should I do an abort()."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "edited": false, "score": 0, "creation_date": 1503966247, "post_id": 45928348, "comment_id": 78816649, "body": "@SerPounce pls check my answer. ty."}], "answers": [{"comments": [{"owner": {"reputation": 13506, "user_id": 875640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeXqx.png?s=128&g=1", "display_name": "Ser Pounce", "link": "https://stackoverflow.com/users/875640/ser-pounce"}, "edited": false, "score": 0, "creation_date": 1503962626, "post_id": 45928408, "comment_id": 78815869, "body": "Is there a cleaner way than just initializing an NSArray to a length of 1 and returning it?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 13506, "user_id": 875640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeXqx.png?s=128&g=1", "display_name": "Ser Pounce", "link": "https://stackoverflow.com/users/875640/ser-pounce"}, "edited": false, "score": 0, "creation_date": 1503962867, "post_id": 45928408, "comment_id": 78815920, "body": "Not a length of 1. Empty."}, {"owner": {"reputation": 13506, "user_id": 875640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeXqx.png?s=128&g=1", "display_name": "Ser Pounce", "link": "https://stackoverflow.com/users/875640/ser-pounce"}, "edited": false, "score": 0, "creation_date": 1503962876, "post_id": 45928408, "comment_id": 78815923, "body": "Never mind I just did: return [[NSArray alloc] init];"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 13506, "user_id": 875640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeXqx.png?s=128&g=1", "display_name": "Ser Pounce", "link": "https://stackoverflow.com/users/875640/ser-pounce"}, "edited": false, "score": 2, "creation_date": 1503963005, "post_id": 45928408, "comment_id": 78815947, "body": "<code>return @[];</code> perhaps?"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1503960956, "creation_date": 1503960956, "answer_id": 45928408, "question_id": 45928348, "link": "https://stackoverflow.com/questions/45928348/nil-returned-from-a-method-that-is-expected-to-return-a-non-null-value/45928408#45928408", "title": "Nil returned from a method that is expected to return a non-null value", "body": "<p>Don't return <code>nil</code>. If you have no \nUITextSelectionRects to return, return an empty array.</p>\n"}, {"tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 3, "last_activity_date": 1503965081, "creation_date": 1503965081, "answer_id": 45928881, "question_id": 45928348, "link": "https://stackoverflow.com/questions/45928348/nil-returned-from-a-method-that-is-expected-to-return-a-non-null-value/45928881#45928881", "title": "Nil returned from a method that is expected to return a non-null value", "body": "<p>Actually if you look at the header source, the method has <code>NS_ASSUME_NONNULL_BEGIN</code> tag attached to it. So in short the <code>selectionRectsForRange</code> becomes a non null return method.</p>\n\n<pre><code>//\n//  UITextInput.h\n//  UIKit\n//\n//  Copyright (c) 2009-2017 Apple Inc. All rights reserved.\n//\n\n#import &lt;CoreGraphics/CoreGraphics.h&gt;\n#import &lt;UIKit/UITextInputTraits.h&gt;\n#import &lt;UIKit/UIResponder.h&gt;\n\n...\n\nNS_ASSUME_NONNULL_BEGIN  // &lt;--- HERE!\n..\n- (CGRect)firstRectForRange:(UITextRange *)range;\n- (CGRect)caretRectForPosition:(UITextPosition *)position;\n- (NSArray *)selectionRectsForRange:(UITextRange *)range NS_AVAILABLE_IOS(6_0); \n</code></pre>\n\n<p>So you cannot return null or nil. Instead return an empty array like so:</p>\n\n<pre><code>- (NSArray *)selectionRectsForRange:(UITextRange *)range\n{\n    return @[];\n}\n</code></pre>\n"}], "owner": {"reputation": 13506, "user_id": 875640, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qeXqx.png?s=128&g=1", "display_name": "Ser Pounce", "link": "https://stackoverflow.com/users/875640/ser-pounce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1936, "favorite_count": 0, "accepted_answer_id": 45928408, "answer_count": 2, "score": 2, "last_activity_date": 1503965081, "creation_date": 1503960415, "last_edit_date": 1503962346, "question_id": 45928348, "link": "https://stackoverflow.com/questions/45928348/nil-returned-from-a-method-that-is-expected-to-return-a-non-null-value", "title": "Nil returned from a method that is expected to return a non-null value", "body": "<p>I'm implementing <code>UIKeyInput</code>, <code>UITextInputTraits</code>, and <code>UITextInput</code> and with that I'm required to implement:</p>\n\n<pre><code>- (NSArray *)selectionRectsForRange:(UITextRange *)range\n{\n    return nil;\n}\n</code></pre>\n\n<p>However, in analyzing my project I get: \"nil returned from a method that is expected to return a non-null value\". </p>\n\n<p>What would be the correct way to get rid of this? Should I do an abort?</p>\n"}, {"tags": ["ios", "objective-c", "encryption", "aes", "cryptojs"], "comments": [{"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1503962230, "post_id": 45928187, "comment_id": 78815781, "body": "1. Where do you find the documentation for <code>crypto.PBKDF2</code>? 2. What parameter is <code>keySize: 128 &#47; 32</code>, and why the value <code>4</code>?"}, {"owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1503962331, "post_id": 45928187, "comment_id": 78815809, "body": "3. Provide an example <code>encryptionKey</code> and <code>password</code>. 4. Provide example clear data, encrypted data, incorrect decrypted data, encryption IV and recovered decryption iv."}, {"owner": {"reputation": 869, "user_id": 1047948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/829d7689c15072fd3af757039043dcf9?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/1047948/paul"}, "reply_to_user": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "edited": false, "score": 0, "creation_date": 1503989187, "post_id": 45928187, "comment_id": 78822875, "body": "The code is based on the example here: <a href=\"http://robnapier.net/aes-commoncrypto\" rel=\"nofollow noreferrer\">robnapier.net/aes-commoncrypto</a>"}], "answers": [{"tags": [], "owner": {"reputation": 107760, "user_id": 451475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a632afa4c11779c0cabd7df04eb26ba6?s=128&d=identicon&r=PG", "display_name": "zaph", "link": "https://stackoverflow.com/users/451475/zaph"}, "is_accepted": false, "score": 1, "last_activity_date": 1503964072, "last_edit_date": 1503964072, "creation_date": 1503963743, "answer_id": 45928735, "question_id": 45928187, "link": "https://stackoverflow.com/questions/45928187/aes-encryption-on-ios-with-base64-key-from-cryptojs/45928735#45928735", "title": "AES encryption on iOS with base64 key from CryptoJS", "body": "<p>The option to <code>base64EncodedStringWithOptions</code> is incorrect and will add line ending characters to the Base64 encoded iv and encrypted data.</p>\n\n<p>You do not want line endings options, by default, no line endings are inserted. Just specify <code>0</code>:</p>\n\n<pre><code>NSString *cipherText = [cipherData base64EncodedStringWithOptions:0];\nNSString *ivText = [iv base64EncodedStringWithOptions:0];\n</code></pre>\n\n<p>The option Note that <code>NSUTF8StringEncoding</code> is not an encoding option for the method <code>base64EncodedStringWithOptions</code>. The options are:</p>\n\n<pre><code>NSDataBase64Encoding64CharacterLineLength\nNSDataBase64Encoding76CharacterLineLength\nNSDataBase64EncodingEndLineWithCarriageReturn\nNSDataBase64EncodingEndLineWithLineFeed`\n</code></pre>\n\n<p>which are all line separator options. </p>\n"}, {"tags": [], "owner": {"reputation": 869, "user_id": 1047948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/829d7689c15072fd3af757039043dcf9?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/1047948/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1503988904, "creation_date": 1503988904, "answer_id": 45932376, "question_id": 45928187, "link": "https://stackoverflow.com/questions/45928187/aes-encryption-on-ios-with-base64-key-from-cryptojs/45932376#45932376", "title": "AES encryption on iOS with base64 key from CryptoJS", "body": "<p>My original code contained three errors.</p>\n\n<ol>\n<li><p>The resulting strings need to be encoded using no parameter as suggested by zaph:</p>\n\n<pre><code>NSString *cipherText = [cipherData base64EncodedStringWithOptions:0];\nNSString *ivText = [iv base64EncodedStringWithOptions:0];\n</code></pre></li>\n<li><p>To correctly convert the encryption key to <code>NSData</code>, I use the method provided <a href=\"https://stackoverflow.com/questions/7317860/converting-hex-nsstring-to-nsdata\">here</a> and call it like this:</p>\n\n<pre><code>NSData *keyData= [self dataFromHexString:encryptionKey];\n</code></pre></li>\n<li><p>The <code>decrypt</code> function of CryptoJS requires an object like this:</p>\n\n<pre><code>const encrypted = crypto.enc.Base64.parse(message.substring(24));\n\nconst params = {\n  ciphertext: encrypted,\n  salt: ''\n};\n\nconst decrypted = crypto.AES.decrypt(params, crypto.enc.Hex.parse(this.encryptionKey.toString()), {\n  iv: iv,\n  padding: crypto.pad.Pkcs7,\n  mode: crypto.mode.CBC\n});\n\nreturn decrypted.toString(crypto.enc.Utf8);\n</code></pre></li>\n</ol>\n\n<p>Thanks for your help!</p>\n"}], "owner": {"reputation": 869, "user_id": 1047948, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/829d7689c15072fd3af757039043dcf9?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/1047948/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1503988904, "creation_date": 1503959386, "question_id": 45928187, "link": "https://stackoverflow.com/questions/45928187/aes-encryption-on-ios-with-base64-key-from-cryptojs", "title": "AES encryption on iOS with base64 key from CryptoJS", "body": "<p>I'm generating and exporting a key with CryptoJS:</p>\n\n<pre><code>const password = crypto.lib.WordArray.random(128 / 8);\nconst salt = crypto.lib.WordArray.random(128 / 8);\nconst encryptionKey = crypto.PBKDF2(password, salt, {keySize: 128 / 32});\nreturn encryptionKey.toString();\n</code></pre>\n\n<p>Now I'm trying to encrypt some data with the key on iOS:</p>\n\n<pre><code>const char *s = [encryptionKey cStringUsingEncoding:NSASCIIStringEncoding];\nNSData *keyData= [NSData dataWithBytes:s length:strlen(s)];\n\nNSMutableData *ivData = [NSMutableData dataWithLength:kCCBlockSizeAES128];\nSecRandomCopyBytes(kSecRandomDefault, kCCBlockSizeAES128, ivData.mutableBytes);\nNSData *iv = [NSData dataWithData:ivData];\n\nsize_t outLength;\n\nNSMutableData *cipherData = [NSMutableData dataWithLength:dataString.length + kCCBlockSizeAES128];\nCCCrypt(kCCEncrypt, // operation\n    kCCAlgorithmAES128, // Algorithm\n    kCCOptionPKCS7Padding, // options\n    keyData.bytes, // key\n    keyData.length, // keylength\n    iv.bytes,// iv\n    jsonData.bytes, // dataIn\n    jsonData.length, // dataInLength,\n    cipherData.mutableBytes, // dataOut\n    cipherData.length, // dataOutAvailable\n    &amp;outLength); // dataOutMoved\n\n    cipherData.length = outLength;\n\nNSString *cipherText = [cipherData base64EncodedStringWithOptions:NSUTF8StringEncoding];\nNSString *ivText = [iv base64EncodedStringWithOptions:NSUTF8StringEncoding];\n\nreturn [ivText stringByAppendingString:cipherText]\n</code></pre>\n\n<p>This all works so far. Trying to decrypt the data with CryptoJS however fails:</p>\n\n<pre><code>const iv = crypto.enc.Base64.parse(message.substr(0, 24));\nconst encrypted = crypto.enc.Base64.parse(message.substring(24));\n\nconst decrypted = crypto.AES.decrypt(encrypted, encryptionKey, {\n  iv: iv,\n  padding: crypto.pad.Pkcs7,\n  mode: crypto.mode.CBC\n});\nconsole.log(decrypted.toString(crypto.enc.Utf8))\n</code></pre>\n\n<p>The problem seems to be in the passing of the key from CryptoJS to iOS. What is the correct format to pass to CCCrypt?</p>\n"}, {"tags": ["objective-c", "nsview", "nswindow", "nsapplication"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1503958703, "post_id": 45927244, "comment_id": 78814831, "body": "Use NSEventModifierFlags."}], "answers": [{"comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1503975900, "post_id": 45928417, "comment_id": 78818695, "body": "That would be a horribly bad idea unless you want the key event anywhere on top of the concerned view object."}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1503976284, "post_id": 45928417, "comment_id": 78818774, "body": "You&#39;d need to add code to check for the correct conditions when the event should be handled, and call super&#39;s implementation the rest of the time, yes. It&#39;s crude, but it&#39;s the only way I&#39;ve found to capture the keystroke the OP wants to capture."}, {"owner": {"reputation": 164, "user_id": 849798, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/df812fd34f5f4eaf9534bab4acc31d49?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/849798/steve"}, "edited": false, "score": 0, "creation_date": 1503996711, "post_id": 45928417, "comment_id": 78827380, "body": "Thank you for this solution. It pointed me into the right direction. The funny thing is, I had to override NSWindow too to get the keyDown event in my NSView which is actually the NSWindowDelegate in my case. Seems like all instances in the chain try to avoid the Ctrl+Tab."}, {"owner": {"reputation": 164, "user_id": 849798, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/df812fd34f5f4eaf9534bab4acc31d49?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/849798/steve"}, "edited": false, "score": 0, "creation_date": 1505115942, "post_id": 45928417, "comment_id": 79262678, "body": "Which combination would be necessary to grab Ctrl+Shift+Tab?"}], "tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 1, "last_activity_date": 1503961009, "creation_date": 1503961009, "answer_id": 45928417, "question_id": 45927244, "link": "https://stackoverflow.com/questions/45927244/nsview-cannot-grab-ctrltab-keydown-event/45928417#45928417", "title": "NSView cannot grab Ctrl+Tab Keydown event", "body": "<p>In my testing, <code>NSView</code>'s <code>-keyDown:</code> method does not seem to get called on <code>NSView</code> subclasses for control-tab key events. However, you can intercept them at the application level with an <code>NSApplication</code> subclass:</p>\n\n<pre><code>@interface MyApplication: NSApplication\n@end\n\n@implementation MyApplication\n\n- (void)sendEvent:(NSEvent *)event {\n    if (event.type == NSEventTypeKeyDown &amp;&amp;\n        [event.charactersIgnoringModifiers isEqualToString:@\"\\t\"] &amp;&amp;\n        (event.modifierFlags &amp; NSEventModifierFlagDeviceIndependentFlagsMask) == NSEventModifierFlagControl) {\n        NSLog(@\"ctrl-tab\");\n    }\n\n    [super sendEvent:event];\n}\n\n@end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118, "user_id": 7528395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0MPd.jpg?s=128&g=1", "display_name": "arts", "link": "https://stackoverflow.com/users/7528395/arts"}, "is_accepted": false, "score": 0, "last_activity_date": 1557760307, "last_edit_date": 1557760307, "creation_date": 1557758480, "answer_id": 56114675, "question_id": 45927244, "link": "https://stackoverflow.com/questions/45927244/nsview-cannot-grab-ctrltab-keydown-event/56114675#56114675", "title": "NSView cannot grab Ctrl+Tab Keydown event", "body": "<p>Use</p>\n\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    NSEvent.addLocalMonitorForEvents(matching: .keyDown) {\n        if self.myKeyDown(with: $0) {\n            return nil\n        } else {\n            return $0\n        }\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>func myKeyDown(with event: NSEvent) -&gt; Bool {\n    // handle keyDown only if current window has focus, i.e. is keyWindow\n    guard let locWindow = self.view.window,\n          NSApplication.shared.keyWindow === locWindow else {\n        return false\n    }\n\n    switch event.specialKey {\n\n    case NSEvent.SpecialKey.tab:\n        // your event for tab action\n        return true\n    default:\n        break\n    }\n    return false\n}\n</code></pre>\n\n<p>if you need shortcut keys</p>\n\n<pre><code>func myKeyDown(with event: NSEvent) -&gt; Bool {\n    // handle keyDown only if current window has focus, i.e. is keyWindow\n    guard let locWindow = self.view.window,\n          NSApplication.shared.keyWindow === locWindow else {\n        return false\n    }\n\n    switch event.specialKey {\n    case NSEvent.SpecialKey.tab:\n        // your code for tab action\n        return true\n    default:\n        break\n    }\n\n    switch event.modifierFlags.intersection(.deviceIndependentFlagsMask) {\n    case [.command]:\n        switch event.charactersIgnoringModifiers! {\n        case \"w\":\n            // your code for cmd+w action (example)\n            break\n        default:\n            break\n        }\n    }\n    return false\n}\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 849798, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/df812fd34f5f4eaf9534bab4acc31d49?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/849798/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 45928417, "answer_count": 2, "score": 0, "last_activity_date": 1557760307, "creation_date": 1503953766, "last_edit_date": 1503955683, "question_id": 45927244, "link": "https://stackoverflow.com/questions/45927244/nsview-cannot-grab-ctrltab-keydown-event", "title": "NSView cannot grab Ctrl+Tab Keydown event", "body": "<p>In my Mac App, I listen to key press events and pass them on to the internal client, depending on modifiers and key code.</p>\n\n<p>Currently, I'm facing the problem, that I can't get a hold of the \"Ctrl+Tab\" event. It seems that the \"App\" itself tries to handle this, which makes sense for tab based applications. So I disabled the Tabbingmode, but still, the Ctrl+Tab never fires the KeyDown event. Any other combination of key code and modifier seems to pass just fine.</p>\n\n<p>Any suggestions on how to get the key down event fired for Ctrl+Tab?</p>\n"}, {"tags": ["objective-c", "macos", "cocoa"], "comments": [{"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503950246, "post_id": 45926220, "comment_id": 78811579, "body": "Does your method need to be called at a specific time, or just periodically?"}, {"owner": {"reputation": 3217, "user_id": 995931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/800518b9616592cb23fb1654925db06f?s=128&d=identicon&r=PG&f=1", "display_name": "user-44651", "link": "https://stackoverflow.com/users/995931/user-44651"}, "reply_to_user": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503950278, "post_id": 45926220, "comment_id": 78811593, "body": "I would like to call it every day at midnight."}, {"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503950524, "post_id": 45926220, "comment_id": 78811711, "body": "How important is it that your method is called <i>exactly</i> at midnight? If your application isn&#39;t open (or the computer isn&#39;t running) at midnight, do you need to &quot;catch up&quot;, or just skip the call entirely?"}, {"owner": {"reputation": 3217, "user_id": 995931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/800518b9616592cb23fb1654925db06f?s=128&d=identicon&r=PG&f=1", "display_name": "user-44651", "link": "https://stackoverflow.com/users/995931/user-44651"}, "reply_to_user": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503950630, "post_id": 45926220, "comment_id": 78811748, "body": "Not on the dot at midnight. If the app was closed and gets reopened, the method gets called to start. If the computer was in standby and wakes up it would need to &quot;catch up&quot; then go back to its normal schedule of checking once a day."}], "answers": [{"comments": [{"owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503950190, "post_id": 45926396, "comment_id": 78811551, "body": "cron is not appropriate for macOS desktop applications. (Indeed, it isn&#39;t available at all to sandboxed apps.)"}, {"owner": {"reputation": 11, "user_id": 8493151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ae9c4affb09063651e6da6339e61f0f?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8493151/will"}, "reply_to_user": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "edited": false, "score": 0, "creation_date": 1503950770, "post_id": 45926396, "comment_id": 78811800, "body": "Thanks for the info. The question mentions running to &quot;grab data&quot; without any need to display or indicate completion, so it may not need to run as a desktop app (except for sitting in the status bar)."}], "tags": [], "owner": {"reputation": 11, "user_id": 8493151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ae9c4affb09063651e6da6339e61f0f?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/8493151/will"}, "is_accepted": false, "score": -3, "last_activity_date": 1503949840, "creation_date": 1503949840, "answer_id": 45926396, "question_id": 45926220, "link": "https://stackoverflow.com/questions/45926220/schedule-a-method-to-be-called-at-a-specific-time-on-macos/45926396#45926396", "title": "Schedule a method to be called at a specific time on macOS", "body": "<p>If it's a regularly scheduled event, cron may work for you</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 950780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a16b4e6c164311e9518312066cb38ae0?s=128&d=identicon&r=PG", "display_name": "Michael LeHew", "link": "https://stackoverflow.com/users/950780/michael-lehew"}, "is_accepted": false, "score": 0, "last_activity_date": 1503955726, "creation_date": 1503955726, "answer_id": 45927631, "question_id": 45926220, "link": "https://stackoverflow.com/questions/45926220/schedule-a-method-to-be-called-at-a-specific-time-on-macos/45927631#45927631", "title": "Schedule a method to be called at a specific time on macOS", "body": "<p><code>-[NSTimer scheduledTimerWithTimeInterval:invocation:repeats:]</code> is probably what you want since it sounds like you already have a relevant run loop since your app is in the menu.  The timer created will be scheduled in the current run loop.  These docs are still fairly relevant: <a href=\"https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Multithreading/Introduction/Introduction.html\" rel=\"nofollow noreferrer\" title=\"Cocoa Multithreading Programming Guide\">https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/Multithreading/Introduction/Introduction.html</a></p>\n\n<p>Though if you already know the time you want the timer to fire, you should use that time instead of 1 second interval; polling like that will not be good for battery. </p>\n\n<p>It is worth noting that a timer's fire date is the first moment in time that the timer can fire, and various system level considerations (timer coalescing, etc.) that can contribute to a timer's callback being delayed. </p>\n"}, {"tags": [], "owner": {"reputation": 215, "user_id": 2968168, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qsoBb.jpg?s=128&g=1", "display_name": "Xin Yuan", "link": "https://stackoverflow.com/users/2968168/xin-yuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1504064661, "last_edit_date": 1504064661, "creation_date": 1504062514, "answer_id": 45951267, "question_id": 45926220, "link": "https://stackoverflow.com/questions/45926220/schedule-a-method-to-be-called-at-a-specific-time-on-macos/45951267#45951267", "title": "Schedule a method to be called at a specific time on macOS", "body": "<p><strong>NSCalendarDayChangedNotification</strong> would suit your needs, it's way more \n    elegant than set up your own timer.</p>\n\n<p>On iOS you can use UIApplicationSignificantTimeChangeNotification as \n  well.Either one will work.</p>\n\n<pre><code>// This notification is posted through [NSNotificationCenter defaultCenter]\n// when the system day changes. Register with \"nil\" as the object of this\n// notification. If the computer/device is asleep when the day changed,\n// this will be posted on wakeup. You'll get just one of these if the\n// machine has been asleep for several days. The definition of \"Day\" is\n// relative to the current calendar (NSCalendar.currentCalendar) of the\n// process and its locale and time zone. There are no guarantees that this\n// notification is received by observers in a \"timely\" manner, same as\n// with distributed notifications.\n\nFOUNDATION_EXPORT NSNotificationName const NSCalendarDayChangedNotification\nNS_AVAILABLE(10_9, 8_0);\n</code></pre>\n"}], "owner": {"reputation": 3217, "user_id": 995931, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/800518b9616592cb23fb1654925db06f?s=128&d=identicon&r=PG&f=1", "display_name": "user-44651", "link": "https://stackoverflow.com/users/995931/user-44651"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1504064661, "creation_date": 1503949062, "question_id": 45926220, "link": "https://stackoverflow.com/questions/45926220/schedule-a-method-to-be-called-at-a-specific-time-on-macos", "title": "Schedule a method to be called at a specific time on macOS", "body": "<p>I want to call a method at a given time or interval on macOS. My app sits in the the status bar and just needs to go out to the internet to grab data.</p>\n\n<p>It doesn't need to display that it is doing it or that it finished. </p>\n\n<p>I looked at <code>NSTimer scheduledTimerWithTimeInterval:invocation:repeats:</code>  and <code>NSUserNotifications</code>.</p>\n\n<p>The <code>NSTimer</code> doesn't feel like the right choice, calling a method <code>tick</code> every second just to compare the current time with the time I want to fire the method call.</p>\n\n<p><code>NSUserNotificationCenter</code> I can't seem to find a \"application didRecieveNoticication` like there is on iOS.</p>\n\n<p>Is there a way to do what I am wanting? Or is <code>NSTimer</code> the way to go?</p>\n"}, {"tags": ["objective-c", "xcode", "machine-learning", "coreml"], "comments": [{"owner": {"reputation": 6377, "user_id": 7501629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gKN1.jpg?s=128&g=1", "display_name": "Matthijs Hollemans", "link": "https://stackoverflow.com/users/7501629/matthijs-hollemans"}, "edited": false, "score": 0, "creation_date": 1503994561, "post_id": 45926211, "comment_id": 78826102, "body": "If you click on the little arrow next to linear_model (where it says &quot;Objective-C generated interface for model&quot;), then Xcode will show you what this Obj-C code looks like."}, {"owner": {"reputation": 139, "user_id": 1290338, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/10ff6a1221029551e8ea17bac59c207a?s=128&d=identicon&r=PG", "display_name": "Jad Gift", "link": "https://stackoverflow.com/users/1290338/jad-gift"}, "reply_to_user": {"reputation": 6377, "user_id": 7501629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gKN1.jpg?s=128&g=1", "display_name": "Matthijs Hollemans", "link": "https://stackoverflow.com/users/7501629/matthijs-hollemans"}, "edited": false, "score": 0, "creation_date": 1504021147, "post_id": 45926211, "comment_id": 78844671, "body": "I did. I tried to pull this option, but I am doing something wrong. The model even gets to my code but I can not figure out how to put data in or out. If I put it in my code, the compiler issues warning:  &quot;expression result unused&quot;"}, {"owner": {"reputation": 139, "user_id": 1290338, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/10ff6a1221029551e8ea17bac59c207a?s=128&d=identicon&r=PG", "display_name": "Jad Gift", "link": "https://stackoverflow.com/users/1290338/jad-gift"}, "reply_to_user": {"reputation": 6377, "user_id": 7501629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gKN1.jpg?s=128&g=1", "display_name": "Matthijs Hollemans", "link": "https://stackoverflow.com/users/7501629/matthijs-hollemans"}, "edited": false, "score": 0, "creation_date": 1504021566, "post_id": 45926211, "comment_id": 78844876, "body": "Do you maybe have any example in Objective-C? I tried to instantiate the model with all possible combinations found at apple documentation website. The Swift version is much simpler, but the project is too big to translate it to Swift. I tried to do it through Swift code inside of my project but Xcode automatically transforms model to Objective-C, so I am back to square one."}], "answers": [{"comments": [{"owner": {"reputation": 772, "user_id": 797196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c5303b671803134c3687de4404bb28aa?s=128&d=identicon&r=PG", "display_name": "Sk Borhan Uddin", "link": "https://stackoverflow.com/users/797196/sk-borhan-uddin"}, "edited": false, "score": 0, "creation_date": 1565371551, "post_id": 48850563, "comment_id": 101347127, "body": "HI, Alex while I&#39;m trying to use with chosen image its crashing 2019-08-09 23:22:24.460166+0600 SimpleInceptionV3-ObjC[8806:452968] [MC] System group container for systemgroup.com.apple.configurationprofiles path is /private/var/containers/Shared/SystemGroup/systemgroup.com.a&zwnj;&#8203;pple.configurationpr&zwnj;&#8203;ofiles 2019-08-09 23:22:24.460404+0600 SimpleInceptionV3-ObjC[8806:452968] [MC] Reading from public effective user settings. Can you tell why it&#39;s crashing?"}], "tags": [], "owner": {"reputation": 31, "user_id": 8573442, "user_type": "registered", "profile_image": "https://graph.facebook.com/1465095663582221/picture?type=large", "display_name": "Alexandr  Tchausoff", "link": "https://stackoverflow.com/users/8573442/alexandr-tchausoff"}, "is_accepted": false, "score": 3, "last_activity_date": 1518949160, "creation_date": 1518949160, "answer_id": 48850563, "question_id": 45926211, "link": "https://stackoverflow.com/questions/45926211/how-to-use-machine-learning-model-in-objective-c-with-coreml/48850563#48850563", "title": "How to use Machine Learning model in objective-C with CoreML", "body": "<p>Maybe, this project on obj-c will help you:\n<a href=\"https://github.com/freedomtan/SimpleInceptionV3-ObjC/tree/continuous-mobilenet/SimpleInceptionV3-ObjC\" rel=\"nofollow noreferrer\">https://github.com/freedomtan/SimpleInceptionV3-ObjC/tree/continuous-mobilenet/SimpleInceptionV3-ObjC</a></p>\n\n<p>In my project I use this method to init my model</p>\n\n<pre><code>#import \"my_model.h\"\n\n@property (nonatomic, strong) my_model *model;\n\n- (void)configureModel {\n    NSURL *modelUrl = [[NSBundle mainBundle] URLForResource:@\"my_model\" withExtension:@\"mlmodelc\"];\n    NSError *error;\n    self.model = [[my_model alloc] initWithContentsOfURL:modelUrl error:&amp;error];\n    if (error) {\n        NSLog(@\"cover search error: model not configure\");\n    }\n}\n</code></pre>\n\n<p>Some explanations about why \"mlmodelc\": \n<a href=\"https://blog.zedge.net/developers-blog/hotswapping-machine-learning-models-in-coreml-for-iphone\" rel=\"nofollow noreferrer\">https://blog.zedge.net/developers-blog/hotswapping-machine-learning-models-in-coreml-for-iphone</a></p>\n"}, {"comments": [{"owner": {"reputation": 189, "user_id": 5200455, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-5ERmnYD5N9c/AAAAAAAAAAI/AAAAAAAAAGc/XN-uwIvUlT4/photo.jpg?sz=128", "display_name": "Dylan", "link": "https://stackoverflow.com/users/5200455/dylan"}, "edited": false, "score": 0, "creation_date": 1584584107, "post_id": 60728835, "comment_id": 107483614, "body": "god bless you haha"}, {"owner": {"reputation": 680, "user_id": 4300442, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002051850941/picture?type=large", "display_name": "Matheus Domingos", "link": "https://stackoverflow.com/users/4300442/matheus-domingos"}, "reply_to_user": {"reputation": 189, "user_id": 5200455, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-5ERmnYD5N9c/AAAAAAAAAAI/AAAAAAAAAGc/XN-uwIvUlT4/photo.jpg?sz=128", "display_name": "Dylan", "link": "https://stackoverflow.com/users/5200455/dylan"}, "edited": false, "score": 0, "creation_date": 1584658815, "post_id": 60728835, "comment_id": 107512209, "body": "All of us!! hehe"}], "tags": [], "owner": {"reputation": 680, "user_id": 4300442, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002051850941/picture?type=large", "display_name": "Matheus Domingos", "link": "https://stackoverflow.com/users/4300442/matheus-domingos"}, "is_accepted": false, "score": 1, "last_activity_date": 1584476947, "last_edit_date": 1584476947, "creation_date": 1584472371, "answer_id": 60728835, "question_id": 45926211, "link": "https://stackoverflow.com/questions/45926211/how-to-use-machine-learning-model-in-objective-c-with-coreml/60728835#60728835", "title": "How to use Machine Learning model in objective-C with CoreML", "body": "<p>This is the way that worked for me using my own image recognition model:</p>\n\n<pre><code>#import &lt;CoreML/CoreML.h&gt;\n#import &lt;Vision/Vision.h&gt;\n#import \"Your_Model_Here.h\"    \n\n- (void)readModelMLObjc{\n\n            MLModel *model;\n            VNCoreMLModel *m;\n            VNCoreMLRequest *request;\n            model = [[[Your_Model_Here alloc] init] model];\n\n            m = [VNCoreMLModel modelForMLModel: model error:nil];\n            request = [[VNCoreMLRequest alloc] initWithModel: m completionHandler: (VNRequestCompletionHandler) ^(VNRequest *request, NSError *error){\n                dispatch_async(dispatch_get_main_queue(), ^{\n\n                    NSInteger numberOfResults = request.results.count;\n                    NSArray *results = [request.results copy];\n                    VNClassificationObservation *topResult = ((VNClassificationObservation *)(results[0]));\n                    NSString *messageLabel = [NSString stringWithFormat: @\"%f: %@\", topResult.confidence, topResult.identifier];\n                    NSLog(@\"%@\", messageLabel);\n\n                });\n            }];\n\n            request.imageCropAndScaleOption = VNImageCropAndScaleOptionCenterCrop;\n\n\n            CIImage *coreGraphicsImage = [[CIImage alloc] initWithImage:image];\n\n            dispatch_async(dispatch_get_global_queue(QOS_CLASS_UTILITY, 0), ^{\n                VNImageRequestHandler *handler = [[VNImageRequestHandler alloc] initWithCIImage:coreGraphicsImage  options:@{}];\n                [handler performRequests:@[request] error:nil];\n            });}\n\n        }\n</code></pre>\n\n<p>I hope I've helped ;)</p>\n"}], "owner": {"reputation": 139, "user_id": 1290338, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/10ff6a1221029551e8ea17bac59c207a?s=128&d=identicon&r=PG", "display_name": "Jad Gift", "link": "https://stackoverflow.com/users/1290338/jad-gift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3756, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1584476947, "creation_date": 1503949043, "question_id": 45926211, "link": "https://stackoverflow.com/questions/45926211/how-to-use-machine-learning-model-in-objective-c-with-coreml", "title": "How to use Machine Learning model in objective-C with CoreML", "body": "<p>I have Machine Vision project made in objective-C (a couple of thousands of lines). To complete it I need to import my machine My_model.mlmodel with the latest coreML library. (as digression My_model.mlmodel was created in Python with coremltools )\nI am trying to instantiate it, but nothing works I couldn't find any tutorials or helps on this topic.  Of course, I imported my model to the pure Swift project, and it works.\nSo I attached Swift class to my project hoping to make it work this way, but here again, Xcode translate the model to \"Objective-C generated interface for model\" and the model is not visible in Swift class. </p>\n\n<p>Below picture shows that Xcode automatically imports .mlmodel as Objective-C class.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zur0Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zur0Q.png\" alt=\"Xcode imports mlmodel as Objective-C class\"></a></p>\n\n<p>I need to put vector in the model and get the response.</p>\n\n<p>Please help me; I am stacked a couple of lines from completing this project. \nHow to use My_model.mlmodel inside of Objective-C\nIs there any work around or maybe straight easy way like in Swift</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["ios", "objective-c", "nsdateformatter", "multilingual", "nslocale"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1503944507, "post_id": 45925125, "comment_id": 78808931, "body": "Why not look at the <code>currentLocale</code> and see what it is?"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1503944551, "post_id": 45925125, "comment_id": 78808959, "body": "... and compare with an array of supported languages?"}, {"owner": {"reputation": 51, "user_id": 5114116, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zNUcD.jpg?s=128&g=1", "display_name": "Mig70", "link": "https://stackoverflow.com/users/5114116/mig70"}, "edited": false, "score": 0, "creation_date": 1503944730, "post_id": 45925125, "comment_id": 78809066, "body": "I could do that. But that means I would have to hard code the test to check if the current language is part of the languages currently supported. I would like to work this out in a generic way, like having a method that would tell me if I am using the default locale or not."}, {"owner": {"reputation": 51, "user_id": 5114116, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zNUcD.jpg?s=128&g=1", "display_name": "Mig70", "link": "https://stackoverflow.com/users/5114116/mig70"}, "edited": false, "score": 0, "creation_date": 1503944833, "post_id": 45925125, "comment_id": 78809112, "body": "I would prefer not to have to maintain an array of the languages I am supporting."}], "owner": {"reputation": 51, "user_id": 5114116, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zNUcD.jpg?s=128&g=1", "display_name": "Mig70", "link": "https://stackoverflow.com/users/5114116/mig70"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1503963883, "creation_date": 1503944191, "last_edit_date": 1503963883, "question_id": 45925125, "link": "https://stackoverflow.com/questions/45925125/use-fixed-locale-format-for-dates-when-base-locale-is-being-used", "title": "Use fixed locale format for dates when Base locale is being used", "body": "<p>I am developing a multi language app.\nWhen none of the supported languages is chosen by the user as its iOS language, I am showing all text in English.\nEverything works just fine, except that I also want in this case to have the dates formatted in English.</p>\n\n<p>I know how to force English as the format, but the problem is that I would like this to be generic and I only want to force as English if the language is not supported. If I could tell if the language is a non supported one in a generic way, this would do it.</p>\n\n<p>For instance my app does not currently support Spanish, so it is using the base strings which are in English. However the dates are formatted in Spanish. For instance, the following code in this case will return \"ago 2017\" instead of \"Aug 2017\".</p>\n\n<pre><code>NSString* dateFormat = [NSDateFormatter dateFormatFromTemplate:@\"MMM yyyy\" options:0 locale:nil];\nNSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];\ndateFormatter.dateFormat = dateFormat;\nNSString* formatedString = [dateFormatter stringFromDate:[Calendar today]];\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 4233, "user_id": 1143387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0b9a9c460593d77b3561075ef1889150?s=128&d=identicon&r=PG", "display_name": "sniperd", "link": "https://stackoverflow.com/users/1143387/sniperd"}, "edited": false, "score": 0, "creation_date": 1503943890, "post_id": 45924943, "comment_id": 78808597, "body": "try adding your code into the question, it&#39;s not a good practice to link to a picture of the code"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503998962, "post_id": 45924943, "comment_id": 78828825, "body": "You post XML and receive JSON? &quot;//I am not getting response here&quot;: Did you pass <code>if(data != nil)</code>? <code>JSONObjectWithData:options:error:</code>. Please, there is an error parameter, use it ! Do not put nil instead!. Could you do <code>NSString *str = [NSString alloc] initWithData:data encoding:NSUTF8StringEncoding]</code>, log it and check on a JSON validator if it&#39;s valid?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8532054, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b9b4d55f4ace544a2b38802e374dac66?s=128&d=identicon&r=PG", "display_name": "Aakash Panchal", "link": "https://stackoverflow.com/users/8532054/aakash-panchal"}, "is_accepted": false, "score": 0, "last_activity_date": 1504002382, "creation_date": 1504002382, "answer_id": 45936713, "question_id": 45924943, "link": "https://stackoverflow.com/questions/45924943/how-to-get-soap-api-response-using-objective-c/45936713#45936713", "title": "How to get soap API response using objective-c", "body": "<p>Use <strong>NSXMLParser</strong> for getting response. You cannot use <strong>NSJSONSerialization</strong> for getting response. Your request is SOAP-XML so \n response SOAP-XML. </p>\n"}, {"comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1504008817, "post_id": 45937456, "comment_id": 78835533, "body": "What that code? Why does this solve your issue? What are the results?"}], "tags": [], "owner": {"reputation": 27, "user_id": 8528597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1441734895906081/picture?type=large", "display_name": "Ramesh Kumar", "link": "https://stackoverflow.com/users/8528597/ramesh-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1504004516, "creation_date": 1504004516, "answer_id": 45937456, "question_id": 45924943, "link": "https://stackoverflow.com/questions/45924943/how-to-get-soap-api-response-using-objective-c/45937456#45937456", "title": "How to get soap API response using objective-c", "body": "<pre><code>NSURLSessionConfiguration *defaultConfigObject = [NSURLSessionConfiguration defaultSessionConfiguration];\nNSURLSession *defaultSession = [NSURLSession sessionWithConfiguration: defaultConfigObject delegate: nil delegateQueue: [NSOperationQueue mainQueue]];\n\nNSString *soapMessage = [NSString stringWithFormat:@\"&lt;soap:Envelope xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance/\\\" xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\" xmlns:soap=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\"\n        @\"&lt;soap:Body&gt;\\n\"\n        @\"&lt;login xmlns=\\\"http://webservice.collatt.com/\\\"&gt;\\n\"\n                  @\"&lt;collid&gt;%@&lt;/collid&gt;\\n\"\n                  @\"&lt;wru&gt;%@&lt;/wru&gt;\\n\"\n                  @\"&lt;userid&gt;%@&lt;/userid&gt;\\n\"\n                  @\"&lt;password&gt;%@&lt;/password&gt;\\n\"\n                  @\"&lt;/login&gt;\\n\"\n                  @\"&lt;/soap:Body&gt;\\n\"\n                  @\"&lt;/soap:Envelope&gt;\\n\",str1,str2,str3,str4];\n\nNSURL *url = [NSURL URLWithString:@\"http://webservice.collatt.com/collatt_json.asmx\"];\nNSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];\nNSString *msgLength = [NSString stringWithFormat:@\"%lu\", (unsigned long)[soapMessage length]];\n\n[theRequest addValue: @\"text/xml; charset=utf-8\" forHTTPHeaderField:@\"Content-Type\"];\n[theRequest addValue: msgLength forHTTPHeaderField:@\"Content-Length\"];\n[theRequest setHTTPMethod:@\"POST\"];\n[theRequest setHTTPBody: [soapMessage dataUsingEncoding:NSUTF8StringEncoding]];\n\nNSURLSessionTask *task = [defaultSession dataTaskWithRequest:theRequest completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n    if (error) {\n        NSLog(@\"dataTaskWithRequest error: %@\", error);\n    } else if ([response isKindOfClass:[NSHTTPURLResponse class]]) {\n        NSInteger statusCode = [(NSHTTPURLResponse *)response statusCode];\n\n        if (statusCode != 200) {\n            NSError *parseError;\n            id responseObject = [NSJSONSerialization JSONObjectWithData:data options:0 error:&amp;parseError];\n            NSLog(@\"responseobject is %@\",responseObject);\n\n        } else {\n            NSError *parseError;\n            id responseObject = [NSJSONSerialization JSONObjectWithData:data options:0 error:&amp;parseError];\n\n            NSLog(@\"else condtion\");\n            if (!responseObject) {\n                NSLog(@\"JSON parse error: %@\", parseError);\n            } else {\n                NSLog(@\"responseobject is %@\",responseObject);\n                //[self MainService:responseObject];\n            }\n\n            //if response was text/html, you might convert it to a string like so:\n            NSString *responseString = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];\n            NSLog(@\"final responseString = %@\", responseString);\n\n        }\n    }\n}];\n[task resume];\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 8528597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1441734895906081/picture?type=large", "display_name": "Ramesh Kumar", "link": "https://stackoverflow.com/users/8528597/ramesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1504004516, "creation_date": 1503943494, "last_edit_date": 1503998559, "question_id": 45924943, "link": "https://stackoverflow.com/questions/45924943/how-to-get-soap-api-response-using-objective-c", "title": "How to get soap API response using objective-c", "body": "<p>How to get response for soap API using objective-c , which uses raw and XML(text/xml) for body.</p>\n\n<p><a href=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRuB4_Zx9M2wkOlSyg4IE6bB-kk65qI5pEdOBqzQ3BC-cOqSuGmOrUMRgu-\" rel=\"nofollow noreferrer\">https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRuB4_Zx9M2wkOlSyg4IE6bB-kk65qI5pEdOBqzQ3BC-cOqSuGmOrUMRgu-</a></p>\n\n<p>NSURLSessionConfiguration *defaultConfigObject = [NSURLSessionConfiguration defaultSessionConfiguration];\n    NSURLSession *defaultSession = [NSURLSession sessionWithConfiguration: defaultConfigObject delegate: nil delegateQueue: [NSOperationQueue mainQueue]];</p>\n\n<pre><code>NSString *soapMessage = [NSString stringWithFormat:@\"&lt;soap:Envelope xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance/\\\" xmlns:xsd=\\\"http://www.w3.org/2001/XMLSchema\\\" xmlns:soap=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;\\n\"\n        @\"&lt;soap:Body&gt;\\n\"\n        @\"&lt;login xmlns=\\\"http://webservice.collatt.com/\\\"&gt;\\n\"\n                  @\"&lt;collid&gt;%@&lt;/collid&gt;\\n\"\n                  @\"&lt;wru&gt;%@&lt;/wru&gt;\\n\"\n                  @\"&lt;userid&gt;%@&lt;/userid&gt;\\n\"\n                  @\"&lt;password&gt;%@&lt;/password&gt;\\n\"\n                  @\"&lt;/login&gt;\\n\"\n                  @\"&lt;/soap:Body&gt;\\n\"\n                  @\"&lt;/soap:Envelope&gt;\\n\",str1,str2,str3,str4];\n\nNSURL *url = [NSURL URLWithString:@\"http://webservice.collatt.com/collatt_json.asmx\"];\nNSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];\nNSString *msgLength = [NSString stringWithFormat:@\"%lu\", (unsigned long)[soapMessage length]];\n\n[theRequest addValue: @\"text/xml; charset=utf-8\" forHTTPHeaderField:@\"Content-Type\"];\n[theRequest addValue: msgLength forHTTPHeaderField:@\"Content-Length\"];\n[theRequest setHTTPMethod:@\"POST\"];\n[theRequest setHTTPBody: [soapMessage dataUsingEncoding:NSUTF8StringEncoding]];\n\n\nNSURLSessionDataTask *dataTask = [defaultSession dataTaskWithRequest:theRequest completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n    //Handle your response here\n    if(data != nil){\n        NSDictionary *responseDict = [NSJSONSerialization JSONObjectWithData:data options: NSJSONReadingMutableLeaves error:nil];\n\n        NSLog(@\"login response%@\",responseDict); //I am not getting response here\n\n\n\n    }\n}];\n[dataTask resume];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "rootviewcontroller"], "comments": [{"owner": {"reputation": 8941, "user_id": 1395203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077aa768ec769dc595292f2496e17930?s=128&d=identicon&r=PG", "display_name": "dan", "link": "https://stackoverflow.com/users/1395203/dan"}, "edited": false, "score": 0, "creation_date": 1503943500, "post_id": 45924367, "comment_id": 78808427, "body": "You&#39;re referring to two different windows in your function.  The local <code>window</code> that you are creating and <code>self.window</code> which is a property on your app delegate which is probably nil."}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 8941, "user_id": 1395203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077aa768ec769dc595292f2496e17930?s=128&d=identicon&r=PG", "display_name": "dan", "link": "https://stackoverflow.com/users/1395203/dan"}, "edited": false, "score": 0, "creation_date": 1503943758, "post_id": 45924367, "comment_id": 78808540, "body": "@dan i changed *window to *window2     self.window2.makeKeyAndVisible  window2.rootViewController=... But still navigation controller not shown"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1503941412, "post_id": 45924393, "comment_id": 78807350, "body": "Thanks for reply iam a newbie ,forgive me . if i add UIViewController *ViewController = [[UIViewController alloc] init]; in code does that mean *ViewController holds ViewController.m automatically generated by Single View Project?"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1503941451, "post_id": 45924393, "comment_id": 78807364, "body": "Iam trying to do without storyboard"}, {"owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "reply_to_user": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1503941534, "post_id": 45924393, "comment_id": 78807402, "body": "No, that (first one) won&#39;t work for your code. You need to identify which one will work for your. Using storyboard or NIB (Bundle)?"}, {"owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "reply_to_user": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1503941632, "post_id": 45924393, "comment_id": 78807452, "body": "So, you should initialise your view controller using NIB/Bundle. Also make sure your NIB name is &#39;ViewController&#39;"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "edited": false, "score": 0, "creation_date": 1503941884, "post_id": 45924393, "comment_id": 78807580, "body": "Sorry Iam not familiar with NIB/Bundle . iam trying to do swift statement in Obj-C window?.rootViewController = UINavigationController(rootViewController : ViewController()) .Clicking on ViewController() leads to ViewController.swift , iam trying same functionality in obj c"}, {"owner": {"reputation": 8941, "user_id": 1395203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077aa768ec769dc595292f2496e17930?s=128&d=identicon&r=PG", "display_name": "dan", "link": "https://stackoverflow.com/users/1395203/dan"}, "edited": false, "score": 0, "creation_date": 1503942535, "post_id": 45924393, "comment_id": 78807905, "body": "If your view controller has the same name as its nib then you don&#39;t need to specify the nib name, you can just do <code>[[ViewController alloc] init]</code>"}, {"owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "reply_to_user": {"reputation": 8941, "user_id": 1395203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077aa768ec769dc595292f2496e17930?s=128&d=identicon&r=PG", "display_name": "dan", "link": "https://stackoverflow.com/users/1395203/dan"}, "edited": false, "score": 0, "creation_date": 1503942747, "post_id": 45924393, "comment_id": 78808038, "body": "@dan i tried it but Ctrl+click does not navigate to ViewController.m . Is it normal?  Navigation Controller is not shown   on simulator"}], "tags": [], "owner": {"reputation": 68024, "user_id": 5638630, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mme83.jpg?s=128&g=1", "display_name": "Krunal", "link": "https://stackoverflow.com/users/5638630/krunal"}, "is_accepted": false, "score": 1, "last_activity_date": 1503942407, "last_edit_date": 1503942407, "creation_date": 1503941157, "answer_id": 45924393, "question_id": 45924367, "link": "https://stackoverflow.com/questions/45924367/how-to-set-root-view-controller-programatically-in-objective-c/45924393#45924393", "title": "How to set Root View Controller programatically in Objective C?", "body": "<p>Initialise your view controller <code>ViewController</code> before you add (use as root controller of navigation) into navigation controller stack.</p>\n\n<p>Here is sample code to initialise simple view controller </p>\n\n<pre><code>UIViewController *controller = [[UIViewController alloc] init];\n</code></pre>\n\n<p>Here is sample code to initialise using storyboard</p>\n\n<pre><code>ViewController *controller = [[UIStoryboard storyboardWithName:@\"Main\" bundle:nil] instantiateViewControllerWithIdentifier:@\"&lt;ViewController - string identifier of your view controller&gt;\"];\n</code></pre>\n\n<p>Here is sample code to initialise using NIB/Bundle</p>\n\n<pre><code>ViewController *controller = [[ViewController alloc] initWithNibName:@\"&lt;ViewController - string NIB name&gt;&gt;\" bundle:nil];\n</code></pre>\n\n<p>According to your code and following comment try this code only (remove other codes from your app delegate launch):</p>\n\n<pre><code>// make sure your NIB name is 'ViewController' \n\nViewController *controller = [[ViewController alloc] initWithNibName:@\"ViewController\" bundle:nil];\nif (controller != nil) {\n    self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController: controller];\n    self.window.makeKeyAndVisible;\n} else {\n   //print - your view controller is nil\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 7775986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fdea8665a116d1574b4f4c9976b0935?s=128&d=identicon&r=PG&f=1", "display_name": "Lealo", "link": "https://stackoverflow.com/users/7775986/lealo"}, "edited": false, "score": 0, "creation_date": 1515965378, "post_id": 45925324, "comment_id": 83491274, "body": "I think <code>self</code> refers to your <code>UIApplication</code> object"}], "tags": [], "owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "is_accepted": false, "score": 1, "last_activity_date": 1503945218, "creation_date": 1503945218, "answer_id": 45925324, "question_id": 45924367, "link": "https://stackoverflow.com/questions/45924367/how-to-set-root-view-controller-programatically-in-objective-c/45925324#45925324", "title": "How to set Root View Controller programatically in Objective C?", "body": "<p>Thanks to Krunal for detailed answer .</p>\n\n<p>Thanks to dan for support     </p>\n\n<p>i found issue instead of self.window.rootViewController , i typed window.rootViewController.</p>\n\n<p>setting self.window.rootViewController solved issue.</p>\n\n<p>i dont know difference between self.window.rootViewController and window.rootViewController and reason for issue.</p>\n\n<p>If some one knows answer please provide answer on comment</p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"ViewController.h\"\n\n\n@interface AppDelegate ()\n\n@end\n\n@implementation AppDelegate\n\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // Override point for customization after application launch.\n    UIScreen *screen=[[UIScreen alloc]init];\n    UIWindow *window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];\n\n\n    self.window.makeKeyAndVisible;\n\n\n\n\n    ViewController *controller = [[ViewController alloc] init];\n\n\n\n\n\n    self.window.rootViewController = [[UINavigationController alloc] initWithRootViewController:controller] ;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4141, "user_id": 2082856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Vwk1e.png?s=128&g=1", "display_name": "n00bProgrammer", "link": "https://stackoverflow.com/users/2082856/n00bprogrammer"}, "edited": false, "score": 0, "creation_date": 1503999390, "post_id": 45935495, "comment_id": 78829120, "body": "What do you mean delete the Main storyboard file? How is that relevant to the issue?"}, {"owner": {"reputation": 59, "user_id": 7352175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2117deb0432682955dea9f8b1b223401?s=128&d=identicon&r=PG&f=1", "display_name": "liftlift", "link": "https://stackoverflow.com/users/7352175/liftlift"}, "reply_to_user": {"reputation": 4141, "user_id": 2082856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Vwk1e.png?s=128&g=1", "display_name": "n00bProgrammer", "link": "https://stackoverflow.com/users/2082856/n00bprogrammer"}, "edited": false, "score": 0, "creation_date": 1503999958, "post_id": 45935495, "comment_id": 78829484, "body": "@n00bProgrammer I have updated my answer, please check it."}], "tags": [], "owner": {"reputation": 59, "user_id": 7352175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2117deb0432682955dea9f8b1b223401?s=128&d=identicon&r=PG&f=1", "display_name": "liftlift", "link": "https://stackoverflow.com/users/7352175/liftlift"}, "is_accepted": false, "score": 0, "last_activity_date": 1503999831, "last_edit_date": 1503999831, "creation_date": 1503999059, "answer_id": 45935495, "question_id": 45924367, "link": "https://stackoverflow.com/questions/45924367/how-to-set-root-view-controller-programatically-in-objective-c/45935495#45935495", "title": "How to set Root View Controller programatically in Objective C?", "body": "<p>Delele the file <code>Main.storyboard</code> and let the <code>Main interface</code> option empty before you do it.\n<a href=\"https://i.stack.imgur.com/y0qqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y0qqH.png\" alt=\"enter image description here\"></a></p>\n\n<p>And add this code:</p>\n\n<pre><code>self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];\nself.window.backgroundColor = [UIColor whiteColor];\nViewController *vc = [[ViewController alloc] init];\nUINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:vc];\nself.window.rootViewController = nav;\n[self.window makeKeyAndVisible];\n</code></pre>\n\n<p>UPDATE: If you want to use storyboard with <code>UINavigationController</code>, try this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/y4MXu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y4MXu.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8532054, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/b9b4d55f4ace544a2b38802e374dac66?s=128&d=identicon&r=PG", "display_name": "Aakash Panchal", "link": "https://stackoverflow.com/users/8532054/aakash-panchal"}, "is_accepted": false, "score": 0, "last_activity_date": 1504003244, "last_edit_date": 1504003244, "creation_date": 1504002753, "answer_id": 45936837, "question_id": 45924367, "link": "https://stackoverflow.com/questions/45924367/how-to-set-root-view-controller-programatically-in-objective-c/45936837#45936837", "title": "How to set Root View Controller programatically in Objective C?", "body": "<p><strong>Adding UIViewController and adding with UINavigationController</strong>       </p>\n\n<pre><code>      UIStoryboard *storyboard = self.window.rootViewController.storyboard;\n           UIViewController *rootViewController= [storyboard instantiateViewControllerWithIdentifier:kIdentifier];\n            [self setRootViewController:rootViewController];\n\n\n        #pragma mark - Set RootView Controller\n        -(void)setRootViewController:(UIViewController *)rootViewController {\n            self.window.rootViewController = rootViewController;\n            [self.window makeKeyAndVisible];\n        }\n\n\n         UIStoryboard *storyboard = self.window.rootViewController.storyboard;\n           UIViewController *rootViewController= [storyboard instantiateViewControllerWithIdentifier:kIdentifier];\n\nUINavigationController *navController = [[UINavigationController alloc] initWithRootViewController:rootViewController];\n    [self setRootViewController:navController];\n\n-(void)setRootViewController:(UINavigationController *)rootViewController {\n                self.window.rootViewController = rootViewController;\n                [self.window makeKeyAndVisible];\n            }\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 8443394, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/622bb60427cfddb8a4a5ab4283aec399?s=128&d=identicon&r=PG&f=1", "display_name": "ios", "link": "https://stackoverflow.com/users/8443394/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7267, "favorite_count": 0, "answer_count": 4, "score": 6, "last_activity_date": 1607392905, "creation_date": 1503941047, "last_edit_date": 1503944293, "question_id": 45924367, "link": "https://stackoverflow.com/questions/45924367/how-to-set-root-view-controller-programatically-in-objective-c", "title": "How to set Root View Controller programatically in Objective C?", "body": "<p>I am a newbie in iOS Development trying to learn how to create and set views programmatically.</p>\n\n<p>i am trying to do swift statement in Obj-C </p>\n\n<pre><code>window?.rootViewController = UINavigationController(rootViewController : ViewController()) \n</code></pre>\n\n<p>Project: Single View Application . Trying to link default Created ViewController.h</p>\n\n<p>As per Krunals Answer i updated code but Navigation Controller is not shown in simulator</p>\n\n<p>Cmd+Click on controller does not navigate to ViewController File </p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"ViewController.h\"\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\nUIScreen *screen=[[UIScreen alloc]init];\n    UIWindow *window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];\n\n    self.window.makeKeyAndVisible;\n\n\n\n\n    ViewController *controller = [[ViewController alloc] init];\n\n\n\n    window.rootViewController = [[UINavigationController alloc] initWithRootViewController:controller] ;\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa", "automatic-ref-counting", "objective-c-blocks"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503936620, "post_id": 45923106, "comment_id": 78805012, "body": "<code>__block NSError *blockError = nil; [@[@1] enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) { blockError = [NSError errorWithDomain:@&quot;1&quot; code:7 userInfo:@{}];}]; if (blockError) *error = blockError; return N0;</code>?"}, {"owner": {"reputation": 3384, "user_id": 2338279, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ca122bd84305516bb84205b19717374b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2338279/alex"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503936711, "post_id": 45923106, "comment_id": 78805066, "body": "@Larme Yeah, that&#39;s the question, is that always required? There&#39;s no way around that? If so, why?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1503936763, "post_id": 45923106, "comment_id": 78805095, "body": "FYI - Never do <code>*error = ...</code> without first making sure that <code>error</code> isn&#39;t <code>nil</code>. Never dereference a nil pointer."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503936852, "post_id": 45923106, "comment_id": 78805141, "body": "If you write <code>NSUInteger value = 0;</code> before the <code>enumerateObjectsUsingBlock:</code> and then a try to set its value inside the block, the compiler should warn you (compile error or warning) asking for a <code>__block</code>. So I&#39;d say it&#39;s the same here."}, {"owner": {"reputation": 3384, "user_id": 2338279, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ca122bd84305516bb84205b19717374b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2338279/alex"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503937008, "post_id": 45923106, "comment_id": 78805218, "body": "@Larme So the compiler is just failing to warn me about something that will cause a crash, and that&#39;s really what&#39;s going on?"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503937072, "post_id": 45923106, "comment_id": 78805252, "body": "That&#39;s my guess. But I&#39;m not an expert on that part."}, {"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503939311, "post_id": 45923106, "comment_id": 78806368, "body": "@Larme Don&#39;t you mean <code>if (error) *error = blockError;</code>"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1503939476, "post_id": 45923106, "comment_id": 78806450, "body": "Good eyes. Seems indeed more senseful."}, {"owner": {"reputation": 66964, "user_id": 73297, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GhFGC.jpg?s=128&g=1", "display_name": "Ben Zotto", "link": "https://stackoverflow.com/users/73297/ben-zotto"}, "edited": false, "score": 0, "creation_date": 1503946823, "post_id": 45923106, "comment_id": 78810019, "body": "See also <a href=\"https://stackoverflow.com/questions/14489969/whats-the-right-way-to-set-an-nserror-outparam-from-inside-an-autoreleasepool-b\" title=\"whats the right way to set an nserror outparam from inside an autoreleasepool b\">stackoverflow.com/questions/14489969/&hellip;</a>"}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1503946858, "post_id": 45923106, "comment_id": 78810030, "body": "@rmaddy Technically, a check against an <code>NSError **</code> pointer should be for <code>NULL</code>, not <code>nil</code>. <code>nil</code> is supposed to be used for object pointers (i.e. <code>NSError *</code>), not pointers <i>to</i> object pointers, although in practice they both have the same value."}], "answers": [{"comments": [{"owner": {"reputation": 168655, "user_id": 582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ev49G.png?s=128&g=1", "display_name": "Lily Ballard", "link": "https://stackoverflow.com/users/582/lily-ballard"}, "edited": false, "score": 1, "creation_date": 1503947218, "post_id": 45925624, "comment_id": 78810208, "body": "I recommend the first approach. Using <code>NSError * __strong *</code> is very unconventional."}, {"owner": {"reputation": 3384, "user_id": 2338279, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ca122bd84305516bb84205b19717374b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2338279/alex"}, "edited": false, "score": 1, "creation_date": 1503947856, "post_id": 45925624, "comment_id": 78810532, "body": "Apparently, this is documented, <code>Values allocated within the block will be deallocated after the block is executed. Use retain to explicitly maintain those values.</code> - <a href=\"https://developer.apple.com/documentation/foundation/nsarray/1415846-enumerateobjectsusingblock\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsarray/&hellip;</a>"}], "tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 10, "last_activity_date": 1504040573, "last_edit_date": 1504040573, "creation_date": 1503946520, "answer_id": 45925624, "question_id": 45923106, "link": "https://stackoverflow.com/questions/45923106/call-method-that-assigns-nserror-in-block-crashes/45925624#45925624", "title": "Call Method that assigns NSError in Block Crashes", "body": "<p>Running your example code in Instruments, it appears that <code>-[NSArray enumerateObjectsUsingBlock:]</code> is wrapping its block in an autorelease pool. Since <code>NSError **</code> pointers are, by default, implicitly assumed to be <code>__autoreleasing</code>, your <code>NSError</code> object is autoreleased when it is assigned to <code>*error</code>, and consequently reaped by <code>-[NSArray enumerateObjectsUsingBlock:]</code>'s autorelease pool.</p>\n\n<p>There are two ways to fix this. The first one is to use a local variable outside of the block, to cause ARC to retain it until after the enumeration has finished:</p>\n\n<pre><code>- (BOOL)runMethodThatAssignsError:(NSError **)error {\n    __block NSError *_error = nil;\n\n    [@[@1] enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {\n        _error = [NSError errorWithDomain:@\"1\" code:7 userInfo:@{}];\n    }];\n\n    if (error) *error = _error;\n\n    return NO;\n}\n</code></pre>\n\n<p>Alternatively, you can just declare the <code>error</code> parameter as <code>__strong</code>, which will prevent the <code>NSError</code> from being put in the autorelease pool in the first place. Note that this should only be done if the clients of this method are always going to be using ARC, because otherwise it will probably cause the errors to leak as the clients will not expect to have to release them, due to this approach being unconventional.</p>\n\n<pre><code>- (BOOL)runMethodThatAssignsError:(NSError * __strong *)error {\n    [@[@1] enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {\n        if (error) *error = [NSError errorWithDomain:@\"1\" code:7 userInfo:@{}];\n    }];\n\n    return NO;\n}\n</code></pre>\n"}], "owner": {"reputation": 3384, "user_id": 2338279, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ca122bd84305516bb84205b19717374b?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2338279/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 45925624, "answer_count": 1, "score": 3, "last_activity_date": 1504040573, "creation_date": 1503936207, "last_edit_date": 1503946685, "question_id": 45923106, "link": "https://stackoverflow.com/questions/45923106/call-method-that-assigns-nserror-in-block-crashes", "title": "Call Method that assigns NSError in Block Crashes", "body": "<p>I'd like to understand why this crashes with an <code>EXC_BAD_ACCESS</code> error. It returns from the method call fine, but then crashes immediately afterwards on the <code>[self runMethodThatAssignsError:&amp;error]</code> . </p>\n\n<p>I've <a href=\"https://stackoverflow.com/questions/6907726/setting-nserror-within-a-block-using-arc\">found a similar post here</a>, but it doesn't explain what is going on, and is rather old.</p>\n\n<pre><code>- (void)checkError {\n    NSError *error;\n    [self runMethodThatAssignsError:&amp;error]; // crashes after returning\n    NSLog(@\"success\");\n}\n\n- (BOOL)runMethodThatAssignsError:(NSError **)error {\n    [@[@1] enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {\n        *error = [NSError errorWithDomain:@\"1\" code:7 userInfo:@{}];\n    }];\n    return NO;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "avfoundation"], "answers": [{"comments": [{"owner": {"reputation": 1846, "user_id": 739119, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dEsdS.jpg?s=128&g=1", "display_name": "MrBr", "link": "https://stackoverflow.com/users/739119/mrbr"}, "edited": false, "score": 0, "creation_date": 1503937096, "post_id": 45922879, "comment_id": 78805276, "body": "Thanks for helping out. Compiler still not too happy <code>Illegal type &#39;float *&#39;</code> used in a boxed expression."}, {"owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "reply_to_user": {"reputation": 1846, "user_id": 739119, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dEsdS.jpg?s=128&g=1", "display_name": "MrBr", "link": "https://stackoverflow.com/users/739119/mrbr"}, "edited": false, "score": 0, "creation_date": 1503937683, "post_id": 45922879, "comment_id": 78805589, "body": "My bad, misread your OP and didn&#39;t notice that <code>floatChannelData</code> was a <code>float **</code> rather than a <code>float *</code>. I&#39;ll edit the answer."}, {"owner": {"reputation": 1846, "user_id": 739119, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dEsdS.jpg?s=128&g=1", "display_name": "MrBr", "link": "https://stackoverflow.com/users/739119/mrbr"}, "edited": false, "score": 0, "creation_date": 1503994703, "post_id": 45922879, "comment_id": 78826189, "body": "That&#39;s the solution! Thanks! Nice to know about the <code>AVAudioFrameCount</code> typedef as well."}], "tags": [], "owner": {"reputation": 15118, "user_id": 7258538, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102111546405895/picture?type=large", "display_name": "Charles Srstka", "link": "https://stackoverflow.com/users/7258538/charles-srstka"}, "is_accepted": true, "score": 2, "last_activity_date": 1503937703, "last_edit_date": 1503937703, "creation_date": 1503935433, "answer_id": 45922879, "question_id": 45922620, "link": "https://stackoverflow.com/questions/45922620/creating-an-array-from-unsafebufferpointer-in-objective-c/45922879#45922879", "title": "Creating an Array from UnsafeBufferPointer in Objective-C", "body": "<p>Depends on whether you want a C array of <code>float</code>s, or an <code>NSArray</code>.</p>\n\n<p>(disclaimer: written in Chrome)</p>\n\n<p>For a C array, we should be able to just copy the original values:</p>\n\n<pre><code>float *values = malloc(buffer.frameLength * sizeof(float)); // remember to free eventually\nmemcpy(values, buffer.floatChannelData[0], buffer.frameLength * sizeof(float));\n</code></pre>\n\n<p>For an <code>NSArray</code> we will have to wrap the <code>float</code>s in <code>NSNumber</code> objects:</p>\n\n<pre><code>NSMutableArray *values = [NSMutableArray new];\n\nfor (AVAudioFrameCount i = 0; i &lt; buffer.frameLength; i++) {\n    [values addObject:@(buffer.floatChannelData[0][i])];\n}\n</code></pre>\n"}], "owner": {"reputation": 1846, "user_id": 739119, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/dEsdS.jpg?s=128&g=1", "display_name": "MrBr", "link": "https://stackoverflow.com/users/739119/mrbr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 45922879, "answer_count": 1, "score": 1, "last_activity_date": 1503937703, "creation_date": 1503934549, "question_id": 45922620, "link": "https://stackoverflow.com/questions/45922620/creating-an-array-from-unsafebufferpointer-in-objective-c", "title": "Creating an Array from UnsafeBufferPointer in Objective-C", "body": "<p>Usually people are asking for things to transform from Objective-C to Swift. I have to ask the other way round today.</p>\n\n<p>Given the following line in Swift:</p>\n\n<pre><code>let values:[Float] = Array(UnsafeBufferPointer(start: buffer.floatChannelData?[0], count:Int(buffer.frameLength)))\n</code></pre>\n\n<p>Compiles successfully and I get an array of float values. Since <code>floatChannelData</code> on <code>AVAudioPCMBuffer</code> is defined as <code>float * const</code> I was assuming that the returning array of values is copied from the address <code>floatChannelData[0]</code> points to.</p>\n\n<p>How would I achieve the same behaviour in Objective-C?</p>\n"}, {"tags": ["ios", "objective-c", "uitextfielddelegate"], "comments": [{"owner": {"reputation": 1660, "user_id": 6239140, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/OUUiE.jpg?s=128&g=1", "display_name": "Saurabh Jain", "link": "https://stackoverflow.com/users/6239140/saurabh-jain"}, "edited": false, "score": 0, "creation_date": 1503933935, "post_id": 45922404, "comment_id": 78803599, "body": "Create a custom class of text field and set it to every text field of view controllers"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 1609395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b8e3a083a59ab279a4173d4e184f403c?s=128&d=identicon&r=PG", "display_name": "Ancient", "link": "https://stackoverflow.com/users/1609395/ancient"}, "edited": false, "score": 0, "creation_date": 1503942732, "post_id": 45922664, "comment_id": 78808031, "body": "I should have asked re best way of doing this - am relatively ignorant-"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 73, "user_id": 1609395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b8e3a083a59ab279a4173d4e184f403c?s=128&d=identicon&r=PG", "display_name": "Ancient", "link": "https://stackoverflow.com/users/1609395/ancient"}, "edited": false, "score": 0, "creation_date": 1503943770, "post_id": 45922664, "comment_id": 78808550, "body": "Well, that&#39;s why I gave you a solution."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1503934716, "creation_date": 1503934716, "answer_id": 45922664, "question_id": 45922404, "link": "https://stackoverflow.com/questions/45922404/uitextfield-shouldchangecharactersinrange-as-external-function/45922664#45922664", "title": "UITextField shouldChangeCharactersinRange as external function", "body": "<blockquote>\n  <p>I want to be able to use the shouldChangeCharactersInRange as an external function so don't have to rewrite all its code for each view controller.</p>\n</blockquote>\n\n<p>Then do so. This is a delegate method. Anything can be the delegate. You are the one who is setting the text field's delegate to be different view controllers! If you don't want to do that, then don't. Have some single persistent object, or at least multiple instance of the same class, and make <em>that</em> the delegate of the text field. Now all text fields can use this same delegate which has just one implementation of <code>shouldChangeCharactersInRange</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 12781, "user_id": 4051118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKHVO.png?s=128&g=1", "display_name": "Andr&#233; Slotta", "link": "https://stackoverflow.com/users/4051118/andr%c3%a9-slotta"}, "is_accepted": true, "score": 0, "last_activity_date": 1503935146, "creation_date": 1503935146, "answer_id": 45922799, "question_id": 45922404, "link": "https://stackoverflow.com/questions/45922404/uitextfield-shouldchangecharactersinrange-as-external-function/45922799#45922799", "title": "UITextField shouldChangeCharactersinRange as external function", "body": "<p>One approach is to create some kind of validator class with a singleton and assigning it as the textfields delegate:</p>\n\n<p><strong>TextFieldValidator.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface TextFieldValidator : NSObject &lt;UITextFieldDelegate&gt;\n\n+ (instancetype)sharedValidator;\n\n@end\n</code></pre>\n\n<p><strong>TextFieldValidator.m</strong></p>\n\n<pre><code>#import \"TextFieldValidator.h\"\n\n@implementation TextFieldValidator\n\n+ (instancetype)sharedValidator {\n    static TextFieldValidator *sharedValidator = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        sharedValidator = [[self alloc] init];\n    });\n    return sharedValidator;\n}\n\n- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string {\n    NSCharacterSet *allowedCharacters = [NSCharacterSet decimalDigitCharacterSet];\n    return [[textField.text stringByReplacingCharactersInRange:range withString:string] rangeOfCharacterFromSet:allowedCharacters.invertedSet].location == NSNotFound;\n}\n\n@end\n</code></pre>\n\n<p><strong>SomeViewController.m</strong></p>\n\n<pre><code>// [...]\n\nself.textField.delegate = [TextFieldValidator sharedValidator];\n\n// [...]\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 1609395, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b8e3a083a59ab279a4173d4e184f403c?s=128&d=identicon&r=PG", "display_name": "Ancient", "link": "https://stackoverflow.com/users/1609395/ancient"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 45922799, "answer_count": 2, "score": -2, "last_activity_date": 1504012330, "creation_date": 1503933760, "last_edit_date": 1504012330, "question_id": 45922404, "link": "https://stackoverflow.com/questions/45922404/uitextfield-shouldchangecharactersinrange-as-external-function", "title": "UITextField shouldChangeCharactersinRange as external function", "body": "<p>I want to validate UITextField input for multiple view controllers.  The following works:</p>\n\n<p>validate.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface validate : UITextField &lt;UITextFieldDelegate&gt;\n@end\n</code></pre>\n\n<p>validate.m</p>\n\n<pre><code>#import \"validate.h\"\n\n@implementation validate\n</code></pre>\n\n<p>viewController.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#include \"limiteTextField.h\"\n\n@interface ViewController : UIViewController &lt;UITextFieldDelegate&gt;\n@property (strong, nonatomic) IBOutlet limiteTextField *myTextField;\n@end\n</code></pre>\n\n<p>viewController.m</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n@end\n\n@implementation ViewController  \n\n-(BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string\n{\n //my code for validating \n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    _myTextField.delegate=self;\n</code></pre>\n\n<p>I want to be able to use the shouldChangeCharactersInRange as an external function so don't have to rewrite all its code for each view controller.</p>\n"}, {"tags": ["ios", "objective-c", "keyboard", "ios11"], "comments": [{"owner": {"reputation": 2545, "user_id": 6682071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5b592d72d32cfd1194c278b1583bbf?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Srivastava", "link": "https://stackoverflow.com/users/6682071/aditya-srivastava"}, "edited": false, "score": 2, "creation_date": 1503929690, "post_id": 45920967, "comment_id": 78800869, "body": "Replace <code>UIKeyboardFrameBeginUserInfoKey</code> with <code>UIKeyboardframeenduserinfokey</code>"}, {"owner": {"reputation": 73, "user_id": 8527791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fb6e6ab39e8aede12ea441460d47ca?s=128&d=identicon&r=PG", "display_name": "Gil", "link": "https://stackoverflow.com/users/8527791/gil"}, "reply_to_user": {"reputation": 2545, "user_id": 6682071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5b592d72d32cfd1194c278b1583bbf?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Srivastava", "link": "https://stackoverflow.com/users/6682071/aditya-srivastava"}, "edited": false, "score": 0, "creation_date": 1503952612, "post_id": 45920967, "comment_id": 78812603, "body": "Seems to be working! Thanks a lot @AdityaSrivastava!"}, {"owner": {"reputation": 2545, "user_id": 6682071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5b592d72d32cfd1194c278b1583bbf?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Srivastava", "link": "https://stackoverflow.com/users/6682071/aditya-srivastava"}, "edited": false, "score": 0, "creation_date": 1503972812, "post_id": 45920967, "comment_id": 78818014, "body": "Glad to help you"}, {"owner": {"reputation": 3301, "user_id": 2297991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/JfVcY.png?s=128&g=1", "display_name": "Suryakant Sharma", "link": "https://stackoverflow.com/users/2297991/suryakant-sharma"}, "edited": false, "score": 0, "creation_date": 1503999933, "post_id": 45920967, "comment_id": 78829468, "body": "why this notification giving keyboard height as 0.0 this is how I&#39;m fetching keyboard size...  <code>let info1: NSDictionary = (notification as NSNotification).userInfo! as NSDictionary         let value: NSValue = info1.value(forKey: UIKeyboardFrameBeginUserInfoKey) as! NSValue</code>"}, {"owner": {"reputation": 3301, "user_id": 2297991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/JfVcY.png?s=128&g=1", "display_name": "Suryakant Sharma", "link": "https://stackoverflow.com/users/2297991/suryakant-sharma"}, "reply_to_user": {"reputation": 2545, "user_id": 6682071, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0d5b592d72d32cfd1194c278b1583bbf?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Srivastava", "link": "https://stackoverflow.com/users/6682071/aditya-srivastava"}, "edited": false, "score": 0, "creation_date": 1504000451, "post_id": 45920967, "comment_id": 78829825, "body": "but it works with <code>UIKeyboardframeenduserinfokey</code> @AdityaSrivastava any idea?"}, {"owner": {"reputation": 3514, "user_id": 815864, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/88bc8f58d6d6c84341b545544299e750?s=128&d=identicon&r=PG", "display_name": "Thein", "link": "https://stackoverflow.com/users/815864/thein"}, "edited": false, "score": 0, "creation_date": 1505386323, "post_id": 45920967, "comment_id": 79396770, "body": "thx it worked !"}], "answers": [{"tags": [], "owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "is_accepted": true, "score": 12, "last_activity_date": 1505716307, "last_edit_date": 1505716307, "creation_date": 1503987636, "answer_id": 45931995, "question_id": 45920967, "link": "https://stackoverflow.com/questions/45920967/uikeyboardwillshownotification-issues-with-ios-11-beta-7/45931995#45931995", "title": "UIKeyboardWillShowNotification issues with ios 11 beta 7", "body": "<p>Use <strong>UIKeyboardFrameEndUserInfoKey</strong> because that key is for the NSValue object containing a CGRect that identifies an end frame of the keyboard in screen coordinates. Do <strong>not use UIKeyboardFrameBeginUserInfoKey</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 5282052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N7htu.png?s=128&g=1", "display_name": "Craig", "link": "https://stackoverflow.com/users/5282052/craig"}, "is_accepted": false, "score": 1, "last_activity_date": 1505505045, "creation_date": 1505505045, "answer_id": 46246627, "question_id": 45920967, "link": "https://stackoverflow.com/questions/45920967/uikeyboardwillshownotification-issues-with-ios-11-beta-7/46246627#46246627", "title": "UIKeyboardWillShowNotification issues with ios 11 beta 7", "body": "<p>I ran into this non-movement issue as well.  I suspect that the beginning &amp; end frame were always incorrect, in that they were the same or nearly the same, but was fixed recently in iOS 11 and as such broke a lot of code that didn't truly understand the different between these two frames.</p>\n\n<p>Based on the information here\n<a href=\"https://stackoverflow.com/a/14326257/5282052\">https://stackoverflow.com/a/14326257/5282052</a></p>\n\n<p>Begin is what the keyboard starts off looking like, which most won't want.\nEnd is the result of what the keyboard will look like, which most only are concerned with.</p>\n\n<p>[[[notification userInfo] objectForKey:UIKeyboardFrameEndUserInfoKey] CGRectValue].size;</p>\n\n<p>Does indeed resolve my issue with a ZERO movement of the scrollview.</p>\n"}, {"tags": [], "owner": {"reputation": 1146, "user_id": 2764966, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/47rKa.jpg?s=128&g=1", "display_name": "ViruMax", "link": "https://stackoverflow.com/users/2764966/virumax"}, "is_accepted": false, "score": 4, "last_activity_date": 1505717064, "creation_date": 1505717064, "answer_id": 46273070, "question_id": 45920967, "link": "https://stackoverflow.com/questions/45920967/uikeyboardwillshownotification-issues-with-ios-11-beta-7/46273070#46273070", "title": "UIKeyboardWillShowNotification issues with ios 11 beta 7", "body": "<p>If you are using <strong><em>UIKeyboardFrameBeginUserInfoKey</em></strong> key for getting keyboard height, replace it with <strong><em>UIKeyboardFrameEndUserInfoKey</em></strong> to get the correct keyboard height.</p>\n\n<p>In iOS 11, height value of the frame for <em>UIKeyboardFrameBeginUserInfoKey</em> key is 0 because it is a start frame. To get the actual height we need the end frame, and end frame is returned by <em>UIKeyboardFrameEndUserInfoKey</em>.</p>\n\n<p>Please refer Managing the Keyboard <a href=\"http://developer.apple.com/iphone/library/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/KeyboardManagement/KeyboardManagement.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><em>UIKeyboardFrameBeginUserInfoKey</em> The\n  key for an NSValue object containing a\n  CGRect that identifies the <strong>start frame</strong>\n  of the keyboard in screen coordinates.\n  These coordinates do not take into\n  account any rotation factors applied\n  to the window\u2019s contents as a result\n  of interface orientation changes.\n  Thus, you may need to convert the\n  rectangle to window coordinates (using\n  the convertRect:fromWindow: method) or\n  to view coordinates (using the\n  convertRect:fromView: method) before\n  using it.</p>\n  \n  <p><em>UIKeyboardFrameEndUserInfoKey</em> The key\n  for an NSValue object containing a\n  CGRect that identifies the <strong>end frame</strong>\n  of the keyboard in screen coordinates.\n  These coordinates do not take into\n  account any rotation factors applied\n  to the window\u2019s contents as a result\n  of interface orientation changes.\n  Thus, you may need to convert the\n  rectangle to window coordinates (using\n  the convertRect:fromWindow: method) or\n  to view coordinates (using the\n  convertRect:fromView: method) before\n  using it.</p>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 8527791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fb6e6ab39e8aede12ea441460d47ca?s=128&d=identicon&r=PG", "display_name": "Gil", "link": "https://stackoverflow.com/users/8527791/gil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2168, "favorite_count": 3, "accepted_answer_id": 45931995, "answer_count": 3, "score": 7, "last_activity_date": 1505717064, "creation_date": 1503929228, "question_id": 45920967, "link": "https://stackoverflow.com/questions/45920967/uikeyboardwillshownotification-issues-with-ios-11-beta-7", "title": "UIKeyboardWillShowNotification issues with ios 11 beta 7", "body": "<p>Testing my app on iOS 11 beta 7 - it seems like the keyboard doesn't push up the content if my UIViewController. </p>\n\n<p>The code looks like this (working since iOS7): </p>\n\n<pre><code>- (void)handleNotification:(NSNotification*)notification {\nif (notification.name == UIKeyboardWillShowNotification) {\n    CGSize keyboardSize = [[[notification userInfo] objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;\n    nextButtonALBottomDistance.constant = keyboardSize.height + initialPhoneBottomDistance;\n    codeBottomViewALBottomDistance.constant = keyboardSize.height + initialCodeBottomDistance;\n    double animationDuration = [[[notification userInfo] objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    [UIView animateWithDuration:animationDuration animations:^{\n        [self.view layoutIfNeeded];\n    }];\n}\nelse if (notification.name == UIKeyboardWillHideNotification) {\n    nextButtonALBottomDistance.constant = initialPhoneBottomDistance;\n    codeBottomViewALBottomDistance.constant = initialCodeBottomDistance;\n    double animationDuration = [[[notification userInfo] objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];\n    [UIView animateWithDuration:animationDuration animations:^{\n        [self.view layoutIfNeeded];\n    }];\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Interesting enough - when I press the home button (minimizing the app) and reopening it (without killing it) - the layout is fixed. </p>\n\n<p>It seems like an iOS 11 beta bug, but I couldn't find any reference to it so far. </p>\n\n<p>Happy to know if someone else is having this issue.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "string", "nsstring"], "comments": [{"owner": {"reputation": 650, "user_id": 6429711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a379bcacfa5124de77f666a38bdbe89?s=128&d=identicon&r=PG&f=1", "display_name": "Adamsor", "link": "https://stackoverflow.com/users/6429711/adamsor"}, "edited": false, "score": 0, "creation_date": 1503926551, "post_id": 45920090, "comment_id": 78798616, "body": "I believe functions with default argument are not exposed to objc. Try writing <code>@objc func htmlAttributedStringWithFont(font: UIFont, size fontSize: CGFloat = 17.0) -&gt; NSAttributedString?</code> and check if it returns errors."}, {"owner": {"reputation": 4127, "user_id": 1306402, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3a3f4c0ccea767808e02ea5d7fa8884?s=128&d=identicon&r=PG", "display_name": "Madu", "link": "https://stackoverflow.com/users/1306402/madu"}, "reply_to_user": {"reputation": 650, "user_id": 6429711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a379bcacfa5124de77f666a38bdbe89?s=128&d=identicon&r=PG&f=1", "display_name": "Adamsor", "link": "https://stackoverflow.com/users/6429711/adamsor"}, "edited": false, "score": 0, "creation_date": 1503926807, "post_id": 45920090, "comment_id": 78798789, "body": "Still the same error."}, {"owner": {"reputation": 844, "user_id": 1116956, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4ee9807bdc0fc81cf422d4227d3d6da8?s=128&d=identicon&r=PG", "display_name": "solenoid", "link": "https://stackoverflow.com/users/1116956/solenoid"}, "edited": false, "score": 1, "creation_date": 1503928873, "post_id": 45920090, "comment_id": 78800294, "body": "<a href=\"https://stackoverflow.com/questions/27097688/can-objective-c-code-call-swift-extension-on-class\" title=\"can objective c code call swift extension on class\">stackoverflow.com/questions/27097688/&hellip;</a>  Looks like swift/xcode might generate obj-c headers that need to be imported"}, {"owner": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1503946674, "post_id": 45920090, "comment_id": 78809959, "body": "Check if you have a line importing the header <code>#import &quot;YourProjName-Swift.h&quot;</code> in the ObjC file. If you really have it, cmd-click on it. You may find the extension method is exposed to ObjC as <code>htmlAttributedStringWithFontWithFont:size:</code>. <b>ObjC name is synthesized from method name and parameter labels.</b> <b>No default parameter is supplied when calling the method from ObjC.</b> You need to use it as <code>[str  htmlAttributedStringWithFontWithFont:[UIFont systemFontSize] size: 17.0];</code>."}, {"owner": {"reputation": 4127, "user_id": 1306402, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3a3f4c0ccea767808e02ea5d7fa8884?s=128&d=identicon&r=PG", "display_name": "Madu", "link": "https://stackoverflow.com/users/1306402/madu"}, "reply_to_user": {"reputation": 43976, "user_id": 6541007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2xMee.jpg?s=128&g=1", "display_name": "OOPer", "link": "https://stackoverflow.com/users/6541007/ooper"}, "edited": false, "score": 0, "creation_date": 1503991729, "post_id": 45920090, "comment_id": 78824364, "body": "Great it worked it was actually <code>htmlAttributedStringWithFontWithFont </code> instead of <code>htmlAttributedStringWithFont</code>. Thanks @OOPer"}], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 3030400, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/o5YNI.jpg?s=128&g=1", "display_name": "Muhammad Waqas", "link": "https://stackoverflow.com/users/3030400/muhammad-waqas"}, "is_accepted": false, "score": 0, "last_activity_date": 1506528348, "creation_date": 1506528348, "answer_id": 46452502, "question_id": 45920090, "link": "https://stackoverflow.com/questions/45920090/calling-nsstring-extension-defined-in-swift-from-objective-c/46452502#46452502", "title": "Calling NSString extension defined in Swift from Objective C", "body": "<ol>\n<li>If you are working on Swift and Objective-C files in same project, then there is a certain file called <strong>YourProjectName-Swift.h</strong> which is created automatically for you by xCode.</li>\n<li>Suppose there is a Swift extension you did create or update just now.</li>\n<li>This should update <strong>YourProjectName-Swift.h</strong> automatically and\nthen by importing this header file (<strong>#import \"YourProjectName-Swift.h\"</strong>) in your Objective-C Class you can\nuse Swift code.</li>\n<li>Just in case, if it doesn't then you can manually\nupdate this header file.</li>\n</ol>\n"}], "owner": {"reputation": 4127, "user_id": 1306402, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f3a3f4c0ccea767808e02ea5d7fa8884?s=128&d=identicon&r=PG", "display_name": "Madu", "link": "https://stackoverflow.com/users/1306402/madu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1707, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1506528348, "creation_date": 1503926435, "question_id": 45920090, "link": "https://stackoverflow.com/questions/45920090/calling-nsstring-extension-defined-in-swift-from-objective-c", "title": "Calling NSString extension defined in Swift from Objective C", "body": "<p>I have a a <code>String</code> extension which i want to use on <code>NSString</code> from <code>objective c</code>. As <code>String</code> in swift is a <code>struct</code> so its not exposed to <code>objective c</code>. So in order to call it from <code>objective c</code> i defined an <code>extension</code> on <code>NSString</code> in the same file. </p>\n\n<pre><code>public extension NSString {\n\n        func htmlAttributedStringWithFont(font: UIFont, size fontSize: CGFloat = 17.0) -&gt; NSAttributedString? {\n            let str = self as String\n            return str.htmlAttributedStringWithFont(font: font)\n        }\n\n    }\n\n\n\n   extension String {\n\n        /// Converts an HTML String to NSAttributedString\n        ///\n        /// - Returns: NSAttributedString?\n        func htmlAttributedString() -&gt; NSAttributedString? {\n            guard let data = self.data(using: .utf16, allowLossyConversion: false) else {\n                return nil\n            }\n            guard let html = try? NSMutableAttributedString(\n                data: data,\n                options: [NSDocumentTypeDocumentAttribute: NSHTMLTextDocumentType],\n                documentAttributes: nil) else { return nil }\n            return html\n        }\n\n        /// returns and NSAttributedString optional from HTML content after applying specific font and size\n        ///\n        /// - Parameters:\n        ///   - font: Font to be applied on the returned string\n        ///   - fontSize: Size to be applied on the returned string\n        /// - Returns: NSAttributedString?\n        func htmlAttributedStringWithFont(font: UIFont, size fontSize: CGFloat = 17.0) -&gt; NSAttributedString? {\n            let string = self.appending(String(format: \"&lt;style&gt;body{font-family: '%@'; font-size:%fpx;}&lt;/style&gt;\", font.fontName, fontSize))\n            return string.htmlAttributedString()\n        }\n}\n</code></pre>\n\n<p>The above two extensions are in the same file <code>String+Extension.swift</code>. I then tried to call the <code>htmlAttributedStringWithFont</code> method from my <code>objective c</code> class with <code>NSString</code></p>\n\n<pre><code>[str htmlAttributedStringWithFont:[UIFont systemFontSize]];\n</code></pre>\n\n<p>it gives me the following error</p>\n\n<pre><code> No visible @interface for 'NSString' declares the selector 'htmlAttributedStringWithFont:'\n</code></pre>\n\n<p>Any idea how i can use <code>String</code> extension in <code>Swift</code> from <code>Objective c NSString</code></p>\n"}, {"tags": ["objective-c", "scenekit", "arkit", "cvpixelbuffer", "arscnview"], "comments": [{"owner": {"reputation": 3103, "user_id": 5815048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3AQJh.png?s=128&g=1", "display_name": "jlsiewert", "link": "https://stackoverflow.com/users/5815048/jlsiewert"}, "edited": false, "score": 0, "creation_date": 1504042157, "post_id": 45919745, "comment_id": 78855867, "body": "Just a ideas I have not tested myself: Could you use a <a href=\"https://developer.apple.com/documentation/scenekit/scnshadable#1654834\" rel=\"nofollow noreferrer\">shaderModifier</a> to convert the background image to black and white by adding a fragment shader?"}, {"owner": {"reputation": 410, "user_id": 2050892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWns4.png?s=128&g=1", "display_name": "diviaki", "link": "https://stackoverflow.com/users/2050892/diviaki"}, "reply_to_user": {"reputation": 3103, "user_id": 5815048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3AQJh.png?s=128&g=1", "display_name": "jlsiewert", "link": "https://stackoverflow.com/users/5815048/jlsiewert"}, "edited": false, "score": 0, "creation_date": 1504076571, "post_id": 45919745, "comment_id": 78865784, "body": "@orangenkopf definitely a way to go if the CVPixelBuffer method can not be fixed. What would you attach the shaderModifier to?"}, {"owner": {"reputation": 3103, "user_id": 5815048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3AQJh.png?s=128&g=1", "display_name": "jlsiewert", "link": "https://stackoverflow.com/users/5815048/jlsiewert"}, "edited": false, "score": 0, "creation_date": 1504086387, "post_id": 45919745, "comment_id": 78871956, "body": "According the the <a href=\"https://developer.apple.com/documentation/arkit/arscnview\" rel=\"nofollow noreferrer\"><code>ARSCNView</code></a> docs the frame gets set as the scenes <a href=\"https://developer.apple.com/documentation/scenekit/scnscene/1523665-background\" rel=\"nofollow noreferrer\"><code>background</code></a> which is a material property where you can attach a shader modifier. According to the comments <a href=\"https://stackoverflow.com/questions/45321275/how-to-place-3d-model-using-arkit-ios-11-with-some-custom-background-view-withou/45324663#45324663\">here</a> it might not be that easy though"}, {"owner": {"reputation": 410, "user_id": 2050892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWns4.png?s=128&g=1", "display_name": "diviaki", "link": "https://stackoverflow.com/users/2050892/diviaki"}, "reply_to_user": {"reputation": 3103, "user_id": 5815048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3AQJh.png?s=128&g=1", "display_name": "jlsiewert", "link": "https://stackoverflow.com/users/5815048/jlsiewert"}, "edited": false, "score": 0, "creation_date": 1504091609, "post_id": 45919745, "comment_id": 78875532, "body": "@orangenkopf wish that was doable, in fact material properties - like <code>background</code> - does not have shader modifiers, only materials and geometries do"}, {"owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "edited": false, "score": 0, "creation_date": 1553176908, "post_id": 45919745, "comment_id": 97294158, "body": "I implemented this in swift and it works well. How can I darken the image?"}, {"owner": {"reputation": 410, "user_id": 2050892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWns4.png?s=128&g=1", "display_name": "diviaki", "link": "https://stackoverflow.com/users/2050892/diviaki"}, "reply_to_user": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "edited": false, "score": 0, "creation_date": 1553250958, "post_id": 45919745, "comment_id": 97323780, "body": "@mehulmpt my assumption is that brightness data is on plane 0, just copy the code, switch plane indexes from 1 to 0, and start experimenting with lowering the values in that plane. A simple memset will not do, you&#39;ll need to do calculations when altering data so using the Accelerate framework might be handy."}, {"owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "edited": false, "score": 0, "creation_date": 1553263529, "post_id": 45919745, "comment_id": 97331192, "body": "@diviaki I&#39;ve been studying YCbCr model since yesterday, and yeah I experimented with plane 0 as well. I was able to get individual pixel access using <code>var pixels = pixelBufferAddressOfPlane.assumingMemoryBound(to: UInt8.self)</code> on plane 0 and then <code>pixels</code> is an array containing that info. However, I&#39;m clueless about how to manipulate this data correctly. If I set it to a single number (say 0 or 255), it seems like I&#39;m getting only chroma data back with a funny image. However, if I try to reduce their value by a factor of 2 (by dividing each pixel value by 2), it either crashes or is very slow"}, {"owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "edited": false, "score": 0, "creation_date": 1553263609, "post_id": 45919745, "comment_id": 97331231, "body": ".. and the divide by 2 effect doesn&#39;t work either (i see regular live feed only, it&#39;s just very jittery). how do I go about that? would really appreciate any help"}, {"owner": {"reputation": 410, "user_id": 2050892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWns4.png?s=128&g=1", "display_name": "diviaki", "link": "https://stackoverflow.com/users/2050892/diviaki"}, "reply_to_user": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "edited": false, "score": 1, "creation_date": 1553509422, "post_id": 45919745, "comment_id": 97396322, "body": "@mehulmpt Grayscaling is easy as it simply clears color channels. If you want to darken the grayscale image, that should be simple as well by dividing Y values with Accelerate. However darkening the color image requires modifying all channels applying non-trivial calculations. Accelerate could help, but I would consider the alternate way that&#39;s easier to understand by using a shader to manipulate the RGB data."}], "answers": [{"tags": [], "owner": {"reputation": 410, "user_id": 2050892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWns4.png?s=128&g=1", "display_name": "diviaki", "link": "https://stackoverflow.com/users/2050892/diviaki"}, "is_accepted": true, "score": 3, "last_activity_date": 1504095238, "last_edit_date": 1592644375, "creation_date": 1504095238, "answer_id": 45960145, "question_id": 45919745, "link": "https://stackoverflow.com/questions/45919745/reliable-access-and-modify-captured-camera-frames-under-scenekit/45960145#45960145", "title": "Reliable access and modify captured camera frames under SceneKit", "body": "<p>Here's the key for this problem:</p>\n<blockquote>\n<p><a href=\"https://developer.apple.com/documentation/arkit/arsessiondelegate/2865611-session?language=objc\" rel=\"nofollow noreferrer\">session:didUpdateFrame:</a></p>\n<p>Provides a newly captured camera image and accompanying AR information to the delegate.</p>\n</blockquote>\n<p>So just moved <code>CVPixelBufferRef</code> manipulation, the image filtering code from</p>\n<pre><code>- (void)renderer:(id&lt;SCNSceneRenderer&gt;)aRenderer updateAtTime:(NSTimeInterval)time\n</code></pre>\n<p>to</p>\n<pre><code>- (void)session:(ARSession *)session didUpdateFrame:(ARFrame *)frame\n</code></pre>\n<p>Made sure to set <code>self.sceneView.session.delegate = self</code> to have this delegate called.</p>\n"}], "owner": {"reputation": 410, "user_id": 2050892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gWns4.png?s=128&g=1", "display_name": "diviaki", "link": "https://stackoverflow.com/users/2050892/diviaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 2, "accepted_answer_id": 45960145, "answer_count": 1, "score": 3, "last_activity_date": 1504095238, "creation_date": 1503925376, "question_id": 45919745, "link": "https://stackoverflow.com/questions/45919745/reliable-access-and-modify-captured-camera-frames-under-scenekit", "title": "Reliable access and modify captured camera frames under SceneKit", "body": "<p>I try to add a B&amp;W filter to the camera images of an ARSCNView, then render colored AR objects over it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/biGnU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/biGnU.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I'am almost there with the following code added to the beginning of <code>- (void)renderer:(id&lt;SCNSceneRenderer&gt;)aRenderer updateAtTime:(NSTimeInterval)time</code></p>\n\n<pre><code>CVPixelBufferRef bg=self.sceneView.session.currentFrame.capturedImage;\n\nif(bg){\n    char* k1 = CVPixelBufferGetBaseAddressOfPlane(bg, 1);\n    if(k1){\n        size_t x1 = CVPixelBufferGetWidthOfPlane(bg, 1);\n        size_t y1 = CVPixelBufferGetHeightOfPlane(bg, 1);\n        memset(k1, 128, x1*y1*2);\n    }\n}\n</code></pre>\n\n<p>This works really fast on mobile, but here's the thing: sometimes a colored frame is displayed. \nI've checked and my filtering code is executed but I assume it's too late, SceneKit's pipeline already processed camera input.</p>\n\n<p>Calling the code earlier would help, but <code>updateAtTime</code> is the earliest point one can add custom frame by frame code.</p>\n\n<p>Getting notifications on frame captures might help, but looks like the whole <a href=\"https://forums.developer.apple.com/thread/81971\" rel=\"nofollow noreferrer\">AVCapturesession is unaccessible.</a></p>\n\n<p>The Metal ARKit example shows how to convert the camera image to RGB and that is the place where I would do filtering, but that shader is hidden when using SceneKit.</p>\n\n<p>I've tried <a href=\"https://stackoverflow.com/a/45616125/2050892\">this possible answer</a> but it's way too slow.</p>\n\n<p>So how can I overcome the frame misses and convert the camera feed reliably to BW?</p>\n"}]