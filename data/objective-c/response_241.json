[{"tags": ["ios", "objective-c", "uikit", "ios13"], "comments": [{"owner": {"reputation": 1914, "user_id": 4510873, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/oXzz3.jpg?s=128&g=1", "display_name": "Bharath", "link": "https://stackoverflow.com/users/4510873/bharath"}, "edited": false, "score": 2, "creation_date": 1568977367, "post_id": 57597413, "comment_id": 102456439, "body": "Is the issue resolved for you ?"}], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 3496696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b34cce343e54b8738243096088a9f47?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/3496696/frank"}, "is_accepted": false, "score": 3, "last_activity_date": 1568931095, "creation_date": 1568931095, "answer_id": 58019485, "question_id": 57597413, "link": "https://stackoverflow.com/questions/57597413/ios-13-animating-view-not-changing-frame/58019485#58019485", "title": "iOS 13 Animating View Not Changing Frame", "body": "<p>I had the same issue when moving to iOS13.\nIn my case, the sizing constraints were overriding any change I was making to the frame, which was not the case on iOS12.\nFor my app to work correctly, I had to also update the NSLayoutContraint just before the \"animateWithDuration\" block, so that the new frame coordinates stay compatible with the layout constraints.\nHope that helps</p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 1528427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e5e8d35bfae851efcd39341d0c3d12?s=128&d=identicon&r=PG", "display_name": "martinmose", "link": "https://stackoverflow.com/users/1528427/martinmose"}, "edited": false, "score": 0, "creation_date": 1569593979, "post_id": 58021441, "comment_id": 102659348, "body": "@Amir.n3t you are correct that this &quot;solve&quot; the problem but it create other problems. I don&#39;t think this is the correct approve to just change to the old layout. Instead of animate on the frame you should do it on constraints instead."}, {"owner": {"reputation": 1554, "user_id": 11065715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oamhd.jpg?s=128&g=1", "display_name": "Amir.n3t", "link": "https://stackoverflow.com/users/11065715/amir-n3t"}, "reply_to_user": {"reputation": 357, "user_id": 1528427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e5e8d35bfae851efcd39341d0c3d12?s=128&d=identicon&r=PG", "display_name": "martinmose", "link": "https://stackoverflow.com/users/1528427/martinmose"}, "edited": false, "score": 0, "creation_date": 1569849687, "post_id": 58021441, "comment_id": 102718890, "body": "@martinmose Translating masks to constraints has been always enabled by default when defining view in code. This isn&#39;t turning off any feature, what problem did it cause for you?  Documentation for your reference :-) <a href=\"https://developer.apple.com/documentation/uikit/uiview/1622572-translatesautoresizingmaskintoco\" rel=\"nofollow noreferrer\">code reference</a>"}, {"owner": {"reputation": 2037, "user_id": 8023531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9a703033a49e5ceb3e0d07b3674a51e?s=128&d=identicon&r=PG", "display_name": "David Chopin", "link": "https://stackoverflow.com/users/8023531/david-chopin"}, "edited": false, "score": 0, "creation_date": 1570478373, "post_id": 58021441, "comment_id": 102919266, "body": "You are a lifesaver! @Amir.n3t"}, {"owner": {"reputation": 1180, "user_id": 7271020, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJd0Y.jpg?s=128&g=1", "display_name": "sandpat", "link": "https://stackoverflow.com/users/7271020/sandpat"}, "edited": false, "score": 0, "creation_date": 1572841833, "post_id": 58021441, "comment_id": 103673013, "body": "Strangely, it gives different width for my UIView in iPhone 8 plus and iPhone X :("}], "tags": [], "owner": {"reputation": 1554, "user_id": 11065715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oamhd.jpg?s=128&g=1", "display_name": "Amir.n3t", "link": "https://stackoverflow.com/users/11065715/amir-n3t"}, "is_accepted": true, "score": 19, "last_activity_date": 1568950407, "creation_date": 1568950407, "answer_id": 58021441, "question_id": 57597413, "link": "https://stackoverflow.com/questions/57597413/ios-13-animating-view-not-changing-frame/58021441#58021441", "title": "iOS 13 Animating View Not Changing Frame", "body": "<p>Layout system in iOS 13 is different, we had the same issue and in our case by switching <code>layout</code> from <code>automatic</code> to <code>Translates Mask Into Constraints</code> fixed the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rSiCR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rSiCR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 12151915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDQWqr_RY1AtpxbzyX9sOYTBCYxoK6HNz0Qo3lINQ=k-s128", "display_name": "Paul Ho", "link": "https://stackoverflow.com/users/12151915/paul-ho"}, "is_accepted": false, "score": 12, "last_activity_date": 1569992815, "creation_date": 1569992815, "answer_id": 58195502, "question_id": 57597413, "link": "https://stackoverflow.com/questions/57597413/ios-13-animating-view-not-changing-frame/58195502#58195502", "title": "iOS 13 Animating View Not Changing Frame", "body": "<p>You can use yourview.layer.frame instead of yourview.frame \nIt worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6683634, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y-YtPs3FwWs/AAAAAAAAAAI/AAAAAAAAAGM/UJ1PERG2aG4/photo.jpg?sz=128", "display_name": "Peter Nguyen", "link": "https://stackoverflow.com/users/6683634/peter-nguyen"}, "is_accepted": false, "score": 3, "last_activity_date": 1571124312, "creation_date": 1571124312, "answer_id": 58389308, "question_id": 57597413, "link": "https://stackoverflow.com/questions/57597413/ios-13-animating-view-not-changing-frame/58389308#58389308", "title": "iOS 13 Animating View Not Changing Frame", "body": "<p>only set .translatesAutoresizingMaskIntoConstraints 's View to YES, it worked for me.\nHope that helps</p>\n"}], "owner": {"reputation": 472, "user_id": 946368, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dd3bb87084b8718b47792dbf92e61dba?s=128&d=identicon&r=PG", "display_name": "ColinMasters", "link": "https://stackoverflow.com/users/946368/colinmasters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3993, "favorite_count": 7, "accepted_answer_id": 58021441, "answer_count": 4, "score": 12, "last_activity_date": 1571124312, "creation_date": 1566412259, "last_edit_date": 1566686889, "question_id": 57597413, "link": "https://stackoverflow.com/questions/57597413/ios-13-animating-view-not-changing-frame", "title": "iOS 13 Animating View Not Changing Frame", "body": "<p>I have an app which is compiled in Xcode 10 on iOS 13 simulator. In one view there is a \"tray\" view which shows from the bottom when tapped, in iOS 12 it works perfectly, in iOS 13, the tap is calling the method, but the changes to the frame are not saving - I have included outputs from the debugger in comments so you can see what the outputs of the frame values are;</p>\n\n<pre><code>- (void) userClickActivityTray: (UITapGestureRecognizer *) gestureRecognizer {\nif(self.activityTrayShown) {\n    /*\n     (lldb) po self.activityTrayContainerView.frame\n     (origin = (x = 0, y = 792), size = (width = 414, height = 104))\n     */\n    [self hideActivityTray];\n} else {\n    if (!self.activityTrayViewInitialFrameComputed) {\n        self.activityTrayViewInitialFrameComputed = YES;\n        self.activityTrayInitialFrame = self.activityTrayContainerView.frame;\n    }\n\n    /*\n     (lldb) po self.activityTrayContainerView.frame\n     (origin = (x = 0, y = 638), size = (width = 414, height = 224))\n     (origin = (x = 0, y = 638), size = (width = 414, height = 224))\n\n     (lldb) po self.activityTrayInitialFrame\n     (origin = (x = 0, y = 792), size = (width = 414, height = 104))\n     (origin = (x = 0, y = 792), size = (width = 414, height = 104))\n\n     (lldb)\n     */\n\n    [UIView animateWithDuration:0.25 animations:^{\n        self.activityTrayContainerView.frame = CGRectMake(self.view.bounds.origin.x,\n                                                          self.bottomView.frame.origin.y - self.activityTrayViewController.maximumHeight,\n                                                          self.view.bounds.size.width,\n                                                          self.activityTrayViewController.maximumHeight);\n\n        self.activityTrayBackgroundView.alpha = 1.0;\n        self.bottomView.alpha = self.dotsProgressView.alpha = 0;\n    } completion:^(BOOL finished) {\n        self.activityTrayShown = YES;\n        /*\n         (lldb) po self.activityTrayContainerView.frame\n         (origin = (x = 0, y = 557), size = (width = 414, height = 305))\n         (origin = (x = 0, y = 792), size = (width = 414, height = 104))\n         */\n    }];\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["ios", "objective-c", "stripe-payments", "applepay"], "comments": [{"owner": {"reputation": 3516, "user_id": 2650588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MZIO6.jpg?s=128&g=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/2650588/vitalii"}, "edited": false, "score": 0, "creation_date": 1568733528, "post_id": 57592353, "comment_id": 102364352, "body": "exactly same issue after update to Xcode 10.3. Noticed that the signature for <code>didAuthorizePayment</code> method has changed to <code>func paymentAuthorizationViewController(_ controller: PKPaymentAuthorizationViewController, didAuthorizePayment payment: PKPayment, handler completion: @escaping (PKPaymentAuthorizationResult) -&gt; Void)</code> and it is marked as iOS11+. But changing to the new signature didn&#39;t help for me."}], "answers": [{"tags": [], "owner": {"reputation": 3516, "user_id": 2650588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MZIO6.jpg?s=128&g=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/2650588/vitalii"}, "is_accepted": false, "score": 0, "last_activity_date": 1568737526, "creation_date": 1568737526, "answer_id": 57978395, "question_id": 57592353, "link": "https://stackoverflow.com/questions/57592353/apple-pay-not-working-after-update-xcode-to-version-10-4/57978395#57978395", "title": "Apple Pay not working after update Xcode to version 10.4", "body": "<p>They did change the signature, so that there is a new method to call for iOS11+, while the old method is still needed for iOS9 and iOS10:</p>\n\n<pre><code> /// for iOS 9 and iOS 10\n func paymentAuthorizationViewController(_ controller: PKPaymentAuthorizationViewController,\n                          didAuthorizePayment payment: PKPayment,\n                                           completion: @escaping (PKPaymentAuthorizationStatus) -&gt; Void) {\n    ...\n }\n\n @available(iOS 11.0, *)\n func paymentAuthorizationViewController(_ controller: PKPaymentAuthorizationViewController,\n                          didAuthorizePayment payment: PKPayment,\n                                              handler: @escaping (PKPaymentAuthorizationResult) -&gt; Void) {\n    ...\n }\n</code></pre>\n\n<p><strong>AND</strong></p>\n\n<p>It seems to be not working in 12.4 Simulator. You'll need to test on real device. Simulators with previous iOS'es seem to be working (iOS10 works for me). The simulator issue is discussed in this question: <a href=\"https://stackoverflow.com/questions/57260836/applepay-paymentauthorizationviewcontrollerdidauthorizepaymenthandler-not-c\">ApplePay `paymentAuthorizationViewController:didAuthorizePayment:handler:` not called in Xcode Simulator 10.3</a></p>\n"}], "owner": {"reputation": 73, "user_id": 6835635, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QOiXGRWJyZo/AAAAAAAAAAI/AAAAAAAAFts/N3ws6SewGkQ/photo.jpg?sz=128", "display_name": "Shiv Pogra", "link": "https://stackoverflow.com/users/6835635/shiv-pogra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568737526, "creation_date": 1566392729, "last_edit_date": 1566395958, "question_id": 57592353, "link": "https://stackoverflow.com/questions/57592353/apple-pay-not-working-after-update-xcode-to-version-10-4", "title": "Apple Pay not working after update Xcode to version 10.4", "body": "<p>Apple Pay is working fine in simulator but after upgrading Xcode to 10.4, it stopped working.</p>\n\n<ol>\n<li>The Apple Pay popup appears.</li>\n<li><p>After click on pay with passcode, it hides without authenticating the payment.</p></li>\n<li><p>The method <code>- (void)paymentAuthorizationViewController:(PKPaymentAuthorizationViewController *)controller didAuthorizePayment:(PKPayment *)payment completion:(void (^)(PKPaymentAuthorizationStatus))completion {}</code> is not called.</p></li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>NSString *merchantIdentifier = [STPPaymentConfiguration sharedConfiguration].appleMerchantIdentifier;\nPKPaymentRequest *paymentRequest = [Stripe paymentRequestWithMerchantIdentifier:merchantIdentifier country:@\"US\" currency:currencyCode];\npaymentRequest.paymentSummaryItems = @[\n   [PKPaymentSummaryItem summaryItemWithLabel:@\"Fancy Hat\" amount:[NSDecimalNumber decimalNumberWithString:amount]],\n   // The final line should represent your company;\n   // it'll be prepended with the word \"Pay\" (i.e. \"Pay iHats, Inc $50\")\n   [PKPaymentSummaryItem summaryItemWithLabel:@\"iHats, Inc\" amount:[NSDecimalNumber decimalNumberWithString:amount]],\n];\n\nif ([Stripe canSubmitPaymentRequest:paymentRequest]) {\n    // Setup payment authorization view controller\n    PKPaymentAuthorizationViewController *paymentAuthorizationViewController = [[PKPaymentAuthorizationViewController alloc] initWithPaymentRequest:paymentRequest];\n    paymentAuthorizationViewController.delegate = self;\n\n    // Present payment authorization view controller\n    FlutterViewController* controller = (FlutterViewController* )[[UIApplication sharedApplication].keyWindow rootViewController];\n    [controller presentViewController:paymentAuthorizationViewController animated:YES completion:nil];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "asynchronous", "semaphore", "synchronous"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 4, "creation_date": 1566392468, "post_id": 57592138, "comment_id": 101641846, "body": "&quot;The compiler is leaving the method at the middile&quot;?  What do you mean?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566395632, "post_id": 57592138, "comment_id": 101643997, "body": "I&#39;m calling <code>stateMethod</code> from <code>another method</code>. compiler will compile upto  <code>NSURLConnection</code> line,after that it will exit from the method and executing some tasks which are there after the line i.e., [self stateMethod]; .Again compiler entering to this method and executing remaining lines (i.e., after <code>NSURLConnection</code>)."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1566395886, "post_id": 57592138, "comment_id": 101644179, "body": "When you say &quot;compiling&quot; are you sure you don&#39;t mean &quot;running&quot;.  You also seem confused about the concept of asynchronous operation as what you describe sounds right; i.e. the connection is established in the background and the completion handler is called when the response is received."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566396264, "post_id": 57592138, "comment_id": 101644431, "body": "you are telling correct.It&#39;s happening at the time of app running only. I put debuggers to see the flow of application,at that time method will exit at the middle."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566396328, "post_id": 57592138, "comment_id": 101644470, "body": "Where exactly is it exiting?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566396384, "post_id": 57592138, "comment_id": 101644510, "body": "after <code>NSURLConnection</code>"}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1566396456, "post_id": 57592138, "comment_id": 101644547, "body": "But that is correct.  The connection will happen in a background thread and <code>stateMethod</code> will exit."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566396849, "post_id": 57592138, "comment_id": 101644815, "body": "yes.It is correct but i want the response when i&#39;m calling the <code>state method</code>. Based on <code>state method response</code>,i&#39;m executing one task after calling <code>[self statemethod]</code>. That task need &#39;state method` responce. That task is executing before getting the data from <code>state method</code>."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566397075, "post_id": 57592138, "comment_id": 101644967, "body": "Then I believe you want <code>URLSessionDataTask</code>.  See <a href=\"https://www.raywenderlich.com/3244963-urlsession-tutorial-getting-started\" rel=\"nofollow noreferrer\">this tutorial</a>.  Although it&#39;s in Swift :-|"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566397153, "post_id": 57592138, "comment_id": 101645023, "body": "How to use <code>NSSessionDataTask</code>."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566397329, "post_id": 57592138, "comment_id": 101645139, "body": "<a href=\"https://stackoverflow.com/a/34200617/299924\">Here&#39;s an answer</a> with some code in Objective-C."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566452385, "post_id": 57592138, "comment_id": 101661736, "body": "<code>NSSessionDataTask</code> is also working same like <code>NSURLConnection</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566453807, "post_id": 57592138, "comment_id": 101662205, "body": "I have got the output I want.I placed my task in <code>state method</code> after I got the Url responce by using condition.Thanks for your help."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "edited": false, "score": 0, "creation_date": 1566453385, "post_id": 57593729, "comment_id": 101662046, "body": "I tried your code.It is also working same like before."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "edited": false, "score": 0, "creation_date": 1566453694, "post_id": 57593729, "comment_id": 101662160, "body": "I have got the output I want.I placed my task in <code>state method</code> after I got the Url responce by using condition.Thanks for helping me."}, {"owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "edited": false, "score": 0, "creation_date": 1566481342, "post_id": 57593729, "comment_id": 101676754, "body": "Depending on what you&#39;re trying to do, you might need or want to run the <code>stateCompletion</code> block on the main thread. If so, move the <code>if (stateCompletion != nil)...</code> block inside the block that gets dispatched to the main thread."}], "tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": false, "score": 1, "last_activity_date": 1566401680, "last_edit_date": 1566401680, "creation_date": 1566396957, "answer_id": 57593729, "question_id": 57592138, "link": "https://stackoverflow.com/questions/57592138/how-to-turn-an-asynchronous-method-into-a-synchronous-method/57593729#57593729", "title": "How to turn an asynchronous method into a synchronous method", "body": "<blockquote>\n  <p>I'm calling one method from another method.The method exits in the middile. After completing some tasks, it will run the remaining method.</p>\n</blockquote>\n\n<p>It doesn't exit in the middle... the part after the <code>sendAsynchronousRequest</code> call is a completion handler. It's a separate block of code that you're passing into the request to run at a later time. Think of it as a parameter to the method, not part of the code of <code>stateMethod</code>.</p>\n\n<p>With that in mind, you can see that <code>stateMethod</code> really does run to the end, because the last line of code in the method is the <code>sendAsyncronousRequest</code> call.</p>\n\n<blockquote>\n  <p>Based on state method response, I'm executing one task after calling [self statemethod]. That task need <code>state</code> method responce. That task is executing before getting the data from state method. The method exits after <code>NSURLConnection</code> line. I want to run the method asynchronously.</p>\n</blockquote>\n\n<p>Since you haven't given the name of the method that needs the response, let's just call it <code>foo</code>. Your problem is that the request is asynchronous, so <code>foo</code> gets called before the response is available. One way to handle that would be to put the call to <code>foo</code> inside the request's completion block, but you might not want to do that directly because <code>stateMethod</code> might be called from several places, only one of which subsequently calls <code>foo</code>. Instead, you might change <code>stateMethod</code> so that the caller can specify a completion block:</p>\n\n<pre><code>-(void)stateMethodWithCompletion:(nullable void (^)(NSURLResponse* response))stateCompletion {\n    [self.pickerView selectRow:0 inComponent:0 animated:YES];\n    lblTitle.text=@\"State\";\n    self.stateTF.text=@\"\";\n    self.stateTF.inputView=_pickerView;\n    [self.stateTF setInputAccessoryView:toolBar];\n    NSString * method=@\"***************************?countryID=\";\n    NSString *urlString=[NSString stringWithFormat:@\"%@%@%@\",MAIN_URL,method,_countryId];\n    NSURL *url_ac=[[NSURL alloc]initWithString:urlString];\n    NSMutableURLRequest *request_ac=[[NSMutableURLRequest alloc]initWithURL:url_ac];\n    [request_ac setValue:loginUser.acessTokenStr forHTTPHeaderField:@\"access_token\"];\n\n    [NSURLConnection sendAsynchronousRequest:request_ac queue:[NSOperationQueue currentQueue] completionHandler:\n        ^(NSURLResponse ac_response, NSData acData, NSError *connectionError) {\n        if (connectionError) {\n             NSLog(@\"ERROR CONNECTING DATA FROM SERVER: %@\", connectionError.localizedDescription);\n        }\n        else {\n            if (stateCompletion != nil) {\n                stateCompletion(acResponse);\n            }\n            dispatch_async(dispatch_get_main_queue(), ^{\n                     NSString *responseString = [[NSString alloc] initWithData:acData encoding:NSUTF8StringEncoding];\n                     [self parseStateListResult:acData];\n                 });\n        }\n    }];  \n}\n</code></pre>\n\n<p>That replaces the old <code>stateMethod</code>, but if you want to have a version that doesn't have the extra parameter you can always do that too:</p>\n\n<pre><code>-(void)stateMethod {\n     [self stateMethodWithCompletion:nil];\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "closed_date": 1566558092, "answer_count": 1, "score": 1, "last_activity_date": 1566401680, "creation_date": 1566392095, "last_edit_date": 1566398618, "question_id": 57592138, "link": "https://stackoverflow.com/questions/57592138/how-to-turn-an-asynchronous-method-into-a-synchronous-method", "closed_reason": "Needs details or clarity", "title": "How to turn an asynchronous method into a synchronous method", "body": "<p>I'm calling one method from another method.The method exits in the middile. After completing some tasks, it will run the remaining method.</p>\n\n<pre><code>-(void)stateMethod{\n    [self.pickerView selectRow:0 inComponent:0 animated:YES];\n    lblTitle.text=@\"State\";\n    self.stateTF.text=@\"\";\n    self.stateTF.inputView=_pickerView;\n    [self.stateTF setInputAccessoryView:toolBar];\n    NSString * method=@\"***************************?countryID=\";\n    NSString *urlString=[NSString stringWithFormat:@\"%@%@%@\",MAIN_URL,method,_countryId];\n    NSURL *url_ac=[[NSURL alloc]initWithString:urlString];\n    NSMutableURLRequest *request_ac=[[NSMutableURLRequest alloc]initWithURL:url_ac];\n    [request_ac setValue:loginUser.acessTokenStr forHTTPHeaderField:@\"access_token\"];\n\n   [NSURLConnection sendAsynchronousRequest:request_ac queue:[NSOperationQueue currentQueue] completionHandler:\n ^(NSURLResponse ac_response, NSData acData, NSError *connectionError) {\n     if (connectionError)\n     {\n         NSLog(@\"ERROR CONNECTING DATA FROM SERVER: %@\", connectionError.localizedDescription);\n     }\n    else {            \n    dispatch_async(dispatch_get_main_queue(), ^{\n             NSString *responseString = [[NSString alloc] initWithData:acData encoding:NSUTF8StringEncoding];\n             [self parseStateListResult:acData];\n         });\n     }\n }];  \n}\n</code></pre>\n\n<p>I want the response when i'm calling the state method. Based on state method response,i'm executing one task after calling [self statemethod]. That task need 'state method<code>responce. That task is executing before getting the data from state method.\nThe method exits after</code>NSURLConnection` line. I want to run the method asynchronously. Please help me.</p>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 442, "user_id": 5514728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ty9AR.jpg?s=128&g=1", "display_name": "Muneeb Ali", "link": "https://stackoverflow.com/users/5514728/muneeb-ali"}, "edited": false, "score": 0, "creation_date": 1566389244, "post_id": 57591124, "comment_id": 101639753, "body": "You are using it in swift or in Objective-C?"}, {"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "reply_to_user": {"reputation": 442, "user_id": 5514728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ty9AR.jpg?s=128&g=1", "display_name": "Muneeb Ali", "link": "https://stackoverflow.com/users/5514728/muneeb-ali"}, "edited": false, "score": 0, "creation_date": 1566389276, "post_id": 57591124, "comment_id": 101639769, "body": "my project is in objective c"}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 0, "creation_date": 1566465946, "post_id": 57591124, "comment_id": 101667918, "body": "See the library you are using is developed for <code>swift</code> language. So you can use all the properties of that library in Objc. To use that properties you need to modify and assign them to <code>@objc</code>. But I would not recommended that, better you use similar ObjC library."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1566392806, "post_id": 57591405, "comment_id": 101642046, "body": "In this there is class called <code>FPNTextField</code> i am able to access this but properties inside this class is what i  am getting trouble ."}], "tags": [], "owner": {"reputation": 383, "user_id": 6498908, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dTnhCruhH6c/AAAAAAAAAAI/AAAAAAAAoD0/ekB8GzG__jU/photo.jpg?sz=128", "display_name": "Munzareen Atique", "link": "https://stackoverflow.com/users/6498908/munzareen-atique"}, "is_accepted": false, "score": 0, "last_activity_date": 1566389674, "creation_date": 1566389674, "answer_id": 57591405, "question_id": 57591124, "link": "https://stackoverflow.com/questions/57591124/integrate-swift-library-in-objective-c-property-not-found-on-object-of-type-in/57591405#57591405", "title": "Integrate Swift library in Objective c &quot;Property not found on object of type&quot; in ios", "body": "<p>Check the -Swift.h file which has the import on your .m file in objective-C:</p>\n\n<pre><code>#import &lt;YourProjectName-Swift.h&gt;\n</code></pre>\n\n<p>Click on that line, and left-click - Jump To Definition.</p>\n\n<p>This file should be included automatically, not manually.\nIf you're still not seeing your class even after importing -Swift.h.</p>\n\n<p>Make sure that your class is subclassing a native class (e.g UIViewController) or at least if it's just a utility class, make it subclass NSObject. Your class should now show.</p>\n"}], "owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566389674, "creation_date": 1566388766, "last_edit_date": 1566389375, "question_id": 57591124, "link": "https://stackoverflow.com/questions/57591124/integrate-swift-library-in-objective-c-property-not-found-on-object-of-type-in", "title": "Integrate Swift library in Objective c &quot;Property not found on object of type&quot; in ios", "body": "<p>I am trying to make Mobile Number Registration screen which contains All country flags, Name, And Country detail codes so I am using <a href=\"https://github.com/chronotruck/FlagPhoneNumber\" rel=\"nofollow noreferrer\">FlagPhoneNumber</a> which is swift and also supports objective c.\nBut when I tried to use the properties like it give me compiler error of property not found on the object type</p>\n\n<p>What I have Done</p>\n\n<ol>\n<li><p>I created a .swift file which prompted for bridge-Header-file.h I've added that.</p></li>\n<li><p>I have imported <code>//#import \"FlagPhoneNumber-Swift.h\"</code> for the class when I want to use the library.</p></li>\n</ol>\n\n<p>Any suggestions would be more helpful or if can tell suggest some other libraries for the flags and dial code will also be great to me.</p>\n"}, {"tags": ["ios", "objective-c", "gpu", "metal", "mtlbuffer"], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 2439750, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/e9af54206662a497b6c47080d4b924b7?s=128&d=identicon&r=PG", "display_name": "Eugene Alexeev", "link": "https://stackoverflow.com/users/2439750/eugene-alexeev"}, "edited": false, "score": 0, "creation_date": 1566418934, "post_id": 57596810, "comment_id": 101654605, "body": "You&#39;re absolutely correct, sir! Big thanks for your help!"}], "tags": [], "owner": {"reputation": 28284, "user_id": 155187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cE563.jpg?s=128&g=1", "display_name": "warrenm", "link": "https://stackoverflow.com/users/155187/warrenm"}, "is_accepted": true, "score": 4, "last_activity_date": 1566409652, "creation_date": 1566409652, "answer_id": 57596810, "question_id": 57587879, "link": "https://stackoverflow.com/questions/57587879/mtlbuffer-with-mtlstoragemodeprivate-mode/57596810#57596810", "title": "MTLBuffer with MTLStorageModePrivate mode", "body": "<p>The issue here seems to be that you're using the incorrect enum to specify your resource options. In your first snippet, you use <code>MTLStorageModePrivate</code>, but you should be using <code>MTLResourceStorageModePrivate</code>, which contains a bit shift to place the storage mode in the correct bits.</p>\n\n<pre><code>MTLResourceStorageModePrivate = MTLStorageModePrivate &lt;&lt; MTLResourceStorageModeShift\n</code></pre>\n\n<p>In Swift, this would have caused a compile-time error.</p>\n"}], "owner": {"reputation": 940, "user_id": 2439750, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/e9af54206662a497b6c47080d4b924b7?s=128&d=identicon&r=PG", "display_name": "Eugene Alexeev", "link": "https://stackoverflow.com/users/2439750/eugene-alexeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 57596810, "answer_count": 1, "score": 1, "last_activity_date": 1566409652, "creation_date": 1566377548, "last_edit_date": 1566378255, "question_id": 57587879, "link": "https://stackoverflow.com/questions/57587879/mtlbuffer-with-mtlstoragemodeprivate-mode", "title": "MTLBuffer with MTLStorageModePrivate mode", "body": "<p>I'm relatively new to the Metal, and I have a pretty straight-forward question. I simply can not init <code>MTLBuffer</code> with <code>MTLStorageModePrivate</code> option:</p>\n\n<pre><code>id&lt;MTLBuffer&gt; privateBuff = [device newBufferWithLength:dataLength options:MTLStorageModePrivate];\n</code></pre>\n\n<p>Compiler gives me an assert with that text:</p>\n\n<pre><code>-[MTLDebugDevice validateResourceOptions:isTexture:isIOSurface:]:437: failed assertion `options 0x2 conveys invalid cpuCacheMode of 0x2'\n</code></pre>\n\n<p>And it doesn't make much sense. I'm creating a buffer which can be accessed only from GPU, so I need no cpu cache modes whatsoever for this particular entity. I suppose I need to turn off that cpu cache mode, but how?</p>\n\n<p>I looked through <code>MTLCPUCacheMode</code>, but it has nothing regarding turning cpu cache mode completely off.</p>\n\n<p>Interesting note: I absolutely can create <code>MTLHeap</code> with <code>MTLStorageModePrivate</code>, but not <code>MTLBuffer</code>.</p>\n\n<p>Any help would be appreciated. Thanks in advance!</p>\n\n<p><em>UPDATE:</em> I can create <code>MTLBuffer</code> with <code>MTLStorageModePrivate</code> by using <code>MTLHeap</code>. It looks something like this:</p>\n\n<pre><code>    MTLHeapDescriptor *heapDescriptor = [MTLHeapDescriptor new];\n    heapDescriptor.storageMode = MTLStorageModePrivate;\n    heapDescriptor.size = 0;\n\n    MTLSizeAndAlign sizeAndAlign = [device heapBufferSizeAndAlignWithLength:lutSharedBuffer.length options:MTLResourceStorageModePrivate];\n    sizeAndAlign.size += (sizeAndAlign.size &amp; (sizeAndAlign.align - 1)) + sizeAndAlign.align;\n    heapDescriptor.size += sizeAndAlign.size;\n\n    privateHeap = [device newHeapWithDescriptor:heapDescriptor];\n\n    privateBuff = [privateHeap newBufferWithLength:lutSharedBuffer.length options:MTLResourceStorageModePrivate]; //now it works!\n</code></pre>\n\n<p>But it's still not possible to do without the heap.</p>\n"}, {"tags": ["ios", "objective-c", "encryption", "flutter", "aes"], "comments": [{"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1566380898, "post_id": 57587034, "comment_id": 101635226, "body": "Welcome to SO. It seems that you are using  a strange library. Try this <a href=\"https://stackoverflow.com/q/45832991/1820553\">How to encrypt with AES 256 CBC in Objective C</a>"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1566386633, "post_id": 57587034, "comment_id": 101638379, "body": "Try and use streams / online decoding &amp; decryption rather than doing everything in one go, in two different steps. CPU&#39;s are fast, memory is not that fast and using spurious memory should be avoided."}, {"owner": {"reputation": 1, "user_id": 11955525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCTuShf03l9zPH1W2SmAkiQGWRC0zlZN9g0kXnV=k-s128", "display_name": "beingRD", "link": "https://stackoverflow.com/users/11955525/beingrd"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1566458312, "post_id": 57587034, "comment_id": 101664106, "body": "@MaartenBodewes I don&#39;t understand what you meant by that. Do check the image I recently attached maybe that can be of some help to understand the issue in hand."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1566472976, "post_id": 57587034, "comment_id": 101671836, "body": "Streams are a programming concept you can look up, online encryption / decryption is similar in that you split the input into chunks and try and decrypt those piecemeal rather than everything in one go."}], "owner": {"reputation": 1, "user_id": 11955525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCTuShf03l9zPH1W2SmAkiQGWRC0zlZN9g0kXnV=k-s128", "display_name": "beingRD", "link": "https://stackoverflow.com/users/11955525/beingrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 645, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1566395981, "creation_date": 1566374576, "last_edit_date": 1566395981, "question_id": 57587034, "link": "https://stackoverflow.com/questions/57587034/how-to-decrypt-a-very-long-string-of-aes-256-cbc-encryption-in-flutter", "title": "How to decrypt a very long string of AES 256 (CBC) encryption in Flutter?", "body": "<p>I want to decrypt a very long base64 string of an encrypted JSON file, in which I'm provided with key and iv. And I'm not using the default PKCS7 padding instead I'm keeping the padding null in the encryption part. AES 256 encryption is of CBC mode.</p>\n\n<p>With the help of \"encrypt\" dart package. I've tried decoding it, but the speed was very, very slow. But the solution I tried was natively configured respectively on Android &amp; iOS, but It wasn't working on that long base64 encrypted string.</p>\n\n<pre><code>\n//This is some native code I wrote for iOS (Objective-C)\n\n\n(NSString *)decrypt:(NSString *)text {\n    NSString *result = \n      [text stringByTrimmingCharactersInSet:\n      [NSCharacterSet whitespaceAndNewlineCharacterSet]];\n    NSData *decodedBase64Data = [[NSData alloc] \n      initWithBase64EncodedString:result options:0]; //Decode Base64\n    NSData *decodedAESData = [decodedBase64Data \n      AES256DecryptedDataWithKey:rd_key iv:rd_iv]; //Decode AES 256\n    result = [[NSString alloc] initWithData:decodedAESData \n    encoding:NSUTF8StringEncoding];\n    return result;\n}\n\n</code></pre>\n\n<p>Is there any faster or a native solution to this problem? \nas I'm not able to decrypt the whole base64 encrypted string.</p>\n\n<pre><code>Base64 encypted String = \"...2Btn9j6DjFOFgN2gUgVWv8!2FE94hmTZqge6wFMWCMBwRKu!\n2BhaUSbip!2Brxa0tF5JqzVukbz4cbWZE6NGNgrA5BAeNHh3RVFBuoOG!2F!2Fiw!2BmsUob4W5ab9\nP0lnHhPU9hk2qlfbj1ydS6m9OYYFwl!2F1QXAJ2I6lVZ81HYzeupP42!2BxqIx3zyURHZwQsCuOZ!\n2BYits!2FqBC!2BSvAfiCUCeEOSqaAaLjbxXNAaIrtHRh3B9boAPESTxTKzUSC!2Bhpa72xk7\nDby8cl0MlflPAc9P2ihO3SD5GNVm9HWIjMga41OUvw1xMsgqqe5G5YnsNOom57cnLkj\nJJhxsnfgnqaKxpAK0fdsov3f6!2FRDAVrSQledg4PWpQpNw9PCmIpzvk6!2wCbHck8\nOlJm!2Br7NI9FNTfhJ2YceXohNkAZPkWW!2F2j9egRHNhbZNxGZoFnVE!2FgP1Zyqd6R\n8Ma3b!2BhqCCWT4ZoSXXals26jVtkCMU5NA!2FWfxi6LbbsukyS9ViNj3gP8eCUH1!2Fbq\nnLWXRfN03yqDcjM9tTFvSjorbqvf0sI0Go7crwJGaX7ODB4C!2FWcZ8plUTmqTZI!2BNUE\nQKlxvGd24Vf!2B!2Br5ZvzvcM3Ew3CEw4JM1IZb30mqFEgFAt8dv08fj!2FRsQYt8PfK!2\nr0ucWIAXVNz0ZySX6lgSza0ZHMSot!2BpUzt0Ru8vUuALL1g5xoEgh1l4yyjs2Dmxz4mJ4\n0PNxdvye1FIjY!...\";\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/fWHVn.jpg\" rel=\"nofollow noreferrer\">Decrypted data should be like this!</a></p>\n"}, {"tags": ["objective-c", "uiapplicationdelegate", "uicontrol", "ios13"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1566360414, "post_id": 57584230, "comment_id": 101626971, "body": "Did you try printing the button&#39;s height <i>after</i> you set the button&#39;s frame?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "edited": false, "score": 0, "creation_date": 1566366725, "post_id": 57585051, "comment_id": 101628392, "body": "Yes, but I wrote that code just to clarify my problem -- height = 48, which I know, of course, should be: ```     self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];     FMTestViewController *vc = [FMTestViewController new];     self.window.rootViewController = vc;     [self.window makeKeyAndVisible];     return YES; ```"}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "reply_to_user": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "edited": false, "score": 0, "creation_date": 1566366952, "post_id": 57585051, "comment_id": 101628467, "body": "Well, this is beta version. It might possible that there are some fixes. But If you know the things that how views are created, why don&#39;t you try to create controls in ViewController."}, {"owner": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "edited": false, "score": 0, "creation_date": 1566367233, "post_id": 57585051, "comment_id": 101628569, "body": "- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOption {     // Override point for customization after application launch.     self.window = [[UIWindow alloc] initWithFrame:[UIScreen mainScreen].bounds];     FMTestViewController *vc = [FMTestViewController new];     self.window.rootViewController = vc;     [self.window makeKeyAndVisible];     NSLog(@&quot;self.window=%@&quot;, self.window);     return YES; } // It prints window === &lt;UIWindow: 0x7fdbc5508c10; frame = (0 0; 414 48); gestureRecognizers = &lt;NSArray: 0x60000113&gt;"}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "reply_to_user": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "edited": false, "score": 0, "creation_date": 1566367687, "post_id": 57585051, "comment_id": 101628729, "body": "Are you using Storyboard? Are you using Xib or Storyboard for FMTestViewController? The issue is related with <code>FMTestViewController </code> its height is 48."}, {"owner": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "edited": false, "score": 0, "creation_date": 1566368239, "post_id": 57585051, "comment_id": 101628937, "body": "Not used. A simple controller without adding any code."}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "reply_to_user": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "edited": false, "score": 0, "creation_date": 1566368677, "post_id": 57585051, "comment_id": 101629090, "body": "In the stable Xcode version it is not the case, please file a bug on Apple forum."}], "tags": [], "owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "is_accepted": false, "score": 1, "last_activity_date": 1566365787, "last_edit_date": 1592644375, "creation_date": 1566365787, "answer_id": 57585051, "question_id": 57584230, "link": "https://stackoverflow.com/questions/57584230/xcode11-controls-like-uibutton-height-is-48-in-appdelegate-only-in-xr-xsmax-d/57585051#57585051", "title": "Xcode11 - controls like UIButton height is 48, in AppDelegate only in XR/XSMAX device", "body": "<p>First thing first, your approach is wrong.</p>\n<p>Let me explain you a bit about the view hierarchy.</p>\n<blockquote>\n<p>UIWindow</p>\n<p>---&gt; UIViewController</p>\n<p>-------&gt; UIView</p>\n<p>------------&gt; UIControls (UIButton, UILabel, UITextField etc.)</p>\n</blockquote>\n<p>The iOS application view hierarchy follows the above pattern.</p>\n<ol>\n<li><strong>Window (UIWindow):</strong> Consider it as a canvas of drawing. Everything displays on the application is reside in this canvas. This is the top most parent of all child views and controls.</li>\n</ol>\n<p>So you can not add UIControls directly to the UIWindow. You need something that can hold and arrange this controls.</p>\n<ol start=\"2\">\n<li><strong>UIViewController:</strong> So the UIViewController comes in picture. This is the container of all the controls (UIViews). It is responsible to manage all the UIControls. This is your point of interest. You can add all the controls in this class. Either by programming or using Storyboard. I would prefer to go with Storyboard.</li>\n</ol>\n<p>One more thing I notice is that you are assigning  <code>FMTestViewController</code> frame using code, this is wrong there is no need to assign frame to the view controller. The frame is already adjust for all the devices by itself. And you should create view controller in Storyboard.</p>\n<p>The best way to start it from <a href=\"https://developer.apple.com/library/archive/documentation/ToolsLanguages/Conceptual/Xcode_Overview/DesigningwithStoryboards.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 6196445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e46a093a90d1c15f448c9b7556c2da0?s=128&d=identicon&r=PG&f=1", "display_name": "D.Wade", "link": "https://stackoverflow.com/users/6196445/d-wade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566365942, "creation_date": 1566359750, "last_edit_date": 1566365942, "question_id": 57584230, "link": "https://stackoverflow.com/questions/57584230/xcode11-controls-like-uibutton-height-is-48-in-appdelegate-only-in-xr-xsmax-d", "title": "Xcode11 - controls like UIButton height is 48, in AppDelegate only in XR/XSMAX device", "body": "<p>In iOS13 alone, for the iPhone XR/XS/XSMax or in the simulator, in the delegate method <code>didFinishLaunchingWithOptions</code> I created an arbitrary UI controls, such as a <code>UIButton</code>, <code>UILabel</code>. </p>\n\n<p>With or without frames assigned, their height is 48. Amazing question.</p>\n\n<p>My Xcode is Xcode11, beta5</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {\n    // Override point for customization after application launch.\n    UILabel *lab = [UILabel new];\n    UIButton *btn = [UIButton new];\n    NSLog(@\"btn.height = %f\", btn.frame.size.height); // At this point the print is already 48\n    btn.frame = CGRectMake(100, 100, 200, 100); // The print is still 48\n    self.window = [[UIWindow alloc] initWithFrame:CGRectMake(0, 200, 300, 0)];\n    self.window.frame = CGRectMake(0, 100, 100, 100);\n    FMTestViewController *vc = [FMTestViewController new];\n    vc.view.frame = CGRectMake(0, 0, 600, 600);\n    self.window.rootViewController = vc;\n    self.window.backgroundColor = [UIColor whiteColor];\n    [self.window makeKeyAndVisible];\n\n//    btn.frame = CGRectMake(0, 100, 100, 100);\n    [[UIApplication sharedApplication].keyWindow addSubview:btn];\n    NSLog(@\"self.window=%@\", self.window);\n    return YES;\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "wkwebview"], "answers": [{"tags": [], "owner": {"reputation": 11198, "user_id": 8798729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cimg2.jpg?s=128&g=1", "display_name": "trungduc", "link": "https://stackoverflow.com/users/8798729/trungduc"}, "is_accepted": true, "score": 1, "last_activity_date": 1566357442, "creation_date": 1566357442, "answer_id": 57584011, "question_id": 57583733, "link": "https://stackoverflow.com/questions/57583733/wkwebview-how-to-find-the-request-in-the-wknavigationdelegate-methods/57584011#57584011", "title": "WKWebView how to find the request in the WKNavigationDelegate methods", "body": "<p>As I know the equivalent of <code>webView:shouldStartLoadWithRequest:navigationType:</code> in <code>UIWebView</code> is <code>webView:decidePolicyForNavigationAction:decisionHandler:</code> in <code>WKWebView</code>.</p>\n\n<p>Inside <code>webView:decidePolicyForNavigationAction:decisionHandler:</code>, you can get the request from <code>navigationAction</code>.</p>\n\n<pre><code>- (void)webView:(WKWebView *)webView decidePolicyForNavigationAction:(WKNavigationAction *)navigationAction decisionHandler:(void (^)(WKNavigationActionPolicy))decisionHandler {\n\n    NSURLRequest *request = navigationAction.request;\n\n    // Do whatever you want with the request\n\n    decisionHandler(WKNavigationActionPolicyAllow);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10566428, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SqtRRKDsQDc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDPQJTutDppszbZjUk0vVyq0ackhw/mo/photo.jpg?sz=128", "display_name": "Gowri K", "link": "https://stackoverflow.com/users/10566428/gowri-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1566362153, "creation_date": 1566362153, "answer_id": 57584496, "question_id": 57583733, "link": "https://stackoverflow.com/questions/57583733/wkwebview-how-to-find-the-request-in-the-wknavigationdelegate-methods/57584496#57584496", "title": "WKWebView how to find the request in the WKNavigationDelegate methods", "body": "<p>Equivalent for UIWebview to WKWebview is as follows:</p>\n\n<pre><code>didFailLoadWithError =&gt; didFailNavigation\nwebViewDidFinishLoad =&gt; didFinishNavigation\nwebViewDidStartLoad =&gt; didStartProvisionalNavigation\nshouldStartLoadWithRequest =&gt; decidePolicyForNavigationAction\n</code></pre>\n\n<p>The shouldStartWithRequest delegate method in WKWebview (Swift version) is as follows:</p>\n\n<pre><code>    func webView(webView: WKWebView, decidePolicyForNavigationAction navigationAction: WKNavigationAction, decisionHandler: ((WKNavigationActionPolicy) -&gt; Void)) {\n if (webView.url?.host ?? \"\") == \"jsbridge\" {\n            let requestType = webView.url?.pathComponents[2]\n            let key = webView.url?.pathComponents[3]\n            print(\"requestType: \\(requestType ?? \"\") - key: \\(key ?? \"\")\")\n            if (requestType == \"audio\") {\n                playAudio(key)\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3381, "user_id": 807926, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6983df81cfb44870da516333914a77b8?s=128&d=identicon&r=PG", "display_name": "Praveen-K", "link": "https://stackoverflow.com/users/807926/praveen-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1566388758, "last_edit_date": 1566388758, "creation_date": 1566388429, "answer_id": 57591035, "question_id": 57583733, "link": "https://stackoverflow.com/questions/57583733/wkwebview-how-to-find-the-request-in-the-wknavigationdelegate-methods/57591035#57591035", "title": "WKWebView how to find the request in the WKNavigationDelegate methods", "body": "<p><strong>I created the custom class</strong> </p>\n\n<pre><code>class PKWebKitView: WKWebView,WKUIDelegate,WKNavigationDelegate {\n\n   var webView   :WKWebView!\n\n   func loadRequestUrl(myRequest : URLRequest) {\n\n    self.navigationDelegate = self\n    self.uiDelegate = self\n\n    self.load(myRequest)\n  } }\n\n\n\nextension PKWebKitView: WKNavigationDelegate {\n    func webView(_ webView: WKWebView, decidePolicyFor navigationAction: WKNavigationAction, decisionHandler: @escaping (WKNavigationActionPolicy) -&gt; Void) {\n\n        if let host = navigationAction.request.url?.absoluteString.removingPercentEncoding {\n\n            if host.contains(&lt;endpoint check&gt;) {\n                if let delegateWrapper = wkWebviewDelegate {\n                    decisionHandler(.cancel)\n                }                \n            }\n            if host.contains(&lt;endpoint check&gt;) {\n                let responseString = host\n                let query = \"&lt;Your query&gt;\"\n                wkWebviewDelegate?.launchScreen(query)\n            }\n}\n</code></pre>\n\n<p><strong>To Use:</strong></p>\n\n<pre><code>let webConfiguration = WKWebViewConfiguration()\nwebView = PKWebKitView(frame: webViewContainer.frame, configuration: webConfiguration)\nwebView.loadRequestUrl(myRequest\n</code></pre>\n"}], "owner": {"reputation": 892, "user_id": 496193, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/50b3c757c439f3450f5598313b916d96?s=128&d=identicon&r=PG", "display_name": "dreadbot", "link": "https://stackoverflow.com/users/496193/dreadbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 0, "accepted_answer_id": 57584011, "answer_count": 3, "score": 0, "last_activity_date": 1566388758, "creation_date": 1566354899, "question_id": 57583733, "link": "https://stackoverflow.com/questions/57583733/wkwebview-how-to-find-the-request-in-the-wknavigationdelegate-methods", "title": "WKWebView how to find the request in the WKNavigationDelegate methods", "body": "<p>I'm trying to migrate from a UIWebView to WKWebView. shouldStartLoadWithRequest delegate method I could find the request as below:</p>\n\n<pre><code>- (BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType\n{ \n    NSLog(@\"request: %@\", request);\n    if ([request.URL.host isEqualToString:@\"jsbridge\"])\n    {\n        NSString* requestType = [request.URL.pathComponents objectAtIndex:2];\n        NSString* key = [request.URL.pathComponents objectAtIndex:3];     \n        NSLog(@\"requestType: %@ - key: %@\", requestType, key);        \n        if([requestType isEqualToString:@\"audio\"])\n        {\n            [self playAudio:key];\n        }\n    return  YES;\n}\n</code></pre>\n\n<p>I need help finding the same request in the WKNavigationDelegate methods. Do I use the didCommit or didFinishNavigation methods and if so how do I find the request that it came from? Could someone give me an example? Wish I could do this is Swift but I have to stick to Objective-C. Thanks in advance.</p>\n"}, {"tags": ["objective-c", "clang"], "answers": [{"tags": [], "owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1566307468, "creation_date": 1566307468, "answer_id": 57574738, "question_id": 57574088, "link": "https://stackoverflow.com/questions/57574088/how-to-ignore-a-custom-warning-in-clang/57574738#57574738", "title": "How to ignore a custom warning in clang?", "body": "<p>There is a <a href=\"https://clang.llvm.org/docs/DiagnosticsReference.html#w-warnings\" rel=\"nofollow noreferrer\"><code>-W#warnings</code> diagnostic</a>, which I guess would do it.</p>\n\n<p>Something like:</p>\n\n<pre><code>#pragma clang diagnostic ignored \"-W#warnings\"\n</code></pre>\n"}], "owner": {"reputation": 20158, "user_id": 994107, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/oKnAc.jpg?s=128&g=1", "display_name": "Andrey Chernukha", "link": "https://stackoverflow.com/users/994107/andrey-chernukha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57574738, "answer_count": 1, "score": 1, "last_activity_date": 1566307468, "creation_date": 1566305351, "question_id": 57574088, "link": "https://stackoverflow.com/questions/57574088/how-to-ignore-a-custom-warning-in-clang", "title": "How to ignore a custom warning in clang?", "body": "<p>I can ignore predefined Clang warnings as follows:</p>\n\n<pre><code>#pragma clang diagnostic push\n#pragma clang diagnostic ignored \"-Warc-performSelector-leaks\"\n        [target performSelector:selector];\n#pragma clang diagnostic pop\n</code></pre>\n\n<p>But what if there's a custom warning? I mean </p>\n\n<pre><code>#warning Hello World\n</code></pre>\n\n<p>How do I ignore it?</p>\n"}, {"tags": ["objective-c", "macos", "rsa"], "owner": {"reputation": 11, "user_id": 11854984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd9b907fa408810d76c8184f030ba45f?s=128&d=identicon&r=PG&f=1", "display_name": "Daedalus", "link": "https://stackoverflow.com/users/11854984/daedalus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566298706, "creation_date": 1566298706, "question_id": 57572111, "link": "https://stackoverflow.com/questions/57572111/is-the-seckeyrawsign-seckeyrawverify-api-implementation-modified-on-macos10-15be", "title": "Is the SecKeyRawSign/SecKeyRawVerify API implementation modified on macos10.15beta?", "body": "<p>First we may need to determine if SecKeyRawSign/SecKeyRawVerify can be used on macos, otherwise the discussion below will have no meaning. The API document is classified as Legacy iOS Key Operations, and the version that supports macos is not displayed on the API description page, so I don't know if using this API in macos will cause some unknown problems. The following discussion and testing is based on this API that can be used on macos.</p>\n\n<p>Background: Obtain data and signature from the server, verify on the client, verify successfully on macos 10.14, return error code -9809 (errSSLCrypto) on macos 10.15.</p>\n\n<p>Here is the case where I found the problem when testing.</p>\n\n<pre><code>-(void)case3\n{\n    NSLog(@\"case 3: test sign\");\n    // get publicKey/privateKey\n    SecKeyRef publicKeyRef = [self getPublicKey:ipublickey];\n    SecKeyRef privateKeyRef = [self getPrivateKey:iprivatekey];\n\n    size_t signedHashBytesSize = SecKeyGetBlockSize(privateKeyRef) * sizeof(uint8_t);\n    unsigned char *signedHashBytes = malloc(signedHashBytesSize);\n\n    NSString *plainString = @\"0\";\n    for (int i = 0; i &lt; 2000; ++i) {\n        memset(signedHashBytes, 0, signedHashBytesSize);\n        NSData *plainData = [plainString dataUsingEncoding:NSUTF8StringEncoding];\n\n        // use raw data sign\n        OSStatus status = SecKeyRawSign(privateKeyRef,\n                                        kSecPaddingPKCS1SHA1,\n                                        plainData.bytes,\n                                        plainData.length,\n                                        signedHashBytes,\n                                        &amp;signedHashBytesSize);\n        if (status != noErr) {\n            NSLog(@\"raw data sign failed. data.length:%lu\",\n                    (unsigned long)plainData.length);\n            break;\n        }\n\n        NSData *resultData = [[NSData alloc] initWithBytes:signedHashBytes\n                                                    length:signedHashBytesSize];\n\n        status = SecKeyRawVerify(publicKeyRef,\n                                 kSecPaddingPKCS1SHA1,\n                                 plainData.bytes,\n                                 plainData.length,\n                                 [resultData bytes],\n                                 [resultData length]);\n        if (status != noErr) {\n            NSLog(@\"plainData.bytes, plainData.length Verify Failed\");\n        }\n        plainString = [plainString stringByAppendingString:@\"0\"];\n    }\n\n    plainString = @\"0\";\n    for (int i = 0; i &lt; 2000; ++i) {\n        memset(signedHashBytes, 0, signedHashBytesSize);\n        NSData *plainData = [plainString dataUsingEncoding:NSUTF8StringEncoding];\n        size_t hashBytesSize = CC_SHA1_DIGEST_LENGTH;\n        uint8_t* hashBytes = malloc(hashBytesSize);\n        unsigned char *r = CC_SHA1([plainData bytes],\n                                   (CC_LONG)[plainData length], hashBytes);\n        if (r == NULL) {\n            NSLog(@\"SHA Failed\");\n        }\n\n        // use raw data sign\n        OSStatus status = SecKeyRawSign(privateKeyRef,\n                                        kSecPaddingPKCS1SHA1,\n                                        hashBytes,\n                                        hashBytesSize,\n                                        signedHashBytes,\n                                        &amp;signedHashBytesSize);\n        if (status != noErr) {\n            NSLog(@\"hash data sign failed. data.length:%lu\",\n                    (unsigned long)plainData.length);\n            break;\n        }\n\n        NSData *resultData = [[NSData alloc] initWithBytes:signedHashBytes\n                                                    length:signedHashBytesSize];\n\n        status = SecKeyRawVerify(publicKeyRef,\n                                 kSecPaddingPKCS1SHA1,\n                                 hashBytes,\n                                 hashBytesSize,\n                                 [resultData bytes],\n                                 [resultData length]);\n        if (status != noErr) {\n            NSLog(@\"hashBytes, hashBytesSize Verify Failed\");\n            break;\n        }\n\n        free(hashBytes);\n        plainString = [plainString stringByAppendingString:@\"0\"];\n    }\n    free(signedHashBytes);\n\n    NSLog(@\"\\n\\n\");\n}\n</code></pre>\n\n<p>macos 10.14 result</p>\n\n<pre><code>2019-08-20 04:23:04.017740-0400 Demo[43169:2170797] case 3: test sign\n</code></pre>\n\n<p>macos 10.15 result</p>\n\n<pre><code>2019-08-20 05:23:04.017740-0400 Demo[43169:2170797] case 3: test sign\n2019-08-20 05:23:06.534971-0400 Demo[43169:2170797] raw data sign failed. data.length:103\n</code></pre>\n\n<p>Based on the above test I modified my verification code.</p>\n\n<pre><code>size_t hashBytesSize = CC_SHA1_DIGEST_LENGTH;\nuint8_t* hashBytes = malloc(hashBytesSize);\nunsigned char *sha_result = CC_SHA1([data bytes],\n                                    (CC_LONG)[data length],\n                                    hashBytes);\nif (sha_result == NULL) {\n    NSLog(@\"SHA Failed\");\n    return NO;\n}\n\n// work in macos 10.15\nOSStatus ret = SecKeyRawVerify(publicKeyRef,\n                                kSecPaddingPKCS1SHA1,\n                                hashBytes,\n                                hashBytesSize,\n                                signData.bytes,\n                                signData.length);\nif (ret != noErr) {\n    NSLog(@\"hash data verify failed.\");\n}\n// work in macos 10.14\nret = SecKeyRawVerify(publicKeyRef,\n                        kSecPaddingPKCS1SHA1,\n                        data.bytes,\n                        data.length,\n                        signData.bytes,\n                        signData.length);\nif (ret != noErr) {\n    NSLog(@\"raw data verify failed.\");\n}\n</code></pre>\n\n<p>I don't know why using hash data on macos 10.15beta will pass validation and macos 10.14 won't. Is the SecKeyRawSign/SecKeyRawVerify API embedding CC_SHA1 on macos 10.14?</p>\n"}, {"tags": ["ios", "objective-c", "push-notification"], "comments": [{"owner": {"reputation": 244, "user_id": 10790218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1o0Ts.png?s=128&g=1", "display_name": "Atmaram", "link": "https://stackoverflow.com/users/10790218/atmaram"}, "edited": false, "score": 0, "creation_date": 1566453272, "post_id": 57571224, "comment_id": 101662001, "body": "Please refer to this below link might help <a href=\"https://stackoverflow.com/questions/46689396/how-to-clear-a-remote-pushed-notification-for-ios\" title=\"how to clear a remote pushed notification for ios\">stackoverflow.com/questions/46689396/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11270732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd294da6c039ef7b00b2a2d0303b269?s=128&d=identicon&r=PG&f=1", "display_name": "archilo20", "link": "https://stackoverflow.com/users/11270732/archilo20"}, "edited": false, "score": 0, "creation_date": 1566321808, "post_id": 57575567, "comment_id": 101617360, "body": "Hi Bhavin, thanks for you answer. My issue is that the code is not executed when the app is in background, how would this help me ? Thank you"}], "tags": [], "owner": {"reputation": 1, "user_id": 10540850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c02ab5c9ce101876fb48c977393572d?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavin", "link": "https://stackoverflow.com/users/10540850/bhavin"}, "is_accepted": false, "score": 0, "last_activity_date": 1566310205, "creation_date": 1566310205, "answer_id": 57575567, "question_id": 57571224, "link": "https://stackoverflow.com/questions/57571224/unable-to-remove-notification-when-app-is-on-background/57575567#57575567", "title": "Unable to remove notification when app is on background", "body": "<p>Try Using UIApplicationState property.</p>\n\n<p>Sample: </p>\n\n<pre><code>  UIApplicationState* applicationState;\n  if (applicationState == UIApplicationStateActive) {\n    // Application is running in foreground\n    //Handler \n   }\n   else if (applicationState == UIApplicationStateBackground || applicationState == UIApplicationStateInactive) {\n   // Application is brought from background or launched after terminated\n   // Handler \n   }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11270732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd294da6c039ef7b00b2a2d0303b269?s=128&d=identicon&r=PG&f=1", "display_name": "archilo20", "link": "https://stackoverflow.com/users/11270732/archilo20"}, "edited": false, "score": 0, "creation_date": 1566835993, "post_id": 57651430, "comment_id": 101771933, "body": "Hi irons thank you for  your answer, my problem is that didReceiveRemoteNotification:(NSDictionary *)userInfo fetchCompletionHandler:(void (^)(UIBackgroundFetchResult))completionHandler is not being called when silent push arrives and the app is on the background. Everything works fine if the app is in the foreground. Thanks for the advice"}, {"owner": {"reputation": 21, "user_id": 11270732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd294da6c039ef7b00b2a2d0303b269?s=128&d=identicon&r=PG&f=1", "display_name": "archilo20", "link": "https://stackoverflow.com/users/11270732/archilo20"}, "edited": false, "score": 0, "creation_date": 1566904749, "post_id": 57651430, "comment_id": 101794000, "body": "Thank you for you reply irons. Yes background modes is enabled."}], "tags": [], "owner": {"reputation": 26, "user_id": 11916841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295b78155e8dd55788b9fcbbd2e103de?s=128&d=identicon&r=PG&f=1", "display_name": "irons163", "link": "https://stackoverflow.com/users/11916841/irons163"}, "is_accepted": false, "score": 0, "last_activity_date": 1566959734, "last_edit_date": 1566959734, "creation_date": 1566789906, "answer_id": 57651430, "question_id": 57571224, "link": "https://stackoverflow.com/questions/57571224/unable-to-remove-notification-when-app-is-on-background/57651430#57651430", "title": "Unable to remove notification when app is on background", "body": "<p>What is \"doesn't work\" meaning? The didReceiveRemoteNotification is not called, or removeDeliveredNotificationsWithIdentifiers not work?</p>\n\n<p>There are two didReceiveRemoteNotification methods, one of them is deprecated.</p>\n\n<p>application:didReceiveRemoteNotification:(deprecated)\napplication:didReceiveRemoteNotification:fetchCompletionHandler:</p>\n\n<p>And in Apple doc:</p>\n\n<pre><code>Unlike the application:didReceiveRemoteNotification: method, \nwhich is called only when your app is running in the foreground, \nthe system calls this method when your app is running in the foreground or background. \n</code></pre>\n\n<p>Or you can try:\nuserNotificationCenter:willPresentNotification:withCompletionHandler:(Apple recommand)</p>\n\n<p>Apple doc: </p>\n\n<pre><code>When a device receives a background notification, the system wakes your app in the background. On iOS it calls your app delegate\u2019s application:didReceiveRemoteNotification:fetchCompletionHandler: method. On watchOS, it calls your extension delegate\u2019s didReceiveRemoteNotification:fetchCompletionHandler: method. Your app has 30 seconds to perform any tasks and call the provided completion handler. For more information, see Handling Notifications and Notification-Related Actions.\n</code></pre>\n\n<p>EDIT:\n@archilo20 Do your project enable background modes?</p>\n\n<p>This setting is in the target->Capabilities->Background Modes->Remote notifications</p>\n\n<p>Make sure you enable it.</p>\n\n<p>EDIT 28/08:</p>\n\n<p>Try this answer:</p>\n\n<p><a href=\"https://stackoverflow.com/a/46843805/11916841\">Answer</a></p>\n\n<p>The key points are : 1.content-available:1 and mutable-content:1 in push notification payload. 2.Enable Background Fetch.</p>\n"}], "owner": {"reputation": 21, "user_id": 11270732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd294da6c039ef7b00b2a2d0303b269?s=128&d=identicon&r=PG&f=1", "display_name": "archilo20", "link": "https://stackoverflow.com/users/11270732/archilo20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1566959734, "creation_date": 1566295464, "last_edit_date": 1566366466, "question_id": 57571224, "link": "https://stackoverflow.com/questions/57571224/unable-to-remove-notification-when-app-is-on-background", "title": "Unable to remove notification when app is on background", "body": "<p>Hi I am trying to remove a notification from the notification center when my app is on the background and a silent push arrives. It works fine if the app is in Foreground or connected to debugger. </p>\n\n<p>However when the apps is on background it doesn't work. I'm using in <code>removeDeliveredNotificationsWithIdentifiers</code> inside <code>didReceiveRemoteNotification</code>. Any advice ?\nThank you </p>\n\n<pre><code>[center getDeliveredNotificationsWithCompletionHandler:^(NSArray&lt;UNNotification *&gt; * _Nonnull notifications) {\n\n   for (UNNotification* notification in notifications) \n   {\n         NSDictionary* ui = notification.request.content.userInfo;\n\n         if ([ui[@\"activityId\"] isEqualToString:activityId]) \n         {            \n             [center removeDeliveredNotificationsWithIdentifiers:@[notification.request.identifier]];\n         }\n\n    }\n    completionHandler(UIBackgroundFetchResultNoData);                     \n}]; \n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "core-data", "nsxmlparser", "magicalrecord"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566295234, "post_id": 57571111, "comment_id": 101602818, "body": "So you mean If I convert the NSData into an NSDictionary and iterate that dictionary is faster than using the NSXML PARSE ? But won&#39;t be pratically the same since i need to use coredata to create new records on the database ?"}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "reply_to_user": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566295489, "post_id": 57571111, "comment_id": 101602950, "body": "Not saying that. For the XML update the first step is to measure the slowest part. You say &quot;takes at least 2 minutes to read and store the provided data.&quot; How much time it takes to &quot;read&quot;? How much time it takes to &quot;parse&quot;? How much time it takes to &quot;store&quot;? Measure!"}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "reply_to_user": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566295600, "post_id": 57571111, "comment_id": 101603004, "body": "My main point is that for the initial run you don&#39;t even need this XML: pre-build the database, and ship it in the app."}, {"owner": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566295807, "post_id": 57571111, "comment_id": 101603100, "body": "The problem is that this app uses alot of targets (about 20), so i don&#39;t know how to do that, but do you have a tutorial or a guide on how to &quot;<i>ship your pre-populated database as a resource in the app bundle</i>&quot;"}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "reply_to_user": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566296230, "post_id": 57571111, "comment_id": 101603323, "body": "The first step is to make a macOS command-line tool that takes your XML and produces a CoreData database. Does it seem viable for you?"}, {"owner": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566296677, "post_id": 57571111, "comment_id": 101603580, "body": "But my problem is, the database is made in run-time, so if I make a tool that creates that database I need to change my code, and the code I use to update the database from the server to recreate that database, I&#39;m sorry but I&#39;m not understanding how to do this without any guide"}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "reply_to_user": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566299755, "post_id": 57571111, "comment_id": 101605101, "body": "Yes, your understanding is right. This is the general direction. I can&#39;t give you all the details, because your question is too broad at this point. I&#39;d start by making a new macOS command-line app project with CoreData support, copying some code there form your app, and then see where it leads you (what parts are missing etc.)"}, {"owner": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566307268, "post_id": 57571111, "comment_id": 101609478, "body": "From what I saw on a post:  <a href=\"https://stackoverflow.com/questions/17351493/using-an-existing-sqlite-database-in-magicalrecord\" title=\"using an existing sqlite database in magicalrecord\">stackoverflow.com/questions/17351493/&hellip;</a>  I already have on my target my DB and did the code has the guy in the awsner has done, the problem is when I&#39;m trying to fetch the data, it has nothing.  But the DB I put on the folder has data on it."}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "reply_to_user": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "edited": false, "score": 0, "creation_date": 1566315344, "post_id": 57571111, "comment_id": 101614392, "body": "Sounds like you have found your way to start, but have more questions on the way. Feel free to ask more on SO, and make sure to demonstrate the code! :)"}], "tags": [], "owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "is_accepted": false, "score": 0, "last_activity_date": 1566295039, "creation_date": 1566295039, "answer_id": 57571111, "question_id": 57570673, "link": "https://stackoverflow.com/questions/57570673/objective-c-nsxmlparser-with-coredata-takes-too-long-to-parse-and-store-data/57571111#57571111", "title": "Objective-c NSXMLParser with Coredata takes too long to parse and store data", "body": "<p>In general if you want your app to start as fast as it can - don't do the work it needs on startup. Either do it before (at build time) or postpone it and do in background as much as you can.</p>\n\n<p>In this particular example I'd recommend to run that code during the app build to convert XML to sqlite/CoreData, and ship your pre-populated database as a resource in the app bundle.</p>\n\n<p>Note: it is possible to make a macOS tool to do that, and then use that tool for your app target as a Build Phase.</p>\n\n<p>If you want to speed up the updates from the server, try to do the processing in the background. Use profiling tools to see what is the slowest part. During bulk imports into SQL often one of the slowest part is related to updating indexes. Instead of updating an index for each new row, sometimes it is possible to disable them, insert everything, and then build indexes from scratch. That can be much faster, but that requires deeper knowledge of how CoreData uses indexes. Sometimes the slowest part is related to searching. Instead of using the database search one could build a dictionary in memory and use it for faster searching.</p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "is_accepted": true, "score": 0, "last_activity_date": 1566379080, "last_edit_date": 1566379080, "creation_date": 1566378480, "answer_id": 57588158, "question_id": 57570673, "link": "https://stackoverflow.com/questions/57570673/objective-c-nsxmlparser-with-coredata-takes-too-long-to-parse-and-store-data/57588158#57588158", "title": "Objective-c NSXMLParser with Coredata takes too long to parse and store data", "body": "<p>I finally found the solution. So I decided to go with a pre-loaded DB instead of filling the data of my database from a local xml file.</p>\n\n<p>Basically what I done was:</p>\n\n<ul>\n<li>After running the app with the local xml file, I let it create the BD then went to the ~Library/Developer/... to get the generated DB files, I had 3 files, but If I opened them with a program called DB Browser for SQLite the 3 files merged into 1 single file.</li>\n<li>After that I grabbed the only 1 single DB File, and then moved it into the desired Target of my project. Lets say I called it MyDB.sqlite</li>\n</ul>\n\n<p>And then in my AppDelegate file after <code>didFinishLaunchingWithOptions:</code> I added this code:</p>\n\n<pre><code>// This code is needed to preload the database\n\nNSArray *paths = [[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask];\nNSURL *documentPath = [paths lastObject];\nNSURL *storeURL = [documentPath URLByAppendingPathComponent:@\"MyDB.sqlite\"];\n\n// Check if the database already exists in the document folder, if it doesn't exist add it to the documents folder\nif (![[NSFileManager defaultManager] fileExistsAtPath:[storeURL path]]) {\n    NSURL *preloadURL = [NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@\"MyDB\" ofType:@\"sqlite\"]];\n    NSError* err = nil;\n\n    if (![[NSFileManager defaultManager] copyItemAtURL:preloadURL toURL:storeURL error:&amp;err]) {\n        NSLog(@\"Error: Unable to copy preloaded database.\");\n    }\n}\n\n// Setup Magical Record in the document path\n[MagicalRecord setupCoreDataStackWithAutoMigratingSqliteStoreAtURL:storeURL];\n</code></pre>\n\n<p>For some reason the <code>setupCoreDataStackWithAutoMigratingSqliteStoreNamed</code> wasen't working for me (Maybe because was getting the MyDB.sqlite files from the other targets? I don't know), so I decided to go with <code>setupCoreDataStackWithAutoMigratingSqliteStoreAtURL</code></p>\n"}], "owner": {"reputation": 45, "user_id": 11428057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb99209997f11c7a0e2eedd81864c792?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Monteiro", "link": "https://stackoverflow.com/users/11428057/pedro-monteiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57588158, "answer_count": 2, "score": 0, "last_activity_date": 1566379080, "creation_date": 1566293613, "last_edit_date": 1566294717, "question_id": 57570673, "link": "https://stackoverflow.com/questions/57570673/objective-c-nsxmlparser-with-coredata-takes-too-long-to-parse-and-store-data", "title": "Objective-c NSXMLParser with Coredata takes too long to parse and store data", "body": "<p>I'm not a experience xcode/objective-c programmer so I'm sorry if you might not understand somethings I might say, or somethings I might say wrong.</p>\n\n<p>So everything started with apple rejecting our app because it says:</p>\n\n<p>\"<em>Your app did not include sufficient content in the binary for the app to function at launch, and we were required to download or unpack additional resources before we could use it.</em>\"</p>\n\n<p>Because our app is a transports app, it needs to download dynamic data from services to keep the app with the most accurate and updated data. So basically everytime we open the app we ask the user to download the data (~2.5 MB), but since Apple refused to aprove the app I made an exception and let user enter without downloading any data, but it needs to convert the local XML file into core-data database.</p>\n\n<p>My problem is, this file that is like 2,5 MB space with ~17k lines <strong>takes at least 2 minutes</strong> to read and store the provided data.</p>\n\n<p>So I tried to see the parser if it was the problem but the code seems fine to me.</p>\n\n<p>I know that this what I'm doing might not be the solution because of what Apple said the \"<em>unpacking additional resources</em>\" so I think it won't pass the app verification, but still I wanted this to do the parse and store with less time...</p>\n\n<p>This is my code:</p>\n\n<pre><code>- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict {\n    //    &lt;Network LinesNumber=\"28\" ZonesNumber=\"112\" StopsNumber=\"114\"&gt;\n    if ([elementName isEqualToString:@\"Network\"]) {\n        int ln = [[attributeDict objectForKey:@\"LinesNumber\"] intValue];\n        int zn = [[attributeDict objectForKey:@\"ZonesNumber\"] intValue];\n        int sn = [[attributeDict objectForKey:@\"StopsNumber\"] intValue];\n        totalItems = (totalItems + ln + sn + zn) *1.0;\n        updateaction(0);\n    }\n    else if ([elementName isEqualToString:@\"Stop\"]) {\n        int idStop = [[attributeDict objectForKey:@\"Id\"] intValue];\n        NSString* name = [[attributeDict objectForKey:@\"Name\"] capitalizedString];\n        NSString* codName = [attributeDict objectForKey:@\"CodName\"];\n        int idZona = [[attributeDict objectForKey:@\"IdZona\"] intValue];\n        int idDistrito = [[attributeDict objectForKey:@\"IdCounty\"] intValue];\n        int idConcelho = [[attributeDict objectForKey:@\"IdDistrict\"] intValue];\n        int idFreguesia = [[attributeDict objectForKey:@\"IdParish\"] intValue];\n        double latitude = [[attributeDict objectForKey:@\"CoordYY\"] doubleValue];\n        double longitude = [[attributeDict objectForKey:@\"CoordXX\"] doubleValue];\n        NSString* obs = [attributeDict objectForKey:@\"Observation\"];\n\n        OperatorZone *zone = [Database operatorZoneFromId:idZona];\n\n        Stop *stop = [Database createStop:idStop withName:name withCodName:codName withIdZona:idZona withIdDistrito:idDistrito withIdConcelho:idConcelho withIdFreguesia:idFreguesia withLatitude:latitude withLongitude:longitude withObservations:obs withOperatorZone:zone];\n        [stop setCicID:cicID];\n        [stop setOperatorID:operatorID];\n        NSLog(@\"Saving stop with Name: %@, cicID: %@, operatorID: %@\", name, cicID, operatorID);\n\n        [stops_dict setObject:stop forKey: [NSNumber numberWithInt:idStop]];\n\n        if (zone != nil) {\n            [zone addStopsObject:stop];\n          //  [[zone managedObjectContext] MR_saveToPersistentStoreAndWait]; // TIRAR ISTO DAQUI E POR NO FIM DE TUDO\n        }\n\n        itemcount++;\n        progress = itemcount/totalItems;\n        updateaction(progress);\n    }\n\n    else if ([elementName isEqualToString:@\"Line\"]) {\n//        NSLog(@\"Checking line..\");\n        int sid = [[attributeDict objectForKey:@\"Id\"] intValue];\n        NSString * name = [attributeDict objectForKey:@\"LineName\"];\n        NSString * returnName = [attributeDict objectForKey:@\"ReturnLineName\"];\n        NSString * companyID = [attributeDict objectForKey:@\"CompanyId\"];\n        int isCircular = [[attributeDict objectForKey:@\"IsCircular\"] boolValue];\n        int idOperator = [[attributeDict objectForKey:@\"IdOperator\"] intValue];\n        NSString * version = [attributeDict objectForKey:@\"Version\"];\n        currentLine = [Database createLine:sid withName:name withReturnName:returnName isCircular:isCircular withOperatorID:idOperator withCompanyID:companyID withVersion:version];\n        latestLineOpID = idOperator;\n        [currentLine setCicID:cicID];\n        [currentLine setOperatorID:operatorID];\n        lineWithOwnStops = (idOperator == suboperatorid);\n        itemcount++;\n        progress = itemcount/totalItems;\n        updateaction(progress);\n    }\n</code></pre>\n\n<p>The XML File data is like this:</p>\n\n<pre><code>&lt;Network CountiesNumber=\"0\" ContactsNumber=\"2\" LinesNumber=\"326\" StopsNumber=\"3161\" ZonesNumber=\"2866\"&gt;\n    &lt;Zones&gt;\n        &lt;OperatorZone Name=\"Cavadas (R 25 Abril, 60) Caf\u00e9 O Renascer\" Id=\"20274\" /&gt;\n    &lt;/Zones&gt;\n    &lt;Stops&gt;\n        &lt;Stop Id=\"108591\" Name=\"Set\u00fabal (Av\u00aa 22 Dezembro, 25)\" CodName=\"2\" IdZona=\"22793\" CoordXX=\"-8.89310700\" CoordYY=\"38.52755000\" Observation=\"\" /&gt;\n    &lt;/Stops&gt;\n    &lt;Lines&gt;\n        &lt;Line ReturnLineName=\"Cacilhas - Cristo Rei\" LineName=\"Cristo Rei - Cacilhas\" IsCircular=\"false\" CompanyId=\"101\" IdOperator=\"84\" Id=\"16344\" Version=\"05-08-2019 00:00:00\"&gt;\n            &lt;StopLines&gt;\n                &lt;StopLine StopName=\"0\" OrderPath_I=\"1\" OrderPath_V=\"0\" ZoneId=\"20435\" Id=\"56356194\" IdStop=\"109346\" /&gt;\n                &lt;StopLine StopName=\"0\" OrderPath_I=\"2\" OrderPath_V=\"0\" ZoneId=\"20423\" Id=\"56356195\" IdStop=\"109838\" /&gt;\n            &lt;/StopLines&gt;\n        &lt;/Line&gt;\n    &lt;/Lines&gt;\n&lt;/Network&gt;\n</code></pre>\n\n<p>EDIT - Example Database Method:</p>\n\n<pre><code>+ (Stop *)createStop:(int)id withName:(NSString*)name withCodName:(NSString *)codName\nwithIdZona:(int)idZona\nwithIdDistrito:(int)idDistrito\nwithIdConcelho:(int)idConcelho\nwithIdFreguesia:(int)idFreguesia\nwithLatitude:(double)latitude\nwithLongitude:(double)longitude\nwithObservations:(NSString *)observations\nwithOperatorZone:(OperatorZone *)operator\n{\n    Stop * stop = [Stop MR_createEntity];\n    stop.ownStop = false;\n    stop.name = name;\n    stop.codName = codName;\n    stop.idZona = [NSNumber numberWithInt:idZona];\n    stop.idDistrito = [NSNumber numberWithInt:idDistrito];\n    stop.idConcelho = [NSNumber numberWithInt:idConcelho];\n    stop.idFreguesia = [NSNumber numberWithInt:idFreguesia];\n    stop.id = [NSNumber numberWithInt:id];\n    stop.latitude = [NSNumber numberWithDouble:latitude];\n    stop.longitude = [NSNumber numberWithDouble:longitude];\n\n    if (idDistrito != 0){\n        NSLog(@\"bla bla bla\");\n    }\n    stop.distrito = [Distrito MR_findFirstByAttribute:@\"id\" withValue:[NSNumber numberWithInt:idDistrito]];\n    stop.concelho = [Concelho MR_findFirstByAttribute:@\"id\" withValue:[NSNumber numberWithInt:idConcelho]];\n    stop.freguesia = [Freguesia MR_findFirstByAttribute:@\"id\" withValue:[NSNumber numberWithInt:idFreguesia]];\n\n    stop.operatorzone = operator;\n    //ac    [[stop managedObjectContext] MR_saveToPersistentStoreAndWait];\n    //    NSLog(@\"Stop %d - %@ saved\", [stop.id intValue], stop.name);\n    return stop;\n}\n</code></pre>\n\n<p>Theres also an example of a parser that this most likely looks as mine:\n<a href=\"https://gist.github.com/xslim/1020767\" rel=\"nofollow noreferrer\">https://gist.github.com/xslim/1020767</a></p>\n\n<p>Difference is, that hes using <code>NSEntityDescription insertNewObjectForEntityForName:</code> and I'm using <code>MR_createEntity</code></p>\n"}, {"tags": ["ios", "objective-c", "rotation"], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "edited": false, "score": 0, "creation_date": 1566294073, "post_id": 57569634, "comment_id": 101602099, "body": "I understand that. How to over come this scenario."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "edited": false, "score": 1, "creation_date": 1566298448, "post_id": 57569634, "comment_id": 101604470, "body": "If you understand it I don\u2019t see what the question is."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": -1, "last_activity_date": 1566289965, "creation_date": 1566289965, "answer_id": 57569634, "question_id": 57569244, "link": "https://stackoverflow.com/questions/57569244/zooming-is-missing-after-rotating-the-image/57569634#57569634", "title": "Zooming is missing after rotating the image", "body": "<p>What is zooming? It is a transform. That\u2019s all it is. </p>\n\n<p>So your code comes along and rips out that transform and replaces it with a different transform. </p>\n\n<pre><code>// subView has zoom transform    \nsubView.transform = CGAffineTransformMakeRotation(slider.value * 2*M_PI / slider.maximumValue);\n// zoom transform overwritten \n</code></pre>\n\n<p>So you have wiped out the zoom. </p>\n"}], "owner": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566298497, "creation_date": 1566288465, "last_edit_date": 1566298497, "question_id": 57569244, "link": "https://stackoverflow.com/questions/57569244/zooming-is-missing-after-rotating-the-image", "title": "Zooming is missing after rotating the image", "body": "<p>I used pinch gesture for zooming. It's working fine. Using slider I am rotating that image. Rotation is also working perfect.\nThe problem after zooming, if I rotate the image, the zoom effect is missing. Here is the code I used for rotation </p>\n\n<pre><code>subView.transform = CGAffineTransformMakeRotation(slider.value * 2*M_PI / slider.maximumValue);\n</code></pre>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c", "bitmap", "bit-manipulation"], "comments": [{"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "reply_to_user": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "edited": false, "score": 0, "creation_date": 1566508366, "post_id": 57566754, "comment_id": 101689070, "body": "@Codo by the way, when I try to assign a value to <code>userPayload</code> via  <code>response.userPayload = packet-&gt;userPayload; </code> I get error <code>Array type &#39;UInt8 [15]&#39; is not assignable</code>, still occurs even if assigned value isn&#39;t from original packet."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "reply_to_user": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "edited": false, "score": 0, "creation_date": 1566509100, "post_id": 57566754, "comment_id": 101689323, "body": "@Codo Id like to try this but not all values are <code>UInt8</code>. <code>const unsigned char responseData[] = {         packet-&gt;pktNo, packet-&gt;ctrlCmd, packet-&gt;txPowerRequest     };</code>"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566358409, "post_id": 57567756, "comment_id": 101626690, "body": "Hi, I managed to receive requests from the Central, and print values to the console. I&#39;d like to implement what I&#39;ve learned from your answer but integer literals are too large to assign to a data type in playgrounds. The <code>integer literal overflows when stored in an int</code>. Here as an example of data: <code>did send write request &#39;&lt;07c10850 04c1abf7 39b4b36c ad9627f8 dc66004c&gt;</code>. How can I work with this?"}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566358783, "post_id": 57567756, "comment_id": 101626730, "body": "Also, regarding your original answer, Im uncertain why to subtract <code>6</code> from <code>packet length</code>,  set 5 to <code>userPayloadLength</code>, and add <code>6</code> again to <code>value</code> length. Where are these numbers derived from? As you may notice wrangling bits is new for me so any resources to dive deep into this would also be appreciated."}, {"owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566370207, "post_id": 57567756, "comment_id": 101629728, "body": "6 is the length of the fixed part of the packet and therefore the offset to the start of the variable part. So the overall length is always 6 plus the length of the variable part. 5 is just an example. n - 6 is used to derive the variable part length from the overall length. n + 6 is used to dervie the overall length from the variable part length."}, {"owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566370313, "post_id": 57567756, "comment_id": 101629777, "body": "<i>Playground</i> is Swift only, right? So you are suddenly talking about different code. You better open a new question and add the relevant code."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566393053, "post_id": 57567756, "comment_id": 101642185, "body": "No, same code. Was going to convert to swift for playgrounds so I don\u2019t have to re-run the app while testing. That should be possible. When I assign data from example to a variable it overflows. Perhaps I should be treating it as a hex string and define like \u201c0x7c1085004c1ab.....\u201d I know if i use value straight from \u2018request.value\u2019 this problem doesn\u2019t arise."}, {"owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "reply_to_user": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566394039, "post_id": 57567756, "comment_id": 101642878, "body": "The <i>struct</i> will not work in Swift. The code must be considerably different. I have to see it to understand to problem. So open a new questions as it makes no sense to put the code into comments or massively edit the question."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566395813, "post_id": 57567756, "comment_id": 101644126, "body": "Youre right. Im basically trying to convert mock data <code>&lt;07c10850 04c1abf7 39b4b36c ad9627f8 dc66004c&gt;</code> to <code>NSData</code>, as if it was retrieved directly from write request via <code>request.value</code>."}, {"owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "edited": false, "score": 0, "creation_date": 1566416328, "post_id": 57567756, "comment_id": 101653630, "body": "Codo, thanks for helping thus far, I made some modifications to your answer and edited my question to reflect that. Im still Unsure how to work with values like  &#39;\\xc1&#39;, and uuid appears to be incorrect as well. any help here appreciated."}], "tags": [], "owner": {"reputation": 64505, "user_id": 413337, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/783783f968e84cf5047544e9a0f3ccf4?s=128&d=identicon&r=PG", "display_name": "Codo", "link": "https://stackoverflow.com/users/413337/codo"}, "is_accepted": true, "score": 1, "last_activity_date": 1566282366, "creation_date": 1566282366, "answer_id": 57567756, "question_id": 57566754, "link": "https://stackoverflow.com/questions/57566754/unpack-byte-array-from-ble-packet/57567756#57567756", "title": "Unpack byte array from BLE packet", "body": "<p>When you receive the data, it's probably in a <code>CBATTRequest</code>. The data is contained in a member <code>value</code> of type <code>NSData</code>. The member <code>length</code> tells the length in bytes/octects.</p>\n\n<pre><code>CBATTRequest* request = ...;\nNSData* value = request.value;\nint packetLen = value.length;\n</code></pre>\n\n<p>It then makes sense to cast this to a <code>struct</code> that corresponds to the structure of the packet:</p>\n\n<pre><code>struct Packet {\n    unsgined char pktNo;\n    unsigned char ctrlCmd;\n    unsigned char txPowerRequest;\n    unsigned char uuid[2];\n    unsigned char txCnt;\n    unsigned char userPayload[14];\n};\n\nPacket* packet= (Packet)value.bytes;\n</code></pre>\n\n<p>Note that packet is of variable length. So only part of the <code>userPayload</code> is valid. The valid length is:</p>\n\n<pre><code>int userPayloadLength = packetLen - 6;\n</code></pre>\n\n<p>Now you can easily access the members:</p>\n\n<pre><code>int packetNumber = packet-&gt;pktNo;\n</code></pre>\n\n<p>To construct a similar packet, you would approach is slightly similarly. </p>\n\n<pre><code>Packet reponse;\nresponse.pktNo = ...;\nreponse.ctrlCmd = ...;\nint userPayloadLength = 5;\nNSData* value = [NSData dataWithBytes: &amp;response length: userPayloadLength + 6];\n</code></pre>\n\n<blockquote>\n  <p>Bit 4 to 0 set to 0x01 for..</p>\n</blockquote>\n\n<p>This most likely is relative to a single octect, e.g. to <code>ctrlCmd</code>. To test it:</p>\n\n<pre><code>if (((packet-&gt;ctrlCmd &gt;&gt; 0) &amp; 0x1f) == 0x01) ...\n</code></pre>\n\n<p><code>0x1f</code> is the bit mask for 5 consecutive bits set (bit 0 to 5). <code>&gt;&gt; 0</code> doesn't do anything but would be required if the bits were shifted, e.g. for bit 2 to 5 you would need to shift by 2.</p>\n\n<p>A typical UUID is 16 bytes long. So I assume <em>byte index 13 &amp; 12</em> refers to bytes 12 and 13 within a 16 byte UUID (as only two bytes are transmitted). The remaining bytes are probably fixed to the base Bluetooth UUID:</p>\n\n<pre><code>00000000-0000-1000-8000-00805F9B34FB\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 9566854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f33b0d6853219449e63d61fd8f85e0ce?s=128&d=identicon&r=PG&f=1", "display_name": "AnonProgrammer", "link": "https://stackoverflow.com/users/9566854/anonprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 57567756, "answer_count": 1, "score": 0, "last_activity_date": 1566455516, "creation_date": 1566275469, "last_edit_date": 1566455516, "question_id": 57566754, "link": "https://stackoverflow.com/questions/57566754/unpack-byte-array-from-ble-packet", "title": "Unpack byte array from BLE packet", "body": "<p>Im developing an app using <code>BLE</code> where iPhone device is the <code>peripheral</code>, and will respond to write requests of type <code>CBATTRequest</code> from the <code>Central</code>. </p>\n\n<p>My take is that this represents a byte array from value of <code>CBATTRequest</code> via <code>request.value</code> of type <code>NSData</code> that I can unpack to read <code>packet #</code> etc. <strong>Given the size (octets) and position of each field, how can I unpack and read each value, <code>conceptually</code> and <code>technically</code>?</strong>. And <strong>how would I go about constructing/packing this same byte array as if I was preparing to send this request?</strong> Since I will have to pack data in the same manner for the response. </p>\n"}, {"tags": ["objective-c", "firebase", "firebase-storage"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11799582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lb_Q6GTzjos/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpgs_pZydd7AjHgPhU9Y7VLOjChw/photo.jpg?sz=128", "display_name": "Charlie Vrattos", "link": "https://stackoverflow.com/users/11799582/charlie-vrattos"}, "is_accepted": false, "score": 0, "last_activity_date": 1566244917, "creation_date": 1566244917, "answer_id": 57563236, "question_id": 57562775, "link": "https://stackoverflow.com/questions/57562775/nsinternalinconsistencyexception-when-trying-to-list-files-in-firebase-storage-b/57563236#57563236", "title": "NSInternalInconsistencyException when trying to list files in Firebase storage bucket", "body": "<p>It seemed to me like you can't actually query all of the files in a bucket so I created a folder inside of the bucket and saved my files in this folder and they could be queried there.</p>\n"}], "owner": {"reputation": 1, "user_id": 11799582, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lb_Q6GTzjos/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcpgs_pZydd7AjHgPhU9Y7VLOjChw/photo.jpg?sz=128", "display_name": "Charlie Vrattos", "link": "https://stackoverflow.com/users/11799582/charlie-vrattos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566271378, "creation_date": 1566242568, "last_edit_date": 1566271378, "question_id": 57562775, "link": "https://stackoverflow.com/questions/57562775/nsinternalinconsistencyexception-when-trying-to-list-files-in-firebase-storage-b", "title": "NSInternalInconsistencyException when trying to list files in Firebase storage bucket", "body": "<p>I am trying to get a list of all of the objects in my firebase storage bucket using the following code:</p>\n\n<pre><code>[listingReference listWithMaxResults:1000 completion:^(FIRStorageListResult * _Nonnull result, NSError * _Nullable error) {\n        if(error != nil){\n            NSLog(@\"Error listing files\");\n            NSLog(@\"%@\", error);\n        } else {\n            NSArray&lt;FIRStorageReference *&gt; *entries = result.prefixes;\n            NSArray&lt;FIRStorageReference *&gt; *entryItems = result.items;\n            NSLog(@\"List folder complete\");\n            NSLog(@\"%@\", entries);\n            NSLog(@\"%@\", entryItems);\n        }\n    }];\n</code></pre>\n\n<p>However, when I run the code I get the following error:</p>\n\n<p>Terminating app due to uncaught exception: </p>\n\n<blockquote>\n  <p>NSInternalInconsistencyException', reason: 'Expected gs://bucketname1/ to be a child element of gs://bucketname1/testfile</p>\n</blockquote>\n\n<p>I have checked my <code>listingReference</code> by printing out the file path and it outputs <code>gs://bucketname1/</code> which I think is correct because I want to list all files in the bucket. Is there something that I'm doing wrong?</p>\n"}, {"tags": ["c#", "objective-c", "xamarin", "objective-sharpie"], "comments": [{"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1566271402, "post_id": 57560168, "comment_id": 101593781, "body": "<code>+ (BBDeviceController *)sharedController;</code> This is a class method, can not get a instance from it."}, {"owner": {"reputation": 229, "user_id": 5094136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTFE5.png?s=128&g=1", "display_name": "rgahan", "link": "https://stackoverflow.com/users/5094136/rgahan"}, "reply_to_user": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1566306086, "post_id": 57560168, "comment_id": 101608822, "body": "@JuniorJiang-MSFT How do I solve this? Do I change something in APIDefinition.cs, or is it an issue with the original library?"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5094136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTFE5.png?s=128&g=1", "display_name": "rgahan", "link": "https://stackoverflow.com/users/5094136/rgahan"}, "edited": false, "score": 0, "creation_date": 1566394371, "post_id": 57588037, "comment_id": 101643121, "body": "Unfortunately, you have to be authenticated to view the documentation. It&#39;s for <a href=\"https://developer.bbpos.com\" rel=\"nofollow noreferrer\">BBPOS</a>, but you have to have an account to view anything."}], "tags": [], "owner": {"reputation": 31, "user_id": 1871523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349745b639a02c84ade2758b684c2481?s=128&d=identicon&r=PG", "display_name": "SilverArrow", "link": "https://stackoverflow.com/users/1871523/silverarrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1566378084, "creation_date": 1566378084, "answer_id": 57588037, "question_id": 57560168, "link": "https://stackoverflow.com/questions/57560168/static-property-not-instantiated-in-class-from-binding/57588037#57588037", "title": "Static property not instantiated in class from binding", "body": "<p>When I do something like this, it's for a singleton class.\n<a href=\"https://www.galloway.me.uk/tutorials/singleton-classes/\" rel=\"nofollow noreferrer\">https://www.galloway.me.uk/tutorials/singleton-classes/</a></p>\n\n<p>so your sharedController method, should either allocate your BBDeviceController or get it somewhere. Also, if you can share the library link so we are on the same page.</p>\n"}, {"tags": [], "owner": {"reputation": 1583, "user_id": 3708323, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Z3uza.jpg?s=128&g=1", "display_name": "tarrball", "link": "https://stackoverflow.com/users/3708323/tarrball"}, "is_accepted": true, "score": 1, "last_activity_date": 1574775833, "last_edit_date": 1592644375, "creation_date": 1574640413, "answer_id": 59023662, "question_id": 57560168, "link": "https://stackoverflow.com/questions/57560168/static-property-not-instantiated-in-class-from-binding/59023662#59023662", "title": "Static property not instantiated in class from binding", "body": "<p>I'm not sure what your exact issue is (it could be it's not linking correctly, it could be the plist settings aren't right, etc) but I have successfully done this with the latest SDK (v3.7.2 as of writing). Here are the steps:</p>\n<h3>1. Use the following <code>sharpie</code> command to make the bindings:</h3>\n<p><code>sharpie bind --output=. --namespace=WisePad2Binding --sdk=iphoneos13.2 --scope=&lt;path-to-sdk&gt;/BBDevice-iOS-SDK-3.7.2/Library &lt;path-to-sdk&gt;/BBDevice-iOS-SDK-3.7.2/Library/BBDeviceController.h</code></p>\n<h3>2. Remove the <code>[Verify]</code> tags</h3>\n<p>I went ahead and changed back all the methods changed to properties that were marked by <code>[Verify]</code> just to leave less up to chance.</p>\n<h3>3. Add the libraries to your binding project</h3>\n<p>In the binding product, I didn't use the &quot;Native References&quot; folder (well, I tried initially and it did not work). Apparently the &quot;old&quot; way of making a binding project was to just drag the library onto the project root. When you do this, each library gets a <code>.linkwith.cs</code> attached to it (more on that in a sec). The libraries I added were:</p>\n<ul>\n<li>libBBDevice-iOS-AudioAndBT-3.7.2.a</li>\n<li>libBBDevice-iOS-AudioAndBT-3.7.2-simulator.a</li>\n<li>libBBDeviceOTA-iOS-1.5.4.a</li>\n<li>libBBDeviceOTA-iOS-1.5.4-simulator.a</li>\n</ul>\n<p>Then in each <code>.linkwith.cs</code> file change the assembly attribute to be...</p>\n<p><code>[assembly: LinkWith (&quot;&lt;library-name&gt;.a&quot;, SmartLink = true, ForceLoad = true, Frameworks = &quot;AudioToolbox AVFoundation CoreAudio CoreBluetooth CoreGraphics CoreFoundation CoreLocation ExternalAccessory Foundation MediaPlayer MessageUI QuartzCore SystemConfiguration UIKit&quot;, LinkerFlags = &quot;-lc++ -lz -ObjC&quot;)]</code></p>\n<h3>4. Update your plist</h3>\n<p>Make sure you have all the stuff they list <a href=\"https://developer.bbpos.com/docs/sdk/bbdevice/integration-guide/getting-started/ios-macos/\" rel=\"nofollow noreferrer\">here</a> added to your plist or stuff will not work right.</p>\n<h3>5. Tips</h3>\n<p>I couldn't get things to work correctly if I didn't do some (all?) things on the main thread, so I just perform all actions on the main thread. Also, don't set the delegate on the shared controller without calling <code>BBDeviceController.SharedController.ReleaseBBDeviceController()</code> (if you had a delegate previously set on there). My thoughts and prayers go out to anybody else trying to use this SDK with Xamarin.</p>\n"}], "owner": {"reputation": 229, "user_id": 5094136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bTFE5.png?s=128&g=1", "display_name": "rgahan", "link": "https://stackoverflow.com/users/5094136/rgahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 1, "accepted_answer_id": 59023662, "answer_count": 2, "score": 2, "last_activity_date": 1574775833, "creation_date": 1566229968, "question_id": 57560168, "link": "https://stackoverflow.com/questions/57560168/static-property-not-instantiated-in-class-from-binding", "title": "Static property not instantiated in class from binding", "body": "<p>When I access static property <code>SharedController</code>, the value is null, but the API Definition generated by Objective Sharpie only provides a getter.</p>\n\n<p><code>BBDeviceController</code> is instantiated, but the <code>SharedController</code> property on it is null. Because it only has a getter, I do not believe I am able to instantiate the property in code. From what I can tell, <code>SharedController</code> is not being initialized in <code>BBDeviceController</code>'s constructor. I am unsure if <code>BBDeviceController</code> is a static class or just follows the singleton design pattern, but either way, newing up that class is not the solution.</p>\n\n<p>BBDeviceController.h</p>\n\n<pre><code>@interface BBDeviceController : NSObject {\n    NSObject &lt;BBDeviceControllerDelegate&gt;* delegate;\n\n    BOOL debugLogEnabled;\n    BOOL detectAudioDevicePlugged;\n}\n\n@property (nonatomic, weak) NSObject &lt;BBDeviceControllerDelegate&gt;* delegate;\n@property (nonatomic, getter=isDebugLogEnabled, setter=setDebugLogEnabled:) BOOL debugLogEnabled;\n@property (nonatomic, getter=isDetectAudioDevicePlugged, setter=setDetectAudioDevicePlugged:) BOOL detectAudioDevicePlugged;\n\n+ (BBDeviceController *)sharedController;\n</code></pre>\n\n<p>Resulting API Definition (<code>APIDefinition.cs</code>)</p>\n\n<pre><code>[BaseType(typeof(NSObject))]\n[Protocol]\ninterface BBDeviceController\n{\n    ...\n    // +(BBDeviceController *)sharedController;\n    [Static]\n    [Export(\"sharedController\")]\n    BBDeviceController SharedController { get; }\n    ...\n}\n</code></pre>\n\n<p>Call from project's view controller</p>\n\n<pre><code>public BBDeviceController bbDeviceController;\npublic override void ViewDidLoad()\n{\n    base.ViewDidLoad();\n    bbDeviceController = BBDeviceController.SharedController;\n    ConnectDevice();\n}\n\nprivate void ConnectDevice()\n{\n    bbDeviceController.StartBTScan(new string[] { DEVICE_NAME }, 60);\n}\n</code></pre>\n\n<p>From the documentation for the objective C library, you use <code>sharedController</code> like this:</p>\n\n<p><code>[[BBDeviceController sharedController] setDelegate:self];</code></p>\n\n<p>When trying to do the C# equivalent, I get an error because <code>SharedController</code> is null.\nSomething else that may be of interest is that the <code>SharedController</code> definition in the resulting API Definitions file was flagged with <code>[Verify(MethodToProperty)]</code>, and I manually had to add <code>[Static]</code> in order to access it from code.</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 337, "user_id": 11842068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8d292bbdb0b6017f0fe63a5e23ad4f?s=128&d=identicon&r=PG&f=1", "display_name": "Funnycuni", "link": "https://stackoverflow.com/users/11842068/funnycuni"}, "edited": false, "score": 0, "creation_date": 1566216597, "post_id": 57556405, "comment_id": 101574564, "body": "You should visit this page: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5730, "user_id": 2640210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n03sb.jpg?s=128&g=1", "display_name": "The Mach System", "link": "https://stackoverflow.com/users/2640210/the-mach-system"}, "is_accepted": false, "score": 1, "last_activity_date": 1566266385, "creation_date": 1566266385, "answer_id": 57565801, "question_id": 57556405, "link": "https://stackoverflow.com/questions/57556405/load-request-url-in-uiwebview-of-viewcontroller-from-another-viewcontroller-navb/57565801#57565801", "title": "Load Request url in UIWebView of viewcontroller from another viewcontroller navbar", "body": "<p>Problem lies in this code:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] postNotificationName:@\"Notification\" object:self];\n[self performSegueWithIdentifier:@\"toURL\" sender:self];\n</code></pre>\n\n<p>You post a notification before ViewController is even initialised.\nI can't see you are making any use of NSNotification in your code whatsoever.\nSo if you just want the ViewController to loads a url when opened up then you can just simply do this.</p>\n\n<pre><code>- (void)viewDidLoad {\n   [super viewDidLoad];\n   [self loadUrl];\n}\n- (void)loadUrl\n{\n       progressBar.progress = 0;\n       progressBar.hidden = false;\n       NSString *urlString = [[NSUserDefaults standardUserDefaults]stringForKey:@\"urlSearch\"];\n       urlString = [urlString stringByAddingPercentEscapesUsingEncoding:NSISOLatin1StringEncoding];\n       NSURL *url = [NSURL URLWithString:urlString];\n       [webLoad loadRequest:[NSURLRequest requestWithURL:url]];\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1871523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349745b639a02c84ade2758b684c2481?s=128&d=identicon&r=PG", "display_name": "SilverArrow", "link": "https://stackoverflow.com/users/1871523/silverarrow"}, "is_accepted": false, "score": 0, "last_activity_date": 1566379268, "creation_date": 1566379268, "answer_id": 57588390, "question_id": 57556405, "link": "https://stackoverflow.com/questions/57556405/load-request-url-in-uiwebview-of-viewcontroller-from-another-viewcontroller-navb/57588390#57588390", "title": "Load Request url in UIWebView of viewcontroller from another viewcontroller navbar", "body": "<p>I suggest you declare a property on your ViewController, i.e.</p>\n\n<pre><code>@property (nonatomic, strong) NSString *urlString;\n</code></pre>\n\n<p>Then pass it on prepare segue as mentioned <a href=\"https://stackoverflow.com/a/7865100/1871523\">here</a>.</p>\n\n<p>i.e.</p>\n\n<pre><code>if ([[segue identifier] isEqualToString:@\"ViewControllerSegue\"]) {\nViewController *vc = [segue destinationViewController];\nvc.urlString = @\u201cyourURL\u201d; }\n</code></pre>\n\n<p>Then modify your loadURL to accept string, like so :</p>\n\n<pre><code> - (void)viewDidLoad {\n   [super viewDidLoad];\n   [self loadUrl:urlString];\n}\n\n- (void)loadUrl:(String *)urlString\n{\n       progressBar.progress = 0;\n       progressBar.hidden = false;\n       NSString *encodedString = [urlString stringByAddingPercentEscapesUsingEncoding:NSISOLatin1StringEncoding];\n       NSURL *url = [NSURL URLWithString:encodedString];\n       [webLoad loadRequest:[NSURLRequest requestWithURL:url]];\n\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11946466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b71931818cdc8271bff71391963a2b?s=128&d=identicon&r=PG&f=1", "display_name": "ioscode", "link": "https://stackoverflow.com/users/11946466/ioscode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566379268, "creation_date": 1566216398, "last_edit_date": 1566221090, "question_id": 57556405, "link": "https://stackoverflow.com/questions/57556405/load-request-url-in-uiwebview-of-viewcontroller-from-another-viewcontroller-navb", "title": "Load Request url in UIWebView of viewcontroller from another viewcontroller navbar", "body": "<p>Im trying to</p>\n\n<pre><code>[webLoad loadRequest:[NSURLRequest requestWithURL:url]];\n</code></pre>\n\n<p>in a ViewController when clicked from AnotherViewController's</p>\n\n<pre><code>- (IBAction)actionClick:(id)sender { }\n</code></pre>\n\n<p>navigation icon.</p>\n\n<p>i used below code, but its not working</p>\n\n<pre><code>=========================AnotherViewController============================\n\n- (IBAction)actionClick:(id)sender {\n    [[NSNotificationCenter defaultCenter] postNotificationName:@\"Notification\" object:self];\n    [self performSegueWithIdentifier:@\"toURL\" sender:self];\n}\n\n=============================ViewController============================\n\n    - (void)viewDidLoad {\n          [[NSNotificationCenter defaultCenter] addObserver:self                                       \n              selector:@selector(Notification:)\n              name:@\"Notification\"\n              object:nil];\n    }\n- (void) Notification:(NSNotification *) notification\n{\n\n       progressBar.progress = 0;\n       progressBar.hidden = false;\n       NSString *urlString = [[NSUserDefaults standardUserDefaults]stringForKey:@\"urlSearch\"];\n       urlString = [urlString stringByAddingPercentEscapesUsingEncoding:NSISOLatin1StringEncoding];\n       NSURL *url = [NSURL URLWithString:urlString];\n       [webLoad loadRequest:[NSURLRequest requestWithURL:url]];\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "app-store"], "answers": [{"tags": [], "owner": {"reputation": 2725, "user_id": 3145189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3b7992b5e5cbf3d0e7587f00f1bae5fa?s=128&d=identicon&r=PG&f=1", "display_name": "CMS Signage", "link": "https://stackoverflow.com/users/3145189/cms-signage"}, "is_accepted": true, "score": 1, "last_activity_date": 1566362692, "creation_date": 1566362692, "answer_id": 57584566, "question_id": 57555775, "link": "https://stackoverflow.com/questions/57555775/open-app-is-shown-instead-of-update-app-in-app-store-when-i-opened-app-store-via/57584566#57584566", "title": "Open App is shown instead of Update App in App Store when I opened App Store via my App", "body": "<p>Appstore App, has tabs one tab is dedicated for showing update available for apps installed on iPhone/iPad.</p>\n\n<p>it is not possible to navigate user to update tab, in past I have tried similar but seems not possible.</p>\n\n<p>swift converted - </p>\n\n<pre><code>let urlStr = \"itms://itunes.apple.com/qa/app/my-App/id1135248687?mt=8\"\nif #available(iOS 10.0, *) {\n}\ndo {\n    UIApplication.shared.open(URL(string:urlStr)\n    , options\n    , completionHandler\n    nil\n\n}\ndo {\n    UIApplication.shared.openURL(URL(string:urlStr)\n}\n</code></pre>\n\n<p><a href=\"https://objectivec2swift.com/\" rel=\"nofollow noreferrer\">converted using online tool</a></p>\n\n<p><strong>Disclaimer</strong> I am not associated with above mention product, I have just used it and finds ok, hence recommending </p>\n"}, {"tags": [], "owner": {"reputation": 521, "user_id": 5014903, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Kac-zopwAfQ/AAAAAAAAAAI/AAAAAAAALwM/E--bC97RH64/photo.jpg?sz=128", "display_name": "Jakab Robert", "link": "https://stackoverflow.com/users/5014903/jakab-robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1566571504, "creation_date": 1566571504, "answer_id": 57628533, "question_id": 57555775, "link": "https://stackoverflow.com/questions/57555775/open-app-is-shown-instead-of-update-app-in-app-store-when-i-opened-app-store-via/57628533#57628533", "title": "Open App is shown instead of Update App in App Store when I opened App Store via my App", "body": "<p>ObjC code:</p>\n\n<pre><code>     NSURL * urlStr = [NSURL URLWithString:@\"itms://itunes.apple.com/qa/app/my-App/id1135248687?mt=8\"];\n\n     if(@available(iOS 10.0,*)){\n\n         [[UIApplication sharedApplication] openURL:urlStr options:@{} completionHandler:nil];\n\n     }else {\n\n         [[UIApplication sharedApplication] openURL:urlStr];\n     }\n</code></pre>\n\n<p>As for the update button problem check your link as it may be pointing to a different location. </p>\n\n<p>In your case it should look something like this: </p>\n\n<p>@\"itms://itunes.apple.com/app/apple-store/id1135248687?mt=8\"</p>\n"}], "owner": {"reputation": 77, "user_id": 6805178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/298e0f7a9d6971e2fdb066e95f6c17f3?s=128&d=identicon&r=PG&f=1", "display_name": "Naqi", "link": "https://stackoverflow.com/users/6805178/naqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57584566, "answer_count": 2, "score": 1, "last_activity_date": 1566571504, "creation_date": 1566213872, "last_edit_date": 1566215289, "question_id": 57555775, "link": "https://stackoverflow.com/questions/57555775/open-app-is-shown-instead-of-update-app-in-app-store-when-i-opened-app-store-via", "title": "Open App is shown instead of Update App in App Store when I opened App Store via my App", "body": "<p>I have implemented functionality in my App to open it in App Store via iTune Link of my App. The issue that I am facing is that whenever my App is updated on App Store and I go to it by clicking the update button inside my App, the open button appeared in App Store instead of the Update button.\nWhen I go to App Store and find my App then it displays the update button but now when I go via my App.</p>\n\n<p>(On Update button click I am doing this)</p>\n\n<pre><code>\n    NSString *iTunesLink = @\"itms://itunes.apple.com/qa/app/my-App/id1123444387?mt=8\";\n    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:iTunesLink]]; \n\n</code></pre>\n\n<p>Does anyone know what might be causing this issue? Any kind of help would be greatly appreciated. Thanks</p>\n\n<p>Also \nI wanted to convert this swift code to objective c.</p>\n\n<pre><code>let urlStr = \"itms://itunes.apple.com/qa/app/my-App/id1135248687?mt=8\"\nif #available(iOS 10.0, *) {\nUIApplication.shared.open(URL(string: urlStr)!, options: [:], completionHandler: nil)\n\n} else {\nUIApplication.shared.openURL(URL(string: urlStr)!)\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "nsdictionary"], "comments": [{"owner": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1566212842, "post_id": 57555444, "comment_id": 101572705, "body": "Have you tried to profile the code with Instruments (Time Profiler)? \u2013 A similar observation was made here: <a href=\"https://stackoverflow.com/q/46833459\">stackoverflow.com/q/46833459</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1566489442, "last_edit_date": 1566489442, "creation_date": 1566423732, "answer_id": 57599469, "question_id": 57555444, "link": "https://stackoverflow.com/questions/57555444/accessing-object-c-nsdictionary-values-in-swift-is-slow/57599469#57599469", "title": "Accessing object-c NSDictionary values in Swift is slow", "body": "<p>the problem seems to be that in your first version the whole dictionary is converted to a swift dictionary, in each iteration of the loop.</p>\n\n<p>The code behaves like this:</p>\n\n<pre><code>for(var car in allCarsInTheWorld) {\n  let car_parts = car.parts as [String: Part] // This is super slow.\n  let part = car_parts[\"partidstring\"] \n}\n</code></pre>\n\n<p>This is a kind of misfeature of how Swift bridging works here. It would be much faster if the Swift compiler would just call the Objective C method <code>-objectForKeyedSubscript:</code>.</p>\n\n<p>Until that happens, implementing a custom objc method like <code>-partFor:</code> is a good solution if you care for performance.</p>\n"}, {"comments": [{"owner": {"reputation": 2708, "user_id": 148325, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/888d5c24759f592e20e1f0c937e1ddba?s=128&d=identicon&r=PG", "display_name": "Craigt", "link": "https://stackoverflow.com/users/148325/craigt"}, "edited": false, "score": 0, "creation_date": 1566809928, "post_id": 57649674, "comment_id": 101759322, "body": "Thank you for this explanation. So simple and makes total sense. I learned something new :)"}], "tags": [], "owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "is_accepted": true, "score": 1, "last_activity_date": 1566766769, "creation_date": 1566766769, "answer_id": 57649674, "question_id": 57555444, "link": "https://stackoverflow.com/questions/57555444/accessing-object-c-nsdictionary-values-in-swift-is-slow/57649674#57649674", "title": "Accessing object-c NSDictionary values in Swift is slow", "body": "<p>A part of the problem is that bridging <code>NSDictionary&lt;NSString *, Part *&gt;</code> to <code>[String: Part]</code> involves runtime checks for all keys and values of the dictionary. This is needed because the Objective-C generics arguments for <code>NSDictionary</code> don't guarantee that the dictionary won't held incompatible keys/values (for example Objective-C code could add non-string keys or non-Part values to the dictionary). And for large amounts of dictionaries this can become time consuming.</p>\n\n<p>Another aspect is that Swift will also likely create a corresponding dictionary to make it immutable, since the Objective-C one might as well be a `NSMutableDictionary'. This involves extra allocations and deallocations.</p>\n\n<p>Your approach of adding a <code>partFor()</code> function avoids the above two by keeping the dictionary hidden from the Swift world. And it's also better architecturally speaking, as you are hiding the implementation details for the storage of the car parts (assuming you also make the dictionary private).</p>\n"}], "owner": {"reputation": 2708, "user_id": 148325, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/888d5c24759f592e20e1f0c937e1ddba?s=128&d=identicon&r=PG", "display_name": "Craigt", "link": "https://stackoverflow.com/users/148325/craigt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 57649674, "answer_count": 2, "score": 1, "last_activity_date": 1566766769, "creation_date": 1566212562, "last_edit_date": 1566221850, "question_id": 57555444, "link": "https://stackoverflow.com/questions/57555444/accessing-object-c-nsdictionary-values-in-swift-is-slow", "title": "Accessing object-c NSDictionary values in Swift is slow", "body": "<p>I've encountered a performance issue bridging between swift and objective-c. I'm trying to fully understand whats going on behind the scenes so that I can avoid it in the future. </p>\n\n<p>I have an objc type <code>Car</code></p>\n\n<pre><code>@interface Car \n  @property (nonatomic,readonly) NSDictionary&lt;NSString *, Part *&gt; *parts;\n@end\n</code></pre>\n\n<p>Then in swift I enumerate over a huge amount of <code>Car</code> objects and look up a <code>Part</code> from each cars <code>parts</code> dictionary.</p>\n\n<pre><code>for(var car in allCarsInTheWorld) {\n  let part = car.parts[\"partidstring\"] //This is super slow. \n}\n</code></pre>\n\n<p>Overall the loop above in my working app takes about 5-10 seconds. I can work around the problem by modifying the above code like below, which results in the same loop running in milliseconds:</p>\n\n<p>Fixed obj-c file</p>\n\n<pre><code>@interface Car \n  @property (nonatomic,readonly) NSDictionary&lt;NSString *, Part *&gt; *parts;\n\n  // Look up the part from the parts dictionary above\n  // in obj-c implementation and return it\n  -(Part *)partFor:(NSString *)partIdString; \n@end\n</code></pre>\n\n<p>Fixed Swift file</p>\n\n<pre><code>for(var car in allCarsInTheWorld) {\n  let part = car.partFor(\"partidstring\") //This is fast, performance issue gone. \n}\n</code></pre>\n\n<p>Whats the cause of the performance dip? The only thing I can think is that the obj-c dictionary is being copied when I access it from swift. </p>\n\n<p>Edit: Added picture of profiling stack. These are the frames as I call into the dictionary. Seems like it has to do with the string rather than the dictionary itself. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZGpFp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZGpFp.png\" alt=\"Expensive call stack\"></a></p>\n\n<p>This seems to be the closest match to the issue I can find: <a href=\"https://forums.swift.org/t/string-performance-how-to-ensure-fast-path-for-comparison-hashing/27436\" rel=\"nofollow noreferrer\">https://forums.swift.org/t/string-performance-how-to-ensure-fast-path-for-comparison-hashing/27436</a></p>\n"}, {"tags": ["ios", "objective-c", "react-native", "react-native-ios", "ios-frameworks"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "edited": false, "score": 0, "creation_date": 1566212822, "post_id": 57554969, "comment_id": 101572696, "body": "So indeed, what you are doing is pushing directly the views from react-native side. This means that I need to make every controller publicly visible, and manage the app flow from react-native as you show me above, isn&#39;t it?"}, {"owner": {"reputation": 2219, "user_id": 923497, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ay26e.jpg?s=128&g=1", "display_name": "Dima Portenko", "link": "https://stackoverflow.com/users/923497/dima-portenko"}, "reply_to_user": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "edited": false, "score": 0, "creation_date": 1566213065, "post_id": 57554969, "comment_id": 101572807, "body": "@toni_piu sorry, I don&#39;t get you. What do you mean by <code>react-native side</code>? React javascript side or native objective-c code?"}, {"owner": {"reputation": 2219, "user_id": 923497, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ay26e.jpg?s=128&g=1", "display_name": "Dima Portenko", "link": "https://stackoverflow.com/users/923497/dima-portenko"}, "reply_to_user": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "edited": false, "score": 0, "creation_date": 1566213458, "post_id": 57554969, "comment_id": 101572999, "body": "@toni_piu <code>[self.reactRoot presentViewController:viewController animated:YES completion:nil];</code> make new viewController appear, and it isn&#39;t necessary should be visible on the React (JavaScript) side."}, {"owner": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "edited": false, "score": 0, "creation_date": 1566218864, "post_id": 57554969, "comment_id": 101575916, "body": "Hi @dmitri-portenko, I&#39;m sorry I didn&#39;t explain myself. I think the problem is the binary framework I&#39;m trying to pull from, originally written in Swift. In the example above,  PKPaymentAuthorizationViewController has to be exposed publicly, so that it can be accessed from the react-native lib. So I reformule the question: Can I deal with my viewControllers located at a binary framework if they are properly publicly exposed? Or I need to add the framework&#39;s source code directly to Objective-C&#39;s library (as Braintree does)?"}, {"owner": {"reputation": 2219, "user_id": 923497, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ay26e.jpg?s=128&g=1", "display_name": "Dima Portenko", "link": "https://stackoverflow.com/users/923497/dima-portenko"}, "reply_to_user": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "edited": false, "score": 1, "creation_date": 1566219082, "post_id": 57554969, "comment_id": 101576045, "body": "<code>Can I deal with my viewControllers located at a binary framework if they are properly publicly exposed?</code> I&#39;m sure you can."}, {"owner": {"reputation": 2219, "user_id": 923497, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ay26e.jpg?s=128&g=1", "display_name": "Dima Portenko", "link": "https://stackoverflow.com/users/923497/dima-portenko"}, "reply_to_user": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "edited": false, "score": 0, "creation_date": 1566479769, "post_id": 57554969, "comment_id": 101675765, "body": "@toni_piu can you please accept the answer if it helps you"}], "tags": [], "owner": {"reputation": 2219, "user_id": 923497, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ay26e.jpg?s=128&g=1", "display_name": "Dima Portenko", "link": "https://stackoverflow.com/users/923497/dima-portenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1566210676, "creation_date": 1566210676, "answer_id": 57554969, "question_id": 57554169, "link": "https://stackoverflow.com/questions/57554169/ios-navite-framework-views-push-wont-work-from-react-native-app/57554969#57554969", "title": "iOS navite framework views push won&#39;t work from react-native app", "body": "<p>I haven't implemented it by myself but it works fine for me in the following library <a href=\"https://github.com/troublediehard/react-native-braintree-xplat\" rel=\"nofollow noreferrer\">https://github.com/troublediehard/react-native-braintree-xplat</a></p>\n\n<p>shortly </p>\n\n<pre><code>// RCTBraintree.h\n\n@interface RCTBraintree : UIViewController &lt;RCTBridgeModule, ...&gt;\n\n@property (nonatomic, strong) UIViewController *reactRoot;\n...\n\n@end\n\n\n//  RCTBraintree.m\n\n#import \"RCTBraintree.h\"\n\n@implementation RCTBraintree\n\n...\n\n\nRCT_EXPORT_METHOD(showApplePayViewController:(NSDictionary *)options callback:(RCTResponseSenderBlock)callback)\n{\n    dispatch_async(dispatch_get_main_queue(), ^{\n        ...\n\n        PKPaymentAuthorizationViewController *viewController = [[PKPaymentAuthorizationViewController alloc] initWithPaymentRequest:paymentRequest];\n        viewController.delegate = self;\n\n        [self.reactRoot presentViewController:viewController animated:YES completion:nil];\n    });\n}\n\n...\n\n- (UIViewController*)reactRoot {\n    UIViewController *root  = [UIApplication sharedApplication].keyWindow.rootViewController;\n    UIViewController *maybeModal = root.presentedViewController;\n\n    UIViewController *modalRoot = root;\n\n    if (maybeModal != nil) {\n        modalRoot = maybeModal;\n    }\n\n    return modalRoot;\n}\n\n...\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3337499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc6080efddce86eecd2776f1888fff97?s=128&d=identicon&r=PG", "display_name": "toni_piu", "link": "https://stackoverflow.com/users/3337499/toni-piu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1566210676, "creation_date": 1566207867, "question_id": 57554169, "link": "https://stackoverflow.com/questions/57554169/ios-navite-framework-views-push-wont-work-from-react-native-app", "title": "iOS navite framework views push won&#39;t work from react-native app", "body": "<p>I cannot make a react-native app push new controllers from an iOS native framework. I'm trying to wrap it up into a react-native library, and I managed to make the base view be displayed, but when I interact with it, new screens won't be pushed. Is it possible to navigate between native screens located into the native framework? </p>\n\n<p>I wrapped the framework into a react-native library successfully, using <code>react-native-create-library</code>. I am able to display the base view, and when clicking on buttons that present views on the same screen (such a datepicker) it works fine. But when I click on a button that should pushes a new view controller, it won't react.</p>\n\n<p>I'm testing it into a dummy brand-new react-native app, and changed the <code>AppDelegate.m</code> to use a <code>UINaVigationController</code> instead of the default <code>UIViewController</code>, as follows:</p>\n\n<pre><code>UIViewController *rootViewController = [UIViewController new];\nUINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:rootViewController];\n\n[[RNHellLib sharedInstance] configureSDK: navigationController];\n</code></pre>\n\n<p>Then in my library I'm doing this:</p>\n\n<pre><code>- (dispatch_queue_t)methodQueue\n{\n    return dispatch_get_main_queue();\n}\n\nRCT_EXPORT_MODULE(RNSearchBox)\nRCT_EXPORT_VIEW_PROPERTY(rootController, UIViewController)\n\nSearchBox *mySearchBox;\n\n- (UIView *)view {\n    return mySearchBox;\n}\n\n+ (instancetype)sharedInstance {\n    static RNHellLib *sharedInstance = nil;\n    static dispatch_once_t onceToken = 0;\n    dispatch_once(&amp;onceToken, ^{\n        sharedInstance = [[RNHellLib alloc] init];\n\n    });\n    return sharedInstance;\n}\n\n- (void) configureSDK: (UINavigationController *)rootController {\n    mySearchBox = [[SearchBox alloc] init];\n    mySearchBox.rootController = rootController;\n}\n</code></pre>\n\n<p>On the SDK side, I'm pushing new view controllers using <code>viewController.show(viewControllerToBePushed, sender)</code>, and also tried with <code>viewController.present(viewControllerToBePushed, animation: true)</code>, but screens don't change either way.</p>\n\n<p>I've read tones of docs and tutorials that use react-navigation or similar libraries to navigate between react-native screens, and also between existing (and known) swift views built up into the same app. But this means that the reat-native side has to know in advance the views that we display when interacting with the elements, instead of letting the framework work as a \"black-box\" on it's own. </p>\n\n<p>Is it possible? Can it work as a \"black-box\" as does work in other native apps? Or I will need to compulsorily expose all view controllers and trigger them manually from JSX?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "core-data"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566207994, "post_id": 57553964, "comment_id": 101570384, "body": "It looks OK, which means the error is probably somewhere else.  Probably in the header file included before it, for example.  Are you saying that file is <code>FormField.h</code>?  If so it doesn&#39;t define the type <code>FormField</code>."}, {"owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566208244, "post_id": 57553964, "comment_id": 101570510, "body": "@trojanfoe It is defined in FieldMapping.m file."}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566207056, "creation_date": 1566207056, "question_id": 57553964, "link": "https://stackoverflow.com/questions/57553964/getting-illegal-interface-qualifier-error-in-core-data-entity", "title": "getting &#39;illegal interface qualifier&#39; error in core data entity", "body": "<p>Please find following screenshots. I am getting 'illegal interface qualifier' error while importing <code>FormField.h</code> file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BJCZ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BJCZ0.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't understand why I am getting this error. It is really embracing.</p>\n"}, {"tags": ["ios", "objective-c", "mkmapview", "uislider", "dji-sdk"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11945319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416e774dfeb914ba0d6ddbb3fc75a9b6?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/11945319/jan"}, "edited": false, "score": 0, "creation_date": 1566569207, "post_id": 57610595, "comment_id": 101709419, "body": "Hey, thanks for your help, I should have noted that I&#39;ve also tried this before. If you do it like this, the problem is, that the slider view will stay there even if you switch the map with the camera view by tapping on the preview in the bottom right corner. I want it to be only visible while the map is visible, so it should be attached to the mapview if possible."}, {"owner": {"reputation": 635, "user_id": 4102523, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Jpj5u.jpg?s=128&g=1", "display_name": "tww0003", "link": "https://stackoverflow.com/users/4102523/tww0003"}, "reply_to_user": {"reputation": 1, "user_id": 11945319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416e774dfeb914ba0d6ddbb3fc75a9b6?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/11945319/jan"}, "edited": false, "score": 0, "creation_date": 1566570377, "post_id": 57610595, "comment_id": 101710020, "body": "@jan You can work around this by making the slider a property of the class and setting the <code>hidden</code> property of the <code>UISlider</code> to <code>YES</code> or <code>NO</code> appropriately. Ex: <code>self.slider.hidden = YES</code>. It&#39;s probably not ideal since you&#39;ll have to write a few extra lines of code to manage the slider alongside the map, but it will (should) work."}, {"owner": {"reputation": 1, "user_id": 11945319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416e774dfeb914ba0d6ddbb3fc75a9b6?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/11945319/jan"}, "edited": false, "score": 0, "creation_date": 1566571897, "post_id": 57610595, "comment_id": 101710791, "body": "Thanks, I was thinking about doing that instead, however, I haven&#39;t found a fitting delegate to get notified when the views swap place. And I am not sure how to overwrite previewViewTapped: correctly or if it is even possible without making a personal branch of the pods which I was trying to avoid. Adding your own GestureRecognizer to rootView and pass touches manually to the respective ViewControllers should work, but I was hoping there would be a better solution."}], "tags": [], "owner": {"reputation": 635, "user_id": 4102523, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Jpj5u.jpg?s=128&g=1", "display_name": "tww0003", "link": "https://stackoverflow.com/users/4102523/tww0003"}, "is_accepted": false, "score": 0, "last_activity_date": 1566480864, "creation_date": 1566480864, "answer_id": 57610595, "question_id": 57552931, "link": "https://stackoverflow.com/questions/57552931/how-to-add-working-sliders-to-map-view-in-dji-uxsdk-demo/57610595#57610595", "title": "How to add working sliders to map view in DJI-UXSDK-demo", "body": "<p>I followed your reproduction steps, and was able to reproduce and also fix the issue.  </p>\n\n<p>I simply added the slider as a subview of the <code>DefaultLayoutViewController.m</code>'s view instead of a subview of the <code>MKMapView</code> and it starting to work smoothly.   </p>\n\n<pre><code>//Get the map view instance and switch it into the main view\nMKMapView *mapView;\nif ([self.previewViewController respondsToSelector: @selector(mapWidget)]) {\n    mapView = [[self.previewViewController valueForKey: @\"mapWidget\"] mapView];\n    [self performSelector:@selector(previewViewTapped:) withObject:nil];\n};\n\n//Add the slider\nUISlider *slider = [[UISlider alloc] initWithFrame:CGRectMake(25, 50, 200, 10)];\n[self.view addSubview:slider]; // &lt;------ Add as a subview of the view controller and not the mapView\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11945319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416e774dfeb914ba0d6ddbb3fc75a9b6?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/11945319/jan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566816073, "creation_date": 1566816073, "answer_id": 57656339, "question_id": 57552931, "link": "https://stackoverflow.com/questions/57552931/how-to-add-working-sliders-to-map-view-in-dji-uxsdk-demo/57656339#57656339", "title": "How to add working sliders to map view in DJI-UXSDK-demo", "body": "<p>I worked around it by adding my own UIPanGestureRecognizer to the slider with the target</p>\n\n<pre><code>- (void)sliderMoved:(UIPanGestureRecognizer *)recognizer {\n    if([recognizer.view isKindOfClass:[UISlider class]]) {\n        UISlider *slider = recognizer.view;\n        slider.value = (slider.maximumValue - slider.minimumValue) * [recognizer locationInView:recognizer.view].x / recognizer.view.frame.size.width + slider.minimumValue;\n\n        //call the listener or just place your code here\n        [self sliderChanged:slider];\n    }\n}\n</code></pre>\n\n<p>Doesn't solve the underlying problem, but this is what works best for me. I would still be interested in finding a fitting delegate for when the views change places if someone reading this happpens to know it.</p>\n"}], "owner": {"reputation": 1, "user_id": 11945319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416e774dfeb914ba0d6ddbb3fc75a9b6?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/11945319/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566816073, "creation_date": 1566203051, "question_id": 57552931, "link": "https://stackoverflow.com/questions/57552931/how-to-add-working-sliders-to-map-view-in-dji-uxsdk-demo", "title": "How to add working sliders to map view in DJI-UXSDK-demo", "body": "<p>I want to add working UISliders as a subview to the map view of the DJI-iOS-UXSDK-demo (<a href=\"https://github.com/DJI-Mobile-SDK-Tutorials/iOS-UXSDKDemo\" rel=\"nofollow noreferrer\">https://github.com/DJI-Mobile-SDK-Tutorials/iOS-UXSDKDemo</a>). By \"working\" I just mean they should be freely draggable, right now they can only be moved in tiny steps to the right.</p>\n\n<p>I tried adding the sliders using a .xib-View and just adding them programmatically. Both work fine for a generic MKMapView but not for the map view implemented in DJI-iOS-UXSDK-demo. I tried adjusting the frame sizes of the map view, the sliders and the .xib-view, but none of these changed anything for me.</p>\n\n<p>To reproduce, please clone <a href=\"https://github.com/DJI-Mobile-SDK-Tutorials/iOS-UXSDKDemo\" rel=\"nofollow noreferrer\">https://github.com/DJI-Mobile-SDK-Tutorials/iOS-UXSDKDemo</a> and install the pods. Then add the following code to viewDidLoad in DefaultLayoutViewController.m after [super viewDidLoad]:</p>\n\n<pre><code>    //Get the map view instance and switch it into the main view\n    MKMapView *mapView;\n    if ([self.previewViewController respondsToSelector: @selector(mapWidget)]) {\n        mapView = [[self.previewViewController valueForKey: @\"mapWidget\"] mapView];\n        [self performSelector:@selector(previewViewTapped:) withObject:nil];\n    };\n\n    //Add the slider\n    UISlider *slider = [[UISlider alloc] initWithFrame:CGRectMake(25, 50, 200, 10)];\n    [mapView addSubview:slider];\n</code></pre>\n\n<p>You can ignore the registration error, as fixing that didn't change anything for me. The slider appears on the map view as expected, however it can only be dragged in small steps to the right. Adding a listener with addTarget:action:forControlEvents: also worked for me, however it is useless as long as the slider can't be dragged freely.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 1, "creation_date": 1566199465, "post_id": 57551692, "comment_id": 101566460, "body": "<code>id</code> is a pre-existing type in Objective-C so you&#39;ll have to use a different name."}, {"owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "reply_to_user": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566199745, "post_id": 57551692, "comment_id": 101566584, "body": "@trojanfoe, what do you mean? Could you please explain? Thx."}, {"owner": {"reputation": 115642, "user_id": 299924, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/71fc84230717311db1410d7106273128?s=128&d=identicon&r=PG", "display_name": "trojanfoe", "link": "https://stackoverflow.com/users/299924/trojanfoe"}, "edited": false, "score": 0, "creation_date": 1566199804, "post_id": 57551692, "comment_id": 101566607, "body": "See this <a href=\"https://developer.apple.com/documentation/objectivec/id\" rel=\"nofollow noreferrer\">reference</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1972, "user_id": 4177009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c85e085e7e8690bb0ebcd33d054c69?s=128&d=identicon&r=PG", "display_name": "Ture P&#229;lsson", "link": "https://stackoverflow.com/users/4177009/ture-p%c3%a5lsson"}, "is_accepted": false, "score": 0, "last_activity_date": 1566198550, "creation_date": 1566198550, "answer_id": 57551918, "question_id": 57551692, "link": "https://stackoverflow.com/questions/57551692/failing-compilation-on-cocoa/57551918#57551918", "title": "Failing compilation on Cocoa", "body": "<p>The first parameter to getResourceValue is (ignoring the nonnull stuff) a pointer to an id, or, in other words, a pointer to a pointer to an NSObject. You are passing just a pointer to an NSObject (or, more precisely, a pointer to an NSNumber). Use the '&amp;' operator.</p>\n"}], "owner": {"reputation": 4317, "user_id": 945871, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/b9b646cc701a3b906179ccf9ee68c350?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/945871/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566198550, "creation_date": 1566197252, "question_id": 57551692, "link": "https://stackoverflow.com/questions/57551692/failing-compilation-on-cocoa", "title": "Failing compilation on Cocoa", "body": "<p>ALL,</p>\n\n<pre><code>static bool CocoaFileNameGetSensitivity()\n{\n    NSNumber id;\n    NSURL *url = [NSURL URLWithString:@\"/\"];\n    [url getResourceValue: id forKey: NSURLVolumeSupportsCaseSensitiveNamesKey error: nil];\n    return [id boolValue] == YES;\n}\n</code></pre>\n\n<p>I am getting:</p>\n\n<pre><code>error: interface type cannot be statically allocated\n    NSNumber id;\n             ^\n             *\nerror: cannot initialize a parameter of type 'id  _Nullable * _Nonnull' with an lvalue of type 'NSNumber *'\n    [url getResourceValue: id forKey: NSURLVolumeSupportsCaseSensitiveNamesKey error: nil];\n                           ^~\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/System/Library/Frameworks/Foundation.framework/Headers/NSURL.h:164:55: note: passing argument to\n      parameter 'value' here\n- (BOOL)getResourceValue:(out id _Nullable * _Nonnull)value forKey:(NSURLResourceKey)key error:(out NSError ** _Nullable)error API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0));\n                                                      ^\n2 errors generated.\nmake: *** [basedll_cocoa_stdpaths.o] Error 1\nIgors-MacBook-Air:buildMac igorkorot$ \n</code></pre>\n\n<p>Trying to search with google I see that I need to declare id as a pointer. However doing so I am getting following:</p>\n\n<pre><code>error: cannot initialize a parameter of type 'id  _Nullable * _Nonnull' with an lvalue of type 'NSNumber *'\n    [url getResourceValue: id forKey: NSURLVolumeSupportsCaseSensitiveNamesKey error: nil];\n                           ^~\n/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/System/Library/Frameworks/Foundation.framework/Headers/NSURL.h:164:55: note: passing argument to\n      parameter 'value' here\n- (BOOL)getResourceValue:(out id _Nullable * _Nonnull)value forKey:(NSURLResourceKey)key error:(out NSError ** _Nullable)error API_AVAILABLE(macos(10.6), ios(4.0), watchos(2.0), tvos(9.0));\n                                                      ^\n1 error generated.\nmake: *** [basedll_cocoa_stdpaths.o] Error 1\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["ios", "objective-c", "json", "swift", "xcode"], "comments": [{"owner": {"reputation": 28506, "user_id": 9223839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dcd6d8b4c4a0720ee253013c91d3ab?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim Danielson", "link": "https://stackoverflow.com/users/9223839/joakim-danielson"}, "edited": false, "score": 1, "creation_date": 1566190815, "post_id": 57548371, "comment_id": 101563757, "body": "This is not a free code writing service, you are supposed to put in an effort yourself and write some code that we can help you with."}], "answers": [{"comments": [{"owner": {"reputation": 1014, "user_id": 4903240, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh3.googleusercontent.com/-rv-HspwP7-8/AAAAAAAAAAI/AAAAAAAAAVs/JDLaGkcPrtM/photo.jpg?sz=128", "display_name": "neda Derakhshesh", "link": "https://stackoverflow.com/users/4903240/neda-derakhshesh"}, "edited": false, "score": 0, "creation_date": 1566204216, "post_id": 57548536, "comment_id": 101568549, "body": "Thank you very very much. you did a lot for helping me during understanding how it will looks with objective C . Thank you very much"}], "tags": [], "owner": {"reputation": 162, "user_id": 6107098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0brod.png?s=128&g=1", "display_name": "eeekari", "link": "https://stackoverflow.com/users/6107098/eeekari"}, "is_accepted": true, "score": 2, "last_activity_date": 1566165281, "last_edit_date": 1566165281, "creation_date": 1566164064, "answer_id": 57548536, "question_id": 57548371, "link": "https://stackoverflow.com/questions/57548371/how-to-make-a-json-call-with-objective-c/57548536#57548536", "title": "How to make a json call with objective C", "body": "<p>I might suggest that you look through some previous similar posts and use them to guide you to your answer. The Objective-C largely follows the same pattern as you used for your Swift example.</p>\n\n<p>I haven't tested this, but your code would end up looking something like the below.</p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:@\"https:/something\"];\nNSURLSessionDataTask * task = [[NSURLSession sharedSession] dataTaskWithURL:url completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n    if ((error) || (!data)) {\n        NSLog(@\"Error\");\n    } else {\n        NSError *err = nil;\n        NSDictionary *json;\n        json = [NSJSONSerialization JSONObjectWithData: data options: NSJSONReadingMutableContainers error: &amp;err];\n        if (json != nil &amp;&amp; err == nil) {\n            [json enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {\n                [myCurrency addObject:key];\n                [myValues addObject:obj];\n            }];\n\n            dispatch_async(dispatch_get_main_queue(), ^{\n                [self.pickerView reloadAllComponents];\n                [self.pickerView selectRow:20 inComponent:0 animated:false];\n\n           });\n        }\n    }\n}];\n[task resume];\n</code></pre>\n"}], "owner": {"reputation": 1014, "user_id": 4903240, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh3.googleusercontent.com/-rv-HspwP7-8/AAAAAAAAAAI/AAAAAAAAAVs/JDLaGkcPrtM/photo.jpg?sz=128", "display_name": "neda Derakhshesh", "link": "https://stackoverflow.com/users/4903240/neda-derakhshesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1566207508, "accepted_answer_id": 57548536, "answer_count": 1, "score": -4, "last_activity_date": 1566165281, "creation_date": 1566162388, "last_edit_date": 1566163179, "question_id": 57548371, "link": "https://stackoverflow.com/questions/57548371/how-to-make-a-json-call-with-objective-c", "closed_reason": "Needs more focus", "title": "How to make a json call with objective C", "body": "<p>I am implementing a calling with json with swift but I need this with Objective C . Can any one help me to convert this code to Objective C. It belongs to a project which it can convert currencies . I really appreciate any kinds of help. my problem is that how to do json calling with objective C . I tried some of swift to objective C converter but none of them works fine. Thats why I asked my question here,</p>\n\n<pre><code>   let url = URL(string: \"https://something\")\n    let task = URLSession.shared.dataTask(with: url!) { (data, response, error) in            \n        if (error != nil)\n        {\n            print(\"ERROR\")\n        }\n        else\n        {\n            if let content = data\n            {\n                do\n                {\n                    let myJson = try JSONSerialization.jsonObject(with: content, options: JSONSerialization.ReadingOptions.mutableContainers) as AnyObject\n                    if let rates = myJson[\"rates\"] as? NSDictionary\n                    {\n                        for (key, value) in rates\n                        {\n                            self.myCurrency.append((key as! String))\n                            self.myValues.append((value as? Double)!)                              \n                        }\n                    }\n                }\n                catch\n                {\n                }                    \n            }                \n        }\n        self.pickerView.reloadAllComponents()\n        //myPicker.selectRow(row, inComponent: 0, animated: true)\n        self.pickerView.selectRow(20, inComponent: 0, animated: false)\n    }\n    task.resume()        \n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11943780, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159257414939896/picture?type=large", "display_name": "Johan Dahl", "link": "https://stackoverflow.com/users/11943780/johan-dahl"}, "edited": false, "score": 0, "creation_date": 1566220840, "post_id": 57548732, "comment_id": 101577061, "body": "After spending some more time and learning Objective C I know understand I left out some important information in my question.  The interface was from a statically linked library which cannot be modified. I simply had to solve it by using the scan method which had the callback that returned the Printer object."}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 1, "last_activity_date": 1566166290, "creation_date": 1566166290, "answer_id": 57548732, "question_id": 57547982, "link": "https://stackoverflow.com/questions/57547982/how-to-create-a-new-object-and-assign-properties-in-objective-c/57548732#57548732", "title": "How to create a new object and assign properties in Objective-C?", "body": "<p>You do not report the <em>names</em> of your <code>.h</code> and <code>.m</code> files or what else is in the <code>.m</code> \u2013 e.g. <code>@implementation</code> of <code>Printer</code>? The class <code>printTestPaper</code> belongs to? Without details like this it is difficult for anyone to help you, you need to help people help you.</p>\n\n<p>That said some points that may help you:</p>\n\n<ul>\n<li>The <code>@interface Printer ()</code> where you open up the properties to be writeable should be in the your <code>Printer.m</code> file \u2013 in general do not try to open up access to a type's properties from outside the type's implementation, it is both bad design and may not work as you hope (as you just found out).</li>\n<li>The code to support a <code>@property</code> is generated by the compiler when it compiles the <code>@implementation</code>, <code>@interface</code>'s themselves produce no executable code \u2013\u00a0they describe the accessible parts of the <code>@implementation</code>.</li>\n<li><code>setter=&lt;name&gt;</code> provides a different name for the auto-created property setter function. While a method <code>&lt;name&gt;</code> will be created to set the property using dot syntax the properties name is still used, e.g. in your case <code>printer.name = ...</code> is still used even with the <code>setter=setPrinterName:</code>. You can call the auto-created method using standard method syntax, that failed in your case for the reasons above.</li>\n<li>Using <code>setter=&lt;name&gt;</code> or <code>getter=&lt;name&gt;</code> are really advanced features and you probably will never need to use them \u2013\u00a0when you do need to use them you will know! Just avoid them till then.</li>\n<li>If you wish to provide a method which creates the object and sets properties then do this in the type's implementation. The usual way of doing this is to provide an <code>init</code> method that does this, e.g. in this case it might be <code>- initWithName:(NSString *)printerName { ... }</code>, or an equivalent class method which does the allocation and sets the parameters, e.g. in this case it might be <code>+ newWithName:(NSString *)printerName { ... }</code>.</li>\n</ul>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11943780, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159257414939896/picture?type=large", "display_name": "Johan Dahl", "link": "https://stackoverflow.com/users/11943780/johan-dahl"}, "is_accepted": false, "score": 0, "last_activity_date": 1566294322, "creation_date": 1566294322, "answer_id": 57570886, "question_id": 57547982, "link": "https://stackoverflow.com/questions/57547982/how-to-create-a-new-object-and-assign-properties-in-objective-c/57570886#57570886", "title": "How to create a new object and assign properties in Objective-C?", "body": "<p>Since it's an interface from statically linked library it is simply not possible to extend or manipulate. Not without tempering with the compiler. </p>\n"}], "owner": {"reputation": 1, "user_id": 11943780, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159257414939896/picture?type=large", "display_name": "Johan Dahl", "link": "https://stackoverflow.com/users/11943780/johan-dahl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566294322, "creation_date": 1566158696, "last_edit_date": 1566220929, "question_id": 57547982, "link": "https://stackoverflow.com/questions/57547982/how-to-create-a-new-object-and-assign-properties-in-objective-c", "title": "How to create a new object and assign properties in Objective-C?", "body": "<p>I'm trying to bridge an Objective C SDK with React Native and I'm having some trouble. I have a Subclass of NSObject and I'm trying to set some property values but I can't get it to work.</p>\n\n<p>I have tried to change the property in the header, and in the imp file with out any difference.</p>\n\n<p>PrinterSDK.h (which has libPrinterSDK.a)</p>\n\n<pre><code>@interface Printer : NSObject\n\n@property (nonatomic, readonly) NSString* name;\n@property (nonatomic, readonly) NSString* UUIDString;\n\n@end\n</code></pre>\n\n<p>RNPosPrint.m</p>\n\n<pre><code>@interface Printer ()\n@property (readwrite) NSString* name;\n@property (readwrite) NSString* UUIDString;\n@end\n\nRCT_EXPORT_METHOD(printTestPaper:(NSString*)name:(NSString*)uuid)\n{\n\n  Printer* printer = [[Printer alloc] init];   \n  printer.name = name;\n\n}\n</code></pre>\n\n<p>But I keep facing issue with the setter for some reason I can't figure out.</p>\n\n<pre><code>ExceptionsManager.js:94 Exception '-[Printer setPrinterName:]: unrecognized selector sent to instance 0x13fd25b90' was thrown while invoking printTestPaper on target RNPosPrint with params (\n    \"Test Printer\",\n    \"XXX-XXX-XXX\"\n)\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1287, "user_id": 3942719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYHHL.jpg?s=128&g=1", "display_name": "MacUserT", "link": "https://stackoverflow.com/users/3942719/macusert"}, "edited": false, "score": 0, "creation_date": 1566140619, "post_id": 57545679, "comment_id": 101554700, "body": "Hi Volleyball, are you developing in Objective-C? Is there a reason for that?"}, {"owner": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "edited": false, "score": 0, "creation_date": 1566140723, "post_id": 57545679, "comment_id": 101554719, "body": "Objective-C is still pretty awesome, btw."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "reply_to_user": {"reputation": 1287, "user_id": 3942719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYHHL.jpg?s=128&g=1", "display_name": "MacUserT", "link": "https://stackoverflow.com/users/3942719/macusert"}, "edited": false, "score": 0, "creation_date": 1566140757, "post_id": 57545679, "comment_id": 101554730, "body": "@MacUserT I am ashamed of asking this, is this the <code>Objective-C</code> code? I thought it is <code>Swift</code>."}, {"owner": {"reputation": 1287, "user_id": 3942719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYHHL.jpg?s=128&g=1", "display_name": "MacUserT", "link": "https://stackoverflow.com/users/3942719/macusert"}, "edited": false, "score": 2, "creation_date": 1566140844, "post_id": 57545679, "comment_id": 101554770, "body": "@Volleyball, although Aaron thinks Objective-C is still awesome, it looks like you are mixing both in the code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "reply_to_user": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "edited": false, "score": 0, "creation_date": 1566140870, "post_id": 57545679, "comment_id": 101554775, "body": "@Aaron yes my code complies and it works fine on commenting the 2 lines. But how do I solve this issue?"}, {"owner": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "edited": false, "score": 0, "creation_date": 1566140895, "post_id": 57545679, "comment_id": 101554782, "body": "Yeah, MacUserT is spot on. Your Obj-c function call to <code>requestWhenInUseAuthorization</code> seems off."}, {"owner": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "edited": false, "score": 1, "creation_date": 1566140954, "post_id": 57545679, "comment_id": 101554797, "body": "I think you want <code>[_locationManager requestWhenInUseAuthorization]</code> ..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "reply_to_user": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "edited": false, "score": 0, "creation_date": 1566141103, "post_id": 57545679, "comment_id": 101554842, "body": "@Aaron it worked, many many thanks, please write it in answer and I am happy to accept it. And MacuserT I will upvote yours too if you write for swift. Thanks you guys again, love both of you :)"}], "answers": [{"tags": [], "owner": {"reputation": 6827, "user_id": 1396884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e7e2f39a219d22dac643ff35a599d55f?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1396884/aaron"}, "is_accepted": true, "score": 0, "last_activity_date": 1566141384, "last_edit_date": 1566141384, "creation_date": 1566141103, "answer_id": 57545825, "question_id": 57545679, "link": "https://stackoverflow.com/questions/57545679/syntax-error-in-locationmanager-requestwheninuseauthorization/57545825#57545825", "title": "Syntax error in LocationManager requestWhenInUseAuthorization", "body": "<p>In Objective-C, I think what you want is to properly send the <code>requestWhenInUseAuthorization</code> message to your <code>_locationManager</code> instance, like so:</p>\n\n<p><code>[_locationManager requestWhenInUseAuthorization];</code></p>\n\n<p>And as MacUserT mentioned it appears you're blending both Swift and Objective-C style code. I'm not certain how your original snippet compiled, though. Homework for me, perhaps.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "edited": false, "score": 0, "creation_date": 1566141279, "post_id": 57545827, "comment_id": 101554888, "body": "Thanks a lot mate, I am sorry I can&#39;t accept both the answers, but I upvoted yours too."}, {"owner": {"reputation": 1287, "user_id": 3942719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYHHL.jpg?s=128&g=1", "display_name": "MacUserT", "link": "https://stackoverflow.com/users/3942719/macusert"}, "edited": false, "score": 0, "creation_date": 1566141408, "post_id": 57545827, "comment_id": 101554931, "body": "Thanks anyway. Good luck."}], "tags": [], "owner": {"reputation": 1287, "user_id": 3942719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYHHL.jpg?s=128&g=1", "display_name": "MacUserT", "link": "https://stackoverflow.com/users/3942719/macusert"}, "is_accepted": false, "score": 1, "last_activity_date": 1566141349, "last_edit_date": 1566141349, "creation_date": 1566141117, "answer_id": 57545827, "question_id": 57545679, "link": "https://stackoverflow.com/questions/57545679/syntax-error-in-locationmanager-requestwheninuseauthorization/57545827#57545827", "title": "Syntax error in LocationManager requestWhenInUseAuthorization", "body": "<p>Can you try the following when developing in Swift:</p>\n\n<pre><code>    let locationManager = CLLocationManager()\n\n    locationManager.requestWhenInUseAuthorization()\n    locationManager.delegate = self\n</code></pre>\n\n<p>This should work if you have created a project with the language selected Swift.\n<a href=\"https://i.stack.imgur.com/FOtAW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOtAW.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you develop in Objective-C I think the best way is:</p>\n\n<pre><code>let locationManager = [[CLLocationManager alloc] init];\n[locationManager requestWhenInUseAuthorization];\n[locationManager delegate] = self;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6274128"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57545825, "answer_count": 2, "score": 0, "last_activity_date": 1566145206, "creation_date": 1566139921, "last_edit_date": 1566145206, "question_id": 57545679, "link": "https://stackoverflow.com/questions/57545679/syntax-error-in-locationmanager-requestwheninuseauthorization", "title": "Syntax error in LocationManager requestWhenInUseAuthorization", "body": "<p><strong>Error screenshot:</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/kmgLo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kmgLo.png\" alt=\"\"></a></p>\n\n<p><strong>Code:</strong> </p>\n\n<pre><code> if (_locationManager == nil) {\n        _locationManager = [[CLLocationManager alloc] init];\n        _locationManager.delegate = self;\n\n        _locationManager.requestWhenInUseAuthorization; // this is OK with warning\n        _locationManager.requestWhenInUseAuthorization(); // this is giving me error\n    }\n</code></pre>\n\n<p>I am fairly new to iOS development, so not sure how to solve it. </p>\n"}, {"tags": ["ios", "objective-c", "automatic-ref-counting", "weak-references"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1566132538, "post_id": 57544618, "comment_id": 101552723, "body": "The point of creating <code>weakself</code> is so that you do not capture self. But then you mess it up when you <i>do</i> capture self. You say <code>self-&gt;footerView</code>. Hence the warning."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1566132707, "post_id": 57544618, "comment_id": 101552780, "body": "And besides you are not doing the dance correctly. See <a href=\"http://www.apeth.com/iOSBook/ch12.html#EXstrongWeakDance\" rel=\"nofollow noreferrer\">apeth.com/iOSBook/ch12.html#EXstrongWeakDance</a>"}, {"owner": {"reputation": 272, "user_id": 5004769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d813998e7f8a3d36031cb74a0e0e2ab2?s=128&d=identicon&r=PG", "display_name": "Tkas", "link": "https://stackoverflow.com/users/5004769/tkas"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1566132731, "post_id": 57544618, "comment_id": 101552786, "body": "@matt yes, but change to <code>[weakSelf-&gt;footerView hideLoader];</code> not working."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1566133697, "post_id": 57544618, "comment_id": 101553031, "body": "But you didn\u2019t read my other comment or follow the link. You are not doing the weak strong dance correctly; look at minute 27:10 of Session 322 of the WWDC 2011 videos."}, {"owner": {"reputation": 272, "user_id": 5004769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d813998e7f8a3d36031cb74a0e0e2ab2?s=128&d=identicon&r=PG", "display_name": "Tkas", "link": "https://stackoverflow.com/users/5004769/tkas"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1566133843, "post_id": 57544618, "comment_id": 101553065, "body": "@matt yes, decision is `  __typeof(self)self = weakSelf;         [self-&gt;footerView hideLoader]; ` thx"}], "answers": [{"tags": [], "owner": {"reputation": 272, "user_id": 5004769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d813998e7f8a3d36031cb74a0e0e2ab2?s=128&d=identicon&r=PG", "display_name": "Tkas", "link": "https://stackoverflow.com/users/5004769/tkas"}, "is_accepted": false, "score": 0, "last_activity_date": 1566135584, "creation_date": 1566135584, "answer_id": 57545110, "question_id": 57544618, "link": "https://stackoverflow.com/questions/57544618/how-to-resolve-warning-capturing-self-strongly-in-this-block-is-likely-to-lea/57545110#57545110", "title": "How to resolve warning &quot;Capturing &#39;self&#39; strongly in this block is likely to lead to a retain cycle&quot; in this case?", "body": "<p>Thanks <a href=\"https://stackoverflow.com/users/341994/matt\">@matt</a> for help me. Decision is:</p>\n\n<pre><code>__weak __typeof(self)weakSelf = self;\n\n_photosListCollectionViewViewModel.getNextPage = ^(NSError *error) {\n    if (nil == error) {\n        [weakSelf.collectionView reloadData];\n    } else {\n        [weakSelf showAlertWithTitle:error.localizedDescription message:@\"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.\"];\n    }\n    __typeof(self)strongSelf = weakSelf;\n    [strongSelf-&gt;footerView hideLoader];\n};\n</code></pre>\n"}], "owner": {"reputation": 272, "user_id": 5004769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d813998e7f8a3d36031cb74a0e0e2ab2?s=128&d=identicon&r=PG", "display_name": "Tkas", "link": "https://stackoverflow.com/users/5004769/tkas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566135584, "creation_date": 1566131757, "last_edit_date": 1566132911, "question_id": 57544618, "link": "https://stackoverflow.com/questions/57544618/how-to-resolve-warning-capturing-self-strongly-in-this-block-is-likely-to-lea", "title": "How to resolve warning &quot;Capturing &#39;self&#39; strongly in this block is likely to lead to a retain cycle&quot; in this case?", "body": "<p>My PhotosListCollectionViewController.h file:</p>\n\n<pre><code>@interface PhotosListCollectionViewController : UICollectionViewController &lt;UICollectionViewDelegateFlowLayout&gt; {\n    FooterView *footerView;\n    PhotosListCollectionViewViewModel *photosListCollectionViewViewModel;\n}\n\n@property (strong, nonatomic) NSString *userQuery;\n\n@end\n</code></pre>\n\n<p>In PhotosListCollectionViewController.m (look comment):</p>\n\n<pre><code>@implementation PhotosListCollectionViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    footerView = [[FooterView alloc] init];\n\n    photosListCollectionViewViewModel = [[PhotosListCollectionViewViewModel alloc] initWithUserQuery:_userQuery];\n\n    [self.collectionView registerClass:FooterView.class forSupplementaryViewOfKind:UICollectionElementKindSectionFooter                withReuseIdentifier:NSStringFromClass([FooterView class])];\n\n    __weak __typeof(self)weakSelf = self;\n\n    photosListCollectionViewViewModel.getNextPage = ^(NSError *error) {\n        if (nil == error) {\n            [weakSelf.collectionView reloadData];\n        } else {\n            [weakSelf showAlertWithTitle:error.localizedDescription message:@\"Try again.\"];\n        }\n        [self-&gt;footerView hideLoader]; // warning in this line. \n    };\n}\n</code></pre>\n\n<p>How to resolve my problem? I read <a href=\"https://stackoverflow.com/questions/8203081/clarification-about-weak-references-and-a-retain-cycles\">another</a> <a href=\"https://stackoverflow.com/questions/27335587/strongly-in-this-block-is-likely-to-lead-to-a-retain-cycle\">questions</a>, but they did not solve my problem.</p>\n\n<p>Change to </p>\n\n<pre><code> [weakSelf-&gt;footerView hideLoader];\n</code></pre>\n\n<p>get error</p>\n\n<blockquote>\n  <p>Dereferencing a __weak pointer is not allowed due to possible null\n  value caused by race condition, assign it to strong variable first</p>\n</blockquote>\n"}, {"tags": ["objective-c", "swift", "null", "optional"], "comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1566118119, "post_id": 57542947, "comment_id": 101549460, "body": "I&#39;m not sure if this is the best approach, but I would make wrappers around all of the APIs, doing such things as removing IUOs, converting to/from Swift common currency types (<code>String</code> instead of <code>NSString</code>, <code>Array&lt;T&gt;</code> instead of <code>NSArray</code>, etc.), use Swift error throwing instead of <code>NSError **</code> parameters, etc."}, {"owner": {"reputation": 10518, "user_id": 38557, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=128&d=identicon&r=PG", "display_name": "noamtm", "link": "https://stackoverflow.com/users/38557/noamtm"}, "reply_to_user": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1566130789, "post_id": 57542947, "comment_id": 101552326, "body": "Well, yes that&#39;s an option, but it&#39;s an overkill in my case."}], "owner": {"reputation": 10518, "user_id": 38557, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=128&d=identicon&r=PG", "display_name": "noamtm", "link": "https://stackoverflow.com/users/38557/noamtm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566117483, "creation_date": 1566117483, "question_id": 57542947, "link": "https://stackoverflow.com/questions/57542947/pattern-or-idiom-for-safe-optional-bridging-from-objective-c-to-swift", "title": "Pattern or idiom for safe optional bridging from Objective-C to Swift", "body": "<p>When I call 3rd party Objective-C code from Swift, and that code is not annotated with <code>_Nullable</code>/<code>_Nonnull</code>, it's imported to Swift as Implicitly Unwrapped Optional. That means that if I'm not extra careful, I can easily cause a crash if my code just assumes it's not <code>nil</code> - the compiler doesn't even give a warnings.</p>\n\n<p>Is there a pattern or idiom that will help in this situation?</p>\n"}, {"tags": ["ios", "objective-c", "crash", "viewcontroller"], "comments": [{"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 1, "creation_date": 1566112192, "post_id": 57542413, "comment_id": 101548459, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11803579/unrecognized-selector-sent-to-instance-uiviewcontroller\">Unrecognized Selector Sent to Instance UIViewController</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2848, "user_id": 4591992, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e1f668097547cfe4e2ccfef698b1b4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Pat_Morita", "link": "https://stackoverflow.com/users/4591992/pat-morita"}, "is_accepted": false, "score": 0, "last_activity_date": 1566116391, "creation_date": 1566116391, "answer_id": 57542838, "question_id": 57542413, "link": "https://stackoverflow.com/questions/57542413/terminating-app-due-to-uncaught-exception-getting-crash-when-pushing-view-cont/57542838#57542838", "title": "&quot;Terminating app due to uncaught exception&quot; getting crash when pushing view controller", "body": "<p>Check this:</p>\n\n<p>Is vc really of class 'BilingInfoVC'? If you didn't assign it correctly in IB it's a standard view controller.</p>\n\n<p>You may check it with </p>\n\n<pre><code>NSLog(@\"Class: %@\", [vc className]);\n</code></pre>\n\n<p>As second line right after instantination of vc.</p>\n\n<p>Did you set the identifier correctly? A capital letter can make a difference!</p>\n"}], "owner": {"reputation": 1, "user_id": 10506392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k76C3.jpg?s=128&g=1", "display_name": "Yogesh Kotkar", "link": "https://stackoverflow.com/users/10506392/yogesh-kotkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 733, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1566138808, "creation_date": 1566111975, "last_edit_date": 1566138808, "question_id": 57542413, "link": "https://stackoverflow.com/questions/57542413/terminating-app-due-to-uncaught-exception-getting-crash-when-pushing-view-cont", "title": "&quot;Terminating app due to uncaught exception&quot; getting crash when pushing view controller", "body": "<blockquote>\n  <p>Terminating app due to uncaught exception 'NSInvalidArgumentException', > reason: '-[UIViewController setDicSelectListItem:]: unrecognized selector sent to instance 0x10981be30'</p>\n</blockquote>\n\n<p>I tried comment parameter passing. also tried provide main storyboard.</p>\n\n<p>Below is the code where app getting crash</p>\n\n<pre><code>   BilingInfoVC *vc = [self.storyboard   instantiateViewControllerWithIdentifier:@\"BilingInfoVC\"];\n    vc.dicSelectListItem=_dicSelectListItem;\n    vc.serviceType=_serviceType;\n    vc.arrSelect_Addons = [arrTemp mutableCopy];\n    [self.navigationController pushViewController:vc animated:YES];\n</code></pre>\n\n<p>I want to pass parameters with instantiate view controller.</p>\n"}, {"tags": ["objective-c", "xcode", "macos", "cocoa", "nstableview"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "edited": false, "score": 1, "creation_date": 1566145784, "post_id": 57538415, "comment_id": 101556038, "body": "Thank you! I thought it may have something to do with prepareForSegue, but I was implementing the method in the wrong place. Moving it into the code for the initiating view controller made all the difference."}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": true, "score": 0, "last_activity_date": 1566062533, "last_edit_date": 1566062533, "creation_date": 1566062225, "answer_id": 57538415, "question_id": 57531984, "link": "https://stackoverflow.com/questions/57531984/passing-data-into-a-table-view-controller-from-a-menu-selection-in-a-storyboard/57538415#57538415", "title": "Passing data into a table view controller from a menu selection in a storyboard", "body": "<p>I believe the right way to get the data to your view controller is to use the <code>prepareForSegue:sender:</code> function from the originating view controller. If you implement this function in the view controller where you have your menu, it will be called right before control is transferred to the new view controller.</p>\n\n<pre><code>- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {\n    if ([segue.destinationViewController isKindOfClass:[TableViewController class]]) {\n        TableViewController *vc = (TableViewController *)segue.destinationViewController;\n        vc.data = info;\n    }\n}\n</code></pre>\n\n<p>The <code>if</code> statement is to make sure we are operating on the right segue. If you have several segues that you want to pass data to, you can add several <code>if</code>-<code>else if</code>-<code>else if</code> to process each one of them in the same function. Instead of checking the view controller class you can check the segue's identifier. This is useful if you have several segues that connects to view controllers with the same class. The identifier is set in your storyboard from interface builder.</p>\n\n<p>Another handy function worth mentioning is <code>shouldPerformSegueWithIdentifier:sender:</code> which you can use to cancel a segue with. </p>\n\n<pre><code>- (BOOL)shouldPerformSegueWithIdentifier:(NSString *)identifier sender:(id)sender {\n    if ([identifier isEqualToString:@\"SegueA\"] &amp;&amp; !self.allValuesGood)\n        return NO;\n\n    return YES;\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11820691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b98daf865f5d0e078b65639928f35726?s=128&d=identicon&r=PG&f=1", "display_name": "johnpurlia", "link": "https://stackoverflow.com/users/11820691/johnpurlia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57538415, "answer_count": 1, "score": 0, "last_activity_date": 1566062533, "creation_date": 1565996506, "question_id": 57531984, "link": "https://stackoverflow.com/questions/57531984/passing-data-into-a-table-view-controller-from-a-menu-selection-in-a-storyboard", "title": "Passing data into a table view controller from a menu selection in a storyboard", "body": "<p>I'm trying to get my head around accessing the model data that is to be displayed in a tableview and how, exactly, I can provide that data to the view controller from another part of my application. I think I have a pretty good understanding of how table views work when the MSMutableArray that holds the data is part of the Table View Controller interface. It's when the data I'd like to display is initialized somewhere else that I begin to become somewhat confused.</p>\n\n<p>In my application the data that I eventually want to display in a table view is read in and processed from an XML file. For the purposes of this question, it looks something like this:</p>\n\n<pre><code>//\n//  bunchOfData.h\n//\n\n@interface bunchOfData : NSObject\n\n@property (strong) Profile          *overview;\n@property (strong) NSMutableArray   *info;\n\n@end\n</code></pre>\n\n<p>The data hangs out in 'bunchOfData' and is used throughout the application for a variety of tasks.</p>\n\n<p>I've provided a menu that will allow the user to display the data from the 'info' MSMutableArray in a new window that contains a table view. The menu is defined in a storyboard, as is the window containing the NSTableView, and I've hooked up a segue from the menu item to the window as you would expect.</p>\n\n<p>Here's the header for the table view controller:</p>\n\n<pre><code>//\n// TableViewController.h\n//\n\n@interface TableViewController : NSViewController &lt;NSTableViewDataSource&gt; {\n@private\n    IBOutlet NSTableView *tableView;\n    bunchOfData          *data;\n}\n@end\n</code></pre>\n\n<p>And the source:</p>\n\n<pre><code>@implementation TableViewController\n\n- (id)init\n{\n    self = [super init];\n    if (self)\n        data =          // Hmmm.... I'd like to assign 'info' to this\n    return (self);\n}\n\n- (NSInteger)numberOfRowsInTableView:(NSTableView *)tableView {\n    return [data.info count];\n}\n\n- (id)tableView:(NSTableView *)tableView objectValueForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row {\n            :\n            :\n    return [value for the object in the table];\n}\n@end\n</code></pre>\n\n<p>Now, were I'm a little lost is how to get a reference to the 'info' array in bunchOfData.h to my table view controller (as noted by the 'data =' placeholder in the source file.</p>\n\n<p>How can I initialize the table view controller with a reference to the data inside bunchOfData, when the window containing the table view is being opened by a menu hooked up to the window through a storyboard? It seems as though the storyboard to hiding a lot of necessary details, and I'm unsure how to get to those details.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["objective-c", "swift", "xcode10"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1565995445, "post_id": 57530442, "comment_id": 101529591, "body": "\u201cWhen I hit a breakpoint\u201d. But show us that breakpoint. If you have not cast the cell down, there is no reason to see it as a subclass."}, {"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1565995819, "post_id": 57530442, "comment_id": 101529655, "body": "It has been cast down. Sorry, I thought that would be clear with the screenshot : <code>cell = (CameraPlayerCell)</code>. Variables View shows it as whatever type it&#39;s currently being interpreted as."}], "answers": [{"comments": [{"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 1, "creation_date": 1566230101, "post_id": 57531844, "comment_id": 101582033, "body": "Yeah, I can definitely get access via LLDB no problem. I just wanted to get it showing up in the Variables View."}], "tags": [], "owner": {"reputation": 6605, "user_id": 584548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vpT7L.png?s=128&g=1", "display_name": "backslash-f", "link": "https://stackoverflow.com/users/584548/backslash-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1565995041, "creation_date": 1565995041, "answer_id": 57531844, "question_id": 57530442, "link": "https://stackoverflow.com/questions/57530442/how-do-i-view-obj-c-subclass-variables-from-swift-in-the-xcode-debugger/57531844#57531844", "title": "How do I view Obj-C subclass variables from Swift in the Xcode debugger?", "body": "<p>Have you tried <code>frame variable</code>?</p>\n\n<p><a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/lldb-guide/chapters/C5-Examining-The-Call-Stack.html\" rel=\"nofollow noreferrer\">From Apple</a>:<br>\n\"<em>You use the frame variable (f v) command to get a list of all the variables in the stack frame.</em>\"</p>\n\n<blockquote>\n  <p>Example:</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/SuAwb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SuAwb.jpg\" alt=\"frame variable\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 0, "creation_date": 1566230160, "post_id": 57531880, "comment_id": 101582063, "body": "Yeah, thanks. Getting access in LLDB is no problem. I just wanted it to work in the Variables View so I don&#39;t have to type as much."}], "tags": [], "owner": {"reputation": 837, "user_id": 9451152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/642b86fd8d11e8bed786ff2ac35ea40f?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio", "link": "https://stackoverflow.com/users/9451152/sergio"}, "is_accepted": false, "score": 1, "last_activity_date": 1565995419, "creation_date": 1565995419, "answer_id": 57531880, "question_id": 57530442, "link": "https://stackoverflow.com/questions/57530442/how-do-i-view-obj-c-subclass-variables-from-swift-in-the-xcode-debugger/57531880#57531880", "title": "How do I view Obj-C subclass variables from Swift in the Xcode debugger?", "body": "<p>Cast the value:</p>\n\n<pre><code>po (CameraPlayerCell *)cell\n</code></pre>\n\n<p>Then you can access the subclass properties:</p>\n\n<pre><code>po ((CameraPlayerCell *) cell).camera\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 0, "creation_date": 1566230196, "post_id": 57538755, "comment_id": 101582088, "body": "That&#39;s interesting... I wonder if there&#39;s something else going on here then."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 0, "creation_date": 1566239610, "post_id": 57538755, "comment_id": 101586112, "body": "Well, even though I asked, you didn&#39;t provide a reproducible test case, so there&#39;s no way I can guess what the difference might be."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1566065248, "creation_date": 1566065248, "answer_id": 57538755, "question_id": 57530442, "link": "https://stackoverflow.com/questions/57530442/how-do-i-view-obj-c-subclass-variables-from-swift-in-the-xcode-debugger/57538755#57538755", "title": "How do I view Obj-C subclass variables from Swift in the Xcode debugger?", "body": "<p>Works fine on my machine. Keep in mind that an Objective-C property is merely a shorthand for accessor methods for an ivar; it is the ivar that will appear in the variables list. (I assume that yours is automatically synthesized.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/6X4mo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6X4mo.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1566065248, "creation_date": 1565985422, "question_id": 57530442, "link": "https://stackoverflow.com/questions/57530442/how-do-i-view-obj-c-subclass-variables-from-swift-in-the-xcode-debugger", "title": "How do I view Obj-C subclass variables from Swift in the Xcode debugger?", "body": "<p>I've got a mixed Obj-C / Swift project. Whenever I hit a breakpoint in a Swift class, the Obj-C object variables view just shows values for parent classes, but not the subclass itself.</p>\n\n<p>For instance, if I have the following Obj-C class:</p>\n\n<pre><code>@interface CameraPlayerCell\n@property (nonatomic, strong) Camera* camera;\n@end\n</code></pre>\n\n<p>When I hit a breakpoint in my Swift CollectionViewController implementation, the Xcode debugger values view shows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7DYJt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7DYJt.png\" alt=\"XcodeDebuggerVariablesView\"></a></p>\n\n<p>Searched for this for about an hour, but apparently I don't know how to ask Google what I'm looking for (or they're just being Google &amp; showing me what they <em>think</em> I want rather than what I actually want...)</p>\n\n<p>I <em>know</em> there is a way to add an expression to the Variables View so that it will show the member variables for <code>CameraPlayerCell</code>. I've read an article <em>somewhere</em> and have done this before, but for the life of me I cannot remember how to do it.</p>\n"}, {"tags": ["ios", "objective-c", "xamarin", "xamarin.forms", "xamarin.ios"], "comments": [{"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1566294876, "post_id": 57530396, "comment_id": 101602602, "body": "Did you tried my solution?"}], "answers": [{"tags": [], "owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "is_accepted": false, "score": 0, "last_activity_date": 1566183204, "creation_date": 1566183204, "answer_id": 57549961, "question_id": 57530396, "link": "https://stackoverflow.com/questions/57530396/ios-toast-alert-message-cant-be-dismissed-in-xamarin-forms-ios-project/57549961#57549961", "title": "iOS toast Alert message can&#39;t be dismissed in Xamarin.Forms iOS project", "body": "<p>Try to call the <code>DependencyService.Get&lt;IMessage&gt;().LongAlert(\"alert message\");</code> in Main thread in <code>Xamarin.forms</code> Project.</p>\n\n<p>Example:</p>\n\n<pre><code>protected override async void OnAppearing()\n{\n    base.OnAppearing();\n\n    Device.BeginInvokeOnMainThread(() =&gt; {\n        DependencyService.Get&lt;IMessage&gt;().LongAlert(\"alert message\");\n    }); \n    await Navigation.PushAsync(new Page1());\n\n}\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 10800072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLHqZ.jpg?s=128&g=1", "display_name": "solidcomer", "link": "https://stackoverflow.com/users/10800072/solidcomer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566183204, "creation_date": 1565985176, "last_edit_date": 1565987824, "question_id": 57530396, "link": "https://stackoverflow.com/questions/57530396/ios-toast-alert-message-cant-be-dismissed-in-xamarin-forms-ios-project", "title": "iOS toast Alert message can&#39;t be dismissed in Xamarin.Forms iOS project", "body": "<p>I'm using Dependency service in Xamarin.Forms project, and I want to display a toast message in iOS that disappears automatically after 3 seconds. It's an alert that is used in the iOS side, and the message can be displayed, but won't disappear, causing the app to be frozen.</p>\n\n<p>I've tried to disable the animation, but it doesn't help. I have the following codes in iOS project.</p>\n\n<pre><code>[assembly: Xamarin.Forms.Dependency(typeof(MessageIOS))]\nnamespace DrawRegions.iOS.Services\n{\n    public class MessageIOS : IMessage\n    {\n        const double LONG_DELAY = 3.5;\n        const double SHORT_DELAY = 2.0;\n\n        NSTimer alertDelay;\n        UIAlertController alert;\n\n        public void LongAlert(string message)\n        {\n            ShowAlert(message, LONG_DELAY);\n        }\n        public void ShortAlert(string message)\n        {\n            ShowAlert(message, SHORT_DELAY);\n        }\n\n        void ShowAlert(string message, double seconds)\n        {\n            alertDelay = NSTimer.CreateScheduledTimer(seconds, (obj) =&gt;\n            {\n                dismissMessage();\n            });\n            alert = UIAlertController.Create(null, message, UIAlertControllerStyle.Alert);\n            UIApplication.SharedApplication.KeyWindow.RootViewController.PresentViewController(alert, true, null);\n        }\n\n        void dismissMessage()\n        {\n            if (alert != null)\n            {\n                alert.DismissViewController(true, null);\n            }\n            if (alertDelay != null)\n            {\n                alertDelay.Dispose();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If I call <code>DependencyService.Get&lt;IMessage&gt;().ShortAlert(\"alert message\")</code>, the message will appear, but stays, and the app got stuck.</p>\n\n<p>I've test it on iPhone 6 device and iPhone 6s simulator, both OS version 12.4.</p>\n\n<p>For the Android side, the toast will be displayed and other tasks run simultaneously, and the toast disappears automatically. But of course the Android codes are irrelevant.\nThank you so much if I can have some help.</p>\n\n<p><strong>Edit\uff1a</strong>\nI made some changes according to StackOverFlow threads as follows,</p>\n\n<pre><code>{\n    const double LONG_DELAY = 3.5;\n    const double SHORT_DELAY = 0.75;\n\n    public void LongAlert(string message)\n    {\n        ShowAlert(message, LONG_DELAY);\n    }\n\n    public void ShortAlert(string message)\n    {\n        ShowAlert(message, SHORT_DELAY);\n    }\n\n    void ShowAlert(string message, double seconds)\n    {\n        var alert = UIAlertController.Create(null, message, UIAlertControllerStyle.Alert);\n\n        var alertDelay = NSTimer.CreateScheduledTimer(seconds, obj =&gt;\n        {\n            DismissMessage(alert, obj);\n        });\n\n        UIApplication.SharedApplication.KeyWindow.RootViewController.PresentViewController(alert, true, null);\n    }\n\n    void DismissMessage(UIAlertController alert, NSTimer alertDelay)\n    {\n        if (alert != null)\n        {\n            alert.DismissViewController(true, null);\n        }\n\n        if (alertDelay != null)\n        {\n            alertDelay.Dispose();\n        }\n    }\n}\n</code></pre>\n\n<p>Now, the toast will disappear automatically, but once a toast is displayed, all other background task will not be excuted, e.g. I navigate page while displaying a toast, however, the page won't be navigated. But if I remove all codes of displaying these toast, all other codes will be executed.\nBut on Android, all codes are being executed while toast is displayed and dismissed.</p>\n"}, {"tags": ["objective-c", "swift", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 10498, "user_id": 1219956, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5c8df205312bd689a40bdd5ecca6c6a5?s=128&d=identicon&r=PG", "display_name": "Fonix", "link": "https://stackoverflow.com/users/1219956/fonix"}, "is_accepted": false, "score": 6, "last_activity_date": 1580720604, "creation_date": 1580720604, "answer_id": 60035970, "question_id": 57529722, "link": "https://stackoverflow.com/questions/57529722/implement-rcteventemitter-in-swift-but-receive-exception-for-bridge-is-not-set/60035970#60035970", "title": "Implement RCTEventEmitter in Swift but receive exception for bridge is not set", "body": "<p>The problem I found was that you must not instantiate the <code>MyEventEmitter</code> yourself aka in <code>public static let shared = MyEventEmitter()</code></p>\n\n<p>You should rather override the <code>init</code> method and assign <code>self</code> to <code>shared</code></p>\n\n<pre><code>import Foundation\n\n@objc(MyEventEmitter)\nclass MyEventEmitter: RCTEventEmitter {\n\n    public static var shared:MyEventEmitter?\n\n    override init() {\n        super.init()\n        MyEventEmitter.shared = self\n    }\n\n    override func supportedEvents() -&gt; [String]! {\n        return [\n            ... // my event list\n        ]\n    }\n}\n</code></pre>\n\n<p>This is because RN will instantiate the object itself already and assign the bridge, whereas when you are doing it yourself the bridge will not be assigned.</p>\n"}], "owner": {"reputation": 175, "user_id": 3621669, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c3124cd30364a014b58d5094d90f77a?s=128&d=identicon&r=PG&f=1", "display_name": "hphp95", "link": "https://stackoverflow.com/users/3621669/hphp95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1831, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1580720604, "creation_date": 1565981412, "question_id": 57529722, "link": "https://stackoverflow.com/questions/57529722/implement-rcteventemitter-in-swift-but-receive-exception-for-bridge-is-not-set", "title": "Implement RCTEventEmitter in Swift but receive exception for bridge is not set", "body": "<p>I am trying to implement an event emitter for React Native in Swift so that I can reuse it across some of my native modules. However, when I send event natively from iOS, I received the following error</p>\n\n<pre><code>Bridge is not set. This is probably because you've explicitly synthesized the bridge in MyEventEmitter, even though it's inherited from RCTEventEmitter.\n</code></pre>\n\n<pre class=\"lang-c prettyprint-override\"><code>/// MyEventEmitter.m\n#import &lt;Foundation/Foundation.h&gt;\n#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\n@interface RCT_EXTERN_MODULE(MyEventEmitter, RCTEventEmitter)\n\nRCT_EXTERN_METHOD(supportedEvents)\n\n@end\n</code></pre>\n\n<p>Implementation in Swift:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import Foundation\n\n@objc(MyEventEmitter)\nclass MyEventEmitter: RCTEventEmitter {\n\n    public static let shared = MyEventEmitter()\n\n    override func supportedEvents() -&gt; [String]! {\n        return [\n            ... // my event list\n        ]\n    }\n}\n</code></pre>\n\n<p>In my native swift code, I initialized the emiter by</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>private let eventEmitter: MyEventEmitter = .shared\n\n// send event\nself.eventEmitter.sendEvent(withName: \"someEvent\", body: nil)\n</code></pre>\n\n<p>I also put <code>&lt;React/RCTBridgeModule.h&gt;</code> and <code>&lt;React/RCTEventEmitter.h&gt;</code> inside my bridging header. </p>\n\n<p>What did I do wrong here?</p>\n"}, {"tags": ["ios", "objective-c", "sqlite"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1565990651, "post_id": 57525594, "comment_id": 101528571, "body": "Probably unrelated to your issue but never build a query using <code>stringWithFormat</code>. Properly bind values into the prepared statement. You should also call <code>sqlite3_finalize</code> on all prepared statements after you are done with them."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "edited": false, "score": 0, "creation_date": 1566053699, "post_id": 57528071, "comment_id": 101539122, "body": "yes, when i am delete targated row with record from db, that time giving  index out of bounds error."}, {"owner": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "edited": false, "score": 0, "creation_date": 1566184225, "post_id": 57528071, "comment_id": 101562739, "body": "till now, can&#39;t deleting data from database using above code."}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 0, "last_activity_date": 1565972634, "creation_date": 1565972634, "answer_id": 57528071, "question_id": 57525594, "link": "https://stackoverflow.com/questions/57525594/i-am-trying-to-delete-data-from-database-but-sometime-data-is-deleted-and-somet/57528071#57528071", "title": "I am trying to delete data from database, but sometime data is deleted and sometime data is not deleted", "body": "<p>You don't show how you call the method for deleting from the database, or where <code>_name.text</code> is coming from, but my initial inclination is that you're deleting the target row from your data model array prior to using it:</p>\n\n<pre><code>[resultentArray removeObjectAtIndex:indexPath.row];\n    NSString *selectedRow1 = [[resultentArray objectAtIndex:indexPath.row]valueForKey:@\"name\"];\n</code></pre>\n\n<p>which would result in selectedRow1 being the object at the <em>next</em> index after your target row.  If you were attempt to delete the last row, I would assume this would cause in index out of bounds error.</p>\n\n<p>Try reversing the order of those two (fetch the target row then delete it) and see if it makes any difference.  If it doesn't edit your question to post some additional code as to how you're calling the method to delete from your database, and how <code>_name.text</code> is getting set.</p>\n\n<pre><code>NSString *selectedRow1 = [[resultentArray objectAtIndex:indexPath.row]valueForKey:@\"name\"];\n[resultentArray removeObjectAtIndex:indexPath.row];\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8335465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b076786f3a908decef530c8153d4f9?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Patil", "link": "https://stackoverflow.com/users/8335465/vikas-patil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 57528071, "answer_count": 1, "score": 0, "last_activity_date": 1565972634, "creation_date": 1565962405, "last_edit_date": 1565965172, "question_id": 57525594, "link": "https://stackoverflow.com/questions/57525594/i-am-trying-to-delete-data-from-database-but-sometime-data-is-deleted-and-somet", "title": "I am trying to delete data from database, but sometime data is deleted and sometime data is not deleted", "body": "<p>I am trying to delete data on didSelectRowAtIndexPath method of table view from a database but data is not deleted. sometimes records are deleted, but sometimes not deleted. \ndisplaying old data.</p>\n\n<pre><code>    const char *dbpath = [databasePath UTF8String];\n    if(sqlite3_open(dbpath, &amp; contactDB) == SQLITE_OK)\n    {\n        NSString *deleteSQL = [NSString stringWithFormat:@\"delete from userDetails where name = '%@'\", _name.text];\n        NSLog(@\"%@:\", deleteSQL);\n        const char *delete_stmt = [deleteSQL UTF8String];\n        sqlite3_prepare_v2( contactDB, delete_stmt, -1, &amp;statement, NULL);\n        if (sqlite3_step(statement) == SQLITE_DONE)\n        {\n            _dbStatus.text = @\"record is deleted\";\n        } else {\n            _dbStatus.text = @\"record not deleted\";\n            NSLog(@\"Error: %s\", sqlite3_errmsg(contactDB));\n        }\n        sqlite3_close(contactDB);\n    }\n    [tableview reloadData];\n}\n\n\n- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{\n    [resultentArray removeObjectAtIndex:indexPath.row];\n    NSString *selectedRow1 = [[resultentArray objectAtIndex:indexPath.row]valueForKey:@\"name\"];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "rotation", "uislider"], "answers": [{"tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": true, "score": 1, "last_activity_date": 1565965240, "creation_date": 1565965240, "answer_id": 57526308, "question_id": 57525262, "link": "https://stackoverflow.com/questions/57525262/how-to-get-slider-value-with-subview-rotation-angle/57526308#57526308", "title": "How to get slider value with subview rotation angle", "body": "<p>After some struggle I got the answer. I am getting negative angle after 90. So if I got negative angle I calculated the differences between  required angle and the current angle.     </p>\n\n<pre><code>CGFloat angle = [(NSNumber *)[subView valueForKeyPath:@\"layer.transform.rotation.z\"] floatValue];\n\nif (angle &lt; 0) {\n    angle = 6.28 + angle;\n}\n\n[slider setValue:(angle*360 / (2*M_PI)) animated:true];\n</code></pre>\n"}], "owner": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57526308, "answer_count": 1, "score": 1, "last_activity_date": 1565965240, "creation_date": 1565960939, "question_id": 57525262, "link": "https://stackoverflow.com/questions/57525262/how-to-get-slider-value-with-subview-rotation-angle", "title": "How to get slider value with subview rotation angle", "body": "<p>Hi I used UISlider and rotate an image/subview based on slider value. Slider minimum value is zero and maximum value is 360. I had multiple views. With slider I am rotating the Image perfectly.</p>\n\n<pre><code>UIView *subView = [self.view viewWithTag:100];\nsubView.transform = CGAffineTransformMakeRotation(slider.value * 2*M_PI / slider.maximumValue);\n</code></pre>\n\n<p>I selected another subview and next again selected the first view. So based on view angle I need to set slider value. But I am getting wrong.</p>\n\n<pre><code>CGAffineTransform transform = subView.transform;\nCGFloat angle = atan2f(transform.b, transform.a);\n[slider setValue:(angle / ((2*M_PI)/ 360)) animated:true];\n</code></pre>\n\n<p>What I did Wrong?</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c", "contacts"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1565945712, "post_id": 57520903, "comment_id": 101510033, "body": "You need to use <a href=\"https://developer.apple.com/documentation/contacts/cnsaverequest\" rel=\"nofollow noreferrer\"><code>CNSaveRequest</code></a> not <code>CNContactViewController</code>"}, {"owner": {"reputation": 1, "user_id": 10502408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e32bacb298206c700a2111e033cc37f?s=128&d=identicon&r=PG&f=1", "display_name": "JOhn Mic", "link": "https://stackoverflow.com/users/10502408/john-mic"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1565946407, "post_id": 57520903, "comment_id": 101510351, "body": "in swift its working"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1565957693, "post_id": 57520903, "comment_id": 101515350, "body": "I don&#39;t see how. This code attempts to present numerous <code>CNContactViewController</code> instances.  Even if it did work it would be a UI nightmare; the user would need to manually save each contact."}, {"owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "edited": false, "score": 0, "creation_date": 1566229675, "post_id": 57520903, "comment_id": 101581822, "body": "Agree with Paulw11, you might only want to display a view controller if you wanted to update an existing contact, and you need the user to select the contact to update.  Otherwise, you want to create a New contact, and then populate its values, then Save the request without displaying any UI component.  However, you probably have to check to see if permission has been granted before doing any of these things."}, {"owner": {"reputation": 21398, "user_id": 3126646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mKVl5.jpg?s=128&g=1", "display_name": "Kampai", "link": "https://stackoverflow.com/users/3126646/kampai"}, "edited": false, "score": 1, "creation_date": 1566369069, "post_id": 57520903, "comment_id": 101629226, "body": "See this line <code>[self.navigationController pushViewController:controller animated:TRUE];</code> you are about to push ViewController 500+ times. This is UI disaster, app will rejected by Apple."}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 5134130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ed5aa59ebdf57598133b39db023a78d?s=128&d=identicon&r=PG&f=1", "display_name": "gencaysahinn", "link": "https://stackoverflow.com/users/5134130/gencaysahinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1592383348, "creation_date": 1592383348, "answer_id": 62424936, "question_id": 57520903, "link": "https://stackoverflow.com/questions/57520903/how-to-save-multiple-phone-numbers-into-phone-using-objective-c/62424936#62424936", "title": "How to save multiple phone numbers into phone using objective c?", "body": "<p>You can update the contact below way. You don't need <code>CNContactViewController</code> .    </p>\n\n<pre><code>CNSaveRequest * saveRequest = [[CNSaveRequest alloc]init];\n[saveRequest updateContact:contact];\nNSError *updateError = nil;\n[store executeSaveRequest:saveRequest error:&amp;updateError];\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10502408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e32bacb298206c700a2111e033cc37f?s=128&d=identicon&r=PG&f=1", "display_name": "JOhn Mic", "link": "https://stackoverflow.com/users/10502408/john-mic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1592383348, "creation_date": 1565942302, "last_edit_date": 1565942562, "question_id": 57520903, "link": "https://stackoverflow.com/questions/57520903/how-to-save-multiple-phone-numbers-into-phone-using-objective-c", "title": "How to save multiple phone numbers into phone using objective c?", "body": "<p>I am trying to create a simple app where I will get a JSON with contact details like name, number, and email. So when I click a button I want all these numbers saved in my phone.</p>\n\n<p>I have tried to parse JSON and put contact saving code in a loop to save but I am not able to see new contacts</p>\n\n<p><strong>my JSON format</strong></p>\n\n<pre><code>[ {\n        \"Name\": \"name1\",\n        \"mobile\": 8634003462503653464,\n        \"email\": \"email01@gmail.com\"\n    },\n    {\n        \"Name\": \"name2\",\n        \"mobile\": 912343576655686,\n        \"email\": \"email@yahoo.co.in\"\n    }\n]\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>- (IBAction)button:(id)sender {\n\n\nNSString *filePath = [[NSBundle mainBundle] pathForResource:@\"test\" ofType:@\"json\"];\nNSData *data = [NSData dataWithContentsOfFile:filePath];\nNSMutableArray *json = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:nil];\n//NSLog(@\"%@\", json);\n\nCNContactStore *store = [[CNContactStore alloc] init];\n\n// create contact\n\nCNMutableContact *contact = [[CNMutableContact alloc] init];\n\nfor(NSDictionary *dict in json){\n    //NSLog(@\"%@\", dict);\n    //NSLog(@\"name %@\",dict[@\"Name\"]);\n\n    NSString *finalname = [NSString stringWithFormat:@\"%@ Marketing\",dict[@\"Name\"]];\n    contact.familyName = dict[@\"Name\"];\n    contact.givenName = finalname;\n    CNLabeledValue *homePhone = [CNLabeledValue labeledValueWithLabel:CNLabelHome value:[CNPhoneNumber phoneNumberWithStringValue:[NSString stringWithFormat:@\"+91%@\",dict[@\"mobile\"]]]];\n    contact.phoneNumbers = @[homePhone];\n\n\n    CNContactViewController *controller = [CNContactViewController viewControllerForUnknownContact:contact];\n    controller.contactStore = store;\n    controller.delegate = self;\n    [self.navigationController pushViewController:controller animated:TRUE];\n}\n\n\n}\n</code></pre>\n\n<p>So here I have 500+ contact list in JSON and I am trying to save all these contacts in my phone over a button click</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12878371, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAjV2be-Y0Sr3XLDQYZdHs9vRChbpkM9R3UorJRTQ=k-s128", "display_name": "Akhand pratap singh", "link": "https://stackoverflow.com/users/12878371/akhand-pratap-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1581421030, "last_edit_date": 1581421030, "creation_date": 1581420602, "answer_id": 60167851, "question_id": 57513024, "link": "https://stackoverflow.com/questions/57513024/goggle-chromecast-cast-autoplay-is-not-working-when-the-device-is-locked-idle/60167851#60167851", "title": "Goggle chromecast cast autoplay is not working when the device is locked / idle", "body": "<p>Firstly you have to check all the basic functionality of chromcast, why <a href=\"https://www.geekyarea.com/how-to-fix-chromecast-not-working-issue/\" rel=\"nofollow noreferrer\">chromecast stopped working</a>.</p>\n\n<p>1.WiFi Network</p>\n\n<p>2.WiFi Connectivity</p>\n\n<p>3.WiFi Frequency</p>\n\n<p>4.Factory Reset</p>\n\n<p>5.Reset your Router</p>\n\n<p>6.Update Router\u2019s Firmware</p>\n\n<p>You can check all the checklist which are mention above.</p>\n\n<p>Thank you.</p>\n"}], "owner": {"reputation": 23, "user_id": 5809928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7953b0f868a50d0e573c66946daeac0b?s=128&d=identicon&r=PG&f=1", "display_name": "sathish", "link": "https://stackoverflow.com/users/5809928/sathish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 589, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581421030, "creation_date": 1565886771, "question_id": 57513024, "link": "https://stackoverflow.com/questions/57513024/goggle-chromecast-cast-autoplay-is-not-working-when-the-device-is-locked-idle", "title": "Goggle chromecast cast autoplay is not working when the device is locked / idle", "body": "<p>I am working on autoplay with Google Chrome Cast, When the app in background state or device is locked / idle, the app playing one video next video is not playing, how to enable autoplay when the app in background mode or device locked.</p>\n\n<p>When the device is locked GCKSession going into suspended state. How to overcome the issue.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 12713, "user_id": 1075405, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/CTmJQ.png?s=128&g=1", "display_name": "Groot", "link": "https://stackoverflow.com/users/1075405/groot"}, "edited": false, "score": 0, "creation_date": 1565883176, "post_id": 57510648, "comment_id": 101492553, "body": "Havn\u2019t tried it so am not sure. But could you set RTL before loading the view of your viewcontroller and then set it ot LTR when it is dismissed?"}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 7435132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3112adbe6514a15c5b36e72d355d56ea?s=128&d=identicon&r=PG&f=1", "display_name": "kannan T", "link": "https://stackoverflow.com/users/7435132/kannan-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1565888792, "last_edit_date": 1565888792, "creation_date": 1565887743, "answer_id": 57513223, "question_id": 57510648, "link": "https://stackoverflow.com/questions/57510648/force-rtl-direction-on-specific-viewcontroller/57513223#57513223", "title": "Force RTL direction on specific ViewController", "body": "<p>Sorry for the code in swift, see the last line of code hope it suits yours need,</p>\n\n<p>My understanding is if you want to set it to a specific VC then you have to assign sematic values to the views by using outlets,</p>\n\n<pre><code>  enum AppLanguages: String {\n    case English = \"en\"\n    case Thai = \"th\"\n    case Arabic = \"ar\"\n    case Tamil = \"ta\"\n\n    var sematic : UISemanticContentAttribute {\n        switch self {\n        case .English,.Thai,.Tamil:\n            return .forceLeftToRight\n        case .Arabic:\n            return .forceRightToLeft\n        }\n    }\n}    \n</code></pre>\n\n<p>then </p>\n\n<pre><code>UIView.appearance().semanticContentAttribute = AppLanguages(rawValue: \"ar\").sematic\n</code></pre>\n\n<p>or - if you like to change the buttons only or particular UI's only then,</p>\n\n<pre><code>UIButton.appearance().semanticContentAttribute = .forceLeftToRight\n</code></pre>\n\n<p>The above will change RTF for all uiview throughtout the application,</p>\n\n<p>best practice is use a tableview to design the specific view and then reload it based on language changes it will work.</p>\n\n<p><strong>For your specific views,</strong></p>\n\n<pre><code>self.yourView.semanticContentAttribute = AppLanguages(rawValue: \"ar\").sematic\n</code></pre>\n"}], "owner": {"reputation": 1940, "user_id": 5587350, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ad4f4ba9975d2c74a6bff6f56720a698?s=128&d=identicon&r=PG&f=1", "display_name": "Keselme", "link": "https://stackoverflow.com/users/5587350/keselme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565888792, "creation_date": 1565876847, "question_id": 57510648, "link": "https://stackoverflow.com/questions/57510648/force-rtl-direction-on-specific-viewcontroller", "title": "Force RTL direction on specific ViewController", "body": "<p>I know I can force the direction of my app using:</p>\n\n<pre><code>[[UIView appearance] setSemanticContentAttribute:UISemanticContentAttributeForceLeftToRight];\n</code></pre>\n\n<p>My question is, can I force it only on one specific ViewController?</p>\n"}, {"tags": ["objective-c", "macos", "pdf", "wkwebview", "nsprintoperation"], "answers": [{"comments": [{"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1565966324, "post_id": 57526014, "comment_id": 101519538, "body": "What would be an alternative to using a WKWebView? So many apps generate prints, so what other way than using a html?"}, {"owner": {"reputation": 977, "user_id": 562866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc090703f79e58028e70a432163898f?s=128&d=identicon&r=PG", "display_name": "Antoine Rosset", "link": "https://stackoverflow.com/users/562866/antoine-rosset"}, "reply_to_user": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1565967945, "post_id": 57526014, "comment_id": 101520262, "body": "You could include wkhtmltopdf (<a href=\"https://wkhtmltopdf.org\" rel=\"nofollow noreferrer\">wkhtmltopdf.org</a>) in your application, when you need to produce a PDF."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "reply_to_user": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1566040882, "post_id": 57526014, "comment_id": 101536362, "body": "@Darren printing an offscreen view is a possible way. It depends on the data and the print."}, {"owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "edited": false, "score": 0, "creation_date": 1566125247, "post_id": 57526014, "comment_id": 101550946, "body": "@AntoineRosset <code>wkhtmltopdf</code> looks great, but I can&#39;t find any info anywhere on how I might add this to an app to work independently of pre-installing it. Any tips?"}], "tags": [], "owner": {"reputation": 977, "user_id": 562866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc090703f79e58028e70a432163898f?s=128&d=identicon&r=PG", "display_name": "Antoine Rosset", "link": "https://stackoverflow.com/users/562866/antoine-rosset"}, "is_accepted": false, "score": 0, "last_activity_date": 1565964209, "creation_date": 1565964209, "answer_id": 57526014, "question_id": 57509495, "link": "https://stackoverflow.com/questions/57509495/macos-pdf-printing-from-wkwebview-is-poor-quality/57526014#57526014", "title": "MacOS PDF/Printing from WKWebView is poor quality", "body": "<p>There is currently no support for printing on macOS from a WKWebView.</p>\n\n<p>See:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33319295/how-does-one-print-all-wkwebview-on-and-offscreen-content-osx-and-ios\">How does one Print all WKWebView On AND Offscreen content OSX and iOS</a></p>\n"}], "owner": {"reputation": 9275, "user_id": 1077601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8156916199f65a68c31dac5b8ad4151c?s=128&d=identicon&r=PG", "display_name": "Darren", "link": "https://stackoverflow.com/users/1077601/darren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1565964209, "creation_date": 1565871337, "last_edit_date": 1565879642, "question_id": 57509495, "link": "https://stackoverflow.com/questions/57509495/macos-pdf-printing-from-wkwebview-is-poor-quality", "title": "MacOS PDF/Printing from WKWebView is poor quality", "body": "<p>I've been using what seems to be a standard way of generating prints/PDF's on MacOS by using a <code>WebView</code> to generate the contents and the following to print/save as a PDF.</p>\n\n<pre><code>NSPrintOperation *printOperation = [NSPrintOperation printOperationWithView:[[[sender mainFrame] frameView] documentView]\n                                                                      printInfo:self.printInfo];\n</code></pre>\n\n<p>This works great, however <code>WebView</code> has been deprecated since 10.14 and with 10.15 on the way it's time to move over to <code>WKWebView</code>.\nPassing the <code>WKWebView</code>'s view to the <code>NSPrintOperation</code> always gives a blank page which has been reported in several other questions here.</p>\n\n<p>I have it all working with the following code:</p>\n\n<pre><code>WKWebViewConfiguration *configuration = [[WKWebViewConfiguration alloc] init];\nself.webView = [[WKWebView alloc] initWithFrame:printRect configuration:configuration];\nself.webView.navigationDelegate = self;\n\n[self.webView loadHTMLString:htmlString baseURL:nil];\n</code></pre>\n\n<p>.</p>\n\n<pre><code>- (void)webView:(WKWebView *)webView didFinishNavigation:(WKNavigation *)navigation API_AVAILABLE(macosx(10.13))\n{   \n    if (@available(macOS 10.13, *))\n    {\n        [webView takeSnapshotWithConfiguration:nil completionHandler:^(NSImage *snapshotImage, NSError *error) {\n\n            if (!error)\n            {   \n                NSRect vFrame = NSZeroRect;\n                vFrame.size = [snapshotImage size];\n                NSImageView *imageView = [[NSImageView alloc] initWithFrame:vFrame];\n                [imageView setImage:snapshotImage];\n\n                NSPrintOperation *printOperation = [NSPrintOperation printOperationWithView:imageView\n                                                                                  printInfo:self.printInfo];\n\n                if (self.saveToFilename)\n                {\n                    printOperation.showsPrintPanel = NO;\n                    printOperation.showsProgressPanel = YES;\n                }\n                else\n                {\n                    printOperation.showsPrintPanel = YES;\n                    printOperation.showsProgressPanel = YES;\n                }\n\n                BOOL success = [printOperation runOperation];\n\n                if (self.printCompletionBlock) self.printCompletionBlock(success);\n            }\n        }];\n    }\n}\n</code></pre>\n\n<p>It generates an image snapshot of the <code>WKWebView</code> then uses an <code>NSImageView</code> to pass to the <code>NSPrintOperation</code>.\nThe problem is that the quality of the PDF/Print is not as good as the old method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ai0Kt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ai0Kt.png\" alt=\"OLD\"></a>\n<a href=\"https://i.stack.imgur.com/30rbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30rbv.png\" alt=\"NEW\"></a></p>\n\n<p>How can I get the same quality from a WKWebView that I did from the old WebView?</p>\n"}, {"tags": ["objective-c", "type-conversion"], "answers": [{"tags": [], "owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "is_accepted": true, "score": 0, "last_activity_date": 1565878401, "creation_date": 1565878401, "answer_id": 57511008, "question_id": 57509410, "link": "https://stackoverflow.com/questions/57509410/using-max-with-unsigned-long-and-unsigned-long-subtraction/57511008#57511008", "title": "Using MAX with unsigned long and unsigned long subtraction", "body": "<p>Using <code>MAX</code> is save. Not safe is using <code>.count - 1</code>.</p>\n\n<p>Your's cycle should be:</p>\n\n<pre><code>for(NSInteger w = 0; 1 + w &lt; a.count; ++w)\n{\n    NSLog(@\"w = %li\",w);\n}\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 1231430, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0362a5d440c1f14d245c9257391e0e4a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1231430/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 57511008, "answer_count": 1, "score": 0, "last_activity_date": 1565878401, "creation_date": 1565870871, "question_id": 57509410, "link": "https://stackoverflow.com/questions/57509410/using-max-with-unsigned-long-and-unsigned-long-subtraction", "title": "Using MAX with unsigned long and unsigned long subtraction", "body": "<p>The <code>NSArray</code>'s <code>count</code> is a <code>NSUInteger</code>. When the array is <em>empty</em>, the following line sets <code>-1</code> to <code>p</code> (at first glance, someone could guess <code>p</code> will become <code>0</code>).</p>\n\n<pre><code>NSInteger p = MAX(0, array.count - 1)\n</code></pre>\n\n<p>I assume, the reason is that <code>array.count - 1</code> is interpreted by the <code>MAX</code> macro as 18446744073709551615 instead of -1, so it returns this value as larger of two but, because <code>p</code> is a <code>long</code>, then it converts the large number to -1. Am I wrong here?</p>\n\n<p>So, is it safe to use MAX to compare integers?</p>\n\n<p>For example, it is possible to write a loop, which in a particular case when <code>a.count == 0</code>, intuitively looks like exiting immediately but in fact is proceeds with zillions of iterations, freezing or crashing the device. Is this because the constrain is interpreted as <code>w &lt; 18446744073709551615</code> ?. </p>\n\n<pre><code>NSMutableArray *a = [NSMutableArray arrayWithCapacity:10];\nfor(NSInteger w = 0; w &lt; MAX(0, a.count-1); w++)\n{\n    NSLog(@\"w = %li\",w);\n}\n</code></pre>\n\n<p>I guess, that a safe method would be writing:</p>\n\n<pre><code>NSInteger q = array.count - 1;\nNSInteger p = MAX(0, q);\n</code></pre>\n\n<p>... which would set zero to <code>p</code>.</p>\n"}, {"tags": ["ios", "objective-c"], "owner": {"reputation": 32, "user_id": 10158006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feafb4ed96a4404c8d1745cd079c6181?s=128&d=identicon&r=PG&f=1", "display_name": "Jaeda", "link": "https://stackoverflow.com/users/10158006/jaeda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1565862569, "creation_date": 1565862569, "question_id": 57507842, "link": "https://stackoverflow.com/questions/57507842/ios-system-native-share-method-specify-app-with-audio-or-video", "title": "iOS system native share method specify app with audio or video", "body": "<p>I want to make a function of iOS system native share.This is easy,but I want to specify app with sharing.</p>\n\n<p>Now I mean show 'GarageBand' app every time in bottom activity controller sheet.And I can share audio to 'GargeBand' app. So what can I do?</p>\n\n<p>I want this 'GarageBand' app show every time in call system native share.</p>\n\n<p>Here are some attempts I made.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nNSString * const  garagebandBundleId = @\"com.apple.mobilegarageband\";\n\n    BOOL isAvailable = [SLComposeViewController isAvailableForServiceType:garagebandBundleId];\n    if (isAvailable == NO) {\n        return;\n    }\n\n    SLComposeViewController *composeVC = [SLComposeViewController composeViewControllerForServiceType:garagebandBundleId];\n    BOOL isText = [composeVC setInitialText:@\"test ring\"];\n    NSString *filePath = [[NSBundle mainBundle]pathForResource:@\"test\" ofType:@\"mp3\"];\n    NSURL *audioUrl = [NSURL fileURLWithPath:filePath];\n    BOOL isAudioUrl = [composeVC addURL:audioUrl];\n\n    [self presentViewController:composeVC animated:YES completion:^{\n        NSLog(@\"log-come share\");\n    }];\n\n    [composeVC setCompletionHandler:^(SLComposeViewControllerResult result) {\n        if (result == SLComposeViewControllerResultCancelled) {\n            NSLog(@\"cancel share\");\n        }else if (result == SLComposeViewControllerResultDone) {\n            NSLog(@\"share done\");\n        }\n\n        //  dismiss the Tweet Sheet\n        dispatch_async(dispatch_get_main_queue(), ^{\n            [self dismissViewControllerAnimated:NO completion:^{\n                NSLog(@\"Sheet has been dismissed.\");\n            }];\n        });\n    }];\n\n</code></pre>\n\n<p>I use above code with app share  extension id.But I get error.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>[core] Sheet not being presented, calling premature completion\n</code></pre>\n\n<p>So I guess 'Garageband' app share extension id is wrong.</p>\n\n<p>I description is over.What can I do?</p>\n\n<p>Thanke you your help.</p>\n"}]