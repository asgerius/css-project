[{"tags": ["objective-c", "wkwebview", "uiaccessibility"], "comments": [{"owner": {"reputation": 11, "user_id": 11639216, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xBseOw-ZGIg/AAAAAAAAAAI/AAAAAAAAJ9E/_giau0uQL3w/photo.jpg?sz=128", "display_name": "cyanglaz", "link": "https://stackoverflow.com/users/11639216/cyanglaz"}, "edited": false, "score": 0, "creation_date": 1590607085, "post_id": 56570808, "comment_id": 109746916, "body": "This issue seems to be fixed by Apple starting with iOS 13.3"}], "owner": {"reputation": 11, "user_id": 11639216, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xBseOw-ZGIg/AAAAAAAAAAI/AAAAAAAAJ9E/_giau0uQL3w/photo.jpg?sz=128", "display_name": "cyanglaz", "link": "https://stackoverflow.com/users/11639216/cyanglaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574122406, "creation_date": 1560376077, "last_edit_date": 1560467536, "question_id": 56570808, "link": "https://stackoverflow.com/questions/56570808/how-to-correctly-add-wkwebview-to-accessibilityelements-in-an-accessibilityconta", "title": "How to correctly add WKWebView to accessibilityElements in an AccessibilityContainer?", "body": "<p>I have a custom configured Accessibility tree using AccessibilityContainer and AccessibilityElements. Now I want to add a WKWebView under one of the AccessibilityContainers as an AccessibilityElements.</p>\n\n<p>Everything works except that if I want to select an accessibility element directly (moving finger around the web view to find elements).</p>\n\n<p>I replaced the WKWebView with deprecated UIWebView and it worked flawlessly.</p>\n\n<p>And If I don't have the custom configured tree, WKWebView's accessibility works perfectly too. </p>\n\n<p>I have created a sample code to reproduce the issue, what I am doing in this code might not make sense in a real application but it replicates the set up I have in my project.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>@implementation ViewController\n\n- (void)viewDidLoad {\n  [super viewDidLoad];\n\n  UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, self.view.bounds.size.width, 100)];\n  label.backgroundColor = [UIColor yellowColor];\n  label.textColor = [UIColor blueColor];\n  label.text = @\"Here is some text\";\n\n  CGRect webViewRect = CGRectMake(0, 100, self.view.bounds.size.width, self.view.bounds.size.height-100);\n\n  WKWebView *webview = [[WKWebView alloc] initWithFrame:webViewRect];\n  [webview loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@\"https://google.com\"]]];\n  webview.accessibilityFrame = webViewRect;\n\n  [self.view addSubview:label];\n  [self.view addSubview:webview];\n  self.view.accessibilityElements = @[label, webview];\n  // Do any additional setup after loading the view, typically from a nib.\n}\n</code></pre>\n\n<p>I would expect the elements in the WKWebView selectable by the Accessibility Inspector but they aren't in this case.</p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview", "uibutton", "radio-button"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9414423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "akku", "link": "https://stackoverflow.com/users/9414423/akku"}, "edited": false, "score": 0, "creation_date": 1560458780, "post_id": 56585152, "comment_id": 99754451, "body": "can&#39;t I achieve this by just adding single radioButton?"}], "tags": [], "owner": {"reputation": 635, "user_id": 4102523, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Jpj5u.jpg?s=128&g=1", "display_name": "tww0003", "link": "https://stackoverflow.com/users/4102523/tww0003"}, "is_accepted": false, "score": 0, "last_activity_date": 1560444290, "creation_date": 1560444290, "answer_id": 56585152, "question_id": 56570374, "link": "https://stackoverflow.com/questions/56570374/previous-radio-buttons-state-not-cleared-objective-c/56585152#56585152", "title": "Previous Radio buttons state not cleared objective c", "body": "<p>Try storing all your buttons in an array. When one gets tapped, loop through the array, and check if each button is selected. If the button is selected, set it to not be, then exit the loop. After the loop, set the button that was tapped (<code>sender</code>) to be selected.  </p>\n\n<p>Untested example code:  </p>\n\n<pre><code>- (void) viewDidLoad {\n    self.radioBtn = [UIButton buttonWithType: UIButtonTypeCustom];\n    [self.radioBtn setFrame:CGRectMake(40,38,20,20)];\n    [self.radioBtn setImage: [UIImage imageNamed:@\"radio-button\"]forState:UIControlStateNormal];\n    [self.radioBtn setImage: [UIImage imageNamed:@\"radio-button-select\"]forState: UIControlStateSelected];\n    [self.radioBtn addTarget:self action:@selector(myButtonTapped:) forControlEvents:UIControlEventTouchUpInside];\n    [self.radioBtn setSelected:YES];\n    [self.view2 addSubview:self.radioBtn];\n\n    self.radioBtn2 = [UIButton buttonWithType: UIButtonTypeCustom];\n    [self.radioBtn2 setFrame:CGRectMake(40,38,20,20)];\n    [self.radioBtn2 setImage: [UIImage imageNamed:@\"radio-button\"]forState:UIControlStateNormal];\n    [self.radioBtn2 setImage: [UIImage imageNamed:@\"radio-button-select\"]forState: UIControlStateSelected];\n    [self.radioBtn2 addTarget:self action:@selector(myButtonTapped:) forControlEvents:UIControlEventTouchUpInside];\n    [self.radioBtn2 setSelected:NO];\n    [self.view2 addSubview:self.radioBtn2];\n\n    self.radioBtn3 = [UIButton buttonWithType: UIButtonTypeCustom];\n    [self.radioBtn3 setFrame:CGRectMake(40,38,20,20)];\n    [self.radioBtn3 setImage: [UIImage imageNamed:@\"radio-button\"]forState:UIControlStateNormal];\n    [self.radioBtn3 setImage: [UIImage imageNamed:@\"radio-button-select\"]forState: UIControlStateSelected];\n    [self.radioBtn3 addTarget:self action:@selector(myButtonTapped:) forControlEvents:UIControlEventTouchUpInside];\n    [self.radioBtn3 setSelected:NO];\n    [self.view2 addSubview:self.radioBtn3];\n    self.buttonArray = @[self.radioBtn, self.radioBtn2, self.radioBtn3];\n\n}\n\n- (void) myButtonTapped:(UIButton*) sender {\n    for(UIButton *btn in self.buttonArray) {\n        // Only one button should be selected at a time, so once we find it,\n        // set it to not be selected then break from the loop\n        if(btn.isSelected){\n            [btn setSelected:NO];\n            break;\n        }\n    }\n    // set the button that was tapped to be selected\n    [sender setSelected:YES];\n}\n</code></pre>\n\n<p>To send one button's text to another button's is fairly simple.  </p>\n\n<pre><code>[btn2 setTitle:[btn1 titleForState:UIControlStateNormal] forState:UIControlStateNormal];  \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9414423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "akku", "link": "https://stackoverflow.com/users/9414423/akku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574159653, "creation_date": 1560373651, "last_edit_date": 1574159653, "question_id": 56570374, "link": "https://stackoverflow.com/questions/56570374/previous-radio-buttons-state-not-cleared-objective-c", "title": "Previous Radio buttons state not cleared objective c", "body": "<p><strong>What I want?</strong></p>\n\n<p>Custom radio buttons, allowing a user to select a single option among multiple options</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code> - (void)setupBtn{\n        self.radioBtn = [UIButton buttonWithType: UIButtonTypeCustom];\n        [self.radioBtn setFrame:CGRectMake(40,38,18,18)];\n        [self.radioBtn setImage: [UIImage imageNamed:@\"radio-button\"]forState:UIControlStateNormal];\n        [self.radioBtn setImage: [UIImage imageNamed:@\"radio-button-select\"]forState: UIControlStateSelected];\n        [self.radioBtn addTarget:self action:@selector(radioButtonTapped:) forControlEvents:UIControlEventTouchUpInside];\n        [self.view2 addSubview:self.radioBtn];\n\n    }\n    - (IBAction)radioButtonTapped:(UIButton*)sender{\n        if (self.radioBtn.isSelected ==  true) {\n            [self.radioBtn setSelected:NO];\n            self.view1.backgroundColor =[UIColor clearColor];\n            [self.radioBtn setImage:[UIImage imageNamed:@\"radio-button\"] forState:UIControlStateNormal];\n        }else {\n            [self.radioBtn setSelected:YES];\n            self.view1.backgroundColor = [UACFCustomColors continentalLightBlueTransparent];\n            [self.radioBtn setImage:[UIImage imageNamed:@\"radio-button-select\"] forState:UIControlStateSelected];\n        }\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "nstimer"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560377111, "post_id": 56570331, "comment_id": 99720755, "body": "Those two <code>NSLog</code> can&#39;t generate the output you show in your question. If there is only one timer, nothing else changes <code>timerCount</code>, and your start <code>timerCount</code> at <code>0</code>, it would print <code>0 1 1 2 2 3 3 4 ... 18 19 19 20</code> and then start over at 0 showing the same sequence again. If you incremented by 4 and started at 0 you would get <code>0, 4, 4, 8, 8, 12, 12, 16, 16, 20</code>. Maybe you only want one <code>NSLog</code>."}, {"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1560378275, "post_id": 56570331, "comment_id": 99721041, "body": "The usual answer is: The timer is increased by 4 because you wrote code that did it. Find that code. Set a breakpoint everywhere timerCounter is mentioned. If your code does things you didn&#39;t expect, it&#39;s because you told it so. There are no gremlins hidden, it&#39;s your code doing it. It&#39;s your job finding out why."}, {"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560449634, "post_id": 56570331, "comment_id": 99750624, "body": "it&#39;s only being incremented by 1, there is no other place in the code where it is incremented"}, {"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1560455777, "post_id": 56570331, "comment_id": 99753361, "body": "So how many other timers are running that call that action?"}, {"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560456444, "post_id": 56570331, "comment_id": 99753621, "body": "it&#39;s only called once from a button in an alert view"}], "answers": [{"comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560377227, "post_id": 56570441, "comment_id": 99720787, "body": "Assuming the timer was started on the main queue, multiple timers wouldn&#39;t change the output."}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560374059, "creation_date": 1560374059, "answer_id": 56570441, "question_id": 56570331, "link": "https://stackoverflow.com/questions/56570331/nstimer-iterating-by-4/56570441#56570441", "title": "NSTimer iterating by 4", "body": "<p>It appears that you call 2 times so before assign do</p>\n\n<pre><code>if (timer == nil) {\n timer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(timerFunction:) userInfo: nil repeats:YES];\n}\nelse {\n    // active\n}\n</code></pre>\n\n<p>Also you print it twice</p>\n\n<pre><code>NSLog(@\"%d\", timerCounter); // 1\ntimerCounter += 1;\nNSLog(@\"%d\", timerCounter); // 2\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560374059, "creation_date": 1560373436, "question_id": 56570331, "link": "https://stackoverflow.com/questions/56570331/nstimer-iterating-by-4", "title": "NSTimer iterating by 4", "body": "<p>I have a timer that I want to iterate once every second, but the counter is iterating by 4 each time and I'm not sure why. it prints: 4,4,8,8,12,12,16,16,20</p>\n\n<pre><code>timer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(timerFunction:) userInfo: nil repeats:YES];\n\n-(void)timerFunction:(NSTimer *)timer {\n    NSLog(@\"%d\", timerCounter);\n    timerCounter += 1;\n    NSLog(@\"%d\", timerCounter);\n    if(timerCounter &gt;= 20){\n        [self kestrelAlert];\n        timerCounter = 0;\n        [[self cancelButton] setHidden:YES];\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "uikit", "uitextview"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1560530348, "post_id": 56569831, "comment_id": 99780304, "body": "Yes, it <i>is</i> a duplicate. If you look at that answer and think about the technique used, you will see that you also get the line fragments that give you the range information for each wrapped line."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 3292503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5568d7517e2f8ca5314fa8277b2c43b?s=128&d=identicon&r=PG&f=1", "display_name": "Perversio", "link": "https://stackoverflow.com/users/3292503/perversio"}, "is_accepted": false, "score": 1, "last_activity_date": 1560529708, "creation_date": 1560529708, "answer_id": 56602069, "question_id": 56569831, "link": "https://stackoverflow.com/questions/56569831/how-to-get-lines-in-uitextview-after-word-wrapping/56602069#56602069", "title": "How to get lines in UITextView after word wrapping?", "body": "<p>Inspired by <a href=\"https://stackoverflow.com/a/17635/3292503\">this answer</a>.\nIt appears, that you need to calculate word wrapping by yourself. \nHere is a simple example:</p>\n\n<pre><code>@interface UITextView (Lines)\n\n- (NSArray*) textLines;\n\n@end\n\n@implementation UITextView (Lines)\n\n- (NSArray*) textLines{\n    NSMutableArray *result = @[].mutableCopy;\n\n    NSArray *input = [self.text componentsSeparatedByString:@\" \"];\n\n    NSDictionary *attributes = @{NSFontAttributeName:self.font};\n    CGFloat maxWidth = self.frame.size.width - self.textContainer.lineFragmentPadding*2;\n    NSMutableString *currentLine = @\"\".mutableCopy;\n\n    for (NSString *component in input) {\n        NSString *componentCheck = [NSString stringWithFormat:@\" %@\",component];\n        CGSize currentSize = [currentLine sizeWithAttributes:attributes];\n        CGSize componentSize = [componentCheck sizeWithAttributes:attributes];\n        if (currentSize.width + componentSize.width &lt; maxWidth) {\n            [currentLine appendString:componentCheck];\n        }else{\n            [result addObject:currentLine];\n            currentLine = component.mutableCopy;\n        }\n    }\n\n    return result;\n}\n\n@end\n</code></pre>\n"}], "owner": {"reputation": 373, "user_id": 8399495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4dcf7abc7d47d4c9e4f563f4964d0c?s=128&d=identicon&r=PG&f=1", "display_name": "Sarp Ba\u015faraner", "link": "https://stackoverflow.com/users/8399495/sarp-ba%c5%9faraner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "closed_date": 1560530360, "answer_count": 1, "score": 0, "last_activity_date": 1560530395, "creation_date": 1560370897, "last_edit_date": 1560396660, "question_id": 56569831, "link": "https://stackoverflow.com/questions/56569831/how-to-get-lines-in-uitextview-after-word-wrapping", "closed_reason": "Duplicate", "title": "How to get lines in UITextView after word wrapping?", "body": "<p>I can't just split the string with \"\\n\" and count the lines that way since word wrapping occurs dynamically.</p>\n\n<p>What I need is a function that returns the lines (strings) from UITextView at that point in time.</p>\n\n<p>Edit: this is not a duplicate of <a href=\"https://stackoverflow.com/questions/5837348/counting-the-number-of-lines-in-a-uitextview-lines-wrapped-by-frame-size\">Counting the number of lines in a UITextView, lines wrapped by frame size</a> , since I need contents of lines, not just line count.</p>\n"}, {"tags": ["objective-c", "ssl", "localhost", "trust", "self-signed-certificate"], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560378095, "creation_date": 1560378095, "answer_id": 56571095, "question_id": 56568616, "link": "https://stackoverflow.com/questions/56568616/how-to-get-ios-app-to-trust-localhost-for-development-api/56571095#56571095", "title": "How to get IOS app to trust localhost for development API", "body": "<p>You can try this:  At the top of each of your ViewControllers that make any HTTP requests, just under the imports section, add this code:</p>\n\n<pre><code>@interface NSURLRequest (DummyInterface)\n+ (BOOL)allowsAnyHTTPSCertificateForHost:(NSString*)host;\n+ (void)setAllowsAnyHTTPSCertificate:(BOOL)allow forHost:(NSString*)host;\n@end\n</code></pre>\n\n<p>Then, down where you are making the request, call this:</p>\n\n<pre><code>[request setHTTPBody:data];\n\n[NSURLRequest setAllowsAnyHTTPSCertificate:YES forHost:[url host]];\n\nNSError *error;\nNSHTTPURLResponse  *response = nil;\n\nNSData *data2 = [NSURLConnection sendSynchronousRequest:request returningResponse:&amp;response error:&amp;error];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 11321525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q2Cgh.jpg?s=128&g=1", "display_name": "Torrey Btrown", "link": "https://stackoverflow.com/users/11321525/torrey-btrown"}, "is_accepted": true, "score": 0, "last_activity_date": 1561669216, "creation_date": 1561669216, "answer_id": 56798410, "question_id": 56568616, "link": "https://stackoverflow.com/questions/56568616/how-to-get-ios-app-to-trust-localhost-for-development-api/56798410#56798410", "title": "How to get IOS app to trust localhost for development API", "body": "<p>The best way to go about this is to <a href=\"https://developer.apple.com/documentation/foundation/url_loading_system/handling_an_authentication_challenge/performing_manual_server_trust_authentication?language=objc\" rel=\"nofollow noreferrer\">Perform Manual Server Trust Authentication</a> for the url of the localhost development server (running in the background). This is done by utilizing the <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiondelegate/1409308-urlsession?language=objc\" rel=\"nofollow noreferrer\">URLSession:didReceiveChallenge:completionHandler:</a> delegate method of your <a href=\"https://developer.apple.com/documentation/foundation/nsurlsessiondelegate?language=objc\" rel=\"nofollow noreferrer\">NSURLSessionDelegate</a>; which will give you the opportunity to match against the localhost url and manually trust it when the session data task begins (before it rejects due to the untrusted self-signed-certificate). </p>\n\n<p>Here's how: </p>\n\n<p>Step 1: Wrap the NSURLSession operations in a class, say \"Networking\", which implements the NSURLSessionDelegate protocol; and add the delegate method which manually trusts your localhost url (specified as 'DEV_URL').</p>\n\n<pre><code>// Networking.h\n#import &lt;Foundation/Foundation.h&gt;\n\n@interface Networking : NSObject &lt;NSURLSessionDelegate&gt;\n- (void) fetchContentsOfUrl:(NSURL *)url\n                 completion:(void (^)(NSData *data, NSError *error)) completionHandler;\n@end\n</code></pre>\n\n<pre><code>// Networking.m\n#import \"Networking.h\"\n\nstatic NSString *const DEV_URL = @\"https://localhost:5001\";\n@implementation Networking\n- (void) fetchContentsOfUrl:(NSURL *)url\n                 completion:(void (^)(NSData * _Nullable, NSError * _Nullable))completionHandler {\n    NSURLSession *dataSession = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration] delegate:self delegateQueue:nil];\n\n    NSURLSessionDataTask *dataTask = [dataSession\n                                      dataTaskWithURL:url\n                                      completionHandler:^(NSData * _Nullable data, NSURLResponse * _Nullable response, NSError * _Nullable error) {\n\n                                          if (completionHandler == nil) {\n                                              return;\n                                          }\n\n                                          if (error){\n                                              completionHandler(nil, error);\n                                              return;\n                                          }\n\n                                          completionHandler(data, nil);\n                                      }];\n\n    [dataTask resume];\n}\n\n- (void)URLSession:(NSURLSession *)session didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition, NSURLCredential * _Nullable))completionHandler {\n\n    if ([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust]) {\n        NSURL* baseURL = [NSURL URLWithString:DEV_URL];\n        if ([challenge.protectionSpace.host isEqualToString:baseURL.host]) {\n            NSLog(@\"trusting connection to host %@\", challenge.protectionSpace.host);\n            completionHandler(NSURLSessionAuthChallengeUseCredential, [NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust]);\n        } else {\n            NSLog(@\"Not trusting connection to host %@\", challenge.protectionSpace.host);\n            completionHandler(NSURLSessionAuthChallengeCancelAuthenticationChallenge, nil);\n        }\n    }\n    [challenge.sender continueWithoutCredentialForAuthenticationChallenge:challenge];\n}\n@end\n</code></pre>\n\n<p>Step 2: Replace your original code with an instantiation of the Networking class and a call to the fetchContentsOfUrl:completion: method which invokes the NSURLSessionDataTask, as follows: </p>\n\n<pre><code>    Networking *networker = [[Networking alloc] init];\n    [networker fetchContentsOfUrl:url completion:^(NSData *data, NSError *error) {        \n        if (error == nil) {\n            NSString *output = [NSString alloc];\n            NSLog(@\"%@\", [output initWithData:data  encoding:(NSASCIIStringEncoding)] ? : @\"no data\");\n        }\n    }];\n</code></pre>\n\n<p>You're all set!!</p>\n"}], "owner": {"reputation": 3, "user_id": 10917470, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F1StWfN92uM/AAAAAAAAAAI/AAAAAAAAAAA/2DcsL6jB_ic/photo.jpg?sz=128", "display_name": "Torrey Brown", "link": "https://stackoverflow.com/users/10917470/torrey-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 56798410, "answer_count": 2, "score": 0, "last_activity_date": 1561669216, "creation_date": 1560365346, "question_id": 56568616, "link": "https://stackoverflow.com/questions/56568616/how-to-get-ios-app-to-trust-localhost-for-development-api", "title": "How to get IOS app to trust localhost for development API", "body": "<p>Using Visual Studio for Mac, I've created a RESFUL API (developed from API project template), which out of the box outputs a very simple JSON file (i.e. [\"value1\",\"value2\"]) at the following url: <a href=\"https://localhost:5001/api/values\" rel=\"nofollow noreferrer\">https://localhost:5001/api/values</a>. </p>\n\n<p>So, while running the API on Visual Studio in the background, I'm also running XCode on the same computer; in that I'm developing an app which needs to connect to the API url and output the expected JSON response. </p>\n\n<p>The problem is it continually fails due to a trust error: \"TIC SSL Trust Error...NSURLSession/NSURLConnection HTTP Load failed\". </p>\n\n<p>From what I've researched, I believe I need to install the self-signed certificate of localhost onto my XCode emulator in order for it to permit the app to trust the url. How do I get access to this localhost certificate? </p>\n\n<p>Or is this even the right way to go?</p>\n\n<p>Code that generates the trust error: </p>\n\n<pre><code>// Specify the base url...\nstatic NSString *const API_URL = @\"https://localhost:5001\";\n</code></pre>\n\n<pre><code>// Specify completed url ...\nNSString *urlAppend = [NSString stringWithFormat:@\"/api/values\"];\nNSString *urlStr = [[[NSString alloc] initWithString:API_URL]\nstringByAppendingString:urlAppend];        \n\n// Specify the URL object that can return JSON, XML, etc....\nNSURL *url = [[NSURL alloc] initWithString:urlStr];\n\n// Create an NSURLSessionDataTask that does the GET request at the specified URL (using NSURLSession shared session)...\nNSURLSessionDataTask *task = [[NSURLSession sharedSession]\n              dataTaskWithURL:url\n              completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n\n                  // Handle response (output respnose to log window))...\n                  NSLog(@\"%@\", [output initWithData:data  encoding:(NSASCIIStringEncoding)] ? : @\"no data\");\n              }];\n\n// Start task ....\n[task resume];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift"], "comments": [{"owner": {"reputation": 13, "user_id": 8283466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108113cd92af52a9f45c9e1b6c42a504?s=128&d=identicon&r=PG&f=1", "display_name": "Sezar_SZ", "link": "https://stackoverflow.com/users/8283466/sezar-sz"}, "edited": false, "score": 0, "creation_date": 1560353144, "post_id": 56565485, "comment_id": 99710646, "body": "I think I found a similar question. <a href=\"https://stackoverflow.com/questions/42297132/swift-3-how-to-override-silent-mode-and-play-audio-from-background\">check this out</a>:"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1560353882, "post_id": 56565485, "comment_id": 99711081, "body": "I&#39;ve never used Stretch, but apps that I know, such as MultiTimer, are <i>not</i> able to solve this problem, so I believe it cannot be solved. Maybe Stretch uses the cheating method of playing a silent sound continuously in the background to keep itself alive."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11637591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a7b8043ee2176eeace46871275e5d4?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmadkhan218", "link": "https://stackoverflow.com/users/11637591/ahmadkhan218"}, "edited": false, "score": 0, "creation_date": 1560353976, "post_id": 56565560, "comment_id": 99711129, "body": "I won&#39;t be able to run this code when the app is in background. The only use case I&#39;m having a problem with is when the app is in background and silent mode is on"}], "tags": [], "owner": {"reputation": 734, "user_id": 8164633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d23496f833db28aed3398f88336dc9?s=128&d=identicon&r=PG&f=1", "display_name": "Alastar", "link": "https://stackoverflow.com/users/8164633/alastar"}, "is_accepted": false, "score": 0, "last_activity_date": 1560352759, "creation_date": 1560352759, "answer_id": 56565560, "question_id": 56565485, "link": "https://stackoverflow.com/questions/56565485/need-to-play-a-sound-when-app-is-in-background-and-silent-mode-is-on/56565560#56565560", "title": "Need to play a sound when app is in background and silent mode is on", "body": "<p>Use <code>AVAudioSessionCategoryPlayback</code> for playing sound when device is in silent mode; usage:</p>\n\n<pre><code> do {\n    try AVAudioSession.sharedInstance().setCategory(AVAudioSessionCategoryPlayback)\n }\n catch {\n    // report for an error\n }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11637591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2a7b8043ee2176eeace46871275e5d4?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmadkhan218", "link": "https://stackoverflow.com/users/11637591/ahmadkhan218"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560352759, "creation_date": 1560352518, "question_id": 56565485, "link": "https://stackoverflow.com/questions/56565485/need-to-play-a-sound-when-app-is-in-background-and-silent-mode-is-on", "title": "Need to play a sound when app is in background and silent mode is on", "body": "<p>I'm trying to make a timer app with a very simple interface. The problem is that there's no way to run a code block in the background and local notifications can't play a sound when the phone is in silent mode. I have found apps like stretch which are catering to this particular use case. </p>\n\n<p>I have tried solving this issue using local notifications but local notifications can't play sound when silent mode is turned on.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "protocols"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560354952, "post_id": 56565244, "comment_id": 99711680, "body": "That didn&#39;t change anything"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560355034, "post_id": 56565244, "comment_id": 99711725, "body": "this <code>KestrelDeviceConnect *bluetoothManager;</code> outside <code>viewDidLoad</code> ?"}, {"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560355217, "post_id": 56565244, "comment_id": 99711829, "body": "self.timer = Timer.scheduledTimer(timeInterval: 1, target: self, selector: #selector(self.timerAction), userInfo: nil, repeats: true)"}, {"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560355263, "post_id": 56565244, "comment_id": 99711846, "body": "I know the if statement in the timerAction function executes, but self.delegate?.readingIsOver() doesnt do anything"}, {"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "reply_to_user": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560355350, "post_id": 56565244, "comment_id": 99711884, "body": "do <code>print( self.delegate)</code> to see if nil , also where &amp; when in terms of order you run that timer"}, {"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560355673, "post_id": 56565244, "comment_id": 99712044, "body": "it prints &quot;nil&quot;"}, {"owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "edited": false, "score": 0, "creation_date": 1560356023, "post_id": 56565244, "comment_id": 99712230, "body": "the timer is started when a function in the the file is called"}], "tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1560351771, "creation_date": 1560351771, "answer_id": 56565244, "question_id": 56565160, "link": "https://stackoverflow.com/questions/56565160/swift-protocol-interacting-with-objective-c-viewcontroller-class/56565244#56565244", "title": "Swift protocol interacting with objective-c ViewController Class", "body": "<p>You need to hold a strong reference by making <code>bluetoothManager</code> an instance variable </p>\n\n<pre><code>KestrelDeviceConnect *bluetoothManager;\n</code></pre>\n\n<hr>\n\n<pre><code>bluetoothManager = [[KestrelDeviceConnect alloc]init];\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11579519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587320516298b7f587012365eccbf969?s=128&d=identicon&r=PG&f=1", "display_name": "Display Name", "link": "https://stackoverflow.com/users/11579519/display-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560352450, "creation_date": 1560351505, "last_edit_date": 1560352450, "question_id": 56565160, "link": "https://stackoverflow.com/questions/56565160/swift-protocol-interacting-with-objective-c-viewcontroller-class", "title": "Swift protocol interacting with objective-c ViewController Class", "body": "<p>I am trying to trigger a function from my view controller class in a swift class using a protocol.</p>\n\n<pre><code>@objc protocol KestrelDeviceConnectDelegate: AnyObject {    \n    func readingIsOver()    \n}\n\nclass KestrelDeviceConnect: NSObject {    \n\n    weak var delegate: KestrelDeviceConnectDelegate?\n\n    func timerAction() {    \n        timerCounter += 1\n        if(timerCounter &gt;= 20){\n            progressHUD.hide()\n            timerCounter = 0\n            timer.invalidate()\n            self.delegate?.readingIsOver()\n\n            //present kestrel alert\n        }\n    }\n}\n</code></pre>\n\n<p>in the view controller class viewdidload </p>\n\n<pre><code>KestrelDeviceConnect *bluetoothManager = [[KestrelDeviceConnect alloc]init];\nbluetoothManager.delegate = self;\n</code></pre>\n\n<p>function I want to be called from my swift class </p>\n\n<pre><code>- (void)readingIsOver {\n    [[self logConditionsButton] setHidden:NO];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode", "autolayout", "xcode10"], "comments": [{"owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "edited": false, "score": 0, "creation_date": 1560379524, "post_id": 56562778, "comment_id": 99721318, "body": "Does your code use the UIPopoverController?  This object was deprecated in iOS 9, so, there are other options that you have to code around."}, {"owner": {"reputation": 700, "user_id": 4936200, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b56e8bcbc9592bec49dda313e9535fc?s=128&d=identicon&r=PG&f=1", "display_name": "Frostless", "link": "https://stackoverflow.com/users/4936200/frostless"}, "reply_to_user": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "edited": false, "score": 0, "creation_date": 1560383344, "post_id": 56562778, "comment_id": 99722046, "body": "@Michael Dougan I update with the triggering code.. Not sure if self.popoverController is the same as UIPopoverController. But it works in iPad.."}], "answers": [{"tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1560383929, "creation_date": 1560383929, "answer_id": 56571744, "question_id": 56562778, "link": "https://stackoverflow.com/questions/56562778/popovercontroller-does-not-show-after-upgrading-xcode-from-7-to-10/56571744#56571744", "title": "popoverController does not show after upgrading Xcode from 7 to 10", "body": "<p>Your antiquated code is calling <code>initWithContentViewController</code>. This suggests that you are using UIPopoverController, which was deprecated after iOS 9.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/uikit/uipopovercontroller/1624669-initwithcontentviewcontroller?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uipopovercontroller/1624669-initwithcontentviewcontroller?language=objc</a></p>\n\n<p>You need to modernize your approach to popovers. Nowadays, popovers are simply a variety of presented view controller. There is no such thing as a UIPopoverController any more. You just call <code>presentViewController</code> on a normal UIViewController with a <code>modalPresentationStyle</code> of <code>UIModalPresentationPopover</code>. The entire way you designate where the arrow goes has changed too, but I won't go into detail, as the full information is available in the docs and elsewhere.</p>\n"}, {"tags": [], "owner": {"reputation": 700, "user_id": 4936200, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b56e8bcbc9592bec49dda313e9535fc?s=128&d=identicon&r=PG&f=1", "display_name": "Frostless", "link": "https://stackoverflow.com/users/4936200/frostless"}, "is_accepted": false, "score": 0, "last_activity_date": 1560425109, "last_edit_date": 1560425109, "creation_date": 1560424621, "answer_id": 56579250, "question_id": 56562778, "link": "https://stackoverflow.com/questions/56562778/popovercontroller-does-not-show-after-upgrading-xcode-from-7-to-10/56579250#56579250", "title": "popoverController does not show after upgrading Xcode from 7 to 10", "body": "<p>Seems like Xcode 10 the <code>popoverContentSize</code> becomes <code>0,0</code></p>\n\n<p>I ended up using the following code</p>\n\n<pre><code>  if (!([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad))\n{\n    self.popoverController.popoverContentSize = contentViewController.preferredContentSize;\n}\n</code></pre>\n"}], "owner": {"reputation": 700, "user_id": 4936200, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2b56e8bcbc9592bec49dda313e9535fc?s=128&d=identicon&r=PG&f=1", "display_name": "Frostless", "link": "https://stackoverflow.com/users/4936200/frostless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 56571744, "answer_count": 2, "score": -1, "last_activity_date": 1560425109, "creation_date": 1560344185, "last_edit_date": 1560383276, "question_id": 56562778, "link": "https://stackoverflow.com/questions/56562778/popovercontroller-does-not-show-after-upgrading-xcode-from-7-to-10", "title": "popoverController does not show after upgrading Xcode from 7 to 10", "body": "<p>I have this app that was previously developed and maintained at Xcode 7.\nBut recently we had to upgrade Xcode to 10 to be able to post the app to apple store.</p>\n\n<p>Many layout were broken upon the update and this seems to be a known issue\n<a href=\"https://stackoverflow.com/questions/39497572/layout-issues-after-updating-to-xcode-8\">ref</a>. I believe it is the AutoLayout problem. I fixed them by going to storyboard to add the required constraints.</p>\n\n<p>However there is a problem with one of the popovercontroll that I do not know how to fix.</p>\n\n<p>Here is how it should look:\n<a href=\"https://i.stack.imgur.com/9YCS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9YCS5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is how it look after the upgrade:\n<a href=\"https://i.stack.imgur.com/qkHMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qkHMK.png\" alt=\"enter image description here\"></a></p>\n\n<p>The popover is not showing.</p>\n\n<p>The code has not changed. It is a custom table view controller inherited from <code>UITableViewController</code>. I tried update frame but it did not work.\nThe code that should pop up the view:</p>\n\n<pre><code>UIStoryboard *storyBoard = [UIStoryboard storyboardWithName:@\"MainStoryboard_iPhone\" bundle:nil];\nUNISortTableViewController *contentViewController = [storyBoard instantiateViewControllerWithIdentifier:@\"UNISortTableViewController\"];\n\n((UNISortTableViewController *)contentViewController).sortKeyArray = [NSArray arrayWithObjects:@\"1\", @\"2\", @\"3\", @\"4\", @\"5\", nil];\n[(UNISortTableViewController *)contentViewController setPreviousSortKeyIndex:sortKeyIndex];\n[(UNISortTableViewController *)contentViewController setPreviousSortOrder:ascIssues];\n\nself.popoverController = [[popoverClass alloc] initWithContentViewController:contentViewController];\n\nif ([self.popoverController respondsToSelector:@selector(setContainerViewProperties:)]) {\n    [self.popoverController setContainerViewProperties:[self improvedContainerViewProperties]];\n}\n\nself.popoverController.delegate = self;\ncontentViewController.delegate = self;\n\n[self.popoverController presentPopoverFromBarButtonItem:sender\n                               permittedArrowDirections:(UIPopoverArrowDirectionUp|UIPopoverArrowDirectionDown|\n                                                         UIPopoverArrowDirectionLeft|UIPopoverArrowDirectionRight)\n                                               animated:YES];\n</code></pre>\n\n<p>When debug I can see that <code>cellforrowatindexpath</code> event is not called</p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "contacts"], "comments": [{"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1560345602, "post_id": 56562681, "comment_id": 99705932, "body": "If dispatch_async some times it takes time to load the View. Because your execution code is in queue on main thread. So sometimes it happens. Use &quot;NSPredicate&quot; concept to remove duplicates. It is faster than enumeration."}, {"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "reply_to_user": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1560345909, "post_id": 56562681, "comment_id": 99706119, "body": "how use predicate to filter the property inside object ?  as you can see APConatcts is my object it has phones property and i don&#39;t want to remove conatcts i want all duplicate contacts to show."}], "owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560343873, "creation_date": 1560343873, "question_id": 56562681, "link": "https://stackoverflow.com/questions/56562681/uitableview-loading-inside-content-slow-ios", "title": "UItableview loading inside content slow ios", "body": "<p>I have an app in which I am filtering the duplicate contacts I have achieved the functionality but the problem is it is quick for few contacts as the contacts are more loading also becomes slow.\nBelow is the block of code which I am using</p>\n\n<pre><code>-(void)loadDuplicateContacts{\n\n\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n\n        [addressBook loadContacts:^(NSArray&lt;APContact *&gt; * _Nullable contacts, NSError * _Nullable error) {\n\n            NSMutableArray *duplucateDataArray = [[NSMutableArray alloc] init];\n            duplucateDataArray = [contacts mutableCopy];\n            duplicateContactsArray = [[NSMutableArray alloc] init];\n            duplicateContactsDictinary = [[NSMutableDictionary alloc] init];\n            self.dictionaryKeys = [NSArray new];\n            for (APContact *contact in duplucateDataArray) {\n                NSMutableArray *countArray = [[NSMutableArray alloc] init];\n                [duplucateDataArray enumerateObjectsUsingBlock:^(APContact *obj, NSUInteger idx, BOOL *stop)\n                 {\n\n                     if ([JustNumber([obj.phones[0] number]) isEqualToString:JustNumber([contact.phones[0] number])])\n                     {\n\n                         [countArray addObject:contact.name.compositeName];\n\n                     }\n                 }];\n\n                if (countArray.count &gt; 1) {\n\n                    if (duplicateContactsDictinary[JustNumber([contact.phones[0] number])]) {\n                        NSMutableArray  *retriveArray = [[NSMutableArray alloc] init];\n                        retriveArray = [duplicateContactsDictinary objectForKey:JustNumber([contact.phones[0] number])];\n                        [retriveArray addObject:contact];\n                        [duplicateContactsDictinary setObject:retriveArray forKey:JustNumber([contact.phones[0] number])];\n\n                    }else{\n                        NSMutableArray *contactCreationArray = [[NSMutableArray alloc] init];\n                        [contactCreationArray addObject:contact];\n                        [duplicateContactsDictinary setObject:contactCreationArray forKey:JustNumber([contact.phones[0] number])];\n\n                    }\n                    [duplicateContactsArray addObject:contact];\n\n                }\n\n            }\n\n            dispatch_async(dispatch_get_main_queue(), ^(void) {\n                [self.tableView reloadData];\n            });\n\n        }];\n    });\n\n}\n</code></pre>\n\n<p>Any suggestions would be more helpful</p>\n"}, {"tags": ["objective-c", "virtual-reality"], "owner": {"reputation": 69, "user_id": 9191999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rcoDV.jpg?s=128&g=1", "display_name": "Jaysingh D Thakur", "link": "https://stackoverflow.com/users/9191999/jaysingh-d-thakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560360824, "creation_date": 1560343850, "last_edit_date": 1592644375, "question_id": 56562675, "link": "https://stackoverflow.com/questions/56562675/cenario-vr-ios-course-is-starting-from-the-beginning-again-and-again", "title": "Cenario VR iOS course is starting from the beginning again and again", "body": "<p>We create a course using cenario VR for mobile. Created course will be run on our ilms on desktop it works fine but on iOS Mobile it will restart after some time.</p>\n<p>We Use rustici engine and iEngine to play our course for LMS. Our other course are running fine. We use the same infra for our VR course which will running fine in android side, but in ios after some time it will restart again.</p>\n<p>We get following error while debugging the app.</p>\n<blockquote>\n<p>Failed to create IOSurface image (texture)</p>\n<p>CoreAnimation: [EAGLContext renderbufferStorage:fromDrawable:] was called from a non-main thread in an implicit transaction! Note that this may be unsafe without an explicit CATransaction or a call to [CATransaction flush].</p>\n<p>TIC TCP Conn Failed [16:0x28335de00]: 1:50 Err(50)</p>\n<p>Task &lt;7D491FF3-8ADB-4107-9287-68901A2661CB&gt;.&lt;0&gt; HTTP load failed (error code: -1009 [1:50])</p>\n<p>NSURLConnection finished with error - code -1009</p>\n</blockquote>\n"}, {"tags": ["objective-c", "swift", "abi", "name-mangling"], "comments": [{"owner": {"reputation": 370154, "user_id": 1271826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/duhm9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/1271826/rob"}, "edited": false, "score": 0, "creation_date": 1560345811, "post_id": 56562232, "comment_id": 99706050, "body": "It\u2019s not just mangling. See <a href=\"https://stackoverflow.com/a/48752596/1271826\">stackoverflow.com/a/48752596/1271826</a>."}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 9986921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dkw1l.jpg?s=128&g=1", "display_name": "Di Nerd", "link": "https://stackoverflow.com/users/9986921/di-nerd"}, "is_accepted": false, "score": -2, "last_activity_date": 1560367623, "creation_date": 1560367623, "answer_id": 56569142, "question_id": 56562232, "link": "https://stackoverflow.com/questions/56562232/how-is-objective-c-able-to-call-swift-methods/56569142#56569142", "title": "How is Objective-C able to call Swift methods?", "body": "<p>to call swift functions as Objective-C functions add </p>\n\n<p><code>@objc</code> </p>\n\n<p>infront of the function</p>\n"}, {"tags": [], "owner": {"reputation": 14221, "user_id": 5012441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w495.jpg?s=128&g=1", "display_name": "Josh Homann", "link": "https://stackoverflow.com/users/5012441/josh-homann"}, "is_accepted": true, "score": 2, "last_activity_date": 1560384062, "creation_date": 1560384062, "answer_id": 56571763, "question_id": 56562232, "link": "https://stackoverflow.com/questions/56562232/how-is-objective-c-able-to-call-swift-methods/56571763#56571763", "title": "How is Objective-C able to call Swift methods?", "body": "<p>Its compiler magic enabled by the <code>@objc</code> attribute.  When you mark a method, protocol, class or variable as <code>@objc</code> the compiler will actually generate a thunk or stub function(s) with the appropriate objective C selector and name so that it can be called by the objective C run time and that thunk will then call the underlying Swift function.  Note that Swift dispatch and Object message send are two entirely different things; its not just the method names, but also the way you look up the function pointers (v table for swift, string selectors for objc c) and pass the parameters.  The compiler does a lot of work behind the scenes to make this happen, including bridging your parameters across the languages (NSString to String, etc).</p>\n"}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "accepted_answer_id": 56571763, "answer_count": 2, "score": 1, "last_activity_date": 1560384062, "creation_date": 1560342443, "question_id": 56562232, "link": "https://stackoverflow.com/questions/56562232/how-is-objective-c-able-to-call-swift-methods", "title": "How is Objective-C able to call Swift methods?", "body": "<p>With the Swift umbrella header for the project added, Objective-C is able to access Swift class methods. How is Objective-C able to call Swift methods, but C not able to without working with name mangling issue?</p>\n\n<p>Could you provide details on this?</p>\n\n<hr>\n\n<p>Doesn't stable Swift ABI, mean, the compiler generates fixed mangled names for types? Then can we have a program to go through Swift source code and generate a header with the mangled names, which can be called from C?</p>\n"}, {"tags": ["ios", "objective-c", "outlook", "ms-word"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 2, "creation_date": 1560343008, "post_id": 56561879, "comment_id": 99704201, "body": "Given that both Word and Outlook are from Microsoft, they are probably sharing a file using an application group; unfortunately this route isn&#39;t available to you."}], "owner": {"reputation": 15997, "user_id": 16725, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Ym5wb.jpg?s=128&g=1", "display_name": "Paul-Jan", "link": "https://stackoverflow.com/users/16725/paul-jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1560349565, "creation_date": 1560341292, "last_edit_date": 1560349565, "question_id": 56561879, "link": "https://stackoverflow.com/questions/56561879/sending-email-with-attachments-through-ios-outlook", "title": "Sending email with attachments through iOS Outlook", "body": "<p>My application (a DMS client) has strong ties to Microsoft technology, so my customers are on average much more likely to run <em>Outlook for iOS</em> than the default iOS <em>Mail</em> client.</p>\n\n<p>However, Outlook does not respond to the <code>MFMailComposeViewController</code>, so that basically leaves two approaches on the table for sending email from the app:</p>\n\n<ol>\n<li><p>Use the <code>msoutlook://</code> URL scheme to open Outlook. This supports pre-populating  recipients, subject, and a HTML styled body text, apparently without a maximum length. <strong>However, it does not seem to support attachments</strong>.</p></li>\n<li><p>Use the <code>UIActivityViewController</code> (i.e. the \"sharing\" interface), which does allow for attachments (hurray!), but I don't know if it's possible to pre-populate any of the fields other than the content...and the sharing dialog itself is really unpleasant UI, interrupting the user flow with a complex choice.</p></li>\n</ol>\n\n<p>Word (for iOS) presents the user with the following flow that <em>directly</em> opens a document as an attachment to a new email in Outlook. Assuming they don't use any private APIs, how are they doing that?</p>\n\n<p><a href=\"https://i.stack.imgur.com/CTTwV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CTTwV.jpg\" alt=\"In Word, select Send a Copy\"></a>\n<a href=\"https://i.stack.imgur.com/k6UC8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6UC8.jpg\" alt=\"Select option Email with Outlook\"></a>\n<a href=\"https://i.stack.imgur.com/CQ2Fq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQ2Fq.jpg\" alt=\"Outlook appears with Word document attached\"></a></p>\n"}, {"tags": ["ios", "objective-c", "xcode", "realm"], "comments": [{"owner": {"reputation": 483, "user_id": 2132115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d32b5dc86ec7a2b9f068b4613f10b?s=128&d=identicon&r=PG", "display_name": "cesarmarch", "link": "https://stackoverflow.com/users/2132115/cesarmarch"}, "edited": false, "score": 0, "creation_date": 1560353451, "post_id": 56561802, "comment_id": 99710834, "body": "You have to update your DataSource before calling <code>reloadData</code>. The Realm object is deleted in Realm but still in your DataSource. So, it tries to retrieve the object from Realm when you call <code>reloadData</code> without finding it."}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "reply_to_user": {"reputation": 483, "user_id": 2132115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d32b5dc86ec7a2b9f068b4613f10b?s=128&d=identicon&r=PG", "display_name": "cesarmarch", "link": "https://stackoverflow.com/users/2132115/cesarmarch"}, "edited": false, "score": 1, "creation_date": 1560367226, "post_id": 56561802, "comment_id": 99717161, "body": "@cesarmarch That is a great comment. The only thing is that if the OP is using a Results object as their dataSource, removing it from realm also removes it from the results. That does not appear the case but wanted to add that for clarity."}], "owner": {"reputation": 83, "user_id": 2199472, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/a5569dfa7d3a44744f66ef6211f96bfd?s=128&d=identicon&r=PG", "display_name": "Marc Matteo", "link": "https://stackoverflow.com/users/2199472/marc-matteo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560350559, "creation_date": 1560341011, "last_edit_date": 1560350559, "question_id": 56561802, "link": "https://stackoverflow.com/questions/56561802/delete-realm-object-automatically", "title": "Delete Realm object automatically", "body": "<p>I am experimenting with a sample realm code and I added an option to automatically delete a specific object based on a certain value. But what I need to do is reload the tableview but when I add [baseTableView reloadData]; the app crashes with the exception \"Object has been deleted or invalidated\". Does anyone know how can I fix this so the tableview updates and removes the row that was automatically deleted. My delete code is:</p>\n\n<pre><code>-(IBAction)delline:(id)sender\n{\n\n\n\n\nNSInteger count = [QueueArray count];\nfor (NSInteger index = (count - 1); index &gt;= 0; index--) {\n    person = QueueArray[index];\n    if ([person.emailaddress1 isEqualToString:@\"test\"]) {\n\n          NSIndexPath *indexPath = [NSIndexPath indexPathForRow:index inSection:0];\n            [dbManager deleteRealmObject:[QueueArray objectAtIndex:index]];\n            NSLog(@\"DELETE PATH: %ld\", (long)index);\n            // set to whatever you want to be selected first\n            [baseTableView selectRowAtIndexPath:indexPath animated:NO  scrollPosition:UITableViewScrollPositionNone];\n\n            UITableViewCell *cell = [baseTableView cellForRowAtIndexPath:indexPath];\n\n            cell.userInteractionEnabled = NO;\n            cell.textLabel.text = @\"UPLOADED SUCCESSFULLY\";\n            cell.detailTextLabel.text = @\"\";\n        [baseTableView reloadData];\n\n    }\n\n}\n\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "multithreading"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560338164, "post_id": 56560364, "comment_id": 99701239, "body": "No, it&#39;s just create separate serial queue"}, {"owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560338277, "post_id": 56560364, "comment_id": 99701307, "body": "Yeah creates separate serial queue but i need to know that it runs that queue code on main thread or some other thread?"}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560338498, "post_id": 56560364, "comment_id": 99701438, "body": "I have told you: separate"}, {"owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560338580, "post_id": 56560364, "comment_id": 99701494, "body": "Thanks could you provide me some reference for this to read it thouroughly."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560338789, "post_id": 56560364, "comment_id": 99701618, "body": "<a href=\"https://developer.apple.com/documentation/dispatch/1453030-dispatch_queue_create\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/dispatch/&hellip;</a>\\"}, {"owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "reply_to_user": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560339169, "post_id": 56560364, "comment_id": 99701823, "body": "But there is not clearly that the blocks submitted to these queues runs on different thread other than main thread."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560355639, "post_id": 56560364, "comment_id": 99712034, "body": "&quot;Note, however, that blocks submitted to <b>independent</b> queues may be executed <b>concurrently</b> with respect to each other&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "is_accepted": false, "score": 0, "last_activity_date": 1560344543, "creation_date": 1560344543, "answer_id": 56562909, "question_id": 56560364, "link": "https://stackoverflow.com/questions/56560364/is-serial-queueother-than-main-code-execute-on-main-thread/56562909#56562909", "title": "Is serial queue(other than Main) code execute on Main thread?", "body": "<p>In general, a block that is dispatched on a queue can run on any available thread, including the main thread.  The exception to this is that a block dispatched on the main queue will always run on the main thread. </p>\n\n<p>When you use <code>dispatch_sync</code> on a serial queue it blocks the current <em>queue</em>, but not the current <em>thread</em>. </p>\n\n<p>From the <a href=\"https://developer.apple.com/documentation/dispatch/1452870-dispatch_sync?language=objc\" rel=\"nofollow noreferrer\"><code>dispatch_sync</code> documentation</a></p>\n\n<blockquote>\n  <p>Calling this function and targeting the current queue results in deadlock.</p>\n</blockquote>\n\n<p>If you target the current queue using <code>dispatch_sync</code> you will get a deadlock, but if you target a different queue you will not get a deadlock, even if the dispatched block ends up on the same thread. </p>\n\n<p>In fact:</p>\n\n<blockquote>\n  <p>As a performance optimization, this function executes blocks on the current thread whenever possible</p>\n</blockquote>\n\n<p>So, presuming that the <code>dispatch_sync</code> in your question was called from the main queue, the block will run on the main thread, since you have blocked the main queue and the main thread is therefore available to perform the work. </p>\n\n<p>iOS multitasking is not pre-emptive, so your block cannot \"lose\" the thread; the block will execute in its entirety before relinquishing the thread. This is assuming that <code>method1</code> and <code>method2</code> do not dispatch further blocks themselves. </p>\n"}], "owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560344543, "creation_date": 1560336530, "question_id": 56560364, "link": "https://stackoverflow.com/questions/56560364/is-serial-queueother-than-main-code-execute-on-main-thread", "title": "Is serial queue(other than Main) code execute on Main thread?", "body": "<p>1) Serial queues in ios created by</p>\n\n<p><code>_queue = dispatch_queue_create(\"serial-queue-1\", nil);</code></p>\n\n<p>runs on Main thread or some different thread. </p>\n\n<p>And</p>\n\n<p>2) If it runs on Main thread then if we syncronously dispatch the block of code to the above queue by</p>\n\n<p><code>dispatch_sync(_queue, ^{\n      method1();\n      method2();\n });</code></p>\n\n<p>Would it execute the complete block of code when this queue gets its turn or it can also leave this queue to execute some other in between ?</p>\n"}, {"tags": ["ios", "objective-c", "timestamp", "realm"], "comments": [{"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560367514, "post_id": 56560199, "comment_id": 99717270, "body": "<i>To send the timestamp to the server, I convert it to NSString as follows:</i> why? Also, if you are converting to a string to stored on the server, it looks like it&#39;s a Date object in your screenshot, not a string. Can you clarify?"}, {"owner": {"reputation": 1175, "user_id": 1012775, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zAWp1.png?s=128&g=1", "display_name": "AndaluZ", "link": "https://stackoverflow.com/users/1012775/andaluz"}, "reply_to_user": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560409443, "post_id": 56560199, "comment_id": 99728062, "body": "The converted string is: 20190612090741181 that is sent to the server, which is UTC time in the following format: YYYYMMddHHmmssSSS. Anyway, on the last screenshot you can see that converting 20190612090741181 (UTC) time to NSDate object is correct. The NSLog output is the same as that is stored in Realm database. But still can&#39;t programmatically get that model object by timeStamp from the Realm database."}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560436413, "post_id": 56560199, "comment_id": 99743675, "body": "Sorry, I wasn&#39;t clear. A date is a date. There&#39;s no reason to jump through the hoops of converting it to a string for saving and back. Just store it as a Date object in Realm. Oh, and Realm stores date objects in the following format <code>2019-06-13T14:25:04.433Z</code>"}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560437183, "post_id": 56560199, "comment_id": 99744200, "body": "Not sure what this means <i>To send the timestamp to the server, I convert it to NSString</i> as if it&#39;s converted to NSString, then it doesn&#39;t match your Realm object, which is an NSDate <code>chat.timeStamp = [NSDate date];</code> so how does that work. I know you answered your own question but it just seems like there&#39;s a lot of unnecessary work going on. Just use the date as a date instead of converting it to strings and back."}, {"owner": {"reputation": 1175, "user_id": 1012775, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zAWp1.png?s=128&g=1", "display_name": "AndaluZ", "link": "https://stackoverflow.com/users/1012775/andaluz"}, "reply_to_user": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560508327, "post_id": 56560199, "comment_id": 99768872, "body": "The server needs a time that is sent over the network. How do you send a NSDate object over a network? Either as an integer or as a string of characters indicating the time, in both ways, NSDate object needs to be translated to an integer or string. I use NSString class to finally convert the content as an array of characters to send them over the network."}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560518068, "post_id": 56560199, "comment_id": 99773858, "body": "The assumption is your server is Realm because well, it&#39;s a server and it supports NSDate (Swift Date) objects directly so those don&#39;t need to be formatted as a string to store them in Realm. If you are using some other server <i>in addition to Realm</i> it may require another format, but that was not specified in the question. As you have discovered, formatting a date to a string looses accuracy which makes it hard to do date comparisons with NSDate objects. You may want to consider storing the date as a double in realm so it will always match up."}, {"owner": {"reputation": 1175, "user_id": 1012775, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zAWp1.png?s=128&g=1", "display_name": "AndaluZ", "link": "https://stackoverflow.com/users/1012775/andaluz"}, "reply_to_user": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560769053, "post_id": 56560199, "comment_id": 99831590, "body": "Maybe I wasn&#39;t clear enough, but the server has nothing to do with Realm in this case, the Realm is used locally in my app. If you see the tags, you&#39;ll see iOS objective-c and Realm which gives you strong indication about Realm in an app rather than on a server. Anyway, thanks for your time to post more questions for more understanding."}, {"owner": {"reputation": 29006, "user_id": 2851937, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WSTnU.png?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/2851937/jay"}, "edited": false, "score": 0, "creation_date": 1560796430, "post_id": 56560199, "comment_id": 99845031, "body": "Understood and thank you for the clarification - sorry didn&#39;t get that sooner, otherwise I definitely had the answer. Glad you discovered it! Speaking of clarification for future readers, ObjC does not indicate anything about how or where Realm is being used. Whether it be a local Realm or a cloud based <i>Realm Object Server</i> it can be accessed via ObjC or Swift. The Realm API is <a href=\"https://realm.io/docs/swift/latest/\" rel=\"nofollow noreferrer\">RealmSwift</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1175, "user_id": 1012775, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zAWp1.png?s=128&g=1", "display_name": "AndaluZ", "link": "https://stackoverflow.com/users/1012775/andaluz"}, "is_accepted": true, "score": 0, "last_activity_date": 1560429647, "last_edit_date": 1560429647, "creation_date": 1560417467, "answer_id": 56577235, "question_id": 56560199, "link": "https://stackoverflow.com/questions/56560199/how-to-query-object-by-nsdate-property-correctly-in-realm/56577235#56577235", "title": "How to query object by NSDate property correctly in Realm?", "body": "<p>I found the solution, it seems that converting NSString time with format \u201cYYYYMMddHHmmssSSS\u201d to NSDate loses some info or accuracy.\nAs a consequence, the original NSDate object stored in the database doesn\u2019t match with the one converted from NSString. So instead of assigning timeStamp with current time like this: [NSDate date], I recreate a new NSDate object with format \u201cYYYYMMddHHmmssSSS\u201d like this:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (NSDate*) timeStampNowWithFormat: (NSString*) format {\n    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];\n    [dateFormat setDateFormat: format];\n    [dateFormat setTimeZone:[NSTimeZone timeZoneWithName:@\"UTC\"]];\n    NSString *stringDate = [dateFormat stringFromDate: [NSDate date]];\n\n    return [dateFormat dateFromString: stringDate];\n}\n\n// ...\n// ...\n\nRLMChatMessage *chat = [[RLMChatMessage alloc] init];\nchat.chatFrom = from;\nchat.chatTo = to;\nchat.timeStamp = [self timeStampNowWithFormat: @\"YYYYMMddHHmmssSSS\"];\n\nRLMRealm *realm = [RLMRealm defaultRealm];\n[realm transactionWithBlock: ^{\n      [realm addObject: chat];\n}];\n</code></pre>\n\n<p>Bottomline, once you convert NSDate object to NSString and then recreate a new NSDate from that NSString, both NSDate objects aren't equal anymore if time accuracy is smaller than milliseconds (i.e. microseconds).\nIt took me more than a day to figure that out.</p>\n"}], "owner": {"reputation": 1175, "user_id": 1012775, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zAWp1.png?s=128&g=1", "display_name": "AndaluZ", "link": "https://stackoverflow.com/users/1012775/andaluz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 56577235, "answer_count": 1, "score": 0, "last_activity_date": 1560429647, "creation_date": 1560335988, "question_id": 56560199, "link": "https://stackoverflow.com/questions/56560199/how-to-query-object-by-nsdate-property-correctly-in-realm", "title": "How to query object by NSDate property correctly in Realm?", "body": "<p>I have the following scenario, I store an object on Realm with current date, like this:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>RLMChatMessage *chat = [[RLMChatMessage alloc] init];\nchat.chatFrom = from;\nchat.chatTo = to;\nchat.timeStamp = [NSDate date];\n\nRLMRealm *realm = [RLMRealm defaultRealm];\n[realm transactionWithBlock: ^{\n      [realm addObject: chat];\n}];\n</code></pre>\n\n<p>To send the timestamp to the server, I convert it to NSString as follows:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];\n[dateFormat setDateFormat:  @\"YYYYMMddHHmmssSSS\u201d]; // Capital \u2019S\u2019 is milliseconds\n[dateFormat setTimeZone:[NSTimeZone timeZoneWithName:@\"UTC\"]];\nreturn [dateFormat stringFromDate: date];\n</code></pre>\n\n<p>The result of the timestamp in NSString is: 20190612090741181 with format of \"YYYYMMddHHmmssSSS\u201d.</p>\n\n<p>When I receive an acknowledge message for the specific timestamp, I convert the NSString back to NSDate:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];\n[dateFormat setDateFormat: @\"YYYYMMddHHmmssSSS\u201d];\n[dateFormat setTimeZone:[NSTimeZone timeZoneWithName:@\"UTC\"]];\nreturn [dateFormat dateFromString: strTime];\n</code></pre>\n\n<p>I than query the chat with timestamp (NSDate object created with the above code) as follows:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>RLMResults *results = [RLMChatMessage objectsWhere:@\"timeStamp == %@\", date];\nreturn results.firstObject;\n</code></pre>\n\n<p>Sadly enough, the results has NO objects found. Somehow, Realm can\u2019t seem to find the chat object with provided NSDate timestamp.\nUsing Realm Browser app to look in the database, I can see the NSDate property with the following NSDate:\n<a href=\"https://i.stack.imgur.com/yPoUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPoUB.png\" alt=\"enter image description here\"></a></p>\n\n<p>The NSLog output in Xcode for converting NSString timestamp to NSDate looks like this:\n<a href=\"https://i.stack.imgur.com/zvCJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zvCJr.png\" alt=\"enter image description here\"></a></p>\n\n<p>So both show the NSDate timestamp the same. I assume both print the NSDate object to local time of my machine. So, how come Realm can\u2019t find the chat object? I\u2019m kind of lost in here. Hope someone can help me out.</p>\n"}, {"tags": ["objective-c", "cocoa", "base64", "javascript-automation"], "answers": [{"tags": [], "owner": {"reputation": 4547, "user_id": 9051006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ecd4d9aedf87d99e79b556db65d2d26?s=128&d=identicon&r=PG", "display_name": "CJK", "link": "https://stackoverflow.com/users/9051006/cjk"}, "is_accepted": false, "score": 0, "last_activity_date": 1560744438, "last_edit_date": 1560744438, "creation_date": 1560744006, "answer_id": 56624549, "question_id": 56557843, "link": "https://stackoverflow.com/questions/56557843/objective-c-cocoa-to-jxa/56624549#56624549", "title": "Objective-C/Cocoa to JXA", "body": "<p>Converting an image file into an <code>NSImage</code> representation and then onto a base-64 string is a lot of work, and was only applicable to the answer you sourced because the OP there was coming from a starting point of having <code>NSImage</code> class data.  As you stated that you have a <code>.png</code> file, the route is much simpler:</p>\n\n<pre><code>ObjC.import('Foundation');\n\n\nfunction fileToBase64(filepath) {\n    const standardizedPath = $.NSString.stringWithString(filepath)\n                                       .stringByStandardizingPath;\n    const base64String = $.NSData.dataWithContentsOfFile(standardizedPath)\n                                 .base64EncodedStringWithOptions(0);\n\n    return ObjC.unwrap(base64String);\n}\n\n\n(() =&gt; {\n    return fileToBase64('~/Desktop/test.png');\n})();\n</code></pre>\n\n<p>For reference, this returns identical output to the following bash shell command:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>base64 --input ~/Desktop/test.png\n</code></pre>\n\n<hr>\n\n<p><sup><em>PS. For the benefit of learning, despite what the JXA Cookbook teaches, try not to import the entire Cocoa framework into your scripts, and just import the ones specific to the objective-c classes you're using.</em></sup></p>\n"}], "owner": {"reputation": 65, "user_id": 11616368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101143374669995/picture?type=large", "display_name": "PE B", "link": "https://stackoverflow.com/users/11616368/pe-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560744438, "creation_date": 1560328384, "question_id": 56557843, "link": "https://stackoverflow.com/questions/56557843/objective-c-cocoa-to-jxa", "title": "Objective-C/Cocoa to JXA", "body": "<p>I need to convert a PNG file to Base64 data so that I can add it to a JSON object, using JXA (JavaScript Application Scripting).</p>\n\n<p>JXA is limited compared to regular JavaScript so I can't immediately use functions from <em>FileReader</em>, etc.</p>\n\n<p>From what I've read, there is no way that I know how to do this without using Objective-C/Cocoa (which I only started reading about today for this task).</p>\n\n<p>I found the following code in <a href=\"https://stackoverflow.com/q/934940/11616368\">another post</a>:</p>\n\n<pre><code>NSArray *keys = [NSArray arrayWithObject:@\"NSImageCompressionFactor\"];\nNSArray *objects = [NSArray arrayWithObject:@\"1.0\"];\nNSDictionary *dictionary = [NSDictionary dictionaryWithObjects:objects forKeys:keys];\n\nNSImage *image = [[NSImage alloc] initWithContentsOfFile:[imageField stringValue]];\nNSBitmapImageRep *imageRep = [[NSBitmapImageRep alloc] initWithData:[image TIFFRepresentation]];\nNSData *tiff_data = [imageRep representationUsingType:NSPNGFileType properties:dictionary];\n\nNSString *base64 = [tiff_data encodeBase64WithNewlines:NO];\n</code></pre>\n\n<p>I believe it is pertinent to what I am trying to do- does anybody know how I can bridge this method to use it in JXA?</p>\n\n<p>I have been reading over the <a href=\"https://github.com/JXA-Cookbook/JXA-Cookbook\" rel=\"nofollow noreferrer\">JXA Cookbook's</a> section on <a href=\"https://github.com/JXA-Cookbook/JXA-Cookbook/wiki/Using-Objective-C-%28ObjC%29-with-JXA#syntax-for-calling-objc-functions\" rel=\"nofollow noreferrer\">Syntax for calling ObjC functions</a>, but I am having difficulty understanding it... this is all that I have come up with so far:</p>\n\n<pre><code>var desktopString = app.pathTo(\"desktop\").toString()\nvar file = `${desktopString}/test.png`\n\nObjC.import(\"Cocoa\");\nvar image = $.NSImage.alloc.initWithContentsOfFile(file)\nvar imageRep = $.NSBitmapImageRep.alloc.initWithData(image)\n</code></pre>\n\n<p>But I don't know how to proceed- I am thrown off by:</p>\n\n<ul>\n<li>The whole initial <em>NSArray</em>/<em>NSDictionary</em> part</li>\n<li><em>TIFFRepresentation</em> (Do I need it?  Where do I put it?)</li>\n<li><em>NSData *tiff_data = [imageRep representationUsingType:NSPNGFileType\nproperties:dictionary];</em> (There's no alloc! Why is dictionary needed?)</li>\n<li><em>NSString *base64 = [tiff_data encodeBase64WithNewlines:NO];</em> (Again,\nno alloc.)</li>\n</ul>\n\n<p>I would be very appreciative if somebody could point me in the right direction / give me a few pointers on how I can accomplish what I am trying to do.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["ios", "objective-c", "foundation"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560318594, "post_id": 56555376, "comment_id": 99691507, "body": "Are you going to list thousands of URL schemes in your Info.plist?"}, {"owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "edited": false, "score": 0, "creation_date": 1560318659, "post_id": 56555376, "comment_id": 99691527, "body": "There is an if statement <i>If your app is linked against an earlier version of iOS</i> <b>but</b> is running in iOS 9.0 or later. The way I understand this is that you developed it app for let&#39;s say iOS 8 but your app runs on iOS 9 or later in some devices, then that limit kicks in. This is nothing but my opinion"}, {"owner": {"reputation": 1110, "user_id": 4305700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c4b489a77768b5bb0ed2114fd55132f1?s=128&d=identicon&r=PG&f=1", "display_name": "Henson Fang", "link": "https://stackoverflow.com/users/4305700/henson-fang"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560318954, "post_id": 56555376, "comment_id": 99691618, "body": "@rmaddy ok i edit the issue,and this number will grow bigger."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560319109, "post_id": 56555376, "comment_id": 99691677, "body": "You have to use Xcode 10.2 or later which means a Base SDK of iOS 12 or later. So that info seems irrelevant. You have to whitelist any URL scheme you wish to use with <code>canOpenURL</code>."}, {"owner": {"reputation": 1110, "user_id": 4305700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c4b489a77768b5bb0ed2114fd55132f1?s=128&d=identicon&r=PG&f=1", "display_name": "Henson Fang", "link": "https://stackoverflow.com/users/4305700/henson-fang"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560319189, "post_id": 56555376, "comment_id": 99691701, "body": "@rmaddy actually this is the whitelist"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1560319419, "post_id": 56555376, "comment_id": 99691781, "body": "I&#39;m saying the documentation you quote is irrelevant. Your bigger worry is Apple rejecting your app for having too many entries under LSApplicationQueriesSchemes. Their whole goal is to prevent apps like yours being in the App Store."}, {"owner": {"reputation": 1110, "user_id": 4305700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c4b489a77768b5bb0ed2114fd55132f1?s=128&d=identicon&r=PG&f=1", "display_name": "Henson Fang", "link": "https://stackoverflow.com/users/4305700/henson-fang"}, "edited": false, "score": 0, "creation_date": 1560319894, "post_id": 56555376, "comment_id": 99691931, "body": "Yes,i am worrying this.But I can&#39;t find Apple&#39;s case of punishment for such events.Also,I don&#39;t know which number is safe."}, {"owner": {"reputation": 1032, "user_id": 1709941, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9740ddc8e493e42bc28ab7c75377ee93?s=128&d=identicon&r=PG", "display_name": "Anubis", "link": "https://stackoverflow.com/users/1709941/anubis"}, "edited": false, "score": 0, "creation_date": 1560320199, "post_id": 56555376, "comment_id": 99692027, "body": "@HensonFang Apple won&#39;t &#39;punish&#39; you, they simply won&#39;t put your app in the App Store."}, {"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560327291, "post_id": 56555376, "comment_id": 99695285, "body": "May be it&#39;s working unlimited with developer provisioning profile."}, {"owner": {"reputation": 4697, "user_id": 3392017, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ltdxx.jpg?s=128&g=1", "display_name": "Duncan Hoggan", "link": "https://stackoverflow.com/users/3392017/duncan-hoggan"}, "edited": false, "score": 0, "creation_date": 1561990905, "post_id": 56555376, "comment_id": 100227194, "body": "Yes the 50 limit does apply, I&#39;ve observed it first hand."}], "owner": {"reputation": 1110, "user_id": 4305700, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c4b489a77768b5bb0ed2114fd55132f1?s=128&d=identicon&r=PG&f=1", "display_name": "Henson Fang", "link": "https://stackoverflow.com/users/4305700/henson-fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560319274, "creation_date": 1560318400, "last_edit_date": 1592644375, "question_id": 56555376, "link": "https://stackoverflow.com/questions/56555376/does-the-limit-of-canopenurl-really-work", "title": "Does the limit of `canOpenURL` really work?", "body": "<p>The Document says</p>\n<blockquote>\n<p>If your app is linked against an earlier version of iOS but is running\nin iOS 9.0 or later, you can call this method up to 50 times. After\nreaching that limit, subsequent calls always return NO. If the user\nreinstalls or upgrades the app, iOS resets the limit.</p>\n</blockquote>\n<p>I collected thousands of url schemes in some way. The purpose is to collect the apps installed on my user's iPhone.</p>\n<p>I know it violates Apple's privacy policy but this is not the scope of this issue.</p>\n<p>But in my tests, I did collect more than 50 apps which means this method can be called much more than 50 times. considering that my url scheme list is very large.</p>\n<p>So does this rule really works?Or a bug of Apple?</p>\n<p><a href=\"https://i.stack.imgur.com/nQfhG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nQfhG.png\" alt=\"part of the info.plist\" /></a></p>\n"}, {"tags": ["ios", "objective-c", "cordova", "uiwebview", "uiwindow"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 1, "creation_date": 1560318730, "post_id": 56555354, "comment_id": 99691549, "body": "add splash screen of required sizes."}, {"owner": {"reputation": 101, "user_id": 10702793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52Pueahr-L4/AAAAAAAAAAI/AAAAAAAAN7A/HMV4IlEXoow/photo.jpg?sz=128", "display_name": "Balashekar", "link": "https://stackoverflow.com/users/10702793/balashekar"}, "reply_to_user": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1560749258, "post_id": 56555354, "comment_id": 99822792, "body": "@NiravKotecha hi, can you see my above screenshot that is the issue im facing now how to fix that ?? overlapping in 2 image"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10702793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52Pueahr-L4/AAAAAAAAAAI/AAAAAAAAN7A/HMV4IlEXoow/photo.jpg?sz=128", "display_name": "Balashekar", "link": "https://stackoverflow.com/users/10702793/balashekar"}, "edited": false, "score": 0, "creation_date": 1560329997, "post_id": 56555394, "comment_id": 99696727, "body": "still, a little bit black bar at the top how I slove that ..?"}, {"owner": {"reputation": 12781, "user_id": 4051118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKHVO.png?s=128&g=1", "display_name": "Andr&#233; Slotta", "link": "https://stackoverflow.com/users/4051118/andr%c3%a9-slotta"}, "reply_to_user": {"reputation": 101, "user_id": 10702793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52Pueahr-L4/AAAAAAAAAAI/AAAAAAAAN7A/HMV4IlEXoow/photo.jpg?sz=128", "display_name": "Balashekar", "link": "https://stackoverflow.com/users/10702793/balashekar"}, "edited": false, "score": 0, "creation_date": 1560330036, "post_id": 56555394, "comment_id": 99696747, "body": "Can you please provide a screenshot or something?"}, {"owner": {"reputation": 101, "user_id": 10702793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52Pueahr-L4/AAAAAAAAAAI/AAAAAAAAN7A/HMV4IlEXoow/photo.jpg?sz=128", "display_name": "Balashekar", "link": "https://stackoverflow.com/users/10702793/balashekar"}, "edited": false, "score": 0, "creation_date": 1560491450, "post_id": 56555394, "comment_id": 99761253, "body": "I added screenshot, please check"}, {"owner": {"reputation": 101, "user_id": 10702793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52Pueahr-L4/AAAAAAAAAAI/AAAAAAAAN7A/HMV4IlEXoow/photo.jpg?sz=128", "display_name": "Balashekar", "link": "https://stackoverflow.com/users/10702793/balashekar"}, "edited": false, "score": 0, "creation_date": 1560835601, "post_id": 56555394, "comment_id": 99854845, "body": "Hello Andre Slotta, Can you see my screenshots im facing overlapping in the screen if I scroll up how to solve this issue??"}], "tags": [], "owner": {"reputation": 12781, "user_id": 4051118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKHVO.png?s=128&g=1", "display_name": "Andr&#233; Slotta", "link": "https://stackoverflow.com/users/4051118/andr%c3%a9-slotta"}, "is_accepted": false, "score": 1, "last_activity_date": 1560318468, "creation_date": 1560318468, "answer_id": 56555394, "question_id": 56555354, "link": "https://stackoverflow.com/questions/56555354/i-am-getting-a-large-black-bar-at-the-top-and-bottom-of-the-screen-in-all-simula/56555394#56555394", "title": "I am getting a large black bar at the top and bottom of the screen in all simulator", "body": "<p>Sounds like you did not include a launch storyboard (or launch images for all expected sizes). Add one of those to your project and you should be fine.</p>\n"}], "owner": {"reputation": 101, "user_id": 10702793, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-52Pueahr-L4/AAAAAAAAAAI/AAAAAAAAN7A/HMV4IlEXoow/photo.jpg?sz=128", "display_name": "Balashekar", "link": "https://stackoverflow.com/users/10702793/balashekar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560491328, "creation_date": 1560318284, "last_edit_date": 1560491328, "question_id": 56555354, "link": "https://stackoverflow.com/questions/56555354/i-am-getting-a-large-black-bar-at-the-top-and-bottom-of-the-screen-in-all-simula", "title": "I am getting a large black bar at the top and bottom of the screen in all simulator", "body": "<p><a href=\"https://i.stack.imgur.com/yGVQS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yGVQS.png\" alt=\"enter image description here\"></a>this is code written in CDVViewController.m based on this only its showing content. <a href=\"https://i.stack.imgur.com/gLHL3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLHL3.png\" alt=\"In in the image iphone screen scrollview moving under the green color view if i scroll up the view ..how to fix this as per iphone screen\"></a>Iam new to Cordova can anyone help me?</p>\n\n<pre><code> -(void)createView\n    {CGRect webViewBounds = self.view.bounds;\n\n        webViewBounds.origin = self.view.bounds.origin;\n\n        self.webView = [self newCordovaViewWithFrame:webViewBounds];\n        self.webView.autoresizingMask = (UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight);\n\n        [self.view addSubview:self.webView];\n        [self.view sendSubviewToBack:self.webView];\n    }\n    -(UIWebView*)newCordovaViewWithFrame:(CGRect)bounds\n    {\n        return [[UIWebView alloc] initWithFrame:bounds];\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "automatic-ref-counting"], "comments": [{"owner": {"reputation": 4021, "user_id": 1934750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bf95394e0516e81917bb01a51c6cf4?s=128&d=identicon&r=PG", "display_name": "Cy-4AH", "link": "https://stackoverflow.com/users/1934750/cy-4ah"}, "edited": false, "score": 0, "creation_date": 1560327619, "post_id": 56555109, "comment_id": 99695447, "body": "Case 1 captures argument only when method got executed and release it after completion Case 2 captures referenced object for all block&#39;s life cycle"}], "answers": [{"tags": [], "owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560319800, "last_edit_date": 1560319800, "creation_date": 1560319432, "answer_id": 56555585, "question_id": 56555109, "link": "https://stackoverflow.com/questions/56555109/taking-self-as-an-argument-in-a-block-does-not-cause-a-circular-reference-but-a/56555585#56555585", "title": "Taking self as an argument in a block does not cause a circular reference, but an external reference to self does", "body": "<p>For the case 1,  the <code>test</code> variable is just a local function parameter, the block didn't retain any other variables from outside.</p>\n\n<p>For the case 2, the <code>testMember</code> object comes from block outside when defining the block, the block retains its reference count. Since the <code>testBlock</code> is defined as a property of class <code>TestClass</code>, so the <code>testMember</code> owns the <code>testBlock</code>. So, the <code>testMember</code> and <code>testBlock</code> retain each other, that's the <em>circular references</em>.</p>\n\n<p>To fix the circular retain issue of case 2, use this:</p>\n\n<pre><code>__weak TestObject *weakMember = testMember;\n\ntestMember.testBlock = ^(TestClass *test) {\n    __strong TestObject *strongMember = weakMember;\n    NSLog(@\"%@\", strongMember);\n};\n</code></pre>\n\n<p>Because the <code>weakMember</code> variable won't increase the reference count of real <code>testMember</code> object, so did the <code>testBlock</code>. When starting executing the <code>testBlock</code>, the <code>strongMember</code> try to retain the <code>weakMember</code> object (which may get nil value depends on your logic design) and get decreased of reference count when finishing the block.</p>\n"}], "owner": {"reputation": 11, "user_id": 11534739, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tti94zyIUb0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdgwiyiCEEDP37Q5Ja1xacocMl6ew/mo/photo.jpg?sz=128", "display_name": "chujiu", "link": "https://stackoverflow.com/users/11534739/chujiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560319800, "creation_date": 1560316749, "last_edit_date": 1560318362, "question_id": 56555109, "link": "https://stackoverflow.com/questions/56555109/taking-self-as-an-argument-in-a-block-does-not-cause-a-circular-reference-but-a", "title": "Taking self as an argument in a block does not cause a circular reference, but an external reference to self does", "body": "<p>Who can tell me why the following code causes different results when the test parameter and the testMember variable point to the same address</p>\n\n<pre><code>@interface TestClass : NSObject\n\n@property (nonatomic, copy) void (^testBlock)(TestClass *test);\n\n@end\n\n@implementation TestClass\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.testBlock(self);\n}\n\n@end\n\n@implementation OtherClass\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    TestClass *testMember = [[TestClass alloc] init];\n\n    // Case 1\n    testMember.testBlock = ^(TestClass *test) {\n        NSLog(@\"%@\",test); // This does not create circular references\n    };\n\n    // Case 2\n    testMember.testBlock = ^(TestClass *test) {\n        NSLog(@\"%@\",testMember); // This creates circular references\n    };\n}\n\n@end\n</code></pre>\n"}, {"tags": ["javascript", "objective-c", "cocoa", "lzo", "javascript-automation"], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 11616368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101143374669995/picture?type=large", "display_name": "PE B", "link": "https://stackoverflow.com/users/11616368/pe-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1560315402, "creation_date": 1560315402, "answer_id": 56554910, "question_id": 56553598, "link": "https://stackoverflow.com/questions/56553598/how-do-i-write-a-lz-compressed-string-to-text-file-using-jxa/56554910#56554910", "title": "How do I write a LZ compressed string to text file using JXA?", "body": "<p>After some further Googl'ing, I came across these two posts:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/44293869/11616368\">How can I write UTF-8 files using JavaScript for Mac Automation?</a></li>\n<li><a href=\"https://github.com/JXA-Cookbook/JXA-Cookbook/issues/25#issuecomment-271204038\" rel=\"nofollow noreferrer\">read file as class utf8</a></li>\n</ul>\n\n<p>I have thus altered my script accordingly.</p>\n\n<p><em>writeTextToFile()</em> now looks like:</p>\n\n<pre><code>function writeTextToFile(text, file) {\n  // source: https://stackoverflow.com/a/44293869/11616368\n  var nsStr       = $.NSString.alloc.initWithUTF8String(text)\n  var nsPath      = $(file).stringByStandardizingPath\n  var successBool  = nsStr.writeToFileAtomicallyEncodingError(nsPath, false, $.NSUTF8StringEncoding, null)\n  if (!successBool) {\n    throw new Error(\"function writeFile ERROR:\\nWrite to File FAILED for:\\n\" + file)\n  }\n  return successBool  \n};\n</code></pre>\n\n<p>While <em>readFile()</em> looks like:</p>\n\n<pre><code>ObjC.import('Foundation')\nconst readFile = function (path, encoding) {\n  // source: https://github.com/JXA-Cookbook/JXA-Cookbook/issues/25#issuecomment-271204038\n    pathString = path.toString()\n    !encoding &amp;&amp; (encoding = $.NSUTF8StringEncoding)\n    const fm = $.NSFileManager.defaultManager\n    const data = fm.contentsAtPath(pathString)\n    const str = $.NSString.alloc.initWithDataEncoding(data, encoding)\n    return ObjC.unwrap(str)\n};\n</code></pre>\n\n<p>Both use Objective-C to overcome <em>app.write</em> and <em>app.read</em>'s inability to handle UTF-8.</p>\n"}], "owner": {"reputation": 65, "user_id": 11616368, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101143374669995/picture?type=large", "display_name": "PE B", "link": "https://stackoverflow.com/users/11616368/pe-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560315402, "creation_date": 1560303786, "question_id": 56553598, "link": "https://stackoverflow.com/questions/56553598/how-do-i-write-a-lz-compressed-string-to-text-file-using-jxa", "title": "How do I write a LZ compressed string to text file using JXA?", "body": "<p>I am trying to write a JXA script in Apple Script Editor, that compresses a string using the LZ algorithm and writes it to a text (JSON) file:</p>\n\n<pre><code>var story = \"Once upon a time in Silicon Valley...\"\nvar storyC = LZString.compress(story)\nvar data_to_write = \"{\\x22test\\x22\\x20:\\x20\\x22\"+storyC+\"\\x22}\"\napp.displayAlert(data_to_write)\nvar desktopString = app.pathTo(\"desktop\").toString()\nvar file = `${desktopString}/test.json`\nwriteTextToFile(data_to_write, file, true)\n</code></pre>\n\n<p>Everything works, except that the LZ compressed string is just transformed to a set of \"?\" by the time it reaches the output file, <em>test.json</em>.</p>\n\n<p>It should look like:</p>\n\n<pre><code>{\"test\" : \"\u3c83\ub0c6\u0a60\u040a\ue00e\u07b1\u1408\u6500\ub812\uc0b6\ud4f2\u0654\uc01b\u4cc2\u4a00\ud456\u3888\u04f0\u0e99\ua000\"}\n</code></pre>\n\n<p>Instead it looks like:</p>\n\n<pre><code>{\"test\" : \"????????????????????\"}\n</code></pre>\n\n<p>I have a feeling the conversion is happening in the <em>app.write</em> command used by the <em>writeTextToFile()</em> function (which I pulled from an example in <a href=\"https://developer.apple.com/library/archive/documentation/LanguagesUtilities/Conceptual/MacAutomationScriptingGuide/ReadandWriteFiles.html#//apple_ref/doc/uid/TP40016239-CH58-SW1\" rel=\"nofollow noreferrer\">Apple's Mac Automation Scripting Guide</a>):</p>\n\n<pre><code>var app = Application.currentApplication()\napp.includeStandardAdditions = true\n\nfunction writeTextToFile(text, file, overwriteExistingContent) {\n    try {\n\n        // Convert the file to a string\n        var fileString = file.toString()\n\n        // Open the file for writing\n        var openedFile = app.openForAccess(Path(fileString), { writePermission: true })\n\n        // Clear the file if content should be overwritten\n        if (overwriteExistingContent) {\n            app.setEof(openedFile, { to: 0 })\n        }\n\n        // Write the new content to the file\n        app.write(text, { to: openedFile, startingAt: app.getEof(openedFile) })\n\n        // Close the file\n        app.closeAccess(openedFile)\n\n        // Return a boolean indicating that writing was successful\n        return true\n    }\n    catch(error) {\n\n        try {\n            // Close the file\n            app.closeAccess(file)\n        }\n        catch(error) {\n            // Report the error is closing failed\n            console.log(`Couldn't close file: ${error}`)\n        }\n\n        // Return a boolean indicating that writing was successful\n        return false\n    }\n}\n</code></pre>\n\n<p>Is there a substitute command for <em>app.write</em> that maintains the LZ compressed string / a better way to accomplish what I am trying to do?</p>\n\n<p>In addition, I am using the <em>readFile()</em> function (also from the <a href=\"https://developer.apple.com/library/archive/documentation/LanguagesUtilities/Conceptual/MacAutomationScriptingGuide/ReadandWriteFiles.html#//apple_ref/doc/uid/TP40016239-CH58-SW1\" rel=\"nofollow noreferrer\">Scripting Guide</a>) to load the LZ string back into the script:</p>\n\n<pre><code>function readFile(file) {\n    // Convert the file to a string\n    var fileString = file.toString()\n\n    // Read the file and return its contents\n    return app.read(Path(fileString))\n}\n</code></pre>\n\n<p>But rather than returning:</p>\n\n<pre><code>{\"test\" : \"\u3c83\ub0c6\u0a60\u040a\ue00e\u07b1\u1408\u6500\ub812\uc0b6\ud4f2\u0654\uc01b\u4cc2\u4a00\ud456\u3888\u04f0\u0e99\ua000\"}\n</code></pre>\n\n<p>It is returning:</p>\n\n<pre><code>\"{\\\"test\\\" : \\\"\u201e\u2264\u00c9\u00ce\u00c9\u00dc\u2021\u00a9\u2020\u2013\u00e4\u00d3\u00c4\u00e9\ufb01\u00b1\u00b7\u00ea\u00e0\u00ca\u00ee\u00c4\u00ce\u2020\u00ed\u00cf\u00c7\u2202\u00cc\u00ec\u2264\u0178\u00ee\u00cf\u00c4\u00f5\u2030\u2265\u00c7\u2030\u00ae\u00c4\u00cc\u00eb\u00f1\u201e\u00a2\u00e0\u201d\u221e\u2021\u222b\u00f4\u00cd\u00c4\u00c4\\\"}\"\n</code></pre>\n\n<p>Does anybody know a fix for this too?</p>\n\n<p>I know that it is possible to <a href=\"https://tylergaw.com/articles/building-osx-apps-with-js/\" rel=\"nofollow noreferrer\">use Cocoa in JXA scripts</a>, so maybe the solution lies therein?  </p>\n\n<p>I am just getting to grips with JavaScript so I'll admit trying to grasp Objective-C or Swift is way beyond me right now.</p>\n\n<p>I look forward to any solutions and/or pointers that you might be able to provide me.  Thanks in advance!</p>\n"}, {"tags": ["ios", "objective-c", "uikit"], "comments": [{"owner": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "edited": false, "score": 0, "creation_date": 1560341586, "post_id": 56550177, "comment_id": 99703325, "body": "I did a test on <code>IOS 12</code>, using a <code>190KB</code> file containing random text, and I don&#39;t go past the 50MB mark. Are you sure <code>+[NSStringWithContentsOfFile:encoding:error]</code> is not getting called multiple times? Also, it&#39;s not clear what version you&#39;re on - are you on iOS 11 or 12?"}, {"owner": {"reputation": 95, "user_id": 1350965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4578bf616e1fb78d19e9fef12df8fa4c?s=128&d=identicon&r=PG", "display_name": "Bram Bos", "link": "https://stackoverflow.com/users/1350965/bram-bos"}, "reply_to_user": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "edited": false, "score": 0, "creation_date": 1560404176, "post_id": 56550177, "comment_id": 99725974, "body": "The text loading is not the issue: in the debugger I can see that the memory requirement doesn&#39;t grow until the NSString is assigned to the UITextView. I can also &quot;generate&quot; the string (instead of loading it) with the same result. This is on iOS12."}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1574619571, "post_id": 56550177, "comment_id": 104287270, "body": "<b>This decade old problem w/ iOS seems to still be true in some cases!</b>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 1350965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4578bf616e1fb78d19e9fef12df8fa4c?s=128&d=identicon&r=PG", "display_name": "Bram Bos", "link": "https://stackoverflow.com/users/1350965/bram-bos"}, "edited": false, "score": 0, "creation_date": 1560404075, "post_id": 56553106, "comment_id": 99725942, "body": "The UITextView is a code/script editor. So pagination would be both inconvenient and unusual, unless it can be made invisible to the user."}, {"owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "reply_to_user": {"reputation": 95, "user_id": 1350965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4578bf616e1fb78d19e9fef12df8fa4c?s=128&d=identicon&r=PG", "display_name": "Bram Bos", "link": "https://stackoverflow.com/users/1350965/bram-bos"}, "edited": false, "score": 0, "creation_date": 1565579507, "post_id": 56553106, "comment_id": 101384602, "body": "@BramBos what you think of my edited answer? I think it could work."}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1574619556, "post_id": 56553106, "comment_id": 104287266, "body": "50kb of text is nothing in a text view, and it has no relation to the problem."}], "tags": [], "owner": {"reputation": 7148, "user_id": 501439, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Vq6Nw.jpg?s=128&g=1", "display_name": "GeneCode", "link": "https://stackoverflow.com/users/501439/genecode"}, "is_accepted": false, "score": 0, "last_activity_date": 1565579521, "last_edit_date": 1565579521, "creation_date": 1560298277, "answer_id": 56553106, "question_id": 56550177, "link": "https://stackoverflow.com/questions/56550177/uitextview-huge-memory-usage/56553106#56553106", "title": "UITextView: Huge Memory Usage", "body": "<p>Your design is wrong really. You should not have 50kb worth of text in a single UITextView. What you should do is SPLIT up that text into pages. So you have multiple pages of UITextViews (reusable Viewcontroller).</p>\n\n<p><strong>EDIT:</strong> I have another idea  how about you use WKWebView for your editor. I am sure it will not lag. But u need expertise in CSS/HTML for that.</p>\n"}, {"comments": [{"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1574622130, "post_id": 59020919, "comment_id": 104287979, "body": "Indeed, the problem seems to be not only when using &quot;+=&quot;.  There seems to be many, many problems with both UITextView and UILabel, simply in situations where you often change the text.  Truly ridiculous."}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1574622198, "post_id": 59020919, "comment_id": 104287997, "body": "You can very easily test this by nothing more complicated than just assigning the same short text to a UITextView (or label) a few thousand times.  This is insanity, Apple."}], "tags": [], "owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "is_accepted": false, "score": 2, "last_activity_date": 1574619530, "creation_date": 1574619530, "answer_id": 59020919, "question_id": 56550177, "link": "https://stackoverflow.com/questions/56550177/uitextview-huge-memory-usage/59020919#59020919", "title": "UITextView: Huge Memory Usage", "body": "<p><strong>OP is totally correct!</strong></p>\n\n<p>We found that if you add to a text view, in the \"+=\" sense, it uses insanely large amounts of memory.</p>\n\n<p>We had a text view like this</p>\n\n<pre><code> @IBOutlet var showValues: UITextView!\n</code></pre>\n\n<p>and it would display some lines (say, 10 to 100 or so lines) of text, each line just being an integer.</p>\n\n<p>So I very simply \"appended\" the text each time, like this:</p>\n\n<pre><code> latestValue: String = .. // something like \"14.4 \\n\"\n showValues.text += latestValue\n</code></pre>\n\n<p>If you simply try this it adds about 1/2 mb every line!!!!!!!!!</p>\n\n<p>Perhaps this is a plain bug in iOS?</p>\n\n<p>How could it possibly be?  It's easy to test this!</p>\n"}], "owner": {"reputation": 95, "user_id": 1350965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4578bf616e1fb78d19e9fef12df8fa4c?s=128&d=identicon&r=PG", "display_name": "Bram Bos", "link": "https://stackoverflow.com/users/1350965/bram-bos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1574619530, "creation_date": 1560279498, "question_id": 56550177, "link": "https://stackoverflow.com/questions/56550177/uitextview-huge-memory-usage", "title": "UITextView: Huge Memory Usage", "body": "<p>I'm encountering what seems like excessive memory usage in a UITextView. I'm loading a 50Kb ascii text file into an NSString and assign it to the .text property of an empty UITextView component in my app. This immediately adds more than 100Mb to my memory footprint (2000x the actual text content).</p>\n\n<p>Is there a way (a property or conversion) to make the UITextView more memory efficient? I need the editability and scrolling of the contents, but it's plain text (not attributed) and I'm not using any complex layout or rich text features.</p>\n\n<p>For context: I'm working in a memory-constrained environment (an audio unit extension) so every Mb of memory counts.</p>\n\n<p>This doesn't seem to be related to the well-documented iOS11 UITextView memory leak, since I'm not releasing the component.</p>\n\n<pre><code>NSError* error = nil;\nNSString* path = [[NSBundle mainBundle] pathForResource:@\"Example\" ofType:@\"txt\"];\nNSString* content = [NSString stringWithContentsOfFile:path encoding:NSUTF8StringEncoding error:&amp;error];\nmyUITextView.text = content; // this adds over 110Mb of memory usage for a 50Kb text file.\n</code></pre>\n"}, {"tags": ["objective-c", "sorting", "nsdictionary", "nsmutabledictionary"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 4, "creation_date": 1560280585, "post_id": 56549896, "comment_id": 99682542, "body": "Dictionaries have no order. You would need to create an array from the keys and then sort that array."}], "answers": [{"comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1560336752, "post_id": 56558115, "comment_id": 99700454, "body": "That doesn&#39;t fix the issue. Even if you sort the key and store them in &quot;order&quot;, order in the print it no guaranteed. Nor the access."}, {"owner": {"reputation": 284, "user_id": 10828054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEPnX.jpg?s=128&g=1", "display_name": "ink", "link": "https://stackoverflow.com/users/10828054/ink"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1560337247, "post_id": 56558115, "comment_id": 99700722, "body": "Thank you, I think I was just confused, the dictionary is unordered."}], "tags": [], "owner": {"reputation": 284, "user_id": 10828054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEPnX.jpg?s=128&g=1", "display_name": "ink", "link": "https://stackoverflow.com/users/10828054/ink"}, "is_accepted": false, "score": 0, "last_activity_date": 1560339230, "last_edit_date": 1560339230, "creation_date": 1560329312, "answer_id": 56558115, "question_id": 56549896, "link": "https://stackoverflow.com/questions/56549896/sort-nsmutabledictionary-in-asc-order/56558115#56558115", "title": "Sort NSMutableDictionary in ASC order", "body": "<p>@rmaddy is right,the following is the implementation code, very simple.</p>\n\n<pre><code>- (NSMutableArray *)sortDictionary:(NSMutableDictionary *)dictionary {\n    NSArray *sortedKeys = [[dictionary allKeys] sortedArrayUsingSelector:@selector(compare:)];\n    NSMutableArray *sortedArray = [NSMutableArray arrayWithCapacity:sortedKeys.count];\n    for (NSString *key in sortedKeys) {\n        [sortedArray addObject:[dictionary objectForKey:key]];\n    }\n    return sortedArray;\n}\n</code></pre>\n\n<p>example</p>\n\n<pre><code>NSDictionary *dict = @{@\"3\":@{@\"3333\":@\"3333\"},\n                       @\"2\":@{@\"2222\":@\"2222\"},\n                       @\"1\":@{@\"1111\":@\"1111\"},\n                       @\"4\":@{@\"4444\":@\"444\"}};\n\n[self sortDictionary:dict];\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>sortedArray :(\n        {\n        1111 = 1111;\n    },\n        {\n        2222 = 2222;\n    },\n        {\n        3333 = 3333;\n    },\n        {\n        4444 = 444;\n    }\n)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 11019572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd6aa2227fb98f3cf65380a9c6348ab?s=128&d=identicon&r=PG&f=1", "display_name": "TheAlphaGhost", "link": "https://stackoverflow.com/users/11019572/thealphaghost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560339230, "creation_date": 1560278329, "last_edit_date": 1560280590, "question_id": 56549896, "link": "https://stackoverflow.com/questions/56549896/sort-nsmutabledictionary-in-asc-order", "title": "Sort NSMutableDictionary in ASC order", "body": "<p>In my Xcode Project (Objective-C), i store json Result in a NSMutableDictionary, but the result is in false order direction.</p>\n\n<p>How can i sort a <code>NSMutableDictionary</code> is ASC order on Objective-C.</p>\n\n<p>Here is my <code>NSMutableDictionary</code>:</p>\n\n<pre><code>{\n    3 =     (\n        11,\n        12,\n        13,\n        14,\n        15,\n        16,\n        17,\n        18,\n        19,\n        20\n    );\n    2 =     (\n        2,\n        3,\n        4,\n        5,\n        6,\n        7,\n        8,\n        9,\n        10\n    );\n    1 =     (\n        0,\n        1\n    );\n    4 =     (\n        21,\n        22,\n        23,\n        24,\n        25,\n        26\n    );\n}\n</code></pre>\n\n<p>I expect a sort order 1,2,3,4 for <code>UITableView</code> Section.</p>\n"}, {"tags": ["ios", "objective-c", "frameworks", "ios11", "ios12"], "answers": [{"comments": [{"owner": {"reputation": 546, "user_id": 137473, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b5094e7b56c19f71e1e22a4ccdca421?s=128&d=identicon&r=PG", "display_name": "Roi", "link": "https://stackoverflow.com/users/137473/roi"}, "edited": false, "score": 0, "creation_date": 1560287229, "post_id": 56549218, "comment_id": 99684998, "body": "Thanks Matteo I read the docs as well and saw these definitions. The weird part is that we have a test application that we created in order for us to test our SDK. When I connect an iPhone with OS 12 to my Mac and compile this app I get one set of frameworks and when I connect it to another device that is running OS 11 I get a different set of frameworks. I didn&#39;t change the frameworks definitions between the two compilations. That is why I was wondering if anyone knows what might be the reason for those frameworks to be left out of the frameworks list."}, {"owner": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "reply_to_user": {"reputation": 546, "user_id": 137473, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b5094e7b56c19f71e1e22a4ccdca421?s=128&d=identicon&r=PG", "display_name": "Roi", "link": "https://stackoverflow.com/users/137473/roi"}, "edited": false, "score": 0, "creation_date": 1560287516, "post_id": 56549218, "comment_id": 99685098, "body": "@Roi it could well be different <code>iOS</code> versions having different requirements in terms of framework linkage"}], "tags": [], "owner": {"reputation": 17099, "user_id": 2890168, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nDjdp.jpg?s=128&g=1", "display_name": "Matteo Pacini", "link": "https://stackoverflow.com/users/2890168/matteo-pacini"}, "is_accepted": false, "score": 0, "last_activity_date": 1560275335, "creation_date": 1560275335, "answer_id": 56549218, "question_id": 56546803, "link": "https://stackoverflow.com/questions/56546803/nsbundle-allframeworks-doesnt-return-some-of-the-frameworks/56549218#56549218", "title": "NSBundle.allFrameworks doesn&#39;t return some of the frameworks", "body": "<p>According to the <a href=\"https://developer.apple.com/documentation/foundation/nsbundle/1408056-allframeworks?language=objc\" rel=\"nofollow noreferrer\">docs</a>, it returns:</p>\n\n<blockquote>\n  <p>An array of all of the application\u2019s bundles that represent frameworks. Only frameworks with one or more Objective-C classes in them are included.</p>\n</blockquote>\n\n<p>And the <strong>Discussion</strong> section mentions that:</p>\n\n<blockquote>\n  <p>The returned array includes frameworks that are linked into an application when the application is built and bundles for frameworks that have been dynamically created.</p>\n</blockquote>\n\n<p>This means that frameworks with at least one Objective-C class, and that are bundled within the app/linked against the app, are shown.</p>\n\n<p>e.g. If both the app and the bundled frameworks are not linking against a specific framework, it won't appear in the list.</p>\n"}], "owner": {"reputation": 546, "user_id": 137473, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b5094e7b56c19f71e1e22a4ccdca421?s=128&d=identicon&r=PG", "display_name": "Roi", "link": "https://stackoverflow.com/users/137473/roi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560275335, "creation_date": 1560266005, "question_id": 56546803, "link": "https://stackoverflow.com/questions/56546803/nsbundle-allframeworks-doesnt-return-some-of-the-frameworks", "title": "NSBundle.allFrameworks doesn&#39;t return some of the frameworks", "body": "<p>We are developing an SDK in Objective-C and as part of our service to our SDk consumers we have a tool that checks to see if all the required frameworks exist in the develop project.\nIn order for us to do so we use <strong>NSBundle.allFrameworks</strong> that should return all of the frameworks and we search for the required framework in the returned result.</p>\n\n<p>We are seeing a weird behaviour with that call that changes between OS versions.\nFor example when we call <strong>NSBundle.allFrameworks</strong> on iOS the returned list doesn't contain some of the frameworks such as \n<strong>MobileCoreServices, CoreGraphics, UIKit, SystemConfiguration</strong></p>\n\n<p>If we run the same call on an iOS 11 device the only framework that is missing is <strong>SystemConfiguration</strong>.</p>\n\n<p>Is anyone familiar with this behaviour?\nWe would really love to provide that functionality for our users</p>\n"}, {"tags": ["objective-c", "swift", "flutter", "podspec", "google-vr-sdk"], "comments": [{"owner": {"reputation": 1345, "user_id": 3975501, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kNIVP.png?s=128&g=1", "display_name": "ErikBrandsma", "link": "https://stackoverflow.com/users/3975501/erikbrandsma"}, "edited": false, "score": 0, "creation_date": 1560268587, "post_id": 56545083, "comment_id": 99676966, "body": "Did you put &quot;use_frameworks!&quot; on top of your podfile? Like in this question: <a href=\"https://stackoverflow.com/questions/41210249/why-do-we-use-use-frameworks-in-cocoapods\" title=\"why do we use use frameworks in cocoapods\">stackoverflow.com/questions/41210249/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 1095930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dd47a973a279041fe5a7796b6c15a5?s=128&d=identicon&r=PG", "display_name": "Raul Cajias", "link": "https://stackoverflow.com/users/1095930/raul-cajias"}, "reply_to_user": {"reputation": 1345, "user_id": 3975501, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/kNIVP.png?s=128&g=1", "display_name": "ErikBrandsma", "link": "https://stackoverflow.com/users/3975501/erikbrandsma"}, "edited": false, "score": 0, "creation_date": 1560326416, "post_id": 56545083, "comment_id": 99694864, "body": "Yes, I did. I&#39;m able to load this dependency from app&#39;s Podfile, but not in the flutter library--i.e via podspec file.  I think I&#39;m looking for the same header bridge mechanism when loading the deb in a podspec library."}], "owner": {"reputation": 21, "user_id": 1095930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80dd47a973a279041fe5a7796b6c15a5?s=128&d=identicon&r=PG", "display_name": "Raul Cajias", "link": "https://stackoverflow.com/users/1095930/raul-cajias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560260392, "creation_date": 1560260392, "question_id": 56545083, "link": "https://stackoverflow.com/questions/56545083/how-to-include-objectivec-dependency-in-a-swift-library", "title": "How to include objectiveC dependency in a swift library", "body": "<p>Xcode cannot find references to a obj-c library after adding the dependency to my library's Podspec file</p>\n\n<p>I'm trying to write a flutter iOS plugin for the GVRAudioEngine. There are two parts to this: </p>\n\n<ul>\n<li>The plugin implementation, which instantiates a native object--in this case a GVRAudioEngine instance--and a communication channel to the dart world. Dependencies for this part are defined in a Podspec file</li>\n<li>A sample app that runs the plugin--for debugging and documentation purposes. Here is where a sample AppDelegate class would get implemented. Dependencies for this part are defined in a Podfile</li>\n</ul>\n\n<p>I've been able to include the GVRAudioEngine as a Podfile dependency accessible from the sample app. For this I've had to create a header bridge. </p>\n\n<p>However,I've so far not been able to access GVRAudioEngine from the library side i.e Podspec. I've added the dependecies, and tried creating  a header bridge there, or checking the framework and header paths. I've not been able to get this to work.</p>\n\n<p>Comparing this library to other libraries I do have access to, the only differences I've found so far are:</p>\n\n<ul>\n<li>This one is written in objc</li>\n<li>the framework is a .a file</li>\n</ul>\n\n<p>I'm close to giving up. I'm a new iOS developer, so I fear there's something super obvious I'm missing. </p>\n\n<p>I've added the following lines to my Podspec file.</p>\n\n<pre><code>  s.dependency 'GVRKit', '1.140.0'\n  s.dependency 'GVRAudioSDK', '1.140.0'\n  s.static_framework = true\n</code></pre>\n\n<p>I expect to be able to declare a field of type GVRAudioEngine in my Podspec library. But Xcode complains that the type is undeclared</p>\n"}, {"tags": ["ios", "objective-c", "uibarbuttonitem"], "comments": [{"owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "edited": false, "score": 0, "creation_date": 1560253599, "post_id": 56542711, "comment_id": 99667534, "body": "have you create <code>UIBarButton</code> from coding or storyboard ?"}, {"owner": {"reputation": 813, "user_id": 1135154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d4c28aee960a497fe73ba177a13274b?s=128&d=identicon&r=PG", "display_name": "Kirow", "link": "https://stackoverflow.com/users/1135154/kirow"}, "edited": false, "score": 0, "creation_date": 1560254508, "post_id": 56542711, "comment_id": 99668090, "body": "are you trying to set color or animate its change?"}, {"owner": {"reputation": 813, "user_id": 1135154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d4c28aee960a497fe73ba177a13274b?s=128&d=identicon&r=PG", "display_name": "Kirow", "link": "https://stackoverflow.com/users/1135154/kirow"}, "edited": false, "score": 0, "creation_date": 1560255443, "post_id": 56542711, "comment_id": 99668601, "body": "It seems that tint animation not working properly. <a href=\"https://stackoverflow.com/questions/39515313/animate-navigation-bar-bartintcolor-change-in-ios10-not-working\">See solution</a>"}], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 6197968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GE5Lb.jpg?s=128&g=1", "display_name": "Naresh", "link": "https://stackoverflow.com/users/6197968/naresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1560254067, "creation_date": 1560254067, "answer_id": 56543130, "question_id": 56542711, "link": "https://stackoverflow.com/questions/56542711/update-uibarbuttonitem-within-view-controller/56543130#56543130", "title": "Update UIBarButtonItem within view controller", "body": "<p>I have tried your problem by making outlet of UIBarButtonItem. It is working fine. You can set the tint color by direct refrence.</p>\n\n<p>Here is the code</p>\n\n<pre><code>class ViewController: UIViewController {\n\n@IBOutlet weak var addItem: UIBarButtonItem!\nvar  username = UITextField()\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n    // Do any additional setup after loading the view, typically from a nib.\n\n\n}\n\n@IBAction func addItem(_ sender: UIBarButtonItem) {\n\n    UIView.animate(withDuration: 20) {\n\n        self.addItem.tintColor = UIColor.red\n    }\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 515, "user_id": 9607910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb3sC.jpg?s=128&g=1", "display_name": "Ladumor Dineshkumar", "link": "https://stackoverflow.com/users/9607910/ladumor-dineshkumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1560254088, "creation_date": 1560254088, "answer_id": 56543144, "question_id": 56542711, "link": "https://stackoverflow.com/questions/56542711/update-uibarbuttonitem-within-view-controller/56543144#56543144", "title": "Update UIBarButtonItem within view controller", "body": "<pre><code>let addButton = UIButton(type: .custom)\naddButton.frame = CGRect(x: 0, y: 0, width: 30, height: 30)\naddButton.tintColor = UIColor.gray\nlet addMoreItem = UIBarButtonItem(customView: addButton)\nself.navigationItem.rightBarButtonItem = addMoreItem\n</code></pre>\n\n<p>it may be work for you.</p>\n"}, {"tags": [], "owner": {"reputation": 2367, "user_id": 4407564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb286125b9446b43944de7254f4c3312?s=128&d=identicon&r=PG&f=1", "display_name": "iNiravKotecha", "link": "https://stackoverflow.com/users/4407564/iniravkotecha"}, "is_accepted": false, "score": 0, "last_activity_date": 1560254446, "creation_date": 1560254446, "answer_id": 56543241, "question_id": 56542711, "link": "https://stackoverflow.com/questions/56542711/update-uibarbuttonitem-within-view-controller/56543241#56543241", "title": "Update UIBarButtonItem within view controller", "body": "<pre><code>UIButton *btnBack = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];\n[btnback setTintColor:[UIColor whiteColor]];\n[btnBack addTarget:self action:@selector(onClickBtnBack:) forControlEvents:UIControlEventTouchUpInside];\nUIBarButtonItem *barButtonItem = [[UIBarButtonItem alloc] initWithCustomView:btnBack];\nself.navigationItem.rightBarButtonItem = barButtonItem;\n</code></pre>\n\n<p>also you can set background color and text color.</p>\n"}], "owner": {"reputation": 2618, "user_id": 6043024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/747faf0b5e22ced76ebf8649910af0e4?s=128&d=identicon&r=PG&f=1", "display_name": "isuru", "link": "https://stackoverflow.com/users/6043024/isuru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1560254446, "creation_date": 1560252537, "question_id": 56542711, "link": "https://stackoverflow.com/questions/56542711/update-uibarbuttonitem-within-view-controller", "title": "Update UIBarButtonItem within view controller", "body": "<p>I'm trying to update <code>UIBarButtonItem</code> tint color from a view controller but nothing has changed. Can't we access the <code>UIBarButtonItem</code> within view controller using <code>self.navigationItem.rightBarButtonItem</code>?</p>\n\n<pre><code>[UIView animateWithDuration:.8 delay:0.5 options:UIViewAnimationOptionAllowUserInteraction animations:^ {\n        //button.alpha = .01;  //don't animate alpha to 0, otherwise you won't be able to interact with it\n        self.navigationItem.rightBarButtonItem.tintColor = [UIColor whiteColor];\n    } completion:^(BOOL finished) {\n        self.navigationItem.rightBarButtonItem.tintColor = [UIColor whiteColor];\n    }];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "operating-system"], "answers": [{"comments": [{"owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "edited": false, "score": 0, "creation_date": 1560248453, "post_id": 56539663, "comment_id": 99664563, "body": "After updating data, datasource notify the listeners that the content has changed and the listeners do their respective actions. The controller that is the owner of the tableView also get notified and it reloads the tableView. But I need some way to bind the remove and add methods (e.g. the context never switch after removing the item only.)"}, {"owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "reply_to_user": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "edited": false, "score": 0, "creation_date": 1560248698, "post_id": 56539663, "comment_id": 99664719, "body": "@NajeeburRehman Maybe you have left out a substantial amount of code and description on what you are trying to do and how?"}, {"owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "edited": false, "score": 0, "creation_date": 1560249324, "post_id": 56539663, "comment_id": 99665124, "body": "I have updated my question a bit. May you get it now."}], "tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": false, "score": 1, "last_activity_date": 1560242300, "creation_date": 1560242300, "answer_id": 56539663, "question_id": 56539502, "link": "https://stackoverflow.com/questions/56539502/is-syncronized-block-in-objective-c-guarantees-to-execute-the-block-completely/56539663#56539663", "title": "Is @syncronized block in Objective-C guarantees to execute the block completely before context is switched to execute other piece of code?", "body": "<p>I don't think this makes much sense in your case. Table view may choose to call any of the data source methods at any given time. You need to take care of your data so that it is consistent. Generally when you alter your data source you should call <code>reloadData</code> or do the begin/end updates procedure on the table view. Since the table view works on main thread you should do the same when dealing with data.</p>\n\n<p>So if you are working on multiple threads or anyhow uncontrollably modify your data source then you should always create a copy when you are done. Then use this copy as a data source and reload the table view. In worst case scenario you should do something like:</p>\n\n<pre><code>- (void)setNewData:(NSArray *)newData {\n    NSArray *duplicate = [newData copy];\n    dispatch_async(dispatch_get_main_queue(), ^(void){\n        self.dataArray = duplicate;\n        [self.tableView reloadData];\n    });\n}\n</code></pre>\n\n<p>In this case <code>self.dataArray</code> should be used in table view data source methods and it should never fail you.</p>\n"}], "owner": {"reputation": 310, "user_id": 9769043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCx9.jpg?s=128&g=1", "display_name": "Najeeb ur Rehman", "link": "https://stackoverflow.com/users/9769043/najeeb-ur-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560249587, "creation_date": 1560241722, "last_edit_date": 1560249587, "question_id": 56539502, "link": "https://stackoverflow.com/questions/56539502/is-syncronized-block-in-objective-c-guarantees-to-execute-the-block-completely", "title": "Is @syncronized block in Objective-C guarantees to execute the block completely before context is switched to execute other piece of code?", "body": "<p>I have a datasource for the UITableView. Sometimes I get an <strong>indexOutOfBound exception</strong> in cellForRowAt method because it can happen when the tableView's numberOfRowsInSection method has invoked and then context switches and there for some reason the items in the dataSource needs to update(removes specific items and add updated versions of these items) but when it just removes the items and before addition of new items the context is switched back and try to load cells but then some items are removed so it throws an exception. </p>\n\n<p><strong>I want to make bind removal and addition in a block so it only change context after executing the complete block i.e.</strong></p>\n\n<p><code>[self removeObjects:@[ lastUserChatMessage ]];\n lastUserChatMessage.state = KUSChatMessageStateFailed;\n [self upsertObjects:@[ lastUserChatMessage ]];</code></p>\n\n<p><strong>I want that the context never switch after the first statement. It must execute till the last statement.</strong></p>\n\n<p><strong>Is @syncronized block can serve this purpose? But remember all is done in Main Thread.</strong></p>\n"}, {"tags": ["objective-c", "nsinteger", "nsrangeexception"], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 7025494, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-srOj4mTSV34/AAAAAAAAAAI/AAAAAAAAAmU/OaL0paIK--A/photo.jpg?sz=128", "display_name": "VK1", "link": "https://stackoverflow.com/users/7025494/vk1"}, "is_accepted": false, "score": 0, "last_activity_date": 1560311582, "creation_date": 1560311582, "answer_id": 56554442, "question_id": 56539346, "link": "https://stackoverflow.com/questions/56539346/why-does-this-conditional-cause-an-error/56554442#56554442", "title": "Why does this conditional cause an error?", "body": "<pre><code>[NSNumber numberWithInt:feedbackCancellationMode]}]\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>[NSNumber numberWithInteger: feedbackCancellationMode]}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1320, "user_id": 7025494, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-srOj4mTSV34/AAAAAAAAAAI/AAAAAAAAAmU/OaL0paIK--A/photo.jpg?sz=128", "display_name": "VK1", "link": "https://stackoverflow.com/users/7025494/vk1"}, "edited": false, "score": 0, "creation_date": 1560317709, "post_id": 56555124, "comment_id": 99691213, "body": "The cancellation mode should return either 0 or 1. Or maybe it will return either 00 or a 01.   I&#39;m not sure how to adjust the code to accordingly.  I&#39;m very new/unfamiliar to Objective C and native modules in general(I usually just work with React Native."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 1320, "user_id": 7025494, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-srOj4mTSV34/AAAAAAAAAAI/AAAAAAAAAmU/OaL0paIK--A/photo.jpg?sz=128", "display_name": "VK1", "link": "https://stackoverflow.com/users/7025494/vk1"}, "edited": false, "score": 1, "creation_date": 1560352183, "post_id": 56555124, "comment_id": 99710080, "body": "Knowing that it&#39;s either 0 or 1 isn&#39;t enough. You need to know the layout of the data you&#39;re receiving. Where is each value in the data buffer and how many bytes long are they? If the cancellation mode is expected to be just one byte, change the type of <code>value</code> in that branch to <code>uint8_t</code> and change the place where you have <code>sizeof(uint16_t)</code> to <code>sizeof(value)</code>. And remove the call to <code>CFSwapInt16BigToHost()</code>; just assign <code>value</code> to <code>feedbackCancellationMode</code>."}, {"owner": {"reputation": 1320, "user_id": 7025494, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-srOj4mTSV34/AAAAAAAAAAI/AAAAAAAAAmU/OaL0paIK--A/photo.jpg?sz=128", "display_name": "VK1", "link": "https://stackoverflow.com/users/7025494/vk1"}, "edited": false, "score": 0, "creation_date": 1560390873, "post_id": 56555124, "comment_id": 99723241, "body": "That was exactly what I needed!  Thanks a bunch!"}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1560316840, "creation_date": 1560316840, "answer_id": 56555124, "question_id": 56539346, "link": "https://stackoverflow.com/questions/56539346/why-does-this-conditional-cause-an-error/56555124#56555124", "title": "Why does this conditional cause an error?", "body": "<p>Consider what this is telling you:</p>\n\n<pre><code>Terminating app due to uncaught exception 'NSRangeException', reason:\n'-[_NSInlineData getBytes:range:]: range {1, 2} exceeds data length 2'\n</code></pre>\n\n<p>Your data object is 2 bytes in length. The first byte, at position 0, is (according to your code) the <code>success</code> value. That leaves one more byte at position 1 to handle. But your code is attempt to copy 2 bytes out of it \u2014 that's the <code>range {1, 2}</code> in the message; a range starting at position 1 and with a length of 2. You're reading past the end of the data.</p>\n\n<p>You have to check that the data has enough data to satisfy the <code>-getBytes:...</code> call you're attempting to make. You may also need to correct your assumptions about how large the cancellation mode value in the buffer is supposed to be, because it's apparently smaller than you expect. Your code assumes it's a <code>uint16_t</code> (2 bytes) but there's only one byte left in the data.</p>\n"}], "owner": {"reputation": 1320, "user_id": 7025494, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh3.googleusercontent.com/-srOj4mTSV34/AAAAAAAAAAI/AAAAAAAAAmU/OaL0paIK--A/photo.jpg?sz=128", "display_name": "VK1", "link": "https://stackoverflow.com/users/7025494/vk1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56555124, "answer_count": 2, "score": 0, "last_activity_date": 1560316840, "creation_date": 1560241185, "question_id": 56539346, "link": "https://stackoverflow.com/questions/56539346/why-does-this-conditional-cause-an-error", "title": "Why does this conditional cause an error?", "body": "<p>I have a method that contains a few conditionals. The first conditional works fine and does not cause any problems.  However, the second one causes the app to crash.</p>\n\n<pre><code>- (void)didReceiveGaiaGattResponse:(CSRGaiaGattCommand *)command\n{\n    GaiaCommandType cmdType = [command getCommandId];\n    NSData *requestPayload = [command getPayload];\n    uint8_t success = 0;\n\n    NSLog(@\"cmdType: %li\", (long)cmdType);\n    [requestPayload getBytes:&amp;success range:NSMakeRange(0, sizeof(uint8_t))];\n\n    if (cmdType == GaiaCommand_GetCurrentBatteryLevel &amp;&amp; requestPayload.length &gt; 1)\n    {\n        uint16_t value = 0;\n        [requestPayload getBytes:&amp;value range:NSMakeRange(1, sizeof(uint16_t))];\n        NSInteger battery = CFSwapInt16BigToHost(value);\n\n        [self sendEventWithName:someDEVICE_BATTERY_CHANGED body:@{@\"batteryLevel\":[NSNumber numberWithInteger:battery]}];\n        return;\n    }\n     else if (cmdType == GaiaCommand_GET_FBC &amp;&amp; requestPayload.length &gt; 1)\n    {\n         uint16_t value = 0;\n         [requestPayload getBytes:&amp;value range:NSMakeRange(1, sizeof(uint16_t))];\n         NSInteger feedbackCancellationMode = CFSwapInt16BigToHost(value);\n         [self sendEventWithName:FEEDBACK_CANCELLATION_MODE body:@{@\"feedbackCancellationMode\": [NSNumber numberWithInt:feedbackCancellationMode]}];\n         return;\n    }\n\n    //do more stuff\n}\n</code></pre>\n\n<p>The conditional</p>\n\n<blockquote>\n  <p>if (cmdType == GaiaCommand_GetCurrentBatteryLevel &amp;&amp;\n  requestPayload.length > 1)</p>\n</blockquote>\n\n<p>works without problems.</p>\n\n<p>However, the conditional </p>\n\n<blockquote>\n  <p>else if (cmdType == GaiaCommand_GET_FBC &amp;&amp; requestPayload.length > 1)</p>\n</blockquote>\n\n<p>causes the following warning in xcode </p>\n\n<blockquote>\n  <p>Implicit conversion loses integer precision: 'NSInteger' (aka 'long')\n  to 'int'</p>\n</blockquote>\n\n<p>In addition, I also saw the error message in the debugger</p>\n\n<blockquote>\n  <p><strong>* Terminating app due to uncaught exception 'NSRangeException', reason: '*</strong> -[_NSInlineData getBytes:range:]: range {1, 2} exceeds</p>\n  \n  <p>data length 2'</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "math", "nsnumber"], "answers": [{"tags": [], "owner": {"reputation": 1777, "user_id": 186709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pXyIt.png?s=128&g=1", "display_name": "Marcio", "link": "https://stackoverflow.com/users/186709/marcio"}, "is_accepted": true, "score": 1, "last_activity_date": 1560252589, "creation_date": 1560252589, "answer_id": 56542716, "question_id": 56539001, "link": "https://stackoverflow.com/questions/56539001/how-to-compare-double-number-with-30-decimal-places-with-the-highest-precision/56542716#56542716", "title": "how to compare double number with 30 decimal places with the highest precision?", "body": "<p>You can use <code>NSDecimalNumber</code>. It should work with up to 38 digits.</p>\n\n<blockquote>\n  <p>NSDecimalNumber, an immutable subclass of NSNumber, provides an\n  object-oriented wrapper for doing base-10 arithmetic. An instance can\n  represent any number that can be expressed as mantissa x 10^exponent\n  where mantissa is a decimal integer up to 38 digits long, and exponent\n  is an integer from \u2013128 through 127.</p>\n</blockquote>\n\n<p><a href=\"https://developer.apple.com/documentation/foundation/nsdecimalnumber\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}], "owner": {"reputation": 1077, "user_id": 3057259, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d0d686531b0ee49b15b0ef553847debc?s=128&d=identicon&r=PG&f=1", "display_name": "user31929", "link": "https://stackoverflow.com/users/3057259/user31929"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56542716, "answer_count": 1, "score": 0, "last_activity_date": 1560252589, "creation_date": 1560239831, "question_id": 56539001, "link": "https://stackoverflow.com/questions/56539001/how-to-compare-double-number-with-30-decimal-places-with-the-highest-precision", "title": "how to compare double number with 30 decimal places with the highest precision?", "body": "<p>i need to compare two big decimal number with 30 decimal places. I need to detect a difference also in the 30th decimal place, so in my needs this:</p>\n\n<pre><code>double number_1=80.004752165027610999459284357728;\ndouble number_2=80.004752165027610999459284357727;\n</code></pre>\n\n<p>leads into this:</p>\n\n<pre><code>double result = 0.000000000000000000000000000001\n</code></pre>\n\n<p>It seems to be impossible due the nature itself of the number (i have tried with float,long double) . I have only a limited set of decimal places to operate. So in that case how i can achive a better precision? Maybe i can use some framework's function ? I haven't found nothing useful in nsnumber and in google</p>\n"}, {"tags": ["ios", "objective-c", "uinavigationcontroller", "segue"], "comments": [{"owner": {"reputation": 12781, "user_id": 4051118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKHVO.png?s=128&g=1", "display_name": "Andr&#233; Slotta", "link": "https://stackoverflow.com/users/4051118/andr%c3%a9-slotta"}, "edited": false, "score": 0, "creation_date": 1560236287, "post_id": 56538079, "comment_id": 99658253, "body": "You should check the progress in the home screen and set the navigation controller&#39;s view controllers (without segues) there."}], "answers": [{"tags": [], "owner": {"reputation": 12781, "user_id": 4051118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKHVO.png?s=128&g=1", "display_name": "Andr&#233; Slotta", "link": "https://stackoverflow.com/users/4051118/andr%c3%a9-slotta"}, "is_accepted": true, "score": 1, "last_activity_date": 1560236779, "creation_date": 1560236779, "answer_id": 56538260, "question_id": 56538079, "link": "https://stackoverflow.com/questions/56538079/objectivec-add-perform-multiple-segue-in-navigation-controller/56538260#56538260", "title": "ObjectiveC: Add/Perform multiple segue in navigation controller", "body": "<p>As stated in my comment a solution could look like this:</p>\n\n<pre><code>- (void)toPersonalApplication {\n    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Personal\" bundle:nil];\n\n    NSMutableArray *viewControllers = [NSMutableArray array];\n    for (NSInteger i = 1; i &lt;= doneProcessTill; ++i) {\n        UIViewController *viewController = [storyboard instantiateViewControllerWithIdentifier:[NSString stringWithFormat:@\"screen%ld\", (long)i]];\n        [viewControllers addObject:viewController];\n    }\n\n    UINavigationController *navigationController = [UINavigationController new];\n    navigationController.viewControllers = viewControllers;\n\n    [self presentViewController:navigationController animated:YES completion:nil];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14257, "user_id": 526828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8y7Ru.png?s=128&g=1", "display_name": "Matic Oblak", "link": "https://stackoverflow.com/users/526828/matic-oblak"}, "is_accepted": false, "score": 0, "last_activity_date": 1560237595, "creation_date": 1560237595, "answer_id": 56538465, "question_id": 56538079, "link": "https://stackoverflow.com/questions/56538079/objectivec-add-perform-multiple-segue-in-navigation-controller/56538465#56538465", "title": "ObjectiveC: Add/Perform multiple segue in navigation controller", "body": "<p>For this case it would be best to save your view controllers and then show them again once you want to go back to where you were. At any point you can get what are the current view controllers using <code>navigationController.viewControllers</code>. And to set the whole stack all you need to do is call <code>setViewControllers</code> on your navigation controller.</p>\n\n<p>You could override a navigation controller to store the array of controllers. Or you can just save it statically. Whichever is more convenient in your case.</p>\n\n<p>The static one would look something like this:</p>\n\n<pre><code>static NSArray&lt;UIViewController *&gt; *__preservedControllers = nil;\n\n@implementation ViewController\n\n- (void)onClose {\n    __preservedControllers = self.navigationController.viewControllers;\n    // Insert logic to close the whole procedure\n}\n\n- (void)reopenSavedStack {\n    if(__preservedControllers) {\n        [self.navigationController setViewControllers:__preservedControllers animated:YES];\n        __preservedControllers = nil;\n    }\n}\n</code></pre>\n\n<p>With subclassing navigation controller it might look much nicer though:</p>\n\n<pre><code>@interface MyNavigationController : UINavigationController\n\n@property (nonatomic, strong) NSArray&lt;UIViewController *&gt; *savedStack;\n\n@end\n\n@implementation MyNavigationController\n\n- (void)saveStack {\n    self.savedStack = self.viewControllers;\n}\n\n- (void)restoreStack:(BOOL)animated {\n    if(self.savedStack.count &gt; 0) {\n        [self setViewControllers:self.savedStack animated:YES];\n        self.savedStack = nil;\n    }\n}\n\n@end\n</code></pre>\n\n<p>But you do need to typecast then:</p>\n\n<pre><code>- (void)onClose {\n    [(MyNavigationController *)self.navigationController saveStack];\n    // Insert logic to close the whole procedure\n}\n\n- (void)reopenSavedStack {\n    [(MyNavigationController *)self.navigationController restoreStack:YES];\n}\n</code></pre>\n"}], "owner": {"reputation": 1981, "user_id": 2226399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gi21m.jpg?s=128&g=1", "display_name": "Harshal Wani", "link": "https://stackoverflow.com/users/2226399/harshal-wani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 56538260, "answer_count": 2, "score": 0, "last_activity_date": 1560237595, "creation_date": 1560235929, "question_id": 56538079, "link": "https://stackoverflow.com/questions/56538079/objectivec-add-perform-multiple-segue-in-navigation-controller", "title": "ObjectiveC: Add/Perform multiple segue in navigation controller", "body": "<p>I'm implementing an application feature where it has 6-7 screens inflow. And user can left/close flow at any screen. </p>\n\n<p>But when the user again applies for an application, they should jump to the last screen where he left and also he can able to go back to previous screens.</p>\n\n<p>For e.g: I started to apply for application and completed till 4th screen and close. Again apply, I must jump directly to the 4th screen and also able to go back to 3rd->2nd->1st screen from the stack.</p>\n\n<p>Current Code:</p>\n\n<p>Segue identifires for screens from 1-7 in <code>Storyboard</code> are \"screen1\", \"screen1\" ... \"screen7\"</p>\n\n<p>From HomeScreen.m</p>\n\n<pre><code>-(void)toPersonalApplication {\n\n    UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@\"Personal\" bundle:nil];\n    ScreenOne *screenOne = [storyboard instantiateViewControllerWithIdentifier:@\"screenOne\"];\n    UINavigationController* nav = [[UINavigationController alloc] initWithRootViewController:screenOne];\n    [self presentViewController:nav animated:YES completion:nil];\n}\n</code></pre>\n\n<p>Checking if the user has already started an application process: </p>\n\n<p>On ScreenOne.m</p>\n\n<pre><code>   - (IBAction)btnNextClick:(id)sender {\n\n        if (doneProcessTill == 4) {\n\n        // Should be execute something like this here\n        // [self performSegueWithIdentifier:@\"screen2\" sender:self];\n        // [self performSegueWithIdentifier:@\"screen3\" sender:self];\n        // [self performSegueWithIdentifier:@\"screen4\" sender:self];\n      }\n\n    }\n</code></pre>\n\n<p>Appreciate your suggestion!\nThanks</p>\n"}, {"tags": ["objective-c", "swift", "tableview", "filtering"], "comments": [{"owner": {"reputation": 1890, "user_id": 8405720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCGAH.jpg?s=128&g=1", "display_name": "Mayur Karmur", "link": "https://stackoverflow.com/users/8405720/mayur-karmur"}, "edited": false, "score": 0, "creation_date": 1560235717, "post_id": 56538025, "comment_id": 99657967, "body": "Please post code what you have tried."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "edited": false, "score": 0, "creation_date": 1560236100, "post_id": 56538074, "comment_id": 99658164, "body": "Cannot convert value of type &#39;Date&#39; to expected argument type &#39;String&#39;"}, {"owner": {"reputation": 1890, "user_id": 8405720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCGAH.jpg?s=128&g=1", "display_name": "Mayur Karmur", "link": "https://stackoverflow.com/users/8405720/mayur-karmur"}, "reply_to_user": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "edited": false, "score": 0, "creation_date": 1560236166, "post_id": 56538074, "comment_id": 99658185, "body": "Is <code>pickupDate</code> string type ?"}, {"owner": {"reputation": 1890, "user_id": 8405720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCGAH.jpg?s=128&g=1", "display_name": "Mayur Karmur", "link": "https://stackoverflow.com/users/8405720/mayur-karmur"}, "reply_to_user": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "edited": false, "score": 0, "creation_date": 1560236197, "post_id": 56538074, "comment_id": 99658208, "body": "Can you please share model? So people can help you."}, {"owner": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "edited": false, "score": 0, "creation_date": 1560236272, "post_id": 56538074, "comment_id": 99658248, "body": "if let order = invoicearr[0].orderDetail                                 {                                     self.errormessagelbl.isHidden = true                                     self.orderdeta = order                                 }                                 self.getinvoice = invoicearr                                                                                                   self.pickupstableview.reloadData()"}, {"owner": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "edited": false, "score": 0, "creation_date": 1560236337, "post_id": 56538074, "comment_id": 99658281, "body": "class GetInvoice : Mappable{      var userRewards : UserRewar!     var orderDetail : [OrderDetail]!     var calculatedTax : String?     var cardType : String?     var chargeTotal : String?     var credit : String?     var discount : String?     var feedback : String?     var itemCount : Int?     var last4 : String?     var orderDate : String?     var orderID : Int?     var paymentID : String?     var pickupDate : String?"}, {"owner": {"reputation": 1890, "user_id": 8405720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCGAH.jpg?s=128&g=1", "display_name": "Mayur Karmur", "link": "https://stackoverflow.com/users/8405720/mayur-karmur"}, "reply_to_user": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "edited": false, "score": 0, "creation_date": 1560237264, "post_id": 56538074, "comment_id": 99658729, "body": "And which format of date is available in <code>pickupDate</code>?"}], "tags": [], "owner": {"reputation": 1890, "user_id": 8405720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DCGAH.jpg?s=128&g=1", "display_name": "Mayur Karmur", "link": "https://stackoverflow.com/users/8405720/mayur-karmur"}, "is_accepted": false, "score": 0, "last_activity_date": 1560235920, "creation_date": 1560235920, "answer_id": 56538074, "question_id": 56538025, "link": "https://stackoverflow.com/questions/56538025/table-view-dates-descending-order-swift/56538074#56538074", "title": "Table view dates descending order swift", "body": "<p>You can sort data and compare date by following method. But do it before <code>cellForRow</code> method.</p>\n\n<pre><code>self.getinvoice.sort(by: {\n    $0.pickupDate ?? Date() &lt; $1.pickupDate ?? Date()\n})\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11377019, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3pvZzoXbxsU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfh-ITEVdTldVbQvQmEsSCzdW8kyg/mo/photo.jpg?sz=128", "display_name": "srikanth kumar", "link": "https://stackoverflow.com/users/11377019/srikanth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560237070, "creation_date": 1560235688, "last_edit_date": 1560237070, "question_id": 56538025, "link": "https://stackoverflow.com/questions/56538025/table-view-dates-descending-order-swift", "title": "Table view dates descending order swift", "body": "<p>Hi I write the following code in tableview cell for row at indexPath method.\nI wan to display the data based on the dates in descending order.</p>\n\n<p>Any one please help to me.</p>\n\n<pre><code>func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {\n        let cell = tableView.dequeueReusableCell(withIdentifier: \"pickupsTableViewCell\", for: indexPath)as! pickupsTableViewCell\n\n        if let data = getinvoice, data.count &gt; 0 , data.count &gt; indexPath.row\n        {\n            let model = getinvoice[indexPath.row]\n\n            if let pickupdate = model.pickupDate\n            {\n                let datefrmt = pickupdate.convertFormatOfDate(originalFormat: \"yyyy-MM-dd\", destinationFormat: \"dd\")\n                let mnthfrmt = pickupdate.convertFormatOfDate(originalFormat: \"yyyy-MM-dd\", destinationFormat: \"MMM\")\n                cell.pickuptbldate.text = datefrmt\n                cell.pickuptblmnth.text = mnthfrmt?.uppercased()\n            }\n\n            if let cardlastnumbers = model.last4\n            {\n                cell.pickuptblcardnumber.text = \". . . . \" + cardlastnumbers\n            }\n}\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "objective-c", "coreml", "after-effects"], "comments": [{"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 1, "creation_date": 1560383807, "post_id": 56535348, "comment_id": 99722110, "body": "Unless I&#39;m mistaken, your use case boils down to writing a library that calls another library that exposes a C++ API and also needs to interact with yet another library that exposes an Objective-C API.  If that is the case, you may want to try and come up with a small example (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>) that shows the problem(s) you are running into.  Sorry, I&#39;m not familiar with After Effects plugin development specifically."}, {"owner": {"reputation": 1276, "user_id": 4633448, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2F6fZ.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/4633448/alexander"}, "reply_to_user": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1560463686, "post_id": 56535348, "comment_id": 99755912, "body": "@AnatoliP Working with After Effects is just like writing a normal C++ application, I already have my plugin working with PyTorch C++&#39;s API. I would&#39;ve hoped all you needed to do was to choose an &quot;compile to C++&quot; option in XCode to compile Objective C to C++... But it is possible to use the Metal 2 API in C++, so I&#39;d almost think it would be easier to run the specific CoreML model in custom C++ code, than to write 3 different libraries."}, {"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 1, "creation_date": 1560485235, "post_id": 56535348, "comment_id": 99759678, "body": "AFAIK, calling an Objective-C library from a C++ application is perfectly doable.  I think you should try it and ask specific questions here if you run into specific problems.  If there is a Metal 2 C++ API, you can call it directly from C++ code.  If CoreML provides Objective-C or Swift API only, you can still use it, but indirectly.  There is no such thing as compiling Objective-C to C++.  Objective-C and C++ are different, but related, languages that can be compiled to machine code.  Just do some studying and, I&#39;m sure, you can figure this out."}, {"owner": {"reputation": 1276, "user_id": 4633448, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2F6fZ.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/4633448/alexander"}, "reply_to_user": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1560551285, "post_id": 56535348, "comment_id": 99787686, "body": "So from what I understand, I will call all the CoreML functions that reside in an Objective-C executable/library file from the C++ Adobe plugin and pass the parameters and data to it? This doesn&#39;t seem to complex indeed. Thanks, I&#39;ll get to studying and will ask questions when they arise :D"}, {"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 1, "creation_date": 1560820686, "post_id": 56535348, "comment_id": 99852005, "body": "I&#39;m sure you will figure it out, and the SO community is always here to help."}], "answers": [{"tags": [], "owner": {"reputation": 1276, "user_id": 4633448, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2F6fZ.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/4633448/alexander"}, "is_accepted": true, "score": 0, "last_activity_date": 1565822373, "last_edit_date": 1565822373, "creation_date": 1563145337, "answer_id": 57031777, "question_id": 56535348, "link": "https://stackoverflow.com/questions/56535348/implement-objective-c-coreml-in-c-adobe-plugin/57031777#57031777", "title": "Implement Objective-C (CoreML) in C++ (Adobe plugin)", "body": "<p>To answer my own question, nGraph (also Tensorflow) with the PlaidML backend or the TVM compiler stack have both Metal acceleration support!</p>\n"}], "owner": {"reputation": 1276, "user_id": 4633448, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2F6fZ.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/4633448/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 57031777, "answer_count": 1, "score": 1, "last_activity_date": 1565822373, "creation_date": 1560216839, "question_id": 56535348, "link": "https://stackoverflow.com/questions/56535348/implement-objective-c-coreml-in-c-adobe-plugin", "title": "Implement Objective-C (CoreML) in C++ (Adobe plugin)", "body": "<p>So I'd like to implement CoreML inside an Adobe After Effects plugin I'm developing.\nThing is that the After Effects SDK is in C++ (it is C compatible), and the CoreML API is in only Objective C and Swift.</p>\n\n<p>All I want is the .plugin (the compiled After Effects plugin) to still work in After Effects with CoreML, I know there are magical tricks to make Objective C and normal C work together but have no idea how to make the After Effects SDK and CoreML work together, if this is even feasible in the first place as I only see old simple tutorials on how to implement Objective-C in C++.</p>\n\n<p>The reason why I want to make this work is due to Apple deprecating OpenCL in Mac OS, leaving me with only CoreML as a GPU-accelerated deep learning framework.</p>\n"}, {"tags": ["objective-c", "nsstring", "nsdate"], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 8639694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bsyn0.jpg?s=128&g=1", "display_name": "Serj Kultenko", "link": "https://stackoverflow.com/users/8639694/serj-kultenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1560219647, "creation_date": 1560219647, "answer_id": 56535628, "question_id": 56535277, "link": "https://stackoverflow.com/questions/56535277/converting-an-nsstring-result-from-sqlite-into-a-formatted-nsdate/56535628#56535628", "title": "Converting an NSString result from SQLite into a formatted NSDate", "body": "<p>I could guess that you wanted another output format, if it is the case then you could try code like this:</p>\n\n<pre><code>NSString * dateString = @\"2019-06-10 13:45:33\";\nNSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n[dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\n//[dateFormatter setDateFormat:@\"YYYY-MM-dd HH:mm:ss\"];\n//[dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss ZZZ\"];\nNSDate *dateFromString = [[NSDate alloc] init];\ndateFromString = [dateFormatter dateFromString:dateString];\n\nNSDateFormatter *printDateFormatter = [[NSDateFormatter alloc] init];\nprintDateFormatter.dateStyle = NSDateIntervalFormatterMediumStyle;\nprintDateFormatter.timeStyle = NSDateIntervalFormatterMediumStyle;\n\nNSLog(@\"%@\", [printDateFormatter stringFromDate:dateFromString]);\n</code></pre>\n\n<p>The result will be:</p>\n\n<pre><code>10 Jun 2019 at 13:45:33\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 473, "user_id": 7601877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee41e49fc77c149855c4571f0d5f22e?s=128&d=identicon&r=PG&f=1", "display_name": "FryAnEgg", "link": "https://stackoverflow.com/users/7601877/fryanegg"}, "is_accepted": false, "score": 1, "last_activity_date": 1560220060, "creation_date": 1560220060, "answer_id": 56535678, "question_id": 56535277, "link": "https://stackoverflow.com/questions/56535277/converting-an-nsstring-result-from-sqlite-into-a-formatted-nsdate/56535678#56535678", "title": "Converting an NSString result from SQLite into a formatted NSDate", "body": "<p>Use a different formatter to format the string from the date. For example:</p>\n\n<pre><code>NSDateFormatter * formatter=[[NSDateFormatter]alloc]init];\nformatter.dateStyle = NSDateFormatterMediumStyle;\nformatter.timeStyle = NSDateFormatterNoStyle;\nNSString * formattedDateString = [formatter stringFromDate:date];\n</code></pre>\n\n<p>setDateFormat is for inputting date strings and getting NSDates. </p>\n\n<p>dateStyle and timeStyle is for formatting dateStrings from NSDates.</p>\n"}], "owner": {"reputation": 952, "user_id": 3017105, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bd63c6c3ee7fe49585b81c50100bada4?s=128&d=identicon&r=PG&f=1", "display_name": "iSofia", "link": "https://stackoverflow.com/users/3017105/isofia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560225822, "creation_date": 1560216154, "last_edit_date": 1560225822, "question_id": 56535277, "link": "https://stackoverflow.com/questions/56535277/converting-an-nsstring-result-from-sqlite-into-a-formatted-nsdate", "title": "Converting an NSString result from SQLite into a formatted NSDate", "body": "<p>I know that it sounds incessantly familiar, but most of the suggested solutions on SO have not worked for me for some strange reason.</p>\n\n<p>I have a <strong>date string returned from an SQLite query</strong> as an NSString in this format:</p>\n\n<pre><code>2019-06-10 13:45:33\n</code></pre>\n\n<p>However, when any of the suggested date formatter solutions are applied, <strong>with or without timezone localisation</strong>, I keep getting such a result:</p>\n\n<pre><code>Mon Jun 10 13:45:33 2019\n</code></pre>\n\n<p>This is one of the routines I've tried, among many others:</p>\n\n<pre><code>NSString * dateString = @\"2019-06-10 13:45:33\";\nNSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n[dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss\"];\n//[dateFormatter setDateFormat:@\"YYYY-MM-dd HH:mm:ss\"];\n//[dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss ZZZ\"];\nNSDate *dateFromString = [[NSDate alloc] init];\ndateFromString = [dateFormatter dateFromString:dateString];\n\n// dateFromString &gt; Mon Jun 10 13:45:33 2019\n</code></pre>\n\n<p>Could I be doing something wrong or is there some missing step in the conversion?</p>\n\n<p>TIA.</p>\n"}, {"tags": ["ios", "objective-c", "apple-watch", "healthkit"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 6451924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nPJZq.jpg?s=128&g=1", "display_name": "Neil Smith", "link": "https://stackoverflow.com/users/6451924/neil-smith"}, "edited": false, "score": 0, "creation_date": 1587473303, "post_id": 56534360, "comment_id": 108520347, "body": "This appears to be still true in iOS 13; even despite setting HKWorkoutConfiguration.locationType = .indoor. The meta data key HKMetadataKeyIndoorWorkout is very much needed."}], "tags": [], "owner": {"reputation": 1755, "user_id": 7833793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ecb6373d9ae58817ae85a2f953150a?s=128&d=identicon&r=PG&f=1", "display_name": "R4N", "link": "https://stackoverflow.com/users/7833793/r4n"}, "is_accepted": true, "score": 2, "last_activity_date": 1560206529, "creation_date": 1560206529, "answer_id": 56534360, "question_id": 56534009, "link": "https://stackoverflow.com/questions/56534009/how-i-define-my-activity-as-indoor-cycling-using-cychealthkithandler/56534360#56534360", "title": "How I define my activity as &quot;Indoor Cycling&quot; using CYCHealthKitHandler", "body": "<p>Try adding the metadata indoor workout key with a value of YES to the metadata dictionary when instantiating your workout:</p>\n\n<pre><code>HKWorkout *workout = [HKWorkout workoutWithActivityType:HKWorkoutActivityTypeCycling startDate:startDate endDate:endDate duration:duration totalEnergyBurned:caloriesQuantity totalDistance:milesQuantity metadata:@{HKMetadataKeyIndoorWorkout : @(YES)}];\n</code></pre>\n\n<p><a href=\"https://developer.apple.com/documentation/healthkit/hkmetadatakeyindoorworkout?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/healthkit/hkmetadatakeyindoorworkout?language=objc</a></p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 1294854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2k33.jpg?s=128&g=1", "display_name": "Austin Conlon", "link": "https://stackoverflow.com/users/1294854/austin-conlon"}, "is_accepted": false, "score": 1, "last_activity_date": 1560266865, "creation_date": 1560266865, "answer_id": 56547046, "question_id": 56534009, "link": "https://stackoverflow.com/questions/56534009/how-i-define-my-activity-as-indoor-cycling-using-cychealthkithandler/56547046#56547046", "title": "How I define my activity as &quot;Indoor Cycling&quot; using CYCHealthKitHandler", "body": "<p>This is set on the <code>locationType</code> instance property of your <code>HKWorkoutConfiguration</code>.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/healthkit/hkworkoutconfiguration/1649491-locationtype?changes=_4&amp;language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/healthkit/hkworkoutconfiguration/1649491-locationtype?changes=_4&amp;language=objc</a></p>\n"}], "owner": {"reputation": 229, "user_id": 10360601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sv6K6G-vEKA/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPyktdmO8p7LfT7m7aBxnOThIiTSA/mo/photo.jpg?sz=128", "display_name": "Ricardo Guerrero", "link": "https://stackoverflow.com/users/10360601/ricardo-guerrero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 56534360, "answer_count": 2, "score": 0, "last_activity_date": 1560266865, "creation_date": 1560203683, "question_id": 56534009, "link": "https://stackoverflow.com/questions/56534009/how-i-define-my-activity-as-indoor-cycling-using-cychealthkithandler", "title": "How I define my activity as &quot;Indoor Cycling&quot; using CYCHealthKitHandler", "body": "<p>The problem is I am sending a \"Cycling\" activity from my app to Apple Health and I want it to appear as \"Indoor Cycling\" but all the activities send to apple health activity are mark as \"Outdoor activity\", there is any property to define them as \"Indoor Cycling\" activities from my code?</p>\n\n<p>I research but there is only one activity to define the Cycling as you see I my code below I used: \nworkoutWithActivityType:HKWorkoutActivityTypeCycling</p>\n\n<p>here is a view of how my activities look in Apple Activity app \n<img src=\"https://i.imgur.com/BqeYdK6.png\" alt=\"data\"></p>\n\n<pre><code>- (void)saveWorkoutFromStartDate:(NSDate *)startDate endDate:(NSDate *)endDate duration:(double)duration miles:(double)miles kilocalories:(double)calories completion:(void (^)(BOOL success, NSError *error))completion {\n\n    HKQuantity *milesQuantity = [HKQuantity quantityWithUnit:[HKUnit mileUnit] doubleValue:miles];\n    HKQuantity *caloriesQuantity = [HKQuantity quantityWithUnit:[HKUnit kilocalorieUnit] doubleValue:calories];\n\n    HKWorkout *workout = [HKWorkout workoutWithActivityType:HKWorkoutActivityTypeCycling startDate:startDate endDate:endDate duration:duration totalEnergyBurned:caloriesQuantity totalDistance:milesQuantity metadata:nil];\n    [self.healthStore saveObject:workout withCompletion:^(BOOL success, NSError *error) {\n\n        if (success) {\n            completion(success, nil);\n        }\n        else {\n            DLog(@\"%@\", error);\n            completion(success, error);\n        }\n    }];\n}\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1560202037, "post_id": 56531821, "comment_id": 99650606, "body": "How often do you expect the value to change if you poll every second?"}, {"owner": {"reputation": 446, "user_id": 3926079, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QFqjD.png?s=128&g=1", "display_name": "William Gustafson", "link": "https://stackoverflow.com/users/3926079/william-gustafson"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1560217829, "post_id": 56531821, "comment_id": 99653666, "body": "Hi @Willeke Thanks for taking a look! I suppose my expectation is that the progress value would change as the file size increases. Example: if the file downloading is 1GB in size, and 512MB has downloaded thus far, I&#39;d expect to see 50% returned for the progress value. However, the value being returned might be something like 27% or some other seemingly incorrect value."}], "owner": {"reputation": 446, "user_id": 3926079, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QFqjD.png?s=128&g=1", "display_name": "William Gustafson", "link": "https://stackoverflow.com/users/3926079/william-gustafson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560218100, "creation_date": 1560191855, "last_edit_date": 1560218100, "question_id": 56531821, "link": "https://stackoverflow.com/questions/56531821/reading-com-apple-progress-fractioncompleted-attribute-of-file", "title": "Reading com.apple.progress.fractionCompleted attribute of file", "body": "<p>I'm trying to read the value of key com.apple.progress.fractionCompleted for a file that is actively downloading. It's sort of working, but the returned value doesn't change very often. If I watch the file in Finder, Finder's download progress circle shows almost continuous, smooth movement. </p>\n\n<p>Finder tracks the entire download perfectly well, and if the file is 50% done downloading, Finder's download progress circle is half-full. However, reading the com.apple.progress.fractionCompleted key value returns some other value, such as 27%, or 36% etc. It seems as if it's just stuck and not updating the key value. </p>\n\n<p>Using the below code, however, I get values returned like 10, then 34, then 67, then 92, then the download is complete.</p>\n\n<p>I'm polling for this value using an NSTimer, which fires every second. Is this expected - not seeing the fractionCompleted value increment in smaller amounts?</p>\n\n<pre><code>NSDictionary *fileAttr = [[NSFileManager defaultManager] attributesOfItemAtPath:[self.fileSizeTimer userInfo] error:nil];\nNSDictionary *extendAttr = [fileAttr objectForKey:@\"NSFileExtendedAttributes\"];           \n\nNSString* downloadProgress = [[NSString alloc] initWithData:[extendAttr objectForKey:@\"com.apple.progress.fractionCompleted\"] encoding:NSASCIIStringEncoding];\nfloat progressFloat = [downloadProgress floatValue] * 100;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "deprecated"], "comments": [{"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 1, "creation_date": 1560195307, "post_id": 56531701, "comment_id": 99648336, "body": "The source states &quot;Use viewWillTransitionToSize:withTransitionCoordinator: instead&quot;. What are you trying to do exactly? Some context might help to find an alternative."}, {"owner": {"reputation": 657, "user_id": 6678811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe11d1fb616c62e69600baf0d32e0ec2?s=128&d=identicon&r=PG&f=1", "display_name": "rak appdev", "link": "https://stackoverflow.com/users/6678811/rak-appdev"}, "reply_to_user": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1560271565, "post_id": 56531701, "comment_id": 99678477, "body": "@wvteijlingen what did you mean by source? Is it the link I attached? If yes, I can&#39;t see that replacement info anywhere in that web page. Can you help me find it?"}, {"owner": {"reputation": 657, "user_id": 6678811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe11d1fb616c62e69600baf0d32e0ec2?s=128&d=identicon&r=PG&f=1", "display_name": "rak appdev", "link": "https://stackoverflow.com/users/6678811/rak-appdev"}, "reply_to_user": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1560271685, "post_id": 56531701, "comment_id": 99678533, "body": "Also, @wvteijlingen I&#39;m trying to get the status bar current orientation(depending on portrait or landscape) to handle some business logic in my app."}], "answers": [{"tags": [], "owner": {"reputation": 740, "user_id": 2677861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PDw4E.jpg?s=128&g=1", "display_name": "Mirzohid Akbarov", "link": "https://stackoverflow.com/users/2677861/mirzohid-akbarov"}, "is_accepted": true, "score": 1, "last_activity_date": 1560342786, "creation_date": 1560342786, "answer_id": 56562342, "question_id": 56531701, "link": "https://stackoverflow.com/questions/56531701/replacement-for-uiapplicationdidchangestatusbarframenotification-deprecated-api/56562342#56562342", "title": "Replacement for UIApplicationDidChangeStatusBarFrameNotification deprecated API from Apple", "body": "<p>Use viewWillTransitionToSize:withTransitionCoordinator: instead.</p>\n"}], "owner": {"reputation": 657, "user_id": 6678811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe11d1fb616c62e69600baf0d32e0ec2?s=128&d=identicon&r=PG&f=1", "display_name": "rak appdev", "link": "https://stackoverflow.com/users/6678811/rak-appdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 1, "accepted_answer_id": 56562342, "answer_count": 1, "score": 1, "last_activity_date": 1560342786, "creation_date": 1560191258, "question_id": 56531701, "link": "https://stackoverflow.com/questions/56531701/replacement-for-uiapplicationdidchangestatusbarframenotification-deprecated-api", "title": "Replacement for UIApplicationDidChangeStatusBarFrameNotification deprecated API from Apple", "body": "<p>I'm looking for a replacement to UIApplicationDidChangeStatusBarFrameNotification but I haven't found any so far. Where does Apple store this info?</p>\n\n<p>Here's the official docs link - <a href=\"https://developer.apple.com/documentation/uikit/uiapplication/1623018-didchangestatusbarframenotificat\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/uikit/uiapplication/1623018-didchangestatusbarframenotificat</a></p>\n"}, {"tags": ["objective-c", "regex-group", "nsregularexpression"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1560180989, "post_id": 56528309, "comment_id": 99642145, "body": "You get one match, because it&#39;s a match for your whole pattern, you get the &quot;full match&quot; of your screenshot. Iterate it, and then check the <code>numberOfRanges</code> property of the <code>NSTextCheckingResult</code>. You can also use <code>rangeAtIndex:</code> of it if you want to find the subranges."}], "answers": [{"tags": [], "owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "is_accepted": true, "score": 1, "last_activity_date": 1560181268, "creation_date": 1560181268, "answer_id": 56529497, "question_id": 56528309, "link": "https://stackoverflow.com/questions/56528309/how-to-get-mfa-pattern-using-regex-in-objective-c/56529497#56529497", "title": "How to get MFA pattern using regex in Objective-C?", "body": "<p>It's been awhile since I've done this, but...</p>\n\n<p><code>matchesInString:...</code> returns an array of <code>NSTextCheckingResult</code> objects. Each object represents a single match of the <em>entire</em> regex within the string.</p>\n\n<p>Each <code>NSTextCheckingResult</code> object encapsulates a number of \"ranges\" (see <code>numberOfRanges</code> property). You then use <code>rangeAtIndex:</code> to extract the range of each group within that match instance.</p>\n\n<p>If each target is in a separate string, you don't need <code>matchesInString:...</code>, simply use <code>firstMatchInString:...</code> to obtain the one, and only, <code>NSTextCheckingResult</code> for your string. You can then extract each group by getting its range, then return to the original string to extract the text of that component.</p>\n"}], "owner": {"reputation": 1411, "user_id": 10900045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e346705758a9d79e2b4f6c6c07cc64ad?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe", "link": "https://stackoverflow.com/users/10900045/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56529497, "answer_count": 1, "score": 0, "last_activity_date": 1560181268, "creation_date": 1560176655, "question_id": 56528309, "link": "https://stackoverflow.com/questions/56528309/how-to-get-mfa-pattern-using-regex-in-objective-c", "title": "How to get MFA pattern using regex in Objective-C?", "body": "<p>I am using the regex <code>((.*)?:)?(.*)\\\\/([0-9]+|[n])?</code> to match pattern of type <code>module:function/arity</code>, where <code>arity</code> can be any number >= <code>0</code> or the string <code>n</code>.</p>\n\n<p>Success cases should match:</p>\n\n<pre><code>foo:bar/1\nbar/1\nfoo:bar/0\nfoo:bar/n\nbar/n\n</code></pre>\n\n<p>This seems to work fine at <a href=\"https://regex101.com/r/AtI5Nw/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/AtI5Nw/3</a>, but using the following code, I am getting only one match group for <code>\"mod:func/1\"</code>.</p>\n\n<pre><code>+ (NSArray&lt;NSTextCheckingResult *&gt; *)matchesInString:(NSString *)string withExpression:(NSRegularExpression *)pattern {\n    return [pattern matchesInString:string options:0 range:NSMakeRange(0, [string length])];\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0mfrT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mfrT.png\" alt=\"mfa\"></a></p>\n\n<p>I tried with <code>\"mod:func/1\"</code> string and I am getting only one match. How to get all matching groups as in the screenshot? I want to get the <code>module</code>, <code>function</code> and <code>arity</code> parts from the string.</p>\n"}, {"tags": ["objective-c", "cocoa", "appearance"], "comments": [{"owner": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1560179601, "post_id": 56528256, "comment_id": 99641411, "body": "Please explain what you&#39;ve actually tried, with code examples. The link you reference just appears to explain how to determine if the user is in dark mode, not how to detect when the system switches from/to dark mode."}, {"owner": {"reputation": 525, "user_id": 1121338, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce6512503ad0ac9b63603c76c949b79c?s=128&d=identicon&r=PG", "display_name": "pjg", "link": "https://stackoverflow.com/users/1121338/pjg"}, "reply_to_user": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1560185921, "post_id": 56528256, "comment_id": 99644432, "body": "In my drawRect I check the currentAppearance and adjust text and line colors to work with the Aqua and DarkAqua themes.    In my custom NSView  I use    viewDidChangeEffectiveAppearance  to set the needDisplay to YES for the view and all its subviews.  This seems to get most of the job done, with the exception of the background color of the custom view."}, {"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "reply_to_user": {"reputation": 2912, "user_id": 5484406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfa0fdba8230acb59932d99fbf75bd1?s=128&d=identicon&r=PG", "display_name": "James Bucanek", "link": "https://stackoverflow.com/users/5484406/james-bucanek"}, "edited": false, "score": 0, "creation_date": 1560186512, "post_id": 56528256, "comment_id": 99644688, "body": "@JamesBucanek requested for the code not for a description of the code. <i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself.</i>"}, {"owner": {"reputation": 1442, "user_id": 2150405, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f349e786019f40cf34a1ec79944eb5f?s=128&d=identicon&r=PG", "display_name": "seth", "link": "https://stackoverflow.com/users/2150405/seth"}, "edited": false, "score": 0, "creation_date": 1560196470, "post_id": 56528256, "comment_id": 99648769, "body": "You don&#39;t show the actual drawing of the background color... Always show <i>everything</i> that is relevant. And don&#39;t use == to compare strings. They&#39;re probably identical pointers, but they may not be and cause this to fail."}], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 1121338, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce6512503ad0ac9b63603c76c949b79c?s=128&d=identicon&r=PG", "display_name": "pjg", "link": "https://stackoverflow.com/users/1121338/pjg"}, "edited": false, "score": 1, "creation_date": 1561209689, "post_id": 56703937, "comment_id": 99993663, "body": "Thanks Darren, yes that does work!   And it makes sense.   In the end, I get the result I want by removing those calls to colorWithAlphaComponent.  Not sure why I was doing it in the first place.   Thanks again, the mystery is solved."}], "tags": [], "owner": {"reputation": 772, "user_id": 146361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a567fe24a361e0122ee3c9868506b6a?s=128&d=identicon&r=PG", "display_name": "Darren Ford", "link": "https://stackoverflow.com/users/146361/darren-ford"}, "is_accepted": false, "score": 1, "last_activity_date": 1561121869, "creation_date": 1561121869, "answer_id": 56703937, "question_id": 56528256, "link": "https://stackoverflow.com/questions/56528256/custom-nsview-background-color-not-changing-when-switching-in-and-out-of-dark-mo/56703937#56703937", "title": "Custom NSView background color not changing when switching in and out of dark mode", "body": "<p>My guess is that you\u2019re not actually using the standard color for the background color.</p>\n\n<p>You are using [NSColor windowBackgroundColor], however then making a copy with a different alpha component (via colorWithAlphaComponent), making it no longer a standard color.</p>\n\n<p>My guess is a lot of the automatic \u2018just works\u2019 behaviour happens when you use the standard color definitions.  As a test, could you try removing the colorWithAlphaComponent calls (where you are adding the transparency) from your settransparent method and see whether it works? if it does, you might need to find another way to add transparency to your view if you want the automatic behaviour.</p>\n"}], "owner": {"reputation": 525, "user_id": 1121338, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce6512503ad0ac9b63603c76c949b79c?s=128&d=identicon&r=PG", "display_name": "pjg", "link": "https://stackoverflow.com/users/1121338/pjg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1561121869, "creation_date": 1560176453, "last_edit_date": 1560210731, "question_id": 56528256, "link": "https://stackoverflow.com/questions/56528256/custom-nsview-background-color-not-changing-when-switching-in-and-out-of-dark-mo", "title": "Custom NSView background color not changing when switching in and out of dark mode", "body": "<p>I cannot figure out how to update the background color of my custom NSView when the user switches in and out of dark mode.</p>\n\n<p>I've read the documentation and followed instructions here:<a href=\"https://stackoverflow.com/questions/51672124/how-can-dark-mode-be-detected-on-macos-10-14\">detecting darkmode</a></p>\n\n<p>The strange thing is that I can get all the subviews to behave correctly, but for some strange reason I can't get the background color of the main view to change.   The background color of the view looks correct when I start the app in either mode, but when I switch between modes while the app is running it doesn't update to the new theme.</p>\n\n<p>Would be grateful for any suggestions.</p>\n\n<p>Inside the Custom NSView I have the method</p>\n\n<pre><code>- (void) viewDidChangeEffectiveAppearance\n{\n    self.needsDisplay = YES;\n}\n</code></pre>\n\n<p>and inside the drawRect I have a do a simple color change before continuing with drawing in the view</p>\n\n<pre><code>NSAppearance *currentAppearance = [NSAppearance  currentAppearance];\nif (@available(*, macOS 10.14)) {\n    if(currentAppearance.name == NSAppearanceNameDarkAqua) {\n        red  = 0.5*red+0.5;\n        green = 0.5*green+0.5;\n        blue  = 0.5*blue+0.5;\n    }\n}\n</code></pre>\n\n<p>Here is a screenshot of darkmode before (the way it should look)</p>\n\n<p><a href=\"https://www.grandinetti.org/resources/darkbefore.png\" rel=\"nofollow noreferrer\">Dark Mode Before</a></p>\n\n<p>Here is a screenshot of light mode after user switch</p>\n\n<p><a href=\"https://www.grandinetti.org/resources/darkafter.png\" rel=\"nofollow noreferrer\">Light Mode After</a></p>\n\n<p>Here is a screenshot of lightmode before (the way it should look)</p>\n\n<p><a href=\"https://www.grandinetti.org/resources/lightbefore.png\" rel=\"nofollow noreferrer\">Light Mode Before</a></p>\n\n<p>And here is a screenshot of darkmode after user switch</p>\n\n<p><a href=\"https://www.grandinetti.org/resources/lightafter.png\" rel=\"nofollow noreferrer\">Dark Mode After</a></p>\n\n<p>ps The reason I'm baffled and have little code to post is that the correct behavior is supposed to happen automatically with little effort.   I even deleted the view from the nib and rebuilt it thinking maybe some setting got corrupted, but that didn't solve the problem.</p>\n\n<p>Update: I found the source of the problem.   This method gets called in windowDidLoad</p>\n\n<pre><code>- (void) setTransparent:(BOOL)transparent\n    {\n        if(transparent) {\n            [self.window setOpaque:NO];\n            NSColor *backgroundColor = [NSColor windowBackgroundColor];\n            backgroundColor = [backgroundColor colorWithAlphaComponent: .75];\n            [self.window setBackgroundColor:backgroundColor];\n            self.window.alphaValue = 0.75;\n    }\n    else {\n            [self.window setOpaque:YES];\n            NSColor *backgroundColor = [NSColor windowBackgroundColor];\n            backgroundColor = [backgroundColor colorWithAlphaComponent: 1];\n            [self.window setBackgroundColor:backgroundColor];\n            self.window.alphaValue = 1;\n        }\n    }\n</code></pre>\n\n<p>I get the expected behavior if I comment out the call to this method.</p>\n\n<p>Why did this cause me to lose the automatic behavior of background color change when the user changes between light and dark mode?</p>\n"}, {"tags": ["objective-c", "macos", "crash", "appkit"], "comments": [{"owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "edited": false, "score": 0, "creation_date": 1560186744, "post_id": 56528097, "comment_id": 99644781, "body": "Are you sure that the value of <code>selectedVolume.name</code> doesn&#39;t change, before the block is executed in the main loop?"}], "answers": [{"tags": [], "owner": {"reputation": 2369, "user_id": 3117251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f882f7e3d8cca29e88dae51aa894f3cc?s=128&d=identicon&r=PG", "display_name": "Dare", "link": "https://stackoverflow.com/users/3117251/dare"}, "is_accepted": false, "score": 0, "last_activity_date": 1560180622, "last_edit_date": 1560180622, "creation_date": 1560176859, "answer_id": 56528351, "question_id": 56528097, "link": "https://stackoverflow.com/questions/56528097/objc-msgsend-crash-objective-c/56528351#56528351", "title": "objc_msgSend crash Objective-C", "body": "<p><a href=\"https://i.stack.imgur.com/Yq0xJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yq0xJ.png\" alt=\"enter image description here\"></a>Looking at the docs, <a href=\"https://developer.apple.com/documentation/appkit/nscontrol/1428950-stringvalue\" rel=\"nofollow noreferrer\">stringValue</a> does not appear to be optional. You do not initialize selectedVolume before viewDidLoad (as far as I can tell) and that means you are likely trying to set this value to nil inside this notification block if it runs before selectedVolume is assigned a value. I would start by trying to set txtVolumeName.stringValue to a hard-coded value first and see if it stops crashing altogether. If it does, you may need to guard against nil values before you call the setter. </p>\n\n<p>e.g.</p>\n\n<pre><code>NSString *string;\nNSTextField *textField = [[NSTextField alloc]init];\nif (string) {\n    textField.stringValue = string;\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560312034, "creation_date": 1560175844, "last_edit_date": 1560312034, "question_id": 56528097, "link": "https://stackoverflow.com/questions/56528097/objc-msgsend-crash-objective-c", "title": "objc_msgSend crash Objective-C", "body": "<p>I got crash report from live user \nI have NSObject which has nsstring</p>\n\n<pre><code>@interface MountedVolume : NSObject\n@property (nonatomic, strong) NSString *name;\n@end\n</code></pre>\n\n<p>View controller has textfield it values gets changed when notification \nreceived .</p>\n\n<pre><code>@interface ViewController : NSViewController {\n\n      MountedVolume *selectedVolume;\n\n    __weak IBOutlet NSTextField *txtVolumeName;\n\n}\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n[[NSNotificationCenter defaultCenter] addObserverForName:DCNotificationNameVolumesUpdated object:nil queue:nil usingBlock:^(NSNotification * _Nonnull note) {\n        dispatch_async(dispatch_get_main_queue(), ^{\n\n//crash report says in this line it got crashed\n\n            txtVolumeName.stringValue = selectedVolume.name;\n\n        });\n    }];\n\n\n}\n\n@end\n\n</code></pre>\n\n<p>Below is the crash report any suggestion how to deal with this?</p>\n\n<p>crash report </p>\n\n<pre><code>Crashed: com.apple.main-thread\n0  libobjc.A.dylib                0x7fff6ac2639d objc_msgSend + 29\n1  AppKit                         0x7fff3db3d868 -[NSCell _objectValue:forString:errorDescription:] + 157\n2  AppKit                         0x7fff3db3d71d -[NSCell setStringValue:] + 40\n3  AppKit                         0x7fff3db95044 -[NSControl setStringValue:] + 135\n4  MyApp               0x104de865b __40-[ViewController viewDidLoad]_block_invoke_3 (ViewController.m:172)\n5  libdispatch.dylib              0x7fff6c3ab5f8 _dispatch_call_block_and_release + 12\n6  libdispatch.dylib              0x7fff6c3ac63d _dispatch_client_callout + 8\n7  libdispatch.dylib              0x7fff6c3b768d _dispatch_main_queue_callback_4CF + 1135\n8  CoreFoundation                 0x7fff40435f56 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9\n9  CoreFoundation                 0x7fff40435683 __CFRunLoopRun + 2300\n10 CoreFoundation                 0x7fff40434b35 CFRunLoopRunSpecific + 459\n11 HIToolbox                      0x7fff3f71396b RunCurrentEventLoopInMode + 292\n12 HIToolbox                      0x7fff3f7136a5 ReceiveNextEventCommon + 603\n13 HIToolbox                      0x7fff3f713436 _BlockUntilNextEventMatchingListInModeWithFilter + 64\n14 AppKit                         0x7fff3daad987 _DPSNextEvent + 965\n15 AppKit                         0x7fff3daac71f -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1361\n16 AppKit                         0x7fff3daa683c -[NSApplication run] + 699\n17 AppKit                         0x7fff3da95d7c NSApplicationMain + 777\n18 libdyld.dylib                  0x7fff6c3f93d5 start + 1\n</code></pre>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1560202458, "post_id": 56527598, "comment_id": 99650742, "body": "See <a href=\"https://stackoverflow.com/a/30516733/4244136\">Delete Specific Items from NSMutableArray</a>"}], "answers": [{"tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": false, "score": 0, "last_activity_date": 1560175203, "creation_date": 1560175203, "answer_id": 56527911, "question_id": 56527598, "link": "https://stackoverflow.com/questions/56527598/removing-elements-in-an-array-while-enumerating-the-array/56527911#56527911", "title": "Removing elements in an array while enumerating the array", "body": "<p>In first iteration you will get index zero value that is 'A'. If condition satisfied. Then A is removed. Now second iterations index is One. Object at index one is C. Because you removed 'A' then B moves to Zero Index. So in second iteration it checks C not B. Thats why B is not removed.</p>\n"}, {"tags": [], "owner": {"reputation": 3804, "user_id": 6727128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A2AMr.png?s=128&g=1", "display_name": "Max Pevsner", "link": "https://stackoverflow.com/users/6727128/max-pevsner"}, "is_accepted": false, "score": 0, "last_activity_date": 1560175451, "creation_date": 1560175451, "answer_id": 56527987, "question_id": 56527598, "link": "https://stackoverflow.com/questions/56527598/removing-elements-in-an-array-while-enumerating-the-array/56527987#56527987", "title": "Removing elements in an array while enumerating the array", "body": "<p>Enumerator runs on the objects in order. First time you enter the block <code>obj = array[0]</code> which means <code>obj = @\"A\"</code>. Then <code>array[0]</code> is removed. The next time you enter the block <code>obj = array[1]</code>, but the <code>array</code> is now <code>@[@\"B\", @\"C\"]</code>, so <code>obj = @\"C\"</code>. You never iterate on <code>@\"B\"</code>, so it cannot be removed.</p>\n\n<p>In general alternating arrays while iterating through them is extremely dangerous and not recommended. There are additional ways to remove objects from array.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 3128095, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f3cca89f2ae8695c7cbc654dc8b3b46d?s=128&d=identicon&r=PG&f=1", "display_name": "O.G.O", "link": "https://stackoverflow.com/users/3128095/o-g-o"}, "is_accepted": false, "score": 0, "last_activity_date": 1560175689, "creation_date": 1560175689, "answer_id": 56528048, "question_id": 56527598, "link": "https://stackoverflow.com/questions/56527598/removing-elements-in-an-array-while-enumerating-the-array/56528048#56528048", "title": "Removing elements in an array while enumerating the array", "body": "<p>Possible approach is to iterate an array and store indeces you want to remove</p>\n"}, {"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 1, "last_activity_date": 1560175746, "creation_date": 1560175746, "answer_id": 56528069, "question_id": 56527598, "link": "https://stackoverflow.com/questions/56527598/removing-elements-in-an-array-while-enumerating-the-array/56528069#56528069", "title": "Removing elements in an array while enumerating the array", "body": "<p>The reason why the code doesn't work is mentioned correctly in the other answers, the indices are modified.</p>\n\n<p>If you want to remove objects while enumerating an array you have to enumerate <strong>always backwards</strong>.</p>\n\n<p>After removing the item at index 1 index 0 remains unchanged.</p>\n\n<pre><code>NSMutableArray *array = [NSMutableArray arrayWithObjects:@\"A\", @\"B\", @\"C\", nil];\n[array enumerateObjectsWithOptions: NSEnumerationReverse usingBlock:^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n    if ([obj isEqualToString:@\"A\"]) {\n        [array removeObject:obj];\n    } else if ([obj isEqualToString:@\"B\"]) {\n        [array removeObject:obj];\n    }\n}];\nNSLog(@\"%@\", array);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15921, "user_id": 676558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PbWyu.png?s=128&g=1", "display_name": "Amin Negm-Awad", "link": "https://stackoverflow.com/users/676558/amin-negm-awad"}, "is_accepted": true, "score": 1, "last_activity_date": 1560184050, "creation_date": 1560184050, "answer_id": 56530129, "question_id": 56527598, "link": "https://stackoverflow.com/questions/56527598/removing-elements-in-an-array-while-enumerating-the-array/56530129#56530129", "title": "Removing elements in an array while enumerating the array", "body": "<p>Changing a collection you are iterating is sometimes difficult to understand. There are good reasons to avoid it, even in your case there is a simple solution. (But these solutions break very fast, when you remove other elements of the array.)</p>\n\n<p>There are some generic solutions:</p>\n\n<p>A. Iterate over a copy</p>\n\n<pre><code>NSMutableArray *array = [NSMutableArray arrayWithObjects:@\"A\", @\"B\", @\"C\", nil];\nNSArray *iterationArray = [array copy];\n[iterationArray enumerateObjectsWithOptions: NSEnumerationReverse usingBlock:\n^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n  if ([obj isEqualToString:@\"A\"]) {\n    [array removeObject:obj];\n  } else if ([obj isEqualToString:@\"B\"]) {\n    [array removeObject:obj];\n  }\n}];\n</code></pre>\n\n<p>B. Store objects to remove</p>\n\n<pre><code>NSMutableArray *array = [NSMutableArray arrayWithObjects:@\"A\", @\"B\", @\"C\", nil];\nNSMutableArray *itemsToRemove = [NSMutableArray new];\n[array enumerateObjectsWithOptions: NSEnumerationReverse usingBlock:\n^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n  if ([obj isEqualToString:@\"A\"]) {\n    [itemsToRemove addObject:obj];\n  } else if ([obj isEqualToString:@\"B\"]) {\n    [itemsToRemove addObject:obj];\n  }\n}];\n[array remveObjects:itemsToRemove];\n</code></pre>\n\n<p>All these ways to do it <em>including your way</em> may cause unexpected results, because <code>-removeObject:</code> removes <em>all</em> occurrences of the object in the array itself, what means the removal of all objects that are <em>equal</em> to the arg, including objects that are not identical.</p>\n\n<p>C. Remove objects with that indexes</p>\n\n<p>If you are iterating using an index \u2013 or can easily build an index \u2013 it is more efficient to store the indices and then remove with this one. This gives you the opportunity to differ between equal and identical objects. In your case</p>\n\n<pre><code>NSMutableArray *array = [NSMutableArray arrayWithObjects:@\"A\", @\"B\", @\"C\", nil];\nNSMutableIndexSet *itemsToRemove = [NSMutableIndexSet new];\n__block NSUInteger index=0;\n[array enumerateObjectsWithOptions: NSEnumerationReverse usingBlock:\n^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) \n{\n  if ([obj isEqualToString:@\"A\"]) \n  {\n    [itemsToRemove addIndex:index];\n  } else if ([obj isEqualToString:@\"B\"]) {\n    [itemsToRemove addIndex:index];\n  }\n  index++;\n}];\n[array removeObjectsAtIndexes:itemsToRemove];\nNSLog(@\"%@\", array);\n</code></pre>\n"}], "owner": {"reputation": 3473, "user_id": 6144118, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/XRQ9M.jpg?s=128&g=1", "display_name": "\u65e0\u591c\u4e4b\u661f\u8fb0", "link": "https://stackoverflow.com/users/6144118/%e6%97%a0%e5%a4%9c%e4%b9%8b%e6%98%9f%e8%be%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56530129, "answer_count": 5, "score": 0, "last_activity_date": 1560184050, "creation_date": 1560174111, "question_id": 56527598, "link": "https://stackoverflow.com/questions/56527598/removing-elements-in-an-array-while-enumerating-the-array", "title": "Removing elements in an array while enumerating the array", "body": "<p>For example:</p>\n\n<pre><code>NSMutableArray *array = [NSMutableArray arrayWithObjects:@\"A\", @\"B\", @\"C\", nil];\n[array enumerateObjectsUsingBlock:^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n    if ([obj isEqualToString:@\"A\"]) {\n        [array removeObject:obj];\n    }\n}];\nNSLog(@\"%@\", array);\n</code></pre>\n\n<p>The console print <code>B,C</code>.</p>\n\n<p>However:</p>\n\n<pre><code>NSMutableArray *array = [NSMutableArray arrayWithObjects:@\"A\", @\"B\", @\"C\", nil];\n[array enumerateObjectsUsingBlock:^(id  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n    if ([obj isEqualToString:@\"A\"]) {\n        [array removeObject:obj];\n    } else if ([obj isEqualToString:@\"B\"]) {\n        [array removeObject:obj];\n    }\n}];\nNSLog(@\"%@\", array);\n</code></pre>\n\n<p>The console print <code>B,C</code>.</p>\n\n<p><strong>Why 'B,C' not 'C'?</strong></p>\n\n<p>What happend when deleting obj in an array while enumerating?</p>\n"}, {"tags": ["ios", "objective-c", "macos", "nsmutablearray", "nsmutabledictionary"], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 7707189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67072dc8e75a94280af43a9781a59465?s=128&d=identicon&r=PG&f=1", "display_name": "Davydov Denis", "link": "https://stackoverflow.com/users/7707189/davydov-denis"}, "is_accepted": false, "score": 0, "last_activity_date": 1560175333, "last_edit_date": 1560175333, "creation_date": 1560174944, "answer_id": 56527823, "question_id": 56527591, "link": "https://stackoverflow.com/questions/56527591/keep-unique-objects-id-in-nsmutablearray/56527823#56527823", "title": "keep unique object&#39;s id in NSMutableArray", "body": "<p>I can recommend use <strong>NSOrderedSet</strong> <em>(if u need order)</em> or <strong>NSSet</strong> <em>(otherwise)</em>:</p>\n\n<pre><code>NSOrderedSet *orderedSet = [NSOrderedSet orderedSetWithArray:yourArray];\nNSArray *arrayWithoutDuplicates = [orderedSet array];\n</code></pre>\n\n<p>Or, you can use operators from KeyValueCording:</p>\n\n<pre><code>uniquearray = [yourarray valueForKeyPath:@\"@distinctUnionOfObjects.self\"];\n</code></pre>\n\n<p>If you wanna remove duplicates by your property, like <code>name</code>, its really simple via that operator:</p>\n\n<pre><code>@distinctUnionOfObjects.name\n</code></pre>\n\n<blockquote>\n  <p>NSSet declares the programmatic interface for static sets of distinct\n  objects. You establish a static set\u2019s entries when it\u2019s created, and\n  thereafter the entries can\u2019t be modified. NSMutableSet, on the other\n  hand, declares a programmatic interface for dynamic sets of distinct\n  objects. A dynamic\u2014or mutable\u2014set allows the addition and deletion of\n  entries at any time, automatically allocating memory as needed.</p>\n</blockquote>\n\n<p>So, you can read about Cocoa Collections in <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Collections/Collections.html\" rel=\"nofollow noreferrer\">Apple Docs</a></p>\n\n<p>If you wanna insert unique object to Array, it costs <strong>O(1)-O(N)</strong>, but if u wanna insert unique object to Set, it costs <strong>0(1)</strong>, <em>it is instantly</em>.\nRead about complexity <a href=\"https://en.wikipedia.org/wiki/Time_complexity\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>For this case, Set faster than Array.</p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 973944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJAF8.png?s=128&g=1", "display_name": "monK_", "link": "https://stackoverflow.com/users/973944/monk"}, "is_accepted": false, "score": 0, "last_activity_date": 1560174986, "creation_date": 1560174986, "answer_id": 56527836, "question_id": 56527591, "link": "https://stackoverflow.com/questions/56527591/keep-unique-objects-id-in-nsmutablearray/56527836#56527836", "title": "keep unique object&#39;s id in NSMutableArray", "body": "<p>Have you considered to use NSMutableSet to keep the unique URL string ID?</p>\n\n<p>Since you are already storing the objects in the sorted array, you don't need to store them again in the dictionary. Just keep the string in a set. Checking sets with \"contains\" is very fast. The speed of \"contains\" in a set should be near constant, no matter how many items it contains. </p>\n\n<p>You can also consider switching to a NSMutableOrderedSet instead of an Array altogether.\nIt will both keep items unique and sorted.</p>\n\n<p>You can see more about Collection class performance here <a href=\"https://www.objc.io/issues/7-foundation/collections/\" rel=\"nofollow noreferrer\">https://www.objc.io/issues/7-foundation/collections/</a></p>\n"}], "owner": {"reputation": 2117, "user_id": 1105951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/44e2a3b2981f8333ef218282797871b7?s=128&d=identicon&r=PG", "display_name": "user1105951", "link": "https://stackoverflow.com/users/1105951/user1105951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560175333, "creation_date": 1560174091, "last_edit_date": 1560174474, "question_id": 56527591, "link": "https://stackoverflow.com/questions/56527591/keep-unique-objects-id-in-nsmutablearray", "title": "keep unique object&#39;s id in NSMutableArray", "body": "<p>I have NSMutableArray that hold sorted(time) objects.\neach object has unique URL string ID.</p>\n\n<p>From performance perspective, what is better approach ?</p>\n\n<ol>\n<li>using filteredArrayUsingPredicate to check if object URL is already exist if not add to array.</li>\n<li>using NSMutableDictionary and NSMutableArray. each time I add an object that not exist, I also store it in the dictionary. \nbefore adding new object, I'll check the NSDictionary key if the object id exist.</li>\n</ol>\n\n<p>I think using NSDictionary for checking is less expensive,\nbut I prefer to understand why.</p>\n\n<p>Is there better approach for this case ?\nThanks in advance.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 1, "creation_date": 1560168923, "post_id": 56526180, "comment_id": 99636013, "body": "No. If you want to use one class properties in another class, you need take them as @property(Strong, Nonatomic) IBOutlet ExtendedTextField *t1. Like this."}, {"owner": {"reputation": 119, "user_id": 4430612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBSza.jpg?s=128&g=1", "display_name": "Waqar Khalid", "link": "https://stackoverflow.com/users/4430612/waqar-khalid"}, "edited": false, "score": 0, "creation_date": 1560169695, "post_id": 56526180, "comment_id": 99636412, "body": "get a reference to the custom view in the controller and you can access its iboutlets through this reference and can assign it to any variable of the same type declared in the controller"}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1560170665, "post_id": 56526180, "comment_id": 99636897, "body": "I think you need to clean up your code and comments a little. It is not clear how classes and objects relate. For example, <code>CardNumberViewController</code> is a view controller but its object name implies it&#39;s a view. You write about <code>CustomView1</code> but there is no such view. You do not show where <code>CustomView</code> class is used. etc."}], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560168725, "creation_date": 1560168725, "question_id": 56526180, "link": "https://stackoverflow.com/questions/56526180/how-to-access-outlets-of-a-custom-view-from-another-controller-that-embedded-it", "title": "How to access outlets of a custom view from another controller that embedded it?", "body": "<p>I have a custom view (CustomView1) class. It has some outlets.<br/>\nI have another viewController which has uses this view in its xib file:\nI added an empty view and set its class to \"CustomView1\"<br/></p>\n\n<pre><code>@interface CustomView : UIView \n{\n    IBOutlet ExtendedTextField *t1;\n    IBOutlet ExtendedTextField *t2;\n    IBOutlet ExtendedTextField *t3;\n}\n</code></pre>\n\n<hr>\n\n<p>In viewController xib file I added that empty view with the class of CustomView<br/></p>\n\n<hr>\n\n<pre><code>@interface ViewController1 : UIViewController {\n    IBOutlet CardNumberViewController *customView;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@implementation ViewController1\n\n- (void)viewDidLoad\n{\n   // Here I can access customView. Is it possible to access t1, t2 and t3?\n}\n</code></pre>\n\n<p><strong>Is it possible to access t1, t2 and t3 in ViewController1?</strong></p>\n"}, {"tags": ["objective-c", "mongodb", "asp.net-web-api", "objectid"], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "is_accepted": true, "score": 0, "last_activity_date": 1560787280, "creation_date": 1560787280, "answer_id": 56635008, "question_id": 56524605, "link": "https://stackoverflow.com/questions/56524605/objective-c-get-mongodb-objectid-from-net-api-as-string-and-vice-versa/56635008#56635008", "title": "Objective C get MongoDB ObjectID from .Net API as string and vice versa", "body": "<p>I post my work result as answer, hope it help others in the future</p>\n\n<p>For serializing <code>NSDictionary</code> from API result to <code>NSString</code></p>\n\n<pre><code>- (NSString *)NSStringFromNSDictionary:(NSDictionary *)dict\n{\n    long Timestamp = [[dict objectForKey:@\"Timestamp\"] longValue];\n    long Machine = [[dict objectForKey:@\"Machine\"] longValue];\n    long Pid = [[dict objectForKey:@\"Pid\"] longValue];\n    long Increment = [[dict objectForKey:@\"Increment\"] longValue];\n\n    NSString *oid = [NSString stringWithFormat:@\"%08lx%06lx%04lx%06lx\", Timestamp, Machine, Pid, Increment];\n\n    return oid;\n}\n</code></pre>\n\n<p>For serializing <code>NSString</code> back to .Net Mongo ObjectId in form of <code>NSDictionary</code></p>\n\n<pre><code>- (NSDictionary *)NSStringFromNSDictionary:(NSString *)oid\n{\n    long Timestamp = strtol([[oid substringToIndex:8] UTF8String], NULL, 16);\n    long Machine = strtol([[oid substringWithRange:NSMakeRange(8,6)] UTF8String], NULL, 16);\n    long Pid = strtol([[oid substringWithRange:NSMakeRange(14,4)] UTF8String], NULL, 16);\n    long Increment = strtol([[oid substringFromIndex:18] UTF8String], NULL, 16);\n\n\n    NSDictionary * dict = @{@\"Timestamp\": [NSNumber numberWithLong:Timestamp]\n                        ,@\"Machine\": [NSNumber numberWithLong:Machine]\n                        ,@\"Pid\": [NSNumber numberWithLong:Pid]\n                        ,@\"Increment\": [NSNumber numberWithLong:Increment]\n                        ,@\"CreationTime\": [NSString stringWithFormat:@\"/Date(%ld)/\",Timestamp*1000]\n                        };\n\n    return dict;\n}\n</code></pre>\n"}], "owner": {"reputation": 2377, "user_id": 5989431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207810042465716/picture?type=large", "display_name": "B&#249;i \u0110\u1ee9c Kh&#225;nh", "link": "https://stackoverflow.com/users/5989431/b%c3%b9i-%c4%90%e1%bb%a9c-kh%c3%a1nh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56635008, "answer_count": 1, "score": 0, "last_activity_date": 1560787280, "creation_date": 1560162513, "last_edit_date": 1560180408, "question_id": 56524605, "link": "https://stackoverflow.com/questions/56524605/objective-c-get-mongodb-objectid-from-net-api-as-string-and-vice-versa", "title": "Objective C get MongoDB ObjectID from .Net API as string and vice versa", "body": "<p>I have to consume .Net API which return and use MongoDB ObjectId as result and parameter</p>\n\n<p>For example, server return</p>\n\n<pre><code>    _id\": {\n            \"Timestamp\": 1478679428,\n            \"Machine\": 1031587,\n            \"Pid\": 9124,\n            \"Increment\": 2344035,\n            \"CreationTime\": \"/Date(1478679428000)/\"\n        }\n</code></pre>\n\n<p>In form of <code>NSDictionary</code> for ObjectID value <code>ObjectId(\"5822db840fbda323a423c463\")</code></p>\n\n<p>My question is: How can I convert above <code>NSDictionary</code> _id to string value <code>5822db840fbda323a423c463</code> in Objective C ? </p>\n\n<p>And vice versa, convert <code>NSString</code> <code>5822db840fbda323a423c463</code> to <code>NSDictionary</code> for sending as api parameter ?</p>\n\n<p>Note that: <strong>I can't change api</strong>, only consume it</p>\n\n<p>Any help will be appreciated</p>\n"}, {"tags": ["ios", "objective-c", "swift", "cocoa", "apple-watch"], "comments": [{"owner": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 3, "creation_date": 1560156636, "post_id": 56522854, "comment_id": 99630445, "body": "you should check out the SceneKit: the &quot;Award&quot; is simply a 3D object you have to create."}, {"owner": {"reputation": 1955, "user_id": 1032567, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HQK7E.jpg?s=128&g=1", "display_name": "Reno Jones", "link": "https://stackoverflow.com/users/1032567/reno-jones"}, "reply_to_user": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560164393, "post_id": 56522854, "comment_id": 99634002, "body": "Thank you @AndreyGershengoren What&#39;s the best approach to create a 3D object like this, I just have icons that will appear as a face of this 3D object, but How to create these one&#39;s so that they can be rotated 360&quot; with touch."}, {"owner": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560164701, "post_id": 56522854, "comment_id": 99634139, "body": "you can create it in any 3D editor of your choice. here some more information: <a href=\"https://stackoverflow.com/questions/48119378/which-format-file-for-3d-model-scenekit-arkit-better-to-use\" title=\"which format file for 3d model scenekit arkit better to use\">stackoverflow.com/questions/48119378/&hellip;</a>"}, {"owner": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560164806, "post_id": 56522854, "comment_id": 99634182, "body": "if you don&#39;t need custom shape, volume etc. of the object you can simply a SCNNode and add a texture"}, {"owner": {"reputation": 1955, "user_id": 1032567, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HQK7E.jpg?s=128&g=1", "display_name": "Reno Jones", "link": "https://stackoverflow.com/users/1032567/reno-jones"}, "reply_to_user": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560165355, "post_id": 56522854, "comment_id": 99634452, "body": "Sorry to ask lame questions, So, I just need to google around SCNNode creation and adding textures to it? Thanks. @AndreyGershengoren"}, {"owner": {"reputation": 1955, "user_id": 1032567, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HQK7E.jpg?s=128&g=1", "display_name": "Reno Jones", "link": "https://stackoverflow.com/users/1032567/reno-jones"}, "reply_to_user": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560197361, "post_id": 56522854, "comment_id": 99649094, "body": "Still, not able to figure out yet. Seen a lot around the web, Does SCNNode needs to have a material (containing a texture)? Can you please share any sample or example? Thank you - @AndreyGershengoren"}, {"owner": {"reputation": 1955, "user_id": 1032567, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HQK7E.jpg?s=128&g=1", "display_name": "Reno Jones", "link": "https://stackoverflow.com/users/1032567/reno-jones"}, "reply_to_user": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560225316, "post_id": 56522854, "comment_id": 99654937, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/194729/discussion-between-reno-jones-and-andrey-gershengoren\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1955, "user_id": 1032567, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HQK7E.jpg?s=128&g=1", "display_name": "Reno Jones", "link": "https://stackoverflow.com/users/1032567/reno-jones"}, "reply_to_user": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560942500, "post_id": 56522854, "comment_id": 99900297, "body": "@AndreyGershengoren which file format is good for iOS? Shall I just go with .obj 3d models for this? How about Android? Does .obj works best there? How about Min3D? Isn&#39;t it a good framework?"}], "owner": {"reputation": 1955, "user_id": 1032567, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/HQK7E.jpg?s=128&g=1", "display_name": "Reno Jones", "link": "https://stackoverflow.com/users/1032567/reno-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1560156144, "creation_date": 1560154966, "last_edit_date": 1560156144, "question_id": 56522854, "link": "https://stackoverflow.com/questions/56522854/how-to-approach-ios-activity-app-awards-control", "title": "How to approach iOS Activity app &quot;Awards&quot; Control", "body": "<p>I am trying to find approaches on building an iOS Control that looks much similar to \"Activity\" app \"Awards 3D Control\" on iOS.</p>\n\n<p>Is there anything available around which is similar to this? Or How Should I approach this control? I need to develop it on both iOS app and for apple watch. </p>\n\n<p>The snapshot of the same is attached below. You can flip it 360\".</p>\n\n<p>I am planning to do it with Native XCode Programming (Objective-C and/or Swift). Please suggest on the same lines.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Q6ai.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Q6ai.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "ios", "objective-c", "geolocation", "wkwebview"], "comments": [{"owner": {"reputation": 2928, "user_id": 3826175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cce02cc2f09bfdf2f5a84d4c617f2f?s=128&d=identicon&r=PG&f=1", "display_name": "mikep", "link": "https://stackoverflow.com/users/3826175/mikep"}, "edited": false, "score": 0, "creation_date": 1576868786, "post_id": 56521345, "comment_id": 105046253, "body": "Did you find some solution please?"}, {"owner": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "reply_to_user": {"reputation": 2928, "user_id": 3826175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cce02cc2f09bfdf2f5a84d4c617f2f?s=128&d=identicon&r=PG&f=1", "display_name": "mikep", "link": "https://stackoverflow.com/users/3826175/mikep"}, "edited": false, "score": 0, "creation_date": 1577067442, "post_id": 56521345, "comment_id": 105081679, "body": "Sorry, I can&#39;t help you."}, {"owner": {"reputation": 2928, "user_id": 3826175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cce02cc2f09bfdf2f5a84d4c617f2f?s=128&d=identicon&r=PG&f=1", "display_name": "mikep", "link": "https://stackoverflow.com/users/3826175/mikep"}, "edited": false, "score": 0, "creation_date": 1577785783, "post_id": 56521345, "comment_id": 105253823, "body": "See my answer - I found solution :)"}], "answers": [{"tags": [], "owner": {"reputation": 2928, "user_id": 3826175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cce02cc2f09bfdf2f5a84d4c617f2f?s=128&d=identicon&r=PG&f=1", "display_name": "mikep", "link": "https://stackoverflow.com/users/3826175/mikep"}, "is_accepted": false, "score": 0, "last_activity_date": 1578046681, "last_edit_date": 1578046681, "creation_date": 1577728042, "answer_id": 59534826, "question_id": 56521345, "link": "https://stackoverflow.com/questions/56521345/wkwebview-html-would-like-to-use-your-current-location-intercept-not-work/59534826#59534826", "title": "WKWebview &quot;.html Would Like To Use Your Current Location&quot; Intercept not work", "body": "<p>Because I did not find solution how to avoid this stupid duplicate permission request I created swift class NavigatorGeolocation. The aim of this class is to override native JavaScript's <code>navigator.geolocation</code> API with custom one with 3 benefits:</p>\n\n<ol>\n<li>Frontend/JavaScript developer use <code>navigator.geolocation</code> API by\nstandard way without taking care that it is overriden and uses code \ninvocation JS --> Swift on behind</li>\n<li>Keep all logic outside of ViewController as much as possible</li>\n<li>No more ugly and stupid duplicate permission request (1st for app and 2nd for webview):\n<a href=\"https://i.stack.imgur.com/znZTG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/znZTG.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/yc370.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yc370.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>I saw similar solution here <a href=\"https://stackoverflow.com/a/56921220/3826175\">https://stackoverflow.com/a/56921220/3826175</a> but it is missing my first and second benefit. In that solution frontend developer have to add to JavaScript code specific code for iOS. I do not like this ugly platform addtions - I mean JavaScript function <code>getLocation</code> invoked from swift which is never used by web or android platform. I have hybrid app (web/android/ios) which uses webview on ios/android and I want to have only one identical HTML5 + JavaScript code for all platforms but I do not want to use huge solutions like Apache Cordova (formerly PhoneGap).</p>\n\n<p>You can easily integrate NavigatorGeolocation class to your project - just create new swift file NavigatorGeolocation.swift, copy content from my answer and in ViewController.swift add 4 lines related to var <code>navigatorGeolocation</code>.</p>\n\n<p>I think that Google's Android is much clever than Apple's iOS because webview in Android does not bother with duplicate permission request because permission is already granted/denied by user for app. There is no additional security to ask it twice as some people defend Apple.</p>\n\n<p><strong>ViewController.swift</strong>:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import UIKit\nimport WebKit\n\nclass ViewController: UIViewController, WKNavigationDelegate {\n\n    var webView: WKWebView!;\n    var navigatorGeolocation = NavigatorGeolocation();\n\n    override func loadView() {\n        super.loadView();\n        let webViewConfiguration = WKWebViewConfiguration();\n        navigatorGeolocation.setUserContentController(webViewConfiguration: webViewConfiguration);\n        webView = WKWebView(frame:.zero , configuration: webViewConfiguration);\n        webView.navigationDelegate = self;\n        navigatorGeolocation.setWebView(webView: webView);\n        view.addSubview(webView);\n    }\n\n    override func viewDidLoad() {\n        super.viewDidLoad();\n        let url = Bundle.main.url(forResource: \"index\", withExtension: \"html\", subdirectory: \"webapp\");\n        let request = URLRequest(url: url!);\n        webView.load(request);\n    }\n\n    func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) {\n        webView.evaluateJavaScript(navigatorGeolocation.getJavaScripToEvaluate());\n    }\n\n}\n</code></pre>\n\n<p><strong>NavigatorGeolocation.swift</strong>:</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import WebKit\nimport CoreLocation\n\nclass NavigatorGeolocation: NSObject, WKScriptMessageHandler, CLLocationManagerDelegate {\n\n    var locationManager = CLLocationManager();\n    var listenersCount = 0;\n    var webView: WKWebView!;\n\n    override init() {\n        super.init();\n        locationManager.delegate = self;\n    }\n\n    func setUserContentController(webViewConfiguration: WKWebViewConfiguration) {\n        let controller = WKUserContentController();\n        controller.add(self, name: \"listenerAdded\");\n        controller.add(self, name: \"listenerRemoved\");\n        webViewConfiguration.userContentController = controller;\n    }\n\n    func setWebView(webView: WKWebView) {\n        self.webView = webView;\n    }\n\n    func locationServicesIsEnabled() -&gt; Bool {\n        return (CLLocationManager.locationServicesEnabled()) ? true : false;\n    }\n\n    func authorizationStatusNeedRequest(status: CLAuthorizationStatus) -&gt; Bool {\n        return (status == .notDetermined) ? true : false;\n    }\n\n    func authorizationStatusIsGranted(status: CLAuthorizationStatus) -&gt; Bool {\n        return (status == .authorizedAlways || status == .authorizedWhenInUse) ? true : false;\n    }\n\n    func authorizationStatusIsDenied(status: CLAuthorizationStatus) -&gt; Bool {\n        return (status == .restricted || status == .denied) ? true : false;\n    }\n\n    func onLocationServicesIsDisabled() {\n        webView.evaluateJavaScript(\"navigator.geolocation.helper.error(2, 'Location services disabled');\");\n    }\n\n    func onAuthorizationStatusNeedRequest() {\n        locationManager.requestWhenInUseAuthorization();\n    }\n\n    func onAuthorizationStatusIsGranted() {\n        locationManager.startUpdatingLocation();\n    }\n\n    func onAuthorizationStatusIsDenied() {\n        webView.evaluateJavaScript(\"navigator.geolocation.helper.error(1, 'App does not have location permission');\");\n    }\n\n    func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) {\n        if (message.name == \"listenerAdded\") {\n            listenersCount += 1;\n\n            if (!locationServicesIsEnabled()) {\n                onLocationServicesIsDisabled();\n            }\n            else if (authorizationStatusIsDenied(status: CLLocationManager.authorizationStatus())) {\n                onAuthorizationStatusIsDenied();\n            }\n            else if (authorizationStatusNeedRequest(status: CLLocationManager.authorizationStatus())) {\n                onAuthorizationStatusNeedRequest();\n            }\n            else if (authorizationStatusIsGranted(status: CLLocationManager.authorizationStatus())) {\n                onAuthorizationStatusIsGranted();\n            }\n        }\n        else if (message.name == \"listenerRemoved\") {\n            listenersCount -= 1;\n\n            // no listener left in web view to wait for position\n            if (listenersCount == 0) {\n                locationManager.stopUpdatingLocation();\n            }\n        }\n    }\n\n    func locationManager(_ manager: CLLocationManager, didChangeAuthorization status: CLAuthorizationStatus) {\n        // didChangeAuthorization is also called at app startup, so this condition checks listeners\n        // count before doing anything otherwise app will start location service without reason\n        if (listenersCount &gt; 0) {\n            if (authorizationStatusIsDenied(status: status)) {\n                onAuthorizationStatusIsDenied();\n            }\n            else if (authorizationStatusIsGranted(status: status)) {\n                onAuthorizationStatusIsGranted();\n            }\n        }\n    }\n\n    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\n        if let location = locations.last {\n            webView.evaluateJavaScript(\"navigator.geolocation.helper.success('\\(location.timestamp)', \\(location.coordinate.latitude), \\(location.coordinate.longitude), \\(location.altitude), \\(location.horizontalAccuracy), \\(location.verticalAccuracy), \\(location.course), \\(location.speed));\");\n        }\n    }\n\n    func locationManager(_ manager: CLLocationManager, didFailWithError error: Error) {\n        webView.evaluateJavaScript(\"navigator.geolocation.helper.error(2, 'Failed to get position (\\(error.localizedDescription))');\");\n    }\n\n    func getJavaScripToEvaluate() -&gt; String {\n        let javaScripToEvaluate = \"\"\"\n            // management for success and error listeners and its calling\n            navigator.geolocation.helper = {\n                listeners: {},\n                noop: function() {},\n                id: function() {\n                    var min = 1, max = 1000;\n                    return Math.floor(Math.random() * (max - min + 1)) + min;\n                },\n                clear: function(isError) {\n                    for (var id in this.listeners) {\n                        if (isError || this.listeners[id].onetime) {\n                            navigator.geolocation.clearWatch(id);\n                        }\n                    }\n                },\n                success: function(timestamp, latitude, longitude, altitude, accuracy, altitudeAccuracy, heading, speed) {\n                    var position = {\n                        timestamp: new Date(timestamp).getTime() || new Date().getTime(), // safari can not parse date format returned by swift e.g. 2019-12-27 15:46:59 +0000 (fallback used because we trust that safari will learn it in future because chrome knows that format)\n                        coords: {\n                            latitude: latitude,\n                            longitude: longitude,\n                            altitude: altitude,\n                            accuracy: accuracy,\n                            altitudeAccuracy: altitudeAccuracy,\n                            heading: (heading &gt; 0) ? heading : null,\n                            speed: (speed &gt; 0) ? speed : null\n                        }\n                    };\n                    for (var id in this.listeners) {\n                        this.listeners[id].success(position);\n                    }\n                    this.clear(false);\n                },\n                error: function(code, message) {\n                    var error = {\n                        PERMISSION_DENIED: 1,\n                        POSITION_UNAVAILABLE: 2,\n                        TIMEOUT: 3,\n                        code: code,\n                        message: message\n                    };\n                    for (var id in this.listeners) {\n                        this.listeners[id].error(error);\n                    }\n                    this.clear(true);\n                }\n            };\n\n            // @override getCurrentPosition()\n            navigator.geolocation.getCurrentPosition = function(success, error, options) {\n                var id = this.helper.id();\n                this.helper.listeners[id] = { onetime: true, success: success || this.noop, error: error || this.noop };\n                window.webkit.messageHandlers.listenerAdded.postMessage(\"\");\n            };\n\n            // @override watchPosition()\n            navigator.geolocation.watchPosition = function(success, error, options) {\n                var id = this.helper.id();\n                this.helper.listeners[id] = { onetime: false, success: success || this.noop, error: error || this.noop };\n                window.webkit.messageHandlers.listenerAdded.postMessage(\"\");\n                return id;\n            };\n\n            // @override clearWatch()\n            navigator.geolocation.clearWatch = function(id) {\n                var idExists = (this.helper.listeners[id]) ? true : false;\n                if (idExists) {\n                    this.helper.listeners[id] = null;\n                    delete this.helper.listeners[id];\n                    window.webkit.messageHandlers.listenerRemoved.postMessage(\"\");\n                }\n            };\n        \"\"\";\n\n        return javaScripToEvaluate;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 8169327, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/cae23414f5fa4fe0003abb6687084a77?s=128&d=identicon&r=PG&f=1", "display_name": "Beginnerrrrrr", "link": "https://stackoverflow.com/users/8169327/beginnerrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 674, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1578046681, "creation_date": 1560147384, "question_id": 56521345, "link": "https://stackoverflow.com/questions/56521345/wkwebview-html-would-like-to-use-your-current-location-intercept-not-work", "title": "WKWebview &quot;.html Would Like To Use Your Current Location&quot; Intercept not work", "body": "<p>I have a question about \".html Would Like To Use Your Current Location\" message.<br>\nSo, I follow this <a href=\"https://stackoverflow.com/a/43907448/8169327\">answer</a> in stack <br></p>\n\n<p>But I can't receieve nothing in <code>userContentController(_:didReceive:)</code><br>\nAnd I also set <code>Privacy - Location When In Use Usage Description</code> in .plist.</p>\n\n<pre><code>WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc] init];\nWKUserContentController *userContent = [[WKUserContentController alloc] init];\nNSString *scriptString = @\"navigator.geolocation.getCurrentPosition = function(success, error, options) { ... }; navigator.geolocation.watchPosition = function(success, error, options) { ... }; navigator.geolocation.clearWatch = function(id) { ... };\";\nWKUserScript *script = [[WKUserScript alloc] initWithSource: scriptString injectionTime: WKUserScriptInjectionTimeAtDocumentStart forMainFrameOnly:YES];\n[userContent addUserScript:script];\nconfig.userContentController = userContent;\n\nself.webView = [[WKWebView alloc] initWithFrame:self.view.frame configuration: config];\n\n- (void)userContentController:(WKUserContentController*)userContentController didReceiveScriptMessage:(WKScriptMessage*)message {\n    NSString *name = message.name;\n    NSLog(@\"===) message name = %@\",name);\n}\n</code></pre>\n\n<p><br>\njs example code:<br></p>\n\n<pre><code>var onSuccess = function(position) {\nalert('Latitude: '          + position.coords.latitude          + '\\n' +\n      'Longitude: '         + position.coords.longitude         + '\\n' +\n      'Altitude: '          + position.coords.altitude          + '\\n' +\n      'Accuracy: '          + position.coords.accuracy          + '\\n' +\n      'Altitude Accuracy: ' + position.coords.altitudeAccuracy  + '\\n' +\n      'Heading: '           + position.coords.heading           + '\\n' +\n      'Speed: '             + position.coords.speed             + '\\n' +\n      'Timestamp: '         + position.timestamp                + '\\n');\n};\n\n// onError Callback receives a PositionError object\n//\nfunction onError(error) {\n    alert('code: '    + error.code    + '\\n' +\n          'message: ' + error.message + '\\n');\n}\nnavigator.geolocation.getCurrentPosition(onSuccess, onError);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/uoB7I.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uoB7I.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "java", "android", "ios", "objective-c"], "comments": [{"owner": {"reputation": 927, "user_id": 9255238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YbsKV.png?s=128&g=1", "display_name": "Shobhit Chittora", "link": "https://stackoverflow.com/users/9255238/shobhit-chittora"}, "edited": false, "score": 0, "creation_date": 1560151925, "post_id": 56521151, "comment_id": 99628690, "body": "From what I understand, to run your common JS you definitely need wrapper for different platforms ( RN for mobile and Electron for desktop). You can have all your re-usable logic as node modules ( add and others ) and the these platform projects and use this. I think this is pretty neat."}, {"owner": {"reputation": 489, "user_id": 2237813, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pDgg7.png?s=128&g=1", "display_name": "markovchain", "link": "https://stackoverflow.com/users/2237813/markovchain"}, "reply_to_user": {"reputation": 927, "user_id": 9255238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YbsKV.png?s=128&g=1", "display_name": "Shobhit Chittora", "link": "https://stackoverflow.com/users/9255238/shobhit-chittora"}, "edited": false, "score": 0, "creation_date": 1560154570, "post_id": 56521151, "comment_id": 99629657, "body": "@ShobhitChittora Unfortunately, I don&#39;t think you can embed RN into your SDK without also forcing the consuming apps to use RN. Please correct me if I&#39;m wrong. The ideal scenario would be to have a portable mobile SDK that any native app can use. I&#39;ve added this to the question."}, {"owner": {"reputation": 927, "user_id": 9255238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YbsKV.png?s=128&g=1", "display_name": "Shobhit Chittora", "link": "https://stackoverflow.com/users/9255238/shobhit-chittora"}, "edited": false, "score": 0, "creation_date": 1560160187, "post_id": 56521151, "comment_id": 99632069, "body": "Well Unfortunately! I don&#39;t think that&#39;s possible. You will have to have a Native SDK with the core functionality and RN wrapper over it for your consumer using RN."}], "owner": {"reputation": 489, "user_id": 2237813, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pDgg7.png?s=128&g=1", "display_name": "markovchain", "link": "https://stackoverflow.com/users/2237813/markovchain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560154621, "creation_date": 1560146131, "last_edit_date": 1560154621, "question_id": 56521151, "link": "https://stackoverflow.com/questions/56521151/is-it-ideal-to-consume-a-javascript-library-from-a-native-mobile-sdk", "title": "Is it ideal to consume a JavaScript library from a native mobile SDK?", "body": "<p>Let's say we have this JavaScript code:</p>\n\n<pre><code>const add = (m, n) =&gt; m + n;\n</code></pre>\n\n<p>Now imagine it has been bundled by webpack into a single file, or accessible via URL on a CDN. Thus, you would only need that file to run this function on a browser or in NodeJS.</p>\n\n<p>Now imagine you have a mobile app (either Android or iOS) that needs to run that bundled-up function <em>without reimplementing it</em>. Thus you need to run JavaScript code in Java or Kotlin or Objective C or iOS.</p>\n\n<p>Some further constraints:</p>\n\n<ol>\n<li>You cannot use WebView</li>\n<li>This native code, including the parts that run JS, will be bundled into an SDK</li>\n<li>The SDK needs to be consumable by any native app, not tying them down to any specific library</li>\n<li>The logic in the JavaScript function is core to the mobile app</li>\n</ol>\n\n<p>Is this possible? Even if it is possible, is it advisable?</p>\n\n<hr>\n\n<p>A small bit of background to this question and why I'm asking it. We have two mobile SDKs (Android and iOS) which can be consumed either natively or by React Native. We also plan to reimplement the app on the desktop via Electron.</p>\n\n<p>There is logic that all three platforms have in common, and that is currently written as a JavaScript library. Obviously, the Electron desktop app is able to consume it. Similarly, the React Native app has no problem in running it.</p>\n\n<p>But we want to put that logic in the mobile SDK now, and I've been told not to use WebView. Is this task at all possible?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "cordova", "wkwebview"], "comments": [{"owner": {"reputation": 28127, "user_id": 777265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BNXHx.jpg?s=128&g=1", "display_name": "DaveAlden", "link": "https://stackoverflow.com/users/777265/davealden"}, "edited": false, "score": 0, "creation_date": 1560157891, "post_id": 56520935, "comment_id": 99630983, "body": "Why don&#39;t you use the WKWebView implementation (<code>usewkwebview=yes</code>) of the existing <a href=\"https://github.com/apache/cordova-plugin-inappbrowser\" rel=\"nofollow noreferrer\">Cordova InappBrowser plugin</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4675228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed903121543db1ee116a13a47145d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "gyujun heo", "link": "https://stackoverflow.com/users/4675228/gyujun-heo"}, "edited": false, "score": 0, "creation_date": 1560145574, "post_id": 56521001, "comment_id": 99626615, "body": "ls it work javascript in event listener ? my javascript is in event listener ... @Deviyani Swami"}, {"owner": {"reputation": 691, "user_id": 9260113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0568d94027d8c1610968e52711a39558?s=128&d=identicon&r=PG&f=1", "display_name": "Deviyani Swami", "link": "https://stackoverflow.com/users/9260113/deviyani-swami"}, "reply_to_user": {"reputation": 23, "user_id": 4675228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed903121543db1ee116a13a47145d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "gyujun heo", "link": "https://stackoverflow.com/users/4675228/gyujun-heo"}, "edited": false, "score": 0, "creation_date": 1560145723, "post_id": 56521001, "comment_id": 99626640, "body": "You need to implement the WKScriptMessageHandler protocol to receive the message."}, {"owner": {"reputation": 691, "user_id": 9260113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0568d94027d8c1610968e52711a39558?s=128&d=identicon&r=PG&f=1", "display_name": "Deviyani Swami", "link": "https://stackoverflow.com/users/9260113/deviyani-swami"}, "reply_to_user": {"reputation": 23, "user_id": 4675228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed903121543db1ee116a13a47145d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "gyujun heo", "link": "https://stackoverflow.com/users/4675228/gyujun-heo"}, "edited": false, "score": 0, "creation_date": 1560145782, "post_id": 56521001, "comment_id": 99626657, "body": "func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) {         print(&quot;message: &#40;message.body)&quot;)         // and whatever other actions should be perform.     }"}, {"owner": {"reputation": 691, "user_id": 9260113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0568d94027d8c1610968e52711a39558?s=128&d=identicon&r=PG&f=1", "display_name": "Deviyani Swami", "link": "https://stackoverflow.com/users/9260113/deviyani-swami"}, "reply_to_user": {"reputation": 23, "user_id": 4675228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed903121543db1ee116a13a47145d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "gyujun heo", "link": "https://stackoverflow.com/users/4675228/gyujun-heo"}, "edited": false, "score": 0, "creation_date": 1560146964, "post_id": 56521001, "comment_id": 99626969, "body": "Sorry but don&#39;t have idea, this one is for iOS."}], "tags": [], "owner": {"reputation": 691, "user_id": 9260113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0568d94027d8c1610968e52711a39558?s=128&d=identicon&r=PG&f=1", "display_name": "Deviyani Swami", "link": "https://stackoverflow.com/users/9260113/deviyani-swami"}, "is_accepted": false, "score": 0, "last_activity_date": 1560145152, "creation_date": 1560145152, "answer_id": 56521001, "question_id": 56520935, "link": "https://stackoverflow.com/questions/56520935/how-to-open-window-open-in-wkwebview/56521001#56521001", "title": "How to open &#39;window.open&#39; in wkwebview", "body": "<p>Firstly create an extension on WKWebView that defines a 'runJavaScriptInMainFrame:' method. In the extension method, use NSInvocationOperation </p>\n\n<blockquote>\n  <p>The NSInvocationOperation class is a concrete subclass of NSOperation\n  that you use to initiate an operation that consists of invoking a\n  selector on a specified object. This class implements a non-concurrent\n  operation.</p>\n</blockquote>\n\n<p>to call the undocumented '_runJavaScriptInMainFrame:' method.</p>\n\n<pre><code> extension WKWebView {\n        func runJavaScriptInMainFrame(#scriptString: NSString) -&gt; Void {\n            let selector : Selector = \"_runJavaScriptInMainFrame:\"\n            let invocation = NSInvocationOperation(target: self, selector: selector, object: scriptString)\n            NSOperationQueue.mainQueue().addOperation(invocation)\n        }\n    }\n</code></pre>\n\n<p>Now call this one:- </p>\n\n<pre><code>webview.runJavacriptInMainFrame:(scriptString: \"Write Particular javascript code\")\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4675228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed903121543db1ee116a13a47145d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "gyujun heo", "link": "https://stackoverflow.com/users/4675228/gyujun-heo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 817, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560155215, "creation_date": 1560144641, "last_edit_date": 1560155215, "question_id": 56520935, "link": "https://stackoverflow.com/questions/56520935/how-to-open-window-open-in-wkwebview", "title": "How to open &#39;window.open&#39; in wkwebview", "body": "<p>I developing hybrid app using cordova . . .\nI write below code in <code>WkWebvieUIDelegate.m</code> \nI can open a tag (target _blank with new window) \nand i can see <code>NSLog</code> this code </p>\n\n<p>But i can't open <code>window.open(...)</code> in javascript and i can't see <code>NSLog</code> </p>\n\n<p>how can i open <code>window.open</code> </p>\n\n<pre><code>- (WKWebView *)webView:(WKWebView *)webView createWebViewWithConfiguration:(WKWebViewConfiguration *)configuration forNavigationAction:(WKNavigationAction *)navigationAction windowFeatures:(WKWindowFeatures *)windowFeatures\n{\n    webView.UIDelegate = self;\n    webView.navigationDelegate = self;\n    webView.configuration.preferences.javaScriptEnabled = YES;\n\n\n  webView.configuration.preferences.javaScriptCanOpenWindowsAutomatically = YES;\n\n\n    NSLog(@\"1\");\n    NSURL* url = [navigationAction.request URL];\n    UIApplication *app = [UIApplication sharedApplication];\n\n\n    if ([app canOpenURL:url]) {\n         NSLog(@\"2\");\n        [app openURL:url];\n    } else {\n//        if (!navigationAction.targetFrame.isMainFrame) {\n//\n//            [webView loadRequest:navigationAction.request];\n//        }\n    }\n    return nil;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "uicollectionview", "radio-button", "uicollectionviewcell"], "comments": [{"owner": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 0, "creation_date": 1560144129, "post_id": 56519915, "comment_id": 99626290, "body": "Do you have multiple buttons in each cell or each cell contains only one button?"}, {"owner": {"reputation": 3, "user_id": 9414423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "akku", "link": "https://stackoverflow.com/users/9414423/akku"}, "reply_to_user": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 0, "creation_date": 1560175751, "post_id": 56519915, "comment_id": 99639472, "body": "@RajeshKumarR each cell contains one button"}, {"owner": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 0, "creation_date": 1560176349, "post_id": 56519915, "comment_id": 99639751, "body": "Show number of items and cell for item methods"}, {"owner": {"reputation": 3, "user_id": 9414423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "akku", "link": "https://stackoverflow.com/users/9414423/akku"}, "reply_to_user": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 0, "creation_date": 1560177492, "post_id": 56519915, "comment_id": 99640344, "body": "@RajeshKumarR I&#39;m loading a UICollectionViewCell.xib for cell, so there&#39;s no datasource methods"}], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 1006690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3e86be65a7370ed163bf3710cb7f69a2?s=128&d=identicon&r=PG", "display_name": "Subodh Kumar", "link": "https://stackoverflow.com/users/1006690/subodh-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1560256301, "creation_date": 1560256301, "answer_id": 56543813, "question_id": 56519915, "link": "https://stackoverflow.com/questions/56519915/uicollectionviewcell-with-uibutton-radio-button-one-radiobutton-selected-at-ti/56543813#56543813", "title": "UICollectionViewCell with UIButton radio button - one radioButton selected at time", "body": "<pre><code>Use this code in cellForRowAtIndexPath\n\n        UIButton *radioButton = (UIButton *) [cell.contentView viewWithTag:kRadioButtonTag]; // Radio button\n        [radioButton setImage:[UIImage imageNamed:@\"radio_unselected\"] forState:UIControlStateNormal];\n        [radioButton setImage:[UIImage imageNamed:@\"RadioSelected\"] forState:UIControlStateSelected];\n        [radioButton addTarget:self action:@selector(radioButtonPressed:) forControlEvents:UIControlEventTouchDown]; \n\nif(indexPath == selectedIndexPath)\n        [radioButton setImage:[UIImage imageNamed:@\"RadioSelected\"] forState:UIControlStateSelected];\nelse\n        [radioButton setImage:[UIImage imageNamed:@\"radio_unselected\"] forState:UIControlStateNormal];\n\n Radio button taped from table cell and get index path of that button\nTake on class Lebel NSIndexPath variable and store selected index path.\n\n- (void)radioButtonPressed:(UIButton *)sender {\n\n    CGPoint buttonPosition = [sender convertPoint:CGPointZero toView:tableView];\n    NSIndexPath *indexPath = [tableView indexPathForRowAtPoint:buttonPosition];\n    if (indexPath != nil) {\n       selectedIndexPath = indexPath\n[tableView reloadData];\n    }\n}\n</code></pre>\n\n<p>Hope this will help</p>\n"}], "owner": {"reputation": 3, "user_id": 9414423, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "akku", "link": "https://stackoverflow.com/users/9414423/akku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560256301, "creation_date": 1560134513, "last_edit_date": 1560222405, "question_id": 56519915, "link": "https://stackoverflow.com/questions/56519915/uicollectionviewcell-with-uibutton-radio-button-one-radiobutton-selected-at-ti", "title": "UICollectionViewCell with UIButton radio button - one radioButton selected at time", "body": "<p>I have UICollectionView with UIButton as a radio Button in UICollectionViewCell.xib.</p>\n\n<p>I need one radioButton selected at time, if next was pressed, previous should be deselected. I will appreciate help.</p>\n\n<pre><code>//Loading radio button when view loads\n-(void)setRadioButton{\n\n    if (!self.product.isSelectedCell) {\n        [self.radioBtn setBackgroundImage:[UIImage imageNamed:@\"radio-button\"] forState:UIControlStateNormal];\n    }\n    else\n    {\n        [self.radioBtn setBackgroundImage:[UIImage imageNamed:@\"radio-button-select\"] forState:UIControlStateNormal];\n    }\n}\n\n//Action for radio button\n- (IBAction)radioBtnAction:(UIButton*)sender {\n\n    if([self.radioBtn isSelected]==YES)\n    {\n      [self.radioBtn setBackgroundImage:[UIImage imageNamed:@\"radio-button-select\"] forState:UIControlStateNormal];\n\n    }\n       else{\n//always calls else \n            [self.radioBtn setBackgroundImage:[UIImage imageNamed:@\"radio-button\"] forState:UIControlStateNormal];\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "cocoa", "catransition"], "answers": [{"comments": [{"owner": {"reputation": 1200, "user_id": 942165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIKr3.jpg?s=128&g=1", "display_name": "Alfonso Tesauro", "link": "https://stackoverflow.com/users/942165/alfonso-tesauro"}, "edited": false, "score": 0, "creation_date": 1560134438, "post_id": 56519842, "comment_id": 99624799, "body": "Sorry, but if you look at the code I have provided, I am not calling from a background thread. My subclass is totally independent and it glows without any code to be added since its animating bool var is set to true when the object is created. I just create an instance of that class in interface builder. I know very well that UI code must not be called in a background thread."}, {"owner": {"reputation": 2029, "user_id": 3554832, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8AvjO.jpg?s=128&g=1", "display_name": "Iman", "link": "https://stackoverflow.com/users/3554832/iman"}, "reply_to_user": {"reputation": 1200, "user_id": 942165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIKr3.jpg?s=128&g=1", "display_name": "Alfonso Tesauro", "link": "https://stackoverflow.com/users/942165/alfonso-tesauro"}, "edited": false, "score": 1, "creation_date": 1560177265, "post_id": 56519842, "comment_id": 99640216, "body": "@AlfonsoTesauro Ok, looks like I have not understood you correctly. May I suggest to paraphrase your question? Good luck"}], "tags": [], "owner": {"reputation": 2029, "user_id": 3554832, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8AvjO.jpg?s=128&g=1", "display_name": "Iman", "link": "https://stackoverflow.com/users/3554832/iman"}, "is_accepted": false, "score": -1, "last_activity_date": 1560133527, "creation_date": 1560133527, "answer_id": 56519842, "question_id": 56519742, "link": "https://stackoverflow.com/questions/56519742/in-a-macos-cocoa-application-i-am-implementing-a-simple-glowing-red-dot-icon-fo/56519842#56519842", "title": "In a macOS Cocoa Application, I am implementing a simple glowing red dot icon for when activity is in progress. How can I make it more fluid?", "body": "<p>If I understood you correctly, your red button doesn\u2019t glow when you call it from a background thread.</p>\n\n<p>Because you can not update UI from background thread. \nYou may have two options here : </p>\n\n<ol>\n<li>Do what you want to do with your <code>GlowingImageView</code> instance in main thread by using <code>DispatchQueue.main.async</code></li>\n<li>Implement your animation code on main thread! Which is <strong>crazy</strong>! And I am not recommending this!</li>\n</ol>\n"}], "owner": {"reputation": 1200, "user_id": 942165, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/IIKr3.jpg?s=128&g=1", "display_name": "Alfonso Tesauro", "link": "https://stackoverflow.com/users/942165/alfonso-tesauro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1564165108, "creation_date": 1560132191, "last_edit_date": 1564165108, "question_id": 56519742, "link": "https://stackoverflow.com/questions/56519742/in-a-macos-cocoa-application-i-am-implementing-a-simple-glowing-red-dot-icon-fo", "title": "In a macOS Cocoa Application, I am implementing a simple glowing red dot icon for when activity is in progress. How can I make it more fluid?", "body": "<p>I am implementing the glowing red button as a subclass of NSImageView. You can see my code <a href=\"https://gist.github.com/alfonsotesauro/efcb8007b09e51660cb52917924f5ee0\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>When a background activity is in progress, the red circle image does not glow fluidly as it should. However, it starts to glow by the end of  the background process. </p>\n\n<p>Can anybody give me any suggestions by looking at my code ?</p>\n"}, {"tags": ["objective-c", "json"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1560126617, "post_id": 56519211, "comment_id": 99623744, "body": "Show the code actually causing the error. And note that your JSON is a dictionary, not an array."}], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "is_accepted": false, "score": 1, "last_activity_date": 1560185628, "creation_date": 1560185628, "answer_id": 56530470, "question_id": 56519211, "link": "https://stackoverflow.com/questions/56519211/parsing-json-with-objective-c/56530470#56530470", "title": "Parsing JSON with Objective-c?", "body": "<p>The return value of JSONObjectWithData will likely be a dictionary, not an array.  The object may contain an array.  You could try something like:</p>\n\n<pre><code>     if (responseStatusCode == 200) {\n\n         NSError* error;\n         NSDictionary* json = [NSJSONSerialization\n                               JSONObjectWithData:data //1\n                               options:NSJSONReadingAllowFragments\n                               error:&amp;error];\n\n         NSMutableArray *maAnimalsList = [[NSMutableArray alloc] init];\n\n         for(id key in json) {\n\n             [maAnimalsList addObject:key];\n         }\n\n     }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "is_accepted": true, "score": 1, "last_activity_date": 1560241813, "creation_date": 1560241813, "answer_id": 56539537, "question_id": 56519211, "link": "https://stackoverflow.com/questions/56519211/parsing-json-with-objective-c/56539537#56539537", "title": "Parsing JSON with Objective-c?", "body": "<pre><code>int main(int argc, char *argv[], char *envp[]) {\n    NSError *error;\n    NSString *url_string = [NSString stringWithFormat:@\"https://api.pushshift.io/reddit/search/submission/?sort_type=created_utc&amp;subreddit=rasberry_pi\"];\n    NSData *data = [NSData dataWithContentsOfURL:[NSURL URLWithString:url_string]];\n    NSDictionary *result = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&amp;error];\n\n    if (error) {\n        NSLog(@\"error: %@\", error);\n        return 1;\n    }\n\n    NSArray *entities = result.allValues.firstObject;\n\n    for (NSDictionary *dict in entities) {\n        NSLog(@\"author: %@, author_flair_type: %@\", dict[@\"author\"], dict[@\"author_flair_type\"]);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>BTW, you should aware that the <code>dataWithContentsOfURL</code> method is synchronized network operation.</p>\n"}], "owner": {"reputation": 49, "user_id": 4418165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3bc940b21d109be286b6c40e012747?s=128&d=identicon&r=PG&f=1", "display_name": "Dr. Barry", "link": "https://stackoverflow.com/users/4418165/dr-barry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56539537, "answer_count": 2, "score": -1, "last_activity_date": 1560241813, "creation_date": 1560124813, "question_id": 56519211, "link": "https://stackoverflow.com/questions/56519211/parsing-json-with-objective-c", "title": "Parsing JSON with Objective-c?", "body": "<p>My goal is to parse <a href=\"https://pushshift.io\" rel=\"nofollow noreferrer\">pushshift.io's</a> JSON using Objective-C. I have successfully fetched the JSON, but I receive an <code>unrecognized selector sent to instance</code> error when attempting to parse the text. How do I get the value for each key <code>\"author\"</code>, <code>\"author_flair_type\"</code>, etc, and turn that value into a string object?</p>\n\n<p><a href=\"https://api.pushshift.io/reddit/search/submission/?sort_type=created_utc&amp;subreddit=rasberry_pi\" rel=\"nofollow noreferrer\">Here is an example of the JSON:</a></p>\n\n<pre><code>{\n    \"data\": [\n        {\n            \"all_awardings\": [],\n            \"author\": \"Le-Dragoon\",\n            \"author_flair_css_class\": null,\n            \"author_flair_richtext\": [],\n            \"author_flair_type\": \"text\"\n        },\n        {\n            \"all_awardings\": [],\n            \"author\": \"Shiroi_Kage\",\n            \"author_flair_css_class\": null,\n            \"author_flair_richtext\": [],\n            \"author_flair_text\": null,\n            \"author_flair_type\": \"text\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Here is the code I am using to fetch JSON from a URL:</p>\n\n<pre><code>int main(int argc, char *argv[], char *envp[]) {\n    NSError *error;\n    NSString *url_string = [NSString stringWithFormat: @\"https://api.pushshift.io/reddit/search/submission/?sort_type=created_utc&amp;subreddit=rasberry_pi\"];\n    NSData *data = [NSData dataWithContentsOfURL: [NSURL URLWithString:url_string]];\n    NSArray *jsonArray = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&amp;error];\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "jsqmessagesviewcontroller", "xcode10.2", "messagekit"], "comments": [{"owner": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560104859, "post_id": 56516997, "comment_id": 99620021, "body": "do you open the project or workspace file?"}, {"owner": {"reputation": 273, "user_id": 7864975, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81d6e51737af02224defc7f1f0c69306?s=128&d=identicon&r=PG&f=1", "display_name": "techgirl", "link": "https://stackoverflow.com/users/7864975/techgirl"}, "reply_to_user": {"reputation": 864, "user_id": 792790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a5a2fe694152143e2a8c2e214da0908?s=128&d=identicon&r=PG", "display_name": "Andrey Gershengoren", "link": "https://stackoverflow.com/users/792790/andrey-gershengoren"}, "edited": false, "score": 0, "creation_date": 1560105045, "post_id": 56516997, "comment_id": 99620076, "body": "@andrey I open the workspace"}], "owner": {"reputation": 273, "user_id": 7864975, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/81d6e51737af02224defc7f1f0c69306?s=128&d=identicon&r=PG&f=1", "display_name": "techgirl", "link": "https://stackoverflow.com/users/7864975/techgirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560114294, "creation_date": 1560102363, "last_edit_date": 1560114294, "question_id": 56516997, "link": "https://stackoverflow.com/questions/56516997/messagekit-wont-build-when-integrating-into-app", "title": "MessageKit won&#39;t build when integrating into app", "body": "<p>I'm trying integrate MessageKit with my project. I'm getting 3 errors when attempting to build:\n1. Header 'MessageKit-Swift.h' not found\n2. :0: error: could not build Objective-C module 'MessageKit'\n3. No such module 'InputBarAccessoryView'</p>\n\n<p>I've cleaned the project prior to build (several times). I've also tried several versions of MessageKit. I've also changed my Swift version from 4.0 to 4.2 to 5 and am receiving the same errors.</p>\n\n<p>Here is my PodFile</p>\n\n<pre><code># Uncomment the next line to define a global platform for your project\n# platform :ios, '9.0'\n\ntarget '####' do\n  # Comment the next line if you're not using Swift and don't want to use dynamic frameworks\n  use_frameworks!\n\n  # Pods for #####\n  pod 'MessageKit',          '~&gt; 3.0.0'\n  pod 'MessageInputBar',     '~&gt; 0.4.1'\npod 'InputBarAccessoryView'\n\nend\n</code></pre>\n"}, {"tags": ["objective-c", "swift", "nsdictionary"], "comments": [{"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 1, "creation_date": 1560096140, "post_id": 56515576, "comment_id": 99617835, "body": "Please add Objective-C code that you have."}, {"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1560097006, "post_id": 56515576, "comment_id": 99618053, "body": "@RomanPodymov I did"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1560097392, "post_id": 56515576, "comment_id": 99618149, "body": "And how did you declare <code>messages</code> and <code>messagesDictionary</code>?"}, {"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "reply_to_user": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1560098106, "post_id": 56515576, "comment_id": 99618308, "body": "@RomanPodymov I didn&#39;t because I don&#39;t know how to do it :) what I need is to convert the swift code to objective-c and to replace my code,, and I don&#39;t know if my setup for messages is correct for the job or not"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1560099873, "post_id": 56515576, "comment_id": 99618744, "body": "Check my answer, I think I understand your problem now."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560100107, "post_id": 56516512, "comment_id": 99618805, "body": "Did it all, But when I changed the return count to <code>return _Messages.count;</code> in <code>numberOfRowsInSection</code> it returned 1 cell ,, originally its 4 with 2 toID the same so it should return 3,, also how can I retrieve the data from it in <code>cellForRowAtIndexPath</code> ? tried <code>cell.mainLabel.text = [_Messages objectAtIndex:indexPath.row];</code> but didn&#39;t work"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560100324, "post_id": 56516512, "comment_id": 99618866, "body": "@IQaid What <code>_Messages</code> is?"}, {"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560100538, "post_id": 56516512, "comment_id": 99618932, "body": "It&#39;s <code>_messages = [NSMutableArray&lt;Message*&gt; new];</code> regarding your answer but I changed it to <code>_Messages</code> because my NSObject file named <b>messages.h\\.m</b> so I tweaked it a letter bit to run and this is an example of what I did <code>self-&gt;_Messages = [NSMutableArray&lt;messages*&gt; new];</code> also changed <code>self-&gt;_messagesDictionary = [NSMutableDictionary&lt;NSString*, messages*&gt; new];</code> and the rest"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560100694, "post_id": 56516512, "comment_id": 99618969, "body": "Where do you call <code>self-&gt;_Messages = [NSMutableArray&lt;messages*&gt; new]</code> and <code>self-&gt;_messagesDictionary = [NSMutableDictionary&lt;NSString*, messages*&gt; new];</code>?"}, {"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560100806, "post_id": 56516512, "comment_id": 99619009, "body": "inside - (void) observeMessages"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560100875, "post_id": 56516512, "comment_id": 99619030, "body": "@IQaid If <code>- (void)observeMessages</code> is declared in view controller you should initialise them in <code>viewDidLoad</code>. What is the superclass of the class where you declared <code>- (void)observeMessages</code>?"}, {"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560101167, "post_id": 56516512, "comment_id": 99619103, "body": "Ok I did, it returned 4 cells not 3 as its supposed, these 4 returns have 2 toID the same ,, so it should group it into one so the total return will be 3. please watch this video from min 20 to have a better understanding of what I need <a href=\"https://www.youtube.com/watch?v=fyqksNlC8ks\" rel=\"nofollow noreferrer\">youtube.com/watch?v=fyqksNlC8ks</a>"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560101277, "post_id": 56516512, "comment_id": 99619132, "body": "@IQaid Add more code if you want to solve this problem."}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560101795, "post_id": 56516512, "comment_id": 99619268, "body": "@IQaid But as I can see you need to call <code>_messages = [[NSMutableArray alloc] initWithArray: _messagesDictionary.allValues];</code>, not <code>[_messages addObject:message];</code>."}, {"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560102537, "post_id": 56516512, "comment_id": 99619458, "body": "Great ,, how to get the data to insert it in <code>cellForRowAtIndexPath</code> ?"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560108103, "post_id": 56516512, "comment_id": 99620771, "body": "@IQaid Do you mean this line <code>cell.mainLabel.text = [_Messages objectAtIndex:indexPath.row];</code>?"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "reply_to_user": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 0, "creation_date": 1560108663, "post_id": 56516512, "comment_id": 99620879, "body": "@IQaid I think here should be something like <code>cell.mainLabel.text = [_Messages objectAtIndex:indexPath.row].text;</code>."}], "tags": [], "owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "is_accepted": true, "score": 0, "last_activity_date": 1560602952, "last_edit_date": 1560602952, "creation_date": 1560098806, "answer_id": 56516512, "question_id": 56515576, "link": "https://stackoverflow.com/questions/56515576/how-to-convert-nsdictonary-from-swift-to-objective-c/56516512#56516512", "title": "How to convert NSDictonary from Swift to Objective-c?", "body": "<p>Add new properties <code>NSArray&lt;Message*&gt;* messages</code> and <code>NSMutableDictionary&lt;NSString*, Message*&gt;* messagesDictionary</code> to the class where you declared <code>- (void)observeMessages</code>. You will get something like that:</p>\n\n<pre><code>@interface MyClass: NSObject\n\n@property (nonatomic, strong) NSArray&lt;Message*&gt;* messages;\n@property (nonatomic, strong) NSMutableDictionary&lt;NSString*, Message*&gt;* messagesDictionary;\n\n- (void)observeMessages;\n\n@end\n</code></pre>\n\n<p>Then initialise these properties:</p>\n\n<pre><code>_messages = [NSArray&lt;Message*&gt; new];\n_messagesDictionary = [NSMutableDictionary&lt;NSString*, Message*&gt; new];\n</code></pre>\n\n<p>Remove these lines (I guess you also don't know why did you add them):</p>\n\n<pre><code>[self-&gt;arrayText addObject:text];\n[self-&gt;arrayFromID addObject:fromID];\n[self-&gt;arrayToID addObject:toID];\n[self-&gt;arrayTimestamp addObject:timestampString];\n</code></pre>\n\n<p>Use this code to add a new <code>Message</code> instance both to <code>messages</code> and <code>messagesDictionary</code>:</p>\n\n<pre><code>Message* message = [[Message alloc] initWithFromID:fromID andToID:toID andText:text andTimestamp:timestampString];\nif (message.toID != nil) {\n    _messagesDictionary[message.toID] = message;\n    _messages = [[NSArray alloc] initWithArray:_messagesDictionary.allValues];\n}\n</code></pre>\n\n<p>All code in this post was tested in Xcode 10.2.1.</p>\n"}], "owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56516512, "answer_count": 1, "score": 0, "last_activity_date": 1560602952, "creation_date": 1560091721, "last_edit_date": 1560108413, "question_id": 56515576, "link": "https://stackoverflow.com/questions/56515576/how-to-convert-nsdictonary-from-swift-to-objective-c", "title": "How to convert NSDictonary from Swift to Objective-c?", "body": "<p>I am following a Tutorial for making a chat application and its written in swift but I am doing it in objective-c, I was not able to figure out how to solve this problem.</p>\n\n<p>I searched for a solution and found nothing because I don't know how to deal with NSDictionary a lot.</p>\n\n<p>The idea is when I receive the request from FIRDatabase there is 4 values in it (fromID, toID, text and timestamp) ID's are referred to users and I need to group the messages (text) for each user in the same key. Here is the Swift code for it.</p>\n\n<p>viewController.swift</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>var messages = [Message]()\n    var messagesDictionary = [String: Message]()\n\n    func observeMessages() {\n        let ref = FIRDatabase.database().refrence().child(\"messages\")\n        ref.observeEventType(.ChildAdded, withBlock: { (snapshot) in\n\n        if let dictionary = snapshot.value as? [String: AnyObject] {\n            let message = Message()\n            message.setValuesForKeysWithDictionary(dictionary)\n            self.message.append(message)\n\n            self.messagesDictionary[message.toID] = message\n\n            dispatch_async(dispatch_get_main_queue(), {\n                self.tableView.reloadData()\n            })\n        }\n    }, withCancelBlock: nil)\n\n    override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {\n        return messages.count\n    }\n</code></pre>\n\n<p>Message.swift</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>import UIKit\n\nclass Message: NSObject {\n\n    var fromID: String?\n    var text: String?\n    var timestamp: NSNumber?\n    var toID: String?\n\n}\n</code></pre>\n\n<p>This is my Objective-C Code I have right now.</p>\n\n<p><strong><em>HomeViewController.m</em></strong></p>\n\n<pre><code>#import \"HomeViewController.h\"\n#import \"messages.h\"\n\n@import Firebase;\n\n@interface HomeViewController ()\n@property (strong, nonatomic) FIRAuthStateDidChangeListenerHandle handle;\n@property (nonatomic, strong) NSMutableArray&lt;messages*&gt; *Messages;\n@property (nonatomic, strong) NSMutableDictionary&lt;NSString*, messages*&gt; *messagesDictionary;\n@end\n\n@implementation HomeViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    self.ref = [[FIRDatabase database] referenceFromURL:@\"*****\"];\n\n    self.tableView.delegate = self;\n    self.tableView.dataSource = self;\n\n    _Messages = [NSMutableArray&lt;messages*&gt; new];\n    _messagesDictionary = [NSMutableDictionary&lt;NSString*, messages*&gt; new];\n\n    [self observeMessages];\n}\n\n- (void) observeMessages {\n\n    self.ref = [[[FIRDatabase database] reference] child:@\"messages\"];\n    [_ref observeEventType:FIRDataEventTypeChildAdded withBlock:^(FIRDataSnapshot *snapshot) {\n\n        NSString *text = [snapshot.value objectForKey:@\"Text\"];\n        NSString *fromID = [snapshot.value objectForKey:@\"fromID\"];\n        NSString *toID = [snapshot.value objectForKey:@\"toID\"];\n        NSString *timestampString = [snapshot.value objectForKey:@\"timestamp\"];\n        //NSNumberFormatter *formatter = [[NSNumberFormatter alloc]init];\n        //NSNumber *timestamp = [formatter numberFromString:timestampString];\n\n        messages *message = [[messages alloc] initWithFromID:fromID andToID:toID andText:text andTimestamp:timestampString];\n        [self-&gt;_Messages addObject:message];\n        self-&gt;_messagesDictionary[message.toID] = message;\n\n        dispatch_async(dispatch_get_main_queue(), ^{\n            [self-&gt;_tableView reloadData];\n        });\n}\n\n- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {\n\n    CustomCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"CustomCell\"];\n\n    self.ref = [[[[FIRDatabase database] reference]child:@\"users\"]child:[arrayToID objectAtIndex:indexPath.row]];\n    [_ref observeSingleEventOfType:FIRDataEventTypeValue withBlock:^(FIRDataSnapshot *snapshot) {\n\n        cell.displayName.text = [snapshot.value objectForKey:@\"DisplayName\"];\n    } withCancelBlock:^(NSError *error) {\n        //\n    }];\n\n    cell.mainLabel.text = [_Messages objectAtIndex:indexPath.row];\n    return cell;\n}\n\n- (NSInteger)tableView:(nonnull UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    //return arrayText.count;\n    return _Messages.count;\n}\n</code></pre>\n\n<p><strong><em>messages.h</em></strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface messages : NSObject\n\n@property(strong, nonatomic) NSString *text;\n@property(strong, nonatomic) NSString *fromID;\n@property(strong, nonatomic) NSString *toID;\n@property(strong, nonatomic) NSString *timestamp;\n\n- (instancetype)initWithFromID:(NSString *)fromID\n                  andToID:(NSString *)toID\n                   andText:(NSString *)text\n                    andTimestamp:(NSString *)timestamp\n                     NS_DESIGNATED_INITIALIZER;\n\n@end\n</code></pre>\n\n<p><strong><em>messages.m</em></strong></p>\n\n<pre><code>- (instancetype)init {\n    return [self initWithFromID:@\"\" andToID:@\"\" andText:@\"\" andTimestamp:@\"\"];\n}\n\n- (instancetype)initWithFromID:(NSString *)fromID\n                  andToID:(NSString *)toID\n                   andText:(NSString *)text\n                    andTimestamp:(NSString *)timestamp\n                      {\n    self = [super init];\n    if (self) {\n        self.fromID = fromID;\n        self.toID = toID;\n        self.text = text;\n        self.timestamp = timestamp;\n    }\n    return self;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1560083577, "post_id": 56514593, "comment_id": 99615131, "body": "What about a <code>switch case let</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 25106, "user_id": 95309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HQkmf.jpg?s=128&g=1", "display_name": "Claus J&#248;rgensen", "link": "https://stackoverflow.com/users/95309/claus-j%c3%b8rgensen"}, "reply_to_user": {"reputation": 486150, "user_id": 1187415, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/LpTRB.png?s=128&g=1", "display_name": "Martin R", "link": "https://stackoverflow.com/users/1187415/martin-r"}, "edited": false, "score": 1, "creation_date": 1560084810, "post_id": 56514624, "comment_id": 99615401, "body": "@MartinR good call to use the official name, I&#39;ve incorporated it into the answer. Thanks."}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1560089040, "post_id": 56514624, "comment_id": 99616224, "body": "An enum with associated type looks more promising to me. If I use a class for each type, then I create a dependency between the command&#39;s directive and which type is requires. (ex: The user could create a <code>ToggleCommand</code> with a directive that isn&#39;t meant for toggling.) With enums, can I ensure that the associated types support something like Codable? A command currently gets encoded using <code>NSCoding</code> and sent to a child process using <code>NSXPCConnection</code>. So in ObjC, an <code>FLCommand</code> and its <code>.argument</code> adopts <code>NSSecureCoding</code>. Could the same be true for Swift enums with associated types?"}, {"owner": {"reputation": 25106, "user_id": 95309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HQkmf.jpg?s=128&g=1", "display_name": "Claus J&#248;rgensen", "link": "https://stackoverflow.com/users/95309/claus-j%c3%b8rgensen"}, "reply_to_user": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1560091018, "post_id": 56514624, "comment_id": 99616689, "body": "@kennyc no. If your are going to use XPC, you probably need to manually check each type with an assert, just like you do in Objective-C. XPC doesn&#39;t support generics."}, {"owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "edited": false, "score": 0, "creation_date": 1560092769, "post_id": 56514624, "comment_id": 99617087, "body": "I should have been more clear. XPC is only being used as the transport. The objects are being serialized and deserialized using NSCoding on both sides. When <code>.argument</code> is called, it&#39;s being called on an instance of the object in the correct process. I&#39;m not making this call through a remote proxy. (Really, the XPC comment should have just said: &quot;Do enums with associated types support <code>NSSecureCoding</code>, which is what <code>NSXPCConnection</code> requires.) It looks like it can support <code>Codable</code> so long as each associated type supports <code>Codable</code>, which makes sense."}], "tags": [], "owner": {"reputation": 25106, "user_id": 95309, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HQkmf.jpg?s=128&g=1", "display_name": "Claus J&#248;rgensen", "link": "https://stackoverflow.com/users/95309/claus-j%c3%b8rgensen"}, "is_accepted": true, "score": 2, "last_activity_date": 1560084750, "last_edit_date": 1560084750, "creation_date": 1560083592, "answer_id": 56514624, "question_id": 56514593, "link": "https://stackoverflow.com/questions/56514593/objc-c-to-swift-how-to-create-a-property-in-swift-that-guarantees-its-of-a-cer/56514624#56514624", "title": "Objc-C to Swift: How to create a property in Swift that guarantees it&#39;s of a certain type when callers use it?", "body": "<p>Have you considered using enumerations with associated values (often referred to as complex enums)</p>\n\n<pre><code>enum Directive {\n    case draw(NSRect)\n    case toggle(Bool)\n}\n\nstruct Command {\n    let directive: Directive\n}\n\nlet command = Command(directive: .draw(.zero))\nlet command2 = Command(directive: .toggle(true))\n\nfunc processCommand(_ command: Command) {\n    switch command.directive {\n    case .draw(let rect):\n        // do something with rect\n    case .toggle(let value):\n        // do something with the value\n    }\n}\n</code></pre>\n\n<p>(And you could actually skip the <code>Command</code> struct entirely in the above)</p>\n\n<p>Or an alternative solution is to use a protocol with an associated type:</p>\n\n<pre><code>protocol Command {\n    associatedtype AssociatedType\n\n    var argument: AssociatedType { get }\n\n    init(_ argument: AssociatedType)\n\n    func process()\n}\n\nstruct DrawCommand: Command {\n    typealias AssociatedType = NSRect\n    let argument: AssociatedType\n\n    init(_ argument: AssociatedType) {\n        self.argument = argument\n    }\n\n    func process() {\n        print(\"draw something with \\(argument)\")\n    }\n}\n\nstruct ToggleCommand: Command {\n    typealias AssociatedType = Bool\n    let argument: AssociatedType\n\n    init(_ argument: AssociatedType) {\n        self.argument = argument\n    }\n\n    func process() {\n        print(\"toggle something with \\(argument)\")\n    }\n}\n\nlet command = DrawCommand(.zero)\nlet command2 = ToggleCommand(true)\n\ncommand.process()\ncommand2.process()\n</code></pre>\n\n<p>This have a bit more boilerplate/overload, but provides a better separation of concerns and will be more flexible for you introducing more commands in the future without having to update enum/switches multiple places in the code.</p>\n"}], "owner": {"reputation": 4624, "user_id": 48321, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/672a4302a3da9f559a4e8e3b508dce89?s=128&d=identicon&r=PG", "display_name": "kennyc", "link": "https://stackoverflow.com/users/48321/kennyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 56514624, "answer_count": 1, "score": 1, "last_activity_date": 1560084750, "creation_date": 1560083247, "question_id": 56514593, "link": "https://stackoverflow.com/questions/56514593/objc-c-to-swift-how-to-create-a-property-in-swift-that-guarantees-its-of-a-cer", "title": "Objc-C to Swift: How to create a property in Swift that guarantees it&#39;s of a certain type when callers use it?", "body": "<p><em>TL;DR: This is about migrating an Objective-C pattern to Swift. It might be best to first look at the Objective-C interface below to better understand what I'm trying to achieve.</em></p>\n\n<p>I am just starting to adapt a rather large codebase from Objective-C to Swift. There were some design patterns in the legacy codebase that were put in place to try and provide some type-safety. </p>\n\n<p>These patterns seem really out of place in Swift but I'm not sure what the proper \"Swift Way\" of doing this is. Using Generics feels like the way to go about it, but I'm unclear on how best to proceed. </p>\n\n<p>The goal is to create a struct that has a property that can hold \"almost anything\". Callers are expecting the property to be of a certain type when used and an error or exception should be thrown if there is a type-mismatch. (i.e.: The caller expected the argument to be an integer but in reality a string was store.) </p>\n\n<pre><code>struct Command&lt;T&gt; {\n  let directive: Directive\n  let argument: T\n}\n\nlet command = Command(directive: .draw, argument: NSZeroRect)\nlet command2 = Command(directive: .toggle, argument: true)\n\n// Somewhere else in the code...\n\n//\n// How do I pass in a Command&lt;&gt; here? \n// This generates an error because Command&lt;Bool&gt; cannot be converted to Command&lt;Any&gt;\n//\nfunc processCommand(_ command:Command&lt;Any&gt;) {\n  switch command.directive {\n  case .draw:\n    // How do I ensure that command.argument is indeed an NSRect?\n  case .toggle:\n    // How do I ensure that command.argument is indeed a boolean?\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>The Objective-C interface looks something like this. Note that argument can be many different types. Ranging from primitives (Integers, Booleans, Doubles, etc...) to anything that can be stored in NSValue or that supports NSCoding. </p>\n\n<p>There are multiple property accessors for each type where it makes sense. </p>\n\n<pre><code>@interface FLCommand : NSObject\n\n@property(assign, readonly) FLDirective directive;\n@property(strong, readonly) id argument;\n\n@property(strong, readonly) BOOL argumentAsBoolean;\n@property(strong, readonly) NSRect argumentAsRect;\n\n- (instancetype)initWithDirective:(FLDirective)directive booleanArgument:(BOOL)value;\n- (instancetype)initWithDirective:(FLDirective)directive rectArgument:(NSRect)rect;\n- (instancetype)initWithDirective:(FLDirective)directive argument:(id)arg;\n\n@end\n\n@implementation FLCommand\n\n- (instancetype)initWithDirective:(FLDirective)directive\n                     booleanValue:(BOOL)value {\n\n  // Convert boolean to object.\n  return [self initWithDirective:directive \n                        argument:@(value)];\n}\n\n- (instancetype)initWithDirective:(FLDirective)directive\n                     rectArgument:(NSRect)rect {\n\n  // Convert NSRect to object.\n  return [self initWithDirective:directive \n                        argument:[NSValue valueWithRect:rect]];\n}\n\n- (BOOL)argumentAsBoolean {\n    NSAssert([_argument isKindOfClass:NSNumber.class], @\"Expected argument to be an NSNumber.\");\n\n    return [self.argument boolValue];\n}\n\n- (NSRect)argumentAsRect {\n    NSAssert([_argument isKindOfClass:NSValue.class], @\"Expected command argument to be an NSValue.\");\n\n    return [(NSValue *)self.argument rectValue];\n}\n\n@end\n\n// Somewhere else in the code the commands are acted upon. Using the \n// asserts and type-specific property accessors offers a poor-man's \n// way of doing type safety to ensure the the command's argument is \n// of the expected type.\n\n- (void)processCommand:(FLCommand *)command {\n    switch (command.directive) {\n        case FLDirectiveToggleSomething:\n                // The assert will fire if the argument is not a boolean.\n                [self toggleSomething:command.argumentAsBoolean];\n            break;\n\n            case FLDirectiveDrawSomething:\n                [self drawSomethingInFrame:command.argumentAsRect];\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>Using an equivalent pattern in Swift seems very un-Swift like to me. Is there a better way to go about this using Generics? </p>\n\n<p><em>Swift 5 and macOS 10.15+ solutions are OK.</em></p>\n"}, {"tags": ["ios", "objective-c", "uitextfield"], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1560145325, "post_id": 56516885, "comment_id": 99626555, "body": "Thanks. but I want to get the converted one every where. just with typing &quot;myTextField.text&quot;"}, {"owner": {"reputation": 23, "user_id": 9571646, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216344899000512/picture?type=large", "display_name": "Bautista Querejeta", "link": "https://stackoverflow.com/users/9571646/bautista-querejeta"}, "reply_to_user": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1560286400, "post_id": 56516885, "comment_id": 99684745, "body": "Well there&#39;s not much you can do without knowing when the user is done typing (if you want it to have good performance as you said)."}], "tags": [], "owner": {"reputation": 23, "user_id": 9571646, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216344899000512/picture?type=large", "display_name": "Bautista Querejeta", "link": "https://stackoverflow.com/users/9571646/bautista-querejeta"}, "is_accepted": false, "score": 0, "last_activity_date": 1560101523, "creation_date": 1560101523, "answer_id": 56516885, "question_id": 56514029, "link": "https://stackoverflow.com/questions/56514029/change-the-value-of-textfield-to-another-language-when-get-textfield-text-in-ios/56516885#56516885", "title": "Change the value of textfield to another language when get textfield.text in iOS", "body": "<p>Have you considered adding a UIButton with a IBAction, and only when the button is tapped, you get the text ?</p>\n\n<pre><code>@IBAction func buttonTapped(_sender : AnyObject){ // Here you get the text and convert it}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1560748528, "post_id": 56566534, "comment_id": 99822592, "body": "Thanks for you help, but I don&#39;t want to call a method every time I need to access the text."}, {"owner": {"reputation": 2812, "user_id": 4466607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PMBjQeP33j0/AAAAAAAAAAI/AAAAAAAAAIU/_DFKDbl6Jm0/photo.jpg?sz=128", "display_name": "Dhiru", "link": "https://stackoverflow.com/users/4466607/dhiru"}, "reply_to_user": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1560838945, "post_id": 56566534, "comment_id": 99855978, "body": "You can add that method into  <code>Util</code> and you can reuse at any place of code . without any method how you will covert , or else you can create extension of <code>UITextFiled</code> and you and get custom custom text, try using extension  @FattanehTalebi"}, {"owner": {"reputation": 2812, "user_id": 4466607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PMBjQeP33j0/AAAAAAAAAAI/AAAAAAAAAIU/_DFKDbl6Jm0/photo.jpg?sz=128", "display_name": "Dhiru", "link": "https://stackoverflow.com/users/4466607/dhiru"}, "reply_to_user": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "edited": false, "score": 0, "creation_date": 1560840695, "post_id": 56566534, "comment_id": 99856754, "body": "@FattanehTalebi , Check my answer  and try the solution"}], "tags": [], "owner": {"reputation": 11172, "user_id": 1987726, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/9P77w.jpg?s=128&g=1", "display_name": "Reinhard M&#228;nner", "link": "https://stackoverflow.com/users/1987726/reinhard-m%c3%a4nner"}, "is_accepted": false, "score": 0, "last_activity_date": 1560356333, "creation_date": 1560356333, "answer_id": 56566534, "question_id": 56514029, "link": "https://stackoverflow.com/questions/56514029/change-the-value-of-textfield-to-another-language-when-get-textfield-text-in-ios/56566534#56566534", "title": "Change the value of textfield to another language when get textfield.text in iOS", "body": "<p>I probably do not understand your question, but I will try an answer anyway.<br>\nI assume your <code>UITextField</code> is setup in storyboard, and you defined an outlet from your code to it, something like  </p>\n\n<pre><code>@property(nonatomic, weak) IBOutlet UITextField *mytextfield;  \n</code></pre>\n\n<p>So you can access the textField by program by its identifier.<br>\nOr if you did setup the <code>mytextfield</code> by program anyway, you can also access it in the same way.  </p>\n\n<p>I assume, you know the times when you want to read <code>mytextfield.text</code> to convert the text to English, and I assume you have a method to convert the text to English, something like  </p>\n\n<pre><code>-(NSString)convertToEnglish:(NSString *)text {\u2026}  \n</code></pre>\n\n<p>Why don\u2019t you simply read the textField text and feed it into this method, like  </p>\n\n<pre><code>NSString *englishText = [self convertToEnglish: mytextfield.text];  \n</code></pre>\n\n<p>But as I said, I probably did not understand your question\u2026</p>\n"}, {"tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": true, "score": 3, "last_activity_date": 1560510452, "creation_date": 1560510452, "answer_id": 56596940, "question_id": 56514029, "link": "https://stackoverflow.com/questions/56514029/change-the-value-of-textfield-to-another-language-when-get-textfield-text-in-ios/56596940#56596940", "title": "Change the value of textfield to another language when get textfield.text in iOS", "body": "<p>How about creating a sub-class of UITextField and overriding <code>.text</code>?</p>\n\n<p>In your .h file</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface TranslatingTextField : UITextField\n\n@end\n</code></pre>\n\n<p>In your .m file</p>\n\n<pre><code>@implementation TranslatingTextField\n\n- (NSString *)text {\n    return MyTranslation(super.text); // Your translation is called here\n}\n\n@end\n</code></pre>\n\n<p>If you are using <strong>Interface Builder</strong> make sure to specify <code>TranslatingTextField</code> as the class for the text fields you want to use this class for.</p>\n"}, {"tags": [], "owner": {"reputation": 2812, "user_id": 4466607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PMBjQeP33j0/AAAAAAAAAAI/AAAAAAAAAIU/_DFKDbl6Jm0/photo.jpg?sz=128", "display_name": "Dhiru", "link": "https://stackoverflow.com/users/4466607/dhiru"}, "is_accepted": false, "score": 0, "last_activity_date": 1560840640, "creation_date": 1560840640, "answer_id": 56643237, "question_id": 56514029, "link": "https://stackoverflow.com/questions/56514029/change-the-value-of-textfield-to-another-language-when-get-textfield-text-in-ios/56643237#56643237", "title": "Change the value of textfield to another language when get textfield.text in iOS", "body": "<p>You can do this as you want using category in <code>Objective-c</code>, see the implementation below .</p>\n\n<p><strong>UITextField+Category.h</strong></p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n    NS_ASSUME_NONNULL_BEGIN\n\n    @interface UITextField (Category)\n\n    @end\n\n    NS_ASSUME_NONNULL_END\n</code></pre>\n\n<p><strong>UITextField+Category.m</strong></p>\n\n<pre><code>#import \"UITextField+Category.h\"\n\n@implementation UITextField (Category)\n\n- (NSString *)text {\n    return ConvertToEnglish(super.text); //Call your Util function From here\n}\n\n\n@end\n</code></pre>\n\n<p><strong>Uses</strong></p>\n\n<pre><code>     #import \"UITextField+Category.h\"\n\n- (void)whenYouWant {\n    //Just call txtName.text Call anywhere in the class :  \n    NSLog(@\"%@\", self.txtName.text);\n}\n</code></pre>\n"}], "owner": {"reputation": 743, "user_id": 4468859, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ff8f77110356c10e86a332aaf205437e?s=128&d=identicon&r=PG&f=1", "display_name": "Fattaneh Talebi", "link": "https://stackoverflow.com/users/4468859/fattaneh-talebi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 56596940, "answer_count": 4, "score": 3, "last_activity_date": 1560840640, "creation_date": 1560077979, "last_edit_date": 1560083151, "question_id": 56514029, "link": "https://stackoverflow.com/questions/56514029/change-the-value-of-textfield-to-another-language-when-get-textfield-text-in-ios", "title": "Change the value of textfield to another language when get textfield.text in iOS", "body": "<p>when I get <code>mytextfield.text</code> the result is this: \"\u06f1\u06f2\u06f3\u06f4\" which is a Persian number of \"1234\".<br/>\nI have a method which converts Persian text to English text.<br/> <br/>\nI want to get the English text when getting text using <code>mytextfield.text</code><br/></p>\n\n<p>solution 1:\nI can realize when the user changes the textfield then I can change it to what I want. but its performance is not good because user might want to change it several time I just want to convert it when I want to get it.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 2, "creation_date": 1560094831, "post_id": 56513452, "comment_id": 99617542, "body": "The point of capturing strongly in the block is to prevent the release of said object.  In our code, we avoid using <code>-&gt;</code> entirely.  Just use the property directly.  The reference to blockSelf will keep the object alive."}, {"owner": {"reputation": 4035, "user_id": 3276518, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/G683d.png?s=128&g=1", "display_name": "bauerMusic", "link": "https://stackoverflow.com/users/3276518/bauermusic"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1560106635, "post_id": 56513452, "comment_id": 99620441, "body": "@bbum Your post here: <a href=\"https://stackoverflow.com/questions/39938439/does-assigning-a-weak-pointer-to-a-strong-pointer-copy-the-object\" title=\"does assigning a weak pointer to a strong pointer copy the object\">stackoverflow.com/questions/39938439/&hellip;</a> Pretty much clears it."}, {"owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "edited": false, "score": 0, "creation_date": 1560242180, "post_id": 56513452, "comment_id": 99661029, "body": "I&#39;m confused a little, why crash at <code>-&gt;</code>? what&#39;s the detailed crash?"}, {"owner": {"reputation": 4035, "user_id": 3276518, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/G683d.png?s=128&g=1", "display_name": "bauerMusic", "link": "https://stackoverflow.com/users/3276518/bauermusic"}, "reply_to_user": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "edited": false, "score": 0, "creation_date": 1560280213, "post_id": 56513452, "comment_id": 99682404, "body": "@Itachi <code>nil-&gt;value</code> will crash."}, {"owner": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "edited": false, "score": 0, "creation_date": 1560307480, "post_id": 56513452, "comment_id": 99689119, "body": "If the <code>weakself</code> is nil before assigning to <code>blockself</code>, <code>if (blockself &amp;&amp; blockself-&gt;otherValue)</code> should be safe. If the <code>weakself</code> is not nil before that, then <code>blockself</code> make the original object&#39;s retained count increased by 1, <code>blockself</code> won&#39;t be released until the containing block get executed."}, {"owner": {"reputation": 4035, "user_id": 3276518, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/G683d.png?s=128&g=1", "display_name": "bauerMusic", "link": "https://stackoverflow.com/users/3276518/bauermusic"}, "reply_to_user": {"reputation": 4840, "user_id": 1677041, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/CEQho.png?s=128&g=1", "display_name": "Itachi", "link": "https://stackoverflow.com/users/1677041/itachi"}, "edited": false, "score": 0, "creation_date": 1560334332, "post_id": 56513452, "comment_id": 99699188, "body": "@Itachi It makes sense to assign <code>blockself</code> only if &#39;weakself&#39; in not nil. Although, I think that the block context is not &#39;expected&#39; to continue executing in such context (a view that was released for example). But yes, if <code>blockself</code> is assigned a non nil, it will hold it for the block scope."}], "owner": {"reputation": 4035, "user_id": 3276518, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/G683d.png?s=128&g=1", "display_name": "bauerMusic", "link": "https://stackoverflow.com/users/3276518/bauermusic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560072565, "creation_date": 1560072565, "question_id": 56513452, "link": "https://stackoverflow.com/questions/56513452/objective-c-arrow-pointer-safety", "title": "Objective C arrow (-&gt;) pointer safety", "body": "<p>To avoid capturing of 'self' in a block, we often use a weak pointer. However, for some 'non-property' ivars (otherValue in this example):</p>\n\n<pre><code>@implementation MyClass\n{\n    NSString *otherValue;\n}\n</code></pre>\n\n<p>We need a strong ref and an arrow accessor (->) usually done like:</p>\n\n<pre><code>MyClass *blockself = weakself;\nblockself-&gt;otherValue\n</code></pre>\n\n<p>The problem is, accessing <code>blockself-&gt;otherValue</code> will crash if <code>blockself</code> is nil.</p>\n\n<p>I can check for <code>if (blockself)</code>, but it 'can' be release right after, in the next line.</p>\n\n<p>Example:</p>\n\n<pre><code>__weak MyClass *weakself = self;\n\n[serverManager runSomething:^(Result *res) {\n\n    // If pointer (weakself) is released, no problem. Accessing though a 'property'\n    if (weakself.value) {\n\n    }\n\n    // For local iVars though:\n\n    MyClass *blockself = weakself;\n\n    // This will crash if 'blockself' is nil\n    if (blockself-&gt;otherValue) {\n\n    }\n\n    // Can test for nil here\n\n    if (blockself) {\n\n        // But..\n        // Potentiall, the pointer 'could' be released here\n\n        if (blockself-&gt;_value) {\n\n        }\n\n    }\n</code></pre>\n\n<p>So, is the only safer way is to migrate from iVars to use a <code>@property</code>? Is there a 'safe' way to access iVars thought an arrow (<code>-&gt;</code>) accessor?</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 0, "last_activity_date": 1560073115, "creation_date": 1560073115, "answer_id": 56513510, "question_id": 56513170, "link": "https://stackoverflow.com/questions/56513170/changing-font-with-uibutton-and-if-else-if-statement/56513510#56513510", "title": "Changing font with uibutton and if else if statement", "body": "<p>Your <code>if</code> effectively asks the question \"Does HelveticaNeue 17pt exist?\", the answer is yes, and so you set the label font to ArialRoundedMTBold 17pt. There is <strong>no</strong> connection between the <code>if</code> test and setting the label font \u2013\u00a0it doesn't matter what font you set the label to \"Does HelveticaNeue 17pt exist?\" will always have the same answer.</p>\n\n<p>You need to ask the question \"Is the font of the label <code>labelz1</code> HelveticaNeue 17pt?\". To do that look at getting the label's font with <code>labelz1.font</code> and testing what font it is, for example:</p>\n\n<pre><code>UIFont *labFont = labelz1.font;\nUIFont *f1 = [UIFont fontWithName:@\"HelveticaNeue\" size:17.0];\nif( [labFont isEqual:f1] ) ...\n</code></pre>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 3, "user_id": 4184691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45955fdf389640231e8e1cf9226da69d?s=128&d=identicon&r=PG&f=1", "display_name": "mrbool", "link": "https://stackoverflow.com/users/4184691/mrbool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 0, "accepted_answer_id": 56513510, "answer_count": 1, "score": 0, "last_activity_date": 1560096417, "creation_date": 1560069726, "last_edit_date": 1560096417, "question_id": 56513170, "link": "https://stackoverflow.com/questions/56513170/changing-font-with-uibutton-and-if-else-if-statement", "title": "Changing font with uibutton and if else if statement", "body": "<p>I have created a UIlabel and IBAction\nI am trying to switch a font back and forth using an if else statement by pressing the UIButton. </p>\n\n<p>I have tried below<br>\nit will switch to the ArialRoundedMTBold but it wont switch back to helvetica.</p>\n\n<pre><code>if ( [UIFont fontWithName:@\"HelveticaNeue\" size:17.0]) {\n   [labelz1 setFont:[UIFont fontWithName:@\"ArialRoundedMTBold\" size:17.0]];\n} else if ( [UIFont fontWithName:@\"ArialRoundedMTBold\" size:17.0]){\n\n     [labelz1 setFont:[UIFont fontWithName:@\"HelveticaNeue\" size:17.0]];\n\n}\n</code></pre>\n\n<p>I also have tried</p>\n\n<pre><code>if ( labelz1.font ==[UIFont fontWithName:@\"HelveticaNeue\" size:17.0]) {\n    [labelz1 setFont:[UIFont fontWithName:@\"ArialRoundedMTBold\" size:17.0]];\n} else if ( labelz1.font ==[UIFont fontWithName:@\"ArialRoundedMTBold\" size:17.0]){\n\n    [labelz1 setFont:[UIFont fontWithName:@\"HelveticaNeue\" size:17.0]];\n\n}\n</code></pre>\n"}, {"tags": ["java", "objective-c", "macos", "maven", "lwjgl"], "comments": [{"owner": {"reputation": 2296, "user_id": 8623159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u98OE.jpg?s=128&g=1", "display_name": "Kai Burjack", "link": "https://stackoverflow.com/users/8623159/kai-burjack"}, "edited": false, "score": 2, "creation_date": 1560121046, "post_id": 56511732, "comment_id": 99622969, "body": "Start the JVM process with the JVM argument <a href=\"https://stackoverflow.com/questions/28149634/what-does-the-xstartonfirstthread-vm-argument-do-mean\">-XstartOnFirstThread</a>"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4347045, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f73865c60e1fc029c6950e3fc247a214?s=128&d=identicon&r=PG&f=1", "display_name": "krao", "link": "https://stackoverflow.com/users/4347045/krao"}, "is_accepted": false, "score": 0, "last_activity_date": 1575849808, "creation_date": 1575849808, "answer_id": 59241044, "question_id": 56511732, "link": "https://stackoverflow.com/questions/56511732/lwjgl-doesnt-work-on-mac-due-to-some-apple-libraries-objective-c-misbehaving/59241044#59241044", "title": "LWJGL doesn&#39;t work on Mac due to some Apple Libraries (Objective-c) misbehaving?", "body": "<p><code>applicationDefaultJvmArgs = [\"-XstartOnFirstThread\"]</code></p>\n\n<p>add this in your build gradle. Not sure why the apple libraries are in my stack trace as well</p>\n"}], "owner": {"reputation": 457, "user_id": 9584001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IxBn4.png?s=128&g=1", "display_name": "Rotartsi", "link": "https://stackoverflow.com/users/9584001/rotartsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575849808, "creation_date": 1560050581, "last_edit_date": 1560051662, "question_id": 56511732, "link": "https://stackoverflow.com/questions/56511732/lwjgl-doesnt-work-on-mac-due-to-some-apple-libraries-objective-c-misbehaving", "title": "LWJGL doesn&#39;t work on Mac due to some Apple Libraries (Objective-c) misbehaving?", "body": "<p>I'm trying to get LWJGL working on my computer (An old mac with Sierra installed), but some assertion fails and it's Objective-C?</p>\n\n<p>I'm using IntelliJ and Maven and following the wiki (<a href=\"https://github.com/LWJGL/lwjgl3-wiki/wiki/1.2.-Install\" rel=\"nofollow noreferrer\">https://github.com/LWJGL/lwjgl3-wiki/wiki/1.2.-Install</a>). I'm using Java 11, and the scopes of the native jars are set to runtime.</p>\n\n<p>The <code>pom.xml</code> is below. I got it from <a href=\"https://www.lwjgl.org/customize\" rel=\"nofollow noreferrer\">https://www.lwjgl.org/customize</a> and I've simply selected everything (all libraries and addons) and generated it.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.me.lwjgltest&lt;/groupId&gt;\n    &lt;artifactId&gt;LWJGLTest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;&lt;id&gt;lwjgl-natives-linux&lt;/id&gt;&lt;activation&gt;&lt;os&gt;&lt;family&gt;unix&lt;/family&gt;&lt;/os&gt;&lt;/activation&gt;&lt;properties&gt;&lt;lwjgl.natives&gt;natives-linux&lt;/lwjgl.natives&gt; &lt;!-- Add -arm64 or -arm32 to get the ARM builds --&gt;&lt;lwjgl.natives.vulkan&gt;&lt;/lwjgl.natives.vulkan&gt;&lt;/properties&gt;&lt;/profile&gt;\n        &lt;profile&gt;&lt;id&gt;lwjgl-natives-macos&lt;/id&gt;&lt;activation&gt;&lt;os&gt;&lt;family&gt;mac&lt;/family&gt;&lt;/os&gt;&lt;/activation&gt;&lt;properties&gt;&lt;lwjgl.natives&gt;natives-macos&lt;/lwjgl.natives&gt;&lt;lwjgl.natives.vulkan&gt;natives-macos&lt;/lwjgl.natives.vulkan&gt;&lt;/properties&gt;&lt;/profile&gt;\n        &lt;profile&gt;&lt;id&gt;lwjgl-natives-windows&lt;/id&gt;&lt;activation&gt;&lt;os&gt;&lt;family&gt;windows&lt;/family&gt;&lt;/os&gt;&lt;/activation&gt;&lt;properties&gt;&lt;lwjgl.natives&gt;natives-windows&lt;/lwjgl.natives&gt;&lt;lwjgl.natives.vulkan&gt;&lt;/lwjgl.natives.vulkan&gt;&lt;/properties&gt;&lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-bgfx&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-cuda&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-egl&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-jawt&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-jemalloc&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-libdivide&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-llvm&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-lmdb&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-lz4&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-meow&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-nanovg&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-nfd&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-nuklear&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-odbc&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opencl&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opengles&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-openvr&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opus&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-ovr&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-par&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-remotery&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-rpmalloc&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-sse&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-tinyexr&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-tinyfd&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-tootle&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-vma&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-vulkan&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-xxhash&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-yoga&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-zstd&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-bgfx&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-jemalloc&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-libdivide&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-llvm&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-lmdb&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-lz4&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-meow&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-nanovg&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-nfd&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-nuklear&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opengles&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-openvr&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-opus&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-ovr&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-par&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-remotery&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-rpmalloc&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-sse&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-tinyexr&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-tinyfd&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-tootle&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-vma&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-vulkan&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives.vulkan}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-xxhash&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-yoga&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;&lt;artifactId&gt;lwjgl-zstd&lt;/artifactId&gt;&lt;version&gt;3.2.2&lt;/version&gt;&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;&lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;org.joml&lt;/groupId&gt;&lt;artifactId&gt;joml&lt;/artifactId&gt;&lt;version&gt;1.9.15&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;com.code-disaster.steamworks4j&lt;/groupId&gt;&lt;artifactId&gt;steamworks4j&lt;/artifactId&gt;&lt;version&gt;1.8.0&lt;/version&gt;&lt;/dependency&gt;\n        &lt;dependency&gt;&lt;groupId&gt;com.code-disaster.steamworks4j&lt;/groupId&gt;&lt;artifactId&gt;steamworks4j-server&lt;/artifactId&gt;&lt;version&gt;1.8.0&lt;/version&gt;&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I'm just trying to run the example code at <a href=\"https://www.lwjgl.org/guide\" rel=\"nofollow noreferrer\">https://www.lwjgl.org/guide</a> since I'm just setting up LWJGL.</p>\n\n<p>When I run the example code, however, I get:</p>\n\n<pre><code>Hello LWJGL 3.2.2 build 10!\n2019-06-08 20:03:28.554 java[80012:1268785] *** Assertion failure in +[NSUndoManager _endTopLevelGroupings], /Library/Caches/com.apple.xbs/Sources/Foundation/Foundation-1349.91/Misc.subproj/NSUndoManager.m:363\n2019-06-08 20:03:28.555 java[80012:1268785] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: '+[NSUndoManager(NSInternal) _endTopLevelGroupings] is only safe to invoke on the main thread.'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x00007fffc393c57b __exceptionPreprocess + 171\n    1   libobjc.A.dylib                     0x00007fffd8bb31da objc_exception_throw + 48\n    2   CoreFoundation                      0x00007fffc3941132 +[NSException raise:format:arguments:] + 98\n    3   Foundation                          0x00007fffc53a8be0 -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 195\n    4   Foundation                          0x00007fffc5333093 +[NSUndoManager(NSPrivate) _endTopLevelGroupings] + 170\n    5   AppKit                              0x00007fffc139e4ed -[NSApplication run] + 1200\n    6   libglfw.dylib                       0x0000000126a109d5 libglfw.dylib + 68053\n    7   libglfw.dylib                       0x0000000126a0a366 libglfw.dylib + 41830\n    8   ???                                 0x00000001166a88d0 0x0 + 4671047888\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n\n<p>I hope I could just remove some of the libraries/add-ons and this would be fixed. The only other thing I could think of is updating my OS, but I don't want to do that just yet.</p>\n\n<p>EDIT: I've tried using the \"Minimal OpenGL\" on the customize site but the same thing happens.\nEDIT2: Tried \"Getting Started.\" No Luck. Realized that the error was Objective-C...</p>\n"}, {"tags": ["ios", "objective-c", "editor", "picker"], "comments": [{"owner": {"reputation": 23, "user_id": 8893230, "user_type": "registered", "profile_image": "https://graph.facebook.com/1650914471806658/picture?type=large", "display_name": "IQaid", "link": "https://stackoverflow.com/users/8893230/iqaid"}, "edited": false, "score": 1, "creation_date": 1560098040, "post_id": 56508858, "comment_id": 99618296, "body": "Check <a href=\"https://stackoverflow.com/a/7141620/8893230\">this post</a> it might help you"}], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 10015658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6db7641953166ed15b751284edc9d6a?s=128&d=identicon&r=PG&f=1", "display_name": "s0me1ne", "link": "https://stackoverflow.com/users/10015658/s0me1ne"}, "is_accepted": true, "score": 0, "last_activity_date": 1560104324, "creation_date": 1560104324, "answer_id": 56517243, "question_id": 56508858, "link": "https://stackoverflow.com/questions/56508858/how-to-get-video-from-uiimagepickercontroller-with-maximum-duration/56517243#56517243", "title": "How to get video from UIImagePickerController with maximum duration", "body": "<p>I don't know why but changing <code>UIImagePickerControllerSourceTypeSavedPhotosAlbum</code> by <code>UIImagePickerControllerSourceTypePhotoLibrary</code> fixed it (now show <code>UIImagePickerControllerMediaURL</code> in the NSSDictionary)</p>\n"}], "owner": {"reputation": 78, "user_id": 10015658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6db7641953166ed15b751284edc9d6a?s=128&d=identicon&r=PG&f=1", "display_name": "s0me1ne", "link": "https://stackoverflow.com/users/10015658/s0me1ne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 56517243, "answer_count": 1, "score": 0, "last_activity_date": 1560104324, "creation_date": 1560016426, "question_id": 56508858, "link": "https://stackoverflow.com/questions/56508858/how-to-get-video-from-uiimagepickercontroller-with-maximum-duration", "title": "How to get video from UIImagePickerController with maximum duration", "body": "<p>I have implemented a UIImagePickerController in my application with a videoMaximumDuration of 10 seconds.</p>\n\n<p>However in the callback from the delegate imagePickerController:didFinishPickingMediaWithInfo: in the NSDictionary i can only retrieve the original video (and not the trimmed video) from the PHAsset.</p>\n\n<p>NSLog from the dictionary when i choose a video.</p>\n\n<pre><code>info: {\n    UIImagePickerControllerMediaType = \"public.movie\";\n    UIImagePickerControllerPHAsset = \"&lt;PHAsset: 0x1149af010&gt; E2FA31C6-0232-4A89-8DE5-A4C8CBC98D97/L0/001 mediaType=2/0, sourceType=1, (540x960), creationDate=2019-06-05 14:01:07 +0000, location=0, hidden=0, favorite=0 \";\n    UIImagePickerControllerReferenceURL = \"assets-library://asset/asset.mov?id=E2FA31C6-0232-4A89-8DE5-A4C8CBC98D97&amp;ext=mov\";\n}\n</code></pre>\n\n<pre><code>    UIImagePickerController *picker = [[UIImagePickerController alloc] init];\n\n    if([UIImagePickerController isSourceTypeAvailable: UIImagePickerControllerSourceTypeSavedPhotosAlbum])\n    {\n        picker.delegate = self;\n        picker.allowsEditing = YES;\n        picker.videoMaximumDuration = 10.0f;\n        picker.modalPresentationStyle = UIModalPresentationCurrentContext;\n        picker.mediaTypes = @[(NSString*)kUTTypeMovie, (NSString*)kUTTypeAVIMovie, (NSString*)kUTTypeVideo, (NSString*)kUTTypeMPEG4, (NSString*)kUTTypeImage];\n        picker.videoQuality = UIImagePickerControllerQualityTypeHigh;\n        picker.sourceType = UIImagePickerControllerSourceTypeSavedPhotosAlbum;\n\n        [self._viewCtrl presentViewController:picker animated:YES completion:nil];\n    }\n</code></pre>\n\n<p>How can i access the trimmed video ?\nThank</p>\n"}, {"tags": ["javascript", "ios", "objective-c", "react-native", "objective-c-2.0"], "comments": [{"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1559981736, "post_id": 56503402, "comment_id": 99597234, "body": "You don&#39;t need to run in the background (not can you). Simply create a <code>Date</code> when your app moves to the background and determine the difference between then and &quot;now&quot; when it returns to the foreground"}, {"owner": {"reputation": 689, "user_id": 4322261, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VB8Ne.jpg?s=128&g=1", "display_name": "Asbar Ali", "link": "https://stackoverflow.com/users/4322261/asbar-ali"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1559985294, "post_id": 56503402, "comment_id": 99597842, "body": "@ Paulw11 There are sets in the timer and I want to play beep sound after finish each set. So I can&#39;t do it when app is in the background (bcz timer doesn&#39;t run)"}, {"owner": {"reputation": 689, "user_id": 4322261, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VB8Ne.jpg?s=128&g=1", "display_name": "Asbar Ali", "link": "https://stackoverflow.com/users/4322261/asbar-ali"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1559985716, "post_id": 56503402, "comment_id": 99597915, "body": "@ Paulw11 It works perfectly in android."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1559986084, "post_id": 56503402, "comment_id": 99597991, "body": "You can schedule a local notification"}], "owner": {"reputation": 689, "user_id": 4322261, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/VB8Ne.jpg?s=128&g=1", "display_name": "Asbar Ali", "link": "https://stackoverflow.com/users/4322261/asbar-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559967808, "creation_date": 1559967808, "question_id": 56503402, "link": "https://stackoverflow.com/questions/56503402/run-a-background-timer-in-native-ios-module-with-objective-c-react-native", "title": "Run a background timer in native iOS Module with Objective C - React Native", "body": "<p>My app requires to run a timer in the background continuously when an app is in the background and it should stop when app gets into the foreground. </p>\n\n<p>The app is built with React Native and <a href=\"https://react-native.canny.io/feature-requests/p/background-timer-execution\" rel=\"nofollow noreferrer\">it doesn't have any proper module</a> to run in the background yet. So I created a <a href=\"https://facebook.github.io/react-native/docs/native-modules-ios\" rel=\"nofollow noreferrer\">bridge</a> between React Native Javascript and Native iOS.</p>\n\n<p>I expose a ios native module can signal events to JavaScript without being invoked directly and passed an event to native code to invoke from javascript.</p>\n\n<p><strong>TestManager.h</strong></p>\n\n<pre><code>//\n//  TestManager.h\n//\n//  Created by Asbar Ali on 6/7/19.\n//  Copyright \u00a9 2019 Facebook. All rights reserved.\n//\n\n#import &lt;Foundation/Foundation.h&gt;\n#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\nNS_ASSUME_NONNULL_BEGIN\n\n@interface TestManager : RCTEventEmitter &lt;RCTBridgeModule&gt;\n\n@end\n\nNS_ASSUME_NONNULL_END\n\n</code></pre>\n\n<p><strong>TestManager.m</strong></p>\n\n<pre><code>//\n//  TestManager.m\n//  CrockfitMobile\n//\n//  Created by Asbar Ali on 6/7/19.\n//  Copyright \u00a9 2019 Facebook. All rights reserved.\n//\n\n#import \"TestManager.h\"\n\n@implementation TestManager\n{\n  bool hasListeners;\n}\n\nRCT_EXPORT_MODULE();\n\n- (NSArray&lt;NSString *&gt; *)supportedEvents\n{\n  return @[@\"EventReminder\"];\n}\n\n// Will be called when this module's first listener is added.\n-(void)startObserving {\n  hasListeners = YES;\n  NSLog(@\"Listener added\");\n}\n\n// Will be called when this module's last listener is removed, or on dealloc.\n-(void)stopObserving {\n  hasListeners = NO;\n    NSLog(@\"Listner Removed\");\n}\n\n- (void)TestEventReminderReceived:(NSNotification *)notification\n{\n  NSString *eventName = notification.userInfo[@\"name\"];\n  if (hasListeners) { // Only send events if anyone is listening\n    [self sendEventWithName:@\"EventReminder\" body:@{@\"name\": eventName}];\n  }\n}\n\nRCT_EXPORT_METHOD(timerStart:(NSString *)name location:(NSString *)location)\n{\n  NSLog(@\"invoked by javaScript\");\n}\n\n@end\n\n\n</code></pre>\n\n<p>following method in TestManager.m is called from a React Native(JavaScript)</p>\n\n<pre><code>RCT_EXPORT_METHOD(timerStart:(NSString *)name location:(NSString *)location)\n{\n  NSLog(@\"invoked by javaScript\");\n}\n</code></pre>\n\n<p>When I add the following code inside the above method, <strong><em>NSTimer is not firing.</em></strong> </p>\n\n<p><strong>NOTE:</strong> This will work perfectly in ViewControllers</p>\n\n<pre><code>NSTimer *timer = [NSTimer scheduledTimerWithTimeInterval:5.0 target:self \n                                       selector:@selector(updateModel:) userInfo:str repeats:YES];\n</code></pre>\n\n<p>I found some answers for it. \n<a href=\"https://stackoverflow.com/a/18098396/4322261\">Answ1</a>\n<a href=\"https://stackoverflow.com/a/23622475/4322261\">Answ2</a></p>\n\n<p>Then I realize that it could be a threading problem and need to call in the main thread.</p>\n\n<blockquote>\n  <ol>\n  <li><p>How can I start a timer in subclass of RCTEventEmitter when app get into the background? (TestManager.m)</p></li>\n  <li><p>If we can't do it in this module, how can we do it?</p></li>\n  </ol>\n</blockquote>\n"}, {"tags": ["objective-c", "nsview", "nsproxy"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1559951055, "post_id": 56502269, "comment_id": 99593426, "body": "Why are you misusing NSProxy in this way?"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 2, "creation_date": 1559953677, "post_id": 56502269, "comment_id": 99593769, "body": "We&#39;d need to see the crash details. However, in general, I&#39;ve seen places where proxy objects can&#39;t be used. Basically, the issue is that the framework accesses instance variables on the passed-in object, rather than necessarily messaging it."}, {"owner": {"reputation": 323, "user_id": 1561585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32597f5349a06076c5852a4c1f65894?s=128&d=identicon&r=PG", "display_name": "Boris D.", "link": "https://stackoverflow.com/users/1561585/boris-d"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1559958953, "post_id": 56502269, "comment_id": 99594349, "body": "@matt I&#39;m playing with the idea of using NSProxy as a means of bridging Objective-C and another language using its foreign function interface. For this to be useful, I must be able to proxy any Cocoa object."}, {"owner": {"reputation": 323, "user_id": 1561585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32597f5349a06076c5852a4c1f65894?s=128&d=identicon&r=PG", "display_name": "Boris D.", "link": "https://stackoverflow.com/users/1561585/boris-d"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1559959665, "post_id": 56502269, "comment_id": 99594423, "body": "@KenThomases Added error details to question."}], "owner": {"reputation": 323, "user_id": 1561585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b32597f5349a06076c5852a4c1f65894?s=128&d=identicon&r=PG", "display_name": "Boris D.", "link": "https://stackoverflow.com/users/1561585/boris-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2616, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559959573, "creation_date": 1559950785, "last_edit_date": 1559959573, "question_id": 56502269, "link": "https://stackoverflow.com/questions/56502269/can-nsproxy-stand-in-for-nsview-subclasses", "title": "Can NSProxy stand in for NSView subclasses?", "body": "<p>I've tried a simple test which results in EXC_BAD_ACCESS error:</p>\n\n<pre><code>#import \"AppDelegate.h\"\n\n@interface CrashingProxy : NSProxy\n@property (strong) id target;\n- (instancetype)initWithTarget:(id)targetObj;\n@end\n\n@implementation CrashingProxy\n@synthesize target;\n- (instancetype)initWithTarget:(id)targetObj {\n    [self setTarget:targetObj];\n    return self;\n}\n- (void)forwardInvocation:(NSInvocation *)invocation {\n    [invocation invokeWithTarget:[self target]];\n}\n- (NSMethodSignature *)methodSignatureForSelector:(SEL)selector {\n    return [[self target] methodSignatureForSelector:selector];\n}\n@end\n\n@interface AppDelegate ()\n@property (weak) IBOutlet NSWindow *window;\n@end\n\n@implementation AppDelegate\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    NSButton *button = [[NSButton alloc] initWithFrame:NSMakeRect(20.0, 20.0, 100.0, 32.0)];\n    [button setButtonType:NSButtonTypeMomentaryLight];\n    [button setTitle:@\"Hello\"];\n    [[[self window] contentView] addSubview:[[CrashingProxy alloc] initWithTarget:button]];\n}\n@end\n</code></pre>\n\n<p>Is there something wrong with this test, or is there a fundamental reason why NSView subclasses cannot be used with NSProxy?</p>\n\n<p>Error details:</p>\n\n<p>Thread 1: EXC_BAD_ACCESS (code=1, address=0xc) \nat [NSView addSubview:]</p>\n"}, {"tags": ["objective-c", "iphone-privateapi", "brightness", "uiscreen"], "comments": [{"owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "edited": false, "score": 1, "creation_date": 1559911696, "post_id": 56493788, "comment_id": 99578078, "body": "I&#39;ve copy pasted your notification code into an Obj-C app of mine and it&#39;s working fine (on an iPhone 8 running iOS 11). Print <code>mainScreen</code>&#39;s <code>brightness</code> after you&#39;ve set it; what does that show?"}, {"owner": {"reputation": 1353, "user_id": 1576134, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/20af1a7b77c2dfff5edcd5522095ed0e?s=128&d=identicon&r=PG", "display_name": "Shreyank", "link": "https://stackoverflow.com/users/1576134/shreyank"}, "reply_to_user": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "edited": false, "score": 0, "creation_date": 1559912606, "post_id": 56493788, "comment_id": 99578583, "body": "@meaning-matters - thanks for your support. In my case its not work. My device have 0.5(50%) brightness when I run app. than I Programatically sets 0.1(10%) brightness on button click event and its should remain same but brightness will change and even with above code it will not stick to 0.1(10%) brightness. It will change after few sec or I move my device around. I am using iPhone X with iOS 12.1"}], "answers": [{"comments": [{"owner": {"reputation": 1353, "user_id": 1576134, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/20af1a7b77c2dfff5edcd5522095ed0e?s=128&d=identicon&r=PG", "display_name": "Shreyank", "link": "https://stackoverflow.com/users/1576134/shreyank"}, "edited": false, "score": 0, "creation_date": 1559909518, "post_id": 56494017, "comment_id": 99576846, "body": "Already try this but it not works. I get trigger in block but not updated with my value."}, {"owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "reply_to_user": {"reputation": 1353, "user_id": 1576134, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/20af1a7b77c2dfff5edcd5522095ed0e?s=128&d=identicon&r=PG", "display_name": "Shreyank", "link": "https://stackoverflow.com/users/1576134/shreyank"}, "edited": false, "score": 0, "creation_date": 1559910193, "post_id": 56494017, "comment_id": 99577220, "body": "@Shreyank Please show that code/attempt in your Question."}], "tags": [], "owner": {"reputation": 17958, "user_id": 1971013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EtqFE.jpg?s=128&g=1", "display_name": "meaning-matters", "link": "https://stackoverflow.com/users/1971013/meaning-matters"}, "is_accepted": false, "score": 0, "last_activity_date": 1559911435, "last_edit_date": 1559911435, "creation_date": 1559909211, "answer_id": 56494017, "question_id": 56493788, "link": "https://stackoverflow.com/questions/56493788/turn-off-auto-brightness-in-ios/56494017#56494017", "title": "Turn off auto brightness in iOS", "body": "<p>Listen to the <a href=\"https://developer.apple.com/documentation/uikit/uiscreen/1617832-brightnessdidchangenotification\" rel=\"nofollow noreferrer\">brightnessDidChangeNotification</a> and set the brightness back where you want it in your handler.</p>\n\n<p>Of course you also need to add code to check the brightness after the app has been in background (and may have missed notification(s)).</p>\n"}], "owner": {"reputation": 1353, "user_id": 1576134, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/20af1a7b77c2dfff5edcd5522095ed0e?s=128&d=identicon&r=PG", "display_name": "Shreyank", "link": "https://stackoverflow.com/users/1576134/shreyank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559920706, "creation_date": 1559908347, "last_edit_date": 1559920706, "question_id": 56493788, "link": "https://stackoverflow.com/questions/56493788/turn-off-auto-brightness-in-ios", "title": "Turn off auto brightness in iOS", "body": "<p>Auto brightness overrides screen brightness value which I have set for my application. I set brightness by </p>\n\n<pre><code>[[UIScreen mainScreen] setBrightness:0.1];\n</code></pre>\n\n<p>I want to turn off auto brightness programatically </p>\n\n<p>I am developing enterprise app so there is no issue for using private api</p>\n\n<p>I tried with <code>UIScreenBrightnessDidChangeNotification</code> but its not update my value</p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    NSNotificationCenter *center = [NSNotificationCenter defaultCenter];\n    [center addObserverForName:UIScreenBrightnessDidChangeNotification\n                        object:nil\n                         queue:nil\n                    usingBlock:^(NSNotification *notification)\n     {\n         NSLog(@\"Brightness changed: %f\", [[UIScreen mainScreen] brightness]);\n         dispatch_async(dispatch_get_main_queue(), ^{\n             [[UIScreen mainScreen] setBrightness:0.1];\n         });\n     }];\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "drawrect"], "comments": [{"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 1, "creation_date": 1559903644, "post_id": 56492648, "comment_id": 99574066, "body": "Please post some code that shows what you are doing."}, {"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 1, "creation_date": 1559903718, "post_id": 56492648, "comment_id": 99574111, "body": "Also, you shouldn&#39;t abuse <code>drawRect</code> like this. If you can tell use what you are trying to achieve, we can come up with a better solution."}, {"owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "reply_to_user": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1559904124, "post_id": 56492648, "comment_id": 99574296, "body": "I have a custom view in menu. When I go inside a detail view, I can change somethings. And when I go back, I want that view to be refreshed, set some other values to the labels. I&#39;ll put the code."}], "owner": {"reputation": 390, "user_id": 3112591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gbyvs.jpg?s=128&g=1", "display_name": "flyingBear", "link": "https://stackoverflow.com/users/3112591/flyingbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559904241, "creation_date": 1559903515, "last_edit_date": 1559904241, "question_id": 56492648, "link": "https://stackoverflow.com/questions/56492648/drawrect-is-not-called-when-the-view-is-appeared-again", "title": "drawRect is not called when the view is appeared again", "body": "<p>I was using <code>drawRect</code> like <code>viewWillAppear</code> and check some states and set some values to labels. </p>\n\n<p>It was ok on <strong>iOS 12 and later</strong>. But, <code>drawRect</code> is not being called is <strong>iOS 11.3 and earlier</strong>.</p>\n\n<p>So, I found a workaround. I'm using <code>willMoveToWindow</code> method to do somethings that I'd do in <code>viewWillAppear</code></p>\n\n<pre><code>   @implementation AFEBigLapTimerWidgetView\n   - (void)drawRect:(CGRect)rect {\n\n        if (self.viewModel.isLapTimerServiceStarted) {\n            [self setLapTimerButtoStateWithState:AFELapimerButtonStateLap];\n            [self.viewsToHide enumerateObjectsUsingBlock:^(UIView *_Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n                obj.hidden = NO;\n            }];\n            [self.viewModel updateLabelsForStartedService];\n        } else if (self.viewModel.isCountdownOngoing) {\n            // Check if countdown is ongoing\n            self.countdownLabel.hidden = NO;\n            self.countdownLabel.alpha = 1.0;\n            [self setLapTimerButtoStateWithState:AFELapimerButtonStateLap];\n            [self countdownValueChanged:self.viewModel.countdownValue];\n            [self.viewsToHide enumerateObjectsUsingBlock:^(UIView *_Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {\n                obj.hidden = YES;\n            }];\n        } else {\n            [self setupDefaults];\n        }\n    }\n    @end\n</code></pre>\n"}, {"tags": ["objective-c", "nszombie", "nsinvocation"], "answers": [{"comments": [{"owner": {"reputation": 762, "user_id": 2870783, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0349d36974748bedf9b8a004566a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "h3dkandi", "link": "https://stackoverflow.com/users/2870783/h3dkandi"}, "edited": false, "score": 0, "creation_date": 1560771138, "post_id": 56604328, "comment_id": 99832659, "body": "I did think it was something like that but couldn&#39;t really find a way around it. I had tried previously your first two suggestions but they didn&#39;t work. However the one with the void temp did work. I currently don&#39;t have time to properly understand it and read the linked answers but I will definitely do so at a later time. I just tried the fix and it worked."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "reply_to_user": {"reputation": 762, "user_id": 2870783, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0349d36974748bedf9b8a004566a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "h3dkandi", "link": "https://stackoverflow.com/users/2870783/h3dkandi"}, "edited": false, "score": 0, "creation_date": 1560797913, "post_id": 56604328, "comment_id": 99845659, "body": "Updated the answer."}, {"owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1561959171, "post_id": 56604328, "comment_id": 100212955, "body": "<code>getReturnValue:</code> doesn&#39;t do registration of weak pointers so you shouldn&#39;t be using <code>__weak</code>."}, {"owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "reply_to_user": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "edited": false, "score": 0, "creation_date": 1561968356, "post_id": 56604328, "comment_id": 100215955, "body": "@newacct thank you for your excellent insight, I hope after the edit it&#39;s more accurate."}], "tags": [], "owner": {"reputation": 4299, "user_id": 5329717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOuLF.png?s=128&g=1", "display_name": "Kamil.S", "link": "https://stackoverflow.com/users/5329717/kamil-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1561968318, "last_edit_date": 1561968318, "creation_date": 1560541709, "answer_id": 56604328, "question_id": 56491399, "link": "https://stackoverflow.com/questions/56491399/why-nsinvocation-return-value-creates-a-zombie/56604328#56604328", "title": "Why NSInvocation return value creates a zombie?", "body": "<p>You fell victim of ARC not being aware of the way <code>NSInvocation</code> works modifying the <code>result</code> indirectly through another pointer. It's a known problem described <a href=\"https://stackoverflow.com/questions/22018272/nsinvocation-returns-value-but-makes-app-crash-with-exc-bad-access\">here</a>.</p>\n\n<p>What happens is the resulting object indirectly becomes equal to <code>result</code> but ARC is not aware of it and will never retain it. </p>\n\n<p>Without going into too much details <code>NSString</code> is a <strong>class cluster</strong>. What it effectively means is the implementation underneath changes based on how the string is created and used. Details of it are hidden while interacting with it in obj-c and Apple put a lot of effort to make it seamless to iOS developers. Your case is somewhat special.</p>\n\n<p>Typically you will be getting:</p>\n\n<ol>\n<li><code>__NSCFConstantString</code> (e.g. <code>@\"constant\"</code>) - string constant for app lifetime , for your case it <em>happens</em> to work, but you should <strong>never</strong> rely on that </li>\n<li><code>NSTaggedPointerString</code> (e.g. <code>[[@\"a\"] mutableCopy] copy]</code>) - an optimised short string with internal lookup table.</li>\n<li><code>__NSCFString</code> (e.g. <code>[@\"longString\" mutableCopy] copy]</code>) long string <code>CoreFoundation</code> representation.</li>\n</ol>\n\n<p>At any time <code>NSString</code> may change implementation underneath so you should never make assumptions about it. Case 3 will immediately go out of scope after returning and get deallocated in next run loop, case 1 will never get deallocated, case 2 (?), but for sure will survive the next run loop. </p>\n\n<p>So basially ARC isn't clever enough to associate the potentially deallocated object with the <code>id result</code> and you run into your problems.</p>\n\n<p><strong>How to fix it?</strong></p>\n\n<p>Use one of these:  </p>\n\n<p>1.</p>\n\n<pre><code>void *tempResult;\n[invocation getReturnValue:&amp;tempResult];\nid result = (__bridge id) tempResult;\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>__unsafe_unretained id tempResult;\n[invocation getReturnValue:&amp;tempResult];\nresult = tempResult;\n</code></pre>\n\n<p><strong>Edit</strong> </p>\n\n<p>As noted by @newacct in his comment <code>getReturnValue:</code> doesn't do registration of <code>weak</code> pointers hence it's <strong>inappropriate</strong> in this case. The pointer <strong>would not get zeroed</strong> when the object gets deallocated.</p>\n\n<p><strike>\n3.</p>\n\n<pre><code>__weak id tempResult;\n[invocation getReturnValue:&amp;tempResult];\nresult = tempResult;\n</code></pre>\n\n<p></strike></p>\n"}], "owner": {"reputation": 762, "user_id": 2870783, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f0349d36974748bedf9b8a004566a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "h3dkandi", "link": "https://stackoverflow.com/users/2870783/h3dkandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "accepted_answer_id": 56604328, "answer_count": 1, "score": 1, "last_activity_date": 1561968318, "creation_date": 1559898838, "question_id": 56491399, "link": "https://stackoverflow.com/questions/56491399/why-nsinvocation-return-value-creates-a-zombie", "title": "Why NSInvocation return value creates a zombie?", "body": "<p>I am trying to build a JavaScript to Native communication. For that purpose I need to execute dynamically a method on some class when JavaScript calls it.</p>\n\n<p>I have a problem with NSInvocation getting the return value. When the getReturnValue is used the app crashes due to zombie. The zombie is indicated to be coming from the invocation called method's return value.</p>\n\n<p>If I comment out the <code>[invocation getReturnValue:&amp;result];</code> line the app doesn't break. </p>\n\n<p>The test method I am currently calling returns and <code>(NSString *)</code> \nIf I make the invoked selector method implementation return a literal string like @\"firstsecond\") the app doesn't break as well.</p>\n\n<p>Why does it need a reference to it any way when the invocation method has already been executed and a string is returned. Isn't the returned string copied to the <code>id result</code>.</p>\n\n<pre><code>- (void)userContentController:(nonnull WKUserContentController *)userContentController didReceiveScriptMessage:(nonnull WKScriptMessage *)message {\n\n\n    if ([@\"Native_iOS_Handler\" isEqualToString: message.name]) {\n        NSArray *arguments = [message.body valueForKey:@\"arguments\"];\n        NSNumber *callbackID = [message.body valueForKey:@\"callbackID\"];\n        NSString *APIName = [message.body valueForKey:@\"APIName\"];\n        NSString *methodName = [message.body valueForKey:@\"methodName\"];\n\n        id classAPI = [self.exposedAPIs objectForKey:APIName];\n\n        SEL methodToRun = [classAPI getSelectorForJSMethod:methodName];\n\n        NSMethodSignature *methodSignature = [classAPI methodSignatureForSelector:methodToRun];\n        NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:methodSignature];\n        [invocation setTarget:classAPI];\n        [invocation setSelector:methodToRun];\n\n        id result;\n        [invocation invoke];\n        [invocation getReturnValue:&amp;result];\n        NSLog(@\"%@\", result);// output: firstsecond\n    }\n}\n\n//the selector in this case is this\n-(NSString*)getFoo{\n    // Why is this a zombie????\n    return [NSString stringWithFormat:@\"%@%@\", @\"first\", @\"second\"];\n    // This works:\n    //return @\"fristsecond\"\n}\n</code></pre>\n\n<p>Although the selector in <em>Instruments</em> is different the result is the same. From this picture I understand what I have told you. I have no experience whit Instruments.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CAova.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CAova.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "null"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1559907345, "post_id": 56491199, "comment_id": 99575793, "body": "<code>object.property = nil;</code> is syntactic sugar for <code>[object setPropery:nil]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1517, "user_id": 829307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bae71d41fb0e5e952ac306ba965df67?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/829307/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1559898336, "creation_date": 1559898336, "answer_id": 56491254, "question_id": 56491199, "link": "https://stackoverflow.com/questions/56491199/iin-objc-s-it-ok-to-set-nil-to-a-property-of-a-nil-object/56491254#56491254", "title": "Iin objc s it ok to set nil to a property of a nil object", "body": "<p>You can send any message to nil object, it's absolutely fine.</p>\n"}], "owner": {"reputation": 780, "user_id": 4759325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDITJ.png?s=128&g=1", "display_name": "Alberto Scampini", "link": "https://stackoverflow.com/users/4759325/alberto-scampini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "closed_date": 1559925523, "answer_count": 1, "score": 0, "last_activity_date": 1559898336, "creation_date": 1559898137, "question_id": 56491199, "link": "https://stackoverflow.com/questions/56491199/iin-objc-s-it-ok-to-set-nil-to-a-property-of-a-nil-object", "closed_reason": "Duplicate", "title": "Iin objc s it ok to set nil to a property of a nil object", "body": "<p>If I have an object like</p>\n\n<pre><code>AType *object = nil;\n</code></pre>\n\n<p>and I set nil to the object property like</p>\n\n<pre><code>object.property = nil;\n</code></pre>\n\n<p>Is it completly fine to do that, or could I run in some problem with some particular case?</p>\n"}, {"tags": ["c++", "objective-c", "memory-management", "memory-leaks", "objective-c++"], "answers": [{"tags": [], "owner": {"reputation": 18176, "user_id": 48660, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NJ1Lx.jpg?s=128&g=1", "display_name": "pmdj", "link": "https://stackoverflow.com/users/48660/pmdj"}, "is_accepted": true, "score": 1, "last_activity_date": 1559916472, "creation_date": 1559916472, "answer_id": 56495901, "question_id": 56491061, "link": "https://stackoverflow.com/questions/56491061/how-to-fix-memory-leak-issue-in-objective-c-code/56495901#56495901", "title": "How to fix memory leak issue in objective-c code?", "body": "<ol>\n<li><strong>ARC.</strong></li>\n</ol>\n\n<p>From</p>\n\n<blockquote>\n  <p>I have tried to release some of the objects within the function </p>\n</blockquote>\n\n<p>I deduce that you have ARC (automatic reference counting) <em>disabled</em> in your Objective-C++ compilation unit. Unless you have a good reason, this is probably not a great idea, as ARC drastically reduces the chance of leaks. I don't think this is the source of your issue, as I can't spot any methods that might return retained objects at first glance.</p>\n\n<ol start=\"2\">\n<li><strong>Autorelease</strong></li>\n</ol>\n\n<p>A significant number of Objective-C methods your code is calling have return types marked or deduced as autorelease. This works around the problem that without ARC, retaining returned objects would mean the caller couldn't simply use the method call expression in another expression, but would always have to assign the result to a variable in order to be able to subsequently release it, while not retaining it could result in a use-after-free situation. For example,</p>\n\n<pre><code>    AVAudioSessionRouteDescription* route = [[AVAudioSession sharedInstance] currentRoute];\n</code></pre>\n\n<p>would have to be written as the rather awkward</p>\n\n<pre><code>    AVAudioSession* session = [AVAudioSession sharedInstance];\n    AVAudioSessionRouteDescription* route = [session currentRoute];\n    [session release];\n</code></pre>\n\n<p>Hence, autorelease. This means the returned object <em>is</em> retained but placed in the current autorelease <em>pool</em>. This is essentially a stack of object pointers which is later released in batches. The batches are delineated by <code>@autoreleasepool</code> blocks. In Objective-C code, <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmAutoreleasePools.html\" rel=\"nofollow noreferrer\">you usually only need to place these blocks explicitly in loops which operate on very large or very many objects</a> to avoid memory use ballooning, but runloop and other event sources implicitly create a pool that is cleared upon return of the event handler.</p>\n\n<p>As your code is predominantly C++, I suspect you aren't hitting such an implicit pool often enough, especially if you are using a traditional game loop. The solution is to wrap your function in a pool:</p>\n\n<pre><code>bool Headphones::isHeadsetPluggedIn() {\n    @autoreleasepool\n    {\n        AVAudioSessionRouteDescription* route = [[AVAudioSession sharedInstance] currentRoute];\n        for (AVAudioSessionPortDescription* desc in [route outputs]) {\n            if ([[desc portType] isEqualToString:AVAudioSessionPortBuiltInSpeaker])\n            {\n                return NO;\n            }\n        }\n        return YES;\n    }\n}\n</code></pre>\n\n<p>This means any objects marked for autorelease during the execution of this function will be released upon return.</p>\n\n<p>I suspect this will solve your problem.</p>\n"}], "owner": {"reputation": 13, "user_id": 11613068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hOXQ2K5a8U8/AAAAAAAAAAI/AAAAAAAAACI/wxlIGaWRRq0/photo.jpg?sz=128", "display_name": "David Antonia", "link": "https://stackoverflow.com/users/11613068/david-antonia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 56495901, "answer_count": 1, "score": 1, "last_activity_date": 1559916472, "creation_date": 1559897634, "last_edit_date": 1559898988, "question_id": 56491061, "link": "https://stackoverflow.com/questions/56491061/how-to-fix-memory-leak-issue-in-objective-c-code", "title": "How to fix memory leak issue in objective-c code?", "body": "<p>I'm trying to communicate with iOS hardware to find if the device is using the built in speakers or not. It all works fine but whenever I use this code I get a memory leak. I'm calling it from my C++ code by putting this in a .mm file for objective-c++. This is my first time trying to use objective-c so I'm struggling to see where the leak might be coming from. I don't even know if it is a problem with this code which I have adapted slightly from stack overflow or something with the iOS API? This code is getting called very frequently as well.</p>\n\n<p>From my little knowledge of objective-c I have tried to release some of the objects within the function but this then causes problems when the audio drivers change settings (sample rate etc.) and causes crashes.</p>\n\n<pre><code>bool Headphones::isHeadsetPluggedIn() {\n    AVAudioSessionRouteDescription* route = [[AVAudioSession sharedInstance] currentRoute];\n    for (AVAudioSessionPortDescription* desc in [route outputs]) {\n        if ([[desc portType] isEqualToString:AVAudioSessionPortBuiltInSpeaker])\n        {\n            return NO;\n        }\n    }\n    return YES;\n}\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "uicollectionview"], "comments": [{"owner": {"reputation": 13839, "user_id": 7250862, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qwlWP.png?s=128&g=1", "display_name": "RajeshKumar R", "link": "https://stackoverflow.com/users/7250862/rajeshkumar-r"}, "edited": false, "score": 1, "creation_date": 1559898898, "post_id": 56490911, "comment_id": 99571692, "body": "Check <a href=\"https://github.com/smindia1988/SMCollectionViewFillLayout\" rel=\"nofollow noreferrer\">SMCollectionViewFillLayout</a>"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 2186991, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Z3KzI.jpg?s=128&g=1", "display_name": "Declan Land", "link": "https://stackoverflow.com/users/2186991/declan-land"}, "is_accepted": true, "score": 0, "last_activity_date": 1560252228, "creation_date": 1560252228, "answer_id": 56542635, "question_id": 56490911, "link": "https://stackoverflow.com/questions/56490911/uicollectionview-horizontal-scrolling-left-to-right-top-to-bottom/56542635#56542635", "title": "UICollectionView (Horizontal scrolling) Left to right &amp; Top to bottom", "body": "<p>I found that someone else shared the same issue and created a flow subclass called <code>SMCollectionViewFillLayout</code>. It does exactly what I intended with the following properties:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>SMCollectionViewFillLayout *layout      =   [[SMCollectionViewFillLayout alloc] init];\nlayout.delegate                         =   self;\nlayout.isHorizontalFill                 =   YES;\nlayout.stretchesLastItems               =   NO;\nlayout.direction                        =   SMCollectionViewFillLayoutHorizontal;\n[self setCollectionViewLayout:layout];\n</code></pre>\n"}], "owner": {"reputation": 528, "user_id": 2186991, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Z3KzI.jpg?s=128&g=1", "display_name": "Declan Land", "link": "https://stackoverflow.com/users/2186991/declan-land"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56542635, "answer_count": 1, "score": 0, "last_activity_date": 1560252228, "creation_date": 1559897065, "question_id": 56490911, "link": "https://stackoverflow.com/questions/56490911/uicollectionview-horizontal-scrolling-left-to-right-top-to-bottom", "title": "UICollectionView (Horizontal scrolling) Left to right &amp; Top to bottom", "body": "<p><a href=\"https://i.stack.imgur.com/aJI6L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aJI6L.jpg\" alt=\"UICollectionView Layout\"></a></p>\n\n<p>I'm trying to get UICollectionView to layout like the image above.\nI've tried setting the scroll direction to horizontal, but that lays out the cells from top to bottom. Is there an easy way of doing this? Ideally I want the same cell size too with 16 px spacing in between.</p>\n\n<p>Can anyone give some insight?</p>\n"}, {"tags": ["objective-c", "cocoa"], "comments": [{"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 1, "creation_date": 1559864486, "post_id": 56486207, "comment_id": 99562576, "body": "Why dont you register the NSTableView as an <code>IBOutlet</code> directly so you dont have to call <code>superview.superview....</code> ?"}, {"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559864628, "post_id": 56486207, "comment_id": 99562598, "body": "Also take a look of your hierarchy, it seems that <code>textField.superview?.superview?.superview </code> is not your NSTableView"}, {"owner": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "reply_to_user": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559864687, "post_id": 56486207, "comment_id": 99562608, "body": "Because you can create and add unlimited number of custom cells in my table, so creating an outlet out of each of the text field won&#39;t help because it won&#39;t know in which row it exists."}, {"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 1, "creation_date": 1559864805, "post_id": 56486207, "comment_id": 99562632, "body": "I suggested to register the <code>NSTableView</code> as an outlet, not the textfields.  e.g. <code>IBoutlet myTableView: NSTableView!</code> then you do <code>num = myTableView.row(for: textField.superview!)  </code>"}, {"owner": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "reply_to_user": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559864966, "post_id": 56486207, "comment_id": 99562655, "body": "Thank you for trying to help, but how would that work if I have multiple custom cells with three text fields in each of them? if you have an answer that works please post it as an answer so I can accept it."}, {"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559865047, "post_id": 56486207, "comment_id": 99562671, "body": "first you should post more code, such as your custom cell code, and nstableview delegate implementation for instance"}, {"owner": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "reply_to_user": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559865828, "post_id": 56486207, "comment_id": 99562784, "body": "I did it, I hope it helps"}, {"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559866716, "post_id": 56486207, "comment_id": 99562925, "body": "did you implement <code>NSTextFieldDelegate</code> ?"}, {"owner": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "reply_to_user": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "edited": false, "score": 0, "creation_date": 1559866797, "post_id": 56486207, "comment_id": 99562936, "body": "No, and I am not sure how to do so. I am new to Cocoa. I&#39;d really appreciate your help."}, {"owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "reply_to_user": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "edited": false, "score": 0, "creation_date": 1559866819, "post_id": 56486207, "comment_id": 99562938, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/194563/discussion-between-olympiloutre-and-fady-e\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1817, "user_id": 5464805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/y0MdL.png?s=128&g=1", "display_name": "Olympiloutre", "link": "https://stackoverflow.com/users/5464805/olympiloutre"}, "is_accepted": true, "score": 1, "last_activity_date": 1559872108, "creation_date": 1559872108, "answer_id": 56487021, "question_id": 56486207, "link": "https://stackoverflow.com/questions/56486207/how-to-convert-nsview-to-nstableview-in-objective-c/56487021#56487021", "title": "How to convert NSView to NSTableView in Objective-C", "body": "<p>Totally forgot the syntax of <code>Objective C</code> but here is how you can achieve this in <code>Swift</code> for iOS. </p>\n\n<p><strong>Disclaimer :</strong> I am well aware that there are many differences between iOS and MacOS development, however this is a showcase on \"how to organise your code to achieve this specific task\". Even if it is not copy/pastable, not even tested, the method employed remain the same. </p>\n\n<p>Lets say you have your <code>class Person</code>: </p>\n\n<pre><code>class Person {\n    var title: String = \"\"\n    var name: String = \"\"\n    var surname: String = \"\"\n}\n</code></pre>\n\n<p>You can add an array of <code>Person</code> in your ViewController.\nThis array is bound to your tableView datasource and therefore the <code>Person</code> instances within it are displayed in your TableView</p>\n\n<pre><code>class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource {\n\n    var personArray: [Person] = []\n\n    // MARK:- TableViewDelegate\n    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {\n        return personArray.count\n    }\n\n    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {\n        let cell = tableView.dequeueReusableCell(withIdentifier: \"CellIdentifier\", for: indexPath) as! CustomCell\n        cell.person = personArray[indexPath.row] // - 1\n        return cell\n    }\n}\n</code></pre>\n\n<p>As you can notice, the cell now contains a new reference <code>person</code> to the associated person you want to display/edit. \nSee <code>CustomCell</code> implementation below : </p>\n\n<pre><code>class CustomCell: UITableViewCell, UITextFieldDelegate {\n\n    weak var person: Person? { // the reference to the associated person\n        didSet {\n            // when Person is set, we update the fields \n            titleTextField.text = person?.title ?? \"\"\n            nameTextField.text = person?.name ?? \"\"\n            surnameTextField.text = person?.surname ?? \"\"\n        }\n    }\n\n    @IBOutlet weak var titleTextField: UITextField!\n    @IBOutlet weak var nameTextField: UITextField!\n    @IBOutlet weak var surnameTextField: UITextField!\n\n\n    override func awakeFromNib() {\n        super.awakeFromNib()\n\n        // Add action when textField text change \n        titleTextField.addTarget(self, action: #selector(textFieldDidChange(textField:)), for: .editingChanged)\n        nameTextField.addTarget(self, action: #selector(textFieldDidChange(textField:)), for: .editingChanged)\n        surnameTextField.addTarget(self, action: #selector(textFieldDidChange(textField:)), for: .editingChanged)\n    }\n\n    @objc func textFieldDidChange(textField: UITextField){\n\n        // switch on the textField to see which info should be edited \n        switch textField {\n            case titleTextField:\n                person?.title = titleTextField.text ?? \"\"\n            case nameTextField:\n                person?.name = nameTextField.text ?? \"\"\n            case surnameTextField:\n                person?.surname = surnameTextField.text ?? \"\"\n            default: break\n        }\n    }\n}\n</code></pre>\n\n<p>Doing so, your modification of <code>Person</code> are handled in the associated <code>CustomCell</code>. \nWhen the tableview is reloaded, it will keep the datas that you already entered\nWhen you edit the TextField, it will change the <code>person</code> and considering it is a reference, you will see the difference in your <code>personArray</code> on the main VC</p>\n\n<hr>\n\n<p>Once again it is not copy/pastable and should be considered as <strong>pseudo-code</strong> </p>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "is_accepted": false, "score": 1, "last_activity_date": 1560187407, "creation_date": 1560187407, "answer_id": 56530874, "question_id": 56486207, "link": "https://stackoverflow.com/questions/56486207/how-to-convert-nsview-to-nstableview-in-objective-c/56530874#56530874", "title": "How to convert NSView to NSTableView in Objective-C", "body": "<p>Just for reference, I found out how you can get the selected row in a custom cell table view:</p>\n\n<pre><code>- (IBAction)name:(id)sender {\n    NSInteger num = [_viewTableView selectedRow];\n    NSLog(@\"thisTable selectedRow %ld\", (long)num);\n}\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 11172473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uL5pF.jpg?s=128&g=1", "display_name": "Fady E", "link": "https://stackoverflow.com/users/11172473/fady-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 56487021, "answer_count": 2, "score": 2, "last_activity_date": 1560187407, "creation_date": 1559863314, "last_edit_date": 1559873245, "question_id": 56486207, "link": "https://stackoverflow.com/questions/56486207/how-to-convert-nsview-to-nstableview-in-objective-c", "title": "How to convert NSView to NSTableView in Objective-C", "body": "<p>I have an NSTableView that has multiple objects of a custom NSTableViewCell.\nEach NSTableViewCell object has three NSTextFields.\nI want to send the inputed text in each of the NSFields and assign it to a String variable.\nThe problem is that I need to get the superview object in order to determine the selectedRow in which that custom NSTableViewCell exists.</p>\n\n<p>something would maybe look like this in Swift:</p>\n\n<pre><code>let textField = sender as! NStextField\nlet myView = textField.superview?.superview?.superview as! NSTableView\nlet num = myView.row(for: textField.superview!)\n</code></pre>\n\n<p>I tried this for one of the NSTextField:</p>\n\n<pre><code>- (IBAction)setValue:(id)sender {\n    NSTableView *thisTable = self.cell.superview.superview.superview.superview;\n    NSInteger num = [thisTable selectedRow];  \n}\n</code></pre>\n\n<p>It didn't work and also I'm getting this warning:</p>\n\n<blockquote>\n  <p>Incompatible pointer types initializing 'NSTableView *' with an\n  expression of type 'NSView * _Nullable'</p>\n</blockquote>\n\n<p>My CustomCell class is a simple Class just to draw the cell.</p>\n\n<pre><code>@implementation CustomCell\n- (id)init {\n    self = [super init];\n\n    if(self != nil) {\n        _cellTitle;\n        _cellBackLight;\n        _cellTime;\n\n    }\n    return self;\n}\n\n- (void)drawRect:(NSRect)dirtyRect { \n    [super drawRect:dirtyRect];\n}\n</code></pre>\n\n<p>The .h file:</p>\n\n<pre><code>@interface CustomCell : NSTableCellView\n@property NSString *cellTitle;\n@property double cellValue;\n@property int cellTime;\n@property (strong) IBOutlet NSTextField *titleField;\n@property (strong) IBOutlet NSTextField *valueField;\n@property (strong) IBOutlet NSTextField *durationField; \n//All outlets are linked from Storyboard to the CustomCell class.\n@end\n</code></pre>\n\n<p>The tableView delegate:</p>\n\n<pre><code>- (id)tableView:(NSTableView *)viewTableView viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)rowIndex {\n    NSTableCellView *cell = [viewTableView makeViewWithIdentifier:tableColumn.identifier owner:self];\n\n    cell = [viewTableView makeViewWithIdentifier:@\"MainCell\" owner:self];\n    return cell;\n}\n</code></pre>\n\n<hr>\n\n<p>What I am trying to achieve : \n<a href=\"https://i.stack.imgur.com/8aGLe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8aGLe.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "iphone", "notifications", "presentviewcontroller"], "comments": [{"owner": {"reputation": 3215, "user_id": 5208764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATFR7.jpg?s=128&g=1", "display_name": "Sangram Shivankar", "link": "https://stackoverflow.com/users/5208764/sangram-shivankar"}, "edited": false, "score": 0, "creation_date": 1559828571, "post_id": 56478405, "comment_id": 99548221, "body": "have you added remove observer code for your all notifications"}, {"owner": {"reputation": 3999, "user_id": 397636, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/8ff28f76fb49572ef951f2ecee07e506?s=128&d=identicon&r=PG", "display_name": "Mitesh Khatri", "link": "https://stackoverflow.com/users/397636/mitesh-khatri"}, "reply_to_user": {"reputation": 3215, "user_id": 5208764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ATFR7.jpg?s=128&g=1", "display_name": "Sangram Shivankar", "link": "https://stackoverflow.com/users/5208764/sangram-shivankar"}, "edited": false, "score": 0, "creation_date": 1559829818, "post_id": 56478405, "comment_id": 99548998, "body": "No, If I remove then how it will call from another view?"}, {"owner": {"reputation": 3388, "user_id": 2229783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eXE2L.jpg?s=128&g=1", "display_name": "Roman Podymov", "link": "https://stackoverflow.com/users/2229783/roman-podymov"}, "edited": false, "score": 0, "creation_date": 1559848771, "post_id": 56478405, "comment_id": 99557883, "body": "This code works fine on my mac. Could you please provide the implementation of <code>UpdateAthleteDictionaryNotification</code>? How do you modify <code>self.dictProfile</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 3292503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5568d7517e2f8ca5314fa8277b2c43b?s=128&d=identicon&r=PG&f=1", "display_name": "Perversio", "link": "https://stackoverflow.com/users/3292503/perversio"}, "is_accepted": true, "score": 1, "last_activity_date": 1559837983, "creation_date": 1559837983, "answer_id": 56481556, "question_id": 56478405, "link": "https://stackoverflow.com/questions/56478405/notification-does-not-work-in-presentviewcontroller-objective-c/56481556#56481556", "title": "Notification does not work in Presentviewcontroller objective-c", "body": "<p>NSNotificationCenter will deliver your notification only in case if name and object are the same (<a href=\"https://developer.apple.com/documentation/foundation/nsnotificationcenter/1415360-addobserver?language=objc\" rel=\"nofollow noreferrer\">source</a>).\nIf you want to receive notifications with any object attached you should pass nil as an object argument, in your case:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(UpdateAthleteDictionaryNotification:) name:@\"UpdateAthleteDictionary\" object:nil];\n</code></pre>\n"}], "owner": {"reputation": 3999, "user_id": 397636, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/8ff28f76fb49572ef951f2ecee07e506?s=128&d=identicon&r=PG", "display_name": "Mitesh Khatri", "link": "https://stackoverflow.com/users/397636/mitesh-khatri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 1, "accepted_answer_id": 56481556, "answer_count": 1, "score": 1, "last_activity_date": 1559837983, "creation_date": 1559826898, "question_id": 56478405, "link": "https://stackoverflow.com/questions/56478405/notification-does-not-work-in-presentviewcontroller-objective-c", "title": "Notification does not work in Presentviewcontroller objective-c", "body": "<p>I am displaying a <code>UIAlertController</code> when I receive a response from API. After the response, I want to call the notification of other view controller.</p>\n\n<p>I added observer in view controller 1 as below:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(UpdateAthleteDictionaryNotification:) name:@\"UpdateAthleteDictionary\" object:self.dictProfile];\n</code></pre>\n\n<p>In view controller 2 my code is below:</p>\n\n<pre><code>UIAlertController * alert = [UIAlertController\n                                 alertControllerWithTitle:applicationName\n                                 message:[jsonObject valueForKey:@\"responseMessage\"]\n                                 preferredStyle:UIAlertControllerStyleAlert];\n    UIAlertAction* yesButton = [UIAlertAction\n                                actionWithTitle:@\"Ok\"\n                                style:UIAlertActionStyleDefault\n                                handler:^(UIAlertAction * action) {\n                                    dispatch_async(dispatch_get_main_queue(), ^{\n                                        [[NSNotificationCenter defaultCenter] postNotificationName:@\"UpdateAthleteDictionary\" object:self.dictProfile];\n                                    });\n                                    [self.navigationController popViewControllerAnimated:YES];\n                                }];\n    [alert addAction:yesButton];\n    [self presentViewController:alert animated:YES completion:nil];\n</code></pre>\n\n<p>But it does not call. So please can you suggest me the solutions.</p>\n"}, {"tags": ["ios", "arrays", "objective-c", "search", "binary-search"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559849285, "post_id": 56478164, "comment_id": 99558105, "body": "Any error message when it crashes?"}, {"owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559902836, "post_id": 56478164, "comment_id": 99573679, "body": "unrecognized selector sent to instance.."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559902916, "post_id": 56478164, "comment_id": 99573722, "body": "Full error message? Because that\u2019s a known error and it gives more usefull infos"}, {"owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559903174, "post_id": 56478164, "comment_id": 99573854, "body": "[__NSCFString objectForKeyedSubscript:]: unrecognized selector sent to instance 0x600001cfaf00"}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559903322, "post_id": 56478164, "comment_id": 99573930, "body": "It means that at one point obj2 was a NSString and not a NSDictionnary. Could you print the values and check when it fails?"}, {"owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559903906, "post_id": 56478164, "comment_id": 99574184, "body": "I already spend many hours, when exactly there is &gt;256 item in array(which came from server) it gives string in obj1 in 2nd loop always. but when under 256 items it never crash. I&#39;ve many apps which run this code in and all are live."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559905189, "post_id": 56478164, "comment_id": 99574768, "body": "From what I understand, at 256, the items obj1 and obj2 can be inversed (and it&#39;s not necessary obj1 the dict, and obj2 the string). It would need a search on how it&#39;s implemented."}, {"owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1560244669, "post_id": 56478164, "comment_id": 99662450, "body": "Another bug from apple :("}], "answers": [{"comments": [{"owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "edited": false, "score": 0, "creation_date": 1559903060, "post_id": 56489363, "comment_id": 99573794, "body": "Your code works, but I already updated my code with predicate, Thanks man, but my real question is not the solution, why above code is work for 256 element and not for above 256 element."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "reply_to_user": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "edited": false, "score": 0, "creation_date": 1559913686, "post_id": 56489363, "comment_id": 99579171, "body": "My guess is that the binary search is using different algorithms depending on the number of elements. Maybe it actually does a linear search for small sets? So, depending on exactly what it does, it will pass parameters differently. In any case you should keep the parameters consistent."}, {"owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "edited": false, "score": 0, "creation_date": 1560244677, "post_id": 56489363, "comment_id": 99662457, "body": "Another bug from apple"}], "tags": [], "owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "is_accepted": false, "score": 1, "last_activity_date": 1559890951, "last_edit_date": 1559890951, "creation_date": 1559890588, "answer_id": 56489363, "question_id": 56478164, "link": "https://stackoverflow.com/questions/56478164/ios-binary-search-code-crash-above-256-items/56489363#56489363", "title": "iOS binary search code crash above 256 items", "body": "<p>The problem is that your comparison object is of a different type than your array elements. If you type the array properly as <code>NSArray&lt;NSDictionary *&gt; *</code> you get a warning saying that parameter <code>indexOfObject</code> should be of type <code>NSDictionary *</code>.</p>\n\n<p>Furthermore, you cannot rely on the <code>artist</code> object always is passed as <code>obj2</code> to the comparison function. The documentation does not say anything about this, so you should assume that it can be passed as <code>obj1</code> sometimes and <code>obj2</code> other times.</p>\n\n<p>To solve it you can embed the <code>artist</code> in a dictionary to make it the same format as an array element like this <code>@{ _artist_thumb: artist }</code>. Then you retrieve the name from <em>both</em> parameters the same way.</p>\n\n<pre><code>NSRange searchRange = NSMakeRange(0, artistThumbnail.count);\nindex = [artistThumbnail indexOfObject:@{ _artist_thumb: artist }\n                                    inSortedRange:searchRange\n                                          options:NSBinarySearchingLastEqual\n                                  usingComparator:^NSComparisonResult(id  _Nonnull obj1, id  _Nonnull obj2) {\n    NSString *artistName = ((NSDictionary *)obj2)[_artist_thumb];\n    NSDictionary *artistThumbnail = (NSDictionary *)obj1;\n    NSString *artistToCompare = artistThumbnail[_artist_thumb];\n    NSComparisonResult result = [artistToCompare compare:artistName];\n    return result;\n}];\n</code></pre>\n"}], "owner": {"reputation": 835, "user_id": 5087646, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44422a0d183a3653ce2558204cae4786?s=128&d=identicon&r=PG", "display_name": "Nicky", "link": "https://stackoverflow.com/users/5087646/nicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559890951, "creation_date": 1559826053, "last_edit_date": 1559836606, "question_id": 56478164, "link": "https://stackoverflow.com/questions/56478164/ios-binary-search-code-crash-above-256-items", "title": "iOS binary search code crash above 256 items", "body": "<p>I've used iOS default code to search string in custom dictionary object which exist in array, Means array of dictionary items.</p>\n\n<pre><code>NSRange searchRange = NSMakeRange(0, artistThumbnail.count);\nindex = [artistThumbnail indexOfObject:artist\n                         inSortedRange:searchRange\n                               options:NSBinarySearchingLastEqual\n                       usingComparator:^NSComparisonResult(id  _Nonnull obj1, id  _Nonnull obj2) {\n    NSString *artistName = (NSString *)obj2;\n    NSDictionary *artistThumbnail = (NSDictionary *)obj1;\n    NSString *artistToCompare = artistThumbnail[_artist_thumb];\n    NSComparisonResult result = [artistToCompare compare:artistName];\n    return result;\n}];\n</code></pre>\n\n<p>When I used same code with less then equal to 256 objects code work fine no crash, both <code>Obj1</code> and <code>Obj2</code> have the dictionary object, but when array have >256 items then it crash and I've noticed that obj1 and obj2 not the same as the previously always come in <code>NSDictionary</code> format.</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 3, "creation_date": 1559822145, "post_id": 56476411, "comment_id": 99544380, "body": "Read how declare method with multiple args in Objective-C"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1559827421, "post_id": 56476411, "comment_id": 99547424, "body": "See <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/DefiningClasses/DefiningClasses.html#//apple_ref/doc/uid/TP40011210-CH3-SW8\" rel=\"nofollow noreferrer\">Method Declarations Indicate the Messages an Object Can Receive</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17917, "user_id": 644348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a3ee687cfd85fb389264e74a5e6557a?s=128&d=identicon&r=PG", "display_name": "Monolo", "link": "https://stackoverflow.com/users/644348/monolo"}, "reply_to_user": {"reputation": 3, "user_id": 11608626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afca6f64a9b518b6a2d723dfb253beb9?s=128&d=identicon&r=PG&f=1", "display_name": "bluestone", "link": "https://stackoverflow.com/users/11608626/bluestone"}, "edited": false, "score": 0, "creation_date": 1559844202, "post_id": 56481035, "comment_id": 99556066, "body": "@bluestone Yes, that is correct. In case you wonder about the now slightly odd format of a method call: It comes from the language Smalltalk, which was the hottest object-oriented language in the early 80s."}, {"owner": {"reputation": 3, "user_id": 11608626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afca6f64a9b518b6a2d723dfb253beb9?s=128&d=identicon&r=PG&f=1", "display_name": "bluestone", "link": "https://stackoverflow.com/users/11608626/bluestone"}, "edited": false, "score": 0, "creation_date": 1559844428, "post_id": 56481035, "comment_id": 99556167, "body": "So alice and data are both input parameters? But why alice is written in the middle of the method name?  This method is equivalent to     - (void)alice:didReceiveData: (Alice*)alice (Data*)data {     //...} , where I put all input parameters after the name of the method?"}, {"owner": {"reputation": 17917, "user_id": 644348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a3ee687cfd85fb389264e74a5e6557a?s=128&d=identicon&r=PG", "display_name": "Monolo", "link": "https://stackoverflow.com/users/644348/monolo"}, "reply_to_user": {"reputation": 3, "user_id": 11608626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afca6f64a9b518b6a2d723dfb253beb9?s=128&d=identicon&r=PG&f=1", "display_name": "bluestone", "link": "https://stackoverflow.com/users/11608626/bluestone"}, "edited": false, "score": 0, "creation_date": 1559844716, "post_id": 56481035, "comment_id": 99556287, "body": "No, the normal Objective-C (and Smalltalk) method format requires you to have the input parameters mixed in with the method name. And convention dictates the use camel-case as well to help with readability."}, {"owner": {"reputation": 3, "user_id": 11608626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afca6f64a9b518b6a2d723dfb253beb9?s=128&d=identicon&r=PG&f=1", "display_name": "bluestone", "link": "https://stackoverflow.com/users/11608626/bluestone"}, "edited": false, "score": 0, "creation_date": 1560192240, "post_id": 56481035, "comment_id": 99647014, "body": "Thanks for all your replies!"}], "tags": [], "owner": {"reputation": 17917, "user_id": 644348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3a3ee687cfd85fb389264e74a5e6557a?s=128&d=identicon&r=PG", "display_name": "Monolo", "link": "https://stackoverflow.com/users/644348/monolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1559835899, "creation_date": 1559835899, "answer_id": 56481035, "question_id": 56476411, "link": "https://stackoverflow.com/questions/56476411/implementation-of-a-method-looking-like-2-methods-put-together/56481035#56481035", "title": "implementation of a method looking like 2 methods put together", "body": "<p>Objective-C is based on C, and as such whitespace (space, tabs, newlines) does not have any meaning except separation of language elements for parsing and readability. Hence, you can use newlines in any place where you can also use a space. </p>\n\n<pre><code>- (void)alice:(Alice*)alice\n  didReceiveData:(Data*)data {\n  //...\n}\n</code></pre>\n\n<p>can also be written as:</p>\n\n<pre><code>- (void)alice:(Alice*)alice didReceiveData:(Data*)data {\n  //...\n}\n</code></pre>\n\n<p>This last form lets you see the method name, which is: <code>alice:didReceiveData:</code></p>\n"}], "owner": {"reputation": 3, "user_id": 11608626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afca6f64a9b518b6a2d723dfb253beb9?s=128&d=identicon&r=PG&f=1", "display_name": "bluestone", "link": "https://stackoverflow.com/users/11608626/bluestone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1559836970, "accepted_answer_id": 56481035, "answer_count": 1, "score": 0, "last_activity_date": 1559837047, "creation_date": 1559819617, "last_edit_date": 1559837047, "question_id": 56476411, "link": "https://stackoverflow.com/questions/56476411/implementation-of-a-method-looking-like-2-methods-put-together", "closed_reason": "Duplicate", "title": "implementation of a method looking like 2 methods put together", "body": "<p>I don't understand the implementation of the method in CODE 1.</p>\n\n<pre><code>//CODE 1\n@implementation Tom\n- (void)alice:(Alice*)alice\n  didReceiveData:(Data*)data {\n  //...\n}\n@end\n</code></pre>\n\n<p>It seems to me that I have 2 methods like:</p>\n\n<pre><code>- (out1)method1:in1\nmethod2:in2{\n//...\n}\n</code></pre>\n\n<p>What is the meaning of this syntax?</p>\n\n<p>The documentation says <code>didReceiveData</code> is called every time Tom receive data and on that occasion Tom receives a reference to Alice too.\nSo I would expect something like CODE 2.</p>\n\n<pre><code>//CODE 2\n@implementation Tom\n- (void)didReceiveData:(Data*)data,(Alice*)alice{\n   //...\n}\n@end\n</code></pre>\n\n<p>What is the meaning of CODE 1?</p>\n"}, {"tags": ["objective-c", "healthkit", "watchos"], "comments": [{"owner": {"reputation": 2178, "user_id": 1702602, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fc4c977780c29586477ac8fb3b559c53?s=128&d=identicon&r=PG", "display_name": "TmKVU", "link": "https://stackoverflow.com/users/1702602/tmkvu"}, "edited": false, "score": 0, "creation_date": 1559815687, "post_id": 56475302, "comment_id": 99540972, "body": "Please show what you have tried by posting some code."}, {"owner": {"reputation": 17775, "user_id": 779527, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7imcr.png?s=128&g=1", "display_name": "Scriptable", "link": "https://stackoverflow.com/users/779527/scriptable"}, "edited": false, "score": 0, "creation_date": 1559818916, "post_id": 56475302, "comment_id": 99542647, "body": "So your logging activity but don&#39;t want that activity to count towards daily goals?"}, {"owner": {"reputation": 1, "user_id": 11608369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d4071cdabddde1e7f9378d9289d0a8?s=128&d=identicon&r=PG&f=1", "display_name": "Halina", "link": "https://stackoverflow.com/users/11608369/halina"}, "edited": false, "score": 0, "creation_date": 1559820080, "post_id": 56475302, "comment_id": 99543294, "body": "No, im just want to get heart rate without filling activity ring. To do this, i&#39;m starting workout session. I heard something about not storing data to healthkit after workout is complete, but im not sure ("}, {"owner": {"reputation": 31, "user_id": 8174191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1xd1Wf7wCU/AAAAAAAAAAI/AAAAAAAAJmc/P0Tb8L1-yZU/photo.jpg?sz=128", "display_name": "Aaron DeLory", "link": "https://stackoverflow.com/users/8174191/aaron-delory"}, "edited": false, "score": 0, "creation_date": 1602291950, "post_id": 56475302, "comment_id": 113683421, "body": "Pause the workout session as soon as it is started. <a href=\"https://stackoverflow.com/a/64288974/8174191\">stackoverflow.com/a/64288974/8174191</a>"}], "owner": {"reputation": 1, "user_id": 11608369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d4071cdabddde1e7f9378d9289d0a8?s=128&d=identicon&r=PG&f=1", "display_name": "Halina", "link": "https://stackoverflow.com/users/11608369/halina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559836448, "creation_date": 1559815414, "last_edit_date": 1559836448, "question_id": 56475302, "link": "https://stackoverflow.com/questions/56475302/how-not-to-fill-the-activity-rings-using-workout-session-in-watchos", "title": "How not to fill the activity rings, using workout session in WatchOS", "body": "<p>My task is to get data on the pulse in realtime. For this, I save the data in HealthKit using the workout session type \u201cother\u201d..\nThe problem is that when using this and other tested types of workout sessions, such as yoga, running and so on, the activity rings are filled.\nHow to get rid of it? Please help me, this problem keeps me awake.</p>\n\n<p>All types of workout sessions\ntried to not store data to HealthKit after session complete</p>\n\n<pre><code>HKWorkoutConfiguration *config = [HKWorkoutConfiguration new];\nconfig.activityType = HKWorkoutActivityTypeOther;\nconfig.locationType = HKWorkoutSessionLocationTypeIndoor;\nHKWorkoutSession *wSession = [[HKWorkoutSession alloc] initWithConfiguration:config error:&amp;error];\n[self.healthStore startWorkoutSession:wSession];\n\n[self.healthStore endWorkoutSession:self.workoutSession];\n</code></pre>\n"}, {"tags": ["objective-c", "xcode", "parse-server"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11214299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WvsspELBhQ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdd-M-IyARVLW_zxHt_rItt72SoBw/mo/photo.jpg?sz=128", "display_name": "Noabegh Dev", "link": "https://stackoverflow.com/users/11214299/noabegh-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1559818162, "creation_date": 1559818162, "answer_id": 56476059, "question_id": 56471477, "link": "https://stackoverflow.com/questions/56471477/retrieving-pdf-data-from-parse-database/56476059#56476059", "title": "Retrieving PDF Data from parse database", "body": "<p>I Figured it out. The solution was to switch the WKWebview into a UIWebview and it worked perfectly! </p>\n\n<pre><code>[file2 getDataInBackgroundWithBlock:^(NSData *data, NSError *error) {\nif (!error) {\n\n\n    NSString *urlString = [[NSString alloc] initWithData:data encoding:NSUTF16StringEncoding];\n    NSURL *url = [NSURL URLWithString:urlString];\n\n    [self-&gt;_webview loadData:data MIMEType:@\"application/pdf\" textEncodingName:urlString baseURL:url];\n\n\n\n\n}else{\n    NSLog(@\"ERROR OCCURED %@\",error);\n}\n</code></pre>\n\n<p>}];</p>\n"}], "owner": {"reputation": 1, "user_id": 11214299, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WvsspELBhQ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdd-M-IyARVLW_zxHt_rItt72SoBw/mo/photo.jpg?sz=128", "display_name": "Noabegh Dev", "link": "https://stackoverflow.com/users/11214299/noabegh-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559818162, "creation_date": 1559799739, "last_edit_date": 1559802661, "question_id": 56471477, "link": "https://stackoverflow.com/questions/56471477/retrieving-pdf-data-from-parse-database", "title": "Retrieving PDF Data from parse database", "body": "<p>I am trying to retrieve a PDF file I've uploaded to my database using Parse-Server. I've already uploaded the file successfully and I checked that it was actually in the database but I can't seem to download it/retrieve it in my app and viewing it in a <code>WKWebview</code>. The url is always equal to nil. how can I make the url equal to the PDF file I am trying to retrieve from the database.</p>\n\n<p>I've already tried : <code>NSURL *url = [NSURL fileURLWithPath:urlString];</code></p>\n\n<p>but it wont load in the WKWebview</p>\n\n<pre><code>        [file2 getDataInBackgroundWithBlock:^(NSData *data, NSError *error) {\n            if (!error) {\n\n                NSString *urlString = [[NSString alloc] initWithData:data encoding:NSUTF16StringEncoding];\n                 NSURL *url = [NSURL URLWithString:urlString];\n\n\n                NSURLRequest *request = [NSURLRequest requestWithURL:url];\n                NSLog(@\"REQUEST IS : %@\",request);\n                [self-&gt;_webview loadRequest:request];\n\n\n\n\n            }else{\n                NSLog(@\"ERROR OCCURRED %@\",error);\n            }\n        }];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone", "uitableview", "uibutton"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1559829059, "post_id": 56471089, "comment_id": 99548520, "body": "Cells are reused. You do a <code>if (...) else if (...) {} ...</code>, you need to set the hidden property for each ones in each conditions. Add also an <code>else {}</code> at the end."}], "answers": [{"comments": [{"owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "edited": false, "score": 0, "creation_date": 1559804299, "post_id": 56471281, "comment_id": 99535326, "body": "i am trying this but how to handle button actions in this as i have to put 4 buttons inside a column and i have to create 5 columns inside a tableview cell do you have any code example to handle actions inside tableviewcell"}, {"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "reply_to_user": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "edited": false, "score": 0, "creation_date": 1559805011, "post_id": 56471281, "comment_id": 99535653, "body": "Ya. I already handle these type of things in myProject. Right now I am unable to share the code. So give btn.tag = indexpath.row; then you can get the answer."}], "tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": false, "score": 1, "last_activity_date": 1559798343, "creation_date": 1559798343, "answer_id": 56471281, "question_id": 56471089, "link": "https://stackoverflow.com/questions/56471089/items-in-uitableviewcell-changes-its-position-while-scrolling-upside-and-downsid/56471281#56471281", "title": "Items in UITableViewCell changes its position while scrolling upside and downside", "body": "<p>Your cell is dynamic cell, means some times subviews of table view cells are hidden. At that time tags not working. You are facing problem with your approach. At this time you need to take a separate class to tableview cell. Give outlets labels and other subviews. Access this cell class in \"cellForRowAtIndex\" method. </p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 3292503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5568d7517e2f8ca5314fa8277b2c43b?s=128&d=identicon&r=PG&f=1", "display_name": "Perversio", "link": "https://stackoverflow.com/users/3292503/perversio"}, "is_accepted": false, "score": 1, "last_activity_date": 1559840458, "creation_date": 1559840458, "answer_id": 56482079, "question_id": 56471089, "link": "https://stackoverflow.com/questions/56471089/items-in-uitableviewcell-changes-its-position-while-scrolling-upside-and-downsid/56482079#56482079", "title": "Items in UITableViewCell changes its position while scrolling upside and downside", "body": "<p>First you are getting the button with specific tag</p>\n\n<pre><code>tickButton1 = (UIButton *)[cell viewWithTag:131];\n</code></pre>\n\n<p>Then you are rewriting button's tag to an indexPath.row</p>\n\n<pre><code>tickButton1.tag = indexPath.row;\n</code></pre>\n\n<p>When cell is being reused you can't get the button again, since its tag is now different. Try assingning your indexPath.row to a cell and then getting it back from sender.superview.tag</p>\n\n<pre><code>    if (!cell){\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@\"SimpleTableItem\"];\n    }\n    cell.tag = indexPath.row;\n\n- (void) ShowRSVP:(UIButton*) sender{\n    NSInteger originalTag = sender.superview.tag;\n    //Do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 2034, "user_id": 6434278, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/TVaJ7.jpg?s=128&g=1", "display_name": "Abhinandan Pratap", "link": "https://stackoverflow.com/users/6434278/abhinandan-pratap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561615641, "creation_date": 1559797021, "last_edit_date": 1561615641, "question_id": 56471089, "link": "https://stackoverflow.com/questions/56471089/items-in-uitableviewcell-changes-its-position-while-scrolling-upside-and-downsid", "title": "Items in UITableViewCell changes its position while scrolling upside and downside", "body": "<p>I am using <code>UITableView</code> to display elements of an <code>array</code>. In <code>UITableViewCell</code> i used a number of <code>UILabels</code> and <code>UIButtons</code> to perform actions. Everything displayed well but the problem arise when i try to <code>scroll</code> the <code>TableView</code> as when i start scrolling each time some <code>Images</code> n <code>Labels</code> changes their index position. This is first time i am facing this type of issue. I also gone through many Solutions on SO but the issue remains same.</p>\n\n<p>I am sharing my code:</p>\n\n<pre><code>    -(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n    {\n        static NSString *simpleTableIdentifier = @\"SimpleTableItem\";\n        UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];\n        if (cell == nil)\n        {\n            cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@\"SimpleTableItem\"];\n        }\n        cell.textLabel.lineBreakMode = NSLineBreakByWordWrapping;\n\n        NSString* fromDate = [[eventArray objectAtIndex:indexPath.row]valueForKey:@\"StartDateTime1\"];\n\n        UILabel * nameLbl = (UILabel *)[cell viewWithTag:101];\n        nameLbl.text = fromDate;\n\n     //First Column\n\n        NSString* titleStr = [[eventArray objectAtIndex:indexPath.row]valueForKey:@\"Name1\"];\n        //NSLog(@\"%@\",spk_about);\n        UILabel * spk_aboutLbl = (UILabel *)[cell viewWithTag:102];\n        spk_aboutLbl.text = titleStr;\n\n\n        NSString* Description = [[eventArray objectAtIndex:indexPath.row]valueForKey:@\"Description1\"];\n        NSLog(@\"%@\",Description);\n        UILabel * DescriptionLbl = (UILabel *)[cell viewWithTag:103];\n        DescriptionLbl.text = Description;\n\n        NSString* ID = [[eventArray objectAtIndex:indexPath.row]valueForKey:@\"ID1\"];\n        //NSLog(@\"-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=%@\",compStr);\n        UILabel * IDStrLbl = (UILabel *)[cell viewWithTag:104];\n        IDStrLbl.text = ID;\n\n\n        NSString * eventStatus = [[eventArray objectAtIndex:indexPath.row]valueForKey:@\"Status1\"];\n        NSLog(@\"eventStatus is ..................................................%@\",eventStatus);\n        UILabel * eventStatusLbl = (UILabel *)[cell viewWithTag:113];\n        eventStatusLbl.text = eventStatus;\n\n\n        rsvpbtn = (UIButton *)[cell viewWithTag:111];\n        [rsvpbtn addTarget:self action:@selector(ShowRSVP:) forControlEvents:UIControlEventTouchUpInside];\n        [rsvpbtn setTintColor:[UIColor blackColor]];\n        rsvpbtn.tag = indexPath.row;\n\n\n        mapButton = (UIButton *)[cell viewWithTag:112];\n        [mapButton addTarget:self action:@selector(ShowMap:) forControlEvents:UIControlEventTouchUpInside];\n        [mapButton setTintColor:[UIColor blackColor]];\n        mapButton.tag = indexPath.row;\n\n        //131\n        tickButton1 = (UIButton *)[cell viewWithTag:131];\n        [tickButton1 addTarget:self action:@selector(tickDetail1:) forControlEvents:UIControlEventTouchUpInside];\n        [tickButton1 setTintColor:[UIColor blackColor]];\n        tickButton1.tag = indexPath.row;\n\n        if ([eventStatus isEqualToString:@\"0\"])\n        {\n            rsvpbtn.hidden = true;\n            tickButton2.hidden = true;\n        }\n        else if ([eventStatus isEqualToString:@\"1\"])\n        {\n            tickButton1.hidden = true;\n            rsvpbtn.hidden = false;\n        }\n        else if ([eventStatus isEqualToString:@\"2\"])\n        {\n            rsvpbtn.hidden = true;\n            tickButton1.hidden = false;\n        }\n        else if ([eventStatus isEqualToString:@\"\"])\n        {\n            rsvpbtn.hidden = true;\n            mapButton.hidden = true;\n            tickButton1.hidden = true;\n        }\n\n        return cell;\n    }\n</code></pre>\n\n<p>my <code>JSON</code> <code>Array</code> response is:</p>\n\n<pre><code>{\n            \"ID1\": \"11\",\n            \"Name1\": \"Registration\",\n            \"Description1\": \"\",\n            \"StartDateTime1\": \"8:00 AM\",\n            \"EndDateTime1\": \"8:30 AM\",\n            \"AgendaMapLink1\": \"\",\n            \"Capacity1\": \"\",\n            \"AgendaMap1\": \"\",\n            \"RSVP1\": \"\",\n            \"TotalGuest1\": \"1\",\n            \"Status1\": \"2\",\n            \"ID2\": \"\",\n            \"Name2\": \"\",\n            \"Description2\": \"\",\n            \"StartDateTime2\": \"\",\n            \"EndDateTime2\": \"\",\n            \"AgendaMapLink2\": \"\",\n            \"Capacity2\": \"\",\n            \"AgendaMap2\": \"\",\n            \"RSVP2\": \"\",\n            \"TotalGuest2\": \"\",\n            \"Status2\": \"\",\n            \"ID3\": \"\",\n            \"Name3\": \"\",\n            \"Description3\": \"\",\n            \"StartDateTime3\": \"\",\n            \"EndDateTime3\": \"\",\n            \"AgendaMapLink3\": \"\",\n            \"Capacity3\": \"\",\n            \"AgendaMap3\": \"\",\n            \"RSVP3\": \"\",\n            \"TotalGuest3\": \"\",\n            \"Status3\": \"\",\n            \"ID4\": \"\",\n            \"Name4\": \"\",\n            \"Description4\": \"\",\n            \"StartDateTime4\": \"\",\n            \"EndDateTime4\": \"\",\n            \"AgendaMapLink4\": \"\",\n            \"Capacity4\": \"\",\n            \"AgendaMap4\": \"\",\n            \"RSVP4\": \"\",\n            \"TotalGuest4\": \"\",\n            \"Status4\": \"\",\n            \"ID5\": \"\",\n            \"Name5\": \"\",\n            \"Description5\": \"\",\n            \"StartDateTime5\": \"\",\n            \"EndDateTime5\": \"\",\n            \"AgendaMapLink5\": \"\",\n            \"Capacity5\": \"\",\n            \"AgendaMap5\": \"\",\n            \"RSVP5\": \"\",\n            \"TotalGuest5\": \"\",\n            \"Status5\": \"\"\n        },\n</code></pre>\n"}]