[{"tags": ["objective-c", "macos", "appkit"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563397940, "post_id": 57083808, "comment_id": 100691334, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4456115/call-idsender-method-in-xcode\">Call &quot;(id)sender&quot; method in Xcode</a>"}, {"owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563398108, "post_id": 57083808, "comment_id": 100691386, "body": "thanks, but I need to know how to grab the process handle for my game window so I can manipulate it, my question mostly revolves around this minimize function I suppose."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563399113, "post_id": 57083808, "comment_id": 100691737, "body": "What do you mean by &quot;process handle for my game window&quot;, is this <code>NSApplication.sharedApplication.mainWindow</code>? &quot;just pass nil&quot; would be <code>[NSApplication.sharedApplication.mainWindow deminiaturize:nil]</code>. I don&#39;t think the <code>sender</code> parameter is used."}, {"owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563399285, "post_id": 57083808, "comment_id": 100691793, "body": "I have it set to pass nil... I am not noticing ANYTHING at all change, and I know it is at least running. I have modified the function (earlier) to return values to prove it is working. But right now I pass nil to deminiaturize and NOTHING happens. It is very saddening.  Should I have my window up when it hits that function? Should I have it minimized? I&#39;ve tried both but neither seem to have any function."}, {"owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563399370, "post_id": 57083808, "comment_id": 100691822, "body": "<code>+(void)minimize:(bool)state andB:(int)handle{    [NSApplication.sharedApplication.mainWindow deminiaturize:nil]; }</code>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563401183, "post_id": 57083808, "comment_id": 100692295, "body": "Is <code>NSApplication.sharedApplication.mainWindow</code> your window and not <code>nil</code>? What do you expect to happen?"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1563401190, "post_id": 57083808, "comment_id": 100692299, "body": "Probably, <code>NSApplication.sharedApplication.mainWindow</code> is <code>nil</code> at the point where you&#39;re making that call. A minimized window won&#39;t be the main window."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1563401311, "post_id": 57083808, "comment_id": 100692322, "body": "You probably want to set up an outlet to your app&#39;s &quot;main&quot; window (in the sense you mean it) in your storyboard or NIB. Then, use that output (a.k.a. property) of your controller object (probably the app controller which is likely the same as the app delegate) to send messages to the window."}, {"owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563456195, "post_id": 57083808, "comment_id": 100712382, "body": "@Willeke, I will try that, what I expect to happen is that the window unminimizes itself when it detects new data in a database. This is a unity game window by the way"}, {"owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1563456346, "post_id": 57083808, "comment_id": 100712488, "body": "@KenThomases I don&#39;t know how to set an outlet to my apps main window, there is only one &#39;window&#39; ever for it. My question is pretty much how do I get the outlet to the main window. This is a unity game engine window (after being built) so the whole thing is not written in objective C / whatever. It&#39;s unity. So I need to know how I can get an outlet to the main window, I have no idea what a storyboard or NIB is. I can run some commands like ```  [NSApp activateIgnoringOtherApps:NO] ``` and they seemingly work."}, {"owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1563458295, "post_id": 57083808, "comment_id": 100713832, "body": "@KenThomases The command MinimizeWindow works but I cannot deminimize!!!"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1563463160, "post_id": 57083808, "comment_id": 100716886, "body": "I think you should tag your question for Unity and reword it to ask how you obtain the Cocoa window object pointer for your window in Unity."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "is_accepted": false, "score": -2, "last_activity_date": 1563621241, "last_edit_date": 1563621241, "creation_date": 1563463710, "answer_id": 57098000, "question_id": 57083808, "link": "https://stackoverflow.com/questions/57083808/macos-do-you-need-a-window-handle-when-you-attempt-to-do-things-like-minimize-wi/57098000#57098000", "title": "macOS Do you need a window handle when you attempt to do things like minimize windows programmatically?", "body": "<p>Okay so it was not too difficult, for deminimizing the window I used:</p>\n\n<pre><code>+(void)deminimize{\nfor(NSWindow* win in [NSApp windows])\n    {\n        if([win isMiniaturized])\n        {\n            [win deminiaturize:self];\n        }\n    }\n}\n</code></pre>\n\n<p>I only have one window so it just finds all the pointers / whatever for me and does it this way, if you have multiple windows you might not want to do it like this.</p>\n\n<p>For minimizing the window I ended up not needing this but the function is:</p>\n\n<pre><code>+(void)minimize{\n   [NSApplication.sharedApplication.mainWindow miniaturize:nil];\n}\n</code></pre>\n\n<p>For hiding and unhiding I didn't need pointers either. I just did this:</p>\n\n<pre><code>+(void)hide{\n    [NSApp hide:nil];\n}\n\n+(void)unhide{\n    [NSApp unhideAllApplications:nil]; //Just unhid all... Hopefully this doesn't cause problems! Might be able to loop through the windows like in my previous method and check if they are hidden instead of just unhiding all... Not sure if this will cause problems or not.\n}\n</code></pre>\n\n<p>For bringing the screen to the front (on event / notification or whatever) I used the following after unhiding or deminimizing:</p>\n\n<pre><code>+(void)bringFront{\n    [NSApp activateIgnoringOtherApps:YES];\n}\n+(void)putBack{\n    [NSApp activateIgnoringOtherApps:NO];\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11773344, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uuq-IDrMJ8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcGVdoNOF-gYzL8IW6LTL4VL2eJ6A/photo.jpg?sz=128", "display_name": "Medium Box Molly", "link": "https://stackoverflow.com/users/11773344/medium-box-molly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1563621241, "creation_date": 1563396177, "last_edit_date": 1563457174, "question_id": 57083808, "link": "https://stackoverflow.com/questions/57083808/macos-do-you-need-a-window-handle-when-you-attempt-to-do-things-like-minimize-wi", "title": "macOS Do you need a window handle when you attempt to do things like minimize windows programmatically?", "body": "<p>C++/Objective C  and C#. Running AppKit. I am building a native plugin for a unity game.</p>\n\n<p>So there is this function on AppKit:\n<a href=\"https://developer.apple.com/documentation/appkit/nswindow/1419426-miniaturize\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/appkit/nswindow/1419426-miniaturize</a></p>\n\n<pre><code>func miniaturize(_ sender: Any?)\n</code></pre>\n\n<p>I am utterly confused about what the sender portion is... Is that like some sort of window handle telling it what window to miniaturize?</p>\n\n<p>When I am attempting to do these sorts of AppKit things, do I need to somehow grab a process ID (like in windows) for the window I want to be effected? Or does macOS just know what to do?</p>\n\n<p>If I need a process (HWND/IntPtr/etc) how do I get that on Mac Os?</p>\n\n<p>My whole goal is to programmatically open my game window whenever a notification comes in. So I want to be able to unminimized the window. I did this on windows but I need assistance for the Mac portion.</p>\n\n<p>Currently I am passing just random stuff to the miniaturize function and of course nothing is happening, so I need to grab the process ID for my window somehow!! Thank you.</p>\n\n<pre><code>+(void)minimize:(bool)state andB:(int)handle{\n    NSNumber *someNumber = @(handle);\n   [NSApplication.sharedApplication.mainWindow deminiaturize:someNumber];\n}\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa"], "comments": [{"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 1, "creation_date": 1563421352, "post_id": 57082935, "comment_id": 100696207, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19251506/is-there-a-way-to-animate-changing-a-uilabels-textalignment\">Is there a way to animate changing a UILabel&#39;s textAlignment?</a>"}, {"owner": {"reputation": 2299, "user_id": 11722376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUjH.png?s=128&g=1", "display_name": "Ted Wrigley", "link": "https://stackoverflow.com/users/11722376/ted-wrigley"}, "edited": false, "score": 0, "creation_date": 1563421673, "post_id": 57082935, "comment_id": 100696262, "body": "Ugh, I messed up on flagging this. This is a duplicate of this \u2014 <a href=\"https://stackoverflow.com/questions/36228378/animate-a-change-with-nstextalignment-of-uitextfield-using-swift\" title=\"animate a change with nstextalignment of uitextfield using swift\">stackoverflow.com/questions/36228378/&hellip;</a> \u2014 and if you follow the link in the answer given it may give you an idea how to achieve what you want."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1563614615, "post_id": 57082935, "comment_id": 100764314, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36228378/animate-a-change-with-nstextalignment-of-uitextfield-using-swift\">Animate a change with NSTextAlignment of UITextField using Swift</a>"}], "owner": {"reputation": 438, "user_id": 2349076, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cdd83e34e1dad9a7a7eee3b409e3a73d?s=128&d=identicon&r=PG", "display_name": "Runt8", "link": "https://stackoverflow.com/users/2349076/runt8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563478750, "creation_date": 1563391780, "last_edit_date": 1563478750, "question_id": 57082935, "link": "https://stackoverflow.com/questions/57082935/animate-nstextfield-alignment", "title": "Animate NSTextField Alignment", "body": "<p>I'm trying to emulate the functionality of the Safari url text field (using NSTextField).  I'd like the current text to be displayed centered, but when the user clicks on it the text should highlight and slide to the left.  I've got the highlighting working but I'm not sure how to go about animating the text over to the left.  Is it possible to animate the Alignment property or would I need to do some sort of custom drawing where I animate the position that the text is drawn?</p>\n\n<p>Unfortunately this (<a href=\"https://stackoverflow.com/questions/19251506/is-there-a-way-to-animate-changing-a-uilabels-textalignment\">Is there a way to animate changing a UILabel&#39;s textAlignment?</a>) won't work, since a text field draws a background and border so animating the frame isn't an option.</p>\n"}, {"tags": ["objective-c", "objective-c-blocks"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 2, "last_activity_date": 1563525985, "last_edit_date": 1563525985, "creation_date": 1563499534, "answer_id": 57104441, "question_id": 57079929, "link": "https://stackoverflow.com/questions/57079929/retain-assigned-values-from-within-block-in-objective-c/57104441#57104441", "title": "retain assigned values from within block in objective-c", "body": "<p>First there is a misunderstanding in the code about the purpose of the <code>__block</code> qualifier.</p>\n\n<p>This qualifier only applies to local variables (see <a href=\"https://clang.llvm.org/docs/BlockLanguageSpec.html#the-block-storage-qualifier\" rel=\"nofollow noreferrer\"><em>The <code>__block</code> Storage Qualifier</em></a> in the <em>Language Specification for Blocks</em>) as its purpose is to extend the lifetime of local variables, if they are modifiable by blocks, past their usual demise once the method/function/language-block they are defined in exits.</p>\n\n<p>In the code <code>vpnProfiles</code> is an <em>instance variable</em>, whose lifetime is tied to the lifetime of its owning object instance, and as such <code>__block</code> has no meaning \u2013\u00a0unfortunately the compiler doesn't warn you but just ignores it. Instance variables can be captured and modified by a block as doing so captures the owning object instance as well, thus usually(\u2020) keeping it alive as it is referenced by the block.</p>\n\n<p>And now to the main question and remark:</p>\n\n<blockquote>\n  <p>my understanding is that this issue is due to async threads</p>\n</blockquote>\n\n<p>Exactly.</p>\n\n<p>Your <code>loadAllFromPreferencesWithCompletionHandler:</code> method accepts a completion handler which it will presumably run at some future time <em>after</em> the method it has returned...</p>\n\n<p>Therefore the <code>NSLog</code> within the block is executed <em>after</em> the <code>NSLog</code> following the call to <code>loadAllFromPreferencesWithCompletionHandler:</code> \u2013 as can be seen by the output shown in the question.</p>\n\n<blockquote>\n  <p>anyone has suggestions on how to get <code>newManagers</code> to <s>local</s> <em>instance</em> variable <code>vpnProfiles</code>?</p>\n</blockquote>\n\n<p>It is already being assigned by the statement <code>vpnProfiles = newManagers;</code> \u2013 the problem is that the code is checking for the assignment <em>before</em> it has happened.</p>\n\n<blockquote>\n  <p>but i can't seem to find a solution</p>\n</blockquote>\n\n<p>The clue is in the name of your method, the block is a <em>completion handler</em> which will be called at some future time when the <code>newManagers</code> are available. It is <em>within</em> this completion handler that you need to schedule the work to do <em>after</em> that point.</p>\n\n<p>So, for example, you might do the assignment to <code>vpnProfiles</code> and then use <code>dispatch_async()</code> to schedule a block which calls a method on your <code>ProfileTableViewController</code> instance which reads <code>vpnProfiles</code> and does whatever is needed.</p>\n\n<blockquote>\n  <p>I'm trying to create an app that implements customized tunnel protocols.</p>\n</blockquote>\n\n<p>It is time to further research asynchronous design methods as it is essential for such code. Have fun!</p>\n\n<p>HTH</p>\n\n<p><em>Note</em></p>\n\n<p>(\u2020) If the captured object reference is <em>weak</em> the object is not kept alive. To find out more about this research \"reference cycles\" and \"weak self\".</p>\n"}], "owner": {"reputation": 1520, "user_id": 1015633, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/97d98f3f9a0efccc0869a363f7e406d1?s=128&d=identicon&r=PG", "display_name": "ikel", "link": "https://stackoverflow.com/users/1015633/ikel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 57104441, "answer_count": 1, "score": 0, "last_activity_date": 1563525985, "creation_date": 1563378863, "last_edit_date": 1563395960, "question_id": 57079929, "link": "https://stackoverflow.com/questions/57079929/retain-assigned-values-from-within-block-in-objective-c", "title": "retain assigned values from within block in objective-c", "body": "<p>I'm trying to create an app that implements customized tunnel protocols.\nand having issue with assigning value to variable from block, see following code</p>\n\n<pre><code>@implementation ProfileTableViewController{\n     __block NSArray *vpnProfiles;\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    self.tableView.allowsMultipleSelectionDuringEditing = NO;\n[NETunnelProviderManager loadAllFromPreferencesWithCompletionHandler:^(NSArray* newManagers, NSError *error)\n     {\n         if(error != nil){\n             NSLog(@\"Load Preferences error: %@\", error);\n         }else{\n\n             if([newManagers count] &gt; 0)\n             {\n                 vpnProfiles = newManagers;\n                 NSLog(@\"vpnProfiles 1st: %ld\", [vpnProfiles count]);\n             }\n         }\n     }];\n\n NSLog(@\"vpnProfiles 2nd: %ld\", [vpnProfiles count]);\n}\n</code></pre>\n\n<p>the above will print </p>\n\n<pre><code>vpnProfiles 2nd: 0\nvpnProfiles 1st: 1\n</code></pre>\n\n<p>my understanding is that this issue is due to async threads, but i can't seem to find a solution after searching and trying.</p>\n\n<p>anyone has suggestions on how to get <strong><em>newManagers</em></strong> to local variable <strong><em>vpnProfiles</em></strong>?</p>\n"}, {"tags": ["ios", "objective-c", "ios-background-mode"], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 7157159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/189af1d9b178f250365d282b0f9b1921?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmos Man", "link": "https://stackoverflow.com/users/7157159/cosmos-man"}, "is_accepted": false, "score": 1, "last_activity_date": 1563380942, "creation_date": 1563380942, "answer_id": 57080501, "question_id": 57079544, "link": "https://stackoverflow.com/questions/57079544/how-does-idletimerdisabled-work-in-didfinishlaunchingwithoptions/57080501#57080501", "title": "how does &quot;idleTimerDisabled&quot; work in didFinishLaunchingWithOptions?", "body": "<p><strong>Apple Documentation for <code>idleTimerDisabled</code></strong></p>\n\n<blockquote>\n  <p>The default value of this property is NO. When most apps have no touches as user input for a short period, the system puts the device into a \"sleep\u201d state where the screen dims. This is done for the purposes of conserving power. However, apps that don't have user input except for the accelerometer\u2014games, for instance\u2014can, by setting this property to YES, disable the \u201cidle timer\u201d to avert system sleep.  </p>\n</blockquote>\n\n<p><em>By assigning <code>true</code> to this value, iOS won't dim the screen and lock the iPhone when user doesn't make any action (touches, press, scroll, etc...). Example of this can be found in games vs other normal apps. Games make your iPhone awake for a lot longer than other apps.</em></p>\n\n<p><hr>\n<strong>For</strong><br>\n<code>[[UIApplication sharedApplication] addObserver: forKeyPath: options: context:]</code><br>\nThis is an <strong>Objective-c key value observing</strong> aka <strong>KVO</strong>.<br>\nWhat your code means is that, when someone assigns or make changes to <code>UIApplication.sharedApplication.idleTimerDisabled</code> with an arbitrary value, <em><code>true</code> or <code>false</code> in this case</em>, you wish to receive an invocation about the assignment or change in <code>[self observeValueForKeyPath: ofObject: change: context:]</code> method signature.</p>\n\n<p>The option <code>NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew</code> means, you want to receive more information about changed <strong>old value</strong> and <strong>new value</strong> in the change dictionary which you can access later in the observing method.</p>\n\n<p>For more information about KVO, checkout <a href=\"https://nshipster.com/key-value-observing/\" rel=\"nofollow noreferrer\">this post</a> by <a href=\"https://nshipster.com/\" rel=\"nofollow noreferrer\"><strong>NSHipster</strong></a>.</p>\n\n<p><a href=\"https://www.appcoda.com/\" rel=\"nofollow noreferrer\"><strong>AppCoda</strong></a> also has a nice explanation for <a href=\"https://www.appcoda.com/understanding-key-value-observing-coding/\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p><hr>\n<strong>Conclusion</strong><br>\nWhat your line of code means is, you want to receive a notification about the changes made to <code>UIApplication.shared.idleTimerDisabled</code> attribute in KVO observing method and you want to access <strong>old value</strong> and <strong>new value</strong> through <strong>change</strong> dictionary.</p>\n"}], "owner": {"reputation": 83, "user_id": 11493722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uqf_m9xgndM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfiMUkCy6Dmul0XtEWL_DjU8EMArQ/mo/photo.jpg?sz=128", "display_name": "janubhai", "link": "https://stackoverflow.com/users/11493722/janubhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563380942, "creation_date": 1563377611, "question_id": 57079544, "link": "https://stackoverflow.com/questions/57079544/how-does-idletimerdisabled-work-in-didfinishlaunchingwithoptions", "title": "how does &quot;idleTimerDisabled&quot; work in didFinishLaunchingWithOptions?", "body": "<p>I'm not sure how does the below code work in the didFinishLaunchingWithOptions in appdelegate ?</p>\n\n<pre><code>[[UIApplication sharedApplication] addObserver: self forKeyPath: @\"idleTimerDisabled\" options: NSKeyValueObservingOptionOld | NSKeyValueObservingOptionNew context: nil];\n</code></pre>\n\n<p>what does it exactly do with \"idleTimerDisabled\" ?</p>\n\n<p>thanks</p>\n"}, {"tags": ["ios", "objective-c", "avaudiosession", "sample-rate"], "comments": [{"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 0, "creation_date": 1590423177, "post_id": 57074386, "comment_id": 109667603, "body": "Did you ever figure out a solution? I saw that in my app on iPhone 11 and move devices, calling <code>setPreferredSampleRate</code> does nothing, while on lower devices it works, and I don&#39;t know why."}, {"owner": {"reputation": 114, "user_id": 6386213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a5217302fc3f828bc8cde38b0953cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Bhagyesh", "link": "https://stackoverflow.com/users/6386213/bhagyesh"}, "edited": false, "score": 0, "creation_date": 1595435693, "post_id": 57074386, "comment_id": 111476054, "body": "Did you find solution to this? I am facing similar issue."}], "owner": {"reputation": 149, "user_id": 9126195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e876ffb7f689aac7ba0cf66a65e48cda?s=128&d=identicon&r=PG&f=1", "display_name": "mahdi", "link": "https://stackoverflow.com/users/9126195/mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563361395, "creation_date": 1563361395, "question_id": 57074386, "link": "https://stackoverflow.com/questions/57074386/ios-avaudiosession-sample-rate-is-not-changing-when-playing-a-sound-from-speake", "title": "iOS: AVAudioSession sample rate is not changing when playing a sound from speaker", "body": "<p>When setting the preferred sample rate to 16000 it is working fine. However, when I want to play the sound from the speaker and print the sample rate I find it 48000.</p>\n\n<p>I tried to set the sample rate again after playing from the speaker, but it is not working.</p>\n\n<pre><code>NSError    *err = nil;\nAVAudioSession *session = [AVAudioSession sharedInstance];\n[session setActive:NO error:&amp;err];\nBOOL successfullySatSampleRate = [session setPreferredSampleRate:SAMPLING_FREQUENCY error:&amp;err];\nif(err != nil)\n{\n    NSLog(@\"Error in setting up audio: %@\", err);\n}\nif(!successfullySatSampleRate)\n{\n    NSLog(@\"Error in setting up sample rate\");\n}\n[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayAndRecord withOptions:AVAudioSessionCategoryOptionDefaultToSpeaker error: nil];\n[session setActive:YES error:&amp;err];\n\nNSLog(@\"initialize Session preferredSampleRate = %f, hardware sampleRate = %f\",[session preferredSampleRate],[session sampleRate]);\n</code></pre>\n\n<p>What should I do to keep the sample rate 16000?</p>\n"}, {"tags": ["objective-c", "nsstring"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1563361887, "post_id": 57074308, "comment_id": 100672336, "body": "The string is not complex. It contains integers separated by spaces. Please see <a href=\"https://stackoverflow.com/questions/6111543/how-can-i-convert-string-to-an-array-with-separator\" title=\"how can i convert string to an array with separator\">stackoverflow.com/questions/6111543/&hellip;</a>"}, {"owner": {"reputation": 32121, "user_id": 199017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e40c498202a2925614073712bfe7e9fb?s=128&d=identicon&r=PG", "display_name": "Alladinian", "link": "https://stackoverflow.com/users/199017/alladinian"}, "edited": false, "score": 0, "creation_date": 1563368777, "post_id": 57074308, "comment_id": 100676325, "body": "As the comment above suggests, you just have to split your string first. You could even use a (super unsafe) one-liner if you like: <code>NSArray *values = [[testString componentsSeparatedByString:@&quot; &quot;] valueForKey:@&quot;intValue&quot;]</code>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 1, "creation_date": 1563372974, "post_id": 57074308, "comment_id": 100679206, "body": "Or, if you don&#39;t need a <code>NSArray</code> of <code>NSString</code>/<code>NSNumber</code>, use <code>NSScanner</code>."}, {"owner": {"reputation": 45, "user_id": 1648300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2189ceba0c4c98c5707955b687b7ffa?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1648300/tom"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1563419471, "post_id": 57074308, "comment_id": 100695833, "body": "@vadian. I simply used the term &#39;complex string&#39; to differentiate between the solitary string value contained in the first example. Sorry if this was the wrong term."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 4111542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gqY6gTdWaSQ/AAAAAAAAAAI/AAAAAAAAADs/bj6KY1yw0ts/photo.jpg?sz=128", "display_name": "jjlei", "link": "https://stackoverflow.com/users/4111542/jjlei"}, "is_accepted": false, "score": 1, "last_activity_date": 1563386392, "creation_date": 1563386392, "answer_id": 57081766, "question_id": 57074308, "link": "https://stackoverflow.com/questions/57074308/how-do-i-convert-string-of-numbers-to-ints-from-complex-string/57081766#57081766", "title": "How do I convert string of numbers to ints from &#39;complex&#39; string?", "body": "<p>Here is code snippet based on your previous code.</p>\n\n<pre><code>    NSString *testString = @\"26 8 102 65 53 2 190 784 212\";\n\n    NSArray *testArray = [testString componentsSeparatedByString:@\" \"];\n\n    for(NSString *numString in testArray)\n    {\n        int value = [numString intValue];\n\n        NSLog(@\"integer value: %i\", value);\n    }\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>2019-07-17 10:58:45.460986-0700 ProxyTest[2337:109309] integer value: 26\n2019-07-17 10:58:45.461066-0700 ProxyTest[2337:109309] integer value: 8\n2019-07-17 10:58:45.461140-0700 ProxyTest[2337:109309] integer value: 102\n2019-07-17 10:58:45.461222-0700 ProxyTest[2337:109309] integer value: 65\n2019-07-17 10:58:45.461311-0700 ProxyTest[2337:109309] integer value: 53\n2019-07-17 10:58:45.461385-0700 ProxyTest[2337:109309] integer value: 2\n2019-07-17 10:58:45.461448-0700 ProxyTest[2337:109309] integer value: 190\n2019-07-17 10:58:45.461510-0700 ProxyTest[2337:109309] integer value: 784\n2019-07-17 10:58:45.461563-0700 ProxyTest[2337:109309] integer value: 212\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 1648300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2189ceba0c4c98c5707955b687b7ffa?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1648300/tom"}, "edited": false, "score": 0, "creation_date": 1563422736, "post_id": 57082075, "comment_id": 100696465, "body": "Thanks for that! It works like a charm and is very close to what I asked for (without using an array which I didn&#39;t really need). Also gives me an insight into NSScanner which I hadn&#39;t used before."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1563440065, "post_id": 57082075, "comment_id": 100703246, "body": "<code>while ([scan scanInteger:&amp;myInteger])</code> will work with this string."}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1563387532, "creation_date": 1563387532, "answer_id": 57082075, "question_id": 57074308, "link": "https://stackoverflow.com/questions/57074308/how-do-i-convert-string-of-numbers-to-ints-from-complex-string/57082075#57082075", "title": "How do I convert string of numbers to ints from &#39;complex&#39; string?", "body": "<p>I like NSScanner:</p>\n\n<pre><code>NSString* testString = @\"26 8 102 65 53 2 190 784 212\";\nNSScanner* scan = [NSScanner scannerWithString: testString];\nwhile (![scan isAtEnd]) {\n    [scan scanUpToCharactersFromSet:\n        [NSCharacterSet alphanumericCharacterSet] intoString:nil];\n    int i;\n    [scan scanInt:&amp;i];\n    NSLog(@\"%d\",i);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2019-07-17 11:17:06.219506-0700 MyApp[1675:114852] 26\n2019-07-17 11:17:06.219639-0700 MyApp[1675:114852] 8\n2019-07-17 11:17:06.219743-0700 MyApp[1675:114852] 102\n2019-07-17 11:17:06.219885-0700 MyApp[1675:114852] 65\n2019-07-17 11:17:06.220024-0700 MyApp[1675:114852] 53\n2019-07-17 11:17:06.220150-0700 MyApp[1675:114852] 2\n2019-07-17 11:17:06.220286-0700 MyApp[1675:114852] 190\n2019-07-17 11:17:06.220413-0700 MyApp[1675:114852] 784\n2019-07-17 11:17:06.220518-0700 MyApp[1675:114852] 212\n</code></pre>\n\n<p>Collecting the ints is left as an exercise for the reader.</p>\n"}], "owner": {"reputation": 45, "user_id": 1648300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2189ceba0c4c98c5707955b687b7ffa?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1648300/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 57082075, "answer_count": 2, "score": 0, "last_activity_date": 1563623353, "creation_date": 1563361132, "last_edit_date": 1563623353, "question_id": 57074308, "link": "https://stackoverflow.com/questions/57074308/how-do-i-convert-string-of-numbers-to-ints-from-complex-string", "title": "How do I convert string of numbers to ints from &#39;complex&#39; string?", "body": "<p>I'm familiar with the one-liner for converting a simple string to an int of course, namely:</p>\n\n<pre><code>NSString *aString = @\"56\";\nint value = [aString intValue];\n</code></pre>\n\n<p>However, how would I go about extracting separate integers from the contents of a complex string containing various values, such as:</p>\n\n<pre><code>NSString *testString = @\"26 8 102 65 53 2 190 784 212\";\n</code></pre>\n\n<p>I've searched StackOverflow and other places without finding an answer to this specific problem. I had in mind something like:</p>\n\n<pre><code>int i, length;\nNSString *testString = @\"26 8 102 65 53 2 190 784 212\";\nlength = [testString length];\nfor(i = 0; i &lt; length; i++)\n    {\n    // do magic here\u2026\n    // int value = 26 (the first number in string);\n    // rinse and repeat until last number (212) converted to int\u2026\n    }\n</code></pre>\n\n<p>but I'm out of my depth here, and this pseudo code fails miserably of course. Can anyone help me with what SEEMED at first sight like a fairly easy problem please?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 337, "user_id": 10590417, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JjNbX2KURfU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCMl_0qWiF0MbeUKBXft60r2s-GUg/mo/photo.jpg?sz=128", "display_name": "hussnain ahmad", "link": "https://stackoverflow.com/users/10590417/hussnain-ahmad"}, "edited": false, "score": 1, "creation_date": 1563360734, "post_id": 57073079, "comment_id": 100671746, "body": "Use  &quot;yyyy-MM-dd HH:mm:ss zzzz&quot;  instead of &quot;yyyy-MM-dd HH:mm:ss X&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": true, "score": 0, "last_activity_date": 1563357595, "creation_date": 1563357595, "answer_id": 57073262, "question_id": 57073079, "link": "https://stackoverflow.com/questions/57073079/how-to-get-gmt-format-with-time-difference/57073262#57073262", "title": "How to get GMT format with time difference", "body": "<p>Replace <code>X</code> with <code>ZZZZ</code> or <code>OOOO</code></p>\n\n<pre><code>dateFormatter.dateFormat = @\"yyyy-MM-dd HH:mm:ss ZZZZ\";\n</code></pre>\n\n<p>Source: <a href=\"https://unicode.org/reports/tr35/tr35-dates.html#Date_Format_Pattern_Examples\" rel=\"nofollow noreferrer\">unicode.org : Date Format Pattern Examples</a> </p>\n"}], "owner": {"reputation": 163, "user_id": 9946838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f26fa856d8f177f679a536bdfef448?s=128&d=identicon&r=PG&f=1", "display_name": "SShah", "link": "https://stackoverflow.com/users/9946838/sshah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57073262, "answer_count": 1, "score": 0, "last_activity_date": 1563357595, "creation_date": 1563356992, "last_edit_date": 1563357502, "question_id": 57073079, "link": "https://stackoverflow.com/questions/57073079/how-to-get-gmt-format-with-time-difference", "title": "How to get GMT format with time difference", "body": "<p>I need a date format like this <strong>2019-07-16 14:51:40 GMT+05:30.</strong></p>\n\n<pre><code>NSDate *exactDate = [NSDate date];\nNSDateFormatter* dateFormatter = [[NSDateFormatter alloc] init];\ndateFormatter.dateFormat = @\"yyyy-MM-dd HH:mm:ss X\";\nNSTimeZone *timeZone = [NSTimeZone localTimeZone];\n[dateFormatter setTimeZone:timeZone];\n</code></pre>\n\n<blockquote>\n  <p><strong>Output</strong> : 2019-07-17 15:18:23 +0530</p>\n  \n  <p><strong>Expected Output</strong> : 2019-07-16 14:51:40 GMT+05:30</p>\n</blockquote>\n"}, {"tags": ["c++", "objective-c", "swift", "curl"], "comments": [{"owner": {"reputation": 2419, "user_id": 7512091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaZVQ.png?s=128&g=1", "display_name": "emrcftci", "link": "https://stackoverflow.com/users/7512091/emrcftci"}, "edited": false, "score": 0, "creation_date": 1563347009, "post_id": 57070035, "comment_id": 100664301, "body": "You have a <code>C library</code> so you can call this library with <code>#include yourLibrary</code>"}, {"owner": {"reputation": 5, "user_id": 4335724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ea4J.png?s=128&g=1", "display_name": "Mahbubur Rashid", "link": "https://stackoverflow.com/users/4335724/mahbubur-rashid"}, "reply_to_user": {"reputation": 2419, "user_id": 7512091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaZVQ.png?s=128&g=1", "display_name": "emrcftci", "link": "https://stackoverflow.com/users/7512091/emrcftci"}, "edited": false, "score": 0, "creation_date": 1563351245, "post_id": 57070035, "comment_id": 100666603, "body": "All the libraries are called from the Objective-C project i don&#39;t have control over this."}, {"owner": {"reputation": 4371, "user_id": 5196056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e60f19699f947713c612d70b80524a?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoli P", "link": "https://stackoverflow.com/users/5196056/anatoli-p"}, "edited": false, "score": 0, "creation_date": 1563416580, "post_id": 57070035, "comment_id": 100695314, "body": "If it works using Objective-C only, without Swift, I&#39;d say that URL probably gets corrupted when passed from Swift to Objective-C code.  BTW, how do you pass that URL from Swift to Objective-C?  Or how do you pass the things the URL is built from in Objective-C code?  I also think there is C++ code involved here, <code>vector</code> must be referring to the well known header from C++ standard lib.  I added the C++ tag to your question."}], "owner": {"reputation": 5, "user_id": 4335724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ea4J.png?s=128&g=1", "display_name": "Mahbubur Rashid", "link": "https://stackoverflow.com/users/4335724/mahbubur-rashid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563416546, "creation_date": 1563346104, "last_edit_date": 1563416546, "question_id": 57070035, "link": "https://stackoverflow.com/questions/57070035/curl-easy-perform-fail-url-using-bad-illegal-format-or-missing-url-when-calling", "title": "curl_easy_perform fail: URL using bad/illegal format or missing URL when calling from Swift", "body": "<p>I am currently added a whole Objective-C project into Swift project. When I run only Objective-C project independently it works just fine, but when I call the Objective-C project from the swift I am getting this error. </p>\n\n<pre><code>[error] curl_easy_perform fail: URL using bad/illegal format or missing URL\n</code></pre>\n\n<p>I don't have the access to the internal code of the framework.</p>\n\n<p>Because of this I am unable to get any data from the API as I don't have the direct access to the API.</p>\n\n<blockquote>\n  <p>And I am also having error \"vector file not found\" when I want to call a framework header from the swift</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "crash", "nsmutablearray"], "comments": [{"owner": {"reputation": 324, "user_id": 8070547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3f19baa39b2b2eb81ebd60ed85c4ea?s=128&d=identicon&r=PG&f=1", "display_name": "AshishGupta", "link": "https://stackoverflow.com/users/8070547/ashishgupta"}, "edited": false, "score": 0, "creation_date": 1563343372, "post_id": 57069284, "comment_id": 100662770, "body": "To store an array you need to archive it first and then store in UserDefaults. Also need to unarchive  while retrieving that array."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 324, "user_id": 8070547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3f19baa39b2b2eb81ebd60ed85c4ea?s=128&d=identicon&r=PG&f=1", "display_name": "AshishGupta", "link": "https://stackoverflow.com/users/8070547/ashishgupta"}, "edited": false, "score": 0, "creation_date": 1563345075, "post_id": 57069284, "comment_id": 100663395, "body": "@AshishGupta You only need to archive/unarchive the array if it contains non-property list values."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563345136, "post_id": 57069284, "comment_id": 100663418, "body": "@zack Show the complete error message shown in the debug console."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 9551844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa4659155f759daa13333167b84805?s=128&d=identicon&r=PG&f=1", "display_name": "premkolindala", "link": "https://stackoverflow.com/users/9551844/premkolindala"}, "is_accepted": false, "score": 0, "last_activity_date": 1563343391, "creation_date": 1563343391, "answer_id": 57069429, "question_id": 57069284, "link": "https://stackoverflow.com/questions/57069284/crash-interacting-with-nsuserdefaults-and-nsarray/57069429#57069429", "title": "Crash interacting with NSUserDefaults and NSArray", "body": "<p>Assuming <code>bssidObserverArray</code> is NSMutable array then come the problem here .</p>\n\n<pre><code>if ([[NSUserDefaults standardUserDefaults] objectForKey:@\"bssidObserverArray\"]) {\n        bssidObserverArray = [[NSUserDefaults standardUserDefaults] objectForKey:@\"bssidObserverArray\"];\n    }\n\n</code></pre>\n\n<p>since NSUserdefaults returns immutable. you can do like this</p>\n\n<pre><code>if ([[NSUserDefaults standardUserDefaults] objectForKey:@\"bssidObserverArray\"]) {\n        NSArray *someArray = [[NSUserDefaults standardUserDefaults] objectForKey:@\"bssidObserverArray\"];\n        bssidObserverArray = [someArray mutableCopy];\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564532470, "creation_date": 1563342691, "last_edit_date": 1564532470, "question_id": 57069284, "link": "https://stackoverflow.com/questions/57069284/crash-interacting-with-nsuserdefaults-and-nsarray", "title": "Crash interacting with NSUserDefaults and NSArray", "body": "<p>I have an <code>NSMutableArray</code> in which I am adding objective and storing in user defaults, but while adding it is crashing.</p>\n\n<pre><code> if ([[NSUserDefaults standardUserDefaults] objectForKey:@\"bssidObserverArray\"]) {\n        bssidObserverArray = [[NSUserDefaults standardUserDefaults] objectForKey:@\"bssidObserverArray\"];\n    }\n\n   if (bssidObserverArray.count &gt; 0) {\n        if (![bssidObserverArray containsObject:vendorID]) {\n            NSLog(@\"bssidObserverArray %@\",bssidObserverArray);\n            // In this line app is getting crashed\n                [bssidObserverArray addObject:vendorID];\n                [[NSUserDefaults standardUserDefaults] setObject:bssidObserverArray forKey:@\"bssidObserverArray\"];\n\n        }\n    }else{\n        [bssidObserverArray addObject:vendorID];\n        [[NSUserDefaults standardUserDefaults] setObject:bssidObserverArray forKey:@\"bssidObserverArray\"];\n    }\n</code></pre>\n\n<p>Any suggestions would be more helpful.</p>\n"}, {"tags": ["ios", "objective-c", "mapbox", "polyline", "mapbox-ios"], "comments": [{"owner": {"reputation": 1331, "user_id": 6282077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjCAL.png?s=128&g=1", "display_name": "riastrad", "link": "https://stackoverflow.com/users/6282077/riastrad"}, "edited": false, "score": 0, "creation_date": 1563369783, "post_id": 57067795, "comment_id": 100677069, "body": "It&#39;s not very clear to me what you mean by &quot;animate the route from start to destination.&quot; Can you provide a visual aid of some sort or describe the animation (i.e. is it a change in width, pulsing effect, or something else)  a bit more?"}, {"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 1331, "user_id": 6282077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjCAL.png?s=128&g=1", "display_name": "riastrad", "link": "https://stackoverflow.com/users/6282077/riastrad"}, "edited": false, "score": 0, "creation_date": 1563415409, "post_id": 57067795, "comment_id": 100695083, "body": "Please check my updated question. This is something I am already doing with Google Maps SDK but I am not able to do it with Mapbox SDK."}, {"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1563415503, "post_id": 57067795, "comment_id": 100695096, "body": "it&#39;s pretty obvious what is meant: the line &quot;fills in&quot; from the beginning to the end."}, {"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1563418825, "post_id": 57067795, "comment_id": 100695726, "body": "Thanks @Fattie for quickly understanding the question. Any leads from your end?"}, {"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "reply_to_user": {"reputation": 1331, "user_id": 6282077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjCAL.png?s=128&g=1", "display_name": "riastrad", "link": "https://stackoverflow.com/users/6282077/riastrad"}, "edited": false, "score": 0, "creation_date": 1563870714, "post_id": 57067795, "comment_id": 100833986, "body": "@riastrad Can you provide any lead on this?"}], "answers": [{"comments": [{"owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "edited": false, "score": 0, "creation_date": 1564471232, "post_id": 57204278, "comment_id": 101031173, "body": "Thanks for the answer. I cant figure out how to use it. Could you please help posting a little bit code. It would be very useful. Thanks"}], "tags": [], "owner": {"reputation": 1331, "user_id": 6282077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjCAL.png?s=128&g=1", "display_name": "riastrad", "link": "https://stackoverflow.com/users/6282077/riastrad"}, "is_accepted": false, "score": 1, "last_activity_date": 1564064615, "creation_date": 1564064615, "answer_id": 57204278, "question_id": 57067795, "link": "https://stackoverflow.com/questions/57067795/animate-polyline-on-mapview-mapbox-ios/57204278#57204278", "title": "Animate polyline on Mapview Mapbox iOS", "body": "<p>Thank you for updating your question with that helpful visual. You should be able to create this effect with a <a href=\"https://docs.mapbox.com/mapbox-gl-js/style-spec#paint-line-line-gradient\" rel=\"nofollow noreferrer\"><code>line-gradient</code></a> style expression that updates on a timer.</p>\n\n<p>While there are no polished examples of implementing this, the Mapbox iOS team has some initial code that shows the basic syntax of the line gradient expression in this example PR: <a href=\"https://github.com/mapbox/ios-sdk-examples/issues/203\" rel=\"nofollow noreferrer\">https://github.com/mapbox/ios-sdk-examples/issues/203</a>. (The specific line that defines the gradient is <a href=\"https://github.com/mapbox/ios-sdk-examples/blob/d21b3c32619d4fc4f2692addc58a1d9faa3e0a11/Examples/ObjectiveC/LineGradientExample.m#L49\" rel=\"nofollow noreferrer\">here</a>.)</p>\n\n<p>You can then update the expression for your <code>MGLLineStyleLayer</code>'s <code>.lineColor</code> attribute on a timer.</p>\n\n<hr>\n\n<p>\u26a0\ufe0f Disclaimer: I currently work at Mapbox \u26a0\ufe0f</p>\n"}], "owner": {"reputation": 1131, "user_id": 2768604, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d114e70b1bd5a7f9f4c359ee1a11ebc7?s=128&d=identicon&r=PG&f=1", "display_name": "Paras Gorasiya", "link": "https://stackoverflow.com/users/2768604/paras-gorasiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1564064615, "creation_date": 1563330850, "last_edit_date": 1563415361, "question_id": 57067795, "link": "https://stackoverflow.com/questions/57067795/animate-polyline-on-mapview-mapbox-ios", "title": "Animate polyline on Mapview Mapbox iOS", "body": "<p>I am replacing <code>GoogleMaps SDK</code> with <code>Mapbox SDK</code> for my iOS app.\nI am stuck at a point where my app has a feature where I animate polyline(already added) on map like Uber app.</p>\n\n<p>But I cant seem to make it work with <code>Mapbox iOS SDK</code>.\nMapbox has an example where I can add polyline coordinate on map with animation but that's not I want to do.</p>\n\n<p>Polyline is added right away but I want to animate the route from start to destination.</p>\n\n<p>Here is my current code from Mapbox example to add polyline coordinates on map with animation.</p>\n\n<pre><code>- (void)addPolylineToStyle:(MGLStyle *)style {\n    // Add an empty MGLShapeSource, we\u2019ll keep a reference to this and add points to this later.\n    MGLShapeSource *source = [[MGLShapeSource alloc] initWithIdentifier:@\"polyline\" features:@[] options:nil];\n    [style addSource:source];\n    self.polylineSource = source;\n\n    // Add a layer to style our polyline.\n    MGLLineStyleLayer *layer = [[MGLLineStyleLayer alloc] initWithIdentifier:@\"polyline\" source:source];\n    layer.lineJoin = [NSExpression expressionForConstantValue:@\"round\"];\n    layer.lineCap = layer.lineJoin = [NSExpression expressionForConstantValue:@\"round\"];\n    layer.lineColor = [NSExpression expressionForConstantValue:[UIColor redColor]];\n\n    // The line width should gradually increase based on the zoom level.\n    layer.lineWidth = [NSExpression expressionWithFormat:@\"mgl_interpolate:withCurveType:parameters:stops:($zoomLevel, 'linear', nil, %@)\",\n                       @{@14: @5, @18: @20}];\n    [self.mapView.style addLayer:layer];\n}\n\n- (void)animatePolyline {\n    self.currentIndex = 1;\n\n    // Start a timer that will simulate adding points to our polyline. This could also represent coordinates being added to our polyline from another source, such as a CLLocationManagerDelegate.\n    [NSTimer scheduledTimerWithTimeInterval:0.05 target:self selector:@selector(tick:) userInfo:nil repeats:YES];\n}\n\n- (void)tick:(NSTimer*)timer {\n    if (self.currentIndex &gt; self.locations.count) {\n        [timer invalidate];\n        return;\n    }\n\n    // Create a subarray of locations up to the current index.\n    NSArray *currentLocations = [self.locations subarrayWithRange:NSMakeRange(0, _currentIndex)];\n\n    // Update our MGLShapeSource with the current locations.\n    [self updatePolylineWithLocations:currentLocations];\n\n    self.currentIndex++;\n}\n\n- (void)updatePolylineWithLocations:(NSArray&lt;CLLocation *&gt; *)locations {\n    CLLocationCoordinate2D coordinates[locations.count];\n\n    for (NSUInteger i = 0; i &lt; locations.count; i++) {\n        coordinates[i] = locations[i].coordinate;\n    }\n\n    MGLPolylineFeature *polyline = [MGLPolylineFeature polylineWithCoordinates:coordinates count:locations.count];\n\n    // Updating the MGLShapeSource\u2019s shape will have the map redraw our polyline with the current coordinates.\n    self.polylineSource.shape = polyline;\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nHere's a gif of what I expect to do.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TTIBe.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTIBe.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Please help me what should I do to animate the route along the polyline?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "frameworks"], "comments": [{"owner": {"reputation": 668, "user_id": 2780252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddb29207aecf31dad7a080a73433828?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Gonzalez", "link": "https://stackoverflow.com/users/2780252/rodrigo-gonzalez"}, "edited": false, "score": 0, "creation_date": 1573045498, "post_id": 57064863, "comment_id": 103752131, "body": "What I found was that you can create a swift file inside your Objc project that uses the framework, and that way it will work."}, {"owner": {"reputation": 377, "user_id": 4158419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e3f6b3752d775e0a5a2de9347095a26?s=128&d=identicon&r=PG&f=1", "display_name": "Ori", "link": "https://stackoverflow.com/users/4158419/ori"}, "edited": false, "score": 0, "creation_date": 1586619815, "post_id": 57064863, "comment_id": 108195793, "body": "Hey Richard, have you found a solution for this issue?"}], "owner": {"reputation": 129, "user_id": 8864279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5cfc36a6985cb9f001babf98dfbad2c?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Poutier", "link": "https://stackoverflow.com/users/8864279/richard-poutier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1563308330, "creation_date": 1563308330, "question_id": 57064863, "link": "https://stackoverflow.com/questions/57064863/swift-framework-built-with-new-build-system-not-recognized-by-objective-c", "title": "Swift Framework built with New Build System not recognized by Objective-C", "body": "<p>When I integrate my Swift Framework into an Objective-C project, after using Xcode's New Build System, the project does not recognize the public class names and api from the framework. </p>\n\n<p>I'm receiving a 'Use of undeclared identifier 'SampleClassName' error when I go to build the project. </p>\n\n<p>I have updated my Swift 5 framework's build script to  use Xcode's new build system. The build script creates a fat binary that can be imported into any Xcode project (we provide a strip unused architectures run script) to remove the unused archs.</p>\n\n<p>I have tried the following to resolve this issue with no luck:\n- set Project Build Setting 'Defines Module' -> Yes\n- I have tried explicitly stating which architectures to build for\n- set 'Always embed Swift Standard Libraries' -> YES</p>\n\n<p>This is the way I am defining our public class</p>\n\n<pre><code>open class SampleClassName: NSObject {\n\n  // a public class definition within my framework\n  @objc public static fun run() -&gt; Bool { ... }\n\n}\n</code></pre>\n\n<p>Our {ProjectName}.h file implementation</p>\n\n<pre><code>//! Project version number for SampleProject.\nFOUNDATION_EXPORT double SampleProjectVersionNumber;\n\n//! Project version string for SampleProject.\nFOUNDATION_EXPORT const unsigned char SampleProjectVersionString[];\n\n// In this header, you should import all the public headers of your framework using statements like #import &lt;SampleProject/PublicHeader.h&gt;\n\n</code></pre>\n\n<p>Our {ProjectName}-Bridging-Header.h implementation</p>\n\n<pre><code>#include \"SystemUtils.h\"\n#import &lt;CommonCrypto/CommonCrypto.h&gt;\n</code></pre>\n\n<p>This is the ruby build script I use to create the fat binary. </p>\n\n<pre><code>#!/usr/bin ruby\n\nrequire 'open3'\nrequire 'optparse'\nrequire 'plist'\n\nPROJECT_DIR        = Dir.pwd\nPROJECT_NAME       = 'SampleProject'\n\nBUILD_DIR          = PROJECT_DIR+'/'+PROJECT_NAME\nDERIVED_DATA       = 'DerivedData'\nFRAMEWORK_NAME     = 'SampleProjectFramework'\nOUTPUT_NAME        = 'SampleFramework'\nUNIVERSAL_BUILD    = 'Release-universal'\nWORKSPACE_DIR      = '..'\n\ndef run(command)\n  puts command\n  stdin, stdout, stderr = Open3.popen3(command)\n  out = stdout.readlines\n  puts out\n  err = stderr.readlines\n  [out.to_s, err.to_s]\nend\n\ndef clean_build\n  Dir.chdir(\"#{PROJECT_NAME}\")\n  run(\"rm -rf build\")\n  Dir.chdir(\"..\")\nend\n\ndef clean_deriveddata\n  Dir.chdir(\"#{PROJECT_NAME}\")\n  run(\"rm -rf #{DERIVED_DATA}\")\nend\n\ndef create_universaldir\n  Dir.chdir(\"#{BUILD_DIR}\")\n  run(\"mkdir #{DERIVED_DATA}\")\n  Dir.chdir(\"#{DERIVED_DATA}\")\n  run(\"mkdir #{UNIVERSAL_BUILD}\")\n  Dir.chdir(\"#{PROJECT_DIR}\")\nend\n\ndef create_ios(architecture)\n  Dir.chdir(\"#{BUILD_DIR}\")\n  command = \"xcodebuild -workspace SampleProject.xcworkspace -scheme #{FRAMEWORK_NAME} ONLY_ACTIVE_ARCH=NO -configuration Release -sdk #{architecture} BUILD_DIR=#{BUILD_DIR}/#{DERIVED_DATA} BUILD_ROOT=#{BUILD_DIR}/#{DERIVED_DATA} -UseNewBuildSystem=YES OTHER_SWIFT_FLAGS='-D RELEASE -D EXLUDE_PROXY -D NOIDFA' build\"\n\n  run(command)\n  Dir.chdir('..')\nend\n\ndef copy_structure\n  run(\"cp -R #{BUILD_DIR}/#{DERIVED_DATA}/Release-iphoneos/#{FRAMEWORK_NAME}.framework #{BUILD_DIR}/#{DERIVED_DATA}/#{UNIVERSAL_BUILD}/\")\nend\n\ndef copy_swift_modules\n  swift_simulator_modules_dir = \"#{BUILD_DIR}/#{DERIVED_DATA}/Release-iphonesimulator/#{FRAMEWORK_NAME}.framework/Modules/#{FRAMEWORK_NAME}.swiftmodule/.\"\n  command =\n  \"if [ -d #{swift_simulator_modules_dir} ]; then\n    cp -R #{swift_simulator_modules_dir} #{BUILD_DIR}/#{DERIVED_DATA}/#{UNIVERSAL_BUILD}/#{FRAMEWORK_NAME}.framework/Modules/#{FRAMEWORK_NAME}.swiftmodule\n  fi\"\n  run(command)\nend\n\ndef create_universal_binary\n  command = \"lipo -create -output '#{BUILD_DIR}/#{DERIVED_DATA}/#{UNIVERSAL_BUILD}/#{FRAMEWORK_NAME}.framework/#{FRAMEWORK_NAME}' '#{BUILD_DIR}/#{DERIVED_DATA}/Release-iphonesimulator/#{FRAMEWORK_NAME}.framework/#{FRAMEWORK_NAME}' '#{BUILD_DIR}/#{DERIVED_DATA}/Release-iphoneos/#{FRAMEWORK_NAME}.framework/#{FRAMEWORK_NAME}'\"\n  run(command)\nend\n\ndef copy_to_project\n  command = \"cp -R '#{BUILD_DIR}/#{DERIVED_DATA}/#{UNIVERSAL_BUILD}/#{FRAMEWORK_NAME}.framework' '#{BUILD_DIR}'\"\nend\n\ndef put_title(message, sep = \"-\")\n  total_message =  \"#{(sep * 10)} #{message} #{(sep * 10)}\"\n\n  puts \"\\n\\n\\n\"\n  puts sep * total_message.length\n  puts total_message\n  puts sep * total_message.length\nend\n\n\ndef main\n  put_title 'Cleaning build'\n  clean_build\n\n  put_title 'Cleaning DerivedData'\n  clean_deriveddata\n\n  put_title 'Creating Universal Directory'\n  create_universaldir\n\n  put_title 'Creating iOS device version'\n  create_ios('iphoneos')\n\n  put_title 'Creating iOS simulator version'\n  create_ios('iphonesimulator')\n\n  put_title 'Copying framework structure to the Universal build'\n  copy_structure\n\n  put_title 'Copying Swift Modules'\n  copy_swift_modules\n\n  put_title 'Creating Universal Binary'\n  create_universal_binary\n\n put_title 'Copy to project dir'\n copy_to_project\nend\n\nif __FILE__ == $0\n  main\nend\n\n</code></pre>\n\n<p>The main change that is now causing the 'Use of undeclared identifier error' is switching to the new build system.</p>\n\n<p>I expect the public classes to be recognized by the Objective-C project files. Unfortunately, I do not know why they are not being recognized.</p>\n"}, {"tags": ["ios", "objective-c", "uiscrollview", "slider"], "comments": [{"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1563332189, "post_id": 57062635, "comment_id": 100660184, "body": "Are you using iOS or MacOS? You tagged with iOS but probably refer to the MacOS specific function <code>viewDidLayout</code> (which you spelled ViewDidlayout)."}, {"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1563347661, "post_id": 57062635, "comment_id": 100664683, "body": "it is iOS, as you can see in the screenshots I shared  ."}, {"owner": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1563355597, "post_id": 57062635, "comment_id": 100669008, "body": "True! So where do you set up the scroll view?"}, {"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "reply_to_user": {"reputation": 3483, "user_id": 4543629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NX2c.png?s=128&g=1", "display_name": "LGP", "link": "https://stackoverflow.com/users/4543629/lgp"}, "edited": false, "score": 0, "creation_date": 1563357340, "post_id": 57062635, "comment_id": 100669977, "body": "ViewDidLayout, but I also tried to set it up on ViewDidLoad, WillApear, And DidApear  I got the same result every time ."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "edited": false, "score": 0, "creation_date": 1563347697, "post_id": 57063738, "comment_id": 100664700, "body": "The code seems really old ! but lemme give it a try! Thanks Michael"}, {"owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "reply_to_user": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "edited": false, "score": 0, "creation_date": 1563378391, "post_id": 57063738, "comment_id": 100682495, "body": "It IS really old! :-D But, it works really well!  Try the VCAS app to see it in action."}], "tags": [], "owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "is_accepted": false, "score": 0, "last_activity_date": 1563303110, "creation_date": 1563303110, "answer_id": 57063738, "question_id": 57062635, "link": "https://stackoverflow.com/questions/57062635/uiscrolview-adding-some-extra-space-for-subviews/57063738#57063738", "title": "UIScrolview adding some extra space for subviews", "body": "<p>I implemented something similar a number of years ago in the Ventura County Animal Services (VCAS) mobile app (still available for free download).  I used a library called FGallery by Grant Davis.  I don't know if this is still available, but they did a nice job including support for both thumbnail and full-sized image viewing, loading indicators, the ability to display a placeholder image if the actual image hasn't finished downloading etc.  I would take a look for yourself if you can.  Maybe you just need to borrow some of their techniques, or, just use what they've done.  It was extremely quick, and my employer was very demanding in that regard.</p>\n\n<p><a href=\"https://github.com/gdavis/FGallery-iPhone\" rel=\"nofollow noreferrer\">https://github.com/gdavis/FGallery-iPhone</a></p>\n"}], "owner": {"reputation": 113, "user_id": 2900042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120cf2a0af0cc920c71a80749db8ca3d?s=128&d=identicon&r=PG&f=1", "display_name": "Mimma", "link": "https://stackoverflow.com/users/2900042/mimma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563303110, "creation_date": 1563298247, "last_edit_date": 1563298288, "question_id": 57062635, "link": "https://stackoverflow.com/questions/57062635/uiscrolview-adding-some-extra-space-for-subviews", "title": "UIScrolview adding some extra space for subviews", "body": "<p>I'm trying to create a dynamic image slider using UIScrollView. so before I segue to the intended page , I send how many images are needed, and then set the scrollview to have those images as subviews, and scroll through them automatically usin 5 seconds NSTimer till the end, then goes back to the beginning .  </p>\n\n<p>The problem occurs when the Scrollview goes through the images for the first time, it displays the images + part of the next image . Then when Swiping to the next image , it shows part of the 3ed image .. ect </p>\n\n<p>Once the scrollview  goes through all the images for the first time, then go back to the first image , everything is fine, and all images take the right size .</p>\n\n<p>I tried everything that I can think of, but no luck ! maybe I'm using the wrong view for this job ? I don't know ..</p>\n\n<p>This is the function I'm using to configure the uiscrolview (called in ViewDidlayout) : </p>\n\n<pre><code>scrollview = [[UIScrollView alloc]initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, self.scrolSV.frame.size.height)];\n    scrollview.delegate = self;\n\n    [scrollview setPagingEnabled:YES];\n    [scrollview setAlwaysBounceHorizontal:NO];\n    [scrollview setShowsVerticalScrollIndicator:NO];\n    [scrollview setShowsHorizontalScrollIndicator:NO];\n    scrollview.contentInset = UIEdgeInsetsZero;\n    scrollview.clipsToBounds= YES;\n\n    CGFloat xOrigin ;\n\n    NSArray *  tempList = [self.sightseeing.images allObjects];\n\n    NSSortDescriptor *  sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@\"image_counter\"\n                                                 ascending:YES];\n\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"self.is_image = %@\", @(YES)];\n    ImagesList = [tempList filteredArrayUsingPredicate:predicate];\n    ImagesList = [ImagesList sortedArrayUsingDescriptors:@[sortDescriptor]];\n    self.paging.numberOfPages = [ImagesList count];\n    selectedOffset = 0 ;\n\n    for (int i = 0 ; i&lt; [ImagesList count]; i++){\n\n        xOrigin = self.view.frame.size.width * i ;\n\n\n        Images * object = [ImagesList objectAtIndex:i];\n        UIImageView * imageView = [[UIImageView alloc] initWithFrame:CGRectMake(xOrigin, 0, scrollview.frame.size.width, scrollview.frame.size.height)];\n        imageView.autoresizingMask = NO ;\n\n        if (object.image.length &gt; 5) {\n            imageView.image = [UIImage imageWithData:object.image];\n        }\n        else\n        {\n            imageView.image = [UIImage imageNamed:Image_Placeholder];\n        }\n\n\n        [imageView setContentMode:UIViewContentModeScaleAspectFill];\n        [scrollview addSubview:imageView];\n\n    }\n\n\n\n    [scrollview setContentOffset:CGPointMake(0, 0)];\n    [scrollview setContentSize:CGSizeMake(self.scrolSV.frame.size.width *  [ImagesList count] , self.scrolSV.frame.size.height)];\n    [self.scrolSV addSubview:scrollview];\n</code></pre>\n\n<p>This is ScrolDidScrol method : </p>\n\n<pre><code>\n- (void)scrollViewDidScroll:(UIScrollView *)scrollView\n{\n\n    [imageTimer invalidate];\n    if (![imageTimer isValid]) {\n        imageTimer = [NSTimer scheduledTimerWithTimeInterval:Timer_Length target:self selector:@selector(updateImages) userInfo:nil repeats:YES];\n    }\n    int offset = (int)scrollview.contentOffset.x /scrollView.frame.size.width;\n    self.paging.currentPage = offset;\n    if (selectedOffset != offset) {\n        selectedOffset = offset;\n        UIImageView * imageV= [scrollView.subviews objectAtIndex:offset];\n\n        Images * image = [ImagesList objectAtIndex:offset];\n\n        if (![image.image length]) {\n\n            [QBRequest downloadFileFromClassName:Sightseeing_Table_Name objectID:self.sightseeing.object_id fileFieldName:image.field_id\n                                    successBlock:^(QBResponse *response, NSData *loadedData) {\n                                        if (loadedData.length &gt; 100) {\n                                            image.image = loadedData;\n                                            imageV.image = [UIImage imageWithData:image.image];\n                                            [imageV setContentMode:UIViewContentModeScaleAspectFill];\n                                        }\n\n                                    } statusBlock:^(QBRequest *request, QBRequestStatus *status) {\n\n                                    } errorBlock:^(QBResponse *error) {\n\n                                    }];\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>This is the image when first time viewed <a href=\"https://i.stack.imgur.com/WxXEf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WxXEf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After going through images, then it shows like : \n<a href=\"https://i.stack.imgur.com/eqsrF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eqsrF.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "uitableview", "uitextview"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1563289645, "post_id": 57059945, "comment_id": 100646240, "body": "Do you have scrolling disabled on your text views? Show the code you&#39;re using to update the table view when you edit the text views."}, {"owner": {"reputation": 614, "user_id": 3066272, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b834799829c3a2d4df670277191f23ab?s=128&d=identicon&r=PG&f=1", "display_name": "surToTheW", "link": "https://stackoverflow.com/users/3066272/surtothew"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1563290441, "post_id": 57059945, "comment_id": 100646698, "body": "@DonMag Yes, I have scrolling disabled in the text views. I updated the question with the code."}, {"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 1, "creation_date": 1563295686, "post_id": 57059945, "comment_id": 100649412, "body": "You&#39;ve got a bit going on there. I&#39;d suggest... First, put a textView on its own in a view and make sure its height grows / shrinks as expected. Then put a textView in a tableViewCell and have it tell the delegate to call <code>beginUpdates &#47; endUpdates</code> and see if that works as expected. If so, then start closely inspecting the rest of your code (that&#39;s moving the table up/down to account for the keyboard, I assume) to see what might be causing the issue."}], "owner": {"reputation": 614, "user_id": 3066272, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b834799829c3a2d4df670277191f23ab?s=128&d=identicon&r=PG&f=1", "display_name": "surToTheW", "link": "https://stackoverflow.com/users/3066272/surtothew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563292648, "creation_date": 1563288319, "last_edit_date": 1563292648, "question_id": 57059945, "link": "https://stackoverflow.com/questions/57059945/uitextview-new-line-unexpected-behavior", "title": "UITextView new line unexpected behavior", "body": "<p>I have <code>UITableView</code> with manually sizing <code>UITableViewCells</code>. Every <code>UITableViewCell</code> contains <code>UITextView</code>. When adding new text the cell grows and on removing shrinks and the tableview goes up if the text will be hidden from the keyboard. Except when adding a new line by tapping the Return key. Then it sometimes works correctly, but after a couple of new lines (the count differs - it can be 2, it can be 16) the cell just stops growing and when the tableview goes up it just leaves space on the bottom. If I then dismiss the keyboard the cell sizes are recalculated correctly and the new lines are there. This issue does not happen with other text. Then the cell grows and the tableview goes up as intended. Any ideas and/ or workarounds would be appreciated. </p>\n\n<p>Edit: After some more testing I figured out this issue can happen if a lot of text is pasted in the text view so it is not just connected to the new line character</p>\n\n<p>The code I am using to update the textviews is:</p>\n\n<p>In the cell:</p>\n\n<pre><code>-(void)textViewDidChange:(UITextView *)textView {\n\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [UIView setAnimationsEnabled:NO];\n        [self.textViewUpdaterDelegate didChangeTextViewForCell:self];\n        [UIView setAnimationsEnabled:YES];\n    });\n\n}\n</code></pre>\n\n<p>Then in the delegate:</p>\n\n<pre><code>- (void)didChangeTextViewForCell:(nonnull SectionQuestionCell *)cell {\n\n        NSIndexPath *indexPath = [self.tableView indexPathForRowAtPoint:cell.center];\n        NSInteger index = indexPath.row;\n        Question *question = self.questions[index];\n\n        question.hint = cell.dataTextView.text;\n\n        //to update the table view cell height\n        [self.tableView beginUpdates];\n        [self.tableView endUpdates];\n\n        CGRect cursor = [cell.dataTextView caretRectForPosition:cell.dataTextView.selectedTextRange.start];\n        CGRect convertedCursor = [cell.dataTextView convertRect:cursor toView:self.tableView.superview];\n\n        CGFloat allHeight = self.tableView.superview.frame.size.height;\n        CGFloat cursorEnd = convertedCursor.origin.y + convertedCursor.size.height;\n        CGFloat visibleHeight = allHeight - self.keyboardHeight;\n        if (visibleHeight &gt;= cursorEnd &amp;&amp; cursorEnd &gt; 0) {\n            //it means it is in the visible part\n            return;\n        }\n\n        CGFloat difference = 0;\n        if (cursorEnd &gt;= 0) {\n            difference = cursorEnd - visibleHeight;\n        } else {\n            difference = -convertedCursor.origin.y;\n        }\n\n        if (indexPath.row == self.questions.count - 1 &amp;&amp; self.tableView.contentSize.height &gt; self.tableView.frame.size.height) {\n            [self.tableView beginUpdates];\n            [self.tableView endUpdates];\n            [self.tableView scrollToRowAtIndexPath:indexPath atScrollPosition:UITableViewScrollPositionBottom animated:NO];\n        } else if (difference != 0) {\n            [UIView animateWithDuration:0.3 animations:^{\n                self.tableViewTopConstraint.constant -= difference;\n            }];\n        }\n    }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "core-text"], "comments": [{"owner": {"reputation": 563, "user_id": 10225535, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WknueOSDSb8/AAAAAAAAAAI/AAAAAAAAAMs/Fcel0c7iho4/photo.jpg?sz=128", "display_name": "Samuel Chavez", "link": "https://stackoverflow.com/users/10225535/samuel-chavez"}, "edited": false, "score": 0, "creation_date": 1563289130, "post_id": 57059580, "comment_id": 100645909, "body": "You just want to convert the swift code to objective right?, I don&#39;t see the conversion of the method characterPaths in your post, aren&#39;t you missing that?"}, {"owner": {"reputation": 772, "user_id": 797196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c5303b671803134c3687de4404bb28aa?s=128&d=identicon&r=PG", "display_name": "Sk Borhan Uddin", "link": "https://stackoverflow.com/users/797196/sk-borhan-uddin"}, "reply_to_user": {"reputation": 563, "user_id": 10225535, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WknueOSDSb8/AAAAAAAAAAI/AAAAAAAAAMs/Fcel0c7iho4/photo.jpg?sz=128", "display_name": "Samuel Chavez", "link": "https://stackoverflow.com/users/10225535/samuel-chavez"}, "edited": false, "score": 0, "creation_date": 1563359017, "post_id": 57059580, "comment_id": 100670897, "body": "characterPaths returns CGMutablePathRef. In swift code, using that  CGMutablePathRef a shape layer was created where all letters are drawn. In that cases you can&#39;t add animation in individual letters, there is only one layer. For individual character animation, I have to draw different shape layers for different characters. Thats why I implemented it in a single method. So technically characterPaths is implemented in code."}], "owner": {"reputation": 772, "user_id": 797196, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c5303b671803134c3687de4404bb28aa?s=128&d=identicon&r=PG", "display_name": "Sk Borhan Uddin", "link": "https://stackoverflow.com/users/797196/sk-borhan-uddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1563293080, "creation_date": 1563287188, "last_edit_date": 1563293080, "question_id": 57059580, "link": "https://stackoverflow.com/questions/57059580/having-position-problem-in-core-text-animation", "title": "Having position problem in Core Text animation", "body": "<p>I'm trying to convert following (<a href=\"https://stackoverflow.com/a/49100870/797196\">link</a>) swift code in objective c.</p>\n\n<p><a href=\"https://stackoverflow.com/a/49100870/797196\">https://stackoverflow.com/a/49100870/797196</a></p>\n\n<pre><code>CTFontRef helveticaBold = CTFontCreateWithName( CFSTR(\"Helvetica-Bold\"), 60.0, NULL);\nNSString* unicodeString =@\"Window Title\";\n\nCGColorRef color = [UIColor blueColor].CGColor;\nNSNumber* underline = [NSNumber numberWithInt:\n                       kCTUnderlineStyleSingle|kCTUnderlinePatternDot];\n\nNSDictionary* attributesDict = [NSDictionary dictionaryWithObjectsAndKeys:\n                                (__bridge id)helveticaBold, (NSString*)kCTFontAttributeName,\n                                color, (NSString*)kCTForegroundColorAttributeName,\n                                underline, (NSString*)kCTUnderlineStyleAttributeName, nil];\n\nNSAttributedString* stringToDraw = [[NSAttributedString alloc]\n                                    initWithString:unicodeString\n                                    attributes:attributesDict];\nCGMutablePathRef letters = CGPathCreateMutable();\n//    CTFontRef font = CTFontCreateWithName((__bridge CFStringRef)@\"Avenir\",20,nil);\nCTLineRef lines = CTLineCreateWithAttributedString((CFAttributedStringRef)stringToDraw);\nCFArrayRef runArray = CTLineGetGlyphRuns(lines);\nCAShapeLayer *pathLayer = [CAShapeLayer layer];\nfor (int i = 0; i &lt; CFArrayGetCount(runArray); i++) {\n    CTRunRef run = CFArrayGetValueAtIndex(runArray, i);\n    CFDictionaryRef dictRef = CTRunGetAttributes(run);\n    NSDictionary *dict = (__bridge NSDictionary*)dictRef;\n    CTFontRef runFont = (__bridge CTFontRef)(dict[(NSString*)kCTFontAttributeName]);\n    for (int runGlyphIndex=0; runGlyphIndex&lt;CTRunGetGlyphCount(run); runGlyphIndex++) {\n\n        CGGlyph glyph;\n        CGPoint position = CGPointZero;\n        CTRunGetGlyphs(run, CFRangeMake(runGlyphIndex, 1), &amp;glyph);\n        CTRunGetPositions(run, CFRangeMake(runGlyphIndex, 1), &amp;position);\n        CGPathRef letter = CTFontCreatePathForGlyph(runFont, glyph, nil);\n        CGAffineTransform t = CGAffineTransformMakeTranslation(position.x, position.y);\n        CGPathAddPath(letters, &amp;t, letter);\n        CAShapeLayer *pathL = [CAShapeLayer layer];\n        //            pathLayer.frame = _pathLayerView.bounds;\n        CGRect rect = CGPathGetBoundingBox(letter);\n        rect.origin = position;\n        pathL.frame = rect;\n        pathL.geometryFlipped   = true;\n        pathL.path              = letter;\n        pathL.strokeColor       = UIColor.blueColor.CGColor;\n        pathL.fillColor         = UIColor.redColor.CGColor;\n        pathL.lineWidth         = 4.0;\n        pathL.lineJoin          = kCALineJoinBevel;\n\n        CABasicAnimation *stroke = [CABasicAnimation animationWithKeyPath:@\"strokeEnd\"];\n        stroke.fromValue = @(0.0);\n        stroke.duration = 3.0f;\n        stroke.repeatCount = 0;\n        [pathL addAnimation:stroke forKey:nil];\n\n        [pathLayer addSublayer:pathL];\n    }\n}\n\n[_pathLayerView.layer addSublayer:pathLayer];\n</code></pre>\n\n<p>But the problem is letters alignment is not in required position. \"i\",\"n\",\"o\" letters y position starts from the top. &amp; its obvious, because I didn't use the position of the letters.</p>\n\n<p><a href=\"https://i.stack.imgur.com/03163.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03163.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I find out the positions of the letters using <code>CTRunGetPositions</code>, but I dont know how to use it or where to use it.</p>\n"}, {"tags": ["ios", "objective-c", "web-services", "afnetworking"], "comments": [{"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1563287052, "post_id": 57058202, "comment_id": 100644571, "body": "Ask back end team to send any other value(object) with data to identify total records get. The object may be bool or integer. Based on that value, you can stop the loop."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563284251, "post_id": 57058399, "comment_id": 100642705, "body": "data is only dictionary can i use userdefaults ?"}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "reply_to_user": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563292164, "post_id": 57058399, "comment_id": 100647703, "body": "Since you have large amount of data. It would be better if you can store it in DB or CoreData."}, {"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563357183, "post_id": 57058399, "comment_id": 100669883, "body": "@manissharma93 it is working but taking lot of time  and app is freezed here ."}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "reply_to_user": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563358229, "post_id": 57058399, "comment_id": 100670516, "body": "@zack So what you can do is either make your call async or show some progress Hud, saying updating data or something"}, {"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563359013, "post_id": 57058399, "comment_id": 100670895, "body": "calls are fine but storing in db taking lot of time."}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "reply_to_user": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563360705, "post_id": 57058399, "comment_id": 100671725, "body": "@zack You are storing a huge amount of data. So, it is going to take time."}, {"owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563371555, "post_id": 57058399, "comment_id": 100678242, "body": "i am using <code>fmdb</code> for sqlite but when i want to show loader , loader is also getting freezed. for loader <code>MBProgress hud</code> using."}, {"owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "reply_to_user": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "edited": false, "score": 0, "creation_date": 1563379107, "post_id": 57058399, "comment_id": 100682910, "body": "@zack Please check my updated answer. If possible call loaded show method in main thread."}], "tags": [], "owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "is_accepted": false, "score": 0, "last_activity_date": 1563379073, "last_edit_date": 1563379073, "creation_date": 1563283681, "answer_id": 57058399, "question_id": 57058202, "link": "https://stackoverflow.com/questions/57058202/how-to-call-same-service-multiple-time-and-store-data-in-ios/57058399#57058399", "title": "How to call same service multiple time and store data in ios", "body": "<p>You can store data into sqlite database. And for recursive calling for service, you can modify the same method as,</p>\n\n<pre><code>-(void)vendorsListCalling:(NSInteger)pageIndex {\n\n    if (!loader) {\n        //Write code to Show your loader here\n    }\n\n    [[ServicesHandler new] callVendorDetailsServiceWithParams:@{@\"pageno\":@(pageIndex)} CompletionBLock:^(NSDictionary *response, NSError *error) {\n        if (error) {\n            NSLog(@\"error log  %@\",error.localizedDescription);\n\n            //If it fails you need to call the service again with the same Index\n            [self vendorsListCalling:pageCount];\n\n        } else {\n            if (!response[@\"params\"][@\"data\"]) {\n                //Stop loader since you didn't received any data\n            } else {\n                NSDictionary *dict = response[@\"params\"][@\"data\"];\n                [vendorDictionay addEntriesFromDictionary:dict];\n                pageCount++;\n\n                // Store Data in database here //\n\n                //Call service with incremented Index\n                [self vendorsListCalling:pageCount];\n            }\n        }\n    }];\n}\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 11351313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c3e7965fede9d00a928617ed0aab52?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/11351313/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563379073, "creation_date": 1563283082, "question_id": 57058202, "link": "https://stackoverflow.com/questions/57058202/how-to-call-same-service-multiple-time-and-store-data-in-ios", "title": "How to call same service multiple time and store data in ios", "body": "<p>I have a situation where I will be getting more than 25000 records from web service, it is sending using pagination technique.\n so the problem is I just want to store the data so for that I am thinking to run it in a loop but in future records  may vary (i.e 30000,50000 etc)</p>\n\n<p>from backend I am getting on each page 10000 records,but i dont know how many times i have run the loop so how do I handle this problem?</p>\n\n<pre><code>-(void)vendorsListCalling:(NSInteger)pageIndex{\n    [[ServicesHandler new] callVendorDetailsServiceWithParams:@{@\"pageno\":@(pageIndex)} CompletionBLock:^(NSDictionary *response, NSError *error) {\n        if (error) {\n            NSLog(@\"error log  %@\",error.localizedDescription);\n\n        }else{\n            NSDictionary *dict = response[@\"params\"][@\"data\"];\n            [vendorDictionay addEntriesFromDictionary:dict];\n            pageCount++;\n            [[NSUserDefaults standardUserDefaults] setObject:vendorDictionay forKey:@\"vendorsDict\"];\n\n        }\n    }];\n\n}\n</code></pre>\n\n<p>above block is where i stuck .</p>\n\n<p>Any suggestions would be more appreciated.</p>\n"}, {"tags": ["objective-c", "uicollectionview", "nsarray", "uicollectionviewcell"], "comments": [{"owner": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563290079, "post_id": 57057646, "comment_id": 100646478, "body": "attach your number of section <code>func numberOfSections(in collectionView: UICollectionView) -&gt; Int </code> in your question"}, {"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "reply_to_user": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563319042, "post_id": 57057646, "comment_id": 100657958, "body": "@Vicky_Vignesh numberOfSection is \u201c1\u201d and row is \u201cself.listHome.count\u201d"}, {"owner": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563345203, "post_id": 57057646, "comment_id": 100663443, "body": "make a break point and see the value in <code>item.cellClass</code> for each iteration."}, {"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "reply_to_user": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563370433, "post_id": 57057646, "comment_id": 100677471, "body": "@Vicky_Vignesh I think It&#39;s because of <code>return cell;</code> this makes ignore the loop."}, {"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "reply_to_user": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563371284, "post_id": 57057646, "comment_id": 100678041, "body": "@Vicky_Vignesh just found a way to fix it. It&#39;s in the answer. check it out."}, {"owner": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563372370, "post_id": 57057646, "comment_id": 100678785, "body": "great @peter, yes ! you should not have used the loop inside it ! Do you know why you should not use the loop ?"}, {"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "reply_to_user": {"reputation": 550, "user_id": 6875078, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d248a654588278480a0dcf7416e2af9b?s=128&d=identicon&r=PG&f=1", "display_name": "Vicky_Vignesh", "link": "https://stackoverflow.com/users/6875078/vicky-vignesh"}, "edited": false, "score": 0, "creation_date": 1563373763, "post_id": 57057646, "comment_id": 100679758, "body": "@Vicky_Vignesh yeah, return makes re-run its method so return shouldn&#39;t be in the loop."}], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "is_accepted": true, "score": 0, "last_activity_date": 1563371238, "creation_date": 1563371238, "answer_id": 57077446, "question_id": 57057646, "link": "https://stackoverflow.com/questions/57057646/how-to-show-custom-uicollectionviewcell-by-nsarray/57077446#57077446", "title": "How to show custom UICollectionViewCell by NSArray?", "body": "<p>Ok, I didn't need to loop it.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {\n    RSHomeItem *item = self.listHome[indexPath.row];\n\n    if ([item.cellClass isEqualToString:@\"RepoOfTheMonth\"]) {\n        RepoOfTheMonthCell *repo = [collectionView dequeueReusableCellWithReuseIdentifier:@\"RepoOfTheMonth\" forIndexPath:indexPath];\n        [repo.imageView sd_setImageWithURL:[NSURL URLWithString:item.img]];\n        [repo withTitle:item.title URL:item.url];\n\n        return repo;\n    }\n\n    if ([item.cellClass isEqualToString:@\"FromTheEditors\"]) {\n        FromTheEditorsCell *editors = [collectionView dequeueReusableCellWithReuseIdentifier:@\"FromTheEditors\" forIndexPath:indexPath];\n        [editors.imageView sd_setImageWithURL:[NSURL URLWithString:item.img]];\n        editors.titleLabel.text = item.title;\n        editors.subtitleLabel.text = item.subtitle;\n\n        return editors;\n    }\n\n    if ([item.cellClass isEqualToString:@\"WorldPremiere\"]) {\n        WorldPremiereCell *premiere = [collectionView dequeueReusableCellWithReuseIdentifier:@\"WorldPremiere\" forIndexPath:indexPath];\n        [premiere.imageView sd_setImageWithURL:[NSURL URLWithString:item.img]];\n        [premiere withTitle:item.title URL:item.url];\n\n        return premiere;\n    }\n\n    return nil;\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57077446, "answer_count": 1, "score": 0, "last_activity_date": 1563371238, "creation_date": 1563281299, "last_edit_date": 1563329630, "question_id": 57057646, "link": "https://stackoverflow.com/questions/57057646/how-to-show-custom-uicollectionviewcell-by-nsarray", "title": "How to show custom UICollectionViewCell by NSArray?", "body": "<p>I have three custom <code>UICollectionViewCell</code>.</p>\n\n<ul>\n<li>RepoOfTheMonthCell</li>\n<li>FromTheEditorsCell</li>\n<li>WorldPremiereCell</li>\n</ul>\n\n<p>and I have a <code>NSArray</code> contains order of these cells and contents which these cells should show. ('cellClass' is a class.)</p>\n\n<pre><code>(\n    \"&lt;RSHomeItem&gt; \\n   [title]: REPO\\n   OF THE\\n   MONTH\\n   [img]: https://nexusrepo.kro.kr/repostore/img0.png\\n   [url]: https://nexusrepo.kro.kr/\\n   [cellClass]: RepoOfTheMonth\\n   [subtitle]: &lt;nil&gt;\\n&lt;/RSHomeItem&gt;\",\n    \"&lt;RSHomeItem&gt; \\n   [title]: REPO STORE\\n   [img]: https://nexusrepo.kro.kr/repostore/img1.png\\n   [url]: &lt;nil&gt;\\n   [cellClass]: FromTheEditors\\n   [subtitle]: Welcome to the\\n   Repo Store!\\n&lt;/RSHomeItem&gt;\",\n    \"&lt;RSHomeItem&gt; \\n   [title]: FEATURED REPO\\n   [img]: https://nexusrepo.kro.kr/repostore/img2.png\\n   [url]: https://nexusrepo.kro.kr\\n   [cellClass]: WorldPremiere\\n   [subtitle]: &lt;nil&gt;\\n&lt;/RSHomeItem&gt;\"\n)\n</code></pre>\n\n<p>So, In <code>- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath;</code>\nI looped the <code>NSArray</code> like this.</p>\n\n<p><code>self.listHome</code> is a <code>NSArray</code>. and this array is special so I need to use <code>RSHomeItem(JSONModel)</code> to get value of 'cellClass' in string.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>for (RSHomeItem *item in self.listHome) {\n    NSLog(@\"class: %@\", item.cellClass);\n}\n</code></pre>\n\n<p>this method logged </p>\n\n<pre><code>class: RepoOfTheMonth\nclass: FromTheEditors\nclass: WorldPremiere\n</code></pre>\n\n<p>So I wrote this</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>-(UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {\n    int i = 0;\n    for (RSHomeItem *item in self.listHome) {\n        NSIndexPath *iIndexPath = [NSIndexPath indexPathForRow:i inSection:0];\n        if ([item.cellClass isEqualToString:@\"RepoOfTheMonth\"]) {\n            RepoOfTheMonthCell *repo = [collectionView dequeueReusableCellWithReuseIdentifier:@\"RepoOfTheMonth\" forIndexPath:iIndexPath];\n            [repo.imageView sd_setImageWithURL:[NSURL URLWithString:item.img]];\n            [repo withTitle:item.title URL:item.url];\n\n            return repo;\n        } else if ([item.cellClass isEqualToString:@\"FromTheEditors\"]) {\n            FromTheEditorsCell *editors = [collectionView dequeueReusableCellWithReuseIdentifier:@\"FromTheEditors\" forIndexPath:iIndexPath];\n            [editors.imageView sd_setImageWithURL:[NSURL URLWithString:item.img]];\n            editors.titleLabel.text = item.title;\n            editors.subtitleLabel.text = item.subtitle;\n\n            return editors;\n        } else if ([item.cellClass isEqualToString:@\"WorldPremiere\"]) {\n            WorldPremiereCell *premiere = [collectionView dequeueReusableCellWithReuseIdentifier:@\"WorldPremiere\" forIndexPath:indexPath];\n            [premiere.imageView sd_setImageWithURL:[NSURL URLWithString:item.img]];\n            [premiere withTitle:item.title URL:item.url];\n\n            return premiere;\n        }\n\n        i = i + 1;\n    }\n\n    return nil;\n}\n</code></pre>\n\n<p>It builds well but It shows three <code>RepoOfTheMonthCell</code> with the same data instead of showing cells in this order.</p>\n\n<ol>\n<li>RepoOfTheMonthCell</li>\n<li>FromTheEditorsCell</li>\n<li>WorldPremiereCell</li>\n</ol>\n\n<p>numberOfSection is \u201c1\u201d and numberOfRow is \u201cself.listHome.count\u201d</p>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1563280951, "post_id": 57054952, "comment_id": 100640652, "body": "ask your question clearly, once you are edited the question after that you mention in comment"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 8295562, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Rtebcq5Roec/AAAAAAAAAAI/AAAAAAAAABE/qGb4HwbB604/photo.jpg?sz=128", "display_name": "pconor", "link": "https://stackoverflow.com/users/8295562/pconor"}, "is_accepted": true, "score": 0, "last_activity_date": 1563547994, "creation_date": 1563547994, "answer_id": 57114987, "question_id": 57054952, "link": "https://stackoverflow.com/questions/57054952/how-to-programmatically-determine-if-the-iphones-passcode-was-changed-or-remove/57114987#57114987", "title": "How to programmatically determine if the iPhone&#39;s passcode was changed or removed?", "body": "<p>AFAIK, it's not possible to <strong>observe</strong> passcode changes using any public iOS APIs.</p>\n\n<p>The only thing you can do is check if the passcode (or biometric authentication method: TouchID, FaceID) is enabled or disabled using LocalAuthentication framework APIs.</p>\n"}], "owner": {"reputation": 111, "user_id": 1195286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iM6xd.png?s=128&g=1", "display_name": "Krupal Ghorpade", "link": "https://stackoverflow.com/users/1195286/krupal-ghorpade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57114987, "answer_count": 1, "score": 2, "last_activity_date": 1563547994, "creation_date": 1563271997, "last_edit_date": 1563277094, "question_id": 57054952, "link": "https://stackoverflow.com/questions/57054952/how-to-programmatically-determine-if-the-iphones-passcode-was-changed-or-remove", "title": "How to programmatically determine if the iPhone&#39;s passcode was changed or removed?", "body": "<p>I'm working on an app where I need to find out if the user has changed iPhone's passcode from Settings. \nPlease note that I know \"How to determine if the iPhone has passcode enabled\". \nWhat I want to know is if the user has changed the passcode or not!</p>\n"}, {"tags": ["ios", "objective-c", "sdk", "frameworks", "cocoapods"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11527443, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6256w6EKYhY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3retpb5bbx_SoKwTRLIgyKBMDEiuOg/mo/photo.jpg?sz=128", "display_name": "Tripwire", "link": "https://stackoverflow.com/users/11527443/tripwire"}, "edited": false, "score": 0, "creation_date": 1563281669, "post_id": 57057476, "comment_id": 100641091, "body": "Hi, Thanks for the reply! So I&#39;m using cocoapods to install the other frameworks."}, {"owner": {"reputation": 86, "user_id": 3921872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2587d47306d7dbb9117f4560aef6d5?s=128&d=identicon&r=PG&f=1", "display_name": "qRis", "link": "https://stackoverflow.com/users/3921872/qris"}, "reply_to_user": {"reputation": 11, "user_id": 11527443, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6256w6EKYhY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3retpb5bbx_SoKwTRLIgyKBMDEiuOg/mo/photo.jpg?sz=128", "display_name": "Tripwire", "link": "https://stackoverflow.com/users/11527443/tripwire"}, "edited": false, "score": 0, "creation_date": 1563282418, "post_id": 57057476, "comment_id": 100641556, "body": "Okay, but when you say you have different sets of third party libs in the framework, how do you change that? do you just edit the Podfile and rund <code>pod install</code> again?"}, {"owner": {"reputation": 11, "user_id": 11527443, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6256w6EKYhY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3retpb5bbx_SoKwTRLIgyKBMDEiuOg/mo/photo.jpg?sz=128", "display_name": "Tripwire", "link": "https://stackoverflow.com/users/11527443/tripwire"}, "edited": false, "score": 0, "creation_date": 1563283924, "post_id": 57057476, "comment_id": 100642512, "body": "The idea is that we make it easier for clients to communicate with the third party frameworks we&#39;re going to use (can&#39;t mention names unfortunately) and stuff that comes with those (like API calls). Let&#39;s call our framework AwesomeSDK, lets say we have Client A who wants to have the AwesomeSDK + Framework A and Framework B and Client B uses the AwesomeSDK but only with FrameWork A I want to remove / disable the code from Framework B because obviously it&#39;s not there. All the third party frameworks will be installed via cocoapods in their own project so our framework + framework A + framework b"}], "tags": [], "owner": {"reputation": 86, "user_id": 3921872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce2587d47306d7dbb9117f4560aef6d5?s=128&d=identicon&r=PG&f=1", "display_name": "qRis", "link": "https://stackoverflow.com/users/3921872/qris"}, "is_accepted": false, "score": 0, "last_activity_date": 1563280699, "creation_date": 1563280699, "answer_id": 57057476, "question_id": 57054739, "link": "https://stackoverflow.com/questions/57054739/objective-c-turn-off-class-code-block-at-runtime-if-framework-doesnt-exist/57057476#57057476", "title": "Objective-c turn off class / code block at runtime if framework doesn&#39;t exist", "body": "<p>How do you configure your framework on wether to install a third party lib or not?</p>\n\n<p>If you are using several targets for your framework that each contain a different set of thirdparty frameworks installed through cocoapods, you could easily use 'Preprocessor Macros' (ObjC) or 'Other Swift Flags' (Swift).</p>\n\n<p>You can set them in your frameworks Build settings, depending on the libraries used in that target, and in your code check them with #ifdef (ObjC) or #if (swift) </p>\n"}, {"tags": [], "owner": {"reputation": 21404, "user_id": 556617, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1a73cc2ef5c749baf9d09a8273c18be?s=128&d=identicon&r=PG", "display_name": "Paul Beusterien", "link": "https://stackoverflow.com/users/556617/paul-beusterien"}, "is_accepted": false, "score": 0, "last_activity_date": 1563286164, "creation_date": 1563286164, "answer_id": 57059245, "question_id": 57054739, "link": "https://stackoverflow.com/questions/57054739/objective-c-turn-off-class-code-block-at-runtime-if-framework-doesnt-exist/57059245#57059245", "title": "Objective-c turn off class / code block at runtime if framework doesn&#39;t exist", "body": "<p>Use the Objective C or Swift symbol name of the class in the call to <code>NSClassFromString</code> - not the header file name.</p>\n"}, {"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 0, "last_activity_date": 1563404876, "creation_date": 1563404876, "answer_id": 57085056, "question_id": 57054739, "link": "https://stackoverflow.com/questions/57054739/objective-c-turn-off-class-code-block-at-runtime-if-framework-doesnt-exist/57085056#57085056", "title": "Objective-c turn off class / code block at runtime if framework doesn&#39;t exist", "body": "<p>Your code sample does not check the result of <code>__has_include</code> so the following code will be executed regardless, and it doesn't actually do an <code>#include</code> at all. You use <code>__has_include</code> inside an <code>#if</code> to guard an <code>#include</code> and any associated code, for example:</p>\n\n<pre><code>#if __has_include(\"class.h\")\n// code if include file is present\n#include \"class.h\"\n... // any other code\n#else\n... // code if include file is not present\n#endif\n</code></pre>\n\n<p>For further details see <a href=\"https://gcc.gnu.org/onlinedocs/cpp/_005f_005fhas_005finclude.html\" rel=\"nofollow noreferrer\">C preprocessor docs</a>. HTH</p>\n"}], "owner": {"reputation": 11, "user_id": 11527443, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6256w6EKYhY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3retpb5bbx_SoKwTRLIgyKBMDEiuOg/mo/photo.jpg?sz=128", "display_name": "Tripwire", "link": "https://stackoverflow.com/users/11527443/tripwire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1563404876, "creation_date": 1563271322, "question_id": 57054739, "link": "https://stackoverflow.com/questions/57054739/objective-c-turn-off-class-code-block-at-runtime-if-framework-doesnt-exist", "title": "Objective-c turn off class / code block at runtime if framework doesn&#39;t exist", "body": "<p>I'm creating a framework which could contain multiple third party frameworks. The other third party frameworks are installed via cocoapods. Is it possible to check in my framework when the example app compiles if a certain third party framework exists, and if not turn off that part of the code or class so no errors will be thrown? When the framework does exist I want to turn on the code or class so the class or code can be used. </p>\n\n<p>I tried using some methods (see code) in my own created cocoapods but it didn't really work.</p>\n\n<pre><code>__has_include('class.h')\n\nClass klass = NSClassFromString(@\"class.h\");\nreturn klass != nil;\n</code></pre>\n\n<p>Basically the code above always returns false or doesn't include class.h even when a third party framework is installed through cocoapods.</p>\n"}, {"tags": ["objective-c", "methods", "uicolor", "cgcolor"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "edited": false, "score": 0, "creation_date": 1563388127, "post_id": 57082139, "comment_id": 100687156, "body": "Cheers for all the help. After your initial comment, I realised you would likely suggest I have the wrong var attributes assigned, so I refreshed myself on what each of the attributes do and resolved the issue by assigning the attributes (the same as suggested by you)."}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 0, "last_activity_date": 1563387858, "creation_date": 1563387858, "answer_id": 57082139, "question_id": 57053574, "link": "https://stackoverflow.com/questions/57053574/issue-assigning-custom-uicolor-to-class-property/57082139#57082139", "title": "Issue assigning custom UIColor to class property", "body": "<p>You have a memory management problem due to your <code>pColor</code> and <code>sColor</code> properties being declared as <code>assign</code> instead of <code>strong</code>.</p>\n\n<p>It appears to work with system colors because those system color instances are probably kept in memory by UIKit. But your custom colors are not.</p>\n\n<p>Change:</p>\n\n<pre><code>@property (assign) UIColor *pColor;\n@property (assign) UIColor *sColor;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>@property (nonatomic, strong) UIColor *pColor;\n@property (nonatomic, strong) UIColor *sColor;\n</code></pre>\n\n<p>You should very rarely, if ever, use <code>assign</code> with object pointers.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11043535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57082139, "answer_count": 1, "score": 1, "last_activity_date": 1563391570, "creation_date": 1563267326, "last_edit_date": 1563391570, "question_id": 57053574, "link": "https://stackoverflow.com/questions/57053574/issue-assigning-custom-uicolor-to-class-property", "title": "Issue assigning custom UIColor to class property", "body": "<p>I'm having troubles passing through a custom UIColor to a method I've created. </p>\n\n<p>Basically, I have a class that extends the UIButton class, in which I can assign whatever colours I want to different, commonly modified, properties of the class. To do this I often have to set the colours of things to \"uiColorParameter.CGColor\", or \"uiColorParameter\". My issue is that when I pass a custom colour as an argument (So instead of [UIColor whiteColor] (for example) I do [UIColor colorWithRed:...], the app crashes with the error \"Thread 1: EXC_BAD_ACCESS (code=1, address=0x20)\".</p>\n\n<p>2 times the class is utilised in a view controller.</p>\n\n<pre><code>[_beginButton updateButtonBorderWithCornerRadius:10 borderWidth:2.75 borderColor:[RoundedButton appRedColor]];\n[_beginButton setEventEffectsWithColor:[UIColor redColor] secondColor:[RoundedButton appRedColor]];\n</code></pre>\n\n<p>In the custom classes H</p>\n\n<pre><code>@property (assign) UIColor *pColor;\n@property (assign) UIColor *sColor;\n</code></pre>\n\n<p>In the custom class</p>\n\n<pre><code>- (void)updateButtonBorderWithCornerRadius:(CGFloat)bRadius borderWidth:(CGFloat)bWidth borderColor:(UIColor *)bColor\n{\n    self.layer.cornerRadius = bRadius;\n    self.layer.borderWidth = bWidth;\n    self.layer.borderColor = bColor.CGColor;\n}\n\n- (void)setEventEffectsWithColor:(UIColor *)fColor secondColor:(UIColor *)sColor\n{\n    [self setPrimaryBorderColor:fColor];\n    [self setSecondaryBorderColor:sColor];\n\n    [self addTarget:self action:@selector(highlight) forControlEvents:UIControlEventTouchDown];\n    [self addTarget:self action:@selector(unhighlight) forControlEvents:UIControlEventTouchUpInside];\n    [self addTarget:self action:@selector(unhighlight) forControlEvents:UIControlEventTouchDragExit];\n}\n\n- (void)highlight\n{\n    self.layer.borderColor = pColor.CGColor;\n    self.titleLabel.textColor = pColor;\n}\n\n- (void)unhighlight\n{\n    self.layer.borderColor = sColor.CGColor; //Where the error occurs\n    self.titleLabel.textColor = sColor;\n}\n\n- (void)setPrimaryBorderColor:(UIColor *)color\n{\n    pColor = color;\n}\n\n- (void)setSecondaryBorderColor:(UIColor *)color\n{\n    sColor = color;\n}\n\n+ (UIColor *)appRedColor\n{\n    return [UIColor colorWithRed:0.68 green:0.14 blue:0.09 alpha:1];\n}\n</code></pre>\n\n<p>The first method \"updateButtonBorder...\" works completely fine, no errors. However, for the second method, regardless of how you pass through the custom UIColor (whether has a class variable, as I've done, or as a literal [UIColor colorWithRed:...) it will crash. However, if I send an ordinary [UIColor whiteColor], for example, it will work perfectly fine...</p>\n"}, {"tags": ["java", "android", "objective-c", "encoding", "character-encoding"], "answers": [{"tags": [], "owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "is_accepted": false, "score": 0, "last_activity_date": 1563270368, "last_edit_date": 1563270368, "creation_date": 1563263619, "answer_id": 57052525, "question_id": 57052474, "link": "https://stackoverflow.com/questions/57052474/does-android-have-an-equivalent-to-string-canbeconvertedtostringencodingencodin/57052525#57052525", "title": "Does Android have an equivalent to string.canBeConvertedToStringEncoding(encoding)", "body": "<p>Try with <code>URLEncoder.encode(string, \"UTF-8\");</code></p>\n"}, {"comments": [{"owner": {"reputation": 381, "user_id": 4476654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w077G.jpg?s=128&g=1", "display_name": "Mudlabs", "link": "https://stackoverflow.com/users/4476654/mudlabs"}, "edited": false, "score": 0, "creation_date": 1563329602, "post_id": 57053416, "comment_id": 100659764, "body": "Thanks @lazy, but I&#39;m not looking for <i>how to encode</i>. Rather if Android has a method for testing <b>IF</b> a string can be converted to a particular encoding <i>(like iOS does)</i>. Otherwise you have to try to encode and catch any error, then try another encoding etc..."}, {"owner": {"reputation": 129, "user_id": 11732119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a70d8e97a64e658df0ffd61c72309d?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/11732119/lazy"}, "reply_to_user": {"reputation": 381, "user_id": 4476654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w077G.jpg?s=128&g=1", "display_name": "Mudlabs", "link": "https://stackoverflow.com/users/4476654/mudlabs"}, "edited": false, "score": 0, "creation_date": 1563331198, "post_id": 57053416, "comment_id": 100660014, "body": "@Mudlabs ok,I understand what you want. you can use &quot;Charset&quot;"}], "tags": [], "owner": {"reputation": 129, "user_id": 11732119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a70d8e97a64e658df0ffd61c72309d?s=128&d=identicon&r=PG&f=1", "display_name": "lazy", "link": "https://stackoverflow.com/users/11732119/lazy"}, "is_accepted": false, "score": 1, "last_activity_date": 1563331234, "last_edit_date": 1563331234, "creation_date": 1563266720, "answer_id": 57053416, "question_id": 57052474, "link": "https://stackoverflow.com/questions/57052474/does-android-have-an-equivalent-to-string-canbeconvertedtostringencodingencodin/57053416#57053416", "title": "Does Android have an equivalent to string.canBeConvertedToStringEncoding(encoding)", "body": "<p>In the android transcode text like this:</p>\n\n<pre><code>byte[] utf8 = new String(string, \"ISO-8859-1\").getBytes(\"UTF-8\");\n</code></pre>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/652161/how-do-i-convert-between-iso-8859-1-and-utf-8-in-java\">How do I convert between ISO-8859-1 and UTF-8 in Java?</a></p>\n\n<p>Charset canEncode:</p>\n\n<pre><code>boolean ISO = Charset.forName(\"ISO-8859-1\").newEncoder()\n                .canEncode(str);\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/java/nio/charset/Charset.html#canEncode()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/nio/charset/Charset.html#canEncode()</a></p>\n"}, {"tags": [], "owner": {"reputation": 900, "user_id": 3902663, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/IQyER.jpg?s=128&g=1", "display_name": "SATO Yusuke", "link": "https://stackoverflow.com/users/3902663/sato-yusuke"}, "is_accepted": false, "score": 1, "last_activity_date": 1567525303, "last_edit_date": 1567525303, "creation_date": 1565225207, "answer_id": 57403865, "question_id": 57052474, "link": "https://stackoverflow.com/questions/57052474/does-android-have-an-equivalent-to-string-canbeconvertedtostringencodingencodin/57403865#57403865", "title": "Does Android have an equivalent to string.canBeConvertedToStringEncoding(encoding)", "body": "<p>Java doesn't have such kind of method, but you can check whether a string can be represented properly in a specific character encoding, by trying encoding/decoding.</p>\n\n<p>For example, you can make your own <code>string.canBeConvertedToStringEncoding</code> equivalent as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.UnsupportedEncodingException;\n\nclass Main {\n  public static void main(String[] args) throws UnsupportedEncodingException {\n    if (canBeConvertedToStringEncoding(\"abc\", \"ISO-8859-1\")) {\n      System.out.println(\"can be converted\");\n    } else {\n      System.out.println(\"cannot be converted\");\n    }\n\n    if (canBeConvertedToStringEncoding(\"\u3042\u3044\u3046\", \"ISO-8859-1\")) {\n      System.out.println(\"can be converted\");\n    } else {\n      System.out.println(\"cannot be converted\");\n    }\n  }\n\n  public static boolean canBeConvertedToStringEncoding(String target, String encoding) throws UnsupportedEncodingException {\n    String to = new String(target.getBytes(encoding), encoding);\n    return target.equals(to);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 4476654, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w077G.jpg?s=128&g=1", "display_name": "Mudlabs", "link": "https://stackoverflow.com/users/4476654/mudlabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1567525303, "creation_date": 1563263444, "question_id": 57052474, "link": "https://stackoverflow.com/questions/57052474/does-android-have-an-equivalent-to-string-canbeconvertedtostringencodingencodin", "title": "Does Android have an equivalent to string.canBeConvertedToStringEncoding(encoding)", "body": "<p>In <code>iOS</code> there is a method <code>canBeConvertedToStringEncoding</code> that will tell you if a given <code>string</code> can be encoded to the provided encoding/charset type <em>(i.e. UTF-8, ISOLatin1 etc...)</em>. Is there any equivalent built in method available in Android/Java <strong>?</strong></p>\n\n<p><code>iOS</code> also has a <code>fastestEncoding</code> and <code>smallestEncoding</code> which will return the best encoding type available for the given string. Does Android have any equivalent for these <strong>?</strong></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["ios", "objective-c", "twilio", "callkit", "avaudioengine"], "owner": {"reputation": 31, "user_id": 1912452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9328ce922e7b84808623ad4d4d946770?s=128&d=identicon&r=PG", "display_name": "xeal", "link": "https://stackoverflow.com/users/1912452/xeal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1563262369, "creation_date": 1563261017, "last_edit_date": 1563262369, "question_id": 57051826, "link": "https://stackoverflow.com/questions/57051826/how-to-apply-an-effect-on-sound-from-mic-realtime-during-the-call", "title": "How to apply an effect on sound from mic realtime during the call?", "body": "<p>My app makes calls via Twilio Voice SDK using <code>CallKIt</code>. I want to apply some effect (e.g. increase voice speed) on sound from my mic so that the other person can hear the sound after applying the effect.</p>\n\n<p>I found the solution here:\n<a href=\"https://github.com/twilio/video-quickstart-ios/blob/master/AudioDeviceExample/AudioDevices/ExampleAVAudioEngineDevice.m\" rel=\"nofollow noreferrer\">https://github.com/twilio/video-quickstart-ios/blob/master/AudioDeviceExample/AudioDevices/ExampleAVAudioEngineDevice.m</a></p>\n\n<p>I modified this example for my task and Twilio voice SDK. I was able to apply some effect to the sound from the mic but only on the Twilio side. The caller will hear the unchanged sound, and the modified sound will only be recorded if you save the conversation using Twilio SDK. It also reduces sound quality in both directions.</p>\n\n<p>Can I change the sound from mic locally in the same way so that the other person can here already changed the sound? How can I do this if it's possible?</p>\n\n<p>This is a part of the code, when I'm applying pitch effect to mic sound:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>[engine attachNode:pitch];\n\nAVAudioFormat *format = [[AVAudioFormat alloc] initWithCommonFormat:AVAudioPCMFormatFloat32 sampleRate:44100 channels:2 interleaved:false];\n\n[engine connect:pitch to:engine.mainMixerNode format:[engine.inputNode inputFormatForBus:0]];\n[engine connect:engine.mainMixerNode to:engine.outputNode format:format];\n</code></pre>\n"}, {"tags": ["objective-c", "openssl"], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 4111542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gqY6gTdWaSQ/AAAAAAAAAAI/AAAAAAAAADs/bj6KY1yw0ts/photo.jpg?sz=128", "display_name": "jjlei", "link": "https://stackoverflow.com/users/4111542/jjlei"}, "is_accepted": false, "score": 0, "last_activity_date": 1563320402, "creation_date": 1563320402, "answer_id": 57066744, "question_id": 57048567, "link": "https://stackoverflow.com/questions/57048567/ios-openssl-socket-connection/57066744#57066744", "title": "iOS Openssl Socket Connection", "body": "<p>Got the answer for myself. I just need to store them into NSMutableData, then convert the NSMutableData to hex and convert the Hex back to readable String. I was able to see the identify string.</p>\n"}], "owner": {"reputation": 99, "user_id": 4111542, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gqY6gTdWaSQ/AAAAAAAAAAI/AAAAAAAAADs/bj6KY1yw0ts/photo.jpg?sz=128", "display_name": "jjlei", "link": "https://stackoverflow.com/users/4111542/jjlei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563320402, "creation_date": 1563236164, "question_id": 57048567, "link": "https://stackoverflow.com/questions/57048567/ios-openssl-socket-connection", "title": "iOS Openssl Socket Connection", "body": "<p>I'm trying to connect to a local server by passing cert validation. Getting Weird response message back from the server that I do not know how to parse them.</p>\n\n<p>I am on the same wifi as the server, I'm able to get response back on the terminal</p>\n\n<p>openssl s_client -connect 18.21.19.162:9000   </p>\n\n<p>I have tried setting different Security level for NSStreamSocketSecurityLevelKey. Have tried adding different values for SSLSettings.</p>\n\n<pre><code>-(void)setSSL\n{\n    NSLog(@\"setting SSL\");\n\n    NSDictionary *sslSettings = [ [NSDictionary alloc]initWithObjectsAndKeys:\n                                 [NSNumber numberWithBool:NO], kCFStreamSSLValidatesCertificateChain,\n                                 [NSNumber numberWithBool:NO], kCFStreamSSLIsServer,\n                                 nil ];\n    CFReadStreamSetProperty((CFReadStreamRef)inputStream,kCFStreamPropertySSLSettings, (CFTypeRef)sslSettings);\n    CFWriteStreamSetProperty((CFWriteStreamRef)outputStream, kCFStreamPropertySSLSettings, (CFTypeRef)sslSettings);\n\n}\n\n- (void)open {\n\n    NSLog(@\"Opening streams.\");\n\n    outputStream = (__bridge NSOutputStream *)writeStream;\n    inputStream = (__bridge NSInputStream *)readStream;\n\n    [outputStream setDelegate:self];\n    [inputStream setDelegate:self];\n\n    [outputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n    [inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n\n    [inputStream setProperty:NSStreamSocketSecurityLevelTLSv1 forKey:NSStreamSocketSecurityLevelKey];\n\n    [outputStream open];\n    [inputStream open];\n\n    NSLog(@\"connected\");\n}\n\n- (IBAction)connectBtnEvent:(id)sender {\n\n   NSString *ip = @\"18.21.19.162\";\n   NSString *port = @\"9000\";\n\n    NSLog(@\"Setting up connection to %@ : %i\", ip, [port intValue]);\n    CFStreamCreatePairWithSocketToHost(kCFAllocatorDefault, (__bridge CFStringRef) ip, [port intValue], &amp;readStream, &amp;writeStream);\n\n    [self open];\n}\n\n- (void)stream:(NSStream *)theStream handleEvent:(NSStreamEvent)streamEvent {\n\n    NSLog(@\"stream event %lu\", streamEvent);\n\n    receivedData = @\"\";\n\n    switch (streamEvent) {\n\n        case NSStreamEventOpenCompleted:\n        {\n            NSLog(@\"Stream opened\");\n\n            [self setSSL];\n        }\n\n            break;\n        case NSStreamEventHasBytesAvailable:\n        {\n            //Trust object is available here\n            NSLog(@\"has byte available\");\n            if (theStream == inputStream)\n            {\n                uint8_t buffer[2048];\n                NSInteger len;\n\n                while ([inputStream hasBytesAvailable])\n                {\n                    len = [inputStream read:buffer maxLength:sizeof(buffer)];\n                    if (len &gt; 0)\n                    {\n                       NSString *output = [[NSString alloc] initWithBytes:buffer length:len encoding:NSASCIIStringEncoding];\n                       // NSString *output = [[NSString alloc] initWithBytes:buffer length:len encoding:NSUTF8StringEncoding];\n\n                        if(receivedData == nil || receivedData.length == 0)\n                        {\n                            receivedData = output;\n                        }\n                        else\n                        {\n                            receivedData = [receivedData stringByAppendingString:output];\n                        }\n                        if (output != nil)\n                        {\n                            NSLog(@\"server said: %@\", output);\n                            [self messageReceived:output];\n                        }\n                    }\n                }\n\n                NSLog(@\"receieved data: %@\", receivedData);\n            }\n        }\n\n\n            break;\n\n        case NSStreamEventHasSpaceAvailable:\n        {\n            //Trust object is available here\n             NSLog(@\"Stream has space available\");\n\n        }\n\n            break;\n\n        case NSStreamEventErrorOccurred:\n        {\n            NSLog(@\"has error occured: %@\",[theStream streamError].localizedDescription);\n        }\n\n            break;\n\n        case NSStreamEventEndEncountered:\n        {\n            [self close];\n\n            NSLog(@\"end encounter\");\n        }\n\n            break;\n        default:\n            NSLog(@\"Unknown event\");\n            break;\n    }\n\n}\n\n</code></pre>\n\n<p>I expected to see an identify handshake string back. </p>\n\n<p>But I got the below output. The server response with \\^B, not sure what that is or I'm not parsing it correctly.</p>\n\n<pre><code>2019-07-15 17:01:06.180575-0700 ProxyTest[3222:881204] Opening streams.\n2019-07-15 17:01:06.186495-0700 ProxyTest[3222:881204] connected\n2019-07-15 17:01:06.194703-0700 ProxyTest[3222:881204] stream event 1\n2019-07-15 17:01:06.194795-0700 ProxyTest[3222:881204] Stream opened\n2019-07-15 17:01:06.194822-0700 ProxyTest[3222:881204] setting SSL\n2019-07-15 17:01:06.195147-0700 ProxyTest[3222:881204] stream event 1\n2019-07-15 17:01:06.195197-0700 ProxyTest[3222:881204] Stream opened\n2019-07-15 17:01:06.195218-0700 ProxyTest[3222:881204] setting SSL\n2019-07-15 17:01:06.265101-0700 ProxyTest[3222:881204] stream event 4\n2019-07-15 17:01:06.265194-0700 ProxyTest[3222:881204] Stream has space available\n2019-07-15 17:01:06.266564-0700 ProxyTest[3222:881204] stream event 2\n2019-07-15 17:01:06.266639-0700 ProxyTest[3222:881204] has byte available\n2019-07-15 17:01:06.266703-0700 ProxyTest[3222:881204] server said: \\^B\n2019-07-15 17:01:06.266801-0700 ProxyTest[3222:881204] message got it: \\^B\n2019-07-15 17:01:06.266841-0700 ProxyTest[3222:881204] \\^B\n2019-07-15 17:01:06.266948-0700 ProxyTest[3222:881204] receieved data: \\^B\n2019-07-15 17:01:11.331533-0700 ProxyTest[3222:881204] stream event 2\n2019-07-15 17:01:11.331686-0700 ProxyTest[3222:881204] has byte available\n2019-07-15 17:01:11.331799-0700 ProxyTest[3222:881204] receieved data:\n2019-07-15 17:01:11.331912-0700 ProxyTest[3222:881204] stream event 16\n2019-07-15 17:01:11.331973-0700 ProxyTest[3222:881204] Closing streams.\n2019-07-15 17:01:11.332337-0700 ProxyTest[3222:881204] Disconnected\n2019-07-15 17:01:11.332390-0700 ProxyTest[3222:881204] end encounter\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "url", "websocket"], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 11698697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8877ef73e589bb78ca8467955fd50e4?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/11698697/displayname"}, "is_accepted": true, "score": 0, "last_activity_date": 1563978425, "creation_date": 1563978425, "answer_id": 57185288, "question_id": 57047080, "link": "https://stackoverflow.com/questions/57047080/web-socket-not-opening-in-ios-with-objective-c/57185288#57185288", "title": "Web Socket not opening in iOS with objective-c", "body": "<p>I had to configure the url for websocket making <code>ws://192.168.101.1:8080/api/ws</code></p>\n"}], "owner": {"reputation": 65, "user_id": 11698697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8877ef73e589bb78ca8467955fd50e4?s=128&d=identicon&r=PG&f=1", "display_name": "DisplayName", "link": "https://stackoverflow.com/users/11698697/displayname"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 57185288, "answer_count": 1, "score": 1, "last_activity_date": 1563978425, "creation_date": 1563224118, "question_id": 57047080, "link": "https://stackoverflow.com/questions/57047080/web-socket-not-opening-in-ios-with-objective-c", "title": "Web Socket not opening in iOS with objective-c", "body": "<p>I'm trying to open up a web socket in iOS, but when I print out the <code>readyState</code> of the socket, it either returns <code>connecting</code> or <code>closed</code> if I wait a few seconds to print it.</p>\n\n<pre><code>-(void)openSocket {\n    self.socket.delegate = self;\n    [self.socket setDelegateDispatchQueue:self.fvccWebsocketQueue];\n\n        FVLoggerTrace(@\"Opening web socket\");\n        NSURL* url = [NSURL URLWithString:[NSString stringWithFormat:@\"http://192.168.101.1:8080/api\"]];\n        NSURLRequest* urlRequest = [NSURLRequest requestWithURL:url cachePolicy:NSURLRequestReloadIgnoringCacheData timeoutInterval:self.retryInterval];\n\n        self.socket = [[SRWebSocket alloc] initWithURLRequest:urlRequest];\n        ++self.connectAttempts;\n        [self.socket open];\n        readyState = [[self socket] readyState];\n\n    }\n</code></pre>\n\n<p>the URL can open in safari and displays the JSON data, but for some reason the socket isn't connecting </p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1563210925, "post_id": 57044292, "comment_id": 100616586, "body": "If the arrays are literals why don&#39;t you declare them sorted?"}], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": false, "score": 1, "last_activity_date": 1563210971, "creation_date": 1563210971, "answer_id": 57044442, "question_id": 57044292, "link": "https://stackoverflow.com/questions/57044292/how-do-i-sort-the-values-component-of-an-nsdictionary/57044442#57044442", "title": "How do I sort the values component of an NSDictionary?", "body": "<p>One solution is to override the setter for the <code>channels</code> property:</p>\n\n<pre><code>- (void)setChannels:(NSDictionary&lt;NSString *, NSArray&lt;NSString *&gt; *&gt; *)value {\n    NSMutableDictionary *res = [NSMutableDictionary dictionary];\n    for (NSString *key in [value allKeys]) {\n        NSArray *values = [value[key] sortedArrayUsingSelector:@selector(caseInsensitiveCompare:)];\n        res[key] = values;\n    }\n\n    _channels = [res copy];\n}\n</code></pre>\n\n<p>The above was typed into my browser without testing so there could be typos.</p>\n"}], "owner": {"reputation": 105, "user_id": 4362370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546533d812c53dc1f380e8a0c7f62da6?s=128&d=identicon&r=PG&f=1", "display_name": "JFortYork", "link": "https://stackoverflow.com/users/4362370/jfortyork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563210971, "creation_date": 1563210263, "question_id": 57044292, "link": "https://stackoverflow.com/questions/57044292/how-do-i-sort-the-values-component-of-an-nsdictionary", "title": "How do I sort the values component of an NSDictionary?", "body": "<p>I have an NSDictionary like this:</p>\n\n<pre><code>self.channels = @{\n                  @\"Entertainment\" : @[@\"SnackableTV\", @\"Crave\", @\"Bravo\", @\"ETVE\"],\n                  @\"Discovery\" : @[@\"Discovery\", @\"Discovery Velocity\", @\"Discovery Investigation\", @\"Discovery Animal Planet\", @\"Discovery Science\"],\n                  @\"News\" : @[@\"CTV\", @\"CP24\", @\"BNN\", @\"CTV News\"],\n                  @\"Sports\" : @[@\"TSN\", @\"RDS\"],\n                  };\nself.sortedSectionNames = [[self.channels allKeys] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)];\n</code></pre>\n\n<p>I'm able to sort the section names, but I'm not sure how exactly to sort the values since each value is an array of strings.</p>\n\n<p>Ideally, I want it to come out like this:</p>\n\n<pre><code>@\"Entertainment\": @[@\"Bravo\", @\"Crave\", @\"ETVE\", @\"SnackableTV\"],\n@\"Discovery\": @[@\"Discovery\", @\"Discovery Animal Planet\", @\"Discovery Investigation\", @\"Discovery Science\", @\"Discovery Velocity\"];\n</code></pre>\n\n<p>etc...</p>\n\n<p>I want my table view to have both sorted section headings and sorted rows within each section.  Please advise?</p>\n\n<p>The two variables listed above are defined like this:</p>\n\n<pre><code>@property (nonatomic, copy) NSDictionary&lt;NSString *, NSArray&lt;NSString *&gt; *&gt; *channels;\n@property (nonatomic, copy) NSArray&lt;NSString *&gt; *sortedSectionNames;\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "networking", "ssl-certificate"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11701404"}, "edited": false, "score": 0, "creation_date": 1563211414, "post_id": 57044128, "comment_id": 100616774, "body": "Are you using a self signed certificate?"}, {"owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "edited": false, "score": 0, "creation_date": 1563551813, "post_id": 57044128, "comment_id": 100750532, "body": "Have you tried setting a breakpoint on the request and trapping the error message and response status code.  The error message should tell you exactly what the problem is."}], "owner": {"reputation": 1391, "user_id": 3431942, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/ruPJN.jpg?s=128&g=1", "display_name": "Jobins John", "link": "https://stackoverflow.com/users/3431942/jobins-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563209572, "creation_date": 1563209572, "question_id": 57044128, "link": "https://stackoverflow.com/questions/57044128/ios-app-fails-after-ssl-certificate-upgradation-on-server", "title": "iOS app fails after SSL certificate upgradation on server", "body": "<p>We have an iOS app that reads information from our secure web server through RestApi. Everything was working great until SSL certificates were installed on the server. After installation, all api calls were changed from HTTP to HTTPS. Interesting thing is that, the app runs well when we access internet from one of the ISP\u2019s that we have and on the other it fails. </p>\n\n<p>Can anyone give us some suggestions to solve the issue that we have now.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1563196782, "post_id": 57040574, "comment_id": 100608985, "body": "You should try this in real device not in simulator"}, {"owner": {"reputation": 41, "user_id": 2964955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585c5263d02ec4c4a64e0148141b9eab?s=128&d=identicon&r=PG&f=1", "display_name": "user2964955", "link": "https://stackoverflow.com/users/2964955/user2964955"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1563196857, "post_id": 57040574, "comment_id": 100609031, "body": "Yes, correct. in the real device, it&#39;s working fine but I want to run in the simulator as well. May I know the issue please and solution as well."}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1563196909, "post_id": 57040574, "comment_id": 100609068, "body": "x86_64 is simulator architecture and it does not supported by some library"}, {"owner": {"reputation": 41, "user_id": 2964955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585c5263d02ec4c4a64e0148141b9eab?s=128&d=identicon&r=PG&f=1", "display_name": "user2964955", "link": "https://stackoverflow.com/users/2964955/user2964955"}, "reply_to_user": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1563197024, "post_id": 57040574, "comment_id": 100609134, "body": "is there any alternate way run in the simulator?"}, {"owner": {"reputation": 13606, "user_id": 4601900, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bcdc767c3c8d2d70339eb709ce6a30a1?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Tukadiya", "link": "https://stackoverflow.com/users/4601900/prashant-tukadiya"}, "edited": false, "score": 0, "creation_date": 1563197191, "post_id": 57040574, "comment_id": 100609241, "body": "Sorry not aware about it :("}], "owner": {"reputation": 41, "user_id": 2964955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585c5263d02ec4c4a64e0148141b9eab?s=128&d=identicon&r=PG&f=1", "display_name": "user2964955", "link": "https://stackoverflow.com/users/2964955/user2964955"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563196541, "creation_date": 1563196541, "question_id": 57040574, "link": "https://stackoverflow.com/questions/57040574/undefined-symbol-objc-class-blnetwork", "title": "undefined symbol OBJC_CLASS_$_BLNetwork", "body": "<p>_OBJC_CLASS_$_BLNetwork</p>\n\n<p>Undefined symbols for architecture x86_64:</p>\n\n<p>\"_OBJC_CLASS_$_BLNetwork\", referenced from:\n<a href=\"https://i.stack.imgur.com/6XFcE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6XFcE.jpg\" alt=\"enter image description here\"></a>\n      objc-class-ref in AppDelegate.o\n      objc-class-ref in AuxDashBoardViewController.o\n      objc-class-ref in DeviceListViewController.o\n      objc-class-ref in AuxSettingsViewController.o\n      objc-class-ref in AuxConfigViewController.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)</p>\n"}, {"tags": ["ios", "objective-c", "uitextview"], "comments": [{"owner": {"reputation": 7251, "user_id": 285190, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/EqHSe.jpg?s=128&g=1", "display_name": "Flexicoder", "link": "https://stackoverflow.com/users/285190/flexicoder"}, "edited": false, "score": 0, "creation_date": 1563198226, "post_id": 57035999, "comment_id": 100609851, "body": "You have this <code>frame.size.height = contentSize.height;</code> but you don&#39;t have anything thats changing the frames <code>width</code>"}, {"owner": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "reply_to_user": {"reputation": 7251, "user_id": 285190, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/EqHSe.jpg?s=128&g=1", "display_name": "Flexicoder", "link": "https://stackoverflow.com/users/285190/flexicoder"}, "edited": false, "score": 0, "creation_date": 1563200577, "post_id": 57035999, "comment_id": 100611212, "body": "@Flexicoder in code I did&#39;t mention the width code. But I tried with Width also as like height. But I didn&#39;t get required result."}], "owner": {"reputation": 72, "user_id": 11642098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59a04c3cbe7334bd62b3504bcac20868?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/11642098/phani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563179574, "creation_date": 1563179574, "question_id": 57035999, "link": "https://stackoverflow.com/questions/57035999/how-to-change-textview-frames-using-pinch-gesture", "title": "How to change textView frames using pinch gesture?", "body": "<p>I added UITextView programatically to a view and added pinch gesture to textview. In pinch gesture I got zoom in zoom out works perfectly. But here UITextView transforms its size. Instead of that I want to change its frames. With my code textview height is changing, width is not changing. </p>\n\n<pre><code>    UITextView *pinchView = (UITextView*)pinch.view;\n\n    UIFont *font = pinchView.font;\n    CGFloat pointSize = font.pointSize;\n    NSString *fontName = font.fontName;\n\n    pointSize = ((pinch.velocity &gt; 0) ? 1 : -1) * 1 + pointSize;\n\n    if (pointSize &lt; 13) pointSize = 13;\n    if (pointSize &gt; 30) pointSize = 30;\n\n    pinchView.font = [UIFont fontWithName:fontName size:pointSize];\n\n\n    CGSize maximumSize = CGSizeMake(viewWidth, viewHeight);\n    CGSize contentSize = [pinchView sizeThatFits:maximumSize];\n    CGRect frame = pinchView.frame;\n    frame.size.height = contentSize.height;\n    pinchView.frame = frame;\n</code></pre>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["ios", "objective-c", "memory-leaks", "audiotoolbox"], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 4562870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ajf6ZnU-_I/AAAAAAAAAAI/AAAAAAAAAFU/MspnVrglt0w/photo.jpg?sz=128", "display_name": "Phineas Huang", "link": "https://stackoverflow.com/users/4562870/phineas-huang"}, "is_accepted": true, "score": 1, "last_activity_date": 1563184167, "creation_date": 1563184167, "answer_id": 57037201, "question_id": 57032753, "link": "https://stackoverflow.com/questions/57032753/ios-audiotoolbox-memory-leak/57037201#57037201", "title": "iOS - AudioToolbox Memory leak", "body": "<p>Finally, I find out the solution. I just kill out my queue.\nAll of memory are released. Share my method to everyone who has the same ticket.</p>\n\n<pre><code>- (void)playAudio:(NSString *)audioFileName {\n// Add these code\n    if (_queue) {\n        AudioFileClose(_audioFile);\n        [self freeMemory];\n        AudioQueueStop(_queue, true);\n        AudioQueueDispose(_queue, true);\n        _queue = nil;\n    }\n\n// the other code ...\n}\n</code></pre>\n"}], "owner": {"reputation": 683, "user_id": 4562870, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ajf6ZnU-_I/AAAAAAAAAAI/AAAAAAAAAFU/MspnVrglt0w/photo.jpg?sz=128", "display_name": "Phineas Huang", "link": "https://stackoverflow.com/users/4562870/phineas-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 57037201, "answer_count": 1, "score": 3, "last_activity_date": 1563184167, "creation_date": 1563159286, "question_id": 57032753, "link": "https://stackoverflow.com/questions/57032753/ios-audiotoolbox-memory-leak", "title": "iOS - AudioToolbox Memory leak", "body": "<p>I want to implement an audio manager. But I got a memory leak.\nI don't know why &amp; what happen. Could someone help me?</p>\n\n<p>I create a button, the button event just runs the playAudio with audio path. Then, I click the button, click, click, click, ..., click(many times).\nThe memory usage is increased. I try to close the audio file and clean the memory before each play time, but no use.</p>\n\n<p><br/>\nPlease help or try to give some ideas how to achieve this. Thanks!<br/>\nMuch detail you could see my demo project in <a href=\"https://github.com/SunXiaoShan/AudioTestOnIPhone\" rel=\"nofollow noreferrer\">Github</a></p>\n\n<p><br/>\n<a href=\"https://i.stack.imgur.com/nw61h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nw61h.png\" alt=\"enter image description here\"></a></p>\n\n<p><br/><br/>\n<strong>UIView</strong></p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    // Create an audio manager\n    self.audio1 = [AudioPlayerManager new];\n}\n\n  // This is a button click event\n- (IBAction)actionAudioPlay:(id)sender {\n     NSString *path1 = [NSString stringWithFormat:@\"%@\", [[NSBundle \n           mainBundle] pathForResource:@\"success-notification- \n           alert_A_major\" ofType:@\"wav\"]];\n     [self.audio1 playAudio:path1];\n}\n</code></pre>\n\n<p><br/><strong>AudioManager</strong><br/></p>\n\n<p>Prepare define</p>\n\n<pre><code>static const UInt32 maxBufferSize = 0x10000;\nstatic const UInt32 minBufferSize = 0x4000;\nstatic const UInt32 maxBufferNum = 3;\n</code></pre>\n\n<p><br/>\nGlobal Variable</p>\n\n<pre><code>AudioFileID _audioFile;\nAudioStreamBasicDescription _dataFormat;\nAudioQueueRef _queue;\nUInt32 numPacketsToRead;\nAudioStreamPacketDescription *packetDescs;\nAudioQueueBufferRef buffers[maxBufferNum];\nSInt64 packetIndex;\nUInt32 maxPacketSize;\nUInt32 outBufferSize;\n</code></pre>\n\n<p><br/>\nMy code</p>\n\n<pre><code>- (void)playAudio:(NSString *)audioFileName {\n    // Step 1: Open the audio file\n    OSStatus status = AudioFileOpenURL(\n            (__bridge CFURLRef _Nonnull)([NSURL \n            fileURLWithPath:audioPath]),\n            kAudioFileReadPermission,\n            0,\n            &amp;_audioFile);\n\n    // Step 2: Read the meta-data of this audio file \n    UInt32 formatSize = sizeof(AudioStreamBasicDescription);\n    status = AudioFileGetProperty(audioFileID, \n         kAudioFilePropertyDataFormat, &amp;formatSize, &amp;_dataFormat);\n\n    // Step 3: Register the callback function\n    status = AudioQueueNewOutput(\n                    &amp;dataFormat,\n                    BufferCallback,\n                    (__bridge void * _Nullable)(self),\n                    nil,\n                    nil,\n                    0,\n                    &amp;_queue\n                    );\n    if (status != noErr) NSLog(@\"AudioQueueNewOutput bitrate failed %d\", status);\n\n    // Step 4: Read the package size\n    UInt32 size = sizeof(maxPacketSize);\n    AudioFileGetProperty(\n                     audioFileID,\n                     kAudioFilePropertyPacketSizeUpperBound,\n                     &amp;size,\n                     &amp;maxPacketSize);\n    if (status != noErr) NSLog(@\"kAudioFilePropertyPacketSizeUpperBound failed %d\", status);\n\n    if (dataFormat.mFramesPerPacket != 0) {\n        Float64 numPacketsPersecond = dataFormat.mSampleRate / dataFormat.mFramesPerPacket;\n        outBufferSize = numPacketsPersecond * maxPacketSize;\n\n    } else {\n        outBufferSize = (maxBufferSize &gt; maxPacketSize) ? maxBufferSize : maxPacketSize;\n    }\n\n    if (outBufferSize &gt; maxBufferSize &amp;&amp;\n        outBufferSize &gt; maxPacketSize) {\n        outBufferSize = maxBufferSize;\n\n    } else {\n        if (outBufferSize &lt; minBufferSize) {\n            outBufferSize = minBufferSize;\n        }\n    }\n\n    // Step 5: Calculate the package count\n    numPacketsToRead = outBufferSize / maxPacketSize;\n\n    // Step 6: Alloc AudioStreamPacketDescription buffers\n    packetDescs = (AudioStreamPacketDescription *)malloc(numPacketsToRead * sizeof (AudioStreamPacketDescription));\n\n    // Step 7: Reset the packet index\n    packetIndex = 0;\n\n    // Step 8: Allocate buffer\n    for (int i = 0; i &lt; maxBufferNum; i++) {\n        // Step 8.1: allock the buffer\n        status = AudioQueueAllocateBuffer(\n                                      _queue,\n                                      outBufferSize,\n                                      &amp;buffers[i]\n                                      );\n        if (status != noErr) NSLog(@\"AudioQueueAllocateBuffer failed %d\", status);\n\n        // Step 8.2: Fill the audio data to buffer\n        [self audioQueueOutputWithQueue:_queue\n                        queueBuffer:buffers[i]];\n    }\n\n    // Step 9: Start\n    status = AudioQueueStart(_queue, nil);\n    if (status != noErr) NSLog(@\"AudioQueueStart failed %d\", status);\n}\n</code></pre>\n\n<p><br/>Audio queue output method</p>\n\n<pre><code>- (void)audioQueueOutputWithQueue:(AudioQueueRef)audioQueue\n                  queueBuffer:(AudioQueueBufferRef)audioQueueBuffer {\n    OSStatus status;\n\n    // Step 1: load audio data\n    // If the packetIndex is out of range, the ioNumPackets will be 0\n    UInt32 ioNumBytes = outBufferSize;\n    UInt32 ioNumPackets = numPacketsToRead;\n    status = AudioFileReadPacketData(\n                        _audioFile,\n                        NO,\n                        &amp;ioNumBytes,\n                        packetDescs,\n                        packetIndex,\n                        &amp;ioNumPackets,\n                        audioQueueBuffer-&gt;mAudioData\n                        );\n    if (status != noErr) NSLog(@\"AudioQueueSetParameter failed %d\", status);\n\n    // Step 2: prevent load audio data failed\n    if (ioNumPackets &lt;= 0) {\n        return;\n    }\n\n    // Step 3: re-assign the data size\n    audioQueueBuffer-&gt;mAudioDataByteSize = ioNumBytes;\n\n    // Step 4: fill the buffer to AudioQueue\n    status = AudioQueueEnqueueBuffer(\n                        audioQueue,\n                        audioQueueBuffer,\n                        ioNumPackets,\n                        packetDescs\n                        );\n    if (status != noErr) NSLog(@\"AudioQueueEnqueueBuffer failed %d\", status);\n\n    // Step 5: Shift to followed index\n    packetIndex += ioNumPackets;\n}\n</code></pre>\n\n<p><br/>Callback function</p>\n\n<pre><code>static void BufferCallback(void *inUserData,AudioQueueRef inAQ,\n                       AudioQueueBufferRef buffer) {\n    AudioPlayerManager *manager = (__bridge AudioPlayerManager *)inUserData;\n    [manager audioQueueOutputWithQueue:inAQ queueBuffer:buffer];\n}\n</code></pre>\n\n<p><br/>Close audio file</p>\n\n<pre><code>- (OSStatus)close:(AudioFileID)audioFileID {\n    OSStatus status = AudioFileClose( audioFileID );\n    if (status != noErr) NSLog(@\"AudioFileClose failed %d\", status);\n\n    return status;\n}\n</code></pre>\n\n<p><br/>Free Memory</p>\n\n<pre><code>- (void)freeMemory {\n    if (packetDescs) {\n        free(packetDescs);\n    }\n    packetDescs = NULL;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 124, "user_id": 803691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/66672effd08c14ecb8272ba68b8d0862?s=128&d=identicon&r=PG", "display_name": "AsH", "link": "https://stackoverflow.com/users/803691/ash"}, "edited": false, "score": 0, "creation_date": 1563287206, "post_id": 57027192, "comment_id": 100644681, "body": "iOS/iPadOS 13 is still beta so this might get fixed (crossing fingers), but as always you can also check for respond to selector for valueForKeyPath: and setValue:nil before calling them."}, {"owner": {"reputation": 1504, "user_id": 8141336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p0wAi.jpg?s=128&g=1", "display_name": "kikiwora", "link": "https://stackoverflow.com/users/8141336/kikiwora"}, "edited": false, "score": 0, "creation_date": 1580221530, "post_id": 57027192, "comment_id": 106021479, "body": "About what memory leak you&#39;re talking, exactly? This code looks smelly for me. You doing something you should not do.  I wanna suggest you to get rid of it, but can&#39;t do that until I know what exactly it is needed for."}], "owner": {"reputation": 132, "user_id": 6552680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iGKmMY-2b-k/AAAAAAAAAAI/AAAAAAAAABE/juisJuBZdKU/photo.jpg?sz=128", "display_name": "Tamarous", "link": "https://stackoverflow.com/users/6552680/tamarous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563105525, "creation_date": 1563105525, "question_id": 57027192, "link": "https://stackoverflow.com/questions/57027192/uitextfield-is-not-key-value-coding-compliant-for-the-key-provider-in-ios13", "title": "UITextField is not key value coding-compliant for the key provider in iOS13", "body": "<p>The common solution for the memory leak problem for UITextField above iOS 11.2 is as follows:</p>\n\n<pre><code>- (void) didMoveToWindow {\n  [super didMoveToWindow];\n  if (@available(iOS 11.2, *) {\n    NSString *keyPath = @\"textContentView.provider\";\n    @try {\n      if (self.window){\n        id provider = [self valueForKeyPath:keyPath];\n        if (!provider &amp;&amp; self) {\n          [self setValue:self forKeyPath:keyPath];\n        } else {\n          [self setValue:nil forKeyPath:keyPath];\n        }\n      }\n    } @catch (NSException *e) {\n      NSLog(\"%@\",e);\n    }\n}  \n\n</code></pre>\n\n<p>However, in iOS 13, such solution will cause a white screen problem, and the error log in console is </p>\n\n<pre><code>[&lt;_UITextFieldCanvasView 0x7f8338476700&gt; setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key provider.\n</code></pre>\n\n<p>Is there any solutions? Thanks.</p>\n"}, {"tags": ["objective-c", "swift", "completion-block"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8696960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6944f5ebf6dcdd9c77dc6729a9636997?s=128&d=identicon&r=PG&f=1", "display_name": "Khurram Shahzad", "link": "https://stackoverflow.com/users/8696960/khurram-shahzad"}, "edited": false, "score": 0, "creation_date": 1563164909, "post_id": 57027873, "comment_id": 100595038, "body": "Thank You Rob Napier, it worked for me :) I did changes as you suggested above"}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": false, "score": 0, "last_activity_date": 1563111073, "creation_date": 1563111073, "answer_id": 57027873, "question_id": 57026270, "link": "https://stackoverflow.com/questions/57026270/calling-objective-c-property-block-in-swift-file-the-completion-block-property/57027873#57027873", "title": "Calling objective-C Property block in swift file, the completion block property getting nil", "body": "<p>The value is nil because that's what you requested when you added <code>as? (String?) -&gt; Void</code>. This says \"if it's not possible to convert this to the given type, then return nil.\" It's not possible to convert this function to the correct type, so it's nil.</p>\n\n<p>The function you've written is <code>(String) -&gt; Void</code>. You cannot implicitly convert that to <code>(String?) -&gt; Void</code>. What would the first function do if it received <code>nil</code>?</p>\n\n<p>Rewrite your ObjC to not allow nil in this position using <code>_Nonnull</code>:</p>\n\n<pre><code>@property (nonatomic, copy) void (^onUAEPassSuccessBlock)(NSString * _Nonnull response);\n</code></pre>\n\n<p>Or rewrite the function to accept <code>String?</code>:</p>\n\n<pre><code>webVC.onUAEPassSuccessBlock = { (code: String?) in\n...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8696960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6944f5ebf6dcdd9c77dc6729a9636997?s=128&d=identicon&r=PG&f=1", "display_name": "Khurram Shahzad", "link": "https://stackoverflow.com/users/8696960/khurram-shahzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1563116108, "creation_date": 1563097859, "last_edit_date": 1563116108, "question_id": 57026270, "link": "https://stackoverflow.com/questions/57026270/calling-objective-c-property-block-in-swift-file-the-completion-block-property", "title": "Calling objective-C Property block in swift file, the completion block property getting nil", "body": "<p><a href=\"https://i.stack.imgur.com/f9mct.png\" rel=\"nofollow noreferrer\">property block getting nil</a> I have objective-c viewcontroller class which has a property block in \n//  UAEPassWebViewController.h </p>\n\n<pre><code>@property (nonatomic, copy) void (^onUAEPassSuccessBlock)(NSString *response);\n@property (nonatomic, copy) void (^onUAEPassFailureBlock)(NSString *response);\n</code></pre>\n\n<p>I had made the bridging-header.h class and trying to call code in swift class like below </p>\n\n<pre><code>webVC.onUAEPassSuccessBlock = { (code: String) in\n            print(code)\n            if (code != \"\") {\n                self.showHud()\n                self.getUaePassTokenForCode(code)\n            }\n            } as? (String?) -&gt; Void\n</code></pre>\n\n<p>but onUAEPassSuccessBlock property getting nil when executing code in \n//  UAEPassWebViewController.m</p>\n\n<pre><code>if(_onUAEPassSuccessBlock &amp;&amp; code) {\n            _onUAEPassSuccessBlock(code);\n            [self.navigationController popViewControllerAnimated:true];\n        }\n</code></pre>\n\n<p>this is only happens when I am calling from swift class. if I call the same property from objective-c class the below is the code it worked fine.\n//  ViewController.m</p>\n\n<pre><code> webVC.onUAEPassSuccessBlock = ^(NSString *code) {\n\n            if(code) {\n\n                [self showLoadingIndicator];\n                [self getUaePassTokenForCode:code];\n            }\n        };\n</code></pre>\n\n<p>anyone can help me please</p>\n"}, {"tags": ["objective-c", "uitableview", "duplicates", "nsarray", "jsonmodel"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "edited": false, "score": 0, "creation_date": 1564245955, "post_id": 57207489, "comment_id": 100970784, "body": "I\u2019ll check it when I get back from the vacation!"}, {"owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "edited": false, "score": 0, "creation_date": 1564580462, "post_id": 57207489, "comment_id": 101078625, "body": "It&#39;s not that fast, but works like charm! thanks :)"}], "tags": [], "owner": {"reputation": 740, "user_id": 2677861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PDw4E.jpg?s=128&g=1", "display_name": "Mirzohid Akbarov", "link": "https://stackoverflow.com/users/2677861/mirzohid-akbarov"}, "is_accepted": true, "score": 0, "last_activity_date": 1564076338, "creation_date": 1564076338, "answer_id": 57207489, "question_id": 57023162, "link": "https://stackoverflow.com/questions/57023162/how-to-remove-duplicates-data-from-nsarray-written-with-jsonmodel/57207489#57207489", "title": "How to remove duplicates data from NSArray written with JSONModel?", "body": "<pre><code>NSArray&lt;RSTweakItem&gt; *models = @[];//parse from json\n    NSMutableArray *packageIDs = [[models valueForKey:@\"packageID\"] mutableCopy];//get all packageIDs\n    NSMutableArray *newModels= [NSMutableArray new];//for unique last versions of RSTweakItem\n    while (packageIDs.count &gt; 0) {\n        NSString *pID = packageIDs.firstObject;\n        //get all objects packageIDs equal pID\n        NSArray *filteredAray = [models filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:@\"SELF.packageID like  %@\", pID]];\n        if(filteredAray.count  &gt; 0) {\n//            sort to get lates version\n            NSArray *sorteArray = [filteredAray sortedArrayUsingComparator:^NSComparisonResult(RSTweakItem *obj1, RSTweakItem *obj2) {\n                return [obj1.version compare:obj2.version];\n            }];\n            [newModels addObject:sorteArray.lastObject];\n        }\n        [packageIDs removeObject:pID];\n    }\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10536248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PT1p2n2dxKA/AAAAAAAAAAI/AAAAAAAAGmQ/FmBcguQx8xM/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/10536248/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 57207489, "answer_count": 1, "score": 0, "last_activity_date": 1564076338, "creation_date": 1563055695, "question_id": 57023162, "link": "https://stackoverflow.com/questions/57023162/how-to-remove-duplicates-data-from-nsarray-written-with-jsonmodel", "title": "How to remove duplicates data from NSArray written with JSONModel?", "body": "<p>I use JSONModel to parse json and, convert it to NSArray to use it in <code>UITableView</code>.</p>\n\n<pre><code>\"&lt;RSTweakItem&gt; \\n   [name]: WhatAboutThis\\n   [version]: 1.2\\n   [packageID]: com.peterdev.whatabouthis\\n&lt;/RSTweakItem&gt;\",\n\"&lt;RSTweakItem&gt; \\n   [name]: WhatAboutThis\\n   [version]: 1.2.1\\n   [packageID]: com.peterdev.whatabouthis\\n&lt;/RSTweakItem&gt;\"\n</code></pre>\n\n<p>this is the part of json data converted to <code>NSArray</code> with <code>JSONModel</code>.</p>\n\n<p>As you can see, These have the same name and packageID but different version.</p>\n\n<p>So I want to check the <code>packageID</code> to make sure it is the same package, then remove the old version of the data and leave only the latest version of the data.</p>\n\n<p>This is how I set <code>UITableView</code> with data.</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    RSTweakCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"RSTweakCell\" forIndexPath:indexPath];\n\n    RSTweakItem *model = self.listTweak[indexPath.row];\n\n    cell.textLabel.text = model.name;\n    cell.detailTextLabel.text = model.version;\n    cell.packageID = model.packageID;\n\n    return cell;\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 2156, "user_id": 3736393, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dac8b43194c192d5ea704e5e1ce70d3e?s=128&d=identicon&r=PG&f=1", "display_name": "SGDev", "link": "https://stackoverflow.com/users/3736393/sgdev"}, "edited": false, "score": 1, "creation_date": 1563015658, "post_id": 57018061, "comment_id": 100567797, "body": "Code look good, Refer this tutorials <a href=\"https://medium.com/@karthikkeyan/debugging-uiviewalertforunsatisfiableconstraints-47697696c7c\" rel=\"nofollow noreferrer\">medium.com/@karthikkeyan/&hellip;</a> . this will help you to identify the exact problem."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1563033122, "post_id": 57018061, "comment_id": 100571733, "body": "It&#39;s an iOS bug. Report it to Apple."}, {"owner": {"reputation": 163, "user_id": 6687010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zfvwS.png?s=128&g=1", "display_name": "GUOHUA", "link": "https://stackoverflow.com/users/6687010/guohua"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563178245, "post_id": 57018061, "comment_id": 100599648, "body": "@rmaddy I also think so. then I want to know if there is any way to solve this problem."}, {"owner": {"reputation": 163, "user_id": 6687010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zfvwS.png?s=128&g=1", "display_name": "GUOHUA", "link": "https://stackoverflow.com/users/6687010/guohua"}, "reply_to_user": {"reputation": 2156, "user_id": 3736393, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dac8b43194c192d5ea704e5e1ce70d3e?s=128&d=identicon&r=PG&f=1", "display_name": "SGDev", "link": "https://stackoverflow.com/users/3736393/sgdev"}, "edited": false, "score": 0, "creation_date": 1563178339, "post_id": 57018061, "comment_id": 100599696, "body": "@SGDev  yes, i am sure code good , I started testing with this code, no matter how I go to test it will prompt layout problems."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563203257, "post_id": 57018061, "comment_id": 100612777, "body": "There is no way to solve it. It&#39;s not going to cause your app any issues."}], "owner": {"reputation": 163, "user_id": 6687010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zfvwS.png?s=128&g=1", "display_name": "GUOHUA", "link": "https://stackoverflow.com/users/6687010/guohua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563011582, "creation_date": 1563011582, "question_id": 57018061, "link": "https://stackoverflow.com/questions/57018061/i-created-a-uialertcontroller-using-uialertcontrollerstyleactionsheet-and-then-a", "title": "I created a UIAlertController using UIAlertControllerStyleActionSheet and then added some buttons, but prompted me to have a layout problem", "body": "<p>I created a UIAlertController using UIAlertControllerStyleActionSheet and then added some buttons, but prompted me to have a layout problem. I am sure my code is fine, but I don't know where the problem is, please let me know if you know the reason.\nAnd I tested the style as UIAlertControllerStyleAlert and didn't have this problem.</p>\n\n<p>My project only supports iphone and does not support iPad. My development environment: Xcode: 10.2.1, iOS: 12.3.1</p>\n\n<pre><code>UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"title\" message:@\"message\" preferredStyle:UIAlertControllerStyleActionSheet];\n\n    UIAlertAction *cancleAction = [UIAlertAction actionWithTitle:@\"cancle\" style:UIAlertActionStyleCancel handler:^(UIAlertAction *action) {\n        //NSLog(@\"\");\n    }];\n\n    UIAlertAction *sureAction = [UIAlertAction actionWithTitle:@\"sure\" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) {\n        //NSLog(@\"\");\n    }];\n\n    [alertController addAction:cancleAction];\n    [alertController addAction:sureAction];\n    [self presentViewController:alertController animated:true completion:nil];\n</code></pre>\n\n<p>Debug output area printing:</p>\n\n<pre><code>[LayoutConstraints] Unable to simultaneously satisfy constraints.\n    Probably at least one of the constraints in the following list is one you don't want. \n    Try this: \n        (1) look at each constraint and try to figure out which you don't expect; \n        (2) find the code that added the unwanted constraint or constraints and fix it. \n(\n    \"&lt;NSLayoutConstraint:0x282e9c5a0 UIView:0x1019286f0.width == -16&gt;\"\n)\n\nWill attempt to recover by breaking constraint \n&lt;NSLayoutConstraint:0x282e9c5a0 UIView:0x1019286f0.width == -16&gt;\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in &lt;UIKitCore/UIView.h&gt; may also be helpful.\n</code></pre>\n"}, {"tags": ["c", "objective-c", "xcode", "linker"], "answers": [{"tags": [], "owner": {"reputation": 1382, "user_id": 1228288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8c4cf1236bc1f645a72a834af68857c2?s=128&d=identicon&r=PG", "display_name": "me--", "link": "https://stackoverflow.com/users/1228288/me"}, "is_accepted": false, "score": 1, "last_activity_date": 1563018575, "last_edit_date": 1563018575, "creation_date": 1563013047, "answer_id": 57018207, "question_id": 57017409, "link": "https://stackoverflow.com/questions/57017409/failing-to-link-c-code-into-objective-c-undefined-symbols-for-architecture-arm6/57018207#57018207", "title": "Failing to link C code into Objective C: Undefined symbols for architecture arm64", "body": "<p>I had added the files as folders instead of groups. Groups are flattened by XCode and can therefore be included directly. Folders are not (but I still wasn't able to include by specifying a full path). Groups appear as yellow icons in the project view, whereas folders appear as blue.</p>\n"}], "owner": {"reputation": 1382, "user_id": 1228288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8c4cf1236bc1f645a72a834af68857c2?s=128&d=identicon&r=PG", "display_name": "me--", "link": "https://stackoverflow.com/users/1228288/me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563018575, "creation_date": 1563006046, "last_edit_date": 1563012601, "question_id": 57017409, "link": "https://stackoverflow.com/questions/57017409/failing-to-link-c-code-into-objective-c-undefined-symbols-for-architecture-arm6", "title": "Failing to link C code into Objective C: Undefined symbols for architecture arm64", "body": "<p>I have some C code in my XCode project (using Objective C). I include the C file into a <code>MyHost.m</code> file like this:</p>\n\n<pre><code>#include &lt;my_code.h&gt;\n</code></pre>\n\n<p>And then call it like this:</p>\n\n<pre><code>my_function();\n</code></pre>\n\n<p>I've set up my project settings so that the <strong>Header Search Paths</strong> setting includes the directory containing my C code. However, when I build I get an error like this:</p>\n\n<pre><code>Undefined symbols for architecture arm64:\n  \"_my_function\", referenced from:\n      -[MyHost run] in MyHost.o\n</code></pre>\n\n<p>Why is the linker unable to link to the C code?</p>\n\n<p>UPDATE: the reason I went down the path of using <code>#include &lt;file.h&gt;</code> instead of <code>#include \"file.h\"</code> is because the latter was failing to resolve the file. I found <a href=\"https://stackoverflow.com/questions/15014685/importing-files-from-other-directories-in-xcode\">this related question</a> that suggests XCode should find my header file regardless of project structure. It isn't. Even after removing and re-adding the files it still doesn't resolve it.</p>\n"}, {"tags": ["ios", "objective-c", "excel"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563033323, "post_id": 57016840, "comment_id": 100571780, "body": "You are not creating an Excel file. You are creating a CSV file. A CSV file is a text file. You can&#39;t add images to plain text files such as CSV."}, {"owner": {"reputation": 154, "user_id": 4124002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9z8CA3ZAQj4/AAAAAAAAAAI/AAAAAAAAABI/gRUG94SSyrg/photo.jpg?sz=128", "display_name": "Aashi", "link": "https://stackoverflow.com/users/4124002/aashi"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563075510, "post_id": 57016840, "comment_id": 100578810, "body": "rmaddy...See th extension its xls and it is open in excel sheet as perfect format"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563075917, "post_id": 57016840, "comment_id": 100578879, "body": "Putting an xls extension on a CSV file doesn&#39;t change the fact that you are generating a purely text CSV file. A true Excel (xls) file is a proprietary binary file format. Your code is not creating a true xls file. And just because the Excel application (or many other programs) can open a CSV file doesn&#39;t make it anything other than what it is. You can&#39;t embed images in a CSV text file. You would need to write completely different code that generates a true xls (better yet, a more modern xlsx) file. And that is far from trivial. You need a proper library for that."}, {"owner": {"reputation": 154, "user_id": 4124002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9z8CA3ZAQj4/AAAAAAAAAAI/AAAAAAAAABI/gRUG94SSyrg/photo.jpg?sz=128", "display_name": "Aashi", "link": "https://stackoverflow.com/users/4124002/aashi"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563076313, "post_id": 57016840, "comment_id": 100578930, "body": "rmaddy......do you know how to generate pure xls file with image in it"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563077081, "post_id": 57016840, "comment_id": 100579004, "body": "As I said, you need to find a 3rd party library that supports the generation of real Excel files. Find one that generates xlsx (not xls)."}, {"owner": {"reputation": 154, "user_id": 4124002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9z8CA3ZAQj4/AAAAAAAAAAI/AAAAAAAAABI/gRUG94SSyrg/photo.jpg?sz=128", "display_name": "Aashi", "link": "https://stackoverflow.com/users/4124002/aashi"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1563954648, "post_id": 57016840, "comment_id": 100867383, "body": "xlsxreaderwriter used but image won&#39;t get added up.And none otheer library is there. @rmaddy"}], "answers": [{"tags": [], "owner": {"reputation": 2117, "user_id": 4593433, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mXZY7.png?s=128&g=1", "display_name": "frankenapps", "link": "https://stackoverflow.com/users/4593433/frankenapps"}, "is_accepted": false, "score": 1, "last_activity_date": 1597908727, "creation_date": 1597908727, "answer_id": 63500332, "question_id": 57016840, "link": "https://stackoverflow.com/questions/57016840/how-to-add-image-in-excel-file-in-ios/63500332#63500332", "title": "How to add image in Excel file in iOS", "body": "<p>There is an option. Use a C library called <code>libxlsxwriter</code>. The CocoaPod can be found <a href=\"https://cocoapods.org/pods/libxlsxwriter\" rel=\"nofollow noreferrer\">here</a>. There is an <a href=\"https://github.com/lrossi/libxlsxwriterCocoaExamples\" rel=\"nofollow noreferrer\">example</a> for how to use this library with objective-c, but it contains no examples for how to insert images.</p>\n<p>I have made an <a href=\"https://github.com/FrankenApps/LibXlsxWriterSwiftSample/blob/master/LibXlsxWriterSwiftSample/Examples/demo.swift\" rel=\"nofollow noreferrer\">example</a> for how to insert images using swift. You should be able to easily convert the code to objective-c:</p>\n<pre><code>import Foundation\nimport UIKit\nimport xlsxwriter\n\nclass Demo{\n    func generate() -&gt; URL {\n        let documentDirectory = try! FileManager.default.url(for: .documentDirectory, in: .userDomainMask, appropriateFor:nil, create:false)\n        let fileURL = documentDirectory.appendingPathComponent(&quot;demo.xlsx&quot;)\n        \n        //Create a new workbook.\n        //Ditch first 6 characters, because they are of the form file://\n        let workbook = workbook_new((fileURL.absoluteString.dropFirst(6) as NSString).fileSystemRepresentation)\n        let worksheet = workbook_add_worksheet(workbook, nil)\n        //Add a format.\n        let format = workbook_add_format(workbook)\n        //Insert an image\n        var imageBuffer = getArrayOfBytesFromImage(imageData: (UIImage(named: &quot;logo&quot;)?.jpegData(compressionQuality: .greatestFiniteMagnitude)!)! as NSData)\n        worksheet_insert_image_buffer(worksheet, 1, 2, &amp;imageBuffer, imageBuffer.count)\n        workbook_close(workbook)\n        \n        return fileURL\n    }\n    \n    func getArrayOfBytesFromImage(imageData:NSData) -&gt; [UInt8]\n    {\n        //Determine array size\n        let count = imageData.length / MemoryLayout.size(ofValue: UInt8())\n        //Create an array of the appropriate size\n        var bytes = [UInt8](repeating: 0, count: count)\n        //Copy image data as bytes into the array\n        imageData.getBytes(&amp;bytes, length:count * MemoryLayout.size(ofValue: UInt8()))\n\n        return bytes\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 4124002, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9z8CA3ZAQj4/AAAAAAAAAAI/AAAAAAAAABI/gRUG94SSyrg/photo.jpg?sz=128", "display_name": "Aashi", "link": "https://stackoverflow.com/users/4124002/aashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1597908727, "creation_date": 1563000611, "last_edit_date": 1566278132, "question_id": 57016840, "link": "https://stackoverflow.com/questions/57016840/how-to-add-image-in-excel-file-in-ios", "title": "How to add image in Excel file in iOS", "body": "<p>I have used xlsxreaderwriter library to create xlsx file and make good excel file.\nMost things work well, but I can't add image to the file.\nI wrote code like sample but I can't see image in the xlsx file.\nI already put one image into sample file and use it, still I can't add any Image programatically in my xlsx file.\nHere is my code that I used.</p>\n\n<p>My code:</p>\n\n<pre><code>NSString *documentPath = [[NSBundle mainBundle] pathForResource:@\"testWorkbook\" ofType:@\"xlsx\"];\nBRAOfficeDocumentPackage *spreadsheet = [BRAOfficeDocumentPackage open:documentPath];\n\nBRAWorksheet *fooWorksheet = [spreadsheet.workbook createWorksheetNamed:@\"Foo\"];\nBRAWorksheet *worksheet = [spreadsheet.workbook createWorksheetNamed:@\"Foo\" byCopyingWorksheet:worksheetToCopy];\n[[fooWorksheet cellForCellReference:@\"B2\" shouldCreate:YES] setStringValue:@\"FOO / BAR\"];\n\nUIImage *image = [UIImage imageNamed:@\"123.jpeg\"];  NSData * data = UIImageJPEGRepresentation(image, 0.5);\n    UIImage *img = [UIImage imageWithData:data];\nBRAWorksheetDrawing *drawing = [fooWorksheet addImage:img betweenCellsReferenced:@\"A1\" and:@\"D10\"withInsets:UIEdgeInsetsZero preserveTransparency:NO];\n\ndrawing.insets = UIEdgeInsetsMake(0., 0., .5, .5);\n\n[spreadsheet save];\n[spreadsheet.workbook save];\n\nNSString *fullPath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:@\"workbookCopy.xlsx\"];\n[spreadsheet saveAs:fullPath];\nNSLog(@\"%@\",fullPath);\n</code></pre>\n\n<p>please help me to sort the issue</p>\n"}, {"tags": ["ios", "c", "objective-c", "opengl-es"], "answers": [{"comments": [{"owner": {"reputation": 1382, "user_id": 1228288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8c4cf1236bc1f645a72a834af68857c2?s=128&d=identicon&r=PG", "display_name": "me--", "link": "https://stackoverflow.com/users/1228288/me"}, "edited": false, "score": 1, "creation_date": 1563102763, "post_id": 57019880, "comment_id": 100583119, "body": "Thanks vm. I actually found the same thing yesterday (honest!) but forgot to update this. And I found it by digging through things and realizing that the error handling logic in <code>LoadShader</code> was wrong. It <i>was</i> actually detecting the compile issues but my code failed to surface the error correctly."}], "tags": [], "owner": {"reputation": 6020, "user_id": 4052193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6062c93ce987aa90ac59d06e758f03b6?s=128&d=identicon&r=PG&f=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/4052193/columbo"}, "is_accepted": true, "score": 2, "last_activity_date": 1563026720, "creation_date": 1563026720, "answer_id": 57019880, "question_id": 57015669, "link": "https://stackoverflow.com/questions/57015669/opengl-es-code-working-in-android-but-not-glattachshader-not-working-on-ios/57019880#57019880", "title": "OpenGL ES code working in Android but not glAttachShader not working on iOS", "body": "<p>You've created a GLES2 context (<code>kEAGLRenderingAPIOpenGLES2</code>) but you're using GLES3 shaders (<code>#version 300 es</code>).</p>\n\n<p>I'm slightly surprised the error isn't caught by <code>glCompileShader</code> but I guess the iOS driver is deferring the actual compilation until <code>glAttachShader</code> is called.</p>\n"}], "owner": {"reputation": 1382, "user_id": 1228288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/8c4cf1236bc1f645a72a834af68857c2?s=128&d=identicon&r=PG", "display_name": "me--", "link": "https://stackoverflow.com/users/1228288/me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 57019880, "answer_count": 1, "score": 1, "last_activity_date": 1563026720, "creation_date": 1562984136, "last_edit_date": 1562986693, "question_id": 57015669, "link": "https://stackoverflow.com/questions/57015669/opengl-es-code-working-in-android-but-not-glattachshader-not-working-on-ios", "title": "OpenGL ES code working in Android but not glAttachShader not working on iOS", "body": "<p>I have some OpenGL ES C code that runs fine on Android. The code is poor quality (random error codes, using globals and such) because I'm just trying to get up and running before refactoring and cleaning. However, it works on Android and correctly displays a red triangle.</p>\n\n<p>But the same code does not work on iOS. I get <code>GL_INVALID_VALUE</code> when calling <code>glAttachShader</code> (I commented the relevant line below), even though every prior call has succeeded.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>#include \"gl_render.h\"\n#include \"gl_wrapper.h\"\n#include &lt;math.h&gt;\n\nGLuint globalProgramObject;\nint surfaceWidth;\nint surfaceHeight;\n\nGLuint LoadShader ( GLenum type, const char *shaderSrc )\n{\n   GLuint shader;\n   GLint compiled;\n   GLenum error;\n\n   shader = glCreateShader ( type );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -50;\n   }\n\n   glShaderSource ( shader, 1, &amp;shaderSrc, NULL );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -51;\n   }\n\n   glCompileShader ( shader );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -52;\n   }\n\n   glGetShaderiv ( shader, GL_COMPILE_STATUS, &amp;compiled );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -53;\n   }\n\n   if ( !compiled )\n   {\n      GLint infoLen = 0;\n\n      glGetShaderiv ( shader, GL_INFO_LOG_LENGTH, &amp;infoLen );\n\n      error = glGetError();\n      if (error != GL_NO_ERROR) {\n         return -54;\n      }\n\n      if ( infoLen &gt; 1 )\n      {\n         char *infoLog = malloc ( sizeof ( char ) * infoLen );\n\n         glGetShaderInfoLog ( shader, infoLen, NULL, infoLog );\n\n         error = glGetError();\n         if (error != GL_NO_ERROR) {\n            return -55;\n         }\n\n         free ( infoLog );\n      }\n\n      glDeleteShader ( shader );\n\n      error = glGetError();\n      if (error != GL_NO_ERROR) {\n         return -56;\n      }\n\n      return -2;\n   }\n\n   return shader;\n\n}\n\nint on_surface_created(int width, int height) {\n   surfaceWidth = width;\n   surfaceHeight = height;\n\n   char vShaderStr[] =\n      \"#version 300 es                          \\n\"\n      \"layout(location = 0) in vec4 vPosition;  \\n\"\n      \"void main()                              \\n\"\n      \"{                                        \\n\"\n      \"   gl_Position = vPosition;              \\n\"\n      \"}                                        \\n\";\n\n   char fShaderStr[] =\n      \"#version 300 es                              \\n\"\n      \"precision mediump float;                     \\n\"\n      \"out vec4 fragColor;                          \\n\"\n      \"void main()                                  \\n\"\n      \"{                                            \\n\"\n      \"   fragColor = vec4 ( 1.0, 0.0, 0.0, 1.0 );  \\n\"\n      \"}                                            \\n\";\n\n   GLuint vertexShader;\n   GLuint fragmentShader;\n   GLuint programObject;\n   GLint linked;\n   GLenum error;\n\n   vertexShader = LoadShader ( GL_VERTEX_SHADER, vShaderStr );\n\n   if (vertexShader &lt;= 0) {\n      return -155;\n   }\n\n   fragmentShader = LoadShader ( GL_FRAGMENT_SHADER, fShaderStr );\n\n   if (fragmentShader &lt;= 0) {\n      return -156;\n   }\n\n   programObject = glCreateProgram ( );\n\n   if (programObject == 0) {\n      return -157;\n   }\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -57;\n   }\n\n   // this is failing with GL_INVALID_VALUE\n   glAttachShader ( programObject, vertexShader );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -58;\n   }\n\n   glAttachShader ( programObject, fragmentShader );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -59;\n   }\n\n   glLinkProgram ( programObject );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -60;\n   }\n\n   glGetProgramiv ( programObject, GL_LINK_STATUS, &amp;linked );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -61;\n   }\n\n   if ( !linked )\n   {\n      GLint infoLen = 0;\n\n      glGetProgramiv ( programObject, GL_INFO_LOG_LENGTH, &amp;infoLen );\n\n      error = glGetError();\n      if (error != GL_NO_ERROR) {\n         return -62;\n      }\n\n      if ( infoLen &gt; 1 )\n      {\n         char *infoLog = malloc ( sizeof ( char ) * infoLen );\n\n         glGetProgramInfoLog ( programObject, infoLen, NULL, infoLog );\n\n         error = glGetError();\n         if (error != GL_NO_ERROR) {\n            return -63;\n         }\n\n         free ( infoLog );\n      }\n\n      glDeleteProgram ( programObject );\n\n      error = glGetError();\n      if (error != GL_NO_ERROR) {\n         return -64;\n      }\n\n      return -2;\n   }\n\n   glClearColor ( 1.0f, 1.0f, 1.0f, 0.0f );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -65;\n   }\n\n   globalProgramObject = programObject;\n\n   return 0;\n}\n\nint on_draw_frame() {\n   GLenum error;\n\n   GLfloat vVertices[] = {  0.0f,  0.5f, 0.0f,\n                            -0.5f, -0.5f, 0.0f,\n                            0.5f, -0.5f, 0.0f\n                         };\n\n   glViewport ( 0, 0, surfaceWidth, surfaceHeight );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -66;\n   }\n\n   glClear ( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -67;\n   }\n\n   glUseProgram ( globalProgramObject );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -68;\n   }\n\n   glVertexAttribPointer ( 0, 3, GL_FLOAT, GL_FALSE, 0, vVertices );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -69;\n   }\n\n   glEnableVertexAttribArray ( 0 );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -70;\n   }\n\n   glDrawArrays ( GL_TRIANGLES, 0, 3 );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -71;\n   }\n\n   glDisableVertexAttribArray ( 0 );\n\n   error = glGetError();\n   if (error != GL_NO_ERROR) {\n      return -72;\n   }\n\n   return 0;\n}\n</code></pre>\n\n<p>For extra context, here is the Objective C code that I'm using to host the OpenGL worker:</p>\n\n<pre><code>#import \"OpenGLRender.h\"\n#import &lt;OpenGLES/EAGL.h&gt;\n#import &lt;OpenGLES/ES2/gl.h&gt;\n#import &lt;OpenGLES/ES2/glext.h&gt;\n\n@interface OpenGLRender()\n@property (strong, nonatomic) EAGLContext *context;\n@property (strong, nonatomic) id&lt;OpenGLRenderWorker&gt; worker;\n@property (copy, nonatomic) void(^onNewFrame)(void);\n\n@property (nonatomic) GLuint frameBuffer;\n@property (nonatomic) GLuint depthBuffer;\n@property (nonatomic) CVPixelBufferRef target;\n@property (nonatomic) CVOpenGLESTextureCacheRef textureCache;\n@property (nonatomic) CVOpenGLESTextureRef texture;\n@property (nonatomic) CGSize renderSize;\n@property (nonatomic) BOOL running;\n@end\n\n@implementation OpenGLRender\n\n- (instancetype)initWithSize:(CGSize)renderSize\n                      worker:(id&lt;OpenGLRenderWorker&gt;)worker\n                  onNewFrame:(void(^)(void))onNewFrame {\n    self = [super init];\n    if (self){\n        self.renderSize = renderSize;\n        self.running = YES;\n        self.onNewFrame = onNewFrame;\n        self.worker = worker;\n\n        NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(run) object:nil];\n        thread.name = @\"OpenGLRender\";\n        [thread start];\n    }\n    return self;\n}\n\n- (void)run {\n    [self initGL];\n    int result = [_worker onCreateWithWidth: self.renderSize.width andHeight: self.renderSize.height];\n\n    if (result != 0) {\n        NSLog(@\"Failed to call onCreateWithWidth %f AndHeight %f: %d\", self.renderSize.width, self.renderSize.height, result);\n    }\n\n    while (_running) {\n        CFTimeInterval loopStart = CACurrentMediaTime();\n        result = [_worker onDraw];\n\n        if (result != 0) {\n            NSLog(@\"Failed to call onDraw: %d\", result);\n        } else {\n            glFlush();\n            dispatch_async(dispatch_get_main_queue(), self.onNewFrame);\n        }\n\n        CFTimeInterval waitDelta = 0.016 - (CACurrentMediaTime() - loopStart);\n        if (waitDelta &gt; 0) {\n            [NSThread sleepForTimeInterval:waitDelta];\n        }\n    }\n    [self deinitGL];\n}\n\n#pragma mark - Public\n\n- (void)dispose {\n    _running = NO;\n}\n\n#pragma mark - FlutterTexture\n\n- (CVPixelBufferRef _Nullable)copyPixelBuffer {\n    CVBufferRetain(_target);\n    return _target;\n}\n\n#pragma mark - Private\n\n- (void)initGL {\n    _context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2];\n\n    [EAGLContext setCurrentContext:_context];\n    [self createCVBufferWithSize:_renderSize withRenderTarget:&amp;_target withTextureOut:&amp;_texture];\n\n    glBindTexture(CVOpenGLESTextureGetTarget(_texture), CVOpenGLESTextureGetName(_texture));\n\n    glTexImage2D(GL_TEXTURE_2D,\n                 0, GL_RGBA,\n                 _renderSize.width, _renderSize.height,\n                 0, GL_RGBA,\n                 GL_UNSIGNED_BYTE, NULL);\n\n    glGenRenderbuffers(1, &amp;_depthBuffer);\n    glBindRenderbuffer(GL_RENDERBUFFER, _depthBuffer);\n    glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT16, _renderSize.width, _renderSize.height);\n\n    glGenFramebuffers(1, &amp;_frameBuffer);\n    glBindFramebuffer(GL_FRAMEBUFFER, _frameBuffer);\n    glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, CVOpenGLESTextureGetName(_texture), 0);\n    glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_RENDERBUFFER, _depthBuffer);\n\n    if(glCheckFramebufferStatus(GL_FRAMEBUFFER) != GL_FRAMEBUFFER_COMPLETE) {\n        NSLog(@\"failed to make complete framebuffer object %x\", glCheckFramebufferStatus(GL_FRAMEBUFFER));\n    } else {\n        NSLog(@\"Successfully initialized GL\");\n    }\n}\n\n- (void)createCVBufferWithSize:(CGSize)size\n              withRenderTarget:(CVPixelBufferRef *)target\n                withTextureOut:(CVOpenGLESTextureRef *)texture {\n\n    CVReturn err = CVOpenGLESTextureCacheCreate(kCFAllocatorDefault, NULL, _context, NULL, &amp;_textureCache);\n\n    if (err) return;\n\n    CFDictionaryRef empty;\n    CFMutableDictionaryRef attrs;\n    empty = CFDictionaryCreate(kCFAllocatorDefault,\n                               NULL,\n                               NULL,\n                               0,\n                               &amp;kCFTypeDictionaryKeyCallBacks,\n                               &amp;kCFTypeDictionaryValueCallBacks);\n\n    attrs = CFDictionaryCreateMutable(kCFAllocatorDefault, 1,\n                                      &amp;kCFTypeDictionaryKeyCallBacks,\n                                      &amp;kCFTypeDictionaryValueCallBacks);\n\n    CFDictionarySetValue(attrs, kCVPixelBufferIOSurfacePropertiesKey, empty);\n    CVPixelBufferCreate(kCFAllocatorDefault, size.width, size.height,\n                        kCVPixelFormatType_32BGRA, attrs, target);\n\n    CVOpenGLESTextureCacheCreateTextureFromImage(kCFAllocatorDefault,\n                                                 _textureCache,\n                                                 *target,\n                                                 NULL, // texture attributes\n                                                 GL_TEXTURE_2D,\n                                                 GL_RGBA, // opengl format\n                                                 size.width,\n                                                 size.height,\n                                                 GL_BGRA, // native iOS format\n                                                 GL_UNSIGNED_BYTE,\n                                                 0,\n                                                 texture);\n\n    CFRelease(empty);\n    CFRelease(attrs);\n}\n\n- (void)deinitGL {\n    glDeleteFramebuffers(1, &amp;_frameBuffer);\n    glDeleteFramebuffers(1, &amp;_depthBuffer);\n    CFRelease(_target);\n    CFRelease(_textureCache);\n    CFRelease(_texture);\n}\n\n@end\n</code></pre>\n\n<p>Can anyone tell me why this isn't working on iOS despite working fine on Android?</p>\n"}, {"tags": ["ios", "objective-c", "xib", "nsbundle"], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 10831964, "user_type": "registered", "profile_image": "https://graph.facebook.com/2213940755335725/picture?type=large", "display_name": "Tiran Ut", "link": "https://stackoverflow.com/users/10831964/tiran-ut"}, "is_accepted": true, "score": 1, "last_activity_date": 1562961567, "creation_date": 1562961567, "answer_id": 57013370, "question_id": 57013152, "link": "https://stackoverflow.com/questions/57013152/how-to-load-a-xib-nib-file-within-a-framework/57013370#57013370", "title": "How to load a `.xib` / `.nib` file within a framework?", "body": "<p>It should be enough to use</p>\n\n<p><code>[NSBundle bundleForClass:[self class]]</code>\ninstead of\n<code>[NSBundle mainBundle]</code></p>\n\n<p>So basically [NSBundle mainBundle] returns bundle for current module which is your app, but not the actual framework</p>\n\n<p>Here you can find more details \n<a href=\"https://stackoverflow.com/questions/43754075/nsbundle-bundleforclassself-class-what-does-that-mean\">[NSBundle bundleForClass:[self class]]] what does that mean?</a></p>\n"}], "owner": {"reputation": 12931, "user_id": 436976, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/ca5523dd495f8c0a6a6b20db65db2ef4?s=128&d=identicon&r=PG", "display_name": "stevendesu", "link": "https://stackoverflow.com/users/436976/stevendesu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 57013370, "answer_count": 1, "score": 0, "last_activity_date": 1562961567, "creation_date": 1562960368, "question_id": 57013152, "link": "https://stackoverflow.com/questions/57013152/how-to-load-a-xib-nib-file-within-a-framework", "title": "How to load a `.xib` / `.nib` file within a framework?", "body": "<p>I'm working on an iOS library as a Cocoa Pod. In this library, I have a custom view:</p>\n\n<pre><code>@interface PlayerView : UIView\n\n@property (strong, nonatomic) IBOutlet UIView *contentView;\n\n@end\n</code></pre>\n\n<pre><code>@implementation PlayerView\n\n- (instancetype) initWithCoder:(NSCoder*)coder\n{\n    self = [super initWithCoder:coder];\n    [self initialize];\n    return self;\n}\n\n- (instancetype) initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    [self initialize];\n    return self;\n}\n\n- (void)initialize\n{\n    [[NSBundle mainBundle] loadNibNamed:@\"PlayerView\" owner:self options:nil];\n    [self addSubview:contentView];\n}\n\n@end\n</code></pre>\n\n<p>In this case <code>contentView</code> is the <strong><em>entire</em></strong> View defined in the <code>.xib</code>, which includes an image and a label.</p>\n\n<p>When I build my demo app (and the library) the app runs, but when it comes time to display this view I get the following error:</p>\n\n<pre><code>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Could not load NIB in bundle: 'NSBundle &lt;/Users/stevenbarnett/Library/Developer/CoreSimulator/Devices/EC244A5F-CE57-4CCD-9BB4-CDC834D74812/data/Containers/Bundle/Application/446EB609-B663-4BD5-8F8D-F22D03BC0B18/bfsdk_Example.app&gt; (loaded)' with name 'PlayerView''\n</code></pre>\n\n<p>Inspecting the <code>.app</code> file by hand, the <code>PlayerView.nib</code> file can be found buried in the <code>Frameworks/bfsdk.framework</code> directory, but I'm guessing since it's not at the root it isn't being located:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vJfzQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJfzQ.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/meOBb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/meOBb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've verified:</p>\n\n<ul>\n<li>That the file owner is set to <code>PlayerView</code></li>\n<li>That <code>PlayerView.xib</code> is added to the \"copy bundle resources\" build phase</li>\n</ul>\n\n<p>How can I load a <code>.xib</code> file that's <strong>within</strong> my library from a class that's <strong>within</strong> my library when running an app that just includes my library as a <code>.framework</code>?</p>\n\n<p>I believe I could get it working if I manually specified the path to the file with something like:</p>\n\n<pre><code>NSString* resourcePath = [[NSBundle mainBundle] pathForResource:@\"bfsdk\" ofType:@\"framework\"];\n[[NSBundle mainBundle] loadNibNamed:[resourcePath stringByAppendingPathComponent:@\"PlayerView\"]];\n</code></pre>\n\n<p>However I don't like that this has me hard-coding my framework's name into one of my classes. If I change the name in a year I don't want everything to break because of this one buried line of code that no one remembers exists.</p>\n"}, {"tags": ["ios", "objective-c", "spotify"], "owner": {"reputation": 71, "user_id": 1763403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2740ef68304c61e27d20f0979e6b57c?s=128&d=identicon&r=PG", "display_name": "Jiannis S.", "link": "https://stackoverflow.com/users/1763403/jiannis-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562958747, "creation_date": 1562958747, "question_id": 57012845, "link": "https://stackoverflow.com/questions/57012845/spotify-ios-sdk-1-0-2-playing-albums-available-offline-without-internet-connec", "title": "Spotify iOS SDK 1.0.2 - playing albums available offline without internet connection", "body": "<p>is there a way to use the the latest spotify SDK (<a href=\"https://github.com/spotify/ios-sdk\" rel=\"nofollow noreferrer\">https://github.com/spotify/ios-sdk</a>) to access my offline music without having to connect to the internet?</p>\n\n<p>Although offline is \"supported\" this partially works in the demo. The user needs to get a new token  (App Remote SDK) which requires internet connection.</p>\n\n<p>This means once the \"remote connection\" to the spotify app disconnects</p>\n\n<pre><code>- (void)applicationWillResignActive:(UIApplication *)application {\n    if (self.appRemote.isConnected) {\n        [self.appRemote disconnect];\n    }\n}\n</code></pre>\n\n<p>getting a new token requires internet access:</p>\n\n<pre><code>if (self.appRemote.connectionParameters.accessToken) {\n   [self.appRemote connect];\n}\n</code></pre>\n\n<p>what am i doing wrong? If offline mode is supported, i expect to access offline music without any internet access, right?</p>\n"}, {"tags": ["objective-c", "nsmutablearray", "nsarray", "nsimage"], "comments": [{"owner": {"reputation": 8795, "user_id": 1144632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008380b8eab5df4a15de69741d59a825?s=128&d=identicon&r=PG", "display_name": "danielbeard", "link": "https://stackoverflow.com/users/1144632/danielbeard"}, "edited": false, "score": 0, "creation_date": 1562957157, "post_id": 57011870, "comment_id": 100557457, "body": "What do you expect the <code>NSMutableArray</code> to <i>contain</i>?"}, {"owner": {"reputation": 81, "user_id": 3470496, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b84b46970d9f7e93e22de1a5db88c47f?s=128&d=identicon&r=PG&f=1", "display_name": "user3470496", "link": "https://stackoverflow.com/users/3470496/user3470496"}, "reply_to_user": {"reputation": 8795, "user_id": 1144632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008380b8eab5df4a15de69741d59a825?s=128&d=identicon&r=PG", "display_name": "danielbeard", "link": "https://stackoverflow.com/users/1144632/danielbeard"}, "edited": false, "score": 0, "creation_date": 1562958294, "post_id": 57011870, "comment_id": 100557840, "body": "It should just be pixel values (probably floats) in the same dimensions as the original NSMutableArray (240x256). The original NSMutable array is pixel values from the Osirix viewer."}], "owner": {"reputation": 81, "user_id": 3470496, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/b84b46970d9f7e93e22de1a5db88c47f?s=128&d=identicon&r=PG&f=1", "display_name": "user3470496", "link": "https://stackoverflow.com/users/3470496/user3470496"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562953946, "creation_date": 1562953946, "question_id": 57011870, "link": "https://stackoverflow.com/questions/57011870/how-can-you-convert-an-nsimage-to-an-nsmutable-array-in-objective-c", "title": "How can you convert an NSImage to an NSMutable Array in Objective C?", "body": "<p>I have an NSImage which I need to convert to an NSMutable Array of the same size. </p>\n\n<p>I originally converted an NSMutableArray to NSImage, resized, converted to CVPixelBuffer, and fed into a coreML model.</p>\n\n<pre><code>NSSize newSize;\nnewSize.height = 512;\nnewSize.width = 512;\n\nconst NSImage* segImage = [Viewer1.imageView nsimage:YES];\n[segImage setScalesWhenResized:YES]; //'setScalesWhenResized:' is deprecated: first deprecated in macOS 10.6\n\nNSImage *resized = [[NSImage alloc] initWithSize: newSize];\n[resized lockFocus];\n[segImage setSize: newSize];\n[[NSGraphicsContext currentContext] setImageInterpolation: NSImageInterpolationHigh];\n[segImage drawAtPoint:NSZeroPoint fromRect:CGRectMake(0, 0, newSize.width, newSize.height) operation:NSCompositeCopy fraction:1.0];\n[resized unlockFocus];\n</code></pre>\n\n<p>The model produced a CVPixelBuffer which I converted to CGImageRef, then to NSImage which I resized (maybe there's a less convoluted way of doing all this?). </p>\n\n<pre><code>//Convert to NSImage and Resize\nNSSize oldSize;\noldSize.height = pixHeight;\noldSize.width = pixWidth;\n\n//const NSImage* segImage2 = [Viewer1.imageView nsimage:YES];\n[newImage setScalesWhenResized:YES]; //'setScalesWhenResized:' is deprecated: first deprecated in macOS 10.6\n\nNSImage *ROImask = [[NSImage alloc] initWithSize: oldSize];\n[ROImask lockFocus];\n[newImage setSize: oldSize];\n[[NSGraphicsContext currentContext] setImageInterpolation: NSImageInterpolationHigh];\n[newImage drawAtPoint:NSZeroPoint fromRect:CGRectMake(0, 0, oldSize.width, oldSize.height) operation:NSCompositeCopy fraction:1.0];\n[ROImask unlockFocus];\n</code></pre>\n\n<p>Now I just need to come full circle and convert the NSImage back to an NSMutableArray. How is this done in Objective C?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "multithreading", "pthreads"], "comments": [{"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "edited": false, "score": 0, "creation_date": 1563362790, "post_id": 57010582, "comment_id": 100672826, "body": "What is the purpose? Can&#39;t you manage this inside <code>AppDelegate</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 10158, "user_id": 2432053, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/0jpKi.jpg?s=128&g=1", "display_name": "arturdev", "link": "https://stackoverflow.com/users/2432053/arturdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1563790055, "creation_date": 1563790055, "answer_id": 57143633, "question_id": 57010582, "link": "https://stackoverflow.com/questions/57010582/detect-percentage-of-time-main-thread-is-used/57143633#57143633", "title": "Detect percentage of time main thread is used", "body": "<p>The main thread is being used constantly while the app is in the foreground. \nSo you can schedule a timer in <code>applicationDidBecomeActive</code> and invalidate in <code>applicationWillResignActive</code> and get the accumulated seconds whenever you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1202, "user_id": 6734301, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68f0e11c94e94983ca8404f1e6a2171c?s=128&d=identicon&r=PG&f=1", "display_name": "Wazza", "link": "https://stackoverflow.com/users/6734301/wazza"}, "is_accepted": true, "score": 3, "last_activity_date": 1563803585, "creation_date": 1563803585, "answer_id": 57147552, "question_id": 57010582, "link": "https://stackoverflow.com/questions/57010582/detect-percentage-of-time-main-thread-is-used/57147552#57147552", "title": "Detect percentage of time main thread is used", "body": "<p>So i managed to figure this out using the following:</p>\n\n<pre><code>class MainThreadAnalyser {\n    typealias SumTotal = (total: Double, elements: Double)\n\n    private var threadPercentages = [Double]()\n\n    private let timeIntervalSeconds: Double\n\n    init(timeIntervalSeconds: Double) {\n        self.timeIntervalSeconds = timeIntervalSeconds\n        if #available(iOS 10.0, *) {\n            self.startCPUMonitoring(timeIntervalSeconds: self.timeIntervalSeconds)\n        }\n    }\n\n    func getAverageCpuUsage() -&gt; Double? {\n        let sumTotal = threadPercentages.reduce((total: 0, elements: 0)) { (sum, item) -&gt; SumTotal in\n            var result = sum\n            if item &gt; 0 {\n                result.total += item\n                result.elements += 1\n            }\n\n            return result\n        }\n\n        return sumTotal.elements &gt; 0 ? sumTotal.total / sumTotal.elements : nil\n    }\n\n    @available(iOS 10.0, *)\n    private func startCPUMonitoring(timeIntervalSeconds: Double) {\n        Timer.scheduledTimer(withTimeInterval: timeIntervalSeconds, repeats: true) { [weak self] _ in\n            guard let strongSelf = self else { return }\n            if let cpuUsage = strongSelf.cpuUsage() {\n                strongSelf.threadPercentages.append(cpuUsage)\n            }\n        }\n    }\n\n    private func cpuUsage() -&gt; Double? {\n        var kernReturn: kern_return_t\n        var taskInfoCount: mach_msg_type_number_t\n\n        taskInfoCount = mach_msg_type_number_t(TASK_INFO_MAX)\n        var tinfo = [integer_t](repeating: 0, count: Int(taskInfoCount))\n\n        kernReturn = task_info(mach_task_self_, task_flavor_t(TASK_BASIC_INFO), &amp;tinfo, &amp;taskInfoCount)\n        if kernReturn != KERN_SUCCESS {\n            return -1\n        }\n\n        var threadArray: thread_act_array_t? = UnsafeMutablePointer(mutating: [thread_act_t]())\n        var threadCount: mach_msg_type_number_t = 0\n        defer {\n            if let threadArray = threadArray {\n                vm_deallocate(mach_task_self_, vm_address_t(UnsafePointer(threadArray).pointee), vm_size_t(threadCount))\n            }\n        }\n\n        kernReturn = task_threads(mach_task_self_, &amp;threadArray, &amp;threadCount)\n\n        if kernReturn != KERN_SUCCESS {\n            return -1\n        }\n\n        var totalCPU: Double?\n\n        if let threadArray = threadArray {\n\n            for index in 0 ..&lt; Int(threadCount) {\n                var threadInfoCount = mach_msg_type_number_t(THREAD_INFO_MAX)\n                var thinfo = [integer_t](repeating: 0, count: Int(threadInfoCount))\n                kernReturn = thread_info(threadArray[index], thread_flavor_t(THREAD_BASIC_INFO),\n                                 &amp;thinfo, &amp;threadInfoCount)\n                if kernReturn != KERN_SUCCESS {\n                    return -1\n                }\n\n                if index == 0 {\n                    let cpuUse = thinfo[4]\n                    totalCPU = Double(cpuUse/10)\n\n                }\n            }\n        }\n\n        return totalCPU\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1202, "user_id": 6734301, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/68f0e11c94e94983ca8404f1e6a2171c?s=128&d=identicon&r=PG&f=1", "display_name": "Wazza", "link": "https://stackoverflow.com/users/6734301/wazza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 57147552, "answer_count": 2, "score": 3, "last_activity_date": 1563803585, "creation_date": 1562947804, "last_edit_date": 1562949823, "question_id": 57010582, "link": "https://stackoverflow.com/questions/57010582/detect-percentage-of-time-main-thread-is-used", "title": "Detect percentage of time main thread is used", "body": "<p>I am trying to detect the percentage of time that the Main thread is busy so I can log this metric when a user is using the app. Currently, the closest thing I can find is the <code>user_time</code> from <code>basic_info</code> with the help from an answer <a href=\"https://stackoverflow.com/questions/9081094/how-do-you-measure-actual-on-cpu-time-for-an-ios-thread\">here</a> but how can i know what thread is being used and if its the main thread? Then from here how can i tell how much of that time as a percentage of the apps total run time for that session?</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 1, "creation_date": 1562946750, "post_id": 57010281, "comment_id": 100553478, "body": "If <code>channelsInSection</code> is supposed to be an array, then why are you declaring it as an <code>NSString</code> instead of <code>NSArray</code>? And do you really mean to use <code>valueForKey:</code> instead of <code>objectForKey:</code>?"}, {"owner": {"reputation": 105, "user_id": 4362370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546533d812c53dc1f380e8a0c7f62da6?s=128&d=identicon&r=PG&f=1", "display_name": "JFortYork", "link": "https://stackoverflow.com/users/4362370/jfortyork"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1562946870, "post_id": 57010281, "comment_id": 100553539, "body": "Because when I declare it as an NSArray, I get an error saying: &quot;Incompatible pointer types initializing &#39;NSArray *&#39; with an expression of type &#39;NSString *&#39; _Nullable&#39;."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1562947982, "post_id": 57010281, "comment_id": 100554033, "body": "<code>NSString</code> has no <code>count</code>. It has <code>length</code>."}, {"owner": {"reputation": 105, "user_id": 4362370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546533d812c53dc1f380e8a0c7f62da6?s=128&d=identicon&r=PG&f=1", "display_name": "JFortYork", "link": "https://stackoverflow.com/users/4362370/jfortyork"}, "edited": false, "score": 0, "creation_date": 1562950403, "post_id": 57010281, "comment_id": 100554955, "body": "How would I go about sorting the values within each key?"}], "answers": [{"comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1562947902, "post_id": 57010483, "comment_id": 100554000, "body": "Isn&#39;t <code>valueForKey</code> on <code>NSDictionary</code> overridden to do the same as <code>objectForKey</code>?"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1562948054, "post_id": 57010483, "comment_id": 100554063, "body": "@Sulthan I don&#39;t know but why make such an assumption? But I doubt it could be, otherwise how would something like: <code>[someDict valueForKey:@&quot;@a.b.c&quot;]</code> work?"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1562948154, "post_id": 57010483, "comment_id": 100554108, "body": "@rmaddy <a href=\"https://developer.apple.com/documentation/foundation/nsdictionary/1410210-valueforkey?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/foundation/nsdictionary/&hellip;</a> <i>If key does not start with \u201c@\u201d, invokes objectForKey:. If key does start with \u201c@\u201d, strips the \u201c@\u201d and invokes [super valueForKey:] with the rest of the key.</i> I agree that using <code>objectForKey</code> or even subscript is better, of course."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1562948224, "post_id": 57010483, "comment_id": 100554139, "body": "@Sulthan So that proves that <code>valueForKey:</code> and <code>objectForKey:</code> are not the same."}, {"owner": {"reputation": 105, "user_id": 4362370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546533d812c53dc1f380e8a0c7f62da6?s=128&d=identicon&r=PG&f=1", "display_name": "JFortYork", "link": "https://stackoverflow.com/users/4362370/jfortyork"}, "edited": false, "score": 0, "creation_date": 1562948311, "post_id": 57010483, "comment_id": 100554180, "body": "I knew it had something to do with the fact that an array of strings was being returned but I was not handling it properly.  Thank you, it works!"}], "tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 3, "last_activity_date": 1562947946, "last_edit_date": 1562947946, "creation_date": 1562947411, "answer_id": 57010483, "question_id": 57010281, "link": "https://stackoverflow.com/questions/57010281/why-is-this-not-an-array/57010483#57010483", "title": "Why is this not an array?", "body": "<p>The first issue is that you have declared your <code>channels</code> dictionary as having <code>NSString</code> values but it in fact has values that are <code>NSArray</code>. Update your property to:</p>\n\n<pre><code>@property (nonatomic, copy) NSDictionary&lt;NSString *, NSArray&lt;NSString *&gt; *&gt; *channels;\n</code></pre>\n\n<p>Then, given your data structure, change:</p>\n\n<pre><code>NSString *channelsInSection = [_channels valueForKey:sectionTitle];\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>NSArray *channelsInSection = [self.channels objectForKey:sectionTitle];\n</code></pre>\n\n<p>or more simply:</p>\n\n<pre><code>NSArray *channelsInSection = self.channels[sectionTitle];\n</code></pre>\n\n<p>Don't use <code>valueForKey:</code> unless you have a clearly understood need to use key-value coding.</p>\n"}], "owner": {"reputation": 105, "user_id": 4362370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/546533d812c53dc1f380e8a0c7f62da6?s=128&d=identicon&r=PG&f=1", "display_name": "JFortYork", "link": "https://stackoverflow.com/users/4362370/jfortyork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57010483, "answer_count": 1, "score": 1, "last_activity_date": 1562947946, "creation_date": 1562946651, "last_edit_date": 1562947795, "question_id": 57010281, "link": "https://stackoverflow.com/questions/57010281/why-is-this-not-an-array", "title": "Why is this not an array?", "body": "<p>I'm a complete Obj-C noob.  In my numberOfRowsInSection, I'm trying to get a list of TV channels associated to a category.  The category and tv channels are setup in a dictionary.  The key is the category and the values are the tv channels.</p>\n\n<p>There is a channels and sectionNames property declared in the interface file:</p>\n\n<pre><code>@property (nonatomic, copy) NSDictionary&lt;NSString *, NSString *&gt; *channels;\n@property (nonatomic, copy) NSArray&lt;NSString *&gt; *sectionNames;\n</code></pre>\n\n<p>In my numberOfRowsInSection (tableview data source method), I'm trying to return the number of channels associated to the specific category.  But for some reason, channelsInSection doesn't have a count property even though it's an array... ?  So, how do I get the number of elements contained within this variable?</p>\n\n<pre><code>- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\nNSString *sectionTitle = [_sectionNames objectAtIndex:(NSUInteger)section];\nNSString *channelsInSection = [_channels valueForKey:sectionTitle];\nreturn (NSInteger)[channelsInSection count];\n\n}\n</code></pre>\n\n<p>For some reason, the last line generates an error.  The error says \"No visible @interface for 'NSString' declares the selector 'count'\".</p>\n\n<p>But.. it's an array... isn't it? </p>\n\n<p>Please help!</p>\n\n<p>Here is the dictionary:</p>\n\n<pre><code>self.channels = @{\n                  @\"Entertainment\" : @[@\"SnackableTV\", @\"Crave\", @\"Bravo\", @\"ETVE\"],\n                  @\"Discovery\" : @[@\"Discovery\", @\"Discovery Velocity\", @\"Discovery Investigation\", @\"Discovery Animal Planet\", @\"Discovery Science\"],\n                  @\"News\" : @[@\"CTV\", @\"CP24\", @\"BNN\", @\"CTV News\"],\n                  @\"Sports\" : @[@\"TSN\", @\"RDS\"],\n                  };\nself.sectionNames = [[self.channels allKeys] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "swift", "xcode", "chilkat"], "comments": [{"owner": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1562931566, "post_id": 57006141, "comment_id": 100545174, "body": "did you use script to generate universal lib or not? it is in the manual"}, {"owner": {"reputation": 1271, "user_id": 2016165, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/903c50cd9f03c52d8743d518020ae072?s=128&d=identicon&r=PG", "display_name": "Neph", "link": "https://stackoverflow.com/users/2016165/neph"}, "reply_to_user": {"reputation": 2347, "user_id": 4687211, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075674402448869/picture?type=large", "display_name": "Lu_", "link": "https://stackoverflow.com/users/4687211/lu"}, "edited": false, "score": 0, "creation_date": 1562931948, "post_id": 57006141, "comment_id": 100545343, "body": "Yes, I <code>dragged the &quot;.sh&quot; script file to the text field in &quot;Build Phases -&gt; Run Script&quot;, which added it as &#47;Users&#47;myuser&#47;Dev&#47;chilkat-9.5.0-ios&#47;makeUniversalLib.sh</code> but I have no idea how to even run it. I tried to run build the app, hoping that that would run the script too but I got the error messages. I&#39;m not even sure if I added the library properly, so if just dragging from the Finder is okay."}], "owner": {"reputation": 1271, "user_id": 2016165, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/903c50cd9f03c52d8743d518020ae072?s=128&d=identicon&r=PG", "display_name": "Neph", "link": "https://stackoverflow.com/users/2016165/neph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562932118, "creation_date": 1562931052, "last_edit_date": 1592644375, "question_id": 57006141, "link": "https://stackoverflow.com/questions/57006141/how-do-i-add-the-chilkat-library-to-my-swift-project", "title": "How do I add the &quot;chilkat&quot; library to my Swift project?", "body": "<p>I created a new Xcode 10/Swift 5/iOS12 project (&quot;FTPTest&quot;) to test the Chilkat <a href=\"http://www.chilkatsoft.com/downloads_ios.asp\" rel=\"nofollow noreferrer\">library</a> (obj-c). I know this is probably a stupid question: <em>How do I add it to my project?</em></p>\n<p>According to <a href=\"https://www.chilkatsoft.com/chilkatSwiftIos.asp\" rel=\"nofollow noreferrer\">this</a> guide you have to:</p>\n<ol>\n<li>Add a .h file, in my case it's <code>FTPTest-Bridging-Header.h</code> - check</li>\n<li>Link to the file in &quot;Build Settings -&gt; Swift Compiler - General&quot; - check (<code>FTPTest/FTPTest-Bridging-Header.h</code>) - check</li>\n<li>Link a &quot;libChilkatIos.a&quot; file in the project's Build Phases - ????</li>\n</ol>\n<p>There are multiple &quot;libChilkatIos.a&quot; files in the archive I downloaded and &quot;5)&quot; further down the page tells you to create a universal lib with these files with a provided script <a href=\"http://www.chilkatsoft.com/downloads_ios.asp\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I just dragged the unzipped &quot;chilkat-9.5.0-ios&quot; folder from the Finder to &quot;Frameworks&quot; in the Project Navigator, then dragged the &quot;.sh&quot; script file to the text field in &quot;Build Phases -&gt; Run Script&quot;, which added it as <code>/Users/myuser/Dev/chilkat-9.5.0-ios/makeUniversalLib.sh</code></p>\n<p>How do I properly add the obj-c library to my project (I'm guessing that just dragging didn't work) and how do I even run this script? Building the project fails with 2 error messages:</p>\n<blockquote>\n<p>'chilkat-9.5.0-macosx-objc/include/CkoJsonObject.h' file not found</p>\n<p>Failed to emit precompiled header '/Users/myuser/Library/Developer/Xcode/DerivedData/FTPTest-fgmhqpmmunyinifhzwdqipvlwkfu/Build/Intermediates.noindex/PrecompiledHeaders/FTPTest-Bridging-Header-swift_1S76YILUY5B93-clang_2Y7VT4EKQOHHI.pch' for bridging header '/Users/myuser/Dev/Xcode/FTPTest/FTPTest/FTPTest/FTPTest-Bridging-Header.h'</p>\n</blockquote>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562920647, "post_id": 57003032, "comment_id": 100539466, "body": "Use the URL related API rather than messing up the paths with <code>stringByReplacingOccurrences</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562920918, "post_id": 57003032, "comment_id": 100539597, "body": "sorry,I&#39;m not able understanding what you are telling.I&#39;m new to IOS. My code working fine for file names which are not consist of special characters. The main problem is with the special characters only."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562921065, "post_id": 57003032, "comment_id": 100539675, "body": "Please add an example of a non-working <code>athleteDoumentPath</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562921902, "post_id": 57003032, "comment_id": 100540090, "body": "EXAMPLE.   :    _athleteDoumentPath     @&quot;<a href=\"http://qa.example.com/ExampleDocuments\" rel=\"nofollow noreferrer\">qa.example.com/ExampleDocuments</a>\\\\Documents\\\\AthleteID\\\\RM testing%.doc&quot; .         and  Document name is    &quot;RM testing%.doc&quot;."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562923656, "post_id": 57003032, "comment_id": 100541087, "body": "A valid URL requires to start with a scheme e.g. <code>http:&#47;&#47;</code>. Where does the scheme come from? The example doesn&#39;t start with a scheme and in the code none is added."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562925063, "post_id": 57003032, "comment_id": 100541843, "body": "above mentioned URL is in correct format only. &quot;http://&quot; is not displaying after post the comment."}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1562925788, "post_id": 57003032, "comment_id": 100542210, "body": "I wrote an answer."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "edited": false, "score": 0, "creation_date": 1562929658, "post_id": 57004740, "comment_id": 100544222, "body": "it&#39;s not working and even normal files(file names without special characters) also not downloading.error is getting whenever download the file.i.e, &quot;NSURLConnection finished with error - code -1100&quot;"}], "tags": [], "owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "is_accepted": false, "score": 0, "last_activity_date": 1562925778, "creation_date": 1562925778, "answer_id": 57004740, "question_id": 57003032, "link": "https://stackoverflow.com/questions/57003032/files-are-not-dowloading-when-file-names-with-special-characters/57004740#57004740", "title": "Files are not dowloading when file names with special characters", "body": "<p>Add the percent encoding with the dedicated API <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1411946-stringbyaddingpercentencodingwit?language=objc\" rel=\"nofollow noreferrer\"><code>stringByAddingPercentEncodingWithAllowedCharacters</code></a></p>\n\n<pre><code>NSString *path = injurydocObj.athleteDoumentPath;\nNSString *fileName = injurydocObj.documentName;\npath = [[path stringByReplacingOccurrencesOfString:@\"\\\\\" withString:@\"/\"]\n        stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLPathAllowedCharacterSet]];\n\nNSURL *url = [NSURL URLWithString: path];\n\nif ([@[@\"doc\", @\"docx\", @\"pdf\"] containsObject: url.pathExtension]) {\n\n...\n\nNSURLRequest *requestObj = [NSURLRequest requestWithURL: url];\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9563407"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563449179, "creation_date": 1562919901, "last_edit_date": 1563449179, "question_id": 57003032, "link": "https://stackoverflow.com/questions/57003032/files-are-not-dowloading-when-file-names-with-special-characters", "title": "Files are not dowloading when file names with special characters", "body": "<p>Files are not downloading and doesn't show any information\n which is present in the file. Some time it shows one messages,i.e.,file is corrupted or unknown file type.</p>\n\n<pre><code>injurydocObj=[self.injuryDocSN objectAtIndex:indexPath.row];\nNSString *path = injurydocObj.athleteDoumentPath;\nNSString *fileName=injurydocObj.documentName;\n\npath = [path stringByReplacingOccurrencesOfString:@\"\\\\\"\n                                     withString:@\"/\"];\npath = [path stringByReplacingOccurrencesOfString:@\" \" withString:@\"%20\"];\n\nNSString *strFileType=@\"\";\nNSArray *arFileName = [fileName componentsSeparatedByString:@\".\"];\nif(arFileName.count&gt;0)\n{\n    strFileType = arFileName[arFileName.count-1];\n    strFileType = [strFileType lowercaseString];\n}\nif([strFileType isEqual:@\"doc\"] || [strFileType isEqual:@\"docx\"] || [strFileType isEqual:@\"pdf\"]){\n\n    NSURLRequest *requestObj = [NSURLRequest requestWithURL:[NSURL URLWithString:path]];\n\n}`\n</code></pre>\n\n<p>Please help me to display pdf, doc and docx files types even file name includes special characters or spaces</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "answers": [{"comments": [{"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1563238002, "post_id": 56999934, "comment_id": 100624488, "body": "If I make a public function inside the view controller [such as <code>+(void)eternalControl{...</code> ] then it stops detecting the <code>uiwebview</code> inside this public function. If I make a private function, [such as <code>-(void)eternalControl{...</code> ], it detects the <code>uiwebview</code> inside the function but the function itself is not detected outside the ViewController. What is a good approach to control the <code>uiwebview</code> from somewhere outside the ViewController? What I really need to do is update the <code>uiwebview</code> from inside a C-style function, ..."}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1563238005, "post_id": 56999934, "comment_id": 100624489, "body": "...and buy reading questions around here I have found that C style functions are not considered part of the ViewController even if they are declared inside the ViewController"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1563238343, "post_id": 56999934, "comment_id": 100624550, "body": "I don&#39;t know what you mean by any of that. I didn&#39;t say to make a C-style function. I said to make a public method. I stand by my answer."}, {"owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1563238487, "post_id": 56999934, "comment_id": 100624581, "body": "isn&#39;t adding a + before a function definition the way to make it public? If I do that it stops allowing me to use <code>uiwebview</code> inside the public function."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "reply_to_user": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "edited": false, "score": 0, "creation_date": 1563238938, "post_id": 56999934, "comment_id": 100624670, "body": "No, <code>+</code> has nothing to do with the public status of something in Objective-C. I&#39;ve got a free online book that teaches you Objective-C; maybe you could benefit from reading it. <a href=\"http://www.apeth.com/iOSBook/ch03.html#_messages_and_methods_2\" rel=\"nofollow noreferrer\">apeth.com/iOSBook/ch03.html#_messages_and_methods_2</a>"}], "tags": [], "owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1562903037, "last_edit_date": 1592644375, "creation_date": 1562903037, "answer_id": 56999934, "question_id": 56999848, "link": "https://stackoverflow.com/questions/56999848/call-functions-on-a-uiwebview-controller-outside-the-viewcontroller-class-in-obj/56999934#56999934", "title": "call functions on a uiwebview controller outside the Viewcontroller class in objective C", "body": "<blockquote>\n<p>But I want to use it somewhere outside. For example, I want to do something like this</p>\n<pre><code>[uiwebview loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;about:blank&quot;]]];  \n</code></pre>\n<p>from outside <code>@implementation ViewController</code></p>\n</blockquote>\n<p>Stop wanting that. An IBOutlet should be private to its own view controller. If you want other view controllers to be able to do something to that web view, then arm your ViewController with public methods that they can call.</p>\n"}, {"tags": [], "owner": {"reputation": 1205, "user_id": 1250750, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Yn5CC.jpg?s=128&g=1", "display_name": "Plasma", "link": "https://stackoverflow.com/users/1250750/plasma"}, "is_accepted": false, "score": 0, "last_activity_date": 1565441908, "creation_date": 1565441908, "answer_id": 57442363, "question_id": 56999848, "link": "https://stackoverflow.com/questions/56999848/call-functions-on-a-uiwebview-controller-outside-the-viewcontroller-class-in-obj/57442363#57442363", "title": "call functions on a uiwebview controller outside the Viewcontroller class in objective C", "body": "<p>I think I understand what you are trying to do, I have an app that has various tabs some of which are web view. When my app starts I get it to pre-load the web views so that when the tabs are selected they are already loaded. Its important the the other tabs are all singleton classes so that there is only one instance of them.</p>\n\n<p>In my main ViewController viewDidLoad I have this ..</p>\n\n<pre><code>//Pre load calculators and status page\nEvolutionViewController *evoCalc = [EvolutionViewController sharedInstance];\n[evoCalc.view layoutSubviews];\n\nIVCalcViewController *ivCalc = [IVCalcViewController sharedInstance];\n[ivCalc.view layoutSubviews];\n\nStatusViewController *serverStatus = [StatusViewController sharedInstance];\n[serverStatus.view layoutSubviews];\n</code></pre>\n\n<p>Those instantiate the classes for the other tabs which also loads up the web views associated with those classes. All the classes are similar this is the .h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface EvolutionViewController : UIViewController &lt;UIWebViewDelegate&gt;\n\n\n+ (EvolutionViewController *) sharedInstance;\n\n@property (nonatomic, retain) IBOutlet UIWebView *webView;\n\n@end\n</code></pre>\n\n<p>And the .m</p>\n\n<pre><code>#import \"EvolutionViewController.h\"\n\n@interface EvolutionViewController ()\n\n@end\n\n@implementation EvolutionViewController\n\n@synthesize webView;\n\n#pragma mark - Singleton Methods\nstatic EvolutionViewController *_sharedInstance;\n\n- (id) init\n{\n    if (self = [super init])\n    {\n        // custom initialization\n\n    }\n    return self;\n}\n\n+ (EvolutionViewController *) sharedInstance\n{\n    return _sharedInstance;\n}\n\n\n-(id)initWithCoder:(NSCoder *)decoder {\n\n    if (!_sharedInstance) {\n        if (self = [super initWithCoder:decoder]) {\n            _sharedInstance = self;\n        }\n    }\n    return _sharedInstance;\n}\n\n\n#pragma mark - View Controller Methods\n\n-(void)viewWillLayoutSubviews {\n    self.webView = [[UIWebView alloc] init];\n}\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n\n    NSURL *url = [[NSBundle mainBundle] URLForResource: @\"evo_calc\" withExtension:@\"html\"];\n    NSURLRequest*request=[NSURLRequest requestWithURL:url];\n    [self.webView loadRequest:request];\n\n}\n\n@end\n</code></pre>\n\n<p>Mine uses local html resources but works the same with a proper URL as well.</p>\n"}], "owner": {"reputation": 6159, "user_id": 1693203, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c9c4508e16ff38583441edf374a41524?s=128&d=identicon&r=PG", "display_name": "user13267", "link": "https://stackoverflow.com/users/1693203/user13267"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565441908, "creation_date": 1562902288, "question_id": 56999848, "link": "https://stackoverflow.com/questions/56999848/call-functions-on-a-uiwebview-controller-outside-the-viewcontroller-class-in-obj", "title": "call functions on a uiwebview controller outside the Viewcontroller class in objective C", "body": "<p>I have a uiwebview in my ios program and it is connected to a variable inside the ViewController interface  </p>\n\n<pre><code>@interface ViewController() &lt;UIWebViewDelegate&gt;  \n@property(weak, nonatomic) IBOutlet UIWebView *uiwebview;  \n@end   \n</code></pre>\n\n<p>I want to call functions on this uiwebview from outside the viewcontroller  </p>\n\n<p>For example, I can control the webview just fine if it is used between  </p>\n\n<pre><code>@implementation ViewController  \n\n.  \n.  \n.  \n\n@end  \n</code></pre>\n\n<p>But I want to use it somewhere outside. For example, I want to do something like this  </p>\n\n<pre><code>[uiwebview loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@\"about:blank\"]]];  \n</code></pre>\n\n<p>from outside <code>@implementation ViewController</code>  </p>\n\n<p>What are the options to achieve this?</p>\n"}, {"tags": ["ios", "objective-c", "crash", "uiwebview"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1562919650, "post_id": 56999474, "comment_id": 100538930, "body": "Copy/paste error, do you have any logs? ANything?"}, {"owner": {"reputation": 126, "user_id": 3960548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L5Ise.jpg?s=128&g=1", "display_name": "Mike Qiu", "link": "https://stackoverflow.com/users/3960548/mike-qiu"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1562936064, "post_id": 56999474, "comment_id": 100547517, "body": "@Lame Yes, I have updated the question"}], "owner": {"reputation": 126, "user_id": 3960548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L5Ise.jpg?s=128&g=1", "display_name": "Mike Qiu", "link": "https://stackoverflow.com/users/3960548/mike-qiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562925865, "creation_date": 1562898425, "last_edit_date": 1562925865, "question_id": 56999474, "link": "https://stackoverflow.com/questions/56999474/uiwebview-crashed-when-load-a-particular-url-randomly-in-uiwebdocumentview-upd", "title": "UIWebview crashed when load a particular URL randomly in [UIWebDocumentView _updateSubviewCaches]", "body": "<p>Random crash in UIKit when UIWebView load the url <a href=\"http://hkbookfair.hktdc.com/en/index.html\" rel=\"nofollow noreferrer\">http://hkbookfair.hktdc.com/en/index.html</a></p>\n\n<p>Through check Zombie, seems QuartzCore's Release method is the cause.</p>\n\n<p>Does someone have similar experience of this kind of crash?</p>\n\n<pre><code>[__NSArrayM release]: message sent to deallocated instance 0x60000ad8c7e0\n\nUIKitCore`-[UIWebDocumentView _updateSubviewCaches]:\n    0x11e87a5c6 &lt;+0&gt;:  pushq  %rbp\n    0x11e87a5c7 &lt;+1&gt;:  movq   %rsp, %rbp\n    0x11e87a5ca &lt;+4&gt;:  pushq  %r15\n    0x11e87a5cc &lt;+6&gt;:  pushq  %r14\n    0x11e87a5ce &lt;+8&gt;:  pushq  %rbx\n    0x11e87a5cf &lt;+9&gt;:  pushq  %rax\n    0x11e87a5d0 &lt;+10&gt;: movq   %rdi, %rbx\n    0x11e87a5d3 &lt;+13&gt;: movq   0x7cb53e(%rip), %r14      ; UIWebDocumentView._additionalSubviews\n    0x11e87a5da &lt;+20&gt;: movq   (%rdi,%r14), %rdi\n    0x11e87a5de &lt;+24&gt;: movq   0x75b993(%rip), %rsi      ; \"release\"\n    0x11e87a5e5 &lt;+31&gt;: movq   0x33fec4(%rip), %r15      ; (void *)0x00000001131a2640: objc_msgSend\n    0x11e87a5ec &lt;+38&gt;: callq  *%r15\n-&gt;  0x11e87a5ef &lt;+41&gt;: movq   0x7a32ca(%rip), %rsi      ; \"_collectAdditionalSubviews\"\n    0x11e87a5f6 &lt;+48&gt;: movq   %rbx, %rdi\n    0x11e87a5f9 &lt;+51&gt;: callq  *%r15\n    0x11e87a5fc &lt;+54&gt;: movq   0x75c15d(%rip), %rsi      ; \"retain\"\n    0x11e87a603 &lt;+61&gt;: movq   %rax, %rdi\n    0x11e87a606 &lt;+64&gt;: callq  *%r15\n    0x11e87a609 &lt;+67&gt;: movq   %rax, (%rbx,%r14)\n    0x11e87a60d &lt;+71&gt;: movq   0x7a2a54(%rip), %rsi      ; \"_setSubviewCachesNeedUpdate:\"\n    0x11e87a614 &lt;+78&gt;: xorl   %edx, %edx\n    0x11e87a616 &lt;+80&gt;: movq   %rbx, %rdi\n    0x11e87a619 &lt;+83&gt;: movq   %r15, %rax\n    0x11e87a61c &lt;+86&gt;: addq   $0x8, %rsp\n    0x11e87a620 &lt;+90&gt;: popq   %rbx\n    0x11e87a621 &lt;+91&gt;: popq   %r14\n    0x11e87a623 &lt;+93&gt;: popq   %r15\n    0x11e87a625 &lt;+95&gt;: popq   %rbp\n    0x11e87a626 &lt;+96&gt;: jmpq   *%rax\n\n</code></pre>\n\n<p><img src=\"https://previews.dropbox.com/p/thumb/AAfg4dJZLj1cpx3bsUI5JUDSC0Y_l70dLv48O9RJmxWS_qZFbwla6FsP9-98U3Wvbx8o5qhXzGvQsfJibDIXiVcjU4C1lHruTvlKHG9etWpVN93W9SVuAXgdKr9dP5biIIEDKFRoFmRiEKI0iA3nbxrm4-AHgUUgYpK8HJEd5umudmNI217Ldos7woWyI_bDyRQxscrRdXmClP16e80BtCLSKBnixhGLMCmvmkh9Kj5b2v-rTVY2Jb2ju84RmnfKsvNBurYEf5Ps3Nl7cL_znK82yXBJhIP6Xo6HgdpPltIL3EyGXAJ0FgdVMO2C5PaUjrJY8v4mKpl-VIweUgBXqyjJ/p.png?fv_content=true&amp;size_mode=5\" alt=\"memory management history\"></p>\n"}, {"tags": ["ios", "objective-c", "xcode", "uitextfield", "uitextview"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562886258, "post_id": 56997635, "comment_id": 100530282, "body": "Why not intercept the tap?"}, {"owner": {"reputation": 669, "user_id": 6383587, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sZUXc.png?s=128&g=1", "display_name": "ArielSD", "link": "https://stackoverflow.com/users/6383587/arielsd"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1562940894, "post_id": 56997635, "comment_id": 100550224, "body": "@matt , good idea. You mean to put a tap gesture recognizer on it? How could I handle not moving the cursor in the intercept?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1562944173, "post_id": 56997635, "comment_id": 100552137, "body": "I was thinking of an invisible view that just swallows touches unless you <i>want</i> them to fall thru. I use that sort of masking all the time."}, {"owner": {"reputation": 669, "user_id": 6383587, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sZUXc.png?s=128&g=1", "display_name": "ArielSD", "link": "https://stackoverflow.com/users/6383587/arielsd"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1563303214, "post_id": 56997635, "comment_id": 100652643, "body": "How would you handle the long press in the center of the keyboard to move the cursor?"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1563303878, "post_id": 56997635, "comment_id": 100652938, "body": "Yeah, that&#39;s a problem. I was afraid you&#39;d get to that. :("}, {"owner": {"reputation": 669, "user_id": 6383587, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sZUXc.png?s=128&g=1", "display_name": "ArielSD", "link": "https://stackoverflow.com/users/6383587/arielsd"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1563308796, "post_id": 56997635, "comment_id": 100654997, "body": "I appreciate your help, thanks a lot!"}], "owner": {"reputation": 669, "user_id": 6383587, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sZUXc.png?s=128&g=1", "display_name": "ArielSD", "link": "https://stackoverflow.com/users/6383587/arielsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562881183, "creation_date": 1562881183, "question_id": 56997635, "link": "https://stackoverflow.com/questions/56997635/is-there-a-way-to-read-when-a-user-changes-the-cursor-position-in-a-uitextview", "title": "Is there a way to read when a user changes the cursor position in a UITextView?", "body": "<p>I'm working on an app in which I have to mock a multi-line <code>textField</code>, so we're using a <code>UITextView</code>. </p>\n\n<p>All of the other functionality is there, except for the \"placeholder\" text. </p>\n\n<p>For example, in iMessage on iOS, when you tap into the input field, the \"iMessage\" text goes away and you can write your message. </p>\n\n<p>Since we're mocking placeholder text, a user can move the curser around, even if we prevent them from editing. </p>\n\n<p>Is there a way to have the cursor stay at the beginning of the text, even if the user taps around, or tries to move it by long-pressing the center of the keyboard?</p>\n\n<p>Happy to elaborate or past code if it's helpful.</p>\n"}, {"tags": ["ios", "objective-c", "swift", "gps", "windev"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11681601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aX-IRXRsGmA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfl5czjeZYCsSKJIK_deLBjg88Nnw/mo/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/11681601/quentin"}, "edited": false, "score": 0, "creation_date": 1562944060, "post_id": 57000168, "comment_id": 100552081, "body": "Thank you so much. This work perfectly. Unfortunately I just found out that WinDev doesn&#39;t allow us to pass complex parameter. So I&#39;m fuck up again.."}, {"owner": {"reputation": 644, "user_id": 4530920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b8888d04b8fe08be25d3261bf4660e?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Osama", "link": "https://stackoverflow.com/users/4530920/ahmed-osama"}, "reply_to_user": {"reputation": 23, "user_id": 11681601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aX-IRXRsGmA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfl5czjeZYCsSKJIK_deLBjg88Nnw/mo/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/11681601/quentin"}, "edited": false, "score": 0, "creation_date": 1562960375, "post_id": 57000168, "comment_id": 100558445, "body": "No problem. What do you mean by &quot;complex parameter&quot;?"}, {"owner": {"reputation": 23, "user_id": 11681601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aX-IRXRsGmA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfl5czjeZYCsSKJIK_deLBjg88Nnw/mo/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/11681601/quentin"}, "edited": false, "score": 0, "creation_date": 1563088756, "post_id": 57000168, "comment_id": 100580502, "body": "I mean non primitive type. So i can only pass parameter such as String, Int, Double, Boolean."}], "tags": [], "owner": {"reputation": 644, "user_id": 4530920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b8888d04b8fe08be25d3261bf4660e?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Osama", "link": "https://stackoverflow.com/users/4530920/ahmed-osama"}, "is_accepted": true, "score": 1, "last_activity_date": 1562962566, "last_edit_date": 1562962566, "creation_date": 1562905654, "answer_id": 57000168, "question_id": 56997496, "link": "https://stackoverflow.com/questions/56997496/develop-in-ios-without-using-global-variable-and-class/57000168#57000168", "title": "Develop in IOS without using Global Variable and class", "body": "<p>You could do something like this:</p>\n\n<pre><code>override func viewDidLoad() {\n    super.viewDidLoad()\n\n    let locationManager = CLLocationManager()\n    locationManager.delegate = self\n    perform(#selector(hold), with: locationManager, afterDelay: 10000)\n}\n\noverride func viewDidDisappear(_ animated: Bool) {\n    super.viewDidDisappear(animated)\n\n    NSObject.cancelPreviousPerformRequests(withTarget: self)\n}\n\n@objc func hold(object: AnyObject) {\n    perform(#selector(hold), with: object, afterDelay: 10000)\n}\n</code></pre>\n\n<p>Things to note:</p>\n\n<ul>\n<li><p><code>CLLocationManager</code> delegate is <code>unowned</code>, that is, it won't be set to nil when view controller is deallocated, you should make sure location manager will be deallocated before view controller does, or your app will crash if location manager lived more than its delegate (the view controller) and tried to access it.</p></li>\n<li><p>You should make sure that all objects are deallocated when you are done with them using memory graph debugger or Xcode profiling instruments, else there will be memory leaks.</p></li>\n</ul>\n\n<p>Above code handles theses notes, but you should check them if you made any modifications.</p>\n"}], "owner": {"reputation": 23, "user_id": 11681601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aX-IRXRsGmA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfl5czjeZYCsSKJIK_deLBjg88Nnw/mo/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/11681601/quentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 57000168, "answer_count": 1, "score": 1, "last_activity_date": 1562962566, "creation_date": 1562880371, "last_edit_date": 1562903372, "question_id": 56997496, "link": "https://stackoverflow.com/questions/56997496/develop-in-ios-without-using-global-variable-and-class", "title": "Develop in IOS without using Global Variable and class", "body": "<p>I am developing an extra GPS module for an app in WinDev. \nWinDev supports Swift code but only method which excluding class and global variable use. \nHere what I've done (basically based on Apple doc) :</p>\n\n<pre class=\"lang-swift prettyprint-override\"><code>    import Foundation\n    import CoreLocation\n    import UIKit\n\n    class mod_GPS : NSObject, CLLocationManagerDelegate {\n        var distance = Double()\n        var location_last : [CLLocation] = []\n        let locationManager = CLLocationManager()\n\n        func startReceivingLocationChanges() {\n          // Do some stuff (basically what is write on doc)\n        }\n\n        internal func locationManager(_ manager: CLLocationManager,  didUpdateLocations locations: [CLLocation]) {\n            let lastLocation = locations.last!\n            if (location_last.count != 0){\n                distance = distance + lastLocation.distance(from: location_last[0])\n                location_last[0] = lastLocation\n            }else{\n                distance = 0\n                location_last.append(lastLocation)\n            }\n        }\n\n        func locationManager(_ manager: CLLocationManager, didFailWithError error: Error) {\n           //Same\n        }\n\n    }\n</code></pre>\n\n<p>So here we have some code to create an object and count the distance when the user move. \nBut this can't deal with WinDev. \nThe issue is about : \"let locationManager = CLLocationManager()\" which have to be global. So I was wondering if there is a way to avoid global variable.</p>\n\n<p>First I try something like that : the part in swift write on disk at every call of LocationManage(didUpdateLocation) and the part in WinDev read the value when he wanted. But this don't solve the problem because I still have to initiate the variable locationManager in WinDev part. \nThen I think about anonymous class which exist in Java but it seems to be missing in swift and objective C.</p>\n\n<p>Moreover the community of WinDev developer and the documentation is totally AFK so I didn't expected help this way.\nI clearly don't know how to do this part. If someone have and idea or a tips... I'll be glad to hear them. </p>\n"}, {"tags": ["ios", "objective-c", "crash", "linphone", "linphone-sdk"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8544882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0321b30edf3751bf7867530e9ea12b84?s=128&d=identicon&r=PG&f=1", "display_name": "user86758", "link": "https://stackoverflow.com/users/8544882/user86758"}, "is_accepted": true, "score": 0, "last_activity_date": 1562955541, "creation_date": 1562955541, "answer_id": 57012226, "question_id": 56993398, "link": "https://stackoverflow.com/questions/56993398/app-crashing-on-lpconfigstringforkey-with-linphone/57012226#57012226", "title": "App crashing on lpConfigStringForKey with Linphone", "body": "<p>I found the issue. The following was missing from the init function:</p>\n\n<pre><code>    [self renameDefaultSettings];\n    [self copyDefaultSettings];\n    [self overrideDefaultSettings];\n</code></pre>\n\n<p>Which was causing some issues with the lp_config</p>\n"}], "owner": {"reputation": 11, "user_id": 8544882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0321b30edf3751bf7867530e9ea12b84?s=128&d=identicon&r=PG&f=1", "display_name": "user86758", "link": "https://stackoverflow.com/users/8544882/user86758"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57012226, "answer_count": 1, "score": 0, "last_activity_date": 1562955541, "creation_date": 1562861676, "last_edit_date": 1562942579, "question_id": 56993398, "link": "https://stackoverflow.com/questions/56993398/app-crashing-on-lpconfigstringforkey-with-linphone", "title": "App crashing on lpConfigStringForKey with Linphone", "body": "<p>I have an iOS voip app that utilizes the Linphone library. Previously the app was running successfully but I have just upgraded the linphone frameworks and files: LinphoneManager.h/.m and Utils.h/.m from <a href=\"https://github.com/BelledonneCommunications/linphone-iphone\" rel=\"nofollow noreferrer\">linphone-iphone</a>.</p>\n\n<p>After adding the updated frameworks from a new version of the linphone-sdk and updating LinphoneManager.h/m I am running into a crash on startup of the application. The crash occurs once the app hits </p>\n\n<pre><code>lp_config_get_string(_configDb, [section UTF8String], [key UTF8String], NULL);\n</code></pre>\n\n<p>in lpConfigStringForKey().</p>\n\n<p>I have tried removing and readding the frameworks and checking the LinphoneManager.h/.m code but I have not come across a solution nor have I found any instances similar to mine in the linphone-iphone issues.</p>\n\n<p>The crash occurs as it hits the following block of code</p>\n\n<pre><code>- (NSString *)lpConfigStringForKey:(NSString *)key inSection:(NSString *)section withDefault:(NSString *)defaultValue {\n    if (!key) {\n        return defaultValue;\n    }\n    const char *value = lp_config_get_string(_configDb, [section UTF8String], [key UTF8String], NULL);\n    return value ? [NSString stringWithUTF8String:value] : defaultValue;\n}\n</code></pre>\n\n<p>This is a standard function in LinphoneManager.m that I have not modified.</p>\n\n<p>Specifically, the crash comes from this function in the linphone framework:</p>\n\n<pre><code>lp_config_get_string(_configDb, [section UTF8String], [key UTF8String], NULL);\n</code></pre>\n\n<p>I have logged the key, section and defaultValue variables when the app crashes. They are:</p>\n\n<pre><code>2019-07-11 10:58:51.033849-0500 myApp[15512:511705] KEY: debugenable_preference\n2019-07-11 10:58:51.033964-0500 myApp[15512:511705] SECTION: app\n2019-07-11 10:58:51.034040-0500 myApp[15512:511705] DEFAULT: (null)\n</code></pre>\n\n<p>The header comments for the linphone_config_get_string which is what lp_config_get_string points to are the following:</p>\n\n<pre><code>/**\n * Retrieves a configuration item as a string, given its section, key, and default value.\n *\n * The default value string is returned if the config item isn't found.\n**/\nLINPHONE_PUBLIC const char *linphone_config_get_string(const LinphoneConfig *lpconfig, const char *section, const char *key, const char *default_string);\n</code></pre>\n\n<p>Here is a screenshot of the error and crash:\n<a href=\"https://i.stack.imgur.com/wkWzb.jpg\" rel=\"nofollow noreferrer\">Crash stack trace and error</a></p>\n\n<p>I figure I am missing something when adding the frameworks but I haven't been able to find it yet.</p>\n\n<ul>\n<li>Note - If I comment out the lp_config_get_string call then when the app gets to the next lp_config function call it crashes there. So it looks like it has something to do with the linphone.framework and the lp_config module but I have not found the solution yet.</li>\n</ul>\n\n<p>Thank you</p>\n"}, {"tags": ["objective-c", "viewcontroller", "viewdidlayoutsubviews"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9859217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1abf802c2e564dd175f726781d7cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/9859217/jin"}, "edited": false, "score": 0, "creation_date": 1562897972, "post_id": 56998135, "comment_id": 100532253, "body": "Thanks, is there anyway to avoid subclassing the view?"}, {"owner": {"reputation": 1, "user_id": 5988414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oI0Nt.jpg?s=128&g=1", "display_name": "Ashot Asoyan", "link": "https://stackoverflow.com/users/5988414/ashot-asoyan"}, "reply_to_user": {"reputation": 43, "user_id": 9859217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1abf802c2e564dd175f726781d7cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/9859217/jin"}, "edited": false, "score": 0, "creation_date": 1563378139, "post_id": 56998135, "comment_id": 100682321, "body": "you could use this delegate without subclassing a view"}], "tags": [], "owner": {"reputation": 1, "user_id": 5988414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oI0Nt.jpg?s=128&g=1", "display_name": "Ashot Asoyan", "link": "https://stackoverflow.com/users/5988414/ashot-asoyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1562884750, "creation_date": 1562884750, "answer_id": 56998135, "question_id": 56991075, "link": "https://stackoverflow.com/questions/56991075/ios-get-the-subviews-bounds-when-rotation-happened/56998135#56998135", "title": "iOS get the subviews bounds when rotation happened", "body": "<p>Try to get bounds in that method:</p>\n\n<p><code>- (void)layoutSubviews;</code></p>\n"}], "owner": {"reputation": 43, "user_id": 9859217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1abf802c2e564dd175f726781d7cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Jin", "link": "https://stackoverflow.com/users/9859217/jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562884750, "creation_date": 1562853821, "question_id": 56991075, "link": "https://stackoverflow.com/questions/56991075/ios-get-the-subviews-bounds-when-rotation-happened", "title": "iOS get the subviews bounds when rotation happened", "body": "<p>Once rotated the phone, how can I get subview's final bounds?</p>\n\n<p>As said, I rewrite the viewDidLayoutSubview method but only get the self.view's final bounds, the subview are using auto layout to positioning. So is there a way to get the subviews final bounds. and for some reason better not to subclass the view itself.</p>\n\n<pre><code>- (void)viewDidLayoutSubviews\n{\n    [super viewDidLayoutSubviews];\n}\n\n</code></pre>\n"}, {"tags": ["objective-c", "quickblox"], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 5014689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eed79f609496592bf8853efa2e0fd06?s=128&d=identicon&r=PG&f=1", "display_name": "Dipendra Dubey", "link": "https://stackoverflow.com/users/5014689/dipendra-dubey"}, "is_accepted": false, "score": 0, "last_activity_date": 1563441876, "creation_date": 1563441876, "answer_id": 57091237, "question_id": 56987879, "link": "https://stackoverflow.com/questions/56987879/how-to-integrate-mark-message-feature-for-read-messages-in-quickblox/57091237#57091237", "title": "How to integrate mark message feature for read messages in Quickblox", "body": "<p>I have solved like this\nQBChatMessage has three properties readIDs(array of the users who read the messages), deliveredIDs(array of the users to whom message is delivered), recipientID.</p>\n\n<p>Below is full code in ChatViewController.m</p>\n\n<p>-(void)collectionView:(QMChatCollectionView *)collectionView\n      configureCell:(UICollectionViewCell *)cell \n          forIndexPath:(NSIndexPath *)indexPath {</p>\n\n<p>QBChatMessage *message = [self.chatDataSource messageForIndexPath:indexPath];</p>\n\n<pre><code>if (message.senderID == [QBSession currentSession].currentUser.ID){\n\n    NSString *imageName = @\"sent.png\";\n    if((self.dialog.type == QBChatDialogTypePrivate) &amp;&amp; [message.readIDs containsObject:@(message.recipientID)]) {\n        imageName = @\"read.png\";\n    }\n    else if((self.dialog.type == QBChatDialogTypePrivate) &amp;&amp; [message.deliveredIDs containsObject:@(message.recipientID)]) {\n        imageName = @\"received.png\";\n    }\n    [chatCell markImageView].image = [UIImage imageNamed:imageName];\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here markImageView is UIImagview property taken for the cell.</p>\n"}], "owner": {"reputation": 167, "user_id": 5014689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eed79f609496592bf8853efa2e0fd06?s=128&d=identicon&r=PG&f=1", "display_name": "Dipendra Dubey", "link": "https://stackoverflow.com/users/5014689/dipendra-dubey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563441876, "creation_date": 1562843450, "last_edit_date": 1562844628, "question_id": 56987879, "link": "https://stackoverflow.com/questions/56987879/how-to-integrate-mark-message-feature-for-read-messages-in-quickblox", "title": "How to integrate mark message feature for read messages in Quickblox", "body": "<p>I am using <code>Chatviewcontroller</code> of <code>Quickblox</code> to show chat detail. I want to mark the message to read if the message is read.</p>\n\n<p>I see there is a method available in QMChatService.m class</p>\n\n<pre><code>- (void)chatDidReadMessageWithID:(NSString *)messageID\n                    dialogID:(NSString *)dialogID\n                    readerID:(NSUInteger)readerID{\n\n------------\nif ([self.multicastDelegate respondsToSelector:@selector(chatService:didUpdateMessage:forDialogID:)]) {\n            [self.multicastDelegate chatService:self didUpdateMessage:message forDialogID:dialogID];\n        }\n}\n</code></pre>\n\n<p>Here I see <code>chatService:didUpdateMessage:</code> a method called for another scenario too hence unable to identify how to mark the message.</p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1562841581, "post_id": 56987262, "comment_id": 100509113, "body": "The method has 2 parameters which you didn&#39;t put in your Swift code. And there is not autcompletion?"}, {"owner": {"reputation": 5, "user_id": 8555270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f957b509b4ff3bbb9115c785a9936a6a?s=128&d=identicon&r=PG&f=1", "display_name": "karan agarwal", "link": "https://stackoverflow.com/users/8555270/karan-agarwal"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1562841666, "post_id": 56987262, "comment_id": 100509156, "body": "so how to do can you please help me"}, {"owner": {"reputation": 2419, "user_id": 7512091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaZVQ.png?s=128&g=1", "display_name": "emrcftci", "link": "https://stackoverflow.com/users/7512091/emrcftci"}, "edited": false, "score": 0, "creation_date": 1562841716, "post_id": 56987262, "comment_id": 100509191, "body": "In your swift file -&gt; <code>let obj = DCSideMenuViewController()  obj.viewControllerFromMenuItem</code> try this"}, {"owner": {"reputation": 5, "user_id": 8555270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f957b509b4ff3bbb9115c785a9936a6a?s=128&d=identicon&r=PG&f=1", "display_name": "karan agarwal", "link": "https://stackoverflow.com/users/8555270/karan-agarwal"}, "reply_to_user": {"reputation": 2419, "user_id": 7512091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaZVQ.png?s=128&g=1", "display_name": "emrcftci", "link": "https://stackoverflow.com/users/7512091/emrcftci"}, "edited": false, "score": 0, "creation_date": 1562842050, "post_id": 56987262, "comment_id": 100509385, "body": "@EmreCiftci i have tried"}, {"owner": {"reputation": 1031, "user_id": 9293498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de009ca6c59cfbc7fc2974a970f07a0?s=128&d=identicon&r=PG&f=1", "display_name": "Lokesh SN", "link": "https://stackoverflow.com/users/9293498/lokesh-sn"}, "edited": false, "score": 0, "creation_date": 1562842670, "post_id": 56987262, "comment_id": 100509775, "body": "Have you checked if the Obj-C method that you have shared is declared in the .h file too? If not, it won&#39;t be visible"}, {"owner": {"reputation": 640, "user_id": 1790851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CIsy4.png?s=128&g=1", "display_name": "iCyberPaul", "link": "https://stackoverflow.com/users/1790851/icyberpaul"}, "edited": false, "score": 0, "creation_date": 1562843961, "post_id": 56987262, "comment_id": 100510482, "body": "Your function in the obj-c code has a - before the function. You are trying to call it as a class function so will need a + instead."}], "answers": [{"tags": [], "owner": {"reputation": 7637, "user_id": 2486394, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/208cc771e31adbc2755df9075a6b989e?s=128&d=identicon&r=PG", "display_name": "Sviatoslav Yakymiv", "link": "https://stackoverflow.com/users/2486394/sviatoslav-yakymiv"}, "is_accepted": true, "score": 0, "last_activity_date": 1562841869, "creation_date": 1562841869, "answer_id": 56987428, "question_id": 56987262, "link": "https://stackoverflow.com/questions/56987262/i-cant-call-the-method-in-swift-file/56987428#56987428", "title": "i cant call the method in swift file", "body": "<p>Your method should be translated into the following Swift method:</p>\n\n<pre><code>func fromMenuItem(_ menuItem: DCMenuSection, andControllerId controllerId: String) -&gt; DCBaseViewController\n</code></pre>\n\n<p>You can always look into generated Swift interface to find available methods.</p>\n\n<p>In the following proposal you can find how Objective C API is translated into Swift: <a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0005-objective-c-name-translation.md\" rel=\"nofollow noreferrer\">https://github.com/apple/swift-evolution/blob/master/proposals/0005-objective-c-name-translation.md</a></p>\n\n<p>Your case can be found at Pruning Steps -> 4. Prune a match for the enclosing type from the base name of a method so long as the match starts after a verb. </p>\n"}], "owner": {"reputation": 5, "user_id": 8555270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f957b509b4ff3bbb9115c785a9936a6a?s=128&d=identicon&r=PG&f=1", "display_name": "karan agarwal", "link": "https://stackoverflow.com/users/8555270/karan-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 56987428, "answer_count": 1, "score": 0, "last_activity_date": 1562844022, "creation_date": 1562841295, "last_edit_date": 1562844022, "question_id": 56987262, "link": "https://stackoverflow.com/questions/56987262/i-cant-call-the-method-in-swift-file", "title": "i cant call the method in swift file", "body": "<p>I want to call a method from objective c to swift file. but its showing me value of <code>DCSideMenuViewController</code> has no member <code>viewControllerFromMenuItem</code></p>\n\n<p>I have import objective c file in bridging-header.h but working</p>\n\n<ol>\n<li><p>This is a swift file</p>\n\n<pre><code>let obj:DCSideMenuViewController = DCSideMenuViewController()\n DCSideMenuViewController().viewControllerFromMenuItem\n</code></pre></li>\n</ol>\n\n<p>2.This is objective C file</p>\n\n<pre><code>- (DCBaseViewController*)viewControllerFromMenuItem: (DCMenuSection)menuItemandControllerId:(NSString*)controllerId {\n    NSString* storyboardName = [selfstoryboardNameForMenuItem:menuItem];\n    UIStoryboard* storyboard = [UIStoryboard storyboardWithName:storyboardName bundle:nil];\n    if ([controllerId isEqualToString:@\"DCFloorPlanController\"]) {\n        storyboard = [UIStoryboard storyboardWithName:@\"SMain\" bundle:nil];\n    }\n</code></pre>\n\n<p>Value of type <code>DCSideMenuViewController</code> has no member <code>viewControllerFromMenuItem</code></p>\n"}, {"tags": ["ios", "objective-c", "encryption", "jwe", "jose"], "comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1562970630, "post_id": 56986936, "comment_id": 100561218, "body": "If you can only get raw RSA then writing OAEP would not be the biggest hurdle when it comes to security. Most of the security relevant code when it e.g. comes to timing attacks is performed during modular exponentiation performed before the UN-padding. Probably best to lift it out of some existing OAEP code. Does Apple release the source?"}, {"owner": {"reputation": 498, "user_id": 2500457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8dd692002fa4116cdfeba182184a99a?s=128&d=identicon&r=PG", "display_name": "iphondroid", "link": "https://stackoverflow.com/users/2500457/iphondroid"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1563171650, "post_id": 56986936, "comment_id": 100596762, "body": "Well OAEP-256 is only first of my requirements. Need to implement other standards like A128GCM encryption, DH key exchange, JWS signature checking etc. as well ."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1563179365, "post_id": 56986936, "comment_id": 100600155, "body": "Yeah, well, iOS 8 is already 4 years out of production. That&#39;s a long time for a smart phone OS, especially for Apple. You either find a library (OpenSSL?) or you&#39;ll have to program yourself. And indeed, if you need all that it is going to take some time and worse, you may not code it correctly. Question is: do you want to run highly secure code on a device that has been left behind long ago?"}, {"owner": {"reputation": 498, "user_id": 2500457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8dd692002fa4116cdfeba182184a99a?s=128&d=identicon&r=PG", "display_name": "iphondroid", "link": "https://stackoverflow.com/users/2500457/iphondroid"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1563183255, "post_id": 56986936, "comment_id": 100601979, "body": "Well iOS 8 is the minimum supported version for the framework I&#39;m creating according to the project requirements. I suppose zero users are on iOS 8 but I have to do it. How about I use a C library like <a href=\"https://github.com/cisco/cjose\" rel=\"nofollow noreferrer\">github.com/cisco/cjose</a> or <a href=\"https://github.com/latchset/jose\" rel=\"nofollow noreferrer\">github.com/latchset/jose</a> clubbed with openssl? Is that a right direction?"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1563184320, "post_id": 56986936, "comment_id": 100602511, "body": "Please question the project requirements. You seem to have new data why this is not a good idea. Probably the requirements were made by project managers that have insufficient data to see that having to support these old frameworks brings big development and maintainability issues. And that&#39;s not even counting the security issues with an OS that is not updated anymore. You&#39;re in the development phase, you&#39;re not even in the release phase! I do unfortunately not know enough about iOS to make those kind of design decisions, so I cannot answer that latest question."}, {"owner": {"reputation": 498, "user_id": 2500457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8dd692002fa4116cdfeba182184a99a?s=128&d=identicon&r=PG", "display_name": "iphondroid", "link": "https://stackoverflow.com/users/2500457/iphondroid"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1563185221, "post_id": 56986936, "comment_id": 100602954, "body": "Thanks for the info. I&#39;ll post about further development on this. For now I&#39;m going to try with C libs."}], "owner": {"reputation": 498, "user_id": 2500457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8dd692002fa4116cdfeba182184a99a?s=128&d=identicon&r=PG", "display_name": "iphondroid", "link": "https://stackoverflow.com/users/2500457/iphondroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562840207, "creation_date": 1562840207, "question_id": 56986936, "link": "https://stackoverflow.com/questions/56986936/how-to-implement-rsa-encryption-with-oaep-256-padding-in-ios-8-onwards", "title": "How to implement RSA Encryption with OAEP-256 padding in iOS 8 onwards?", "body": "<blockquote>\n  <p>I'm trying to implement Json Web Encryption aka <code>JWE</code> by <code>JOSE</code>\n  standards.</p>\n</blockquote>\n\n<p>I have tried encryption with CommonCrypto lib available in iOS but it doesn't support OAEP-256 padding. </p>\n\n<p>I can't use iOS Security framework since it's classes like <code>SecKeyAlgorithm</code> and encryption modes like <code>rsaEncryptionOAEPSHA256AESGCM</code> are available only iOS 10 onward. Else libraries like JOSESwift (<a href=\"https://github.com/airsidemobile/JOSESwift\" rel=\"nofollow noreferrer\">https://github.com/airsidemobile/JOSESwift</a>) would have helped.</p>\n\n<p>I can't write my own encryption since I'm not a security expert (hence not recommended).</p>\n\n<p>Other questions on SO &amp; google searches don't help either:\n<a href=\"https://stackoverflow.com/questions/49907259/objective-c-rsa-with-oaep-padding-sha256-prior-ios-10\">Objective c RSA with OAEP padding sha256 prior ios 10</a></p>\n\n<p>What is the any possible way of doing it on iOS? Any help is appreciated.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 7783, "user_id": 7108457, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fcdws.jpg?s=128&g=1", "display_name": "dahiya_boy", "link": "https://stackoverflow.com/users/7108457/dahiya-boy"}, "edited": false, "score": 2, "creation_date": 1562830155, "post_id": 56983656, "comment_id": 100502789, "body": "Can you add image on stackOverflow instead of any other website."}, {"owner": {"reputation": 2419, "user_id": 7512091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaZVQ.png?s=128&g=1", "display_name": "emrcftci", "link": "https://stackoverflow.com/users/7512091/emrcftci"}, "edited": false, "score": 0, "creation_date": 1562831273, "post_id": 56983656, "comment_id": 100503300, "body": "Hi @Valeri, maybe this will work for you <code>self.navigationController?.navigationBar.barTintColor = UIColor.yourColor().withAlphaComponent(0.15)</code>."}, {"owner": {"reputation": 1, "user_id": 11768286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eac6b3d5215a5304389bbbfbf3628c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Valeri", "link": "https://stackoverflow.com/users/11768286/valeri"}, "edited": false, "score": 0, "creation_date": 1562840785, "post_id": 56983656, "comment_id": 100508642, "body": "Unfortunately not working"}], "owner": {"reputation": 1, "user_id": 11768286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eac6b3d5215a5304389bbbfbf3628c4f?s=128&d=identicon&r=PG&f=1", "display_name": "Valeri", "link": "https://stackoverflow.com/users/11768286/valeri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562858799, "creation_date": 1562829586, "last_edit_date": 1562858799, "question_id": 56983656, "link": "https://stackoverflow.com/questions/56983656/ios-ui-background-problem-of-transparent-navigation-bar-with-search-bar", "title": "iOS UI: background problem of transparent navigation bar with search bar", "body": "<p>I need to create transparent navigation bar like here <a href=\"https://stackoverflow.com/questions/25845855/transparent-navigation-bar-ios\">transparent navigation bar ios</a> .</p>\n\n<pre><code>if (@available(iOS 11.0, *)) {\n    self.navigationItem.largeTitleDisplayMode = UINavigationItemLargeTitleDisplayModeNever;\n    self.navigationItem.searchController = self.searchController;\n} else {\n    self.tableView.tableHeaderView = self.searchController.searchBar;\n}\n\nUIImage *emptyImg = [[UIImage alloc] init];\n[self.navigationBar setBackgroundImage:emptyImg\n                             forBarMetrics:UIBarMetricsDefault];\n</code></pre>\n\n<p>And I have a problem because <code>NavBar</code> with refresh control and empty image has background hole and looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jwnMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jwnMT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Without empty image <code>NavBar</code> looks normal:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5hpzE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5hpzE.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I fix this problem or maybe there is another way to make transparent <code>NavBar</code>\u00a0?</p>\n"}]