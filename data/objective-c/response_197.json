[{"tags": ["objective-c", "nsdate"], "comments": [{"owner": {"reputation": 340504, "user_id": 77567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f74022962edfb2f4bf9e7f497cd14eb?s=128&d=identicon&r=PG", "display_name": "rob mayoff", "link": "https://stackoverflow.com/users/77567/rob-mayoff"}, "edited": false, "score": 0, "creation_date": 1539796029, "post_id": 52860042, "comment_id": 92634898, "body": "Please edit your question to include an example input string and the value of <code>configuredDate.timeIntervalSince1970</code> for that input string."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1539799954, "post_id": 52860042, "comment_id": 92636773, "body": "Why are you parsing the original string this way? Use an <code>NSDateFormatter</code> to parse the original string. It is so much simpler."}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 8621772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebf88f80bf2185daacf26c71699a8e?s=128&d=identicon&r=PG", "display_name": "Ugo", "link": "https://stackoverflow.com/users/8621772/ugo"}, "edited": false, "score": 0, "creation_date": 1587644891, "post_id": 61370445, "comment_id": 108595900, "body": "STOP - dunno what I did other than clean my Xcode build folder a few times... but now setting of the timezone works as in MichiZH&#39;s code, there&#39;s no need to change the default time zone. I also discovered that if I set the [component setTimeZone] to GMT, which is an option for iOS, I have to explicitly set the same one in [calendar setTimeZone]. Otherwise the calendar timeZone defaults to the local timezone, and the resulting date fails the [d isValidCalendar] check - as component TZ and calendar TZ now don&#39;t match. If I hadn&#39;t validated, I&#39;d never have known as no errors during date creation."}], "tags": [], "owner": {"reputation": 163, "user_id": 8621772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebf88f80bf2185daacf26c71699a8e?s=128&d=identicon&r=PG", "display_name": "Ugo", "link": "https://stackoverflow.com/users/8621772/ugo"}, "is_accepted": false, "score": 0, "last_activity_date": 1587573744, "creation_date": 1587573744, "answer_id": 61370445, "question_id": 52860042, "link": "https://stackoverflow.com/questions/52860042/nsdate-i-enter-only-utc-time-components-and-set-the-calendar-correctly-but-the/61370445#61370445", "title": "NSDate: I enter only utc time components and set the calendar correctly, but the NSDate somehow gets recalculated to my timezone", "body": "<p>The solution I found was to set the defaultTimezone to \"UTC\" before creating the calendar, and then create the date using dateFromComponents. \nNow the date is correctly created, and can be retrieved and converted to whatever timezone needed using a dateFormatter, for which the desired timezone is set.</p>\n\n<pre><code>NSDateComponents *components = [[NSDateComponents alloc] init];\n[components setYear:1987];\n[components setMonth:4];\n[components setDay:10];\n[components setHour:0];\n[components setMinute:0];\n[components setSecond:0];\n[components setNanosecond:0];\n\nNSCalendar *gregorianCalendar = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];\nNSDate *date = [gregorianCalendar dateFromComponents:components]; \nNSLog(@\"%@\", date); // puts out Fri Apr 10 00:00:00 1987\n\nNSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n[dateFormatter setDateFormat:@\"yyyy-MM-dd HH:mm:ss.s ZZZZ\"];\n\n[dateFormatter setTimeZone:[NSTimeZone timeZoneWithName:@\"Europe/Berlin\"]];\nNSLog(@\"%@\", [dateFormatter stringFromDate:date]); // puts out 1987-04-10 00:00:00.0 GMT+02:00\n[dateFormatter setTimeZone:[NSTimeZone timeZoneWithName:@\"UTC\"]];\nNSLog(@\"%@\", [dateFormatter stringFromDate:date]); // puts out 1987-04-09 22:00:00.0 GMT\n</code></pre>\n\n<p>Now if I change defaultTimeZone:</p>\n\n<pre><code>NSTimeZone *UTCzone=[NSTimeZone timeZoneWithAbbreviation:@\"UTC\"];\nNSTimeZone.defaultTimeZone= UTCzone;\n</code></pre>\n\n<p>and then re-create a calendar, and a date (from the same components):</p>\n\n<pre><code>NSCalendar *gregorianCalendar2 = [[NSCalendar alloc] initWithCalendarIdentifier:NSCalendarIdentifierGregorian];\nNSDate *date2 = [gregorianCalendar2 dateFromComponents:components];\nNSLog(@\"%@\", date2); // puts out Fri Apr 10 02:00:00 1987    [dateFormatter setTimeZone:[NSTimeZone timeZoneWithName:@\"Europe/Berlin\"]];\nNSLog(@\"%@\", [dateFormatter stringFromDate:date2]); // puts out 1987-04-10 02:00:00.0 GMT+02:00\n[dateFormatter setTimeZone:[NSTimeZone timeZoneWithName:@\"UTC\"]];\nNSLog(@\"%@\", [dateFormatter stringFromDate:date2]); // puts out 1987-04-10 00:00:00.0 GMT\n</code></pre>\n\n<p>It was frustrating because I could find no mention in the Xcode documentation that NSDate is always created with the default timezone. Of course I tried using what the documentation says <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/DatesAndTimes/Articles/dtTimeZones.html#//apple_ref/doc/uid/20000185-BBCBDGID\" rel=\"nofollow noreferrer\">(https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/DatesAndTimes/Articles/dtTimeZones.html#//apple_ref/doc/uid/20000185-BBCBDGID)</a>,</p>\n\n<pre><code>[gregorianCalendar setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@\"UTC\"]];\n</code></pre>\n\n<p>that just didn't work... Can't figure out for the life of me why not. If anybody knows, please share.</p>\n"}], "owner": {"reputation": 4945, "user_id": 1833434, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1da6620d08d9017917972f8bce78039c?s=128&d=identicon&r=PG", "display_name": "MichiZH", "link": "https://stackoverflow.com/users/1833434/michizh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1587573744, "creation_date": 1539795428, "last_edit_date": 1539796347, "question_id": 52860042, "link": "https://stackoverflow.com/questions/52860042/nsdate-i-enter-only-utc-time-components-and-set-the-calendar-correctly-but-the", "title": "NSDate: I enter only utc time components and set the calendar correctly, but the NSDate somehow gets recalculated to my timezone", "body": "<p>I have a date as a string which is in UTC format. I create the NSDate correctly and set the calendar as well to UTC. Nevertheless the date in the end is in local time zone. If my UTC time was 21:25 and I set it up with this code, I in the end get via a NSLog of the new date 23:25. Why?</p>\n\n<pre><code>NSDateComponents *dateComponents = [[NSDateComponents alloc] init];\n[dateComponents setYear:[[timeStamp substringWithRange:NSMakeRange(0, 4)] floatValue]];\n[dateComponents setMonth:[[timeStamp substringWithRange:NSMakeRange(5, 2)] floatValue]];\n[dateComponents setDay:[[timeStamp substringWithRange:NSMakeRange(8, 2)] floatValue]];\n[dateComponents setHour:[[timeStamp substringWithRange:NSMakeRange(11, 2)] floatValue]];\n[dateComponents setMinute:[[timeStamp substringWithRange:NSMakeRange(14, 2)] floatValue]];\n\nNSCalendar *calendar = [[NSCalendar alloc]  initWithCalendarIdentifier:NSCalendarIdentifierGregorian];\n[calendar setTimeZone:[NSTimeZone timeZoneWithName:@\"UTC\"]];\nNSDate *configuredDate = [calendar dateFromComponents:dateComponents];\n</code></pre>\n\n<p>BTW: I am in timezone Berlin. So +2 would be correct, but still, the date should be in UTC?!</p>\n\n<p>Here is the edit:</p>\n\n<p>2018-10-17 19:11:54.964754+0200 FollowMe[2005:91382] Time stamp before: 2018-10-17T17:37Z</p>\n\n<p>2018-10-17 19:11:54.965017+0200 FollowMe[2005:91382] Configured date: Wed Oct 17 19:37:00 2018</p>\n\n<p>2018-10-17 19:11:54.965096+0200 FollowMe[2005:91382] Time Interval: 1539797820.000000</p>\n"}, {"tags": ["ios", "objective-c", "core-data"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "edited": false, "score": 0, "creation_date": 1539792247, "post_id": 52858928, "comment_id": 92633010, "body": "Ah, I was misinterpreting the docs. <code>NSTimeInterval</code> makes a lot more sense, thanks for that. The only reason that I have to think about it as milliseconds since 1970 is because I&#39;m sending it to a server, which is running a different language, and I have to be sure the two values are representing the same thing on each side."}, {"owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "reply_to_user": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "edited": false, "score": 1, "creation_date": 1539792341, "post_id": 52858928, "comment_id": 92633052, "body": "That&#39;s fine, but convert to milliseconds at the last moment (when you&#39;re getting ready to send to the server) and convert any milliseconds the server sends you to a Date immediately when it comes in. Working in milliseconds internally is a very common cause of bugs."}], "tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 1, "last_activity_date": 1539791856, "last_edit_date": 1539791856, "creation_date": 1539791465, "answer_id": 52858928, "question_id": 52858854, "link": "https://stackoverflow.com/questions/52858854/storing-a-long-long-in-a-coredata-model/52858928#52858928", "title": "Storing a (long long) in a CoreData model", "body": "<p>A <code>long long</code> is the same as an Integer 64.</p>\n\n<p>You cannot multiply an <code>NSDate</code> by an integer at all. An <code>NSDate</code> is an instant in time. It is possible to ask it how many seconds that instant is from several reference dates (one of which is the unix epoch), but <code>NSDate</code> itself is not that thing. It's the instant in time. (Internally it's stored as a <code>Double</code> number of seconds since the \"reference date\" 00:00:00 UTC on 1 January 2001, but this is an implementation detail and you shouldn't worry about it.)</p>\n\n<p>As a rule, though, you should store dates as dates in Core Data. Don't convert to numbers or think in milliseconds. This is a bug pit. If you have a date, select the \"Date\" type in Core Data to store it.</p>\n\n<p><a href=\"https://developer.apple.com/documentation/foundation/nsdate/1407504-timeintervalsince1970?language=objc\" rel=\"nofollow noreferrer\"><code>-dateWithTimeIntervalSince1970</code> returns an <code>NSTimeInterval</code></a>, which is a typealias for <code>Double</code>. I'm not sure where you're seeing <code>(instancetype)</code> as the return value. As you say, that would be <code>NSDate</code>, which wouldn't make sense.</p>\n"}], "owner": {"reputation": 331, "user_id": 1461022, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tN4Je.jpg?s=128&g=1", "display_name": "wheresmycookie", "link": "https://stackoverflow.com/users/1461022/wheresmycookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 52858928, "answer_count": 1, "score": 0, "last_activity_date": 1539791856, "creation_date": 1539791274, "question_id": 52858854, "link": "https://stackoverflow.com/questions/52858854/storing-a-long-long-in-a-coredata-model", "title": "Storing a (long long) in a CoreData model", "body": "<p>Very beginner-level question here that I can't seem to solve:</p>\n\n<p>In Objective-C, I can get millis since 1970 with <code>(long long)([[NSDate date] timeIntervalSince1970] * 1000.0)</code> (from <a href=\"https://currentmillis.com/\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>I'd like to store in a CoreData model, but the only options that I have are:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FtNfQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FtNfQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>The thing is, I don't even know what I'm converting <em>from</em>, as the signature for timeIntervalSince1970 is: <code>(instancetype)dateWithTimeIntervalSince1970:(NSTimeInterval)secs;</code></p>\n\n<p>From a quick Google, I find that <code>(instancetype)</code> is the instance that I'm operating on (if I understand right), which is <code>NSDate</code>. If this represents the number of seconds since 1970, it makes sense to multiply by 1000 to get milliseconds. Why can I multiply NSDate by (int) though? Nothing in the <a href=\"https://developer.apple.com/documentation/foundation/nsdate?language=objc\" rel=\"nofollow noreferrer\">docs</a> leads me to believe that this is the proper way to do things.</p>\n\n<p>And this is where I get a little stuck. I multiply by 1000 and end up with <em>something</em> that I then cast to (long long), which I'm cool with, but then need to choose a suitable type from CoreData's list of possibilities that has the precision of storing a (long long) or something equivalent.</p>\n\n<ul>\n<li>What datatype should I choose within CoreData?</li>\n<li>What does multiplying an NSDate by an integer return me? (Possibly with a reference more useful than Apple's docs?)</li>\n</ul>\n"}, {"tags": ["ios", "objective-c", "video-capture", "avassetwriter", "cmtime"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 1534897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c7088f9f1f1ec2794cd4e75822afb3?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1534897/eric"}, "is_accepted": true, "score": 1, "last_activity_date": 1540886809, "creation_date": 1540886809, "answer_id": 53059829, "question_id": 52855185, "link": "https://stackoverflow.com/questions/52855185/avassetwriter-startsessionatsourcetime-not-accepting-cmtime-value/53059829#53059829", "title": "AVAssetWriter startSessionAtSourceTime not accepting CMTIme value", "body": "<p>My bad...  my problem was that I was spawning off the frame capture using a thread that was already declared in AVCaptureDataOutput  setSampleBufferDelegate:queue: .  Was recursively putting a process on a thread within that same thread.  Posting answer in case another idiot, like me, makes the same stupid mistake...</p>\n"}], "owner": {"reputation": 33, "user_id": 1534897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1c7088f9f1f1ec2794cd4e75822afb3?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1534897/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 53059829, "answer_count": 1, "score": 1, "last_activity_date": 1540886809, "creation_date": 1539780322, "question_id": 52855185, "link": "https://stackoverflow.com/questions/52855185/avassetwriter-startsessionatsourcetime-not-accepting-cmtime-value", "title": "AVAssetWriter startSessionAtSourceTime not accepting CMTIme value", "body": "<p>My app is designed to record video &amp; analyze the frames generated under iOS 11.4, using Xcode 10.0 as IDE.  Succeeded in recording video using AVCaptureMovieFileOutput, but need to analyze frames so transitioned to AVAssetWriter and modeled code after RosyWriter [ <a href=\"https://github.com/WildDylan/appleSample/tree/master/RosyWriter\" rel=\"nofollow noreferrer\">https://github.com/WildDylan/appleSample/tree/master/RosyWriter</a> ].  Code is written in ObjC.</p>\n\n<p>I am stuck with problem inside captureOutput: didOutputSampleBuffer: fromConnection: delegate.  After capturing first frame, the AVAssetWriter is configured along with its inputs (video and audio),using settings extracted from first frame.  Once user selects record, the captured sampleBuffer is analyzed and written.  I tried to use AVAssetWriter startSessionAtSourceTime: but there is clearly something wrong with the way CMSampleBufferGetPresentationTimeStamp is returning CMTime from the sample buffer.  The sampleBuufer log seems to show CMTime with valid values.</p>\n\n<p>If I implement:\nCMTime sampleTime = CMSampleBufferGetPresentationTimeStamp(sampleBuffer);\n[self->assetWriter startSessionAtSourceTime: sampleTime]\nthe error generated is '*** -[AVAssetWriter startSessionAtSourceTime:] invalid parameter not satisfying: CMTIME_IS_NUMERIC(startTime)' .</p>\n\n<p>If I use [self->assetWriter startSessionAtSourceTime:kCMTimeZero] the error \"warning: could not execute support code to read Objective-C class data in the process. This may reduce the quality of type information available.\" is generated.</p>\n\n<p>When I log sampleTime I read - value=0, timescale=0, epoch=0  &amp; flags=0.  I also log the sampleBuffer and show it below, followed by the relevant code:</p>\n\n<pre><code>SampleBuffer Content = \n\n2018-10-17 12:07:04.540816+0300 MyApp[10664:2111852] -[CameraCaptureManager captureOutput:didOutputSampleBuffer:fromConnection:] : sampleBuffer - CMSampleBuffer 0x100e388c0 retainCount: 1 allocator: 0x1c03a95e0\ninvalid = NO\ndataReady = YES\nmakeDataReadyCallback = 0x0\nmakeDataReadyRefcon = 0x0\nbuffer-level attachments:\n    Orientation(P) = 1\n    {Exif}    (P) = &lt;CFBasicHash 0x28161ce80 [0x1c03a95e0]&gt;{type = mutable dict, count = 24,\nentries =&gt; .....A LOT OF CAMERA DATA HERE.....\n}\n\n    DPIWidth  (P) = 72\n    {TIFF}    (P) = &lt;CFBasicHash 0x28161c540 [0x1c03a95e0]&gt;{type =    mutable dict, count = 7,\nentries =&gt; .....MORE CAMERA DATA HERE.....\n}\n\n    DPIHeight (P) = 72\n    {MakerApple}(P) = {\n1 = 3;\n10 = 0;\n14 = 0;\n3 =     {\n    epoch = 0;\n    flags = 1;\n    timescale = 1000000000;\n    value = 390750488472916;\n};\n4 = 0;\n5 = 221;\n6 = 211;\n7 = 1;\n8 =     (\n    \"-0.04894018\",\n    \"-0.6889497\",\n    \"-0.7034443\"\n);\n9 = 0;\n}\nformatDescription = &lt;CMVideoFormatDescription 0x280ddc780 [0x1c03a95e0]&gt; {\nmediaType:'vide' \nmediaSubType:'BGRA' \nmediaSpecific: {\n    codecType: 'BGRA'       dimensions: 720 x 1280 \n} \nextensions: {&lt;CFBasicHash 0x28161f880 [0x1c03a95e0]&gt;{type = immutable dict, count = 5,\nentries =&gt;\n0 : &lt;CFString 0x1c0917068 [0x1c03a95e0]&gt;{contents = \"CVImageBufferYCbCrMatrix\"} = &lt;CFString 0x1c09170a8 [0x1c03a95e0]&gt;{contents = \"ITU_R_601_4\"}\n1 : &lt;CFString 0x1c09171c8 [0x1c03a95e0]&gt;{contents = \"CVImageBufferTransferFunction\"} = &lt;CFString 0x1c0917088 [0x1c03a95e0]&gt;{contents = \"ITU_R_709_2\"}\n2 : &lt;CFString 0x1c093f348 [0x1c03a95e0]&gt;{contents = \"CVBytesPerRow\"} = &lt;CFNumber 0x81092876519e5903 [0x1c03a95e0]&gt;{value = +2880, type = kCFNumberSInt32Type}\n3 : &lt;CFString 0x1c093f3c8 [0x1c03a95e0]&gt;{contents = \"Version\"} = &lt;CFNumber 0x81092876519eed23 [0x1c03a95e0]&gt;{value = +2, type = kCFNumberSInt32Type}\n5 : &lt;CFString 0x1c0917148 [0x1c03a95e0]&gt;{contents = \"CVImageBufferColorPrimaries\"} = &lt;CFString 0x1c0917088 [0x1c03a95e0]&gt;{contents = \"ITU_R_709_2\"}\n}\n}\n}\nsbufToTrackReadiness = 0x0\nnumSamples = 1\nsampleTimingArray[1] = {\n    {PTS = {390750488483992/1000000000 = 390750.488}, DTS = {INVALID}, duration = {INVALID}},\n}\nimageBuffer = 0x2832ad2c0\n</code></pre>\n\n<p>====================================================</p>\n\n<pre><code>//AVCaptureVideoDataOutput Delegates\n- (void)captureOutput:(AVCaptureOutput *)captureOutput didOutputSampleBuffer:(CMSampleBufferRef)sampleBuffer fromConnection:(AVCaptureConnection *)connection\n{\n\nif (connection == videoConnection)\n{\n\n    if (self.outputVideoFormatDescription == NULL )\n    {\n        self.outputVideoFormatDescription   =   CMSampleBufferGetFormatDescription(sampleBuffer);\n        [self   setupVideoRecorder];\n    }\n    else    if (self.status==RecorderRecording)\n    {\n        NSLog(@\"%s : self.outputVideoFormatDescription - %@\",__FUNCTION__,self.outputVideoFormatDescription);\n\n        [self.cmDelegate    manager:self capturedFrameBuffer:sampleBuffer];\n        NSLog(@\"%s : sampleBuffer - %@\",__FUNCTION__,sampleBuffer);\n\n        dispatch_async(vidWriteQueue, ^\n            {\n                if  (!self-&gt;wroteFirstFrame)\n                {\n                    CMTime sampleTime   =   CMSampleBufferGetPresentationTimeStamp(sampleBuffer);\n                    NSLog(@\"%s : sampleTime value - %lld, timescale - %i, epoch - %lli, flags - %u\",__FUNCTION__,sampleTime.value, sampleTime.timescale, sampleTime.epoch, sampleTime.flags);\n\n                    [self-&gt;assetWriter  startSessionAtSourceTime:sampleTime];\n                    self-&gt;wroteFirstFrame   =   YES;\n                }\n                if  (self-&gt;videoAWInput.readyForMoreMediaData)\n                    //else if   (self-&gt;videoAWInput.readyForMoreMediaData)\n                {\n                    BOOL appendSuccess  =   [self-&gt;videoAWInput appendSampleBuffer:sampleBuffer];\n                    NSLog(@\"%s : appendSuccess - %i\",__FUNCTION__,appendSuccess);\n\n                    if (!appendSuccess) NSLog(@\"%s : failed to append video buffer - %@@\",__FUNCTION__,self-&gt;assetWriter.error.localizedDescription);\n                }\n            });\n    }\n    else if (connection == audioConnection)\n    {\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-authentication"], "comments": [{"owner": {"reputation": 659, "user_id": 7334409, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s0RiLjDDTsU/AAAAAAAAAAI/AAAAAAAAAGI/t5nhiF4Xg_U/photo.jpg?sz=128", "display_name": "Sagar Bhut", "link": "https://stackoverflow.com/users/7334409/sagar-bhut"}, "edited": false, "score": 0, "creation_date": 1539767287, "post_id": 52849838, "comment_id": 92617792, "body": "provide your trial code."}, {"owner": {"reputation": 6896, "user_id": 6473867, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/VSpsJ.png?s=128&g=1", "display_name": "Gowthaman M", "link": "https://stackoverflow.com/users/6473867/gowthaman-m"}, "edited": false, "score": 0, "creation_date": 1547708413, "post_id": 52849838, "comment_id": 95286044, "body": "@Bhumika Singhal can you tell how did you solved this issues...I have same issues sir"}], "answers": [{"tags": [], "owner": {"reputation": 1912, "user_id": 3731039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248c283bc1e53d2e394b2b1159f481bf?s=128&d=identicon&r=PG&f=1", "display_name": "John Pang", "link": "https://stackoverflow.com/users/3731039/john-pang"}, "is_accepted": false, "score": 1, "last_activity_date": 1550666190, "last_edit_date": 1550666190, "creation_date": 1550665728, "answer_id": 54786422, "question_id": 52849838, "link": "https://stackoverflow.com/questions/52849838/fuiemailauth-undeclared/54786422#54786422", "title": "FUIEmailAuth undeclared", "body": "<p>According to the <a href=\"https://firebase.google.com/docs/auth/ios/firebaseui#email_address_and_password\" rel=\"nofollow noreferrer\">Firebase documentations</a>, you don't need to do anything on iOS side.  You just configure it from the console of Firebase.  Once you've enabled email and password authentication, the email button will appears (see bottom if email button doesn't show up).</p>\n\n<p><strong>AppDelegate.swift</strong></p>\n\n<pre><code>FirebaseApp.configure()\nlet authUI = FUIAuth.defaultAuthUI()\nauthUI?.providers = [FUIGoogleAuth.init(), FUIFacebookAuth.init()]\n// To hide the email button from AuthUI:\nauthUI?.isSignInWithEmailHidden = true // see bottom\n</code></pre>\n\n<p><strong>AppDelegate.m</strong></p>\n\n<pre><code>FUIAuth *authUI = [FUIAuth defaultAuthUI];\nauthUI.delegate = self;\nNSArray&lt;id&lt;FUIAuthProvider&gt;&gt; *providers = @[\n                                            [[FUIGoogleAuth alloc] init],\n                                            [[FUIFacebookAuth alloc] init],\n                                            ];\nauthUI.providers = providers;\n// To hide the email button from AuthUI:\nauthUI.signInWithEmailHidden = YES; // see bottom\n</code></pre>\n\n<p>Note, as of FirebaseUI 6.0.0, the email button is missing.  I cannot find any documentation nor any codes to re-enable it.  <code>signInWithEmailHidden</code> property is gone.  When I set the pod version to below '6.0.0', the problem is resolve.  FirebaseUI 5.2.2 has email button.</p>\n\n<p><strong>Podfile</strong></p>\n\n<pre><code>pod 'FirebaseUI/Auth', '&lt; 6.0.0'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 12968963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZUJDU6HY6_1167b7H1b703GripppHm9y76N6WwQ=k-s128", "display_name": "Craig Billings", "link": "https://stackoverflow.com/users/12968963/craig-billings"}, "edited": false, "score": 0, "creation_date": 1582746187, "post_id": 60421297, "comment_id": 106887368, "body": "Also, I&#39;m using FirebaseUI/Auth 6.4.3"}], "tags": [], "owner": {"reputation": 11, "user_id": 12968963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZUJDU6HY6_1167b7H1b703GripppHm9y76N6WwQ=k-s128", "display_name": "Craig Billings", "link": "https://stackoverflow.com/users/12968963/craig-billings"}, "is_accepted": false, "score": 1, "last_activity_date": 1582745806, "creation_date": 1582745806, "answer_id": 60421297, "question_id": 52849838, "link": "https://stackoverflow.com/questions/52849838/fuiemailauth-undeclared/60421297#60421297", "title": "FUIEmailAuth undeclared", "body": "<p>I had to set the providers before I got a reference to the auth view controller. If I set the providers after I got the view controller reference I would not get the \"sign in with email button\".</p>\n\n<pre><code>    // get the default auth ui object\n    let authui = FUIAuth.defaultAuthUI()\n\n    guard authui != nil else {\n        // log the error\n        return\n    }\n\n    // set the delegate\n    authui?.delegate = self\n\n    // 4 - define the providers\n    let providers: [FUIAuthProvider] = [\n        FUIEmailAuth(),\n    ]\n\n    // set the providers\n    authui!.providers = providers\n\n    // get a referece to the auth ui view controller\n    let authViewController = authui!.authViewController()\n\n    // show it\n    present(authViewController, animated: true, completion: nil)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10500160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3B1mrRMVgQ8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUjqeFe5KMueG3cg8Y59YULMhdxNw/mo/photo.jpg?sz=128", "display_name": "Bhumika Singhal", "link": "https://stackoverflow.com/users/10500160/bhumika-singhal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1582745806, "creation_date": 1539762733, "last_edit_date": 1539770501, "question_id": 52849838, "link": "https://stackoverflow.com/questions/52849838/fuiemailauth-undeclared", "title": "FUIEmailAuth undeclared", "body": "<p>I am Using FIrebaseUI login for IOS but for email part I am getting undeclared error. What can be the cause?</p>\n\n<p>This is my code.</p>\n\n<pre><code>   FUIAuth *authUI = [FUIAuth defaultAuthUI];\n    authUI.delegate = self;\n    NSArray&lt;id&lt;FUIAuthProvider&gt;&gt; *providers = @[\n                                                [[FUIGoogleAuth alloc] init],\n                                                [[FUIFacebookAuth alloc] init],\n                                                [[FUIEmailAuth alloc] init],\n                                                ];\n    authUI.providers = providers\n</code></pre>\n"}, {"tags": ["objective-c", "cocoa", "macos-mojave", "macos-darkmode"], "answers": [{"comments": [{"owner": {"reputation": 2289, "user_id": 3351949, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1464667477/picture?type=large", "display_name": "ColdSteel", "link": "https://stackoverflow.com/users/3351949/coldsteel"}, "edited": false, "score": 1, "creation_date": 1570111280, "post_id": 52850237, "comment_id": 102817362, "body": "It&#39;s ok, thanks for your code in Question I managed to handle it :)"}], "tags": [], "owner": {"reputation": 85633, "user_id": 400056, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9f2bfb454da13e7a17d5ec6df6aac25f?s=128&d=identicon&r=PG", "display_name": "DarkDust", "link": "https://stackoverflow.com/users/400056/darkdust"}, "is_accepted": true, "score": 4, "last_activity_date": 1539764171, "creation_date": 1539764171, "answer_id": 52850237, "question_id": 52849332, "link": "https://stackoverflow.com/questions/52849332/how-to-manually-create-dynamic-dark-light-nsimage-instances/52850237#52850237", "title": "How to manually create dynamic (dark/light) NSImage instances?", "body": "<p>D'uh, it turned out the code posted in the question works just fine! The drawing handler <em>is</em> in fact called at appropriate times and <em>does</em> handle all the appearance situations.</p>\n\n<p>However, I had code that scaled and cached those images and it was still using the ancient <code>[image lockFocus]; \u2026 [image unlockFocus];</code> way of drawing images instead of using <code>+[NSImage imageWithSize:flipped:drawingHandler:]</code>.</p>\n"}], "owner": {"reputation": 85633, "user_id": 400056, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9f2bfb454da13e7a17d5ec6df6aac25f?s=128&d=identicon&r=PG", "display_name": "DarkDust", "link": "https://stackoverflow.com/users/400056/darkdust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 52850237, "answer_count": 1, "score": 6, "last_activity_date": 1539787655, "creation_date": 1539760920, "last_edit_date": 1539787655, "question_id": 52849332, "link": "https://stackoverflow.com/questions/52849332/how-to-manually-create-dynamic-dark-light-nsimage-instances", "title": "How to manually create dynamic (dark/light) NSImage instances?", "body": "<p>It seems in macOS 10.14 Mojave, the only way to create <code>NSImage</code> instances that automatically draw a light and dark version is via asset catalogs and <code>+[NSImage imageNamed:]</code>. However, I need to create dynamic images at runtime and there doesn't seem to be a way to do so without using private API.</p>\n\n<p>Under the hood, it seems a private property <code>_appearanceName</code> has been introduced to <code>NSImageRep</code> that is somehow used to select the correct representation. It should be straight forward to create an <code>NSImage</code> with image representations that have the corresponding <code>_appearanceName</code> set but I would like to avoid this.</p>\n\n<p>I found a simple workaround (posted below) but it doesn't seem to work correctly when the system appearance is changing (i.e. user is switching from light to dark or vice versa) or when used in view hierarchies that have the <code>appearance</code> property set to different appearances (e.g. one view hard-coded to dark mode, another view hard-coded to light mode).</p>\n\n<p>So, how can I manually create a dynamic <code>NSImage</code> that is correctly showing a light or dark version, like the asset catalog images do?</p>\n\n<hr>\n\n<pre><code>@implementation NSImage (CustomDynamic)\n\n+ (NSImage *)imageWithLight:(NSImage *)light dark:(NSImage *)dark\n{\n    if (@available(macOS 10.14, *)) {\n        return [NSImage\n            imageWithSize:light.size\n            flipped:NO\n            drawingHandler:^(NSRect dstRect) {\n                if ([NSImage appearanceIsDarkMode:NSAppearance.currentAppearance]) {\n                    [dark drawInRect:dstRect];\n                } else {\n                    [light drawInRect:dstRect];\n                }\n                return YES;\n            }\n        ];\n    } else {\n        return light;\n    }\n}\n\n+ (BOOL)appearanceIsDarkMode:(NSAppearance *)appearance\n{\n    if (@available(macOS 10.14, *)) {\n        NSAppearanceName basicAppearance = [appearance bestMatchFromAppearancesWithNames:@[\n            NSAppearanceNameAqua,\n            NSAppearanceNameDarkAqua\n        ]];\n        return [basicAppearance isEqualToString:NSAppearanceNameDarkAqua];\n\n    } else {\n        return NO;\n    }\n}\n\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "cocoapods", "cmark"], "owner": {"reputation": 155, "user_id": 10422705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zAD2ks6Upbw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXF9EdnQn_t97mtvP57xdMY23BSLA/mo/photo.jpg?sz=128", "display_name": "James Matthew", "link": "https://stackoverflow.com/users/10422705/james-matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1539760507, "creation_date": 1539760507, "question_id": 52849215, "link": "https://stackoverflow.com/questions/52849215/cmark-error-is-coming-when-installing-pod", "title": "cmark error is coming when installing pod", "body": "<p><a href=\"https://i.stack.imgur.com/DaRGF.png\" rel=\"nofollow noreferrer\">my podfile</a></p>\n\n<p>When im installing my podfile I got an error as</p>\n\n<pre><code>[!] /bin/bash -c \nset -e\necho `pwd`\nsed -i '' 's/include &lt;\\(cmark.*\\)&gt;/include \"\\1\"/' src/cmark.h\nmkdir -p build; cd build &amp;&amp; cmake -G Xcode ..\n</code></pre>\n\n<p>So I tried to install cmake using terminal I installed it but now im getting the below error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QFbNn.png\" rel=\"nofollow noreferrer\">cmake version shown in terminal</a></p>\n\n<pre><code>Analyzing dependencies\nDownloading dependencies\nInstalling AFNetworking (3.2.1)\nInstalling DTCoreText (1.6.21)\nInstalling DTFoundation (1.7.13)\nInstalling GZIP (1.2.2)\nInstalling HPGrowingTextView (1.1)\nInstalling MatrixKit (0.8.3)\nInstalling MatrixSDK (0.11.3)\nInstalling OLMKit (2.3.0)\nInstalling Realm (3.7.6)\nInstalling cmark (0.24.1)\n[!] /bin/bash -c \nset -e\necho `pwd`\nsed -i '' 's/include &lt;\\(cmark.*\\)&gt;/include \"\\1\"/' src/cmark.h\nmkdir -p build; cd build &amp;&amp; cmake -G Xcode ..\n\n/Users/mac1/Library/Caches/CocoaPods/Pods/Release/cmark/0.24.1-ec027\n-- The C compiler identification is AppleClang 10.0.0.10001145\n-- The CXX compiler identification is AppleClang 10.0.0.10001145\n-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang\n-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -- broken\n-- Configuring incomplete, errors occurred!\nSee also \"/Users/mac1/Library/Caches/CocoaPods/Pods/Release/cmark/0.24.1-ec027/build/CMakeFiles/CMakeOutput.log\".\nSee also \"/Users/mac1/Library/Caches/CocoaPods/Pods/Release/cmark/0.24.1-ec027/build/CMakeFiles/CMakeError.log\".\nCMake Error at /usr/local/Cellar/cmake/3.12.3/share/cmake/Modules/CMakeTestCCompiler.cmake:52 (message):\n  The C compiler\n\n    \"/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang\"\n\n  is not able to compile a simple test program.\n\n  It fails with the following output:\n\n    Change Dir: /Users/mac1/Library/Caches/CocoaPods/Pods/Release/cmark/0.24.1-ec027/build/CMakeFiles/CMakeTmp\n\n    Run Build Command:\"/usr/bin/xcodebuild\" \"-project\" \"CMAKE_TRY_COMPILE.xcodeproj\" \"build\" \"-target\" \"cmTC_1e4ec\" \"-configuration\" \"Debug\"\n    2018-10-17 11:18:22.272 xcodebuild[2991:68431] [MT] PluginLoading: Required plug-in compatibility UUID 8B9F56A7-4D8B-41AA-A65D-D4906CDF1539 for plug-in at path '~/Library/Application Support/Developer/Shared/Xcode/Plug-ins/ClangFormat.xcplugin' not present in DVTPlugInCompatibilityUUIDs\n    Build settings from command line:\n        TOOLCHAINS = com.apple.dt.toolchain.XcodeDefault\n\n    2018-10-17 11:18:23.814 xcodebuild[2991:68451]  DTDeviceKit: deviceType from e8c3d7ea8e6dddb6703f918e871eea481e436c21 was NULL\n    2018-10-17 11:18:23.934 xcodebuild[2991:68512]  DTDeviceKit: deviceType from e8c3d7ea8e6dddb6703f918e871eea481e436c21 was NULL\n    Prepare build\n    note: Using legacy build system\n\n    === BUILD TARGET cmTC_1e4ec OF PROJECT CMAKE_TRY_COMPILE WITH CONFIGURATION Debug ===\n\n    Check dependencies\n    target specifies product type 'com.apple.product-type.tool', but there's no such product type for the 'iphoneos' platform\n\n    ** BUILD FAILED **\n\n\n    The following build commands failed:\n        Check dependencies\n    (1 failure)\n\n\n\n\n  CMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:1 (project)\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "crash"], "comments": [{"owner": {"reputation": 80, "user_id": 10293982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73032916afe741c862c192f5ebbcc38a?s=128&d=identicon&r=PG&f=1", "display_name": "iosdev", "link": "https://stackoverflow.com/users/10293982/iosdev"}, "edited": false, "score": 0, "creation_date": 1539760542, "post_id": 52849140, "comment_id": 92614145, "body": "try to run your transformations in main queue."}, {"owner": {"reputation": 77, "user_id": 6508594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zDvKu.jpg?s=128&g=1", "display_name": "iqbalpalemad", "link": "https://stackoverflow.com/users/6508594/iqbalpalemad"}, "reply_to_user": {"reputation": 80, "user_id": 10293982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73032916afe741c862c192f5ebbcc38a?s=128&d=identicon&r=PG&f=1", "display_name": "iosdev", "link": "https://stackoverflow.com/users/10293982/iosdev"}, "edited": false, "score": 0, "creation_date": 1539760795, "post_id": 52849140, "comment_id": 92614281, "body": "Hai  thanks for the quick response. Actually i am a beginner. Can you please explain little bit?"}, {"owner": {"reputation": 80, "user_id": 10293982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73032916afe741c862c192f5ebbcc38a?s=128&d=identicon&r=PG&f=1", "display_name": "iosdev", "link": "https://stackoverflow.com/users/10293982/iosdev"}, "edited": false, "score": 0, "creation_date": 1539760902, "post_id": 52849140, "comment_id": 92614332, "body": "<code>DispatchQueue.main.async { }</code> put your ui update method where you are getting crash in this block."}, {"owner": {"reputation": 77, "user_id": 6508594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zDvKu.jpg?s=128&g=1", "display_name": "iqbalpalemad", "link": "https://stackoverflow.com/users/6508594/iqbalpalemad"}, "reply_to_user": {"reputation": 80, "user_id": 10293982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73032916afe741c862c192f5ebbcc38a?s=128&d=identicon&r=PG&f=1", "display_name": "iosdev", "link": "https://stackoverflow.com/users/10293982/iosdev"}, "edited": false, "score": 0, "creation_date": 1539762335, "post_id": 52849140, "comment_id": 92615091, "body": "Can you please explain what is mean by dylib #32  and why the app crash on iso 11 or above?"}, {"owner": {"reputation": 77, "user_id": 6508594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zDvKu.jpg?s=128&g=1", "display_name": "iqbalpalemad", "link": "https://stackoverflow.com/users/6508594/iqbalpalemad"}, "reply_to_user": {"reputation": 80, "user_id": 10293982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73032916afe741c862c192f5ebbcc38a?s=128&d=identicon&r=PG&f=1", "display_name": "iosdev", "link": "https://stackoverflow.com/users/10293982/iosdev"}, "edited": false, "score": 0, "creation_date": 1539767416, "post_id": 52849140, "comment_id": 92617876, "body": "I have tried like this   dispatch_async(dispatch_get_main_queue(), ^{         [app.keyWindow.rootViewController presentViewController:myViewController animated:false completion:nil];     }); But still app crashed."}], "owner": {"reputation": 77, "user_id": 6508594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zDvKu.jpg?s=128&g=1", "display_name": "iqbalpalemad", "link": "https://stackoverflow.com/users/6508594/iqbalpalemad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539760695, "creation_date": 1539760212, "last_edit_date": 1539760695, "question_id": 52849140, "link": "https://stackoverflow.com/questions/52849140/ios-11-and-above", "title": "iOS 11 and above", "body": "<p>My app is working fine on iOS 10 and below. But app crashed on 11 and 12.</p>\n\n<p>Here is the crash log from my device.</p>\n\n<pre><code>Exception Type:  EXC_CRASH (SIGABRT)\n Exception Codes: 0x0000000000000000, 0x0000000000000000\n Exception Note:  EXC_CORPSE_NOTIFY\n Termination Description: DYLD, can't resolve symbol __ZN8TVIMetal4Math6lookAtERKDv3_fS3_S3_ in /var/containers/Bundle/Application/9DF302F8-4470-4609-B90B-B6FDF2583597/MyApp.app/MyApp because dependent dylib #32 could not be loaded\n    Triggered by Thread:  0\n\n    Thread 0 name:  Dispatch queue: com.apple.main-thread\n    Thread 0 Crashed:\n    0   dyld                            0x0000000105de8264 __abort_with_payload + 8\n    1   dyld                            0x0000000105de78a4 abort_with_payload_wrapper_internal + 100\n    2   dyld                            0x0000000105de78d4 fcntl + 0\n    3   dyld                            0x0000000105da88f4 dyld::fastBindLazySymbol+ 18676 (ImageLoader**, unsigned long) + 0\n    4   dyld                            0x0000000105da8a10 dyld::fastBindLazySymbol+ 18960 (ImageLoader**, unsigned long) + 284\n    5   libdyld.dylib                   0x00000001d9446bb0 dyld_stub_binder + 60\n    6   MyApp                           0x00000001050cf6e4 -[TVIMetalRenderer prepareTransforms] + 6682340 (TVIMetalRenderer.mm:211)\n    7   MyApp                           0x00000001050cf1c8 -[TVIMetalRenderer configure:] + 6681032 (TVIMetalRenderer.mm:142)\n    8   MyApp                           0x00000001050fed8c -[TVIMetalVideoView initWithFrame:delegate:] + 6876556 (TVIMetalVideoView.m:80)\n    9   MyApp                           0x00000001050ca10c -[TVIVideoView initWithFrame:delegate:renderingType:] + 6660364 (TVIVideoView.mm:109)\n    10  MyApp                           0x00000001050c9ed4 -[TVIVideoView initWithFrame:delegate:] + 6659796 (TVIVideoView.mm:81)\n    11  MyApp                           0x00000001050c9e2c -[TVIVideoView initWithFrame:] + 6659628 (TVIVideoView.mm:73)\n    12  MyApp                           0x00000001050c9868 -[TVIVideoView awakeAfterUsingCoder:] + 6658152 (TVIVideoView.mm:26)\n    13  UIFoundation                    0x00000001e4017efc UINibDecoderDecodeObjectForValue + 860\n    14  UIFoundation                    0x00000001e3fb6b3c -[UINibDecoder decodeObjectForKey:] + 320\n    15  UIKitCore                       0x00000002064a53b4 -[UIRuntimeConnection initWithCoder:] + 188\n    16  UIFoundation                    0x00000001e4017e88 UINibDecoderDecodeObjectForValue + 744\n    17  UIFoundation                    0x00000001e40180cc UINibDecoderDecodeObjectForValue + 1324\n    18  UIFoundation                    0x00000001e3fb6b3c -[UINibDecoder decodeObjectForKey:] + 320\n    19  UIKitCore                       0x00000002064a2cb4 -[UINib instantiateWithOwner:options:] + 1124\n    20  UIKitCore                       0x00000002062343d0 -[UIViewController _loadViewFromNibNamed:bundle:] + 372\n    21  UIKitCore                       0x0000000206234d7c -[UIViewController loadView] + 176\n    22  UIKitCore                       0x0000000206235044 -[UIViewController loadViewIfRequired] + 172\n    23  UIKitCore                       0x00000002062357b0 -[UIViewController view] + 28\n    24  UIKitCore                       0x00000002061684c8 -[_UIFullscreenPresentationController _setPresentedViewController:] + 88\n    25  UIKitCore                       0x000000020615c79c -[UIPresentationController initWithPresentedViewController:presentingViewController:] + 136\n    26  UIKitCore                       0x0000000206246c98 -[UIViewController _presentViewController:withAnimationController:completion:] + 2640\n    27  UIKitCore                       0x0000000206249cb8 __63-[UIViewController _presentViewController:animated:completion:]_block_invoke_2 + 68\n    28  UIKitCore                       0x0000000206c8dfe0 +[UIView+ 14127072 (Animation) performWithoutAnimation:] + 104\n    29  UIKitCore                       0x0000000206249c18 __63-[UIViewController _presentViewController:animated:completion:]_block_invoke + 212\n    30  UIKitCore                       0x000000020624a210 -[UIViewController _performCoordinatedPresentOrDismiss:animated:] + 512\n    31  UIKitCore                       0x0000000206249b04 -[UIViewController _presentViewController:animated:completion:] + 180\n    32  UIKitCore                       0x0000000206249e40 -[UIViewController presentViewController:animated:completion:] + 160\n    33  MyApp                           0x00000001050c46a0 startVideo + 6637216 (video.m:44)\n    34  MyApp                           0x0000000104e6a4dc main + 3084248\n    35  MyApp                           0x00000001050268d8 main + 4903892\n    36  MyApp                           0x0000000105026efc main + 4905464\n    37  MyApp                           0x0000000105026b04 main + 4904448\n    38  MyApp                           0x0000000104fe6554 main + 4640848\n    39  MyApp                           0x0000000104fe6554 main + 4640848\n    40  MyApp                           0x0000000104fe6554 main + 4640848\n    41  MyApp                           0x0000000104fe6554 main + 4640848\n    42  MyApp                           0x0000000104fe6554 main + 4640848\n    43  MyApp                           0x0000000105024888 main + 4895620\n    44  MyApp                           0x0000000104a7a20c 0x104a70000 + 41484\n    45  MyApp                           0x0000000104a79d88 0x104a70000 + 40328\n    46  MyApp                           0x0000000104a78e2c 0x104a70000 + 36396\n    47  MyApp                           0x0000000104ca73c8 main + 1236676\n    48  MyApp                           0x00000001050268d8 main + 4903892\n    49  MyApp                           0x0000000105026efc main + 4905464\n    50  MyApp                           0x0000000105026b04 main + 4904448\n    51  MyApp                           0x0000000104fe6554 main + 4640848\n    52  MyApp                           0x0000000104fe8b00 main + 4650492\n    53  MyApp                           0x0000000104fe6554 main + 4640848\n    54  MyApp                           0x0000000105001c30 main + 4753196\n    55  MyApp                           0x0000000104fea31c main + 4656664\n    56  MyApp                           0x0000000104fe6554 main + 4640848\n    57  MyApp                           0x0000000105024888 main + 4895620\n    58  MyApp                           0x0000000104a7a20c 0x104a70000 + 41484\n    59  MyApp                           0x0000000104a7aaf4 0x104a70000 + 43764\n    60  MyApp                           0x0000000104d18a88 main + 1701252\n    61  MyApp                           0x0000000104da31c8 main + 2268356\n    62  MyApp                           0x0000000104b43b1c 0x104a70000 + 867100\n    63  MyApp                           0x0000000104b50858 0x104a70000 + 919640\n    64  MyApp                           0x0000000104b50dd4 0x104a70000 + 921044\n    65  MyApp                           0x0000000104a8ed5c 0x104a70000 + 126300\n    66  QuartzCore                      0x00000001ddeb1574 CA::Display::DisplayLink::dispatch_items+ 66932 (unsigned long long, unsigned long long, unsigned long long) + 828\n    67  IOKit                           0x00000001d9c5b58c IODispatchCalloutFromCFMessage + 488\n    68  CoreFoundation                  0x00000001d99633e4 __CFMachPortPerform + 188\n    69  CoreFoundation                  0x00000001d998ac30 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 56\n    70  CoreFoundation                  0x00000001d998a37c __CFRunLoopDoSource1 + 440\n    71  CoreFoundation                  0x00000001d9985134 __CFRunLoopRun + 2140\n    72  CoreFoundation                  0x00000001d99845b8 CFRunLoopRunSpecific + 436\n    73  GraphicsServices                0x00000001dbbf8584 GSEventRunModal + 100\n    74  UIKitCore                       0x00000002067f8bc8 UIApplicationMain + 212\n    75  MyApp                           0x0000000104b79558 main + 84\n    76  libdyld.dylib                   0x00000001d9444b94 start + 4\n</code></pre>\n\n<p>The error here is  dependent dylib #32 could not be loaded. \nBut i would like to know what is actually dylib #32?.\nI have added the following dylib files in Linked binaries and framework.</p>\n\n<p>libicucore.dylib,\nlibresolv.dylib,\nlibxml2.dylib,\nlibc++.dylib,\nlibz.dylib</p>\n\n<p>How can i fix this problem?</p>\n"}, {"tags": ["objective-c", "uitextfield"], "answers": [{"tags": [], "owner": {"reputation": 2195, "user_id": 5490322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5p8xX.jpg?s=128&g=1", "display_name": "Himanth", "link": "https://stackoverflow.com/users/5490322/himanth"}, "is_accepted": false, "score": 1, "last_activity_date": 1539760880, "creation_date": 1539760880, "answer_id": 52849318, "question_id": 52848927, "link": "https://stackoverflow.com/questions/52848927/objective-c-phone-number-textfield-with-country-code/52849318#52849318", "title": "Objective-C Phone Number Textfield with Country Code", "body": "<p>You can use this <a href=\"https://github.com/chronotruck/FlagPhoneNumber\" rel=\"nofollow noreferrer\">Link</a> from Github, which will provide you phone number textfield with a fancy country code picker.</p>\n\n<p>And it provides you delegate methods when a country is selected, when the phone number is valid or not and you can get phone number in severals formats.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6613612, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e4752ff11b24ea07e2d78987d61bf2da?s=128&d=identicon&r=PG&f=1", "display_name": "Beg&#252;m K\u0131rkg&#246;z Demirci", "link": "https://stackoverflow.com/users/6613612/beg%c3%bcm-k%c4%b1rkg%c3%b6z-demirci"}, "is_accepted": true, "score": 0, "last_activity_date": 1539844489, "creation_date": 1539844489, "answer_id": 52868227, "question_id": 52848927, "link": "https://stackoverflow.com/questions/52848927/objective-c-phone-number-textfield-with-country-code/52868227#52868227", "title": "Objective-C Phone Number Textfield with Country Code", "body": "<p>I solved my problem with UITextField's leftview.\nFor your info,</p>\n\n<pre><code>            UILabel *countryCodeLabel = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 15, theCell.textfield.frame.size.height)];\n            countryCodeLabel.text = @\"    0090\"; \n            [countryCodeLabel sizeToFit];\n            theCell.textfield.leftView = countryCodeLabel;\n            theCell.textfield.leftViewMode = UITextFieldViewModeAlways;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6613612, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e4752ff11b24ea07e2d78987d61bf2da?s=128&d=identicon&r=PG&f=1", "display_name": "Beg&#252;m K\u0131rkg&#246;z Demirci", "link": "https://stackoverflow.com/users/6613612/beg%c3%bcm-k%c4%b1rkg%c3%b6z-demirci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 52868227, "answer_count": 2, "score": 0, "last_activity_date": 1539844489, "creation_date": 1539759297, "question_id": 52848927, "link": "https://stackoverflow.com/questions/52848927/objective-c-phone-number-textfield-with-country-code", "title": "Objective-C Phone Number Textfield with Country Code", "body": "<p>I want to create a textfield with country code. User is not able to change counrty code so the code must be passive on textfield. \nAnyone has any idea?</p>\n\n<p><a href=\"https://i.stack.imgur.com/jn4af.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["ios", "objective-c", "pjsip", "avaudiosession"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "edited": false, "score": 0, "creation_date": 1544766307, "post_id": 53276172, "comment_id": 94399527, "body": "I tried your given solution but again give the same error &quot;420008&quot;.if you have code snippets to enabling Bluetooth successful then please help me."}], "tags": [], "owner": {"reputation": 673, "user_id": 2724538, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/RpWVK.jpg?s=128&g=1", "display_name": "Nazrul Islam", "link": "https://stackoverflow.com/users/2724538/nazrul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1542095325, "creation_date": 1542095325, "answer_id": 53276172, "question_id": 52847807, "link": "https://stackoverflow.com/questions/52847807/how-to-enable-pjsip-bluetooth-in-ios/53276172#53276172", "title": "How to enable pjsip bluetooth in ios?", "body": "<p>You need use AVAudioSession to route the sound in bluetooth device but before routing you need to call pjsip library for sound <code>pjsua_set_snd_dev(0,0);</code></p>\n\n<pre><code>[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayAndRecord withOptions:AVAudioSessionCategoryOptionAllowBluetooth error:&amp;error];\n</code></pre>\n\n<p><strong>Happy to help you :)</strong></p>\n"}], "owner": {"reputation": 314, "user_id": 6422089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9b56ab5ec706ad462fce5421e40f79?s=128&d=identicon&r=PG&f=1", "display_name": "shraddha k vaishanani", "link": "https://stackoverflow.com/users/6422089/shraddha-k-vaishanani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542095325, "creation_date": 1539754122, "last_edit_date": 1539787689, "question_id": 52847807, "link": "https://stackoverflow.com/questions/52847807/how-to-enable-pjsip-bluetooth-in-ios", "title": "How to enable pjsip bluetooth in ios?", "body": "<p>we made VoIP app using pjsip and we required to add support of the Bluetooth. For that, we added the following code:- </p>\n\n<pre><code>pjmedia_aud_dev_route route = PJMEDIA_AUD_DEV_ROUTE_BLUETOOTH;\npj_status_t status =\npjsua_snd_set_setting(PJMEDIA_AUD_DEV_CAP_INPUT_ROUTE, &amp;route,\n                      PJ_TRUE);\nNSLog(@\"statuys is---&gt;%d\",status);\n</code></pre>\n\n<p>But above code give status code \"420008\".so how to add Bluetooth in pjsip.</p>\n\n<p>so anyone has a solution for that then please help me.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1539738392, "post_id": 52845662, "comment_id": 92607851, "body": "Do you know how to set the text of a text field? Do you know how to convert your <code>CGFloat</code> to an <code>NSString</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1539743559, "creation_date": 1539743559, "answer_id": 52846476, "question_id": 52845662, "link": "https://stackoverflow.com/questions/52845662/get-result-of-screen-size-to-display-in-text-field-in-objective-c/52846476#52846476", "title": "Get result of screen size to display in text field in Objective-C", "body": "<p>You can use stringWithFormat method to convert CGFloat to NSString , and can set to TextField.Code is fllow:</p>\n\n<pre><code> CGRect rect = [[UIScreen mainScreen] bounds];\n CGFloat screenHeight = rect.size.height;\n UITextField *textFiled = //------ some code----\n NSString *str = [NSString stringWithFormat:@\"%lf\",screenHeight];\n textFiled.text =str;\n</code></pre>\n\n<p>hope to help you.</p>\n"}], "owner": {"reputation": 355, "user_id": 1924813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b59fa6235a4cb821e2d43fa5b26a3b?s=128&d=identicon&r=PG", "display_name": "user1924813", "link": "https://stackoverflow.com/users/1924813/user1924813"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1539743559, "creation_date": 1539735729, "last_edit_date": 1539738365, "question_id": 52845662, "link": "https://stackoverflow.com/questions/52845662/get-result-of-screen-size-to-display-in-text-field-in-objective-c", "title": "Get result of screen size to display in text field in Objective-C", "body": "<p>I think this is really easy but how do I get the result of screen size to display in a text field in Objective-C? I can get it in NSLog, like so:</p>\n\n<pre><code>CGRect rect = [[UIScreen mainScreen] bounds];\nCGFloat screenHeight = rect.size.height;\n\nNSLog(@\"%f\",screenHeight);\n</code></pre>\n\n<p>but not in a text field.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["objective-c", "swift", "bridging-header"], "comments": [{"owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "edited": false, "score": 0, "creation_date": 1539734409, "post_id": 52845425, "comment_id": 92606995, "body": "leave the bridge file empty , read all the steps in the link you shared carefully"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1539751570, "post_id": 52845425, "comment_id": 92610692, "body": "Why did you write Swift code in an Objective-C header?"}], "answers": [{"tags": [], "owner": {"reputation": 85489, "user_id": 5820010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f54085103551ecfc99506b50cab764f2?s=128&d=identicon&r=PG&f=1", "display_name": "Sh_Khan", "link": "https://stackoverflow.com/users/5820010/sh-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1539735004, "last_edit_date": 1539735004, "creation_date": 1539734000, "answer_id": 52845471, "question_id": 52845425, "link": "https://stackoverflow.com/questions/52845425/bridging-header-in-objective-c-unexpected-in-program/52845471#52845471", "title": "Bridging header in objective C - Unexpected &#39;@&#39; in program", "body": "<p>When you want to import swift classes say like  (suppose in file named <strong>MySwift.swift</strong> to be dragged to the project)</p>\n\n<pre><code>@objc public class MyClass:NSObject {\n\n}\n</code></pre>\n\n<p>inside an objective-c project , you shouldn't but it inside the bridge .h file but to only import this line</p>\n\n<pre><code>#import \"ProjectName-Swift.h\"\n</code></pre>\n\n<p>top of the .m file you use the class in </p>\n"}], "owner": {"reputation": 319, "user_id": 7959062, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--_uXUe9xotc/AAAAAAAAAAI/AAAAAAAADng/hzMiSDc7aSQ/photo.jpg?sz=128", "display_name": "JESERRANO", "link": "https://stackoverflow.com/users/7959062/jeserrano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 52845471, "answer_count": 1, "score": -1, "last_activity_date": 1539735004, "creation_date": 1539733539, "question_id": 52845425, "link": "https://stackoverflow.com/questions/52845425/bridging-header-in-objective-c-unexpected-in-program", "title": "Bridging header in objective C - Unexpected &#39;@&#39; in program", "body": "<p>I'm trying to use some of my <code>swift</code> classes inside of my <code>Objective C</code> project.\nBefore to do it, I have validated the ios versions.\u00e7</p>\n\n<p>I'm using \n<a href=\"https://stackoverflow.com/questions/24206732/cant-use-swift-classes-inside-objective-c\">Can&#39;t use Swift classes inside Objective-C</a></p>\n\n<p>but, at the moment to update the <code>MyProject-Bridging-Header.h</code> with:</p>\n\n<pre><code>@import Foundation;\n\n\n@objc public class myClass\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>Unexpected '@' in program Expected ';' after top level declarator</p>\n</blockquote>\n\n<p>How can I fix this error to import my <code>swift</code> classes?</p>\n"}, {"tags": ["objective-c", "swift"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 10503075, "user_type": "registered", "profile_image": "https://graph.facebook.com/10217472266821247/picture?type=large", "display_name": "Tommy Pedersen", "link": "https://stackoverflow.com/users/10503075/tommy-pedersen"}, "is_accepted": false, "score": 0, "last_activity_date": 1539727830, "creation_date": 1539727830, "answer_id": 52844690, "question_id": 52844629, "link": "https://stackoverflow.com/questions/52844629/unable-to-understand-the-certain-operator-in-swift/52844690#52844690", "title": "Unable to understand the certain operator in Swift", "body": "<p>The line tries to assign the variable channel1Buffer the value of buffer.floatChannelData[0], and the code within {} is only executed if that assignment is successful. It may for instance fail if buffer.floatChannelData is nil or buffer.floatChannelData[0] is nil.</p>\n"}, {"tags": [], "owner": {"reputation": 1923, "user_id": 1088229, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Cgvfg.jpg?s=128&g=1", "display_name": "Paulius Vindzigelskis", "link": "https://stackoverflow.com/users/1088229/paulius-vindzigelskis"}, "is_accepted": false, "score": 1, "last_activity_date": 1539794245, "last_edit_date": 1539794245, "creation_date": 1539727942, "answer_id": 52844712, "question_id": 52844629, "link": "https://stackoverflow.com/questions/52844629/unable-to-understand-the-certain-operator-in-swift/52844712#52844712", "title": "Unable to understand the certain operator in Swift", "body": "<p>Let's take it part by part - <code>buffer.floatChannelData?[0]</code></p>\n\n<p><code>buffer</code> has property named <code>floatChannelData</code> which is optional so it has <code>?</code> at the end. then it takes that optional which accepts subscription <code>[0]</code> which also returns optional value. So it continues inside <code>{}</code> only if floatChannelData is not nil AND it's first value is not nil</p>\n\n<p>Your Objc should look like </p>\n\n<pre><code>float *const *channelData = [buffer floatChannelData]; \nif (channelData) {\n    float *channel1Buffer = channelData[0]; //this might crash if channelData is empty\n    ...\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10436472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c96316ee8a8afebf4485ba8b6043f355?s=128&d=identicon&r=PG&f=1", "display_name": "Caz", "link": "https://stackoverflow.com/users/10436472/caz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1539794245, "creation_date": 1539727498, "last_edit_date": 1539732549, "question_id": 52844629, "link": "https://stackoverflow.com/questions/52844629/unable-to-understand-the-certain-operator-in-swift", "title": "Unable to understand the certain operator in Swift", "body": "<p>I have been changing some SWIFT code into OBJECTIVE-C, and I am stuck at certain part of the code, where I am unable to understand if it is a condition or something else.</p>\n\n<p>Following is the code and I am stuck on 9th line stating : </p>\n\n<pre><code>if let channel1Buffer = buffer.floatChannelData?[0]\n</code></pre>\n\n<p>What I do not understand here is the above if condition is checking if \"buffer.floatChannelData\" is null, and then proceeding to get the first index, or is it something else.</p>\n\n<pre><code>input.installTap(onBus: 0, bufferSize:4096, format:format, block: { [weak self] buffer, when in\n    guard let this = self else {\n        return\n    }\n\n    print(\"Buffer Float Channel Data: \", buffer.floatChannelData as Any);\n\n    **if let channel1Buffer = buffer.floatChannelData?[0]** { \n        print(\"channel1Buffer: \", channel1Buffer);\n\n        /// encode PCM to mp3\n        let frameLength = Int32(buffer.frameLength) / 2;\n\n        print(\"frameLength: \", frameLength);\n\n        let bytesWritten = lame_encode_buffer_interleaved_ieee_float(this.lame, channel1Buffer, frameLength, this.mp3buf, 4096);\n        // `bytesWritten` bytes stored in this.mp3buf now mp3-encoded\n        print(\"\\(bytesWritten) encoded\");\n\n        this.file.append(this.mp3buf, length: Int(bytesWritten));\n\n        // @TODO: send data, better to pass into separate queue for processing\n    }\n})\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "objective-c-blocks"], "comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1539756023, "post_id": 52844516, "comment_id": 92612076, "body": "The only scenario I can think of for that happening, is <code>webView</code> being nil."}, {"owner": {"reputation": 21, "user_id": 4174825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba054ebee99189e183cd9d12c50d6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Luigius", "link": "https://stackoverflow.com/users/4174825/luigius"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1540373188, "post_id": 52844516, "comment_id": 92837333, "body": "Is not nil because the page is displayed."}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1540373519, "post_id": 52844516, "comment_id": 92837535, "body": "At which point in time are you executed the code from the question?"}], "owner": {"reputation": 21, "user_id": 4174825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba054ebee99189e183cd9d12c50d6a0?s=128&d=identicon&r=PG&f=1", "display_name": "Luigius", "link": "https://stackoverflow.com/users/4174825/luigius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539843455, "creation_date": 1539726803, "question_id": 52844516, "link": "https://stackoverflow.com/questions/52844516/ios-wkwebview-evaluatejavascript-completion-handler-code-not-executed", "title": "IOS WKwebview evaluatejavascript completion handler code not executed", "body": "<p>I have this code.</p>\n\n<pre><code> [webView evaluateJavaScript:    (@\"document.documentElement.outerHTML.toString()\")     completionHandler:^(NSString *result, NSError *error){\n  NSLog(@\"CompletitionHandler\");\n  NSLog(@\"%s\", result);\n}];\n</code></pre>\n\n<p>The NSLog lines are not executed.</p>\n\n<p>Any Idea?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["ios", "objective-c", "scenekit"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "is_accepted": true, "score": 0, "last_activity_date": 1539932586, "creation_date": 1539932586, "answer_id": 52887306, "question_id": 52838655, "link": "https://stackoverflow.com/questions/52838655/bright-model-in-scene-kit-ios-12/52887306#52887306", "title": "Bright model in scene kit iOS 12", "body": "<p>I solve the same issue by convert .obj file to .scn files in Xcode, and use this scenes as nodes. Editor -> Convert to SceneKit file format (.scn)</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ukdi9.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n"}], "owner": {"reputation": 26, "user_id": 10513713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUaoR.jpg?s=128&g=1", "display_name": "FindYourBalance", "link": "https://stackoverflow.com/users/10513713/findyourbalance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 52887306, "answer_count": 1, "score": 0, "last_activity_date": 1539932586, "creation_date": 1539702588, "last_edit_date": 1539702892, "question_id": 52838655, "link": "https://stackoverflow.com/questions/52838655/bright-model-in-scene-kit-ios-12", "title": "Bright model in scene kit iOS 12", "body": "<p>I have a problem with 3D model in SceneKit. I also use maxstARobjec After updating to iOS 12 it's start looking brighter than before (<a href=\"https://stackoverflow.com/questions/52542734/autoenablesdefaultlighting-is-too-bright-in-ios-12-and-scnview-pointofview-is-no\">SCREENSHOTS WITH THE SAME ISSUE HERE</a>)</p>\n\n<p>I use 2 light node, without <i>autoenablesDefaultLighting</i>.\nAnd one more fact about this issue: when I hide all lights the model (which must be black) is grey like it's has extra light...</p>\n\n<p>Sorry for my bad language, and I very need your help!</p>\n"}, {"tags": ["objective-c", "swift", "cocoapods", "podspec", "podfile"], "answers": [{"tags": [], "owner": {"reputation": 297, "user_id": 5077666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19fdd4e8f08b915e3f31ee31e2d7ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Jmf", "link": "https://stackoverflow.com/users/5077666/jmf"}, "is_accepted": false, "score": 0, "last_activity_date": 1539936713, "creation_date": 1539936713, "answer_id": 52888313, "question_id": 52837893, "link": "https://stackoverflow.com/questions/52837893/duplicate-definition-of-category-in-app-when-using-modular-headers-objective-c/52888313#52888313", "title": "Duplicate definition of category in app when using modular headers, Objective-C &amp; Swift in private pod", "body": "<p>The key to fixing this was to ensure that in class headers did not refer to a category header. Thus a class did not in its .h file import a category header. Moving all those category header file imports (big job) to the .m of each class file resolved this issue. </p>\n\n<p>Also, had the issue that named categories declared inside a class header were also declared duplicate. Presumably because the class header was being invoked by other headers and the category definition in the class was being seen multiple times. The resolution here was to remove the name from the category definition. </p>\n\n<p>All the category header files are referenced within a framework header (e.g ) surrounded by conditional statements so only parsed once (e.g #ifndef AimpKit_h #define AimpKit_h #endif).</p>\n"}], "owner": {"reputation": 297, "user_id": 5077666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19fdd4e8f08b915e3f31ee31e2d7ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Jmf", "link": "https://stackoverflow.com/users/5077666/jmf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 889, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539936713, "creation_date": 1539700346, "last_edit_date": 1539867990, "question_id": 52837893, "link": "https://stackoverflow.com/questions/52837893/duplicate-definition-of-category-in-app-when-using-modular-headers-objective-c", "title": "Duplicate definition of category in app when using modular headers, Objective-C &amp; Swift in private pod", "body": "<p>With the introduction of Cocoapods v1.5 allowing Swift static libraries, I've been trying to convert my private pods (originally just Objective-C) to include Swift. I've managed to do this, but I'm left with a warning \"Duplicate definition of category\" for all categories in the pod.  It may be that I'm doing something rather stupid as modular headers are new to me.</p>\n\n<p>I have two private pods, one is a shared library for development, and the other a shared library for tests. For brevity, I've removed some targets and pod references in the Podfile below.</p>\n\n<p>I have noticed that the number of warnings can go up or down depending upon how I import code from the private pod in the app. Traditionally I have just used: #import \"Class.h\". Now, when I have tried to use @import ;, the warnings have gone up. Once when I used #import they went down. But not every time.</p>\n\n<p>If I use #import  instead of #import \"SomeClass.h\", \n 76 more warnings appear.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>What I am finding is that if a category header file is only referred to via a .m file, the warning goes away.</p>\n\n<pre><code>source 'https://privatepod.url.com/git/my_podspec'\nsource 'https://github.com/CocoaPods/Specs.git'\n\nplatform :ios, '9.0'\n\nuse_modular_headers!\ninhibit_all_warnings!\n\ndef test_pods\n  pod 'M13ProgressSuite', '~&gt; 1.2',  :inhibit_warnings =&gt; true\n  pod 'AimpTestKit', :path =&gt; '../aimptestkit',  :inhibit_warnings =&gt; false\n  pod 'Quick', :inhibit_warnings =&gt; true\n  pod 'Nimble',  :inhibit_warnings =&gt; true\nend\n\ndef common_pods\n    pod 'M13ProgressSuite', '~&gt; 1.2',  :inhibit_warnings =&gt; true\n    pod 'HockeySDK', :subspecs =&gt; ['AllFeaturesLib'],  :inhibit_warnings =&gt; true\n    pod 'AimpKit', :path =&gt; '../aimpkit',  :inhibit_warnings =&gt; false\nend\n\n\ntarget \u2018free_app\u2019 do\n    common_pods\n    target 'free_app Tests' do\n        inherit! :search_paths\n        test_pods\n    end\n\nend\n\ntarget \u2018paid_app\u2019 do\n    common_pods\n    target 'PaidAppTests' do\n        inherit! :search_paths\n        test_pods\n    end\nend\n\n\ntarget 'LogicTests' do\n    #no host app\n    inherit! :search_paths\n    common_pods\n    test_pods\nend\n</code></pre>\n\n<p>This is the podspec for the shared library (again I've removed some superfluous stuff for brevity):</p>\n\n<pre><code>{\n    \"name\": \"AimpKit\",\n    \"version\": \"3.0.1\",\n    \"summary\": \"AimpKit library\",\n    \"static_framework\": true,\n    \"platforms\": {\n        \"ios\": \"9.0\"\n    },\n    \"source\": {\n    \"git\": \"https://privatepod.url.com/git/my_podspec\",\n    \"branch\": \"master\"\n  },\n    \"source_files\": \"aimpkit/**/*.{h,m,swift}\",\n    \"resources\": \"resources/**/*.{xib,xcassets,storyboard,bundle,png,mp4}\",\n    \"requires_arc\": [\n       \"aimpkit/arc/**/*.{h,m,swift}\"\n  ],\n     \"frameworks\": [\n        \"CFNetwork\", \n        \"Foundation\", \n\n    ],\n    \"dependencies\": {\n\n    \"HockeySDK/AllFeaturesLib\": [\n\n    ],\n\n\n  }\n\n\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539697295, "post_id": 52836790, "comment_id": 92589810, "body": "when does this error appear? in Xcode when you run on a device? or on the device itself? Did you check the logs of the device?"}, {"owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "reply_to_user": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539697340, "post_id": 52836790, "comment_id": 92589845, "body": "it appears on xcode when the run button is tapped"}, {"owner": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539697422, "post_id": 52836790, "comment_id": 92589906, "body": "after the build was finished successfully? are you connect with a cable to the computer or using the wifi to install on the device?"}, {"owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "reply_to_user": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539697453, "post_id": 52836790, "comment_id": 92589926, "body": "connected with a cable"}, {"owner": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539697641, "post_id": 52836790, "comment_id": 92590038, "body": "can you try to delete the derived data folder and clean one more time afterward?"}, {"owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "reply_to_user": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "edited": false, "score": 0, "creation_date": 1539697711, "post_id": 52836790, "comment_id": 92590094, "body": "and how do we delete the derived data folder"}, {"owner": {"reputation": 3251, "user_id": 4112491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_v8RtPZdkHI/AAAAAAAAAAI/AAAAAAAAALs/5sQYPTB1VFg/photo.jpg?sz=128", "display_name": "Catalina T.", "link": "https://stackoverflow.com/users/4112491/catalina-t"}, "reply_to_user": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "edited": false, "score": 0, "creation_date": 1539697733, "post_id": 52836790, "comment_id": 92590118, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/181947/discussion-between-catalina-t-and-mrj\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "edited": false, "score": 0, "creation_date": 1539762316, "post_id": 52848020, "comment_id": 92615083, "body": "i checked it , its ${EXECUTABLE_NAME} , the project isnt downloaded from the internet. nothing worked"}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 0, "last_activity_date": 1539755290, "creation_date": 1539755290, "answer_id": 52848020, "question_id": 52836790, "link": "https://stackoverflow.com/questions/52836790/the-file-could-not-be-opened-becuase-you-dont-have-permission-to-view-it/52848020#52848020", "title": "The file could not be opened becuase you dont have permission to view it", "body": "<p>If the project you download from the internet don't have the Executable file can make this.Last time ,I use the fllow method to solve it.</p>\n\n<ol>\n<li>Open info.plist</li>\n<li>Check the key \"Executable file\"'s value,its value should be this ${EXECUTABLE_NAME}. </li>\n<li>clean->build->run</li>\n</ol>\n\n<p>So when i changed it ${EXECUTABLE_NAME} this value then successfully.</p>\n"}], "owner": {"reputation": 96, "user_id": 9968547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f5dbfcfdddf3816a5a0e39f3b3dd59?s=128&d=identicon&r=PG&f=1", "display_name": "MrJ", "link": "https://stackoverflow.com/users/9968547/mrj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539755290, "creation_date": 1539697055, "question_id": 52836790, "link": "https://stackoverflow.com/questions/52836790/the-file-could-not-be-opened-becuase-you-dont-have-permission-to-view-it", "title": "The file could not be opened becuase you dont have permission to view it", "body": "<p>A project was working normally, but after i updated xcode to its latest version, i began having this error everytime i want to run the project on a real device :</p>\n\n<pre><code>The file could not be opened becuase you dont have permission to view it.\n</code></pre>\n\n<p>i tried all the solutions in this link: <a href=\"https://stackoverflow.com/questions/27355361/error-while-build-project-xcode-says-you-dont-have-permission\">Error while build project xcode says : &quot;you don&#39;t have permission&quot;</a>\nbut nothing worked, and the error is still there.\nany idea what happened?\nthanks</p>\n"}, {"tags": ["objective-c", "xcode", "macos"], "comments": [{"owner": {"reputation": 430, "user_id": 8385972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7yD52kzsJpg/AAAAAAAAAAI/AAAAAAAAAcs/ewhOlBx5nqg/photo.jpg?sz=128", "display_name": "Chirag Kothiya", "link": "https://stackoverflow.com/users/8385972/chirag-kothiya"}, "edited": false, "score": 0, "creation_date": 1539695807, "post_id": 52836055, "comment_id": 92588799, "body": "Add heightForHeaderInSection method"}, {"owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "reply_to_user": {"reputation": 430, "user_id": 8385972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7yD52kzsJpg/AAAAAAAAAAI/AAAAAAAAAcs/ewhOlBx5nqg/photo.jpg?sz=128", "display_name": "Chirag Kothiya", "link": "https://stackoverflow.com/users/8385972/chirag-kothiya"}, "edited": false, "score": 0, "creation_date": 1539696348, "post_id": 52836055, "comment_id": 92589170, "body": "Nothing happened. Are you sure it is the correct method name for macOS?"}, {"owner": {"reputation": 430, "user_id": 8385972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7yD52kzsJpg/AAAAAAAAAAI/AAAAAAAAAcs/ewhOlBx5nqg/photo.jpg?sz=128", "display_name": "Chirag Kothiya", "link": "https://stackoverflow.com/users/8385972/chirag-kothiya"}, "edited": false, "score": 0, "creation_date": 1539698015, "post_id": 52836055, "comment_id": 92590292, "body": "sorry this is iOS method."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539698280, "post_id": 52836055, "comment_id": 92590467, "body": "How do you load the nib?"}, {"owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "reply_to_user": {"reputation": 430, "user_id": 8385972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7yD52kzsJpg/AAAAAAAAAAI/AAAAAAAAAcs/ewhOlBx5nqg/photo.jpg?sz=128", "display_name": "Chirag Kothiya", "link": "https://stackoverflow.com/users/8385972/chirag-kothiya"}, "edited": false, "score": 0, "creation_date": 1539756373, "post_id": 52836055, "comment_id": 92612203, "body": "@ChiragKothiya - indeed, and Xcode didn&#39;t underline it as bad apparently."}, {"owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539756385, "post_id": 52836055, "comment_id": 92612209, "body": "@Willeke - check my edit."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539876247, "post_id": 52836055, "comment_id": 92668362, "body": "Any other table views in the XIBs? Does reconnecting the delegate help?"}, {"owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539929592, "post_id": 52836055, "comment_id": 92686374, "body": "@Willeke I tried reconnecting the delegate, but nothing works... And I have only one table view. Strange, but it seems that I used wrong method name, or I have something wrong with connection..."}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539960427, "post_id": 52836055, "comment_id": 92702151, "body": "I don&#39;t know if it is related to the issue but it looks like you&#39;ve mixed up <code>tableView:objectValueForTableColumn:row:</code> (returns data) and <code>tableView:viewForTableColumn:row:</code> (returns a view). If you set the values of the fields in <code>tableView:viewForTableColumn:row:</code>, you don&#39;t have to implement <code>tableView:objectValueForTableColumn:row:</code>."}], "owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539756336, "creation_date": 1539694829, "last_edit_date": 1539756336, "question_id": 52836055, "link": "https://stackoverflow.com/questions/52836055/illegal-nstableview-data-source-what-did-i-wrong", "title": "Illegal NSTableView data source - what did I wrong?", "body": "<p>I have an app, where I added simple images (posters) with movie names. But after run, I can see only empty table and an error in console:</p>\n\n<blockquote>\n  <p>Illegal NSTableView data source ().  Must implement numberOfRowsInTableView: and tableView:objectValueForTableColumn:row:</p>\n</blockquote>\n\n<p>Now, in my .xib file I have Table View with <code>dataSource</code> and <code>delegate</code> linked to the <code>File's Owner</code>. Here's the code:</p>\n\n<p>MasterViewController.m</p>\n\n<pre><code>#import \"MasterViewController.h\"\n#import \"NSObject+IntengineMovieData.h\"\n#import \"NSObject+IntengineMovieDoc.h\"\n\n@interface MasterViewController ()\n\n@end\n\n@implementation MasterViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do view setup here.\n}\n\n- (NSView *)tableView:(NSTableView *)tableView objectValueForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row {\n    NSTableCellView *cellView = [tableView makeViewWithIdentifier:tableColumn.identifier owner:self];\n\n    if([tableColumn.identifier isEqualToString:@\"MoviesColumn\"]) {\n        IntengineMovieDoc *movieDoc = [self.movies objectAtIndex:row];\n        cellView.imageView.image = movieDoc.thumbImage;\n        cellView.textField.stringValue = movieDoc.data.title;\n        return cellView;\n    }\n    return cellView;\n}\n\n- (NSInteger)numberOfRowsInTableView:(NSTableView *)tableView {\n    return [self.movies count];\n}\n\n@end\n</code></pre>\n\n<p>What that problem means and how can I fix it in my case?</p>\n\n<hr>\n\n<p>EDIT 1: I have MasterViewController.xib as my Main Interface. I loaded it by this:</p>\n\n<p>AppDelegate.m</p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"NSObject+IntengineMovieDoc.h\"\n#include \"MasterViewController.h\"\n\n@interface AppDelegate ()\n@property (nonatomic, strong) IBOutlet MasterViewController *masterViewController;\n@property (assign) IBOutlet NSWindow *window;\n@end\n\n@implementation AppDelegate\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    self.masterViewController = [[MasterViewController alloc]\n                                 initWithNibName:@\"MasterViewController\" bundle:nil];\n\n    IntengineMovieDoc *movie1 = [[IntengineMovieDoc alloc] initWithTitle:@\"The Godfather\" rating:5 thumbImage:[NSImage imageNamed:@\"TheGodfatherThumb.jpg\"] fullImage:[NSImage imageNamed:@\"TheGodfather.jpg\"]];\n\n    IntengineMovieDoc *movie2 = [[IntengineMovieDoc alloc] initWithTitle:@\"Tree of Life\" rating:4 thumbImage:[NSImage imageNamed:@\"TreeOfLifeThumb.jpg\"] fullImage:[NSImage imageNamed:@\"TreeOfLife.jpg\"]];\n\n    IntengineMovieDoc *movie3 = [[IntengineMovieDoc alloc] initWithTitle:@\"Taxi Driver\" rating:5 thumbImage:[NSImage imageNamed:@\"TaxiDriverThumb.jpg\"] fullImage:[NSImage imageNamed:@\"TaxiDriver.jpg\"]];\n\n    NSMutableArray *movies = [NSMutableArray arrayWithObjects: movie1, movie2, movie3, nil];\n    self.masterViewController.movies = movies;\n\n    [self.window.contentView addSubview:self.masterViewController.view];\n    self.masterViewController.view.frame = ((NSView*)self.window.contentView).bounds;\n}\n\n- (void)applicationWillTerminate:(NSNotification *)aNotification {\n    // Insert code here to tear down your application\n}\n@end\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "firebase", "firebase-dynamic-links"], "comments": [{"owner": {"reputation": 1276, "user_id": 2813408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89ee3f8ef859e75e12ecdbccfa7af5f?s=128&d=identicon&r=PG", "display_name": "prolfe", "link": "https://stackoverflow.com/users/2813408/prolfe"}, "edited": false, "score": 0, "creation_date": 1616782750, "post_id": 52836008, "comment_id": 118120399, "body": "Could this be because your bundle ID does not match what Firebase thinks is your bundle ID? You might see this if you use different ID&#39;s for development/staging vs production."}], "answers": [{"tags": [], "owner": {"reputation": 1869, "user_id": 10746978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d6a6a81b974f8c81e2d52c8969b0c2?s=128&d=identicon&r=PG&f=1", "display_name": "Naslausky", "link": "https://stackoverflow.com/users/10746978/naslausky"}, "is_accepted": true, "score": 3, "last_activity_date": 1559846999, "creation_date": 1559846999, "answer_id": 56483454, "question_id": 52836008, "link": "https://stackoverflow.com/questions/52836008/firebase-deep-link-web-url-query-is-empty-ios/56483454#56483454", "title": "Firebase Deep Link Web URL query is empty - iOS", "body": "<p>I was having the exact same problem regarding Dynamic Links.\nI was using these lines in my Podfile:</p>\n\n<pre><code>pod 'Firebase/DynamicLinks'\npod 'Firebase/Analytics'\n</code></pre>\n\n<p>Just like the official Firebase tutorial ordered to.</p>\n\n<p>However, my app still used the <code>pod 'Google/Analytics'</code> pod at the time, which has been deprecated and should be switched over to Firebase Analytics.</p>\n\n<p>This Google analytics pod has a common dependency with the Pods from Firebase (if I recall correctly, \"Firebase/Core\") but since it's an old, deprecated version, its dependencies are required to be below a certain version.\nSo, even though I hadn't specified a DynamicLinks pod version in my Podfile, the old dependency only allowed it to be up to a certain version, way older than the up-to-date one. I figured this out when I tried to use the self-diagnostic tool [0] as suggested in the documentation, and my code couldn't find the tool.</p>\n\n<p>So the workaround I used was:</p>\n\n<ul>\n<li><p>Remove the Google/Analytics pod from my Podfile. When I did that, and executed <code>pod update</code>, all Firebase related pods were on the same version as in CocoaPods website [1] i.e. they were up-to-date.</p></li>\n<li><p>I still wanted to use old Google Analytics for a while, since I needed the dynamic links to be working faster than it would take to switch to Firebase Analytics, so I <strong>imported manually</strong> the static libraries for Google Analytics (libGoogleAnalytics.a) and its headers. It worked just fine then. Since it's not in Podfile anymore, I won't automatically obtain changes, however, I don't think that will be an issue with a deprecated Pod.</p></li>\n</ul>\n\n<p>If your problem was indeed related to this, I don't think this is the suggested solution. You should use Firebase Analytics ASAP since Google Analytics for mobile will be shut down by October this year.</p>\n\n<p>My guess is that the Firebase functions used to have different ways of parsing and translating dynamic links that aren't compatible with the links made by console today, so it returns an empty URL query.</p>\n\n<p>[0]- <a href=\"https://firebase.google.com/docs/dynamic-links/debug\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/dynamic-links/debug</a></p>\n\n<p>[1]- <a href=\"https://cocoapods.org/\" rel=\"nofollow noreferrer\">https://cocoapods.org/</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4905780, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igKbBVYRdZM/AAAAAAAAAAI/AAAAAAAAAEA/mH7a8vLE_GU/photo.jpg?sz=128", "display_name": "Tejero Lucas", "link": "https://stackoverflow.com/users/4905780/tejero-lucas"}, "is_accepted": false, "score": 2, "last_activity_date": 1587537811, "creation_date": 1587537811, "answer_id": 61358802, "question_id": 52836008, "link": "https://stackoverflow.com/questions/52836008/firebase-deep-link-web-url-query-is-empty-ios/61358802#61358802", "title": "Firebase Deep Link Web URL query is empty - iOS", "body": "<p>You have to set the FirebaseDynamicLinksCustomDomains in the info.plist</p>\n\n<p><a href=\"https://firebase.google.com/docs/dynamic-links/custom-domains\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/dynamic-links/custom-domains</a></p>\n"}], "owner": {"reputation": 353, "user_id": 4016413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100006465817769/picture?type=large", "display_name": "Besfort Abazi", "link": "https://stackoverflow.com/users/4016413/besfort-abazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3873, "favorite_count": 0, "accepted_answer_id": 56483454, "answer_count": 2, "score": 3, "last_activity_date": 1587537811, "creation_date": 1539694674, "last_edit_date": 1539695996, "question_id": 52836008, "link": "https://stackoverflow.com/questions/52836008/firebase-deep-link-web-url-query-is-empty-ios", "title": "Firebase Deep Link Web URL query is empty - iOS", "body": "<p>I have a problem receiving Firebase Dynamic Links with the new custom URLs. I created one \"abc0.page.link\", I set up everything to create it in code from the app. </p>\n\n<p>But when receiving, I get this message in LOG:</p>\n\n<blockquote>\n  <p>[Firebase/Analytics][I-ACS023000] Deep Link Web URL query is empty</p>\n</blockquote>\n\n<p>Nothing happens, and handled is false.</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application\ncontinueUserActivity:(NSUserActivity *)userActivity\n restorationHandler:\n #if defined(__IPHONE_12_0) &amp;&amp; (__IPHONE_OS_VERSION_MAX_ALLOWED &gt;= __IPHONE_12_0)\n(nonnull void (^)(NSArray&lt;id&lt;UIUserActivityRestoring&gt;&gt; *_Nullable))restorationHandler {\n#else\n    (nonnull void (^)(NSArray *_Nullable))restorationHandler {\n#endif  // __IPHONE_12_0\n //(void (^)(NSArray *))restorationHandler {\n\n    NSLog(@\"continueUserActivity called, withUser: %@, useractivity: %@, webpageurl: %@\", self.user.uid, userActivity, userActivity.webpageURL);\n  calledFromURL = YES;\n  BOOL handled = [[FIRDynamicLinks dynamicLinks] handleUniversalLink:userActivity.webpageURL\n                                                          completion:^(FIRDynamicLink * _Nullable dynamicLink,\n                                                                       NSError * _Nullable error) {\n        NSLog(@\"continueUserActivity called\");\n        if (error) {\n            NSLog(@\"dynamic link error: %@\", error.localizedDescription);\nanimated:YES completion:nil];\n            }\n            else {\n}\n}];\nreturn handled;\n}\n</code></pre>\n\n<p>What is the problem here? Thank you in advance!</p>\n"}, {"tags": ["objective-c", "swift", "ios11", "airplay", "ios12"], "comments": [{"owner": {"reputation": 2486, "user_id": 2398612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1TGY.jpg?s=128&g=1", "display_name": "Tiago Mendes", "link": "https://stackoverflow.com/users/2398612/tiago-mendes"}, "edited": false, "score": 0, "creation_date": 1591384374, "post_id": 52835237, "comment_id": 110046459, "body": "I am also looking for that :-/"}, {"owner": {"reputation": 10802, "user_id": 6379163, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zhd1I.jpg?s=128&g=1", "display_name": "Jamshed Alam", "link": "https://stackoverflow.com/users/6379163/jamshed-alam"}, "edited": false, "score": 0, "creation_date": 1596947552, "post_id": 52835237, "comment_id": 111971756, "body": "Did you get any workaround ?"}], "owner": {"reputation": 59, "user_id": 9779486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94443fc1fcfac431aa68bfbd4c3123ef?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Ahmed", "link": "https://stackoverflow.com/users/9779486/umair-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1539762944, "creation_date": 1539692050, "last_edit_date": 1539762944, "question_id": 52835237, "link": "https://stackoverflow.com/questions/52835237/airplay-screen-mirroring-in-ios", "title": "AirPlay Screen Mirroring in IOS", "body": "<p>I want to apply screen mirroring through code.In <code>iOS 11</code> and below we can achieve this task with <code>MPVolumeView</code> class</p>\n\n<p><a href=\"https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/AirPlayGuide/EnrichYourAppforAirPlay/EnrichYourAppforAirPlay.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/AirPlayGuide/EnrichYourAppforAirPlay/EnrichYourAppforAirPlay.html</a></p>\n\n<p>In <code>iOS11</code> and later <code>iOS</code> The above class does not work for Screen Mirroring as it's only works for <em>Audio  mirroring</em> (<strong>Airplay2</strong>).</p>\n\n<p>I also try <code>AVRoutePickerView</code>, but it is also working for audio mirroring only((<strong>Airplay2</strong>)).</p>\n\n<p>In simple through code I want the same result with we can achieve with \"Control Centre\" \"Screen Mirroring\" button.check  below video (1min 18secs in) for \"Screen Mirroring\" exact location.</p>\n\n<p><a href=\"https://www.youtube.com/watch?time_continue=80&amp;v=wbWXNESUZ5w\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?time_continue=80&amp;v=wbWXNESUZ5w</a></p>\n\n<p>Please check the attach image for exact location of screen mirroring button<a href=\"https://i.stack.imgur.com/loIgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loIgf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["objective-c", "math"], "comments": [{"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539691856, "post_id": 52835114, "comment_id": 92586319, "body": "Can you explain why you&#39;re dividing by that number? Also... what are you actually trying to do? Why do you want a number between 0 and 1?"}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539692034, "post_id": 52835114, "comment_id": 92586435, "body": "Hmm... ok... I see where the number came from now... still not quite sure what you&#39;re trying to do though? Why do you need a number between 0 and 1? What does that mean for your program? What will you do with it?"}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 1, "creation_date": 1539692437, "post_id": 52835114, "comment_id": 92586676, "body": "From your edit... are more recent articles more important? Or are older articles more important? Either way... can you not just use the timestamp to sort them?"}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "edited": false, "score": 0, "creation_date": 1539692842, "post_id": 52835114, "comment_id": 92586971, "body": "This is very much an XY Problem... <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>"}], "answers": [{"comments": [{"owner": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "edited": false, "score": 0, "creation_date": 1539764619, "post_id": 52835434, "comment_id": 92616321, "body": "The reason I cannot order by timestamp as I need a universal variable that can be used to order the articles. There is other arrays which are being sorted into having a &#39;priority level&#39; so need to keep the same."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "reply_to_user": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "edited": false, "score": 0, "creation_date": 1539765886, "post_id": 52835434, "comment_id": 92617000, "body": "OK... what determines the other items&#39; priorities? Why is this information not in the original question? What do you want to be first? Today&#39;s articles? What priority do they need to make sure they&#39;re first? Doing <code>1&#47;timestamp</code> will make today&#39;s articles have a lower priority. Trimming zeroes is useless as it makes <code>0.06</code> the same as <code>0.006</code>. Etc..."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "reply_to_user": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "edited": false, "score": 0, "creation_date": 1539765900, "post_id": 52835434, "comment_id": 92617007, "body": "@LouisFerraiolo put all of this information into your original question."}, {"owner": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "edited": false, "score": 0, "creation_date": 1539766415, "post_id": 52835434, "comment_id": 92617268, "body": "it is not as simple as 1/timestamp as it also involves a babys dob timestamp which is in the equation. Basically any article posted after the babys dob is more important."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "reply_to_user": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "edited": false, "score": 0, "creation_date": 1539767351, "post_id": 52835434, "comment_id": 92617836, "body": "@LouisFerraiolo I know it isn&#39;t as simple as <code>1&#47;timestamp</code> I mentioned it because you put it in your question. My point was that using <code>1&#47;timestamp</code> will not work."}, {"owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "reply_to_user": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "edited": false, "score": 0, "creation_date": 1539767412, "post_id": 52835434, "comment_id": 92617875, "body": "@LouisFerraiolo So you have articles with a date and a baby with a date (of birth). So far these are all sortable using date. Is there anything else that has a priority? If not then it falls back to the same thing... sort by date."}], "tags": [], "owner": {"reputation": 69864, "user_id": 421018, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/e8lcr.jpg?s=128&g=1", "display_name": "Fogmeister", "link": "https://stackoverflow.com/users/421018/fogmeister"}, "is_accepted": false, "score": 2, "last_activity_date": 1539692703, "creation_date": 1539692703, "answer_id": 52835434, "question_id": 52835114, "link": "https://stackoverflow.com/questions/52835114/remove-0s-from-a-decimal-number/52835434#52835434", "title": "Remove 0&#39;s from a decimal number", "body": "<p>It seems like you are doing maths with the timestamp that is unnecessary?</p>\n\n<p>From your question...</p>\n\n<blockquote>\n  <p>The end goal is to calculate a priority level to display articles meaning that the higher the timestamp the greater the value should be between 0 and 1 to display.</p>\n</blockquote>\n\n<p>Can you not just sort the articles by the <code>date</code> or <code>timestamp</code> of the article?</p>\n\n<p>With a descending (or ascending) sort you can arrange the articles so that the most recent articles or at the top (or bottom) of the list.</p>\n\n<p>There is no maths required to do this. The timestamp is already a number that can be sorted. Just sort on the date (or timestamp).</p>\n"}], "owner": {"reputation": 398, "user_id": 8330474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4e5a7cf16cf7556971f6198496fa95?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Ferraiolo", "link": "https://stackoverflow.com/users/8330474/louis-ferraiolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539766298, "creation_date": 1539691668, "last_edit_date": 1539766298, "question_id": 52835114, "link": "https://stackoverflow.com/questions/52835114/remove-0s-from-a-decimal-number", "title": "Remove 0&#39;s from a decimal number", "body": "<p>I have been looking for some time for a method that will remove the 0's after a decimal place but keeps the numbers after the 0's.</p>\n\n<p>I am working with a timestamp that needs to end up a double between 0-1 as a priority level for displaying articles. I first divided 1 by the timestamp (1539353737) which results in 0.000000000649623 and I would like the final double left with to be 0.649623 how would I go about doing that. Its not as easy as just removing any 0 as the final number could have an important 0 in it for example: 0.640980</p>\n\n<p>Edit: The end goal is to calculate a priority level to display articles meaning that the higher the timestamp the greater the value should be between 0 and 1 to display.</p>\n\n<p>Edit 2: The reason I cannot order by timestamp as I need a universal variable that can be used to order the articles. There is other arrays which are being sorted into having a 'priority level' so need to keep the same</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10057218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_BiFwrwLrt4/AAAAAAAAAAI/AAAAAAAAABE/1os4TZ5hMPU/photo.jpg?sz=128", "display_name": "IOS Application", "link": "https://stackoverflow.com/users/10057218/ios-application"}, "edited": false, "score": 0, "creation_date": 1539754355, "post_id": 52836871, "comment_id": 92611518, "body": "Can u Share  your Code Sir."}], "tags": [], "owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "is_accepted": true, "score": 0, "last_activity_date": 1539697268, "creation_date": 1539697268, "answer_id": 52836871, "question_id": 52834996, "link": "https://stackoverflow.com/questions/52834996/how-to-retrieve-checkbox-button-position-change-when-i-am-searching-in-search-ba/52836871#52836871", "title": "How to retrieve checkbox button position change when i am searching in search bar in tableview", "body": "<p>In table view you retuned two arrays based on searching. Instead of that take two arrays one for main and second one is tempArray and returned only tempArray in table View. First add all main array values into tempArray. Next if any Search is there then change the tempArray. Take it tempArray as NSMutableArray. </p>\n\n<p>Next don't hold the indexPath rows for selection. Because it may change if array changed. So hold objectId's in selection. If you don't have any IDs to your objects. Then create your custom object and change your original objects to custom objects. In custom Object set id value.  </p>\n"}], "owner": {"reputation": 3, "user_id": 10057218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_BiFwrwLrt4/AAAAAAAAAAI/AAAAAAAAABE/1os4TZ5hMPU/photo.jpg?sz=128", "display_name": "IOS Application", "link": "https://stackoverflow.com/users/10057218/ios-application"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 52836871, "answer_count": 1, "score": -2, "last_activity_date": 1539697268, "creation_date": 1539691282, "last_edit_date": 1539694624, "question_id": 52834996, "link": "https://stackoverflow.com/questions/52834996/how-to-retrieve-checkbox-button-position-change-when-i-am-searching-in-search-ba", "title": "How to retrieve checkbox button position change when i am searching in search bar in tableview", "body": "<p><a href=\"https://i.stack.imgur.com/89Z4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/89Z4a.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>for(int i=0; i&lt;[devices count]; i++) { \n    [_cellDataArray addObject:@\"Uncheck\"];\n}\n\n-(void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText {\n    if(searchText.length==0) {\n        isfilert=false; \n    }\n    else { \n        isfilert=true;\n        filterarray=[[NSMutableArray alloc]init];\n        for ( NSString * str in devices) {\n            NSRange rangename = [str rangeOfString:searchText options:NSCaseInsensitiveSearch];\n            if (rangename.location == !NSNotFound) { \n                //  filterarray=[[NSMutableArray alloc]init];\n                [filterarray addObject:str]; \n            }\n        }\n    }\n    [self.tableView reloadData];  \n}\n\n - (void)didReceiveMemoryWarning {\n     [super didReceiveMemoryWarning];\n }\n\n#pragma mark - Table view data source\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    return 1   \n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    if (isfilert) {\n        return [filterarray count]; \n    } \n    else {\n        return [devices count]; \n    }\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@\"Cell\" forIndexPath:indexPath];\n    UILabel *lab1 = (UILabel *)[cell viewWithTag:100];\n\n    UIButton *button = (UIButton *)[cell viewWithTag:90];\n    if (isfilert) {\n        lab1.text = filterarray[indexPath.row];\n    } \n    else {\n        lab1.text = devices[indexPath.row];\n    }\n\n    if([[_cellDataArray objectAtIndex:indexPath.row] isEqualToString:@\"Uncheck\"]) {\n        [button setImage:[UIImage imageNamed:@\"checked-symbol1.png\"] forState:UIControlStateNormal];\n    } \n    else {\n        [button setImage:[UIImage imageNamed:@\"redcircle.png\"] forState:UIControlStateNormal];\n    }\n    [button addTarget:self action:@selector(buttonClicked:) forControlEvents:UIControlEventTouchUpInside];\n    return cell;\n}\n\n-(void)buttonClicked:(id)sender {\n    CGPoint touchPoint = [sender convertPoint:CGPointZero toView:self.tableView];\n    NSIndexPath *indexPath = [self.tableView indexPathForRowAtPoint:touchPoint];\n\n    UIButton *button = (UIButton *)sender;\n\n    if([[_cellDataArray objectAtIndex:indexPath.row] isEqualToString:@\"Uncheck\"]) {\n        [button setImage:[UIImage imageNamed:@\"redcircle.png\"] forState:UIControlStateNormal];\n        [_cellDataArray replaceObjectAtIndex:indexPath.row withObject:@\"Check\"];\n        [_array2 addObject:[devices objectAtIndex:indexPath.row]];\n    }\n    else {\n        [button setImage:[UIImage imageNamed:@\"checked-symbol1.png\"] forState:UIControlStateNormal];\n        [_cellDataArray replaceObjectAtIndex:indexPath.row withObject:@\"Uncheck\"];\n\n        [_array2 removeObject:[devices objectAtIndex:indexPath.row]];\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8JMGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8JMGd.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1539687836, "post_id": 52833727, "comment_id": 92583952, "body": "maybe it is because yopur textFieled is child of the scroll view, maybe try to use isScrollEnabled on the scroll view. Also you can try to display the picker in  the root view insted as inputView of the textField. Info about userInteractionEnabled  <a href=\"https://stackoverflow.com/questions/10880868/on-ios-if-a-superviews-userinteractionenabled-is-no-then-all-subviews-are-dis\" title=\"on ios if a superviews userinteractionenabled is no then all subviews are dis\">stackoverflow.com/questions/10880868/&hellip;</a>"}, {"owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "edited": false, "score": 0, "creation_date": 1539937533, "post_id": 52833727, "comment_id": 92689828, "body": "did you fix the problem??"}], "answers": [{"tags": [], "owner": {"reputation": 1976, "user_id": 1856499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a3a2b895dab35b2c132bc98133991?s=128&d=identicon&r=PG", "display_name": "m1sh0", "link": "https://stackoverflow.com/users/1856499/m1sh0"}, "is_accepted": true, "score": 1, "last_activity_date": 1539688651, "creation_date": 1539688651, "answer_id": 52834241, "question_id": 52833727, "link": "https://stackoverflow.com/questions/52833727/pickerview-hidden-when-scrollview-userinteraction-disabled/52834241#52834241", "title": "pickerview hidden when scrollview userInteraction Disabled", "body": "<p>The problem here is that userInteractionEnabled is inhereted from the scrollView to the textField. And as it is explained <a href=\"https://stackoverflow.com/questions/21584481/why-uitextfield-becomefirstresponder-returns-no\">here</a></p>\n\n<p>A UITextField will also refuse to become first responder if its userInteractionEnabled property is NO as I just discovered. I had to explicitly re-enable user interaction on the text field before it would accept first responder status.</p>\n\n<p>And it can not show the inputView of the textField.</p>\n\n<p>You shou ensure that your textField userInteracationEnables is true or to move the pickerView outside of the textField.inputView.</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 2695502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/239PQ.jpg?s=128&g=1", "display_name": "Mayur Shrivas", "link": "https://stackoverflow.com/users/2695502/mayur-shrivas"}, "is_accepted": false, "score": 0, "last_activity_date": 1539703701, "last_edit_date": 1539703701, "creation_date": 1539699946, "answer_id": 52837757, "question_id": 52833727, "link": "https://stackoverflow.com/questions/52833727/pickerview-hidden-when-scrollview-userinteraction-disabled/52837757#52837757", "title": "pickerview hidden when scrollview userInteraction Disabled", "body": "<p>You can use <a href=\"https://github.com/hackiftekhar/IQDropDownTextField\" rel=\"nofollow noreferrer\">this cool</a> customizable control for having picker as an inputView on textfield.</p>\n\n<p>Or <a href=\"https://github.com/hackiftekhar/IQactionsheetpickerview\" rel=\"nofollow noreferrer\">this one</a> if you want to disable the interaction to background view while picker is open.</p>\n"}], "owner": {"reputation": 3866, "user_id": 865332, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/70fcdf45d7c5894af1a7836483da3b20?s=128&d=identicon&r=PG", "display_name": "iPhone", "link": "https://stackoverflow.com/users/865332/iphone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 52834241, "answer_count": 2, "score": 0, "last_activity_date": 1539703701, "creation_date": 1539686944, "question_id": 52833727, "link": "https://stackoverflow.com/questions/52833727/pickerview-hidden-when-scrollview-userinteraction-disabled", "title": "pickerview hidden when scrollview userInteraction Disabled", "body": "<p>My functionality is to open picker on click of textField. My textfield is inside scrollview is shown in below image. </p>\n\n<p><a href=\"https://i.stack.imgur.com/nsCZV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nsCZV.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to disable userinteraction of scrollview when picker opens. Following is my code.</p>\n\n<pre><code>- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField\n{\n\n    [self.picker removeFromSuperview];\n    [self.toolBar removeFromSuperview];\n    textField.inputView = self.picker;\n    textField.inputAccessoryView = self.toolBar;\n    self.scrollview.userInterationEnabled = NO;\n    return YES;\n}\n</code></pre>\n\n<p>When I comment the userInteractionEnabled code. Picker is opening perfectly. But when I uncomment code picker is not opened.</p>\n\n<p>Also I gave some delay for this code. so after dalay my picker is hidden again.</p>\n"}, {"tags": ["ios", "objective-c", "cocoa"], "answers": [{"tags": [], "owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "is_accepted": false, "score": -1, "last_activity_date": 1539678007, "creation_date": 1539678007, "answer_id": 52830956, "question_id": 52830851, "link": "https://stackoverflow.com/questions/52830851/import-vs-import-in-ios-project-what-is-their-difference/52830956#52830956", "title": "import &lt;&gt; vs import &quot;&quot; in iOS project.what is their difference", "body": "<p>You should generally not use <code>#import &lt;foo&gt;</code> and for pods you can use <code>@import Pod;</code>.</p>\n\n<p>I collected the most current way of importing things in a mixed project here: <a href=\"https://stackoverflow.com/questions/49253937/current-way-of-importing-in-a-mixed-objective-c-swift-project\">Current way of importing in a mixed Objective-C / Swift project</a></p>\n"}], "owner": {"reputation": 60, "user_id": 6653599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/006b0.jpg?s=128&g=1", "display_name": "showlog", "link": "https://stackoverflow.com/users/6653599/showlog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "closed_date": 1539678007, "answer_count": 1, "score": 0, "last_activity_date": 1539678188, "creation_date": 1539677642, "last_edit_date": 1539678188, "question_id": 52830851, "link": "https://stackoverflow.com/questions/52830851/import-vs-import-in-ios-project-what-is-their-difference", "closed_reason": "Duplicate", "title": "import &lt;&gt; vs import &quot;&quot; in iOS project.what is their difference", "body": "<p>I saw some <code>import &lt;...&gt;</code> code in our project, which pod is imported by cocoapods, when <code>&lt;...&gt;</code> is a system path to search, usually used as <code>import &lt;UIKit.h&gt;</code>. Why the third lib from pod still could use <code>import &lt;...&gt;</code> rather than <code>import \"\"</code>?.</p>\n"}, {"tags": ["objective-c", "swift", "protocols", "optional"], "comments": [{"owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "edited": false, "score": 2, "creation_date": 1539677486, "post_id": 52830395, "comment_id": 92578020, "body": "Can you show your protocol?"}, {"owner": {"reputation": 907, "user_id": 318136, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/951am.jpg?s=128&g=1", "display_name": "MarkAurelius", "link": "https://stackoverflow.com/users/318136/markaurelius"}, "reply_to_user": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "edited": false, "score": 0, "creation_date": 1539694783, "post_id": 52830395, "comment_id": 92588137, "body": "OK, I have added it to the initial post for you, some lovely Objective-C"}], "owner": {"reputation": 907, "user_id": 318136, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/951am.jpg?s=128&g=1", "display_name": "MarkAurelius", "link": "https://stackoverflow.com/users/318136/markaurelius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539694747, "creation_date": 1539676034, "last_edit_date": 1539694747, "question_id": 52830395, "link": "https://stackoverflow.com/questions/52830395/changing-from-subclass-to-base-class-invalidates-protocol-implementation", "title": "Changing from subclass to base class invalidates protocol implementation?", "body": "<p>I want to write some reuable code that implements a protocol. It all went fine when it was added in an extension to ViewController, my own subclass of UIViewController, but when I changed the extension to UIViewController, I get the error message: \nInstance method 'adViewDidReceiveAd' nearly matches optional requirement 'adViewDidReceiveAd' of protocol 'GADBannerViewDelegate'</p>\n\n<p>against both the methods implemented (with the correct function name), and the code stops getting run.</p>\n\n<p>There was something like this back in XCode 8 (<a href=\"https://stackoverflow.com/questions/39495773/xcode-8-warning-instance-method-nearly-matches-optional-requirement\">Xcode 8 Warning &quot;Instance method nearly matches optional requirement&quot;</a> ) but they were saying it had been fixed. I am using version 10.0 (10A255).</p>\n\n<p>Here is the code that gives that error message:\nextension UIViewController: GADBannerViewDelegate {  </p>\n\n<p>// From GADBannerViewDelegate (fully optional protocol)  </p>\n\n<pre><code>@objc func adViewDidReceiveAd(_ bannerView: GADBannerView)  \n{  \n    bannerView.isHidden = false  \n}  \n\n@objc func adView(_ bannerView: GADBannerView, didFailToReceiveAdWithError error: GADRequestError)  \n{  \n    bannerView.isHidden = true  \n    print(\"AdMob error:\", error.localizedDescription)  \n}  \n</code></pre>\n\n<p>Simply changing UIViewController to ViewController makes it work.</p>\n\n<p>I can't think of any reason that this shouldn't work as is. Can anyone give some certainty on what is up here?</p>\n\n<p>It may be relevant that the protocol used here is defined in Objective-C, and the methods are optional. I have added @objc as an attempt to get it to work, but that made no difference.</p>\n\n<p>The protocol declaration is this:</p>\n\n<pre><code>//\n//  GADBannerViewDelegate.h\n//  Google Mobile Ads SDK\n//\n//  Copyright 2011 Google Inc. All rights reserved.\n//\n\n#import &lt;Foundation/Foundation.h&gt;\n\n#import &lt;GoogleMobileAds/GADRequestError.h&gt;\n#import &lt;GoogleMobileAds/GoogleMobileAdsDefines.h&gt;\n\n@class GADBannerView;\n\nGAD_ASSUME_NONNULL_BEGIN\n\n/// Delegate methods for receiving GADBannerView state change messages such as ad request status\n/// and ad click lifecycle.\n@protocol GADBannerViewDelegate&lt;NSObject&gt;\n\n@optional\n\n#pragma mark Ad Request Lifecycle Notifications\n\n/// Tells the delegate that an ad request successfully received an ad. The delegate may want to add\n/// the banner view to the view hierarchy if it hasn't been added yet.\n- (void)adViewDidReceiveAd:(GADBannerView *)bannerView;\n\n/// Tells the delegate that an ad request failed. The failure is normally due to network\n/// connectivity or ad availablility (i.e., no fill).\n- (void)adView:(GADBannerView *)bannerView didFailToReceiveAdWithError:(GADRequestError *)error;\n\n#pragma mark Click-Time Lifecycle Notifications\n\n/// Tells the delegate that a full screen view will be presented in response to the user clicking on\n/// an ad. The delegate may want to pause animations and time sensitive interactions.\n- (void)adViewWillPresentScreen:(GADBannerView *)bannerView;\n\n/// Tells the delegate that the full screen view will be dismissed.\n- (void)adViewWillDismissScreen:(GADBannerView *)bannerView;\n\n/// Tells the delegate that the full screen view has been dismissed. The delegate should restart\n/// anything paused while handling adViewWillPresentScreen:.\n- (void)adViewDidDismissScreen:(GADBannerView *)bannerView;\n\n/// Tells the delegate that the user click will open another app, backgrounding the current\n/// application. The standard UIApplicationDelegate methods, like applicationDidEnterBackground:,\n/// are called immediately before this method is called.\n- (void)adViewWillLeaveApplication:(GADBannerView *)bannerView;\n\n@end\n\nGAD_ASSUME_NONNULL_END\n</code></pre>\n\n<p>TIA\nMark</p>\n"}, {"tags": ["ios", "objective-c", "exif", "phphotolibrary"], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "edited": false, "score": 0, "creation_date": 1539865938, "post_id": 52874072, "comment_id": 92661586, "body": "look at this line UIImage * image1 = [[UIImage alloc] initWithData:resultData]; I already did it by saving new image. but don&#39; t working. if you have working code share"}, {"owner": {"reputation": 556, "user_id": 4333984, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0610f196c65371d3b2a497f11027ed16?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavesh Patel", "link": "https://stackoverflow.com/users/4333984/bhavesh-patel"}, "reply_to_user": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "edited": false, "score": 1, "creation_date": 1539866530, "post_id": 52874072, "comment_id": 92661960, "body": "please use [PHAssetChangeRequest creationRequestForAssetFromImageAtFileURL:tmpURL]; insteade of [PHAssetChangeRequest creationRequestForAssetFromImage:image1];"}], "tags": [], "owner": {"reputation": 556, "user_id": 4333984, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0610f196c65371d3b2a497f11027ed16?s=128&d=identicon&r=PG&f=1", "display_name": "Bhavesh Patel", "link": "https://stackoverflow.com/users/4333984/bhavesh-patel"}, "is_accepted": true, "score": 2, "last_activity_date": 1539865812, "creation_date": 1539865812, "answer_id": 52874072, "question_id": 52829836, "link": "https://stackoverflow.com/questions/52829836/exif-data-not-saving-with-image/52874072#52874072", "title": "EXIF Data not saving with image?", "body": "<p>To Save the detail with Photo using Photos framework, You have to write the image to a temporary file and add the metadata to the temporary file using CGImageDestinationAddImage.</p>\n\n<p>Then you can read the data from the temporary file and save it to the Photos library by using <strong>[PHAssetChangeRequest creationRequestForAssetFromImageAtFileURL]</strong>.</p>\n"}], "owner": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 2, "accepted_answer_id": 52874072, "answer_count": 1, "score": 0, "last_activity_date": 1539865812, "creation_date": 1539673977, "question_id": 52829836, "link": "https://stackoverflow.com/questions/52829836/exif-data-not-saving-with-image", "title": "EXIF Data not saving with image?", "body": "<p>I want save some string with image in particular album. \nso I used <code>[[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{</code>\nto add assets.</p>\n\n<p>but when I get photos from album it doesn't have exif data.</p>\n\n<p>my code for save EXIF data is here . Any answer please.</p>\n\n<pre><code>- (void)addImageToCameraRoll:(UIImage *)image didfinish:(NSString *)albumName {\n\n    void (^saveBlock)(PHAssetCollection *assetCollection) = ^void(PHAssetCollection *assetCollection) {\n\n        NSData* jpeg = UIImageJPEGRepresentation(image, 1.0f);\n\n        CGImageSourceRef source = CGImageSourceCreateWithData((__bridge CFDataRef) jpeg, NULL);\n        CFStringRef imageType = CGImageSourceGetType(source);\n        NSDictionary *metadata = (NSDictionary *) CFBridgingRelease(CGImageSourceCopyPropertiesAtIndex(source, 0, NULL));\n        NSMutableDictionary *metadataAsMutable = [metadata mutableCopy];\n\n        NSMutableDictionary *EXIFDictionary = [[metadataAsMutable objectForKey:(NSString *)kCGImagePropertyExifDictionary]mutableCopy];\n        NSMutableDictionary *GPSDictionary = [[metadataAsMutable objectForKey:(NSString *)kCGImagePropertyGPSDictionary]mutableCopy];\n\n        if(!EXIFDictionary){\n            //if the image does not have an EXIF dictionary (not all images do), then create one for us to use\n            EXIFDictionary = [NSMutableDictionary dictionary];\n        }\n\n        if(!GPSDictionary){\n            GPSDictionary = [NSMutableDictionary dictionary];\n        }\n\n        [GPSDictionary setValue:[NSNumber numberWithFloat:1.1] forKey:(NSString*)kCGImagePropertyGPSLatitude];\n        [GPSDictionary setValue:[NSNumber numberWithFloat:2.2] forKey:(NSString*)kCGImagePropertyGPSLongitude];\n        [EXIFDictionary setValue:@\"my string to exif\" forKey:(NSString *)kCGImagePropertyExifUserComment];\n        [metadataAsMutable setObject:EXIFDictionary forKey:(NSString *)kCGImagePropertyExifDictionary];\n        [metadataAsMutable setObject:GPSDictionary forKey:(NSString *)kCGImagePropertyGPSDictionary];\n\n        NSMutableData *resultData = [NSMutableData data];\n        CGImageDestinationRef imgDest = CGImageDestinationCreateWithData((__bridge CFMutableDataRef)(resultData), imageType, 1, NULL);\n\n        //copy image data\n        CGImageDestinationAddImageFromSource(imgDest, source, 0, (CFDictionaryRef) metadataAsMutable);\n        BOOL success = CGImageDestinationFinalize(imgDest);\n        UIImage * image1 = [[UIImage alloc] initWithData:resultData];\n\n\n\n        //Add assets\n        [[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{\n                        PHAssetChangeRequest *assetChangeRequest = [PHAssetChangeRequest creationRequestForAssetFromImage:image1];\n\n\n\n                        PHObjectPlaceholder *assetPlaceholder = assetChangeRequest.placeholderForCreatedAsset;\n                        PHAssetCollectionChangeRequest *albumChangeRequest =\n                        [PHAssetCollectionChangeRequest changeRequestForAssetCollection:assetCollection];\n                        [albumChangeRequest addAssets:@[ assetPlaceholder ]];\n\n        }\n\n                completionHandler:^(BOOL success, NSError *error) {\n                         if (!success) {\n                                NSLog(@\"Error creating asset: %@\", error);\n                         }else{\n\n                         }\n                }];\n    };\n\n\n    PHFetchOptions *fetchOptions = [[PHFetchOptions alloc] init];\n    fetchOptions.predicate = [NSPredicate predicateWithFormat:@\"localizedTitle = %@\", albumName];\n\n    PHFetchResult *fetchResult = [PHAssetCollection fetchAssetCollectionsWithType:PHAssetCollectionTypeAlbum subtype:PHAssetCollectionSubtypeAny options:fetchOptions];\n\n    if (fetchResult.count &gt; 0) {\n        saveBlock(fetchResult.firstObject);\n    }\n    else {\n        __block PHObjectPlaceholder *albumPlaceholder;\n        [[PHPhotoLibrary sharedPhotoLibrary] performChanges:^{\n            PHAssetCollectionChangeRequest *changeRequest = [PHAssetCollectionChangeRequest creationRequestForAssetCollectionWithTitle:albumName];\n            albumPlaceholder = changeRequest.placeholderForCreatedAssetCollection;\n\n        } completionHandler:^(BOOL success, NSError *error) {\n            if (success) {\n                PHFetchResult *fetchResult = [PHAssetCollection fetchAssetCollectionsWithLocalIdentifiers:@[albumPlaceholder.localIdentifier] options:nil];\n                if (fetchResult.count &gt; 0) {\n                    saveBlock(fetchResult.firstObject);\n                }\n            } else {\n                NSLog(@\"Error creating album: %@\", error);\n            }\n        }];\n    }\n}\n</code></pre>\n\n<p>I am using PHImageManager for getting images.</p>\n"}, {"tags": ["objective-c", "xcode", "lint", "clang-format"], "answers": [{"comments": [{"owner": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "edited": false, "score": 0, "creation_date": 1539707282, "post_id": 52831331, "comment_id": 92595991, "body": "Thanks for the suggestion. I&#39;ve updated my clang-format file accordingly, but I&#39;m still not seeing the expected results. Does clang-format not work with Objective-C methods?"}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "reply_to_user": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "edited": false, "score": 0, "creation_date": 1539762766, "post_id": 52831331, "comment_id": 92615300, "body": "I actually don&#39;t use this format. I just tried it out and I can&#39;t make it format that way myself either."}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "reply_to_user": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "edited": false, "score": 0, "creation_date": 1539762804, "post_id": 52831331, "comment_id": 92615318, "body": "I looked through the clang source and it should be supported, there is even a testcase for it: <code>&#47;&#47; BraceWrapping AfterFunction is respected for ObjC methods </code> <code>Style = getGoogleStyle(FormatStyle::LK_ObjC);</code> <code>Style.BreakBeforeBraces = FormatStyle::BS_Custom;</code> <code>Style.BraceWrapping.AfterFunction = true;</code> <code>verifyFormat(&quot;@implementation Foo\\n&quot;</code> <code>&quot;- (void)foo:(id)bar\\n&quot;</code> <code>&quot;{\\n&quot;</code> <code>&quot;}\\n&quot;</code> <code>&quot;@end\\n&quot;);</code>"}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "reply_to_user": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "edited": false, "score": 0, "creation_date": 1539762912, "post_id": 52831331, "comment_id": 92615386, "body": "I don&#39;t have time to build and test llvm and clang right now."}, {"owner": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "edited": false, "score": 0, "creation_date": 1539809590, "post_id": 52831331, "comment_id": 92641231, "body": "No worries, thanks for the response. I talked with a colleague and determined it may be a bug in the version of clang-format that I&#39;m using."}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "reply_to_user": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "edited": false, "score": 1, "creation_date": 1539850118, "post_id": 52831331, "comment_id": 92652769, "body": "I looked at the documentation and source for this and I think there may be more than a couple of bugs in there. Unfortunately clang-format is very complicated to build and even filing a bug is a very cumbersome process."}], "tags": [], "owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "is_accepted": false, "score": 1, "last_activity_date": 1539762743, "last_edit_date": 1539762743, "creation_date": 1539679303, "answer_id": 52831331, "question_id": 52827836, "link": "https://stackoverflow.com/questions/52827836/objective-c-clang-format-method-brace-break/52831331#52831331", "title": "Objective-C Clang-Format Method Brace Break", "body": "<p>For any fine-tuning of your <code>clang-format</code> you are much better off never to use <code>BasedOnStyle</code> because that for me just creates random and hard to debug results.</p>\n\n<p>Easiest way to do this would be probably to set: <code>BreakBeforeBraces: Custom</code> and then set everything up the way you want it in as it says in <a href=\"https://clang.llvm.org/docs/ClangFormatStyleOptions.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<pre><code>BraceWrapping:   \n  AfterClass:      false\n  AfterControlStatement: false\n  AfterEnum:       false\n  AfterFunction:   true\n  AfterNamespace:  false\n  AfterObjCDeclaration: false\n  AfterStruct:     false\n  AfterUnion:      false\n  BeforeCatch:     false\n  BeforeElse:      false\n  IndentBraces:    false\n</code></pre>\n"}], "owner": {"reputation": 2899, "user_id": 2344897, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b0f663f5bd64a68811845bba12af9834?s=128&d=identicon&r=PG", "display_name": "Cody Winton", "link": "https://stackoverflow.com/users/2344897/cody-winton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1539762743, "creation_date": 1539662954, "last_edit_date": 1539665645, "question_id": 52827836, "link": "https://stackoverflow.com/questions/52827836/objective-c-clang-format-method-brace-break", "title": "Objective-C Clang-Format Method Brace Break", "body": "<p>I'm working with clang-format for my Objective-C project, but I'm having difficulty setting it up properly.</p>\n\n<p>Here's my desired result:</p>\n\n<pre><code>- (NSString *)someMethod\n{\n  return @\"My String\";\n}\n</code></pre>\n\n<p>Here's the actual result after formatting:</p>\n\n<pre><code>- (NSString *)someMethod {\n  return @\"My String\";\n}\n</code></pre>\n\n<p>Here's my <code>.clang-format</code> file:</p>\n\n<pre><code>BasedOnStyle: WebKit\nAlignTrailingComments: true\nColumnLimit: 120\nIndentWidth: 2\nKeepEmptyLinesAtTheStartOfBlocks: false\nObjCSpaceAfterProperty: true\nObjCSpaceBeforeProtocolList: true\nPointerBindsToType: false\nSpacesBeforeTrailingComments: 1\nTabWidth: 2\nUseTab: Never\nBreakBeforeBraces: Custom\nBraceWrapping:\n  AfterClass: true\n  AfterControlStatement: false\n  AfterEnum: true\n  AfterExternBlock: true\n  AfterFunction: true\n  AfterNamespace: true\n  AfterObjCDeclaration: true\n  AfterStruct: true\n  AfterUnion: true\n  BeforeCatch: false\n  BeforeElse: false\n  IndentBraces: false\n  SplitEmptyFunction: true\n  SplitEmptyRecord: true\n  SplitEmptyNamespace: true\n</code></pre>\n\n<p>What setting do I need to change to get the formatter to put a line break before the opening brace of an Objective-C method?</p>\n"}, {"tags": ["objective-c", "cocoa", "modal-dialog"], "comments": [{"owner": {"reputation": 5473, "user_id": 145108, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e51b1c30950f0ced78e53852657244a0?s=128&d=identicon&r=PG", "display_name": "Dad", "link": "https://stackoverflow.com/users/145108/dad"}, "edited": false, "score": 0, "creation_date": 1541272492, "post_id": 52827579, "comment_id": 93162537, "body": "I&#39;m wondering if you async code <code>UpdateTrackProgressAsync()</code> is updating things after the status window is gone?    Seems likely that <code>m</code> is nil when calling runModalSession so I&#39;d put in a test for ` m != nil ` before calling it and then figure out why your modal session is becoming nil.  (you can use a watchpoint to watch it&#39;s value and drop into the debugger when it changes value perhaps)."}], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 1001801, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/iR3ZA.jpg?s=128&g=1", "display_name": "Keith Knauber", "link": "https://stackoverflow.com/users/1001801/keith-knauber"}, "is_accepted": true, "score": 0, "last_activity_date": 1539812845, "creation_date": 1539812845, "answer_id": 52864095, "question_id": 52827579, "link": "https://stackoverflow.com/questions/52827579/nsapplication-runmodalsession-crash/52864095#52864095", "title": "NSApplication -runModalSession Crash", "body": "<p>run with zombies enabled to narrow down cause of crash.\n(Edit scheme... diagnostics... zombie objects checkbox)</p>\n\n<p>what happened to me was that endModalSession crashed when it got called recursively.\nNo idea what's causing your problem.</p>\n\n<p>Here's some (maybe unrelated) problems I encountered:</p>\n\n<ul>\n<li>ensure there's no recursion going on</li>\n<li>see endModalSession subfunction below to avoid recursive call </li>\n<li>be sure your app is the main app and your window is the key window</li>\n</ul>\n\n<p>Here's some source code FWIW</p>\n\n<pre><code>- (void)endModalSession\n{\n   if ( modalSession )\n   {\n      NSModalSession tempSession = modalSession;\n      modalSession = NULL;\n      [NSApp endModalSession:tempSession];\n   }\n   appInactiveWait = NO;\n}\n\n- (BOOL) waiting { return (modalSession || appInactiveWait); }\n\n- (void)foo\n{\n   while ( !done )\n   {\n      // Only start a modal session when app is active.\n      // Otherwise you get spurious Dock bouncing when you switch between Finder and this app.\n      // Particulary, Remote afp mounts send spurious FSEventStream events every 30 seconds.\n      if ( [NSApp isActive] &amp;&amp; !startedModal )\n      {\n         if ( [NSApp keyWindow] == remoteFileManagerWindow || [NSApp keyWindow] == [NSApp mbWindow] )\n         {\n            startedModal = YES;\n            //DLog( @\"startingModal (RemoteFileManager) cookie %d\", task.readWriteCookie );\n            modalSession = [NSApp beginModalSessionForWindow:remoteFileManagerWindow];\n            appInactiveWait = NO;\n            //DLog( @\"startedModal (RemoteFileManager) cookie %d\", task.readWriteCookie );\n         }\n         else\n         {\n            DLog( @\"deferring modal (RemoteFileManager) to keyWindow %@\", [NSApp keyWindow] );\n         }\n      }\n\n      if ( ![self waiting] )\n         break;\n\n      if (blah blah blah )\n         done = true;\n\n      if ( [self waiting] )\n      {             \n         if ( modalSession )\n         {\n            if ([NSApp runModalSession:modalSession] != NSModalResponseContinue)\n               break;\n         }\n         else\n         {\n            [[NSRunLoop currentRunLoop] runUntilDate:[NSDate dateWithTimeIntervalSinceNow:0.1]];\n         }\n      }\n\n      [self processDelayedQueue];\n   }\n   [self setCurrentTask:nil];\n\n   [self endModalSession];\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 8999673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/debc6c1d2b5949739bd82a8b2dc6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "JDBones", "link": "https://stackoverflow.com/users/8999673/jdbones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 52864095, "answer_count": 1, "score": 0, "last_activity_date": 1539812845, "creation_date": 1539660528, "question_id": 52827579, "link": "https://stackoverflow.com/questions/52827579/nsapplication-runmodalsession-crash", "title": "NSApplication -runModalSession Crash", "body": "<p>I am trying to process files loaded by the user via NSOpenPanel and then start a modal session in order to display the progress on my custom window class. At the first few dozen tries, it was running well until I've started running into random crashes. All objects I've allocated were released after each iteration, so I'm a bit stumped on how to proceed from here. Here's a code snippet for posterity:</p>\n\n<pre><code>NSModalSession m = [[NSApplication sharedApplication] beginModalSessionForWindow:progWindow];\n\nwhile(index &lt; [validImageURLS count])\n{\n    // Check if user presses the stop track button in pop up window\n    if([[NSApplication sharedApplication] runModalSession:m] != NSModalResponseContinue)\n    {\n        stopProcessing = YES;\n        break;\n    }\n\n    NSURL* current = [validImageURLS objectAtIndex:index];\n    CGImageSourceRef imgSrc = CGImageSourceCreateWithURL((__bridge CFURLRef)current, NULL);\n    CGImageRef image = CGImageSourceCreateImageAtIndex(imgSrc, 0, NULL);\n    size_t img_width = CGImageGetWidth(image);\n    size_t img_height = CGImageGetHeight(image);\n    size_t new_size = 0.0;\n\n    if(img_width &gt; img_height)\n    {\n        new_size = img_width;\n    }\n    else\n    {\n        new_size = img_height;\n    }\n\n    float aspectRatio = img_width / (float)img_height;\n\n    if(img_width &gt;= img_height)\n    {\n        img_width  = (int)(round(log2((int)img_width)));\n        img_width  = (int)(pow(2.0, img_width));\n\n        if(img_width &gt; 256)\n        {\n            img_width  = 256;\n        }\n\n        img_height = (int)(img_width / aspectRatio);\n    }\n    else\n    {\n        img_height = (int)(round(log2((int)img_height)));\n        img_height = (int)(pow(2.0, img_height));\n\n        if(img_height &gt; 256)\n        {\n            img_height = 256;\n        }\n\n        img_width  = (int)(img_height * aspectRatio);\n    }\n\n    new_size = (int)(round(log2((int)new_size)) + 1);\n    new_size = (int)(pow(2.0, new_size));\n\n    GLubyte* imgDataBuffer = new GLubyte[img_width * img_height * ATLAS_NUM_CHANNELS];\n    memset(imgDataBuffer, 0, img_width * img_height * ATLAS_NUM_CHANNELS);\n\n    CGColorSpaceRef tmpColorSpace = CGColorSpaceCreateDeviceRGB();\n    CGContextRef imgContext = CGBitmapContextCreate(imgDataBuffer,\n                                                    img_width,\n                                                    img_height,\n                                                    8,\n                                                    img_width * 4,\n                                                    tmpColorSpace,\n                                                    kCGBitmapByteOrder32Host | kCGImageAlphaPremultipliedFirst);\n\n    // Initialize bitmap context attributes\n    CGContextSetBlendMode(imgContext, kCGBlendModeNormal);\n    CGContextSetInterpolationQuality(imgContext, kCGInterpolationHigh);\n\n    CGRect _c = CGRectMake(0.0, 0.0, img_width, img_height);\n\n    CGContextDrawImage(imgContext, _c, image);\n\n    //flip back\n    CGImageRef drawnImg = CGBitmapContextCreateImage(imgContext);\n\n    NSString* c_p = [current path];\n    std::string www = std::string([c_p UTF8String]);\n\n    NSString* c_img_name = [current lastPathComponent];\n    std::string zzz = std::string([c_img_name UTF8String]);\n\n    // Creating new input content to be put into to the input list\n    // for BinPack2D to process later\n    SquareContent mycontent(www);\n    mycontent.img = drawnImg;\n\n    inputContent += BinPack2D::Content&lt;SquareContent&gt;(mycontent,\n                                                      BinPack2D::Coord(),\n                                                      BinPack2D::Size((int)img_width, (int)img_height),\n                                                      false);\n\n    CGContextRelease(imgContext);\n    CGColorSpaceRelease(tmpColorSpace);\n    CGImageRelease(image);\n    CFRelease(imgSrc);\n    delete [] imgDataBuffer;\n\n\n    // Update progress bar view in our pop up window\n    [self UpdateTrackProgressAsync:@[[NSNumber numberWithDouble:index],\n                                     [NSNumber numberWithDouble:(int)[validImageURLS count]]]];\n\n    index++;\n}\n\n[[NSApplication sharedApplication] endModalSession:m];\n</code></pre>\n\n<p>Below is a screenshot of the said error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rXdoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXdoA.png\" alt=\"enter image description here\"></a></p>\n\n<p>I simply followed the structure that was presented in Apple's documentation: <a href=\"https://developer.apple.com/documentation/appkit/nsapplication/1428590-runmodalsession?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/appkit/nsapplication/1428590-runmodalsession?language=objc</a></p>\n\n<p>Reason why I need to run this via a modal session for window instead of dispatching the code in a background queue is because I'm developing this for a plugin. I want the processing to halt all other UI in the host application until the work has been finished, or the user presses a button that will trigger a stopModal call. I hope someone can point me in the right direction. Thank you and many cheers.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 7652, "user_id": 1042856, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wn9Ec.png?s=128&g=1", "display_name": "janusfidel", "link": "https://stackoverflow.com/users/1042856/janusfidel"}, "is_accepted": true, "score": 0, "last_activity_date": 1539648226, "last_edit_date": 1539648226, "creation_date": 1539647281, "answer_id": 52826146, "question_id": 52825908, "link": "https://stackoverflow.com/questions/52825908/obj-c-filter-array-to-return-dictionaries-in-which-a-key-contains-values-liste/52826146#52826146", "title": "Obj-c - Filter array to return dictionaries in which a key contains values listed in NSMutableArray?", "body": "<p>Your final predicate should look something like this:</p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"SELF.uid contains[c] %@ OR SELF.uid contains[c] %@\", @\"1\",@\"2\"];\n</code></pre>\n\n<p>If I understand the question correctly, this should work:</p>\n\n<pre><code>NSMutableArray *friendUIDs = [self.friendData valueForKey:@\"uid\"];\nNSMutableString *predicateString = [NSMutableString string];\nfor (NSInteger i = 0; i &lt; [friendUIDs count]; i++) {\n    if (i != 0) {\n        [predicateString appendString:@\" OR \"];\n    }\n    [predicateString appendFormat:@\"SELF.uid contains[c] '%1$@'\", friendUIDs[i]];\n}\n\nNSPredicate *predicate = [NSPredicate predicateWithFormat:predicateString];\nNSArray *filteredData = [allFriends filteredArrayUsingPredicate:predicate];\n</code></pre>\n"}], "owner": {"reputation": 1321, "user_id": 3030060, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vjjqk.png?s=128&g=1", "display_name": "Brittany", "link": "https://stackoverflow.com/users/3030060/brittany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 52826146, "answer_count": 1, "score": 1, "last_activity_date": 1539648226, "creation_date": 1539645163, "last_edit_date": 1539646828, "question_id": 52825908, "link": "https://stackoverflow.com/questions/52825908/obj-c-filter-array-to-return-dictionaries-in-which-a-key-contains-values-liste", "title": "Obj-c - Filter array to return dictionaries in which a key contains values listed in NSMutableArray?", "body": "<p>I have an array (allFriends) which returns a number of dictionaries (data for about 50 people). Each dictionary contains the key 'uid'. I want to filter allFriends so that <strong>all dictionaries</strong> in which uid contains the numbers 1,2,3, or 4 are returned. </p>\n\n<p>How might I accomplish this? The numbers I want to filter with are returned in an array, and are grabbed like so: </p>\n\n<pre><code>NSMutableArray *friendUIDs = [self.friendData valueForKey:@\"uid\"];\n</code></pre>\n\n<p>This returns the data as: <code>\"1, 2, 3, 4\"</code> </p>\n\n<p>No matter what I try however (thought NSPredicate would be the way to go), my code doesn't seem to want to let me filter with multiple values separated by a comma?</p>\n\n<pre><code> NSArray *filteredData = [self.allFriends filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:@\"(uid contains[c] %@)\", friendUIDs]];\n</code></pre>\n\n<p>Hope I worded this correctly.  </p>\n"}, {"tags": ["objective-c", "uiimage", "base64", "nsdata"], "answers": [{"tags": [], "owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1539640302, "creation_date": 1539640302, "answer_id": 52825236, "question_id": 52825008, "link": "https://stackoverflow.com/questions/52825008/ios-decodebase64toimage-returning-nil-on-valid-base-64-encoded-image/52825236#52825236", "title": "iOS decodeBase64ToImage returning nil on valid base 64 encoded image", "body": "<p>The base64 string is not a normal base64 encoded string. It's a special <code>data:</code> schemed URL. It begins with <code>data:image/png;base64,</code> which is then followed by the encoded data.</p>\n\n<p>You need:</p>\n\n<pre><code>- (UIImage *)decodeBase64ToImage:(NSString *)strEncodeData {\n    NSURL *url = [NSURL URLWithString: strEncodeData];\n    NSData *imageData = [NSData dataWithContentsOfURL: url];\n    UIImage *image = [UIImage imageWithData: imageData];\n\n    return image;\n}\n</code></pre>\n"}], "owner": {"reputation": 15764, "user_id": 627473, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b39a1b0893869eaa4751f77f5999d5a?s=128&d=identicon&r=PG", "display_name": "Chris Muench", "link": "https://stackoverflow.com/users/627473/chris-muench"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 52825236, "answer_count": 1, "score": 0, "last_activity_date": 1539640359, "creation_date": 1539638954, "last_edit_date": 1539640359, "question_id": 52825008, "link": "https://stackoverflow.com/questions/52825008/ios-decodebase64toimage-returning-nil-on-valid-base-64-encoded-image", "title": "iOS decodeBase64ToImage returning nil on valid base 64 encoded image", "body": "<p>I am trying to turn a base 64 canvas string into a UIImage but I always get nil.</p>\n\n<p>Here is strEncodeData as a gist</p>\n\n<p><a href=\"https://gist.github.com/blasto333/5f15ab56dee0dbf790d90e9064160ea7#file-base64-receipt-image\" rel=\"nofollow noreferrer\">https://gist.github.com/blasto333/5f15ab56dee0dbf790d90e9064160ea7#file-base64-receipt-image</a></p>\n\n<p>Code</p>\n\n<pre><code>- (UIImage *)decodeBase64ToImage:(NSString *)strEncodeData\n{\n    NSData *data = [[NSData alloc]initWithBase64EncodedString:strEncodeData options:NSDataBase64DecodingIgnoreUnknownCharacters];\n    return [UIImage imageWithData:data];\n}\n</code></pre>\n\n<p><code>data</code> is ALWAYS nil</p>\n"}, {"tags": ["objective-c", "segmentation-fault"], "comments": [{"owner": {"reputation": 2988, "user_id": 474868, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xyurG.jpg?s=128&g=1", "display_name": "onnoweb", "link": "https://stackoverflow.com/users/474868/onnoweb"}, "edited": false, "score": 0, "creation_date": 1539638322, "post_id": 52824623, "comment_id": 92566841, "body": "Shouldn&#39;t it be something like if (self = [super init]) { i = 0; } ?"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 1, "creation_date": 1539638631, "post_id": 52824623, "comment_id": 92566938, "body": "It&#39;s a little weird that <code>+alloc</code> assigns to and then returns <code>self</code>. That is initially the class object (roughly, <code>Class self</code>), so assigning an instance to it is &quot;wrong&quot;. Don&#39;t know if that matters, though."}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "reply_to_user": {"reputation": 2988, "user_id": 474868, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xyurG.jpg?s=128&g=1", "display_name": "onnoweb", "link": "https://stackoverflow.com/users/474868/onnoweb"}, "edited": false, "score": 0, "creation_date": 1539638664, "post_id": 52824623, "comment_id": 92566948, "body": "@onnoweb This is a root class. There is no superclass."}], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 8919819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88df4fd9e84b24c6b7fc2243ffadbe71?s=128&d=identicon&r=PG", "display_name": "annoying_squid", "link": "https://stackoverflow.com/users/8919819/annoying-squid"}, "edited": false, "score": 0, "creation_date": 1539694023, "post_id": 52825042, "comment_id": 92587660, "body": "Excellent !!  I just added the <code>isa</code> instance variable and I&#39;m not getting the segfault error anymore (up vote).  I&#39;m a C/C++ programmer and almost gave up on Objective-C because of this.  Glad I don&#39;t have to.  Will do some more testing and if it passes I&#39;ll mark as the answer."}], "tags": [], "owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "is_accepted": true, "score": 1, "last_activity_date": 1539639129, "creation_date": 1539639129, "answer_id": 52825042, "question_id": 52824623, "link": "https://stackoverflow.com/questions/52824623/assigning-instance-variance-in-method-leads-to-segfault/52825042#52825042", "title": "Assigning instance variance in method leads to segfault", "body": "<p>I expect that, for a root class like yours, you need to explicitly declare the <code>isa</code> instance variable. Without it, your <code>i</code> is being interpreted as though it were the <code>isa</code>, which is why you get a crash.</p>\n\n<p>So:</p>\n\n<pre><code>@interface Test\n{\n    Class isa;\n    int i;\n}\n</code></pre>\n\n<p>If you didn't intend to create a root class, you should probably inherit from <code>Object</code> or the like.</p>\n"}], "owner": {"reputation": 459, "user_id": 8919819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88df4fd9e84b24c6b7fc2243ffadbe71?s=128&d=identicon&r=PG", "display_name": "annoying_squid", "link": "https://stackoverflow.com/users/8919819/annoying-squid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52825042, "answer_count": 1, "score": 0, "last_activity_date": 1539639129, "creation_date": 1539636805, "question_id": 52824623, "link": "https://stackoverflow.com/questions/52824623/assigning-instance-variance-in-method-leads-to-segfault", "title": "Assigning instance variance in method leads to segfault", "body": "<p>Below is rather basic objective-c code.  It contains one instance variable <code>i</code>.  The problem is whenever I attempt to assign to it, it leads to segfault almost immediately following that assignment operation.  Note:  It does not segfault at the point of assignment.  Usually it segfaults after the assignment and I try to invoke a method.  ALSO, notice that this is not your standard mac/apple objective-c code.  I'm using cygwin (Linux) plain vanilla version of objective-c.  So I have to generate my own <code>alloc</code> and <code>dealloc</code> methods.</p>\n\n<pre><code>#import &lt;objc/runtime.h&gt;\n#import &lt;objc/Object.h&gt;\n\n@interface Test\n{\n    int i;\n}\n\n+(id)alloc;\n- (id) init;\n- (int) load;\n@end\n\n@implementation Test\n\n+(id)alloc\n{\n    self = class_createInstance(self,0);\n    return self;\n}\n\n-(id)init\n{\n    i = 0; // &lt;------ if I comment out this line, there is no segfault\n    return self;\n}\n\n-(int) load\n{\n    return i;\n}\n\n@end\n\n\nint main(int argc, const char * argv[])\n{\n    Test * test = [[Test alloc] init];\n    int v = [test load]; //segfaults here (NOTE: if I comment out this line, it does not segfault)\n    return 0;\n}\n</code></pre>\n\n<p>What is causing the segfault?</p>\n"}, {"tags": ["ios", "objective-c", "swift", "linkedin", "linkedin-api"], "comments": [{"owner": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 0, "creation_date": 1540365978, "post_id": 52822346, "comment_id": 92833023, "body": "I am getting same issue. Did you solve this issue ?"}, {"owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "reply_to_user": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 0, "creation_date": 1540495431, "post_id": 52822346, "comment_id": 92898255, "body": "Not fixed this no."}, {"owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "reply_to_user": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 0, "creation_date": 1540495818, "post_id": 52822346, "comment_id": 92898446, "body": "It doesn&#39;t seem to be due to which account I use. My device running 10.3.3 handles login just fine, device with 12.0.1 is causing the problems. Unfortunately I don&#39;t have any more phones to test with, and am unable to install the LinkedIn App on simulator devices. Please let me know if you find an answer!"}], "answers": [{"comments": [{"owner": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 1, "creation_date": 1540856000, "post_id": 53008508, "comment_id": 93010123, "body": "which part should I uncomment in LISDKSession.h ? Can you share more details ?"}, {"owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "reply_to_user": {"reputation": 476, "user_id": 5756697, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a145c66f08cd56be066560d2d97f66b2?s=128&d=identicon&r=PG&f=1", "display_name": "gstream79", "link": "https://stackoverflow.com/users/5756697/gstream79"}, "edited": false, "score": 0, "creation_date": 1540898253, "post_id": 53008508, "comment_id": 93024533, "body": "The 2 lines that are commented out?! - get and set access token, they were commented out in the SDK version I downloaded about a month ago. This means you can now use [LISDKSessionManager hasValidSession] to retrieve the current session rather than asking to create a new session every time. (Which doesn&#39;t fix the error, it still occurs if the session has expired and the LinkedIn app is still open, but it is an improvement in that we don&#39;t see this error as often as before uncommenting)"}], "tags": [], "owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "is_accepted": false, "score": 1, "last_activity_date": 1540556005, "creation_date": 1540556005, "answer_id": 53008508, "question_id": 52822346, "link": "https://stackoverflow.com/questions/52822346/linkedin-sdk-ios-error-if-already-logged-in-to-linkedin-app/53008508#53008508", "title": "LinkedIn sdk iOS error if already logged in to LinkedIn App", "body": "<p>Cheeky framework fix alert.</p>\n\n<p>Uncomment out the lines in LISDKSession.h\nThis allows the correct use of [LISDKSessionManager hasValidSession]</p>\n\n<p>Which is an improvement on what we were working with.\nNot yet tested with iOS12...</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "edited": false, "score": 0, "creation_date": 1547463166, "post_id": 53910266, "comment_id": 95188485, "body": "That doesn&#39;t exactly fix the issue does it? Telling your user to go away, close the LinkedIn app, come back to your app and try logging in again."}, {"owner": {"reputation": 396, "user_id": 6377252, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NG3tyU1dkLo/AAAAAAAAAAI/AAAAAAAAAEo/lOJWxT2-6FE/photo.jpg?sz=128", "display_name": "Tehdrew", "link": "https://stackoverflow.com/users/6377252/tehdrew"}, "reply_to_user": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "edited": false, "score": 0, "creation_date": 1547575628, "post_id": 53910266, "comment_id": 95235835, "body": "This has temporarily solved the problem with the fact that the user becomes clear what to do, so that he can successfully log in. Unfortunately, the iOS SDK is already considered to be deprecated since 11 December 2017, and LinkedIn suggests switching to OAuth authorization. The other day I hope to finish refactoring with OAuth and update my answer."}], "tags": [], "owner": {"reputation": 396, "user_id": 6377252, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NG3tyU1dkLo/AAAAAAAAAAI/AAAAAAAAAEo/lOJWxT2-6FE/photo.jpg?sz=128", "display_name": "Tehdrew", "link": "https://stackoverflow.com/users/6377252/tehdrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1545636043, "last_edit_date": 1545636043, "creation_date": 1545635165, "answer_id": 53910266, "question_id": 52822346, "link": "https://stackoverflow.com/questions/52822346/linkedin-sdk-ios-error-if-already-logged-in-to-linkedin-app/53910266#53910266", "title": "LinkedIn sdk iOS error if already logged in to LinkedIn App", "body": "<p>I had a similar problem. It was mainly reproduced only on iOS 12. The problem is that when you already have a LinkedIn application running, you will not be able to log in through their SDK in your application. On iOS 11, the second time you try to log in after this error, the authorization worked fine. \nI solved this issue by simply showing the user an alert with a message about what he needs to do to authorize.</p>\n\n<p><strong>Here you can check an example of my implementation in Swift 4:</strong></p>\n\n<pre><code>LISDKSessionManager.createSession(withAuth: [\"r_basicprofile\"],\n                                  state: nil, \n                                  showGoToAppStoreDialog: true,\n                                  successBlock: { _ in\n                   // Your actions in case of successful authorization\n                }, errorBlock: { error in\n\n                    guard let nsError = error as NSError? else {\n                        return\n                    }\n\n                    if #available(iOS 12.0, *),\n                        nsError.code == LISDKErrorCode.SERVER_ERROR.rawValue {\n                        // Show alert to user with text - \"Please, shut down the LinkedIn app and try login again\"\n                    } else if nsError.code != LISDKErrorCode.USER_CANCELLED.rawValue {\n                        // Handling when user tap on Cancel button in LinkedIn SDK\n                    }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1547559468, "creation_date": 1547559468, "answer_id": 54199999, "question_id": 52822346, "link": "https://stackoverflow.com/questions/52822346/linkedin-sdk-ios-error-if-already-logged-in-to-linkedin-app/54199999#54199999", "title": "LinkedIn sdk iOS error if already logged in to LinkedIn App", "body": "<p>I've been battling for a fix for this with LinkedIn for months.\nThere 'solution' is to kill off the SDK.\nTaken from their 'Important updates to the LinkedIn Developers program and APIs' email December 2018:</p>\n\n<p>\"Authentication, SDKs, and Plugins: We are also deprecating several obsolete or seldomly-used products and technologies.\"</p>\n\n<p>\"SDKs: Our JavaScript and Mobile Software Development Kits (SDKs) will stop working. Developers will need to migrate to using OAuth 2.0 directly from their apps.\" </p>\n"}, {"tags": [], "owner": {"reputation": 11593, "user_id": 8090893, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/76d11d82f4b09abd8412c30342b4e71e?s=128&d=identicon&r=PG&f=1", "display_name": "iOS", "link": "https://stackoverflow.com/users/8090893/ios"}, "is_accepted": false, "score": 0, "last_activity_date": 1550917552, "creation_date": 1550917552, "answer_id": 54840601, "question_id": 52822346, "link": "https://stackoverflow.com/questions/52822346/linkedin-sdk-ios-error-if-already-logged-in-to-linkedin-app/54840601#54840601", "title": "LinkedIn sdk iOS error if already logged in to LinkedIn App", "body": "<p>Uncomment this two lines of code in <strong>LISDKSession.h</strong> </p>\n\n<pre><code>- (LISDKAccessToken *)getAccessToken;\n\n- (void)setAccessToken:(LISDKAccessToken *)accessToken;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 585965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894e0d2a8a7f021b47c0f49ccfb915ff?s=128&d=identicon&r=PG", "display_name": "Zanna", "link": "https://stackoverflow.com/users/585965/zanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 1, "answer_count": 4, "score": 2, "last_activity_date": 1550917552, "creation_date": 1539626427, "last_edit_date": 1539682838, "question_id": 52822346, "link": "https://stackoverflow.com/questions/52822346/linkedin-sdk-ios-error-if-already-logged-in-to-linkedin-app", "title": "LinkedIn sdk iOS error if already logged in to LinkedIn App", "body": "<p>I'm using the iOS LinkedIn SDK to log into my App and retrieve basic profiles.\nAll works perfectly fine the first time I login, until either I log out, or I close my App.</p>\n\n<p>On attempting to log back into my App with LinkedIn: the usual redirect to the LinkedIn app takes place, but the permissions screen for my app doesn't pop up, it just redirects straight back to my app with the following error:</p>\n\n<p>Error Domain=LISDKAuthError Code=5 \"(null)\" UserInfo={errorDescription=The operation couldn\u2019t be completed. Software caused connection abort, originalDomain=LISDKServerError, errorInfo=PARSING_ERROR}</p>\n\n<p>I can only successfully log back in again if I first close the LinkedIn App, before reopening mine.</p>\n\n<p>Does anyone have an idea of what's going on please? </p>\n\n<p>-This doesn't occur on all of my test devices!</p>\n\n<p>-On the device that it does occur on, I also receive the same error in that scenario when running the sample App provided with the LinkedIn SDK.</p>\n\n<p>-The LinkedIn App is up to date.</p>\n\n<p>-The App id, bundle ids etc etc are all set, hence login success half of the time!</p>\n\n<p>-I've tried calling [LISDKSessionManager clearSession] in numerous locations.</p>\n"}, {"tags": ["javascript", "ios", "objective-c", "iphone", "wkwebview"], "comments": [{"owner": {"reputation": 2149, "user_id": 7292964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mcfJp.png?s=128&g=1", "display_name": "Samantha", "link": "https://stackoverflow.com/users/7292964/samantha"}, "edited": false, "score": 0, "creation_date": 1539621896, "post_id": 52817232, "comment_id": 92559516, "body": "Maybe this would help? <a href=\"https://stackoverflow.com/a/24877319/7292964\">stackoverflow.com/a/24877319/7292964</a> I don&#39;t think <code>addUserScript</code> is quite what you want for this case."}, {"owner": {"reputation": 6882, "user_id": 2677179, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AiAN8.png?s=128&g=1", "display_name": "Sport", "link": "https://stackoverflow.com/users/2677179/sport"}, "reply_to_user": {"reputation": 2149, "user_id": 7292964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mcfJp.png?s=128&g=1", "display_name": "Samantha", "link": "https://stackoverflow.com/users/7292964/samantha"}, "edited": false, "score": 0, "creation_date": 1539626780, "post_id": 52817232, "comment_id": 92561822, "body": "@Samantha I want to post message from objective c code to js code , same as back from js code to objective c code , first part is not working"}, {"owner": {"reputation": 2149, "user_id": 7292964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mcfJp.png?s=128&g=1", "display_name": "Samantha", "link": "https://stackoverflow.com/users/7292964/samantha"}, "edited": false, "score": 0, "creation_date": 1539627459, "post_id": 52817232, "comment_id": 92562113, "body": "Sorry, I just thought that <code>[webView evaluateJavaScript: completionHandler:]</code> might be a better way of executing that part, as in that question it seems you have to reload the webView for added user scripts to take effect. In general I didn&#39;t think that adding user scripts after loading had any effect, but I could be wrong."}], "owner": {"reputation": 6882, "user_id": 2677179, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/AiAN8.png?s=128&g=1", "display_name": "Sport", "link": "https://stackoverflow.com/users/2677179/sport"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1158, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1540058969, "creation_date": 1539607924, "last_edit_date": 1540058969, "question_id": 52817232, "link": "https://stackoverflow.com/questions/52817232/postmessage-is-not-working-in-wkwebviewios-objective-c", "title": "postMessage() is not working in WKWebView(iOS, objective c)", "body": "<p>I am trying using WKWebView to load my local html file and want to send postMessage to my html , but postMessage is not working, WKWebView is unable to load the html file.</p>\n\n<p>Loading WKWebView: </p>\n\n<pre><code>- (void)viewDidLoad {\n    [super viewDidLoad];\n\n\n    WKWebViewConfiguration *theConfiguration = [[WKWebViewConfiguration alloc] init];\n    WKUserContentController* userController = [[WKUserContentController alloc]init];\n   theConfiguration.userContentController = userController;\n\n\n\n\n    _twkwebview = [[WKWebView alloc] initWithFrame:self.view.frame configuration:theConfiguration];\n\n    NSString *indexHTMLPath = [[NSBundle mainBundle] pathForResource:@\"index\" ofType:@\"html\"];\n    NSURL *url = [NSURL fileURLWithPath:indexHTMLPath];\n\n    NSURLRequest *nsrequest=[NSURLRequest requestWithURL:url];\n    [theConfiguration.userContentController\n     addScriptMessageHandler:self name:@\"interOp\"];\n\n\n    [_twkwebview loadRequest:nsrequest];\n     [self setupPostMessageScript];\n    [self.test addSubview:_twkwebview];\n\n}\n</code></pre>\n\n<p>From here, I want to post the message, but it's not working. I'm not getting any errors, here is the source(html):</p>\n\n<pre><code>- (void)setupPostMessageScript {\n\n        NSString *source = @\"window.originalPostMessage = window.postMessage;\"\n        \"window.postMessage = function(message, targetOrigin, transfer) {\"\n        \"window.webkit.messageHandlers.interOp.postMessage(message);\"\n        \"if (typeof targetOrigin !== 'undefined') {\"\n        \"window.originalPostMessage(message, targetOrigin, transfer);\"\n        \"}\"\n        \"};\";\n\n\n\n    WKUserScript *script = [[WKUserScript alloc] initWithSource:source\n                                                  injectionTime:WKUserScriptInjectionTimeAtDocumentStart\n                                               forMainFrameOnly:false];\n    [_twkwebview.configuration.userContentController addUserScript:script];\n\n}\n- (void)webView:(WKWebView *)webView didFinishNavigation:(__unused WKNavigation *)navigation\n{\n\n    [self setupPostMessageScript];\n\n\n}\n</code></pre>\n\n<p>In html I have added <code>document.addEventListener</code> to get my posted message but its never getting called:</p>\n\n<pre><code> document.addEventListener('message', function(e) {\n\n        let message = JSON.parse(e.data);\n        console.log('MEssaget typ recieved '+message);\n});\n</code></pre>\n\n<p>What is the correct way to postMessage from objective C, html?</p>\n"}, {"tags": ["objective-c", "cocoa-touch", "frameworks", "protocols"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539607864, "post_id": 52812373, "comment_id": 92551616, "body": "Which Cocoa Touch framework method?"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539608287, "post_id": 52812373, "comment_id": 92551888, "body": "My own method in my own framework."}], "answers": [{"comments": [{"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539683156, "post_id": 52831021, "comment_id": 92581278, "body": "The thing is there\u2019s several properties required by a lot of small functions which get called a lot"}, {"owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "reply_to_user": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539683234, "post_id": 52831021, "comment_id": 92581333, "body": "I don&#39;t see how that really changes things unless you give me more details."}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539683388, "post_id": 52831021, "comment_id": 92581429, "body": "I\u2019m trying to pass a model of several properties into framework functions. But obviously the framework needs to know what these properties are. My app then needs to conform to this structure."}], "tags": [], "owner": {"reputation": 2384, "user_id": 102315, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c8b935f2e5d916f361ffe33fe94a3d10?s=128&d=identicon&r=PG", "display_name": "Alper", "link": "https://stackoverflow.com/users/102315/alper"}, "is_accepted": true, "score": 0, "last_activity_date": 1539678227, "creation_date": 1539678227, "answer_id": 52831021, "question_id": 52812373, "link": "https://stackoverflow.com/questions/52812373/obj-c-how-should-i-pass-several-app-delegate-properties-into-an-cocoa-touch-fra/52831021#52831021", "title": "Obj-C, how should I pass several app delegate properties into an cocoa touch framework method?", "body": "<p>Yes, don't pass the <code>AppDelegate</code> into your own custom code. That creates a coupling that is far far too tight.</p>\n\n<p>Much better to at the right point unpack the properties you need, pack those into a struct and pass that into your framework.</p>\n"}], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 52831021, "answer_count": 1, "score": 1, "last_activity_date": 1539678227, "creation_date": 1539591274, "question_id": 52812373, "link": "https://stackoverflow.com/questions/52812373/obj-c-how-should-i-pass-several-app-delegate-properties-into-an-cocoa-touch-fra", "title": "Obj-C, how should I pass several app delegate properties into an cocoa touch framework method?", "body": "<p>How should I pass several app delegate properties into a cocoa touch framework method?</p>\n\n<p>I'm thinking of using a protocol with required properties and use the type of protocol as my method argument type.</p>\n\n<p>Obviously the framework needs to know what properties exist.</p>\n\n<p>However, it doesn't feel right to pass the app delegate into a method like this.</p>\n\n<p>PS. I know a good question shouldn't include \"should\" but I think it's relevant in this case.</p>\n"}, {"tags": ["ios", "objective-c"], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 1437304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b50695f5641a8a87f05576f459d7502a?s=128&d=identicon&r=PG", "display_name": "iDesireJustice", "link": "https://stackoverflow.com/users/1437304/idesirejustice"}, "is_accepted": false, "score": 0, "last_activity_date": 1539604688, "creation_date": 1539604688, "answer_id": 52816270, "question_id": 52812104, "link": "https://stackoverflow.com/questions/52812104/uitextview-cursor-drag-long-press-magnifier-glass-doesnt-work/52816270#52816270", "title": "UITextView Cursor drag (long press magnifier glass) doesn&#39;t work", "body": "<pre><code>- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {\n\n    BOOL isAtLeastOneGestureInlineTextView = [self isInlineTextView:gestureRecognizer.view] || [self isInlineTextView:otherGestureRecognizer.view];\n    if ((gestureRecognizer == [self longPressGesture]) &amp;&amp; !isAtLeastOneGestureInlineTextView) {\n        return NO;\n    }\n\n    if (gestureRecognizer == [self panGesture]) {\n        return NO;\n    }\n\n    return YES;\n}\n\n- (BOOL)isInlineTextView:(UIView *)view {\n    return [view isKindOfClass:[SFGInlineTextView class]];\n}\n</code></pre>\n\n<p>Apparently there was this check which disabled long press. To preserve former implementation, I've checked the gestures to not be the desired <code>textView</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 1437304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b50695f5641a8a87f05576f459d7502a?s=128&d=identicon&r=PG", "display_name": "iDesireJustice", "link": "https://stackoverflow.com/users/1437304/idesirejustice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539605493, "creation_date": 1539590136, "last_edit_date": 1539605493, "question_id": 52812104, "link": "https://stackoverflow.com/questions/52812104/uitextview-cursor-drag-long-press-magnifier-glass-doesnt-work", "title": "UITextView Cursor drag (long press magnifier glass) doesn&#39;t work", "body": "<p>I'm having a UITextView, in which I can't see the long press text magnifier. Is there a way to force that magnifier to appear?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Y4Dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Y4Dw.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/i8e5Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i8e5Y.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["php", "objective-c"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1539589612, "post_id": 52811947, "comment_id": 92541744, "body": "Does your <code>.plist</code> get uploaded?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9373173"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1539589625, "post_id": 52811947, "comment_id": 92541754, "body": "No, i get that error"}], "owner": {"user_type": "does_not_exist", "display_name": "user9373173"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539589689, "creation_date": 1539589467, "last_edit_date": 1539589689, "question_id": 52811947, "link": "https://stackoverflow.com/questions/52811947/uploading-a-plist-file", "title": "Uploading a plist file", "body": "<p>I'm new to <code>Objective-C</code>. I'm trying to upload my (empty) plist to my server for a test. Here's my <code>objective-c</code> code: </p>\n\n<pre><code>-(void) writeOnce {\n\n    NSString *one = [[self applicationDocumentsDirectory].path stringByAppendingPathComponent:@\"one.plist\"];\n    NSString *two = [[self applicationDocumentsDirectory].path stringByAppendingPathComponent:@\"two.plist\"];\n\n    [@\"{}\" writeToFile:one atomically:YES encoding:NSUTF8StringEncoding error:nil];\n    [@\"{}\" writeToFile:two atomically:YES encoding:NSUTF8StringEncoding error:nil];\n\n}\n</code></pre>\n\n<p>Then on <code>viewDidLoad()</code> i call <code>[self writeOnce];</code>\nAfter that. I upload my file using this: </p>\n\n<pre><code>NSString * plistPath = [[self applicationDocumentsDirectory].path stringByAppendingPathComponent:@\"one.plist\"];\n[self uploadLog:plistPath];\n</code></pre>\n\n<p>My <code>uploadLog()</code> void: </p>\n\n<pre><code>   - (void) uploadLog :(NSString *) filePath\n{\n    NSData *data = [[NSData alloc] initWithContentsOfFile:filePath];\n    NSString *urlString =[NSString stringWithFormat:@\"server.com/upload.php\"];\n    NSError *error;\n\n    NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];\n    NSURLSession *session = [NSURLSession sessionWithConfiguration:configuration delegate:self delegateQueue:nil];\n    NSURL *url = [NSURL URLWithString:urlString];\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url\n                                                           cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60.0];\n\n    [request addValue:@\"application/json\" forHTTPHeaderField:@\"Content-Type\"];\n    [request addValue:@\"application/json\" forHTTPHeaderField:@\"Accept\"];\n\n    [request setHTTPMethod:@\"POST\"];\n\n\n//  NSData *postData = [NSJSONSerialization dataWithJSONObject:data options:0 error:&amp;error]; // error\n    NSData *postData =[NSJSONSerialization JSONObjectWithData:data options:0 error:&amp;error];\n    [request setHTTPBody:postData];\n\n\n    NSURLSessionDataTask *postDataTask = [session dataTaskWithRequest:request completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {\n        NSLog(response,error);\n    }];\n\n    [postDataTask resume];\n}\n</code></pre>\n\n<p>But. Getting this: </p>\n\n<blockquote>\n  <p>Thread 3: EXC_BAD_ACCESS (code=1, address=0x0)</p>\n</blockquote>\n\n<p><code>upload.php</code> code:</p>\n\n<pre><code>&lt;?php\n$target_path = \"./uploads/\";  \n$target_path = $target_path . basename( $_FILES['file']['name']);  \n   if(move_uploaded_file($_FILES['file']['tmp_name'], $target_path)) {  \n  echo \"The file \".  basename( $_FILES['file']['name']).\" has been    uploaded\";  \n} else {  \n    echo \"There was an error uploading the file, please try again!\";  \n} ?&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/IAt5U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAt5U.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "macos", "networking", "nsstream", "nsoutputstream"], "answers": [{"comments": [{"owner": {"reputation": 769, "user_id": 2381582, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/xQTeW.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/2381582/max"}, "edited": false, "score": 0, "creation_date": 1539696771, "post_id": 52818305, "comment_id": 92589470, "body": "Thanks for the response, i&#39;ve tried that but unfortunately it didn&#39;t work. Eventually, what we did was to dispatch async to our own queue from the delegate call and that seems to fix the deadlock issue.  At the moment i can still see that some upload requests get &#39;stuck&#39; (via Charles) and data is just not being written to the stream object. When that happens we get timeout event and drop the request.  i still fear that there is an issue with the framework."}], "tags": [], "owner": {"reputation": 399, "user_id": 8309648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723f25e8c169fc66486403ccff372879?s=128&d=identicon&r=PG", "display_name": "Konrad Piascik", "link": "https://stackoverflow.com/users/8309648/konrad-piascik"}, "is_accepted": false, "score": 1, "last_activity_date": 1539611492, "creation_date": 1539611492, "answer_id": 52818305, "question_id": 52811845, "link": "https://stackoverflow.com/questions/52811845/deadlock-with-nsoutputstream-and-urlsessionuploadtask-psynch-mutexwait/52818305#52818305", "title": "Deadlock with NSOutputStream and URLSessionUploadTask (__psynch_mutexwait)", "body": "<p>It looks like your handler is being signaled twice to write to the same stream.  Add a check that the streamStatus is NSStreamStatusWriting and return early.</p>\n"}], "owner": {"reputation": 769, "user_id": 2381582, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/xQTeW.jpg?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/2381582/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1539667278, "creation_date": 1539589108, "last_edit_date": 1539667278, "question_id": 52811845, "link": "https://stackoverflow.com/questions/52811845/deadlock-with-nsoutputstream-and-urlsessionuploadtask-psynch-mutexwait", "title": "Deadlock with NSOutputStream and URLSessionUploadTask (__psynch_mutexwait)", "body": "<p>Our OSX app is uploading multiple files to the server using </p>\n\n<pre><code>func uploadTask(withStreamedRequest request: URLRequest) -&gt; URLSessionUploadTask\n</code></pre>\n\n<p>While uploading, the upload gets stuck. Some files manage to upload successfully, sometimes more files other times less.</p>\n\n<p>Looking at the debug navigator I can see that my stream thread shows two calls (one after the other; frame 11 and frame 5) to <code>stream:handleEvent</code> delegate, that points me to the code line where i call write:maxLength on <code>NSOutputStrem</code>, following <code>__psynch_mutexwait</code> in frame 0.\nAt this point app is stuck and no network calls can finish executing. </p>\n\n<p><a href=\"https://i.stack.imgur.com/2Dh02.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Dh02.png\" alt=\"enter image description here\"></a>\n<br/>Did anyone come across this issue? \nAny help is appreciated, thanks.</p>\n"}, {"tags": ["ios", "objective-c", "apple-push-notifications"], "comments": [{"owner": {"reputation": 23360, "user_id": 1214122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKseM.jpg?s=128&g=1", "display_name": "holex", "link": "https://stackoverflow.com/users/1214122/holex"}, "edited": false, "score": 0, "creation_date": 1540470234, "post_id": 52811001, "comment_id": 92883463, "body": "useful stuff: <a href=\"https://developer.apple.com/videos/play/wwdc2017/817/\" rel=\"nofollow noreferrer\">developer.apple.com/videos/play/wwdc2017/817</a>"}], "answers": [{"tags": [], "owner": {"reputation": 915, "user_id": 5084797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izP9N.jpg?s=128&g=1", "display_name": "manishsharma93", "link": "https://stackoverflow.com/users/5084797/manishsharma93"}, "is_accepted": false, "score": 0, "last_activity_date": 1540469432, "creation_date": 1540469432, "answer_id": 52988961, "question_id": 52811001, "link": "https://stackoverflow.com/questions/52811001/apns-with-image-and-cutomised-view/52988961#52988961", "title": "APNS with image and cutomised view", "body": "<p>For getting Image with notification you can follow <a href=\"https://stackoverflow.com/a/50903844/5084797\">This for Swift</a> or <a href=\"https://stackoverflow.com/a/50523908/5084797\">This for ObjC</a> . </p>\n\n<p>For Custom UI. You need to add \"Notification Content Extension\" into your app, there you will get a Storyboard which you can customise according to your design or needs. For customisation you can use <a href=\"https://www.appcoda.com/user-notifications-ios12/\" rel=\"nofollow noreferrer\">this</a> tutorial.</p>\n"}], "owner": {"reputation": 233, "user_id": 3906408, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1440732419565117/picture?type=large", "display_name": "Ghazalah", "link": "https://stackoverflow.com/users/3906408/ghazalah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540469432, "creation_date": 1539585610, "question_id": 52811001, "link": "https://stackoverflow.com/questions/52811001/apns-with-image-and-cutomised-view", "title": "APNS with image and cutomised view", "body": "<p>I have to integrate APNS in my app. But, its data is not just textual and sent from the server. I have to interpret the data sent in the payload and display it according to the design being given to me. It includes an image too (screenshot attached). Do I have to create an APNS extention for this or it can be handled by some other means? I am using UserNotifications.h and its delegates (willPresentNotification, didReceiveNotificationResponse). It does not have any user interactions like button clicks etc, just clicking on the notification anywhere would navigate the user inside the app. Please help. </p>\n\n<p><a href=\"https://i.stack.imgur.com/dSDNE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dSDNE.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["objective-c", "uigesturerecognizer", "uipickerview"], "answers": [{"tags": [], "owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "is_accepted": false, "score": 0, "last_activity_date": 1539582092, "creation_date": 1539582092, "answer_id": 52810337, "question_id": 52809556, "link": "https://stackoverflow.com/questions/52809556/objective-c-tap-on-uidownpicker-and-get-the-value-to-uitextfield/52810337#52810337", "title": "Objective-C: Tap on UIDownPicker and get the value to UITextfield", "body": "<p>I don't know why you did not use didSelectRow for PickerView. But! I have an idea. What about this? you already use UITapGestureRecognizer for your view..so\nFirst, Make one more UITapGestureRecognizer and add on PickerView when pickerView appear.\nSecond when user touch the cell in pickerView trigger pickerView action.\nand when then remove it from super view.</p>\n\n<pre><code>  UITapGestureRecognizer *tap1;\n</code></pre>\n\n<p><strong>init</strong></p>\n\n<pre><code>self.tap1 = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(dismissPicker)];\n</code></pre>\n\n<p><strong>In method that you show pickerView..</strong></p>\n\n<pre><code>[self.pickerView setHidden:NO];         \n[self.pickerView addGestureRecognizer:tap1];\n</code></pre>\n\n<p><strong>- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component</strong></p>\n\n<pre><code>sCode = [NSString stringFormatWith:@\"%+%@\" , [codeMArray objectAtIndex:row]];\ntxtCode.text= sCode;  \n</code></pre>\n\n<p><strong>In dismissPicker</strong></p>\n\n<pre><code>self.textField.text = sCode;\n[self.pickerView resignFirstResponder];\n[self.pickerView setHidden:YES];\n[self.tap1 removeFromSuperView];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "is_accepted": false, "score": 0, "last_activity_date": 1539670059, "creation_date": 1539670059, "answer_id": 52828893, "question_id": 52809556, "link": "https://stackoverflow.com/questions/52809556/objective-c-tap-on-uidownpicker-and-get-the-value-to-uitextfield/52828893#52828893", "title": "Objective-C: Tap on UIDownPicker and get the value to UITextfield", "body": "<p>Try to display your response  in tableview cells and on click of each cell you can display the data in textfield in new view controller</p>\n\n<p>Refer the following topics:</p>\n\n<p>-UItableview\n-UItableview delegates(****)\n-custom UItableviewcell\n-different view controllers\n-navigation controllers</p>\n"}], "owner": {"reputation": 719, "user_id": 6787022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10106782317847598/picture?type=large", "display_name": "Hanz Cheah", "link": "https://stackoverflow.com/users/6787022/hanz-cheah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539670059, "creation_date": 1539575569, "question_id": 52809556, "link": "https://stackoverflow.com/questions/52809556/objective-c-tap-on-uidownpicker-and-get-the-value-to-uitextfield", "title": "Objective-C: Tap on UIDownPicker and get the value to UITextfield", "body": "<p>My code below will fetch country name and country code from server and store into <code>2 NSMutablleMArray</code>, <code>countryMArray</code> and <code>codeMArray</code>code. When user select the <code>txtCountry UITextField</code> It will call a <code>picker list</code> and when user select the country and hit Done, it will based on index and get the <code>Country Code from codeMArray</code> and put in <code>txtCode UITexField</code></p>\n\n<p>Instead of clicking done, I want user to be able to tap on country on the picker list and the value will be transffered to <code>UITextField</code></p>\n\n<p>I have tried this <a href=\"https://stackoverflow.com/questions/3517438/uipicker-detect-tap-on-currently-selected-row\">This Thread</a> but it is not working. I have run out of idea, please help.</p>\n\n<h1>RootViewController.h</h1>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import \"LoginViewController.h\"\n#import &lt;DownPicker/UIDownPicker.h&gt;\n\n@protocol LoginViewProtocol &lt;NSObject&gt;\n\n- (void)dismissAndLoginView;\n\n@end\n\n@interface RootViewController : UIViewController     &lt;UITextFieldDelegate,UITableViewDelegate&gt;\n@property (strong, nonatomic) IBOutlet UITextField *txtCountry;\n@property (weak, nonatomic) IBOutlet UIDownPicker *downCountry;\n@property (strong, nonatomic) IBOutlet UITextField *txtCode;\n@property (strong, nonatomic) IBOutlet UITextField *txtPhone;\n@property (strong, nonatomic) NSMutableArray *countryMArray;\n@property (strong, nonatomic) NSMutableArray *codeMArray;\n@property (nonatomic) DownPicker *pickerCountry;\n\n@end\n</code></pre>\n\n<h1>RootViewController.m</h1>\n\n<pre><code>#import \"RootViewController.h\"\n#import &lt;QuartzCore/QuartzCore.h&gt;\n\n@interface RootViewController (){\n    NSString *sURL,*sResponseData, *sRemaining;\n    NSString *sCode;\n\n}\n@end\n\n@implementation RootViewController\n\n@synthesize loginView;\n@synthesize txtCountry,txtCode,txtPhone;\n@synthesize countryMArray;\n@synthesize codeMArray;\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(dismissKeyboard)];\n\n    [self.view addGestureRecognizer:tap];\n\n    //=== Initiallize the Mutable Array\n    countryMArray = [[NSMutableArray alloc] init];\n    codeMArray = [[NSMutableArray alloc] init];\n\n    //=== Initialize the responseData Mutable Data\n    self.responseData = [NSMutableData data];\n\n    //=== Pass the string to server to get the return Country response.write\n    appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];\n    sURL = @\"https://www.share-fitness.com\";\n    sURL = [sURL stringByAppendingString:@\"/apps/getcountry.asp?\"];\n\n    NSURLRequest *requestCountry = [NSURLRequest requestWithURL:[NSURL URLWithString:sURL]];\n\n    (void) [[NSURLConnection alloc] initWithRequest:requestCountry delegate:self];\n\n    //=== Pass the string to server to get the return CountryCode\n    sURL = @\"https://www.share-fitness.com\";\n    sURL = [sURL stringByAppendingString:@\"/apps/getctcode.asp?\"];\n\n    NSURLRequest *requestCode = [NSURLRequest requestWithURL:[NSURL URLWithString:sURL]];\n\n    (void) [[NSURLConnection alloc] initWithRequest:requestCode delegate:self];\n\n    //=== Initialie the picker ====\n    self.pickerCountry = [[DownPicker alloc] initWithTextField:self.txtCountry withData:countryMArray];\n\n    [self.pickerCountry addTarget:self\n                       action:@selector(pickerClicked:)\n             forControlEvents:UIControlEventValueChanged];\n\n}\n\n\n\n //=== Pick the countryCode, when Country is selected based on Array Index\n -(void)pickerClicked:(id)dp {\n\n    NSString* selectedValue = [self.pickerCountry text];\n\n    for ( int i = 0 ; i &lt; countryMArray.count; i++) {\n\n        NSString*item = [countryMArray objectAtIndex:i];\n\n        if([item isEqualToString:selectedValue])\n        {\n            sCode = [codeMArray objectAtIndex:i];\n            txtCode.text = [@\"+\"stringByAppendingString:sCode];\n\n            break;\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["objective-c", "icloud-photo-library"], "comments": [{"owner": {"reputation": 9264, "user_id": 300408, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2d6e3971553ce3af2ad14e257f3b0cf3?s=128&d=identicon&r=PG", "display_name": "Albert Bori", "link": "https://stackoverflow.com/users/300408/albert-bori"}, "edited": false, "score": 0, "creation_date": 1539647896, "post_id": 52808898, "comment_id": 92569088, "body": "+1: <code>asset.requestContentEditingInput</code> also tries to fully download the assets from iCloud if <code>options.isNetworkAccessAllowed = true</code>. Would be nice to know of a way of sampling the meta-data without committing to the download."}], "owner": {"reputation": 926, "user_id": 4935001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3fc118c2357583c6d0196fa1ca081b8?s=128&d=identicon&r=PG&f=1", "display_name": "Curious101", "link": "https://stackoverflow.com/users/4935001/curious101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539569735, "creation_date": 1539569735, "question_id": 52808898, "link": "https://stackoverflow.com/questions/52808898/objective-c-fetch-metadata-for-images-and-video-in-icloud-without-downloading-th", "title": "objective c fetch metadata for Images and video in iCloud without downloading the media File", "body": "<p>I have the following code that provides me access to metadata of a Video File that maybe saved locally or in iCloud. I am not sure if this is the best way to get access to only the metadata without downloading the Video file.</p>\n\n<pre><code>PHVideoRequestOptions *options = [PHVideoRequestOptions new];\noptions.networkAccessAllowed = YES;\noptions.deliveryMode = PHVideoRequestOptionsVersionOriginal;\n\n[[PHImageManager defaultManager] requestAVAssetForVideo:currentAsset\n                                                options:options\n                                          resultHandler:^(AVAsset * _Nullable avAsset, AVAudioMix * _Nullable audioMix, NSDictionary * _Nullable info) {\n\n    // gather the metadata that interests you.    \n}];\n</code></pre>\n\n<p>This code works, but the problem is my test device has all the Photo Library backed up to iCloud and this moves along very slowly for Videos. So I suspect that this code is downloading the Video from iCloud and then I am getting access to the Metadata.</p>\n\n<p>Any advice on how to speed it along ? Thanks in advance.</p>\n"}, {"tags": ["objective-c", "xcode", "multithreading", "grand-central-dispatch", "synchronized"], "answers": [{"tags": [], "owner": {"reputation": 249319, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "is_accepted": true, "score": 3, "last_activity_date": 1539568888, "creation_date": 1539568888, "answer_id": 52808817, "question_id": 52808718, "link": "https://stackoverflow.com/questions/52808718/thread-sanitizer-issue-in-xcode-with-atomic-synchronized-properties-nslock/52808817#52808817", "title": "Thread sanitizer issue in Xcode with atomic/synchronized properties &amp; NSLock", "body": "<p>This isn't particularly meaningful:</p>\n\n<pre><code>@synchronized(self.validLock) {\n   self.validLock = @YES;\n}\n</code></pre>\n\n<p>I think you're expecting this to synchronize on \"the <code>validLock</code> property of <code>self</code>\" but that's not what the parameter means. You're synchronizing on the <code>NSNumber</code> that is currently pointed to by <code>validLock</code> (an <code>NSNumber</code> that you then replace). Since this is not the same object that you synchronize against elsewhere, this doesn't do much.</p>\n\n<p>Similarly, if this code is all in the same context (which is what your example suggests), it doesn't do anything either:</p>\n\n<pre><code>NSLock *myLock = [[NSLock alloc] init];\n...\n[myLock lock];\nself.validLock = @NO;\n[myLock unlock];\n</code></pre>\n\n<p>Each thread would have its own lock.</p>\n\n<p>First, you really want to avoid both <code>NSLock</code> and <code>@synchronized</code>. They've been superseded by GCD for many years now. See the <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/ThreadMigration/ThreadMigration.html#//apple_ref/doc/uid/TP40008091-CH105-SW1\" rel=\"nofollow noreferrer\">Concurrency Programming Guide</a> for full details.</p>\n\n<p>If you really want to use <code>@synchronized</code> (realizing that it is pretty inflexible and quite slow), then typically you call it on <code>self</code>.</p>\n\n<pre><code>@synchronized(self) {\n   self.validLock = @YES;\n}\n</code></pre>\n\n<p>But in any case, it has to be on the same actual object (not just the same name of an object).</p>\n\n<p>If you're going to use <code>NSLock</code>, you need to make sure everyone is sharing the same actual lock, so for a single instance it needs to be a property. For multiple instances it needs to be a global or at least a class property.</p>\n"}], "owner": {"reputation": 903, "user_id": 2651655, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4b45a172036472c08adeae31e2f4c2b4?s=128&d=identicon&r=PG", "display_name": "zzyzy", "link": "https://stackoverflow.com/users/2651655/zzyzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 52808817, "answer_count": 1, "score": 0, "last_activity_date": 1539568888, "creation_date": 1539567840, "question_id": 52808718, "link": "https://stackoverflow.com/questions/52808718/thread-sanitizer-issue-in-xcode-with-atomic-synchronized-properties-nslock", "title": "Thread sanitizer issue in Xcode with atomic/synchronized properties &amp; NSLock", "body": "<p>I have a property declared on an object in Objective-C that's called from multiple threads:</p>\n\n<p><code>@property (atomic, strong) NSNumber *validLock;</code></p>\n\n<p>In my setter, I do the following:</p>\n\n<pre><code>@synchronized(self.validLock) {\n   self.validLock = @YES;\n}\n</code></pre>\n\n<p>In my getter, I do the following:</p>\n\n<pre><code>@synchronized(self.validLock) {\n   if (self.validLock.boolValue) {\n      ...\n   }\n}\n</code></pre>\n\n<p>Despite all these precautions, the thread sanitizer in Xcode still breaks on the <code>@synchronized</code> getter line with a comment \"Data Race detected.\"</p>\n\n<p>I even ditched the '@synchronized' idea and went all-in with <code>NSLock</code> to no avail.</p>\n\n<p>This is becoming laughable, as this also gets tagged on <code>[myLock lock]</code> by the Xcode thread sanitizer:</p>\n\n<pre><code>NSLock *myLock = [[NSLock alloc] init];\n...\n[myLock lock];\nself.validLock = @NO;\n[myLock unlock];\n</code></pre>\n\n<p><strong>What am I doing wrong?</strong></p>\n"}, {"tags": ["ios", "objective-c", "cocoa", "touch", "protocols"], "comments": [{"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539554192, "post_id": 52807377, "comment_id": 92533027, "body": "In simpler terms you could say I want to pass a model into the function which is in a class within a framework. I need to be able to create a class in my app which can use the model"}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1539555489, "post_id": 52807377, "comment_id": 92533274, "body": "Every delegate property you find in iOS and AppKit are examples of methods that accept protocols. Examples: <code>UITableView dataSource</code>. This gives the method <code>setDataSource:(id&lt;UITableViewDataSource&gt;)delegate</code>."}], "answers": [{"comments": [{"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539584931, "post_id": 52810603, "comment_id": 92539602, "body": "Can you add some properties to the protocol please?"}, {"owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "reply_to_user": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539585972, "post_id": 52810603, "comment_id": 92539998, "body": "Sure have added. It&#39;s very simple; just declare property in the protocol and make sure to synthesize them in classes that conform to the protocol (they won&#39;t be automatically synthesized)."}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539586346, "post_id": 52810603, "comment_id": 92540159, "body": "Looks good, I think, I just want to implement this today before accepting. I\u2019m actually going to use something like \u201cvehicle\u201d as a protocol on my app delegate to pass some settings into my framework. I didn\u2019t want to define the structure of my app delegate properties outside of the framework. Sounds like this should all work."}, {"owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "reply_to_user": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539586468, "post_id": 52810603, "comment_id": 92540223, "body": "To be fair, your question was about how to work with protocols as arguments to methods, not about your specific use case. Perhaps at least a vote up for effort?"}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539586648, "post_id": 52810603, "comment_id": 92540315, "body": "Sure. I\u2019m sure this will all work out, I just want to try it."}, {"owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 0, "creation_date": 1539586787, "post_id": 52810603, "comment_id": 92540385, "body": "I\u2019m still happy to accept, if you think I should be doing something different, if you\u2019d like to suggest?"}, {"owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "reply_to_user": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "edited": false, "score": 1, "creation_date": 1539588605, "post_id": 52810603, "comment_id": 92541282, "body": "Well, that&#39;s a completely different question, and it&#39;s not clear exactly what you&#39;re trying to achieve (and the comments aren&#39;t really an appropriate place to answer anyway). The best thing to do would be to have a go at your implementation and then ask another question if you run into some specific problems. Whether you accept the answer or not is completely up to you, no problem at all if you want to accept it later."}], "tags": [], "owner": {"reputation": 1272, "user_id": 10246061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvU1U.png?s=128&g=1", "display_name": "Pete Morris", "link": "https://stackoverflow.com/users/10246061/pete-morris"}, "is_accepted": true, "score": 6, "last_activity_date": 1539585911, "last_edit_date": 1539585911, "creation_date": 1539583612, "answer_id": 52810603, "question_id": 52807377, "link": "https://stackoverflow.com/questions/52807377/obj-c-can-i-use-a-protocol-as-a-type-of-parameter-for-function-arguments/52810603#52810603", "title": "Obj-c, can I use a protocol as a type of parameter for function arguments?", "body": "<p>Yes, you can. Here's an example.</p>\n\n<p>First, declare your protocol in a <code>.h</code> file:</p>\n\n<pre><code>@protocol Vehicle &lt;NSObject&gt;\n\n@property NSNumber * numberOfWheels;\n\n@required\n-(void)engineOn;\n\n@end\n</code></pre>\n\n<p>Declare the classes which conform to your protocol:</p>\n\n<pre><code>#import \"Vehicle.h\"\n\n@interface Car : NSObject &lt;Vehicle&gt;\n\n@end\n</code></pre>\n\n<p>Implement the required methods and synthesise the properties:</p>\n\n<pre><code>@implementation Car\n@synthesize numberOfWheels;\n\n-(void)engineOn {\n    NSLog(@\"Car engine on\");\n}\n\n@end\n</code></pre>\n\n<p>and another, for the sake of example:</p>\n\n<pre><code>#import \"Vehicle.h\"\n\n@interface Motorcycle : NSObject &lt;Vehicle&gt;\n\n@end\n\n@implementation Motorcycle\n@synthesize numberOfWheels;\n\n-(void)engineOn {\n    NSLog(@\"Motorcycle engine on\");\n}\n\n@end\n</code></pre>\n\n<p>When you declare a method which you want to accept a <code>Vehicle</code> argument, you use the generic <code>id</code> type and specify that any object passed in should conform to <code>Vehicle</code>:</p>\n\n<pre><code>#import \"Vehicle.h\"\n\n@interface Race : NSObject\n\n-(void)addVehicleToRace:(id&lt;Vehicle&gt;)vehicle;\n\n@end\n</code></pre>\n\n<p>Then, in the implementation for that method, you can use the properties and methods declared in the protocol, regardless of the concrete type that has been passed in:</p>\n\n<pre><code>@implementation Race\n\n-(void)addVehicleToRace:(id&lt;Vehicle&gt;)vehicle {\n    [vehicle engineOn];\n}\n\n@end\n</code></pre>\n\n<p>Then, as you'd expect, you can pass in instances of concrete classes that conform to your protocol:</p>\n\n<pre><code>Motorcycle *cycle = [[Motorcycle alloc] init];\ncycle.numberOfWheels = 2;\nCar *car = [[Car alloc] init];\ncar.numberOfWheels = 4;\nRace *race = [[Race alloc] init];\n[race addVehicleToRace:car];\n[race addVehicleToRace:cycle];\n</code></pre>\n\n<p>And the appropriate concrete implementation of the protocol's methods will be executed, depending on the actual concrete types that you pass as a parameter:</p>\n\n<pre><code>2018-10-15 13:53:45.039596+0800 ProtocolExample[78912:1847146] Car engine on\n2018-10-15 13:53:45.039783+0800 ProtocolExample[78912:1847146] Motorcycle engine on\n</code></pre>\n"}], "owner": {"reputation": 7152, "user_id": 450456, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/4Y8Zf.jpg?s=128&g=1", "display_name": "Jules", "link": "https://stackoverflow.com/users/450456/jules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "accepted_answer_id": 52810603, "answer_count": 1, "score": 5, "last_activity_date": 1539585911, "creation_date": 1539553587, "question_id": 52807377, "link": "https://stackoverflow.com/questions/52807377/obj-c-can-i-use-a-protocol-as-a-type-of-parameter-for-function-arguments", "title": "Obj-c, can I use a protocol as a type of parameter for function arguments?", "body": "<p>I\u2019m create a cocoa touch framework to share some common code between my apps.</p>\n\n<p>I need to pass an instance of a class into a method, which has some specific properties.</p>\n\n<p>The method will be called from the app.</p>\n\n<p>I\u2019m quite new to using protocols.</p>\n\n<p>Should I create a protocol h file in my framework with all the properties required by the function. </p>\n\n<p>If so can I pass the protocol as the type of the instance variable into the function?</p>\n\n<p>If not how can achieve this?</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 3142451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7RI8.jpg?s=128&g=1", "display_name": "M Abubaker Majeed", "link": "https://stackoverflow.com/users/3142451/m-abubaker-majeed"}, "is_accepted": true, "score": 1, "last_activity_date": 1539538615, "creation_date": 1539538615, "answer_id": 52805317, "question_id": 52805189, "link": "https://stackoverflow.com/questions/52805189/hold-the-state-of-button-on-tableview-cell-click-in-objective-c/52805317#52805317", "title": "Hold the state of button on tableview cell click in objective c", "body": "<p>Tableview cell needs to reload, better if you have state of button in array, every time you make a button action change state in state array &amp; reload specific row cell; <code>reloadRowsAtIndexPaths</code> will help you in this regard.</p>\n"}], "owner": {"reputation": 67, "user_id": 9352327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88eee9b4af83f98c0c372ca16986f784?s=128&d=identicon&r=PG&f=1", "display_name": "Pratz_iOS", "link": "https://stackoverflow.com/users/9352327/pratz-ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52805317, "answer_count": 1, "score": 0, "last_activity_date": 1539538615, "creation_date": 1539537742, "question_id": 52805189, "link": "https://stackoverflow.com/questions/52805189/hold-the-state-of-button-on-tableview-cell-click-in-objective-c", "title": "Hold the state of button on tableview cell click in objective c", "body": "<p>I am working on table view cells .On each cell,there is a play button ..on click of that play button audio player plays audio and on double click of that button audio player pauses playing audio.\nSuppose now when I click button1 on cell1 ,it turns to play on one click and pause on other click.Now its state is pause.</p>\n\n<p>Now ,when I click button2 on cell2 ,it turns to play on click1 and pause on other click.But the state of button1 also stays to pause whereas I want that on click of button2 on cell2 ,it should get back to its original state .i.e the play state.</p>\n\n<p>Kindly help me to achieve this.I am trying to implement it first time.Any help or guidance in this direction would be highly appreciated.Thanks in advance!</p>\n"}, {"tags": ["objective-c"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1539531845, "post_id": 52803159, "comment_id": 92527062, "body": "Is it safe to assume that the code you&#39;ve posted in your question is being run on a background queue and not the main queue?"}, {"owner": {"reputation": 1107, "user_id": 9872568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487ee4c0bfb5d0fff8f9037e57478e0b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dandelion", "link": "https://stackoverflow.com/users/9872568/a-dandelion"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1539531903, "post_id": 52803159, "comment_id": 92527082, "body": "Yes. This is run in a thread with <code>@autoreleasepool</code>."}], "owner": {"reputation": 1107, "user_id": 9872568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487ee4c0bfb5d0fff8f9037e57478e0b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dandelion", "link": "https://stackoverflow.com/users/9872568/a-dandelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539532528, "creation_date": 1539523734, "last_edit_date": 1539532528, "question_id": 52803159, "link": "https://stackoverflow.com/questions/52803159/is-there-a-way-to-hide-an-if-statement-in-objective-c", "title": "Is there a way to hide an if statement in objective-c?", "body": "<p>I am writing a thread that should be stopped if a button is pressed.</p>\n\n<p>This means that for every action that I do, I also want to check if the stop flag is set so I can stop properly.</p>\n\n<p>This is a piece of the code which should make it clearer:</p>\n\n<pre><code>while([self checkForDrop] != 0 &amp;&amp; STOP == FALSE){\n        sleep(0.4);\n} if (STOP == TRUE){\n        return 99;\n}\n\nret = [self doSomething]\nif(ret == 0){\n    [self updateStatus] \n} else {\n    printf(\"%d\", ret) // Print error\n} \n\nret = [self doSomethingElse]\nif(ret == 0){\n    [self updateStatus] \n} else {\n    printf(\"%d\", ret) // Print error\n} \n\n... and so on ...\n</code></pre>\n\n<p>Every time I do something, I want to also check if a condition is met <code>(STOP == TRUE)</code>, if it is, the program should return 99 and stop.</p>\n\n<p>I could write an if statement for every line, but that would make the code unreadable and ugly. I would guess that I am not the only one that stumbled upon this, so there should be a better way.</p>\n"}, {"tags": ["javascript", "objective-c", "swift", "oop"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539497709, "post_id": 52799993, "comment_id": 92519117, "body": "It is preferred if you post separate questions instead of combining multiple questions into one. That way, questions are more likely to get complete answers, and those searching for one of your questions are more likely to find what they&#39;re looking for."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1539498853, "post_id": 52799993, "comment_id": 92519271, "body": "1) - what? 2) what is <b>blue-print</b>? 3) Can you state that? Yes. is it correct? 4) Does it matter to you?"}], "owner": {"reputation": 27, "user_id": 10501589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAAEVTLTY88/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXC22IFG9T3hdyALnVSAtySOS0zQQ/mo/photo.jpg?sz=128", "display_name": "EugeneEl", "link": "https://stackoverflow.com/users/10501589/eugeneel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1539497634, "creation_date": 1539497634, "question_id": 52799993, "link": "https://stackoverflow.com/questions/52799993/classical-inheritance-vs-prototypal-inheritance-in-javascript-vs-objective-c-vs", "title": "Classical inheritance vs prototypal inheritance in Javascript VS Objective-C VS Swift", "body": "<p>I'm an iOS developer who learn Javascript now.\nMy previous experience is related to Objective-C and Swift.</p>\n\n<p>However prototype inheritance in JS got be confused when I try to compare it with inheritance model in Objective-C and Swift.\nI've read a lot of articles on this topic but still have some questions.\nMy questions are:</p>\n\n<p><em>1) Does the answer on the inheritance type model significantly depend on the specific language at all?</em></p>\n\n<p>2) In Javascript as I understand there is no such concept as <em>Class</em> and even ES6 Class acts as a wrapper for <strong>Prototype</strong>.\nPrototype doesn't work as a <em>blueprint</em> as in classical inheritance model. </p>\n\n<p><em>Where is the <strong>border</strong> between <strong>Class</strong> and <strong>Prototype</strong> in the context of <strong>blue-print</em>?</strong></p>\n\n<p>3) A lot of articles I've read highlighted Javascript flexibility to change prototypes chains on the fly.</p>\n\n<p>However in Objective-C using objc runtime we can slightly achieve something like replacing superclass by <em>isa swizzling</em>. Or add methods/properties \"on the fly\" with objc.runtime.\nAnd Class serves as an object itself in Objective-C. It has an isa pointer to superclass, can respond to messages, etc.</p>\n\n<p><em>Can we state that Objective-C (or other languages) can <strong>mimic</strong> prototype inheritance with some techniques?</em></p>\n\n<p>Or in the context of this question <strong>Class</strong> should be treaded as an abstract term, rather than its implementation details?</p>\n\n<p><em>4 Can we achieve smth like prototype inheritance in Swift? \nDoes it matter in the context of static/dynamic typed languages?</em>  </p>\n"}, {"tags": ["ios", "objective-c", "rubymotion", "rubymotion-promotion"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 1, "creation_date": 1539512019, "post_id": 52799038, "comment_id": 92521966, "body": "Put a Breakpoint in <code>fontWithResourcePath:</code> (<a href=\"https://github.com/AlexDenisov/FontasticIcons/blob/master/FontasticIcons/Sources/Classes/FIFont.m\" rel=\"nofollow noreferrer\">github.com/AlexDenisov/FontasticIcons/blob/master/&hellip;</a>) check which value is nil/which line. Then check where that value is initialized."}, {"owner": {"reputation": 41, "user_id": 5276160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0zVO3RAFCBQ/AAAAAAAAAAI/AAAAAAAAAF8/jXh5JITkMbo/photo.jpg?sz=128", "display_name": "LOPHER", "link": "https://stackoverflow.com/users/5276160/lopher"}, "reply_to_user": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1539732943, "post_id": 52799038, "comment_id": 92606693, "body": "Thanks for the reply @Larme   I know which line in my code where it breaks and FantasticIcons hasn&#39;t been updated in a while but why would a cocoapods update all of a sudden break it?"}, {"owner": {"reputation": 186, "user_id": 136385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36ea58289890176b6170e382b3194fe?s=128&d=identicon&r=PG", "display_name": "wndxlori", "link": "https://stackoverflow.com/users/136385/wndxlori"}, "edited": false, "score": 0, "creation_date": 1540227187, "post_id": 52799038, "comment_id": 92777597, "body": "Are you on Mojave?  There&#39;s definitely some issues with CocoaPods/RubyMotion/BridgeSupport on Mojave."}, {"owner": {"reputation": 41, "user_id": 5276160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0zVO3RAFCBQ/AAAAAAAAAAI/AAAAAAAAAF8/jXh5JITkMbo/photo.jpg?sz=128", "display_name": "LOPHER", "link": "https://stackoverflow.com/users/5276160/lopher"}, "reply_to_user": {"reputation": 186, "user_id": 136385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36ea58289890176b6170e382b3194fe?s=128&d=identicon&r=PG", "display_name": "wndxlori", "link": "https://stackoverflow.com/users/136385/wndxlori"}, "edited": false, "score": 0, "creation_date": 1540766543, "post_id": 52799038, "comment_id": 92973565, "body": "@wndxlori I haven&#39;t updated to mojave yet.  But its for sure some issue with architecture.  FontasticIcons works fine, I am able to run it in Xcode, its just when it is integrated with rubymotion code it breaks"}], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 136385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36ea58289890176b6170e382b3194fe?s=128&d=identicon&r=PG", "display_name": "wndxlori", "link": "https://stackoverflow.com/users/136385/wndxlori"}, "edited": false, "score": 0, "creation_date": 1540857545, "post_id": 53055543, "comment_id": 93010478, "body": "I&#39;ll admit to having some problems myself with CocoaPods since Xcode 10 was released.  I think we all need to keep trying and generate as much info for bug reports as we can."}, {"owner": {"reputation": 41, "user_id": 5276160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0zVO3RAFCBQ/AAAAAAAAAAI/AAAAAAAAAF8/jXh5JITkMbo/photo.jpg?sz=128", "display_name": "LOPHER", "link": "https://stackoverflow.com/users/5276160/lopher"}, "edited": false, "score": 0, "creation_date": 1541651910, "post_id": 53055543, "comment_id": 93291628, "body": "Yeah what a headache.... I was able to work around though by placing my cocoa pod resource files directly in my resources folder"}], "tags": [], "owner": {"reputation": 186, "user_id": 136385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36ea58289890176b6170e382b3194fe?s=128&d=identicon&r=PG", "display_name": "wndxlori", "link": "https://stackoverflow.com/users/136385/wndxlori"}, "is_accepted": false, "score": 0, "last_activity_date": 1540857532, "creation_date": 1540857532, "answer_id": 53055543, "question_id": 52799038, "link": "https://stackoverflow.com/questions/52799038/cocoapods-update-from-1-2-1-to-1-4-0-breaks-fontasticicons/53055543#53055543", "title": "Cocoapods update from 1.2.1 to 1.4.0 breaks FontasticIcons", "body": "<p>The current version of CocoaPods (gem) is 1.5.3.  I would recommend an update of that, and then to <code>rake clean:all pod:install</code> and then build your project again, to see if that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 5276160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0zVO3RAFCBQ/AAAAAAAAAAI/AAAAAAAAAF8/jXh5JITkMbo/photo.jpg?sz=128", "display_name": "LOPHER", "link": "https://stackoverflow.com/users/5276160/lopher"}, "is_accepted": true, "score": 1, "last_activity_date": 1541651799, "creation_date": 1541651799, "answer_id": 53201621, "question_id": 52799038, "link": "https://stackoverflow.com/questions/52799038/cocoapods-update-from-1-2-1-to-1-4-0-breaks-fontasticicons/53201621#53201621", "title": "Cocoapods update from 1.2.1 to 1.4.0 breaks FontasticIcons", "body": "<p>Thanks for the help!  So I solved it by actually taking the files out of the cocoa pod and putting them directly into the resources folder.  Now rubymotion sees the files and all is well</p>\n"}], "owner": {"reputation": 41, "user_id": 5276160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0zVO3RAFCBQ/AAAAAAAAAAI/AAAAAAAAAF8/jXh5JITkMbo/photo.jpg?sz=128", "display_name": "LOPHER", "link": "https://stackoverflow.com/users/5276160/lopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 53201621, "answer_count": 2, "score": 0, "last_activity_date": 1541651799, "creation_date": 1539485024, "last_edit_date": 1539527119, "question_id": 52799038, "link": "https://stackoverflow.com/questions/52799038/cocoapods-update-from-1-2-1-to-1-4-0-breaks-fontasticicons", "title": "Cocoapods update from 1.2.1 to 1.4.0 breaks FontasticIcons", "body": "<p>Not sure why but it seems like updating cocoapods from 1.2.1 to 1.4.0 breaks FontasticIcons and ruins my build.  My build output: </p>\n\n<pre><code>2018-10-13 22:28:02.015 Appname[67112:3481948] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[__NSDictionaryM setObject:forKeyedSubscript:]: key cannot be nil'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x000000010478429b __exceptionPreprocess + 331\n    1   libobjc.A.dylib                     0x0000000101fff735 objc_exception_throw + 48\n    2   CoreFoundation                      0x00000001046ce8fc _CFThrowFormattedException + 194\n    3   CoreFoundation                      0x00000001047f680c -[__NSDictionaryM setObject:forKeyedSubscript:] + 1036\n    4   Appname                            0x0000000100152f9c +[FIFont fontWithResourcePath:] + 266\n    5   Appname                            0x00000001001540d1 +[FIIcon fontNames] + 61\n    6   Appname                            0x0000000100153e9c +[FIIcon initialize] + 111\n    7   libobjc.A.dylib                     0x00000001020002fe CALLING_SOME_+initialize_METHOD + 19\n    8   libobjc.A.dylib                     0x0000000102000691 _class_initialize + 270\n    9   libobjc.A.dylib                     0x0000000102007248 lookUpImpOrForward + 196\n    10  libobjc.A.dylib                     0x0000000102014814 _objc_msgSend_uncached + 68\n    11  Appname                            0x0000000100c26d1b retain_cb + 59\n    12  CoreFoundation                      0x00000001047d962c __CFBasicHashAddValue + 1484\n    13  CoreFoundation                      0x00000001046a43f1 CFDictionarySetValue + 161\n    14  Appname                            0x0000000100c26e55 retrieve_dynamic_objc_class + 229\n    15  Appname                            0x0000000100c25026 rb_const_get_0 + 870\n    16  Appname                            0x00000001008a6f7d vm_get_const + 269\n    17  Appname                            0x00000001008ad44d rb_scope__application_setup__block__.1 + 205\n    18  Appname                            0x0000000100c4d992 _ZL13vm_block_evalP7RoxorVMP11rb_vm_blockP13objc_selectormiPKm + 1490\n    19  Appname                            0x0000000100c4db50 rb_vm_yield_args + 64\n    20  Appname                            0x0000000100c3d0eb rb_yield + 59\n    21  Appname                            0x0000000100ba9d5e rb_obj_tap + 14\n    22  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    23  Appname                            0x00000001008a7b44 vm_dispatch + 1380\n    24  Appname                            0x00000001008ad01c rb_scope__application_setup__ + 8300\n    25  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    26  Appname                            0x0000000100578e14 vm_dispatch + 1380\n    27  Appname                            0x0000000100582be8 rb_scope__initialize:__ + 456\n    28  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    29  Appname                            0x0000000100ba5c77 rb_class_new_instance0 + 535\n    30  Appname                            0x0000000100c4bc2e rb_vm_dispatch + 5278\n    31  Appname                            0x0000000100578e14 vm_dispatch + 1380\n    32  Appname                            0x000000010057c98b rb_scope__stylesheet=:__ + 379\n    33  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    34  Appname                            0x000000010079ac74 vm_dispatch + 1380\n    35  Appname                            0x00000001007a1260 rb_scope__set_stylesheet__ + 368\n    36  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    37  Appname                            0x000000010079ac74 vm_dispatch + 1380\n    38  Appname                            0x000000010079ffac rb_scope__viewDidLoad__ + 60\n    39  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    40  Appname                            0x00000001006edd94 vm_dispatch + 1380\n    41  Appname                            0x00000001006f0cf1 rb_scope__viewDidLoad__ + 81\n    42  Appname                            0x00000001006f0dad __unnamed_19 + 13\n    43  UIKitCore                           0x0000000110cd9781 -[UIViewController loadViewIfRequired] + 1186\n    44  UIKitCore                           0x0000000110cd9be0 -[UIViewController view] + 27\n    45  Appname                            0x0000000100c6e456 _ZL14builtin_ostub1PFP11objc_objectS0_P13objc_selectorzES2_S0_hiPm + 22\n    46  Appname                            0x0000000100c4c0ba rb_vm_dispatch + 6442\n    47  Appname                            0x000000010058bab4 vm_dispatch + 1380\n    48  Appname                            0x00000001005910a8 rb_scope__context_or_context_view__ + 232\n    49  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    50  Appname                            0x000000010058bab4 vm_dispatch + 1380\n    51  Appname                            0x000000010059023f rb_scope__selected__ + 463\n    52  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    53  Appname                            0x0000000100611ab4 vm_dispatch + 1380\n    54  Appname                            0x0000000100615c73 rb_scope__add_subview:__ + 211\n    55  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    56  Appname                            0x0000000100611ab4 vm_dispatch + 1380\n    57  Appname                            0x0000000100617a2d rb_scope__create:__ + 381\n    58  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    59  Appname                            0x0000000100611ab4 vm_dispatch + 1380\n    60  Appname                            0x0000000100617c1e rb_scope__create!:__ + 350\n    61  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    62  Appname                            0x000000010079ac74 vm_dispatch + 1380\n    63  Appname                            0x000000010079f0c0 rb_scope__create!:__ + 272\n    64  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    65  Appname                            0x00000001009adac4 vm_dispatch + 1380\n    66  Appname                            0x00000001009b6346 rb_scope__nav_bar__ + 166\n    67  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    68  Appname                            0x00000001009adac4 vm_dispatch + 1380\n    69  Appname                            0x00000001009b2aba rb_scope__on_init__ + 1018\n    70  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    71  Appname                            0x0000000100c3ef3d send_internal + 301\n    72  Appname                            0x0000000100c4bc2e rb_vm_dispatch + 5278\n    73  Appname                            0x0000000100679dd4 vm_dispatch + 1380\n    74  Appname                            0x000000010067c426 rb_scope__try:__ + 246\n    75  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    76  Appname                            0x00000001006a0ce4 vm_dispatch + 1380\n    77  Appname                            0x00000001006a5ba9 rb_scope__screen_init:__ + 537\n    78  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    79  Appname                            0x00000001006edd94 vm_dispatch + 1380\n    80  Appname                            0x00000001006f0ad5 rb_scope__new:__ + 661\n    81  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    82  Appname                            0x0000000100a51684 vm_dispatch + 1380\n    83  Appname                            0x0000000100a537f7 rb_scope__setup__ + 151\n    84  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    85  Appname                            0x0000000100c3ef3d send_internal + 301\n    86  Appname                            0x0000000100c4bc2e rb_vm_dispatch + 5278\n    87  Appname                            0x000000010081a954 vm_dispatch + 1380\n    88  Appname                            0x000000010081ebea rb_scope__auto_setup:__ + 986\n    89  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    90  Appname                            0x0000000100c3ef3d send_internal + 301\n    91  Appname                            0x0000000100c4bc2e rb_vm_dispatch + 5278\n    92  Appname                            0x000000010081a954 vm_dispatch + 1380\n    93  Appname                            0x000000010081e78a rb_scope__new:__ + 346\n    94  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    95  Appname                            0x0000000100728e44 vm_dispatch + 1380\n    96  Appname                            0x000000010072dfad rb_scope__open:__ + 221\n    97  Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    98  Appname                            0x0000000100a55634 vm_dispatch + 1380\n    99  Appname                            0x0000000100a59bf5 rb_scope__open_home_or_login__ + 565\n    100 Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    101 Appname                            0x0000000100a55634 vm_dispatch + 1380\n    102 Appname                            0x0000000100a58bc9 rb_scope__on_load:__ + 249\n    103 Appname                            0x0000000100c4bd4c rb_vm_dispatch + 5564\n    104 Appname                            0x0000000100728e44 vm_dispatch + 1380\n    105 Appname                            0x000000010072caed rb_scope__application:didFinishLaunchingWithOptions:__ + 189\n    106 Appname                            0x000000010072ccfd __unnamed_37 + 61\n    107 UIKitCore                           0x00000001105a24d7 -[UIApplication _handleDelegateCallbacksWithOptions:isSuspended:restoreState:] + 280\n    108 UIKitCore                           0x00000001105a3ec4 -[UIApplication _callInitializationDelegatesForMainScene:transitionContext:] + 3979\n    109 UIKitCore                           0x00000001105a9527 -[UIApplication _runWithMainScene:transitionContext:completion:] + 1623\n    110 UIKitCore                           0x0000000110e4be3e __111-[__UICanvasLifecycleMonitor_Compatability _scheduleFirstCommitForScene:transition:firstActivation:completion:]_block_invoke + 866\n    111 UIKitCore                           0x0000000110e48403 +[_UICanvas _enqueuePostSettingUpdateTransactionBlock:] + 153\n    112 UIKitCore                           0x0000000110e4ba7b -[__UICanvasLifecycleMonitor_Compatability _scheduleFirstCommitForScene:transition:firstActivation:completion:] + 233\n    113 UIKitCore                           0x0000000110e4c435 -[__UICanvasLifecycleMonitor_Compatability activateEventsOnly:withContext:completion:] + 1085\n    114 UIKitCore                           0x0000000110e09b31 __82-[_UIApplicationCanvas _transitionLifecycleStateWithTransitionContext:completion:]_block_invoke + 795\n    115 UIKitCore                           0x0000000110e097db -[_UIApplicationCanvas _transitionLifecycleStateWithTransitionContext:completion:] + 435\n    116 UIKitCore                           0x0000000110e4e92c __125-[_UICanvasLifecycleSettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:]_block_invoke + 584\n    117 UIKitCore                           0x0000000110e4f256 _performActionsWithDelayForTransitionContext + 100\n    118 UIKitCore                           0x0000000110e4e68b -[_UICanvasLifecycleSettingsDiffAction performActionsForCanvas:withUpdatedScene:settingsDiff:fromSettings:transitionContext:] + 221\n    119 UIKitCore                           0x0000000110e47aa1 -[_UICanvas scene:didUpdateWithDiff:transitionContext:completion:] + 392\n    120 UIKitCore                           0x00000001105a7d46 -[UIApplication workspace:didCreateScene:withTransitionContext:completion:] + 515\n    121 UIKitCore                           0x00000001105d9856 -[UIApplicationSceneClientAgent scene:didInitializeWithEvent:completion:] + 357\n    122 FrontBoardServices                  0x000000010eedadda -[FBSSceneImpl _didCreateWithTransitionContext:completion:] + 448\n    123 FrontBoardServices                  0x000000010eee5f43 __56-[FBSWorkspace client:handleCreateScene:withCompletion:]_block_invoke_2 + 271\n    124 FrontBoardServices                  0x000000010eee563a __40-[FBSWorkspace _performDelegateCallOut:]_block_invoke + 53\n    125 libdispatch.dylib                   0x0000000109d7b587 _dispatch_client_callout + 8\n    126 libdispatch.dylib                   0x0000000109d7e647 _dispatch_block_invoke_direct + 312\n    127 FrontBoardServices                  0x000000010ef1a3c8 __FBSSERIALQUEUE_IS_CALLING_OUT_TO_A_BLOCK__ + 30\n    128 FrontBoardServices                  0x000000010ef1a080 -[FBSSerialQueue _performNext] + 457\n    129 FrontBoardServices                  0x000000010ef1a660 -[FBSSerialQueue _performNextFromRunLoopSource] + 45\n    130 CoreFoundation                      0x00000001046e7b31 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n    131 CoreFoundation                      0x00000001046e73a3 __CFRunLoopDoSources0 + 243\n    132 CoreFoundation                      0x00000001046e1a4f __CFRunLoopRun + 1263\n    133 CoreFoundation                      0x00000001046e1221 CFRunLoopRunSpecific + 625\n    134 GraphicsServices                    0x000000010a47f1dd GSEventRunModal + 62\n    135 UIKitCore                           0x00000001105ab115 UIApplicationMain + 140\n    136 Appname                            0x0000000100249ce4 main + 148\n    137 libdyld.dylib                       0x0000000109deb551 start + 1\n    138 ???                                 0x0000000000000001 0x0 + 1\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n</code></pre>\n\n<p>From best I can tell its trying to add a null value to a library but what I cant figure out is why a change in cocoapods version would cause that to break.  Curious if anyone has any insight</p>\n\n<p>FontasticIcons: <a href=\"https://github.com/AlexDenisov/FontasticIcons\" rel=\"nofollow noreferrer\">https://github.com/AlexDenisov/FontasticIcons</a></p>\n"}, {"tags": ["objective-c", "swift"], "comments": [{"owner": {"reputation": 2066, "user_id": 3807336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NzuuH.jpg?s=128&g=1", "display_name": "Adeel", "link": "https://stackoverflow.com/users/3807336/adeel"}, "edited": false, "score": 0, "creation_date": 1539468084, "post_id": 52797562, "comment_id": 92515188, "body": "Are you importing the <b>Project-Name-Swift.h</b> file in the objective-c .m file?"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1539468579, "post_id": 52797562, "comment_id": 92515287, "body": "You need to show more code, in context. Where is the code where you are assigning to <code>lastBookViewed</code> in relation to the declaration of <code>lastBookViewed</code>?  The error is nothing about Objective-C; it simply says that <code>lastBookViewed</code> isn&#39;t known in the context in which you are trying to use it."}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "reply_to_user": {"reputation": 2066, "user_id": 3807336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NzuuH.jpg?s=128&g=1", "display_name": "Adeel", "link": "https://stackoverflow.com/users/3807336/adeel"}, "edited": false, "score": 0, "creation_date": 1539470098, "post_id": 52797562, "comment_id": 92515592, "body": "@Adeel,I imported it to the .m file and am now able to create an ivar or property in the implementation Obj-c file.  (With either, a warning says I must create a method for this property in the .m file.)  How would I set this property or variable from the Swift file?"}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "reply_to_user": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 0, "creation_date": 1539487481, "post_id": 52797562, "comment_id": 92517848, "body": "@paulw11 You are right the code above has nothing to do with Objective-C.  It&#39;s just a first stab at saving a custom object in Swift to be accessed later in Obj-C.  I am merely trying in the code above to create a property in the Swift file for storing the data.  I do this all the time with things like strings and arrays.   But I am unable to do so within the View Controller class for the custom Object."}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 1, "creation_date": 1539487660, "post_id": 52797562, "comment_id": 92517863, "body": "There is no difference between using a String or a <code>Book</code>, but you need to show the context; Where are you trying to use <code>myBook</code> in relation to where it was declared?  The reason you are getting the &quot;no initialisers&quot; is because you have added a property to a class but declared it as optional nor given it a default value; this is covered in the Swift Book"}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539489357, "post_id": 52797562, "comment_id": 92518063, "body": "The need to initialize the class is the answer I was looking for.  I managed to fix the error by adding () after Book."}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539490207, "post_id": 52797562, "comment_id": 92518157, "body": "I have an additional issue.  This worked in code after lastBook is returned in closure ie {             answer in             lastBook = answer However, it is not working within the closure method before returned.  I am getting error use of unresolved identifier &#39;lastBook&#39;"}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539491550, "post_id": 52797562, "comment_id": 92518307, "body": "If there is a way to save to a property from within a closure, I have not discovered it, so I refactored the code"}], "answers": [{"comments": [{"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539470436, "post_id": 52797923, "comment_id": 92515665, "body": "I have done muchof this already as I am already going back and forth between Swift and Obj-c.  However, I don&#39;t know how to create a property in the swift class for storing data between methods (analagous to property in Obj-c)--or alternatively how to store into an Objective-C property representing a Swift class from the Swift class"}, {"owner": {"reputation": 1704, "user_id": 6533855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToY04.png?s=128&g=1", "display_name": "excitedmicrobe", "link": "https://stackoverflow.com/users/6533855/excitedmicrobe"}, "reply_to_user": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539470563, "post_id": 52797923, "comment_id": 92515692, "body": "So you\u2019re trying to store data in the swift class from the obj-c method? Pardon my English"}, {"owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "edited": false, "score": 0, "creation_date": 1539471001, "post_id": 52797923, "comment_id": 92515788, "body": "Store object from the swift class directly to a property in the the Objc-Class.  Or Store a custom swift object used in a swfit view controller class in a Swift property and then access that property from the Objective-C class.  Basically, I want to access a custom object in a swift file and class from an Objective C one."}], "tags": [], "owner": {"reputation": 1704, "user_id": 6533855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToY04.png?s=128&g=1", "display_name": "excitedmicrobe", "link": "https://stackoverflow.com/users/6533855/excitedmicrobe"}, "is_accepted": true, "score": 1, "last_activity_date": 1539469998, "creation_date": 1539469998, "answer_id": 52797923, "question_id": 52797562, "link": "https://stackoverflow.com/questions/52797562/store-a-custom-object-class-in-swift-for-access-by-an-objective-c-method/52797923#52797923", "title": "Store a custom object (class in Swift) for access by an Objective-C method", "body": "<p>Go to your project\u2019s general settings. Select the proper target for your app. Go to \u201cBuild Settings\u201d and switch to \u201cAll\u201d, instead of \u201cBasic\u201d which is the default. Here search for the \u201cPackaging\u201d section. Turn on \u201cDefines Module\u201d, by changing \u201cNo\u201d to \u201cYes\u201d.</p>\n\n<p><a href=\"https://i.stack.imgur.com/L3rLE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L3rLE.png\" alt=\"Screen 1\"></a></p>\n\n<blockquote>\n  <p>When this is turned on we will now be able to use swift classes inside\n  of objective-c files.</p>\n</blockquote>\n\n<ol start=\"4\">\n<li><p>Before leaving the \u201cBuild Settings\u201d look for \u201cProduct Module Name\u201d in the \u201cPackaging\u201d section. This will be important so make sure to take note of and copy the \u201cProduct Module Name\u201d exactly.</p></li>\n<li><p>Next go to an objective-c class where you would like to be able to have access to your swift class. In the implementation or .m file of this class import a header like this:</p></li>\n</ol>\n\n<blockquote>\n  #import \"MyProjectModuleName-Swift.h\"\n</blockquote>\n\n<p>Here the file name of the import must be the exact Project Module Name from the build settings. Any objective-c file where you want access to your swift class should include this import.</p>\n\n<ol start=\"6\">\n<li>Now it is worth mentioning one potential issue that may arise when using a swift class. Objective-c cannot read top-level swift classes. So if you go to use a method or variable from your swift class directly it will not be recognized. There are one simple solution to this issue. It\u2019s to make your class <code>public</code></li>\n</ol>\n\n<blockquote>\n<pre><code> @objc public class myClass\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 4008, "user_id": 1904273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/148a92184e1750879e411ca2c2f80383?s=128&d=identicon&r=PG", "display_name": "user1904273", "link": "https://stackoverflow.com/users/1904273/user1904273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 52797923, "answer_count": 1, "score": -1, "last_activity_date": 1539471372, "creation_date": 1539466631, "last_edit_date": 1539471372, "question_id": 52797562, "link": "https://stackoverflow.com/questions/52797562/store-a-custom-object-class-in-swift-for-access-by-an-objective-c-method", "title": "Store a custom object (class in Swift) for access by an Objective-C method", "body": "<p>I have created a class in Swift (which I'm learning) that I use to hold certain values as follows:</p>\n\n<pre><code>@objc public class Book: NSObject {\n    var title: String = \"\"\n    var date: Date = Date()\n    var sku: Float = 0\n}\n</code></pre>\n\n<p>I would now like to store this class in the equivalent of a property that can be accessed by my Objective-C class.</p>\n\n<p>I tried creating a variable in the View Controller where the class is used as follows:</p>\n\n<pre><code>var lastBookViewed = Book()\n</code></pre>\n\n<p>However, when I try to save the object to the property with the followng code, I get an error:</p>\n\n<pre><code>//create instance of book\nlet myBook = Book()\n//gather information about book\nlastBookViewed = myBook //THROWS COMPILER ERROR 'Use of Unresolved Identifier lastBookViewed\n</code></pre>\n\n<p>Is there a way to do this?</p>\n\n<p>If easier, storing the object to a property in the Objective-C file would work as well but so far I have not been able to get the Objective-C file to recognize the Book class created in Swift although I put @objc before it as recommended.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>When I try to create a property or variable for storing the custom swift object in a different Swift class (the View Controller class) in the same Swift file with the following syntax:</p>\n\n<pre><code>var lastBookViewed: Book\n</code></pre>\n\n<p>the compiler gives a warning for the VC class \"yourVC has no initializers\"</p>\n"}, {"tags": ["objective-c", "swift", "nsobject", "nsdocument"], "comments": [{"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539467369, "post_id": 52796076, "comment_id": 92514990, "body": "<code>attemptRecoveryFromError:optionIndex:</code> is a method of informal protocol <a href=\"https://developer.apple.com/documentation/foundation/nserror/nserrorrecoveryattempting?language=objc\" rel=\"nofollow noreferrer\">NSErrorRecoveryAttempting</a> and is not implemented by <code>NSObject</code>."}, {"owner": {"reputation": 599, "user_id": 1370067, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e43e74745903f33eaab0c766cb839069?s=128&d=identicon&r=PG", "display_name": "Remco Poelstra", "link": "https://stackoverflow.com/users/1370067/remco-poelstra"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539497736, "post_id": 52796076, "comment_id": 92519120, "body": "<a href=\"https://developer.apple.com/documentation/objectivec/nsobject/1416402-attemptrecoveryfromerror?language=objc\" rel=\"nofollow noreferrer\">This page</a> suggests otherwise. Did I misunderstood it?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539513556, "post_id": 52796076, "comment_id": 92522326, "body": "Yes &quot;Implemented&quot; means it can be implemented. <code>NSObject</code> doesn&#39;t know how to recover. See <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/Protocol.html#//apple_ref/doc/uid/TP40008195-CH45-SW2\" rel=\"nofollow noreferrer\">Formal and Informal Protocols</a> and <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ErrorHandlingCocoa/ErrorRespondRecover/ErrorRespondRecover.html#//apple_ref/doc/uid/TP40001806-CH203-BAJJHBED\" rel=\"nofollow noreferrer\">Error Recovery</a>."}, {"owner": {"reputation": 599, "user_id": 1370067, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e43e74745903f33eaab0c766cb839069?s=128&d=identicon&r=PG", "display_name": "Remco Poelstra", "link": "https://stackoverflow.com/users/1370067/remco-poelstra"}, "reply_to_user": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539520307, "post_id": 52796076, "comment_id": 92523832, "body": "@Willeke I see it now. If you make it an answer I can mark it as such. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "is_accepted": true, "score": 0, "last_activity_date": 1539620344, "creation_date": 1539620344, "answer_id": 52820890, "question_id": 52796076, "link": "https://stackoverflow.com/questions/52796076/attemptrecoveryfromerroroptionindex-not-found-on-super-of-swift-subclass-o/52820890#52820890", "title": "`attemptRecovery(fromError:optionIndex:)` not found on super of Swift subclass of NSDocument", "body": "<p><code>attemptRecoveryFromError:optionIndex:</code> is a method of informal protocol <code>NSErrorRecoveryAttempting</code> and is not implemented by <code>NSObject</code> See <a href=\"https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/Protocol.html#//apple_ref/doc/uid/TP40008195-CH45-SW2\" rel=\"nofollow noreferrer\">Formal and Informal Protocols</a></p>\n\n<blockquote>\n  <p>An informal protocol is a category on NSObject, which implicitly makes almost all objects adopters of the protocol. (A category is a language feature that enables you to add methods to a class without subclassing it.) Implementation of the methods in an informal protocol is optional. Before invoking a method, the calling object checks to see whether the target object implements it. Until optional protocol methods were introduced in Objective-C 2.0, informal protocols were essential to the way Foundation and AppKit classes implemented delegation.</p>\n</blockquote>\n\n<p>More info: <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ErrorHandlingCocoa/ErrorRespondRecover/ErrorRespondRecover.html#//apple_ref/doc/uid/TP40001806-CH203-BAJJHBED\" rel=\"nofollow noreferrer\">Error Recovery</a>.</p>\n"}], "owner": {"reputation": 599, "user_id": 1370067, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e43e74745903f33eaab0c766cb839069?s=128&d=identicon&r=PG", "display_name": "Remco Poelstra", "link": "https://stackoverflow.com/users/1370067/remco-poelstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 52820890, "answer_count": 1, "score": 0, "last_activity_date": 1539620344, "creation_date": 1539455759, "question_id": 52796076, "link": "https://stackoverflow.com/questions/52796076/attemptrecoveryfromerroroptionindex-not-found-on-super-of-swift-subclass-o", "title": "`attemptRecovery(fromError:optionIndex:)` not found on super of Swift subclass of NSDocument", "body": "<p>I've an objC NSDocument subclass, which is itself subclassed by a Swift version. The ObjC version calls <code>BOOL result=[self attemptRecoveryFromError:error optionIndex:recoveryOptionIndex];</code>, which is implemented by the Swift subclass.</p>\n\n<p>From the Swift subclass, for certain errors, a call is made to super as follows:</p>\n\n<pre><code>    guard let (error as NSError).domain == \"someDomain\" else {\n        return super.attemptRecovery(fromError: error, optionIndex: recoveryOptionIndex)\n    }\n</code></pre>\n\n<p>This method is not implemented by the ObjC subclass but should be implemented by NSObject, but during runtime I get the following error:</p>\n\n<pre><code>-[App.AppDocument attemptRecoveryFromError:optionIndex:]: unrecognized selector sent to instance 0x60000350d340\n</code></pre>\n\n<p>Why does it not find the method? Does it perhaps have something to do with the type of Error not necessarily being a NSError?</p>\n"}, {"tags": ["objective-c"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 7595560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NmON9.jpg?s=128&g=1", "display_name": "Cristea Victor", "link": "https://stackoverflow.com/users/7595560/cristea-victor"}, "is_accepted": false, "score": 0, "last_activity_date": 1576938740, "creation_date": 1576938740, "answer_id": 59437010, "question_id": 52795263, "link": "https://stackoverflow.com/questions/52795263/getting-href-from-htmldocument-in-htmlkit/59437010#59437010", "title": "Getting href from HTMLDocument in HTMLKit", "body": "<p>You need to access attributes dictionary, something like that : </p>\n\n<pre><code>let allAElements = htmldoc.querySelector(\"[class^='styles_tagcloud']\")?.querySelectorAll(\"a\")\n\n  allAElements!.forEach({ (element) in\n     print(\"Href &gt;&gt;&gt; \", element.attributes.value(forKey: \"href\"))\n  })\n</code></pre>\n"}], "owner": {"reputation": 1107, "user_id": 9872568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487ee4c0bfb5d0fff8f9037e57478e0b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dandelion", "link": "https://stackoverflow.com/users/9872568/a-dandelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576938740, "creation_date": 1539449971, "last_edit_date": 1539450305, "question_id": 52795263, "link": "https://stackoverflow.com/questions/52795263/getting-href-from-htmldocument-in-htmlkit", "title": "Getting href from HTMLDocument in HTMLKit", "body": "<p>I am trying to get the attribute href from an HTMLDocument in HTMLKit (<a href=\"https://github.com/iabudiab/HTMLKit\" rel=\"nofollow noreferrer\">github</a>)</p>\n\n<p>This is the code:</p>\n\n<pre><code>HTMLDocument *document = [HTMLDocument documentWithString:tempPage];\nNSArray *articles = [document querySelectorAll:@\"div.inner-article&gt;a\"];\nfor(HTMLDocument *article in articles){\n    printf(\"%s\\n\\n\", [article.outerhtml UTF8String]);\n}\n</code></pre>\n\n<p>The documentation isn't very clear about this. I can clearly see the href with this for loop but I need to extract it further. Thanks</p>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1539464829, "post_id": 52794965, "comment_id": 92514414, "body": "never import an .m file. CocoaPod frameworks are usually imported like this: <code>#import &lt;HTMLKit&#47;HTMLParser.h&gt;</code> or even just <code>#import &lt;HTMLKit&#47;HTMLKit.h&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "is_accepted": true, "score": 0, "last_activity_date": 1539450114, "last_edit_date": 1539450114, "creation_date": 1539449732, "answer_id": 52795221, "question_id": 52794965, "link": "https://stackoverflow.com/questions/52794965/ios-unable-to-build-header-missing-although-present-in-folder/52795221#52795221", "title": "iOS - Unable to build, header missing (although present in folder)", "body": "<p>Try #import  &lt;>\nAnd if it show you something automatically I think it will work.</p>\n\n<p>Again, Not \u201c\u201d.  Use &lt;>. </p>\n"}], "owner": {"reputation": 1107, "user_id": 9872568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487ee4c0bfb5d0fff8f9037e57478e0b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dandelion", "link": "https://stackoverflow.com/users/9872568/a-dandelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 52795221, "answer_count": 1, "score": 0, "last_activity_date": 1539450114, "creation_date": 1539447925, "question_id": 52794965, "link": "https://stackoverflow.com/questions/52794965/ios-unable-to-build-header-missing-although-present-in-folder", "title": "iOS - Unable to build, header missing (although present in folder)", "body": "<p>I installed HTMLKit via pods. </p>\n\n<p>Everything went well and I am able to see it loaded.</p>\n\n<p>Unfortunately, when I try to build the project, it fails telling me that it couldn't find a specific header.</p>\n\n<p>This is how I import the pod in my file:</p>\n\n<p><code>#import \"../../../Pods/HTMLKit/Sources/HTMLParser.m\"</code> </p>\n\n<p>I am no expert in objective c so I am not sure if that's correct. One thing that is weird is that I always imported header files, but this time it seems that I need to import an <code>.m</code> file?</p>\n\n<p>If I try to import the header file of that, it simply says that the header is not found (although, as always it's there in the folder).</p>\n\n<p>I am not sure how to fix it. I've seen some answers here on SO but they all use a different version of xcode so I am not sure what to do.</p>\n"}, {"tags": ["ios", "objective-c", "mapkit"], "comments": [{"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1539454072, "post_id": 52793261, "comment_id": 92511796, "body": "You may have occasionally performance issues in current phones. If that happens once, your user will feel frustrated. So let&#39;s try a more reliable way."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1539457541, "post_id": 52793261, "comment_id": 92512656, "body": "Are you looking for hybrid mode?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2338026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45ea22360da2a33f8b96f4c805c8d4c7?s=128&d=identicon&r=PG", "display_name": "Pj Dahill", "link": "https://stackoverflow.com/users/2338026/pj-dahill"}, "edited": false, "score": 0, "creation_date": 1539479342, "post_id": 52798172, "comment_id": 92516904, "body": "Awesome!! Thank you. it seems easy now that you look at it, but I could not find the IBActions or delegate commands."}], "tags": [], "owner": {"reputation": 166, "user_id": 931484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aba12d4b67a4547deff0e0c1bdb6ef1?s=128&d=identicon&r=PG", "display_name": "Guruniverse", "link": "https://stackoverflow.com/users/931484/guruniverse"}, "is_accepted": false, "score": 0, "last_activity_date": 1539473134, "last_edit_date": 1539473134, "creation_date": 1539472815, "answer_id": 52798172, "question_id": 52793261, "link": "https://stackoverflow.com/questions/52793261/mkmapview-as-an-overlay/52798172#52798172", "title": "MKMapview as an overlay", "body": "<p>You can do this, no problem at all. As you already described, just put a MKMapView in your window and a second one on top. Let's assume we call them _map1 and _map2,  the latter being on top of _map1. The MKMapViewDelegate protocol will let you know when a user scrolls/moves/zooms _map2, so you can tell _map1 to display the same visible region of _map2.  </p>\n\n<p>In my example I use a slider to set the level of transparency of _map2.</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@import MapKit;\n\n@interface ViewController () &lt;MKMapViewDelegate&gt;\n@property (weak, nonatomic) IBOutlet MKMapView *map1;\n@property (weak, nonatomic) IBOutlet MKMapView *map2;\n@property (weak, nonatomic) IBOutlet UISlider *alphaSlider;\n\n\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n    [_map1 setMapType:MKMapTypeSatellite];\n    [_map2 setMapType:MKMapTypeStandard];\n    [_map2 setAlpha:0.5];\n    [_map2 setDelegate:self];\n    [_alphaSlider addTarget:self action:@selector(sliderChanged) forControlEvents:UIControlEventAllEvents] ;\n    _alphaSlider.value = _map2.alpha;\n}\n\n- (void)mapViewDidChangeVisibleRegion:(MKMapView *)mapView\n{\n    // _map2 is on top and will receive visible region updates, i.e. the user scrolled/moved/zoomed the map \n    // just pass the new region to _map1 so it will be similar to that one of _map2 \n    [_map1 setRegion:_map2.region];\n}\n\n- (void)sliderChanged\n{\n    [_map2 setAlpha:_alphaSlider.value];\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2338026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45ea22360da2a33f8b96f4c805c8d4c7?s=128&d=identicon&r=PG", "display_name": "Pj Dahill", "link": "https://stackoverflow.com/users/2338026/pj-dahill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1539473134, "creation_date": 1539436061, "last_edit_date": 1539457429, "question_id": 52793261, "link": "https://stackoverflow.com/questions/52793261/mkmapview-as-an-overlay", "title": "MKMapview as an overlay", "body": "<p>Is it possible to have an <code>MKMapView</code> lined up on top of another <code>MKMapView</code> with the top having a level of transparency so you can see the bottom. Further when the user swipes, I would like BOTH the top and bottom map to scroll, or zoom in unison.</p>\n\n<p>I am finding the standard map too plain and the satellite map too intense and was hoping to combine them for effect.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["ios", "objective-c", "google-calendar-api"], "comments": [{"owner": {"reputation": 12076, "user_id": 5832311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6jqn.jpg?s=128&g=1", "display_name": "abielita", "link": "https://stackoverflow.com/users/5832311/abielita"}, "edited": false, "score": 0, "creation_date": 1539611523, "post_id": 52790510, "comment_id": 92553938, "body": "Could you provide the error logs?"}, {"owner": {"reputation": 141, "user_id": 4674923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccXCb.jpg?s=128&g=1", "display_name": "Mansi Dobariya", "link": "https://stackoverflow.com/users/4674923/mansi-dobariya"}, "reply_to_user": {"reputation": 12076, "user_id": 5832311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6jqn.jpg?s=128&g=1", "display_name": "abielita", "link": "https://stackoverflow.com/users/5832311/abielita"}, "edited": false, "score": 0, "creation_date": 1539694091, "post_id": 52790510, "comment_id": 92587700, "body": "yes, Error log is already given in above question. just last line."}], "owner": {"reputation": 141, "user_id": 4674923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccXCb.jpg?s=128&g=1", "display_name": "Mansi Dobariya", "link": "https://stackoverflow.com/users/4674923/mansi-dobariya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539415117, "creation_date": 1539415117, "question_id": 52790510, "link": "https://stackoverflow.com/questions/52790510/google-calendar-calendar-list-event-list", "title": "Google Calendar Calendar List, Event List", "body": "<p>I am using GTMAppAuth SignIn for authentication in one of my iOS application. With that I am defining all possible scopes for Google Calendar use but still getting the following error.Google Calendar API &amp;  CalDAV API is enable on Google Console but still I do not know why I am getting this error.i also add Scopes for Google APIs shown in below image.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6qtft.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6qtft.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>my code is given below:\n\n\n-(void) fetchCalendarList\n {\n    self.calendarList = nil;\n    self.calendarListFetchError = nil;\n\n    id&lt;GTMFetcherAuthorizationProtocol&gt; authorization =\n    [GTMAppAuthFetcherAuthorization authorizationFromKeychainForName:kGTMAppAuthKeychainItemName];\n\n    self.calendarService.authorizer = authorization;\n    GTLRCalendarService *service = self.calendarService;\n\n    GTLRCalendarQuery_CalendarListList *query = [GTLRCalendarQuery_CalendarListList query];\n\n//    query.minAccessRole = kGTLRCalendarMinAccessRoleOwner;\n//  query.minAccessRole = kGTLRCalendarOrderByStartTime;\n\n\n    self.calendarListTicket = [service executeQuery:query\n                                  completionHandler:^(GTLRServiceTicket *callbackTicket,\n                                                      id calendarList,\n                                                      NSError *callbackError) {\n                                      // Callback\n                                      self.calendarList = calendarList;\n                                      self.calendarListFetchError = callbackError;\n                                      self.calendarListTicket = nil;\n                                      [self fetchEvents];\n                                  }];\n}\n\n i am getting this error:\n\nPrinting description of callbackError:\nError Domain=com.google.GTLRErrorObjectDomain Code=403 \"Insufficient Permission\" UserInfo={GTLRStructuredError=GTLRErrorObject 0x1c065adc0: {message:\"Insufficient Permission\" errors:[1] code:403}, NSLocalizedDescription=Insufficient Permission}\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "iphone"], "comments": [{"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 1, "creation_date": 1539415664, "post_id": 52789733, "comment_id": 92501950, "body": "simply use a weak reference for <code>possiblyReleasedObject</code> it will become <code>nil</code> when the last strong reference to the object is gone. it is perfectly ok to send a message to <code>nil</code> in Obj-C"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1539457876, "post_id": 52789733, "comment_id": 92512745, "body": "either this, or make sure the object doesn&#39;t go away."}], "answers": [{"comments": [{"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 1, "creation_date": 1539415407, "post_id": 52790181, "comment_id": 92501895, "body": "this is false. Objective-c has Automatic Reference Counting, and alongside that, weak pointers which are set to <code>nil</code> when the object the reference is deallocated. no need to <code>retain</code> or <code>release</code> anything in modern objective-c"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 1, "creation_date": 1539457701, "post_id": 52790181, "comment_id": 92512714, "body": "@BradAllred: no, its true. if it crashes because of a dangling pointer, the solution is not to check if the pointer is still alive, because that&#39;s not possible. How can you check if 0x92837260 points to a valid address?"}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "reply_to_user": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1539473257, "post_id": 52790181, "comment_id": 92516170, "body": "@Michael learn what a weak pointer is. they become <i>nil</i> when the object they point to is destroyed; they don&#39;t dangle. Your advice became antiquated with ARC."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1539473430, "post_id": 52790181, "comment_id": 92516199, "body": "@BradAllred : dude, I know what a weak pointer is. I even read the objc runtime source. I understand what you are saying. I know that weak pointers can solve the problem of the OP. The answer is still correct though. You have to learn to read properly!"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 1, "creation_date": 1539473606, "post_id": 52790181, "comment_id": 92516217, "body": "@BradAllred weak pointers become nil when the pointee deallocates. They sidestep the problem of trying to check if a pointer is alive. There still is no way to check if a given pointer address like 0x82715150 is valid or not."}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1539473675, "post_id": 52790181, "comment_id": 92516229, "body": "this answer is insufficient for modern Objective-C. I <i>did</i> read it and I saw this quote: &quot;There is no way to (safely) check if a pointer to an object points to a valid memory location in Objective-C.&quot;  but weak pointers a meant for exactly this. You also mention <code>retain</code> and <code>release</code> you can&#39;t even do those things with ARC."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1539473675, "post_id": 52790181, "comment_id": 92516230, "body": "@BradAllred why don&#39;t you post your own answer?"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1539473799, "post_id": 52790181, "comment_id": 92516252, "body": "@BradAllred sure, the answer can be improved by adding weak pointers. But that doesn&#39;t make it wrong, does it?"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1539473970, "post_id": 52790181, "comment_id": 92516281, "body": "@BradAllred even under ARC objects are retained and released. Instead of -retain and -release ARC uses objc_retain and objc_release. Ita still reference counting"}, {"owner": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "reply_to_user": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 1, "creation_date": 1540253195, "post_id": 52790181, "comment_id": 92787473, "body": "@Michael You are right that the answer is not incorrect. My complaint is that it feels <i>incomplete</i> without mention of ARC and it&#39;s less likely to help others. OP asked about checking a previously good pointer to a transient object, not about inferring validity of an arbitrary address. ARC internals, <code>objc_retain</code>, semantics of raw pointers all make for a fun discussion, but it&#39;s not likely to help people that land here. Its a fair point that I can write my own answer, but OP accepted this and there are many extremely well written questions and answers regarding ARC and similar issues to this."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1540286377, "post_id": 52790181, "comment_id": 92798880, "body": "@BradAllred: that&#39;s a fair point, I just upvoted your comment btw. I was in a situation once where an ios app did crash occasionally, and a co-worker asked me if there is a way to check if a pointer address is valid. And she didn&#39;t want to know about weak pointers but really about checking pointer addresses. So I thought &quot;well, this is a reasonable question then&quot;. I said that this is not possible. (Maybe it is possible with signal handling, but the idea of doing this is horrifying.) ..."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1540286608, "post_id": 52790181, "comment_id": 92799045, "body": "@BradAllred: On the other hand, I still think that the answer is okay though, and maybe this is where we disagree. But I understand your point and I think it is reasonable! If you get EXC_BAD_ACCESS in your app, there is a logic error in your design or a race condition (or data race or dealloc race (these categories are not mutually exclusive)). You should find the error, improve your understanding of the program and fix the program then. I rarely used weak pointers to check if an object is alive. I use them e.g. for delegate protocols, or for breaking retain cycles."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 6715, "user_id": 2899280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4458bb90b869271c5787c7e600b4ed8e?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Allred", "link": "https://stackoverflow.com/users/2899280/brad-allred"}, "edited": false, "score": 0, "creation_date": 1540287018, "post_id": 52790181, "comment_id": 92799301, "body": "@BradAllred: and if I get an EXC_BAD_ACCESS in an app, I pause for a moment and try to understand the problem and fix that. Maybe the pointer should be retained instead? Maybe there is an over-releasee somewhere? (This can even happen with ARC, e.g. when you are using NSInvocation in a wrong way.) All these issues get hidden if you just put a &quot;weak pointer duck tape&quot; on the issue. Weak pointers also have other problems: if you try to get a weak pointer of an object that is currently deallocating, you get a crash (a hardware trap, not an exception)."}], "tags": [], "owner": {"reputation": 2905, "user_id": 365967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c900b1ae9ea9215f803fcdf37e8836e6?s=128&d=identicon&r=PG", "display_name": "cbracken", "link": "https://stackoverflow.com/users/365967/cbracken"}, "is_accepted": true, "score": 1, "last_activity_date": 1539412232, "creation_date": 1539412232, "answer_id": 52790181, "question_id": 52789733, "link": "https://stackoverflow.com/questions/52789733/prevent-exc-bad-access-during-backgrounding-for-long-running-processes/52790181#52790181", "title": "Prevent EXC_BAD_ACCESS during backgrounding for long running processes", "body": "<p>There is no way to (safely) check if a pointer to an object points to a valid memory location in Objective-C. You'll need to structure your program such that objects holding a pointer to <code>possiblyReleasedObject</code> retain it so that it doesn't get inadvertently released. </p>\n\n<p>When an object holding a pointer to <code>possiblyReleasedObject</code> no longer needs it, it's generally good practice to set the pointer to <code>nil</code> after calling <code>release</code> in order to avoid accidentally dereferencing a bad pointer.</p>\n"}], "owner": {"reputation": 1152, "user_id": 1799154, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/H4vc9.jpg?s=128&g=1", "display_name": "Elliot Schrock", "link": "https://stackoverflow.com/users/1799154/elliot-schrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 52790181, "answer_count": 1, "score": 0, "last_activity_date": 1539412232, "creation_date": 1539407429, "question_id": 52789733, "link": "https://stackoverflow.com/questions/52789733/prevent-exc-bad-access-during-backgrounding-for-long-running-processes", "title": "Prevent EXC_BAD_ACCESS during backgrounding for long running processes", "body": "<p>In my application, I have a series of long running processes. Sometimes, when the app gets backgrounded, one of these processes will return and try to notify other objects (which have been released) that it has completed, causing an EXC_BAD_ACCESS. Something like:</p>\n\n<pre><code>[process runForALongTimeWithCompletion:^(){\n  [possiblyReleasedObject heyTheProcessFinished];\n}];\n</code></pre>\n\n<p>How can I check if <code>possiblyReleasedObject</code> has been released? Or, more precisely in my case, how do I check if it is dereference-able, such that referring to it won't cause a EXC_BAD_ACCESS error?</p>\n"}, {"tags": ["ios", "objective-c", "ibeacon", "signal-strength", "clbeacon"], "answers": [{"tags": [], "owner": {"reputation": 58917, "user_id": 1461050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/c8IhJ.jpg?s=128&g=1", "display_name": "davidgyoung", "link": "https://stackoverflow.com/users/1461050/davidgyoung"}, "is_accepted": false, "score": 1, "last_activity_date": 1539400736, "creation_date": 1539400736, "answer_id": 52789210, "question_id": 52789031, "link": "https://stackoverflow.com/questions/52789031/how-do-i-get-the-signal-strength-value-from-an-ibeacon-packet-on-ios-using-objec/52789210#52789210", "title": "How do I get the Signal Strength value from an iBeacon packet on iOS using Objective-C", "body": "<p>Unfortunately, iOS provides no way to read this value.  CoreLocation does not provide access to this field, and CoreBluetooth blocks access to the raw bytes of iBeacon advertisements.  Ironically, you can read this byte on MacOS, Android, Windows and Linux devices -- just not on iOS.</p>\n\n<p>You can read the CLBeacon rssi property, which gives you the detected signal strength.  But as you probably know this is not the same as the measured power byte transmitted inside the beacon packet that tells you the expected signal strength at 1 meter.  </p>\n\n<p>It is very frustrating that iOS does not allow access to this field.</p>\n"}, {"comments": [{"owner": {"reputation": 963, "user_id": 856232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1c32b1f120c3cc0f710856a2348c9c8c?s=128&d=identicon&r=PG", "display_name": "user856232", "link": "https://stackoverflow.com/users/856232/user856232"}, "edited": false, "score": 0, "creation_date": 1539611355, "post_id": 52812239, "comment_id": 92553827, "body": "Thank you for all the information. I actually already had implemented what you show. I was just still hoping that somehow the actual measured signal strength at 1m was exposed somewhere as that is the only way to get an accurate distance. iOs with their proximity is ok, but not great. I know the measured signal strength is in the byte stream and just wish Apple would expose it so we could get at it. Thanks again for your answer."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 963, "user_id": 856232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1c32b1f120c3cc0f710856a2348c9c8c?s=128&d=identicon&r=PG", "display_name": "user856232", "link": "https://stackoverflow.com/users/856232/user856232"}, "edited": false, "score": 0, "creation_date": 1539660643, "post_id": 52812239, "comment_id": 92571817, "body": "Ok,if want the measured signal strength.Hope apple to expose."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 0, "last_activity_date": 1539590730, "creation_date": 1539590730, "answer_id": 52812239, "question_id": 52789031, "link": "https://stackoverflow.com/questions/52789031/how-do-i-get-the-signal-strength-value-from-an-ibeacon-packet-on-ios-using-objec/52812239#52812239", "title": "How do I get the Signal Strength value from an iBeacon packet on iOS using Objective-C", "body": "<p>According to Apple's official documents\uff0cthe RSSI is regarded as Signal Strength.</p>\n\n<pre><code>Instance Property\nrssi\nThe received signal strength of the beacon, measured in decibels.\n\nDeclaration\n@property(readonly, nonatomic) NSInteger rssi;\n</code></pre>\n\n<p>In Objective-c code,you need to add the two header</p>\n\n<pre><code>#import &lt;CoreLocation/CoreLocation.h&gt;\n#import &lt;CoreBluetooth/CoreBluetooth.h&gt;\n</code></pre>\n\n<p>and in .m you should add their delegate needed:</p>\n\n<pre><code>CBPeripheralManagerDelegate,\nCLLocationManagerDelegate\n</code></pre>\n\n<p>then you should create three object</p>\n\n<pre><code>@property(nonatomic, strong)CLBeaconRegion *beacon; //iBeacon device be scaned\n@property(nonatomic, strong)CLLocationManager *locationManager;//location manager\n@property (strong, nonatomic) CBPeripheralManager *peripheralManager;//periphera manager\n</code></pre>\n\n<p>locationManager be instanced like this:</p>\n\n<pre><code> _locationManager = [[CLLocationManager alloc] init];\n_locationManager.delegate = self;\n[_locationManager requestWhenInUseAuthorization];//set location be allow when use\n</code></pre>\n\n<p>beacon be instanced like this:</p>\n\n<pre><code>_beacon = [[CLBeaconRegion alloc] initWithProximityUUID:[[NSUUID alloc] initWithUUIDString:@\"FDA50693-A4E2-4FB1-AFCF-C6EB07647825\"] identifier:@\"media\"];\n//FDA50693-A4E2-4FB1-AFCF-C6EB07647825 this modified be your need scaned device's UUID\n</code></pre>\n\n<p>peripheralManager be instacned like this:</p>\n\n<pre><code>self.peripheralManager = [[CBPeripheralManager alloc] initWithDelegate:self queue:nil options:nil];\n</code></pre>\n\n<p>in the viewdidload,adjust the location service whether is ok ,and then to do next thing:</p>\n\n<pre><code>BOOL enable = [CLLocationManager locationServicesEnabled];\nif (enable) {\n    if ([CLLocationManager isMonitoringAvailableForClass:[CLBeaconRegion class]])\n    {\n        [self.locationManager requestAlwaysAuthorization];\n        [self.locationManager startMonitoringForRegion:_beacon];\n        [self.locationManager startRangingBeaconsInRegion:_beacon];\n\n    }\n}\n</code></pre>\n\n<p>when find iBeacon device ,can invoke this delegate method:</p>\n\n<pre><code>//find IBeacon device then scan\n- (void)locationManager:(CLLocationManager *)manager didRangeBeacons:(NSArray*)beacons i    nRegion:(CLBeaconRegion *)region{\n//if not we need found deice then stop scan\nif (![[region.proximityUUID UUIDString]           \nisEqualToString:@\"12334566-7173-4889-9579-954995439125\"]) {\n[_locationManager stopMonitoringForRegion:region];\n[_locationManager stopRangingBeaconsInRegion:region];\n}\n//print all IBeacon information\nfor (CLBeacon *beacon in beacons) {\n   NSLog(@\"rssi is : %ld\", beacon.rssi);// this is signal strength\n   NSLog(@\"beacon.proximity %ld\", beacon.proximity);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>this <strong>beacon.rssi</strong> is the signal strength ,i hope this can help you.</p>\n"}], "owner": {"reputation": 963, "user_id": 856232, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1c32b1f120c3cc0f710856a2348c9c8c?s=128&d=identicon&r=PG", "display_name": "user856232", "link": "https://stackoverflow.com/users/856232/user856232"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539590730, "creation_date": 1539398354, "question_id": 52789031, "link": "https://stackoverflow.com/questions/52789031/how-do-i-get-the-signal-strength-value-from-an-ibeacon-packet-on-ios-using-objec", "title": "How do I get the Signal Strength value from an iBeacon packet on iOS using Objective-C", "body": "<p>The iBeacon protocol includes the Signal Strength or Measured Power as the last byte of the packet. Is there any way to get that value?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "automatic-ref-counting", "grand-central-dispatch"], "comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1539371974, "post_id": 52785667, "comment_id": 92493053, "body": "Are you guaranteeing that code on thread 1 is executed after the code on thread 2?"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1539372234, "post_id": 52785667, "comment_id": 92493133, "body": "Is the crash random? (where random means it happens once in a while, but not reproducibly?)"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1539373217, "post_id": 52785667, "comment_id": 92493498, "body": "@bbum: if not, <code>_mySerialQueue</code> would be <code>nil</code>, and <code>[nil retain]</code> never crashes"}, {"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "reply_to_user": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 0, "creation_date": 1539378524, "post_id": 52785667, "comment_id": 92495413, "body": "@Michael Yeah;  but dispatch_async(nil, ...) is undefined IIRC and, given blocks runtime, there might be a path that&#39;d lead to [garbage retain]."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 0, "creation_date": 1539379087, "post_id": 52785667, "comment_id": 92495621, "body": "@bbum: no there isn&#39;t. I looked at the assembly :) It just crashes with EXC_BAD_ACCESS because it tries to dereference a NULL pointer. The pointers in this question however: 0x1943f61e8 points to some iVar and 0x568855a90 points at an object (all objects are 16-byte-aligned and the first pointer is not 16-byte-aligned)"}], "answers": [{"comments": [{"owner": {"reputation": 160387, "user_id": 25646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7953f53aa7715c72054c3d54e7b48?s=128&d=identicon&r=PG", "display_name": "bbum", "link": "https://stackoverflow.com/users/25646/bbum"}, "edited": false, "score": 1, "creation_date": 1539378612, "post_id": 52786015, "comment_id": 92495454, "body": "This is a reasonable conjecture.   In particular, if <code>self</code> represents some kind of worker object, something needs to maintain a strong reference to <code>self</code> until the unit(s) of work are done.   Failure to do so is a <i>really</i> common cause of crashes in concurrent models."}, {"owner": {"reputation": 143, "user_id": 7787794, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F43cZFj51sc/AAAAAAAAAAI/AAAAAAAAABQ/s_YTIT7mKh8/photo.jpg?sz=128", "display_name": "Jaycee Jiang", "link": "https://stackoverflow.com/users/7787794/jaycee-jiang"}, "edited": false, "score": 0, "creation_date": 1539380097, "post_id": 52786015, "comment_id": 92496013, "body": "The premises you brought up are met in my code. And you are right, the crash is not easily reproducible. It happened like &lt;1% and I have never been able to reproduce locally.   What you suggest is definitely making sense to me! Thanks.  But I want to verify the change without going through the whole release cycle, do you have any idea how can I reproduce the issue maybe in a hacky way? So that I can verify the difference before and after the fix :)"}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 143, "user_id": 7787794, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F43cZFj51sc/AAAAAAAAAAI/AAAAAAAAABQ/s_YTIT7mKh8/photo.jpg?sz=128", "display_name": "Jaycee Jiang", "link": "https://stackoverflow.com/users/7787794/jaycee-jiang"}, "edited": false, "score": 0, "creation_date": 1539380540, "post_id": 52786015, "comment_id": 92496156, "body": "@JayceeJiang: I think you could try the &quot;thread sanitizer&quot;. (You&#39;ll find many resources if you google for &quot;ios thread sanitizer&quot;). If you play around with your app for a few minutes it will probably find the issue. If this doesn&#39;t help, I would try the &quot;undefined behaviour sanitizer&quot; next. And if that doesn&#39;t help you may run the clang analyzer (Xcode menu -&gt; Product -&gt; Analyze)."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "reply_to_user": {"reputation": 143, "user_id": 7787794, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F43cZFj51sc/AAAAAAAAAAI/AAAAAAAAABQ/s_YTIT7mKh8/photo.jpg?sz=128", "display_name": "Jaycee Jiang", "link": "https://stackoverflow.com/users/7787794/jaycee-jiang"}, "edited": false, "score": 0, "creation_date": 1539380675, "post_id": 52786015, "comment_id": 92496201, "body": "@JayceeJiang: also note, that if you haven&#39;t run the thread sanitizer yet, it may find plenty of other issues first. It may take a few hours to fix all of that.. (I&#39;ve been there.)"}], "tags": [], "owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "is_accepted": true, "score": 1, "last_activity_date": 1539440898, "last_edit_date": 1539440898, "creation_date": 1539373082, "answer_id": 52786015, "question_id": 52785667, "link": "https://stackoverflow.com/questions/52785667/ios-crash-selector-name-found-in-current-argument-registers-retain/52786015#52786015", "title": "iOS crash - Selector name found in current argument registers: retain", "body": "<p>On the premise that (please verify these)</p>\n\n<ul>\n<li><code>_mySerialQueue</code> is an instance variable</li>\n<li><code>_mySerialQueue</code> is only accessed within <code>@synchronized(self)</code> blocks</li>\n<li>You don't access <code>_mySerialQueue</code> via any property or via key value coding (<code>[theObject valueForKey:\"mySerialQueue\"]</code>)</li>\n<li>All code you posted runs with ARC</li>\n</ul>\n\n<p>I see only one reason why the above code could crash the way it does. I'm still not 100% sure about that, but here is my shot:</p>\n\n<p><code>self</code> is in the process of being deallocated when the crash happens. It can be checked if you clean the iVar in <code>dealloc</code>:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>- (void)dealloc {\n    @synchronized(self) {\n        _mySerialQueue = nil;\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>these crashes would be extremely rare, e.g. one in a hundred at least. If it happens more often, I think the problem is somewhere else.</p>\n\n<p>After the change, the app would still crash, but the EXC_BAD_ACCESS would be at a lower memory location because you are dereferencing a NULL pointer when you call <code>dispatch_async(nil, ...)</code>. The crash location will most likely be 0x00000050, or a similarily low address.</p>\n\n<p><strong>Why do I think this?</strong>\nWhen an object is being destructed, the iVars are destroyed in a separate pass by a method named <code>.cxx_destruct</code>. When this happens, the iVar can be in the process of being deallocated, but at the same time the variable still points to the object because it is never cleared.</p>\n\n<p><strong>Important:</strong> If this works, it will just replace one rare crash with another rare crash, because it would mean that there is a race condition on <code>self</code> somewhere.</p>\n\n<hr>\n\n<p>Another possible solution would be to try to reproduce the problem with the <em>thread sanitizer</em>. It can track down such problems pretty fast in most cases.</p>\n"}], "owner": {"reputation": 143, "user_id": 7787794, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F43cZFj51sc/AAAAAAAAAAI/AAAAAAAAABQ/s_YTIT7mKh8/photo.jpg?sz=128", "display_name": "Jaycee Jiang", "link": "https://stackoverflow.com/users/7787794/jaycee-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "accepted_answer_id": 52786015, "answer_count": 1, "score": 0, "last_activity_date": 1539440898, "creation_date": 1539371232, "question_id": 52785667, "link": "https://stackoverflow.com/questions/52785667/ios-crash-selector-name-found-in-current-argument-registers-retain", "title": "iOS crash - Selector name found in current argument registers: retain", "body": "<p>In hockey app dashboard, I'm getting crashes with following hints:</p>\n\n<p>Exception Type:  SIGTRAP\nException Codes: #0 at 0x1943f61e8\nCrashed Thread:  7\nApplication Specific Information:\nSelector name found in current argument registers: retain</p>\n\n<p>Exception Type:  SIGSEGV\nException Codes: SEGV_ACCERR at 0x568855a90\nCrashed Thread:  18\nApplication Specific Information:\nobjc_msgSend() selector name: retain</p>\n\n<p>Both crash groups are hitting same code but somehow they had different crash description which I believe should be same root cause.</p>\n\n<p>This is what my code looks like:</p>\n\n<p>thread 1:</p>\n\n<pre><code>dispatch_queue_t queue;\n@synchronized (self) {\n    queue = _mySerialQueue;\n}\ndispatch_async(queue, ^{ // Crash happens here\n    if (_ivar) {\n        ...\n    }\n});\n</code></pre>\n\n<p>thread 2:</p>\n\n<pre><code>@synchronized (self) {\n    _mySerialQueue = dispatch_queue_create(...);\n}\n</code></pre>\n\n<p>Can this code run into ARC issue? </p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1, "user_id": 5771745, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kIzQEDF4OCY/AAAAAAAAAAI/AAAAAAAAAFM/kn574DZ7RP4/photo.jpg?sz=128", "display_name": "Cellerx", "link": "https://stackoverflow.com/users/5771745/cellerx"}, "edited": false, "score": 0, "creation_date": 1539365906, "post_id": 52784533, "comment_id": 92490416, "body": "i use xcode10 on macOS10.14"}, {"owner": {"reputation": 1078, "user_id": 1504730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e861722d009258c51ae1b59275520ca8?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/1504730/phil"}, "edited": false, "score": 1, "creation_date": 1539366200, "post_id": 52784533, "comment_id": 92490552, "body": "I wouldn&#39;t get hung up on the console output, I&#39;ve never understood how it picks and chooses when to wrap a string in quotes or not. Calling <code>[dict valueForKey: @&quot;userPhone&quot;]</code> should work fine though based off of what you&#39;ve shared. Is that not working?"}, {"owner": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 1, "creation_date": 1539366483, "post_id": 52784533, "comment_id": 92490683, "body": "Don&#39;t use <code>valueForKey</code> unless you can explain why you explicitly need KVC."}, {"owner": {"reputation": 589, "user_id": 3000433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rJ1b9.png?s=128&g=1", "display_name": "Mochi", "link": "https://stackoverflow.com/users/3000433/mochi"}, "reply_to_user": {"reputation": 1078, "user_id": 1504730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e861722d009258c51ae1b59275520ca8?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/1504730/phil"}, "edited": false, "score": 0, "creation_date": 1539367536, "post_id": 52784533, "comment_id": 92491125, "body": "It would help if you actually show us the actual error if there is an error. The image just shows the log with no quotes which as @Philzay81 mentioned is no problem. I tried logging the same dictionary with strings and none of my values have quotes."}, {"owner": {"reputation": 1, "user_id": 5771745, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kIzQEDF4OCY/AAAAAAAAAAI/AAAAAAAAAFM/kn574DZ7RP4/photo.jpg?sz=128", "display_name": "Cellerx", "link": "https://stackoverflow.com/users/5771745/cellerx"}, "reply_to_user": {"reputation": 229649, "user_id": 5044042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjUNl.jpg?s=128&g=1", "display_name": "vadian", "link": "https://stackoverflow.com/users/5044042/vadian"}, "edited": false, "score": 0, "creation_date": 1539512324, "post_id": 52784533, "comment_id": 92522044, "body": "@vadian ths,but i use dict[@&quot;userPhone&quot;] still wrong, maybe a xcode bug."}], "answers": [{"tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": false, "score": -1, "last_activity_date": 1539381299, "creation_date": 1539381299, "answer_id": 52787448, "question_id": 52784533, "link": "https://stackoverflow.com/questions/52784533/nsdictionary-create-error-some-key-no-quote/52787448#52787448", "title": "NSDictionary Create Error, Some key no quote", "body": "<p>There is no problem in Xcode 10 and OSX 10.14. </p>\n\n<pre><code>        NSDictionary * dict = @{\n                                @\"userPhone\": @\"123\",\n                                @\"userName\": @\"123\"\n                                };\n        NSLog(@\"%@\",dict.description);\n        NSLog(@\"%@\", [dict valueForKey: @\"userPhone\"]);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5771745, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kIzQEDF4OCY/AAAAAAAAAAI/AAAAAAAAAFM/kn574DZ7RP4/photo.jpg?sz=128", "display_name": "Cellerx", "link": "https://stackoverflow.com/users/5771745/cellerx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1539381299, "creation_date": 1539365809, "last_edit_date": 1539380519, "question_id": 52784533, "link": "https://stackoverflow.com/questions/52784533/nsdictionary-create-error-some-key-no-quote", "title": "NSDictionary Create Error, Some key no quote", "body": "<p>Create a Dictionary</p>\n\n<p><img src=\"https://i.stack.imgur.com/4JSpQ.png\" alt=\"Create a Dictionary\"></p>\n\n<p>Print result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/eUQOT.png\" alt=\"print result\"></p>\n\n<p>I can't get it with key, <code>valueForKey: @\"userPhone\"</code>\nwhy userPhone no quote</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 2, "creation_date": 1539374563, "post_id": 52784339, "comment_id": 92493983, "body": "Where is this code? Show some context. And you shouldn&#39;t be directly updating a cell. Update your model and then tell the table view to reload the row at that index path."}, {"owner": {"reputation": 31, "user_id": 10495948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c1ef0cc8f11fbf91a5e4fe657805d0?s=128&d=identicon&r=PG&f=1", "display_name": "F. Baldwin", "link": "https://stackoverflow.com/users/10495948/f-baldwin"}, "reply_to_user": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1539375656, "post_id": 52784339, "comment_id": 92494389, "body": "? I use this exact method to update the button icon inside the cell (In this case I use the button action itself to do so). The difference is that the piece of code that changes the button icon (starts with <code>[cell.button setImage....</code>) doesn&#39;t work in this other thread."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 2196724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fJ7zn.jpg?s=128&g=1", "display_name": "Tom Vos", "link": "https://stackoverflow.com/users/2196724/tom-vos"}, "is_accepted": true, "score": -1, "last_activity_date": 1539458295, "last_edit_date": 1539458295, "creation_date": 1539389222, "answer_id": 52788398, "question_id": 52784339, "link": "https://stackoverflow.com/questions/52784339/changing-button-icon-toggling-button-from-another-thread/52788398#52788398", "title": "Changing button icon/toggling button from another thread", "body": "<p>I can see your call to <br><code>[self launchThread];</code></p>\n\n<p>How does the sender/cell end up in the dictionary you have at <br><code>-(void)thread:(NSDictionary*)taskAssets</code></p>\n\n<p>I am not fully aware of what <code>@autoreleasepool</code> does, but maybe you can give the following a try:</p>\n\n<pre><code>-(void)thread:(NSDictionary*)taskAssets{\n    @autoreleasepool {\n        // Unpacking data\n        __block TaskObject *taskData = taskAssets[@\"taskData\"];\n        __block UILabel *statusLabel = taskAssets[@\"statusLabel\"];\n        __block CustomTaskCell *cell = taskAssets[@\"cell\"];\n\n        printf(\"Wow, this is the thread data: %s\\n\", [taskData.getTaskName UTF8String]);\n        sleep(10);\n        printf(\"Wow, the thread is done\\n\");\n        dispatch_sync(dispatch_get_main_queue(), ^{\n            [cell setSelected:FALSE];\n            [cell.button setImage:[UIImage imageNamed:@\"playIcon\"] forState:UIControlStateNormal];\n            statusLabel.text = @\"Status: Finished\";\n        });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10495948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c1ef0cc8f11fbf91a5e4fe657805d0?s=128&d=identicon&r=PG&f=1", "display_name": "F. Baldwin", "link": "https://stackoverflow.com/users/10495948/f-baldwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 52788398, "answer_count": 1, "score": 2, "last_activity_date": 1539458295, "creation_date": 1539365001, "last_edit_date": 1539375686, "question_id": 52784339, "link": "https://stackoverflow.com/questions/52784339/changing-button-icon-toggling-button-from-another-thread", "title": "Changing button icon/toggling button from another thread", "body": "<p>I am trying to run a thread in the background by pressing a button placed on an <code>UITableViewCell</code>.</p>\n\n<p>Now, I have a method that gets called every time the button gets pressed and it changes the icon (from play to pause) and also does other things.</p>\n\n<p>If the thread finishes successfully (although you can stop it with the button on the cell), this button should transition back from the pause icon to play icon, to show that the thread is finished correctly.</p>\n\n<p>I tried passing the cell itself inside the other thread, and then edit the cell button inside <code>dispatch_sync</code>. xCode here doesn't throw any errors, but the button icon does not change.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>-(void)thread:(NSDictionary*)taskAssets{\n    @autoreleasepool {\n\n        // Unpacking data\n        TaskObject *taskData = taskAssets[@\"taskData\"];\n        UILabel *statusLabel = taskAssets[@\"statusLabel\"];\n        CustomTaskCell *cell = taskAssets[@\"cell\"];\n\n        printf(\"Wow, this is the thread data: %s\\n\", [taskData.getTaskName UTF8String]);\n        sleep(10);\n        printf(\"Wow, the thread is done\\n\");\n        dispatch_sync(dispatch_get_main_queue(), ^{\n            [cell setSelected:FALSE];\n            [cell.button setImage:[UIImage imageNamed:@\"playIcon\"] forState:UIControlStateNormal];\n            statusLabel.text = @\"Status: Finished\";\n\n        });\n    }\n}\n</code></pre>\n\n<p>Is there some way to achieve this?</p>\n\n<p>This is where the icon changing works (yes sender is the button)</p>\n\n<pre><code>- (IBAction)runTask:(id)sender {\n    if ([sender isSelected]) {\n        [sender setImage:[UIImage imageNamed:@\"playIcon\"] forState:UIControlStateNormal];\n        [sender setSelected:NO];\n        [self updateStatus:@\"Stopped\"];\n    } else {\n        [sender setImage:[UIImage imageNamed:@\"pauseIcon\"] forState:UIControlStateSelected];\n        [sender setSelected:YES];\n        [self updateStatus:@\"Running...\"];\n        [self launchThread]; // This is where the thread starts...\n    }\n}\n</code></pre>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 7066, "user_id": 1041122, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/W5vl3.jpg?s=128&g=1", "display_name": "Julian F. Weinert", "link": "https://stackoverflow.com/users/1041122/julian-f-weinert"}, "edited": false, "score": 1, "creation_date": 1539355119, "post_id": 52781619, "comment_id": 92485097, "body": "You can use the keyboards provided by the system as-is or create a custom keyboard, which <i>might</i> be a bit too much. Also keep in mind that users are used to specific keyboards, from a UX point of view this could be bad anyway."}, {"owner": {"reputation": 297030, "user_id": 1226963, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/yjY1E.png?s=128&g=1", "display_name": "rmaddy", "link": "https://stackoverflow.com/users/1226963/rmaddy"}, "edited": false, "score": 0, "creation_date": 1539355665, "post_id": 52781619, "comment_id": 92485431, "body": "FYI - a decimal pad shows either a comma or a dot depending on the user&#39;s locale."}, {"owner": {"reputation": 1107, "user_id": 9872568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487ee4c0bfb5d0fff8f9037e57478e0b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dandelion", "link": "https://stackoverflow.com/users/9872568/a-dandelion"}, "edited": false, "score": 1, "creation_date": 1539355693, "post_id": 52781619, "comment_id": 92485450, "body": "Can I force a locale for that specific keyboard?"}], "owner": {"reputation": 1107, "user_id": 9872568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/487ee4c0bfb5d0fff8f9037e57478e0b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Dandelion", "link": "https://stackoverflow.com/users/9872568/a-dandelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1539355622, "creation_date": 1539354286, "last_edit_date": 1539355622, "question_id": 52781619, "link": "https://stackoverflow.com/questions/52781619/number-pad-with-dot-in-ios", "title": "Number pad with dot in iOS?", "body": "<p>I am making an app that uses proxies provided by the user. Because the user might not be acquainted with the concept and form of a proxy, I want to limit its keyboard to a numberpad with a dot. </p>\n\n<p>I know that the decimal number pad exists, but that has a comma instead of a dot.</p>\n\n<p>How do I do this? Is there a way to swap the comma for the dot in the decimal number pad?</p>\n"}, {"tags": ["ios", "objective-c", "uiview"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1539356745, "post_id": 52780746, "comment_id": 92485996, "body": "Hmmm... I&#39;m not seeing any issues. You may need to post some more info, or maybe put up a simple project that reproduces it?"}, {"owner": {"reputation": 345, "user_id": 2071813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c5da23d3c5f3429cac7b5870564afb?s=128&d=identicon&r=PG", "display_name": "swarley", "link": "https://stackoverflow.com/users/2071813/swarley"}, "reply_to_user": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1539583324, "post_id": 52780746, "comment_id": 92538971, "body": "No, sorry, I can&#39;t. The behavior is part of a thirdparty sdk I can&#39;t share. Question is: What does XCodes &quot;Quick look&quot; do or change?"}], "answers": [{"tags": [], "owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1539459665, "last_edit_date": 1539459665, "creation_date": 1539459295, "answer_id": 52796589, "question_id": 52780746, "link": "https://stackoverflow.com/questions/52780746/ios-objective-c-iterate-over-uiview-subviews-shows-partial-views-only/52796589#52796589", "title": "ios/objective c: Iterate over UIView.subviews shows partial views only", "body": "<p>I think the linked answer is theoretically correct, but it's a bit unpractical when you actually want to make sense of the output. In the output as it is, you don't see any hierarchy, because you don't see which view is a child of which view. You should at least make the hierarchy a bit visible. For example:</p>\n\n<pre><code>some-view\nanother-view\nwhatever\nfoo\nhello you\n</code></pre>\n\n<p>doesn't look so well. It's better when it looks like this:</p>\n\n<pre><code>(V:) some-view\n  (V:) another-view\n    (V:) whatever\n    (V:) foo\n  (V:) hello you\n</code></pre>\n\n<p>In the second snippet you see that \"another-view\" and \"hello you\" are both subviews of \"some-view\". And you can also see that logViewHierarchy has been called exactly once. In the first (hypothetical) debug output there is no way to know how often logViewHierarchy has been called. And with the \"(V:)\" in the output, you know which debug output lines are from a call to logViewHierarchy, and which debug output lines are from somewhere else! Its almost never a good idea to just log an object with <code>NSLog(@\"%@\", obj);</code>; there should always be a log message at the beginning, so that you can search for it in the source code. (Most internet tutorials use <code>NSLog</code> in a way that is totally ill-suited for a production environment, IMHO.)</p>\n\n<pre><code>// UIView+HierarchyLogging.m\n@implementation UIView (ViewHierarchyLogging)\n- (void)_logViewHierarchyWithIndent:(NSString *)indentation\n{\n    NSLog(@\"%@(V:) %@\", indentation, self);\n    NSString *more_indentation = [indentation stringByAppendingString:@\"  \"];\n    for(UIView *v in self.subviews) {\n        [v _logViewHierarchyWithIndent: more_indentation];\n    }\n}\n- (void)logViewHierarchy\n{\n    [self _logViewHierarchyWithIndent:@\"\"];\n}\n@end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 2071813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c5da23d3c5f3429cac7b5870564afb?s=128&d=identicon&r=PG", "display_name": "swarley", "link": "https://stackoverflow.com/users/2071813/swarley"}, "is_accepted": true, "score": 0, "last_activity_date": 1539595220, "creation_date": 1539595220, "answer_id": 52813459, "question_id": 52780746, "link": "https://stackoverflow.com/questions/52780746/ios-objective-c-iterate-over-uiview-subviews-shows-partial-views-only/52813459#52813459", "title": "ios/objective c: Iterate over UIView.subviews shows partial views only", "body": "<p>The code to log subviews is correct and Michaels answer shows how to do it in a structured way. Problem was that the thirdparty sdk added the subviews and components after the 'viewDidAppear' phase where I was logging. </p>\n\n<p>Thanks anyway and sorry for the confusion</p>\n"}], "owner": {"reputation": 345, "user_id": 2071813, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2c5da23d3c5f3429cac7b5870564afb?s=128&d=identicon&r=PG", "display_name": "swarley", "link": "https://stackoverflow.com/users/2071813/swarley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 52813459, "answer_count": 2, "score": -1, "last_activity_date": 1539595220, "creation_date": 1539351468, "question_id": 52780746, "link": "https://stackoverflow.com/questions/52780746/ios-objective-c-iterate-over-uiview-subviews-shows-partial-views-only", "title": "ios/objective c: Iterate over UIView.subviews shows partial views only", "body": "<p>I learnt from <a href=\"https://stackoverflow.com/questions/2746478/how-can-i-loop-through-all-subviews-of-a-uiview-and-their-subviews-and-their-su\">here</a> how to iterate in objective c over a UIView / log a view hierarchy, but the question is too old to comment on it:</p>\n\n<pre><code>// UIView+HierarchyLogging.h\n@interface UIView (ViewHierarchyLogging)\n- (void)logViewHierarchy;\n@end\n\n// UIView+HierarchyLogging.m\n@implementation UIView (ViewHierarchyLogging)\n- (void)logViewHierarchy\n{\n   NSLog(@\"%@\", self);\n   for (UIView *subview in self.subviews)\n   {\n       [subview logViewHierarchy];\n   }\n}\n@end\n\n// In your implementation\n[myView logViewHierarchy];\n</code></pre>\n\n<p>My problem: in debugging mode everything works just fine if - and only if - I set a breakpoint in the for loop and click in XCode on \"Quick look\". After that all subviews are logged correctly. In a plain run only a few subviews are logged. What am I doing wrong?</p>\n\n<p>Thanks in advance\nJoe</p>\n"}, {"tags": ["objective-c", "xcode", "macos"], "comments": [{"owner": {"reputation": 49517, "user_id": 2998, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/de1c8686d474f502849acbf1d19ac4b7?s=128&d=identicon&r=PG", "display_name": "Stephen Darlington", "link": "https://stackoverflow.com/users/2998/stephen-darlington"}, "edited": false, "score": 0, "creation_date": 1539346780, "post_id": 52776604, "comment_id": 92480311, "body": "If the stack trace is representative, it&#39;s a problem with your storyboard/XIB file(s). I think you were going along the right lines when you were commenting out various panels/windows. Also worth double-checking whether your references are strong/weak. See here: <a href=\"https://stackoverflow.com/questions/7678469/should-iboutlets-be-strong-or-weak-under-arc/31395938#31395938\" title=\"should iboutlets be strong or weak under arc\">stackoverflow.com/questions/7678469/&hellip;</a>"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539358570, "post_id": 52776604, "comment_id": 92487031, "body": "Did you create a new Xcode project? Which SDK is used with Xcode 8 and 9?"}, {"owner": {"reputation": 12147, "user_id": 4244136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ee698ef15036e2393a30962db90cfa3?s=128&d=identicon&r=PG&f=1", "display_name": "Willeke", "link": "https://stackoverflow.com/users/4244136/willeke"}, "edited": false, "score": 0, "creation_date": 1539358638, "post_id": 52776604, "comment_id": 92487073, "body": "Maybe related: &quot;If your application is linked on macOS 10.13 SDK or later, NSWindows that are ordered-in will be strongly referenced by AppKit, until they are explicitly ordered-out or closed (not including hide or minimize operations). This means that, generally, an on-screen window will not be deallocated (and close/order-out as a side-effect of deallocation).&quot; <a href=\"https://developer.apple.com/library/archive/releasenotes/AppKit/RN-AppKit/\" rel=\"nofollow noreferrer\">AppKit Release Notes for macOS 10.13</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10494061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Slb8a.jpg?s=128&g=1", "display_name": "SaxmanBob", "link": "https://stackoverflow.com/users/10494061/saxmanbob"}, "is_accepted": false, "score": 2, "last_activity_date": 1539367386, "creation_date": 1539367386, "answer_id": 52784884, "question_id": 52776604, "link": "https://stackoverflow.com/questions/52776604/mac-app-crashes-when-built-with-xcode-9-4-1-runs-fine-built-with-xcode-8-3-3/52784884#52784884", "title": "Mac app crashes when built with Xcode 9.4.1, runs fine built with Xcode 8.3.3", "body": "<p>Thanks @sdarlington and Willeke for very helpful answers. I finally found and fixed the problem. I did have to use the caveman approach and gradually remove stuff from a crashing window (as you rightly identified Stephen). Turns out it was a legacy retain/release issue that none of Xcode's diagnostics was catching. \nI inherited an old graphics framework that doesn't use ARC. It declares ivars like this:</p>\n\n<pre><code>@interface ColourFiller : NSObject\n{\n    NSColor*            m_PrimaryColour;\n    NSColor*            m_SecondaryColour;\n}\n...\n@end\n</code></pre>\n\n<p>then sets them like this in its init method:</p>\n\n<pre><code>m_PrimaryColour = [NSColor colorWithCalibratedRed:1 green:1 blue:1 alpha:1];\nm_SecondaryColour = [NSColor colorWithCalibratedRed:0 green:0 blue:0 alpha:1];\n</code></pre>\n\n<p>Note the lack of manual retain.\nSo I added one, and all is well:</p>\n\n<pre><code>m_PrimaryColour = [[NSColor colorWithCalibratedRed:1 green:1 blue:1 alpha:1] retain];\nm_SecondaryColour = [[NSColor colorWithCalibratedRed:0 green:0 blue:0 alpha:1] retain];\n</code></pre>\n\n<p>I have no idea why Xcode wasn't flagging this, or indeed why all previous builds/xcode versions were running fine. This code has happily existed without symptoms for years. Some library changes must have been made by Apple in Xcode 9 that finally exposed it.</p>\n\n<p>Thanks again for your help - I can now progress to Xcode 10 and Mojave.</p>\n"}], "owner": {"reputation": 31, "user_id": 10494061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Slb8a.jpg?s=128&g=1", "display_name": "SaxmanBob", "link": "https://stackoverflow.com/users/10494061/saxmanbob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539367386, "creation_date": 1539336937, "last_edit_date": 1539342069, "question_id": 52776604, "link": "https://stackoverflow.com/questions/52776604/mac-app-crashes-when-built-with-xcode-9-4-1-runs-fine-built-with-xcode-8-3-3", "title": "Mac app crashes when built with Xcode 9.4.1, runs fine built with Xcode 8.3.3", "body": "<p>I am trying to migrate to using Xcode 10 on Mojave, coming from using Xcode 8.3.3 on High Sierra. I have a sizeable app containing a fair bit of legacy (non-ARC) code. The app is currently live in the Mac App Store, built with 8.3.3 on High Sierra.</p>\n\n<p>I encountered problems with Xcode 10 and Mojave which took me down a rabbit hole, so I decided to back up and limit the migration to one step at a time. I'm currently attempting (unsuccessfully) to build and run using Xcode 9.4.1 on High Sierra.</p>\n\n<p>Using exactly the same code base (new repo checkout) my app builds and runs fine using Xcode 8.3.3. It builds fine using 9.4.1, but crashes on running.</p>\n\n<p>The problem appears to be memory/reference-counting related. I always get a crash when the app tries to show a window, and the trace is not very helpful. Runtime debug output consistently indicates that I'm sending a message to a deallocated object. Here's a typical stack trace:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qBzB1.png\" rel=\"nofollow noreferrer\">stack trace</a></p>\n\n<p>Whenever the app tries to show a window, I get messages such as (the old favourite) \"message sent to deallocated instance\". I don't always recognise the receiver as being one of my properties, so it looks like this is just a symptom, not a cause. Here's a typical message:\n*** -[NSCalibratedRGBColor release]: message sent to deallocated instance 0x60000605ce60</p>\n\n<p>I've tried in vain to get anything back from Xcode's diagnostics, such as zombies and malloc scribble. Radio silence. Also the static analyser reports no problems.\nAll I can think is that manual reference counting is somehow being treated differently by Xcode 9. I've checked through all the build flags to see if Xcode 9 changed anything. No changes. I've checked the release notes and can find no mention of changes to reference counting.</p>\n\n<p>I can push the problem around by commenting out the display of various panels and windows, but the crash always takes the same form.</p>\n\n<p>Has anyone else come across similar issues and found a solution? Am I missing something with Xcode 9?  Any help greatly appreciated.</p>\n"}, {"tags": ["ios", "objective-c", "sirishortcuts"], "owner": {"reputation": 23945, "user_id": 15371, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/40c7d82fd9a420efc8317777dcabe9be?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/15371/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539335409, "creation_date": 1539335409, "question_id": 52776113, "link": "https://stackoverflow.com/questions/52776113/how-do-i-programatically-get-the-templated-response-string-from-an-intent", "title": "How do I programatically get the templated response string from an intent?", "body": "<p>I've set up a bunch of intents in my intent definition file.  Each of them has a response template for each response status.</p>\n\n<p>When I perform an interaction for one of those intents, my app delegate's <a href=\"https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623072-application?language=objc\" rel=\"nofollow noreferrer\"><code>-application:continueUserActivity:restorationHandler:</code></a> method is called, and the interaction and its intent are available in the <code>continueUserActivity</code> argument.  I'd like to show the message that I set up in the response template to the user.  I can get the parameters from the intent response, but not the templated response string, nor even the just template.</p>\n\n<p>How do I programatically get the templated response string from the intent?</p>\n"}, {"tags": ["ios", "objective-c", "iphone", "xcode"], "comments": [{"owner": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "edited": false, "score": 0, "creation_date": 1539337394, "post_id": 52774949, "comment_id": 92475144, "body": "Probably duplicates <a href=\"https://stackoverflow.com/questions/44167577/using-private-api-to-read-wifi-rssi-value/48083845#48083845\">this question</a>"}, {"owner": {"reputation": 564, "user_id": 4839531, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/973240229353207/picture?type=large", "display_name": "Vladim&#237;r", "link": "https://stackoverflow.com/users/4839531/vladim%c3%adr"}, "reply_to_user": {"reputation": 2727, "user_id": 7388630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o3TeY.jpg?s=128&g=1", "display_name": "fewlinesofcode", "link": "https://stackoverflow.com/users/7388630/fewlinesofcode"}, "edited": false, "score": 0, "creation_date": 1539339410, "post_id": 52774949, "comment_id": 92476258, "body": "@llb But it does not solves live updating if the WiFi signal."}, {"owner": {"reputation": 6159, "user_id": 754705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/942fe51aac5dc523f0305439fa9a6e3d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/754705/michael"}, "edited": false, "score": 1, "creation_date": 1539460096, "post_id": 52774949, "comment_id": 92513313, "body": "<code>UIApplication.sharedApplication()</code> is a syntax error. It should be <code>UIApplication.sharedApplication</code>. (It&#39;s not Swift either, because Swift would be <code>UIApplication.shared</code>.)"}], "answers": [{"tags": [], "owner": {"reputation": 404, "user_id": 10485803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e7c4b92d7ae60dd2b5566a365111bdc?s=128&d=identicon&r=PG&f=1", "display_name": "Jae Yang", "link": "https://stackoverflow.com/users/10485803/jae-yang"}, "is_accepted": false, "score": 0, "last_activity_date": 1539721553, "creation_date": 1539721553, "answer_id": 52843572, "question_id": 52774949, "link": "https://stackoverflow.com/questions/52774949/how-to-get-continuously-wifi-strength-on-iphone/52843572#52843572", "title": "How to get continuously WiFi strength on iPhone", "body": "<p>It seems like Apple is not supporting general use Wifi Strength analysis. However, there is a unorthodox method to get signal strength. NEHotspotHelper has a signalStrength property that was designed for users to connect to hotspots.</p>\n\n<p><a href=\"https://forums.developer.apple.com/thread/67932\" rel=\"nofollow noreferrer\">https://forums.developer.apple.com/thread/67932</a></p>\n"}], "owner": {"reputation": 564, "user_id": 4839531, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/973240229353207/picture?type=large", "display_name": "Vladim&#237;r", "link": "https://stackoverflow.com/users/4839531/vladim%c3%adr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539721553, "creation_date": 1539331313, "question_id": 52774949, "link": "https://stackoverflow.com/questions/52774949/how-to-get-continuously-wifi-strength-on-iphone", "title": "How to get continuously WiFi strength on iPhone", "body": "<p>I need in my application to get continuously strength of WiFi.\nI am trying to implement Key-Value Observing approach and get this info from StatusBar this way:</p>\n\n<pre><code>  [UIApplication.sharedApplication()  addObserver:signalListener\n                                         forKeyPath:@\"IDontKnowWhat\"\n                                            options:NSKeyValueObservingOptionNew\n                                            context:NULL]; \n</code></pre>\n\n<p>But this gives me error: </p>\n\n<blockquote>\n  <p>Called object type 'UIApplication * _Nonnull' is not a function or\n  function pointer</p>\n</blockquote>\n\n<p>And later I would like to get signal strength this way: </p>\n\n<pre><code>    NSArray *subviews = [[[IDontKnowWhat valueForKey:@\"statusBar\"] valueForKey:@\"foregroundView\"] subviews];\n    NSString *wifiNetworkItemView = nil;    \n\n    for (id subview in subviews) {\n\n        if([subview isKindOfClass:[NSClassFromString(@\"UIStatusBarDataNetworkItemView\") class]]) {\n            wifiNetworkItemView = subview;\n        }\n    }\n    int wifiSignalStrength = [[wifiNetworkItemView valueForKey:@\"wifiStrengthRaw\"] intValue];\n</code></pre>\n\n<p>Can someone give me advise, if it is possible to implement KVO on statusBar of UIApplication sharedApplication?\nOr is there any other way to get continuously WiFi strength?</p>\n"}, {"tags": ["objective-c", "xcode", "macos"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "edited": false, "score": 0, "creation_date": 1539330970, "post_id": 52774604, "comment_id": 92471526, "body": "As before - nothing shows. I have to replace UIWindow for NSWindow, because it&#39;s not iOS, but still nothing happened at all."}, {"owner": {"reputation": 583, "user_id": 4463881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbdb7933a5012e655ccce936533ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank K Rastogi", "link": "https://stackoverflow.com/users/4463881/mayank-k-rastogi"}, "reply_to_user": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "edited": false, "score": 0, "creation_date": 1539331139, "post_id": 52774604, "comment_id": 92471606, "body": "Damn! I mistook it to be iOS. Apologies."}, {"owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "edited": false, "score": 0, "creation_date": 1539334027, "post_id": 52774604, "comment_id": 92473138, "body": "No problem. Check my edit, I solved one problem, but the app didn&#39;t showed yet..."}], "tags": [], "owner": {"reputation": 583, "user_id": 4463881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbbdb7933a5012e655ccce936533ffcb?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank K Rastogi", "link": "https://stackoverflow.com/users/4463881/mayank-k-rastogi"}, "is_accepted": false, "score": 0, "last_activity_date": 1539329939, "creation_date": 1539329939, "answer_id": 52774604, "question_id": 52774378, "link": "https://stackoverflow.com/questions/52774378/failed-to-connect-view-outlet-from-nsapplication-to-nsview/52774604#52774604", "title": "Failed to connect (view) outlet from (NSApplication) to (NSView)", "body": "<p>There is no need to create an <code>IBOutlet</code> for your view controller since you are instantiating a new instance anyway inside your <code>applicationDidFinishLaunching</code>.</p>\n\n<p>Additionaly, you should make your <code>masterViewController</code> as the <code>rootViewController</code> of your window like this:</p>\n\n<pre><code>self.window.rootViewController = self.masterViewController;\n[self.window makeKeyAndVisible];\n</code></pre>\n\n<p>You might have to create a new window first:</p>\n\n<pre><code>self.window = [[UIWindow alloc]initWithFrame:[[UIScreen mainScreen] bounds]];\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 9342062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD0rq.png?s=128&g=1", "display_name": "Sylwester Pilarz", "link": "https://stackoverflow.com/users/9342062/sylwester-pilarz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 886, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539333993, "creation_date": 1539329005, "last_edit_date": 1539333993, "question_id": 52774378, "link": "https://stackoverflow.com/questions/52774378/failed-to-connect-view-outlet-from-nsapplication-to-nsview", "title": "Failed to connect (view) outlet from (NSApplication) to (NSView)", "body": "<p>I'm working on Xcode 10.0 - macOS 10.14 (Mojave). I was doing an app for my school project that shows the list of movies in rows with their posters and rating stars. Whenever I'm trying to start my application, I'm getting errors:</p>\n\n<blockquote>\n  <p>[default] Unable to load Info.plist exceptions (eGPUOverrides)</p>\n</blockquote>\n\n<p>But it seems that is the system's problem (as I read on Apple forums)... And the second error:</p>\n\n<blockquote>\n  <p>Failed to connect (view) outlet from (NSApplication) to (NSView): missing setter or instance variable</p>\n</blockquote>\n\n<p>Are these errors somewhat connected? I was looking at the .xib file, trying to set the Main.storyboard as Main Interface but there I have empty view... With the .xib file I have nothing - app starts, but only these two errors show up. Here's the code:</p>\n\n<p>MasterViewController.m</p>\n\n<pre><code>#import \"MasterViewController.h\"\n#import \"NSObject+IntengineMovieData.h\"\n#import \"NSObject+IntengineMovieDoc.h\"\n\n@interface MasterViewController ()\n\n@end\n\n@implementation MasterViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    // Do view setup here.\n}\n\n- (NSView *)tableView:(NSTableView *)tableView viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row {\n    NSTableCellView *cellView = [tableView makeViewWithIdentifier:tableColumn.identifier owner:self];\n\n    if([tableColumn.identifier isEqualToString:@\"MoviesColumn\"]) {\n        IntengineMovieDoc *movieDoc = [self.movies objectAtIndex:row];\n        cellView.imageView.image = movieDoc.thumbImage;\n        cellView.textField.stringValue = movieDoc.data.title;\n        return cellView;\n    }\n    return cellView;\n}\n\n- (NSInteger)numberOfRowsInTableView:(NSTableView *)tableView {\n    return [self.movies count];\n}\n\n@end\n</code></pre>\n\n<p>AppDelegate.m</p>\n\n<pre><code>#import \"AppDelegate.h\"\n#import \"NSObject+IntengineMovieDoc.h\"\n#include \"MasterViewController.h\"\n\n@interface AppDelegate ()\n@property (nonatomic, strong) IBOutlet MasterViewController *masterViewController;\n@property (assign) IBOutlet NSWindow *window;\n@end\n\n@implementation AppDelegate\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    self.masterViewController = [[MasterViewController alloc]\n                                 initWithNibName:@\"MasterViewController\" bundle:nil];\n\n    IntengineMovieDoc *movie1 = [[IntengineMovieDoc alloc] initWithTitle:@\"The Godfather\" rating:5 thumbImage:[NSImage imageNamed:@\"TheGodfatherThumb.jpg\"] fullImage:[NSImage imageNamed:@\"TheGodfather.jpg\"]];\n\n    IntengineMovieDoc *movie2 = [[IntengineMovieDoc alloc] initWithTitle:@\"Tree of Life\" rating:4 thumbImage:[NSImage imageNamed:@\"TreeOfLifeThumb.jpg\"] fullImage:[NSImage imageNamed:@\"TreeOfLife.jpg\"]];\n\n    IntengineMovieDoc *movie3 = [[IntengineMovieDoc alloc] initWithTitle:@\"Taxi Driver\" rating:5 thumbImage:[NSImage imageNamed:@\"TaxiDriverThumb.jpg\"] fullImage:[NSImage imageNamed:@\"TaxiDriver.jpg\"]];\n\n    NSMutableArray *movies = [NSMutableArray arrayWithObjects: movie1, movie2, movie3, nil];\n    self.masterViewController.movies = movies;\n\n    [self.window.contentView addSubview:self.masterViewController.view];\n    self.masterViewController.view.frame = ((NSView*)self.window.contentView).bounds;\n}\n\n- (void)applicationWillTerminate:(NSNotification *)aNotification {\n    // Insert code here to tear down your application\n}\n@end\n</code></pre>\n\n<hr>\n\n<p>EDIT 1: Ok, it seems that I have one extra outlet in <code>Referencing Outlets</code> in View Panel. I didn't add that, but after remove this link, app won't show either. Now it shows only this error:</p>\n\n<blockquote>\n  <p>[default] Unable to load Info.plist exceptions (eGPUOverrides)</p>\n</blockquote>\n"}, {"tags": ["objective-c", "macos", "nsimage", "nsimageview", "macos-mojave"], "comments": [{"owner": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1539333822, "post_id": 52774316, "comment_id": 92473035, "body": "What is NSReadPixal?"}, {"owner": {"reputation": 302, "user_id": 1034817, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/be9bec1a36f3ba6a2e4871a020782cc3?s=128&d=identicon&r=PG", "display_name": "M P", "link": "https://stackoverflow.com/users/1034817/m-p"}, "reply_to_user": {"reputation": 5636, "user_id": 1824524, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3b203d394644764db23df78deb743913?s=128&d=identicon&r=PG&f=1", "display_name": "El Tomato", "link": "https://stackoverflow.com/users/1824524/el-tomato"}, "edited": false, "score": 0, "creation_date": 1539340725, "post_id": 52774316, "comment_id": 92477001, "body": "Please see this - <a href=\"https://developer.apple.com/documentation/appkit/1473606-nsreadpixel?language=objc\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/appkit/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 1034817, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/be9bec1a36f3ba6a2e4871a020782cc3?s=128&d=identicon&r=PG", "display_name": "M P", "link": "https://stackoverflow.com/users/1034817/m-p"}, "edited": false, "score": 1, "creation_date": 1539404142, "post_id": 52788968, "comment_id": 92500052, "body": "Yes looks like that is the correct now after 10.14. Agree that NSReadPixel is deprecated but even deprecated methods works upto a time and it&#39;s just deprecated with 10.14 not even 10.13. This is no way good by Apple."}], "tags": [], "owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "is_accepted": true, "score": 1, "last_activity_date": 1539397628, "creation_date": 1539397628, "answer_id": 52788968, "question_id": 52774316, "link": "https://stackoverflow.com/questions/52774316/macos-mojave-nsreadpixel-is-not-working/52788968#52788968", "title": "macOS Mojave - NSReadPixel is not working", "body": "<p>This method is deprecated in 10.14. You may use other methods like the following. Hope you have no problem with the answer.</p>\n\n<pre><code>- (void)mouseDown:(NSEvent *)theEvent{\n            if(!self.image)\n                return;\n            NSPoint clickedPoint = theEvent.locationInWindow;\n\n            NSPoint pointInDocumentView = [self convertPoint:clickedPoint fromView:nil];\n            NSBitmapImageRep * bitmapImageRep = [self bitmapImageRepForCachingDisplayInRect:self.bounds];\n            [self cacheDisplayInRect:self.bounds toBitmapImageRep:bitmapImageRep];\n            [self lockFocus];\n              NSColor* colorAtClickedPoint  =  [bitmapImageRep colorAtX:pointInDocumentView.x y:pointInDocumentView.y];\n\n            [self unlockFocus];\n            if(colorAtClickedPoint){\n                if(self.delegate){\n                    [self.delegate colourCodeDidChange:colorAtClickedPoint];\n                }\n            }\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 1034817, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/be9bec1a36f3ba6a2e4871a020782cc3?s=128&d=identicon&r=PG", "display_name": "M P", "link": "https://stackoverflow.com/users/1034817/m-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 52788968, "answer_count": 1, "score": -1, "last_activity_date": 1539404470, "creation_date": 1539328771, "last_edit_date": 1539404470, "question_id": 52774316, "link": "https://stackoverflow.com/questions/52774316/macos-mojave-nsreadpixel-is-not-working", "title": "macOS Mojave - NSReadPixel is not working", "body": "<p>I have subclassed <code>NSImageView</code> to override <code>mouseDown</code> method to get the colour of clicked point and so far it was working fine on all OS versions (up to 10.13.x) but on 10.14 this doesn't seems to be working and I am always getting null colour when using <code>NSReadPixel</code>. Below is my code of <code>mouseDown</code> method. </p>\n\n<pre><code>- (void)mouseDown:(NSEvent *)theEvent{\nif(!self.image)\n    return;\nNSPoint clickedPoint = theEvent.locationInWindow;\nNSPoint pointInDocumentView = [self convertPoint:clickedPoint fromView:nil];\n[self lockFocus];\nNSColor* colorAtClickedPoint = NSReadPixel(pointInDocumentView);\n[self unlockFocus];\nif(colorAtClickedPoint){\n    if(self.delegate){\n       [self.delegate colourCodeDidChange:colorAtClickedPoint];\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Please help.</p>\n"}, {"tags": ["objective-c", "arrays", "parsing", "nsmutabledictionary"], "comments": [{"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328137, "post_id": 52773757, "comment_id": 92470076, "body": "Are you getting information as JSON or any other formate?"}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328178, "post_id": 52773757, "comment_id": 92470097, "body": "Yes, i am getting information as JSON."}, {"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328229, "post_id": 52773757, "comment_id": 92470126, "body": "Share JSON so I can understand your problem"}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328623, "post_id": 52773757, "comment_id": 92470300, "body": "{     &quot;id&quot; = \u201c1234\u201d; &quot;temp&quot; = &quot;30.85&quot;;obj =    {     0 =     (  0, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59 );  1 =      (  1, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59  );    2 =     (  2, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59  );    3 =     (  3, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59  );     4 =     (  4, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59  );  5 =     (  5, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59  );        6 =      (  6, &quot;7.00&quot;, &quot;8.59\u201d, \u201d15.00\u201d, \u201d16.59&quot;, &quot;19.00&quot;, &quot;20.59 ); };}"}, {"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328732, "post_id": 52773757, "comment_id": 92470352, "body": "this is not a valid JSON, Please share valid JSON."}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328744, "post_id": 52773757, "comment_id": 92470361, "body": "JSON is not an issue, I have parsing and updating the incoming data correctly. Its the when I need to send back the data I need to only send &#39;obj&#39; object as array."}, {"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539328825, "post_id": 52773757, "comment_id": 92470402, "body": "ok. But how can I give you any suggestion with out looking in to input values"}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539329025, "post_id": 52773757, "comment_id": 92470519, "body": "This is how I am getting after NSArray *jsonArray = [NSJSONSerialization JSONObjectWithData: data options: NSJSONReadingMutableContainers error: &amp;error]; Now I am updating few textfields successfully with obj data coming from servers, and these values are updated by UI and obj records always being updated, so values are constantly changing."}, {"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "reply_to_user": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539331514, "post_id": 52773757, "comment_id": 92471795, "body": "@AbdulRehmanWarraich It seems to be the print of a <code>NSDictionary</code>, nothing too complex here."}, {"owner": {"reputation": 8823, "user_id": 10335956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257330a2508f0360e0c81b432d25a6e0?s=128&d=identicon&r=PG&f=1", "display_name": "E.Coms", "link": "https://stackoverflow.com/users/10335956/e-coms"}, "edited": false, "score": 0, "creation_date": 1539350588, "post_id": 52773757, "comment_id": 92482344, "body": "try to use regular expression. It will save your days in future."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1539941697, "post_id": 52790866, "comment_id": 92691905, "body": "int i = 0;         do{         NSLog(@&quot;%@&quot;,[elementArray objectAtIndex:i]);         i++;     }     while( i &lt; [elementArray count]);  This gives me each day as (     1,     &quot;7.00&quot;,     &quot;8.59&quot;,     &quot;15.00&quot;,     &quot;16.59&quot;,     &quot;22.00&quot;,     &quot;23.59&quot; )"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1539948440, "post_id": 52790866, "comment_id": 92695477, "body": "@humble_pie What is your question? From your comment you now appear to have an array of arrays, rather then a dictionary of arrays (so <code>sourceDictionary</code> in the answer correspond with <code>elementArray</code> in your comment and <code>elementArray</code> in the answer corresponds with <code>[elementArray objectAtIndex:i]</code> in your comment). So where you have <code>NSLog</code> in your comment corresponds to the stage in the answer starting &quot;Now you&#39;d better do some data validation...&quot;. Is there something after that point which is causing you difficulty? If so what, what have you tried, etc."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "reply_to_user": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1539948619, "post_id": 52790866, "comment_id": 92695561, "body": "@humble_pie <b>Edit your question</b> to provide further details as above, <b>do not</b> try to squeeze code into comments. You may add a comment to this this answer saying you&#39;ve added information to your question if you wish."}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1539958673, "post_id": 52790866, "comment_id": 92701144, "body": "I have updated the code. Basically I am extracting keys and values from dictionary into element&#39;s array as you suggested. Then In the for loop try to parse each day and time slots but it seems to run multiple times for each day"}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "edited": false, "score": 0, "creation_date": 1539961257, "post_id": 52790866, "comment_id": 92702696, "body": "i got it working, but code looks a bit messy, please see my answer"}], "tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": true, "score": 0, "last_activity_date": 1539967604, "last_edit_date": 1539967604, "creation_date": 1539417852, "answer_id": 52790866, "question_id": 52773757, "link": "https://stackoverflow.com/questions/52773757/parsing-nsmutabledictionary-with-required-format/52790866#52790866", "title": "parsing NSMutableDictionary with required format", "body": "<p>You don't say what your <em>problem</em> actually is, i.e. you started on a solution and stopped and turned to SO, why?</p>\n\n<p>Let's see if we can help you along with some pseudo-code.</p>\n\n<p>You have a dictionary of arrays. the keys represent day numbers as do the first element of each array. After the first array element the elements come in pairs, each is a string containing a textual representation of hours and minutes separated by a full stop. You want and array of arrays where each element has 5 members: day number, start hour, start min, end hour, end minute, all as numbers.</p>\n\n<p>A basic algorithm to handle this is two nested loops. You need somewhere to store the result:</p>\n\n<pre><code>results &lt;- new empty array\n</code></pre>\n\n<p>Now you need to iterate over your dictionary:</p>\n\n<pre><code>for every key in sourceDictionary\n   elementArray = sourceDictionary[key]\n</code></pre>\n\n<p><em>[This is the loop you've written, except you generated the keys and looked them up while here we extract the keys from the dictionary. If you wish to process the keys in a particular order then generating them in that order, or extracting and sorting them, will handle that.]</em></p>\n\n<p>Now you'd better do some data validation, elementArray should have at least the day number and one pair of strings in it, test for that:</p>\n\n<pre><code>   check elementArray count &gt; 1 and odd else handle error\n</code></pre>\n\n<p>Now you need to process each pair of strings, first access them:</p>\n\n<pre><code>   cursor &lt;- 1 // element 0 is the repeated day number\n   while cursor &lt; elementArray count do\n      startTime &lt;- elementArray[cursor]\n      endTime &lt;- elementArray[cursor+1]\n      cursor &lt;- cursor + 2 // ready for next iteration\n</code></pre>\n\n<p>So now you have the day number, <code>key</code>, and the start and end times as string, <code>startTime</code> &amp; <code>endTime</code>. Now you need to split your time strings at the full stop, returning an array of substrings:</p>\n\n<pre><code>      startParts &lt;- startTime split at \".\"\n</code></pre>\n\n<p>More checks, did you get two parts?</p>\n\n<pre><code>      check startParts count is 2 else handle error\n</code></pre>\n\n<p>Now convert each substring to an integer:</p>\n\n<pre><code>      startHours &lt;- parse startParts[0] as integer\n      startMins &lt;- parse startParts[1] as integer\n</code></pre>\n\n<p>And keep checking:</p>\n\n<pre><code>     check startHours in [0, 23] and startMins in [0, 59] else handle error\n</code></pre>\n\n<p>You've now got the five values you want, add them to your <code>results</code> array:</p>\n\n<pre><code>     results &lt;- results append array of (key, startHours, startMins, endHours, endMins)\n</code></pre>\n\n<p>Now just convert that to Objective-C and fill in the details. The first loop could be a <code>for in</code> one, the second a <code>for(init; test; increment)</code> one. For splitting a string look at <code>NSString</code>'s methods, one will fit the bill. For parsing there are multiple options including <code>NSString</code> methods.</p>\n\n<p>HTH</p>\n"}, {"comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1539968461, "post_id": 52895022, "comment_id": 92706244, "body": "It does appear to work according to your output, so well done. You might think it is untidy but there are some more problematic issues. First you have used floating point math as part of parsing two <i>integers</i> which happen to be separated by a full stop. Floating point math works in binary and so you are relying on the minute value being correct after it has been represented as a binary fraction (i.e. <code>.59</code> as a decimal fraction is 5/10 + 9/100, as a binary fraction it is 1/2 + 1/16 + 1/64 + ...). It is much better to parse integer values as integers. (cont)"}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1539968466, "post_id": 52895022, "comment_id": 92706246, "body": "Next in your question you have stated &quot;A day could have multiple slots or just one slot&quot;, your solution essentially contains an &quot;unrolled loop&quot;, repeating the same code 3 times and fixing the number of slots at 3. If you do have data with less than 3 time slots your code will fault. You would be better testing for the number of slots and using a loop so you both avoid faulting and repeating code. HTH"}, {"owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1539969666, "post_id": 52895022, "comment_id": 92706710, "body": "Yes floating point logic isn&#39;t great. I spent more and 2 hours finding better way of splitting the strings after decimal but couldn&#39;t get it working. On your second point, I made sure elsewhere in my code to always supply 3 time slots."}, {"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 0, "creation_date": 1539970163, "post_id": 52895022, "comment_id": 92706909, "body": "You might find <a href=\"https://developer.apple.com/documentation/foundation/nsstring/1413214-componentsseparatedbystring?language=objc\" rel=\"nofollow noreferrer\">this method</a> helpful."}], "tags": [], "owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "is_accepted": false, "score": 0, "last_activity_date": 1539961178, "creation_date": 1539961178, "answer_id": 52895022, "question_id": 52773757, "link": "https://stackoverflow.com/questions/52773757/parsing-nsmutabledictionary-with-required-format/52895022#52895022", "title": "parsing NSMutableDictionary with required format", "body": "<p>I got it working with desired output, but code looks messy, could be made elegant.</p>\n\n<pre><code>` NSMutableArray *elementArray =[[NSMutableArray alloc ]init];\n    NSMutableArray *results =[[NSMutableArray alloc ]init];\n    NSInteger starthour = 0 ;\n    NSInteger startmin = 0 ;\n    NSInteger endhour = 0 ;\n    NSInteger endmin = 0 ;\n\n    NSNumber *starthour1 ;\n    NSNumber *startmin1  ;\n    NSNumber *endhour1 ;\n    NSNumber *endmin1 ;\n    NSMutableArray *temp = [[NSMutableArray alloc]init];\n    NSString *string;\n    int i = 0;\n    for ( i = 0; i &lt;=6; i ++){\n        string = [NSString stringWithFormat:@\"%d\",i];\n        elementArray =[Obj.obj valueForKey:string];\n        starthour = [[elementArray objectAtIndex:1]integerValue];\n        startmin =([[elementArray objectAtIndex:1]floatValue]-[[elementArray objectAtIndex:1]integerValue])*100;\n        endhour = [[elementArray objectAtIndex:2]integerValue];\n        endmin =([[elementArray objectAtIndex:2]floatValue]-[[elementArray objectAtIndex:2]integerValue])*100;\n        NSNumber *day = [NSNumber numberWithInteger:[string integerValue]];\n           starthour1 = [NSNumber numberWithInteger:(int)starthour];\n           startmin1 = [NSNumber numberWithInteger:(int)startmin];\n           endhour1 = [NSNumber numberWithInteger:(int)endhour];\n           endmin1 = [NSNumber numberWithInteger:(int)endmin];\n        [temp addObject:day];\n        [temp addObject:starthour1];\n        [temp addObject:startmin1];\n        [temp addObject:endhour1];\n        [temp addObject:endmin1];\n        [results addObject:[temp copy]];\n\n\n\n        [temp removeAllObjects];\n\n        starthour = [[elementArray objectAtIndex:3]integerValue];\n        startmin =([[elementArray objectAtIndex:3]floatValue]-[[elementArray objectAtIndex:3]integerValue])*100;\n        endhour = [[elementArray objectAtIndex:4]integerValue];\n        endmin =([[elementArray objectAtIndex:4]floatValue]-[[elementArray objectAtIndex:4]integerValue])*100;\n\n        starthour1 = [NSNumber numberWithInteger:(int)starthour];\n        startmin1 = [NSNumber numberWithInteger:(int)startmin];\n        endhour1 = [NSNumber numberWithInteger:(int)endhour];\n        endmin1 = [NSNumber numberWithInteger:(int)endmin];\n        [temp addObject:day];\n        [temp addObject:starthour1];\n        [temp addObject:startmin1];\n        [temp addObject:endhour1];\n        [temp addObject:endmin1];\n        [results addObject:[temp copy]];\n\n\n\n        [temp removeAllObjects];\n        starthour = [[elementArray objectAtIndex:5]integerValue];\n        startmin =([[elementArray objectAtIndex:5]floatValue]-[[elementArray objectAtIndex:5]integerValue])*100;\n        endhour = [[elementArray objectAtIndex:6]integerValue];\n        endmin =([[elementArray objectAtIndex:6]floatValue]-[[elementArray objectAtIndex:6]integerValue])*100;\n\n        starthour1 = [NSNumber numberWithInteger:(int)starthour];\n        startmin1 = [NSNumber numberWithInteger:(int)startmin];\n        endhour1 = [NSNumber numberWithInteger:(int)endhour];\n        endmin1 = [NSNumber numberWithInteger:(int)endmin];\n        [temp addObject:day];\n        [temp addObject:starthour1];\n        [temp addObject:startmin1];\n        [temp addObject:endhour1];\n        [temp addObject:endmin1];\n        [results addObject:[temp copy]];\n\n\n\n        [temp removeAllObjects];\n`\n</code></pre>\n\n<p>The output is what I wanted looks like below.</p>\n\n<blockquote>\n  <p>(\n          (\n          0,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          0,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          0,\n          19,\n          0,\n          20,\n          59\n      ),\n          (\n          1,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          1,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          1,\n          22,\n          0,\n          23,\n          59\n      ),\n          (\n          2,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          2,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          2,\n          19,\n          0,\n          20,\n          59\n      ),\n          (\n          3,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          3,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          3,\n          22,\n          0,\n          23,\n          59\n      ),\n          (\n          4,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          4,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          4,\n          19,\n          0,\n          20,\n          59\n      ),\n          (\n          5,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          5,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          5,\n          22,\n          0,\n          23,\n          59\n      ),\n          (\n          6,\n          7,\n          0,\n          8,\n          59\n      ),\n          (\n          6,\n          15,\n          0,\n          16,\n          59\n      ),\n          (\n          6,\n          19,\n          0,\n          20,\n          59\n      )\n  )</p>\n</blockquote>\n"}], "owner": {"reputation": 99, "user_id": 9641261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00bec0afbe1686fda1f9c55985d21dd0?s=128&d=identicon&r=PG&f=1", "display_name": "humble_pie", "link": "https://stackoverflow.com/users/9641261/humble-pie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 52790866, "answer_count": 2, "score": 0, "last_activity_date": 1539967604, "creation_date": 1539326660, "last_edit_date": 1539958547, "question_id": 52773757, "link": "https://stackoverflow.com/questions/52773757/parsing-nsmutabledictionary-with-required-format", "title": "parsing NSMutableDictionary with required format", "body": "<p>I have an objective C object 'Obj' with an </p>\n\n<pre><code>@property (strong, nonatomic) NSMutableDictionary *obj;\n</code></pre>\n\n<p>This gets populated with data from an api in following format.</p>\n\n<pre><code>{\n  0 =     (  0, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59 );\n  1 =      (  1, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59  );\n  2 =     (  2, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59  );\n  3 =     (  3, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59  );\n  4 =     (  4, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59  );\n  5 =     (  5, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59  );\n  6 =      (  6, \"7.00\", \"8.59\u201d, \u201d15.00\u201d, \u201d16.59\", \"19.00\", \"20.59 );\n}\n</code></pre>\n\n<p>I need to parse the data and send it back as an array in following format.</p>\n\n<pre><code>`{\n[ 0, 7, 00, 8, 59 ],\n[0, 15, 00, 16, 59] , \n[0, 19, 00, 20, 59] , \n[ 1, 7, 00, 8, 59 ],\n[1, 15, 00, 16, 59] , \n[1, 19, 00, 20, 59], \n\u2026\u2026\n\u2026\u2026\n[ 6, 7, 00, 8, 59 ],\n[6, 15, 00, 16, 59] , \n[6, 19, 00, 20, 59] \n}`\n</code></pre>\n\n<p>Where 0,1,2,3,4,5,6 are days and rest of the information is hours and mins. so for each slot, the format is </p>\n\n<pre><code>`[day, from_hour, from_min, to_hour, to_min],\n [0, 7, 0, 8, 59],`\n</code></pre>\n\n<p>A day could have multiple slots or just one slot.</p>\n\n<p>So far I manage to run a loop and separate each day's record as below.</p>\n\n<pre><code>NSMutableArray *elementArray =[[NSMutableArray alloc ]init];\nNSMutableArray *results =[[NSMutableArray alloc ]init];\nNSInteger starthour = 0 ;\nNSInteger startmin = 0 ;\nNSInteger endhour = 0 ;\nNSInteger endmin = 0 ;\nNSMutableArray *temp = [[NSMutableArray alloc]init];\nNSString *string;\nint i = 0;\nfor ( i = 0; i &lt;=6; i ++){\n    string = [NSString stringWithFormat:@\"%d\",i];\n    elementArray =[Obj.obj valueForKey:string];\n    starthour = [[elementArray objectAtIndex:1]integerValue];\n    startmin =([[elementArray objectAtIndex:1]floatValue]-[[elementArray objectAtIndex:1]integerValue])*100;\n    endhour = [[elementArray objectAtIndex:2]integerValue];\n    endmin =([[elementArray objectAtIndex:2]floatValue]-[[elementArray objectAtIndex:2]integerValue])*100;\n    NSNumber *day = [NSNumber numberWithInteger:[string integerValue]];\n    NSNumber *starthour1 = [NSNumber numberWithInteger:(int)starthour];\n    NSNumber *startmin1 = [NSNumber numberWithInteger:(int)startmin];\n    NSNumber *endhour1 = [NSNumber numberWithInteger:(int)endhour];\n    NSNumber *endmin1 = [NSNumber numberWithInteger:(int)endmin];\n    [temp addObject:day];\n    [temp addObject:starthour1];\n    [temp addObject:startmin1];\n    [temp addObject:endhour1];\n    [temp addObject:endmin1];\n    [results addObject:temp];\n}\n</code></pre>\n\n<p>This gives me access to each record. My thought process is saying I could solve this by going through each record and populating the required array as, 'i' being the day, then running a nest loop on each record and extracting hours and mins?</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539323556, "post_id": 52772999, "comment_id": 92468006, "body": "try [galleryResult objectAtIndex: labelTag] instead of galleryResult[labelTag]"}, {"owner": {"reputation": 77129, "user_id": 2783370, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/7VHeO.jpg?s=128&g=1", "display_name": "Anbu.Karthik", "link": "https://stackoverflow.com/users/2783370/anbu-karthik"}, "edited": false, "score": 0, "creation_date": 1539323621, "post_id": 52772999, "comment_id": 92468029, "body": "can you print this <code>galleryResult</code>"}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "edited": false, "score": 0, "creation_date": 1539323663, "post_id": 52772999, "comment_id": 92468050, "body": "no it is not working. showing error &quot;No visible @interface for &#39;NSDictionary&#39; declares the selector &#39;objectAtIndex:&#39;&quot;"}, {"owner": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "edited": false, "score": 0, "creation_date": 1539323812, "post_id": 52772999, "comment_id": 92468114, "body": "is galleryResult is a dictionary?"}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "edited": false, "score": 0, "creation_date": 1539323848, "post_id": 52772999, "comment_id": 92468126, "body": "Printing description of self-&gt;galleryResult: {     data =     (                 {             &quot;comment_count&quot; = 0;             &quot;dislike_count&quot; = 0;             &quot;is_disliked&quot; = 0;             &quot;is_liked&quot; = 0;             &quot;like_count&quot; = 0;             &quot;media_file_id&quot; = 1366;             &quot;media_url&quot; = &quot;195/559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765FAFAD.&zwnj;&#8203;jpg&quot;;             &quot;media_url_thumb&quot; = &quot;195/thumb_559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765&zwnj;&#8203;FAFAD.jpg&quot;;             &quot;post_type&quot; = MI;             &quot;userspost_id&quot; = 26014;         }"}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "reply_to_user": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "edited": false, "score": 0, "creation_date": 1539323919, "post_id": 52772999, "comment_id": 92468150, "body": "@Indrajeet galleryResult is a dictionary"}, {"owner": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "edited": false, "score": 0, "creation_date": 1539324012, "post_id": 52772999, "comment_id": 92468178, "body": "ok, for accessing dictionary object you have to pass key and it should be in String. Here you are passing integer."}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "reply_to_user": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539324160, "post_id": 52772999, "comment_id": 92468235, "body": "@iOSer  no it is not working. showing error &quot;No visible interface for NSDictionary&#39; declares the selector &#39;objectAtIndex:"}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "reply_to_user": {"reputation": 4737, "user_id": 3350628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GIlhX.jpg?s=128&g=1", "display_name": "Indrajeet", "link": "https://stackoverflow.com/users/3350628/indrajeet"}, "edited": false, "score": 0, "creation_date": 1539324688, "post_id": 52772999, "comment_id": 92468445, "body": "@Indrajeet thanku :)"}, {"owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539324749, "post_id": 52772999, "comment_id": 92468464, "body": "Oh okay my apologies. I thought {galleryResult} was an array. can you please put forward the complete log for {galleryResult} unfortunately the one you shared is inconclusive"}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "reply_to_user": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539325468, "post_id": 52772999, "comment_id": 92468770, "body": "@iOSer       Printing description of self-&gt;galleryResult: {     data =     (                 {             &quot;comment_count&quot; = 0;             &quot;dislike_count&quot; = 0;             &quot;is_disliked&quot; = 0;             &quot;is_liked&quot; = 0;             &quot;like_count&quot; = 0;             &quot;media_file_id&quot; = 1366;             &quot;media_url&quot; = &quot;195/559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765FAFAD.&zwnj;&#8203;jpg&quot;;             &quot;media_url_thumb&quot; = &quot;195/thumb_559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765&zwnj;&#8203;FAFAD.jpg&quot;;             &quot;post_type&quot; = MI;             &quot;userspost_id&quot; = 26014;         },"}, {"owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539325823, "post_id": 52772999, "comment_id": 92468932, "body": "Not sure if the message is being truncated or something. The way I see it this is the dictionary { &quot;comment_count&quot; = 0; &quot;dislike_count&quot; = 0; &quot;is_disliked&quot; = 0; &quot;is_liked&quot; = 0; &quot;like_count&quot; = 0; &quot;media_file_id&quot; = 1366; &quot;media_url&quot; = &quot;195/559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765FAFAD.&zwnj;&#8203;jpg&quot;; &quot;media_url_thumb&quot; = &quot;195/thumb_559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765&zwnj;&#8203;FAFAD.jpg&quot;; &quot;post_type&quot; = MI; &quot;userspost_id&quot; = 26014; } and it should have an accessing key which I am not able to see here."}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "reply_to_user": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539326146, "post_id": 52772999, "comment_id": 92469082, "body": "@iOSer { data = ( { &quot;comment_count&quot; = 0; &quot;dislike_count&quot; = 0; &quot;is_disliked&quot; = 0; &quot;is_liked&quot; = 0; &quot;like_count&quot; = 0; &quot;media_file_id&quot; = 1366; &quot;media_url&quot; = &quot;195/559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765FAFAD.&zwnj;&#8203;jpg&quot;; &quot;media_url_thumb&quot; = &quot;195/thumb_559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765&zwnj;&#8203;FAFAD.jpg&quot;; &quot;post_type&quot; = MI; &quot;userspost_id&quot; = 26014; }"}, {"owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539326581, "post_id": 52772999, "comment_id": 92469295, "body": "can you shoot a mail @ iospranav1712@gmail.com regarding the same."}, {"owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "reply_to_user": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539328208, "post_id": 52772999, "comment_id": 92470110, "body": "@iOSer OK please check your mail"}, {"owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539328266, "post_id": 52772999, "comment_id": 92470148, "body": "Yup I received the mail. Thanks!!"}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 9037114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5IT7O.png?s=128&g=1", "display_name": "Tiny", "link": "https://stackoverflow.com/users/9037114/tiny"}, "is_accepted": false, "score": 0, "last_activity_date": 1539324164, "creation_date": 1539324164, "answer_id": 52773188, "question_id": 52772999, "link": "https://stackoverflow.com/questions/52772999/expected-method-to-read-array-element-not-found-on-object-of-type-nsdictionary/52773188#52773188", "title": "Expected method to read array element not found on object of type &#39;NSDictionary *&#39;", "body": "<p>The variables galleryResult is really a NSDictionary? Int can't be the key of NSDictionary</p>\n\n<p>Print all the keys for galleryResult.\nIf the key is an NSNumber, using     </p>\n\n<pre><code>mediadict = galleryResult[@(labelTag)];\n</code></pre>\n\n<p>If the key is a NSString, using </p>\n\n<pre><code>mediadict = galleryResult[[@(labelTag) stringValue]];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "is_accepted": true, "score": 0, "last_activity_date": 1539329793, "creation_date": 1539329793, "answer_id": 52774568, "question_id": 52772999, "link": "https://stackoverflow.com/questions/52772999/expected-method-to-read-array-element-not-found-on-object-of-type-nsdictionary/52774568#52774568", "title": "Expected method to read array element not found on object of type &#39;NSDictionary *&#39;", "body": "<p>On going through your log. It seems to me that <code>galleryResult</code> is a dictionary with a key <code>data</code> that contains an array of dictionary. </p>\n\n<p>You probably want to access the data that is present within <code>data</code> key. </p>\n\n<p>Please try <code>[galleryResult[\"data\"] objectAtIndex: labelTag]</code></p>\n"}], "owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52774568, "answer_count": 2, "score": 1, "last_activity_date": 1539329793, "creation_date": 1539323218, "last_edit_date": 1539326123, "question_id": 52772999, "link": "https://stackoverflow.com/questions/52772999/expected-method-to-read-array-element-not-found-on-object-of-type-nsdictionary", "title": "Expected method to read array element not found on object of type &#39;NSDictionary *&#39;", "body": "<p>I have an album with 10 images, where I want the details of the image clicked. In this code <code>galleryResult</code> has all the details of the 10 images and I am trying to copy the details of the image I clicked to the variable <code>mediaDict</code>. The variables <code>galleryResult</code> and <code>mediaDct</code> is a dictionary. While doing this I get an error that shows <code>Expected method to read array element not found on object of type 'NSDictionary *</code>.</p>\n\n<pre><code>-(void)imageTapped:(UIGestureRecognizer*)gesture\n{      \n    UIView *photoImageView = (UIView *)gesture.view;\n    int labelTag =(int) photoImageView.tag;\n    mediadict = galleryResult[labelTag];\n    [self presentGalleryWithImageAtIndex:photoImageView.tag];      \n}\n</code></pre>\n\n<p>galleryResult printed :</p>\n\n<pre><code>{ data = ( { \"comment_count\" = 0; \"dislike_count\" = 0; \"is_disliked\" = 0; \"is_liked\" = 0; \"like_count\" = 0; \"media_file_id\" = 1366; \"media_url\" = \"195/559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765FAFAD.jpg\"; \"media_url_thumb\" = \"195/thumb_559812113_7511740_193F2CB1-CAA5-4A35-86B0-CAD0765FAFAD.jpg\"; \"post_type\" = MI; \"userspost_id\" = 26014; }\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "xcode"], "comments": [{"owner": {"reputation": 7538, "user_id": 765298, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b99b7c6d1c051ae3636edbc4db7332c5?s=128&d=identicon&r=PG", "display_name": "Losiowaty", "link": "https://stackoverflow.com/users/765298/losiowaty"}, "edited": false, "score": 2, "creation_date": 1539321295, "post_id": 52772584, "comment_id": 92467227, "body": "Hi, and welcome to SO! If you could edit your question with the code directly instead of screenshot it would be great!"}, {"owner": {"reputation": 94591, "user_id": 3418066, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/De72L.jpg?s=128&g=1", "display_name": "Paulw11", "link": "https://stackoverflow.com/users/3418066/paulw11"}, "edited": false, "score": 3, "creation_date": 1539321468, "post_id": 52772584, "comment_id": 92467276, "body": "You should edit your question to include your code as text, not as an image"}, {"owner": {"reputation": 5022, "user_id": 1610005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z98Yp.jpg?s=128&g=1", "display_name": "kj007", "link": "https://stackoverflow.com/users/1610005/kj007"}, "edited": false, "score": 0, "creation_date": 1539325492, "post_id": 52772584, "comment_id": 92468779, "body": "Please provide details about problem you are facing and put your program here in question instead of image."}], "answers": [{"tags": [], "owner": {"reputation": 7538, "user_id": 765298, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b99b7c6d1c051ae3636edbc4db7332c5?s=128&d=identicon&r=PG", "display_name": "Losiowaty", "link": "https://stackoverflow.com/users/765298/losiowaty"}, "is_accepted": false, "score": 1, "last_activity_date": 1539321456, "creation_date": 1539321456, "answer_id": 52772711, "question_id": 52772584, "link": "https://stackoverflow.com/questions/52772584/how-do-i-fix-the-error-expected-expression/52772711#52772711", "title": "How do I fix the error &quot;Expected Expression&quot;", "body": "<p>You have a typo :\n<code>void(^...</code> should be <code>^void(...</code> - the error is somewhat misleading, and it seems strange than Xcode didn\u2019t suggest a \u201eFix-it\u201d.</p>\n\n<p>Anyway, I recommend <a href=\"http://goshdarnblocksyntax.com/\" rel=\"nofollow noreferrer\">http://goshdarnblocksyntax.com/</a> to remind yourself with block syntax.</p>\n"}], "owner": {"reputation": 1, "user_id": 10493178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a93e72f8c562e53b5ca45f7118d65a80?s=128&d=identicon&r=PG&f=1", "display_name": "Rohan Mecheri", "link": "https://stackoverflow.com/users/10493178/rohan-mecheri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1539405302, "creation_date": 1539320719, "last_edit_date": 1539405302, "question_id": 52772584, "link": "https://stackoverflow.com/questions/52772584/how-do-i-fix-the-error-expected-expression", "title": "How do I fix the error &quot;Expected Expression&quot;", "body": "<p>So I was making an app on <code>Xcode ( Objective C)</code> and I really am not able to find a way to fix it</p>\n\n<p>Can somebody please help me with this?</p>\n\n<pre><code>    #import \"ViewController.h\"\n    #import \"DistanceGetter/DGDistanceRequest.h\"\n\n    @interface ViewController ()\n    @property (weak, nonatomic) IBOutlet UITextField *startLocation;\n    @property (nonatomic) DGDistanceRequest *req;\n    @property (weak, nonatomic) IBOutlet UITextField *endLocationA;\n    @property (strong, nonatomic) IBOutlet UIView *distanceA;\n\n    @property (weak, nonatomic) IBOutlet UITextField *endLocationB;\n    @property (weak, nonatomic) IBOutlet UILabel *distanceB;\n\n    @property (weak, nonatomic) IBOutlet UITextField *endLocationC;\n    @property (weak, nonatomic) IBOutlet UILabel *distanceC;\n\n    @property (weak, nonatomic) IBOutlet UIButton *calculateButton;\n\n    @end\n\n    @implementation ViewController\n    - (IBAction)calculateButtonTapped:(id)sender {\n    self.calculateButton.enabled=NO;\n    self.req = [DGDistanceRequest alloc];\n    NSString *start = self.startLocation.text;\n    NSString *destA = self.endLocationA.text;\n    NSString *destB = self.endLocationA.text;\n    NSString *destC = self.endLocationA.text;\n    NSArray *dests = @[destA,destB,destC];\n\n\n    self.req = [self.req initWithLocationDescriptions:dests \n    sourceDescription:start];\n    self.req.callback= void(\u02c6NSArray *responses)\n    self.distanceC.text=@\"callback\";\n    self.calculateButton.enabled = YES;\n    self.req=nil;\n</code></pre>\n\n<p>When I make it \u02c6void(NSArray.....) it gives even more errors</p>\n"}, {"tags": ["ios", "objective-c", "xib", "xcode-storyboard", "autoresize"], "comments": [{"owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "edited": false, "score": 0, "creation_date": 1539279113, "post_id": 52764553, "comment_id": 92454479, "body": "Using the Debug View Hierarchy can go a long way to helping you figure out what&#39;s going on with your layout. To get any help here, you need to provide much more detail about what you&#39;re doing, and what&#39;s going wrong. See: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539279376, "post_id": 52764553, "comment_id": 92454614, "body": "there are a-lot of changes in Auto-layout and size class. Share more info to understand your problem."}, {"owner": {"reputation": 345, "user_id": 8012777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccBIb.jpg?s=128&g=1", "display_name": "Denis Litvin", "link": "https://stackoverflow.com/users/8012777/denis-litvin"}, "edited": false, "score": 1, "creation_date": 1539279571, "post_id": 52764553, "comment_id": 92454713, "body": "I would suggest attaching some code snippets and screenshots if you can."}], "owner": {"reputation": 1, "user_id": 10488349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62d0bc80760c20d2253819a029a9873d?s=128&d=identicon&r=PG&f=1", "display_name": "trailer", "link": "https://stackoverflow.com/users/10488349/trailer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539321119, "creation_date": 1539274175, "last_edit_date": 1539321119, "question_id": 52764553, "link": "https://stackoverflow.com/questions/52764553/ui-alignment-problems-with-xcode9-which-is-working-good-with-xcode-6", "title": "UI alignment problems with Xcode9 which is working good with xcode 6", "body": "<p>I have iOS project code which is developed by using <code>XCode 6.2</code> and iOS8 SDK in <strong>Objective-C</strong>. </p>\n\n<p>Now I have compiled the same source code using XCode 9 and iOS SDK11. </p>\n\n<p>But all my UI alignments got changed once I start rotating the device. </p>\n\n<p>The code has implemented using below UI elements</p>\n\n<ul>\n<li>Xib</li>\n<li>Storyboard</li>\n<li>Programmed UI</li>\n</ul>\n\n<p>So now, I am trying to figure out what is the problem with the source code which misbehaves with <code>XCode 9</code> and working fine with <code>XCode 6</code> in orientations of the device portrait and landscape.</p>\n\n<p>Some light on this problem will be helpful to figure what actually went wrong with the code. (Auto resize / Auto layout / size classes / programmatically UI alignments).</p>\n"}, {"tags": ["ios", "objective-c", "cgaffinetransform"], "answers": [{"comments": [{"owner": {"reputation": 935, "user_id": 3983419, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/ewYUS.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3983419/peter"}, "edited": false, "score": 0, "creation_date": 1539382652, "post_id": 52764688, "comment_id": 92496842, "body": "Thank You, I forgot about <code>CGAffineTransformMakeTranslation </code>"}], "tags": [], "owner": {"reputation": 3713, "user_id": 3641744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947685a4a75d574e57e018a91875ddb8?s=128&d=identicon&r=PG&f=1", "display_name": "agibson007", "link": "https://stackoverflow.com/users/3641744/agibson007"}, "is_accepted": true, "score": 0, "last_activity_date": 1539274621, "creation_date": 1539274621, "answer_id": 52764688, "question_id": 52764214, "link": "https://stackoverflow.com/questions/52764214/how-to-perform-a-transformation-and-frame-change-on-a-uiview/52764688#52764688", "title": "How to perform a Transformation and Frame Change on a UIView", "body": "<p>You are changing the frame after the transform so identity is not working on the transform.  Instead of changing the x and y use a translation on the UIView. My objective c is rusty but see if this is what you are thinking.  I delay it so you can see the starting position and ending position.Also the pros of using translation instead of manipulating the frame is if you use AutoLayout you are not messing with the frame.</p>\n\n<pre><code>#import \"ViewController.h\"\n\n@interface ViewController ()\n    @property UIView *testView;\n@end\n\n@implementation ViewController\n\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    _testView =  [[UIView alloc]init];\n    [_testView setFrame:CGRectMake(20, 100, self.view.bounds.size.width - 40, 100)];\n    [_testView setBackgroundColor:[UIColor greenColor]];\n    [self.view addSubview:_testView];\n}\n\n- (void)viewDidAppear:(BOOL)animated {\n    [super viewDidAppear:animated];\n    //just delaying it so you can see the start position\n    double delayInSeconds = 2.0;\n    dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds * NSEC_PER_SEC);\n    dispatch_after(popTime, dispatch_get_main_queue(), ^(void){\n        //code to be executed on the main queue after delay\n        self.testView.transform = CGAffineTransformConcat(CGAffineTransformMakeScale(0.94, 0.94), CGAffineTransformMakeTranslation(0, 10));\n        self.testView.alpha = 0;\n        [UIView animateWithDuration:1 delay:2 options:(UIViewAnimationOptionCurveEaseInOut) animations:^{\n            self.testView.transform=CGAffineTransformIdentity;//This pops the view up\n            self.testView.alpha = 1;\n\n        } completion:^(BOOL finished) {\n\n        }];\n\n    });\n}\n\n\n@end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 935, "user_id": 3983419, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/ewYUS.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3983419/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1539382607, "creation_date": 1539382607, "answer_id": 52787659, "question_id": 52764214, "link": "https://stackoverflow.com/questions/52764214/how-to-perform-a-transformation-and-frame-change-on-a-uiview/52787659#52787659", "title": "How to perform a Transformation and Frame Change on a UIView", "body": "<p>Thanks to @agibson007\nThis was the final effect I was looking for:</p>\n\n<pre><code>[view setFrame:CGRectMake(8, 10, WIDTH-16, height)];\nview.transform = CGAffineTransformConcat(CGAffineTransformMakeScale(0.94, 0.94), CGAffineTransformMakeTranslation(0, -height));\n\n\n[UIView animateWithDuration:0.2f delay:0 options:(UIViewAnimationOptionCurveEaseInOut) animations:^{\n    view.transform = CGAffineTransformConcat(CGAffineTransformMakeScale(0.94, 0.94), CGAffineTransformMakeTranslation(0, 0));\n}completion:^(BOOL finished) {\n    [UIView animateWithDuration:0.2f delay:0 options:(UIViewAnimationOptionCurveEaseInOut) animations:^{\n        view.transform=CGAffineTransformIdentity;\n    }];\n}];\n</code></pre>\n"}], "owner": {"reputation": 935, "user_id": 3983419, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/ewYUS.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/3983419/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1631, "favorite_count": 0, "accepted_answer_id": 52764688, "answer_count": 2, "score": 0, "last_activity_date": 1539382607, "creation_date": 1539273006, "question_id": 52764214, "link": "https://stackoverflow.com/questions/52764214/how-to-perform-a-transformation-and-frame-change-on-a-uiview", "title": "How to perform a Transformation and Frame Change on a UIView", "body": "<p>I am trying to create an animation where the view looks like it pops up to you. 'Animation Option 1' is exactly how I want the effect to look but performing a transformation before the frame change, messes up the frame (after <code>view.transform=CGAffineTransformIdentity;</code> the views frame does not match the original size). 'Animation Option 2' is kind of the idea but looks bad. Any idea how I can make a transformation and change the views frame?</p>\n\n<pre><code>//ANIMATION OPTION 1\nCGRect frame=view.frame;\nview.transform=CGAffineTransformMakeScale(0.94f, 0.94f);\n\nframe.origin.y=10.0f; //The view is originally off screen, this is to show\n[UIView animateWithDuration:0.2f animations:^{\n    [view setFrame:frame];\n}completion:^(BOOL finished){\n    [UIView animateWithDuration:0.2f animations:^{\n        view.transform=CGAffineTransformIdentity;//This pops the view up\n    }];\n}];\n\n\n\n//ANIMATION OPTION 2\nCGRect frame=view.frame;\nframe.size.width=296;\nframe.size.height=296;\nframe.origin.x=8;\nframe.origin.y=8;\n\n[UIView animateWithDuration:0.2f animations:^{\n    [view setFrame:frame];\n}completion:^(BOOL finished){\n     CGRect frame=view.frame;\n     frame.size.width=300;\n     frame.size.height=300;\n     frame.origin.x=10;\n     frame.origin.y=10;\n    [UIView animateWithDuration:0.2f animations:^{\n        [view setFrame:frame];\n    }];\n}];\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "uiappearance"], "owner": {"reputation": 811, "user_id": 437004, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ead64f9339fd0d584a9c2de3fa0f1e40?s=128&d=identicon&r=PG", "display_name": "Iv&#225;n Peralta", "link": "https://stackoverflow.com/users/437004/iv%c3%a1n-peralta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539272275, "creation_date": 1539272275, "question_id": 52763979, "link": "https://stackoverflow.com/questions/52763979/uinavigationitem-appearance-inconsistency", "title": "UINavigationItem appearance inconsistency", "body": "<p>By default in our app we have the the following appearance for the UINavigationBarItems</p>\n\n<pre><code>NSDictionary *atts = [NSDictionary dictionaryWithObjectsAndKeys: [UIColor clearColor], NSForegroundColorAttributeName, nil];\n[[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateNormal];\n[[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateHighlighted];\n</code></pre>\n\n<p>Basically we set the title transparent.</p>\n\n<p>That affects to the potential integration with other components, like the UIImagePicker, but basically we roll back this appearance when we display the image picker.</p>\n\n<pre><code>NSDictionary *atts = [NSDictionary dictionaryWithObjectsAndKeys: [UIColor darkGrayColor], NSForegroundColorAttributeName, nil];\n[[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateNormal];\n[[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateHighlighted];\n</code></pre>\n\n<p>But if in a UITextView we have a link or an e-mail, and with a 3D touch the system display a menu for Send a Message, or Add to Contacts, the app appear with the transparent buttons, making the usability poor.</p>\n\n<p><strong>Workaround 1</strong></p>\n\n<p>We detect in the viewWillDisappear if the view has been pop, or is just hidden because another component (image picker, add contact, sms ...) </p>\n\n<pre><code>- (void) viewWillDisappear:(BOOL)animated {\n    BOOL isBeingRemoved = [self isMovingFromParentViewController] || self.isBeingDismissed;\n    if (isBeingRemoved) {\n        // Hidding the UINavigationBarItem title\n        NSDictionary *atts = [NSDictionary dictionaryWithObjectsAndKeys: [UIColor clearColor], NSForegroundColorAttributeName, nil];\n       [[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateNormal];\n       [[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateHighlighted];\n\n    } else {\n        // Make visible the UINavigationBarItem title\n        NSDictionary *atts = [NSDictionary dictionaryWithObjectsAndKeys: [UIColor darkGrayColor], NSForegroundColorAttributeName, nil];\n       [[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateNormal];\n       [[UIBarButtonItem appearance] setTitleTextAttributes:atts forState:UIControlStateHighlighted];\n    }\n    [super viewWillDisappear:animated];\n}\n</code></pre>\n\n<p>But by doing this, the application appearance is updated, and the app title is no longer transparent. </p>\n\n<p><strong>Workaround 2</strong></p>\n\n<p>We tried to apply the transparent in viewWillAppear and to darkGray in viewWillDisappear, and works for the image picker, but not for the rest of the applications.</p>\n\n<p><strong>Workaround 3</strong></p>\n\n<p>We tried also to set the darkGrayColor without using the appearance in the viewWillDisappear, but didn't work.</p>\n\n<pre><code>self.navigationcontroller.navigationbar.titletextattributes\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["ios", "objective-c", "xcode", "grand-central-dispatch", "objective-c-blocks"], "comments": [{"owner": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1539269791, "post_id": 52762960, "comment_id": 92449361, "body": "Are you sure you didn&#39;t miss any bracket or have an unwanted return statement, it is difficult to tell with what you have posted."}, {"owner": {"reputation": 177, "user_id": 792853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536deadc862a1d1e7f712fc4ce799aa8?s=128&d=identicon&r=PG", "display_name": "mgray88", "link": "https://stackoverflow.com/users/792853/mgray88"}, "reply_to_user": {"reputation": 10632, "user_id": 3695849, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6328596740b816249439503ae5d9c032?s=128&d=identicon&r=PG&f=1", "display_name": "Teja Nandamuri", "link": "https://stackoverflow.com/users/3695849/teja-nandamuri"}, "edited": false, "score": 0, "creation_date": 1539270332, "post_id": 52762960, "comment_id": 92449704, "body": "@TejaNandamuri Yea there was an unwanted return statement. It just wasn&#39;t clear to me what the issue was. This is only week two for me with Objective-C :)"}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 792853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536deadc862a1d1e7f712fc4ce799aa8?s=128&d=identicon&r=PG", "display_name": "mgray88", "link": "https://stackoverflow.com/users/792853/mgray88"}, "is_accepted": false, "score": -1, "last_activity_date": 1539269769, "creation_date": 1539269769, "answer_id": 52763186, "question_id": 52762960, "link": "https://stackoverflow.com/questions/52762960/xcode-fails-to-recognize-dispatch-once-block-as-correct/52763186#52763186", "title": "Xcode fails to recognize dispatch_once block as correct", "body": "<p>Upon further inspection, there was an instance in the block where I had <code>return nil;</code> (I had added the dispatch code retroactively)</p>\n\n<p>Because of that return statement XCode assumed the block had a <code>void *</code> return type which didn't match the expected block signature for <code>dispatch_once</code>, hence the error at the beginning of the block instead of where the problem was.</p>\n"}], "owner": {"reputation": 177, "user_id": 792853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536deadc862a1d1e7f712fc4ce799aa8?s=128&d=identicon&r=PG", "display_name": "mgray88", "link": "https://stackoverflow.com/users/792853/mgray88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1540176297, "creation_date": 1539269176, "last_edit_date": 1540176297, "question_id": 52762960, "link": "https://stackoverflow.com/questions/52762960/xcode-fails-to-recognize-dispatch-once-block-as-correct", "title": "Xcode fails to recognize dispatch_once block as correct", "body": "<p>I'm using this common code style in multiple different places throughout my codebase, however in one location, Xcode all of a sudden doesn't like it:</p>\n\n<pre><code>static dispatch_once_t once;\ndispatch_once(&amp;once, ^{\n    ...\n});\n</code></pre>\n\n<p>It shows the following error:</p>\n\n<pre><code>Incompatible block pointer types passing 'void *(^)(void)' to parameter of type 'dispatch_block_t _Nonnull' (aka 'void (^)(void)')\n</code></pre>\n\n<p>The style is exactly the same as in other parts of the code, so I'm kind of at a loss as to what exactly is the issue here.</p>\n\n<p>It also has the following error at the closing brace of the block:</p>\n\n<pre><code>Control may reach end of non-void block\n</code></pre>\n"}, {"tags": ["ios", "objective-c", "icloud", "game-center", "gamekit"], "owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539362944, "creation_date": 1539264400, "last_edit_date": 1539362944, "question_id": 52761246, "link": "https://stackoverflow.com/questions/52761246/error-domain-gkerrordomain-code-17-the-requested-operations-could-not-be-comple", "title": "Error Domain=GKErrorDomain Code=17 &quot;The requested operations could not be completed because one or more parameters are invalid.&quot;", "body": "<p>In my iOS game I try to upload the saved game of my player into the iCloud to sync the process between all Apple devices like so:</p>\n\n<pre><code>[[GKLocalPlayer localPlayer] saveGameData:[[mySerializedData dataUsingEncoding:kCFStringEncodingUTF16BE] withName:@\"main\" completionHandler:^(GKSavedGame * _Nullable savedGame __unused, NSError * _Nullable error) {\n    if(error == nil)\n    {\n        ret = true;\n    }\n    else\n    {\n        ret = false;\n        NSLog(@\"Failed to upload saved game data: %@\", error.description);\n    }\n}];\n</code></pre>\n\n<p>However, it logs: </p>\n\n<blockquote>\n  <p>Failed to upload saved game data: Error Domain=GKErrorDomain Code=17 \"The requested operations could not be completed because one or more parameters are invalid.\" UserInfo={NSLocalizedDescription=The requested operations could not be completed because one or more parameters are invalid.}</p>\n</blockquote>\n\n<p>If I understand correctly, it will use the iCloud-Container to store the saved game, so I made sure this is set up, properly:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xYESM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xYESM.png\" alt=\"Illustrating the iCloud settings of the project\"></a></p>\n\n<p>I can already log into the Game-Center on game start, I can also upload scores to my leaderboard as well as opening the leaderboard, so the user should be authorised. </p>\n\n<p>How can I upload the saved game to the iCloud?</p>\n"}, {"tags": ["ios", "objective-c", "uiimage", "pdf-generation"], "comments": [{"owner": {"reputation": 164, "user_id": 2667913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17488e9d533b04e1f3b72d6f20bee57c?s=128&d=identicon&r=PG", "display_name": "ankit", "link": "https://stackoverflow.com/users/2667913/ankit"}, "edited": false, "score": 0, "creation_date": 1539261712, "post_id": 52760331, "comment_id": 92443693, "body": "Can you add the code of how you are converting it into PDF?"}, {"owner": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "reply_to_user": {"reputation": 164, "user_id": 2667913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17488e9d533b04e1f3b72d6f20bee57c?s=128&d=identicon&r=PG", "display_name": "ankit", "link": "https://stackoverflow.com/users/2667913/ankit"}, "edited": false, "score": 0, "creation_date": 1539261764, "post_id": 52760331, "comment_id": 92443734, "body": "@ankit UIGraphicsBeginPDFPageWithInfo(CGRectMake(0, 0, 612, 880), nil); via this"}], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "edited": false, "score": 0, "creation_date": 1539262711, "post_id": 52760416, "comment_id": 92444311, "body": "tried but when drawinrect with 100*100 image for streched because it is not possible to [imageview drawInRect  only [imageview.image drawInRect possible"}], "tags": [], "owner": {"reputation": 164, "user_id": 2667913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17488e9d533b04e1f3b72d6f20bee57c?s=128&d=identicon&r=PG", "display_name": "ankit", "link": "https://stackoverflow.com/users/2667913/ankit"}, "is_accepted": false, "score": 0, "last_activity_date": 1539261919, "creation_date": 1539261919, "answer_id": 52760416, "question_id": 52760331, "link": "https://stackoverflow.com/questions/52760331/make-uiimage-aspectfit/52760416#52760416", "title": "make UIImage AspectFit?", "body": "<p>This is what you need to do. It will maintain the aspect ratio of whatever you want to add in a block. </p>\n\n<p>Calculate the size of the image and then add in the CGRect.</p>\n\n<p><code>CGRect AVMakeRectWithAspectRatioInsideRect(CGSize aspectRatio, CGRect boundingRect);</code></p>\n\n<p>For more information check this <a href=\"https://developer.apple.com/documentation/avfoundation/1390116-avmakerectwithaspectratioinsider\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}, {"comments": [{"owner": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "edited": false, "score": 0, "creation_date": 1539686337, "post_id": 52833104, "comment_id": 92583110, "body": "UIImageview is not needed. I want with UIImage."}, {"owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "reply_to_user": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "edited": false, "score": 0, "creation_date": 1539700460, "post_id": 52833104, "comment_id": 92591939, "body": "check with this link: <a href=\"https://stackoverflow.com/questions/17882567/fitting-a-uiimage-in-uiimageview\" title=\"fitting a uiimage in uiimageview\">stackoverflow.com/questions/17882567/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "is_accepted": false, "score": 0, "last_activity_date": 1539684729, "creation_date": 1539684729, "answer_id": 52833104, "question_id": 52760331, "link": "https://stackoverflow.com/questions/52760331/make-uiimage-aspectfit/52833104#52833104", "title": "make UIImage AspectFit?", "body": "<p>you can try to set contentmode of your imageview , where the content of view(image) changes when views bound changes</p>\n\n<p>for ex:\nimageView.contentMode = UIViewContentModeScaleAspectFit;</p>\n\n<p>Refer:\ncontentmode in apple documentation</p>\n"}], "owner": {"reputation": 737, "user_id": 3388012, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/AFHLR.jpg?s=128&g=1", "display_name": "Rushi trivedi", "link": "https://stackoverflow.com/users/3388012/rushi-trivedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539684729, "creation_date": 1539261621, "question_id": 52760331, "link": "https://stackoverflow.com/questions/52760331/make-uiimage-aspectfit", "title": "make UIImage AspectFit?", "body": "<p>I am generating PDF with image and problem is that </p>\n\n<pre><code> [imageview.image drawInRect:CGRectMake(0, 0, 100, 100)];\n</code></pre>\n\n<p>in generated PDF my image got stretched to size we define in <code>CGRectMake</code>  so how can my image set to Aspect Fit not UIImageView ?</p>\n\n<p>my size is fixed 100*100 in PDF but image need to aspectFit</p>\n\n<p>Any help ?</p>\n"}, {"tags": ["ios", "objective-c", "icloud", "game-center", "gamekit"], "answers": [{"tags": [], "owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "is_accepted": true, "score": 0, "last_activity_date": 1540396265, "creation_date": 1540396265, "answer_id": 52973229, "question_id": 52759613, "link": "https://stackoverflow.com/questions/52759613/how-to-update-gksavedgames-description/52973229#52973229", "title": "How to update GKSavedGame&#39;s description?", "body": "<p>The answer is it's impossible. Apple uses the description field for some metadata that is generated on save like the timestamp in a human readable form. They do not support supplying an own description for the saved game.</p>\n"}], "owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 52973229, "answer_count": 1, "score": 1, "last_activity_date": 1540396265, "creation_date": 1539259354, "question_id": 52759613, "link": "https://stackoverflow.com/questions/52759613/how-to-update-gksavedgames-description", "title": "How to update GKSavedGame&#39;s description?", "body": "<p>I'm trying to implement the Saved Games feature of GameKit (Game-Center) in my iOS game. Inspecting the GKSavedGame class reveals that there is a description field which is not documented. </p>\n\n<pre><code>[[GKLocalPlayer localPlayer] fetchSavedGamesWithCompletionHandler:^(NSArray&lt;GKSavedGame *&gt; * _Nullable savedGames, NSError * _Nullable error) {\n    if(error == nil)\n    {\n        for(GKSavedGame *savedGame in savedGames) {\n            NSLog(@\"Name: %@\", savedGame.name);\n            NSLog(@\"Description: %@\", savedGame.description);\n            NSLog(@\"Unix Timestamp: %@\", [NSString stringWithFormat: @\"%f\", savedGame.modificationDate.timeIntervalSince1970]);\n        }\n    }\n    else\n    {\n        NSLog(@\"Failed to download saved games metadata: %@\", error.description);\n    }\n    downloadSavedGamesMetadataWait = false;\n}];\n</code></pre>\n\n<p>I think this is how it's done. </p>\n\n<p>Now I'm looking over possibilities to save game data and I found the <a href=\"https://developer.apple.com/documentation/gamekit/gklocalplayer/1520527-savegamedata\" rel=\"nofollow noreferrer\">saveGameData function on the localPlayer object</a>, but it does not allow to pass a new description to it. </p>\n\n<p>How can I update the description, either?</p>\n"}, {"tags": ["ios", "objective-c", "sqlite", "where-clause"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1539274555, "post_id": 52758127, "comment_id": 92452106, "body": "Redesigning your database so it&#39;s properly normalized with each row referring to a single <code>(id, room)</code> pair would be the best solution. Read up on many-to-many relations."}], "answers": [{"comments": [{"owner": {"reputation": 955, "user_id": 4947414, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b43ce9b3a711509658f3718a269f77c5?s=128&d=identicon&r=PG&f=1", "display_name": "User_1191", "link": "https://stackoverflow.com/users/4947414/user-1191"}, "edited": false, "score": 0, "creation_date": 1539257963, "post_id": 52758713, "comment_id": 92441298, "body": "This will not work 100% in case i have roomId like 1210 OR 11210."}, {"owner": {"reputation": 303, "user_id": 7397508, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d2afd489e7d5346fc5675872227a540c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/7397508/jay-patel"}, "reply_to_user": {"reputation": 955, "user_id": 4947414, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b43ce9b3a711509658f3718a269f77c5?s=128&d=identicon&r=PG&f=1", "display_name": "User_1191", "link": "https://stackoverflow.com/users/4947414/user-1191"}, "edited": false, "score": 0, "creation_date": 1539259820, "post_id": 52758713, "comment_id": 92442510, "body": "Another way is get all record with this like query and when you map your data to object that time manually compare it if it&#39;s contain what you want or not."}], "tags": [], "owner": {"reputation": 303, "user_id": 7397508, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d2afd489e7d5346fc5675872227a540c?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/7397508/jay-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1539256582, "creation_date": 1539256582, "answer_id": 52758713, "question_id": 52758127, "link": "https://stackoverflow.com/questions/52758127/iosobjective-c-sqlite-query-to-get-records-which-has-comma-separator-values-i/52758713#52758713", "title": "iOS:Objective C - Sqlite query to get records which has comma separator values in where clause", "body": "<p>This Should be working</p>\n\n<blockquote>\n  <p>select * from RoomTable where RoomTable.roomID like '%121%'</p>\n</blockquote>\n\n<p>As you can see in Image. And Please show your code also to know more about issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/18DoT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/18DoT.png\" alt=\"RoomTable\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gX4ZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gX4ZI.png\" alt=\"Query\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 1, "creation_date": 1539275155, "post_id": 52760391, "comment_id": 92452388, "body": "The keyword is <code>REGEXP</code> not <code>REGEX</code> and it&#39;s not supported out of the box. An extension or language bindings or a program has to supply a user defined function by that name that does the matching."}], "tags": [], "owner": {"reputation": 43714, "user_id": 6257435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17fcf85ee49b22ea9e5fd5f5e5a49ec3?s=128&d=identicon&r=PG&f=1", "display_name": "DonMag", "link": "https://stackoverflow.com/users/6257435/donmag"}, "is_accepted": false, "score": 0, "last_activity_date": 1539275518, "last_edit_date": 1539275518, "creation_date": 1539261852, "answer_id": 52760391, "question_id": 52758127, "link": "https://stackoverflow.com/questions/52758127/iosobjective-c-sqlite-query-to-get-records-which-has-comma-separator-values-i/52760391#52760391", "title": "iOS:Objective C - Sqlite query to get records which has comma separator values in where clause", "body": "<p>I don't have a project set up with SQLite, but quick searching shows it supports RegEx (Regular Expressions).</p>\n\n<p>You can give this a try:</p>\n\n<pre><code>select ID,RoomNo from RoomTable WHERE RoomNo REGEXP '(?&lt;!\\d)(121)(?!\\d)'\n</code></pre>\n\n<p>That says: all records where RoomNo contains 121 <em>not</em> preceded (negative look-behind) or followed (negative look-ahead) by a DIGIT, so it <em>doesn't</em> match <code>1121</code> or <code>1210</code>, but it <em>will</em> match <code>121,</code> or <code>, 121</code> or <code>121</code> by itself.</p>\n\n<p>Here is a RegEx tester of that <a href=\"https://regex101.com/r/aS8jQ8/27\" rel=\"nofollow noreferrer\">https://regex101.com/r/aS8jQ8/27</a></p>\n\n<p><strong>Edit:</strong> As noted by \"Shawn\", this will not work \"out of the box.\" And, I don't know if a REGEXP function can be supplied in iOS.</p>\n"}, {"tags": [], "owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1539282262, "creation_date": 1539282262, "answer_id": 52766686, "question_id": 52758127, "link": "https://stackoverflow.com/questions/52758127/iosobjective-c-sqlite-query-to-get-records-which-has-comma-separator-values-i/52766686#52766686", "title": "iOS:Objective C - Sqlite query to get records which has comma separator values in where clause", "body": "<p>Like I mentioned in an earlier comment, the best way to do this is with a proper database design - instead of a row like <code>(11, '12,121,20')</code>, have three rows <code>(11,12)</code>, <code>(11,121)</code>, and <code>(11,20)</code> so a simple <code>WHERE roomno = 121</code> can be used. Storing your data in a way that the RDBMS is designed to work with is so much easier than what you're doing, which is trying to force a square peg into a round hole.</p>\n\n<p>However, if you can't fix your data for some reason... a comma separated list of numbers is <em>very</em> close to a JSON array of numbers, and sqlite has <a href=\"https://www.sqlite.org/json1.html\" rel=\"nofollow noreferrer\">decent support</a> for working with JSON...</p>\n\n<p>So, given this table:</p>\n\n<pre><code>CREATE TABLE rooms(id INTEGER, roomno TEXT);\nINSERT INTO rooms VALUES (9, '108'), (11, '12,121,205'), (12, '12,205')\n                       , (16, '121'), (17, '121,205'), (20, '205');\n</code></pre>\n\n<p>this query</p>\n\n<pre><code>SELECT *\nFROM rooms AS r\nWHERE 121 IN (SELECT j.value FROM json_each('[' || r.roomno || ']') AS j)\nORDER BY id\n</code></pre>\n\n<p>gives you</p>\n\n<pre><code>id          roomno    \n----------  ----------\n11          12,121,205\n16          121       \n17          121,205  \n</code></pre>\n"}], "owner": {"reputation": 955, "user_id": 4947414, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/b43ce9b3a711509658f3718a269f77c5?s=128&d=identicon&r=PG&f=1", "display_name": "User_1191", "link": "https://stackoverflow.com/users/4947414/user-1191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1539282262, "creation_date": 1539254749, "question_id": 52758127, "link": "https://stackoverflow.com/questions/52758127/iosobjective-c-sqlite-query-to-get-records-which-has-comma-separator-values-i", "title": "iOS:Objective C - Sqlite query to get records which has comma separator values in where clause", "body": "<p>In my database I have records which have a column with comma separated values like below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0utK8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0utK8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want those records which has <code>RoomNo = 121</code> only.</p>\n\n<p>If I use query </p>\n\n<p><code>select ID,RoomNo from RoomTable WHERE RoomNo = 121</code></p>\n\n<p>OR</p>\n\n<p><code>select ID,RoomNo from RoomTable WHERE RoomNo LIKE '%121%'</code></p>\n\n<p>It only returns one record:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rdO24.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rdO24.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I want row no 8, 10, 11 in output. I tried with <code>SET, regexp</code> also but no luck.</p>\n\n<p>Please suggest.</p>\n\n<p>Thank you. </p>\n"}, {"tags": ["objective-c", "uitableview"], "comments": [{"owner": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1539263625, "post_id": 52757955, "comment_id": 92444913, "body": "I think You are getting table data in ViewDidload method and reloading table view in viewDidLoad. So get the array in separate method and call that method after 0.1 seconds from viewDidLoad and reload it."}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "reply_to_user": {"reputation": 247, "user_id": 5851273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a459fe6e005cde05830d09f7abddb6c5?s=128&d=identicon&r=PG&f=1", "display_name": "phani", "link": "https://stackoverflow.com/users/5851273/phani"}, "edited": false, "score": 0, "creation_date": 1539265620, "post_id": 52757955, "comment_id": 92446277, "body": "I send a get request.  When the request come back and handle I call reloadData. I call it in a separate method."}, {"owner": {"reputation": 430, "user_id": 8385972, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7yD52kzsJpg/AAAAAAAAAAI/AAAAAAAAAcs/ewhOlBx5nqg/photo.jpg?sz=128", "display_name": "Chirag Kothiya", "link": "https://stackoverflow.com/users/8385972/chirag-kothiya"}, "edited": false, "score": 0, "creation_date": 1539320337, "post_id": 52757955, "comment_id": 92466971, "body": "Change estimatedHeightForRowAtIndexPath 100 to UITableViewAutomaticDimension"}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539495401, "post_id": 52757955, "comment_id": 92518776, "body": "You use UITableViewAutomaticDimension when you want to tell the cell the height is not calculated yet, and it should use with heightForRowAtIndexPath. estimatedHeightForRowAtIndexPath you need to put the estimated height &quot;not correct once&quot; so it will not change."}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539495508, "post_id": 52764970, "comment_id": 92518791, "body": "estimatedHeightForRowAtIndexPath you use it to put the estimated height &quot;not correct once&quot; so it will return the same."}, {"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "reply_to_user": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539497551, "post_id": 52764970, "comment_id": 92519094, "body": "How about reload tableView in viewDidLoad? After init all items redraw tableView again at the last time."}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539501379, "post_id": 52764970, "comment_id": 92519685, "body": "I used it. and i use function <b>reloadRowsAtIndexPaths</b> in dequeueReusableCell Before i return cell. But still give me the same result :( ."}, {"owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "reply_to_user": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 1, "creation_date": 1539525202, "post_id": 52764970, "comment_id": 92525125, "body": "How did you use  dequeueReusableCell?? And also try this. Before return your cell, call cell.layoutIfNeeded() in cellForRowAtIndexPath"}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539528666, "post_id": 52764970, "comment_id": 92526126, "body": "- (nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath {     UserCell *cell = (UserCell *)[self.tableView dequeueReusableCellWithIdentifier:@&quot;userCell&quot;];     // define user     User *user = [[User alloc]init];     // if there is no data     if (self.users.count == 0) {         return cell;     }      user = self.users[indexPath.row];          // define new cell of type UserCell     UserCell *userCell = (UserCell *) cell;          // update cell UI     [userCell updateUI:user];          return cell; }"}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539528740, "post_id": 52764970, "comment_id": 92526144, "body": "above the function dequeueRuesableCell. I will try <b>cell.layoutIfNeeded()</b>"}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539528834, "post_id": 52764970, "comment_id": 92526180, "body": "Finally it&#39;s work :D.  And i didnt use ** layoutIfNeeded** function."}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539529242, "post_id": 52764970, "comment_id": 92526300, "body": "thanx bro, hope the best to you ;) ."}], "tags": [], "owner": {"reputation": 273, "user_id": 4963520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e9998e2929e8f310ec264b98adf6f9b?s=128&d=identicon&r=PG&f=1", "display_name": "User18474728", "link": "https://stackoverflow.com/users/4963520/user18474728"}, "is_accepted": false, "score": 0, "last_activity_date": 1539275567, "creation_date": 1539275567, "answer_id": 52764970, "question_id": 52757955, "link": "https://stackoverflow.com/questions/52757955/dynamic-cell-in-uitableview/52764970#52764970", "title": "Dynamic Cell in UITableView", "body": "<p>Try to change estimateHeight number change to bigger number. For exmaple 300. </p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539697309, "post_id": 52833254, "comment_id": 92589824, "body": "I want it dynamic not a fixed height. Estimated used to give approximate not correctly height."}, {"owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "reply_to_user": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539700135, "post_id": 52833254, "comment_id": 92591725, "body": "dynamic means, set height with respective to text size ?"}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539700489, "post_id": 52833254, "comment_id": 92591957, "body": "yup.  You need to use it when you have un estimated height. For example, if you have label and you need to assign to its text a value. And this value might be 3 lines or 5 or just one word. you can use dynamic cell in this case. <b>Dynamic</b> will give cell height from label height. To achieve this   you need to bind the top and bottom of the <b>Label</b> to top and bottom of the <b>cell</b> and give <b>Label numberOfLines = 0</b>"}, {"owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "reply_to_user": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539700780, "post_id": 52833254, "comment_id": 92592123, "body": "have you checked this link: <a href=\"https://stackoverflow.com/questions/37022387/ios-dynamic-height-for-uitableviewcell\" title=\"ios dynamic height for uitableviewcell\">stackoverflow.com/questions/37022387/&hellip;</a>  ?"}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539701455, "post_id": 52833254, "comment_id": 92592580, "body": "Yup. I do it correctly. But i dont know why it wasn&#39;t working. I fixed the problem, the problem is the cell need to reload it after you add content to it."}, {"owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "edited": false, "score": 0, "creation_date": 1539710403, "post_id": 52833254, "comment_id": 92597494, "body": "Yup, Thanks bro."}], "tags": [], "owner": {"reputation": 11, "user_id": 10249070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dad3c942c80d725959495862205a22a?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/10249070/jerry"}, "is_accepted": false, "score": 0, "last_activity_date": 1539685196, "creation_date": 1539685196, "answer_id": 52833254, "question_id": 52757955, "link": "https://stackoverflow.com/questions/52757955/dynamic-cell-in-uitableview/52833254#52833254", "title": "Dynamic Cell in UITableView", "body": "<p>\"The conflict is: When I run the code for the first time there is no dynamic cell and give wrong height.</p>\n\n<p>When I'm scrolling down and return it convert to dynamic cell.\"</p>\n\n<p>--if you want same height on first run and after scrolling the tableview , set the same height value on both delegate functions -> estimatedHeightForRowAtIndexPath, heightForRowAtIndexPath</p>\n"}], "owner": {"reputation": 191, "user_id": 8247919, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351058525008467/picture?type=large", "display_name": "Mohammed Ali Khaled", "link": "https://stackoverflow.com/users/8247919/mohammed-ali-khaled"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539685196, "creation_date": 1539254147, "last_edit_date": 1539256105, "question_id": 52757955, "link": "https://stackoverflow.com/questions/52757955/dynamic-cell-in-uitableview", "title": "Dynamic Cell in UITableView", "body": "<p>I am working on dynamic cell in my <strong>tableView</strong> and give it these two function: </p>\n\n<pre><code>-(CGFloat)tableView:(UITableView *)tableView estimatedHeightForRowAtIndexPath:(NSIndexPath *)indexPath{\n\nreturn 100;\n}\n\n-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{\n\nreturn UITableViewAutomaticDimension;\n}\n</code></pre>\n\n<p>And I pin my label to the top and bottom of the cell.</p>\n\n<p>The conflict is: When I run the code for the first time there is no dynamic cell and give wrong height.</p>\n\n<p>When I'm scrolling down and return it convert to dynamic cell.</p>\n\n<p>I used:<code>[self.tableView reloadRowsAtIndexPaths:rowsToReload withRowAnimation:YES];</code>\nin the function: <code>(nonnull UITableViewCell *)tableView:(nonnull UITableView *)tableView cellForRowAtIndexPath:(nonnull NSIndexPath *)indexPath</code></p>\n\n<p>Can anyone explain what happened to my view?</p>\n\n<p><img src=\"https://i.stack.imgur.com/7naNT.png\" alt=\"Image before scrolling\"></p>\n\n<p><a href=\"https://i.stack.imgur.com/TxtIs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TxtIs.png\" alt=\"Image after scrolling\"></a></p>\n"}, {"tags": ["objective-c", "metal", "metalkit", "metal-performance-shaders"], "comments": [{"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1539273001, "post_id": 52757470, "comment_id": 92451296, "body": "Are you really not setting <code>keypointDataBuffer</code> or <code>keypointCountBuffer</code> before encoding the command? Maybe not relevant, but could break things internally such that the assertion is a &quot;sympathetic&quot; error and misleading. Also, those <code>NSLog()</code> calls can&#39;t work. They need a format string."}, {"owner": {"reputation": 609, "user_id": 1912421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9579e8c7fbefc29faa064d8ff844143d?s=128&d=identicon&r=PG", "display_name": "Enie", "link": "https://stackoverflow.com/users/1912421/enie"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1539276716, "post_id": 52757470, "comment_id": 92453177, "body": "@KenThomases Yes currently I don&#39;t know any better than to assume that both buffers will be initialized by MPS upon calling encode or when committing the commandBuffer, since the docs don&#39;t specify how these buffers should be set and I would not know how large the buffer needs to be. I guess I could set the <code>keypointDataBuffer</code> to the maximum keypoints count that I define in the <code>rangeInfo</code> and try again. Indeed I was expecting maybe getting errors for those logs but I just did not look up how to log MTLBuffers yet."}, {"owner": {"reputation": 609, "user_id": 1912421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9579e8c7fbefc29faa064d8ff844143d?s=128&d=identicon&r=PG", "display_name": "Enie", "link": "https://stackoverflow.com/users/1912421/enie"}, "reply_to_user": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1539279696, "post_id": 52757470, "comment_id": 92454776, "body": "I just saw that I overlooked that the docs state that <code>MPSImageFindKeypoints</code> needs a texture with <code>MTLPixelFormatR8Unorm</code>. So After correcting the images pixel format I indeed run into the error that keypointsDataBuffer may not be null"}, {"owner": {"reputation": 83109, "user_id": 1312143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d64f50f989e564c337a8a8bd653b8e6?s=128&d=identicon&r=PG", "display_name": "Ken Thomases", "link": "https://stackoverflow.com/users/1312143/ken-thomases"}, "edited": false, "score": 0, "creation_date": 1539284215, "post_id": 52757470, "comment_id": 92457020, "body": "In (Objective-)C (as opposed to C++), a method can&#39;t modify a variable passed as an argument unless you pass its <i>address</i>. So, there was no chance that the method would create buffers and set your variables to point to them, given how they&#39;re passed."}], "answers": [{"tags": [], "owner": {"reputation": 609, "user_id": 1912421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9579e8c7fbefc29faa064d8ff844143d?s=128&d=identicon&r=PG", "display_name": "Enie", "link": "https://stackoverflow.com/users/1912421/enie"}, "is_accepted": true, "score": 4, "last_activity_date": 1539504158, "last_edit_date": 1592644375, "creation_date": 1539336805, "answer_id": 52776558, "question_id": 52757470, "link": "https://stackoverflow.com/questions/52757470/how-to-setup-mtltexture-and-mtlbuffers-for-metal-performance-shaders-find-keypoi/52776558#52776558", "title": "How to setup MTLTexture and MTLBuffers for Metal Performance Shaders Find Keypoints", "body": "<p>Finally the code is running and just for completeness sake I thought I should post the whole code as an answer</p>\n<h2>code</h2>\n<pre><code>id&lt;MTLDevice&gt; device = MTLCreateSystemDefaultDevice();\nid&lt;MTLCommandQueue&gt; commandQueue = [device newCommandQueue];\n\n// init textures\nNSDictionary* textureOptions = @{ MTKTextureLoaderOptionSRGB: [[NSNumber alloc] initWithBool:NO] };\nid&lt;MTLTexture&gt; texture = [[[MTKTextureLoader alloc] initWithDevice:device] newTextureWithCGImage:_lopoImage\n                                                                                         options:textureOptions\n                                                                                           error:nil];\nMTLTextureDescriptor *descriptor = [MTLTextureDescriptor texture2DDescriptorWithPixelFormat:(MTLPixelFormatR8Unorm) width:w height:h mipmapped:NO];\ndescriptor.usage = (MTLTextureUsageShaderRead | MTLTextureUsageShaderWrite);\nid&lt;MTLTexture&gt; unormTexture = [device newTextureWithDescriptor:descriptor];\n\n// init arrays and buffers for keypoint finder\nint maxKeypoints = w*h;\nid&lt;MTLBuffer&gt; keypointDataBuffer = [device newBufferWithLength:sizeof(MPSImageKeypointData)*maxKeypoints options:MTLResourceOptionCPUCacheModeWriteCombined];\nid&lt;MTLBuffer&gt; keypointCountBuffer = [device newBufferWithLength:sizeof(int) options:MTLResourceOptionCPUCacheModeWriteCombined];\n\nMTLRegion region = MTLRegionMake2D(0, 0, w, h);\n\n// init colorspace converter\nCGColorSpaceRef srcColorSpace = CGColorSpaceCreateWithName(kCGColorSpaceSRGB);\nCGColorSpaceRef dstColorSpace = CGColorSpaceCreateWithName(kCGColorSpaceLinearGray);\n\nCGColorConversionInfoRef conversionInfo = CGColorConversionInfoCreate(srcColorSpace, dstColorSpace);\nMPSImageConversion *conversion = [[MPSImageConversion alloc] initWithDevice:device\n                                  srcAlpha:(MPSAlphaTypeAlphaIsOne)\n                                 destAlpha:(MPSAlphaTypeNonPremultiplied)\n                           backgroundColor:nil\n                            conversionInfo:conversionInfo];\n\n// init keypoint finder\nMPSImageKeypointRangeInfo rangeInfo = {maxKeypoints,0.75};\nMPSImageFindKeypoints* imageFindKeypoints = [[MPSImageFindKeypoints alloc] initWithDevice:device\n                                                                                     info:&amp;rangeInfo];\n\n// encode command buffer\nid&lt;MTLCommandBuffer&gt; commandBuffer = [commandQueue commandBuffer];\n[conversion encodeToCommandBuffer:commandBuffer sourceTexture:texture destinationTexture:unormTexture];\n[imageFindKeypoints encodeToCommandBuffer:commandBuffer\n                            sourceTexture:unormTexture\n                                  regions:&amp;region\n                          numberOfRegions:1\n                      keypointCountBuffer:keypointCountBuffer\n                keypointCountBufferOffset:0\n                       keypointDataBuffer:keypointDataBuffer\n                 keypointDataBufferOffset:0];\n\n// run command buffer\n[commandBuffer commit];\n[commandBuffer waitUntilCompleted];\n\n// read keypoints\nint count = ((int*)[keypointCountBuffer contents])[0];\nMPSImageKeypointData* keypointDataArray = ((MPSImageKeypointData*)[keypointDataBuffer contents]);\nfor (int i = 0 ; i&lt;count;i++) {\n    simd_ushort2 coordinate = keypointDataArray[i].keypointCoordinate;\n    NSLog(@&quot;color:%f\u00a0| at:(%u,%u)&quot;, keypointDataArray[i].keypointColorValue, coordinate[0], coordinate[1] );\n}\n</code></pre>\n<p>I guess there should be a more clever way to allocate the keypoint buffers with <code>[device newBufferWithBytesNoCopy]</code> so then you would not need to copy the contents back into your allocated arrays. It just didn't figure out to correctly align the buffer.</p>\n<p>Also I should mention that I guess usually you will have a grayscale texture after any kind of feature detection so that the image converting part will not be necessary.</p>\n"}], "owner": {"reputation": 609, "user_id": 1912421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9579e8c7fbefc29faa064d8ff844143d?s=128&d=identicon&r=PG", "display_name": "Enie", "link": "https://stackoverflow.com/users/1912421/enie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "accepted_answer_id": 52776558, "answer_count": 1, "score": 1, "last_activity_date": 1539504158, "creation_date": 1539252585, "last_edit_date": 1539281956, "question_id": 52757470, "link": "https://stackoverflow.com/questions/52757470/how-to-setup-mtltexture-and-mtlbuffers-for-metal-performance-shaders-find-keypoi", "title": "How to setup MTLTexture and MTLBuffers for Metal Performance Shaders Find Keypoints", "body": "<h1>Problem</h1>\n\n<p>I'm trying out the performance shaders for the first time and encountered a runtime problem. The <code>MTLTexture</code> that <code>MTKTextureLoader</code> returns seems to be uncompatible with Metal Performance Shaders' <code>MPSImageFindKeypoints</code> encoder.</p>\n\n<p>The only hint so far that I found is from @warrenm's sample code on MPS that specifies <code>MTKTextureLoaderOptions</code> just like I did. I did not find any other mentions in the docs.</p>\n\n<p>Any help is highly appreciated.</p>\n\n<h1>Error</h1>\n\n<pre><code>/BuildRoot/Library/Caches/com.apple.xbs/Sources/MetalImage/MetalImage-121.0.2/MPSImage/Filters/MPSKeypoint.mm:166: failed assertion `Source 0x282ce8fc0 texture type (80) is unsupported\n</code></pre>\n\n<p>where 0x282ce8fc0 is the <code>MTLTexture</code> from the texture loader.\nAs far as I could see there is no MTLTexture type 80, the enum ranges up to 8 or so (not hex).</p>\n\n<h1>Code</h1>\n\n<pre><code>CGFloat w = CGImageGetWidth(_image);\nCGFloat h = CGImageGetHeight(_image);\nid&lt;MTLDevice&gt; device = MTLCreateSystemDefaultDevice();\nid&lt;MTLCommandQueue&gt; commandQueue = [device newCommandQueue];\n\nNSDictionary* textureOptions = @{ MTKTextureLoaderOptionSRGB: [[NSNumber alloc] initWithBool:NO] };\nid&lt;MTLTexture&gt; texture = [[[MTKTextureLoader alloc] initWithDevice:device] newTextureWithCGImage:_image\n                                                                                         options:textureOptions\n                                                                                           error:nil];\nid&lt;MTLBuffer&gt; keypointDataBuffer;\nid&lt;MTLBuffer&gt; keypointCountBuffer;\n\nMTLRegion region = MTLRegionMake2D(0, 0, w, h);\n\nid&lt;MTLCommandBuffer&gt; commandBuffer = [commandQueue commandBuffer];\nMPSImageKeypointRangeInfo rangeInfo = {100,0.5};\nMPSImageFindKeypoints* imageFindKeypoints = [[MPSImageFindKeypoints alloc] initWithDevice:device\n                                                                                     info:&amp;rangeInfo];\n[imageFindKeypoints encodeToCommandBuffer:commandBuffer\n                            sourceTexture:texture\n                                  regions:&amp;region\n                          numberOfRegions:1\n                      keypointCountBuffer:keypointCountBuffer\n                keypointCountBufferOffset:0\n                       keypointDataBuffer:keypointDataBuffer\n                 keypointDataBufferOffset:0];\n\n[commandBuffer commit];\n\nNSLog(keypointCountBuffer);\nNSLog(keypointDataBuffer);\n</code></pre>\n\n<h1>Edit</h1>\n\n<p>After converting my image to the correct pixel format I am now initialising the buffers like so:</p>\n\n<pre><code>id&lt;MTLBuffer&gt; keypointDataBuffer = [device newBufferWithLength:maxKeypoints*(sizeof(MPSImageKeypointData)) options:MTLResourceOptionCPUCacheModeDefault];\nid&lt;MTLBuffer&gt; keypointCountBuffer = [device newBufferWithLength:sizeof(int) options:MTLResourceOptionCPUCacheModeDefault];\n</code></pre>\n\n<p>There is no error anymore. But how can I reading the contents now?</p>\n\n<p><code>((MPSImageKeypointData*)[keypointDataBuffer contents])[0].keypointCoordinate</code> returns (0,0) for all indexes. Also I don't know how to read the <code>keypointsCountBuffer</code>. The buffer contents converted to an int value show a higher value than the defined maxKeypoints. I don't see where the docs say what kind of format the count buffer has.</p>\n"}, {"tags": ["objective-c", "xcode", "xcode10", "code-completion", "xcode10.1"], "comments": [{"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539252539, "post_id": 52757425, "comment_id": 92438038, "body": "You could file a bug report."}, {"owner": {"reputation": 1376, "user_id": 4225578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9N2NB.jpg?s=128&g=1", "display_name": "Ron Gahlot", "link": "https://stackoverflow.com/users/4225578/ron-gahlot"}, "edited": false, "score": 0, "creation_date": 1539253742, "post_id": 52757425, "comment_id": 92438813, "body": "some time Xcode don&#39;t show suggestion when its is in running mode"}, {"owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "reply_to_user": {"reputation": 1376, "user_id": 4225578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9N2NB.jpg?s=128&g=1", "display_name": "Ron Gahlot", "link": "https://stackoverflow.com/users/4225578/ron-gahlot"}, "edited": false, "score": 0, "creation_date": 1539272267, "post_id": 52757425, "comment_id": 92450886, "body": "@RonGahlot what do u exactly mean by that?"}, {"owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1539272314, "post_id": 52757425, "comment_id": 92450905, "body": "@matt I will. Just wanted to be sure that I&#39;m doing things correctly and had not forgotten something."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 2, "creation_date": 1539274461, "post_id": 52757425, "comment_id": 92452068, "body": "If you\u2019re seeing new behavior, it sounds worth reporting! Code completion is always a bit fragile, so it\u2019s not surprising if something has gone wrong."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 1033528, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/5bfd96fb30d1468d5d189a17175598b3?s=128&d=identicon&r=PG", "display_name": "Gerrit Beuze", "link": "https://stackoverflow.com/users/1033528/gerrit-beuze"}, "is_accepted": false, "score": 1, "last_activity_date": 1544188431, "creation_date": 1544188431, "answer_id": 53670310, "question_id": 52757425, "link": "https://stackoverflow.com/questions/52757425/xcode-10-objective-c-import-filename-completion-not-working/53670310#53670310", "title": "Xcode 10 Objective-C #import filename completion not working", "body": "<p>As \"zhysan\" pointed out on \n<a href=\"https://forums.developer.apple.com/thread/108523\" rel=\"nofollow noreferrer\">https://forums.developer.apple.com/thread/108523</a>\nthis seems to be caused by the new build system.</p>\n\n<p>This works for me: </p>\n\n<p>File -> Project Settings... -> Build system -> Legacy build system.</p>\n"}], "owner": {"reputation": 28915, "user_id": 811405, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aVcPB.jpg?s=128&g=1", "display_name": "Can Poyrazo\u011flu", "link": "https://stackoverflow.com/users/811405/can-poyrazo%c4%9flu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1544188431, "creation_date": 1539252424, "last_edit_date": 1542554581, "question_id": 52757425, "link": "https://stackoverflow.com/questions/52757425/xcode-10-objective-c-import-filename-completion-not-working", "title": "Xcode 10 Objective-C #import filename completion not working", "body": "<p>I've upgraded to Xcode 10 and realized that filename completion in <code>#import</code> statements are not working properly. Here is a small part of my project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MJJ6R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJJ6R.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is what happens when I try to complete a filename:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b6f7Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b6f7Y.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I've restarted my Mac, cleaned build folders, did all the common \"fixes\", though nothing changed.</p>\n\n<p>When I type the filename manually, I don't get any errors, everything compiles correctly, and code completion works perfectly too.</p>\n\n<p>What might be wrong? Is there anything that I can do or is Xcode 10 inherently broken? </p>\n\n<p><strong>UPDATE</strong>: I'm on Xcode 10.1 and it's still broken.</p>\n"}, {"tags": ["ios", "objective-c"], "owner": {"reputation": 371, "user_id": 4706536, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/83e6a6e2aeec1a23372cb63f173f7fd6?s=128&d=identicon&r=PG&f=1", "display_name": "waitianlou", "link": "https://stackoverflow.com/users/4706536/waitianlou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1539253895, "creation_date": 1539248751, "last_edit_date": 1539253895, "question_id": 52756246, "link": "https://stackoverflow.com/questions/52756246/programmatically-get-gpu-usage-in-ios", "title": "Programmatically get GPU usage in iOS", "body": "<p>I find answer about getting CPU usage in iOS and GPU usage in OSX.\nBut Is there any way of getting GPU usage in iOS?</p>\n"}, {"tags": ["objective-c", "swift", "xcode", "xcode10"], "comments": [{"owner": {"reputation": 2503, "user_id": 3212220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa52997a547a366a9e9c320744df3cea?s=128&d=identicon&r=PG", "display_name": "Vahid", "link": "https://stackoverflow.com/users/3212220/vahid"}, "edited": false, "score": 0, "creation_date": 1539245789, "post_id": 52755234, "comment_id": 92433867, "body": "Did you try <code>Product &gt; Clean Build Folder</code> ?"}, {"owner": {"reputation": 7637, "user_id": 2486394, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/208cc771e31adbc2755df9075a6b989e?s=128&d=identicon&r=PG", "display_name": "Sviatoslav Yakymiv", "link": "https://stackoverflow.com/users/2486394/sviatoslav-yakymiv"}, "edited": false, "score": 0, "creation_date": 1539246805, "post_id": 52755234, "comment_id": 92434431, "body": "In addition to Clean, remove Derived Data"}, {"owner": {"reputation": 1, "user_id": 9022249, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w7ErCVWmcz4/AAAAAAAAAAI/AAAAAAAAAXc/TZj73NbCRrU/photo.jpg?sz=128", "display_name": "Sinan \u015eahin", "link": "https://stackoverflow.com/users/9022249/sinan-%c5%9eahin"}, "edited": false, "score": 0, "creation_date": 1539247044, "post_id": 52755234, "comment_id": 92434562, "body": "Yes, I&#39;ve tried them all. I have cleaned before compiling. :/"}, {"owner": {"reputation": 2076, "user_id": 5801208, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/788224107970291/picture?type=large", "display_name": "Abdul Rehman", "link": "https://stackoverflow.com/users/5801208/abdul-rehman"}, "edited": false, "score": 0, "creation_date": 1539249042, "post_id": 52755234, "comment_id": 92435790, "body": "what are you doing which cause this error?  Have you updated you xCode ?"}, {"owner": {"reputation": 1, "user_id": 9022249, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w7ErCVWmcz4/AAAAAAAAAAI/AAAAAAAAAXc/TZj73NbCRrU/photo.jpg?sz=128", "display_name": "Sinan \u015eahin", "link": "https://stackoverflow.com/users/9022249/sinan-%c5%9eahin"}, "edited": false, "score": 0, "creation_date": 1539249420, "post_id": 52755234, "comment_id": 92436044, "body": "I updated xcode from 8.2 to 10 and got this error."}, {"owner": {"reputation": 2988, "user_id": 474868, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xyurG.jpg?s=128&g=1", "display_name": "onnoweb", "link": "https://stackoverflow.com/users/474868/onnoweb"}, "edited": false, "score": 0, "creation_date": 1540241319, "post_id": 52755234, "comment_id": 92784251, "body": "I ran into similar issues with Xcode 10. For me the problem was the new build system in Xcode 10. Switching back to the legacy build system resolved it: Go to File menu -&gt; Workspace settings -&gt; Build system."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 1, "creation_date": 1540328941, "post_id": 52755234, "comment_id": 92823138, "body": "If the problem is solved, give the solution as an answer, not as part of the question."}], "owner": {"reputation": 1, "user_id": 9022249, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w7ErCVWmcz4/AAAAAAAAAAI/AAAAAAAAAXc/TZj73NbCRrU/photo.jpg?sz=128", "display_name": "Sinan \u015eahin", "link": "https://stackoverflow.com/users/9022249/sinan-%c5%9eahin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "closed_date": 1540329090, "answer_count": 0, "score": 0, "last_activity_date": 1540485846, "creation_date": 1539245384, "last_edit_date": 1540485846, "question_id": 52755234, "link": "https://stackoverflow.com/questions/52755234/xcode-10-failed-to-emit-precompiled-header", "closed_reason": "Duplicate", "title": "Xcode 10 - Failed to emit precompiled header", "body": "<p>I updated Xcode from 8.2 to 10. I'm compiling my project but got an error. The error is following below:</p>\n\n<blockquote>\n  <p>failed to emit precompiled header\n  '/Users/sinansahin/Library/Developer/Xcode/DerivedData/Figensoft-ewyiwzpjpphhnkfutoxuqjqprhjj/Build/Intermediates.noindex/PrecompiledHeaders/HQapp-Bridging-Header-swift_4BJERSZMOX4G-clang_1J4YNQK2HM2H2.pch'\n  for bridging header '/Users/sinansahin/Desktop/HQapp - Karakopru\n  Belediyesi/ProjectClasses/ProjectClasses/HQapp-Bridging-Header.h'</p>\n</blockquote>\n\n<p>[SOLVED]</p>\n\n<blockquote>\n  <p><strong>I solved that. I have upgraded pod files and solved that.</strong></p>\n</blockquote>\n"}, {"tags": ["objective-c", "nsuserdefaults", "nsnotificationcenter", "ios12"], "comments": [{"owner": {"reputation": 49517, "user_id": 2998, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/de1c8686d474f502849acbf1d19ac4b7?s=128&d=identicon&r=PG", "display_name": "Stephen Darlington", "link": "https://stackoverflow.com/users/2998/stephen-darlington"}, "edited": false, "score": 0, "creation_date": 1539261022, "post_id": 52754813, "comment_id": 92443213, "body": "What makes you think that&#39;s the code that&#39;s crashing? It looks like a networking error (see the references to <code>CFNetwork</code>)."}, {"owner": {"reputation": 21, "user_id": 9496003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3584bd1e639e004f50fa927b4fd32616?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gunjal", "link": "https://stackoverflow.com/users/9496003/amol-gunjal"}, "reply_to_user": {"reputation": 49517, "user_id": 2998, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/de1c8686d474f502849acbf1d19ac4b7?s=128&d=identicon&r=PG", "display_name": "Stephen Darlington", "link": "https://stackoverflow.com/users/2998/stephen-darlington"}, "edited": false, "score": 0, "creation_date": 1539322221, "post_id": 52754813, "comment_id": 92467538, "body": "@Stephen Darlington, I am sure that this crash is not related to the network issue,That log was for something else I also edited the question."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9496003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3584bd1e639e004f50fa927b4fd32616?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gunjal", "link": "https://stackoverflow.com/users/9496003/amol-gunjal"}, "edited": false, "score": 0, "creation_date": 1539248727, "post_id": 52754900, "comment_id": 92435592, "body": "I am storing custom object in userDefaults by archiving custom class object into NSData. So, we do need that."}, {"owner": {"reputation": 81, "user_id": 2542649, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001324959070/picture?type=large", "display_name": "Utkarsh Joshi", "link": "https://stackoverflow.com/users/2542649/utkarsh-joshi"}, "reply_to_user": {"reputation": 21, "user_id": 9496003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3584bd1e639e004f50fa927b4fd32616?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gunjal", "link": "https://stackoverflow.com/users/9496003/amol-gunjal"}, "edited": false, "score": 0, "creation_date": 1539256953, "post_id": 52754900, "comment_id": 92440715, "body": "In my case i am storing JSON object inside my keychain group like this NSArray* userInfo = [command.arguments objectAtIndex:2];     NSUserDefaults *myDefaults = [[NSUserDefaults alloc]                                   initWithSuiteName:keyChainGroup];     [myDefaults setObject:userInfo forKey:key];"}], "tags": [], "owner": {"reputation": 81, "user_id": 2542649, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001324959070/picture?type=large", "display_name": "Utkarsh Joshi", "link": "https://stackoverflow.com/users/2542649/utkarsh-joshi"}, "is_accepted": false, "score": -2, "last_activity_date": 1539244051, "creation_date": 1539244051, "answer_id": 52754900, "question_id": 52754813, "link": "https://stackoverflow.com/questions/52754813/app-is-crashing-on-nsuserdefaults-setobjectforkey/52754900#52754900", "title": "App is crashing on NSUserDefaults setObject:forKey:", "body": "<pre><code>  NSUserDefaults *myDefaults = [[NSUserDefaults alloc]\n                                  initWithSuiteName:keyChainGroup];\n    [myDefaults setObject:userInfo forKey:key];\n</code></pre>\n\n<p>Try this</p>\n"}, {"comments": [{"owner": {"reputation": 40776, "user_id": 123632, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/edb7a3abe1f768b94f22077d47a08a29?s=128&d=identicon&r=PG", "display_name": "Ashley Mills", "link": "https://stackoverflow.com/users/123632/ashley-mills"}, "edited": false, "score": 1, "creation_date": 1539266598, "post_id": 52759772, "comment_id": 92446995, "body": "Don&#39;t use <code>-[NSUserDefaults synchronize]</code> From Apple&#39;s docs\u2026 <i>&quot; this method is unnecessary and shouldn&#39;t be used.&quot;</i>"}, {"owner": {"reputation": 2049, "user_id": 5230900, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-BlcUtNyrci8/AAAAAAAAAAI/AAAAAAAAA4U/D5W42wzX2K0/photo.jpg?sz=128", "display_name": "saagarjha", "link": "https://stackoverflow.com/users/5230900/saagarjha"}, "edited": false, "score": 2, "creation_date": 1539319402, "post_id": 52759772, "comment_id": 92466721, "body": "\u2026in iOS 12 and later, where it is a no-op. For backwards compatibility you will still need to call this in iOS 11 and below, so it doesn&#39;t hurt to keep it if you are targeting that&#39;s not the latest release."}, {"owner": {"reputation": 21, "user_id": 9496003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3584bd1e639e004f50fa927b4fd32616?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gunjal", "link": "https://stackoverflow.com/users/9496003/amol-gunjal"}, "edited": false, "score": 0, "creation_date": 1539321645, "post_id": 52759772, "comment_id": 92467332, "body": "@Developer1205, I am doing the same thing as you can see in the question."}], "tags": [], "owner": {"reputation": 200, "user_id": 7306261, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7c60c5836a2317e24e1a0bef6c1581bc?s=128&d=identicon&r=PG&f=1", "display_name": "Developer1205", "link": "https://stackoverflow.com/users/7306261/developer1205"}, "is_accepted": false, "score": 1, "last_activity_date": 1539319166, "last_edit_date": 1539319166, "creation_date": 1539259849, "answer_id": 52759772, "question_id": 52754813, "link": "https://stackoverflow.com/questions/52754813/app-is-crashing-on-nsuserdefaults-setobjectforkey/52759772#52759772", "title": "App is crashing on NSUserDefaults setObject:forKey:", "body": "<p>Normally you can use this method for save data\nPost Method:</p>\n\n<pre><code> [[NSUserDefaults standardUserDefaults] setObject:object forKey:@\"somename\"];\n</code></pre>\n\n<p>Get Method:</p>\n\n<pre><code>NSMutableDictionary *dicCover = [[NSUserDefaults standardUserDefaults] valueForKey:@\"somename\"];\n</code></pre>\n\n<p>some time ,dictionary or array or not formatting right way we can use to achive your data like this to use <code>NSUserdefault</code>\nUse Achive:</p>\n\n<pre><code>NSData *data = [NSKeyedArchiver archivedDataWithRootObject:arrayUsers];\n    [[NSUserDefaults standardUserDefaults] setObject:data forKey:@\"somename\"];\n</code></pre>\n\n<p>To get:</p>\n\n<pre><code>NSData *usersData = [[NSUserDefaults standardUserDefaults] valueForKey:@\"somename\"];\n    NSMutableArray *redirectionDic = [NSKeyedUnarchiver unarchiveObjectWithData:usersData];\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9496003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3584bd1e639e004f50fa927b4fd32616?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gunjal", "link": "https://stackoverflow.com/users/9496003/amol-gunjal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1539322564, "creation_date": 1539243691, "last_edit_date": 1539322564, "question_id": 52754813, "link": "https://stackoverflow.com/questions/52754813/app-is-crashing-on-nsuserdefaults-setobjectforkey", "title": "App is crashing on NSUserDefaults setObject:forKey:", "body": "<p>While setting object to NSUserDefaults my App is crashing Randomly in iOS 12.Below is my code where the crash occurs</p>\n\n<pre><code>shared2 = [[NSUserDefaults alloc]initWithSuiteName:@\"group.AppName\"];\n\nNSData *datashare = [NSKeyedArchiver archivedDataWithRootObject:_sharedData];\n\n[shared2 setObject:datashare forKey:@\"dicForToday\"];\n</code></pre>\n\n<p>Not getting any crash logs as it happens randomly</p>\n\n<p>Frequency of this crash is much more on iOS 12.</p>\n"}, {"tags": ["ios", "objective-c"], "comments": [{"owner": {"reputation": 1774, "user_id": 5324042, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e4abab200f97b817a7fdfd771b665ab1?s=128&d=identicon&r=PG&f=1", "display_name": "iOSer", "link": "https://stackoverflow.com/users/5324042/ioser"}, "edited": false, "score": 0, "creation_date": 1539239518, "post_id": 52753516, "comment_id": 92430687, "body": "are you constraining you tool bar bottom to imageview bottom?"}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 9386471, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204141667297404/picture?type=large", "display_name": "Ctibor \u0160eb&#225;k", "link": "https://stackoverflow.com/users/9386471/ctibor-%c5%a0eb%c3%a1k"}, "is_accepted": false, "score": 1, "last_activity_date": 1539239279, "creation_date": 1539239279, "answer_id": 52753606, "question_id": 52753516, "link": "https://stackoverflow.com/questions/52753516/toolbar-position-changing-from-bottom-to-top-of-view-controller/52753606#52753606", "title": "Toolbar position changing from bottom to top of view controller", "body": "<p>I am not entirely sure what the problem is, try to edit your post and give it some love:)</p>\n\n<p>But to me it sounds like you are not dismissing the popout entirely, if it is a UIViewController try:</p>\n\n<pre><code>self.dismiss(animated: true, completion: nil)\n</code></pre>\n\n<p>If you are adding it as a child view try:</p>\n\n<pre><code>yourViewController.willMove(toParentViewController: nil)\nyourViewController.view.removeFromSuperview()\nyourViewController.removeFromParentViewController()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205, "user_id": 1412897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dd4f0021c522506672096a1f12e926?s=128&d=identicon&r=PG", "display_name": "Shweta", "link": "https://stackoverflow.com/users/1412897/shweta"}, "is_accepted": false, "score": 0, "last_activity_date": 1539244125, "last_edit_date": 1539244125, "creation_date": 1539241128, "answer_id": 52754091, "question_id": 52753516, "link": "https://stackoverflow.com/questions/52753516/toolbar-position-changing-from-bottom-to-top-of-view-controller/52754091#52754091", "title": "Toolbar position changing from bottom to top of view controller", "body": "<p>Open your storyboard file.<br>\nSelect toolbar and add <strong>bottom constraints, left constraints, right constraints and height constraints</strong>.<br>\nThen the toolbar will be in place.</p>\n"}], "owner": {"reputation": 13, "user_id": 9059775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbe338a18f380c4616029583f2faaaa8?s=128&d=identicon&r=PG&f=1", "display_name": "sruthy", "link": "https://stackoverflow.com/users/9059775/sruthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539244125, "creation_date": 1539238945, "last_edit_date": 1539239860, "question_id": 52753516, "link": "https://stackoverflow.com/questions/52753516/toolbar-position-changing-from-bottom-to-top-of-view-controller", "title": "Toolbar position changing from bottom to top of view controller", "body": "<p>I am displaying an image on the bottom of which three buttons (Like, Comment and Dislike) are shown on a UIToolBar. When clicked on the button a popup is shown listing the number of comments or like or dislikes. The popup is a xib file, after showing the popup the toolbar is miss placed and is shown on the top of the view controller.Tool bar is miss placed as soon when the popup is shown Please help me on this.</p>\n"}, {"tags": ["ios", "objective-c", "uitableview"], "comments": [{"owner": {"reputation": 5154, "user_id": 771231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElIYF.jpg?s=128&g=1", "display_name": "Desdenova", "link": "https://stackoverflow.com/users/771231/desdenova"}, "edited": false, "score": 0, "creation_date": 1539239818, "post_id": 52753348, "comment_id": 92430822, "body": "Can you clarify how would you have a section without a cell?"}, {"owner": {"reputation": 200, "user_id": 7306261, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7c60c5836a2317e24e1a0bef6c1581bc?s=128&d=identicon&r=PG&f=1", "display_name": "Developer1205", "link": "https://stackoverflow.com/users/7306261/developer1205"}, "edited": false, "score": 0, "creation_date": 1539258960, "post_id": 52753348, "comment_id": 92441979, "body": "where you can reload tableview ?"}, {"owner": {"reputation": 5752, "user_id": 1141395, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/493af2a222d6b2877d3fbb17fe67dc24?s=128&d=identicon&r=PG", "display_name": "Alex Cio", "link": "https://stackoverflow.com/users/1141395/alex-cio"}, "edited": false, "score": 0, "creation_date": 1539273718, "post_id": 52753348, "comment_id": 92451751, "body": "you should add some more details about your code. We can just see how you try to reload but not how you set up the variables and delegates of the TableView"}], "answers": [{"comments": [{"owner": {"reputation": 5752, "user_id": 1141395, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/493af2a222d6b2877d3fbb17fe67dc24?s=128&d=identicon&r=PG", "display_name": "Alex Cio", "link": "https://stackoverflow.com/users/1141395/alex-cio"}, "edited": false, "score": 0, "creation_date": 1539273770, "post_id": 52755174, "comment_id": 92451772, "body": "If this was the answer, it would be nice to add make understand what exactly was the problem."}], "tags": [], "owner": {"reputation": 77, "user_id": 8625999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961daa93719d5e4730c8c4e45cc4ba5f?s=128&d=identicon&r=PG&f=1", "display_name": "loseDream", "link": "https://stackoverflow.com/users/8625999/losedream"}, "is_accepted": false, "score": 0, "last_activity_date": 1539245186, "creation_date": 1539245186, "answer_id": 52755174, "question_id": 52753348, "link": "https://stackoverflow.com/questions/52753348/in-my-table-view-i-have-no-cell-only-section-so-how-can-i-reload-tableview-in-i/52755174#52755174", "title": "In my Table View I have no cell only section so, how can I Reload tableview in ios objective c?", "body": "<p>only section no cell?</p>\n\n<p>I've had similar problems</p>\n\n<p>some request is not finished,you reload it\nyou need wait it finished,</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 10485169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3hZcy.jpg?s=128&g=1", "display_name": "Steven Gurr", "link": "https://stackoverflow.com/users/10485169/steven-gurr"}, "is_accepted": false, "score": 0, "last_activity_date": 1539248789, "creation_date": 1539248789, "answer_id": 52756262, "question_id": 52753348, "link": "https://stackoverflow.com/questions/52753348/in-my-table-view-i-have-no-cell-only-section-so-how-can-i-reload-tableview-in-i/52756262#52756262", "title": "In my Table View I have no cell only section so, how can I Reload tableview in ios objective c?", "body": "<p><code>[self.tableView reloadData]</code> will definitely trigger a reloading of the table view.</p>\n\n<p>I would recommend to check that your <code>self.tableView</code> property is definitely pointing at the <code>UITableView</code> instance (I assume it's an <code>IBOutlet</code> to be joined up in Interface Builder).</p>\n\n<p>You can verify that it is reloading by adding either a breakpoint or a print statement to your <code>numberOfSections</code> and/or <code>numberOfRowsInSection</code> methods in the delegate. It's possible that it is reloading, but doesn't look like it due to a problem with your model.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 9696474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O5tTW.jpg?s=128&g=1", "display_name": "Vegetacoding", "link": "https://stackoverflow.com/users/9696474/vegetacoding"}, "is_accepted": false, "score": 0, "last_activity_date": 1539249648, "creation_date": 1539249648, "answer_id": 52756530, "question_id": 52753348, "link": "https://stackoverflow.com/questions/52753348/in-my-table-view-i-have-no-cell-only-section-so-how-can-i-reload-tableview-in-i/52756530#52756530", "title": "In my Table View I have no cell only section so, how can I Reload tableview in ios objective c?", "body": "<p>This is how I reload the table view. I create a method <strong>reloadTable</strong> </p>\n\n<pre><code>-(void)reloadTable{\n    [self.tableView beginUpdates];\n    [self.tableView endUpdates];\n}\n</code></pre>\n\n<p>and call this method wherever I need it using this code-</p>\n\n<pre><code>[self  reloadTable];\n</code></pre>\n\n<p>for better understanding I'm reloading my table after a button click where I'm changing the constraint constants of table view. This is an example for you to understand it properly-</p>\n\n<pre><code>-(IBAction)addChemical1:(id)sender{\n\n    _ans6Constraint.constant=1500;\n\n    [self  reloadTable];\n}\n</code></pre>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 41, "user_id": 10279072, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-avhLlXXZwA0/AAAAAAAAAAI/AAAAAAAAABE/1sB75tQjQlk/photo.jpg?sz=128", "display_name": "JAY GEDIYA", "link": "https://stackoverflow.com/users/10279072/jay-gediya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1539266007, "creation_date": 1539238241, "last_edit_date": 1539266007, "question_id": 52753348, "link": "https://stackoverflow.com/questions/52753348/in-my-table-view-i-have-no-cell-only-section-so-how-can-i-reload-tableview-in-i", "title": "In my Table View I have no cell only section so, how can I Reload tableview in ios objective c?", "body": "<p>I tried the reload method in TableView </p>\n\n<pre><code>[self.tableview reloadData];\n</code></pre>\n\n<p>and also tried</p>\n\n<pre><code>for (int i = 0; i&lt;self-&gt;allMessageKey.count; i++) {                    \n\n    NSIndexSet *sec = [NSIndexSet indexSetWithIndex:i];\n    [self-&gt;chatTableView beginUpdates];\n\n    //NSIndexPath *section = [NSIndexPath indexPathForRow:NSNotFound inSection:i];\n\n    [self-&gt;chatTableView insertSections:sec withRowAnimation:UITableViewRowAnimationBottom];\n\n    if (i == self-&gt;allMessageKey.count-1)\n    {\n        [self-&gt;chatTableView endUpdates];\n\n        NSIndexPath *ip = [NSIndexPath indexPathForRow:NSNotFound inSection:self-&gt;allMessageKey.count-1];\n\n        [self-&gt;chatTableView scrollToRowAtIndexPath:ip atScrollPosition:UITableViewScrollPositionNone animated:NO];\n    }\n\n}\n</code></pre>\n\n<p>the data didn't reload in tableview. How can I do that?</p>\n"}, {"tags": ["objective-c", "memory-management", "singleton"], "answers": [{"tags": [], "owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "is_accepted": false, "score": 2, "last_activity_date": 1539322881, "last_edit_date": 1592644375, "creation_date": 1539322881, "answer_id": 52772951, "question_id": 52752181, "link": "https://stackoverflow.com/questions/52752181/retain-cycles-with-a-singleton-in-objective-c/52772951#52772951", "title": "Retain cycles with a singleton in Objective-C", "body": "<p>Your description does not mention <code>MyClass</code> but your code fragment does. Going by the code fragment you have methods in <code>MyClass</code> which makes calls to methods in <code>MyManager</code>. These calls directly pass blocks as arguments, without themselves storing references in instance variables to those blocks; you do not show whether <code>MyManager</code> stores references to the blocks it receives in its instance variables but it is reasonable to assume that it does.</p>\n<p>The blocks that are passed use <code>self</code>, which references the instance of <code>MyClass</code> that created the block.</p>\n<p>So from the point within the <code>MyManager</code> methods where they store the revived block references into instance variables you have the following chain of references:</p>\n<blockquote>\n<p><code>shared</code> -&gt; your <code>MyManager</code> instance</p>\n<p>the <code>MyManager</code> instance -&gt; the passed in block</p>\n<p>the passed block -&gt; references the <code>MyClass</code> instance which created it</p>\n</blockquote>\n<p>That's not a reference cycle, so unless you have more inter-object references in your real code you don't have a cycle.</p>\n<p>A <em>reference cycle</em> is not itself bad, they can get created during the course of normal prgogram execution and sometimes might be vital to keep the appropriate objects alive; a cycle may be temporary/of finite lifetime after which at least one of the links in the cycle is broken. A reference cycle only becomes the bad <em>retain cycle</em> when they <em>unintentionally</em> result in object instances living beyond their required lifetime...</p>\n<p>Which finally brings us to your code. You have a <em>shared instance</em> of <code>MyManager</code> which probably lives from its point of creation until your program finishes. In that instance you Store references to blocks, and those blocks Store references to <code>MyClass</code> instances... This is somewhere where you might have an inadvertent &quot;leak&quot;; if your <code>MyManager</code> methods do not erase (store <code>nil</code> into) the instance variables that reference those blocks once those references are no longer required (probably immediately after the referenced block is invoked) then you could have long term unintentional references to <code>MyClass</code> instances that have long been otherwise discarded. Erase those block references once used and the possibility vanishes.</p>\n<p>Hope that all makes sense!</p>\n"}], "owner": {"reputation": 141, "user_id": 3649155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yj4IU.jpg?s=128&g=1", "display_name": "coconata", "link": "https://stackoverflow.com/users/3649155/coconata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539322881, "creation_date": 1539231785, "last_edit_date": 1539250372, "question_id": 52752181, "link": "https://stackoverflow.com/questions/52752181/retain-cycles-with-a-singleton-in-objective-c", "title": "Retain cycles with a singleton in Objective-C", "body": "<p>I have a singleton class named <code>MyManager</code>. I use self inside of its blocks: requestSomeInfo and requestSomeInfoWithString.\nAnd requestSomeInfoWithString method gets self.string as a parameter.\nDoes this code lead to retain cycles in both the blocks? </p>\n\n<p>The project is with ARC.</p>\n\n<pre><code>@interface MyManager : NSObject\n\n+ (instancetype)sharedInstance;\n- (void)requestSomeInfo:(void (^)(BOOL success))completion;\n- (void)requestSomeInfoWithString:(NSString *)string completion:(void (^)(BOOL success))completion;\n\n@end\n\n@implementation MyManager\n\n+ (instancetype)sharedInstance {\n    static MyManager *shared = nil;\n    static dispatch_once_t onceToken;\n    dispatch_once(&amp;onceToken, ^{\n        shared = [MyManager new];\n    });\n    return shared;\n}\n\n@end\n\n\n@interface MyClass\n\n@property string;\n\n@end\n\n@implementation MyClass\n.....\n\n[[MyManager sharedInstance] requestSomeInfo:^(BOOL success) {\nif (success) {\n    [self someAction];\n}\n}];\n\n[[MyManager sharedInstance] requestSomeInfoWithString:self.string completion:^(BOOL success) {\n    if (success) {\n        [self someAction];\n    }\n}];\n\n.....\n@end\n</code></pre>\n"}]